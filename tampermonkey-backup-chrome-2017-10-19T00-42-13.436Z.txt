{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"vipVideos_skipAd","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["https://www.youtube.com/*","http://*.dj92cc.com/*","http://*.yinyuetai.com/*"],"orig_includes":["http*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970020},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/8561-vipvideos-skipad/code/vipVideos_skipAd.user.js","uuid":"04b9ddae-b838-4c53-b22e-c010af953efc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIHZpcFZpZGVvc19za2lwQWQKLy8gQG5hbWVzcGFjZSAgICAgIHZpcFZpZGVvc19za2lwQWQteGluZ2dzZgovLyBAYXV0aG9yICAgICAgICAgeGluZ2dzZgovLyBAZGVzY3JpcHRpb24gICAg6YWN5ZCIQUJQ5Y676KeG6aKR5bm/5ZGK77yb5byA5ZCvR1BV5Yqg6YCfCi8vIHVwZGF0ZVVSTCAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvODU2MS5qcwovLyBAaW5jbHVkZSAgICAgICAgaHR0cCoKLy8gQGV4Y2x1ZGUgICAgICAgIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAgIGh0dHA6Ly8qLmRqOTJjYy5jb20vKgovL+WFqOmdouaUr+aMgemfs+aCpuWPsEhUTUw15pKt5pS+77yM6K+m6KeBIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8xNDU5MwovLyBAZXhjbHVkZSAgICAgICAgaHR0cDovLyoueWlueXVldGFpLmNvbS8qCi8vIEB2ZXJzaW9uICAgICAgICAyMDE3LjA2LjgKLy8gQGVuY29kaW5nICAgICAgIHV0Zi04Ci8vIHJlc291cmNlICAgICAgIHBsYXllcl9zd2YgaHR0cHM6Ly9iaXRidWNrZXQub3JnL2thZmFuMTU1MzY5MDAvaGFvdXRpbC9yYXcvbWFzdGVyL3BsYXllci90ZXN0bW9kL3BsYXllci5zd2YKLy8gQGdyYW50ICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMCi8vIEBncmFudCAgICAgICAgICB1bnNhZmVXaW5kb3cKLy8gPT0vVXNlclNjcmlwdD09CgotZnVuY3Rpb24oZG9jLCBiZCkgewoJInVzZSBzdHJpY3QiOwoJbGV0IGlzRW1iZWQsIHN3ZkFkZHI7Cgljb25zdCBvbmx5VXNlR3B1ID0gZmFsc2UsLy/ku4Xkvb/nlKjohJrmnKznmoRHUFXliqDpgJ/lip/og70KCXJlZ1lrID0gL1ZpZGVvSURTPShcdyspLywKCW5vQWRQbGF5ZXJQYXRoID0gJ2h0dHA6Ly9jb2RlLnRhb2Jhby5vcmcvc3ZuL05vQWRTd2Yvc3dmLycsLy/lj6/loavlhpnmnInmlYjmkq3mlL7lmajlnLDlnYDot6/lvoQo5LiN5YyF5ous5paH5Lu25ZCN77yJaHR0cDovL2hhbGZsaWZlLmNvZGluZy5tZS9zd2YvCglzd2ZXaGl0ZUxpc3QgPSBbCgkJJy5wZGltLmdzL3N0YXRpYy8nLCAvL+eGiueMq+ebtOaSrQoJCSdodHRwOi8vdi42LmNuL2FwcGxlL3BsYXllci8nLAoJCSdodHRwOi8vd3d3Lmdhb3hpYW92b2QuY29tL2NrL3BsYXllci5zd2YnLAoJXSwKCVlvdWt1ID0gewoJCW1hdGNoUGxheWVyOiB1cmwgPT4gL15odHRwOlwvXC9zdGF0aWNcLnlvdWt1XC5jb21cL3YuKj9cL3ZcL3N3ZlwvdXBzcGxheWVyXC8vLnRlc3QodXJsKSwKCQlzZXRQbGF5ZXIocCwgdikgewoJCQlpZiAobG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoJy55b3VrdS5jb20nKSkgewoJCQkJdW5zYWZlV2luZG93LnNlc3Npb25TdG9yYWdlLlBfbF9oNSA9IHRydWU7CgkJCQl1bnNhZmVXaW5kb3cucmVsb2FkKCk7CgkJCX0KCQkJZWxzZSB7CgkJCQlsZXQgbSA9IHYubWF0Y2gocmVnWWspWzFdLAoJCQkJcyA9IGdldFBsYXllclVybCgneW91a3Uuc3dmJyk7CgkJCQlpZiAodHlwZW9mKHMpID09PSdzdHJpbmcnKQoJCQkJCXNldFlrUGxheWVyKHAsIHMsIG0pOwoJCQkJZWxzZSBzLnRoZW4odXJsID0+IHsKCQkJCQlzZXRZa1BsYXllcihwLCB1cmwsIG0pOwoJCQkJCXNldFRpbWVvdXQoKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpLCAzZTMpOwoJCQkJfSkKCQkJCS50aGVuKGNvbnNvbGUubG9nKQoJCQkJLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwoJCQl9CgkJfQoJfSwKCVlrT3V0c2l0ZSA9IHsKCQltYXRjaFBsYXllcjogdXJsID0+IC9eaHR0cDpcL1wvcGxheWVyXC55b3VrdVwuY29tXC9wbGF5ZXJcLnBocFwvc2lkXC8oXHcrKS8udGVzdCh1cmwpLAoJCXNldFBsYXllcihwLCB2KSB7CgkJCWxldCBtID0gUmVnRXhwLiQxOwoJCQlpZiAoIW0pIHsKCQkJCW0gPSBzd2ZBZGRyLm1hdGNoKHJlZ1lrKSB8fCB2Lm1hdGNoKHJlZ1lrKTsKCQkJCW0gPSBtWzFdOwoJCQl9CgoJCQlsZXQgcyA9IGdldFBsYXllclVybCgneW91a3Uuc3dmJyk7CgkJCWlmICh0eXBlb2YocykgPT09ICdzdHJpbmcnKQoJCQkJc2V0WWtQbGF5ZXIocCwgcywgbSk7CgkJCWVsc2UgaWYgKHdpbmRvdy5jaHJvbWUpIHsKCQkJCXMudGhlbih1cmwgPT4gewoJCQkJCXNldFlrUGxheWVyKHAsIHVybCwgbSk7CgkJCQkJc2V0VGltZW91dCgoKSA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCksIDNlMyk7CgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCXNldFlrUGxheWVyKHAsICdodHRwOi8vc3RhdGljLnlvdWt1LmNvbS92MS4wLjA2NTgvdi9zd2YvcGxheWVyLnN3ZicsIG0pOwoJCQl9CgkJfQoJfSwKCUFjZnVuWWsgPSB7CgkJbWF0Y2hQbGF5ZXI6IHVybCA9PiB1cmwudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdodHRwOi8vY2RuLmFpeGlmYW4uY29tL3BsYXllci9jb29wZXJhdGlvbi9hY2Z1bnh5b3VrdS5zd2YnKSwKCQlzZXRQbGF5ZXIocCwgdikgewoJCQlsZXQgbSA9IHYubWF0Y2goL3ZpZD0oXHcrKS8pWzFdOwoKCQkJbGV0IHMgPSBnZXRQbGF5ZXJVcmwoJ3lvdWt1LnN3ZicpOwoJCQlpZiAodHlwZW9mKHMpID09PSAnc3RyaW5nJykKCQkJCXNldFlrUGxheWVyKHAsIHMsIG0pOwoJCQllbHNlIGlmICh3aW5kb3cuY2hyb21lKSB7CgkJCQlzLnRoZW4odXJsID0+IHsKCQkJCQlzZXRZa1BsYXllcihwLCB1cmwsIG0pOwoJCQkJCS8vaWYgKHMuc3RhcnRzV2l0aCgnYmxvYjonKSkKCQkJCQlzZXRUaW1lb3V0KCgpID0+IFVSTC5yZXZva2VPYmplY3RVUkwodXJsKSwgM2UzKTsKCQkJCX0pOwoJCQl9IGVsc2UgewoJCQkJc2V0WWtQbGF5ZXIocCwgJ2h0dHA6Ly9zdGF0aWMueW91a3UuY29tL3YxLjAuMDY1OC92L3N3Zi95b3VrdS5zd2YnLCBtKTsKCQkJfQoJCX0KCX0sCglUdWRvdSA9IHsKCQltYXRjaFBsYXllcjogdXJsID0+IGxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCd0dWRvdS5jb20nKSAmJiB1cmwuc3RhcnRzV2l0aCgnaHR0cDovL3N0YXRpYy55b3VrdS5jb20vdicpLAoJCXNldFBsYXllcihwLCB2KSB7CgkJCWNvbnNvbGUubG9nKGRvYy5kb21haW4pOwoJCQlwLmRhdGEgPSBub0FkUGxheWVyUGF0aCArICd0dWRvdS5zd2YnOwoJCQlvcGVuRmxhc2hHUFUocCk7CgkJfQoJfSwKCUlxaXlpID0gewoJCW1hdGNoUGxheWVyOiB1cmwgPT4gdXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly93d3cuaXFpeWkuY29tL2NvbW1vbi9mbGFzaHBsYXllci8yMDEnKSwKCQlzZXRQbGF5ZXIocCwgdikgewoJCQlwLmRhdGEgPSBub0FkUGxheWVyUGF0aCArICdpcWl5aS5zd2YnOwoJCQlvcGVuRmxhc2hHUFUocCk7CgkJfQoJfSwKCVNvaHUgPSB7CgkJbWF0Y2hQbGF5ZXI6IHVybCA9PiBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ3R2LnNvaHUuY29tJyAmJiB1cmwuc3RhcnRzV2l0aCgnaHR0cDovL3R2LnNvaHUuY29tL3VwbG9hZC9zd2YvJyksCgkJc2V0UGxheWVyKHAsIHYpIHsKCQkJcC5zcmMgPSBub0FkUGxheWVyUGF0aCArICdzb2h1LnN3Zic7CgkJCW9wZW5GbGFzaEdQVShwKTsKCQl9Cgl9OwoKCWZ1bmN0aW9uIHNldFlrUGxheWVyKHAsIHVybCwgdmlkKSB7CgkJcC5vdXRlckhUTUwgPSBgPGVtYmVkIGlkPSIke3AuaWR9IiB3bW9kZT0iZ3B1IiBhbGxvd2Z1bGxzY3JlZW49InRydWUiIHNyYz0iJHt1cmx9IiBhbGxvd3NjcmlwdGFjY2Vzcz0iYWx3YXlzIiB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgd2lkdGg9IiR7cC53aWR0aH0iIGhlaWdodD0iJHtwLmhlaWdodH0iIGZsYXNodmFycz0iaXNTaG93UmVsYXRlZFZpZGVvPWZhbHNlJnNob3dBZD0wJnNob3dfY2U9MCZzaG93c2VhcmNoPTAmVmlkZW9JRFM9JHt2aWR9JmlzQXV0b1BsYXk9dHJ1ZSZ3aW5UeXBlPUJEc2tpbiZUeXBlPVBsYXlMaXN0Ij5gOwoJfQoJZnVuY3Rpb24gZ2V0UGxheWVyVXJsKGZpbGVOYW1lKSB7CgkJaWYgKG5vQWRQbGF5ZXJQYXRoKQoJCQlyZXR1cm4gbm9BZFBsYXllclBhdGggKyBmaWxlTmFtZTsKCQlsZXQgYSwgdXJsID0gR01fZ2V0UmVzb3VyY2VVUkwoZmlsZU5hbWUucmVwbGFjZSgnLicsJ18nKSk7CgkJLy9jb25zb2xlLmxvZyh1cmwpOwovKgoJCWlmICh3aW5kb3cuY2hyb21lKSB7CgkJCS8vIGEgPSB1cmwuc2xpY2UodXJsLmluZGV4T2YoJywnKSsxKTsKCQkJLy8gYSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShhKTsKCQkJLy8gY29uc29sZS5sb2coYSk7CgkJCS8vIGEgPSBuZXcgQmxvYihhLCB7J3R5cGUnOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnfSk7CgkJCS8vIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKGEpOwoJCQkvL3VybCA9IHVybC5yZXBsYWNlKCc6YXBwbGljYXRpb24nLCckJi94LXNob2Nrd2F2ZS1mbGFzaDtjaGFyc2V0PXV0Zi04Jyk7Ly8iZGF0YTphcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaDtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiCgkJCWNvbnNvbGUubG9nKHVybC5zbGljZSgwLDU2KSk7CgkJCS8vcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YVVSTDJCbG9iKGEpKTsKCQl9IGVsc2Ugey8vZmlyZWZveAoJCQlsZXQgYSA9IHsKCQkJCXVybDogdXJsLAoJCQkJbWV0aG9kOiAiR0VUIiwKCQkJCXJlc3BvbnNlVHlwZTogJ2Jsb2InLAoJCQkJc3luY2hyb25vdXM6IHRydWUKCQkJfTsKCQkJYSA9IEdNX3htbGh0dHBSZXF1ZXN0KGEpOwoJCQlpZiAoYS5zdGF0dXMgIT09IDIwMCkgewoJCQkJYWxlcnQoIlVuZXhwZWN0ZWQgc3RhdHVzIGNvZGUgIiArIGEuc3RhdHVzICsgIiBmb3IgIiArIGZpbGVOYW1lKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQlyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihhLnJlc3BvbnNlKSk7CgkJfSAqLwoJCXJldHVybiBmZXRjaCh1cmwpCgkJLy9hbnkgbW9yZSB0eXBlOiByZXMuYXJyYXlCdWZmZXIoKSAgLnRleHQoKSAgLmpzb24oKQoJCQkudGhlbihyZXMgPT4gcmVzLmJsb2IoKSkKCQkJLnRoZW4oZGF0YSA9PiBVUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpKTsKCX0KLyoKCWZ1bmN0aW9uIGRhdGFVUkwyRmlsZShzcmMsIGZpbGVOYW1lLCBtaW1lVHlwZSl7CgkJcmV0dXJuIGZldGNoKHNyYykudGhlbihyZXMgPT4gcmVzLmJsb2IoKSkKCQkJLy8udGhlbihyZXMgPT4gcmVzLmFycmF5QnVmZmVyKCkpCgkJCS8vLnRoZW4oZnVuY3Rpb24oYnVmKXtyZXR1cm4gbmV3IEZpbGUoW2J1Zl0sIGZpbGVOYW1lLCB7dHlwZTptaW1lVHlwZX0pO30pOwoJfQoJZnVuY3Rpb24gZGF0YVVSTDJCbG9iKGRhdGF1cmwpIHsKCQlsZXQgYXJyID0gZGF0YXVybC5zcGxpdCgnLCcpLAoJCW1pbWUgPSBhcnJbMF0ubWF0Y2goLzooLio/KTsvKVsxXSwKCQlic3RyID0gYXRvYihhcnJbMV0pLAoJCW4gPSBic3RyLmxlbmd0aCwKCQlhID0gbmV3IFVpbnQ4QXJyYXkobik7CgkJd2hpbGUobi0tKXsKCQkJYVtuXSA9IGJzdHIuY2hhckNvZGVBdChuKTsKCQl9CgkJcmV0dXJuIG5ldyBCbG9iKGEsIHsndHlwZSc6IG1pbWV9KTsKCX0KCWZ1bmN0aW9uIGluamVjdERPTShyZXBsYWNlQ3NzKSB7CgkJLy8gaWYgKCFjb25maXJtKCfor7fpgInmi6nkuIvovb3nmoRzd2bmkq3mlL7lmajmlofku7bjgILlh4blpIflpb3kuoblkJfvvJ8nKSkKCQkJLy8gcmV0dXJuOwoJCWxldCBzLCBjOwoJCWlmIChyZXBsYWNlQ3NzKSB7CgkJCWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJlcGxhY2VDc3MpOwoJCQlpZiAoIWMpIHJldHVybjsKCQl9IGVsc2UgewoJCQljID0gJEMoJ2RpdicpOwoJCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpOwoJCX0KCQlzID0gJEMoJ3NjcmlwdCcsIHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQiLCAnY2xhc3MnOiJnbVRlbXAifSk7CgkJcy50ZXh0Q29udGVudCA9IGB3aW5kb3cuVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOwoJCWZ1bmN0aW9uIGhhbmRsZVN3ZihmaWxlKSB7CgkJCWlmICghL1wuc3dmJC9pLnRlc3QoZmlsZS5uYW1lKSApIHJldHVybiBmYWxzZTsKCgkJCS8vc2F2ZSBkYXRhIHRvIGxvY2FsU3RvcmFnZQoJCQlibG9iMkRhdGFVUkwoZmlsZSwgciA9PiB7bG9jYWxTdG9yYWdlLnN3ZlBsYXllciA9IHJ9KTsKCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWFsZXJ0KCfnvJPlrZjlrozmr5XvvIHliLfmlrDpobXpnaIuLi4nKTsKCQkJCWxvY2F0aW9uLnJlbG9hZCgpOwoJCQl9LCAxMDAwKTsKCQl9CgoJCWZ1bmN0aW9uIGJsb2IyRGF0YVVSTChibG9iLCBjYWxsYmFjaykgewoJCQlsZXQgZnIgPSBuZXcgRmlsZVJlYWRlcigpOwoJCQlmci5vbmxvYWQgPSBmdW5jdGlvbiAoZXYpIHsKCQkJCWNhbGxiYWNrKGV2LnRhcmdldC5yZXN1bHQpOwoJCQl9OwoJCQlmci5yZWFkQXNEYXRhVVJMKGJsb2IpOwoJCX1gOwoJCWRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7CgkJYy5vdXRlckhUTUwgPSBgPGRpdj48aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImZpbGVFbGVtIiBvbmNoYW5nZT0iaGFuZGxlU3dmKHRoaXMuZmlsZXNbMF0pIiBoaWRkZW4+CgkJPGEgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0iZmlsZVNlbGVjdCIgc3R5bGU9ImZvbnQtc2l6ZToyMHB4OyIgb25jbGljaz0iZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQjZmlsZUVsZW0nKS5jbGljaygpOyI+6K6+572u5Y675bm/5ZGKc3dm5paH5Lu2PC9hPjwvZGl2PmA7Cgl9Ci8vaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzCmxldCBsb29rdXA9W107bGV0IHJldkxvb2t1cD1bXTtsZXQgY29kZT0nQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7Zm9yKGxldCBpPTAsbGVuPWNvZGUubGVuZ3RoO2k8bGVuOysraSl7bG9va3VwW2ldPWNvZGVbaV07cmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV09aTt9CmZ1bmN0aW9uIHBsYWNlSG9sZGVyc0NvdW50KGI2NCl7bGV0IGxlbj1iNjQubGVuZ3RoO2lmKGxlbiU0PjApe3Rocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpO30KcmV0dXJuIGI2NFtsZW4tMl09PT0nPSc/MjpiNjRbbGVuLTFdPT09Jz0nPzE6MDt9CmZ1bmN0aW9uIHRvQnl0ZUFycmF5KGI2NCl7bGV0IGksaixsLHRtcCxwbGFjZUhvbGRlcnMsYXJyO2xldCBsZW49YjY0Lmxlbmd0aDtwbGFjZUhvbGRlcnM9cGxhY2VIb2xkZXJzQ291bnQoYjY0KTthcnI9bmV3IFVpbnQ4QXJyYXkobGVuKjMvNC1wbGFjZUhvbGRlcnMpO2w9cGxhY2VIb2xkZXJzPjA/bGVuLTQ6bGVuO2xldCBMPTA7Zm9yKGk9MCxqPTA7aTxsO2krPTQsais9Myl7dG1wPShyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxOCl8KHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzEpXTw8MTIpfChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsyKV08PDYpfHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzMpXTthcnJbTCsrXT0odG1wPj4xNikmMHhGRjthcnJbTCsrXT0odG1wPj44KSYweEZGO2FycltMKytdPXRtcCYweEZGO30KaWYocGxhY2VIb2xkZXJzPT09Mil7dG1wPShyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwyKXwocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPj40KTthcnJbTCsrXT10bXAmMHhGRjt9ZWxzZSBpZihwbGFjZUhvbGRlcnM9PT0xKXt0bXA9KHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV08PDEwKXwocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPDw0KXwocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMildPj4yKTthcnJbTCsrXT0odG1wPj44KSYweEZGO2FycltMKytdPXRtcCYweEZGO30KcmV0dXJuIGFycjt9CgoJZnVuY3Rpb24gcXlPdXRzaXRlRm9ybWF0KHAsIHYpIHsKCQlsZXQgdHZpZCA9IHYubWF0Y2goL1xidHZJZD0oXHcrKS9pKVsxXSwKCQlkZWZpbml0aW9uSUQgPSB2Lm1hdGNoKC9cYig/OmRlZmluaXRpb25JRHxzb3VyY2VJZHx2aWQpPShcdyspLylbMV0sCgkJcyA9IGA8ZW1iZWQgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgYWxsb3dzY3JpcHRhY2Nlc3M9ImFsd2F5cyIgd21vZGU9ImdwdSIgYWxsb3dmdWxsc2NyZWVuPSJ0cnVlIiB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgaWQ9IiR7cC5pZH0iIHNyYz0iJHtub0FkUGxheWVyUGF0aH1pcWl5aV9vdXQuc3dmIiBmbGFzaHZhcnM9InZpZD0ke2RlZmluaXRpb25JRH0mdHZpZD0ke3R2aWR9JmF1dG9QbGF5PTEmc2hvd1NlYXJjaD0wJnNob3dTZWFyY2hCb3g9MCZhdXRvSGlkZUNvbnRyb2w9MSZjaWQ9cWNfMTAwMDAxXzMwMDA4OSZzaG93RG9jaz0wIj5gOwoJCXNldFBsYXllcihwLCBzKTsKCX0gKi8KCWZ1bmN0aW9uIG9wZW5GbGFzaEdQVShwKSB7CgkJaXNFbWJlZCA/IHAuc2V0QXR0cmlidXRlKCd3bW9kZScsICdncHUnKSA6CgkJc2V0Rmxhc2hQYXJhbShwLCB7d21vZGU6ICdncHUnfSk7CgkJLy9wLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHAuY2xvbmVOb2RlKHRydWUpLCBwKTsKCQlyZWZyZXNoRWxlbShwKTsKCX0KCWZ1bmN0aW9uIHJlZnJlc2hFbGVtKG8pIHsKCQlsZXQgcyA9IG8uc3R5bGUuZGlzcGxheTsKCQlvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkJc2V0VGltZW91dCgoKSA9PiB7CgkJCXMgPyBvLnN0eWxlLmRpc3BsYXkgPSBzIDogby5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpOwoJCQlpZiAoJycgPT09IG8uZ2V0QXR0cmlidXRlKCdzdHlsZScpKQoJCQkJby5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7CgkJfSwgOSk7Cgl9CglmdW5jdGlvbiBpc1BsYXllcihwKSB7CgkJaWYgKHN3ZldoaXRlTGlzdC5zb21lKHggPT4gc3dmQWRkci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHgpKSkKCQkJcmV0dXJuICEwOwoJCWlmICghcC53aWR0aCkgcmV0dXJuICExOwoJCWlmIChwLndpZHRoLmVuZHNXaXRoKCclJykpIHJldHVybiAhMDsKCQlpZiAocGFyc2VJbnQocC53aWR0aCkgPCAyMzMgfHwgcGFyc2VJbnQocC5oZWlnaHQpIDwgNTMpIHJldHVybiAhMTsKCQlyZXR1cm4gaXNFbWJlZCA/IHAubWF0Y2hlcygnW2FsbG93RnVsbFNjcmVlbl0nKSA6IC8iYWxsb3dmdWxsc2NyZWVuIi9pLnRlc3QocC5pbm5lckhUTUwpOwoJfQoJZnVuY3Rpb24gc2V0Rmxhc2hQYXJhbShwLCB2YWx1ZXMpIHsKCQlsZXQgaSwgbywKCQllID0gcC5xdWVyeVNlbGVjdG9yKCdlbWJlZCcpOwoJCWZvciAoaSBpbiB2YWx1ZXMpIHsKCQkJaWYgKGUpIGUuc2V0QXR0cmlidXRlKGksIHZhbHVlc1tpXSk7CgkJCWlmIChwLmhhc0F0dHJpYnV0ZShpKSkgcC5zZXRBdHRyaWJ1dGUoaSwgdmFsdWVzW2ldKTsKCQl9CgkJZm9yIChvIG9mIHAuY2hpbGROb2RlcykgaWYgKG8ubmFtZSkgewoJCQlpID0gby5uYW1lLnRvTG93ZXJDYXNlKCk7CgkJCWlmIChpIGluIHZhbHVlcykgewoJCQkJby52YWx1ZSA9IHZhbHVlc1tpXTsKCQkJCWRlbGV0ZSB2YWx1ZXNbaV07CgkJCX0KCQl9CgkJZm9yIChpIGluIHZhbHVlcykgewoJCQllID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3BhcmFtJyk7CgkJCWUubmFtZSA9IGk7CgkJCWUudmFsdWUgPSB2YWx1ZXNbaV07CgkJCXAuYXBwZW5kQ2hpbGQoZSk7CgkJfQoJfQoJZnVuY3Rpb24gZ2V0Rmxhc2h2YXJzKHApIHsKCQlsZXQgcyA9ICdmbGFzaHZhcnMnOwoJCWlmIChpc0VtYmVkKQoJCQlyZXR1cm4gcC5nZXRBdHRyaWJ1dGUocyk7CgkJaWYgKCFwLmNoaWxkcmVuW3NdKQoJCQlzID0gJ2ZsYXNoVmFycyc7CgkJcmV0dXJuIHAuY2hpbGRyZW5bc10udmFsdWU7Cgl9CglsZXQgcGxheWVyX3ByID0gW1lvdWt1LFlrT3V0c2l0ZSxBY2Z1bllrLFNvaHVdOy8v5aSE55CG6Zif5YiXCglmdW5jdGlvbiBkb1BsYXllcihlKSB7CgkJaWYgKCFvbmx5VXNlR3B1KSB7CgkJCWZvciAobGV0IHQgb2YgcGxheWVyX3ByKSB7CgkJCQlpZiAodC5tYXRjaFBsYXllcihzd2ZBZGRyKSkgewoJCQkJCXQuc2V0UGxheWVyKGUsIGdldEZsYXNodmFycyhlKSk7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQl9CgkJfQoJCW9wZW5GbGFzaEdQVShlKTsKCX0KCWZ1bmN0aW9uICRDKG5hbWUsIGF0dHIpIHsKCQlsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpOwoJCWlmIChhdHRyKSB7CgkJCWZvciAodmFyIGkgaW4gYXR0cikgey8v55SodmFy5L+u5q2jVE3nmoRmb3ItaW7lvqrnjq9CVUcKCQkJCWF0dHIuaGFzT3duUHJvcGVydHkoaSkgJiYgZWwuc2V0QXR0cmlidXRlKGksIGF0dHJbaV0pOwoJCQl9CgkJfQoJCXJldHVybiBlbDsKCX0KCglpZiAod2luZG93LmNocm9tZSkKCQlOb2RlTGlzdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdOwoJaWYgKCRDKCdhJykuY2xpY2sgPT09IHVuZGVmaW5lZCkgewoJCUVsZW1lbnQucHJvdG90eXBlLmNsaWNrID0gZnVuY3Rpb24gKCkgewoJCQkvLyB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpOwoJCQkvLyBlLmluaXRFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlKTsKCQkJdmFyIGUgPSBuZXcgTW91c2VFdmVudCgiY2xpY2siKTsKCQkJdGhpcy5kaXNwYXRjaEV2ZW50KGUpOwoJCX07Cgl9Cgl3aW5kb3cuVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOwoJbGV0IHBhcmVudHMgPSBuZXcgV2Vha1NldCgpOwoKCW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHsKCQlmb3IgKGxldCBrIG9mIGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdvYmplY3QsZW1iZWQnKSkgewoJCQlpc0VtYmVkID0gay5tYXRjaGVzKCdlbWJlZCcpOwoJCQlpZiAoaXNFbWJlZCAmJiBrLnBhcmVudE5vZGUubWF0Y2hlcygnb2JqZWN0JykpCgkJCQljb250aW51ZTsKCQkJc3dmQWRkciA9IGlzRW1iZWQgPyBrLnNyYyA6IGsuZGF0YSB8fCBrLmNoaWxkcmVuLm1vdmllLnZhbHVlOwoJCQljb25zb2xlLmxvZyhzd2ZBZGRyKTsKCQkJbGV0IHAgPSBrLnBhcmVudE5vZGU7CgkJCWlmIChwYXJlbnRzLmhhcyhwKSB8fCAhL1wuc3dmKD86JHxcPykvLnRlc3Qoc3dmQWRkcikpCgkJCQljb250aW51ZTsKCQkJcGFyZW50cy5hZGQocCk7CgkJCWlmIChpc1BsYXllcihrKSkgewoJCQkJY29uc29sZS5sb2coaywgc3dmQWRkciwgJyBpcyBwbGF5ZXIhJyk7CgkJCQlkb1BsYXllcihrKTsKCQkJfQoJCX0KCX0pLm9ic2VydmUoYmQsIHsKCQljaGlsZExpc3QgOiB0cnVlLAoJCXN1YnRyZWUgOiB0cnVlCgl9KTsKCWxldCBkaXYgPSAkQygnZGl2Jyk7CgliZC5hcHBlbmRDaGlsZChkaXYpOwoJYmQucmVtb3ZlQ2hpbGQoZGl2KTsKfShkb2N1bWVudCwgZG9jdW1lbnQuYm9keSk7"},{"name":"iZhihu","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://www.zhihu.com/*","https://www.zhihu.com/*"],"orig_matches":["http://www.zhihu.com/*","https://www.zhihu.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970028},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/350-izhihu/code/iZhihu.user.js","uuid":"d992b732-768f-4077-aa5d-fa0de1b835d9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBpWmhpaHUKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vdW5vZ3ovaXpoaWh1Ci8vIEB2ZXJzaW9uICAgICAgMi4xMy4zCi8vIEBkZXNjcmlwdGlvbiAg55+l5LmO5o+S5Lu2Ci8vIEBtYXRjaCAgICAgICAgaHR0cDovL3d3dy56aGlodS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly93d3cuemhpaHUuY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy56aGlodS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vd3d3LnpoaWh1LmNvbS8qCi8vIEByZXF1aXJlICAgICAgaHR0cDovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMS44LjIvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvaUNoZWNrLzEuMC4xL2ljaGVjay5taW4uanMKLy8gQHJlc291cmNlICAgICBqcVVJX0NTUyBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2lDaGVjay8xLjAuMS9za2lucy9zcXVhcmUvYmx1ZS5jc3MKLy8gQHJlc291cmNlICAgICB1aS1iZ19pY2hlY2stc2tpbl9zcXVhcmVfYmx1ZSBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2lDaGVjay8xLjAuMS9za2lucy9zcXVhcmUvYmx1ZS5wbmcKLy8gQHJlc291cmNlICAgICB1aS1iZ19pY2hlY2stc2tpbl9zcXVhcmVfYmx1ZTJ4IGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvaUNoZWNrLzEuMC4xL3NraW5zL3NxdWFyZS9ibHVlQDJ4LnBuZwovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvanF1ZXJ5dWkvMS4xMC40L2pxdWVyeS11aS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL3B1cmwvMi4zLjEvcHVybC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL3VuZGVyc2NvcmUuanMvMS42LjAvdW5kZXJzY29yZS1taW4uanMKLy8gQGdyYW50ICAgICAgICBHTV94bWxIdHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fZ2V0UmVzb3VyY2VUZXh0Ci8vIEBncmFudCAgICAgICAgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGljb24gICAgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdW5vZ3ovaXpoaWh1L2RldmVsb3AvbWlzYy94cGktY29uZmlnL2ljb242NC5wbmcKLy8gQGNvcHlyaWdodCAgICAyMDE1KywgQOmSouebhemDreWtkCBA5YiY5YuHIEDloqjno4oKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIganFVSV9Dc3NTcmMgPSBHTV9nZXRSZXNvdXJjZVRleHQoImpxVUlfQ1NTIikKR01fYWRkU3R5bGUgKGpxVUlfQ3NzU3JjLnJlcGxhY2UoJ3VybChibHVlJywgJ3VybChodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2lDaGVjay8xLjAuMS9za2lucy9zcXVhcmUvYmx1ZScpKTsKCnZhciB2ZXJzaW9uPScyLjEzLjMnOwp2YXIgdXBkYXRlRGF0ZT0nMjAxNi00LTI1JzsKCmlmICggdHlwZW9mIHVuc2FmZVdpbmRvdyA9PT0gInVuZGVmaW5lZCIpIHsKICAgIHVuc2FmZVdpbmRvdyAgICA9ICggZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkdW1teUVsZW0gICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKICAgICAgICBkdW1teUVsZW0ub25jbGljaz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3c7fTsKICAgICAgICByZXR1cm4gZHVtbXlFbGVtLm9uY2xpY2sgKCk7CiAgICB9ICkgKCk7Cn0KCi8v5Li75YWl5Y+jCi8vJChmdW5jdGlvbiBtYWluKCl7CgoKLyoqCiAqIEBjbGFzcyBVdGlscyDovoXliqnnsbsKICovCmZ1bmN0aW9uIHV0aWxzKCl7Cn07Cgp2YXIgY2ZnRGVmYXVsdCA9IHsKICAgICdjb21tZW50X3NpZGViYXInOiB0cnVlCiAgLCAnYW5zd2VyX29yZGVyQnlUaW1lJzogZmFsc2UKICAsICdBdXRob3JMaXN0JzpmYWxzZQogICwgJ1Nob3dDb21tZW50Jzp0cnVlCiAgLCAnSG9tZUxheW91dCc6ZmFsc2UKICAsICdRdWlja0Zhdm8nOnRydWUKICAsICdRdWlja0Zhdm9QaW5uZWQnOnt9CiAgLCAnQXV0aG9yUmVhcic6ZmFsc2UKICAsICdIb21lTm90aSc6ZmFsc2UKICAsICdRdWlja0Jsb2NrJzpmYWxzZQogICwgJ05vdGk3Jzp0cnVlCiAgLCAnSG9tZUZlZWRzQ29sdW1ucyc6ZmFsc2UKICAsICdSaWdodENvbW1lbnRfQXV0b1Njcm9sbFBhZ2VXaGVuQ2xvc2luZyc6dHJ1ZQogICwgJ1RvcE5hdkF1dG9Gb2xkJzpmYWxzZQp9OwogIAovKioKICog6K+75Y+W6YWN572uCiAqLwp1dGlscy5nZXRDZmcgPSBmdW5jdGlvbihrZXkpewogIGlmKCFrZXkpcmV0dXJuIGZhbHNlOwogIHZhciBjZmcgPSAkLmV4dGVuZChjZmdEZWZhdWx0LCB0aGlzLmdldFZhbHVlKCdpemhpaHUnLGNmZ0RlZmF1bHQpKTsKICByZXR1cm4ga2V5ID8gY2ZnW2tleV0gOiBjZmc7Cn07Cgp1dGlscy5zZXRDZmcgPSBmdW5jdGlvbihrZXksdmFsdWUpewogIGlmKCFrZXkpcmV0dXJuOwogIHZhciBjZmcgPSAkLmV4dGVuZChjZmdEZWZhdWx0LCB0aGlzLmdldFZhbHVlKCdpemhpaHUnLGNmZ0RlZmF1bHQpKTsKICBjZmdba2V5XT12YWx1ZTsKICB0aGlzLnNldFZhbHVlKCdpemhpaHUnLGNmZyk7Cn07CgovKioKICog6K+75Y+W5a2Y5YKoCiAqLwp1dGlscy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbHVlKXsKICAgIHZhciB2PXVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XTsKICAgIGlmKHYpCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uodik7CiAgICBlbHNlCiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKfTsKCi8qKgogKiDlhpnlhaXlrZjlgqgKICovCnV0aWxzLnNldFZhbHVlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7CiAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpOwp9OwoKLyoqCiAqIOWIoOmZpOWtmOWCqAogKi8KdXRpbHMuZGVsZXRlVmFsdWUgPSBmdW5jdGlvbihrZXkpewogIHJldHVybiBkZWxldGUgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZVtrZXldOwp9OwoKdXRpbHMudHJhbnNmZXJPbGRDZmc9ZnVuY3Rpb24oKXsKICAgIHZhciBvbGRIb21lTGF5b3V0ID0gdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZVsnaXpoX0hvbWVMYXlvdXQnXQogICAgICAsIG9sZEF1dGhvckxpc3QgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfQXV0aG9yTGlzdCddCiAgICAgICwgb2xkU2hvd0NvbW1lbnQgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfU2hvd0NvbW1lbnQnXQogICAgICAsIG9sZFF1aWNrRmF2byA9IHVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2VbJ2l6aF9RdWlja0Zhdm8nXQogICAgICAsIG9sZEF1dGhvclJlYXIgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfQXV0aG9yUmVhciddCiAgICAgICwgb2xkSG9tZU5vdGkgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfSG9tZU5vdGknXQogICAgOwogICAgaWYob2xkSG9tZUxheW91dCl7CiAgICAgICAgaXpoSG9tZUxheW91dD1vbGRIb21lTGF5b3V0OwogICAgICAgIHVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaXpoX0hvbWVMYXlvdXQnKTsKICAgICAgICB0aGlzLnNldENmZygnSG9tZUxheW91dCcsaXpoSG9tZUxheW91dCk7CiAgICB9CiAgICBpZihvbGRBdXRob3JMaXN0KXsKICAgICAgICBpemhBdXRob3JMaXN0PW9sZEF1dGhvckxpc3Q7CiAgICAgICAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemhfQXV0aG9yTGlzdCcpOwogICAgICAgIHRoaXMuc2V0Q2ZnKCdBdXRob3JMaXN0JyxpemhBdXRob3JMaXN0KTsKICAgIH0KICAgIGlmKG9sZFNob3dDb21tZW50KXsKICAgICAgICBpemhSaWdodENvbW1lbnQ9b2xkU2hvd0NvbW1lbnQ7CiAgICAgICAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemhfU2hvd0NvbW1lbnQnKTsKICAgICAgICB0aGlzLnNldENmZygnU2hvd0NvbW1lbnQnLGl6aFJpZ2h0Q29tbWVudCk7CiAgICB9CiAgICBpZihvbGRRdWlja0Zhdm8pewogICAgICAgIGl6aFF1aWNrRmF2bz1vbGRRdWlja0Zhdm87CiAgICAgICAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemhfUXVpY2tGYXZvJyk7CiAgICAgICAgdGhpcy5zZXRDZmcoJ1F1aWNrRmF2bycsaXpoUXVpY2tGYXZvKTsKICAgIH0KICAgIGlmKG9sZEF1dGhvclJlYXIpewogICAgICAgIGl6aEF1dGhvclJlYXI9b2xkQXV0aG9yUmVhcjsKICAgICAgICB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2l6aF9BdXRob3JSZWFyJyk7CiAgICAgICAgdGhpcy5zZXRDZmcoJ0F1dGhvclJlYXInLGl6aEF1dGhvclJlYXIpOwogICAgfQogICAgaWYob2xkSG9tZU5vdGkpewogICAgICAgIGl6aEhvbWVOb3RpPW9sZEhvbWVOb3RpOwogICAgICAgIHVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaXpoX0hvbWVOb3RpJyk7CiAgICAgICAgdGhpcy5zZXRDZmcoJ0hvbWVOb3RpJyxpemhIb21lTm90aSk7CiAgICB9Cgp9OwoKCi8qKgogKiBAbWV0aG9kIGZvcm1hdFN0cgogKgogKiDmoLzlvI/ljJblrZfnrKbkuLLmqKHniYgs5pSv5oyBMuenjeagvOW8jzoKICoKICogICAgIGZvcm1hdFN0cigiaSBjYW4gc3BlYWsge2xhbmd1YWdlfSBzaW5jZSBpIHdhcyB7YWdlfSIse2xhbmd1YWdlOidqYXZhc2NyaXB0JyxhZ2U6MTB9KTsKICogICAgIGZvcm1hdFN0cigiaSBjYW4gc3BlYWsgezB9IHNpbmNlIGkgd2FzIHsxfSIsJ2phdmFzY3JpcHQnLDEwKTsKICoKICog5aaC5p6c5LiN5biM5pyb6KKr6L2s5LmJLOWImeeUqOS4pOS4quaLrOWPtyzlpoI6IGBmb3JtYXRTdHIoImkgY2FuIHNwZWFrIHswfSBzaW5jZSBpIHdhcyB7ezF9IiwnamF2YXNjcmlwdCcsMTApO2AKICoKICovCnV0aWxzLmZvcm1hdFN0ciA9IGZ1bmN0aW9uKHRwbCxvYmopewogIG9iaiA9IHR5cGVvZiBvYmogPT09ICdvYmplY3QnID8gb2JqIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICByZXR1cm4gdHBsLnJlcGxhY2UoL1x7XHt8XH1cfXxceyhcdyspXH0vZywgZnVuY3Rpb24gKG0sIG4pewogICAgaWYgKG0gPT0gInt7IikgeyByZXR1cm4gInsiOyB9CiAgICBpZiAobSA9PSAifX0iKSB7IHJldHVybiAifSI7IH0KICAgIHJldHVybiBvYmpbbl07CiAgfSk7Cn07Cgp1dGlscy5nZXRQYXJhbUluUXVlcnk9ZnVuY3Rpb24ocXVlcnlTdHIscGFyYW1OYW1lKXsKICAgIHZhciBwYXJhbT1wYXJhbU5hbWUrJz0nCiAgICAgICwgc3RhcnQ9cXVlcnlTdHIuaW5kZXhPZihwYXJhbSkrcGFyYW0ubGVuZ3RoCiAgICAgICwgZW5kPXF1ZXJ5U3RyLmluZGV4T2YoJyYnLHN0YXJ0KTsKICAgIHJldHVybiBlbmQ8c3RhcnQ/cXVlcnlTdHIuc3Vic3RyaW5nKHN0YXJ0KTpxdWVyeVN0ci5zdWJzdHJpbmcoc3RhcnQsZW5kKTsKfTsKCnV0aWxzLm9ic2VydmVET01BdHRyTW9kaWZpZWQgPSAoZnVuY3Rpb24oKXsKICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICAgICAgZXZlbnRMaXN0ZW5lclN1cHBvcnRlZCA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwoKICAgIHJldHVybiBmdW5jdGlvbihvYmosIGNhbGxiYWNrKXsKICAgICAgICBpZiggTXV0YXRpb25PYnNlcnZlciApewogICAgICAgICAgICAvLyBkZWZpbmUgYSBuZXcgb2JzZXJ2ZXIKICAgICAgICAgICAgdmFyIG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucywgb2JzZXJ2ZXIpewogICAgICAgICAgICAgICAgaWYoIG11dGF0aW9uc1swXS50eXBlID09ICdhdHRyaWJ1dGVzJyApCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobXV0YXRpb25zWzBdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG9icy5vYnNlcnZlKCBvYmosIHsgYXR0cmlidXRlczp0cnVlIH0pOwogICAgICAgIH1lbHNlIGlmKCBldmVudExpc3RlbmVyU3VwcG9ydGVkICl7CiAgICAgICAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKCdET01BdHRyTW9kaWZpZWQnLCBjYWxsYmFjaywgZmFsc2UpOwogICAgICAgIH0KICAgIH0KfSkoKTsKCnV0aWxzLm9ic2VydmVET01Ob2RlQWRkZWQgPSAoZnVuY3Rpb24oKXsKICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICAgICAgZXZlbnRMaXN0ZW5lclN1cHBvcnRlZCA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwoKICAgIHJldHVybiBmdW5jdGlvbihvYmosIGNhbGxiYWNrKXsKICAgICAgICBpZiggTXV0YXRpb25PYnNlcnZlciApewogICAgICAgICAgICAvLyBkZWZpbmUgYSBuZXcgb2JzZXJ2ZXIKICAgICAgICAgICAgdmFyIG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucywgb2JzZXJ2ZXIpewogICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtdXRhdGlvbik7CiAgICAgICAgICAgICAgICAgIH0pOyAgICAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG9icy5vYnNlcnZlKCBvYmosIHsgY2hpbGRMaXN0OnRydWUgfSk7CiAgICAgICAgfWVsc2UgaWYoIGV2ZW50TGlzdGVuZXJTdXBwb3J0ZWQgKXsKICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIGNhbGxiYWNrLCBmYWxzZSk7CiAgICAgICAgfQogICAgfQp9KSgpOwoKdXRpbHMuUmVnZXhTcmNQaWMgPSAvc3JjPSJbXHNcU10rPy5qcGciL2cKCi8vY29uc29sZS5sb2coKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7Cgp2YXIgJCA9IHdpbmRvdy4kOwp2YXIgXyA9IHRoaXMuXzsKdmFyIHB1cmwgPSB3aW5kb3cucHVybHx8JC51cmw7CgovL+S9v+eUqENhc3BlckpT55qE5qih5ouf55So5oi35pON5L2c77yaIGh0dHA6Ly9jYXNwZXJqcy5vcmcvYXBpLmh0bWwjY2xpZW50LXV0aWxzCi8vdmFyIGNsaWVudCA9IHdpbmRvdy5jcmVhdGUoKTsKCnZhciB1cmwgPSBwdXJsKCk7CnZhciBwYWdlID0gdXJsLnNlZ21lbnQoMSk7Cgp2YXIgcGFnZUlzPXt9CiAgLCAkd2luPSQod2luZG93KQogICwgX2RvYz13aW5kb3cuZG9jdW1lbnQKICAsICRib2R5PSQoX2RvYy5ib2R5KQogICwgX3BhdGg9d2luZG93LmZyYW1lRWxlbWVudD93aW5kb3cuZnJhbWVFbGVtZW50LnNyYy5yZXBsYWNlKC9odHRwcz86XC9cL3d3dy56aGlodS5jb20vLCcnKTp1cmwuZGF0YS5hdHRyWydwYXRoJ10KICAsIGNzcz0nJwogICwgJGg9JCgnaGVhZCcpCiAgLCAkcz0kKCc8c3R5bGU+JywgeyAndHlwZSc6ICd0ZXh0L2NzcycgfSkKICAsIGlQYXRoQW5zd2Vycz1fcGF0aC5pbmRleE9mKCcvYW5zd2VycycpCiAgLCBpUGF0aENvbGxlY3Rpb249X3BhdGguaW5kZXhPZignL2NvbGxlY3Rpb24nKQo7CnBhZ2VJcy5Ib21lPScvJz09X3BhdGg7CnBhZ2VJcy5BbnN3ZXI9MDxfcGF0aC5pbmRleE9mKCcvYW5zd2VyLycpOwpwYWdlSXMuUXVlc3Rpb249IXBhZ2VJcy5BbnN3ZXImJjA9PV9wYXRoLmluZGV4T2YoJy9xdWVzdGlvbi8nKTsKcGFnZUlzLkFuc3dlcnM9MDxpUGF0aEFuc3dlcnMmJl9wYXRoLnN1YnN0cihpUGF0aEFuc3dlcnMpPT0nL2Fuc3dlcnMnOwpwYWdlSXMuQ29sbGVjdGlvbj0wPT1pUGF0aENvbGxlY3Rpb247CnBhZ2VJcy5EZWJ1dHM9MD09X3BhdGguaW5kZXhPZignL2RlYnV0cy8nKTsKcGFnZUlzLk15Q29sbGVjdGlvbj0wPT1fcGF0aC5pbmRleE9mKCcvY29sbGVjdGlvbnMvbWluZScpOwpwYWdlSXMuU2V0dGluZ3NGaWx0ZXI9MD09X3BhdGguaW5kZXhPZignL3NldHRpbmdzL2ZpbHRlcicpCgp2YXIgaT0wCiAgLCAkdXNlcj0kKCcuenUtdG9wLW5hdi11c2VyaW5mbycpLy91c2VyX2F2YXRlcgogICwgej0kdXNlci5sZW5ndGg/JHVzZXIuYXR0cignaHJlZicpOicnCiAgLCAkYmFubmVyPSQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5maXJzdCgpCiAgLCAkbWFpbj0kKCdbcm9sZT1tYWluXScpLy9tYWluCiAgLCBjc3NfQXV0aG9yTGlzdEl0ZW1BPSdwYWRkaW5nOjAgMTBweCAwIDA7JwogICwgY3NzX0F1dGhvckxpc3RJdGVtQV9uYW1lPSdwYWRkaW5nOjAgNXB4OycKOwoKd2luZG93LmlaaGlodSA9IHsKICAgICR3aW46JHdpbgogICwgJGJvZHk6JGJvZHkKICAsICRtYWluOiRtYWluCiAgLCBjb25maWc6JC5leHRlbmQoY2ZnRGVmYXVsdCwgdXRpbHMuZ2V0VmFsdWUoJ2l6aGlodScsY2ZnRGVmYXVsdCkpCn07Cgp2YXIgaXpoSG9tZUxheW91dCA9IHdpbmRvdy5pWmhpaHUuY29uZmlnWydIb21lTGF5b3V0J10KICAsIGl6aEF1dGhvckxpc3QgPSB3aW5kb3cuaVpoaWh1LmNvbmZpZ1snQXV0aG9yTGlzdCddCiAgLCBpemhSaWdodENvbW1lbnQgPSB3aW5kb3cuaVpoaWh1LmNvbmZpZ1snU2hvd0NvbW1lbnQnXQogICwgaXpoUXVpY2tGYXZvID0gd2luZG93LmlaaGlodS5jb25maWdbJ1F1aWNrRmF2byddCiAgLCBpemhBdXRob3JSZWFyID0gd2luZG93LmlaaGlodS5jb25maWdbJ0F1dGhvclJlYXInXQogICwgaXpoSG9tZU5vdGkgPSB3aW5kb3cuaVpoaWh1LmNvbmZpZ1snSG9tZU5vdGknXQogICwgaXpoUXVpY2tCbG9jayA9IHdpbmRvdy5pWmhpaHUuY29uZmlnWydRdWlja0Jsb2NrJ10KICAsIGl6aFRvcE5hdkF1dG9Gb2xkID0gd2luZG93LmlaaGlodS5jb25maWdbJ1RvcE5hdkF1dG9Gb2xkJ10KOwoKdXRpbHMudHJhbnNmZXJPbGRDZmcoKTsKCiRib2R5LmF0dHIoewogICAgJ2l6aEhvbWVMYXlvdXQnIDogaXpoSG9tZUxheW91dD8nMSc6JycKICAsICdpemhBdXRob3JMaXN0JyA6IGl6aEF1dGhvckxpc3Q/JzEnOicnCiAgLCAnaXpoUmlnaHRDb21tZW50JyA6IGl6aFJpZ2h0Q29tbWVudD8nMSc6JycKICAsICdpemhRdWlja0Zhdm8nIDogaXpoUXVpY2tGYXZvPycxJzonJwogICwgJ2l6aEF1dGhvclJlYXInIDogaXpoQXV0aG9yUmVhcj8nMSc6JycKICAsICdpemhIb21lTm90aScgOiBpemhIb21lTm90aT8nMSc6JycKICAsICdpemhRdWlja0Jsb2NrJyA6IGl6aFF1aWNrQmxvY2s/JzEnOicnCiAgLCAnaXpoVG9wTmF2QXV0b0ZvbGQnIDogaXpoVG9wTmF2QXV0b0ZvbGQ/JzEnOicnCn0pOwoKdmFyIF9RdWlja0Jsb2NrID0gbmV3IFF1aWNrQmxvY2sod2luZG93LmlaaGlodSkKICAsIF9RdWlja0Zhdm8gPSBuZXcgUXVpY2tGYXZvKHdpbmRvdy5pWmhpaHUpCiAgLCBfQ29tbWVudCA9IG5ldyBDb21tZW50KHdpbmRvdy5pWmhpaHUpCiAgLCBfTm90aTcgPSBuZXcgTm90aTcod2luZG93LmlaaGlodSkKICAsIF9BbnN3ZXIgPSBuZXcgQW5zd2VyKHdpbmRvdy5pWmhpaHUpCiAgLCBfU2VhcmNoaW5nTGlzdCA9IG5ldyBTZWFyY2hpbmdMaXN0KHdpbmRvdy5pWmhpaHUpCiAgLCBfVG9wTmF2ID0gbmV3IFRvcE5hdih3aW5kb3cuaVpoaWh1KQo7Cgpjc3MrPVsnLnRfc2hvd2ZyYW1le3BhZGRpbmc6MTBweCAxMHB4IDEwcHggMTBweDtiYWNrZ3JvdW5kOiNmMGYwZjA7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JveC1zaGFkb3c6MnB4IDVweCAxNXB4ICMzMzM7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm94LXNoYWRvdzoycHggNXB4IDE1cHggIzMzMzstbW96LWJvcmRlci1yYWRpdXM6MTBweDstd2Via2l0LWJveC1zaGFkb3c6MnB4IDVweCAxNXB4ICMzMzM7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjEwcHh9I2laaGlodV9ydGpkZGl2e3dpZHRoOjY1MHB4O2hlaWdodDo0MzdweH0jaVpoaWh1X3NldGRpdnt3aWR0aDo2MDBweDtoZWlnaHQyOjI5NXB4fS50X3NldGRpdntwYWRkaW5nLWJvdHRvbToxMHB4O2JhY2tncm91bmQ6I2ZjZmNmYzt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS50X3NldF90Yntmb250LWZhbWlseToiTHVjaWRhIFNhbnMgVW5pY29kZSIsIkx1Y2lkYSBHcmFuZGUiLFNhbnMtU2VyaWYgIWltcG9ydGFudDtmb250LXNpemU6MTJweCAhaW1wb3J0YW50O3RleHQtc2hhZG93Om5vbmUgIWltcG9ydGFudDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2UgIWltcG9ydGFudDttYXJnaW46MCAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEyMCV9LnRfc2V0X3RiIHRoZWFkIHRke2JhY2tncm91bmQ6IzAwODBjMDtjb2xvcjojZmZmO2JvcmRlcjpub25lICFpbXBvcnRhbnQ7cGFkZGluZzo0cHggOHB4IDRweCAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXMtdG9wbGVmdDoxMHB4O2JvcmRlci1yYWRpdXMtdG9wcmlnaHQ6MTBweDstbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDoxMHB4Oy13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MTBweH0udF9zZXRfdGIgdGgsLnRfc2V0X3RiIHRke3BhZGRpbmc6OHB4O2JhY2tncm91bmQ6I2U4ZWRmZjtib3JkZXI6bm9uZSAhaW1wb3J0YW50O2JvcmRlci10b3A6MnB4IHNvbGlkICNmY2ZjZmMgIWltcG9ydGFudDtjb2xvcjojNjY5O2xpbmUtaGVpZ2h0OjEuMWVtICFpbXBvcnRhbnR9LnRfc2V0X3RiIHRkIGlucHV0LC50X3NldF90YiB0ZCB0ZXh0YXJlYXtmb250LXNpemU6MTJweCAhaW1wb3J0YW50O3BhZGRpbmc6MCAhaW1wb3J0YW50fS50X3NldF90YiB0Ym9keSB0cjpob3ZlciB0aCwudF9zZXRfdGIgdGJvZHkgdHI6aG92ZXIgdGR7YmFja2dyb3VuZDojZDBkYWZkfS50X3NldF90YiB0Zm9vdCB0ZHtib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6MTBweDtib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjEwcHg7LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6MTBweDstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6MTBweDstd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MTBweDstd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjEwcHh9LnRfc2V0X2Z0e2ZvbnQtZmFtaWx5OkFyaWFsLHNhbnMtc2VyaWYs54C577+977+9ICFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHggIWltcG9ydGFudDtmb250LXdlaWdodDpib2xkICFpbXBvcnRhbnQ7dGV4dC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50O21hcmdpbi10b3A6MTVweCAhaW1wb3J0YW50fS50X3NldF9mdCBhe3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiMwMDB9LnRfc2V0YnRue2JvcmRlcjoxcHggc29saWQgYmxhY2s7cGFkZGluZzoycHg7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDojZmZmO2NvbG9yOiMwMDgwYzB9LnRfc2V0ZnRidG4gc3BhbntwYWRkaW5nOjJweCAxMHB4IDJweCAxMHB4ICFpbXBvcnRhbnR9LnRfcnRqZGJ0bntiYWNrZ3JvdW5kOiMwMDgwYzAgIWltcG9ydGFudDtjb2xvcjojZmZmICFpbXBvcnRhbnR9LnRfcnRqZHR4dHBvc3twYWRkaW5nLXRvcDo1cHh9I2laaGlodV9ydGhpbnR7Zm9udC1mYW1pbHk6QXJpYWwsc2Fucy1zZXJpZizngLnvv73vv70gIWltcG9ydGFudDtmb250LXNpemU6MTZweCAhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OmJvbGQ7cGFkZGluZzo1cHggMTBweCA1cHggMTBweDtwb3NpdGlvbjpmaXhlZDt0b3A6MjBweDtib3JkZXItcmFkaXVzOjVweDstbW96LWJvcmRlci1yYWRpdXM6NXB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czo1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3BhY2l0eTowLjd9LnRfcnRoaW50X257Y29sb3I6I2ZmZiAhaW1wb3J0YW50O2JhY2tncm91bmQ6IzAwMCAhaW1wb3J0YW50fS50X3J0aGludF9me2JhY2tncm91bmQ6Izg4MDAwMCAhaW1wb3J0YW50O2NvbG9yOiNmZmZmZGQgIWltcG9ydGFudH0udF91cGJ0bntiYWNrZ3JvdW5kOiMwMDgwYzAgIWltcG9ydGFudDtjb2xvcjojZmZmICFpbXBvcnRhbnR9LnRfdXBpbmZve2hlaWdodDoxMjBweCAhaW1wb3J0YW50O3ZlcnRpY2FsLWFsaWduOnRleHQtdG9wICFpbXBvcnRhbnR9I2l6aF91cGRhdGVkaXYgdGh7Ym9yZGVyLXJpZ2h0OjJweCBzb2xpZCAjZmNmY2ZjICFpbXBvcnRhbnR9I2l6aF91cGRhdGVkaXYgdGZvb3QgdGR7Ym9yZGVyOm5vbmUgIWltcG9ydGFudDtib3JkZXItdG9wOjJweCBzb2xpZCAjZmNmY2ZjICFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6QXJpYWwsc2Fucy1zZXJpZizngLnvv73vv70gIWltcG9ydGFudDtmb250LXNpemU6MTJweCAhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsICFpbXBvcnRhbnQ7dGV4dC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50fS50X3R4dHNob3d7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZDojMDA4MGMwO2NvbG9yOiNmMGYwZjA7dXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmV9LnRfZnJzaG93e2ZvbnQtc2l6ZToxLjJlbTtwb3NpdGlvbjpmaXhlZDt6LWluZGV4Ojk5OTk5O3RvcDo0NXB4O3dpZHRoOjIwMHB4O29wYWNpdHk6MC45O2N1cnNvcjpwb2ludGVyfS50X3Rib3h7cGFkZGluZzoxMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgI2YwZjBmMDtsaW5lLWhlaWdodDoyMHB4OypoZWlnaHQ6MSU7d2lkdGg6MjAwcHg7LW1vei1ib3gtc2hhZG93OjJweCA1cHggMTVweCAjMzMzOy1tb3otYm9yZGVyLXJhZGl1czo3cHg7LXdlYmtpdC1ib3gtc2hhZG93OjJweCA1cHggMTVweCAjMzMzOy13ZWJraXQtYm9yZGVyLXJhZGl1czo3cHh9LnRfdGJveCBze3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMjBweDtsZWZ0OjE2MHB4O2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjA7d2lkdGg6MDtmb250LXNpemU6MDtsaW5lLWhlaWdodDowO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAjZjBmMGYwIHRyYW5zcGFyZW50O2JvcmRlci1zdHlsZTpkYXNoZWQgZGFzaGVkIHNvbGlkIGRhc2hlZDtib3JkZXItd2lkdGg6MTBweH0udF90Ym94IGl7cG9zaXRpb246YWJzb2x1dGU7dG9wOi05cHg7bGVmdDotMTBweDtkaXNwbGF5OmJsb2NrO2hlaWdodDowO3dpZHRoOjA7Zm9udC1zaXplOjA7bGluZS1oZWlnaHQ6MDtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzAwODBjMCB0cmFuc3BhcmVudDtib3JkZXItc3R5bGU6ZGFzaGVkIGRhc2hlZCBzb2xpZCBkYXNoZWQ7Ym9yZGVyLXdpZHRoOjEwcHh9QG1lZGlhIHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzowKXsjaVpoaWh1X3J0amRkaXZ7aGVpZ2h0OjQxN3B4fSNpWmhpaHVfc2V0ZGl2e2hlaWdodDI6Mjk1cHh9I2l6aF91cGRhdGVkaXZ7aGVpZ2h0OjMxNXB4fX0nCiAgICAgLCcnXS5qb2luKCdcbicpOwppZihwYWdlSXMuUXVlc3Rpb24mJml6aEF1dGhvckxpc3QpewogICAgY3NzKz1bJ2Rpdi51bm97cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO2JvcmRlcjoxcHggc29saWQgIzA3NzFDMTtib3JkZXItcmlnaHQtd2lkdGg6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo2cHh9JwogICAgICAgICAsJ2Rpdi51bm8gLmZyYW1le292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0bztkaXJlY3Rpb246cnRsfScKICAgICAgICAgLCdkaXYudW5vIHNwYW4ubWVULGRpdi51bm8gc3Bhbi5tZUIsZGl2LnVubyB1bC5wcCBsaSBzcGFuLm1le3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7ZGlzcGxheTpibG9jaztoZWlnaHQ6MXB4O3dpZHRoOjFweDtsaW5lLWhlaWdodDoxcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O30nCiAgICAgICAgICwnZGl2LnVubyBzcGFuLm1lVHtib3JkZXItd2lkdGg6NnB4IDRweDtib3JkZXItdG9wLXdpZHRoOjBweDtib3JkZXItYm90dG9tLWNvbG9yOiNmZmY7fScKICAgICAgICAgLCdkaXYudW5vIHNwYW4ubWVCe2JvcmRlci13aWR0aDo2cHggNHB4O2JvcmRlci1ib3R0b20td2lkdGg6MHB4O2JvcmRlci10b3AtY29sb3I6I2ZmZjttYXJnaW4tdG9wOi03cHg7fScKICAgICAgICAgLCdkaXYudW5vIHVse2JhY2tncm91bmQtY29sb3I6IzA3NzFDMTtwYWRkaW5nOjA7bWFyZ2luOjA7ZGlyZWN0aW9uOmx0cn0nCiAgICAgICAgICwnZGl2LnVubyB1bCBsaXtkaXNwbGF5OmJsb2NrO2xpc3Qtc3R5bGUtdHlwZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aGl0ZS1zcGFjZTpub3dyYXA7fScKICAgICAgICAgLCdkaXYudW5vIHVsIGxpIGF7ZGlzcGxheTpibG9jazt9ZGl2LnVubyBsaSBhLnNlbHt0ZXh0LWRlY29yYXRpb246bm9uZTt9JwogICAgICAgICAsJ2Rpdi51bm8gdWwgbGkgYXsnK2Nzc19BdXRob3JMaXN0SXRlbUErJ30nCiAgICAgICAgICwnZGl2LnVubyB1bC5wcCBsaSBzcGFuLm1le3Bvc2l0aW9uOnN0YXRpYzttYXJnaW46NnB4IC04cHg7Ym9yZGVyLXdpZHRoOjRweCA2cHg7Ym9yZGVyLXJpZ2h0LWNvbG9yOiNmZmY7ZmxvYXQ6cmlnaHQ7fScKICAgICAgICAgLCdkaXYudW5vIGxpIGEgc3Bhbi5uYW1le3RleHQtYWxpZ246cmlnaHQ7ZGlzcGxheTpibG9jazsnK2Nzc19BdXRob3JMaXN0SXRlbUFfbmFtZSsnYmFja2dyb3VuZC1jb2xvcjojZmZmO31kaXYudW5vIGxpIGEuc2VsIHNwYW4ubmFtZXtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzA3NzFDMTt9JwogICAgICAgICAsJ2Rpdi51bm8gbGkgYSBzcGFuLm5hbWUubm9uYW1le2NvbG9yOiMwMDA7fScKICAgICAgICAgLCdkaXYudW5vIGxpIGEgc3Bhbi5uYW1lLmNvbGxhcHNlZHtjb2xvcjojOTk5OTk5O30nCiAgICAgICAgICwnZGl2LnVubyBsaSBhIHNwYW4ubmFtZS5mcmllbmR7Zm9udC1zdHlsZTppdGFsaWM7fScKICAgICAgICAgLCdkaXYudW5vIGxpIHNwYW4uaHB7YmFja2dyb3VuZC1jb2xvcjojOTk5OTk5O3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OnJpZ2h0O21hcmdpbi10b3A6LTJweDtsaW5lLWhlaWdodDoycHg7aGVpZ2h0OjJweDt9JwogICAgICAgICAsJ2Rpdi51bm8gdGFibGUucGx1c3tmbG9hdDpyaWdodDttYXJnaW46N3B4IC05cHg7aGVpZ2h0OjdweDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXN0eWxlOmhpZGRlbjt9ZGl2LnVubyB0YWJsZS5wbHVzIHRke2JvcmRlcjoxcHggc29saWQgI2ZmZjt3aWR0aDoxcHg7aGVpZ2h0OjFweDt9JwogICAgICAgICAsJ2Rpdi51bm8gYS5zZWwgdGFibGUucGx1c3t9ZGl2LnVubyBhLnNlbCB0YWJsZS5wbHVzIHRke30nCiAgICAgICAgICwnZGl2LnVubyBsaSBhIHNwYW4uZnVuY3t0ZXh0LWFsaWduOmNlbnRlcjt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXd7cG9zaXRpb246Zml4ZWQ7bWFyZ2luLXRvcDoxcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgIzA3NzFDMTtib3JkZXItdG9wLXdpZHRoOjIycHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JveC1zaGFkb3c6NXB4IDVweCA1cHggIzc3Nzt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXcgLnptLWVkaXRhYmxlLWNvbnRlbnR7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7b3ZlcmZsb3cteTphdXRvO3BhZGRpbmc6MTBweDt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXcgaW1nLnptLWxpc3QtYXZhdGFye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOi0zNXB4O2JvcmRlcjoxcHggc29saWQgIzA3NzFDMTtib3JkZXItcmFkaXVzOjZweDt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXcgc3Bhbi5jb21tZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMThweDtsaW5lLWhlaWdodDoxOHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzowIDVweDt9JwogICAgICAgICAsJyddLmpvaW4oJ1xuJyk7Cn0KY3NzKz1bJy56LWljb24taXpoLWZvbGR7YmFja2dyb3VuZC1wb3NpdGlvbjotMTczcHggLTEwN3B4O3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7fScKICAgICAsJyddLmpvaW4oJ1xuJyk7CmNzcys9WycudF9zZXRfdGJ7Zm9udC1mYW1pbHk6Ikx1Y2lkYSBTYW5zIFVuaWNvZGUiLCJMdWNpZGEgR3JhbmRlIixTYW5zLVNlcmlmICFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHggIWltcG9ydGFudDt0ZXh0LXNoYWRvdzpub25lICFpbXBvcnRhbnQ7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlICFpbXBvcnRhbnQ7bWFyZ2luOjAgIWltcG9ydGFudDtsaW5lLWhlaWdodDoxMjAlfScKICAgICAsJy50X3NldF90YiB0aGVhZCB0ZHtiYWNrZ3JvdW5kOiMwMDgwYzA7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZSAhaW1wb3J0YW50O3BhZGRpbmc6NHB4IDhweCA0cHggIWltcG9ydGFudDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo2cHh9JwogICAgICwnLnRfc2V0X3RiIHRoLC50X3NldF90YiB0ZHtwYWRkaW5nOjhweDtiYWNrZ3JvdW5kOiNlN2YzZjk7Ym9yZGVyOm5vbmUgIWltcG9ydGFudDtib3JkZXItdG9wOjJweCBzb2xpZCAjZmNmY2ZjICFpbXBvcnRhbnQ7Y29sb3I6IzY2OTtsaW5lLWhlaWdodDoxLjFlbSAhaW1wb3J0YW50fScKICAgICAsJy50X3NldF90YiB0ZCBpbnB1dCwudF9zZXRfdGIgdGQgdGV4dGFyZWF7Zm9udC1zaXplOjEycHggIWltcG9ydGFudDtwYWRkaW5nOjAgIWltcG9ydGFudH0nCiAgICAgLCcudF9zZXRfdGIgdGJvZHkgdHI6aG92ZXIgdGgsLnRfc2V0X3RiIHRib2R5IHRyOmhvdmVyIHRke2JhY2tncm91bmQ6I2QwZGFmZH0nCiAgICAgLCcudF9zZXRfdGIgdGZvb3QgdGR7Ym9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OjEwcHg7Ym9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OjEwcHg7LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjEwcHg7LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjEwcHg7LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxMHB4fScKICAgICAsJy50X3NldF90YiB0ZHt3aGl0ZS1zcGFjZTpub3dyYXA7fScKICAgICAsJy50X3NldF90YiB0ZCAuaWNvbi1oZWxwe2Zsb2F0OnJpZ2h0O30nCiAgICAgLCcnXS5qb2luKCdcbicpOwpjc3MrPVsnLml6aF9ib3hTaGFkb3d7Ym94LXNoYWRvdzogNXB4IDVweCAzcHggMHB4ICM5OTkgIWltcG9ydGFudDt9JwogICAgICwnI3poLXF1ZXN0aW9uLW1ldGEtd3JhcC5pemhfbm9Cb3JkZXJ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudCAhaW1wb3J0YW50O30nCiAgICAgLCcjemgtcXVlc3Rpb24tZmlsdGVyLXdyYXAuaXpoX25vQm9yZGVye2JvcmRlci10b3AtY29sb3I6dHJhbnNwYXJlbnQgIWltcG9ydGFudDt9JwogICAgICwnYS5pemgtYnV0dG9uLm9ue2NvbG9yOiMyMjU1OTk7dGV4dC1zaGFkb3c6MCAwIDFweCAjMjI1NTk5O30nCiAgICAgLCdhLml6aC1idXR0b24gLnpnLWljb257b3BhY2l0eTowLjU7fScKICAgICAsJ2EuaXpoLWJ1dHRvbi5vbiAuemctaWNvbntvcGFjaXR5OjE7fScKICAgICAsJ2EuaXpoLWJ1dHRvbi5vZmZ7Y29sb3I6I2VlZTt9JwogICAgICwnYS5pemgtYnV0dG9uLm9mZiAuemctaWNvbntvcGFjaXR5OjAuMjt9JwogICAgICwnLml6aC1mZWVkcy1maWx0ZXJ7fScKICAgICAsJy5pemgtZmVlZHMtZmlsdGVyIC5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbntvcGFjaXR5OjAuNTtjb2xvcjojOTk5OTk5O3BhZGRpbmctbGVmdDo1cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXI7fScKICAgICAsJy5pemgtZmVlZHMtZmlsdGVyIC5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbiBpe2JhY2tncm91bmQtcG9zaXRpb246LTE4M3B4IC00cHg7fScKICAgICAsJy5pemgtZmVlZHMtZmlsdGVyIC5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbi5vbntvcGFjaXR5OjE7Y29sb3I6IzIyNTU5OTt9JwogICAgICwnLml6aC1mZWVkcy1maWx0ZXIgLml6aC1mZWVkcy1maWx0ZXItb3B0aW9uLm9uIGl7YmFja2dyb3VuZC1wb3NpdGlvbjotMTgzcHggLTI0cHg7fScKICAgICAsJyddLmpvaW4oJ1xuJyk7CmlmKGl6aEhvbWVMYXlvdXQpewogICAgY3NzICs9ICBbJyN6aC1xdWVzdGlvbi1saXN0IHsgcGFkZGluZy1sZWZ0OjMwcHghaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnI3poLW1haW4tZmVlZC1mcmVzaC1idXR0b24geyBtYXJnaW4tbGVmdDotMzBweCFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcuZmVlZC1pdGVtIHsnCiAgICAgICAgICAgICwnICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkICNFRUUhaW1wb3J0YW50OycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLXRvcDotMXB4IWltcG9ydGFudCcKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJy5mZWVkLWl0ZW0gLmF2YXRhciB7IGRpc3BsYXk6bm9uZSFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICwnLmZlZWQtbWFpbiwuZmVlZC1pdGVtLmNvbWJpbmUgeyBtYXJnaW4tbGVmdDowIWltcG9ydGFudCB9JwogICAgICAgICAgICAsJy5mZWVkLWl0ZW0tcSB7IG1hcmdpbi1sZWZ0Oi0zMHB4IWltcG9ydGFudDtwYWRkaW5nLWxlZnQ6MCFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICx3aW5kb3cuaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50ID8gJycgOiAnLmZlZWQtaXRlbS1hIC56bS1jb21tZW50LWJveCB7IG1heC13aWR0aDo2MDJweCFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLHdpbmRvdy5pWmhpaHUuQ29tbWVudC5SaWdodENvbW1lbnQgPyAnJyA6ICcuZmVlZC1pdGVtLXEgLnptLWNvbW1lbnQtYm94IHsgbWF4LXdpZHRoOjYzMnB4IWltcG9ydGFudDsgd2lkdGg6NjMycHghaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJy56bS10YWctZWRpdG9yLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tdGl0bGUsJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1kZXRhaWwsJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAsJwogICAgICAgICAgICAsJy56aC1hbnN3ZXJzLXRpdGxlLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tZmlsdGVyLXdyYXAgeycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLWxlZnQ6LTMycHghaW1wb3J0YW50JwogICAgICAgICAgICAsJ30nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1sb2ctcGFnZS13cmFwIC56bS10YWctZWRpdG9yLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tbG9nLXBhZ2Utd3JhcCAjemgtcXVlc3Rpb24tdGl0bGUgeycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLWxlZnQ6MCAhaW1wb3J0YW50JwogICAgICAgICAgICAsJ30nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJy56aC1hbnN3ZXJzLXRpdGxlLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tZmlsdGVyLXdyYXAgeycKICAgICAgICAgICAgLCcgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VFRSFpbXBvcnRhbnQ7JwogICAgICAgICAgICAsJyAgICB6LWluZGV4OjEwMDAhaW1wb3J0YW50JwogICAgICAgICAgICAsJ30nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAgeycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLWJvdHRvbTowIWltcG9ydGFudDsnCiAgICAgICAgICAgICwnICAgIHBhZGRpbmctYm90dG9tOjEwcHghaW1wb3J0YW50OycKICAgICAgICAgICAgLCcgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VFRSFpbXBvcnRhbnQnCiAgICAgICAgICAgICwnfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICwnI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwIHsgbWFyZ2luLXRvcDotMXB4IWltcG9ydGFudCB9JwogICAgICAgICAgICAsJycKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tY29sbGFwc2VkLXdyYXAsI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwIHsgYm9yZGVyOm5vbmUhaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnLnp1LXF1ZXN0aW9uLWNvbGxhcC10aXRsZSB7IGJvcmRlci10b3A6MXB4IHNvbGlkICNFRUUhaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnI3poLXF1ZXN0aW9uLWNvbGxhcHNlZC13cmFwPmRpdjpsYXN0LWNoaWxkLC56bS1pdGVtLWFuc3dlcjpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VFRSFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICwnLnp1LWF1dG9oaWRlLCcKICAgICAgICAgICAgLCcuem0tY29tbWVudC1vcC1saW5rLCcKICAgICAgICAgICAgLCcuem0tc2lkZS10cmVuZC1kZWwsJwogICAgICAgICAgICAsJy51bnBpbiB7JwogICAgICAgICAgICAsJyAgICB2aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50OycKICAgICAgICAgICAgLCcgICAgb3BhY2l0eTowOycKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJy5mZWVkLWl0ZW06aG92ZXIgLnp1LWF1dG9oaWRlLCcKICAgICAgICAgICAgLCcuem0taXRlbS1hbnN3ZXIgLnp1LWF1dG9oaWRlLCcKICAgICAgICAgICAgLCcuem0taXRlbS1jb21tZW50OmhvdmVyIC56bS1jb21tZW50LW9wLWxpbmssJwogICAgICAgICAgICAsJy56bS1zaWRlLXRyZW5kLXJvdzpob3ZlciAuem0tc2lkZS10cmVuZC1kZWwsJwogICAgICAgICAgICAsJy56bS1zaWRlLW5hdi1saTpob3ZlciAudW5waW4geycKICAgICAgICAgICAgLCcgICAgb3BhY2l0eToxOycKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJy56bS1pdGVtLXZvdGUtY291bnQ6aG92ZXIsLnptLXZvdGViYXIgYnV0dG9uOmhvdmVyeycKICAgICAgICAgICAgLCcgICAgYmFja2dyb3VuZDojYTZjZTU2IWltcG9ydGFudDsnCiAgICAgICAgICAgICwnICAgIGNvbG9yOiMzRTVFMDAgIWltcG9ydGFudCcKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJycKICAgICAgICAgICAgLCdhLGE6aG92ZXIsJwogICAgICAgICAgICAsJ2ksJwogICAgICAgICAgICAsJy56dS1hdXRvaGlkZSwnCiAgICAgICAgICAgICwnLnptLXZvdGViYXIgYnV0dG9uLCcKICAgICAgICAgICAgLCcuem0taXRlbS1jb21tZW50OmhvdmVyIC56bS1jb21tZW50LW9wLWxpbmssJwogICAgICAgICAgICAsJy56bS1jb21tZW50LW9wLWxpbmssJwogICAgICAgICAgICAsJy56bS1zaWRlLXRyZW5kLXJvdzpob3ZlciAuem0tc2lkZS10cmVuZC1kZWwsJwogICAgICAgICAgICAsJy56bS1zaWRlLXRyZW5kLWRlbCwnCiAgICAgICAgICAgICwnLnptLXNpZGUtbmF2LWxpLCcKICAgICAgICAgICAgLCcuenUtbWFpbi1mZWVkLWZyZXNoLWJ1dHRvbiwnCiAgICAgICAgICAgICwnLnpnLWljb24sJwogICAgICAgICAgICAsJy56bS1zaWRlLW5hdi1saTpob3ZlciAuemctaWNvbiwnCiAgICAgICAgICAgICwnLnptLXNpZGUtbmF2LWxpOmhvdmVyIGksJwogICAgICAgICAgICAsJy51bnBpbiwnCiAgICAgICAgICAgICwnLnptLXNpZGUtbmF2LWxpOmhvdmVyIC51bnBpbiB7JwogICAgICAgICAgICAsJyAgICAtbW96LXRyYW5zaXRpb246Y29sb3IgLjJzIGxpbmVhcixvcGFjaXR5IC4xNXMgbGluZWFyLGJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixiYWNrZ3JvdW5kLXBvc2l0aW9uIC4ycyBsaW5lYXIgLjFzOycKICAgICAgICAgICAgLCcgICAgLXdlYmtpdC10cmFuc2l0aW9uOmNvbG9yIC4ycyBsaW5lYXIsb3BhY2l0eSAuMTVzIGxpbmVhcixiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsYmFja2dyb3VuZC1wb3NpdGlvbiAuMnMgbGluZWFyIC4xczsnCiAgICAgICAgICAgICwnICAgIHRyYW5zaXRpb246Y29sb3IgLjJzIGxpbmVhcixvcGFjaXR5IC4xNXMgbGluZWFyLGJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixiYWNrZ3JvdW5kLXBvc2l0aW9uIC4ycyBsaW5lYXIgLjFzOycKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJycKICAgICAgICAgICAgLCdoM3sgbGluZS1oZWlnaHQ6MjVweCB9JwogICAgICAgICAgICAsJy56dS1mb290ZXItaW5uZXIge3BhZGRpbmc6MTVweCAwIWltcG9ydGFudH0nCiAgICAgICAgICAgICwnLnptLXNpZGUtcGlubmVkLXRvcGljcyAuem0tc2lkZS1uYXYtbGl7ZmxvYXQ6bGVmdDtwYWRkaW5nLXJpZ2h0OjMwcHghaW1wb3J0YW50fScKICAgICAgICAgICAgLCcuem0tc2lkZS1saXN0LWNvbnRlbnR7Y2xlYXI6Ym90aH0nCiAgICAgICAgICAgICwnLnVucGlueyBkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQgfScKICAgICAgICAgICAsJyddLmpvaW4oJ1xuJyk7Cn0KCnZhciBjc3NfY29tbWVudD0nJzsKaWYocGFnZUlzLkhvbWV8fHBhZ2VJcy5RdWVzdGlvbnx8cGFnZUlzLkFuc3dlcil7CiAgICBjc3NfY29tbWVudCA9IHdpbmRvdy5pWmhpaHUuQ29tbWVudC5jc3M7Cn0KCmNzcyArPSB3aW5kb3cuaVpoaWh1LkFuc3dlci5jc3M7CgppZih3aW5kb3cuaVpoaWh1LlF1aWNrRmF2byl7CiAgICBjc3MgKz0gd2luZG93LmlaaGlodS5RdWlja0Zhdm8uY3NzOwp9CmlmKHdpbmRvdy5pWmhpaHUuUXVpY2tCbG9jayl7CiAgICBjc3MgKz0gd2luZG93LmlaaGlodS5RdWlja0Jsb2NrLmNzczsKfQppZih3aW5kb3cuaVpoaWh1Lk5vdGk3KXsKICAgIGNzcyArPSB3aW5kb3cuaVpoaWh1Lk5vdGk3LmNzczsKICAgIHdpbmRvdy5pWmhpaHUuTm90aTcuZW5oYW5jZSgpOwp9CnZhciBoZWFkcyA9IF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKaWYgKGhlYWRzLmxlbmd0aCA+IDApIHsKICAgIHZhciBub2RlID0gX2RvYy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOwogICAgbm9kZS50eXBlID0gInRleHQvY3NzIjsKICAgIG5vZGUuaWQgPSAiaXpoQ1NTX21haW4iOwogICAgbm9kZS5hcHBlbmRDaGlsZChfZG9jLmNyZWF0ZVRleHROb2RlKGNzcykpOwogICAgaGVhZHNbMF0uYXBwZW5kQ2hpbGQobm9kZSk7IAogICAgaWYoY3NzX2NvbW1lbnQhPScnKXsKICAgICAgICBub2RlID0gX2RvYy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpCiAgICAgICAgbm9kZS50eXBlID0gInRleHQvY3NzIjsKICAgICAgICBub2RlLmlkID0gIml6aENTU19jb21tZW50IjsKICAgICAgICBub2RlLmFwcGVuZENoaWxkKF9kb2MuY3JlYXRlVGV4dE5vZGUoY3NzX2NvbW1lbnQpKTsKICAgICAgICBoZWFkc1swXS5hcHBlbmRDaGlsZChub2RlKTsKICAgIH0KfQoKaWYoISQoJy5tb2RhbC1kaWFsb2ctYmcnKS5sZW5ndGgpewogICAgJGJvZHkuYXBwZW5kKAogICAgICAgICQoJzxkaXYnLCB7IGlkOiAnaXpoLWRsZy1iZycsICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctYmcnIH0pLmNzcyh7CiAgICAgICAgICAgICd6LWluZGV4JzogOTUKICAgICAgICAgICwgJ29wYWNpdHknOiAwLjUKICAgICAgICAgICwgJ3Bvc2l0aW9uJzogJ2ZpeGVkJwogICAgICAgICAgLCAndG9wJzogMAogICAgICAgICAgLCAnYm90dG9tJzogMAogICAgICAgICAgLCAnbGVmdCc6IDAKICAgICAgICAgICwgJ3JpZ2h0JzogMAogICAgICAgICAgLCAnZGlzcGxheSc6ICdub25lJwogICAgICAgIH0pCiAgICApOwp9Cgp3aW5kb3cuaVpoaWh1LmdldEl0ZW09ZnVuY3Rpb24oJGMpewogICAgdmFyICRpdGVtPSQobnVsbCk7CiAgICBpZigkYyAmJiAkYy5sZW5ndGgpeyAKICAgICAgICB2YXIgJGl0ZW1NZXRhPSRjLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKTsKICAgICAgICBpZiAoJGl0ZW1NZXRhLmlzKCcuZmVlZC1tZXRhJykgfHwgJGl0ZW1NZXRhLnBhcmVudCgpLmlzKCcuZmVlZC1tZXRhJykpewogICAgICAgICAgICAkaXRlbT0kYy5jbG9zZXN0KCcuZmVlZC1pdGVtJyk7CiAgICAgICAgICAgICRpdGVtLmF0dHIoJ2RhdGEtYWlkJywgJGl0ZW0uY2hpbGRyZW4oJ21ldGFbaXRlbXByb3A9YW5zd2VyLWlkXScpLmF0dHIoJ2NvbnRlbnQnKSkKICAgICAgICB9ZWxzZSBpZigkaXRlbU1ldGEuaXMoJy5hbnN3ZXItYWN0aW9ucycpKXsKICAgICAgICAgICAgJGl0ZW09JGMuY2xvc2VzdCgnLnptLWl0ZW0tYW5zd2VyLC5mZWVkLWl0ZW0nKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGl0ZW09JGl0ZW1NZXRhLnByZXYoKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJGl0ZW07Cn07Cgp1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKGRvY3VtZW50LmJvZHksZnVuY3Rpb24oZXZlbnQpewoJaWYoaXpoVG9wTmF2QXV0b0ZvbGQpewoJCXdpbmRvdy5pWmhpaHUuVG9wTmF2Lm9uTm9kZUFkZGVkKGV2ZW50KQoJfQp9KQovKioKICogQGNsYXNzIEFuc3dlcgogKi8KZnVuY3Rpb24gQW5zd2VyKGlaaGlodSkgewogICAgaWYgKCB0eXBlb2YgaVpoaWh1ID09PSAndW5kZWZpbmVkJyB8fCAhaVpoaWh1KSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBpWmhpaHUuQW5zd2VyID0gdGhpczsKCiAgICB0aGlzLl9lPW51bGw7CiAgICB0aGlzLnBwV2lkdGg9MDsKICAgIHRoaXMucHBIZWlnaHQ9NDAwOwoKICAgIHRoaXMuY3NzID0gCiAgICAgICAgWycuem0tdm90ZWJhciAuaXpoLWJ1dHRvbi5mb2xke21hcmdpbjo1cHggMHB4IDBweDtkaXNwbGF5OmJsb2NrO2NvbG9yOiM2OThFQkY7aGVpZ2h0OjI0cHg7bGluZS1oZWlnaHQ6MjRweDt3aWR0aDozOHB4O2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjowcHggbm9uZTtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOm5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJSAjRUZGNkZBO2ZvbnQtd2VpZ2h0OmZvbnQtd2VpZ2h0O3Bvc2l0aW9uOnJlbGF0aXZlO30nCiAgICAgICAgLCcnXS5qb2luKCdcbicpOwoKICAJdGhpcy5wcm9jZXNzQW5zd2VyPWZ1bmN0aW9uKCRhLCRwcCxiQXV0aG9yUmVhcixiQXV0aG9yTGlzdCl7CiAgICAgICAgaWYoISRhfHwhJGEubGVuZ3RoKXJldHVybjsKICAgICAgICBpZigkYS5hdHRyKCdpemhfcHJvY2Vzc2VkJyk9PScxJylyZXR1cm47CiAgICAgICAgdmFyIHNlbENvbGxhcHNlPScubWV0YS1pdGVtW25hbWU9Y29sbGFwc2VdJwogICAgICAgICAgLCAkbWV0YT0kYS5maW5kKCcuem0taXRlbS1tZXRhJykKICAgICAgICAgICwgJGF1dGhvcj0kYS5maW5kKCcuem0taXRlbS1hbnN3ZXItYXV0aG9yLWluZm8nKQogICAgICAgICAgLCAkZmF2bz0kYS5maW5kKCcubWV0YS1pdGVtW25hbWU9ZmF2b10nKQogICAgICAgICAgLCAkdm90ZT0kYS5maW5kKCcuem0tdm90ZWJhcicpCiAgICAgICAgOwogICAgICAgIGlmKGlaaGlodS5RdWlja0Jsb2NrKXsKICAgICAgICAgICAgLy8gUmVnaW9uOiDlv6vpgJ/lsY/olL0KICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suYWRkUXVpY2tCbG9jaygkYSkKCiAgICAgICAgICAgIC8vIFJlZ2lvbiBlbmQKICAgICAgICB9CiAgICAgICAgaWYoJGF1dGhvci5sZW5ndGgpey8vcmVsb2NhdGVQZXJzb25JbmZvCiAgICAgICAgICAgIGlmKGJBdXRob3JSZWFyKXsKICAgICAgICAgICAgICAgICRhdXRob3IuY3NzKHsKICAgICAgICAgICAgICAgICAgICAndGV4dEFsaWduJzoncmlnaHQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmKCRhLmlzKCcuZmVlZC1pdGVtJykpewogICAgICAgICAgICAgICAgICAgICRhLmZpbmQoJy5lbnRyeS1ib2R5IC56bS1pdGVtLWFuc3dlci1kZXRhaWwgLnptLWl0ZW0tcmljaC10ZXh0JykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkYXV0aG9yLmhpZGUoKSkuYmluZCgnRE9NTm9kZUluc2VydGVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGM9JChldmVudC50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGMuaXMoJy56bS1lZGl0YWJsZS1jb250ZW50JykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJy56bS1pdGVtLWFuc3dlci1hdXRob3ItaW5mbycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbnNlcnRCZWZvcmUoJGMuY2hpbGRyZW4oJy5hbnN3ZXItZGF0ZS1saW5rLXdyYXAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdyaWdodCc6MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJGF1dGhvci5pbnNlcnRCZWZvcmUoJG1ldGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRhdXRob3I9JGF1dGhvci5jaGlsZHJlbigpLmVxKDEpOwogICAgICAgICAgICBpZiAoJHBwICYmIGJBdXRob3JMaXN0KXsKICAgICAgICAgICAgICAgIC8vIFJlZ2lvbjog5Zue562U55uu5b2V6aG5CiAgICAgICAgICAgICAgICB2YXIgY29sbGFwc2VkPSRhLmF0dHIoJ2RhdGEtY29sbGFwc2VkJyk9PScxJwogICAgICAgICAgICAgICAgICAsICRwcGxhPSQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjonI2Fuc3dlci0nKyRhLmF0dHIoJ2RhdGEtYWlkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAsIHRhcmdldDonX3NlbGYnCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCBzdHlsZTpjc3NfQXV0aG9yTGlzdEl0ZW1BCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICwgJHBwbD0kKCc8bGk+JykuYXBwZW5kKCRwcGxhKQogICAgICAgICAgICAgICAgICAsICR1bm89aVpoaWh1LiR1bm9BbnN3ZXJzCiAgICAgICAgICAgICAgICBpZihjb2xsYXBzZWQpewogICAgICAgICAgICAgICAgICAgICRwcGwuYXBwZW5kVG8oJHBwKQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJHBwbC5pbnNlcnRCZWZvcmUoJHVuby4kZW5kT2ZMYXN0QSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRhLmF0dHIoJ2RhdGEtaXNvd25lcicpPT0nMScpewogICAgICAgICAgICAgICAgICAgIGlaaGlodS5BbnN3ZXIuX2U9JGEuZ2V0KDApOwogICAgICAgICAgICAgICAgICAgICRwcGxhLmFwcGVuZCgkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6ICdtZScgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIG5hbWVDU1M9J25hbWUnOwogICAgICAgICAgICAgICAgaWYoJGEuYXR0cignZGF0YS1pc2ZyaWVuZCcpPT0nMScpewogICAgICAgICAgICAgICAgICAgIG5hbWVDU1MrPScgZnJpZW5kJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGNvbGxhcHNlZCl7CiAgICAgICAgICAgICAgICAgICAgbmFtZUNTUys9JyBjb2xsYXBzZWQnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZighJGF1dGhvci5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgIG5hbWVDU1MrPScgbm9uYW1lJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICQoJzxzcGFuPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6bmFtZUNTUwogICAgICAgICAgICAgICAgICAsIHN0eWxlOmNzc19BdXRob3JMaXN0SXRlbUFfbmFtZQogICAgICAgICAgICAgICAgfSkudGV4dCghJGF1dGhvci5sZW5ndGg/J+WMv+WQjeeUqOaItyc6JGF1dGhvci50ZXh0KCkpLmFwcGVuZFRvKCRwcGxhKTsKICAgICAgICAgICAgICAgIGlmICgkcHBsLndpZHRoKCk+aVpoaWh1LkFuc3dlci5wcFdpZHRoKQogICAgICAgICAgICAgICAgICAgIGlaaGlodS5BbnN3ZXIucHBXaWR0aD0kcHBsLndpZHRoKCk7CiAgICAgICAgICAgICAgICAvLyBSZWdpb24gZW5kCiAgICAgICAgICAgICAgICAvLyBSZWdpb246IOWbnuetlOevh+W5heaMh+ekugogICAgICAgICAgICAgICAgdmFyIG5IUD1NYXRoLmNlaWwoJCgnLnptLWVkaXRhYmxlLWNvbnRlbnQnLCRhKS50ZXh0KCkubGVuZ3RoLzEwMCk7CiAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nLHsKICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidocCcKICAgICAgICAgICAgICAgIH0pLmNzcyh7J3dpZHRoJzpuSFAqMTAsJ21hcmdpbi1sZWZ0JzotbkhQKjEwfSkuYXBwZW5kVG8oJHBwbGEpOwogICAgICAgICAgICAgICAgLy8gUmVnaW9uIGVuZAogICAgICAgICAgICAgICAgJHBwbGEubW91c2VvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRmcm09JCh0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKQogICAgICAgICAgICAgICAgICAgICAgLCAkdW5vPWlaaGlodS4kdW5vQW5zd2VycwogICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbCcpOwogICAgICAgICAgICAgICAgICAgIGlmKGlaaGlodS5BbnN3ZXIuX2UpewogICAgICAgICAgICAgICAgICAgICAgICAkdW5vLmNoaWxkcmVuKCcubWVUJykuY3NzKCdkaXNwbGF5JywwPmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0VG9wLSRmcm0uc2Nyb2xsVG9wKCk/Jyc6J25vbmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHVuby5jaGlsZHJlbignLm1lQicpLmNzcygnZGlzcGxheScsJGZybS5oZWlnaHQoKTxpWmhpaHUuQW5zd2VyLl9lLm9mZnNldFRvcC0kZnJtLnNjcm9sbFRvcCgpK2laaGlodS5BbnN3ZXIuX2Uub2Zmc2V0SGVpZ2h0PycnOidub25lJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIFJlZ2lvbjog5Zue562U6aKE6KeICiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbT0kKCdzcGFuLm5hbWUnLHRoaXMpOwogICAgICAgICAgICAgICAgICAgIGlmKCFuYW0ubGVuZ3RoKXJldHVybjsKICAgICAgICAgICAgICAgICAgICB2YXIgYWlkPSQodGhpcykuYXR0cignaHJlZicpLnJlcGxhY2UoJyNhbnN3ZXItJywnJykKICAgICAgICAgICAgICAgICAgICAgICwgcHJ2PSR1bm8ubmV4dCgnLml6aC1hbnN3ZXItcHJldmlldycpCiAgICAgICAgICAgICAgICAgICAgICAsIHRvcD0kKHRoaXMpLnBvc2l0aW9uKCkudG9wKyR1bm8ucG9zaXRpb24oKS50b3AKICAgICAgICAgICAgICAgICAgICAgICwgc2VsPScuem0taXRlbS1hbnN3ZXJbZGF0YS1haWQ9JythaWQrJ10gPiAuem0taXRlbS1yaWNoLXRleHQnCiAgICAgICAgICAgICAgICAgICAgICAsIGN0eD1uYW0uaXMoJy5jb2xsYXBzZWQnKT8nI3poLXF1ZXN0aW9uLWNvbGxhcHNlZC13cmFwJzonI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwJwogICAgICAgICAgICAgICAgICAgICAgLCBkaXY9JChzZWwsY3R4KQogICAgICAgICAgICAgICAgICAgICAgLCBjbXQ9JCgnLnptLWl0ZW0tbWV0YSA+IC56dS1xdWVzdGlvbi1hbnN3ZXItbWV0YS1jb21tZW50JyxkaXYucGFyZW50KCkpCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgIGlmKCFwcnYubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJ2PSQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzpkaXYuY2xhc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2l6aC1hbnN3ZXItcHJldmlldycpLndpZHRoKGRpdi53aWR0aCgpKzIyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vdXNlb3ZlcihmdW5jdGlvbigpeyR1bm8ubW91c2VvdmVyKCk7JCgnbGkgYVtocmVmPSMnKyQodGhpcykuYXR0cignZGF0YS1haWQnKSsnXScsJHVubykuYWRkQ2xhc3MoJ3NlbCcpOyQodGhpcykuc2hvdygpO30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubW91c2VvdXQoZnVuY3Rpb24oKXskdW5vLm1vdXNlb3V0KCk7JCgnbGkgYVtocmVmPSMnKyQodGhpcykuYXR0cignZGF0YS1haWQnKSsnXScsJHVubykucmVtb3ZlQ2xhc3MoJ3NlbCcpOyQodGhpcykuaGlkZSgpO30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24oKXskKCdsaSBhW2hyZWY9IycrJCh0aGlzKS5hdHRyKCdkYXRhLWFpZCcpKyddJywkdW5vKVswXS5jbGljaygpO30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJHVubykKICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihwcnYuYXR0cignZGF0YS1haWQnKSE9YWlkKXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJ2LmF0dHIoJ2RhdGEtYWlkJyxhaWQpLmVtcHR5KCkuYXBwZW5kKGRpdi5jbG9uZSgpLmNoaWxkcmVuKCkpLmZpbmQoJ2EnKS5hdHRyKCdvbmNsaWNrJywncmV0dXJuIGZhbHNlOycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZigkKCdzcGFuLm1lJyx0aGlzKS5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcnYuZmluZCgnYS56dS1lZGl0LWJ1dHRvbicpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighbmFtLmhhc0NsYXNzKCdub25hbWUnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2ltZy56bS1saXN0LWF2YXRhcicsZGl2LnBhcmVudCgpKS5jbG9uZSgpLmFwcGVuZFRvKHBydik7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0PWNtdC50ZXh0KCksaT10LmluZGV4T2YoJ+adoeivhOiuuicpOwogICAgICAgICAgICAgICAgICAgICAgICBpZihjbXQubGVuZ3RoJiZpPjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nLHsnY2xhc3MnOidjb21tZW50J30pLnRleHQodC5zdWJzdHJpbmcoMCxpKSkucHJlcGVuZChjbXQuY2hpbGRyZW4oJ2knKS5jbG9uZSgpKS5hcHBlbmRUbyhwcnYpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgdGg9ZGl2LmhlaWdodCgpKzMzCiAgICAgICAgICAgICAgICAgICAgICAsIG1heFRvcD0kdW5vLnBvc2l0aW9uKCkudG9wKzEyCiAgICAgICAgICAgICAgICAgICAgICAsIGNvbnRlbnRQb3NpdGlvbj0nJzsKICAgICAgICAgICAgICAgICAgICBpZihtYXhUb3ArdGg8JHdpbi5oZWlnaHQoKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRvcCt0aDwkd2luLmhlaWdodCgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBydi5jc3Moeyd0b3AnOnRvcD5tYXhUb3A/dG9wOm1heFRvcCwnYm90dG9tJzonJ30pOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBydi5jc3Moeyd0b3AnOicnLCdib3R0b20nOjB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBwcnYuY3NzKHsndG9wJzptYXhUb3AsJ2JvdHRvbSc6MH0pOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UG9zaXRpb249J2Fic29sdXRlJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcHJ2LmNzcyh7J2xlZnQnOiR1bm8ud2lkdGgoKX0pLnNob3coKS5jaGlsZHJlbigpLmZpcnN0KCkuY3NzKCdwb3NpdGlvbicsY29udGVudFBvc2l0aW9uKTsKICAgICAgICAgICAgICAgICAgICAvLyBSZWdpb24gZW5kCiAgICAgICAgICAgICAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ3NlbCcpOwogICAgICAgICAgICAgICAgICAgIHZhciAkdW5vPSQodGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgICAgICAgICAkdW5vLm5leHQoKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9KS5jbGljayhmdW5jdGlvbigpeyQodGhpcykubW91c2VvdXQoKTsKICAgICAgICAgICAgICAgIGlaaGlodS4kdW5vQW5zd2Vycy5jc3MoJ2xlZnQnLDktaVpoaWh1LiR1bm9BbnN3ZXJzLndpZHRoKCkpO30pOwogICAgICAgICAgICAgICAgaWYoaVpoaWh1LkFuc3dlci5fZT09JGEuZ2V0KDApKXsKICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQW5zd2VyLl9lPSRwcGxhLmdldCgwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYoaVpoaWh1LlF1aWNrRmF2bykKICAgICAgICAgICAgaVpoaWh1LlF1aWNrRmF2by5hZGRRdWlja0Zhdm8oJGZhdm8sJGEpOwoKICAgICAgICAkbWV0YS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJChldmVudC50YXJnZXQpKTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBpWmhpaHUuQ29tbWVudC5wcm9jZXNzQ29tbWVudEJ1dHRvbigkYSk7CgogICAgICAgIHZhciAkY209JCgnLnptLWNvbW1lbnQtYm94JywkYSk7CiAgICAgICAgaWYoJGNtLmxlbmd0aCAmJiAkY20uaXMoJzp2aXNpYmxlJykpewogICAgICAgIAl2YXIgZm9jdXNOYW1lID0gaVpoaWh1LkNvbW1lbnQuc2Nyb2xsRm9jdXNDb21tZW50T25QYWdlTG9hZCgkY20pOwogICAgCiAgICAgICAgICAgIGlaaGlodS5Db21tZW50Lm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20oJGNtLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKSxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJGNtLCBmb2N1c05hbWUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJGEuYXR0cignaXpoX3Byb2Nlc3NlZCcsJzEnKTsKICAgIH07CgogICAgcmV0dXJuIHRoaXM7Cn0KCi8qKgogKiBAY2xhc3MgQ29tbWVudAogKi8KZnVuY3Rpb24gQ29tbWVudChpWmhpaHUpIHsKICAgIGlmICggdHlwZW9mIGlaaGlodSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlaaGlodSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaVpoaWh1LkNvbW1lbnQgPSB0aGlzOwoKICAgIHZhciBjc3NfY29tbWVudD17CiAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzonI2ZmZicKICAgICAgICAgICwgJ291dGxpbmUnOidub25lJwogICAgICAgICAgLCAnei1pbmRleCc6Jzk5OTknCiAgICAgICAgICAsICdib3JkZXItcmFkaXVzJzonMCA2cHggMCAwJwogICAgICAgICAgLCAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICwgJ3Zpc2liaWxpdHknOidoaWRkZW4nCiAgICAgICAgICAsICd0b3AnOi03MAogICAgICAgIH0KICAgIDsKICAgIHRoaXMuUmlnaHRDb21tZW50ID0gaVpoaWh1LmNvbmZpZ1snU2hvd0NvbW1lbnQnXTsKICAgIHRoaXMuQXV0b1Njcm9sbFBhZ2VXaGVuQ2xvc2luZyA9IGlaaGlodS5jb25maWdbJ1JpZ2h0Q29tbWVudF9BdXRvU2Nyb2xsUGFnZVdoZW5DbG9zaW5nJ107CiAgICBpZiAoIXRoaXMuUmlnaHRDb21tZW50KXsKICAgICAgICB0aGlzLmNzcyA9IAogICAgICAgICAgICBbJy56bS1jb21tZW50LWJveC5lbXB0eSAuaXpoLWJ1dHRvbi1jY3tkaXNwbGF5Om5vbmU7fScKICAgICAgICAgICAgLCcnXS5qb2luKCdcbicpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNzcyA9IAogICAgICAgICAgICBbJy5tZW50aW9uLXBvcHVwe3otaW5kZXg6MTAwMDAgIWltcG9ydGFudDt9JwogICAgICAgICAgICAsJy56bS1pdGVtLW1ldGEgLm1ldGEtaXRlbS50b2dnbGUtY29tbWVudHtkaXNwbGF5OmJsb2NrO2Zsb2F0OnJpZ2h0O21hcmdpbi1sZWZ0OjdweCAhaW1wb3J0YW50O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94e3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuaWNvbi1zcGlrZXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCA+IC56bS1jb21tZW50LWJveC1mdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveC5lbXB0eXtwYWRkaW5nLXRvcDoxMHB4ICFpbXBvcnRhbnQ7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggPiAuem0tY29tbWVudC1mb3Jte21hcmdpbjoxNXB4ICFpbXBvcnRhbnQ7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3guZW1wdHkgPiAuem0tY29tbWVudC1mb3Jte2JvdHRvbToyNXB4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94ID4gLnptLWNvbW1lbnQtZm9ybSAuem0tY29tbWVudC1lZGl0YWJsZXtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206NjBweDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtvdmVyZmxvdzphdXRvO30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94LmVtcHR5ID4gLnptLWNvbW1lbnQtZm9ybSAuem0tY29tbWVudC1lZGl0YWJsZXtib3R0b206MjVweDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCA+IC56bS1jb21tZW50LWZvcm0gLnptLWNvbW1hbmR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjQwcHg7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3guZW1wdHkgPiAuem0tY29tbWVudC1mb3JtIC56bS1jb21tYW5ke2JvdHRvbToxMHB4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IFtjbGFzc149aXpoLWJ1dHRvbnMtY21de3Bvc2l0aW9uOmFic29sdXRlO3RvcDo3MHB4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94LmVtcHR5IFtjbGFzc149aXpoLWJ1dHRvbnMtY21de3RvcDphdXRvO2JvdHRvbTozMHB4O3otaW5kZXg6MTA7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggLml6aC1idXR0b25zLWNtLUx7bGVmdDowO30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IC5pemgtYnV0dG9ucy1jbS1MID4gYXttYXJnaW4tcmlnaHQ6N3B4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IC5pemgtYnV0dG9ucy1jbS1Se3JpZ2h0OjFlbTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuaXpoLWJ1dHRvbnMtY20tUiA+IGF7bWFyZ2luLWxlZnQ6N3B4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IGEuaXpoLWJ1dHRvbi5vbntjb2xvcjojMjI1NTk5O3RleHQtc2hhZG93OjAgMCAxcHggIzIyNTU5OTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCBhLml6aC1idXR0b24gLnpnLWljb257b3BhY2l0eTowLjU7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggYS5pemgtYnV0dG9uLm9uIC56Zy1pY29ue29wYWNpdHk6MTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCBhLml6aC1idXR0b24ub2Zme2NvbG9yOiNlZWU7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggYS5pemgtYnV0dG9uLm9mZiAuemctaWNvbntvcGFjaXR5OjAuMjt9JwogICAgICAgICAgICAvLywnLnptLWNvbW1lbnQtYm94LmVtcHR5IFtjbGFzc149aXpoLWJ1dHRvbnMtY21de3RvcDphdXRvO2JvdHRvbTo3cHg7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3guZW1wdHkgLnptLWNvbW1lbnQtbGlzdHt2aXNpYmlsaXR5OmhpZGRlbjt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuem0tY29tbWVudC1saXN0IC56bS1pdGVtLWNvbW1lbnRbaXpoX2hpbGlnaHRde2JhY2tncm91bmQtY29sb3I6cmdiKDI1NSwyNTUsMTYwKTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuaXpoLWJ1dHRvbi5vbiAuemctaWNvbi1jb21tZW50LWxpa2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMjIycHggLTc5cHg7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggLml6aC1idXR0b24gLnotaWNvbi1mb2xke2hlaWdodDo2cHg7fScKICAgICAgICAgICAgLCcnXS5qb2luKCdcbicpOwogICAgICAgIHRoaXMub25XaW5Mb2FkPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBpWmhpaHU9d2luZG93LmlaaGlodTsKICAgICAgICAgICAgaVpoaWh1LiR3aW4uc2Nyb2xsKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIGlmKGlaaGlodS5Db21tZW50Lk9wZW5pbmcmJiFpWmhpaHUuQ29tbWVudC5QYWdlTm90U2Nyb2xsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0ZT10cnVlOwogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkKGlaaGlodS5Db21tZW50Lk9wZW5pbmcpLHRydWUsYW5pbWF0ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIAogICAgICAgICAgICBpWmhpaHUuJHdpbi5yZXNpemUoZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgaWYoaVpoaWh1LkNvbW1lbnQuT3BlbmluZyl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRjbT0kKGlaaGlodS5Db21tZW50Lk9wZW5pbmcpOwogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50Lk9wZW5pbmcgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmNsb3NlKG51bGwsJGNtKTsKICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5vcGVuKG51bGwsJGNtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKGlaaGlodS5TY3JvbGxUb3ApewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A9aVpoaWh1LlNjcm9sbFRvcDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLm9uV2luTG9hZCgpCiAgICB9CiAgICB0aGlzLnByb2Nlc3NDb21tZW50QnV0dG9uID0gZnVuY3Rpb24oJGEpewogICAgICAgIGlmKGlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgICAgIHZhciAkYmM9JGEuZmluZCgnLm1ldGEtaXRlbS50b2dnbGUtY29tbWVudCcpOwogICAgICAgICAgICAkYmMucHJlcGVuZFRvKCRiYy5wYXJlbnQoKSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuc2Nyb2xsRm9jdXNDb21tZW50T25QYWdlTG9hZCA9IGZ1bmN0aW9uKCRjbSl7CiAgICAgICAgaWYoIWlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudClyZXR1cm47CiAgICAgICAgdmFyIGZvY3VzTmFtZT11cmwuZGF0YS5hdHRyLmZyYWdtZW50OwogICAgICAgIGlmKCFmb2N1c05hbWV8fGZvY3VzTmFtZT09JycpcmV0dXJuOwogICAgCWlmKHdpbmRvdy5pWmhpaHU0Q1JYKXsKICAgICAgICAgICAgdmFyICRpY20yQz0kY20uZmluZCgnLnptLWNvbW1lbnQtbGlzdCAuem0taXRlbS1jb21tZW50IGEuemctYW5jaG9yLWhpZGRlbltuYW1lPSInK2ZvY3VzTmFtZSsnIl0nKS5wYXJlbnQoKQogICAgICAgICAgICAgICwgb2Zmc2V0VG9wPSRpY20yQy5sZW5ndGg/JGljbTJDLm9mZnNldCgpLnRvcDowCiAgICAgICAgICAgIDtpZihvZmZzZXRUb3Ape2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wPW9mZnNldFRvcDt9CiAgICAJfQogICAgICAgIHJldHVybiBmb2N1c05hbWU7CiAgICB9OwogICAgCiAgICB0aGlzLm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20gPSBmdW5jdGlvbigkaXRlbU1ldGEsZnVuY0FmdGVyU2Nyb2xsLGFsd2F5cyxhbmltYXRlKXsKICAgICAgICBpZighaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50IHx8ICFpWmhpaHUuQ29tbWVudC5BdXRvU2Nyb2xsUGFnZVdoZW5DbG9zaW5nKXsKICAgICAgICAgICAgaWYoZnVuY0FmdGVyU2Nyb2xsKXtmdW5jQWZ0ZXJTY3JvbGwoKTt9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYodHlwZW9mIGFsd2F5cyA9PT0gJ3VuZGVmaW5lZCcpYWx3YXlzPXRydWU7Ly9pZiBmYWxzZSwgc2Nyb2xsaW5nIG9ubHkgd2hlbiB0aGUgLnptLWl0ZW0tbWV0YSBvdXQgb2YgdmlzaWJsZSByYW5nZQogICAgICAgIGlmKHR5cGVvZiBhbmltYXRlID09PSAndW5kZWZpbmVkJylhbmltYXRlPWZhbHNlOy8vaWYgZmFsc2UsIHNjcm9sbGluZyBpbnN0YW50bHkKICAgICAgICBpZihhbHdheXMpJGl0ZW1NZXRhLmNoaWxkcmVuKCcuem0tY29tbWVudC1ib3gnKS5jc3MoJ3Bvc2l0aW9uJywnZml4ZWQnKTsKICAgICAgICB2YXIgd2luSGVpZ2h0PWlaaGlodS4kd2luLmhlaWdodCgpCiAgICAgICAgICAsIHNjcm9sbE9iaj13aW5kb3cuaVpoaWh1NENSWD9kb2N1bWVudC5ib2R5OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudAogICAgICAgICAgLCBzY3JvbGxUb3BOb3c9c2Nyb2xsT2JqLnNjcm9sbFRvcAogICAgICAgICAgLCBuYXZIZWlnaHQ9aVpoaWh1LiRib2R5LmNoaWxkcmVuKCkuZmlyc3QoKS5oZWlnaHQoKQogICAgICAgICAgLCBiYXI9JCgnLnp1LWdsb2JhbC1ub3RpZnkuenUtZ2xvYmFsLW5vdGlmeS1pbmZvOnZpc2libGUnKQogICAgICAgICAgLCBiYXJIZWlnaHQ9IWJhci5sZW5ndGg/MDpiYXIub3V0ZXJIZWlnaHQoKQogICAgICAgICAgLCBiYXNlVG9wPSgoYmFySGVpZ2h0JiZiYXIuY3NzKCdwb3NpdGlvbicpPT0nZml4ZWQnKT9iYXJIZWlnaHQ6KHNjcm9sbFRvcE5vdz5iYXJIZWlnaHQ/MDpiYXJIZWlnaHQtc2Nyb2xsVG9wTm93KSkrbmF2SGVpZ2h0CiAgICAgICAgICAsIG1heEhlaWdodD13aW5IZWlnaHQtYmFzZVRvcAogICAgICAgICAgLCBtZXRhSGVpZ2h0PSRpdGVtTWV0YS5pbm5lckhlaWdodCgpCiAgICAgICAgICAsIG9mZnNldFRvcD0kaXRlbU1ldGEub2Zmc2V0KCkudG9wCiAgICAgICAgICAsIG9mZnNldEJvdHRvbT1vZmZzZXRUb3ArbWV0YUhlaWdodAogICAgICAgICAgLCAkaXRlbT1pWmhpaHUuZ2V0SXRlbSgkaXRlbU1ldGEpCiAgICAgICAgICAsIGl0ZW1IZWlnaHQ9JGl0ZW0uaW5uZXJIZWlnaHQoKQogICAgICAgICAgLCBvZmZzZXRUb3BBPSRpdGVtLm9mZnNldCgpLnRvcAogICAgICAgICAgLCBvZmZzZXRCb3R0b21BPW9mZnNldFRvcEEraXRlbUhlaWdodAogICAgICAgICAgLCBzY3JvbGxUb3BFbmQ9aXRlbUhlaWdodD5tYXhIZWlnaHQ/b2Zmc2V0Qm90dG9tLXdpbkhlaWdodDoob2Zmc2V0VG9wQTw9c2Nyb2xsVG9wTm93P29mZnNldFRvcEEtYmFzZVRvcDpvZmZzZXRCb3R0b20td2luSGVpZ2h0KQogICAgICAgIDsKICAgICAgICBpZighYWx3YXlzKXsKICAgICAgICAgICAgYWx3YXlzPW9mZnNldFRvcDxzY3JvbGxUb3BOb3crYmFzZVRvcHx8b2Zmc2V0Qm90dG9tPnNjcm9sbFRvcE5vdyt3aW5IZWlnaHQtYmFzZVRvcDsKICAgICAgICB9CiAgICAgICAgaWYoYWx3YXlzKXsKICAgICAgICAgICAgaVpoaWh1LlNjcm9sbFRvcD1zY3JvbGxUb3BFbmQ7CiAgICAgICAgICAgIGlmKGFuaW1hdGUpewogICAgICAgICAgICAgICAgJChzY3JvbGxPYmopLmFuaW1hdGUoeydzY3JvbGxUb3AnOnNjcm9sbFRvcEVuZH0sZnVuY0FmdGVyU2Nyb2xsKTsKICAgICAgICAJfWVsc2V7CiAgICAgICAgICAgICAgICAkKHNjcm9sbE9iaikuc2Nyb2xsVG9wKHNjcm9sbFRvcEVuZCk7CiAgICAgICAgICAgICAgICBpZihmdW5jQWZ0ZXJTY3JvbGwpe2Z1bmNBZnRlclNjcm9sbCgpO30KICAgICAgICAJfQogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZihmdW5jQWZ0ZXJTY3JvbGwpe2Z1bmNBZnRlclNjcm9sbCgpO30KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5ib3ggPSBmdW5jdGlvbigkY20sa2VlcFNpemUsYW5pbWF0ZSl7aWYoISRjbXx8ISRjbS5sZW5ndGgpcmV0dXJuOwogICAgICAgICRjbS5zdG9wKCk7CiAgICAgICAgaWYodHlwZW9mIGtlZXBTaXplID09PSAndW5kZWZpbmVkJylrZWVwU2l6ZT1mYWxzZTsKICAgICAgICBpZih0eXBlb2YgYW5pbWF0ZSA9PT0gJ3VuZGVmaW5lZCcpYW5pbWF0ZT1mYWxzZTsKICAgICAgICB2YXIgd2luSGVpZ2h0PWlaaGlodS4kd2luLmhlaWdodCgpCiAgICAgICAgICAsIHRoPWtlZXBTaXplP3BhcnNlSW50KCRjbS5hdHRyKCdpemhfY21IZWlnaHQnKSk6MAogICAgICAgICAgLCBzY3JvbGxUb3A9KGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKT9kb2N1bWVudC5ib2R5LnNjcm9sbFRvcDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wCiAgICAgICAgICAsIG5hdkhlaWdodD1pWmhpaHUuJGJvZHkuY2hpbGRyZW4oKS5maXJzdCgpLmhlaWdodCgpCiAgICAgICAgICAsIGJhcj0kKCcuenUtZ2xvYmFsLW5vdGlmeS56dS1nbG9iYWwtbm90aWZ5LWluZm86dmlzaWJsZScpCiAgICAgICAgICAsIGJhckhlaWdodD0hYmFyLmxlbmd0aD8wOmJhci5vdXRlckhlaWdodCgpCiAgICAgICAgICAsIGJhc2VUb3A9KChiYXJIZWlnaHQmJmJhci5jc3MoJ3Bvc2l0aW9uJyk9PSdmaXhlZCcpP2JhckhlaWdodDooc2Nyb2xsVG9wPmJhckhlaWdodD8wOmJhckhlaWdodC1zY3JvbGxUb3ApKStuYXZIZWlnaHQKICAgICAgICAgICwgbWluSGVpZ2h0PTExMgogICAgICAgICAgLCBtYXhIZWlnaHQ9d2luSGVpZ2h0LWJhc2VUb3AtMzUKICAgICAgICAgICwgdG9vU21hbGw9bWF4SGVpZ2h0PG1pbkhlaWdodAogICAgICAgICAgLCAkbWV0YT0kY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpCiAgICAgICAgICAsIG1ldGFIZWlnaHQ9MiokbWV0YS5oZWlnaHQoKS0kbWV0YS5pbm5lckhlaWdodCgpCiAgICAgICAgICAsIG9mZnNldFRvcD1zY3JvbGxUb3AtJG1ldGEub2Zmc2V0KCkudG9wCiAgICAgICAgICAsIG9mZnNldEJvdHRvbT0tb2Zmc2V0VG9wLXdpbkhlaWdodAogICAgICAgIDtpZih0b29TbWFsbCltYXhIZWlnaHQ9bWluSGVpZ2h0OwogICAgICAgIGlmKCF0aHx8aXNOYU4odGgpKXsKICAgICAgICAgICAgdmFyICR0PSRjbS5jbG9uZSgpLmNzcyh7J3Bvc2l0aW9uJzonYWJzb2x1dGUnLCd6LWluZGV4JzonLTEnfSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkuc2hvdygpCiAgICAgICAgICAgICAgLCAkbD0kdC5jaGlsZHJlbignLnptLWNvbW1lbnQtbGlzdCcpCiAgICAgICAgICAgIDsKICAgICAgICAgICAgaWYoISRjbS5pcygnLmVtcHR5JykmJiRsLmNoaWxkcmVuKCkubGVuZ3RoPjApJGwuY3NzKHsncG9zaXRpb24nOidhYnNvbHV0ZScsJ2hlaWdodCc6JycsJ3RvcCc6JycsJ2JvdHRvbSc6Jyd9KTsKICAgICAgICAgICAgdGg9JGwuaGVpZ2h0KCk7CiAgICAgICAgICAgIHRoKz10aD09MD9taW5IZWlnaHQ6MTAwOwogICAgICAgICAgICAkdC5yZW1vdmUoKTskdD1udWxsOy8vY29uc29sZS5sb2codGgpOwogICAgICAgICAgICAkY20uY3NzKCdoZWlnaHQnLHRoPD1taW5IZWlnaHQ/bWluSGVpZ2h0Oih0aDxtYXhIZWlnaHQ/dGgtMTAwOm1heEhlaWdodC04MCkpOwogICAgICAgIH0KICAgICAgICB2YXIgdGFyZ2V0PXt9LG90aGVyPXsnaGVpZ2h0JzonJ307CiAgICAgICAgJGNtLmF0dHIoJ2l6aF9jbUhlaWdodCcsdGgpLmNzcyh7J2Rpc3BsYXknOicnLCd2aXNpYmlsaXR5JzondmlzaWJsZScsJ3Bvc2l0aW9uJzonYWJzb2x1dGUnfSk7CiAgICAgICAgaWYodGg8PW1heEhlaWdodCl7CiAgICAgICAgICAgIHZhciB0b3A9LW9mZnNldFRvcC03MCxmaXhIZWlnaHQ9KHRoPD1taW5IZWlnaHQ/LTE6Nyk7CiAgICAgICAgICAgIGlmKCF0b29TbWFsbCYmdG9wK3RoPndpbkhlaWdodCl7CiAgICAgICAgICAgICAgICB0YXJnZXQ9eyd0b3AnOi1vZmZzZXRCb3R0b20tdGgtbWV0YUhlaWdodCtmaXhIZWlnaHQsJ2JvdHRvbSc6b2Zmc2V0Qm90dG9tfTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBvZmZzZXRUb3ArPSgoIXRvb1NtYWxsKSYmdG9wPmJhc2VUb3A/dG9wOmJhc2VUb3ApOwogICAgICAgICAgICAgICAgdGFyZ2V0PXsndG9wJzpvZmZzZXRUb3AsJ2JvdHRvbSc6LW9mZnNldFRvcC10aC1tZXRhSGVpZ2h0K2ZpeEhlaWdodH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGNtLmZpbHRlcignLmVtcHR5JykuZmluZCgnLnptLWNvbW1lbnQtZm9ybSAuem0tY29tbWVudC1lZGl0YWJsZScpLmNzcyh7J2JvdHRvbSc6Jyd9KTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGFyZ2V0PXsndG9wJzpvZmZzZXRUb3ArYmFzZVRvcCwnYm90dG9tJzpvZmZzZXRCb3R0b219OwogICAgICAgICAgICAkY20uZmlsdGVyKCcuZW1wdHknKS5maW5kKCcuem0tY29tbWVudC1mb3JtIC56bS1jb21tZW50LWVkaXRhYmxlJykuY3NzKHsnYm90dG9tJzonMjBweCd9KTsKICAgICAgICB9CiAgICAgICAgaWYoYW5pbWF0ZSl7CiAgICAgICAgICAgICRjbS5hbmltYXRlKHRhcmdldCxmdW5jdGlvbigpeyRjbS5jc3Mob3RoZXIpO30pOwogICAgICAgIH1lbHNlewogICAgICAgICAgICAkY20uY3NzKCQuZXh0ZW5kKHRhcmdldCxvdGhlcikpOwogICAgICAgIH0KICAgICAgICAkY207CiAgICB9OwogICAgdGhpcy5vcGVuID0gZnVuY3Rpb24oJGFjLCRjbSxpY21Gb2N1cyl7Ly8gaWYgJGFjIGlzIG51bGwsIGp1c3QgcmUtc2l6aW5nIGFuZCByZS1sb2NhdGluZyBjb21tZW50LWJveAogICAgICAgIHZhciBub0NvbW1lbnRPcGVuaW5nID0gaVpoaWh1LkNvbW1lbnQuT3BlbmluZyA9PSBudWxsOwogICAgICAgIGlaaGlodS5Db21tZW50Lk9wZW5pbmcgPSAkY20uYXR0cignaXpoLW9wZW5pbmcnLCcxJykuY3NzKHsnZGlzcGxheSc6J25vbmUnfSkuZ2V0KDApOwogICAgICAgICQoJy56bS1jb21tZW50LWJveDp2aXNpYmxlOm5vdChbaXpoLW9wZW5pbmc9MV0pJykKICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICQoZSkuY3NzKCd2aXNpYmlsaXR5JywnaGlkZGVuJykuY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpLmZpbmQoJy50b2dnbGUtY29tbWVudCcpWzBdLmNsaWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIHZhciB3aW5XaWR0aD1pWmhpaHUuJHdpbi53aWR0aCgpCiAgICAgICAgICAsIG1jTGVmdD1pWmhpaHUuJG1haW4ub2Zmc2V0KCkubGVmdAogICAgICAgICAgLCAkY3Q9JGNtLmNsb3Nlc3QoJy56dS1tYWluLWNvbnRlbnQtaW5uZXInKQogICAgICAgICAgLCBjdE1hcmdpbkw9cGFyc2VJbnQoJGN0LmNzcygnbWFyZ2luLWxlZnQnKSkKICAgICAgICAgICwgY3RXaWR0aD0kY3Qud2lkdGgoKStjdE1hcmdpbkwKICAgICAgICAgICwgY3RMZWZ0PSRjdC5vZmZzZXQoKS5sZWZ0LWN0TWFyZ2luTAogICAgICAgICAgLCAkbWV0YT0kY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpCiAgICAgICAgICAsIG10V2lkdGg9JG1ldGEuaW5uZXJXaWR0aCgpCiAgICAgICAgICAsIG1pbldpZHRoPWlaaGlodS4kbWFpbi53aWR0aCgpLWN0V2lkdGgKICAgICAgICAgICwgY21XaWR0aD1tdFdpZHRoCiAgICAgICAgICAsIG1heFdpZHRoPXdpbldpZHRoLWN0V2lkdGgKICAgICAgICAgICwgbz1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGNtLmF0dHIoJ29wZW5lZCcsJzEnKTsKICAgICAgICAJCWlmKCEkYWMpewogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20pOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAJCX0KICAgICAgICAgICAgICAgIHZhciBjdXJyVG9wPV9kb2MuYm9keS5zY3JvbGxUb3AKICAgICAgICAgICAgICAgICAgLCAkbj0kYWMubmV4dCgpLCRuPSRuLmxlbmd0aD8kbjokYWMucGFyZW50KCkubmV4dCgpCiAgICAgICAgICAgICAgICAgICwgdD0kYWMub2Zmc2V0KCkudG9wLWlaaGlodS4kbWFpbi5vZmZzZXQoKS50b3AKICAgICAgICAgICAgICAgICAgLCBiPSRhYy5vZmZzZXQoKS50b3AtaVpoaWh1LiRtYWluLm9mZnNldCgpLnRvcAogICAgICAgICAgICAgICAgICAsIHc9JGFjLndpZHRoKCkKICAgICAgICAgICAgICAgICAgLCBpbkFuc3dlcj0kYWMuaXMoJy56bS1pdGVtLWFuc3dlcicpCiAgICAgICAgICAgICAgICAgICwgaW5RdWVzdGlvbj0kYWMuaXMoJyN6aC1xdWVzdGlvbi1kZXRhaWwnKQogICAgICAgICAgICAgICAgICAsICRxdWVzdGlvbk1ldGE9JCgnI3poLXF1ZXN0aW9uLW1ldGEtd3JhcCcpLy9xdWVzdGlvbl9tZXRhCiAgICAgICAgICAgICAgICAgICwgaD1pblF1ZXN0aW9uPyRxdWVzdGlvbk1ldGEub2Zmc2V0KCkudG9wKyRxdWVzdGlvbk1ldGEuaGVpZ2h0KCkrcGFyc2VJbnQoJHF1ZXN0aW9uTWV0YS5jc3MoJ3BhZGRpbmctYm90dG9tJykpLWlaaGlodS4kbWFpbi5vZmZzZXQoKS50b3AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDokYWMuaGVpZ2h0KCkrcGFyc2VJbnQoJGFjLmNzcygncGFkZGluZy1ib3R0b20nKSkrcGFyc2VJbnQoJG4uY3NzKCdwYWRkaW5nLXRvcCcpKQogICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgaWYoISRhYy5maW5kKCcuaXpoX3RhcGVfYSwuaXpoX3RhcGVfYicpLmxlbmd0aCkKICAgICAgICAgICAgICAgICAgICAkYWMKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ2l6aF90YXBlX2EnIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnaXpoX3RhcGVfYicgfSkpCiAgICAgICAgICAgICAgICBpZighJGNtKSRjbT0kYWMuZmluZCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICBpZigkY20ubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICBpZighJGNtLmF0dHIoJ3RhYmluZGV4JykpewogICAgICAgICAgICAgICAgICAgICAgICAkY20uYXR0cigndGFiaW5kZXgnLCctMScpLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKGluUXVlc3Rpb24pewogICAgICAgICAgICAgICAgICAgICAgICAkKCcjaXpoX1F1ZXN0aW9uU2hhZG93JykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOmgKICAgICAgICAgICAgICAgICAgICAgICAgICAsICdtYXJnaW4tYm90dG9tJzotaAogICAgICAgICAgICAgICAgICAgICAgICB9KS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRxdWVzdGlvbk1ldGEubmV4dCgnOnZpc2libGUnKS5hbmRTZWxmKCkuYWRkQ2xhc3MoJ2l6aF9ub0JvcmRlcicpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkYWMuYWRkQ2xhc3MoJ2l6aF9ib3hTaGFkb3cnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJGFjLmZpbmQoJy5pemhfdGFwZV9hJykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzonYWJzb2x1dGUnCiAgICAgICAgICAgICAgICAgICAgICAsICd3aWR0aCc6MQogICAgICAgICAgICAgICAgICAgICAgLCAnaGVpZ2h0JzpoCiAgICAgICAgICAgICAgICAgICAgICAsICd0b3AnOjAKICAgICAgICAgICAgICAgICAgICAgICwgJ21hcmdpbi1sZWZ0Jzp3LTEKICAgICAgICAgICAgICAgICAgICAgICwgJ3otaW5kZXgnOicxMDAwMCcKICAgICAgICAgICAgICAgICAgICAgICwgJ2JhY2tncm91bmQtY29sb3InOicjZmZmJwogICAgICAgICAgICAgICAgICAgIH0pLnNob3coKTsKICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5ib3goCiAgICAgICAgICAgICAgICAgICAgICAgICRjbS5jc3MoeydsZWZ0JzptdFdpZHRoLTF9KS5hdHRyKCdpemhfaW5RdWVzdGlvbicsaW5RdWVzdGlvbj8nMSc6JzAnKS5yZW1vdmVBdHRyKCdpemgtb3BlbmluZycpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAkKCcubWVudGlvbi1wb3B1cCcpLmF0dHIoJ2RhdGEtYWlkJywkYWMuYXR0cignZGF0YS1haWQnKSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAkYWMuZmluZCgnLnp1LXF1ZXN0aW9uLWFuc3dlci1tZXRhLWNvbW1lbnQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGFjLmZpbmQoJy5pemhfdGFwZV9iJykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgLCAnd2lkdGgnOjEKICAgICAgICAgICAgICAgICAgLCAnaGVpZ2h0JzpoCiAgICAgICAgICAgICAgICAgICwgJ3RvcCc6MAogICAgICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6dwogICAgICAgICAgICAgICAgICAsICd6LWluZGV4JzonOTk5OCcKICAgICAgICAgICAgICAgICAgLCAnYmFja2dyb3VuZC1jb2xvcic6JyNlZWUnCiAgICAgICAgICAgICAgICB9KS5zaG93KCk7CiAgICAgICAgICAgICAgICAvLyRhYy5jc3MoJ2JvcmRlci1jb2xvcicsJyM5OTk5OTknKTsKICAgICAgICAgICAgICAgIC8vJG4uY3NzKCdib3JkZXItY29sb3InLCcjOTk5OTk5Jyk7CiAgICAgICAgICAgICAgICAkKCcuemgtYmFja3RvdG9wJykuY3NzKCd2aXNpYmlsaXR5JywnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBpWmhpaHUuJGJvZHkuc2Nyb2xsVG9wKGN1cnJUb3ApOwogICAgICAgICAgICAgICAgaWYoaWNtRm9jdXMpewogICAgICAgICAgICAgICAgICAgIHZhciAkaWNtPSQoaWNtRm9jdXMpLmF0dHIoJ2l6aF9oaWxpZ2h0JywnMScpCiAgICAgICAgICAgICAgICAgICAgICAsICRsaXN0PSRpY20uY2xvc2VzdCgnLnptLWNvbW1lbnQtbGlzdCcpOwogICAgICAgICAgICAgICAgICAgICRsaXN0LnNjcm9sbFRvcChpY21Gb2N1cy5vZmZzZXRUb3AtJGxpc3QuZ2V0KDApLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuSGlMaWdodEl0ZW09aWNtRm9jdXM7CiAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuSGlMaWdodENvbG9yPSdyZ2IoMjU1LDI1NSwxNjApJzsKICAgICAgICAgICAgICAgICAgICAkaWNtLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpWmhpaHU9d2luZG93LmlaaGlodTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1JiZpWmhpaHUuQ29tbWVudC5IaUxpZ2h0SXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlaaGlodS5Db21tZW50LkhpTGlnaHRJdGVtKS5yZW1vdmVBdHRyKCdpemhfaGlsaWdodCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgIGlmKG1heFdpZHRoPjU0OSltYXhXaWR0aD01NDk7CiAgICAgICAgaWYoY21XaWR0aD5tYXhXaWR0aCkKICAgICAgICAgICAgY21XaWR0aD1tYXhXaWR0aDsKICAgICAgICBpZihjbVdpZHRoPG1pbldpZHRoKQogICAgICAgICAgICBjbVdpZHRoPW1pbldpZHRoOwogICAgICAgICRjbS5hZGRDbGFzcygnaXpoX2JveFNoYWRvdycpLmNzcygkLmV4dGVuZChjc3NfY29tbWVudCx7J3dpZHRoJzpjbVdpZHRoLTl9KSk7CiAgICAgICAgLy9pZighJGNtLmlzKCcuZW1wdHknKSkKICAgICAgICAgICAgJGNtLmNzcyh7J3BhZGRpbmcnOicxMDBweCAwcHggMHB4IDdweCd9KTsKICAgICAgICAkKCdpLnptLWNvbW1lbnQtYnViYmxlJywkY20pLmhpZGUoKTsKICAgICAgICBpZihub0NvbW1lbnRPcGVuaW5nKXsKICAgICAgICAgICAgdmFyIGNtV2lkdGhPdmVyPWNtV2lkdGgtd2luV2lkdGgKICAgICAgICAgICAgICAsIHNoaWZ0TGVmdD1jbVdpZHRoT3ZlcitjdFdpZHRoK2N0TGVmdAogICAgICAgICAgICA7CiAgICAgICAgICAgIGlmKHNoaWZ0TGVmdD4wKXsKICAgICAgICAgICAgICAgIGlmKHNoaWZ0TGVmdD5jdExlZnQpe3NoaWZ0TGVmdD1tY0xlZnQ7fQogICAgICAgICAgICAgICAgZWxzZSBpZihjbVdpZHRoT3Zlcj4wKXtzaGlmdExlZnQtPWNtV2lkdGhPdmVyO30KICAgICAgICAgICAgfQogICAgICAgICAgICBpZihzaGlmdExlZnQ8MCl7c2hpZnRMZWZ0PTA7fQogICAgICAgICAgICBpZihzaGlmdExlZnQgJiYgJGFjKXsKICAgICAgICAgICAgICAgICRjdC5jc3Moeydwb3NpdGlvbic6J3JlbGF0aXZlJywnbGVmdCc6MH0pLmFuaW1hdGUoe2xlZnQ6LXNoaWZ0TGVmdH0sbyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGN0LmNzcyh7J3Bvc2l0aW9uJzoncmVsYXRpdmUnLCdsZWZ0Jzotc2hpZnRMZWZ0fSk7CiAgICAgICAgICAgICAgICBvKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgbygpOwogICAgICAgIH0JCiAgICB9OwogICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCRhYywkY20pewogICAgICAgIGlmKCEkY20pJGNtPSRhYy5maW5kKCcuem0tY29tbWVudC1ib3gnKTsKICAgICAgICB2YXIgJGN0PSRjbS5jbG9zZXN0KCcuenUtbWFpbi1jb250ZW50LWlubmVyJyk7CiAgICAgICAgdmFyIG89ZnVuY3Rpb24oKXsKICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ3Bvc2l0aW9uJywnJyk7CiAgICAgICAgICAgIGlmKCEkYWMpcmV0dXJuOwogICAgICAgICAgICB2YXIgJG49JGFjLm5leHQoKQogICAgICAgICAgICAgICwgJG49JG4ubGVuZ3RoPyRuOiRhYy5wYXJlbnQoKS5uZXh0KCkKICAgICAgICAgICAgICAsIGluUXVlc3Rpb249JGFjLmlzKCcjemgtcXVlc3Rpb24tZGV0YWlsJyk7CiAgICAgICAgICAgIGlmKCEkYWMpe3JldHVybjt9CiAgICAgICAgICAgIGlmKGluUXVlc3Rpb24pewogICAgICAgICAgICAgICAgJCgnI2l6aF9RdWVzdGlvblNoYWRvdycpLmhpZGUoKTsKICAgICAgICAgICAgICAgICQoJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAnKS5uZXh0KCc6dmlzaWJsZScpLmFuZFNlbGYoKS5yZW1vdmVDbGFzcygnaXpoX25vQm9yZGVyJyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGFjLnJlbW92ZUNsYXNzKCdpemhfYm94U2hhZG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8kYWMuY3NzKCdib3JkZXItY29sb3InLCcjREREREREJyk7CiAgICAgICAgICAgIC8vJG4uY3NzKCdib3JkZXItY29sb3InLCcjREREREREJyk7CiAgICAgICAgICAgICQoJy5pemhfdGFwZV9hOnZpc2libGUsLml6aF90YXBlX2I6dmlzaWJsZScpLmhpZGUoKTsKICAgICAgICAgICAgJCgnLnpoLWJhY2t0b3RvcCcpLmNzcygndmlzaWJpbGl0eScsJ3Zpc2libGUnKTsKICAgICAgICB9OwoKICAgICAgICBpZihpWmhpaHUuQ29tbWVudC5PcGVuaW5nID09ICRjbS5nZXQoMCkpewogICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5PcGVuaW5nID0gbnVsbDsKICAgICAgICAgICAgJGN0LmFuaW1hdGUoe2xlZnQ6MH0sbyk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKCEkYWMpeyRjdC5jc3Moe2xlZnQ6MH0pO30KICAgICAgICAgICAgbygpOwogICAgICAgIH0KICAgICAgICAKICAgIH07CiAgICB0aGlzLnByb2Nlc3NDb21tZW50ID0gZnVuY3Rpb24oJGNtLGZvY3VzTmFtZSl7CiAgICAgICAgdmFyIGxvYWRpbmc9ZmFsc2U7CiAgICAgICAgaWYoJGNtLmlzKCcuem0tY29tbWVudC1zcGlubmVyJykpewogICAgICAgICAgICAkY209JGNtLmNsb3Nlc3QoJy56bS1jb21tZW50LWJveCcpOwogICAgICAgICAgICBsb2FkaW5nPXRydWU7CiAgICAgICAgfQogICAgICAgIGlmKCEkY20uaXMoJy56bS1jb21tZW50LWJveCcpKXJldHVybjsKICAgICAgICB2YXIgJGl0ZW09aVpoaWh1LmdldEl0ZW0oJGNtKTsKICAgICAgICBpZihpWmhpaHUuQ29tbWVudC5SaWdodENvbW1lbnQmJmxvYWRpbmcpewogICAgICAgICAgICB2YXIgY21MZWZ0PSRpdGVtLndpZHRoKCktMTsKICAgICAgICAgICAgJGNtLmNzcyh7J2xlZnQnOmNtTGVmdCwnd2lkdGgnOjIxNiwnei1pbmRleCc6JzEwMDAwJ30pOwogICAgICAgIH0KICAgICAgICBpZigkY20uZmlsdGVyKCcuem0tY29tbWVudC1ib3gnKS5oYXMoJy56bS1jb21tZW50LWxpc3QnKS5sZW5ndGgpewovKiBDb2xsZWN0aW9ucyBmb3IgY29tbWVudAogICAgICAgICAgICAkY20uZmluZCgnLnptLWNvbW1lbnQtZWRpdGFibGUnKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIHZhciAkYz0kKGV2ZW50LnRhcmdldCksJGNtPSRjLmNsb3Nlc3QoJy56bS1jb21tZW50LWJveCcpOwogICAgICAgICAgICAgICAgaWYoJGMuaXMoJ2EubWVtYmVyX21lbnRpb24nKSl7CiAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmNoaWxkcmVuKCcuaXpoX2NvbGxlY3Rpb25zJykubGVuZ3RoPD0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz0iaXpoX2NvbGxlY3Rpb25zIj5sb2FkaW5nLi4uPC9kaXY+JykuYmluZCgnbW91c2VvdmVyJyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmJpbmQoJ21vdXNlb3V0JyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRjbSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRjLmJpbmQoJ21vdXNlb3ZlcicsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjZT0kKHRoaXMpLmNsb3Nlc3QoJy56bS1jb21tZW50LWVkaXRhYmxlJyksJGNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRjbS5jaGlsZHJlbignLml6aF9jb2xsZWN0aW9ucycpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm90dG9tJzokKHRoaXMpLmhlaWdodCgpLSQodGhpcykucG9zaXRpb24oKS50b3AtMQogICAgICAgICAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOiQodGhpcykucG9zaXRpb24oKS5sZWZ0CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5wb3N0KCdodHRwOi8vd3d3LnpoaWh1LmNvbScrJCh0aGlzKS5hdHRyKCdocmVmJykrJy9jb2xsZWN0aW9ucycKICAgICAgICAgICAgICAgICAgICAgICAgICAsICQucGFyYW0oe194c3JmOiQoJ2lucHV0W25hbWU9X3hzcmZdJykudmFsKCl9KQogICAgICAgICAgICAgICAgICAgICAgICAgICwgZnVuY3Rpb24ocmVzdWx0LHN0YXR1cyx4aHIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAkYy5iaW5kKCdtb3VzZW91dCcsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjZT0kKHRoaXMpLmNsb3Nlc3QoJy56bS1jb21tZW50LWVkaXRhYmxlJyksJGNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRjbS5jaGlsZHJlbignLml6aF9jb2xsZWN0aW9ucycpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiovCiAgICAgICAgICAgIGlmKGlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgICAgICAgICAkY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpLmZpbmQoJy50b2dnbGUtY29tbWVudCcpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICB2YXIgJG9wZW5lZEJ5PSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICwgJGFjPSRvcGVuZWRCeS5jbG9zZXN0KCcuem0taXRlbS1tZXRhJykKICAgICAgICAgICAgICAgICAgICAgICwgJGNtPSgkYWMucGFyZW50KCkuaXMoJy56bS1pdGVtLW1ldGEuZmVlZC1tZXRhJyk/JGFjLnBhcmVudCgpOiRhYykuZmluZCgnLnptLWNvbW1lbnQtYm94JykuY3NzKCd2aXNpYmlsaXR5JywnaGlkZGVuJykKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbT1pWmhpaHUuZ2V0SXRlbSgkY20pOwogICAgICAgICAgICAgICAgICAgICAgICBpZigkY20uaXMoJzpoaWRkZW4nKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5vcGVuKCRpdGVtLCRjbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuY2xvc2UoJGl0ZW0sJGNtKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vaWYoJGNtLmlzKCcuZW1wdHknKSkgcmV0dXJuOwogICAgICAgICAgICB2YXIgJGxpc3Q9JGNtLmZpbmQoJy56bS1jb21tZW50LWxpc3QnKTsKICAgICAgICAgICAgJGxpc3QuYmluZCgnRE9NTm9kZUluc2VydGVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIC8vdXRpbHMub2JzZXJ2ZURPTU5vZGVBZGRlZCgkbGlzdFswXSxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIAkvKmlmKCFldmVudC5hZGRlZE5vZGVzKXJldHVybjsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb2RlcyAnK2V2ZW50LmFkZGVkTm9kZXMubGVuZ3RoKycgaW5zZXJ0ZWQnKTsKICAgICAgICAgICAgCWZvcih2YXIgaT0wO2k8ZXZlbnQuYWRkZWROb2Rlcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgCQl2YXIgJGljbT0kKGV2ZW50LmFkZGVkTm9kZXNbaV0pOwogICAgICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICB2YXIgJGljbT0kKGV2ZW50LnRhcmdldCkuZmlsdGVyKCcuem0taXRlbS1jb21tZW50LC56bS1jb21tZW50LWZvcm0nKTsKICAgICAgICAgICAgICAgIGlmKCEkaWNtLmxlbmd0aClyZXR1cm47CiAgICAgICAgICAgICAgICB2YXIgJGxpc3Q9JCh0aGlzKQogICAgICAgICAgICAgICAgICAsICRjbT0kbGlzdC5jbG9zZXN0KCcuem0tY29tbWVudC1ib3g6dmlzaWJsZScpOwogICAgICAgICAgICAgICAgaWYoJGljbS5pcygnLnptLWl0ZW0tY29tbWVudCcpKXsKICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCRpY20pOwogICAgICAgICAgICAgICAgICAgIGlmKGlaaGlodS5RdWlja0Jsb2NrKXsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnQWRkaW5nIFF1aWNrQmxvY2snKTsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suYWRkUXVpY2tCbG9ja0luT25lQ29tbWVudCgkaWNtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgJGxpc3QuY3NzKCdoZWlnaHQnLCcxMDAlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpY20uc2hvdygpLmJpbmQoJ0RPTU5vZGVSZW1vdmVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGljbT0kKGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJGljbS5pcygnLnptLWl0ZW0tY29tbWVudCcpKXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbGlzdD0kaWNtLmhpZGUoKS5jbG9zZXN0KCcuem0tY29tbWVudC1saXN0JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkY209JGxpc3QuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94OnZpc2libGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjbS5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgY29tbWVudCBsaXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGxpc3QuY2hpbGRyZW4oKS5sZW5ndGg9PTEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCcsJGNtKS5hZGQoJy5pemgtYnV0dG9ucy1jbS1SJywkY20pLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuYm94KCRjbSxmYWxzZSxmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjbS5sZW5ndGgpewogICAgICAgICAgICAJICAgICAgICAgICAgdmFyIGNvdW50Tm93PSRsaXN0LmNoaWxkcmVuKCkubGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgIAkgICwgY291bnRBbGw9cGFyc2VJbnQoJGNtLmF0dHIoJ2RhdGEtY291bnQnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjb3VudFJlc3Q9Y291bnRBbGwtY291bnROb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBub3RBbGw9JCh0aGlzKS5oYXMoJy5sb2FkLW1vcmUnKS5sZW5ndGgKICAgICAgICAgICAgICAgICAgICAgICAgCTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCghbm90QWxsKSYmY291bnRSZXN0PjEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgCXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgY29tbWVudCBsaXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCcsJGNtKS5hZGQoJy5pemgtYnV0dG9ucy1jbS1SJywkY20pLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20sZmFsc2UsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobm90QWxsfHxjb3VudFJlc3Q8MCkkbGlzdC5zY3JvbGxUb3AoJGljbS5nZXQoMCkub2Zmc2V0VG9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKCRpY20uaXMoJy56bS1jb21tZW50LWZvcm0nKSl7CiAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHJjbT0kaWNtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGljbT0kcmNtLmNsb3Nlc3QoJy56bS1pdGVtLWNvbW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyY20uZmluZCgnYS56bS1jb21tZW50LWNsb3NlLnptLWNvbW1hbmQtY2FuY2VsJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkcmNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtZm9ybScpLmhpZGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkY209JHJjbS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3g6dmlzaWJsZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjbS5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5ib3goJGNtLGZhbHNlLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyY20ucGFyZW50KCkuZmluZCgnYS5yZXBseS56bS1jb21tZW50LW9wLWxpbmsnKS5jbGljayhmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRyY209JCh0aGlzKS5jbG9zZXN0KCcuem0tY29tbWVudC1jb250ZW50LXdyYXAnKS5jaGlsZHJlbignLnptLWNvbW1lbnQtZm9ybScpLnRvZ2dsZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRpY209JCh0aGlzKS5jbG9zZXN0KCcuem0taXRlbS1jb21tZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGxpc3Q9JGljbS5jbG9zZXN0KCcuem0tY29tbWVudC1saXN0JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGNtPSRsaXN0LmNsb3Nlc3QoJy56bS1jb21tZW50LWJveDp2aXNpYmxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20sZmFsc2UsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkcmNtLmlzKCc6dmlzaWJsZScpKSRsaXN0LnNjcm9sbFRvcCgkaWNtLmdldCgwKS5vZmZzZXRUb3AtJGxpc3QuZ2V0KDApLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyY20udG9nZ2xlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5ib3goJGNtLGZhbHNlLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaXN0LnNjcm9sbFRvcCgkaWNtLmdldCgwKS5vZmZzZXRUb3AtJGxpc3QuZ2V0KDApLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgY21DbG9zZT1mdW5jdGlvbihldmVudCxhbHNvU2Nyb2xsVG9WaWV3Qm90dG9tKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICAJCWlmKCQodGhpcykuaXMoJ1tuYW1lPWNsb3NlZm9ybV0nKSYmKCEkY20uaXMoJy5lbXB0eScpKSlyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtPWlaaGlodS5nZXRJdGVtKCRjbSkvLy5hdHRyKCd0YWJpbmRleCcsJy0xJykuZm9jdXMoKS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpCiAgICAgICAgICAgICAgICAgICAgICAsICRpdGVtTWV0YT0kY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpCiAgICAgICAgICAgICAgICAgICAgICAsIGFsc29TY3JvbGw9dGhpcy5nZXRBdHRyaWJ1dGUoJ2l6aC1hbHNvU2Nyb2xsVG9WaWV3Qm90dG9tJyl8fCcnCiAgICAgICAgICAgICAgICAgICAgICAsIHNjcm9sbFRvcD0oZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApP2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoYWxzb1Njcm9sbCE9PScxJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtTWV0YS5maW5kKCcudG9nZ2xlLWNvbW1lbnQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcD1zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDApOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50Lm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20oJGl0ZW1NZXRhLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtTWV0YS5maW5kKCcudG9nZ2xlLWNvbW1lbnQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH0sZmFsc2UsdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLCAkYnRuQ0M9JCgnPGE+Jyx7CiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonenUtcXVlc3Rpb24tYW5zd2VyLW1ldGEtY29tbWVudCBpemgtYnV0dG9uLWNjJwogICAgICAgICAgICAgICAgICAsIGhyZWY6J2phdmFzY3JpcHQ6dm9pZCgwKTsnCiAgICAgICAgICAgICAgICAgICwgY2xpY2s6Y21DbG9zZQogICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkdCTmlLbotbfor4Torrrlubbot7Povazoh7PmiYDlsZ7lm57nrZQnCiAgICAgICAgICAgICAgICB9KS50ZXh0KCfmlLbotbcnKQogICAgICAgICAgICAgICwgJGJ1dHRvbnNMPSQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAJJ2NsYXNzJzonaXpoLWJ1dHRvbnMtY20tTCcKICAgICAgICAgICAgICAgIH0pLnByZXBlbmRUbygkY20pCiAgICAgICAgICAgICAgLCAkYnV0dG9uc1I9JCgnPGRpdj4nLHsKICAgICAgICAgICAgICAgIAknY2xhc3MnOidpemgtYnV0dG9ucy1jbS1SJwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgOwogICAgICAgICAgICBpZihpWmhpaHUuQ29tbWVudC5SaWdodENvbW1lbnQpewogICAgICAgICAgICAgICAgJGNtLmNoaWxkcmVuKCcuem0tY29tbWVudC1mb3JtJykuZmluZCgnW25hbWU9Y2xvc2Vmb3JtXScpLmNsaWNrKGNtQ2xvc2UpOwogICAgICAgICAgICAgICAgJGJ0bkNDLmNsb25lKHRydWUpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKCIvc3RhdGljL2ltZy9zcHJpdGVzLTEuOS4yLnBuZyIpJwogICAgICAgICAgICAgICAgICAsICdiYWNrZ3JvdW5kLXBvc2l0aW9uJzogJy0yNjFweCAtNjJweCcKICAgICAgICAgICAgICAgICAgLCAnYmFja2dyb3VuZC1yZXBlYXQnOiAnbm8tcmVwZWF0JwogICAgICAgICAgICAgICAgICAsICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycKICAgICAgICAgICAgICAgICAgLCAnd2lkdGgnOiAxNQogICAgICAgICAgICAgICAgICAsICdoZWlnaHQnOiAxNQogICAgICAgICAgICAgICAgICAsICdwb3NpdGlvbic6ICdhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgLCAnbGVmdCc6IDAKICAgICAgICAgICAgICAgICAgLCAndG9wJzogMAogICAgICAgICAgICAgICAgICAsICd6LWluZGV4JzogJzEwMDAwJwogICAgICAgICAgICAgICAgfSkuYXR0cignZGF0YS10aXAnLCdzJGwk5pS26LW36K+E6K66JykudGV4dCgnJykucHJlcGVuZFRvKCRjbSkKICAgICAgICAgICAgICAgICRidXR0b25zUi5wcmVwZW5kVG8oJGNtKTsKICAgICAgICAgICAgICAgIGlmKCRsaXN0LmNoaWxkcmVuKCkubGVuZ3RoPT0wKXsKICAgICAgICAgICAgICAgICAgICAkYnV0dG9uc1IuaGlkZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGJ0bkNDLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgJ2Zsb2F0JzonbGVmdCcKICAgICAgICAgICAgICAgICAgLCAnbWFyZ2luLWxlZnQnOjcKICAgICAgICAgICAgICAgIH0pLmF0dHIoJ2l6aC1hbHNvU2Nyb2xsVG9WaWV3Qm90dG9tJywnMScpLnByZXBlbmQoJzxpIGNsYXNzPSJ6LWljb24taXpoLWZvbGQiLz4nKS5wcmVwZW5kVG8oJGJ1dHRvbnNMKTsKICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2l6aC1idXR0b24gaXpoLWJhY2stdG9wJwogICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkbCTov5Tlm57pobbpg6gnCiAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMucGFyZW50Tm9kZSkubmV4dEFsbCgnLnptLWNvbW1lbnQtbGlzdCcpLnNjcm9sbFRvcCgwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgnPGk+JywgeyAnY2xhc3MnOiAnemctaWNvbiB6LWljb24tZm9sZCcgfSkKICAgICAgICAgICAgICAgICkuYWRkKAogICAgICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidpemgtYnV0dG9uIGl6aC1zaG93LWdvb2QnCiAgICAgICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkbCTkurrmsJTlppnor4QnCiAgICAgICAgICAgICAgICAgICAgICAsIGhyZWY6J2phdmFzY3JpcHQ6dm9pZCgwKTsnCiAgICAgICAgICAgICAgICAgICAgICAsIGNsaWNrOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZT0kKHRoaXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkYz0kZS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3gnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGw9JGMuZmluZCgnLnptLWNvbW1lbnQtbGlzdCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkbj0kbC5maW5kKCcuem0taXRlbS1jb21tZW50JykuaGFzKCdzcGFuLmxpa2UtbnVtLm5pbCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuaGFzQ2xhc3MoJ29uJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYXR0cignc2Nyb2xsVG9wX3Nob3dnb29kJywkbFswXS5zY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG4uc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuYm94KCRjLGZhbHNlLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLnJlbW92ZUNsYXNzKCdvbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHBhcnNlSW50KCRlLmF0dHIoJ3Njcm9sbFRvcCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc05hTihzY3JvbGxUb3ApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsLnNjcm9sbFRvcChzY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLmF0dHIoJ3Njcm9sbFRvcCcsJGxbMF0uc2Nyb2xsVG9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkYyxmYWxzZSxmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5hZGRDbGFzcygnb24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBwYXJzZUludCgkZS5hdHRyKCdzY3JvbGxUb3Bfc2hvd2dvb2QnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4oc2Nyb2xsVG9wKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbC5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICAgICAkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uIHpnLWljb24tY29tbWVudC1saWtlJyB9KQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkuY3NzKHsKICAgICAgICAgICAgICAgICAgICAnZmxvYXQnOidyaWdodCcKICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRidXR0b25zUik7CgogICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuUGFnZU5vdFNjcm9sbCA9IHRydWU7CiAgICAgICAgICAgICAgICAkbGlzdC5zY3JvbGwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgLCAkYj0kZS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3gnKS5maW5kKCcuaXpoLWJhY2stdG9wJykKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoJGUuaGVpZ2h0KCkgPCB0aGlzLnNjcm9sbFRvcCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRiLnJlbW92ZUNsYXNzKCdvZmYnKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJGIuYWRkQ2xhc3MoJ29mZicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnNjcm9sbCgpOwogICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuUGFnZU5vdFNjcm9sbCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIHZhciBpY21Gb2N1cz1udWxsOwogICAgICAgICAgICAgICAgICAgICRsaXN0LmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiRjbS5pcygnLmVtcHR5Jyk/Jyc6JzEwMCUnCiAgICAgICAgICAgICAgICAgICAgICAsICdvdmVyZmxvdyc6J2F1dG8nCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkbGlzdC5jaGlsZHJlbignLnptLWl0ZW0tY29tbWVudCcpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGljbT0kKGUpOwogICAgICAgICAgICAgICAgICAgICRpY20uYmluZCgnRE9NTm9kZVJlbW92ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpY209JChldmVudC50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighJGljbS5pcygnLnptLWl0ZW0tY29tbWVudCcpKXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjbT0kaWNtLmhpZGUoKS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3g6dmlzaWJsZScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZigkY20ubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtbGlzdCcpLmNoaWxkcmVuKCkubGVuZ3RoPT0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCcsJGNtKS5hZGQoJy5pemgtYnV0dG9ucy1jbS1SJywkY20pLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20sZmFsc2UsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJGljbS5maW5kKCdzcGFuLmxpa2UtbnVtJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGlwPWUuZ2V0QXR0cmlidXRlKCdkYXRhLXRpcCcpLnJlcGxhY2UoJ3MkciQnLCdzJGwkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRpcCE9JycpZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGlwJyx0aXApOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlmICghaWNtRm9jdXMmJmZvY3VzTmFtZSYmZm9jdXNOYW1lIT0nJwogICAgICAgICAgICAgICAgICAgICAgICAmJiAkaWNtLmNoaWxkcmVuKCdhLnpnLWFuY2hvci1oaWRkZW5bbmFtZT0iJytmb2N1c05hbWUrJyJdJykubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWNtRm9jdXM9JGljbS5nZXQoMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5vcGVuKCRpdGVtLCRjbSxpY21Gb2N1cyk7CiAgICAgICAgICAgICAgICB1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKCRjbS5jaGlsZHJlbignLnptLWNvbW1lbnQtZm9ybScpLmNoaWxkcmVuKCcuem0tY29tbWVudC1lZGl0YWJsZScpWzBdLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JChldmVudC50YXJnZXQpCiAgICAgICAgICAgICAgICAgICAgICAsICRmPSRlLmNsb3Nlc3QoJy56bS1jb21tZW50LWZvcm0nKQogICAgICAgICAgICAgICAgICAgICAgLCAkbD0kZi5wcmV2KCcuem0tY29tbWVudC1saXN0JykKICAgICAgICAgICAgICAgICAgICAgICwgJGM9JGYuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94W29wZW5lZD0xXScpCiAgICAgICAgICAgICAgICAgICAgICAsIGNoPSRjLmhlaWdodCgpCiAgICAgICAgICAgICAgICAgICAgICAsIHdpbkhlaWdodD1pWmhpaHUuJHdpbi5oZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgLCBzY3JvbGxUb3A9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcAogICAgICAgICAgICAgICAgICAgICAgLCBuYXZIZWlnaHQ9aVpoaWh1LiRib2R5LmNoaWxkcmVuKCkuZmlyc3QoKS5oZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgLCBiYXI9JCgnLnp1LWdsb2JhbC1ub3RpZnkuenUtZ2xvYmFsLW5vdGlmeS1pbmZvOnZpc2libGUnKQogICAgICAgICAgICAgICAgICAgICAgLCBiYXJIZWlnaHQ9IWJhci5sZW5ndGg/MDpiYXIub3V0ZXJIZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgLCBiYXNlVG9wPSgoYmFySGVpZ2h0JiZiYXIuY3NzKCdwb3NpdGlvbicpPT0nZml4ZWQnKT9iYXJIZWlnaHQ6KHNjcm9sbFRvcD5iYXJIZWlnaHQ/MDpiYXJIZWlnaHQtc2Nyb2xsVG9wKSkrbmF2SGVpZ2h0CiAgICAgICAgICAgICAgICAgICAgICAsIG1pbkhlaWdodD0xMTIKICAgICAgICAgICAgICAgICAgICAgICwgbWF4SGVpZ2h0PXdpbkhlaWdodC1iYXNlVG9wLTM1CiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgIGlmKCEkYy5sZW5ndGgpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGlmKCEkYy5pcygnLmVtcHR5JykmJiRsLmNoaWxkcmVuKCkubGVuZ3RoPjApewogICAgICAgICAgICAgICAgICAgICAgICBsaD0kbC5oZWlnaHQoKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgbGg9MDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyICR0PSRlLmNsb25lKCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkKICAgICAgICAgICAgICAgICAgICAJICAgIC5jc3Moeydwb3NpdGlvbic6J2Fic29sdXRlJywnei1pbmRleCc6Jy0xJywnd2lkdGgnOiRlLndpZHRoKCksJ21pbi1oZWlnaHQnOjIyfSkKICAgICAgICAgICAgICAgICAgICAgICwgZWg9JHQuaGVpZ2h0KCkKICAgICAgICAgICAgICAgICAgICAgICwgaD1NYXRoLm1heChlaCxsaCkrKGxoPT0wPzkwOjEwMCkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgJHQucmVtb3ZlKCk7JHQ9bnVsbDsKICAgICAgICAgICAgICAgICAgICBpZihpc05hTihjaCl8fGNoIT1oKXsKICAgICAgICAgICAgICAgICAgICAgICAgJGMuYXR0cignaXpoX2NtSGVpZ2h0JyxoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuYm94KCRjLHRydWUsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZighJGYuaXMoJy5leHBhbmRlZCcpJiZldmVudC5hZGRlZE5vZGVzLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRmLmNzcyh7J2hlaWdodCc6JycsJ2JvdHRvbSc6Jyd9KTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgZWgrPTMwOwogICAgICAgICAgICAgICAgICAgICAgICAkZi5jc3MobGg9PTB8fGVoPmNoP3snaGVpZ2h0JzonJywnYm90dG9tJzoyNX06eydoZWlnaHQnOmVoLCdib3R0b20nOicnfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGJ0bkNDLnByZXBlbmQoJzxpIGNsYXNzPSJ6LWljb24tZm9sZCIvPicpCiAgICAgICAgICAgICAgICAuY3NzKHsKICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgLCAnY3Vyc29yJzoncG9pbnRlcicKICAgICAgICAgICAgICAgICAgLCAnbWFyZ2luLWxlZnQnOi0xCiAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOjAKICAgICAgICAgICAgICAgICAgLCAnYmFja2dyb3VuZC1jb2xvcic6JyNmYmZiZmInCiAgICAgICAgICAgICAgICAgICwgJ3BhZGRpbmcnOicycHggNXB4JwogICAgICAgICAgICAgICAgICAsICdib3R0b20nOi0yMgogICAgICAgICAgICAgICAgICAsICdib3JkZXInOicxcHggc29saWQgI2RkZCcKICAgICAgICAgICAgICAgICAgLCAnYm9yZGVyLXJhZGl1cyc6JzRweCcKICAgICAgICAgICAgICAgIH0pLmluc2VydEJlZm9yZSgkY20uZmluZCgnLnptLWNvbW1lbnQtYm94LWZ0JykpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGlaaGlodS5RdWlja0Jsb2NrKXsKICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmFkZFF1aWNrQmxvY2tJbkNvbW1lbnRMaXN0KCRidXR0b25zTCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiB0aGlzOwp9CgovKioKICogQGNsYXNzIE5vdGk3CiAqLwpmdW5jdGlvbiBOb3RpNyhpWmhpaHUpIHsKICAgIGlmICggdHlwZW9mIGlaaGlodSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlaaGlodSB8fCAhaVpoaWh1LmNvbmZpZ1snTm90aTcnXSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaVpoaWh1Lk5vdGk3ID0gdGhpczsKICAgIAogICAgdGhpcy4kbm90aTcgPSAkKCcjemgtdG9wLW5hdi1saXZlLW5ldycpOwogICAgdGhpcy4kZnJhbWUgPSAkKCcuem0tbm90aTctZnJhbWUnLHRoaXMuJG5vdGk3KTsKICAgIHRoaXMuJGNvbnRlbnQgPSAkKCcuem0tbm90aTctY29udGVudC1ib2R5Jyx0aGlzLiRub3RpNyk7CiAgICB0aGlzLiRmb290ZXIgPSAkKCcuem0tbm90aTctcG9wdXAtZm9vdGVyJyx0aGlzLiRub3RpNyk7CiAgICB0aGlzLiR0YWIgPSAkKCcuem0tbm90aTctcG9wdXAtdGFiLWNvbnRhaW5lcicsJyN6aC10b3AtbmF2LWxpdmUtbmV3LWlubmVyJyk7CgogICAgdGhpcy5jc3MgPSAKICAgICAgICBbJyN6aC10b3AtbmF2LWxpdmUtbmV3IC56bS1ub3RpNy1wb3B1cC1mb290ZXIgYVt1bnJlYWRvbmx5PSIxIl17Y29sb3I6IzIyNTU5OSAhaW1wb3J0YW50O3RleHQtc2hhZG93OjAgMCAxcHggIzIyNTU5OTt9JwogICAgICAgICwnJ10uam9pbignXG4nKTsKICAgIHRoaXMuZW5oYW5jZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgaVpoaWh1Lk5vdGk3LiR0YWIuZmluZCgnLnptLW5vdGk3LXBvcHVwLXRhYi1pdGVtJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICB1dGlscy5vYnNlcnZlRE9NQXR0ck1vZGlmaWVkKGUsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgdmFyICRlPSQoZXZlbnQudGFyZ2V0KTsKICAgICAgICAgICAgICAgIGlmKCRlLmlzKCcuem0tbm90aTctcG9wdXAtdGFiLWl0ZW0uY3VycmVudCcpKXsKICAgICAgICAgICAgICAgIAl2YXIgY3VycmVudENsYXNzPSRlLmF0dHIoJ2NsYXNzJykKICAgICAgICAgICAgICAgIAkgICwgJGJGaWx0ZXJSZWFkPSQoJy5pemgtZmlsdGVyLXJlYWQnLGlaaGlodS5Ob3RpNy4kZm9vdGVyKTsKICAgICAgICAgICAgICAgIAlpZihjdXJyZW50Q2xhc3MhPSRiRmlsdGVyUmVhZC5hdHRyKCdjdXJyZW50Q2xhc3MnKSl7CiAgICAgICAgICAgICAgICAJICAgICRiRmlsdGVyUmVhZC5hdHRyKHsndW5yZWFkT25seSc6JycsJ2N1cnJlbnRDbGFzcyc6Y3VycmVudENsYXNzfSk7CiAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBpWmhpaHUuTm90aTcuJGZvb3Rlci5hcHBlbmQoCiAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgJ2NsYXNzJzonaXpoLWZpbHRlci1yZWFkJwogICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAsICd1bnJlYWRPbmx5JzonJwogICAgICAgICAgICAgICwgY2xpY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB2YXIgdW5yZWFkT25seT10aGlzLmdldEF0dHJpYnV0ZSgndW5yZWFkT25seScpPT0nMScKICAgICAgICAgICAgICAgICAgICAgICwgJGNvbnRlbnRWaXNpYmxlPWlaaGlodS5Ob3RpNy4kY29udGVudC5maWx0ZXIoJzp2aXNpYmxlJykKICAgICAgICAgICAgICAgICAgICAgICwgJHNjcm9sbGVyPSRjb250ZW50VmlzaWJsZS5jbG9zZXN0KCcuemgtc2Nyb2xsZXItaW5uZXInKQogICAgICAgICAgICAgICAgICAgICAgLCAkaXRlbXM9JGNvbnRlbnRWaXNpYmxlLmZpbmQoJy56bS1ub3RpNy1jb250ZW50LWl0ZW0nKQogICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICB1bnJlYWRPbmx5PSF1bnJlYWRPbmx5OwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCd1bnJlYWRPbmx5Jyx1bnJlYWRPbmx5PycxJzonJyk7CiAgICAgICAgICAgICAgICAgICAgaWYodW5yZWFkT25seSl7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY3JvbGxlci5hdHRyKCdzY3JvbGxUb3AnLCRzY3JvbGxlclswXS5zY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICAkaXRlbXMubm90KCcudW5yZWFkJykuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gcGFyc2VJbnQoJHNjcm9sbGVyLmF0dHIoJ3Njcm9sbFRvcF91bnJlYWQnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc05hTihzY3JvbGxUb3ApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjcm9sbGVyLnNjcm9sbFRvcChzY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkc2Nyb2xsZXIuYXR0cignc2Nyb2xsVG9wX3VucmVhZCcsJHNjcm9sbGVyWzBdLnNjcm9sbFRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtcy5ub3QoJy51bnJlYWQnKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBwYXJzZUludCgkc2Nyb2xsZXIuYXR0cignc2Nyb2xsVG9wJykpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4oc2Nyb2xsVG9wKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY3JvbGxlci5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pLnRleHQoJ+makOiXj+W3suivuycpCiAgICAgICAgKTsKICAgIH07CgogICAgcmV0dXJuIHRoaXM7Cn0KCi8qKgogKiBAY2xhc3MgUXVpY2tCbG9jawogKi8KZnVuY3Rpb24gUXVpY2tCbG9jayhpWmhpaHUpIHsKICAgIGlmICggdHlwZW9mIGlaaGlodSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlaaGlodSB8fCAhaVpoaWh1LmNvbmZpZ1snUXVpY2tCbG9jayddKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBpWmhpaHUuUXVpY2tCbG9jayA9IHRoaXM7CiAgICAKLyoKICAgIHZhciBjc3NfUXVpY2tCbG9jayA9IHsKICAgICAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOictMTQ2cHggLTIwMnB4JwogICAgICAgICAgLCAnd2lkdGgnOjE2CiAgICAgICAgICAsICdoZWlnaHQnOjE2CiAgICAgIAl9CiAgICA7CiovCiAgICB0aGlzLlBlbmRpbmcgPSB7VXNlcnM6JywnLENvdW50OjB9OwogICAgdGhpcy5CbG9ja2luZyA9IHtVc2VyczonLCcsQ291bnQ6MH07CiAgICB0aGlzLlVuZm9sbG93ZWQgPSB7VXNlcnM6JywnLENvdW50OjB9OwogICAgdGhpcy5SZWZvbGxvd2VkID0ge1VzZXJzOicsJyxDb3VudDowfTsKICAgIHRoaXMuVXNlcnMyQiA9IFtdCiAgICB0aGlzLlVzZXJzMkJCUSA9IFtdCiAgICB0aGlzLmNzcyA9IAogICAgICAgIFsnLml6aF9ibG9ja0NhcnR7YmFja2dyb3VuZC1jb2xvcjojMDc3MUMxO3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OjA7ei1pbmRleDo5O3BhZGRpbmc6MCAzMHB4IDAgNjBweDtib3JkZXI6MXB4IHNvbGlkICMwNzcxQzE7Ym9yZGVyLWxlZnQtd2lkdGg6MTBweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmRve2NvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTpibG9jazttYXJnaW46MnB4O21pbi13aWR0aDo4MHB4O3dpZHRoOjEwMCU7aGVpZ2h0OjIwcHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0LnBlbmRpbmcgLmRvOmFmdGVye3RleHQtZGVjb3JhdGlvbjpibGluaztjb2xvcjpyZWQ7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC5kbzphZnRlcntwb3NpdGlvbjpyZWxhdGl2ZTtjb250ZW50OmF0dHIoaXpoX251bTJCKTt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmRvIC5idXR0b257Y29sb3I6I2ZmZjt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmZyYW1le292ZXJmbG93LXk6YXV0bztvdmVyZmxvdy14OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MjVweDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZy10b3A6NXB4O30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAubGlzdHtkaXNwbGF5OmJsb2NrO21hcmdpbjoycHg7d2lkdGg6MTAwJTtwYWRkaW5nLXJpZ2h0OjVweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmxpc3QgLnJlbHtib3JkZXItd2lkdGg6MCAycHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjojZmZmO3dpZHRoOjI0cHg7aGVpZ2h0OjE4cHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC5saXN0LmlfZm8gLnJlbHtib3JkZXItbGVmdC1jb2xvcjojMjU5O2JhY2tncm91bmQtcG9zaXRpb246LTEyMHB4IC0xODRweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmxpc3QuZm9faSAucmVse2JvcmRlci1yaWdodC1jb2xvcjojMjU5O2JhY2tncm91bmQtcG9zaXRpb246LTEyMHB4IC0xNjRweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmxpc3QuaV9mby5mb19pIC5yZWx7YmFja2dyb3VuZC1wb3NpdGlvbjotNzhweCAtMjAwcHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkJ7ZGlzcGxheTpibG9jazttYXJnaW46MnB4IDA7cGFkZGluZzowIDQwcHggMCA2MHB4O30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAudXNlcjJCIGkuemctaWNvbntkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7bWFyZ2luLXRvcDo1cHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkIgLm5hbWV7ZGlzcGxheTpibG9jaztjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzAwMDt3aGl0ZS1zcGFjZTpub3dyYXA7cGFkZGluZzoycHggNXB4O2JvcmRlci1yYWRpdXM6M3B4O30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAubGlzdCAudXNlcjJCLnVuZm8gLm5hbWV7YmFja2dyb3VuZC1jb2xvcjojZjAwO30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAudXNlcjJCIC5kZWx7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tbGVmdDotNC41ZW07fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkIgaS5zYXl7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tbGVmdDotNDRweDtib3JkZXItcmFkaXVzOjZweCA2cHggMCA2cHg7Ym9yZGVyOjFweCBzb2xpZCAjOTk5O3BhZGRpbmc6MCA1cHggMCAzcHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkIgaS5zYXlfMXtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi0xMHB4O2hlaWdodDo2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO3dpZHRoOjZweDttYXJnaW4tdG9wOjE3cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzk5OTt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLnVzZXIyQiBpLnNheV8ye2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6LTlweDtoZWlnaHQ6NnB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjt3aWR0aDo2cHg7bWFyZ2luLXRvcDoxN3B4O2JvcmRlci1yYWRpdXM6MCAwIDAgNnB4O2JvcmRlcjoxcHggc29saWQgIzk5OTtib3JkZXItd2lkdGg6MCAwIDFweCAxcHh9JwogICAgICAgICwnLml6aC1xdWljay1ibG9ja3twb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDo0ZW07bWFyZ2luLXRvcDoxLjVlbTt3aGl0ZS1zcGFjZTpub3dyYXA7fScKICAgICAgICAsJy5pemgtcXVpY2stYmxvY2sgW2NsYXNzXj1pemgtcXVpY2stYmxvY2tde3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7d2hpdGUtc3BhY2U6bm93cmFwO30nCiAgICAgICAgLCcuaXpoLXF1aWNrLWJsb2NrOmFmdGVye2NvbnRlbnQ6YXR0cihpemhfbnVtMkIpO21hcmdpbi10b3A6MWVtO2Rpc3BsYXk6YmxvY2s7fScKICAgICAgICAsJy56bS1jb21tZW50LWhkIC5pemgtcXVpY2stYmxvY2stcGVuZHtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjQwcHg7fScKICAgICAgICAsJycKICAgICAgICBdLmpvaW4oJ1xuJyk7CiAgICB0aGlzLnVuYmxvY2tBbGwgPSBmdW5jdGlvbigpewogICAgICAgICQoJy5ibG9ja2VkLXVzZXJzID4gLml0ZW0tY2FyZCcpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgdmFyIHVpZD0kKGUpLmF0dHIoJ2RhdGEtaWQnKTsKICAgICAgICAgICAgJC5wb3N0KCcvc2V0dGluZ3MvdW5ibG9ja3VzZXInLCQucGFyYW0oewogICAgICAgICAgICAgICAgX3hzcmY6JCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKQogICAgICAgICAgICAgICwgdWlkOnVpZAogICAgICAgICAgICB9KSxmdW5jdGlvbihyKXsKICAgICAgICAgICAgCS8vY29uc29sZS5sb2cocik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoJICB9OwoJICB0aGlzLmRvVW5mb2xsb3cgPSBmdW5jdGlvbigpewogICAgICAgIHZhciAkZSA9IGlaaGlodS5RdWlja0Jsb2NrLlVzZXJzMkJCUS5zaGlmdCgpCiAgICAgICAgaWYodHlwZW9mICRlID09PSAndW5kZWZpbmVkJykgcmV0dXJuCgogICAgICAgIHZhciB1aWQ9JGUuYXR0cigndWlkJyk7CiAgICAgICAgJC5wb3N0KCcvbm9kZS9NZW1iZXJGb2xsb3dCYXNlVjInCiAgICAgICAgICAsICQucGFyYW0oewogICAgICAgICAgICAgICAgbWV0aG9kOid1bmZvbGxvd19tZW1iZXInCiAgICAgICAgICAgICAgLCBwYXJhbXM6SlNPTi5zdHJpbmdpZnkoeydoYXNoX2lkJzp1aWR9KQogICAgICAgICAgICAgICwgX3hzcmY6JCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAsIGZ1bmN0aW9uKHIpewogICAgICAgICAgICAgICAgICB2YXIgcXVlcnk9ZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZGF0YSkKICAgICAgICAgICAgICAgICAgICAsIHBhcmFtcz11dGlscy5nZXRQYXJhbUluUXVlcnkocXVlcnksJ3BhcmFtcycpCiAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgZXZhbCgncGFyYW1zPScrcGFyYW1zKTsKICAgICAgICAgICAgICAgICAgdmFyIGJpZD0nZmItJytwYXJhbXMuaGFzaF9pZAogICAgICAgICAgICAgICAgICAgICwgd2hvPWJpZCsnLCcKICAgICAgICAgICAgICAgICAgICAsIHVuZm9sbG93ZWQ9aVpoaWh1LlF1aWNrQmxvY2suVW5mb2xsb3dlZAogICAgICAgICAgICAgICAgICAgICwgcmVmb2xsb3dlZD1pWmhpaHUuUXVpY2tCbG9jay5SZWZvbGxvd2VkCiAgICAgICAgICAgICAgICAgICAgLCAkY2FydERJVj0kKCcjaXpoX2Jsb2NrQ2FydCcpCiAgICAgICAgICAgICAgICAgICAgLCAkdXNlcj0kY2FydERJVi5maW5kKCcudXNlcjJCW3VpZD0nK3BhcmFtcy5oYXNoX2lkKyddJykKICAgICAgICAgICAgICAgICAgICAsICRsaXN0PSR1c2VyLmNsb3Nlc3QoJy5saXN0JykKICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAkdXNlci5wcmVwZW5kVG8oJGxpc3QubmV4dCgpLm5leHQoKSk7CiAgICAgICAgICAgICAgICAgIGlmKHVuZm9sbG93ZWQuVXNlcnMuaW5kZXhPZignLCcrd2hvKTwwKQogICAgICAgICAgICAgICAgICAgICAgdW5mb2xsb3dlZC5Vc2VycyArPSB3aG87CiAgICAgICAgICAgICAgICAgIGlmKHJlZm9sbG93ZWQuVXNlcnMuaW5kZXhPZignLCcrd2hvKT49MCkKICAgICAgICAgICAgICAgICAgICAgIHJlZm9sbG93ZWQuVXNlcnMgPSByZWZvbGxvd2VkLnJlcGxhY2UoJywnK3dobywnLCcpOwogICAgICAgICAgICB9CiAgICAgICAgKS5hbHdheXMoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpewogICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5kb1VuZm9sbG93KCkKICAgICAgICB9KTsKCSAgfTsKICAgIHRoaXMuZG9RdWlja0Jsb2NrID0gZnVuY3Rpb24oKXsKICAgICAgICB2YXIgJGUgPSBpWmhpaHUuUXVpY2tCbG9jay5Vc2VyczJCQlEuc2hpZnQoKQogICAgICAgIGlmKHR5cGVvZiAkZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybgoKICAgICAgICB2YXIgYmxvY2tpbmcgPSBpWmhpaHUuUXVpY2tCbG9jay5CbG9ja2luZwogICAgICAgICAgLCBocmVmID0gJGUuYXR0cignaHJlZicpCiAgICAgICAgICAsIHdobyA9IGhyZWYuc3BsaXQoJy8nKS5wb3AoKSsnLCcKICAgICAgICA7CiAgICAgICAgaWYodHlwZW9mIGJsb2NraW5nID09PSAndW5kZWZpbmVkJyB8fCAhYmxvY2tpbmcpewogICAgICAgICAgICBibG9ja2luZyA9IGlaaGlodS5RdWlja0Jsb2NrLkJsb2NraW5nID0geyBVc2VyczonLCcsIENvdW50OjAgfTsKICAgICAgICB9ZWxzZSBpZihibG9ja2luZy5Vc2Vycy5pbmRleE9mKCcsJyt3aG8pID49IDApewogICAgICAgICAgICByZXR1cm47IC8vIEFscmVhZHkgYmxvY2tpbmcKICAgICAgICB9CiAgICAgICAgdmFyICRjYXJ0RElWPSQoJyNpemhfYmxvY2tDYXJ0Jyk7CiAgICAgICAgJGNhcnRESVYuYWRkQ2xhc3MoJ2Jsb2NraW5nJyk7CiAgICAgICAgYmxvY2tpbmcuVXNlcnMgKz0gd2hvOwogICAgICAgIGJsb2NraW5nLkNvdW50ICsrOwogICAgICAgICQucG9zdChocmVmKycvYmxvY2snLCQucGFyYW0oewogICAgICAgICAgICBhY3Rpb246J2FkZCcKICAgICAgICAgICwgX3hzcmY6JCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKSAKICAgICAgICB9KSxmdW5jdGlvbihyKXsKICAgICAgICAgICAgdmFyIGhyZWY9dGhpcy51cmwucmVwbGFjZSgnL2Jsb2NrJywnJykKICAgICAgICAgICAgICAsIHVzZXJJRD1ocmVmLnNwbGl0KCcvJykucG9wKCkKICAgICAgICAgICAgICAsIHdobz0nLCcrdXNlcklEKycsJwogICAgICAgICAgICAgICwgYmxvY2tpbmc9aVpoaWh1LlF1aWNrQmxvY2suQmxvY2tpbmcKICAgICAgICAgICAgOwoKICAgICAgICAgICAgaWYoMD09LS1ibG9ja2luZy5Db3VudCkkY2FydERJVi5yZW1vdmVDbGFzcygncGVuZGluZycpOwogICAgCiAgICAgICAgICAgIGlmKGJsb2NraW5nLlVzZXJzLmluZGV4T2Yod2hvKSA8IDApCiAgICAgICAgICAgICAgICByZXR1cm47IC8vIE5vIHRoaXMgdXNlciBpbiBwZW5kaW5nCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIGJsb2NraW5nLlVzZXJzID0gYmxvY2tpbmcuVXNlcnMucmVwbGFjZSh3aG8sJywnKTsKICAgICAgICAgICAgJCgnI2l6aF9ibG9ja0NhcnQgLnVzZXIyQltocmVmPSInK2hyZWYrJyJdJykuZmluZCgnLmRlbCcpWzBdLmNsaWNrKCk7CiAgICAgICAgICAgICQoJ2FbaHJlZiQ9IicraHJlZisnIl0nKS5jc3MoJ3RleHQtZGVjb3JhdGlvbicsJ2xpbmUtdGhyb3VnaCcpOwogICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUil7CiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmRvUXVpY2tCbG9jaygpCiAgICAgICAgfSk7CiAgCX07CiAgICB0aGlzLnJlc2l6ZUJsb2NrQ2FydCA9IGZ1bmN0aW9uKCRjYXJ0RElWKXsKICAgICAgICBmdW5jdGlvbiBwYXJzZUNzc1B4KCRpdGVtLCBuYW1lKSB7CiAgICAgICAgICAgIHZhciBtID0gJGl0ZW0uY3NzKG5hbWUpOwogICAgICAgICAgICBpZiAobSAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG0ucmVwbGFjZSgncHgnLCcnKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHZhciAkdXNlckRJViA9ICRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkInKTsKICAgICAgICB2YXIgJHRpdGxlQm94ID0gJCgnI2l6aF9ibG9ja0NhcnQgLmRvJyk7CiAgICAgICAgdmFyIGggPSBwYXJzZUNzc1B4KCRjYXJ0RElWLmZpbmQoJ2Rpdi5mcmFtZScpLCdwYWRkaW5nVG9wJykgCiAgICAgICAgICAgICAgICArICgkdXNlckRJVi5oZWlnaHQoKSArIHBhcnNlQ3NzUHgoJHVzZXJESVYsJ21hcmdpblRvcCcpKSAqICR1c2VyRElWLmxlbmd0aCAKICAgICAgICAgICAgICAgICsgJHRpdGxlQm94LmhlaWdodCgpCiAgICAgICAgICAgICAgICArIHBhcnNlQ3NzUHgoJHRpdGxlQm94LCAnbWFyZ2luVG9wJykKICAgICAgICAgICAgICAgICsgcGFyc2VDc3NQeCgkdGl0bGVCb3gsICdtYXJnaW5Cb3R0b20nKTsKICAgICAgICAKICAgICAgICBpZihoK2laaGlodS4kbWFpbi5vZmZzZXQoKS50b3A8aVpoaWh1LiR3aW4uaGVpZ2h0KCkpewogICAgICAgICAgICAkY2FydERJVi5jc3MoeydoZWlnaHQnOmgsJ2JvdHRvbSc6Jyd9KTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGNhcnRESVYuY3NzKHsnaGVpZ2h0JzonJywnYm90dG9tJzowfSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0Q2FydERJVj1mdW5jdGlvbigpewogICAgICAgIHZhciAkY2FydERJVj0kKCcjaXpoX2Jsb2NrQ2FydCcpOwogICAgICAgIGlmKCEkY2FydERJVi5sZW5ndGgpewogICAgICAgICAgICAkY2FydERJVj0kKCc8ZGl2PicsIHsgaWQ6ICdpemhfYmxvY2tDYXJ0JywgJ2NsYXNzJzogJ2l6aF9ibG9ja0NhcnQnIH0pLmNzcyh7CiAgICAgICAgICAgICAgICAndG9wJzppWmhpaHUuJG1haW4ub2Zmc2V0KCkudG9wCiAgICAgICAgICAgIH0pLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonZG8nCiAgICAgICAgICAgICAgICAgICwgJ2l6aF9udW0yQic6MAogICAgICAgICAgICAgICAgICAsICd0aXRsZSc6J+S4i+S4uuOAjOWAmeWuoeOAjeWIl+ihqFxu54K55Ye75bem5LiK6KeS5Y+v5pS26LW3L+WxleW8gFxu5pWw5a2X5Li65Lq654qv5oC75pWw77yI57qi6Imy6KGo56S65LuN5pyJ5Lq654qv5q2j5b6F5YWl5YiX77yJJwogICAgICAgICAgICAgICAgfSkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOididXR0b24gZGVsQWxsJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTon5riF56m644CM5YCZ5a6h44CN5YiX6KGoJwogICAgICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY2FydERJVj0kKCcjaXpoX2Jsb2NrQ2FydCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmNzcygnYm90dG9tJywnJykuZmluZCgnLmxpc3QnKS5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcy5wYXJlbnROb2RlKS5hdHRyKCdpemhfbnVtMkInLCcwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJGNhcnRESVYuY3NzKCdoZWlnaHQnLCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLnRleHQoJ+Wkp+i1picpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzonYmxvY2snCiAgICAgICAgICAgICAgICAgICAgICAsICdwb3NpdGlvbic6J2Fic29sdXRlJwogICAgICAgICAgICAgICAgICAgICAgLCAnbGVmdCc6MjQKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgnPGlucHV0PicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOid1bmZvJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0eXBlOidjaGVja2JveCcKICAgICAgICAgICAgICAgICAgICAgICwgdGl0bGU6J+mAieS4reWQju+8jOWwhuaIkeWFs+azqOS5i+S6uuagh+WHuu+8jOaUueS7peaUvumAkO+8iOWPlua2iOWFs+azqO+8ieiuuuWkhCcKICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGNhcnRESVY9JCh0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJHVzZXJzPSQoJy5mcmFtZSAubGlzdC5pX2ZvIC51c2VyMkInLCRjYXJ0RElWKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkYWN0aW9uPSQoJy5hY3Rpb24nLHRoaXMucGFyZW50Tm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJzLmFkZENsYXNzKCd1bmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhY3Rpb24udGV4dCgn5pS+6YCQJykuY3NzKCdwYWRkaW5nJywnMCAyZW0gMCAwJykuYXR0cigndGl0bGUnLCflr7nliJfooajlhoXmiJHlhbPms6jkuYvkurrlj5bmtojlhbPms6gnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJzLnJlbW92ZUNsYXNzKCd1bmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhY3Rpb24udGV4dCgn5pS255uRJykuY3NzKCdwYWRkaW5nJywnMCAwIDAgMmVtJykuYXR0cigndGl0bGUnLCflsIbkuIvliJfkurrniq/pgJDkuIDliqDlhaXpu5HlkI3ljZUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOidibG9jaycKICAgICAgICAgICAgICAgICAgICAgICwgJ2Zsb2F0JzonbGVmdCcKICAgICAgICAgICAgICAgICAgICAgICwgJ2hlaWdodCc6MjIKICAgICAgICAgICAgICAgICAgICAgICwgJ2xpbmUtaGVpZ2h0JzoyMgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTon6YCJ5Lit5ZCO77yM5bCG5oiR5YWz5rOo55qE5Lq65qCH5Ye677yM5YeG5aSH44CM5Y+W5raI5YWz5rOo44CNJwogICAgICAgICAgICAgICAgICAgIH0pLnRleHQoJ+S7jui9uycpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzonYmxvY2snCiAgICAgICAgICAgICAgICAgICAgICAsICdmbG9hdCc6J2xlZnQnCiAgICAgICAgICAgICAgICAgICAgICAsICdtYXJnaW4tcmlnaHQnOjIwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOididXR0b24gYWN0aW9uJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTon5bCG5LiL5YiX5Lq654qv6YCQ5LiA5Yqg5YWl6buR5ZCN5Y2VJwogICAgICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjYXJ0RElWPSQodGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCgnLnVuZm8nLHRoaXMucGFyZW50Tm9kZSkuaXMoJzpjaGVja2VkJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5saXN0LmlfZm8gLnVzZXIyQicsJGNhcnRESVYpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suVXNlcnMyQkJRLnB1c2goJChlKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5kb1VuZm9sbG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubGlzdCAudXNlcjJCJywkY2FydERJVikuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5Vc2VyczJCQlEucHVzaCgkKGUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmRvUXVpY2tCbG9jaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkudGV4dCgn5pS255uRJykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOidibG9jaycKICAgICAgICAgICAgICAgICAgICAgICwgJ2Zsb2F0JzoncmlnaHQnCiAgICAgICAgICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6MjAKICAgICAgICAgICAgICAgICAgICAgICwgJ21hcmdpbi1yaWdodCc6LTEwCiAgICAgICAgICAgICAgICAgICAgICAsICdwYWRkaW5nJzonMCAwIDAgMmVtJwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCc8YT4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonemctaWNvbiB6Zy1pY29uLWRvdWJsZS1hcnJvdycKICAgICAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGNhcnRESVY9JCgnI2l6aF9ibG9ja0NhcnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkY2FydERJVi5hdHRyKCdtaW5pJykhPScxJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmZpbmQoJy5mcmFtZScpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNhcnRESVYuY3NzKHsnaGVpZ2h0JzonJywnYm90dG9tJzonJ30pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2FydERJVi5hdHRyKCdtaW5pJywnMScpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2FydERJVi5maW5kKCcuZnJhbWUnKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLnJlc2l6ZUJsb2NrQ2FydCgkY2FydERJVik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmF0dHIoJ21pbmknLCcwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6J2Fic29sdXRlJwogICAgICAgICAgICAgICAgICAgICAgLCAnbGVmdCc6MAogICAgICAgICAgICAgICAgICAgICAgLCAndG9wJzo1CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAkKCc8ZGl2PicseydjbGFzcyc6J2ZyYW1lJ30KICAgICAgICAgICAgICAgICkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2xpc3QgaV9mbyBmb19pJwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidsaXN0IGlfZm8nCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2xpc3QgZm9faScKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgnPGRpdj4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonbGlzdCcKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApLmFwcGVuZFRvKGlaaGlodS4kYm9keSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJGNhcnRESVYKICAgIH0KICAgIHRoaXMuaW4yQmxvY2tDYXJ0ID0gZnVuY3Rpb24odXJsLHJldHJpZWRDb3VudCl7CiAgICAgICAgdmFyICRlID0gaVpoaWh1LlF1aWNrQmxvY2suVXNlcnMyQi5zaGlmdCgpIHx8IG51bGwKICAgICAgICAgICwgJGNhcnRESVYgPSBpWmhpaHUuUXVpY2tCbG9jay5nZXRDYXJ0RElWKCkKCiAgICAgICAgJGNhcnRESVYuYWRkQ2xhc3MoJ3BlbmRpbmcnKTsKICAgICAgICBpZih0eXBlb2YgcmV0cmllZENvdW50ID09ICd1bmRlZmluZWQnKQogICAgICAgICAgICByZXRyaWVkQ291bnQgPSAwCgogICAgICAgIC8vY29uc29sZS5sb2cocmV0cmllZENvdW50KQogICAgICAgIGlmICghJGUgfHwgJGUubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgaWYoKHVybHx8JycpPT0nJyl7CiAgICAgICAgICAgICAgICAkY2FydERJVi5yZW1vdmVDbGFzcygncGVuZGluZycpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJC5hamF4KFsnJyx1cmxdLmpvaW4oJycpLHsKICAgICAgICAgICAgICAgICAgICB0eXBlOidHRVQnCiAgICAgICAgICAgICAgICAgICwgbWF4UmV0cnlDb3VudDogMwogICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUil7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEucGF5bG9hZCxmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5hZGRVc2VyMkIoZSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmluMkJsb2NrQ2FydChkYXRhLnBhZ2luZy5uZXh0KQogICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihkYXRhLHRleHRTdGF0dXMsalhIUil7CiAgICAgICAgICAgICAgICAgICAgaWYgKCsrcmV0cmllZENvdW50IDwgdGhpcy5tYXhSZXRyeUNvdW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suaW4yQmxvY2tDYXJ0KHVybCxyZXRyaWVkQ291bnQpCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLnJlbW92ZUNsYXNzKCdwZW5kaW5nJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgdmFyIGhyZWYgPSAkZS5hdHRyKCdocmVmJykKICAgICAgICAgICwgdXNlcm5hbWUgPSBocmVmLnNwbGl0KCcvJykucG9wKCkKICAgICAgICAgICwgd2hvID0gdXNlcm5hbWUrJywnCiAgICAgICAgOwoKICAgICAgICBpZigkY2FydERJVi5maW5kKCcudXNlcjJCW2hyZWY9IicraHJlZisnIl0nKS5sZW5ndGgpewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAkLmFqYXgoJy9ub2RlL01lbWJlclByb2ZpbGVDYXJkVjI/JyskLnBhcmFtKHtwYXJhbXM6SlNPTi5zdHJpbmdpZnkoeyd1cmxfdG9rZW4nOnVzZXJuYW1lfSl9KSwgewogICAgICAgICAgICB0eXBlOiAnR0VUJwogICAgICAgICAgLCB1c2VyMkI6ICRlCiAgICAgICAgICAsIG1heFJldHJ5Q291bnQ6IDMKICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKXsKICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suYWRkVXNlcjJCKGRhdGEpCiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmluMkJsb2NrQ2FydCh1cmwpCiAgICAgICAgfSkuZmFpbChmdW5jdGlvbihkYXRhLHRleHRTdGF0dXMsalhIUil7CiAgICAgICAgICAgIGlmICgrK3JldHJpZWRDb3VudCA8IHRoaXMubWF4UmV0cnlDb3VudCl7CiAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5Vc2VyczJCLnVuc2hpZnQodGhpcy51c2VyMkIpCiAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5pbjJCbG9ja0NhcnQodXJsLHJldHJpZWRDb3VudCkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIH0KICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oZGF0YSx0ZXh0U3RhdHVzLGpYSFIpewogICAgICAgICAgICAkKCcjaXpoX2Jsb2NrQ2FydCcpLnJlbW92ZUNsYXNzKCdwZW5kaW5nJyk7CiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5hZGRVc2VyMkI9ZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgaWYgKGRhdGEgPT09ICcnKSByZXR1cm4KICAgICAgICB2YXIgJGh0bWw9JChkYXRhLnJlcGxhY2UodXRpbHMuUmVnZXhTcmNQaWMsICcnKSkKICAgICAgICAgICwgaXNaSFBDPSRodG1sLmlzKCcuemgtcHJvZmlsZS1jYXJkJykKICAgICAgICAgICwgJGF2YXRhckxpbms9aXNaSFBDPyRodG1sLmZpbmQoJy5hdmF0YXItbGluazpmaXJzdCcpOiRodG1sLmZpbmQoJy56bS1pdGVtLWxpbmstYXZhdGFyOmZpcnN0JykKICAgICAgICAgICwgaHJlZj0kYXZhdGFyTGluay5hdHRyKCdocmVmJykKICAgICAgICBpZigoaHJlZnx8JycpPT0nJylyZXR1cm4KCiAgICAgICAgdmFyIHVzZXJJRD1ocmVmLnN1YnN0cig4KQogICAgICAgICAgLCB1c2VyTmFtZT1pc1pIUEM/JGF2YXRhckxpbmsudGV4dCgpOiRhdmF0YXJMaW5rLmF0dHIoJ3RpdGxlJykKICAgICAgICAgICwgJGJ0bkZvbGxvdz0kaHRtbC5maW5kKCdidXR0b25bZGF0YS1mb2xsb3ddJykKICAgICAgICAgICwgaGFzaElEPSEkYnRuRm9sbG93Lmxlbmd0aD8nJzokYnRuRm9sbG93LmF0dHIoJ2RhdGEtaWQnKQogICAgICAgICAgLCBmXz0kYnRuRm9sbG93Lmxlbmd0aCYmJGJ0bkZvbGxvdy5pcygnLnpnLWJ0bi11bmZvbGxvdycpCiAgICAgICAgICAsIF9mPSRidG5Gb2xsb3cubGVuZ3RoJiYkYnRuRm9sbG93LmlzKCdbZGF0YS1mb2xsb3dtZT0xXScpCiAgICAgICAgICAsIGNzc0Y9X2Z8fGZfPyd6Zy1pY29uIHJlbCAnOicnCiAgICAgICAgICAsICRjYXJ0RElWPWlaaGlodS5RdWlja0Jsb2NrLmdldENhcnRESVYoKQogICAgICAgICAgLCAkY2FydD0kY2FydERJVi5maW5kKCcubGlzdCcpCiAgICAgICAgICAsIHdobz0nLCcrdXNlcklEKycsJwogICAgICAgIDsKCiAgICAgICAgaWYoaGFzaElEPT0nJyl7CiAgICAgICAgICAgIHJldHVybjsgLy8gVXNlciBibG9ja2VkIG9yIHlvdSBibG9ja2VkCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKCRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkJbaHJlZj0iJytocmVmKyciXScpLmxlbmd0aCl7CiAgICAgICAgICAgIHJldHVybjsgLy8gVXNlciBhbHJlYWR5IGluIGJsb2NrIGxpc3QKICAgICAgICB9CgogICAgICAgIHZhciAkdXNlcjJCPSQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAnY2xhc3MnOid1c2VyMkInKyhmXyYmJGNhcnRESVYuZmluZCgnLmRvIC51bmZvOmNoZWNrZWQnKS5sZW5ndGg/JyB1bmZvJzonJykKICAgICAgICAgICAgICAsICdocmVmJzpocmVmCiAgICAgICAgICAgICAgLCAndWlkJzpoYXNoSUQKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2J1dHRvbiBkZWwnCiAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHVzZXI9JCh0aGlzKS5jbG9zZXN0KCcudXNlcjJCJykKICAgICAgICAgICAgICAgICAgICAgICAgICAsICRjYXJ0RElWPSQoJyNpemhfYmxvY2tDYXJ0JykKICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAkdXNlci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bTJCPSRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkInKS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmNoaWxkcmVuKCcuZG8nKS5hdHRyKCdpemhfbnVtMkInLG51bTJCPT0wPycwJzpudW0yQj45OTk/JzFrKyc6bnVtMkIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZihudW0yQikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLnJlc2l6ZUJsb2NrQ2FydCgkY2FydERJVik7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmNzcygnaGVpZ2h0JywnJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGV4dCgn6LWmJykKICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAkKCc8aT4nLHsKICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidzYXknCiAgICAgICAgICAgICAgICAgICwgJ2RhdGEtdGlwJzoncCR0JCcrdXNlcklECiAgICAgICAgICAgICAgICB9KS50ZXh0KCflhqTmnoknKQogICAgICAgICAgICApLmFwcGVuZCgkKCc8aT4nLHsnY2xhc3MnOidzYXlfMSd9KQogICAgICAgICAgICApLmFwcGVuZCgkKCc8aT4nLHsnY2xhc3MnOidzYXlfMid9KQogICAgICAgICAgICApLmFwcGVuZCgkKCc8aT4nLHsnY2xhc3MnOmNzc0Z9KQogICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J25hbWUnCiAgICAgICAgICAgICAgICAgICwgaHJlZjpocmVmCiAgICAgICAgICAgICAgICAgICwgdGFyZ2V0OidfYmxhbmsnCiAgICAgICAgICAgICAgICB9KS50ZXh0KHVzZXJOYW1lKQogICAgICAgICAgICApLnNob3coKQogICAgICAgIDsKICAgICAgICBpZihmXyYmX2YpewogICAgICAgICAgICAkY2FydC5lcSgwKS5hcHBlbmQoJHVzZXIyQik7CiAgICAgICAgfWVsc2UgaWYoZl8pewogICAgICAgICAgICAkY2FydC5lcSgxKS5hcHBlbmQoJHVzZXIyQik7CiAgICAgICAgfWVsc2UgaWYoX2YpewogICAgICAgICAgICAkY2FydC5lcSgyKS5hcHBlbmQoJHVzZXIyQik7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICRjYXJ0LmVxKDMpLmFwcGVuZCgkdXNlcjJCKTsKICAgICAgICB9CiAgICAgICAgdmFyIG51bTJCPSRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkInKS5sZW5ndGg7CiAgICAgICAgJGNhcnRESVYuY2hpbGRyZW4oJy5kbycpLmF0dHIoJ2l6aF9udW0yQicsbnVtMkI9PTA/JzAnOm51bTJCPjk5OTk/JzEwaysnOm51bTJCKTsKICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5yZXNpemVCbG9ja0NhcnQoJGNhcnRESVYpOwogICAgfQogICAgdGhpcy5hZGRRdWlja0Jsb2NrID0gZnVuY3Rpb24oJGEpewogICAgICAgIHZhciAkdm90ZUluZm89JCgnLnptLWl0ZW0tdm90ZS1pbmZvJywkYSkKICAgICAgICBpZigkdm90ZUluZm8ubGVuZ3RoKXsKICAgICAgICAgICAgdmFyICR2b3RlcnM9JHZvdGVJbmZvLmNoaWxkcmVuKCcudm90ZXJzJykKICAgICAgICAgICAgaWYoJHZvdGVycy5sZW5ndGgpewogICAgICAgICAgICAgICAgdmFyIHM9WyfvvIwnLCR2b3RlSW5mby5hdHRyKCdkYXRhLXZvdGVjb3VudCcpLCfkuKrkuZ/kuI3og73lv43vvIzmnpzmlq3mkpUnXS5qb2luKCcnKQogICAgICAgICAgICAgICAgICAsIGFpZD0kYS5hdHRyKCdkYXRhLWFpZCcpfHwkYS5jaGlsZHJlbignW2l0ZW1wcm9wPSJaUmVhY3RvciJdJykuYXR0cignZGF0YS1pZCcpCiAgICAgICAgICAgICAgICAgICwgdXJsPVsnLycsJGEuYXR0cignZGF0YS10eXBlJyk9PSdwJz8ncG9zdCc6J2Fuc3dlcicsJy8nLGFpZCwnL3ZvdGVyc19wcm9maWxlJ10uam9pbignJykKICAgICAgICAgICAgICAgICQoJzxhPicse2hyZWY6J2phdmFzY3JpcHQ6OycsJ2NsYXNzJzondGV4dCd9KS50ZXh0KHMpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICR0PSRhLmZpbmQoJy5hdXRob3ItaW5mbyA+IGEubmFtZSwuem0taXRlbS1hbnN3ZXItYXV0aG9yLWluZm8gPiBhLmF1dGhvci1saW5rJykKICAgICAgICAgICAgICAgICAgICBpZigkdCYmJHQubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suVXNlcnMyQi5wdXNoKCR0KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5pbjJCbG9ja0NhcnQodXJsKQogICAgICAgICAgICAgICAgfSkuYXBwZW5kVG8oJHZvdGVJbmZvKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYWRkUXVpY2tCbG9ja0luT25lQ29tbWVudCA9IGZ1bmN0aW9uKCRjbUl0ZW0pewogICAgICAgIHZhciAkd2hlcmU9JCgnLnptLWNvbW1lbnQtaGQnLCRjbUl0ZW0pOwogICAgICAgIGlmKCR3aGVyZS5maW5kKCcuaXpoLXF1aWNrLWJsb2NrLXBlbmQnKS5sZW5ndGgpcmV0dXJuOwogICAgICAgICQoJzxhPicsewogICAgICAgICAgICAnY2xhc3MnOidpemgtcXVpY2stYmxvY2stcGVuZCBpemgtYnV0dG9uJwogICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgLCAnZGF0YS10aXAnOidzJGwk5bCG5q2k5Lq65YiX5YWl5YCZ5a6h5ZCN5Y2V5Lul5b6F5pS255uRJwogICAgICAgIH0pLnRleHQoJ+WAmeWuoScpLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciAkZSA9ICQodGhpcykubmV4dCgpCiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLlVzZXJzMkIucHVzaCgkZSkKICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suaW4yQmxvY2tDYXJ0KCk7CiAgICAgICAgfSkucHJlcGVuZFRvKCR3aGVyZSkuaGlkZSgpOwogICAgfTsKICAgIHRoaXMuYWRkUXVpY2tCbG9ja0luQ29tbWVudExpc3QgPSBmdW5jdGlvbigkd2hlcmUpewogICAgICAgIC8vIFJlZ2lvbjog5b+r6YCf5bGP6JS9CiAgICAgICAgdmFyICRjbT0kd2hlcmUuaXMoJy56bS1jb21tZW50LWJveCcpPyR3aGVyZTokd2hlcmUuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94JykKICAgICAgICAgICwgJHU9JCgnLnptLWl0ZW0tY29tbWVudCcsJGNtKQogICAgICAgIDsKICAgICAgICAkdS5lYWNoKGZ1bmN0aW9uKGksZSl7CiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmFkZFF1aWNrQmxvY2tJbk9uZUNvbW1lbnQoJChlKSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyICRidG5RdWlja0Jsb2NrPSQoJzxhPicsewogICAgICAgICAgICAgICAgJ2NsYXNzJzonaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCBpemgtYnV0dG9uJwogICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkdCTlvIDlp4vku47or4TorrrogIXkuK3pgInmi6nlsY/olL3lr7nosaEnCiAgICAgICAgICAgIH0pLnRleHQoJ+W/q+mAn+Wxj+iUvScpLmNzcyh7J21hcmdpbi1sZWZ0Jzo3fSkucHJlcGVuZFRvKCR3aGVyZSkuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2V0QXR0cmlidXRlKCdvbicpPT0nMScpewogICAgICAgICAgICAgICAgICAgICQoJy56bS1jb21tZW50LWhkIC5pemgtcXVpY2stYmxvY2stcGVuZCcpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoeydkYXRhLXRpcCc6J3MkdCTlvIDlp4vku47or4TorrrogIXkuK3pgInmi6nlsY/olL3lr7nosaEnLCdvbic6JzAnfSkucmVtb3ZlQ2xhc3MoJ29uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICQoJy56bS1jb21tZW50LWhkIC5pemgtcXVpY2stYmxvY2stcGVuZCcpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoeydkYXRhLXRpcCc6J3MkdCTnu5PmnZ/ku47or4TorrrogIXkuK3pgInmi6nlsY/olL3lr7nosaEnLCdvbic6JzEnfSkuYWRkQ2xhc3MoJ29uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgOwogICAgICAgIGlmKCRjbS5pcygnLmVtcHR5JykpewogICAgICAgICAgICAkYnRuUXVpY2tCbG9jay5oaWRlKCk7CiAgICAgICAgfQogICAgICAgIC8vIFJlZ2lvbiBlbmQKICAgIH07CiAgICAKICAgIGlaaGlodS4kYm9keS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAkKGV2ZW50LnRhcmdldCkuZmlsdGVyKCcjemgtdG9vbHRpcCcpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICB2YXIgJGE9JChldmVudC50YXJnZXQpLmZpbHRlcignI3poLXRvb2x0aXAtcGVvcGxlJykuZmluZCgnYVtuYW1lPWZvY3VzXScpCiAgICAgICAgICAgICAgLCBiaWQ9JGEuYXR0cignaWQnKQogICAgICAgICAgICAgICwgd2hvPScsJytiaWQrJywnCiAgICAgICAgICAgIDsKICAgICAgICAgICAgaWYoJGEuaXMoJy56Zy1idG4tdW5mb2xsb3cnKSYmaVpoaWh1LlF1aWNrQmxvY2suVW5mb2xsb3dlZC5Vc2Vycy5pbmRleE9mKHdobyk+PTApewogICAgICAgICAgICAgICAgJGEudGV4dCgn5YWz5rOoJykucmVtb3ZlQ2xhc3MoJ3pnLWJ0bi11bmZvbGxvdycpLmFkZENsYXNzKCd6Zy1idG4tZm9sbG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJGEuaXMoJy56Zy1idG4tZm9sbG93JykmJmlaaGlodS5RdWlja0Jsb2NrLlJlZm9sbG93ZWQuVXNlcnMuaW5kZXhPZih3aG8pPj0wKXsKICAgICAgICAgICAgICAgICRhLnRleHQoJ+WPlua2iOWFs+azqCcpLnJlbW92ZUNsYXNzKCd6Zy1idG4tZm9sbG93JykuYWRkQ2xhc3MoJ3pnLWJ0bi11bmZvbGxvdycpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiB0aGlzOwp9CgovKioKICogQGNsYXNzIFF1aWNrRmF2bwogKi8KZnVuY3Rpb24gUXVpY2tGYXZvKGlaaGlodSkgewogICAgaWYgKCB0eXBlb2YgaVpoaWh1ID09PSAndW5kZWZpbmVkJyB8fCAhaVpoaWh1IHx8ICFpWmhpaHUuY29uZmlnWydRdWlja0Zhdm8nXSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaVpoaWh1LlF1aWNrRmF2byA9IHRoaXM7CiAgICAKICAgIHRoaXMuRGVmYXVsdENvdW50ID0gNDsKICAgIHRoaXMuUGlubmVkTGlzdCA9IGlaaGlodS5jb25maWdbJ1F1aWNrRmF2b1Bpbm5lZCddOwogICAgdGhpcy5jc3MgPSAKICAgICAgICBbJy5pemgtUGluNFF1aWNrRmF2b3twYWRkaW5nOjNweCA1cHggMDtmbG9hdDpyaWdodDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6NHB4O21hcmdpbi1yaWdodDoyZW07bGluZS1oZWlnaHQ6MS4yNTt9JwogICAgICAgICwnLml6aC1QaW40UXVpY2tGYXZvIC56bS1pdGVtLXRvcC1idG57dmlzaWJpbGl0eTp2aXNpYmxlO21hcmdpbjowIDRweDtmbG9hdDpyaWdodDt9JwogICAgICAgICwnZGl2Lml6aF9mYXZ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo5OTk5O2Rpc3BsYXk6bm9uZTtib3JkZXI6MXB4IHNvbGlkICM5OTk5OTk7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NXB4IDVweCA1cHggMDttYXJnaW4tbGVmdDotMXB4O30nCiAgICAgICAgLCdkaXYuaXpoX2ZhdiAudGl0bGV7cGFkZGluZzowIDVweDtiYWNrZ3JvdW5kLWNvbG9yOiMwODc0YzQ7Y29sb3I6I2ZmZjtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxNXB4O3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4IDNweCAwIDA7fScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2e2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aDtmbG9hdDtsZWZ0O3BhZGRpbmc6MCAzNnB4IDAgMjRweDtsaW5lLWhlaWdodDoyO30nCiAgICAgICAgLCdkaXYuaXpoX2ZhdiBhLmZhdiBpe3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MC41ZW07fScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2IGkuc3Bpbm5lci1ncmF5e2xlZnQ6MDt9JwogICAgICAgICwnZGl2Lml6aF9mYXYgYS5mYXYgaS56LWljb24tY29sbGVjdHtsZWZ0OjEwcHg7dmlzaWJpbGl0eTpoaWRkZW47YmFja2dyb3VuZC1wb3NpdGlvbjotNTZweCAtMzZweDt9JwogICAgICAgICwnZGl2Lml6aF9mYXYgYS5mYXYuc2VsZWN0ZWQgaS56LWljb24tY29sbGVjdHt2aXNpYmlsaXR5OnZpc2libGU7fScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2OmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lfScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2IHNwYW57ZmxvYXQ6cmlnaHQ7ZGlzcGxheTpibG9jazttYXJnaW4tcmlnaHQ6LTMycHh9JwogICAgICAgICwnLm1ldGEtaXRlbS5vbntwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjEwMDAwO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICM5OTk5OTk7Ym9yZGVyLXRvcC1jb2xvcjojZmZmO21hcmdpbjotMXB4IC04cHggLTFweCAtMXB4O3BhZGRpbmc6MCA3cHg7Ym9yZGVyLXJhZGl1czoycHggMnB4IDNweCAzcHg7fScKICAgICAgICAsJyddLmpvaW4oJ1xuJyk7CiAgICB0aGlzLmFkZFF1aWNrRmF2byA9IGZ1bmN0aW9uKCR2LCRhKXsKICAgICAgICBpZigkdi5sZW5ndGgpewogICAgICAgICAgICBpZigkYS5jaGlsZHJlbignLml6aF9mYXYnKS5sZW5ndGg8PTApewogICAgICAgICAgICAgICAgJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICdpemhfZmF2JyB9KQogICAgICAgICAgICAgICAgCS5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnc3Bpbm5lci1ncmF5JyB9KSkKICAgICAgICAgICAgICAgIAkuYXBwZW5kKCcmbmJzcDvliqDovb3kuK0uLi4mbmJzcDsnKQogICAgICAgICAgICAgICAgCS5iaW5kKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpewoJICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNob3coKS5wYXJlbnQoKS5maW5kKCcubWV0YS1pdGVtW25hbWU9ZmF2b10nKS5hZGRDbGFzcygnb24nKTsKICAgICAgICAgICAgICAgIAl9KQogICAgICAgICAgICAgICAgCS5iaW5kKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCl7CgkgICAgICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpLnBhcmVudCgpLmZpbmQoJy5tZXRhLWl0ZW1bbmFtZT1mYXZvXScpLnJlbW92ZUNsYXNzKCdvbicpOwoJICAgICAgICAgICAgICAgIH0pCgkgICAgICAgICAgICAuYXBwZW5kVG8oJGEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR2LmJpbmQoJ21vdXNlZW50ZXInLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgJGE9aVpoaWh1LmdldEl0ZW0oJCh0aGlzKSkKICAgICAgICAgICAgICAgICAgLCAkbT0kKHRoaXMpLmFkZENsYXNzKCdvbicpLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKQogICAgICAgICAgICAgICAgICAsIGFpZD0kYS5hdHRyKCdkYXRhLWFpZCcpCiAgICAgICAgICAgICAgICAgICwgJG9wPSQodGhpcykub2Zmc2V0UGFyZW50KCkKICAgICAgICAgICAgICAgICAgLCBib3R0b20xPXBhcnNlSW50KCRvcC5jc3MoJ21hcmdpbi1ib3R0b20nKSkKICAgICAgICAgICAgICAgICAgLCBib3R0b20yPXBhcnNlSW50KCRhLmNzcygncGFkZGluZy1ib3R0b20nKSkKICAgICAgICAgICAgICAgICAgLCBwb3M9JCh0aGlzKS5wb3NpdGlvbigpCiAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAkYS5jaGlsZHJlbignLml6aF9mYXYnKS5jc3MoewogICAgICAgICAgICAgICAgICAgICdib3R0b20nOihpc05hTihib3R0b20xKT8wOmJvdHRvbTEpKyhpc05hTihib3R0b20yKT8wOmJvdHRvbTIpKyRvcC5oZWlnaHQoKS1wb3MudG9wCiAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOnBvcy5sZWZ0KyRtLnBvc2l0aW9uKCkubGVmdAogICAgICAgICAgICAgICAgfSkuc2hvdygpOwogICAgICAgICAgICAgICAgJC5nZXRKU09OKCcvY29sbGVjdGlvbnMvanNvbicsJC5wYXJhbSh7YW5zd2VyX2lkOmFpZH0pLGZ1bmN0aW9uKHJlc3VsdCxzdGF0dXMseGhyKXsKICAgICAgICAgICAgICAgICAgICB2YXIgYWlkPXRoaXMudXJsLnN1YnN0cih0aGlzLnVybC5pbmRleE9mKCdhbnN3ZXJfaWQ9JykrMTApCiAgICAgICAgICAgICAgICAgICAgICAsIHNlbD1wYWdlSXMuUXVlc3Rpb24/Jy56bS1pdGVtLWFuc3dlcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgOnBhZ2VJcy5Ib21lPycuZmVlZC1pdGVtJwogICAgICAgICAgICAgICAgICAgICAgICAgICA6cGFnZUlzLkFuc3dlcj8nLnptLWl0ZW0tYW5zd2VyJwogICAgICAgICAgICAgICAgICAgICAgICAgICA6JycKICAgICAgICAgICAgICAgICAgICAgICwgJGE9JChzZWwrJ1tkYXRhLWFpZD0nK2FpZCsnXScpCiAgICAgICAgICAgICAgICAgICAgICAsICR2PSRhLmNoaWxkcmVuKCcuaXpoX2ZhdicpLmVtcHR5KCkuYXBwZW5kKCQoJzxkaXY+Jyx7J2NsYXNzJzondGl0bGUnLHRpdGxlOifku6XkuIvkuLrmnIDov5HpgInmi6nnmoTmlLbol4/lpLknfSkuYXBwZW5kKCflv6vpgJ/mlLbol48nKSkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoJyc9PXNlbClyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgdmFyIGZhdkFsbD1yZXN1bHQubXNnWzBdCiAgICAgICAgICAgICAgICAgICAgICAsIGZhdlNlbD1yZXN1bHQubXNnWzFdCiAgICAgICAgICAgICAgICAgICAgICAsIG51bT1pWmhpaHUuUXVpY2tGYXZvLkRlZmF1bHRDb3VudAogICAgICAgICAgICAgICAgICAgICAgLCBmYXY9bmV3IEFycmF5KCkKICAgICAgICAgICAgICAgICAgICAgICwgZmF2Tm9ybWFsPW5ldyBBcnJheSgpCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICQuZWFjaChmYXZBbGwsZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZJRD1lWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCBwaW5uZWQ9aVpoaWh1LlF1aWNrRmF2by5QaW5uZWRMaXN0W2ZJRF0KICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICBpZihwaW5uZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgIGZhdi5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICBmYXZOb3JtYWwucHVzaChlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIG51bSAtPSBmYXYubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGlmKG51bSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICBmYXY9ZmF2LmNvbmNhdChmYXZOb3JtYWwuc2xpY2UoMCxudW0pKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmF2Tm9ybWFsLmxlbmd0aD0wOwogICAgICAgICAgICAgICAgICAgIHdoaWxlKGZhdi5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZT1mYXYuc2hpZnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICwgZklEPWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAsIGZOYW1lPWVbMV0KICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICBmYXZOb3JtYWxbZklEXT1mTmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRmPSQoJzxhLz4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidmYXYnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDo7JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFpZDphaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBmaWQ6ZklECiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KGZOYW1lKS5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1PScvY29sbGVjdGlvbi8nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRmPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGk9JGYuY2hpbGRyZW4oJzpmaXJzdCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpLmhhc0NsYXNzKCdzcGlubmVyLWdyYXknKSlyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSs9JGYuaGFzQ2xhc3MoJ3NlbGVjdGVkJyk/J3JlbW92ZSc6J2FkZCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGkuYXR0cignY2xhc3MnLCdzcGlubmVyLWdyYXknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLnBvc3QodSwkLnBhcmFtKHtfeHNyZjokKCdpbnB1dFtuYW1lPV94c3JmXScpLnZhbCgpLGFuc3dlcl9pZDokKHRoaXMpLmF0dHIoJ2FpZCcpLGZhdmxpc3RfaWQ6JCh0aGlzKS5hdHRyKCdmaWQnKX0pLGZ1bmN0aW9uKHJlc3VsdCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3Q9dGhpcy51cmwuc3Vic3RyaW5nKHRoaXMudXJsLmxhc3RJbmRleE9mKCcvJykrMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGZpZD11dGlscy5nZXRQYXJhbUluUXVlcnkodGhpcy5kYXRhLCdmYXZsaXN0X2lkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFpZD11dGlscy5nZXRQYXJhbUluUXVlcnkodGhpcy5kYXRhLCdhbnN3ZXJfaWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc2VsPXBhZ2VJcy5RdWVzdGlvbj8nLnptLWl0ZW0tYW5zd2VyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnBhZ2VJcy5Ib21lPycuZmVlZC1pdGVtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOicnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkdmk9Jyc9PXNlbD9udWxsOiQoc2VsKydbZGF0YS1haWQ9JythaWQrJ10gLml6aF9mYXYgYVtmaWQ9JytmaWQrJ10nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaW5jPTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCcnPT1zZWwpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhY3Q9PSdyZW1vdmUnJiZyZXN1bHQubXNnPT0nT0snKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2aS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluYz0tMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYWN0PT0nYWRkJyYmcmVzdWx0Lm1zZy5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jPTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5jIT0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2aS5jaGlsZHJlbignc3BhbicpLnRleHQocGFyc2VJbnQoJHZpLmNoaWxkcmVuKCdzcGFuJykudGV4dCgpKStpbmMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2aS5jaGlsZHJlbignOmZpcnN0JykuYXR0cignY2xhc3MnLCd6LWljb24tY29sbGVjdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkucHJlcGVuZCgkKCc8aS8+Jyx7J2NsYXNzJzonei1pY29uLWNvbGxlY3QnfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4vPicpLnRleHQoZVszXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAkZi5hcHBlbmRUbygkdi8qLmNoaWxkcmVuKHBpbm5lZD8nLnBpbm5lZCc6Jy5ub3JtYWwnKSovKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICQuZWFjaChmYXZTZWwsZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmF2Tm9ybWFsW2VdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHYuZmluZCgnYS5mYXZbZmlkPScrZSsnXScpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkdi5iaW5kKCdtb3VzZWxlYXZlJyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyICRhPWlaaGlodS5nZXRJdGVtKCQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJykpOwogICAgICAgICAgICAgICAgJGEuY2hpbGRyZW4oJy5pemhfZmF2JykuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwoKICAgIGlaaGlodS4kYm9keS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKCQl2YXIgJGU9JChldmVudC50YXJnZXQpOwoJCWlmKCRlLmlzKCcubW9kYWwtZGlhbG9nJykpewoJCQkkZS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKCQkJCXZhciAkZT0kKGV2ZW50LnRhcmdldCkKICAgICAgICAgICAgICAgICAgLCAkZmF2TGlzdD0kZS5maW5kKCcuem0tZmF2by1saXN0LWNvbnRlbnQnKQogICAgICAgICAgICAgICAgOwoJCQkJaWYoJGZhdkxpc3QubGVuZ3RoKXsKCQkJCQl2YXIgJGZhdkl0ZW1zPSRmYXZMaXN0LmNoaWxkcmVuKCcuem0tZmF2by1saXN0LWl0ZW0tbGlua1tkYXRhLWxpZF0nKQogICAgICAgICAgICAgICAgICAgICAgLCBmdW5jUGluPWZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpbm5lZD1lLmNoZWNrZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkZT0kKGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGY9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1pdGVtLWxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgO2lmKCEkZi5sZW5ndGgpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpZD0kZS5hdHRyKCdsaWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRjaGVja3M9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1jb250ZW50JykuZmluZCgnLml6aC1QaW40UXVpY2tGYXZvIC50X2pjaGtib3gnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHRpbWU9NTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjc3NTdGFydD17cG9zaXRpb246J3JlbGF0aXZlJywnYmFja2dyb3VuZC1jb2xvcic6JyMwODc0QzQnLCd6LWluZGV4JzonMTAwJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjc3NFbmQ9e3Bvc2l0aW9uOicnLCdiYWNrZ3JvdW5kLWNvbG9yJzonJywnei1pbmRleCc6Jyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgZnVuY1JvbGxVcD1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGI9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1pdGVtLWxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGE9JGIucHJldigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRhLmxlbmd0aHx8KCRhLmhhc0NsYXNzKCdwaW5uZWQnKSYmcGFyc2VJbnQoJGEuYXR0cignZGF0YS1saWQnKSk8cGFyc2VJbnQoJGIuYXR0cignZGF0YS1saWQnKSkpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYi5hbmltYXRlKHtib3R0b206JGEub3V0ZXJIZWlnaHQoKX0sewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246dGltZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc3RlcDpmdW5jdGlvbihub3cpeyRiLmNzcyhjc3NTdGFydCk7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY29tcGxldGU6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYi5jc3MoJC5leHRlbmQoe2JvdHRvbTowfSxjc3NFbmQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYi5pbnNlcnRCZWZvcmUoJGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNSb2xsVXAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGZ1bmNSb2xsRG93bj1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGE9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1pdGVtLWxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGI9JGEubmV4dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRiLmxlbmd0aHx8KCEkYi5oYXNDbGFzcygncGlubmVkJykmJnBhcnNlSW50KCRiLmF0dHIoJ2luZGV4JykpPnBhcnNlSW50KCRhLmF0dHIoJ2luZGV4JykpKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGEuYW5pbWF0ZSh7dG9wOiRiLm91dGVySGVpZ2h0KCl9LHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOnRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHN0ZXA6ZnVuY3Rpb24obm93KXskYS5jc3MoY3NzU3RhcnQpO30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGEuY3NzKCQuZXh0ZW5kKHt0b3A6MH0sY3NzRW5kKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGEuaW5zZXJ0QWZ0ZXIoJGIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNSb2xsRG93bigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwaW5uZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmLmFkZENsYXNzKCdwaW5uZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jUm9sbFVwKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZi5yZW1vdmVDbGFzcygncGlubmVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY1JvbGxEb3duKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tGYXZvLlBpbm5lZExpc3RbbGlkXT1waW5uZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5zZXRDZmcoJ1F1aWNrRmF2b1Bpbm5lZCcsaVpoaWh1LlF1aWNrRmF2by5QaW5uZWRMaXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIDsKCQkJCQkkZmF2SXRlbXMuZWFjaChmdW5jdGlvbihpLGUpewoJCQkJCQl2YXIgbGlkPWUuZ2V0QXR0cmlidXRlKCdkYXRhLWxpZCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkcGluPSQoJzxhLz4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdjbGFzcyc6J2l6aC1QaW40UXVpY2tGYXZvJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdsaWQnOmxpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkYiTkv53mjIHlnKjjgIzlv6vpgJ/mlLbol4/jgI3oj5zljZXpobbpg6jmmL7npLonCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5hcHBlbmQoJCgnPHNwYW4vPicpLmFwcGVuZCgn572u6aG2JykuYWRkKCc8aS8+Jyx7J2NsYXNzJzonem0taXRlbS10b3AtYnRuJ30pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJCgnLnpnLWdyYXknLGUpKS5hdHRyKCdpbmRleCcsaSkKICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaW5kZXgnLGkpOwogICAgICAgICAgICAgICAgICAgICAgICAkcGluLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQ9IXRoaXMuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNQaW4odGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ3NwYW4nKS50ZXh0KCflj5bmtojnva7pobYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpJykuYWRkQ2xhc3MoJ3ptLWl0ZW0tdG9wLWJ0bi1jYW5jZWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ3NwYW4nKS50ZXh0KCfnva7pobYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpJykucmVtb3ZlQ2xhc3MoJ3ptLWl0ZW0tdG9wLWJ0bi1jYW5jZWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGU9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSlbMF0uY2hlY2tlZD1mYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1LlF1aWNrRmF2by5QaW5uZWRMaXN0W2xpZF0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBpbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgkJCQkJfSk7CgkJCQl9CgkJCX0pOwoJCX0KCX0pOwoKICAgIHJldHVybiB0aGlzOwp9CgovKioKICogQGNsYXNzIFNlYXJjaGluZ0xpc3QKICovCmZ1bmN0aW9uIFNlYXJjaGluZ0xpc3QoaVpoaWh1KSB7CiAgICBpZiAoIHR5cGVvZiBpWmhpaHUgPT09ICd1bmRlZmluZWQnIHx8ICFpWmhpaHUpIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgfQogICAgaVpoaWh1LlNlYXJjaGluZ0xpc3QgPSB0aGlzCiAgICAKICAgIHRoaXMuJHRvcFNlYXJjaCA9ICQoJyN6aC10b3Atc2VhcmNoLWZvcm0nKQogICAgdGhpcy4kdG9wU2VhcmNoSW5wdXQgPSAkKCcjemgtdG9wLXNlYXJjaC1mb3JtID4gaW5wdXQjcScpCiAgICBpZiAoIXRoaXMuJHRvcFNlYXJjaC5sZW5ndGgpIHJldHVybgoKICAgIHRoaXMuU2VhcmNoRW5naW5lT3V0c2lkZUxpc3QgPSB7CiAgICAgICAgJ2dvb2dsZSc6IHtpY29uOidodHRwczovL3d3dy5nb29nbGUuY29tL2Zhdmljb24uaWNvJyx1cmw6J2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vP3E9c2l0ZTp6aGlodS5jb20lMjB7MH0jcT1zaXRlOnpoaWh1LmNvbSt7MH0nfQogICAgICAsICdiYWlkdSc6IHtpY29uOidodHRwOi8vd3d3LmJhaWR1LmNvbS9mYXZpY29uLmljbycsdXJsOidodHRwOi8vd3d3LmJhaWR1LmNvbS9zP3dkPXNpdGU6emhpaHUuY29tJTIwezB9J30KICAgIH0KCiAgICB1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKHRoaXMuJHRvcFNlYXJjaFswXSxmdW5jdGlvbihldmVudCl7CiAgICAgICAgdmFyIF9hID0gZXZlbnQuYWRkZWROb2RlcyB8fCBbXQogICAgICAgIGlmICghX2EubGVuZ3RoKSByZXR1cm4KICAgICAgICB1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKF9hWzBdLGZ1bmN0aW9uKGV2ZW50KXtjb25zb2xlLmxvZyhpWmhpaHUuY29uZmlnWydTZWFyY2hFbmdpbmVPdXRzaWRlJ10pCiAgICAgICAgICAgIHZhciBfYSA9IGV2ZW50LmFkZGVkTm9kZXMgfHwgW251bGxdCiAgICAgICAgICAgICAgLCAkaXRlbSA9ICQoX2FbMF0pCiAgICAgICAgICAgICAgLCBzZW9LZXkgPSBpWmhpaHUuY29uZmlnWydTZWFyY2hFbmdpbmVPdXRzaWRlJ10gfHwgJ2JhaWR1JwogICAgICAgICAgICAgICwgc2VvID0gaVpoaWh1LlNlYXJjaGluZ0xpc3QuU2VhcmNoRW5naW5lT3V0c2lkZUxpc3Rbc2VvS2V5XSB8fCB7aWNvbjonJyx1cmw6Jyd9CiAgICAgICAgICAgICAgLCBzdHJTZWFyY2hVcmwgPSBzZW8udXJsLnJlcGxhY2UoL1x7MFx9L2csIGZ1bmN0aW9uKCl7cmV0dXJuIGlaaGlodS5TZWFyY2hpbmdMaXN0LiR0b3BTZWFyY2hJbnB1dC52YWwoKX0pCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlb0tleSkKICAgICAgICAgICAgaWYgKCRpdGVtLmlzKCcuYWMtcm93W3JvbGU9b3B0aW9uXScpKXsKICAgICAgICAgICAgICAgIHZhciAkYSA9ICRpdGVtLmNoaWxkcmVuKCdhJykKICAgICAgICAgICAgICAgICAgLCBocmVmID0gJGEuYXR0cignaHJlZicpCiAgICAgICAgICAgICAgICAgICwgY3NzID0gJ2Zsb2F0OnJpZ2h0O2JhY2tncm91bmQtcG9zaXRpb246LTI4NHB4IC0ycHg7JwogICAgICAgICAgICAgICAgICAsICRhTmV3ID0gJCgnPGE+Jywge2NsYXNzOid6Zy1pY29uJyxzdHlsZTpjc3MsaHJlZjpocmVmLHRhcmdldDonX2JsYW5rJyxjbGljazpmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgfX0pCiAgICAgICAgICAgICAgICBpZiAoaHJlZi5pbmRleE9mKCcvc2VhcmNoPycpID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgJGFOZXcuY3NzKHttYXJnaW5Ub3A6JzAuNWVtJ30pCiAgICAgICAgICAgICAgICAgICAgJGl0ZW0uYXBwZW5kKCQoJzxhPicsIHtjbGFzczonaWNvbicsc3R5bGU6J21hcmdpbi10b3A6MC41ZW07ZmxvYXQ6bGVmdCcsaHJlZjpzdHJTZWFyY2hVcmwsdGFyZ2V0OidfYmxhbmsnLGNsaWNrOmZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICAgICAgICAgICAgICB9fSkuYXBwZW5kKCQoJzxpbWc+Jywge2JvcmRlcjowLHNyYzpzZW8uaWNvbix3aWR0aDoxNixoZWlnaHQ6MTZ9KSkpCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhyZWYuaW5kZXhPZignL3F1ZXN0aW9uLycpIDwgMCkgewogICAgICAgICAgICAgICAgICAgICRhTmV3LmNzcyh7bWFyZ2luVG9wOictMS41ZW0nfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRpdGVtLmFwcGVuZCgkYU5ldykKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9KQoKICAgIHJldHVybiB0aGlzCn0KCi8qKgogKiBAY2xhc3MgVG9wTmF2CiAqLwpmdW5jdGlvbiBUb3BOYXYoaVpoaWh1KSB7CiAgICBpZiAoIHR5cGVvZiBpWmhpaHUgPT09ICd1bmRlZmluZWQnIHx8ICFpWmhpaHUgfHwgIWlaaGlodS5jb25maWdbJ1RvcE5hdkF1dG9Gb2xkJ10pIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgfQogICAgaVpoaWh1LlRvcE5hdiA9IHRoaXMKICAgIAogICAgdGhpcy4kdG9wTmF2ID0gJCgnYm9keSA+IC56dS10b3A6Zmlyc3QnKQogICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICB0aGlzLnN0eWxlLnRvcCA9ICcwJwogICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaXpoLW1vdXNlb3ZlcicsICcxJykKICAgICAgICAgICAgJCgnI2l6aENTU19Ob3RpTnVtJykucmVtb3ZlKCkKICAgICAgICB9KQogICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpemgtbW91c2VvdmVyJywgJzAnKQogICAgICAgICAgICBpWmhpaHUuVG9wTmF2LmZ1bmNGb2xkKCkKICAgICAgICB9KQogICAgaWYgKCF0aGlzLiR0b3BOYXYubGVuZ3RoKSByZXR1cm4KCiAgICB0aGlzLnRvcE5hdkhlaWdodCA9IHRoaXMuJHRvcE5hdi5oZWlnaHQoKSAtIDUKCiAgICB0aGlzLmZ1bmNGb2xkID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgIHZhciBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDAKICAgICAgICAgICwgX3NlbGYgPSBpWmhpaHUuVG9wTmF2CiAgICAgICAgICAsIGlzTW91c2VPdmVyID0gJzEnID09PSAoX3NlbGYuJHRvcE5hdi5hdHRyKCdpemgtbW91c2VvdmVyJykgfHwgJycpCiAgICAgICAgICAsICRoZWFkID0gJCgnaGVhZDpmaXJzdCcpCiAgICAgICAgICAsICRjc3NOb3RpTnVtID0gJCgnI2l6aENTU19Ob3RpTnVtJykKICAgICAgICAgICwgJGZsb2F0aW5nQmFyID0gJCgnYm9keSA+IC5nb29nLXNjcm9sbGZsb2F0ZXItZmxvYXRpbmcnKQogICAgICAgIGlmIChzY3JvbGxUb3AgPT09IDApIHsKICAgICAgICAgICAgX3NlbGYuJHRvcE5hdi5jc3Moe3RvcDowfSkKICAgICAgICB9IGVsc2UgaWYgKCFpc01vdXNlT3ZlcikgewogICAgICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgX3NlbGYudG9wTmF2SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICBfc2VsZi4kdG9wTmF2LmNzcyh7dG9wOi1zY3JvbGxUb3B9KQogICAgICAgICAgICAgICAgJGZsb2F0aW5nQmFyLmNzcyh7bWFyZ2luVG9wOi1zY3JvbGxUb3B9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3NlbGYuJHRvcE5hdi5jc3Moe3RvcDotX3NlbGYudG9wTmF2SGVpZ2h0fSkKICAgICAgICAgICAgICAgICRmbG9hdGluZ0Jhci5jc3Moe21hcmdpblRvcDotX3NlbGYudG9wTmF2SGVpZ2h0fSkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gMjApIHsKICAgICAgICAgICAgICAgIGlmICghJGNzc05vdGlOdW0ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnPHN0eWxlPicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdpemhDU1NfTm90aU51bScKICAgICAgICAgICAgICAgICAgICAgICwgdHlwZTogJ3RleHQvY3NzJwogICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKCdoZWFkOmZpcnN0JykudGV4dCgnI3poLXRvcC1uYXYtY291bnQsI3poLXRvcC1uYXYtbmV3LXBte3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0MHB4O2JvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50fS50b3AtbmF2LXByb2ZpbGUgLnp1LXRvcC1uYXYtdXNlcmluZm97b3ZlcmZsb3c6dmlzaWJsZSAhaW1wb3J0YW50fScpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkY3NzTm90aU51bS5yZW1vdmUoKQogICAgfQoKICAgIGlaaGlodS4kd2luLnNjcm9sbCh0aGlzLmZ1bmNGb2xkKQoKICAgIHRoaXMub25Ob2RlQWRkZWQgPSBmdW5jdGlvbihldmVudCl7CiAgICAgICAgaVpoaWh1LlRvcE5hdi5mdW5jRm9sZCgpCiAgICAgICAgJC5lYWNoKGV2ZW50LnJlbW92ZWROb2RlcywgZnVuY3Rpb24oaSwgZSl7CiAgICAgICAgICAgIHZhciAkZmxvYXRpbmdCYXIgPSAkKGUpLmZpbHRlcignLmdvb2ctc2Nyb2xsZmxvYXRlcicpLmNzcyh7bWFyZ2luVG9wOicnfSkKICAgICAgICB9KQogICAgfQoKICAgIHJldHVybiB0aGlzCn0KCmFsbExpbmtzID0gZnVuY3Rpb24oX25hbWUsIF9saXN0U2VsLCBfbGlzdE5hbWUpIHsKICAgIHRoaXMubmFtZSA9IF9uYW1lCiAgICB0aGlzLmxpc3RTZWwgPSBfbGlzdFNlbAogICAgdGhpcy5saXN0TmFtZSA9IF9saXN0TmFtZQogICAgdGhpcy5kbGdJRCA9ICdpemgtZGxnLScgKyBfbmFtZQogICAgdGhpcy4kZGxnID0gbnVsbAogICAgdmFyIF9pbml0aWFsVGl0bGUgPSBfbGlzdE5hbWUgKyAn5Zyw5Z2A5riF5Y2VJwogICAgICAsIF9yZXN1bHQgPSBuZXcgQXJyYXkoKQogICAgICAsIF9sb2FkVGltZXMgPSAwCgogICAgLy/liIbmnpDlhoXlrrkKICAgIHZhciBwcm9jZXNzTm9kZSA9IGZ1bmN0aW9uKGNvbnRlbnQsJGRsZyl7CiAgICAgIHZhciAkcUN1cnJlbnQgPSBudWxsOwogICAgICAkKCcuem0taXRlbS1hbnN3ZXInLCBjb250ZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBpdGVtKXsKICAgICAgICB2YXIgJGEgPSAkKGl0ZW0pCiAgICAgICAgICAsICRxID0gJGEuY2xvc2VzdCgiLnptLWl0ZW0iKS5jaGlsZHJlbigiaDIiKS5jaGlsZHJlbigiYSIpCiAgICAgICAgOwogICAgICAgIGlmKCRxLmxlbmd0aCl7CiAgICAgICAgICAkcUN1cnJlbnQ9JHE7CiAgICAgICAgfWVsc2UgaWYoJHFDdXJyZW50KXsKICAgICAgICAgICRxPSRxQ3VycmVudDsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGhyZWZRdWVzdGlvbiA9IHVybC5kYXRhLmF0dHJbImJhc2UiXSArICRxLmF0dHIoImhyZWYiKS5yZXBsYWNlKHVybC5kYXRhLmF0dHJbImJhc2UiXSwnJyk7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgdGl0bGU6ICRxLnRleHQoKSwKICAgICAgICAgICAgLy9xdWVzdGlvblVybDogaHJlZlF1ZXN0aW9uLAogICAgICAgICAgICBhbnN3ZXJVcmw6IGhyZWZRdWVzdGlvbiArICgkYS5wYXJlbnQoKS5pcygiLnptLWl0ZW0tZmF2IikgPyAiL2Fuc3dlci8iICsgJGEuYXR0cigiZGF0YS1hdG9rZW4iKSA6ICIiKSwKICAgICAgICAgICAgYW5zd2VyQXV0aG9yOiAkYS5maW5kKCcuem0taXRlbS1hbnN3ZXItYXV0aG9yLXdyYXAgYVtocmVmXj0iL3Blb3BsZSJdJykudGV4dCgpLnRyaW0oKSwKICAgICAgICAgICAgc3VtbWFyeTogJGEuZmluZCgiLnptLWl0ZW0tYW5zd2VyLXN1bW1hcnkiKS5jaGlsZHJlbigpLnJlbW92ZSgpLmVuZCgpLnRleHQoKSwKICAgICAgICAgICAgY29udGVudDogJGEuZmluZCgiLnptLWVkaXRhYmxlLWNvbnRlbnQiKS5odG1sKCkKICAgICAgICB9OwogICAgICAgIF9yZXN1bHQucHVzaChvYmopOwogICAgICAgIHZhciBzdHJUaXRsZSA9IHV0aWxzLmZvcm1hdFN0cignKiDjgIp7dGl0bGV944CLJiMxMzsqIHthbnN3ZXJBdXRob3J977yaJiMxMzsqIHtzdW1tYXJ5fScsIG9iaikKICAgICAgICAgICwgc3RyVVJMID0gdXRpbHMuZm9ybWF0U3RyKCd7YW5zd2VyVXJsfScsIG9iaikKICAgICAgICAgICwgJGxpID0gJCgnPGxpPicpLmFwcGVuZCgkKCc8YT4nLCB7IGhyZWY6IHN0clVSTCwgdGl0bGU6IHN0clRpdGxlIH0pLnRleHQoc3RyVVJMKSkuY3NzKHsgJ2xpc3Qtc3R5bGUtdHlwZSc6ICdub25lJyB9KQogICAgICAgICQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcycsJGRsZykuYXBwZW5kKCRsaSk7CiAgICAgICAgdmFyIGNvdW50PV9yZXN1bHQubGVuZ3RoOwogICAgICAgICQoJy5pemhpaHUtY29sbGVjdGlvbi1pbmZvJywkZGxnKS50ZXh0KCfvvIjliqrlipvliqDovb3kuK0uLi7lt7LlvpfliLDorrDlvZUgJyArIGNvdW50ICsgJyDmnaHvvIknKTsKICAgICAgfSk7CiAgICB9OwogICAgICAgIAogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbihwYWdlV2FudCxwYWdlTm93LCRkbGcpewogICAgICBpZiAoIXBhZ2VOb3cpcGFnZU5vdz0xOwogICAgICBpZigkZGxnLmlzKCc6aGlkZGVuJykpewogICAgICAgIHZhciBjb3VudD1fcmVzdWx0Lmxlbmd0aDsKICAgICAgICAkKCcuaXpoaWh1LWNvbGxlY3Rpb24taW5mbycsJGRsZykudGV4dCgn77yI5Yqg6L296KKr57uI5q2iLi4u5bey5b6X5Yiw6K6w5b2VICcgKyBjb3VudCArICcg5p2h77yJJyk7CiAgICAgICAgJCgnI3poLWdsb2JhbC1zcGlubmVyJykuaGlkZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAKICAgICAgaWYocGFnZVdhbnQ9PTEpewogICAgICAgICQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcycsJGRsZykuZW1wdHkoKTsKICAgICAgICAkKCcjemgtZ2xvYmFsLXNwaW5uZXInKS5zaG93KCk7CiAgICAgICAgX3Jlc3VsdC5sZW5ndGg9MDsKICAgICAgICBfbG9hZFRpbWVzKys7CiAgICAgICAgJCgnLml6aGlodS1jb2xsZWN0aW9uLWluZm8nLCRkbGcpLnRleHQoJycpOwogICAgICB9CiAgICAgIHZhciAkcGFnZXI9JChfbGlzdFNlbCkucGFyZW50KCkuZmluZCgnLnptLWludml0ZS1wYWdlcicpCiAgICAgICAgLCAkbGFzdFBhZ2U9JHBhZ2VyLmNoaWxkcmVuKCdzcGFuJykubGFzdCgpLnByZXYoKQogICAgICAgICwgdG90YWxDb3VudD0kcGFnZXIubGVuZ3RoPT0wPzE6TnVtYmVyKCRsYXN0UGFnZS50ZXh0KCkpCiAgICAgIDsKICAgICAgaWYocGFnZVdhbnQ+dG90YWxDb3VudCl7CiAgICAgICAgJCgnLml6aGlodS1jb2xsZWN0aW9uLWluZm8nLCRkbGcpLnRleHQoJ++8iOWKoOi9veWujOaIkO+8jOWFseW+l+WIsOiusOW9lSAnICsgX3Jlc3VsdC5sZW5ndGggKyAnIOadoe+8iScpOwogICAgICAgICQoJyN6aC1nbG9iYWwtc3Bpbm5lcicpLmhpZGUoKTsKICAgICAgICAkKCcuc2VsQWxsJywkZGxnKS5jbGljaygpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHBhZ2VOZXh0PXBhZ2VXYW50KzE7CiAgICAgIGlmKHBhZ2VXYW50PT1wYWdlTm93KXsKICAgICAgICBwcm9jZXNzTm9kZSgkKF9saXN0U2VsKS5odG1sKCksJGRsZyk7CiAgICAgICAgaGFuZGxlcihwYWdlTmV4dCxwYWdlTm93LCRkbGcpCiAgICAgIH1lbHNlewogICAgICAgIHZhciBfdXJsPXVybC5kYXRhLmF0dHJbJ2Jhc2UnXSt1cmwuZGF0YS5hdHRyWydwYXRoJ10rJz9wYWdlPScrcGFnZVdhbnQ7CiAgICAgICAgJC5hamF4KF91cmwse3R5cGU6J2dldCcsY29udGV4dDp7bG9hZFRpbWVzOl9sb2FkVGltZXN9fSkuZG9uZShmdW5jdGlvbihyZXN1bHQpewogICAgICAgICAgaWYodGhpcy5sb2FkVGltZXMhPV9sb2FkVGltZXMpcmV0dXJuOwogICAgICAgICAgcHJvY2Vzc05vZGUocmVzdWx0LCRkbGcpOwogICAgICAgICAgaGFuZGxlcihwYWdlTmV4dCxwYWdlTm93LCRkbGcpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgLy/liJ3lp4vljJblvLnlh7rmoYYKICAgIHRoaXMuaW5pdERpYWxvZyA9IGZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy4kZGxnPSQoJyMnK3RoaXMuZGxnSUQpOwogICAgICAgIHZhciByZXRWYWw9MDx0aGlzLiRkbGcubGVuZ3RoOwogICAgICAgIGlmKCFyZXRWYWwpewogICAgICAgICAgICB0aGlzLiRkbGcgPSAkKCc8ZGl2PicsIHsgaWQ6IHRoaXMuZGxnSUQsICdjbGFzcyc6ICdtb2RhbC1kaWFsb2cgYWxsTGlua3MnLCB0YWJpbmRleDogJzAnLCBzdHlsZTogJ2Rpc3BsYXk6IG5vbmU7d2lkdGg6NTAwcHgnLCBuYW1lOiBfbmFtZSwgJ2xpc3RTZWwnOiBfbGlzdFNlbCB9KQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy10aXRsZSBtb2RhbC1kaWFsb2ctdGl0bGUtZHJhZ2dhYmxlJyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JywgeyAnY2xhc3MnOiAnbW9kYWwtZGlhbG9nLXRpdGxlLXRleHQnIH0pLnRleHQoX2luaXRpYWxUaXRsZSkpCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctdGl0bGUtdGV4dCBpemhpaHUtY29sbGVjdGlvbi1pbmZvJyB9KSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy10aXRsZS1jbG9zZScKICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3poLWdsb2JhbC1zcGlubmVyJykuaGlkZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubW9kYWwtZGlhbG9nLWJnJykuaGlkZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbC1kaWFsb2cnKS5oaWRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy1jb250ZW50JyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnemctc2VjdGlvbicgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICdpemhpaHUtY29sbGVjdGlvbi1saW5rcyB6Zy1mb3JtLXRleHQtaW5wdXQnLCB0YWJJbmRleDogJy0xJywgc3R5bGU6ICdoZWlnaHQ6MzAwcHg7b3ZlcmZsb3cteTpzY3JvbGw7b3V0bGluZTpub25lOycgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxmb3JtPicsIHsgYWN0aW9uOiAnaHR0cDovL2lsb3ZlemhpaHUuZHVhcHAuY29tL3NhdmVNZS5weScsIG1ldGhvZDogJ3Bvc3QnLCB0YXJnZXQ6ICdfYmxhbmsnLCBzdHlsZTogJ2Rpc3BsYXk6bm9uZScgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZXh0YXJlYT4nLCB7IHN0eWxlOiAid2lkdGg6IDEwMCU7IiwgbmFtZTogImxpbmtzIiwgJ2NsYXNzJzogIml6aGlodS1jb2xsZWN0aW9uLWxpbmtzLXBvc3QiIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgbmFtZTogJ3RpdGxlJyB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnem0tY29tbWFuZCcgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICd6Zy1sZWZ0JyB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiAnemctYnRuLWJsdWUgcmVsb2FkJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBocmVmOiAnamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwtZGlhbG9nJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoMSwgTnVtYmVyKHVybC5kYXRhLnBhcmFtLnF1ZXJ5WydwYWdlJ10pLCAkZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRleHQoJ+mHjeaWsOiOt+WPlicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ3pnLWJ0bi1ibHVlIHNhdmUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaHJlZjogJ2phdmFzY3JpcHQ6dm9pZCgwKTsnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRsZyA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsLWRpYWxvZy1jb250ZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRsaW5rcyA9ICRkbGcuZmluZCgnLml6aGlodS1jb2xsZWN0aW9uLWxpbmtzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRsaW5rc1Bvc3QgPSAkZGxnLmZpbmQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcy1wb3N0JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRsaW5rc1RpdGxlID0gJGxpbmtzUG9zdC5uZXh0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRmb3JtID0gJGxpbmtzUG9zdC5wYXJlbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbGlua3MgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaW5rcy5maW5kKCdsaSBhJykuZWFjaChmdW5jdGlvbihpLCBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rcyArPSBlLmdldEF0dHJpYnV0ZSgnaHJlZicpICsgJ1xuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGlua3NQb3N0LnZhbChsaW5rcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpbmtzVGl0bGUudmFsKCQoJyN6aC1mYXYtaGVhZC10aXRsZSwuem0tcHJvZmlsZS1oZWFkZXItbWFpbiAudGl0bGUtc2VjdGlvbiBhLm5hbWUnKS50ZXh0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtLnN1Ym1pdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGV4dCgn5L+d5a2YJykpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpCiAgICAgICAgICAgICAgICAuZHJhZ2dhYmxlKHsgaGFuZGxlOiAnLm1vZGFsLWRpYWxvZy10aXRsZS1kcmFnZ2FibGUnIH0pCgogICAgICAgICAgICBpZih0aGlzLiRkbGcubGVuZ3RoKQogICAgICAgICAgICAgICAgcmV0VmFsID0gdHJ1ZQoKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJldFZhbAogICAgfQoKICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbigkZCkgewogICAgICAgIGlmICgkKCcjemgtZ2xvYmFsLXNwaW5uZXI6dmlzaWJsZScpLmxlbmd0aCkgcmV0dXJuCiAgICAgICAgaWYgKCEkZCkgJGQgPSB0aGlzLiRkbGcKICAgICAgICBpZiAoISRkKSByZXR1cm4KICAgICAgICBpZiAoISQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcycsICRkKS5jaGlsZHJlbigpLmxlbmd0aCkgewogICAgICAgICAgICBoYW5kbGVyKDEsIE51bWJlcih1cmwuZGF0YS5wYXJhbS5xdWVyeVsncGFnZSddKSwgJGQpCiAgICAgICAgfQogICAgfQoKfQoKLyoqCiAqIOWbnuetlOmhtQogKi8KCiAgaWYocGFnZUlzLkFuc3dlcil7Cgp2YXIgJGxibFF1ZXN0aW9uTWV0YT0kKCcjemgtcXVlc3Rpb24tbWV0YS13cmFwJykvL3F1ZXN0aW9uX21ldGEKOwoKICAgIHZhciAkcXVlc3Rpb25XcmFwPSQoJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAnKTsKICAgICRxdWVzdGlvbldyYXAuY2hpbGRyZW4oJy5wYW5lbC1jb250YWluZXInKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICB3aW5kb3cuaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJChldmVudC50YXJnZXQpKTsKICAgIH0pOwogICAgaWYod2luZG93LmlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgLy8kcXVlc3Rpb25XcmFwLmNoaWxkcmVuKCcubWV0YS1pdGVtW25hbWU9YWRkY29tbWVudF0nKS5wcmVwZW5kVG8oJHF1ZXN0aW9uV3JhcCk7CiAgICAgICAgd2luZG93LmlaaGlodS5Db21tZW50LnByb2Nlc3NDb21tZW50QnV0dG9uKCRxdWVzdGlvbldyYXApOwogICAgICAgIGlmKCEkKCcjaXpoX1F1ZXN0aW9uU2hhZG93JykubGVuZ3RoKXsKICAgICAgICAgICAgJCgnPGRpdj4nLHsnY2xhc3MnOidpemhfYm94U2hhZG93JyxpZDonaXpoX1F1ZXN0aW9uU2hhZG93J30pLmNzcyh7CiAgICAgICAgICAgICAgICAnei1pbmRleCc6ICctMScKICAgICAgICAgICAgICAsICdwb3NpdGlvbic6ICdyZWxhdGl2ZScKICAgICAgICAgICAgICAsICd0b3AnOiAtMjUKICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6IC0zMgogICAgICAgICAgICB9KS5wcmVwZW5kVG8oJ2JvZHk+Lnp1LW1haW46Zmlyc3QnKS5oaWRlKCk7CiAgICAgICAgfSAgIAogICAgfQoKICAgIC8vcHJvY2VzcyBlYWNoIGFuc3dlcgogICAgdmFyICRsaXN0QW5zd2Vycz0kKCcuem0taXRlbS1hbnN3ZXIsLmZlZWQtaXRlbScsJyN6aC1xdWVzdGlvbi1hbnN3ZXItd3JhcCcpOwogICAgaWYoJGxpc3RBbnN3ZXJzJiYkbGlzdEFuc3dlcnMubGVuZ3RoKXsKICAgICAgICAkbGlzdEFuc3dlcnMuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICB3aW5kb3cuaVpoaWh1LkFuc3dlci5wcm9jZXNzQW5zd2VyKCQoZSksbnVsbAogICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICwgZmFsc2UpOwogICAgICAgIH0pOwogICAgfQoKICAgICQoJyN6aC1xdWVzdGlvbi1hbnN3ZXItd3JhcCcpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsZnVuY3Rpb24oZXZlbnQpewogICAgICAgIHZhciAkbmE9JChldmVudC50YXJnZXQpLmZpbHRlcignLnptLWl0ZW0tYW5zd2VyJyk7CiAgICAgICAgaWYoJG5hLmxlbmd0aCl7CiAgICAgICAgICAgIHdpbmRvdy5pWmhpaHUuQW5zd2VyLnByb2Nlc3NBbnN3ZXIoJG5hLG51bGwKICAgICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICAgLCBmYWxzZSk7CiAgICAgICAgfQogICAgfSk7CgogICAgdmFyICRjbT0kKCcuem0tY29tbWVudC1ib3gnLCRxdWVzdGlvbldyYXApOwogICAgaWYoJGNtLmxlbmd0aCAmJiAkY20uaXMoJzp2aXNpYmxlJykpewogICAgCXZhciBmb2N1c05hbWUgPSBpWmhpaHUuQ29tbWVudC5zY3JvbGxGb2N1c0NvbW1lbnRPblBhZ2VMb2FkKCRjbSk7CgogICAgCWlaaGlodS5Db21tZW50Lm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20oJGNtLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKSxmdW5jdGlvbigpewogICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5wcm9jZXNzQ29tbWVudCgkY20sIGZvY3VzTmFtZSk7CiAgICAgICAgfSk7CiAgICB9CiAgfQoKLyoqCiAqIOaUtuiXj+mhtQogKi8KICBpZihwYWdlSXMuQ29sbGVjdGlvbil7CiAgICAvL+a3u+WKoOaMiemSrgogICAgJCgnI3poLWxpc3QtbWV0YS13cmFwJykKICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6ICd6Zy1idWxsJyB9KS50ZXh0KCfigKInKSkKICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7IGhyZWY6ICdqYXZhc2NyaXB0OjsnLCBpZDogJ2dldEFsbExpbmtzJyB9KS50ZXh0KCflnLDlnYDmuIXljZUnKSk7CgogICAgdmFyIGJ0biA9ICQoJyNnZXRBbGxMaW5rcycpOwogICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgIAogICAgLy/ms6jlhozngrnlh7vkuovku7YKICAgIGJ0bi5jbGljayhmdW5jdGlvbigpewogICAgICB2YXIgYWxsTGlua3NDb2xsZWN0aW9uPW5ldyBhbGxMaW5rcygnQ29sbGVjdGlvbnMnLCcjemgtbGlzdC1hbnN3ZXItd3JhcCcsJ+aUtuiXj+WkueWGheWuuScpOwoJICBpZighYWxsTGlua3NDb2xsZWN0aW9uLmluaXREaWFsb2coKSlyZXR1cm47CiAgICAgICQoJy5tb2RhbC1kaWFsb2ctYmcnKS5zaG93KCk7CiAgICAgIHZhciB5ID0gKCR3aW4uaGVpZ2h0KCkgLSBhbGxMaW5rc0NvbGxlY3Rpb24uJGRsZy53aWR0aCgpKSAvIDIKICAgICAgICAsIHggPSAoJHdpbi53aWR0aCgpIC0gYWxsTGlua3NDb2xsZWN0aW9uLiRkbGcud2lkdGgoKSkgLyAyCiAgICAgIDsKICAgICAgYWxsTGlua3NDb2xsZWN0aW9uLiRkbGcuY3NzKHsndG9wJzogeSwgJ2xlZnQnOiB4fSkuZmFkZUluKCdzbG93Jyk7CiAgICAgIGFsbExpbmtzQ29sbGVjdGlvbi5zdGFydCgpOwogICAgfSk7CiAgfQogIGlmKHBhZ2VJcy5BbnN3ZXJzKXsKICAgIC8v5re75Yqg5oyJ6ZKuCiAgICAkKCcuem0tcHJvZmlsZS1zZWN0aW9uLW5hbWUnKQogICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsgJ2NsYXNzJzogJ3pnLWJ1bGwnIH0pLnRleHQoJ+KAoicpKQogICAgICAuYXBwZW5kKCQoJzxhPicsIHsgaHJlZjogJ2phdmFzY3JpcHQ6OycsIGlkOiAnZ2V0QWxsTGlua3MnIH0pLnRleHQoJ+WcsOWdgOa4heWNlScpKTsKCiAgICB2YXIgYnRuID0gJCgnI2dldEFsbExpbmtzJyk7CiAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgCiAgICAvL+azqOWGjOeCueWHu+S6i+S7tgogICAgYnRuLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgIHZhciBhbGxMaW5rc0Fuc3dlcnM9bmV3IGFsbExpbmtzKCdBbnN3ZXJzJywnI3poLXByb2ZpbGUtYW5zd2VyLWxpc3QnLCfnlKjmiLflm57nrZQnKTsKCSAgaWYoIWFsbExpbmtzQW5zd2Vycy5pbml0RGlhbG9nKCkpcmV0dXJuOwogICAgICAkKCcubW9kYWwtZGlhbG9nLWJnJykuc2hvdygpOwogICAgICB2YXIgeSA9ICgkd2luLmhlaWdodCgpIC0gYWxsTGlua3NBbnN3ZXJzLiRkbGcud2lkdGgoKSkgLyAyCiAgICAgICAgLCB4ID0gKCR3aW4ud2lkdGgoKSAtIGFsbExpbmtzQW5zd2Vycy4kZGxnLndpZHRoKCkpIC8gMgogICAgICA7CiAgICAgIGFsbExpbmtzQW5zd2Vycy4kZGxnLmNzcyh7J3RvcCc6IHksICdsZWZ0JzogeH0pLmZhZGVJbignc2xvdycpOwogICAgICBhbGxMaW5rc0Fuc3dlcnMuc3RhcnQoKTsKICAgIH0pOwogIH0KCiAgaWYocGFnZUlzLk15Q29sbGVjdGlvbiYmd2luZG93LmlaaGlodS5RdWlja0Zhdm8pewogICAgdmFyICRmYXZJdGVtcz0kKCcjemgtZmF2bGlzdHMtd3JhcCcpLmNoaWxkcmVuKCcuem0taXRlbScpOwogICAgJGZhdkl0ZW1zLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgIH0pOwogIH0KCi8qCiAqIOmmlumhtQogKi8KICAgIHZhciAkdG9wc3Rvcnk9JCgnI2lzLXRvcHN0b3J5MicpCiAgICAgICwgaXNUb3BTdG9yeT0kdG9wc3RvcnkmJiR0b3BzdG9yeS5sZW5ndGgKICAgICAgLCBwcm9wRmVlZFR5cGU9J2RhdGEtdHlwZScvLzonZGF0YS1mZWVkdHlwZScKICAgICAgLCAkbGJsSG9tZVRpdGxlPSQoJyN6aC1ob21lLWxpc3QtdGl0bGUnKS8vYWN0aXZpdHlfY2FwdGlvbgogICAgICAsICRidG5OZXdBY3Rpdml0eT0kKCcjemgtbWFpbi1mZWVkLWZyZXNoLWJ1dHRvbicpLy9uZXdfYWN0aXZpdHkKICAgICAgLCAkZmVlZExpc3Q9JCgnLnpoLWdlbmVyYWwtbGlzdCcpLy9mZWVkX2xpc3QKICAgICAgLCAkdG9wTGlua0hvbWU9JCgnI3poLXRvcC1saW5rLWhvbWUnKQogICAgICAsICRmaWx0ZXI9Ly9pc1RvcFN0b3J5PwogICAgICAgICAgICAkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6J2l6aC1mZWVkcy1maWx0ZXInIH0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicsIHsgJ2NsYXNzJzogJ2l6aC1idXR0b24gaXpoLWZlZWRzLWZpbHRlci1vcHRpb24nLCAnc2hvd0ZlZWRzJzogJ3EnIH0pCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uJyB9KSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCfpl67popgnKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdjbGFzcyc6ICdpemgtYnV0dG9uIGl6aC1mZWVkcy1maWx0ZXItb3B0aW9uJywgJ3Nob3dGZWVkcyc6ICdhJyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnemctaWNvbicgfSkpCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn5Zue562UJykKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyAnY2xhc3MnOiAnaXpoLWJ1dHRvbiBpemgtZmVlZHMtZmlsdGVyLW9wdGlvbicsICdzaG93RmVlZHMnOiAncCxyJywgJ2RhdGEtdGlwJzogJ3MkdCTkuJPmoI/jgIHlnIbmoYwnIH0pCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uJyB9KSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCflhbbku5YnKQogICAgICAgICAgICAgICAgKQogICAgICAsICRmaWx0ZXJJbmZvPSQoJzxhPicseydjbGFzcyc6J2l6aC1mZWVkcy1maWx0ZXItaW5mbyBub3RoaW5nJyxocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7J30pLm9uKCdjbGljaycsZnVuY3Rpb24oKXskZmlsdGVyLnRyaWdnZXIoJGZpbHRlci5pcygnOmhpZGRlbicpfHwkZmlsdGVyLmF0dHIoJ2RvaW5nJyk9PSdoaWRlJz8nc2hvdyc6J2hpZGUnKTt9KQogICAgICAsIFNob3dGZWVkcz1mdW5jdGlvbih0eXBlLGVuYWJsZSl7CiAgICAgICAgICAgIHZhciBpZD0iaXpoQ1NTX0ZpbHRlckZlZWRfIit0eXBlCiAgICAgICAgICAgICAgLCBuZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkKICAgICAgICAgICAgOwogICAgICAgICAgICBpZihlbmFibGUpewogICAgICAgICAgICAgICAgaWYobmQpbmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuZCk7CiAgICAgICAgICAgIH1lbHNlIGlmKGhlYWRzLmxlbmd0aCl7CiAgICAgICAgICAgICAgICBpZighbmQpewogICAgICAgICAgICAgICAgICAgIG5kPV9kb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAgICAgICBuZC50eXBlPSd0ZXh0L2Nzcyc7CiAgICAgICAgICAgICAgICAgICAgbmQuaWQ9aWQ7CiAgICAgICAgICAgICAgICAgICAgbmQuYXBwZW5kQ2hpbGQoX2RvYy5jcmVhdGVUZXh0Tm9kZSgnLmZlZWQtaXRlbVsnK3Byb3BGZWVkVHlwZSsnXj0iJyt0eXBlKyciXXtkaXNwbGF5Om5vbmV9JykpOwogICAgICAgICAgICAgICAgICAgIGhlYWRzWzBdLmFwcGVuZENoaWxkKG5kKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8ve1JPVU5EVEFCTEVfQUREX1JFTEFURUQ6ICJyb3VuZHRhYmxlIixBUlRJQ0xFX1ZPVEVfVVA6ICJwb3N0X3ZvdGUiLEFSVElDTEVfQ1JFQVRFOiAicG9zdF9jcmVhdGUiLFJFQ09NTUVOREVEOiAiZmVlZF9yZWNvbW1lbmRlZCIsUVVFU1RJT05fRk9MTE9XOiAiZmVlZF9xdWVzdGlvbl9mb2xsb3ciLFFVRVNUSU9OX0NSRUFURTogImZlZWRfcXVlc3Rpb24iLEFOU1dFUl9WT1RFX1VQOiAiZmVlZF9hbnN3ZXJfdm90ZSIsQU5TV0VSX0NSRUFURTogImZlZWRfYW5zd2VyX2Fuc3dlciJ9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAsIHJlZnJlc2hGaWx0ZXJJbmZvPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBjb3VudD0kZmVlZExpc3QuY2hpbGRyZW4oJy5mZWVkLWl0ZW06aGlkZGVuJykubGVuZ3RoCiAgICAgICAgICAgICAgLCBpbmZvPScgPui/h+a7pOmAiemhuTwnCiAgICAgICAgICAgIDsKICAgICAgICAgICAgaWYoY291bnQpewogICAgICAgICAgICAgICAgaW5mbz0n77yIJytjb3VudCsn5p2h5Yqo5oCB6KKr6ZqQ6JeP77yJJzsKICAgICAgICAgICAgICAgICRmaWx0ZXJJbmZvLnJlbW92ZUNsYXNzKCdub3RoaW5nJykuY3NzKHtkaXNwbGF5OicnfSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGZpbHRlckluZm8uYWRkQ2xhc3MoJ25vdGhpbmcnKTsKICAgICAgICAgICAgfSAgIAogICAgICAgICAgICAkZmlsdGVySW5mby50ZXh0KGluZm8pOwogICAgICAgIH0KICAgICAgLCBmZWVkc0NvbHVtbnM9ZnVuY3Rpb24oKXsgLy8gSW1wbGVtZW50ZWQgYnkgbW9ybGV5LCBtb2RpZmllZCBieSB1bm9negogICAgICAgICAgICAvL+WKqOaAgeeahOexu+WeiwogICAgICAgICAgICB2YXIgZmVlZFR5cGVzID0gLy9pc1RvcFN0b3J5PwogICAgICAgICAgICAgICAgW3sKICAgICAgICAgICAgICAgICBpbmRleDogMCwKICAgICAgICAgICAgICAgICBuYW1lOiAn5YWo6YOoJywKICAgICAgICAgICAgICAgICBjb2RlTmFtZTogJycKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICBpbmRleDogMSwKICAgICAgICAgICAgICAgICBuYW1lOiAn6Zeu6aKYJywKICAgICAgICAgICAgICAgICBjb2RlTmFtZTogJ3EnCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgaW5kZXg6IDIsCiAgICAgICAgICAgICAgICAgbmFtZTogJ+WbnuetlCcsCiAgICAgICAgICAgICAgICAgY29kZU5hbWU6ICdhJwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgIGluZGV4OiAzLAogICAgICAgICAgICAgICAgIG5hbWU6ICfkuJPmoI8nLAogICAgICAgICAgICAgICAgIGNvZGVOYW1lOiAncCcKICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAKICAgICAgICAgICAgLy/oh6rlrprkuYkgQ1NTIOWIsCBoZWFkCiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0eWxlcy5wdXNoKCcuemEtZmlsdGVye2Rpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW4tcmlnaHQ6MTBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojOTk5O30nKTsKICAgICAgICAgICAgc3R5bGVzLnB1c2goJy56YS1maWx0ZXIuYWN0aXZle2NvbG9yOiMyNTk7fScpOwogICAgICAgICAgICBzdHlsZXMucHVzaCgnLnphLWZpbHRlcj4uemctbnVtLmhpZGV7ZGlzcGxheTpub25lO30nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICQoJzxzdHlsZS8+JykudGV4dChzdHlsZXMuam9pbignJykpLmFwcGVuZFRvKCdoZWFkJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgJHpoSG9tZUxpc3RUaXRsZSA9ICRsYmxIb21lVGl0bGU7CiAgICAgICAgICAgIAogICAgICAgICAgICAvL+agueaNruexu+Wei+a3u+WKoOi/h+a7pOaMiemSriDliLAgI3poLWhvbWUtbGlzdC10aXRsZQogICAgICAgICAgICB2YXIgZmlsdGVyQnRucyA9IFtdCiAgICAgICAgICAgICAgLCBpID0gZmVlZFR5cGVzLmxlbmd0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgIGZpbHRlckJ0bnMucHVzaCgKICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nKS5hZGRDbGFzcygnemEtZmlsdGVyJykKICAgICAgICAgICAgICAgICAuYXR0cigndHlwZUluZGV4JywgZmVlZFR5cGVzW2ldLmluZGV4KQogICAgICAgICAgICAgICAgIC50ZXh0KGZlZWRUeXBlc1tpXS5uYW1lKQogICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JywgeyAnY2xhc3MnOiAnemctbnVtJyB9KS5hZGRDbGFzcygnaGlkZScpKQogICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCB0b2dnbGVGZWVkVHlwZSkKICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZpbHRlckJ0bnMucmV2ZXJzZSgpOwogICAgICAgICAgICBmaWx0ZXJCdG5zWzBdLmFkZENsYXNzKCdhY3RpdmUnKTsKCiAgICAgICAgICAgICR6aEhvbWVMaXN0VGl0bGUuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgIHJldHVybiAoZSE9bnVsbCYmKGUubm9kZVZhbHVlfHwnJykuaW5kZXhPZign5pyA5paw5Yqo5oCBJyk+PTApCiAgICAgICAgICAgIH0pLnJlbW92ZSgpCiAgICAgICAgICAgICR6aEhvbWVMaXN0VGl0bGUuZmluZCgnaScpLmVxKDApLmFmdGVyKGZpbHRlckJ0bnMpLnJlbW92ZSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyICR0YXJnZXRaZXJvID0gZmlsdGVyQnRuc1swXS5maW5kKCcuemctbnVtJykKICAgICAgICAgICAgICAsIGN1cmZlZWRUeXBlQ29kZU5hbWUgPSAnJwogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdHlwZU1hdGNoKCRlbGVtKSB7CiAgICAgICAgICAgICBpZiAoY3VyZmVlZFR5cGVDb2RlTmFtZSA9PSAnJykgewogICAgICAgICAgICAgICAgICRlbGVtLnNob3coKTsKICAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA8PSAkZWxlbS5hdHRyKHByb3BGZWVkVHlwZSkuaW5kZXhPZihjdXJmZWVkVHlwZUNvZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICRlbGVtLnNob3coKTsKICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgJGVsZW0uaGlkZSgpOwogICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvL+aMiemSruS6i+S7tgogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVGZWVkVHlwZSgpIHsKICAgICAgICAgICAgIHZhciAkY2xpY2tlZCA9ICQodGhpcyk7CiAgICAgICAgICAgICAkY2xpY2tlZE51bSA9ICRjbGlja2VkLmZpbmQoJy56Zy1udW0nKTsKICAgICAgICAgICAgIC8vIOS6pOS6kuaViOaenAogICAgICAgICAgICAgZmlsdGVyQnRucy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgICRjbGlja2VkLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICBpZiAoJGNsaWNrZWQuYXR0cigndHlwZUluZGV4JykgPT0gMCkgewogICAgICAgICAgICAgICAgICQoJy56Zy1udW0nLCAnLnphLWZpbHRlcicpLnRleHQoJycpLmFkZENsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIHZhciB0b3RhbFVucmVhZCA9IChwYXJzZUludCgkdGFyZ2V0WmVyby50ZXh0KCkpIHx8IDApIC0gKHBhcnNlSW50KCRjbGlja2VkTnVtLnRleHQoKSkgfHwgMCk7CiAgICAgICAgICAgICAgICAgaWYgKHRvdGFsVW5yZWFkICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgJHRhcmdldFplcm8udGV4dCh0b3RhbFVucmVhZCk7CiAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgJHRhcmdldFplcm8udGV4dCgnJykuYWRkQ2xhc3MoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICRjbGlja2VkTnVtLnRleHQoJycpLmFkZENsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBjdXJmZWVkVHlwZUNvZGVOYW1lID0gZmVlZFR5cGVzWyRjbGlja2VkLmF0dHIoJ3R5cGVJbmRleCcpXS5jb2RlTmFtZTsKICAgICAgICAgICAgIC8vIOS/oeaBr+a1gei/h+a7pAogICAgICAgICAgICAgJCgnLmZlZWQtaXRlbScpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgdHlwZU1hdGNoKCQodGhpcykpOwogICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFR5cGVJbmRleEJ5Q29kZU5hbWUoY29kZU5hbWUpIHsKICAgICAgICAgICAgIHZhciBpID0gZmVlZFR5cGVzLmxlbmd0aDsKICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICBpZiAoY29kZU5hbWUgPT0gZmVlZFR5cGVzW2ldLmNvZGVOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CiAgICAgICAgICAgIAogICAgICAgICAgICAvL+ebkeWQrOaOqOmAgQogICAgICAgICAgICB2YXIgaGFzTmV3RmVlZCA9IGZhbHNlOwogICAgICAgICAgICAvL2NyZWF0ZSBhbiBvYnNlcnZlciBpbnN0YW5jZQogICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICAgICAgIGlmICggISEgcGFyc2VJbnQoJGJ0bk5ld0FjdGl2aXR5LnRleHQoKSkpIHsKICAgICAgICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtdXRhdGlvbikgewogICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXMgTmV3IEZlZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieaWsOaOqOmAgeWImeinpuWPkeS5iwogICAgICAgICAgICAgICAgICAgICAgICAgaGFzTmV3RmVlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAkYnRuTmV3QWN0aXZpdHkudGV4dCgnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAkLndoZW4oJGJ0bk5ld0FjdGl2aXR5WzBdLmNsaWNrKCkpLmRvbmUoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTmV3RmVlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy9wYXNzIGluIHRoZSB0YXJnZXQgbm9kZSwgYXMgd2VsbCBhcyB0aGUgb2JzZXJ2ZXIgb3B0aW9ucwogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKAogICAgICAgICAgICAgJGJ0bk5ld0FjdGl2aXR5WzBdLCB7CiAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlCiAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8v55uR5ZCs5o+S5YWlCiAgICAgICAgICAgICRmZWVkTGlzdC5vbigiRE9NTm9kZUluc2VydGVkIiwgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgdmFyICRzZWxmID0gJChlLnRhcmdldCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAgaWYgKCRzZWxmLmhhc0NsYXNzKCdmZWVkLWl0ZW0nKSkgewogICAgICAgICAgICAgICAgIGlmIChoYXNOZXdGZWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICRzZWxmLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBmaWx0ZXJCdG5zW2dldFR5cGVJbmRleEJ5Q29kZU5hbWUoJHNlbGYuYXR0cihwcm9wRmVlZFR5cGUpKV0uZmluZCgnLnpnLW51bScpOwogICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnRleHQoKHBhcnNlSW50KCR0YXJnZXQudGV4dCgpKSB8fCAwKSArIDEpLnJlbW92ZUNsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRaZXJvLnRleHQoKHBhcnNlSW50KCR0YXJnZXRaZXJvLnRleHQoKSkgfHwgMCkgKyAxKS5yZW1vdmVDbGFzcygnaGlkZScpOwogICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgIHR5cGVNYXRjaCgkc2VsZik7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAsIGhvbWVGZWVkcz1mdW5jdGlvbihpemhIb21lRmVlZHNDb2x1bW5zKXsKICAgICAgICAgICAgaWYgKGl6aEhvbWVGZWVkc0NvbHVtbnMpewogICAgICAgICAgICAgICAgZmVlZHNDb2x1bW5zKCk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGZpbHRlci5jaGlsZHJlbignLml6aC1mZWVkcy1maWx0ZXItb3B0aW9uJykuYWRkQ2xhc3MoJ29uJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgIHZhciBpPTAKICAgICAgICAgICAgICAgICAgICAgICwgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgLCBmcz0kZS5hdHRyKCdzaG93RmVlZHMnKQogICAgICAgICAgICAgICAgICAgICAgLCBmYT1mcy5zcGxpdCgnLCcpCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICQoJy5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbltzaG93RmVlZHM9IicrZnMrJyJdJykudG9nZ2xlQ2xhc3MoJ29uJyk7CiAgICAgICAgICAgICAgICAgICAgZm9yKDtpPGZhLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICBTaG93RmVlZHMoZmFbaV0sJGUuaXMoJy5vbicpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbHRlckluZm8oKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYoJHRvcExpbmtIb21lLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXIyPSQoJzxkaXY+JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jc3Moe3Bvc2l0aW9uOidhYnNvbHV0ZScsYm9yZGVyOicxcHggc29saWQgIzc3NycsYmFja2dyb3VuZENvbG9yOicjZmZmJ30pLmhpZGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkZmlsdGVyLmNsb25lKHRydWUsdHJ1ZSkuY3NzKHtkaXNwbGF5OidibG9jayd9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbignc2hvdycsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuaXMoJzpoaWRkZW4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuY3NzKHtkaXNwbGF5OicnLG9wYWNpdHk6MH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYW5pbWF0ZSh7b3BhY2l0eToxfSwnc2xvdycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbignaGlkZScsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuZmFkZU91dCgnc2xvdycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgJHRvcExpbmtIb21lLmFmdGVyKCRmaWx0ZXIyKS5wYXJlbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlZW50ZXInLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZT0kKHRoaXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGY9JGUuY2hpbGRyZW4oKS5sYXN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmLnRyaWdnZXIoJ3Nob3cnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXJJbmZvLmZpbHRlcignLm5vdGhpbmcnKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VsZWF2ZScsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkZj0kZS5jaGlsZHJlbigpLmxhc3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGYudHJpZ2dlcignaGlkZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpbHRlckluZm8uZmlsdGVyKCcubm90aGluZycpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZigkbGJsSG9tZVRpdGxlLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckluZm8uY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTonbm9uZScKICAgICAgICAgICAgICAgICAgICAgICwgdGV4dERlY29yYXRpb246J25vbmUnCiAgICAgICAgICAgICAgICAgICAgICAsIGN1cnNvcjoncG9pbnRlcicKICAgICAgICAgICAgICAgICAgICB9KS5pbnNlcnRCZWZvcmUoaXNUb3BTdG9yeT8kdG9wc3Rvcnk6JCgnI2ZlZWQtdmVyJykpOwogICAgICAgICAgICAgICAgICAgICRsYmxIb21lVGl0bGUuY3NzKHtvdmVyZmxvdzonaGlkZGVuJ30pCiAgICAgICAgICAgICAgICAgICAgICAgIC5wcmVwZW5kKCRmaWx0ZXIpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vLmNoaWxkcmVuKCdpOmZpcnN0JykKICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRmPSRlLmNoaWxkcmVuKCcuaXpoLWZlZWRzLWZpbHRlci1pbmZvLm5vdGhpbmcnKS5zdG9wKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRmLmlzKCc6aGlkZGVuJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGYuY3NzKHtkaXNwbGF5OicnLG9wYWNpdHk6MH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZi5hbmltYXRlKHtvcGFjaXR5OjF9LCdmYXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VsZWF2ZScsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkZj0kZS5jaGlsZHJlbignLml6aC1mZWVkcy1maWx0ZXItaW5mby5ub3RoaW5nJykuc3RvcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZi5mYWRlT3V0KCdmYXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICRmaWx0ZXIuY3NzKHttYXJnaW5MZWZ0Oi0kZmlsdGVyLndpZHRoKCksZGlzcGxheTonbm9uZSd9KQogICAgICAgICAgICAgICAgICAgICAgICAub24oJ3Nob3cnLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRlLmF0dHIoJ2RvaW5nJyk9PT0nc2hvdycpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYXR0cignZG9pbmcnLCdzaG93Jykuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuaXMoJzpoaWRkZW4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5jc3Moe2Rpc3BsYXk6Jyd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYW5pbWF0ZSh7bWFyZ2luTGVmdDowfSwnc2xvdycsZnVuY3Rpb24oKXskKHRoaXMpLmNzcygnZGlzcGxheScsJycpLnJlbW92ZUF0dHIoJ2RvaW5nJyk7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignaGlkZScsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZT0kKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuYXR0cignZG9pbmcnKT09PSdoaWRlJylyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5hdHRyKCdkb2luZycsJ2hpZGUnKS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5hbmltYXRlKHttYXJnaW5MZWZ0Oi0kZmlsdGVyLndpZHRoKCl9LCdzbG93JyxmdW5jdGlvbigpeyQodGhpcykuY3NzKCdkaXNwbGF5Jywnbm9uZScpLnJlbW92ZUF0dHIoJ2RvaW5nJyk7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VlbnRlcicsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLnRyaWdnZXIoJ3Nob3cnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWxlYXZlJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUudHJpZ2dlcignaGlkZScpOwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsdGVySW5mbygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgOwogICAgaWYocGFnZUlzLkhvbWV8fHBhZ2VJcy5EZWJ1dHMpewogICAgICAgICRmZWVkTGlzdC5maW5kKCcuZmVlZC1pdGVtJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICB3aW5kb3cuaVpoaWh1LkFuc3dlci5wcm9jZXNzQW5zd2VyKCQoZSksbnVsbAogICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICwgaXpoQXV0aG9yTGlzdAogICAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAgICRmZWVkTGlzdC5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgdmFyICRpdGVtPSQoZXZlbnQudGFyZ2V0KTsKICAgICAgICAgICAgaWYoJGl0ZW0uaXMoJy5mZWVkLWl0ZW0nKSl7CiAgICAgICAgICAgICAgICB3aW5kb3cuaVpoaWh1LkFuc3dlci5wcm9jZXNzQW5zd2VyKCRpdGVtLG51bGwKICAgICAgICAgICAgICAgICAgLCAkYm9keS5hdHRyKCdpemhBdXRob3JSZWFyJyk9PScxJwogICAgICAgICAgICAgICAgICAsICRib2R5LmF0dHIoJ2l6aEF1dGhvckxpc3QnKT09JzEnCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgcmVmcmVzaEZpbHRlckluZm8oKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIGlmIChwYWdlSXMuSG9tZSl7CiAgICAJdmFyIGJIb21lRmVlZHNDb2x1bW5zPXdpbmRvdy5pWmhpaHUuY29uZmlnWydIb21lRmVlZHNDb2x1bW5zJ10KICAgICAgICBpZiAoaXpoSG9tZU5vdGkmJiFiSG9tZUZlZWRzQ29sdW1ucwogICAgICAgICAmJiAkbGJsSG9tZVRpdGxlLmxlbmd0aAogICAgICAgICAmJiAkYnRuTmV3QWN0aXZpdHkubGVuZ3RoCiAgICAgICAgKXsKICAgICAgICAgICAgJGxibEhvbWVUaXRsZS5jc3MoewogICAgICAgICAgICAgICAgJ2Zsb2F0JzonbGVmdCcKICAgICAgICAgICAgICAsICdtYXJnaW4tYm90dG9tJzonMnB4JwogICAgICAgICAgICAgICwgJ2xpbmUtaGVpZ2h0JzonMzJweCcKICAgICAgICAgICAgICAsICd3aWR0aCc6JzEwMCUnCiAgICAgICAgICAgICAgfSkubmV4dCgpLmNzcygnY2xlYXInLCdib3RoJyk7CiAgICAgICAgICAgICRidG5OZXdBY3Rpdml0eS5jc3MoewogICAgICAgICAgICAgICAgJ2Zsb2F0JzoncmlnaHQnCiAgICAgICAgICAgICAgLCAnbWFyZ2luJzonMCcKICAgICAgICAgICAgICAsICdsaW5lLWhlaWdodCc6JzIycHgnCiAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRsYmxIb21lVGl0bGUpOwogICAgICAgIH0KICAgICAgICBob21lRmVlZHMoYkhvbWVGZWVkc0NvbHVtbnMpOwogICAgfQoKCi8qKgogKiDpl67popjpobUKICovCgogIGlmKHBhZ2VJcy5RdWVzdGlvbil7CgogICAgdmFyICRsYmxRdWVzdGlvbk1ldGE9JCgnI3poLXF1ZXN0aW9uLW1ldGEtd3JhcCcpLy9xdWVzdGlvbl9tZXRhCiAgICAgICwgJGxpc3RBbnN3ZXJzPSQoJyN6aC1xdWVzdGlvbi1hbnN3ZXItd3JhcCwjemgtcXVlc3Rpb24tY29sbGFwc2VkLXdyYXAnKS5jaGlsZHJlbigpLy8kKCcuem0taXRlbS1hbnN3ZXInLCcjemgtc2luZ2xlLXF1ZXN0aW9uJykKICAgICAgLCBudW1BbnN3ZXJzQ291bnQ9JGxpc3RBbnN3ZXJzLmxlbmd0aAogICAgICAsICRidG5Db2xsYXBzZWRTd2l0Y2hlcj0kKCcjemgtcXVlc3Rpb24tY29sbGFwc2VkLXN3aXRjaGVyJykKICAgICAgLCBudW1Db2xsYXBzZWRDb3VudD0hJGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmxlbmd0aHx8JGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmlzKCc6aGlkZGVuJyk/MDpwYXJzZUludCgkKCcjemgtcXVlc3Rpb24tY29sbGFwc2VkLW51bScpLnRleHQoKSkKICAgICAgLCBudW1BbnN3ZXJzQ291bnRUb3RhbD1udW1BbnN3ZXJzQ291bnQrbnVtQ29sbGFwc2VkQ291bnQKICAgICAgLCAkcmVwbHk9JCgnI3poLXF1ZXN0aW9uLWFuc3dlci1mb3JtLXdyYXAnKS8vcmVwbHlfZm9ybQogICAgOwogICAgaWYoJGxibFF1ZXN0aW9uTWV0YS5sZW5ndGgpewogICAgICAgIHZhciBzPW5ldyBBcnJheSgpCiAgICAgICAgICAsICRhPSQoJzxhPicpCiAgICAgICAgICAsICRjPSQoJzxzcGFuPicseydjbGFzcyc6J3pnLWJ1bGwnfSkudGV4dCgn4oCiJykKICAgICAgICAgICwgJHA9JGxibFF1ZXN0aW9uTWV0YS5jaGlsZHJlbignLnptLW1ldGEtcGFuZWwnKS5jaGlsZHJlbignYS5tZXRhLWl0ZW06bGFzdCcpCiAgICAgICAgICAsICRtPSQoJy56dS1hbnN3ZXItZm9ybS1kaXNhYmxlZC13cmFwOnZpc2libGUgPiBhJywnI3poLXF1ZXN0aW9uLWFuc3dlci1mb3JtLXdyYXAnKQogICAgICAgIDsKICAgICAgICBpZigkbS5sZW5ndGgpewogICAgICAgICAgICBzLnB1c2goJG0uYXR0cignaHJlZicpKTsKICAgICAgICAgICAgJGEudGV4dCgn5oiR55qE5Zue562UJyk7CiAgICAgICAgfWVsc2UgaWYoJHJlcGx5Lmxlbmd0aCl7CiAgICAgICAgICAgIHZhciBpZD0nbmV3X2Fuc3dlcicKICAgICAgICAgICAgICAsICRiPSQoJzxhPicse25hbWU6aWR9KS5iZWZvcmUoJHJlcGx5LmNoaWxkcmVuKCkuZmlyc3QoKSk7CiAgICAgICAgICAgIHMucHVzaCgnI2RyYWZ0Jyk7CiAgICAgICAgICAgICRhLnRleHQoJ+aIkeimgeWbnuetlCcpOwogICAgICAgIH0KICAgICAgICAkYy5pbnNlcnRBZnRlcigkcCk7CiAgICAgICAgJGEuYXR0cignaHJlZicscy5qb2luKCcnKSkuYXR0cigndGFyZ2V0JywnX3NlbGYnKQogICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJGMpOwogICAgfQogICAgaWYgKGl6aEF1dGhvckxpc3QmJgogICAgICAgIG51bUFuc3dlcnNDb3VudFRvdGFsPjEwMCYmCiAgICAgICAgY29uZmlybSgn6L+Z5Liq6Zeu6aKY55qE5Zue562U5pWw6L6D5aSa77yM5piv5ZCm5pqC5pe25YWz6Zet44CMaVpoaWh1IOWbnuetlOebruW9leOAje+8nycpKXsKICAgICAgICAvLyQoJyNpemhDU1NfY29tbWVudCcpLnJlbW92ZSgpOwogICAgICAgIC8vcmV0dXJuOwogICAgICAgIGl6aEF1dGhvckxpc3Q9ZmFsc2U7CiAgICAgICAgJGJvZHkuYXR0cignaXpoQXV0aG9yTGlzdCcsJzAnKTsKICAgIH0KICAgIC8vY29uc29sZS5sb2coKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7CiAgICAKICAgIHZhciAkbGJsQW5zd2Vyc0NvdW50PSQoJyN6aC1xdWVzdGlvbi1hbnN3ZXItbnVtJykvL2Fuc3dlcnNfY291bnQKICAgICAgLCAkdW5vPSQoJzxkaXY+Jyx7J2NsYXNzJzondW5vJyxzdHlsZTonZmxvYXQ6bGVmdCd9KS8vaXpoX0F1dGhvcnNMaXN0CiAgICAgICwgJHBwVD0kKCc8c3Bhbj4nLHsnY2xhc3MnOidtZVQnLHN0eWxlOidkaXNwbGF5Om5vbmUnfSkvL2l6aF9BdXRob3JzTGlzdF9Ub3BTZWxmSW5kaWNhdG9yCiAgICAgICwgJGZybT0kKCc8ZGl2PicseydjbGFzcyc6J2ZyYW1lJ30pLy9pemhfQXV0aG9yc0xpc3RfZnJhbWUKICAgICAgLCAkcHBCPSQoJzxzcGFuPicseydjbGFzcyc6J21lQicsc3R5bGU6J2Rpc3BsYXk6bm9uZSd9KS8vaXpoX0F1dGhvcnNMaXN0X0JvdHRvbVNlbGZJbmRpY2F0b3IKICAgICAgLCAkcHA9JCgnPHVsPicseydjbGFzcyc6J3BwJ30pLy9pemhfQXV0aG9yc0xpc3RfVUwKICAgICAgLCAkcHBJPSQoJzxkaXY+JykKICAgIAogICAgOwoKICAgIHdpbmRvdy5pWmhpaHUuJHVub0Fuc3dlcnMgPSAkdW5vCi8qCiAgICAvL+etlOahiOaMieaXtumXtOaOkuW6jwogICAgaWYodXRpbHMuZ2V0Q2ZnKCdhbnN3ZXJfb3JkZXJCeVRpbWUnKSl7CiAgICAgIGNsaWVudC5jbGljaygnLnpoLWFuc3dlcnMtZmlsdGVyLXBvcHVwIGRpdltkYXRhLWtleT1hZGRlZF90aW1lXScpOwogICAgfQoqLyAgICAKICAgIHZhciAkcXVlc3Rpb25XcmFwPSQoJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAnKTsKICAgICRxdWVzdGlvbldyYXAuY2hpbGRyZW4oJy5wYW5lbC1jb250YWluZXInKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICB3aW5kb3cuaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJChldmVudC50YXJnZXQpKTsKICAgIH0pOwogICAgaWYod2luZG93LmlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgLy8kcXVlc3Rpb25XcmFwLmNoaWxkcmVuKCcubWV0YS1pdGVtW25hbWU9YWRkY29tbWVudF0nKS5wcmVwZW5kVG8oJHF1ZXN0aW9uV3JhcCk7CiAgICAgICAgd2luZG93LmlaaGlodS5Db21tZW50LnByb2Nlc3NDb21tZW50QnV0dG9uKCRxdWVzdGlvbldyYXApOwogICAgICAgIGlmKCEkKCcjaXpoX1F1ZXN0aW9uU2hhZG93JykubGVuZ3RoKXsKICAgICAgICAgICAgJCgnPGRpdj4nLHsnY2xhc3MnOidpemhfYm94U2hhZG93JyxpZDonaXpoX1F1ZXN0aW9uU2hhZG93J30pLmNzcyh7CiAgICAgICAgICAgICAgICAnei1pbmRleCc6ICctMScKICAgICAgICAgICAgICAsICdwb3NpdGlvbic6ICdyZWxhdGl2ZScKICAgICAgICAgICAgICAsICd0b3AnOiAtMjUKICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6IC0zMgogICAgICAgICAgICB9KS5wcmVwZW5kVG8oJ2JvZHk+Lnp1LW1haW46Zmlyc3QnKS5oaWRlKCk7CiAgICAgICAgfSAgIAogICAgfQoKICAgIC8vcHJvY2VzcyBlYWNoIGFuc3dlcgogICAgaWYoJGxpc3RBbnN3ZXJzJiYkbGlzdEFuc3dlcnMubGVuZ3RoKXsKICAgICAgICBpZihpemhBdXRob3JMaXN0KXsKICAgICAgICAgICAgJHVuby5hcHBlbmRUbygkYmFubmVyKTsKICAgICAgICAgICAgJHBwVC5hcHBlbmRUbygkdW5vKTsKICAgICAgICAgICAgJGZybS5hcHBlbmRUbygkdW5vKTsKICAgICAgICAgICAgJHBwLmFwcGVuZFRvKCRmcm0pOwogICAgICAgICAgICAkcHBCLmFwcGVuZFRvKCR1bm8pOwogICAgICAgICAgICAvL3Vuby5hcHBlbmRDaGlsZChwcEkpOwogICAgICAgICAgICAkdW5vLiRlbmRPZkxhc3RBPSQoJzxsaT4nKS5hZGRDbGFzcygnZW5kT2ZMYXN0QScpLmFwcGVuZFRvKCRwcCkKICAgICAgICB9CiAgICAgICAgJGxpc3RBbnN3ZXJzLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgd2luZG93LmlaaGlodS5BbnN3ZXIucHJvY2Vzc0Fuc3dlcigkKGUpLCRwcAogICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICwgaXpoQXV0aG9yTGlzdCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYoJHJlcGx5LmNoaWxkcmVuKCcuenUtYW5zd2VyLWZvcm0tZGlzYWJsZWQtd3JhcCcpLmlzKCc6aGlkZGVuJykpewogICAgICAgICAgICB2YXIgJHBwbGE9JCgnPGE+Jyx7aHJlZjonI2RyYWZ0Jyx0YXJnZXQ6J19zZWxmJ30pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0YWJsZT4nLCB7ICdjbGFzcyc6ICdwbHVzJyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicpKQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JykpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsgJ2NsYXNzJzogJ25hbWUgZnVuYycgfSkudGV4dCgnLW5ldy0nKSkKICAgICAgICAgICAgICAsICRwcGw9JCgnPGxpPicpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCRwcGxhKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRwcCkKICAgICAgICAgICAgOwogICAgICAgIH0KICAgIH0KICAgIHZhciByZXNpemVBdXRob3JMaXN0PWZ1bmN0aW9uKCRmKXsKICAgICAgICAvLyBBZGp1c3QgQXV0aG9yTGlzdCdzIHNpemUgYW5kIGxvY2F0ZSBpdHMgcG9zaXRpb24KICAgICAgICBpZighJGZ8fCEkZi5sZW5ndGgpcmV0dXJuOwogICAgICAgIHZhciBmcm09JGYuZ2V0KDApOwogICAgICAgIHZhciB3aWR0aD13aW5kb3cuaVpoaWh1LkFuc3dlci5wcFdpZHRoCiAgICAgICAgICAsIGhlaWdodD0kd2luLmhlaWdodCgpLSRtYWluLm9mZnNldCgpLnRvcC0zLSRmLnBvc2l0aW9uKCkudG9wOwogICAgICAgIGlmKGZybS5zY3JvbGxIZWlnaHQ+aGVpZ2h0KXsKICAgICAgICAgICAgJGYuaGVpZ2h0KGhlaWdodCk7CiAgICAgICAgICAgIHdpZHRoKz0yMDsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGYuaGVpZ2h0KCcnKTsKICAgICAgICB9CiAgICAgICAgJGYud2lkdGgod2lkdGgpOwogICAgfTsKICAgIGlmKGlzTmFOKG51bUNvbGxhcHNlZENvdW50KSludW1Db2xsYXBzZWRDb3VudD0wOwogICAgaWYoJGxpc3RBbnN3ZXJzLmxlbmd0aHx8bnVtQ29sbGFwc2VkQ291bnQpewogICAgICAgIGlmKGl6aEF1dGhvckxpc3QpewogICAgICAgICAgICAkdW5vLmNzcyh7CiAgICAgICAgICAgICAgICAnZmxvYXQnOidub25lJwogICAgICAgICAgICAgICwgJ2xlZnQnOjktJHVuby53aWR0aCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZighJGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmxlbmd0aCYmIW51bUNvbGxhcHNlZENvdW50KQogICAgICAgICAgICAgICAgcmVzaXplQXV0aG9yTGlzdCgkZnJtKTsKICAgICAgICAgICAgJCgnPGRpdj4nLHsnY2xhc3MnOidtb2RhbC1kaWFsb2ctdGl0bGUnfSkuY3NzKHsKICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AtbGVmdC1yYWRpdXMnOjAKICAgICAgICAgICAgfSkuaW5zZXJ0QmVmb3JlKCRwcFQpOwogICAgICAgICAgICAkdW5vLm1vdXNlb3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgcmVzaXplQXV0aG9yTGlzdCgkKCcuZnJhbWUnLHRoaXMpKTsKICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdsZWZ0JywnMCcpOwogICAgICAgICAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2xlZnQnLDktJCh0aGlzKS53aWR0aCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKHdpbmRvdy5pWmhpaHUuQW5zd2VyLl9lKXsKICAgICAgICAgICAgICAgICR1bm8uY2hpbGRyZW4oJy5tZVQnKS5jc3MoJ2Rpc3BsYXknLDA+d2luZG93LmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0VG9wLSRmcm0uc2Nyb2xsVG9wKCk/Jyc6J25vbmUnKTsKICAgICAgICAgICAgICAgICR1bm8uY2hpbGRyZW4oJy5tZUInKS5jc3MoJ2Rpc3BsYXknLCRmcm0uaGVpZ2h0KCk8d2luZG93LmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0VG9wLSRmcm0uc2Nyb2xsVG9wKCkrd2luZG93LmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0SGVpZ2h0PycnOidub25lJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoJGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmxlbmd0aCl7CiAgICAgICAgICAgIGlmKG51bUNvbGxhcHNlZENvdW50PjApewogICAgICAgICAgICAgICAgJCgnI3poLXF1ZXN0aW9uLWNvbGxhcHNlZC13cmFwJykuc2hvdygpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgIHZhciAkYT0kKGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgaWYoJGEuaXMoJy56bS1pdGVtLWFuc3dlcicpKXsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlaaGlodS5BbnN3ZXIucHJvY2Vzc0Fuc3dlcigkYSwkcHAKICAgICAgICAgICAgICAgICAgICAgICAgICAsICRib2R5LmF0dHIoJ2l6aEF1dGhvclJlYXInKT09JzEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkYm9keS5hdHRyKCdpemhBdXRob3JMaXN0Jyk9PScxJwogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAkKCcuem0taXRlbS1hbnN3ZXJbaXpoX3Byb2Nlc3NlZD0xXScsJyN6aC1xdWVzdGlvbi1jb2xsYXBzZWQtd3JhcCcpLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQ9PW51bUNvbGxhcHNlZENvdW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZUF1dGhvckxpc3QoJGZybSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkYnRuQ29sbGFwc2VkU3dpdGNoZXJbMF0uY2xpY2soKTsKICAgICAgICB9CiAgICB9CgogICAgJCgnI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwJykuYmluZCgnRE9NTm9kZUluc2VydGVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgdmFyICRuYT0kKGV2ZW50LnRhcmdldCkuZmlsdGVyKCcuem0taXRlbS1hbnN3ZXInKTsKICAgICAgICBpZigkbmEubGVuZ3RoKXsKICAgICAgICAgICAgd2luZG93LmlaaGlodS5BbnN3ZXIucHJvY2Vzc0Fuc3dlcigkbmEsJHBwCiAgICAgICAgICAgICAgLCAkYm9keS5hdHRyKCdpemhBdXRob3JSZWFyJyk9PScxJwogICAgICAgICAgICAgICwgJGJvZHkuYXR0cignaXpoQXV0aG9yTGlzdCcpPT0nMScKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9KTsKICAgIC8vY29uc29sZS5sb2coKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7CgogICAgdmFyICRjbT0kKCcuem0tY29tbWVudC1ib3gnLCRxdWVzdGlvbldyYXApOwogICAgaWYoJGNtLmxlbmd0aCAmJiAkY20uaXMoJzp2aXNpYmxlJykpewogICAgICAgIHZhciBmb2N1c05hbWUgPSBpWmhpaHUuQ29tbWVudC5zY3JvbGxGb2N1c0NvbW1lbnRPblBhZ2VMb2FkKCRjbSk7CiAgICAKICAgICAgICBpWmhpaHUuQ29tbWVudC5tZXRhU2Nyb2xsVG9WaWV3Qm90dG9tKCRjbS5jbG9zZXN0KCcuem0taXRlbS1tZXRhJyksZnVuY3Rpb24oKXsKICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJGNtLCBmb2N1c05hbWUpOwogICAgICAgIH0pOwogICAgfQogIH0KCi8qKgogKiDphY3nva7nlYzpnaIKICovCgogICAgdmFyICRidG5TZXR0aW5ncyA9ICQoJzxsaT4nKQogICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicsIHsgaHJlZjogJ2phdmFzY3JpcHQ6dm9pZCgwKTsnLCB0YWJpbmRleDogJy0xJyB9KQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uIHpnLWljb24tZGQtc2V0dGluZ3MgaXpoaWh1LXNldHRpbmdzJyB9KSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2laaGlodScpCiAgICAgICAgICAgICkuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciAkc2V0dGluZ3MgPSAkKCcjaXpoLWRsZy1zZXR0aW5ncycpCiAgICAgICAgICAgICAgICAkKCcubW9kYWwtZGlhbG9nLWJnJykuc2hvdygpCiAgICAgICAgICAgICAgICAkKCcuaXpoLW9wdGlvbicsICcjaXpoLWRsZy1zZXR0aW5ncycpLmVhY2goZnVuY3Rpb24oaSwgZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGUuZ2V0QXR0cmlidXRlKCduYW1lJykKICAgICAgICAgICAgICAgICAgICAgICwgdmFsdWUgPSB1dGlscy5nZXRDZmcoa2V5KQogICAgICAgICAgICAgICAgICAgICAgLCAkZSA9ICQoZSkKICAgICAgICAgICAgICAgICAgICBpZiAoJGUuaXMoJ2lucHV0OmNoZWNrYm94JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGUpLmlDaGVjaygnY2hlY2snKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGUuaXMoJ3NlbGVjdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUudmFsdWUgPSB2YWx1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAkc2V0dGluZ3MuY3NzKHsKICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6Jzk5JwogICAgICAgICAgICAgICAgICAsICdwb3NpdGlvbic6J2ZpeGVkJwogICAgICAgICAgICAgICAgICAsICd0b3AnOiAoJHdpbi5oZWlnaHQoKSAtICRzZXR0aW5ncy5oZWlnaHQoKSkgLyAyCiAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOiAoJHdpbi53aWR0aCgpIC0gJHNldHRpbmdzLndpZHRoKCkpIC8gMgogICAgICAgICAgICAgICAgfSkuZmFkZUluKCdzbG93JykKICAgICAgICAgICAgfSkuaW5zZXJ0QmVmb3JlKCQoJ3VsI3RvcC1uYXYtcHJvZmlsZS1kcm9wZG93biBsaTpsYXN0JykpCiAgICAgICwgJGRsZ1NldHRpbmdzID0gJCgnPGRpdj4nLCB7IGlkOiAnaXpoLWRsZy1zZXR0aW5ncycsICdjbGFzcyc6ICdtb2RhbC1kaWFsb2cnLCB0YWJpbmRleDogJzAnLCBzdHlsZTogJ2Rpc3BsYXk6bm9uZTt3aWR0aDo2MDBweCd9KQogICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnbW9kYWwtZGlhbG9nLXRpdGxlIG1vZGFsLWRpYWxvZy10aXRsZS1kcmFnZ2FibGUnIH0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy10aXRsZS10ZXh0JyB9KS50ZXh0KCfphY3nva7pgInpobknKSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JywgewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctdGl0bGUtY2xvc2UnCiAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tb2RhbC1kaWFsb2ctYmcnKS5oaWRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2l6aC1kbGctc2V0dGluZ3MnKS5maXJzdCgpLmhpZGUoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICApCiAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctY29udGVudCcgfSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnemctc2VjdGlvbicgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGFibGU+JywgeyAnY2xhc3MnOiAndF9zZXRfdGInLCBib3JkZXI6IDAsIGNlbGxzcGFjaW5nOiAwLCBjZWxscGFkZGluZzogNSwgd2lkdGg6ICcxMDAlJyB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGhlYWQ+Jywge30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+Jywge30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgY29sc3BhbjogNiwgYWxpZ246ICdsZWZ0JyB9KS50ZXh0KCfvvIjmm7TmlLnlkI7orr7nva7lsIbnq4vliLvkv53lrZjvvIzkvYblj6rmnInlvZPpobXpnaLlho3mrKHmiZPlvIDml7bmiY3kvJrnlJ/mlYjvvIknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJLnByZXBlbmQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkJJCgnPGI+JykudGV4dCgn5Yqf6IO95byA5YWzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRib2R5PicsIHt9KQovKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5Zyo6aaW6aG155u05o6l5rWP6KeI5bi45Y676K+d6aKYJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICIifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0SG9tZVRvcGljcyIsIG5hbWU6ICJIb21lVG9waWNzIiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBjb2xzcGFuOiA0LCBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+aUueWPmOe9kemhteagt+W8j+WkluingicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JCog6aaW6aG16ZqQ6JeP5aSn5aS05YOPPGJyLz4qIOe8qei/m+aKleelqOaMiemSru+8iOmXrumimC/lm57nrZTpobXvvIk8YnIvPiog5oyJ6ZKu5Zu+5qCH5Yqo55S7ICJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRIb21lTGF5b3V0IiwgbmFtZTogIkhvbWVMYXlvdXQiIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn6Ieq5Yqo5pS26LW35a+86Iiq5qCPJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICJzJHQkKiDmu5rliqjpobXpnaLoh7PkuIvmlrnml7bvvIzoh6rliqjmlLbotbfpobbpg6jlr7zoiKrmoI8gIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aW5wdXQ+JywgeyB0eXBlOiAiY2hlY2tib3giLCAnY2xhc3MnOiAiaXpoLW9wdGlvbiIsIGlkOiAiaVpoaWh1X3NldFRvcE5hdkF1dG9Gb2xkIiwgbmFtZTogIlRvcE5hdkF1dG9Gb2xkIiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBjb2xzcGFuOiA0LCBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+iwg+aVtOmmlumhteOAjOaWsOWKqOaAgeOAjeaPkOmGkuaMiemSricpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOaMquWIsCBUaW1lbGluZSDlj7PkuIrop5I8YnIvPuS4juagh+mimOOAjOacgOaWsOWKqOaAgeOAjeW5s+ihjCJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRIb21lTm90aSIsIG5hbWU6ICJIb21lTm90aSIgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+Jywge30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgY29sc3BhbjogNCwgYWxpZ246ICdsZWZ0JyB9KS50ZXh0KCflvIDlkK/jgIzpppbpobXliIbmoI/jgI0nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpPicsIHsgJ2NsYXNzJzogJ2ljb24gaWNvbi1oZWxwJywgJ2RhdGEtdGlwJzogInMkdCTlsIbpppbpobXliqjmgIHliIbnsbvljZXni6zmmL7npLrvvJo8YnIvPumXrumimOOAgeWbnuetlOOAgeS4k+agjyJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRIb21lRmVlZHNDb2x1bW5zIiwgbmFtZTogIkhvbWVGZWVkc0NvbHVtbnMiIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5bCG55So5oi35L+h5oGv5oyq5Yiw5Zue562U5LiL5pa5JykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICIifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0QXV0aG9yUmVhciIsIG5hbWU6ICJBdXRob3JSZWFyIiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+W8gOWQr+OAjOWPs+iIt+ivhOiuuuOAjScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOWcqOmhtemdouWPs+S+p+a1ruWKqOaYvuekuuaJk+W8gOeahOivhOiuuuWIl+ihqDxici8+5Zyo6aaW6aG144CB6Zeu6aKY44CB5Zue562U6aG15Lit55Sf5pWIIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aW5wdXQ+JywgeyB0eXBlOiAiY2hlY2tib3giLCAnY2xhc3MnOiAiaXpoLW9wdGlvbiIsIGlkOiAiaVpoaWh1X3NldFJpZ2h0Q29tbWVudCIsIG5hbWU6ICJTaG93Q29tbWVudCIgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyB3aWR0aDogMSwgbm93cmFwOiAnbm93cmFwJywgYWxpZ246ICdsZWZ0JyB9KS50ZXh0KCflhbPpl63ml7boh6rliqjljbflsY/oh7Plr7nlupTmnaHnm64nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpPicsIHsgJ2NsYXNzJzogJ2ljb24gaWNvbi1oZWxwJywgJ2RhdGEtdGlwJzogInMkdCTku4Xlr7nlj7PoiLfor4TorrrnlJ/mlYgifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0UmlnaHRDb21tZW50X0F1dG9TY3JvbGxQYWdlV2hlbkNsb3NpbmciLCBuYW1lOiAiUmlnaHRDb21tZW50X0F1dG9TY3JvbGxQYWdlV2hlbkNsb3NpbmciIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5byA5ZCv44CM5b+r6YCf5bGP6JS944CN77yI5Yqg5YWl6buR5ZCN5Y2VL+WPlua2iOWFs+azqO+8ieWKn+iDvScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOWcqOi1nuWQjOWIl+ihqOOAgeivhOiuuuWIl+ihqOS4reS9v+eUqCJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRRdWlja0Jsb2NrIiwgbmFtZTogIlF1aWNrQmxvY2siIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5byA5ZCv44CM5b+r6YCf5pS26JeP44CN6I+c5Y2VJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICJzJHQk6byg5qCH56e75LiK44CM5pS26JeP44CN5oyJ6ZKu5pe25pi+56S6In0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aW5wdXQ+JywgeyB0eXBlOiAiY2hlY2tib3giLCAnY2xhc3MnOiAiaXpoLW9wdGlvbiIsIGlkOiAiaVpoaWh1X3NldFF1aWNrRmF2byIsIG5hbWU6ICJRdWlja0Zhdm8iIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5byA5ZCv44CM5Zue562U55uu5b2V44CNJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICJzJHQk5Zyo6Zeu6aKY6aG16Z2i5bem5L6n5o6p6JeP77yM6byg5qCH56e75LiK5pe25bGV5byAPGJyLz7lubblnKjlj7PkvqfljbPml7bmmL7npLrlm57nrZTpooTop4gifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0QXV0aG9yTGlzdCIsIG5hbWU6ICJBdXRob3JMaXN0IiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBjb2xzcGFuOiA0LCBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+mAieaLqeOAjOWklumDqOaQnOe0ouW8leaTjuOAjScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOS9oOaHgueahCJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNlbGVjdD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0U2VhcmNoRW5naW5lT3V0c2lkZSIsIG5hbWU6ICJTZWFyY2hFbmdpbmVPdXRzaWRlIn0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8b3B0aW9uPicsIHsgdmFsdWU6J2dvb2dsZScgfSkudGV4dCgnR29vZ2xlJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8b3B0aW9uPicsIHsgdmFsdWU6J2JhaWR1JyB9KS50ZXh0KCfnmb7luqYnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnemctbGVmdCcgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn5b2T5YmN54mI5pys77yaJyt2ZXJzaW9uKyfvvJsnKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCfmnIDlkI7mm7TmlrDvvJonK3VwZGF0ZURhdGUpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGJyPicpKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCfliLbkvZzvvJonKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicsIHsgJ2RhdGEtdGlwJzogInAkdCR1bm9nengiLCBocmVmOiAiL3Blb3BsZS91bm9nengiIH0pLnRleHQoJ0DpkqLnm4Xpg63lrZAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn77yMJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdkYXRhLXRpcCc6ICJwJHQkbGl1eW9uZzI1IiwgaHJlZjogIi9wZW9wbGUvbGl1eW9uZzI1IiB9KS50ZXh0KCdA5aSp54yqKOWImOWLhyknKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn77yMJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdkYXRhLXRpcCc6ICJwJHQkbHVveHIiLCBocmVmOiAiL3Blb3BsZS9sdW94ciIgfSkudGV4dCgnQHl1a2lyb2NrJykpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ++8jCcpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyAnZGF0YS10aXAnOiAicCR0JG1vcmxheSIsIGhyZWY6ICIvcGVvcGxlL21vcmxheSIgfSkudGV4dCgnQOWiqOejiicpKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxicj4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn5oSf6LCi77yaJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdkYXRhLXRpcCc6ICJwJHQkUGV0ZXJEZW5nIiwgaHJlZjogIi9wZW9wbGUvUGV0ZXJEZW5nIiB9KS50ZXh0KCdA6YKT5paH5Y2aJykpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ++8jCcpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyAnZGF0YS10aXAnOiAicCR0JGNha3ZmY3d6IiwgaHJlZjogIi9wZW9wbGUvY2FrdmZjd3oiIH0pLnRleHQoJ0DmsLTkupHpgLgnKSkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ3ptLWNvbW1hbmQnIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyBpZDogJ2l6aFJlZnJlc2gnLCAnY2xhc3MnOiAnemctYnRuLWJsdWUnLCBocmVmOiAnamF2YXNjcmlwdDp2b2lkKDApOycgfSkudGV4dCgn5Yi35paw572R6aG1JykpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApLmFwcGVuZFRvKF9kb2MuYm9keSkuZHJhZ2dhYmxlKHtoYW5kbGU6ICcubW9kYWwtZGlhbG9nLXRpdGxlLWRyYWdnYWJsZSd9KQoKICAgICQoJy5pemgtb3B0aW9uJywgJGRsZ1NldHRpbmdzKS5lYWNoKGZ1bmN0aW9uKGksIGUpewogICAgICAgIHZhciBrZXkgPSBlLmdldEF0dHJpYnV0ZSgnbmFtZScpCiAgICAgICAgICAsICRjaGsgPSAkKGUpLmZpbHRlcignaW5wdXQ6Y2hlY2tib3gnKS5pQ2hlY2soewogICAgICAgICAgICAgICAgY2hlY2tib3hDbGFzczogJ2ljaGVja2JveF9zcXVhcmUtYmx1ZScKICAgICAgICAgICAgICAsIGluY3JlYXNlQXJlYTogJzIwJScgLy8gb3B0aW9uYWwKICAgICAgICAgICAgfSkuYmluZCgnaWZDaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jaGVja2VkCiAgICAgICAgICAgICAgICB1dGlscy5zZXRDZmcoa2V5LCB2YWx1ZSkKICAgICAgICAgICAgfSkKICAgICAgICAgICwgJHNlbCA9ICQoZSkuZmlsdGVyKCdzZWxlY3QnKS5iaW5kKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHV0aWxzLnNldENmZyhrZXksIHRoaXMudmFsdWUpCiAgICAgICAgICAgIH0pCiAgICB9KQogICAgJCgnI2l6aFJlZnJlc2gnKS5jbGljayhmdW5jdGlvbigpewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpCiAgICB9KQoKLyoKICog6K6+572uLeWxj+iUvQogKi8KaWYgKHBhZ2VJcy5TZXR0aW5nc0ZpbHRlcil7CiAgICB2YXIgYWxsPVtdCiAgICAgICwgJHNlY0Jsb2NrZWRVc2VycyA9ICQoJyNzZWN0aW9uLWJsb2NrZWQtdXNlcnMnKQogICAgICAsICRzZWNCbG9ja2VkVXNlcnNUaXRsZSA9ICRzZWNCbG9ja2VkVXNlcnMuY2hpbGRyZW4oJy5zZXR0aW5ncy1zZWN0aW9uLXRpdGxlOmZpcnN0JykuY2hpbGRyZW4oJ2gyOmZpcnN0JykKICAgICAgLCAkcG5sVW5CbG9ja2VkVXNlcnMgPSAkKCc8ZGl2PicpLmFwcGVuZFRvKCRzZWNCbG9ja2VkVXNlcnNUaXRsZSkuY3NzKHsKICAgICAgICAgICAgZmxvYXQ6ICdyaWdodCcKICAgICAgICB9KQogICAgICAsICRsYkZpbHRlckJsb2NrZWRVc2VycyA9ICQoJzxsYWJlbC8+JykuYXBwZW5kVG8oJHBubFVuQmxvY2tlZFVzZXJzKS5jc3MoewogICAgICAgICAgICBmbG9hdDogJ2xlZnQnCiAgICAgICAgfSkKICAgICAgLCAkdGJGaWx0ZXJCbG9ja2VkVXNlcnMgPSAkKCc8aW5wdXQvPicsIHsKICAgICAgICAgICAgJ2NsYXNzJzogJ3pnLWZvcm0tdGV4dC1pbnB1dCB6Zy1tcjE1JwogICAgICAgICAgLCBwbGFjZWhvbGRlcjogJ+eUqOaIt+WQjeaIluaYteensCcKICAgICAgICB9KS5hcHBlbmRUbygkcG5sVW5CbG9ja2VkVXNlcnMpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgdmFyIGt3PXRoaXMudmFsdWUKICAgICAgICAgICAgICAsIG49MAogICAgICAgICAgICAgICwgJGxpc3RCbG9ja2VkVXNlcnM9JHNlY0Jsb2NrZWRVc2Vycy5maW5kKCcuYmxvY2tlZC11c2VycyA+IC5pdGVtID4gLmJvZHkgPiBhJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgIHZhciAkYSA9ICQoZSkKICAgICAgICAgICAgICAgICAgICAgICwgaHJlZiA9IGUuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJycKICAgICAgICAgICAgICAgICAgICAgICwgdGV4dCA9IGUuaW5uZXJIVE1MCiAgICAgICAgICAgICAgICAgICAgICAsIG5vdE1hdGNoID0gKGhyZWYuaW5kZXhPZihrdykgPCAwICYmIHRleHQuaW5kZXhPZihrdykgPCAwKQogICAgICAgICAgICAgICAgICAgIGlmKCFub3RNYXRjaCl7CiAgICAgICAgICAgICAgICAgICAgICAgIG4rKwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkYS5jbG9zZXN0KCcuaXRlbScpLmNzcygnZGlzcGxheScsIG5vdE1hdGNoID8gJ25vbmUnIDogJycpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAkbGJGaWx0ZXJCbG9ja2VkVXNlcnMudGV4dChbbj9uKycgJzon5pegJywn5Lq65Yy56YWN77yaJ10uam9pbignJykpCiAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgZmxvYXQ6ICdsZWZ0JwogICAgICAgIH0pLnRyaWdnZXIoJ2tleXVwJykKICAgICAgLCBmdW5jVW5ibG9jaz1mdW5jdGlvbigpewogICAgICAgICAgICBpZihhbGwubGVuZ3RoPT0wKXtyZXR1cm59CiAgICAgICAgICAgIHZhciBlPWFsbC5zaGlmdCgpCiAgICAgICAgICAgICQucG9zdCgnL3NldHRpbmdzL3VuYmxvY2t1c2VyJywgJC5wYXJhbSh7CiAgICAgICAgICAgICAgICBfeHNyZjogJCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKQogICAgICAgICAgICAgICwgdWlkOiBlLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpCiAgICAgICAgICAgIH0pKS5kb25lKGZ1bmN0aW9uKHJlc3VsdCl7CiAgICAgICAgICAgICAgICAkKGUpLnJlbW92ZSgpCiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24ocmVzdWx0KXsKICAgICAgICAgICAgICAgIGFsbC5wdXNoKGUpCiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbihyZXN1bHQpewogICAgICAgICAgICAgICAgJGxiRmlsdGVyQmxvY2tlZFVzZXJzLnRleHQoW2FsbC5sZW5ndGg/YWxsLmxlbmd0aCsnICc6J+aXoCcsJ+S6uuWMuemFje+8middLmpvaW4oJycpKQogICAgICAgICAgICAgICAgZnVuY1VuYmxvY2soKQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgLCBoPSR0YkZpbHRlckJsb2NrZWRVc2Vycy5vdXRlckhlaWdodCgpCiAgICAgICwgJGJ0VW5CbG9ja2VkVXNlcnMgPSAkKCc8aW5wdXQvPicsIHsKICAgICAgICAgICAgJ2NsYXNzJzogJ3pnLWJ0biB6Zy1idG4tdW5mb2xsb3cnCiAgICAgICAgICAsIHR5cGU6ICdidXR0b24nCiAgICAgICAgICAsIHZhbHVlOiAn5Y+W5raI5bGP6JS9JwogICAgICAgIH0pLmFwcGVuZFRvKCRwbmxVbkJsb2NrZWRVc2Vycykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAkKCcjc2VjdGlvbi1ibG9ja2VkLXVzZXJzID4gLnNldHRpbmdzLWl0ZW0gPiAuc2V0dGluZ3MtaXRlbS1jb250ZW50ID4gLmJsb2NrZWQtdXNlcnMgPiAuaXRlbScpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgIHZhciAkZSA9ICQoZSkKICAgICAgICAgICAgICAgIGlmKCRlLmlzKCc6dmlzaWJsZScpKXsKICAgICAgICAgICAgICAgICAgICBhbGwucHVzaChlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICBmdW5jVW5ibG9jaygpCiAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgZmxvYXQ6ICdsZWZ0JwogICAgICAgIH0pLmhlaWdodChoKQogICAgJGxiRmlsdGVyQmxvY2tlZFVzZXJzLmNzcygnbGluZS1oZWlnaHQnLCBoKydweCcpCn0KCnZhciBmaXJzdFJ1biA9IHBhcnNlSW50KHV0aWxzLmdldFZhbHVlKCdpemhfZnInLCcxJykpOwoKZnVuY3Rpb24gX0ZSc2hvdygpewppZihmaXJzdFJ1bj4wICYmIGRvY3VtZW50LmRvbWFpbj09J3poaWh1LmNvbScpewogICAgdmFyIHRib3hsZWZ0PTA7CiAgICB2YXIgYWNjaXRlbTE9ICQoJyN6aC10b3AtaW5uZXIgZGl2LnRvcC1uYXYtcHJvZmlsZSAuenUtdG9wLW5hdi11c2VyaW5mbycpOwogICAgaWYoYWNjaXRlbTEubGVuZ3RoPjApewogICAgICAgIHRib3hsZWZ0ID0gYWNjaXRlbTEub2Zmc2V0KCkubGVmdDsKICAgIH0KICAgIGlmKHRib3hsZWZ0PjApewogICAgICAgICQoJzxkaXY+JywgeyBpZDogJ2laaGlodV90Ym94JywgJ2NsYXNzJzogJ3RfZnJzaG93JyB9KS5hcHBlbmRUbygnYm9keS56aGknKS5oaWRlKCkKICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ3RfdHh0c2hvdyB0X3Rib3gnIH0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCfmhJ/osKLkvb/nlKgnKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8Yj4nKS50ZXh0KCdpWmhpaHUnKSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGJyIC8+JykpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCfmgqjlj6/pgJrov4foj5zljZXjgJBpWmhpaHXjgJHlr7nlip/og73ov5vooYzorr7nva4nKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YnIgLz4nKSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHM+JykKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpPicpKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApOwogICAgICAgICQoJyNpWmhpaHVfdGJveCcpLmNzcygnbGVmdCcsdGJveGxlZnQtMTAwKS5zaG93KCkubW91c2VlbnRlcihmdW5jdGlvbigpewogICAgICAgICAgICB1dGlscy5zZXRWYWx1ZSgnaXpoX2ZyJywnMCcpOwogICAgICAgICAgICAvL19NZW51KCk7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Cn0KICAgIApzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICBfRlJzaG93KCk7Cn0sMTAwMCk7CgoKICBjb25zb2xlLmxvZygnaVpoaWh1ICcrdmVyc2lvbisnIHN0YXJ0ZWQuJyk7CiAgLy9jb25zb2xlLmxvZyh3aW5kb3cuaVpoaWh1KTsKICAvL2NvbnNvbGUubG9nKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpOwovL30pOwo="},{"name":"AC-baidu ++favicon","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["http://www.baidu.com/*","https://www.baidu.com/*","http://www.sogou.com/*","https://www.sogou.com/*","/^https?://\\w+.bing.com/.*/","/^https?\\:\\/\\/encrypted.google.[^\\/]+/","/^https?\\:\\/\\/www.google.[^\\/]+/","https://*.zhidao.baidu.com/*","https://zhidao.baidu.com/*","*.zhihu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":["www.baidu.com","tieba.baidu.com","bbs.feng.com","news.yesky.com","www.ting30.com","sanwen8.cn","265g.com","tgbus.com","25pp.com","*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970031},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/14178-ac-baidu-%E7%BB%95%E8%BF%87%E7%99%BE%E5%BA%A6%E9%87%8D%E5%AE%9A%E5%90%91%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5/code/AC-Baidu%EF%BC%9A%E7%BB%95%E8%BF%87%E7%99%BE%E5%BA%A6%E9%87%8D%E5%AE%9A%E5%90%91%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5.user.js","uuid":"0154b68a-7b61-47fd-a1cc-d8a9e790a9fc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQUMtYmFpZHXvvJog5LyY5YyW55m+5bqm44CB5pCc54uX44CB6LC35q2M5pCc57Si57uT5p6c5LmL6YeN5a6a5ZCR5Y676ZmkK+WOu+W5v+WRiitmYXZpY29uCi8vIEBpY29uICAgICAgICAgICAgaHR0cHM6Ly9jb2RpbmcubmV0L3UvemIyMjcvcC96YkltZy9naXQvcmF3L21hc3Rlci9pbWcwL2ljb24uanBnCi8vIEBncmFudAkJICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBhdXRob3IgICAgICAgICAgQUMKLy8gQGNyZWF0ZSAgICAgICAgICAyMDE1LTExLTI1Ci8vIEBydW4tYXQgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHZlcnNpb24gICAgICAgICAxMi45Ci8vIEBjb25uZWN0ICAgICAgICAgKgovLyBAaW5jbHVkZSAgICAgICAgIGh0dHA6Ly93d3cuYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICBodHRwczovL3d3dy5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgIGh0dHA6Ly93d3cuc29nb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICBodHRwczovL3d3dy5zb2dvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgIC9eaHR0cHM/Oi8vXHcrLmJpbmcuY29tLy4qLwovLyBAaW5jbHVkZSAgICAgICAgIC9eaHR0cHM/XDpcL1wvZW5jcnlwdGVkLmdvb2dsZS5bXlwvXSsvCi8vIEBpbmNsdWRlICAgICAgICAgL15odHRwcz9cOlwvXC93d3cuZ29vZ2xlLlteXC9dKy8KLy8gQGluY2x1ZGUgICAgICAgICBodHRwczovLyouemhpZGFvLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgaHR0cHM6Ly96aGlkYW8uYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAqLnpoaWh1LmNvbS8qCi8vIEBob21lLXVybCAgICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1UVy9zY3JpcHRzLzE0MTc4Ci8vIEBob21lLXVybDIgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xhbmdyZW4xMzUzL0dNX3NjcmlwdAovLyBAbmFtZXNwYWNlICAgICAgIDEzNTM0NjQ1MzlAcXEuY29tCi8vIEBjb3B5cmlnaHQgICAgICAgMjAxNywgQUMKLy8gQGRlc2NyaXB0aW9uICAgICAxLue5numBjueZvuW6puOAgeaQnOeLl+aQnOe0oue1kOaenOS4reeahOiHquW3seeahOi3s+i9iemPiOaOpe+8jOebtOaOpeioquWVj+WOn+Wni+e2sumggS3lj43mraPpg73og73nnIvmh4IgMi7ljrvpmaTnmb7luqbnmoTlpJrkvZnlub/lkYogMy7mt7vliqBGYXZpY29u5pi+56S6IDQu6aG16Z2iQ1NTIDUu5re75Yqg6K6h5pWwIDYu5byA5YWz6YCJ5oup5Lul5LiK5Yqf6IO9Ci8vIEBsYXN0bW9kaWZpZWQgICAgMjAxNy0wOS0xOAovLyBAZmVlZGJhY2stdXJsICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtVFcvc2NyaXB0cy8xNDE3OAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTgtVjEyLjkg5pu05paw5Y6f5Zug77yaMS7li7/lv5jlm73ogLs5MTjvvJsyLuabtOaWsOeZvuW6puWBtuWwlOmHjeWumuWQkeayoeaIkOWKn+eahOmXrumimO+8mzMu5L+u5aSN6aG16Z2i55qE5bCP6Zeu6aKY77ybNC7mlrDlop7mloflrZfkuIvliJLnur/lvIDlhbMKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjE1LVYxMi44IOe0p+aApeS/ruWkjeiwt+atjOS4iumhtemdouWNoemhv+eahOmXrumimO+8jOaOkuafpeW+l+efpeS4uueZvuW6puinhOWImeeahOaJqeWxleWHuuS6humXrumimO+8jOmdnuW4uOaEn+iwouS8l+Wkmuaci+WPi+eahOaUr+aMge+8jOayoeacieS9oOS7rOeahOWPjemmiOWwseayoeaciei/meS4quiEmuacrOOAguS/ruWkjeW5tuenu+mZpOS6hueZvuW6puWumOaWuemHh+eUqOeahOaWsOaWueW8j+W5v+WRiuaooeW8j++8jOiyjOS8vOWPquWcqGNocm9tZeS4iuWHuueOsAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTMtVjEyLjcgMS7kv67lpI1O5bm05YmN5pu05paw5a+86Ie055qE6YOo5YiG572R5Z2A6YeN5a6a5ZCR5peg5pWI77yM57un57ut5L2/55SoR0VU5pa55rOV77yM5Zug5Li65aW95Lqb572R56uZ5LiN5pSv5oyBSEVBROaWueazle+8jOiOt+WPluaIkOWKn+S5i+WQjuWwseaWreW8gO+8jOWwvemHj+WHj+WwkeS6hue9kee7nOW8gOaUrzsgMi7kv67lpI3mkJzni5fnmoTpg6jliIbmkJzntKLlvILluLg7IDMu5L+u5aSN55m+5bqm5ZyoY2hyb21lNjHkuIrnmoTpk77mjqXlvILluLjpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjEzLVYxMi42IOW8gOWtpuS5i+WQjueahOesrOS6jOS4queJiOacrO+8jOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOeZvuW6pummlumhtemUmeS5se+8jOS/ruWkjWZpcmVmb3jkuIrnmoTop6blj5HvvIzkv67lpI1TdXBlclByZWxvYWRlcueahOe/u+mhteWxleekugovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTItVjEyLjUg5byA5a2m5LmL5ZCO55qE56ys5LiA5Liq54mI5pys77yM5L+u5aSN5Zyo55m+5bqm5LiK5YG25bCU5LiN6Kem5Y+R55qE6Zeu6aKY44CQ5LuO6aaW6aG15pCc57Si55qE5pe25YCZ6Kem5Y+R44CR77yM5YW25qyh5Zyo5YWE5byfWFhYKOaIkeS5n+W/mOS6huWTquS4qlBfUCnnmoTluK7liqnkuIvvvIzkv67lpI3kuoblgbblsJTkvJrlhajlsY/nibnmrormjqjlub/mqKHlvI/nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA2LVYxMi40IOS/ruWkjeS4iuS4queJiOacrOabtOaWsOWvvOiHtOeahOeZvuW6puefpemBk+WGjeasoeW8guW4uOmXrumimDvmm7TmlrDnn6XkuY7kuIrnmoTph43lrprlkJHpl67popgt6Ieq5bex55qE6ISa5pysCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOS4wNi1WMTIuMyDkv67lpI3lj4zliJfnmoTmqKHlvI/nmoTmmL7npLrpl67popjvvIzlpoLmnpzmnInpl67popjluIzmnJvlj43ppojkuIDkuIvvvIzpobrkvr/liIfmjaJjc3PmnaXmupAKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA0LVYxMi4yIOeJueaEj+S/ruWkjeWcqFZpb2xlbnRNb25rZXnkuIrnmoTorr7nva7ml6DmlYjnmoTpl67popjku6Xlj4rlnKgzNjDmtY/op4jlmajkuIrnmoTorr7nva7kuI3mmL7npLrpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA0LVYxMi4xIOeZvuW6pumhtemdouebtOaOpea3u+WKoOiuvue9ruWFpeWPo++8mzM2MOa1j+iniOWZqOiuvue9ruWPr+iDveWcqOW6lemDqOmhtemdou+8m+aUr+aMgeWNleWIl+WSjOWPjOWIl+aooeW8j++8jOeVjOmdouabtOe+juingmZyb23mta7nlJ9A5pyq5q2H77yb5Y+v6IO95piv5pyA6L+R5LiA5q615pe26Ze055qE5pyA5ZCO54mI5pys5LqG77yM6KaB5byA5a2m5LqGfn4KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjAyLVYxMS4xMCDmt7vliqDkuKTkuKrpgInpobnvvIzlj6/ku6XpgInmi6nmgKfnp7vpmaTpg6jliIborr7nva4KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjAxLVYxMS45IOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOeZvuW6puWOu+W5v+WRiuS4jeeBteeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMzAtVjExLjgg5paw5aKe77yaMS5HTeiuvue9ruagj+ebruS4reWKoOWFpeiuvue9riAyLmJhaWR1LeS9v+eUqEhFQUTmlrnlvI/ojrflj5bvvIzlh4/lsJHmlbDmja7kvKDovpPvvIzmkJzni5fnibnmrorvvIznu6fnu61HRVTmlrnlvI8KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjI5LVYxMS43IOaWueS+v+aci+WPi+S7rC3np7vpmaTnn6XkuY7ph43lrprlkJEKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjA3LVYxMS42IOiwg+aVtO+8muenu+mZpOWwj+e7v+eCue+8jOaNouS4uueCueWHu0Zhdmljb27miJbogIXmmK/orqHmlbDlmajlvLnlh7rnqpflj6PvvIzmm7TmjaLkuLrliqDnvqTpk77mjqUKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjA2LVYxMS41IOS/ruWkje+8jOS/neWtmOW8guW4uO+8m+mihOacn+S5i+WQjuS8mua3u+WKoOeZvuW6puaQnOe0oumhtemdoueahOWkp+iwg+aVtAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMDUtVjExLjQg5paw5aKe77ya5Y+N6aaI5ZKM5bu66K6u5Zyw5Z2A5aKe5YqgCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOC4wNC1WMTEuMyDkv67lpI3vvJrnlLHkuo7oi7Hor63kuI3lpb3lr7zoh7TnmoTmi7zlhpnplJnor6/vvIzmhJ/osKJzaGrlhYTlvJ/mjIflh7oKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjAzLVYxMS4yIOaWsOWinu+8muiwt+atjOmTvuaOpeaWsOagh+etvuaJk+W8gDsg56e76Zmk5pCc57Si57uT5p6c6ZO+5o6l55qE5LiL5YiS57q/Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNy4yMi1WMTEuMSDmlrDlop7kuoblvIDlhbPmqKHlvI/vvIzlj6/ku6XlvIDlkK/miJbogIXlhbPpl63mn5Dkupvoh6rlt7HkuI3llpzmrKLnmoTlip/og73vvIzlvIDlhbPlnKjlj7PkuIrop5LvvIzlkoxTdXBlclByZWxvYWTlhbHnlKgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjI1LVYxMC4xIOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOeZvuW6puWOu+W5v+WRiueahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjUtVjEwLjAg5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE55m+5bqm55+l6YGT5YaN5qyh5Ye6546w6ICB6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNi4yNC1WOS45IOabtOaWsOS6hue/u+mhteeahOmXrumimO+8jOe7j+i/h+WkmuasoeeahOWwneivleW6lOivpeayoeacieWkquWkp+mXrumimOS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjQtVjkuOCDmm7TmlrDkuoZiaW5n5LiK55qE5Zu+54mHZmF2aWNvbuWcsOWdgDvlubbkuJTlsL3ph4/lh4/lsJHkuoZNT+inpuWPkeasoeaVsO+8jOmBv+WFjemhtemdouWNoemhvzvkv67lpI3mkJzni5fnmoTph43lrprlkJHpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjIzLVY5Ljcg5LiK5Lyg6ZSZ5LqGfumHjeaWsOadpe+8jOmhuuW4puWkhOeQhuS6huiwt+atjGZhdmljb27pl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjIzLVY5LjYg5L+u5aSN5LqG6LC35q2M6YeN5a6a5ZCR55qE6Zeu6aKYfn7miJHnmoTplIUKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjExLVY5LjUg5LiN5YaN5L2/55SoRE9N5pa55byP5p2l55uR5ZCs6aG16Z2i5LqG77yM5L2/55SodGltZXIrTU/mnaXlpITnkIbvvIzmnoHlpKflh4/lsJHkuoZjcHXljaDnlKjml7bpl7Tlkoznnqzml7bnvZHpgJ/ljaDnlKgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjI2LVY5LjQg5oGi5aSNZmF2aWNvbuaooeW8j++8jOeOsOWcqOi/meS4quiEmuacrOWfuuacrOS4iuWFqOS6hu+8jOaciemcgOimgeS7peWQjuWGjeivtAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTUtVjkuMyDmmoLml7bnp7vpmaTnmb7luqblj7PovrnkvqfmoI/nmoTlub/lkYrnp7vpmaTmqKHlvI/vvIzlh4blpIfkuIvmrKHkvJjljJblpb3kuoblho3nu6fnu60KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY5LjIg5pqC5pe256e76Zmk6LC35q2M55qE5a6J5YWo5pCc57Si5qih5byP77yM5Zug5Li65b6I5aSN5p2C55qE5Y6f5ZugCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4xMi1WOS4xIOaaguaXtuenu+mZpEZhdmljb27nmoTmmL7npLrvvIzlm6DkuLrov5nmoLflsLHmnYLkuobvvIzmnInpnIDopoHnmoTkurroh6rlt7Hljrvoo4Xov5nkuKrohJrmnKzlkKfvvIzkv53nlZnnmb7luqbljrvlub/lkYoKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY5LjAg6ZuG5ZCI5LqG5Y676YeN5a6a5ZCRK+WOu+W5v+WRiitGYXZpY29u5pi+56S6Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4xMi1WOC43IOmbhuWQiOS6huWOu+W5v+WRiueahOiEmuacrO+8jOS7peWJjeeahOmCo+S4quWOu+W5v+WRiueahOiEmuacrOWwseS4jeeUqOS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTItVjguNiDkv67lpI3osLfmrYzlronlhajmkJzntKLnmoRCVUcgVjIKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY4LjQg5paw5aKe77ya6buY6K6k5bGP6JS96LC35q2M55qE5a6J5YWo5pCc57Si5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4wNS1WOC4zIOS/ruWkjWluY2x1ZGXojIPlm7TlpKrlsI/lr7zoh7TnmoTnmb7luqbnn6XpgZPnmoTlsY/olL3pl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjA0LVY4LjIg57uI5LqO5L+u5aSN5LqG55m+5bqm55+l6YGT5Zu+54mH5pu/5o2i5LqG5paH5a2X55qE6L+Z5Liq5aSnQlVHOyDpobrkvr/lpITnkIbkuoZzdXBlcmFwaS56aGlkYW8uYmFpZHUuY29tOyDmlrDlop7osLfmrYzmkJzntKLnu5Pmnpzph43lrprlkJHljrvpmaQKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjA0LVY4LjEg57uI5LqO5L+u5aSN5LqG55m+5bqm55+l6YGT5Zu+54mH5pu/5o2i5LqG5paH5a2X55qE6L+Z5Liq5aSnQlVH77yM6aG65L6/5aSE55CG5LqGc3VwZXJhcGkuemhpZGFvLmJhaWR1LmNvbQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMDQtVjguMCDnu4jkuo7kv67lpI3kuobnmb7luqbnn6XpgZPlm77niYfmm7/mjaLkuobmloflrZfnmoTov5nkuKrlpKdCVUfvvIzlvoXmtYvor5UKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjI4LVY3LjYg5L+u5aSN5ZyoVmlvbGVudE1vbmtleeS4iueahOS4jeaUr+aMgeeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDMuMjgtVjcuNSDlsJ3or5Xkv67lpI1jaHJvbWXkuIrnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjIxLVY3LjQg5bCd6K+V5aSE55CGRWRnZeS4iuS4jeaUr+aMgeeahOmXrumimO+8jOe7k+aenOWPkeeOsOaYr0VkZ2XmnKzouqvnmoRUYW1wZXJNb25rZXnmlK/mjIHmnInpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjE5LVY3LjMg5L+u5aSN5omT5byA55m+5bqm5LmL5ZCO5YaN5qyh54K55Ye74oCc55m+5bqm5LiA5LiL4oCd5a+86Ie055qE5peg5rOV5pu05paw6YeN5a6a5ZCR6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wMy4xOS1WNy4yIOacquefpeWOn+WboGNocm9tZeeahE11dGF0aW9uT2JzZXJ2ZXLml6Dms5Xkvb/nlKjkuobvvIznu6fnu63lm57lvZLku6XliY3nmoRET01Ob2RlSW5zZXJ0ZWQKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAyLjE3LVY3LjAg5L+u5aSN5pCc54uX55qE5pCc57Si57uT5p6c6YeN5a6a5ZCR6Zeu6aKYK+aUueS4quWQjeWtlwovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDIuMTctVjYuOSDkv67lpI3mkJzni5fnmoTmkJzntKLnu5Pmnpzph43lrprlkJHpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE2LjEyLjEwLVY2LjggKioqCi8vIEBub3RlICAgICAgICAgICAgMjAxNi4xMC4yNy1WNi43IOS/ruWkjeS6huS7peWJjeeahOmHjeWkjeivt+axgu+8jOeOsOWcqOeahOivt+axguaVsOW6lOivpeWwj+S6huW+iOWkmu+8jOe9kee7nOS5n+WwseS4jeWNoeS6hu+8jOaEn+inieiQjOiQjOWTkgovLyBAbm90ZSAgICAgICAgICAgIDIwMTYuMDQuMjQtVjYuNiDmgaLlpI3ku6XliY3nmoTniYjmnKzvvIzlm6DkuLrlhbzlrrnmgKfpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE1LjEyLjAxLVY1LjAg5Yqg5YWl5pCc54uX55qE5pSv5oyB77yM5L2G5piv5pSv5oyB5LiN5piv5b6I5aW9Ci8vIEBub3RlICAgICAgICAgICAgMjAxNS4xMS4yNS1WMi4wIOS8mOWMlu+8jOW3sue7j+aYr+ecn+WunuWcsOWdgOeahOS4jeWGjeWwneivleiOt+WPlgovLyBAbm90ZSAgICAgICAgICAgIDIwMTUuMTEuMjUtVjEuMCDlrozmiJDljrvmjonnmb7luqbph43lrprlkJHnmoTlip/og70KLy8gQGdyYW50ICAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAcmVxdWlyZSAgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2pxdWVyeS8zLjIuMS9qcXVlcnkubWluLmpzCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8g5Yid5qyh77ya6L+Y5piv6YeH55So5LqGc2V0SW50ZXJ2YWzmnaXlpITnkIbvvIzmhJ/op4nov5nmoLfnmoTor53pgJ/luqblupTor6Xmr5REb23lv6vvvIzkuZ/mr5RNT+mAgueUqO+8jOWboOS4uk1P6ZyA6KaB5Zyo5pyA5ZCO5omN6IO96LCD55So77yM5a6e55So5oCn6L+Y5LiN5aaCdGltZXIKLy8g5LmL5ZCO77ya6L+Y5piv6YeH55SoTU/nmoTmlrnlvI/mnaXlpITnkIYKKGZ1bmN0aW9uICgpIHsKICAgIHZhciBmYXRoZXJOYW1lID0gbmV3IEFycmF5KAogICAgICAgICJjLWNvbnRhaW5lciIsIC8vYmFpZHUxCiAgICAgICAgInJjIiwgLy9nb29nbGUKICAgICAgICAiYl9hbGdvIiwgLy9iaW5nMQogICAgICAgICJiX2FucyIsIC8vYmluZzIKICAgICAgICAidnJ3cmFwIiwgLy9zb2dvdTEKICAgICAgICAicmIiLy9zb2dvdTIKICAgICk7Ly8gRmF2aWNvbuaUvuWcqHh45L2N572uCiAgICB2YXIgaXNSZWRpcmVjdEVuYWJsZSA9IHRydWU7CiAgICB2YXIgaXNBZHNFbmFibGUgPSB0cnVlOwogICAgdmFyIEFkc1N0eWxlTW9kZSA9IDE7Ly8gMC3kuI3luKZjc3PvvJsxLeWNleWIl+mdoOW3pu+8mzIt5Y2V5YiX5bGF5Lit77ybMy3lj4zliJflsYXkuK0KICAgIHZhciBSZWRpcmN0TW9kID0gMDsgLy8gMC3mma7pgJrmqKHlvI8t5LiA57qn55uu5b2V5Y676YeN5a6a5ZCR77ybMS3lrozmlbTmqKHlvI8t5YWo6YOo5Y676YeN5a6a5ZCRKOWPr+iDveS8muWNoee9kSkKICAgIHZhciBpc0Zhdmljb25FbmFibGUgPSB0cnVlOwogICAgdmFyIGlzQ291bnRlckVuYWJsZSA9IGZhbHNlOwogICAgdmFyIGlzQUxpbmVFbmFibGUgPSBmYWxzZTsKICAgIExvYWRTZXR0aW5nKCk7IC8vIOivu+WPluS4quS6uuiuvue9ruS/oeaBrwogICAgdmFyIFN0eXBlX05vcm1hbDsgLy8g5Y676YeN5a6a5ZCR55qE6YCJ5oupCiAgICB2YXIgU3R5cGVfQWxsOyAvLyDljrvph43lrprlkJHnmoTpgInmi6kKICAgIHZhciBGdHlwZTsgLy8gZmF2aWNvbueahOmAieaLqQogICAgdmFyIEN0eXBlOyAvLyBDb3VudGVy55qE6YCJ5oupCiAgICB2YXIgU2l0ZVR5cGVJRDsgLy8g5qCH6K6w5b2T5YmN5piv5ZOq5Liq56uZ54K5W+eZvuW6pj0xO+aQnOeLlz0yO+iwt+atjD0zO+W/heW6lD00O+efpeS5jj01O+WFtuS7lj02XQogICAgdmFyIFNpdGVUeXBlPXsKICAgICAgICBCQUlEVToxLAogICAgICAgIFNPR09VOjIsCiAgICAgICAgR09PR0xFOjMsCiAgICAgICAgQklORzo0LAogICAgICAgIFpISUhVOjUsCiAgICAgICAgT1RIRVJTOjYsCiAgICB9OwogICAgdmFyIEFDTU8gPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjsKICAgIHZhciBvcHRpb24gPSB7J2NoaWxkTGlzdCc6IHRydWUsICdzdWJ0cmVlJzogdHJ1ZX07CiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQUNNTyhmdW5jdGlvbiAocmVjb3JkcykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIFNob3dTZXR0aW5nKCk7CiAgICAgICAgICAgIEFDSGFuZGxlKCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIH0KICAgIH0pOwogICAgdHJ5ewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIOWmguaenOayoeaciVN1cGVyUHJlbG9hZOeahOivnemCo+S5iOWwseS8muiHquWKqOiwg+eUqOi/meS4qgogICAgICAgICAgICAgICAgU2hvd1NldHRpbmcoKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSwgZmFsc2UpOwogICAgfWNhdGNoIChlKXt9CiAgICBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJ3d3cuYmFpZHUuY29tIikgPiAtMSkgewogICAgICAgIFNpdGVUeXBlSUQgPSBTaXRlVHlwZS5CQUlEVTsKICAgICAgICBTdHlwZV9Ob3JtYWwgPSAiaDMudD5hIjsKICAgICAgICBTdHlwZV9BbGwgPSAiI2NvbnRlbnRfbGVmdCAuYy1jb250YWluZXIgYVtocmVmKj0naHR0cDovL3d3dy5iYWlkdS5jb20vbGluayddW2NsYXNzIT0nYy1zaG93dXJsJ11bY2xhc3MhPSdjLWltZzYnXTp2aXNpYmxlIjsvL+mdnuWbvueJh++8m+mdnuW6lemDqOWwj+mTvuaOpe+8m+WPr+ingQogICAgICAgIEZ0eXBlID0gIi5yZXN1bHQtb3AsIC5jLXNob3d1cmwiOwogICAgICAgIEN0eXBlID0gIiNjb250ZW50X2xlZnQ+ZGl2W3NyY2lkXSAqW2NsYXNzfj10XSxbY2xhc3N+PW9wX2Jlc3RfYW5zd2VyX3F1ZXN0aW9uXSI7CiAgICAgICAgc3RhcnRTZWxlY3QoIiN3cmFwcGVyIiwgIiN3cmFwcGVyIiwgb3B0aW9uKTsKICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJzb2dvdSIpID4gLTEpIHsKICAgICAgICBTaXRlVHlwZUlEID0gU2l0ZVR5cGUuU09HT1U7CiAgICAgICAgU3R5cGVfTm9ybWFsID0gImgzLnB0PmEsIGgzLnZyVGl0bGU+YSI7CiAgICAgICAgLy8gU3R5cGVfQWxsID0gIi5yZXN1bHRzIGFbaWQqPSdzb2dvdV92cl8nXTp2aXNpYmxlIjsKICAgICAgICBTdHlwZV9BbGwgPSAiaDMucHQ+YSwgaDMudnJUaXRsZT5hIjsKICAgICAgICBGdHlwZSA9ICJjaXRlW2lkKj0nY2FjaGVyZXN1bHRfaW5mb18nXSI7CiAgICAgICAgQ3R5cGUgPSAiLnJlc3VsdHM+ZGl2IjsKICAgICAgICBzdGFydFNlbGVjdCgiYm9keSIsICJib2R5Iiwgb3B0aW9uKTsKICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJnb29nbGUiKSA+IC0xKSB7CiAgICAgICAgU2l0ZVR5cGVJRCA9IFNpdGVUeXBlLkdPT0dMRTsKICAgICAgICBGdHlwZSA9ICIuX1JtIjsKICAgICAgICBDdHlwZSA9ICIuc3JnPmRpdltjbGFzc349Z10gKltjbGFzc349cl0sLl95RT5kaXZbY2xhc3N+PV9ra10iOwogICAgICAgIHN0YXJ0U2VsZWN0KCJib2R5IiwgImJvZHkiLCBvcHRpb24pOwogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoImJpbmciKSA+IC0xKSB7CiAgICAgICAgU2l0ZVR5cGVJRCA9IFNpdGVUeXBlLkJJTkc7CiAgICAgICAgRnR5cGUgPSAiLmJfYXR0cmlidXRpb24+Y2l0ZSI7CiAgICAgICAgQ3R5cGUgPSAiI2JfcmVzdWx0cz5saVtjbGFzc349Yl9hbnNdLCNiX3Jlc3VsdHM+bGlbY2xhc3N+PWJfYWxnb10sI2JfcmVzdWx0cz5saVtjbGFzc349Yl9hbGdvXSI7CiAgICAgICAgc3RhcnRTZWxlY3QoImJvZHkiLCAiYm9keSIsIG9wdGlvbik7CiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiemhpaHUuY29tIikgPiAtMSkgewogICAgICAgIFNpdGVUeXBlSUQgPSBTaXRlVHlwZS5aSElIVTsKICAgICAgICBzdGFydFNlbGVjdCgiLkNhcmQgLkxpc3QiLCAiLkNhcmQgLkxpc3QiLCBvcHRpb24pOwogICAgfSBlbHNlIHsKICAgICAgICBTaXRlVHlwZUlEID0gU2l0ZVR5cGUuT1RIRVJTOwogICAgICAgIEFDX2FkZFN0eWxlKCIud29yZC1yZXBsYWNle2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9Iik7CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCdBQy3ph43lrprlkJHohJrmnKzorr7nva4nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNvbnRlbnQiKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIH0pOwogICAgQUNfYWRkU3R5bGUoCiAgICAgICAgIi5vcHItcmVjb21tZW5kcy1tZXJnZS1pbWd0ZXh0e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7fSIgKyAvLyDnp7vpmaTnmb7luqbmtY/op4jlmajmjqjlub8KICAgICAgICAiLnJlc190b3BfYmFubmVye2Rpc3BsYXk6bm9uZX0iIC8vIOenu+mZpOWPr+iDveeahOeZvuW6pkhUVFBT5Yqr5oyB5pi+56S66Zeu6aKYCiAgICApOwogICAgaWYoIWlzQUxpbmVFbmFibGUpewogICAgICAgIEFDX2FkZFN0eWxlKCJhe3RleHQtZGVjb3JhdGlvbjpub25lfSIpOy8vIOenu+mZpOi/meS6m+S4quS4i+WIkue6vwogICAgfQogICAgZnVuY3Rpb24gQUNfYWRkU3R5bGUoY3NzLCBjbGFzc05hbWUpewogICAgICAgIHZhciB0b3V0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYoZG9jdW1lbnQuYm9keSAhPSBudWxsKXsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodG91dCk7CiAgICAgICAgICAgICAgICB0cnl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLiIrY2xhc3NOYW1lKS5yZW1vdmUoKTt9Y2F0Y2ggKGUpe307CiAgICAgICAgICAgICAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICAgICAgICAgICAgICBpZihjbGFzc05hbWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICBjc3NOb2RlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgICAgICAgICAgICAgIGNzc05vZGUuaW5uZXJIVE1MID0gY3NzOwogICAgICAgICAgICAgICAgdHJ5e2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7fWNhdGNoIChlKXtjb25zb2xlLmxvZyhlLm1lc3NhZ2UpO30KICAgICAgICAgICAgfQogICAgICAgIH0sIDIwMCk7CiAgICB9CiAgICBmdW5jdGlvbiBzdGFydFNlbGVjdChjaGVja05vZGUsIHNlbGVjdG9yLCBvcHRpb24pIHsKICAgICAgICB2YXIgdHQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNoZWNrTm9kZSkpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodHQpOwogICAgICAgICAgICAgICAgLyoqKuacgOWQjuW/hemhu+imgeiuvue9ruWlvU1P57un57ut55uR5ZCs6aG16Z2i5pWw5o2uLS3oh6rliqjliqDovb3kuIvkuIDpobXnmoTpl67popgqKiovCiAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSwgb3B0aW9uKTsKICAgICAgICAgICAgICAgIH1jYXRjaCAoZSl7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvcHRpb24pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgMjAwKTsKICAgIH0KICAgIGZ1bmN0aW9uIEFDSGFuZGxlKCkgewogICAgICAgIEluc2VydFNldHRpbmdNZW51KCk7CiAgICAgICAgaWYgKGlzUmVkaXJlY3RFbmFibGUpIHsKICAgICAgICAgICAgaWYgKFJlZGlyY3RNb2Q9PTApeyAvL+enu+mZpOS4gOe6p+ebruW9lemHjeWumuWQkQogICAgICAgICAgICAgICAgaWYoU3R5cGVfTm9ybWFsICE9IG51bGwgJiYgU3R5cGVfTm9ybWFsICE9ICIiKQogICAgICAgICAgICAgICAgICAgIHJlc2V0VVJMTm9ybWFsKCQoU3R5cGVfTm9ybWFsKSk7IC8vIOeZvuW6puaQnOeLl+WOu+mHjeWumuWQkS3mma7pgJrmqKHlvI/jgJDms6jmhI/kuI3og73kuLpkb2N1bWVudC5xdWVyeS4u44CRCiAgICAgICAgICAgIH1lbHNleyAvLyDnp7vpmaTlhajpg6jph43lrprlkJEKICAgICAgICAgICAgICAgIGlmKFN0eXBlX0FsbCAhPSBudWxsICYmIFN0eXBlX0FsbCAhPSAiIikKICAgICAgICAgICAgICAgICAgICByZXNldFVSTE5vcm1hbCgkKFN0eXBlX0FsbCkpOyAvLyDnmb7luqbmkJzni5fljrvph43lrprlkJEt5a6M5pW05qih5byP44CQ5rOo5oSP5LiN6IO95Li6ZG9jdW1lbnQucXVlcnkuLuOAkQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKFNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuR09PR0xFKQogICAgICAgICAgICAgICAgcmVtb3ZlT25Nb3VzZURvd25GdW5jKCk7IC8vIOenu+mZpG9uTW91c2VEb3du5LqL5Lu277yM6LC35q2M5Y676YeN5a6a5ZCRCiAgICAgICAgICAgIGlmKFNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuWkhJSFUpCiAgICAgICAgICAgICAgICByZW1vdmVMaW5rVGFyZ2V0KCk7IC8vIOenu+mZpOefpeS5jueahOmHjeWumuWQkemXrumimAogICAgICAgICAgICB0cnl7JCgiLnJlc190b3BfYmFubmVyIikucmVtb3ZlKCk7fWNhdGNoIChlKXt9IC8vIOenu+mZpOeZvuW6puWPr+iDveaYvuekuueahOWKq+aMgQogICAgICAgICAgICB0cnl7JCgiYm9keT4ucmVzdWx0LW9wIikucmVtb3ZlKCk7fWNhdGNoIChlKXt9IC8vIOenu+mZpOWPr+iDveWHuueOsOeahOiOq+WQjeaJvuS4jeWIsOS9jee9rueahOWFqOWxj+aOqOiNkAogICAgICAgICAgICB0cnl7JCgiLmMtY29udGFpbmVyIC9kZWVwLyAuYy1jb250YWluZXIiKS5yZW1vdmUoKTt9Y2F0Y2ggKGUpe30gLy8g56e76Zmk55m+5bqm55qE5oG25b+DU2hhZG93IERPTe+8iFNoYWRvd24gUm9vdO+8iQogICAgICAgIH0KICAgICAgICBpZiAoaXNGYXZpY29uRW5hYmxlKSB7CiAgICAgICAgICAgIGFkZEZhdmljb24oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChGdHlwZSkpOyAvLyDmt7vliqBGYXZpY29u5pi+56S6CiAgICAgICAgfQogICAgICAgIGlmIChpc0NvdW50ZXJFbmFibGUpIHsKICAgICAgICAgICAgYWRkQ291bnRlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEN0eXBlKSk7CiAgICAgICAgfQogICAgICAgIGlmIChpc0Fkc0VuYWJsZSkgewogICAgICAgICAgICBGU0JhaWR1KCk7CiAgICAgICAgICAgIHJlbW92ZUFEX2JhaWR1X3NvZ291KCk7IC8vIOenu+mZpOeZvuW6puW5v+WRigogICAgICAgIH1lbHNlewogICAgICAgICAgICAkKCJpbnB1dFtuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlJ10iKS5hdHRyKCJkaXNhYmxlZCIsICJkaXNhYmxlZCIpOwogICAgICAgIH0KICAgIH0KICAgIGlmIChpc0Fkc0VuYWJsZSl7CiAgICAgICAgRlNCYWlkdSgpOyAvLyDmt7vliqDorr7nva7pobkt5Y2V5Y+M5YiX5pi+56S6CiAgICB9CiAgICBmdW5jdGlvbiBBQ3RvZ2dsZVNldHRpbmdEaXNwbGF5KCkgewogICAgICAgIC8vIOaYvuekuu+8n+makOiXj+iuvue9rueVjOmdogogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNvbnRlbnQiKS5zdHlsZS5kaXNwbGF5ID09ICdibG9jaycpCiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGVudCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250ZW50Iikuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfSwgMTAwKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBmdW5jdGlvbiBTaG93U2V0dGluZygpIHsKICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjnmoTor53vvIzpgqPkuYjoh6rlt7HliJvlu7rkuIDkuKotY29weSBmcm9tIHN1cGVyUHJlbG9hZAogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGFpbmVyIikgPT0gbnVsbCkgewogICAgICAgICAgICBBQ19hZGRTdHlsZSgnI3NwLWFjLWNvbnRhaW5lcnt6LWluZGV4Ojk5OTk5OSFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO30jc3AtYWMtY29udGFpbmVyICp7Zm9udC1zaXplOjEzcHghaW1wb3J0YW50O2NvbG9yOmJsYWNrIWltcG9ydGFudDtmbG9hdDpub25lIWltcG9ydGFudDt9I3NwLWFjLW1haW4taGVhZHtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7fSNzcC1hYy1zcGFuLWluZm97cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjFweCFpbXBvcnRhbnQ7dG9wOjAhaW1wb3J0YW50O2ZvbnQtc2l6ZToxMHB4IWltcG9ydGFudDtsaW5lLWhlaWdodDoxMHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50O2ZvbnQtc3R5bGU6aXRhbGljIWltcG9ydGFudDtjb2xvcjojNWE1YTVhIWltcG9ydGFudDt0ZXh0LXNoYWRvdzp3aGl0ZSAwcHggMXB4IDFweCFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgaW5wdXR7dmVydGljYWwtYWxpZ246bWlkZGxlIWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7b3V0bGluZTpub25lIWltcG9ydGFudDtoZWlnaHQ6YXV0byAhaW1wb3J0YW50O3BhZGRpbmc6MHB4ICFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbTowcHggIWltcG9ydGFudDttYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDt9I3NwLWFjLWNvbnRhaW5lciBpbnB1dFt0eXBlPSJudW1iZXIiXXt3aWR0aDo1MHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIGlucHV0W3R5cGU9ImNoZWNrYm94Il17Ym9yZGVyOjFweCBzb2xpZCAjQjRCNEI0IWltcG9ydGFudDtwYWRkaW5nOjFweCFpbXBvcnRhbnQ7bWFyZ2luOjNweCFpbXBvcnRhbnQ7d2lkdGg6MTNweCFpbXBvcnRhbnQ7aGVpZ2h0OjEzcHghaW1wb3J0YW50O2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O3Zpc2liaWxpdHk6dmlzaWJsZSAhaW1wb3J0YW50O3Bvc2l0aW9uOnN0YXRpYyAhaW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIGlucHV0W3R5cGU9ImJ1dHRvbiJde2JvcmRlcjoxcHggc29saWQgI2NjYyFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7d2lkdGg6YXV0byFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIGxpe2xpc3Qtc3R5bGU6bm9uZSFpbXBvcnRhbnQ7bWFyZ2luOjNweCAwIWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7ZmxvYXQ6bm9uZSFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgZmllbGRzZXR7Ym9yZGVyOjJweCBncm9vdmUgI2NjYyFpbXBvcnRhbnQ7LW1vei1ib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O3BhZGRpbmc6NHB4IDlweCA2cHggOXB4IWltcG9ydGFudDttYXJnaW46MnB4IWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt3aWR0aDphdXRvIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgbGVnZW5ke2xpbmUtaGVpZ2h0OjIwcHggIWltcG9ydGFudDttYXJnaW4tYm90dG9tOjBweCAhaW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIGZpZWxkc2V0PnVse3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIHVsI3NwLWFjLWFfdXNlaWZyYW1lLWV4dGVuZHtwYWRkaW5nLWxlZnQ6NDBweCFpbXBvcnRhbnQ7fSNzcC1hYy1yZWN0e3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDtmbG9hdDpyaWdodCFpbXBvcnRhbnQ7aGVpZ2h0OjEwcHghaW1wb3J0YW50O3dpZHRoOjEwcHghaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50Oy1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkIHdoaXRlIWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCA1cHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMyksMCAwIDNweCByZ2JhKDAsMCwwLDAuOCkhaW1wb3J0YW50Oy1tb3otYm94LXNoYWRvdzppbnNldCAwIDVweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwIDAgM3B4IHJnYmEoMCwwLDAsMC44KSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzppbnNldCAwIDVweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwIDAgM3B4IHJnYmEoMCwwLDAsMC44KSFpbXBvcnRhbnQ7b3BhY2l0eTowLjghaW1wb3J0YW50O30jc3AtYWMtZG90LCNzcC1hYy1jdXItbW9kZXtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7ei1pbmRleDo5OTk5IWltcG9ydGFudDt3aWR0aDo1cHghaW1wb3J0YW50O2hlaWdodDo1cHghaW1wb3J0YW50O3BhZGRpbmc6MCFpbXBvcnRhbnQ7LW1vei1ib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O2JvcmRlcjoxcHggc29saWQgd2hpdGUhaW1wb3J0YW50O29wYWNpdHk6MSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgLTJweCAxcHggcmdiYSgwLDAsMCwwLjMpLGluc2V0IDAgMnB4IDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMyksMHB4IDFweCAycHggcmdiYSgwLDAsMCwwLjkpIWltcG9ydGFudDstbW96LWJveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuOSkhaW1wb3J0YW50O2JveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuOSkhaW1wb3J0YW50O30jc3AtYWMtZG90e3JpZ2h0Oi0zcHghaW1wb3J0YW50O3RvcDotM3B4IWltcG9ydGFudDt9I3NwLWFjLWN1ci1tb2Rle2xlZnQ6LTNweCFpbXBvcnRhbnQ7dG9wOi0zcHghaW1wb3J0YW50O3dpZHRoOjZweCFpbXBvcnRhbnQ7aGVpZ2h0OjZweCFpbXBvcnRhbnQ7fSNzcC1hYy1jb250ZW50e3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWFyZ2luOjVweCA1cHggMCAwIWltcG9ydGFudDstbW96LWJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyOjFweCBzb2xpZCAjQTBBMEEwIWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6LTJweCAycHggNXB4IHJnYmEoMCwwLDAsMC4zKSFpbXBvcnRhbnQ7LW1vei1ib3gtc2hhZG93Oi0ycHggMnB4IDVweCByZ2JhKDAsMCwwLDAuMykhaW1wb3J0YW50O2JveC1zaGFkb3c6LTJweCAycHggNXB4IHJnYmEoMCwwLDAsMC4zKSFpbXBvcnRhbnQ7fSNzcC1hYy1tYWlue3BhZGRpbmc6NXB4IWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkIHdoaXRlIWltcG9ydGFudDstbW96LWJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjojRjJGMkY3IWltcG9ydGFudDtiYWNrZ3JvdW5kOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjRkNGQ0ZDLCNGMkYyRjcgMTAwJSkhaW1wb3J0YW50O2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsMCAwLDAgMTAwJSxmcm9tKCNGQ0ZDRkMpLHRvKCNGMkYyRjcpKSFpbXBvcnRhbnQ7fSNzcC1hYy1mb290e3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O21pbi1oZWlnaHQ6MjBweCFpbXBvcnRhbnQ7fSNzcC1hYy1zYXZlYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7cmlnaHQ6MnB4IWltcG9ydGFudDt9I3NwLWFjLWNvbnRhaW5lciAuc3AtYWMtc3BhbmJ1dHRvbntib3JkZXI6MXB4IHNvbGlkICNjY2MhaW1wb3J0YW50Oy1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtwYWRkaW5nOjJweCAzcHghaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNGOUY5RjkhaW1wb3J0YW50Oy13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDEwcHggNXB4IHdoaXRlIWltcG9ydGFudDstbW96LWJveC1zaGFkb3c6aW5zZXQgMCAxMHB4IDVweCB3aGl0ZSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzppbnNldCAwIDEwcHggNXB4IHdoaXRlIWltcG9ydGFudDt9Jyk7CiAgICAgICAgICAgIHZhciBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgQ29udGFpbmVyLmlkID0gInNwLWFjLWNvbnRhaW5lciI7CiAgICAgICAgICAgIENvbnRhaW5lci5zdHlsZSA9ICJwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDsgdG9wOiAxMCU7cmlnaHQ6IDclOyI7CiAgICAgICAgICAgIENvbnRhaW5lci5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgIiAgICA8ZGl2IGlkPSdzcC1hYy1jb250ZW50JyBzdHlsZT0nZGlzcGxheTogbm9uZTsnPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICA8ZGl2IGlkPSdzcC1hYy1tYWluJz5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgPGZpZWxkc2V0IGlkPSdzcC1hYy1hdXRvcGFnZXItZmllbGQnIHN0eWxlPSdkaXNwbGF5OmJsb2NrOyc+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8bGVnZW5kIHRpdGxlPSfoh6rliqjnv7vpobXmqKHlvI/nmoTnm7jlhbPorr7nva4nIHN0eWxlPSdjb2xvcjogcmVkICFpbXBvcnRhbnQ7Jz5BQy3ph43lrprlkJHorr7nva48L2xlZ2VuZD5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDx1bD5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMt6YeN5a6a5ZCRJyBpZD0nc3AtYWMtcmVkaXJlY3QnIG5hbWU9J3NwLWFjLWFfc2VwYXJhdG9yJyB0aXRsZT0nQUMt6YeN5a6a5ZCRJyB0eXBlPSdjaGVja2JveCcgIiArIChpc1JlZGlyZWN0RW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj7kuLvlip/og70t6YeN5a6a5ZCR5Yqf6IO9PC9sYWJlbD5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGxhYmVsPjxpbnB1dCB0aXRsZT0n6YeN5a6a5ZCRLeaZrumAmuaooeW8jycgbmFtZT0nc3AtYWMtYV9mb3JjZV9yZWRpTW9kJyB2YWx1ZT0nMCcgdHlwZT0ncmFkaW8nICIgKyAoUmVkaXJjdE1vZD09MCA/ICdjaGVja2VkJyA6ICcnKSArICI+6YeN5a6a5ZCRLeaZrumAmuaooeW8jzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+WujOaVtOaooeW8j+W+iOWuueaYk+WHuueOsOmqjOivgeegge+8jOiHquihjOaWn+mFjCc+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2VfcmVkaU1vZCcgdmFsdWU9JzEnIHRpdGxlPScnIHR5cGU9J3JhZGlvJyAiICsgKFJlZGlyY3RNb2Q9PTEgPyAnY2hlY2tlZCcgOiAnJykgKyAiPumHjeWumuWQkS3lrozmlbTmqKHlvI88L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8L2xpPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3ljrvlub/lkYonIGlkPSdzcC1hYy1hZHMnIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKGlzQWRzRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj7pmYTliqAxLeWOu+W5v+WRiuWKn+iDvTwvbGFiZWw+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPC9saT5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+IiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8bGFiZWw+PGlucHV0IHRpdGxlPSfljrvlub/lkYot5Y6f5aeL5qih5byPJyBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlJyB2YWx1ZT0nMCcgdHlwZT0ncmFkaW8nICIgKyAoQWRzU3R5bGVNb2RlPT0wID8gJ2NoZWNrZWQnIDogJycpICsgIj7ljrvlub/lkYot5Y6f5aeL5qih5byPPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdGl0bGU9J+WOu+W5v+WRii3ljZXliJfmma7pgJonIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGUnIHZhbHVlPScxJyAgdHlwZT0ncmFkaW8nICIgKyAoQWRzU3R5bGVNb2RlPT0xID8gJ2NoZWNrZWQnIDogJycpICsgIj7ljrvlub/lkYot5Y2V5YiX5pmu6YCaPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgIDxCUi8+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGxhYmVsPjxpbnB1dCB0aXRsZT0n5Y675bm/5ZGKLeWNleWIl+WxheS4rScgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZScgdmFsdWU9JzInICB0eXBlPSdyYWRpbycgIiArIChBZHNTdHlsZU1vZGU9PTIgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWOu+W5v+WRii3ljZXliJflsYXkuK08L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0aXRsZT0n5Y675bm/5ZGKLeWPjOWIl+WxheS4rScgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZScgdmFsdWU9JzMnICB0eXBlPSdyYWRpbycgIiArIChBZHNTdHlsZU1vZGU9PTMgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWOu+W5v+WRii3lj4zliJflsYXkuK08L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8L2xpPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3mt7vliqBGYXZpY29uJyBpZD0nc3AtYWMtZmF2aWNvbicgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoaXNGYXZpY29uRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj7pmYTliqAyLUZhdmljb27lip/og708L2xhYmVsPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbD48aW5wdXQgdGl0bGU9J0FDLea3u+WKoOe8luWPtycgaWQ9J3NwLWFjLWNvdW50ZXInIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKGlzQ291bnRlckVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgMy3nvJblj7flip/og708L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbD48aW5wdXQgdGl0bGU9J0FDLeaWh+Wtl+S4i+WIkue6vycgaWQ9J3NwLWFjLWFsaW5lJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChpc0FMaW5lRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj7pmYTliqA0LeS4i+WIkue6vzwvbGFiZWw+PC9saT5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J2h0dHBzOi8vc2hhbmcucXEuY29tL3dwYS9xdW53cGE/aWRrZXk9NWJiZmU5ZGUxZTgxYTA5MzBiZDA1M2YzMTU3YWFkMmRiYjNmYTdiOTkxYWM5ZjIyZWE5ZjJlMmY1M2VmZGU4MCcgc3R5bGU9J2NvbG9yOnJlZCAhaW1wb3J0YW50Oyc+6IGU57O75L2c6ICFLOaPkOW7uuiurizlr7vmsYLluK7liqks6ISa5pys5a6a5Yi254K55oiRPC9hPjwvbGk+IiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgPC91bD5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDxzcGFuIGlkPSdzcC1hYy1jYW5jZWxidXR0b24nIGNsYXNzPSdzcC1hYy1zcGFuYnV0dG9uJyB0aXRsZT0n5Y+W5raIJyBzdHlsZT0ncG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7ZmxvYXQ6IGxlZnQgIWltcG9ydGFudDsnPuWPlua2iDwvc3Bhbj5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDxzcGFuIGlkPSdzcC1hYy1zYXZlYnV0dG9uJyBjbGFzcz0nc3AtYWMtc3BhbmJ1dHRvbicgdGl0bGU9J+S/neWtmOiuvue9ricgc3R5bGU9J3Bvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O2Zsb2F0OiByaWdodCAhaW1wb3J0YW50Oyc+5L+d5a2YPC9zcGFuPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICA8L2ZpZWxkc2V0PlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICA8L2Rpdj5cbiIgKwogICAgICAgICAgICAgICAgIiAgICA8L2Rpdj4iOwogICAgICAgICAgICB0cnl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChDb250YWluZXIpO31jYXRjaCAoZSl7fQogICAgICAgIH0KICAgICAgICB2YXIgYWxsTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuZmF2aWNvblQsIC5Db3VudGVyVCIpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsTm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGFsbE5vZGVzW2ldLmdldEF0dHJpYnV0ZSgnYWNDbGljaycpID09IG51bGwpIHsKICAgICAgICAgICAgICAgIGFsbE5vZGVzW2ldLnNldEF0dHJpYnV0ZSgnYWNDbGljaycsICcxJyk7CiAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgYWxsTm9kZXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQUN0b2dnbGVTZXR0aW5nRGlzcGxheSgpOwogICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICAgICAgfWNhdGNoIChlKXt9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdHJ5ewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtc2F2ZWJ1dHRvbiIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIC8vIOS/neWtmOWKn+iDvQogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImlzUmVkaXJlY3RFbmFibGUiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtcmVkaXJlY3QiKS5jaGVja2VkKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJpc0Fkc0VuYWJsZSIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1hZHMiKS5jaGVja2VkKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJBZHNTdHlsZU1vZGUiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPSJzcC1hYy1hX2ZvcmNlX3N0eWxlIl06Y2hlY2tlZCcpLnZhbHVlKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJSZWRpcmN0TW9kIiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0ic3AtYWMtYV9mb3JjZV9yZWRpTW9kIl06Y2hlY2tlZCcpLnZhbHVlKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJpc0Zhdmljb25FbmFibGUiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtZmF2aWNvbiIpLmNoZWNrZWQpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImlzQ291bnRlckVuYWJsZSIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb3VudGVyIikuY2hlY2tlZCk7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiaXNBTGluZUVuYWJsZSIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1hbGluZSIpLmNoZWNrZWQpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgfSwgNDAwKTsKICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIH1jYXRjaCAoZSl7fQogICAgICAgIHRyeXsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNhbmNlbGJ1dHRvbiIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250ZW50Iikuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIH1jYXRjaCAoZSl7fQoKICAgIH0KCiAgICBmdW5jdGlvbiBMb2FkU2V0dGluZygpIHsKICAgICAgICBpc1JlZGlyZWN0RW5hYmxlID0gR01fZ2V0VmFsdWUoImlzUmVkaXJlY3RFbmFibGUiLCB0cnVlKTsKICAgICAgICBpc0Fkc0VuYWJsZSA9IEdNX2dldFZhbHVlKCJpc0Fkc0VuYWJsZSIsIHRydWUpOwogICAgICAgIEFkc1N0eWxlTW9kZSA9IEdNX2dldFZhbHVlKCJBZHNTdHlsZU1vZGUiLCAwKTsKICAgICAgICBSZWRpcmN0TW9kID0gR01fZ2V0VmFsdWUoIlJlZGlyY3RNb2QiLCAwKTsKICAgICAgICBpc0Zhdmljb25FbmFibGUgPSBHTV9nZXRWYWx1ZSgiaXNGYXZpY29uRW5hYmxlIiwgdHJ1ZSk7CiAgICAgICAgaXNDb3VudGVyRW5hYmxlID0gR01fZ2V0VmFsdWUoImlzQ291bnRlckVuYWJsZSIsIGZhbHNlKTsKICAgICAgICBpc0FMaW5lRW5hYmxlID0gR01fZ2V0VmFsdWUoImlzQUxpbmVFbmFibGUiLCBmYWxzZSk7CiAgICB9CiAgICBmdW5jdGlvbiByZW1vdmVPbk1vdXNlRG93bkZ1bmMoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmcgLnJjIC5yIGEiKS5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgICAgIG9uZS5zZXRBdHRyaWJ1dGUoIm9ubW91c2Vkb3duIiwgIiIpOyAvLyDosLfmrYzljrvph43lrprlkJHlubLmibAKICAgICAgICAgICAgICAgIG9uZS5zZXRBdHRyaWJ1dGUoInRhcmdldCIsICJfYmxhbmsiKTsgLy8g6LC35q2M6ZO+5o6l5paw5qCH562+5omT5byACiAgICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByZW1vdmVMaW5rVGFyZ2V0KCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCLnp7vpmaTnn6XkuY7ph43lrprlkJHpl67popgiKTsKICAgICAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuQ2FyZCAuTGlzdCAuUmljaENvbnRlbnQgYVtocmVmKj0naHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0J10iKTsKICAgICAgICBmb3IodmFyIGk9MDsgaTxub2Rlcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobm9kZXNbaV0uaHJlZi5yZXBsYWNlKCJodHRwczovL2xpbmsuemhpaHUuY29tLz90YXJnZXQ9IiwgIiIpKTsKICAgICAgICAgICAgbm9kZXNbaV0uaHJlZiA9IHVybDsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByZXNldFVSTE5vcm1hbChsaXN0KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIC8vIOatpOaWueazleaYr+W8guatpe+8jOaVheWcqOe7k+adn+eahOaXtuWAmeS9v+eUqGnkvJrlh7rpl67popgt5Lil6YeNIQogICAgICAgICAgICAvLyDph4fnlKjpl63ljIXnmoTmlrnms5XmnaXov5vooYzmlbDmja7nmoTkvKDpgJIKICAgICAgICAgICAgdmFyIGN1ck5vZGUgPSBsaXN0W2ldOwogICAgICAgICAgICB2YXIgY3VyaHJlZiA9IGN1ck5vZGUuaHJlZjsKICAgICAgICAgICAgaWYgKGxpc3RbaV0gIT0gbnVsbCAmJiBsaXN0W2ldLmdldEF0dHJpYnV0ZSgiYWNfcmVkaXJlY3RTdGF0dXMiKSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBsaXN0W2ldLnNldEF0dHJpYnV0ZSgiYWNfcmVkaXJlY3RTdGF0dXMiLCAiMCIpOwogICAgICAgICAgICAgICAgaWYgKGN1cmhyZWYuaW5kZXhPZigid3d3LmJhaWR1LmNvbS9saW5rIikgPiAtMSB8fCBjdXJocmVmLmluZGV4T2YoInd3dy5zb2dvdS5jb20vbGluayIpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKGNfY3Vybm9kZSxjX2N1cmhyZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ21SZXF1ZXN0Tm9kZSA9IEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNfY3VyaHJlZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAidGV4dC9odG1sIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnJlYWR5c3RhdGVjaGFuZ2U6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZmluYWxVcmwgIT0gY3VyaHJlZiAmJiByZXNwb25zZS5maW5hbFVybCE9IiIgJiYgcmVzcG9uc2UuZmluYWxVcmwgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdFVSTCA9IHJlc3BvbnNlLmZpbmFsVXJsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0VVJMICE9IG51bGwgJiYgcmVzdWx0VVJMICE9ICIiICYmIHJlc3VsdFVSTC5pbmRleE9mKCJ3d3cuYmFpZHUuY29tL2xpbmsiKSA8IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoImFbaHJlZio9JyIrY19jdXJocmVmKyInXSIpLmF0dHIoImhyZWYiLCByZXN1bHRVUkwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoImFbaHJlZio9JyIrY19jdXJocmVmKyInXSIpLmF0dHIoImFjX3JlZGlyZWN0U3RhdHVzIiwgIjIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbVJlcXVlc3ROb2RlLmFib3J0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChTaXRlVHlwZUlEID09IFNpdGVUeXBlLlNPR09VKSB7IC8v5aaC5p6c5piv5pCc54uX55qE57uT5p6cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0UmVzcG9uc2VVcmwgPSBSZWdfR2V0KHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgIlVSTD0nKFteJ10rKSciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRSZXNwb25zZVVybCAhPSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRVUkwgPSByZXN1bHRSZXNwb25zZVVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFVSTCAhPSBudWxsICYmIHJlc3VsdFVSTCAhPSAiIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiYVtocmVmKj0nIitjX2N1cmhyZWYrIiddIikuYXR0cigiaHJlZiIsIHJlc3VsdFVSTCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiYVtocmVmKj0nIitjX2N1cmhyZWYrIiddIikuYXR0cigiYWNfcmVkaXJlY3RTdGF0dXMiLCAiMiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdtUmVxdWVzdE5vZGUuYWJvcnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgIH0pKGN1ck5vZGUsIGN1cmhyZWYpOyAvL+S8oOmAkuaXp+eahOe9keWdgOi/h+WOu++8jOivu+S9nGNfY3VyaHJlZgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIFJlZ19HZXQoSFRNTCwgcmVnKSB7CiAgICAgICAgdmFyIFJlZ0UgPSBuZXcgUmVnRXhwKHJlZyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIFJlZ0UuZXhlYyhIVE1MKVsxXTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQURfYmFpZHVfc29nb3UoKSB7IC8vIOenu+mZpOeZvuW6puiHquacieW5v+WRigogICAgICAgIGlmIChTaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVKSB7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudF9sZWZ0IilbMF0gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdmFyIGZhdGhlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudF9sZWZ0IilbMF0uY2hpbGROb2RlczsKICAgICAgICAgICAgICAgIHZhciBsYXN0SWQgPSAwOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmYXRoZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gZmF0aGVyc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUudGFnTmFtZSA9PSAiRElWIiAmJiBjdXJyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoImRlYWxBRCIpID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gY3VycmVudE5vZGUuaWQgfHwgIiIgPT0gY3VycmVudE5vZGUuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOexs+aciUlE55qE6LKM5Ly86YO95piv5bm/5ZGKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi56e76Zmk5bm/5ZGKMSBDTEFTUz0iICsgY3VycmVudE5vZGUuY2xhc3NOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tOyAvLyDliqjmgIHnp7vpmaTlr7zoh7TnmoRp5b+F6aG75LiL6ZmNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudE5vZGUuaWQgPT0gImNsb25lIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUQg5pi+56S65Li6Q0xPTkXnmoTkuZ/mmK/lub/lkYoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnp7vpmaTlub/lkYoyIElEPSIgKyBjdXJyZW50Tm9kZS5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGktLTsgLy8g5Yqo5oCB56e76Zmk5a+86Ie055qEaeW/hemhu+S4i+mZjQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnROb2RlLmNsYXNzTmFtZS5pbmRleE9mKCJyZXN1bHQiKSAhPSAwICYmIC9eXGQrJC8udGVzdChjdXJyZW50Tm9kZS5pZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsYXNz5LiN5pivcmVzdWx0Li4u55qE77yM5bm25LiUaWTmmK/nuq/nsrnmlbDlrZfnmoQo5b6I5aSnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuenu+mZpOW5v+WRijMgSUQ9IiArIGN1cnJlbnROb2RlLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tOyAvLyDliqjmgIHnp7vpmaTlr7zoh7TnmoRp5b+F6aG75LiL6ZmNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGN1cnJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5mMTM+c3BhbiIpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmlubmVySFRNTCA9PSAi5bm/5ZGKIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnp7vpmaTlub/lkYo0IElEPSIgKyBjdXJyZW50Tm9kZS5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tOyAvLyDliqjmgIHnp7vpmaTlr7zoh7TnmoRp5b+F6aG75LiL6ZmNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuc2V0QXR0cmlidXRlKCJkZWFsQUQiLCAxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKFNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuU09HT1UpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwcm9tb3Rpb25fYWR2X2NvbnRhaW5lciIpLnJlbW92ZSgpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNrbWFwX2J1c2luZXNzX3RpdGxlIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ttYXBfYnVzaW5lc3NfdWwiKS5yZW1vdmUoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucnZyLW1vZGVsW3N0eWxlPSd3aWR0aDoyNTBweDsnXSIpLnN0eWxlID0gImRpc3BsYXk6bm9uZSI7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRDb3VudGVyKGNpdGVMaXN0KSB7CiAgICAgICAgdmFyIGNzc1RleHQgPSAiZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojRkQ5OTk5O2NvbG9yOiNEN0Q3RDc7Zm9udC1mYW1pbHk6J+W+rui9r+mbhem7kSc7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MjBweDtsaW5lLWhlaWdodDoyMHB4O2JvcmRlci1yYWRpdXM6NTAlO2Zsb2F0OmxlZnQ7IjsKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaXRlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoY2l0ZUxpc3RbaV0uZ2V0QXR0cmlidXRlKCdzb3J0SW5kZXgnKSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjaXRlTGlzdFtpXS5zZXRBdHRyaWJ1dGUoJ3NvcnRJbmRleCcsIGkpOwogICAgICAgICAgICAgICAgY2l0ZUxpc3RbaV0uaW5uZXIgPSBjaXRlTGlzdFtpXS5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gIjxkaXYgY2xhc3M9J0NvdW50ZXJUJyBzdHlsZT0iICsgY3NzVGV4dCArICI+IiArIChpICsgMSkgKyAiPC9kaXY+IjsKICAgICAgICAgICAgICAgIGNpdGVMaXN0W2ldLmlubmVySFRNTCA9IGRpdi5pbm5lckhUTUwgKyBjaXRlTGlzdFtpXS5pbm5lcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRGYXZpY29uKGNpdGVMaXN0KSB7CiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGNpdGVMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICB2YXIgdXJsID0gcmVwbGFjZUFsbChjaXRlTGlzdFtpbmRleF0uaW5uZXJIVE1MKTsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpbmRleCsiLiIrdXJsKTsKICAgICAgICAgICAgaWYgKG51bGwgPT0gY2l0ZUxpc3RbaW5kZXhdLmdldEF0dHJpYnV0ZSgiYWNfZmF2aWNvblN0YXR1cyIpKSB7CiAgICAgICAgICAgICAgICBpZiAodXJsID09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuaXoOaViOWcsOWdgO+8miIgKyBjaXRlTGlzdFtpbmRleF0uaW5uZXJIVE1MKTsKICAgICAgICAgICAgICAgICAgICBjaXRlTGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIiwgIi0xIik7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgY3VyTm9kZSA9IGNpdGVMaXN0W2luZGV4XTsKICAgICAgICAgICAgICAgIHZhciBmYXZpY29uVXJsID0gdXJsOwogICAgICAgICAgICAgICAgZm9yIChJSSA9IDA7IElJIDw9IDU7IElJKyspIHsKICAgICAgICAgICAgICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0luVXJsTGlzdChjdXJOb2RlLmNsYXNzTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpbmRleCsiLiIrZmF2aWNvblVybCsiLS0iK0lJKTsKICAgICAgICAgICAgICAgIGlmIChJSSA8PSA1KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEhUTUwgPSBjdXJOb2RlLmlubmVySFRNTDsKICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gdG1wSFRNTC5pbmRleE9mKCJmYXYtdXJsIikKICAgICAgICAgICAgICAgICAgICAgICAgJiB0bXBIVE1MLmluZGV4T2YoImZhdnVybCIpCiAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJ0aXQtaWNvIikKICAgICAgICAgICAgICAgICAgICAgICAgJiB0bXBIVE1MLmluZGV4T2YoImltZ19mYXYgcm1zX2ltZyIpCiAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJjLXRvb2wtIikKICAgICAgICAgICAgICAgICAgICAgICAgJiB0bXBIVE1MLmluZGV4T2YoInNwYW4gY2xhc3M9XCJjLWljb24gYy1pY29uLSIpOwogICAgICAgICAgICAgICAgICAgIC8v5LuW6Ieq5bex5bey57uP5YGa5LqGZmF2aWNvbuS6hgogICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5bey5pyJ5Zu+54mH77yaIiArIGZhdmljb25VcmwpOwogICAgICAgICAgICAgICAgICAgICAgICBjaXRlTGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIiwgIi0yIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL2h0dHBzOi8vYXBpLmJ5aS5wdy9mYXZpY29uLz91cmw9Pz8/PyDkuI3nqLPlrpoKICAgICAgICAgICAgICAgICAgICAvL2h0dHA6Ly8iK2Zhdmljb25VcmwrIi9jZG4uaWNvP2RlZmF1bHRpY29uPWh0dHA6Ly9zb3ouaW0vZmF2aWNvbi5pY28g5LiN56iz5a6aCiAgICAgICAgICAgICAgICAgICAgLy9odHRwczovL3d3dy54dHdpbmQuY29tL2FwaS9pbmRleC5waHA/dXJsPT8/Pz8g5oyC5LqG44CC44CC44CCCiAgICAgICAgICAgICAgICAgICAgLy9odHRwczovL3N0YXRpY3MuZG5zcG9kLmNuL3Byb3h5X2Zhdmljb24vXy9mYXZpY29uP2RvbWFpbj1zaW5hLmNuCiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlnLDlnYDkuI3mraPnoa7vvIzpgqPkuYjkuKLlvIMKICAgICAgICAgICAgICAgICAgICB2YXIgaG9zdCA9IGZhdmljb25VcmwucmVwbGFjZSgvW14uXStcLihbXi5dKylcLihbXi5dKykvLCAiJDEuJDIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTm9kZS5xdWVyeVNlbGVjdG9yKCIuZmF2aWNvblQiKSA9PSBudWxsICYmIGhvc3QubGVuZ3RoID4gMykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS5jaGlsZHJlblswXTsgLy9maXJzdENoaWxk5a655piT6YGH5YiwdGV4dOWvueixoQogICAgICAgICAgICAgICAgICAgICAgICBjaXRlTGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIiwgIjEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5pbnNlcnRCZWZvcmUoaW5zTm9kZSwgY3VyTm9kZS5maXJzdENoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zTm9kZS5jbGFzc05hbWUgPSAiZmF2aWNvblQiOwogICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnN0eWxlID0gInZlcnRpY2FsLWFsaWduOnN1YjtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O21hcmdpbi1yaWdodDo1cHgiOwogICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnNyYyA9ICJodHRwczovL2Zhdmljb24ueWFuZGV4Lm5ldC9mYXZpY29uLyIgKyBob3N0OwogICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnNldEF0dHJpYnV0ZSgiZmF2aWNvbklEIiwgIjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zTm9kZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zTm9kZS5uYXR1cmFsV2lkdGggPCAxNikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIuWksei0pTLvvJoiK2Zhdmljb25VcmwrIuaaguaXtuaXoOinoyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc05vZGUuc3JjID0gImh0dHBzOi8vY29kaW5nLm5ldC91L3piMjI3L3AvemJJbWcvZ2l0L3Jhdy9tYXN0ZXIvaW1nMC9pY29uLmpwZyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZXBsYWNlQWxsKHNiZWZvcmUpIHsKICAgICAgICAgICAgdmFyIHNlbmQ7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzYmVmb3JlLnNwbGl0KCctJyk7CiAgICAgICAgICAgIGlmIChTaXRlVHlwZUlEID09IFNpdGVUeXBlLlNPR09VICYmIGxvY2F0aW9uLmhyZWYuaW5kZXhPZigic29nb3UiKSA8IDIwKSB7CiAgICAgICAgICAgICAgICAvLyAtLeaQnOeLl+S4k+eUqO+8m+WmguaenOesrOS4gOS4quaYr+S4reaWh+eahOivne+8jOWcsOWdgOWwseaYr+esrOS6jOS4qgogICAgICAgICAgICAgICAgc2JlZm9yZSA9IHJlc3VsdFsxXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZW5kID0gc2JlZm9yZS5yZXBsYWNlKC8oXC9bXi9dKnxccyopLywgIiIpLnJlcGxhY2UoLzxbXj5dKj4vZywgIiIpLnJlcGxhY2UoL2h0dHBzPzpcL1wvL2csICIiKS5yZXBsYWNlKC88XC8/c3Ryb25nPi9nLCAiIikucmVwbGFjZSgvPFwvP2I+L2csICIiKS5yZXBsYWNlKC88Pz4/L2csICIiKS5yZXBsYWNlKC8oIHxcLykuKi9nLCAiIik7CiAgICAgICAgICAgIHJldHVybiBzZW5kOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaXNJblVybExpc3QodXJsKSB7CiAgICAgICAgICAgIHZhciBsZW5nID0gZmF0aGVyTmFtZS5sZW5ndGg7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZzsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoZmF0aGVyTmFtZVtpXSkgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBJbnNlcnRTZXR0aW5nTWVudSgpewogICAgICAgIGlmICgkKCIjbXl1c2VyIikubGVuZ3RoIDwgMSkgewogICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQoIiN1Iik7CiAgICAgICAgICAgICRwYXJlbnQuc3R5bGU9IndpZHRoOiAzMTlweDsiOwogICAgICAgICAgICB2YXIgJGRpdiA9ICQoIjxhIHN0eWxlPSd0ZXh0LWRlY29yYXRpb246IG5vbmU7Jz48b2wgaWQ9J215dXNlcicgc3R5bGU9J2Rpc3BsYXk6IGlubGluZS1ibG9jazsnPiIgKwogICAgICAgICAgICAgICAgIjxsaSBjbGFzcz0nbXl1c2VyY29uZmlnJyBzdHlsZT0nZGlzcGxheTogaW5saW5lLWJsb2NrO2hlaWdodDogMThweDtsaW5lLWhlaWdodDogMS41O2JhY2tncm91bmQ6ICMyODY2YmQ7Y29sb3I6ICNmZmY7Zm9udC13ZWlnaHQ6IGJvbGQ7dGV4dC1hbGlnbjogY2VudGVyO3BhZGRpbmc6IDZweDtib3JkZXItcmFkaXVzOiA1cHg7Jz7oh6rlrprkuYk8L2xpPjwvb2w+PC9hPiIpOwogICAgICAgICAgICAkZGl2LnByZXBlbmRUbygkcGFyZW50KTsKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI215dXNlciAubXl1c2VyY29uZmlnIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBBQ3RvZ2dsZVNldHRpbmdEaXNwbGF5KCk7CiAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgfWNhdGNoIChlKXt9CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gRlNCYWlkdSgpIHsgLy8gdGhhbmtzIGZvciBjb2RlIGZyb20g5rWu55SfQOacquathyBAcGFnZSBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvMzE2NDIKICAgICAgICB2YXIgU3R5bGVNYW5nZXIgPSB7CiAgICAgICAgICAgIGltcG9ydFN0eWxlOiBmdW5jdGlvbiAoZmlsZVVybCwgdG9DbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgIGlmKCQoIi4iK3RvQ2xhc3NOYW1lKS5sZW5ndGg+MCkgcmV0dXJuOwogICAgICAgICAgICAgICAgdmFyIHNzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTsKICAgICAgICAgICAgICAgIHNzTm9kZS5yZWwgPSAic3R5bGVzaGVldCI7CiAgICAgICAgICAgICAgICBzc05vZGUudHlwZSA9ICJ0ZXh0L2NzcyI7CiAgICAgICAgICAgICAgICBzc05vZGUuY2xhc3NOYW1lID0gdG9DbGFzc05hbWU7CiAgICAgICAgICAgICAgICBzc05vZGUubWVkaWEgPSAic2NyZWVuIjsKICAgICAgICAgICAgICAgIHNzTm9kZS5ocmVmID0gZmlsZVVybDsKICAgICAgICAgICAgICAgIHRyeXtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNzTm9kZSk7fWNhdGNoIChlKXt9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v5Yqg6L295pmu6YCa5qC35byPCiAgICAgICAgICAgIGxvYWRDb21tb25TdHlsZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRTdHlsZSgiaHR0cHM6Ly9yZW1peC5hYy5jbi9BQ0ZpbGUvQ1NTL0FDX0JhaWR1L2JhaWR1Q29tbW9uU3R5bGUuY3NzIiwgImJhaWR1Q29tbW9uU3R5bGUiKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/liqDovb3oh6rlrprkuYnoj5zljZXmoLflvI8KICAgICAgICAgICAgbG9hZE15TWVudVN0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFN0eWxlKCJodHRwczovL3JlbWl4LmFjLmNuL0FDRmlsZS9DU1MvQUNfQmFpZHUvYmFpZHVNeU1lbnVTdHlsZS5jc3MiLCAiYmFpZHVNeU1lbnVTdHlsZSIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+WKoOi9veWNlemhteagt+W8jwogICAgICAgICAgICBsb2FkT25lUGFnZVN0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFN0eWxlKCJodHRwczovL3JlbWl4LmFjLmNuL0FDRmlsZS9DU1MvQUNfQmFpZHUvYmFpZHVPbmVQYWdlU3R5bGUuY3NzIiwgImJhaWR1T25lUGFnZVN0eWxlIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v5Yqg6L295Y+M6aG15qC35byPCiAgICAgICAgICAgIGxvYWRUd29QYWdlU3R5bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0U3R5bGUoImh0dHBzOi8vcmVtaXguYWMuY24vQUNGaWxlL0NTUy9BQ19CYWlkdS9iYWlkdVR3b1BhZ2VTdHlsZS5jc3MiLCAiYmFpZHVUd29QYWdlU3R5bGUiKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbG9hZEV4cGFuZE9uZVN0eWxlOmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIEFDX2FkZFN0eWxlKAogICAgICAgICAgICAgICAgICAgICIjY29udGVudF9sZWZ0IC5yZXN1bHQtb3A6aG92ZXIsI2NvbnRlbnRfbGVmdCAucmVzdWx0OmhvdmVye2JveC1zaGFkb3c6MCAwIDJweCBncmF5O2JhY2tncm91bmQ6cmdiYSgyMzAsMjMwLDIzMCwwLjEpIWltcG9ydGFudDt9XG4iICsKICAgICAgICAgICAgICAgICAgICAiI2NvbnRlbnRfbGVmdCAucmVzdWx0LCNjb250ZW50X2xlZnQgLnJlc3VsdC1vcHt3aWR0aDoxMDAlOyBtaW4td2lkdGg6NjcwcHg7bWFyZ2luLWJvdHRvbToxNHB4IWltcG9ydGFudDt9XG4iICsKICAgICAgICAgICAgICAgICAgICAiLmMtc3BhbjE4e3dpZHRoOjc4JSFpbXBvcnRhbnQ7bWluLXdpZHRoOjU1MHB4O31cbiIgKwogICAgICAgICAgICAgICAgICAgICIuYy1zcGFuMjR7d2lkdGg6IGF1dG8haW1wb3J0YW50O30iLCAibG9hZEV4cGFuZE9uZVN0eWxlIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZE15TWVudVN0eWxlKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGltcG9ydE9uY2VDU1M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgQ29udHJvbE1hbmFnZXIgPSB7CiAgICAgICAgICAgIHR3b1BhZ2VEaXNwbGF5OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgJGRpdiA9ICQoIjxkaXYgaWQ9J2RvdWJsZSc+PC9kaXY+Iik7CiAgICAgICAgICAgICAgICB2YXIgJGRvdWJsZSA9IG51bGw7CiAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9IG51bGw7CiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdG9yID0gbnVsbDsKICAgICAgICAgICAgICAgIC8v5paH5qGj5Yqg6L295a6M5oiQ5YaN6L+Q6KGMCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCQoIiNjb250ZW50X2xlZnQ+I2RvdWJsZSIpLmxlbmd0aCA8IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICQoIiNjb250ZW50X2xlZnQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdG9yID0gJCgiI2NvbnRlbnRfbGVmdD4uYy1jb250YWluZXI6b2RkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICRkaXYucHJlcGVuZFRvKCRwYXJlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0b3IucHJlcGVuZFRvKCQoIiNkb3VibGUiKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8v5YW85a656Ieq5Yqo57+76aG16ISa5pysCiAgICAgICAgICAgICAgICAgICAgaWYgKCQoIiNjb250ZW50X2xlZnQ+LnNwLXNlcGFyYXRvciIpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQUNfYWRkU3R5bGUoIiNjb250ZW50X2xlZnQ+LnNwLXNlcGFyYXRvcntvcGFjaXR5OiAwO30iKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICQoIiNjb250ZW50X2xlZnQ+LnNwLXNlcGFyYXRvcltpc0hhbmRsZWQhPScxJ10iKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdG9yID0gJCgiI2NvbnRlbnRfbGVmdD4uc3Atc2VwYXJhdG9yW2lzSGFuZGxlZCE9JzEnXX4uYy1jb250YWluZXI6b2RkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRkaXYuYWZ0ZXIoJHBhcmVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRwYXJlbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYXR0cigiaXNIYW5kbGVkIiwgIjEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdG9yLmFwcGVuZFRvKCQoIiNkb3VibGUiKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v5bGF5Lit5pi+56S6CiAgICAgICAgICAgIGNlbnRlckRpc3BsYXk6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciAkcmVzdWx0ID0gQWRzU3R5bGVNb2RlIHx8IG51bGw7CiAgICAgICAgICAgICAgICBpZigkcmVzdWx0ID09IDEpewogICAgICAgICAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmxvYWRFeHBhbmRPbmVTdHlsZSgpOwogICAgICAgICAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmxvYWRDb21tb25TdHlsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkcmVzdWx0ID09IDIpIHsvL+WNlemhteWxheS4rQogICAgICAgICAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmxvYWRFeHBhbmRPbmVTdHlsZSgpOwogICAgICAgICAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmxvYWRDb21tb25TdHlsZSgpOwogICAgICAgICAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmxvYWRPbmVQYWdlU3R5bGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHJlc3VsdCA9PSAzKSB7IC8v5Y+M6aG15bGF5LitCiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZENvbW1vblN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZFR3b1BhZ2VTdHlsZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMudHdvUGFnZURpc3BsYXkoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5jZW50ZXJEaXNwbGF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGZ1bmN0aW9uIG11dGF0aW9uZnVuYygpIHsKICAgICAgICAgICAgaWYoJCgiI2xnOnZpc2libGUiKS5sZW5ndGggPiAwKXsgLy8g5aSn5Zu+5qih5byPLS0tPueZvuW6pummlumhtQogICAgICAgICAgICAgICAgJCgiI3dyYXBwZXIgLnNfZm9ybSAjZm9ybSIpLmF0dHIoInN0eWxlIiwgImxlZnQ6dW5zZXQgIWltcG9ydGFudDsiKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAkKCIjd3JhcHBlciAuc19mb3JtICNmb3JtIikuYXR0cigic3R5bGUiLCAiIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSl7CiAgICAgICAgICAgICAgICBTdHlsZU1hbmdlci5pbml0KCk7CiAgICAgICAgICAgICAgICBDb250cm9sTWFuYWdlci5pbml0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJCgiI2RvdWJsZSIpLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpeyAvLyDliqjmgIHorr7nva7lupXpg6jmjqjojZDlhbPplK7lrZfnmoRtYXJnaW5Ub3DlsZ7mgKcKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29udGFpbmVyICNycyBkaXYiKS5wYXJlbnROb2RlLnN0eWxlLm1hcmdpblRvcCA9IE1hdGgubWF4KCQoIiNkb3VibGUiKS5oZWlnaHQoKSwgJCgiI2NvbnRlbnRfbGVmdCIpLmhlaWdodCgpKS0kKCIjY29udGVudF9sZWZ0IikuaGVpZ2h0KCkrInB4IjsKICAgICAgICAgICAgICAgIH0sIDQwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSl7CiAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmluaXQoKTsKICAgICAgICAgICAgQ29udHJvbE1hbmFnZXIuaW5pdCgpOwogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICBtdXRhdGlvbmZ1bmMoKTsKICAgICAgICAgICAgfWNhdGNoIChlKXt9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQUNNTyhtdXRhdGlvbmZ1bmMpOwogICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjd3JhcHBlciIpOwogICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh3cmFwcGVyLCB7CiAgICAgICAgICAgICAgICAgICAgImF0dHJpYnV0ZXMiOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAiY2hhcmFjdGVyRGF0YSI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICJzdWJ0cmVlIjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAiYXR0cmlidXRlc0ZpbHRlciI6IFsiY2xhc3MiXSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbXV0YXRpb25mdW5jKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgfQogICAgICAgIH1lbHNlewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQp9KSgpOw=="},{"name":" (ECMA6)","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*www.baidu.com*","*zhidao.baidu.com/search*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970034},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/10019-%E5%8E%BB%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BD%AE%E9%A1%B6%E6%8E%A8%E5%B9%BF-ecma6/code/%E5%8E%BB%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BD%AE%E9%A1%B6%E6%8E%A8%E5%B9%BF%20(ECMA6).user.js","uuid":"04fcae1e-06d5-4d59-adcb-c10136e7649b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOWOu+eZvuW6puaQnOe0oue9rumhtuaOqOW5vyAoRUNNQTYpCi8vIEBhdXRob3IgICAgICAgICAgICBheGV0cm95Ci8vIEBjb250cmlidXRvciAgICAgICBheGV0cm95Ci8vIEBkZXNjcmlwdGlvbiAgICAgICDljrvpmaTmj5LlhaXlnKjnmb7luqbmkJzntKLnu5PmnpzlpLTpg6jjgIHlsL7pg6jnmoTmjqjlub/pk77mjqXjgIIKLy8gQHZlcnNpb24gICAgICAgICAgIDIwMTYuNi40Ci8vIEBncmFudCAgICAgICAgICAgICBub25lCi8vIEBpbmNsdWRlICAgICAgICAgICAqd3d3LmJhaWR1LmNvbSoKLy8gQGluY2x1ZGUgICAgICAgICAgICp6aGlkYW8uYmFpZHUuY29tL3NlYXJjaCoKLy8gQGNvbm5lY3QgICAgICAgICAgICoKLy8gQHN1cHBvcnRVUkwgICAgICAgIGh0dHA6Ly93d3cuYnVybmluZ2FsbC5jb20KLy8gQGNvbXBhdGlibGUgICAgICAgIGNocm9tZSAg5a6M576O6L+Q6KGMCi8vIEBjb21wYXRpYmxlICAgICAgICBmaXJlZm94ICDlroznvo7ov5DooYwKLy8gQHJ1bi1hdCAgICAgICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBjb250cmlidXRpb25VUkwgICB0cm95NDUwNDA5NDA1QGdtYWlsLmNvbXxhbGlwYXkuY29tCi8vIEBuYW1lc3BhY2UgICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzM0MDAtYXhldHJveQovLyBAbGljZW5zZSAgICAgICAgICAgVGhlIE1JVCBMaWNlbnNlIChNSVQpOyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCi8vID09L1VzZXJTY3JpcHQ9PQoKLyoKCiBHaXRodWLmupDnoIE6aHR0cHM6Ly9naXRodWIuY29tL2F4ZXRyb3kvR01zY3JpcHQKCiAqLwovKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwCi8qKioqKiovIAkvLyBUaGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAl2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9OwoKLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7CgovKioqKioqLyAJCS8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQovKioqKioqLyAJCWlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKQovKioqKioqLyAJCQlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKCi8qKioqKiovIAkJLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSkKLyoqKioqKi8gCQl2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7Ci8qKioqKiovIAkJCWV4cG9ydHM6IHt9LAovKioqKioqLyAJCQlpZDogbW9kdWxlSWQsCi8qKioqKiovIAkJCWxvYWRlZDogZmFsc2UKLyoqKioqKi8gCQl9OwoKLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKCi8qKioqKiovIAkJLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAovKioqKioqLyAJCW1vZHVsZS5sb2FkZWQgPSB0cnVlOwoKLyoqKioqKi8gCQkvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQovKioqKioqLyAJCXJldHVybiBtb2R1bGUuZXhwb3J0czsKLyoqKioqKi8gCX0KCgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7CgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7CgovKioqKioqLyAJLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ucCA9ICIiOwoKLyoqKioqKi8gCS8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLyAJcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovIChbCi8qIDAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJJ3VzZSBzdHJpY3QnOwoKCXZhciBfanFMaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCgl2YXIgX2pxTGl0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcUxpdGUpOwoKCXZhciBfJGludGVydmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7CgoJdmFyIF8kaW50ZXJ2YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfJGludGVydmFsKTsKCgl2YXIgX21haW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTsKCgl2YXIgX21haW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFpbik7CgoJZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCgl2YXIgbG9vcCA9ICgwLCBfJGludGVydmFsMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7CgkgIG5ldyBfbWFpbjIuZGVmYXVsdCgpLmZpbHRlcigpLnR1cm4oKTsKCX0sIDUwKTsKCgkvLyBpbml0CgkoMCwgX2pxTGl0ZTIuZGVmYXVsdCkoZnVuY3Rpb24gKCkgewoJICBuZXcgX21haW4yLmRlZmF1bHQoKS5maWx0ZXIoKS50dXJuKCk7CgkgIF8kaW50ZXJ2YWwyLmRlZmF1bHQuY2FuY2VsKGxvb3ApOwoJICAoMCwgX2pxTGl0ZTIuZGVmYXVsdCkoZG9jdW1lbnQpLm9ic2VydmUoZnVuY3Rpb24gKCkgewoJICAgIHJldHVybiBuZXcgX21haW4yLmRlZmF1bHQoKS5maWx0ZXIoKS50dXJuKCk7CgkgIH0pOwoJICBjb25zb2xlLmluZm8oJ+WOu+W5v+WRiuWQr+WKqC4uLicpOwoJfSk7CgovKioqLyB9LAovKiAxICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSd1c2Ugc3RyaWN0JzsKCgkvLyBlczYgQXJyYXkuZnJvbQoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKCSAgdmFsdWU6IHRydWUKCX0pOwoKCXZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCS8vIGVzNiBPYmplY3QuYXNzaWduCgoKCV9fd2VicGFja19yZXF1aXJlX18oMik7CgoJX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7CgoJZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgoJdmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKHgpIHsKCSAgcmV0dXJuIHg7Cgl9OwoKCXZhciBqcUxpdGUgPSBmdW5jdGlvbiAoKSB7CgkgIGZ1bmN0aW9uIGpxTGl0ZSgpIHsKCSAgICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgICB2YXIgc2VsZWN0b3JzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07CgkgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkb2N1bWVudCA6IGFyZ3VtZW50c1sxXTsKCgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGpxTGl0ZSk7CgoJICAgIHRoaXMuc2VsZWN0b3JzID0gc2VsZWN0b3JzOwoJICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CgkgICAgdGhpcy5sZW5ndGggPSAwOwoKCSAgICBzd2l0Y2ggKHR5cGVvZiBzZWxlY3RvcnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHNlbGVjdG9ycykpIHsKCSAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6CgkgICAgICAgIGJyZWFrOwoJICAgICAgY2FzZSAnc3RyaW5nJzoKCSAgICAgICAgQXJyYXkuZnJvbShjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzKSwgZnVuY3Rpb24gKGVsZSwgaSkgewoJICAgICAgICAgIF90aGlzW2ldID0gZWxlOwoJICAgICAgICAgIF90aGlzLmxlbmd0aCsrOwoJICAgICAgICB9LCB0aGlzKTsKCSAgICAgICAgYnJlYWs7CgkgICAgICBjYXNlICdvYmplY3QnOgoJICAgICAgICBpZiAoc2VsZWN0b3JzLmxlbmd0aCkgewoJICAgICAgICAgIEFycmF5LmZyb20oc2VsZWN0b3JzLCBmdW5jdGlvbiAoZWxlLCBpKSB7CgkgICAgICAgICAgICBfdGhpc1tpXSA9IGVsZTsKCSAgICAgICAgICAgIF90aGlzLmxlbmd0aCsrOwoJICAgICAgICAgIH0sIHRoaXMpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHRoaXNbMF0gPSBzZWxlY3RvcnM7CgkgICAgICAgICAgdGhpcy5sZW5ndGggPSAxOwoJICAgICAgICB9CgkgICAgICAgIGJyZWFrOwoJICAgICAgY2FzZSAnZnVuY3Rpb24nOgoJICAgICAgICB0aGlzLnJlYWR5KHNlbGVjdG9ycyk7CgkgICAgICAgIGJyZWFrOwoJICAgICAgZGVmYXVsdDoKCgkgICAgfQoJICB9CgoJICBfY3JlYXRlQ2xhc3MoanFMaXRlLCBbewoJICAgIGtleTogJ2VxJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gZXEoKSB7CgkgICAgICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMF07CgoJICAgICAgcmV0dXJuIG5ldyBqcUxpdGUodGhpc1tuXSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnZmluZCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoc2VsZWN0b3JzKSB7CgkgICAgICByZXR1cm4gbmV3IGpxTGl0ZShzZWxlY3RvcnMsIHRoaXNbMF0pOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2VhY2gnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBlYWNoKCkgewoJICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IGFyZ3VtZW50c1swXTsKCgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgZm4uY2FsbCh0aGlzLCB0aGlzW2ldLCBpKTsKCSAgICAgIH0KCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2JpbmQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kKCkgewoJICAgICAgdmFyIHR5cGVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07CgkgICAgICB2YXIgZm4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBub29wIDogYXJndW1lbnRzWzFdOwoKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIHR5cGVzLnRyaW0oKS5zcGxpdCgvXHN7MSx9LykuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewoJICAgICAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50OwoJICAgICAgICAgICAgaWYgKGZuLmNhbGwodGFyZ2V0LCBlKSA9PT0gZmFsc2UpIHsKCSAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CgkgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsKCSAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7CgkgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uICYmIGUuc3RvcFByb3BhZ2F0aW9uKCk7CgkgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICB9LCBmYWxzZSk7CgkgICAgICAgIH0pOwoJICAgICAgfSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnY2xpY2snLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBjbGljaygpIHsKCSAgICAgIHZhciBmbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5vb3AgOiBhcmd1bWVudHNbMF07CgoJICAgICAgdGhpcy5iaW5kKCdjbGljaycsIGZuKTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ3JlYWR5JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZHkoKSB7CgkgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCgkgICAgICB2YXIgZm4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBub29wIDogYXJndW1lbnRzWzBdOwoKCSAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKGUpIHsKCSAgICAgICAgZm4uY2FsbChfdGhpczIsIGUpOwoJICAgICAgfSwgZmFsc2UpOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ29ic2VydmUnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBvYnNlcnZlKCkgewoJICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgoJICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IGFyZ3VtZW50c1swXTsKCSAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9IDogYXJndW1lbnRzWzFdOwoKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7CgkgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKCSAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKCSAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCBtdXRhdGlvbi50YXJnZXQsIG11dGF0aW9uLmFkZGVkTm9kZXMsIG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7CgkgICAgICAgICAgfSk7CgkgICAgICAgIH0pOwoJICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZSwgY29uZmlnKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnYXR0cicsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIChfYXR0cikgewoJICAgICAgZnVuY3Rpb24gYXR0cihfeCwgX3gyKSB7CgkgICAgICAgIHJldHVybiBfYXR0ci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJICAgICAgfQoKCSAgICAgIGF0dHIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBfYXR0ci50b1N0cmluZygpOwoJICAgICAgfTsKCgkgICAgICByZXR1cm4gYXR0cjsKCSAgICB9KGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkgewoJICAgICAgLy8gb25lIGFnbQoJICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgLy8gZ2V0IGF0dHIgdmFsdWUKCSAgICAgICAgaWYgKHR5cGVvZiBhdHRyID09PSAnc3RyaW5nJykgewoJICAgICAgICAgIHJldHVybiB0aGlzWzBdLmdldEF0dHJpYnV0ZShhdHRyKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBzZXQgYXR0ciB3aXRoIGEganNvbgoJICAgICAgICBlbHNlIGlmICgodHlwZW9mIGF0dHIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGF0dHIpKSA9PT0gJ29iamVjdCcpIHsKCSAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICAgIGZvciAodmFyIGF0IGluIGF0dHIpIHsKCSAgICAgICAgICAgICAgICBpZiAoYXR0ci5oYXNPd25Qcm9wZXJ0eShhdCkpIHsKCSAgICAgICAgICAgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoYXQsIHZhbHVlKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwoJICAgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIC8vIHNldAoJICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewoJICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfQoJICAgIH0pCgkgIH0sIHsKCSAgICBrZXk6ICdyZW1vdmVBdHRyJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQXR0cihhdHRyKSB7CgkgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgewoJICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgIGVsZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7CgkgICAgICAgIH0pOwoJICAgICAgfQoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAncmVtb3ZlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLnJlbW92ZSgpOwoJICAgICAgfSk7CgkgICAgICB0aGlzLmxlbmd0aCA9IDA7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgoJICAgIC8vIGdldCB0aGUgZWxlbWVudCBzdHlsZQoKCSAgfSwgewoJICAgIGtleTogJ3N0eWxlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gc3R5bGUoYXR0cikgewoJICAgICAgcmV0dXJuIHRoaXNbMF0uY3VycmVudFN0eWxlID8gdGhpc1swXS5jdXJyZW50U3R5bGVbYXR0cl0gOiBnZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0pW2F0dHJdOwoJICAgIH0KCgkgICAgLy8gKGF0dHIsdmFsdWUpIHx8ICdzdHJpbmcnIHx8IHt9CgoJICB9LCB7CgkgICAga2V5OiAnY3NzJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gY3NzKCkgewoJICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFnbSA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewoJICAgICAgICBhZ21bX2tleV0gPSBhcmd1bWVudHNbX2tleV07CgkgICAgICB9CgoJICAgICAgaWYgKGFnbS5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgLy8gZ2V0IHN0eWxlCgkgICAgICAgIGlmICh0eXBlb2YgYWdtWzBdID09PSAnc3RyaW5nJykgewoJICAgICAgICAgIC8vIHNldCBzdHlsZSBhcyBhIGxvbmcgdGV4dAoJICAgICAgICAgIGlmICgvOi9pZy50ZXN0KGFnbVswXSkpIHsKCSAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ID0gYXR0cjsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpc1swXS5jdXJyZW50U3R5bGUgPyB0aGlzWzBdLmN1cnJlbnRTdHlsZVthZ21bMF1dIDogZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdKVthZ21bMF1dOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBzZXQgc3R5bGUgYXMgYSBvYmplY3QKCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgICAgICBmb3IgKHZhciBfYXR0cjIgaW4gYWdtWzBdKSB7CgkgICAgICAgICAgICAgICAgaWYgKGFnbVswXS5oYXNPd25Qcm9wZXJ0eShfYXR0cjIpKSB7CgkgICAgICAgICAgICAgICAgICBlbGUuc3R5bGVbX2F0dHIyXSA9IGFnbVswXVtfYXR0cjJdOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgfQoJICAgICAgfQoJICAgICAgLy8gc2V0IGFzIChrZXksdmFsdWUpCgkgICAgICBlbHNlIGlmIChhZ20ubGVuZ3RoID09PSAyKSB7CgkgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgICAgIGVsZS5zdHlsZVthZ21bMF1dID0gYWdtWzFdOwoJICAgICAgICAgIH0pOwoJICAgICAgICB9CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd3aWR0aCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIHdpZHRoKHZhbHVlKSB7CgkgICAgICB2YXIgZWxlbWVudCA9IHRoaXNbMF07CgkgICAgICAvLyB3aW5kb3cgb3IgZG9jdW1lbnQKCSAgICAgIGlmIChlbGVtZW50LndpbmRvdyA9PT0gZWxlbWVudCB8fCBlbGVtZW50LmJvZHkpIHsKCSAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGggPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPyBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoOwoJICAgICAgfQoJICAgICAgLy8gc2V0IHdpZHRoCgkgICAgICBlbHNlIGlmICh2YWx1ZSkgewoJICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICBlbGUuc3R5bGUud2lkdGggPSB2YWx1ZSArICdweCc7CgkgICAgICAgICAgfSk7CgkgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZ2V0IHdpZHRoCgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGggfHwgcGFyc2VGbG9hdCh0aGlzLnN0eWxlKCd3aWR0aCcpKTsKCSAgICAgICAgICB9CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnaGVpZ2h0JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gaGVpZ2h0KHZhbHVlKSB7CgkgICAgICB2YXIgZWxlID0gdGhpc1swXTsKCSAgICAgIC8vIHdpbmRvdyBvciBkb2N1bWVudAoJICAgICAgaWYgKGVsZS53aW5kb3cgPT09IGVsZSB8fCBlbGUuYm9keSkgewoJICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID8gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0OwoJICAgICAgfQoJICAgICAgLy8gc2V0IGhlaWdodAoJICAgICAgZWxzZSBpZiAodmFsdWUpIHsKCSAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgICAgZWxlLnN0eWxlLmhlaWdodCA9IHZhbHVlICsgJ3B4JzsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfQoJICAgICAgICAvLyBnZXQgaGVpZ2h0CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0IHx8IHBhcnNlRmxvYXQodGhpcy5zdHlsZSgnaGVpZ2h0JykpOwoJICAgICAgICAgIH0KCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdodG1sJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gaHRtbCh2YWx1ZSkgewoJICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgICBlbGUuaW5uZXJIVE1MID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUoZWxlKSA6IHZhbHVlOwoJICAgICAgICB9KTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiB0aGlzWzBdLmlubmVySFRNTDsKCSAgICAgIH0KCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ3RleHQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXh0KHZhbHVlKSB7CgkgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXNbMF0uaW5uZXJUZXh0IHx8IHRoaXNbMF0udGV4dENvbnRlbnQ7CgoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmlubmVyVGV4dCA9IGVsZS50ZXh0Q29udGVudCA9IHZhbHVlOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd2YWwnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiB2YWwodmFsdWUpIHsKCSAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpc1swXS52YWx1ZTsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS52YWx1ZSA9IHZhbHVlOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdzaG93JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5zdHlsZS5kaXNwbGF5ID0gJyc7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2hpZGUnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCgkgICAgLy8gY29udGVudCBzdHIgfHwganFMaXRlIE9iamVjdCB8fCBET00KCSAgICAvLyBoZXJlIGlzIGpxTGl0ZSBPYmplY3QKCgkgIH0sIHsKCSAgICBrZXk6ICdhcHBlbmQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmQoY29udGVudCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmFwcGVuZENoaWxkKGNvbnRlbnRbMF0pOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdwcmVwZW5kJywKCgoJICAgIC8vIGNvbnRlbnQgc3RyIHx8IGpxTGl0ZSBPYmplY3QgfHwgRE9NCgkgICAgLy8gaGVyZSBpcyBqcUxpdGUgT2JqZWN0CgkgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBlbmQoY29udGVudCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmluc2VydEJlZm9yZShjb250ZW50WzBdLCBlbGUuY2hpbGRyZW5bMF0pOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdoYXNDbGFzcycsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0NsYXNzKGNsYXNzTmFtZSkgewoJICAgICAgaWYgKCF0aGlzWzBdKSByZXR1cm4gZmFsc2U7CgkgICAgICByZXR1cm4gdGhpc1swXS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdhZGRDbGFzcycsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsYXNzKGNsYXNzTmFtZSkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAncmVtb3ZlQ2xhc3MnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhjbGFzc05hbWUpIHsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2luZGV4JywKCSAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKCSAgICAgIHZhciBpbmRleCA9IDA7CgkgICAgICB2YXIgYnJvdGhlcnMgPSB0aGlzWzBdLnBhcmVudE5vZGUuY2hpbGRyZW47CgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb3RoZXJzLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIGlmIChicm90aGVyc1tpXSA9PSB0aGlzWzBdKSB7CgkgICAgICAgICAgaW5kZXggPSBpOwoJICAgICAgICAgIGJyZWFrOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICByZXR1cm4gaW5kZXg7CgkgICAgfQoJICB9XSwgW3sKCSAgICBrZXk6ICdmbicsCgkgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CgkgICAgICB2YXIgdmlzaWJsZSA9IGZ1bmN0aW9uIHZpc2libGUoZWxlKSB7CgkgICAgICAgIHZhciBwb3MgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkgICAgICAgIHZhciB3ID0gdm9pZCAwOwoJICAgICAgICB2YXIgaCA9IHZvaWQgMDsKCSAgICAgICAgdmFyIGluVmlld1BvcnQgPSB2b2lkIDA7CgkgICAgICAgIHZhciBkb2NFbGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkgICAgICAgIHZhciBkb2NCb2R5ID0gZG9jdW1lbnQuYm9keTsKCSAgICAgICAgaWYgKGRvY0VsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHsKCSAgICAgICAgICB3ID0gZG9jRWxlLmNsaWVudFdpZHRoIHx8IGRvY0JvZHkuY2xpZW50V2lkdGg7CgkgICAgICAgICAgaCA9IGRvY0VsZS5jbGllbnRIZWlnaHQgfHwgZG9jQm9keS5jbGllbnRIZWlnaHQ7CgkgICAgICAgICAgaW5WaWV3UG9ydCA9IHBvcy50b3AgPiBoIHx8IHBvcy5ib3R0b20gPCAwIHx8IHBvcy5sZWZ0ID4gdyB8fCBwb3MucmlnaHQgPCAwOwoJICAgICAgICAgIHJldHVybiBpblZpZXdQb3J0ID8gZmFsc2UgOiB0cnVlOwoJICAgICAgICB9CgkgICAgICB9OwoJICAgICAgdmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UoKSB7CgkgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CgkgICAgICAgICAgc291cmNlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwoJICAgICAgICB9CgoJICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIFt7fV0uY29uY2F0KHNvdXJjZXMpKTsKCSAgICAgIH07CgkgICAgICByZXR1cm4gewoJICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLAoJICAgICAgICBtZXJnZTogbWVyZ2UKCSAgICAgIH07CgkgICAgfQoJICB9XSk7CgoJICByZXR1cm4ganFMaXRlOwoJfSgpOwoKCXZhciAkID0gZnVuY3Rpb24gJCgpIHsKCSAgdmFyIHNlbGVjdG9ycyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzBdOwoJICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50IDogYXJndW1lbnRzWzFdOwoKCSAgcmV0dXJuIG5ldyBqcUxpdGUoc2VsZWN0b3JzLCBjb250ZXh0KTsKCX07CgkkLmZuID0ganFMaXRlLmZuOwoKCWV4cG9ydHMuZGVmYXVsdCA9ICQ7CgovKioqLyB9LAovKiAyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSd1c2Ugc3RyaWN0JzsKCXZhciBjdHggICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMykKCSAgLCAkZXhwb3J0ICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSkKCSAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpCgkgICwgY2FsbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KQoJICAsIGlzQXJyYXlJdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCkKCSAgLCB0b0xlbmd0aCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpCgkgICwgZ2V0SXRlckZuICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTsKCSRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oMjkpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5JywgewoJICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCgkgIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pewoJICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKQoJICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheQoJICAgICAgLCAkJCAgICAgID0gYXJndW1lbnRzCgkgICAgICAsICQkbGVuICAgPSAkJC5sZW5ndGgKCSAgICAgICwgbWFwZm4gICA9ICQkbGVuID4gMSA/ICQkWzFdIDogdW5kZWZpbmVkCgkgICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkCgkgICAgICAsIGluZGV4ICAgPSAwCgkgICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTykKCSAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yOwoJICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sICQkbGVuID4gMiA/ICQkWzJdIDogdW5kZWZpbmVkLCAyKTsKCSAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2UKCSAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7CgkgICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7CgkgICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTsKCSAgICAgIH0KCSAgICB9IGVsc2UgewoJICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpOwoJICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXsKCSAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07CgkgICAgICB9CgkgICAgfQoJICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDsKCSAgICByZXR1cm4gcmVzdWx0OwoJICB9Cgl9KTsKCgovKioqLyB9LAovKiAzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZwoJdmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpewoJICBhRnVuY3Rpb24oZm4pOwoJICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuOwoJICBzd2l0Y2gobGVuZ3RoKXsKCSAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXsKCSAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpOwoJICAgIH07CgkgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7CgkgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTsKCSAgICB9OwoJICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpewoJICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7CgkgICAgfTsKCSAgfQoJICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7CgkgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CgkgIH07Cgl9OwoKLyoqKi8gfSwKLyogNCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTsKCSAgcmV0dXJuIGl0OwoJfTsKCi8qKiovIH0sCi8qIDUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJdmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNikKCSAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpCgkgICwgaGlkZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KQoJICAsIHJlZGVmaW5lICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpCgkgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKQoJICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnOwoKCXZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXsKCSAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkYKCSAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkcKCSAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlMKCSAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlAKCSAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkIKCSAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXQoJICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSkKCSAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pCgkgICAgLCBrZXksIG93biwgb3V0LCBleHA7CgkgIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lOwoJICBmb3Ioa2V5IGluIHNvdXJjZSl7CgkgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlCgkgICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDsKCSAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZAoJICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07CgkgICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHQKCSAgICBleHAgPSBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDsKCSAgICAvLyBleHRlbmQgZ2xvYmFsCgkgICAgaWYodGFyZ2V0ICYmICFvd24pcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCk7CgkgICAgLy8gZXhwb3J0CgkgICAgaWYoZXhwb3J0c1trZXldICE9IG91dCloaWRlKGV4cG9ydHMsIGtleSwgZXhwKTsKCSAgICBpZihJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dClleHBQcm90b1trZXldID0gb3V0OwoJICB9Cgl9OwoJZ2xvYmFsLmNvcmUgPSBjb3JlOwoJLy8gdHlwZSBiaXRtYXAKCSRleHBvcnQuRiA9IDE7ICAvLyBmb3JjZWQKCSRleHBvcnQuRyA9IDI7ICAvLyBnbG9iYWwKCSRleHBvcnQuUyA9IDQ7ICAvLyBzdGF0aWMKCSRleHBvcnQuUCA9IDg7ICAvLyBwcm90bwoJJGV4cG9ydC5CID0gMTY7IC8vIGJpbmQKCSRleHBvcnQuVyA9IDMyOyAvLyB3cmFwCgltb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7CgovKioqLyB9LAovKiA2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4Cgl2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGgKCSAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpOwoJaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYKCi8qKiovIH0sCi8qIDcgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJdmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMS4yLjYnfTsKCWlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZgoKLyoqKi8gfSwKLyogOCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgJCAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSkKCSAgLCBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7Cgltb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXsKCSAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpOwoJfSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7CgkgIG9iamVjdFtrZXldID0gdmFsdWU7CgkgIHJldHVybiBvYmplY3Q7Cgl9OwoKLyoqKi8gfSwKLyogOSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgl2YXIgJE9iamVjdCA9IE9iamVjdDsKCW1vZHVsZS5leHBvcnRzID0gewoJICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSwKCSAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZiwKCSAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsCgkgIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLAoJICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LAoJICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsCgkgIGdldEtleXM6ICAgICRPYmplY3Qua2V5cywKCSAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLAoJICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywKCSAgZWFjaDogICAgICAgW10uZm9yRWFjaAoJfTsKCi8qKiovIH0sCi8qIDEwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7CgkgIHJldHVybiB7CgkgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLAoJICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSwKCSAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksCgkgICAgdmFsdWUgICAgICAgOiB2YWx1ZQoJICB9OwoJfTsKCi8qKiovIH0sCi8qIDExICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHkKCW1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uKCl7CgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7Cgl9KTsKCi8qKiovIH0sCi8qIDEyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7CgkgIHRyeSB7CgkgICAgcmV0dXJuICEhZXhlYygpOwoJICB9IGNhdGNoKGUpewoJICAgIHJldHVybiB0cnVlOwoJICB9Cgl9OwoKLyoqKi8gfSwKLyogMTMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcKCS8vIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZQoJdmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNikKCSAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpCgkgICwgU1JDICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoJ3NyYycpCgkgICwgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJwoJICAsICR0b1N0cmluZyA9IEZ1bmN0aW9uW1RPX1NUUklOR10KCSAgLCBUUEwgICAgICAgPSAoJycgKyAkdG9TdHJpbmcpLnNwbGl0KFRPX1NUUklORyk7CgoJX193ZWJwYWNrX3JlcXVpcmVfXyg3KS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpOwoJfTsKCgkobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBrZXksIHZhbCwgc2FmZSl7CgkgIGlmKHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJyl7CgkgICAgdmFsLmhhc093blByb3BlcnR5KFNSQykgfHwgaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpOwoJICAgIHZhbC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpIHx8IGhpZGUodmFsLCAnbmFtZScsIGtleSk7CgkgIH0KCSAgaWYoTyA9PT0gZ2xvYmFsKXsKCSAgICBPW2tleV0gPSB2YWw7CgkgIH0gZWxzZSB7CgkgICAgaWYoIXNhZmUpZGVsZXRlIE9ba2V5XTsKCSAgICBoaWRlKE8sIGtleSwgdmFsKTsKCSAgfQoJfSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7CgkgIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCAkdG9TdHJpbmcuY2FsbCh0aGlzKTsKCX0pOwoKLyoqKi8gfSwKLyogMTQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJdmFyIGlkID0gMAoJICAsIHB4ID0gTWF0aC5yYW5kb20oKTsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXsKCSAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTsKCX07CgovKioqLyB9LAovKiAxNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpCgl2YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpOwoJfTsKCi8qKiovIH0sCi8qIDE2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCS8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIgKyBpdCk7CgkgIHJldHVybiBpdDsKCX07CgovKioqLyB9LAovKiAxNyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCgl2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7CgkgIHRyeSB7CgkgICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTsKCSAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbikKCSAgfSBjYXRjaChlKXsKCSAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddOwoJICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7CgkgICAgdGhyb3cgZTsKCSAgfQoJfTsKCi8qKiovIH0sCi8qIDE4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpOwoJICByZXR1cm4gaXQ7Cgl9OwoKLyoqKi8gfSwKLyogMTkgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7Cgl9OwoKLyoqKi8gfSwKLyogMjAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvcgoJdmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKQoJICAsIElURVJBVE9SICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7Cgl9OwoKLyoqKi8gfSwKLyogMjEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSB7fTsKCi8qKiovIH0sCi8qIDIyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBzdG9yZSAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSgnd2tzJykKCSAgLCB1aWQgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KQoJICAsIFN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNikuU3ltYm9sOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXsKCSAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9CgkgICAgU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpOwoJfTsKCi8qKiovIH0sCi8qIDIzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpCgkgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXycKCSAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7CgkgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pOwoJfTsKCi8qKiovIH0sCi8qIDI0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIDcuMS4xNSBUb0xlbmd0aAoJdmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpCgkgICwgbWluICAgICAgID0gTWF0aC5taW47Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTEKCX07CgovKioqLyB9LAovKiAyNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgkvLyA3LjEuNCBUb0ludGVnZXIKCXZhciBjZWlsICA9IE1hdGguY2VpbAoJICAsIGZsb29yID0gTWF0aC5mbG9vcjsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTsKCX07CgovKioqLyB9LAovKiAyNiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNykKCSAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwoJbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpewoJICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXQoJICAgIHx8IGl0WydAQGl0ZXJhdG9yJ10KCSAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldOwoJfTsKCi8qKiovIH0sCi8qIDI3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCgl2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCkKCSAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgndG9TdHJpbmdUYWcnKQoJICAvLyBFUzMgd3JvbmcgaGVyZQoJICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnOwoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICB2YXIgTywgVCwgQjsKCSAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnCgkgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlCgkgICAgOiB0eXBlb2YgKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVAoJICAgIC8vIGJ1aWx0aW5UYWcgY2FzZQoJICAgIDogQVJHID8gY29mKE8pCgkgICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFjawoJICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCOwoJfTsKCi8qKiovIH0sCi8qIDI4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCXZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nOwoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpOwoJfTsKCi8qKiovIH0sCi8qIDI5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBJVEVSQVRPUiAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlOwoKCXRyeSB7CgkgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTsKCSAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTsKCSAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7Cgl9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7CgkgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTsKCSAgdmFyIHNhZmUgPSBmYWxzZTsKCSAgdHJ5IHsKCSAgICB2YXIgYXJyICA9IFs3XQoJICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpOwoJICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHNhZmUgPSB0cnVlOyB9OwoJICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTsKCSAgICBleGVjKGFycik7CgkgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH0KCSAgcmV0dXJuIHNhZmU7Cgl9OwoKLyoqKi8gfSwKLyogMzAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSkKCXZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTsKCgkkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMzEpfSk7CgovKioqLyB9LAovKiAzMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pCgl2YXIgJCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpCgkgICwgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KQoJICAsIElPYmplY3QgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7CgoJLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCgltb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uKCl7CgkgIHZhciBhID0gT2JqZWN0LmFzc2lnbgoJICAgICwgQSA9IHt9CgkgICAgLCBCID0ge30KCSAgICAsIFMgPSBTeW1ib2woKQoJICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7CgkgIEFbU10gPSA3OwoJICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7CgkgIHJldHVybiBhKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKGEoe30sIEIpKS5qb2luKCcnKSAhPSBLOwoJfSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCgkgIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldCkKCSAgICAsICQkICAgID0gYXJndW1lbnRzCgkgICAgLCAkJGxlbiA9ICQkLmxlbmd0aAoJICAgICwgaW5kZXggPSAxCgkgICAgLCBnZXRLZXlzICAgID0gJC5nZXRLZXlzCgkgICAgLCBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzCgkgICAgLCBpc0VudW0gICAgID0gJC5pc0VudW07CgkgIHdoaWxlKCQkbGVuID4gaW5kZXgpewoJICAgIHZhciBTICAgICAgPSBJT2JqZWN0KCQkW2luZGV4KytdKQoJICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpCgkgICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoCgkgICAgICAsIGogICAgICA9IDAKCSAgICAgICwga2V5OwoJICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07CgkgIH0KCSAgcmV0dXJuIFQ7Cgl9IDogT2JqZWN0LmFzc2lnbjsKCi8qKiovIH0sCi8qIDMyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCgl2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7Cgltb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpewoJICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7Cgl9OwoKLyoqKi8gfSwKLyogMzMgKi8sCi8qIDM0ICovLAovKiAzNSAqLywKLyogMzYgKi8sCi8qIDM3ICovLAovKiAzOCAqLywKLyogMzkgKi8sCi8qIDQwICovLAovKiA0MSAqLywKLyogNDIgKi8sCi8qIDQzICovLAovKiA0NCAqLywKLyogNDUgKi8sCi8qIDQ2ICovLAovKiA0NyAqLywKLyogNDggKi8sCi8qIDQ5ICovLAovKiA1MCAqLywKLyogNTEgKi8sCi8qIDUyICovLAovKiA1MyAqLywKLyogNTQgKi8sCi8qIDU1ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSJ1c2Ugc3RyaWN0IjsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCXZhciAkaW50ZXJ2YWwgPSBmdW5jdGlvbiAkaW50ZXJ2YWwoZm4sIGRlbGF5KSB7CgkgIHZhciBpbnRlcnZhbCA9IGZ1bmN0aW9uIGludGVydmFsKCkgewoJICAgIGZuLmNhbGwodW5kZWZpbmVkKTsKCSAgICBpZCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIGRlbGF5KTsKCSAgfTsKCgkgIHZhciBpZCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIGRlbGF5KTsKCgkgIHJldHVybiBmdW5jdGlvbiAoKSB7CgkgICAgd2luZG93LmNsZWFyVGltZW91dChpZCk7CgkgIH07Cgl9OwoKCSRpbnRlcnZhbC5jYW5jZWwgPSBmdW5jdGlvbiAodGltZXJGdW5jKSB7CgkgIHRpbWVyRnVuYygpOwoJfTsKCglleHBvcnRzLmRlZmF1bHQgPSAkaW50ZXJ2YWw7CgovKioqLyB9LAovKiA1NiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkndXNlIHN0cmljdCc7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewoJICB2YWx1ZTogdHJ1ZQoJfSk7CgoJdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgoJdmFyIF9qcUxpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKCXZhciBfanFMaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pxTGl0ZSk7CgoJdmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTsKCgl2YXIgX2NvbmZpZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWcpOwoKCWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgoJZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgoJdmFyIE1haW4gPSBmdW5jdGlvbiAoKSB7CgkgIGZ1bmN0aW9uIE1haW4oKSB7CgkgICAgdmFyIHJ1bGVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gX2NvbmZpZzIuZGVmYXVsdC5ydWxlcyA6IGFyZ3VtZW50c1swXTsKCgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW4pOwoKCSAgICB0aGlzLmFkcyA9ICgwLCBfanFMaXRlMi5kZWZhdWx0KShydWxlcyk7CgkgICAgdGhpcy5sZW5ndGggPSB0aGlzLmFkcy5sZW5ndGg7CgkgIH0KCgkgIF9jcmVhdGVDbGFzcyhNYWluLCBbewoJICAgIGtleTogJ2ZpbHRlcicsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcigpIHsKCSAgICAgIHRoaXMuYWRzLmVhY2goZnVuY3Rpb24gKGVsZSwgaSkgewoJICAgICAgICBlbGUuc3R5bGUuY3NzVGV4dCA9ICdcbiAgICAgICAgICBkaXNwbGF5Om5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICB2aXNpYmlsaXR5OmhpZGRlbiAhaW1wb3J0YW50O1xuICAgICAgICAgIHdpZHRoOjAgIWltcG9ydGFudDtcbiAgICAgICAgICBoZWlnaHQ6MCAhaW1wb3J0YW50O1xuICAgICAgICAgIG92ZXJmbG93OmhpZGRlbiAhaW1wb3J0YW50O1xuICAgICAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6cmVkICFpbXBvcnRhbnQ7XG4gICAgICAgICAgLy8gYm9yZGVyOjFweCBzb2xpZCByZWQ7XG4gICAgICAgICc7CgkgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoJ2ZpbHRlcmVkJywgJycpOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd0dXJuJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gdHVybigpIHsKCSAgICAgICgwLCBfanFMaXRlMi5kZWZhdWx0KSgnI2NvbnRlbnRfbGVmdCBpbnB1dFt0eXBlPWNoZWNrYm94XTpub3QoZmlsdGVyZWQpJykuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5jaGVja2VkID0gZmFsc2U7CgkgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoJ2ZpbHRlcmVkJywgJycpOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH1dKTsKCgkgIHJldHVybiBNYWluOwoJfSgpOwoKCWV4cG9ydHMuZGVmYXVsdCA9IE1haW47CgovKioqLyB9LAovKiA1NyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgkndXNlIHN0cmljdCc7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewoJICB2YWx1ZTogdHJ1ZQoJfSk7Cgl2YXIgQ09ORklHID0gewoJICBydWxlczogJ1xuICAgICNjb250ZW50X2xlZnQ+ZGl2XG4gICAgOm5vdChbY2xhc3MqPXJlc3VsdF0pXG4gICAgOm5vdChbY2xhc3MqPWNvbnRhaW5lcl0pXG4gICAgOm5vdCgubGVmdEJsb2NrKVxuICAgIDpub3QoI3JzX3RvcF9uZXcpXG4gICAgOm5vdChbZmlsdGVyZWRdKVxuICAgICxcbiAgICAjY29udGVudF9sZWZ0PnRhYmxlXG4gICAgOm5vdCgucmVzdWx0KVxuICAgIDpub3QoW2ZpbHRlcmVkXSlcbiAgICAsXG4gICAgI2NvbnRlbnRfcmlnaHQ+dGFibGUgdGRcbiAgICBkaXYjZWNfaW1fY29udGFpbmVyXG4gICAgLFxuICAgIGRpdi5zLW5ld3MtbGlzdC13cmFwcGVyPmRpdlxuICAgIDpub3QoW2RhdGEtcmVsYXRld29yZHMqPSIxIl0pXG4gICAgLFxuICAgIGRpdi5saXN0LXdyYXBlciBkbFtkYXRhLW9hZF1cbiAgICA6bm90KFtkYXRhLWZiXSlcbiAgICA6bm90KFtmaWx0ZXJlZF0pXG4gICcudHJpbSgpLnJlcGxhY2UoL1xuL2ltZywgJycpLnJlcGxhY2UoL1xzezEsfShbXmEtekEtWl0pL2csICckMScpCgl9OwoKCWV4cG9ydHMuZGVmYXVsdCA9IENPTkZJRzsKCi8qKiovIH0KLyoqKioqKi8gXSk7"},{"name":"+APIKey","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?\\:\\/\\/(pan|yun)\\.baidu\\.com.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970037},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/496-%E7%99%BE%E5%BA%A6%E4%BA%91%E6%8F%92%E4%BB%B6-apikey/code/%E7%99%BE%E5%BA%A6%E4%BA%91%E6%8F%92%E4%BB%B6+APIKey.user.js","uuid":"7963ccef-66f9-42b1-9a24-051c91bf1363","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAg55m+5bqm5LqR5o+S5Lu2K0FQSUtleQovLyBAbmFtZXNwYWNlICAKLy8gQHZlcnNpb24gICAgNS4wLjIuMwovLyBAZGVzY3JpcHRpb24gIOWcqOeZvuW6puS6kee9keebmOeahOmhtemdoua3u+WKoOS4gOS4quaQnOe0ouahhu+8jOiwg+eUqOaQnOe0okFQSeaQnOe0ouaJgOacieWFrOW8gOWIhuS6q+aWh+S7ti8vIFRvIGFkZCBhIHNlYXJjaCBmcmFtZSB0aGF0IGNhbGxzIHNvbWUgYXBpIGZvciBzZWFyY2hpbmcgc29tZSBwdWJsaWMgc2hhcmVkIGZpbGVzIGluIEJhaWR1WXVuIGNsb3VkIG5ldGRpc2suIAovLyBAZGVzY3JpcHRpb24gIEZvciBtb3JlIGltZm9ybWF0aW9uLHBsZWFzZSBlbWFpbCBtZSBhdCB3YW5naHNpbmNoZUBob3RtYWlsLmNvbS4gCi8vIEBpbmNsdWRlICAgICAgIC9odHRwcz9cOlwvXC8ocGFufHl1bilcLmJhaWR1XC5jb20uKi8KLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBydW4tYXQgZG9jdW1lbnQtZW5kCi8vIEBjb3B5cmlnaHQgIDIwMTQsMDQsMjAgX19CeSBXYW5nIEhzaW4tY2hlICAgCi8vID09L1VzZXJTY3JpcHQ9PQoKLyp0aGFua3MgdG8gdGhlIHR1dG9yaWFsIG9mIG12YyAgYXQgCmh0dHBzOi8vYWxleGF0bmV0LmNvbS9hcnRpY2xlcy9tb2RlbC12aWV3LWNvbnRyb2xsZXItbXZjLWphdmFzY3JpcHQqLwoKCi8vRXZlbnQgaXMgYSBzaW1wbGUgY2xhc3MgZm9yIGltcGxlbWVudGluZyB0aGUgT2JzZXJ2ZXIgcGF0dGVybjoKZnVuY3Rpb24gRXZlbnQoc2VuZGVyKSB7CiAgICB0aGlzLl9zZW5kZXIgPSBzZW5kZXI7CiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTsKfQoKRXZlbnQucHJvdG90eXBlID0gewogICAgYXR0YWNoIDogZnVuY3Rpb24gKGxpc3RlbmVyKSB7Ly9wdXNoIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpbnRvIF9saXN0ZW5lcnNbXTsKICAgICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7CiAgICB9LAogICAgbm90aWZ5IDogZnVuY3Rpb24gKGFyZ3MpIHsvL3BvcCBhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucyBhbmQgZXhlY3V0ZSB0aGUgZnVuY3Rpb25zIHdpdGggc2FtZSBhcmdzPwogICAgICAgIHZhciBpbmRleDsKCiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDsgaW5kZXggKz0gMSkgewogICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbaW5kZXhdKHRoaXMuX3NlbmRlciwgYXJncyk7Ly9hdXRvIHBhc3Mgc2VuZGVyIGFuZCBhcmdzIGludG8gY2FsbGJhY2sgZnVuY3Rpb24sIHNvIHRoZSBkZWZhdWx0IGZvcm0gb2YgY2FsbGJhY2sgZnVuY3Rpb24gaXMgZnVuY3Rpb24oc2VuZGVyLGFyZ3Mpe30KICAgICAgICB9CiAgICB9Cn07CgovL0phdmFzY3JpcHQtdGVtcGxhdGUtZW5naW5lLWluLWp1c3QtMjAtbGluZQovL2J5IGJ5IEtyYXNpbWlyIGh0dHA6Ly9rcmFzaW1pcnRzb25ldi5jb20vYmxvZy9hcnRpY2xlL0phdmFzY3JpcHQtdGVtcGxhdGUtZW5naW5lLWluLWp1c3QtMjAtbGluZQp2YXIgVGVtcGxhdGVFbmdpbmUgPSBmdW5jdGlvbihodG1sLCBvcHRpb25zKSB7CiAgICB2YXIgcmUgPSAvPCUoW14lPl0rKT8lPi9nLCByZUV4cCA9IC8oXiggKT8oaWZ8Zm9yfGVsc2V8c3dpdGNofGNhc2V8YnJlYWt8e3x9KSkoLiopPy9nLCBjb2RlID0gJ3ZhciByPVtdO1xuJywgY3Vyc29yID0gMCwgbWF0Y2g7CiAgICB2YXIgYWRkID0gZnVuY3Rpb24obGluZSwganMpIHsKICAgICAgICBqcz8gKGNvZGUgKz0gbGluZS5tYXRjaChyZUV4cCkgPyBsaW5lICsgJ1xuJyA6ICdyLnB1c2goJyArIGxpbmUgKyAnKTtcbicpIDoKICAgICAgICAgICAgKGNvZGUgKz0gbGluZSAhPSAnJyA/ICdyLnB1c2goIicgKyBsaW5lLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyIpO1xuJyA6ICcnKTsKICAgICAgICByZXR1cm4gYWRkOwogICAgfTsKICAgIHdoaWxlKG1hdGNoID0gcmUuZXhlYyhodG1sKSkgewogICAgICAgIGFkZChodG1sLnNsaWNlKGN1cnNvciwgbWF0Y2guaW5kZXgpKShtYXRjaFsxXSwgdHJ1ZSk7CiAgICAgICAgY3Vyc29yID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICB9CiAgICBhZGQoaHRtbC5zdWJzdHIoY3Vyc29yLCBodG1sLmxlbmd0aCAtIGN1cnNvcikpOwogICAgY29kZSArPSAncmV0dXJuIHIuam9pbigiIik7JzsKICAgIHJldHVybiBuZXcgRnVuY3Rpb24oY29kZS5yZXBsYWNlKC9bXHJcdFxuXS9nLCAnJykpLmFwcGx5KG9wdGlvbnMpOwp9OwoKLyoqCiAqIFRoZSBNb2RlbC4gTW9kZWwgc3RvcmVzIGl0ZW1zIGFuZCBub3RpZmllcwogKiBvYnNlcnZlcnMgYWJvdXQgY2hhbmdlcy4KICovCgogdmFyIEJhc2VNb2RlbD1mdW5jdGlvbihlbmdpbmVMc3QpewogICAgdGhpcy5rZXl3b3JkPSIiOwogICAgdGhpcy5lbmdpbmU9ImRlZmF1bHQiOwogICAgdGhpcy5lbmdpbmVMc3Q9ZW5naW5lTHN0OwogICAgdGhpcy5qc29uT2JqPXsgCiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiB7IAogICAgICAgICAgICAgICAgICAgICAgICBlc3RpbWF0ZWRSZXN1bHRDb3VudDogMCwgCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdENvdW50OiAwIH0sIAogICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdCiAgICAgICAgICAgICAgICB9OwogICAgdGhpcy5jdXJyPTE7CiAgICB0aGlzLnRvdGFsUGFnZT0xOwogICAgdGhpcy51cmxzPXtkZWZhdWx0OidodHRwOi8vJyx9OwogICAgdGhpcy5zdGF0ZT1mYWxzZTsKICAgIHRoaXMuY29udGVudFVwZGF0ZWQ9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5yZXF1ZXN0RXZlbnQ9bmV3IEV2ZW50KHRoaXMpOwogfTsKIEJhc2VNb2RlbC5wcm90b3R5cGU9ewogICAgc2V0RW5naW5lOmZ1bmN0aW9uKGVuZ2luZSl7CiAgICAJdmFyIHRlbXBPYmogPSB7fTsKICAgICAgICB0aGlzLmVuZ2luZT1lbmdpbmU7CiAgICAgICAgdGVtcE9ialsnZW5naW5lJ10gPSBlbmdpbmU7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3eHpZdW5wYW5TZWFyY2hlcicsSlNPTi5zdHJpbmdpZnkodGVtcE9iaikpOwogICAgICAgIHRlbXBPYmogPSBudWxsOwogICAgfSwKICAgIHVwZGF0ZUN1cnI6ZnVuY3Rpb24oY3Vycil7CiAgICAgICAgdGhpcy5jdXJyPWN1cnI7CiAgICB9LAogICAgdXBkYXRlS2V5d29yZDpmdW5jdGlvbihrZXl3b3JkKXsKICAgICAgICB0aGlzLmtleXdvcmQ9a2V5d29yZDsKICAgIH0sCiAgICByZXF1ZXN0OmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5yZXF1ZXN0RXZlbnQubm90aWZ5KCk7CiAgICAgICAgdmFyIF90aGlzPXRoaXM7CiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpcy5jb21waWxlVXJsW190aGlzLmVuZ2luZV0oX3RoaXMpLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAiLCAvLyBJZiBub3Qgc3BlY2lmaWVkLCBuYXZpZ2F0b3IudXNlckFnZW50IHdpbGwgYmUgdXNlZC4KICAgICAgICAgICAgICAgICAgICAgICAgIkFjY2VwdCI6ICJ0ZXh0L3htbCIgLy8gSWYgbm90IHNwZWNpZmllZCwgYnJvd3NlciBkZWZhdWx0cyB3aWxsIGJlIHVzZWQuCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpzb25PYmo9X3RoaXMudG9Kc29uW190aGlzLmVuZ2luZV0ocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWxQYWdlPShwYXJzZUludChfdGhpcy5qc29uT2JqLmN1cnNvci5yZXN1bHRDb3VudCktcGFyc2VJbnQoX3RoaXMuanNvbk9iai5jdXJzb3IucmVzdWx0Q291bnQpJTEwKS8xMCsxOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZT10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3NlbGY9X3RoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRlbnRVcGRhdGVkLm5vdGlmeShfc2VsZi5zdGF0ZSk7ICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpzb25PYmo9eyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQ6IDAgfSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsUGFnZT0xOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZT1mYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9zZWxmPV90aGlzOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50VXBkYXRlZC5ub3RpZnkoX3NlbGYuc3RhdGUpOyAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICB9LAogICAgZGVzdG9yeTpmdW5jdGlvbigpewogICAgICAgIHRoaXMuanNvbk9iaj17fTsKICAgICAgICB0aGlzLnRvdGFsUGFnZT0wOwogICAgICAgIHRoaXMuc3RhdGU9ZmFsc2U7IAogICAgICAgIHRoaXMuY3Vycj0wOwogICAgICAgIHRoaXMua2V5d29yZD0iIjsKICAgIH0sCiAgICB0b0pzb246ewogICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24odGV4dCl7CiAgICAgICAgICAgIHZhciBqc29uT2JqID0geyAKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCAKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQ6IDAgfSwgCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4ganNvbk9iajsKICAgICAgICB9LAogICAgfSwKICAgIGNvbXBpbGVVcmw6ewogICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24oX3RoaXMpewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVybCArIF90aGlzLmtleXdvcmQgKyAnK3NpdGUlM0FwYW4uYmFpZHUuY29tJyArICcmZmlyc3Q9JyArIF90aGlzLmN1cnI7CiAgICAgICAgICAgIH0sICAgICAgICAKICAgIH0sCiB9OwoKIHZhciBWaWV3ZXI9ZnVuY3Rpb24obW9kZWwsVUllbGVtZW50cyl7CiAgICB0aGlzLm1vZGVsPW1vZGVsOwogICAgdGhpcy5VST1VSWVsZW1lbnRzOwogICAgdGhpcy5zZWFyY2hDbGljaz1uZXcgRXZlbnQodGhpcyk7CiAgICB0aGlzLmNsb3NlQ2xpY2s9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5uZXh0Q2xpY2s9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5wcmVDbGljaz1uZXcgRXZlbnQodGhpcyk7CiAgICB0aGlzLnRvUGFnZUNsaWNrPW5ldyBFdmVudCh0aGlzKTsKICAgIHRoaXMuZW5naW5lT3B0Q2hhbmdlPW5ldyBFdmVudCh0aGlzKTsKICAgIHZhciBib2R5Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTsKICAgIHZhciBfc2VsZj10aGlzOwogICAgdGhpcy5VSS5zZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgLyogQWN0IG9uIHRoZSBldmVudCAqLwogICAgICAgIHZhciBjdXJyPTE7CiAgICAgICAgdmFyIGtleXdvcmQ9X3NlbGYuVUkuaW5wdXRFbGUudmFsdWU7CiAgICAgICAgaWYoa2V5d29yZC5yZXBsYWNlKC9ccyovLCcnKSE9PScnKXsKICAgICAgICAgICAgX3NlbGYuc2VhcmNoQ2xpY2subm90aWZ5KHtjdXJyOmN1cnIsa2V5d29yZDprZXl3b3JkfSk7CiAgICAgICAgfQogICAgfSk7CiAgICB0aGlzLlVJLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkgewogICAgICAgIC8qIEFjdCBvbiB0aGUgZXZlbnQgKi8KICAgICAgICBfc2VsZi5jbG9zZUNsaWNrLm5vdGlmeSgpOwogICAgfSk7CiAgICAvLyB0aGlzLlVJLmlucHV0RWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxmdW5jdGlvbihldmVudCkgewogICAgLy8gICAgICAgICB2YXIgY2xpY2tFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCJjbGljayIpOyAgICAgICAgICAgIAogICAgLy8gICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT0gMTMpIHsKICAgIC8vICAgICAgICAgICAgIF9zZWxmLlVJLnNlYXJjaEJ0bi5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICAgIGNsaWNrRXZlbnQgPSBudWxsOwogICAgLy8gICAgIH0pOwogICAgYm9keU5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKF9zZWxmLlVJLmVuZ2luZUJ0bkNsYXNzTmFtZSkgIT09IC0xICkgewogICAgICAgICAgICBfc2VsZi5lbmdpbmVPcHRDaGFuZ2Uubm90aWZ5KGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW5naW5lJykpOyAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKF9zZWxmLlVJLnRvUGFnZUJ0bkNsYXNzTmFtZSkgIT09IC0xICkgewogICAgICAgICAgICBfc2VsZi50b1BhZ2VDbGljay5ub3RpZnkocGFyc2VJbnQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJyksMTApKTsKICAgICAgICB9CiAgICB9KTsKICAgICAgICAgICAgICAgICAgCiB9OwogVmlld2VyLnByb3RvdHlwZT17CiAgICByZWZsZXNoRW5naW5lTHN0OmZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHRlbXBsYXRlPSc8JWZvcih2YXIgaSBpbiB0aGlzKXslPicrCiAgICAgICAgICAgICAgICAgICAgJzxsaSBub2RlLXR5cGU9ImNsaWNrLWVsZSIgZGF0YS1lbmdpbmU9IjwldGhpc1tpXSU+IiBjbGFzcz0ibGkgd3h6LW1lbnUtb3B0aW9uIj4nKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J5IDwldGhpc1tpXSU+JysKICAgICAgICAgICAgICAgICAgICAnPC9saT4nKwogICAgICAgICAgICAgICAgICAgICc8JX0lPic7CiAgICAgICAgdmFyIGh0bWw9VGVtcGxhdGVFbmdpbmUodGVtcGxhdGUsdGhpcy5tb2RlbC5lbmdpbmVMc3QpOwogICAgICAgIHRoaXMuVUkuZW5naW5lTHN0LmlubmVySFRNTCA9IGh0bWw7CiAgICB9LAogICAgdXBkYXRlRW5naW5lOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5VSS5tZW51LnRleHRDb250ZW50ID0gdGhpcy5tb2RlbC5lbmdpbmU7CiAgICB9LAogICAgc2hvdzpmdW5jdGlvbigpewogICAgICAgIHRoaXMuVUkubXlEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5VSS5iZ05vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5VSS5teURpdi5zdHlsZS50b3AgPSAnNTAlJzsKICAgICAgICB0aGlzLlVJLm15RGl2LnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLlVJLm15RGl2LmNsaWVudEhlaWdodCAvIDIgKiAtMSkgKyAncHgnOyAgICAKICAgIH0sCiAgICByZWZsZXNoOmZ1bmN0aW9uKHN1Y2Nlc3MpewogICAgICAgIHZhciB0ZW1wbGF0ZT0iPHAgYWxpZ249J3JpZ2h0Jz4tLS0tIGJ5IDwldGhpcy5lbmdpbmUlPi5jb20gU2VhcmNoIDwvcD48cCB3aGl0ZS1zcGFjZT0nbm9ybWFsJyBjbGFzcz0ndGVtcCcgPmtleXdvcmQgaXMgICAgJzwldGhpcy5rZXl3b3JkJT4nICAgIGZvdW5kICAnPCV0aGlzLmpzb25PYmouY3Vyc29yLnJlc3VsdENvdW50JT4nICBSZXN1bHRzPC9wPjxwPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPHA+IjsKICAgICAgICAKICAgICAgICB0ZW1wbGF0ZSs9JzwlZm9yKHZhciBpIGluIHRoaXMuanNvbk9iai5yZXN1bHRzKXslPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+PHAgY2xhc3M9Im15VGl0bGUiPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj0iPCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS51bmVzY2FwZWRVcmwlPiJ0YXJnZXQ9Il9ibGFuayI+PCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS50aXRsZU5vRm9ybWF0dGluZyU+PC9hPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPHAgY2xhc3M9Im15U25pcHBldCI+PCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS5jb250ZW50Tm9Gb3JtYXR0aW5nJT48L3A+JysKICAgICAgICAgICAgICAgICc8JX0lPic7CiAgICAgICAgdGVtcGxhdGUrPSc8cD48cD4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPHAgY2xhc3M9InRlbXAiIG1hcmdpbi1sZWZ0PSIyMHB4Ij4iIDwldGhpcy5qc29uT2JqLnJlc3VsdHMubGVuZ3RoJT4gIiAgaXRlbXMgaGF2ZSBiZWVuIGxvYWQgPC9wPic7CiAgICAgICAgdmFyIGh0bWw7CiAgICAgICAgaWYoc3VjY2Vzcz09PWZhbHNlKXsKICAgICAgICAgICAgaHRtbD0nPGRpdiBjbGFzcz0ibG9hZGluZy10aXBzIiBhbGlnbj0iY2VudGVyIj7lh7rplJnkuoYuLi4uLi48L2Rpdj4nOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZih0aGlzLm1vZGVsLmpzb25PYmoucmVzdWx0cy5sZW5ndGg9PT0wKXsKICAgICAgICAgICAgICAgIGh0bWw9JzxkaXYgY2xhc3M9ImxvYWRpbmctdGlwcyIgYWxpZ249ImNlbnRlciI+5peg5pCc57Si57uT5p6cLi4u5o2i5Liq5YWz6ZSu6K+N6YeN5paw6K+V6K+V77yfPC9kaXY+JzsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBodG1sPVRlbXBsYXRlRW5naW5lKHRlbXBsYXRlLHRoaXMubW9kZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLlVJLm15Q29udGVudC5pbm5lckhUTUwgPSBodG1sOwogICAgfSwKICAgIGNsb3NlOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5VSS5teURpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIHRoaXMuVUkuYmdOb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy5VSS5pbnB1dEVsZS52YWx1ZSA9ICcnOwogICAgfSwKICAgIGxvYWRpbmc6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLlVJLm15Q29udGVudC5pbm5lckhUTUwgPSAnPGltZyAgd2lkdGg9IjYwMHB4IiBzcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEpnSnVBY1FRQVArS0FDRk1kbHg4bTVlcnY4VFAyakJZZjlQYjVFMXdrYWEzeUxYRDBUOWtpSW1ndG11SXBIcVVyZkR6OXYvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRRk1nQVFBQ3dBQUFBQUpnSnVBUUFGLytBamptUnBubWlxcm16cnZuQXN6M1J0MzNpdTczenYvOENnY0Vnc0dvL0lwSExKYkRxZjBLaDBTcTFhcjlpc2RzdnRlci9nc0hoTUxwdlA2TFI2elc2NzMvQzRmRTZ2MisvNHZIN1A3L3YvZ0lHQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa3BPVWxaYVhtSm1hbTV5ZG5wK2dvYUtqcEtXbXA2aXBxcXVzcmE2dnNMR3lzN1MxdHJlNHVicTd2TDIrdjhEQndzUEV4Y2JIeU1uS3k4ek56cy9RMGRMVDFOWFcxOWpaMnR2YzNkN2Y0T0hpNCtUbDV1Zm82ZXJyN08zdTcvRHg4dlAwOWZiMytQbjYrL3o5L3Y4QUF3b2NTTENnd1lNSUV5cGN5TENodzRjUUkwcWNTTEdpeFlzWU0ycmN5TEdqeDQ4Z1E0b2NTYktreVpNb1UvK3FYTW15cGN1WE1HUEtuRW16cHMyYk9IUHEzTW16cDgrZlFJTUtIVXEwcU5HalNKTXFYY3EwcWRPblVLTktuVXExcXRXcldMTnEzY3ExcTlldllNT0tIVXUyck5temFOT3FYY3UycmR1M2NPUEtuVXUzcnQyN2VQUHEzY3UzcjkrL2dBTUxIa3k0c09IRGlCTXJYc3k0c2VQSGtDTkxua3k1c3VYTG1ETnIzc3k1cytmUG9FT0xIazI2dE9uVHFGT3JYczI2dGV2WHNHUExuazI3dHUzYnVIUHIzczI3dCsvZndJTUxIMDY4dUhFckJnZ1FDS1A4T0JJQkFRU3dHRkFnZ1BVQURBeWtPQkNnQUlvQjE2OGZHR0FDdXZRUjBBTm9SeC9kQkFJRjRSVWtjRTdFL0FydTRhMFhXRzdDd0hVRUo0Q1huM1VIbEdBZmV3RVV5TjcvZVNNME1LQjFBTklYeElIZldaZmRBdzRnVUoxM0ppeHdIWU1rQ0tnY0FRaWt0d0FKRkQ2UVhnRGtpWkNpZ0FLc3A2RjFFazdZWGdyVmdmZ0FBZGExU0VKMStBVklJd2tNRE9uaWpVZnF0K0NQU0lxQWdIWHoxZWhEaWlYd0dFQ1VKSENuWXdMV0dWRGRpU1VJV0lKL1Z5N0pYblhZSGNtZ2xWaU9zSjZVVXpZWnBwRWgwdmxBa1FWNnFJQUpZcGJRbzVscWVoakFjaFQyQ1djUlZOWVpnSkNMa3ZBbm1XMCtZT2dJZjZxSlludlY3VmtvbmZuNWVHZ09pWTR3cWFoMENvaUFjdFUxTUdlampySUlxSXJ0UGNuaXBxdyswT21uTzRRcUFwZGxsc0NkZ2lMZ04rQ3FZMEw1Nm9IcHdiZW1zU0tNV0NtdU9PZ3FRbzVWUGt2bS80TVJpakNxZzdXbVNHRjRJQUpwd3JQUTJnRGRBU09PcUdpTUdGTFhIUW1DK3BxZ29pTW13QzJZbGdJcVlKTXdycGRBZXA0TzRDa0JBcE9Bd0FEWmxndnJnNTZ1R0Y0QmJWYkhRQW15dnJsdmZzRG1xL0VEOE1uSjdZQUZ2R2tsZjVMU0tTMmNEb2ZucWFRZFcvam1BN3dtTElKMStGNU00TXF3Z3BpaWxUbys4RjU4SzQ5TWFyZHlLdnhDY2lSNzBaelJURGZ0OU5OUVJ5MzExRlJYYmZYVldHZXQ5ZFpjZCszMTEyQ0hMWFl6QUpSdDl0bG1xNEQyMm1XcnpUYmFicitkZGdweW54MTMzWGZMbmZmYm1OVTlOd3ArdDAxMzRIdXpYZmphaDhNOXVOK0oyMzFaNEFDNFBiamtnRWMrZWVXVW55QTQ1cHgzYnNMbW1sc2Vldi9maEY4K3V1bWZpMzc2NnF5WEFIcnFxTVB1dWV5dFR3WjU1clRYUHNMcnJxdmVPKzYveDA0Qzc4UDdYanp3eHo5ZSt1ekpNNys3OGMzbkxuMzAweitQdlBYQ1kyL1o3ZG1MUUx6MjFZTWZ2UFBlUXk4KzllT0hYMzcza0hGUC9nUGZyLzgrL09iVGY3Mzg3OGR2Ly96eDYrK1krN3JEWHdEM2w3LzZFVkI5QjB5Zit2VFhQd1ArYjNtaFk5emk4RFpCdlZXUWJ4YzBYQVlSdDBIRmJRK0NxWk5nNVVRWVFRcU8wSVFsdE9BSlZaaENESTd0aFRDTW9ReG5TTU1hMnZDR09NeWhEbmZJd3g3NjhJZEFES0lRaDBqRUlocnhpRWhNb2hLWHlNUW1PdkdKVUl5aUZLZEl4U3BhOFlwWXpLSVd0OGpGTG5yeGkyQU1veGpIU01hV01wcnhqR2hNb3hyWHlNWTJ1dkdOY0l5akhPZEl4enJhOFk1NHpLTWU5OGpIUHZyeGo0QU1wQ0FIU2NoQ0d2S1FpRXlrSWhmSnlFWTY4cEdRaktRa0owbkpTbHJ5a3BqTXBDWTN5Y2xPZXZLVG9BeWxLRWRKeWxLYThwU29US1VxVjhuS1ZycnlsYkNNcFN4blNjdGEydktXdU15bExuZkp5MTc2OHBmQURLWXdoMG5NWWhyem1NaE1waktYeWN4bU92T1phQWdCQUNINUJBVXlBQkFBTE5nQXhnQUpBQWNBQUFVS0lDQ09aR21lYUtxaUlRQWgrUVFGTWdBUUFDenZBTVlBQ1FBSEFBQUZDaUFnam1ScG5taXFvaUVBSWZrRUJUSUFFQUFzQmdIR0FBa0FCd0FBQlFvZ0lJNWthWjVvcXFJaEFDSDVCQVV5QUJBQUxCMEJ4Z0FKQUFjQUFBVUtJQ0NPWkdtZWFLcWlJUUFoK1FRRk1nQVFBQ3cwQWNZQUNRQUhBQUFGQ2lBZ2ptUnBubWlxb2lFQUlma0VCVElBRUFBc1N3SEdBQWtBQndBQUJRb2dJSTVrYVo1b3FxSWhBQ0g1QkFVeUFCQUFMR0lCeGdBSkFBY0FBQVVLSUNDT1pHbWVhS3FpSVFBNyIgLz4nOwogICAgfSwKICAgIHJlZmxlc2hQYWdlTmF2aTpmdW5jdGlvbigpewogICAgICAgIHZhciBwYWdlPXtjdXJyOjEsdG90YWxQYWdlOjEscHJlOnRydWUsbmV4dDp0cnVlLGxzdDpbXX07CiAgICAgICAgcGFnZS5jdXJyPXRoaXMubW9kZWwuY3VycjsKICAgICAgICBwYWdlLnRvdGFsUGFnZT10aGlzLm1vZGVsLnRvdGFsUGFnZT49MTA/MTA6dGhpcy5tb2RlbC50b3RhbFBhZ2U7CiAgICAgICAgcGFnZS5wcmU9cGFnZS5jdXJyPjE/dHJ1ZTpmYWxzZTsKICAgICAgICBwYWdlLm5leHQ9cGFnZS50b3RhbFBhZ2U+cGFnZS5jdXJyP3RydWU6ZmFsc2U7CiAgICAgICAgZm9yKHZhciBpPTE7aTw9cGFnZS50b3RhbFBhZ2U7aSsrKXsKICAgICAgICAgICAgcGFnZS5sc3QucHVzaChpKTsKICAgICAgICB9CiAgICAgICAgdmFyIHRlbXBsYXRlPSAnXAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFnZXNlICJpZD0id3h6LXBhZ2VzZSI+XAogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtY29udGVudCI+XAogICAgICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iIDwlIGlmKHRoaXMucHJlKXsgJT4gcGFnZS1udW1iZXIgPCV9ZWxzZXslPiBnbG9iYWwtZGlzYWJsZWQgPCV9JT4gbW91LWV2dCIgZGF0YS1wYWdlPSI8JXRoaXMuY3Vyci0xJT4iPuS4iuS4gOmhtTwvYT5cCiAgICAgICAgICAgICAgICA8JWZvcih2YXIgaSBpbiB0aGlzLmxzdCl7JT5cCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtYmVyIDwlaWYodGhpcy5sc3RbaV09PXRoaXMuY3Vycil7JT4gZ2xvYmFsLWRpc2FibGVkIDwlfSU+IiBkYXRhLXBhZ2U9IjwldGhpcy5sc3RbaV0lPiI+PCV0aGlzLmxzdFtpXSU+PC9zcGFuPlwKICAgICAgICAgICAgICAgIDwlfSU+XAogICAgICAgICAgICAgICAgPC9zcGFuPlwKICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9IiA8JSBpZih0aGlzLm5leHQpeyAlPiBwYWdlLW51bWJlciA8JX1lbHNleyU+IGdsb2JhbC1kaXNhYmxlZCA8JX0lPiBtb3UtZXZ0IiBkYXRhLXBhZ2U9IjwldGhpcy5jdXJyKzElPiI+5LiL5LiA6aG1PC9hPlwKICAgICAgICAgICAgICAgIDwvZGl2PlwKICAgICAgICAgICAgICAgICc7CiAgICAgICAgdmFyIGh0bWw9VGVtcGxhdGVFbmdpbmUodGVtcGxhdGUscGFnZSk7CiAgICAgICAgdGhpcy5VSS5wYWdlc2UuaW5uZXJIVE1MID0gaHRtbDsKICAgIH0KIH07CgoKIHZhciBDb250cm9sbGVyPWZ1bmN0aW9uKG1vZGVsLHZpZXdlcil7CiAgICB0aGlzLm1vZGVsPW1vZGVsOwogICAgdGhpcy52aWV3ZXI9dmlld2VyOwoKICAgIHZhciBfc2VsZj10aGlzOwoKICAgIHRoaXMudmlld2VyLnNlYXJjaENsaWNrLmF0dGFjaChmdW5jdGlvbihzZW5kZXIsYXJncyl7CiAgICAgICAgX3NlbGYuc2VhcmNoKGFyZ3MuY3VycixhcmdzLmtleXdvcmQpOwogICAgfSk7CiAgICB0aGlzLnZpZXdlci5jbG9zZUNsaWNrLmF0dGFjaChmdW5jdGlvbigpewogICAgICAgIF9zZWxmLmNsb3NlKCk7CiAgICB9KTsKICAgIHRoaXMudmlld2VyLmVuZ2luZU9wdENoYW5nZS5hdHRhY2goZnVuY3Rpb24oc2VuZGVyLGFyZ3MpewogICAgICAgIF9zZWxmLnNldEVuZ2luZShhcmdzKTsKICAgIH0pOwogICAgdGhpcy52aWV3ZXIudG9QYWdlQ2xpY2suYXR0YWNoKGZ1bmN0aW9uKHNlbmRlcixhcmdzKXsKICAgICAgICBfc2VsZi50b1BhZ2UoYXJncyk7CiAgICB9KTsKCiAgICB0aGlzLm1vZGVsLnJlcXVlc3RFdmVudC5hdHRhY2goZnVuY3Rpb24oKXsKICAgICAgICBfc2VsZi5sb2FkaW5nKCk7CiAgICB9KTsgCiAgICB0aGlzLm1vZGVsLmNvbnRlbnRVcGRhdGVkLmF0dGFjaChmdW5jdGlvbihzdGF0ZSl7CiAgICAgICAgX3NlbGYucmVmbGVzaChzdGF0ZSk7CiAgICB9KTsKCiB9OwogQ29udHJvbGxlci5wcm90b3R5cGU9ewogICAgc2VhcmNoOmZ1bmN0aW9uKGN1cnIsYXJncyl7CiAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVDdXJyKGN1cnIpOwogICAgICAgIHRoaXMubW9kZWwudXBkYXRlS2V5d29yZChhcmdzKTsKICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3QoKTsKICAgICAgICB0aGlzLnZpZXdlci5zaG93KCk7CiAgICB9LAogICAgc2V0RW5naW5lOmZ1bmN0aW9uKGVuZ2luZSl7CiAgICAgICAgdGhpcy5tb2RlbC5zZXRFbmdpbmUoZW5naW5lKTsKICAgICAgICB0aGlzLnZpZXdlci51cGRhdGVFbmdpbmUoKTsKICAgIH0sCiAgICB0b1BhZ2U6ZnVuY3Rpb24odG9QYWdlTnVtKXsKICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZUN1cnIodG9QYWdlTnVtKTsKICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3QoKTsKICAgIH0sCiAgICBjbG9zZTpmdW5jdGlvbigpewogICAgICAgIHRoaXMubW9kZWwuZGVzdG9yeSgpOwogICAgICAgIHRoaXMudmlld2VyLmNsb3NlKCk7CiAgICB9LAogICAgbG9hZGluZzpmdW5jdGlvbigpewogICAgICAgIHRoaXMudmlld2VyLmxvYWRpbmcoKTsKICAgIH0sCiAgICByZWZsZXNoOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy52aWV3ZXIucmVmbGVzaCgpOwogICAgICAgIHRoaXMudmlld2VyLnJlZmxlc2hQYWdlTmF2aSgpOwogICAgfSwKICAgIHJlZmxlc2hFbmdpbmVMc3Q6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLnZpZXdlci5yZWZsZXNoRW5naW5lTHN0KCk7CiAgICB9LAogfTsKCgoKZnVuY3Rpb24gbmV3SW5pdCAoKSB7CiAgICAvL3JlbW92ZSBhZHZzCiAgICAvL2NyZWF0ZSBzZWFyY2ggYmFyCiAgICB2YXIgdGFyZ2V0Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maW5kLWxpZ2h0LWljb24nKS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICBpZiAodGFyZ2V0Tm9kZS5wYXJlbnROb2RlLmxhc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIm5vZGUtdHlwZSIpPT0iaGVhZGVyLXVuaW9uIikgewogICAgICAgIHRhcmdldE5vZGUucGFyZW50Tm9kZS5sYXN0Q2hpbGQucmVtb3ZlKCk7CiAgICB9CiAgICB2YXIgd3h6U2VhcmNoQmFyTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RkJyk7CiAgICB3eHpTZWFyY2hCYXJOb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdoZWFkZXItd3h6YmFyIGhlYWRlci1pbmZvJyk7CiAgICAvL3d4elNlYXJjaEJhck5vZGUuc2V0QXR0cmlidXRlKCdub2RlLXR5cGUnLCdoZWFkZXItYXBwcycpOwogICAgd3h6U2VhcmNoQmFyTm9kZS5pbm5lckhUTUwgPQogICAgICAgICAgICAnPHNwYW4gY2xhc3M9Ind4ei1tZW51IHd4ei1kcm9wZG93biI+XAogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSIgaWQ9Ind4ek1lbnVEaXNwbGF5Ij5nb29nbGU8L3NwYW4+XAogICAgICAgICAgICAgICAgPGVtIGNsYXNzPSJpY29uIGljb24tZHJvcGRvd24tYXJyb3ciPjwvZW0+XAogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJ3eHotbWVudS1jb250ZW50IiBpZD0id3h6X2VuZ2luZUxzdCI+XAogICAgICAgICAgICAgICAgPC91bD5cCiAgICAgICAgICAgIDwvc3Bhbj5cCiAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJzZWFyY2gtZm9ybSIgaWQ9Ind4el9zZWFyY2hGb3JtIj5cCiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9InNlYXJjaC1xdWVyeSIgcGxhY2Vob2xkZXI9IiDmkJzntKLlhazlvIDliIbkuqvmlofku7YiIGlkPSJ3eHpfaW5wdXQiPlwKICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJHTyIgY2xhc3M9InNlYXJjaC1idXR0b24iIGlkPSJ3eHpfc2VhcmNoQnV0dG9uIj5cCiAgICAgICAgICAgIDwvZm9ybT4nOwogICAgLy9pbnNlcnQgYWZ0ZXIgdGFyZ2V0IG5vZGUKICAgIHRhcmdldE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3h6U2VhcmNoQmFyTm9kZSx0YXJnZXROb2RlLm5leHRTbGliaW5nKTsKICAgIC8vYmFja2dyb3VuZAogICAgdmFyIHd4emJnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgd3h6YmdOb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd3eHotYmcnKTsKICAgIHd4emJnTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKHd4emJnTm9kZSk7CgogICAgLy9jcmVhdGUgZGlzcGxheSBmcmFtZQogICAgdmFyIHd4ekRpYWxvZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHd4ekRpYWxvZ05vZGUuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2RpYWxvZyBkaWFsb2ctZ3JheScpOwogICAgd3h6RGlhbG9nTm9kZS5zZXRBdHRyaWJ1dGUoJ2lkJywnd3h6X215RGl2Jyk7CiAgICB3eHpEaWFsb2dOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCd6LWluZGV4Ojk5O3Bvc3Rpb246YWJzb2x1dGU7Jyk7CiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggLyAzICogMiArICdweCc7CiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLmxlZnQgPSAnNTAlJzsgICAgCiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLm1hcmdpbkxlZnQgPSAoLTEgKiB3aW5kb3cuaW5uZXJXaWR0aCAvIDMpICsgJ3B4JzsgCiAgICB3eHpEaWFsb2dOb2RlLmlubmVySFRNTCA9IAogICAgICAgICdcCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiIGlkPSJ3eHpfbXlEaXZfdGl0bGUiPlwKICAgICAgICAgICAgICAgIDxoMyA+PHNwYW4gY2xhc3M9ImRpYWxvZy1oZWFkZXItdGl0bGUiPuaQnOe0ojwvc3Bhbj48L2gzPlwKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIiBpZD0id3h6X2Nsb3NlQnV0dG9uIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIGljb24gaWNvbi1jbG9zZSI+PHNwYW4gY2xhc3M9InNpY29uIj7Dlzwvc3Bhbj48L3NwYW4+PC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRsZy1iZCBnLWNsZWFyZml4IG9mZmxpbmUtbGlzdC1kaWFsb2ciPlwKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Ind4ei1jb250ZW50Ij5cCiAgICAgICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvZmZsaW5lLWJvdHRvbSI+XAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9mZmxpbmUtcGFnZWluZyI+XAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlc2UgIiBpZD0id3h6LXBhZ2VzZSI+XAogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgJzsKCiAgICAvL2FwcGVuZCB0byBib2R5CgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKHd4ekRpYWxvZ05vZGUpOwoKCiAgICB2YXIgd3h6U3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHd4elN0eWxlTm9kZS50ZXh0Q29udGVudCA9IAogICAgJ1wKICAgIC53eHotbWVudXtjdXJzb3I6cG9pbnRlcjsgaGVpZ2h0OjEwMCU7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cG9zaXRpb246cmVsYXRpdmU7fVwKICAgIC53eHotbWVudTpob3ZlciAud3h6LW1lbnUtY29udGVudHtkaXNwbGF5OmJsb2NrOyB6LWluZGV4Ojk5fVwKICAgIC53eHotbWVudTpob3ZlciAuaWNvbi1kcm9wZG93bi1hcnJvd3t0cmFuc2Zvcm06cm90YXRlKDE4MCk7fVwKICAgIC53eHotbWVudS1vcHRpb257dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOndoaXRlO2NvbG9yOmJsYWNrO2JvcmRlcjoxcHggc29saWQgI2VmZjRmODtib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO31cCiAgICAjd3h6X3NlYXJjaEZvcm17ZGlzcGxheTppbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTt9XAogICAgI3d4el9pbnB1dHtwYWRkaW5nOjAgNHB4OyBib3JkZXI6IDFweCBzb2xpZCAjYzBkOWZlO2JvcmRlci1yYWRpdXM6IDRweDtsaW5lLWhlaWdodDogMjJweDt9XAogICAgI3d4el9zZWFyY2hCdXR0b257Y3Vyc29yOnBvaW50ZXI7IGJhY2tncm91bmQ6ICMzYjhjZmY7Ym9yZGVyOiAycHggc29saWQgIzNiOGNmZjtjb2xvcjogI2Y4ZmJmZjtib3JkZXItcmFkaXVzOiA2cHg7fVwKICAgIC53eHotbWVudS1jb250ZW50e2Rpc3BsYXk6bm9uZTsgcG9zaXRpb246YWJzb2x1dGU7dG9wOjEwMCU7bGVmdDowO3dpZHRoOjgwcHg7fVwKICAgICN3eHpNZW51RGlzcGxheXtsaW5lLWhlaWdodDogNDBweDsgZGlzcGxheTppbmxpbmUtYmxvY2s7IHdpZHRoOjQwcHg7fVwKICAgIC53eHotYmd7cG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBib3R0b206IDBweDsgcmlnaHQ6IDBweDsgei1pbmRleDogNTA7IGJhY2tncm91bmQ6IHJnYigwLCAwLCAwKTsgb3BhY2l0eTogMC41O31cCiAgICAud3h6LWNvbnRlbnR7aGVpZ2h0OiA1MDBweDtsaW5lLWhlaWdodDogMjAwJTt0ZXh0LWFsaWduOiBsZWZ0O3doaXRlLXNwYWNlOiBub3JtYWw7cGFkZGluZzowIDEwcHg7b3ZlcmZsb3c6YXV0bzt9XAogICAgLnd4ei1jbG9zZXttYXJnaW4tcmlnaHQ6MjBweDtpbXBvcnRhbnQ7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXJ9XAogICAgLnd4ei1uZXh0e21hcmdpbi1yaWdodDoyMHB4O2Zsb2F0OnJpZ2h0O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyfVwKICAgIC53eHotZnJvbnR7bWFyZ2luLXJpZ2h0OjQwcHg7ZmxvYXQ6cmlnaHQ7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXJ9XAogICAgLnd4ei1jb250ZW50IGF7Y29sb3I6IzAwNjZGRiFpbXBvcnRhbnQ7Zm9udDogMTRweC8xLjUgYXJpYWwsc2Fucy1zZXJpZiFpbXBvcnRhbnQ7fVwKICAgICc7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQod3h6U3R5bGVOb2RlKTsgICAgCgoKCgogICAgdmFyIGJkTW9kZWw9bmV3IEJhc2VNb2RlbChbJ2JpbmcnLCdnb29nbGUnXSk7CgogICAgYmRNb2RlbC51cmxzLmJpbmc9J2h0dHA6Ly9jbi5iaW5nLmNvbS9zZWFyY2g/cT0nOwogICAgYmRNb2RlbC51cmxzLmdvb2dsZT0naHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vY3VzdG9tc2VhcmNoL3YxZWxlbWVudD9rZXk9QUl6YVN5Q1ZBWGlVelJZc01MMVB2NlJ3U0cxZ3VubU1pa1R6UXFZJnJzej1maWx0ZXJlZF9jc2UmbnVtPTEwJmhsPWVuJnByZXR0eVByaW50PXRydWUmc291cmNlPWdjc2MmZ3NzPS5jb20mc2lnPWVlOTNmOWFhZTljOWU5ZGJhNWVlYTgzMWQ1MDZlNjlhJmN4PTAxODE3NzE0MzM4MDg5MzE1MzMwNTp5azBxcGd5ZHhfZSZxPSc7CgogICAgYmRNb2RlbC50b0pzb24uYmluZz1mdW5jdGlvbihodG1sKXsKICAgICAgICB2YXIgZGF0YSA9IHsgY3Vyc29yOiB7IGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCByZXN1bHRDb3VudDogMCB9LCByZXN1bHRzOiBbXSB9OwogICAgICAgIC8v5YW25Lit5LiA5p2h57uT5p6c77yaCiAgICAgICAgLy88bGkgY2xhc3M9ImJfYWxnbyI+PGgyPgogICAgICAgIC8vPGEgaHJlZj0iaHR0cDovL3Bhbi5iYWlkdS5jb20vd2FwL2xpbms/dWs9MjkyMzExMDY1OCZhbXA7c2hhcmVpZD0zNDY4ODE1ODM0JmFtcDt0aGlyZD0zIiB0YXJnZXQ9Il9ibGFuayIgaD0iSUQ9U0VSUCw1MTAxLjEiPllGSy08c3Ryb25nPlJLMzM2ODwvc3Ryb25nPi04MTg5LTIwMTUwODIxLnJhcl/lhY3otLnpq5jpgJ/kuIvovb1855m+5bqm5LqRIOe9keebmCAuLi48L2E+PC9oMj4KICAgICAgICAvLzxkaXYgY2xhc3M9ImJfY2FwdGlvbiI+PHA+5paH5Lu25ZCNOllGSy08c3Ryb25nPlJLMzM2ODwvc3Ryb25nPi04MTg5LTIwMTUwODIxLnJhciDmlofku7blpKflsI86NDk3LjU1TSDliIbkuqvogIU65pmo6IqvRkFFIOWIhuS6q+aXtumXtDoyMDE1LTgtMjEgMTQ6MDcg5LiL6L295qyh5pWwOjUgLi4uIOeZu+W9leeZvuW6puS6keWuouaIt+err+mAgTJU56m66Ze0IOeUteiEkeeJiDwvcD4KICAgICAgICAvLzxkaXYgY2xhc3M9ImJfYXR0cmlidXRpb24iIHU9IjB8NTA1OHw0ODM1MjcxMzg2OTkxMjQ4fDhPTWhjR0lJajhHVzA4STQxUjVVb1N5SnBsMl81UG55Ij48Y2l0ZT48c3Ryb25nPnBhbi5iYWlkdS5jb208L3N0cm9uZz4vd2FwL2xpbms/dWs9MjkyMzExMDY1OCZhbXA7c2hhcmVpZD0zNDY4ODE1ODM0JmFtcDsuLi48L2NpdGU+PHNwYW4gY2xhc3M9ImNfdGxieFRyZyI+CiAgICAgICAgLy88c3BhbiBjbGFzcz0iY190bGJ4SCIgSD0iQkFTRTpDQUNIRURQQUdFREVGQVVMVCIgSz0iU0VSUCw1MTAyLjEiPjwvc3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC9saT4KICAgICAgICAvL2h0dHA6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS80OTA4My5odG3lnKhKU+S4reino+aekEhUTUzlrZfnrKbkuLLnpLrkvovku6PnoIHvvJoKICAgICAgICB2YXIgcmF3UmVzdWx0SFRNTCA9IGh0bWwubWF0Y2goLzxsaVxzY2xhc3M9ImJfYWxnbyI+KC4qPyk8XC9saT4vZyk7CiAgICAgICAgdmFyIGJfcmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7CiAgICAgICAgYl9yZXN1bHRzLmlubmVySFRNTCA9IHJhd1Jlc3VsdEhUTUw7CiAgICAgICAgdmFyIGJfYWxnb19BcnJ5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYl9yZXN1bHRzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JfYWxnbycpKTsKICAgICAgICBiX2FsZ29fQXJyeS5mb3JFYWNoKGZ1bmN0aW9uKGVsZSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRlbXBSZXN1bHQgPSB7CiAgICAgICAgICAgICAgICB1bmVzY2FwZWRVcmw6ICIiLAogICAgICAgICAgICAgICAgdGl0bGVOb0Zvcm1hdHRpbmc6ICIiLAogICAgICAgICAgICAgICAgY29udGVudE5vRm9ybWF0dGluZzogIiIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGVtcFJlc3VsdC51bmVzY2FwZWRVcmwgPSBlbGUucXVlcnlTZWxlY3RvcignaDIgYScpLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgICAgICB0ZW1wUmVzdWx0LnRpdGxlTm9Gb3JtYXR0aW5nID0gZWxlLnF1ZXJ5U2VsZWN0b3IoJ2gyIGEnKS50ZXh0Q29udGVudDsKICAgICAgICAgICAgdGVtcFJlc3VsdC5jb250ZW50Tm9Gb3JtYXR0aW5nID0gZWxlLnF1ZXJ5U2VsZWN0b3IoJy5iX2NhcHRpb24gcCcpLnRleHRDb250ZW50OwogICAgICAgICAgICBkYXRhLnJlc3VsdHMucHVzaCh0ZW1wUmVzdWx0KTsKICAgICAgICB9KTsKICAgICAgICAvLy8v5aSE55CG57uf6K6h57uT5p6cCiAgICAgICAgdmFyIHJhd1Jlc3VsdENvdW50PWh0bWwubWF0Y2goLzxzcGFuLio/c2JfY291bnQuKj8+KC4qPyk8XC9zcGFuPi8pWzFdOwogICAgICAgIHZhciBtYXRjaExzdD1bXTsgICAgCiAgICAgICAgbWF0Y2hMc3Q9cmF3UmVzdWx0Q291bnQubWF0Y2goLyhbMC05XXsxLDN9KCxbMC05XXszfSkrKS9nKTsKICAgICAgICBpZihtYXRjaExzdCE9PW51bGwpey8v5Yy56YWNMTAwLDAwMCwxMTHkuYvnsbvnmoTmg4XlhrUKICAgICAgICAgICAgZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ9bWF0Y2hMc3RbMF0ucmVwbGFjZSgnLCcsJycpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBtYXRjaExzdD1yYXdSZXN1bHRDb3VudC5tYXRjaCgvXGQrL2cpOwogICAgICAgICAgICBpZihtYXRjaExzdCE9PW51bGwpey8v5Yy56YWNMTAg5Liq57uT5p6c5LmL57G755qE5oOF5Ya177yM5Lul5Y+KMS0xMe+8jOWFsTEx5Liq55qE5oOF5Ya1CiAgICAgICAgICAgIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50PW1hdGNoTHN0LnBvcCgpOwogICAgICAgICAgICB9ZWxzZXsvL+WMuemFjeaXoOeahOaDheWGtQogICAgICAgICAgICBkYXRhLmN1cnNvci5yZXN1bHRDb3VudD0wOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50ID0gcGFyc2VJbnQoIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50LnRvU3RyaW5nKCksMTApOwogICAgICAgIGRhdGEuY3Vyc29yLmVzdGltYXRlZFJlc3VsdENvdW50ID0gZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ7CiAgICAgICAgcmV0dXJuIGRhdGE7ICAgICAgICAKICAgIH07CiAgICBiZE1vZGVsLnRvSnNvbi5nb29nbGU9ZnVuY3Rpb24ocmVzcG9uc2VUZXh0KXsKICAgICAgICB2YXIgZGF0YT1KU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7CiAgICAgICAgZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ9cGFyc2VJbnQoZGF0YS5jdXJzb3IucmVzdWx0Q291bnQuc3BsaXQoJywnKS5qb2luKCcnKSk7CiAgICAgICAgcmV0dXJuIGRhdGE7ICAgICAgICAKICAgIH07CgogICAgYmRNb2RlbC5jb21waWxlVXJsLmJpbmc9ZnVuY3Rpb24oX3NlbGYpewogICAgICAgIHJldHVybiBfc2VsZi51cmxzLmJpbmcgKyBfc2VsZi5rZXl3b3JkICsgJytzaXRlJTNBcGFuLmJhaWR1LmNvbScgKyAnJmZpcnN0PScgKyAoX3NlbGYuY3Vyci0xKSoxMDsKICAgIH07CiAgICBiZE1vZGVsLmNvbXBpbGVVcmwuZ29vZ2xlPWZ1bmN0aW9uKF9zZWxmKXsKICAgICAgICByZXR1cm4gX3NlbGYudXJscy5nb29nbGUgKyBfc2VsZi5rZXl3b3JkICsgJyZzdGFydD0nICsgKF9zZWxmLmN1cnItMSkqMTA7CiAgICB9OwoKICAgIHZhciBiZFZpZXc9bmV3IFZpZXdlcihiZE1vZGVsLHsKICAgICAgICBpbnB1dEVsZTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3h6X2lucHV0JyksCiAgICAgICAgc2VhcmNoQnRuOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfc2VhcmNoQnV0dG9uJyksCiAgICAgICAgY2xvc2VCdG46ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d4el9jbG9zZUJ1dHRvbicpLAogICAgICAgIG15RGl2OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfbXlEaXYnKSwKICAgICAgICBteUNvbnRlbnQ6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnd4ei1jb250ZW50JyksCiAgICAgICAgbWVudTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3h6TWVudURpc3BsYXknKSwKICAgICAgICBlbmdpbmVCdG5DbGFzc05hbWU6J3d4ei1tZW51LW9wdGlvbicsCiAgICAgICAgZW5naW5lTHN0OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfZW5naW5lTHN0JyksCiAgICAgICAgcGFnZXNlOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHotcGFnZXNlJyksCiAgICAgICAgdG9QYWdlQnRuQ2xhc3NOYW1lOidwYWdlLW51bWJlcicsCiAgICAgICAgYmdOb2RlOnd4emJnTm9kZQogICAgfSk7CiAgICB2YXIgYmRDb250cm9sbGVyPW5ldyBDb250cm9sbGVyKGJkTW9kZWwsYmRWaWV3KTsKICAgIGJkQ29udHJvbGxlci5yZWZsZXNoRW5naW5lTHN0KCk7CgkvL+i/memHjOWGmeeahOS4jeWlvQogICAgdmFyIHRlbXBTdHIgPSAnJzsKICAgIHZhciB0ZW1wT2JqOwogICAgdGVtcFN0ciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd3h6WXVucGFuU2VhcmNoZXInKTsKICAgIGlmICh0ZW1wU3RyKSB7CiAgICAJdGVtcE9iaiA9IEpTT04ucGFyc2UodGVtcFN0cik7CiAgICAJYmRDb250cm9sbGVyLnNldEVuZ2luZSh0ZW1wT2JqLmVuZ2luZSk7CiAgICB9CiAgICBlbHNlewogICAgCWJkQ29udHJvbGxlci5zZXRFbmdpbmUoJ2JpbmcnKTsKICAgIH0KICAgIAoKfQoKdmFyIGNvdW50ZXIgPSAwOwoKdmFyCnQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IC8v55m+5bqm5LqR5oqK5LiA5Lqb5YaF5a655pS+5Yiw5ZCO6Z2i5Yqg6L29LOWboOatpOaIkeiuvue9ruS6huS4gOS4quW7tuaXtuW+queOr++8jOavj+malDIwMG1z6YCJ5oup5LiA5LiL5omA6ZyA55qE5YWD57Sg77yM5b2T5omA6ZyA55qE5YWD57Sg5a2Y5Zyo5pe277yM5byA5aeL6ISa5pys77yM5ZCM5pe25YGc5q2i5bu25pe25b6q546vIAogICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5maW5kLWxpZ2h0LWljb24iKSAhPT0gbnVsbCkgewogICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHQpOwogICAgICAgIG5ld0luaXQoKTsKICAgIH0KICAgIGVsc2V7CiAgICAgICAgaWYoY291bnRlciA8IDEwMCl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd3YWl0aW5nJyk7CiAgICAgICAgICAgIGNvdW50ZXIgKys7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHQpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnb3V0IG9mIHRpbWUnKTsKICAgICAgICB9CiAgICB9Cn0sIDIwMCk7Cg=="},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://yun.baidu.com","http://yun.baidu.com/#*","http://pan.baidu.com/share/manage*","http://pan.baidu.com/disk/recyclebin*","http://yun.baidu.com/pcloud/album/info*"],"orig_includes":["http://pan.baidu.com/*","http://yun.baidu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970040},"enabled":false,"position":6,"file_url":"https://greasyfork.org/scripts/16584-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%8A%A9%E6%89%8B/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%8A%A9%E6%89%8B.user.js","uuid":"236df2cb-8862-465a-b20c-ba8c72e32de9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOeZvuW6pue9keebmOWKqeaJiwovLyBAYXV0aG9yICAgICAg5pyJ5LiA5Lu955SwCi8vIEBkZXNjcmlwdGlvbiDmmL7npLrnmb7luqbnvZHnm5jmlofku7bnmoTnm7TmjqXpk77mjqUs56qB56C05aSn5paH5Lu26ZyA6KaB5L2/55So55S16ISR566h5a6255qE6ZmQ5Yi2Ci8vIEBuYW1lc3BhY2UgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvOTg2LeeZvuW6pue9keebmOWKqeaJiwovLyBAaWNvbiAgICAgICAgaHR0cDovL2ltZy5kdW9sdW9odWEuY29tL2FwcGltZy9zY3JpcHRfZHVwYW5saW5rX2ljb25fNDgucG5nCi8vIEBsaWNlbnNlICAgICBHUEwgdmVyc2lvbiAzCi8vIEBlbmNvZGluZyAgICB1dGYtOAovLyBAZGF0ZSAgICAgICAgMjYvMDgvMjAxMwovLyBAbW9kaWZpZWQgICAgMDUvMDkvMjAxNAovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Bhbi5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3l1bi5iYWlkdS5jb20vKgovLyBAZXhjbHVkZSAgICAgaHR0cDovL3l1bi5iYWlkdS5jb20KLy8gQGV4Y2x1ZGUgICAgIGh0dHA6Ly95dW4uYmFpZHUuY29tLyMqCi8vIEBleGNsdWRlICAgICBodHRwOi8vcGFuLmJhaWR1LmNvbS9zaGFyZS9tYW5hZ2UqCi8vIEBleGNsdWRlICAgICBodHRwOi8vcGFuLmJhaWR1LmNvbS9kaXNrL3JlY3ljbGViaW4qCi8vIEBleGNsdWRlICAgICBodHRwOi8veXVuLmJhaWR1LmNvbS9wY2xvdWQvYWxidW0vaW5mbyoKLy8gQHJlcXVpcmUgICAgIGh0dHA6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTIuMS4xLm1pbi5qcwovLyBAZ3JhbnQgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICBHTV9zZXRDbGlwYm9hcmQKLy8gQHJ1bi1hdCAgICAgIGRvY3VtZW50LWVuZAovLyBAdmVyc2lvbiAgICAgMi40LjcKLy8gPT0vVXNlclNjcmlwdD09CgoKLyoKICogPT09IOivtOaYjiA9PT0KICpA5L2c6ICFOuacieS4gOS7veeUsAogKkDlrpjnvZE6aHR0cDovL3d3dy5kdW9sdW9odWEuY29tL2Rvd25sb2FkLwogKkBFbWFpbDp5b3V5aWZlbnRpYW5AZ21haWwuY29tCiAqQEdpdDpodHRwOi8vZ2l0Lm9zY2hpbmEubmV0L3lvdXlpZmVudGlhbgogKkDovazovb3ph43nlKjor7fkv53nlZnmraTkv6Hmga8KICoKICoKICogKi8KCgoKCgp2YXIgVkVSU0lPTiA9ICcyLjQuNyc7CnZhciBBUFBOQU1FID0gJ1x1NzY3ZVx1NWVhNlx1N2Y1MVx1NzZkOFx1NTJhOVx1NjI0Yic7CnZhciB0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgoKJCA9ICQgfHwgdW5zYWZlV2luZG93LiQ7CnZhciBkaXNrID0gdW5zYWZlV2luZG93LmRpc2s7CnZhciBGaWxlVXRpbHMgPSB1bnNhZmVXaW5kb3cuRmlsZVV0aWxzOwp2YXIgUGFnZSA9IHVuc2FmZVdpbmRvdy5QYWdlOwp2YXIgVXRpbGl0aWVzID0gdW5zYWZlV2luZG93LlV0aWxpdGllczsKdmFyIHl1bkRhdGEgPSB1bnNhZmVXaW5kb3cueXVuRGF0YTsKdmFyIHJlcXVpcmU9IHVuc2FmZVdpbmRvdy5yZXF1aXJlOwoKKGZ1bmN0aW9uICgpewogICAgdmFyIGlzT3RoZXIgPSBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJzovL3Bhbi5iYWlkdS5jb20vZGlzaycpPT0tMSwKICAgIGRvd25Qcm94eSA9IG51bGwsc2hhcmVEYXRhID0gbnVsbCwKICAgIENhbnZhcyxQYW5jZWwsUmVzdEFQSSxUb2FzdD17fSxlcnJvck1zZywKICAgIGlmcmFtZSA9ICcnLGh0dHBId25kID0gbnVsbCxpbmRleCA9IDAsCiAgICBtc2cgPSBbCiAgICAgICAgJ1x1NTRiMVx1ODBmZFx1NGUwZFx1NGU4Y1x1NGU0OCxcdTRlMDBcdTRlMmFcdTY1ODdcdTRlZjZcdTkwZmRcdTRlMGRcdTkwMDlcdTRmNjBcdThiYTlcdTYyMTFcdTU0OGJcdTRlMmFcdTUyOWUuLi4nLCAvLzAKICAgICAgICAnXHU1YzNjXHU3MzliXHU0ZTAwXHU0ZTJhXHU2NTg3XHU0ZWY2XHU5MGZkXHU0ZTBkXHU5MDA5XHU0ZjYwXHU0ZTBiXHU0ZTJhXHU2YmRiXHU3ZWJmXHU1NTRhLi4uJywgLy8xCiAgICAgICAgJ1x1NGY2MFRNXHU3N2U1XHU5MDUzXHU0ZjYwXHU5MDA5XHU0ZTg2PGI+OTA8L2I+XHU1OTFhXHU0ZTJhXHU2NTg3XHU0ZWY2XHU1NDE3P1x1NjBmM1x1N2QyZlx1NmI3Ylx1NjIxMVx1NTU0YS4uLicsIC8vMgogICAgICAgICc8Yj5cdThiZjdcdTZjNDJcdTVkZjJcdTUzZDFcdTkwMDFcdWZmMGNcdTY1NzBcdTYzNmVcdTRlMGJcdTg4NGNcdTRlMmQuLi48L2I+JywgLy8zCiAgICAgICAgJzxiPlx1OGJlNVx1OTg3NVx1OTc2MjwvYj5cdTRlMGRcdTY1MmZcdTYzMDFcdTY1ODdcdTRlZjZcdTU5MzlcdTU0OGNcdTU5MWFcdTY1ODdcdTRlZjZcdTc2ODQ8Zm9udCBjb2xvcj0icmVkIj48Yj5cdTk0ZmVcdTYzYTVcdTU5MGRcdTUyMzZcdTU0OGNcdTY3ZTVcdTc3MGI8L2I+PC9mb250Plx1ZmYwMScsIC8vNAogICAgICAgICc8Zm9udCBjb2xvcj0icmVkIj5cdThiZjdcdTZjNDJcdThkODVcdTY1ZjZcdTRlODYuLi48L2ZvbnQ+JywgLy81CiAgICAgICAgJzxmb250IGNvbG9yPSJyZWQiPlx1OGJmN1x1NmM0Mlx1NTFmYVx1OTUxOVx1NGU4Ni4uLjwvZm9udD4nLCAvLzYKICAgICAgICAnPGZvbnQgY29sb3I9InJlZCI+XHU4ZmQ0XHU1NmRlXHU2NTcwXHU2MzZlXHU2NWUwXHU2Y2Q1XHU3NmY0XHU4OWM2Li4uPC9mb250PicsIC8vNwogICAgICAgICdcdThiZjdcdThmOTNcdTUxNjVcdTlhOGNcdThiYzFcdTc4MDEnLCAvLzgKICAgICAgICAnXHU5YThjXHU4YmMxXHU3ODAxXHU4ZjkzXHU1MTY1XHU5NTE5XHU4YmVmLFx1OGJmN1x1OTFjZFx1NjViMFx1OGY5M1x1NTE2NScsIC8vOQogICAgICAgICc8Yj5cdTk0ZmVcdTYzYTVcdTVkZjJcdTU5MGRcdTUyMzZcdTUyMzBcdTUyNmFcdTUyMDdcdTY3N2ZcdWZmMDE8L2I+JywgLy8xMAogICAgICAgICdcdTY3MmFcdTc3ZTVcdTk1MTlcdThiZWZcdWZmMGNlcnJubzonLC8vMTEKICAgICAgICAnPGZvbnQgY29sb3I9InJlZCI+PGI+XHU1YzNjXHU3MzliXHU3YWRmXHU3MTM2XHU4ZGVhXHU0ZTg2XHU0ZTg2XHVmZjBjXHU0ZTBkXHU4OTgxXHU1NDRhXHU4YmM5XHU2MjExXHU0ZjYwXHU3Njg0XHU2YzM0XHU4ODY4XHU1NzI4XHU5MWNjXHU5NzYyLi4uPC9iPjwvZm9udD4nLC8vMTIKICAgICAgICAnJwogICAgICAgIF0sCiAgICBidG5DbGFzc0Fycj1bCiAgICAgICAge2NzczonaWNvbi1kb3dubG9hZCcsdGFnOidhJyxpZDonJ30sCiAgICAgICAge2NzczonaWNvbi1idG4tZG93bmxvYWQnLHRhZzonbGknLGlkOicnfSwKICAgICAgICB7Y3NzOidpY29uLWJ0bi1kb3dubG9hZCcsdGFnOicnLGlkOicnfSwKICAgICAgICB7Y3NzOidkb3dubG9hZC1idG4nLHRhZzonJyxpZDonJ30sCiAgICAgICAge2NzczonJyx0YWc6JycsaWQ6J2Rvd25GaWxlQnV0dG9uJ30KICAgIF07CiAgICB0cnl7CiAgICAgICAgZG93blByb3h5ID0gaXNPdGhlciA/IGRpc2sudXRpbC5Eb3dubG9hZFByb3h5IHx8IG51bGwgOiBudWxsOwogICAgICAgIHNoYXJlRGF0YSA9IGlzT3RoZXIgPyBkaXNrLnV0aWwuVmlld1NoYXJlVXRpbHMgfHwgbnVsbCA6IG51bGw7CiAgICB9Y2F0Y2goZSl7fQogICAgaWYoIWlzT3RoZXIgfHwgKGlzT3RoZXIgJiYgIUZpbGVVdGlscykpewogICAgICAgIFJlc3RBUEk9cmVxdWlyZSgiY29tbW9uOndpZGdldC9yZXN0QXBpL3Jlc3RBcGkuanMiKTsKICAgICAgICBDYW52YXM9cmVxdWlyZSgiY29tbW9uOndpZGdldC9jYW52YXNQYW5lbC9jYW52YXNQYW5lbC5qcyIpOwogICAgICAgIFBhbmNlbD1yZXF1aXJlKCJjb21tb246d2lkZ2V0L3BhbmVsL3BhbmVsLmpzIik7CiAgICAgICAgVG9hc3QgPSByZXF1aXJlKCJjb21tb246d2lkZ2V0L3RvYXN0L3RvYXN0LmpzIik7CiAgICAgICAgZXJyb3JNc2cgPSByZXF1aXJlKCJjb21tb246d2lkZ2V0L2Vycm9yTXNnL2Vycm9yTXNnLmpzIik7CiAgICB9CiAgICB2YXIgaGVscGVyTWVudUJ0bnM9KGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIG1lbnVUaXRsZUFycj1bJ1x1NzZmNFx1NjNhNVx1NGUwYlx1OGY3ZCcsJ1x1NTkwZFx1NTIzNlx1OTRmZVx1NjNhNScsJ1x1NjdlNVx1NzcwYlx1OTRmZVx1NjNhNSddLHBhbkJ0bnNBcnI9W10saHRtbD0nJzsKICAgICAgICBmb3IodmFyIGk9MDtpPGJ0bkNsYXNzQXJyLmxlbmd0aDtpKyspewogICAgICAgICAgICB2YXIgaXRlbT1idG5DbGFzc0FycltpXTsKICAgICAgICAgICAgdmFyIHRtcEl0ZW09aXRlbS5pZCE9JycgPyAkKCcjJytpdGVtLmlkKSA6ICQoJy4nK2l0ZW0uY3NzKTsKICAgICAgICAgICAgdmFyIHRtcEFycj1pdGVtLnRhZyE9JycgPyB0bXBJdGVtLnBhcmVudChpdGVtLnRhZykgOiB0bXBJdGVtOwogICAgICAgICAgICBwYW5CdG5zQXJyPSQubWVyZ2UocGFuQnRuc0Fycix0bXBBcnIudG9BcnJheSgpKTsKICAgICAgICB9CiAgICAgICAgaWYoIXBhbkJ0bnNBcnIubGVuZ3RoKXtyZXR1cm4gcGFuQnRuc0Fycjt9CiAgICAgICAgaHRtbCs9JzxkaXYgaWQ9InBhbkhlbHBlck1lbnUiIHN0eWxlPSJkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDo5OTk5OTk7Ij4nOwogICAgICAgIGh0bWwrPSc8dWwgY2xhc3M9InB1bGwtZG93bi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jazttYXJnaW46MHB4O3BhZGRpbmc6MHB4O2xlZnQ6MHB4O3RvcDowcHg7bGlzdC1zdHlsZTpub25lOyI+JzsKICAgICAgICBmb3IodmFyIGk9MDtpPG1lbnVUaXRsZUFyci5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgaHRtbCs9JzxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJwYW5IZWxwZXJNZW51QnRuIiB0eXBlPSInK2krJyI+PGI+JyttZW51VGl0bGVBcnJbaV0rJzwvYj48L2E+PC9saT4nOwogICAgICAgIH0KICAgICAgICBodG1sKz0nPGxpIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48YSBocmVmPSInICsgZ2V0QXBpVXJsKCdnZXRuZXd2ZXJzaW9uJywgMSkgKyAnIiB0YXJnZXQ9Il9ibGFuayI+JzsKICAgICAgICBodG1sKz0nPGltZyBpZD0idXBkYXRlaW1nIiB0aXRsZT0iXHU2NzA5XHU0ZTAwXHU0ZWZkXHU3NTMwIiBzdHlsZT0iYm9yZGVyOm5vbmU7Ii8+PC9hPjwvbGk+PC91bD48L2Rpdj4nOwogICAgICAgICQoJzxkaXY+JykuaHRtbChodG1sKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhbkJ0bnNBcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBwYW5CdG5zQXJyW2ldOwogICAgICAgICAgICBjcmVhdGVIZWxwZXJCdG4oaXRlbSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUhlbHBlckJ0bihidG4pIHsKICAgICAgICAgICAgdmFyIG5ld25vZGU9YnRuLmNsb25lTm9kZSh0cnVlKSxodG1sPW5ld25vZGUuaW5uZXJIVE1MOwogICAgICAgICAgICAkKG5ld25vZGUpLmF0dHIoJ2lkJywnJykuYXR0cignaHJlZicsJ2phdmFzY3JpcHQ6dm9pZCgwKScpLmF0dHIoJ2RhdGEta2V5JywnZG93bkxvYWRoZWxwZXInKS5hdHRyKCdub2RlLXR5cGUnLCdidG5IZWxwZXInKS5hdHRyKCdvbmNsaWNrJywnJykuY3NzKHt3aWR0aDo2M30pLmh0bWwoaHRtbC5yZXBsYWNlKC9bXHU0RTAwLVx1OUZBNV17Miw0fShcKC4qXCl8XHVmZjA4LipcdWZmMDkpPy8sJ1x1N2Y1MVx1NzZkOFx1NTJhOVx1NjI0YicpKS51bmJpbmQoKTsKICAgICAgICAgICAgdmFyIG89JCgnPGRpdiBjbGFzcz0iUGFuSGVscGVyQnRuIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7Ij4nKS5hcHBlbmQobmV3bm9kZSlbMF07CiAgICAgICAgICAgIGJ0bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLCBidG4ubmV4dFNpYmxpbmcpOwogICAgICAgICAgICByZXR1cm4gbzsKICAgICAgICB9CiAgICAgICAgdmFyIGhlbHBlckJ0biA9ICQoJy5QYW5IZWxwZXJCdG4nKSxoZWxwZXJNZW51ID0gJCgnI3BhbkhlbHBlck1lbnUnKSwKICAgICAgICBtZW51RnVuID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGhlbHBlckRvd25sb2FkKCQodGhpcykuYXR0cigndHlwZScpIHx8IDApOwogICAgICAgICAgICBoZWxwZXJNZW51LmhpZGUoKTsKICAgICAgICB9OwogICAgICAgIGhlbHBlckJ0bi5jbGljayhtZW51RnVuKS5tb3VzZWVudGVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdiLWltZy1vdmVyJyk7CiAgICAgICAgICAgIHZhciBvPSQodGhpcykuY2hpbGRyZW4oJ2EnKSxvZmZzZXQ9by5vZmZzZXQoKSx3PW8ub3V0ZXJXaWR0aCgpLXBhcnNlSW50KG8uY3NzKCdwYWRkaW5nUmlnaHQnKSk7CiAgICAgICAgICAgIGhlbHBlck1lbnUuY2hpbGRyZW4oJ3VsJykuY3NzKCd3aWR0aCcsIHctMik7CiAgICAgICAgICAgIGhlbHBlck1lbnUuY3NzKCd0b3AnLCBvZmZzZXQudG9wICsgby5oZWlnaHQoKSArIHBhcnNlSW50KG8uY3NzKCdwYWRkaW5nVG9wJykpIC0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkpOwogICAgICAgICAgICBoZWxwZXJNZW51LmNzcygnbGVmdCcsIG9mZnNldC5sZWZ0KS5zaG93KCk7CiAgICAgICAgfSkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYi1pbWctb3ZlcicpOwogICAgICAgICAgICBoZWxwZXJNZW51LmhpZGUoKTsKICAgICAgICB9KTsKICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGhlbHBlck1lbnUuaGlkZSgpOwogICAgICAgIH0pOwogICAgICAgIGhlbHBlck1lbnUubW91c2VlbnRlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7CiAgICAgICAgfSkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7CiAgICAgICAgfSk7CiAgICAgICAgaGVscGVyTWVudS5maW5kKCdhJykuY3NzKCd0ZXh0LWFsaWduJywgJ2NlbnRlcicpOwogICAgICAgIHJldHVybiBoZWxwZXJNZW51LmZpbmQoJ2EucGFuSGVscGVyTWVudUJ0bicpLmNsaWNrKG1lbnVGdW4pLnRvQXJyYXkoKTsKICAgIH0pKCk7CiAgICBpZighaGVscGVyTWVudUJ0bnMubGVuZ3RoKXtyZXR1cm47fQogICAgY2hlY2tVcGRhdGUoKTsKICAgIGZ1bmN0aW9uIGhlbHBlckRvd25sb2FkKHR5cGUpewogICAgICAgIGlmcmFtZT1jcmVhdGVEb3dubG9hZElmcmFtZSgpOwogICAgICAgIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDo7JzsKICAgICAgICB2YXIgaXRlbXMgPSBnZXRMaXN0Vmlld0NoZWNrZWRJdGVtcygpLGxlbiA9IGl0ZW1zLmxlbmd0aDsKICAgICAgICBpZighbGVuKSB7CiAgICAgICAgICAgIGluZGV4ID0gMSA9PSBpbmRleCA/IDAgOiAxOwogICAgICAgICAgICByZXR1cm4gbXlUb2FzdChtc2dbaW5kZXhdKTsKICAgICAgICB9ZWxzZSBpZiAobGVuID4gOTApIHsKICAgICAgICAgICAgcmV0dXJuIG15VG9hc3QobXNnWzJdKTsKICAgICAgICB9CiAgICAgICAgaWYoMSA9PSBsZW4pIHsKICAgICAgICAgICAgdmFyIHVybCA9IGl0ZW1zWzBdLmRsaW5rOwogICAgICAgICAgICBpZihpc1VybCh1cmwpKSB7CiAgICAgICAgICAgICAgICBpZigyID09IHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBzaG93SGVscGVyRGlhbG9nKHR5cGUsIGl0ZW1zLCB7ImVycm5vIjogMCwiZGxpbmsiOiB1cmx9KTsKICAgICAgICAgICAgICAgIH1lbHNlIGlmKDEgPT0gdHlwZSl7CiAgICAgICAgICAgICAgICAgICAgY29weVRleHQodXJsKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIG15VG9hc3QobXNnWzNdLDEpOwogICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zcmMgPSB1cmw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgZ2V0RG93bmxvYWRJbmZvKHR5cGUsIGl0ZW1zKTsKICAgICAgICAgICAgfQogICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgZ2V0RG93bmxvYWRJbmZvKHR5cGUsIGl0ZW1zKTsKICAgICAgICB9CiAgICAgICAgZG93bmxvYWRDb3VudGVyKGl0ZW1zKTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldERvd25sb2FkSW5mbyh0eXBlLCBpdGVtcywgdmNvZGUpIHsKICAgICAgICBpZighdmNvZGUpIHsKICAgICAgICAgICAgc2hvd0hlbHBlckRpYWxvZyhoZWxwZXJNZW51QnRucy5sZW5ndGgrMSwgaXRlbXMpOwogICAgICAgICAgICB2Y29kZSA9IHt9OwogICAgICAgIH0KICAgICAgICB2YXIgdXJsID0gJycsZGF0YSA9IHt9LGZpZGxpc3QgPSAnJyxmaWRzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBmaWRzLnB1c2goaXRlbXNbaV1bJ2ZzX2lkJ10pOwogICAgICAgIH0KICAgICAgICBmaWRsaXN0ID0gJ1snICsgZmlkcy5qb2luKCcsJykgKyAnXSc7CiAgICAgICAgaWYoaXNPdGhlcil7CiAgICAgICAgICAgIGlmKEZpbGVVdGlscyl7CiAgICAgICAgICAgICAgICB1cmwgPSBkaXNrLmFwaS5SZXN0QVBJLlNIQVJFX0dFVF9ETElOSyArICcmdWs9JyArIEZpbGVVdGlscy5zaGFyZV91ayArICcmc2hhcmVpZD0nICsgRmlsZVV0aWxzLnNoYXJlX2lkICsgJyZ0aW1lc3RhbXA9JyArIEZpbGVVdGlscy5zaGFyZV90aW1lc3RhbXAgKyAnJnNpZ249JyArIEZpbGVVdGlscy5zaGFyZV9zaWduICsgJyZmaWRfbGlzdD0nICsgZmlkbGlzdDsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgc2hhcmVpZDpGaWxlVXRpbHMuc2hhcmVfaWQsCiAgICAgICAgICAgICAgICAgICAgdWs6RmlsZVV0aWxzLnNoYXJlX3VrLAogICAgICAgICAgICAgICAgICAgIGZpZF9saXN0OmZpZGxpc3QKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdmFyIGNvbnRleHQ9eXVuRGF0YS5nZXRDb250ZXh0KCk7CiAgICAgICAgICAgICAgICBpZih0eXBlb2YgdmNvZGUgPT0nb2JqZWN0Jyl7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gJy9hcGkvc2hhcmVkb3dubG9hZD8nICsgJ3VrPScgKyB5dW5EYXRhLlNIQVJFX1VLICsgJyZzaGFyZWlkPScgKyB5dW5EYXRhLlNIQVJFX0lEICsgJyZ0aW1lc3RhbXA9JyArIHl1bkRhdGEuVElNRVNUQU1QICsgJyZzaWduPScgKyB5dW5EYXRhLlNJR04gKyAnJmZpZF9saXN0PScgKyBmaWRsaXN0OwogICAgICAgICAgICAgICAgICAgIGRhdGEgPSAnZW5jcnlwdD0wJnByb2R1Y3Q9c2hhcmUmcHJpbWFyeWlkPScgKyB5dW5EYXRhLlNIQVJFX0lEICsgJyZzaGFyZWlkPScgKyB5dW5EYXRhLlNIQVJFX0lEICsgJyZ1az0nICsgeXVuRGF0YS5TSEFSRV9VSyArICcmZmlkX2xpc3Q9JyArIGZpZGxpc3QrICcmZXh0cmE9JyArICd7InNla2V5IjoiJyArIGNvbnRleHQuc2VrZXkgKyAnIn0nOwogICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVuY3J5cHQ6MCwKICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6J3sic2VrZXkiOiInICsgY29udGV4dC5zZWtleSArICcifScsCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6J3NoYXJlJywKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeWlkOnl1bkRhdGEuU0hBUkVfSUQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlaWQ6eXVuRGF0YS5TSEFSRV9JRCwKICAgICAgICAgICAgICAgICAgICAgICAgdWs6eXVuRGF0YS5TSEFSRV9VSywKICAgICAgICAgICAgICAgICAgICAgICAgZmlkX2xpc3Q6ZmlkbGlzdAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB1cmwgPSBSZXN0QVBJLkdFVF9DQVBUQ0hBICsgJz9wcm9kPXNoYXJlJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZih0eXBlb2YgdmNvZGUgPT0nb2JqZWN0Jyl7CiAgICAgICAgICAgICAgICBkYXRhID0gJC5leHRlbmQoZGF0YSx2Y29kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGF0YS50eXBlPShpdGVtcy5sZW5ndGggPjEgfHwgaXRlbXNbMF1bJ2lzZGlyJ10pID8gImJhdGNoIiA6ICJkbGluayI7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHVybCA9IFJlc3RBUEkuRE9XTl9HRVRfRExJTks7CiAgICAgICAgICAgIGlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiB5dW5EYXRhLnNpZ24yKSB0cnkgewogICAgICAgICAgICAgICAgeXVuRGF0YS5zaWduMiA9IG5ldyBGdW5jdGlvbigicmV0dXJuICIgKyB5dW5EYXRhLnNpZ24yKSgpOwogICAgICAgICAgICB9IGNhdGNoIChvKSB7fQogICAgICAgICAgICBkYXRhPXsKICAgICAgICAgICAgICAgIHNpZ246IGJhc2U2NEVuY29kZSh5dW5EYXRhLnNpZ24yKHl1bkRhdGEuc2lnbjMsIHl1bkRhdGEuc2lnbjEpKSwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogeXVuRGF0YS50aW1lc3RhbXAsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjogeXVuRGF0YS5NWUJEU1RPS0VOLAogICAgICAgICAgICAgICAgZmlkbGlzdDogZmlkbGlzdCwKICAgICAgICAgICAgICAgIHR5cGU6IChpdGVtcy5sZW5ndGggPjEgfHwgaXRlbXNbMF1bJ2lzZGlyJ10pID8gImJhdGNoIiA6ICJkbGluayIKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgaHR0cEh3bmQgPSAkLnBvc3QodXJsLCBkYXRhLAogICAgICAgICAgICBmdW5jdGlvbihvKSB7CiAgICAgICAgICAgICAgICB2YXIgZGxpbmsgPSB0eXBlb2Ygby5kbGluayA9PSdvYmplY3QnID8gby5kbGlua1swXVsnZGxpbmsnXSA6IG8uZGxpbms7CiAgICAgICAgICAgICAgICBpZigtMjAgPT09IG8uZXJybm8pewogICAgICAgICAgICAgICAgICAgIGdldERvd25sb2FkSW5mbyh0eXBlLCBpdGVtcywgSlNPTi5zdHJpbmdpZnkodmNvZGUpID09J3t9JyA/ICdnZXR2Y29kZScgOiAnc2hvd3Zjb2RlJyk7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoMCA9PT0gby5lcnJubykgewogICAgICAgICAgICAgICAgICAgIGlmKG8ubGlzdCB8fCBkbGluayl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFkbGluayl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IG8ubGlzdCxvcHQ9bGlzdFswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRsaW5rPW9wdC5kbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkbGluayA9IGRsaW5rICsgJyZ6aXBuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoZ2V0RG93bmxvYWROYW1lKGl0ZW1zKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG8uZGxpbmsgPSBkbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXJlRGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2Uoc2hhcmVEYXRhLnZpZXdTaGFyZURhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRsaW5rID0gZGxpbms7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZURhdGEudmlld1NoYXJlRGF0YSA9IEpTT04uc3RyaW5naWZ5KG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEgPT0gaXRlbXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1swXVsnZGxpbmsnXSA9IGRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbXNbMF1bJ2l0ZW0nXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpdGVtc1swXVsnaXRlbSddKS5hdHRyKCdkbGluaycsZGxpbmspOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHl1bkRhdGEuU0hBUkVQQUdFVFlQRSA9PSAic2luZ2xlX2ZpbGVfcGFnZSIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5dW5EYXRhLkZJTEVJTkZPID0gaXRlbXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpe30KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihvLnZjb2RlX2ltZyAmJiBvLnZjb2RlX3N0cil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmVycm5vID0gLTIwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmNvZGUgPT0gJ2dldHZjb2RlJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZ2V0RG93bmxvYWRJbmZvKHR5cGUsIGl0ZW1zLCBnZXRWQ29kZSgndGVzdCcsby52Y29kZV9zdHIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzaG93SGVscGVyRGlhbG9nKHR5cGUsIGl0ZW1zLCBvLCB2Y29kZSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBzaG93SGVscGVyRGlhbG9nKHR5cGUsIGl0ZW1zLCBvLCB2Y29kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gc2hvd0hlbHBlckRpYWxvZyh0eXBlLCBpdGVtcywgb3B0LCB2Y29kZSkgewogICAgICAgIHZhciBjYW52YXMgPWRvY3VtZW50LmNhbnZhcyA/IGRvY3VtZW50LmNhbnZhcyA6IENhbnZhcyA/IG5ldyBDYW52YXMoKSA6IG5ldyBkaXNrLnVpLkNhbnZhcygpLAogICAgICAgIF8gPSBkb2N1bWVudC5oZWxwZXJkaWFsb2cgfHwgY3JlYXRlSGVscGVyRGlhbG9nKCksaXNWaXNpYmxlID0gXy5pc1Zpc2libGUoKSxzdGF0dXM9MDsKICAgICAgICBkb2N1bWVudC5jYW52YXMgPSBjYW52YXM7CiAgICAgICAgXy5jYW52YXMgPSBjYW52YXM7CiAgICAgICAgXy50eXBlID0gdHlwZTsKICAgICAgICBfLml0ZW1zID0gaXRlbXM7CiAgICAgICAgaWYgKHR5cGUgPCBoZWxwZXJNZW51QnRucy5sZW5ndGgpIHsKICAgICAgICAgICAgaWYgKDAgPT09IG9wdC5lcnJubykgewogICAgICAgICAgICAgICAgc3RhdHVzPTE7CiAgICAgICAgICAgICAgICBpZih0eXBlIDwgMikgewogICAgICAgICAgICAgICAgICAgIF8uY2FudmFzLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIF8uc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgaWYoMCA9PSB0eXBlKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnNyYyA9IG9wdC5kbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgbXlUb2FzdChtc2dbM10sMSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29weVRleHQob3B0LmRsaW5rKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXy5zaGFyZWZpbGVuYW1lLmlubmVySFRNTCA9IGdldERvd25sb2FkTmFtZShpdGVtcyk7CiAgICAgICAgICAgICAgICBfLnNoYXJlZGxpbmsudmFsdWUgPSBvcHQuZGxpbms7CiAgICAgICAgICAgICAgICBfLmRsaW5rID0gb3B0LmRsaW5rOwogICAgICAgICAgICAgICAgLy9fLmRvd25sb2FkYnRuLmhyZWY9IG9wdC5kbGluazsKICAgICAgICAgICAgICAgIF8uZm9jdXNvYmogPSBfLnNoYXJlZGxpbms7CiAgICAgICAgICAgIH0gZWxzZSBpZigtMTkgPT1vcHQuZXJybm8pIHsKICAgICAgICAgICAgICAgIHN0YXR1cz0yOwogICAgICAgICAgICAgICAgXy52Y29kZWltZy5zcmMgPSBvcHQuaW1nOwogICAgICAgICAgICAgICAgXy52Y29kZWltZ3NyYyA9IG9wdC5pbWc7CiAgICAgICAgICAgICAgICBfLnZjb2RldmFsdWUgPSBvcHQudmNvZGU7CiAgICAgICAgICAgICAgICBfLnZjb2RldGlwLmlubmVySFRNTCA9IHZjb2RlID8gbXNnWzldIDogJyc7CiAgICAgICAgICAgICAgICBfLnZjb2RlaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIF8uZm9jdXNvYmogPSBfLnZjb2RlaW5wdXQ7CiAgICAgICAgICAgIH1lbHNlIGlmKC0yMCA9PW9wdC5lcnJubykgewogICAgICAgICAgICAgICAgc3RhdHVzPTI7CiAgICAgICAgICAgICAgICBfLnZjb2RlaW1nLnNyYyA9IG9wdC52Y29kZV9pbWc7CiAgICAgICAgICAgICAgICBfLnZjb2RlaW1nc3JjID0gb3B0LnZjb2RlX2ltZzsKICAgICAgICAgICAgICAgIF8udmNvZGV2YWx1ZSA9IG9wdC52Y29kZV9zdHI7CiAgICAgICAgICAgICAgICBfLnZjb2RldGlwLmlubmVySFRNTCA9IHZjb2RlICYmIHZjb2RlIT0nZ2V0dmNvZGUnID8gbXNnWzldIDogJyc7CiAgICAgICAgICAgICAgICBfLnZjb2RlaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIF8uZm9jdXNvYmogPSBfLnZjb2RlaW5wdXQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfLmNhbnZhcy5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgICAgICAgICAgIF8uc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gbXlUb2FzdChlcnJvck1zZyA/IGVycm9yTXNnLkVycm9yTWVzc2FnZVtvcHQuZXJybm9dIDogZGlzay51dGlsLnNoYXJlRXJyb3JNZXNzYWdlW29wdC5lcnJub10gfHwgKG1zZ1sxMV0gKyBvcHQuZXJybm8pKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfLmxvYWRpbmcuc3R5bGUuZGlzcGxheSA9IDA9PXN0YXR1cyA/ICcnIDogJ25vbmUnOwogICAgICAgIF8uc2hvd2RsaW5rLnN0eWxlLmRpc3BsYXkgPSAxPT1zdGF0dXMgPyAnJyA6ICdub25lJzsKICAgICAgICBfLnNob3d2Y29kZS5zdHlsZS5kaXNwbGF5ID0gMj09c3RhdHVzID8gJycgOiAnbm9uZSc7CiAgICAgICAgXy5jb3B5dGV4dC5zdHlsZS5kaXNwbGF5ID0gMT09c3RhdHVzID8gJycgOiAnbm9uZSc7CiAgICAgICAgaWYgKCFpc1Zpc2libGUpIHsKICAgICAgICAgICAgXy5jYW52YXMuc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgICAgICAgXy5zZXRWaXNpYmxlKHRydWUpOwogICAgICAgIH0KICAgICAgICBfLnNldEdyYXZpdHkoUGFuY2VsID8gUGFuY2VsLkNFTlRFUiA6IGRpc2sudWkuUGFuZWwuQ0VOVEVSKTsKICAgICAgICBfLmZvY3Vzb2JqLmZvY3VzKCk7CiAgICB9CiAgICBmdW5jdGlvbiBjcmVhdGVIZWxwZXJEaWFsb2coKSB7CiAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz0iZGxnLWhkIGItcmx2InRpdGxlPSJcdTY3MDlcdTRlMDBcdTRlZmRcdTc1MzAiPjxzcGFuIHRpdGxlPSJcdTUxNzNcdTk1ZWQiaWQ9ImhlbHBlcmRpYWxvZ2Nsb3NlImNsYXNzPSJkbGctY25yIGRsZy1jbnItciI+PC9zcGFuPjxoMz48YSBocmVmPSInK2dldEFwaVVybCgnZ2V0bmV3dmVyc2lvbicsMSkrJyJ0YXJnZXQ9Il9ibGFuayJzdHlsZT0iY29sb3I6IzAwMDsiPicrQVBQTkFNRSsnJm5ic3A7JyArIFZFUlNJT04gKyAnPC9hPjxhIGhyZWY9ImphdmFzY3JpcHQ6OyJ0aXRsZT0iXHU3MGI5XHU2YjY0XHU1OTBkXHU1MjM2ImlkPSJjb3B5dGV4dCJzdHlsZT0iZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjI0MHB4O2Rpc3BsYXk6bm9uZTsiPlx1NzBiOVx1NmI2NFx1NTkwZFx1NTIzNjwvYT48L2gzPjwvZGl2PjxkaXYgY2xhc3M9ImRvd25sb2FkLW1nci1kaWFsb2ctbXNnIGNlbnRlciJpZD0iaGVscGVybG9hZGluZyI+PGI+XHU2NTcwXHU2MzZlXHU4ZDc2XHU2NzY1XHU0ZTJkLi4uPC9iPjwvZGl2PjxkaXYgaWQ9InNob3d2Y29kZSJzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTpub25lOyI+PGRpdiBjbGFzcz0iZGxnLWJkIGRvd25sb2FkLXZlcmlmeSJzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDoyNXB4OyI+PGRpdiBjbGFzcz0idmVyaWZ5LWJvZHkiPlx1OGJmN1x1OGY5M1x1NTE2NVx1OWE4Y1x1OGJjMVx1NzgwMVx1ZmYxYTxpbnB1dCB0eXBlPSJ0ZXh0Im1heGxlbmd0aD0iNCJjbGFzcz0iaW5wdXQtY29kZSB2Y29kZSI+PGltZyB3aWR0aD0iMTAwImhlaWdodD0iMzAic3JjPSIiYWx0PSJcdTlhOGNcdThiYzFcdTc4MDFcdTgzYjdcdTUzZDZcdTRlMmQiY2xhc3M9ImltZy1jb2RlIj48YSBjbGFzcz0idW5kZXJsaW5lImhyZWY9ImphdmFzY3JpcHQ6OyI+XHU2MzYyXHU0ZTAwXHU1ZjIwPC9hPjwvZGl2PjxkaXYgY2xhc3M9InZlcmlmeS1lcnJvciJzdHlsZT0idGV4dC1hbGlnbjpsZWZ0O21hcmdpbi1sZWZ0Ojg0cHg7Ij48L2Rpdj48L2Rpdj48YnI+PGRpdj48ZGl2IGNsYXNzPSJhbGVydC1kaWFsb2ctY29tbWFuZHMgY2xlYXJmaXgiPjxhIGhyZWY9ImphdmFzY3JpcHQ6OyJjbGFzcz0ic2J0biBva2F5IHBvc3R2Y29kZSI+PGI+XHU3ODZlXHU1YjlhPC9iPjwvYT48YSBocmVmPSJqYXZhc2NyaXB0OjsiY2xhc3M9ImRidG4gY2FuY2VsIj48Yj5cdTUxNzNcdTk1ZWQ8L2I+PC9hPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgaWQ9InNob3dkbGluayJzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTpub25lOyI+PGRpdiBjbGFzcz0iZGxnLWJkIGRvd25sb2FkLXZlcmlmeSI+PGRpdiBzdHlsZT0icGFkZGluZzo1cHggMHB4OyI+PGI+PHNwYW4gaWQ9InNoYXJlZmlsZW5hbWUiPjwvc3Bhbj48L2I+PC9kaXY+PGlucHV0IHR5cGU9InRleHQibmFtZT0ic2hhcmVkbGluayJpZD0ic2hhcmVkbGluayJjbGFzcz0iaW5wdXQtY29kZSJtYXhsZW5ndGg9IjEwMjQidmFsdWU9IiJzdHlsZT0id2lkdGg6NTAwcHg7Ym9yZGVyOjFweCBzb2xpZCAjN0ZBRERDO3BhZGRpbmc6M3B4O2hlaWdodDoyNHB4OyI+PC9kaXY+PGJyPjxkaXY+PGRpdiBjbGFzcz0iYWxlcnQtZGlhbG9nLWNvbW1hbmRzIGNsZWFyZml4Ij48YSBocmVmPSJqYXZhc2NyaXB0OjsiY2xhc3M9InNidG4gb2theSBwb3N0ZG93bmxvYWQiPjxiPlx1NzZmNFx1NjNhNVx1NGUwYlx1OGY3ZDwvYj48L2E+PGEgaHJlZj0iamF2YXNjcmlwdDo7ImNsYXNzPSJkYnRuIGNhbmNlbCI+PGI+XHU1MTczXHU5NWVkPC9iPjwvYT48L2Rpdj48L2Rpdj48L2Rpdj4nLAogICAgICAgIG89JCgnPGRpdiBjbGFzcz0iYi1wYW5lbCBkb3dubG9hZC1tZ3ItZGlhbG9nIGhlbHBlcmRpYWxvZyIgc3R5bGU9IndpZHRoOjU1MHB4OyI+JykuaHRtbChodG1sKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKICAgICAgICBvWzBdLnBhbmUgPSBvWzBdOwogICAgICAgIHZhciBfID0gUGFuY2VsID8gbmV3IFBhbmNlbChvWzBdKSA6IG5ldyBkaXNrLnVpLlBhbmVsKG9bMF0pLHZjb2RlaW1nID0gby5maW5kKCdpbWcnKVswXSx2Y29kZWlucHV0ID0gby5maW5kKCcudmNvZGUnKVswXSwKICAgICAgICBzaGFyZWRsaW5rID0gby5maW5kKCcjc2hhcmVkbGluaycpWzBdLHZjb2RldGlwID0gby5maW5kKCcudmVyaWZ5LWVycm9yJylbMF0sCiAgICAgICAgY29weXRleHQ9IG8uZmluZCgnI2NvcHl0ZXh0JylbMF0scG9zdGRvd25sb2FkQnRuPW8uZmluZCgnLnBvc3Rkb3dubG9hZCcpWzBdLAogICAgICAgIGRpYWxvZ0Nsb3NlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZjb2RlaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgdmNvZGV0aXAuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgIHZjb2RlaW1nLnNyYyA9ICcnOwogICAgICAgICAgICBfLmNhbnZhcy5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgICAgICAgXy5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgICAgICAgaWYgKGh0dHBId25kKSB7aHR0cEh3bmQuYWJvcnQoKTt9CiAgICAgICAgfSwKICAgICAgICBwb3N0dmNvZGUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKGh0dHBId25kKSB7aHR0cEh3bmQuYWJvcnQoKTt9CiAgICAgICAgICAgIHZhciB2ID0gdmNvZGVpbnB1dC52YWx1ZSxsZW4gPSB2Lmxlbmd0aCxtYXggPSBtc2cubGVuZ3RoIC0gMSxpID0gbWF4LAogICAgICAgICAgICB2Y29kZSA9IGdldFZDb2RlKHYsXy52Y29kZXZhbHVlKTsKICAgICAgICAgICAgaSA9IDAgPT0gbGVuID8gOCA6IChsZW4gPCA0ID8gOSA6IGkpOwogICAgICAgICAgICB2Y29kZXRpcC5pbm5lckhUTUwgPSBtc2dbaV07CiAgICAgICAgICAgIGlmIChpICE9IG1heCkge3JldHVybiB2Y29kZWlucHV0LmZvY3VzKCk7fQogICAgICAgICAgICBnZXREb3dubG9hZEluZm8oXy50eXBlLCBfLml0ZW1zLCB2Y29kZSk7CiAgICAgICAgfSwKICAgICAgICBwb3N0ZG93bmxvYWQgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIC8vaWYoIWUpe2lmcmFtZS5zcmMgPSBfLmRsaW5rO30KICAgICAgICAgICAgaWZyYW1lLnNyYyA9IF8uZGxpbms7CiAgICAgICAgICAgIGRpYWxvZ0Nsb3NlKCk7CiAgICAgICAgICAgIG15VG9hc3QobXNnWzNdLDEpOwogICAgICAgIH07CiAgICAgICAgXy5fbVVJLnBhbmUgPSBvWzBdOwogICAgICAgIF8ubG9hZGluZyA9IG8uZmluZCgnI2hlbHBlcmxvYWRpbmcnKVswXTsKICAgICAgICBfLnNob3d2Y29kZSA9IG8uZmluZCgnI3Nob3d2Y29kZScpWzBdOwogICAgICAgIF8uc2hvd2RsaW5rID0gby5maW5kKCcjc2hvd2RsaW5rJylbMF07CiAgICAgICAgXy5jb3B5dGV4dD0gY29weXRleHQ7CiAgICAgICAgXy5kb3dubG9hZGJ0bj1wb3N0ZG93bmxvYWRCdG47CiAgICAgICAgXy52Y29kZWlucHV0ID0gdmNvZGVpbnB1dDsKICAgICAgICBfLnNoYXJlZGxpbmsgPSBzaGFyZWRsaW5rOwogICAgICAgIF8uc2hhcmVmaWxlbmFtZSA9IG8uZmluZCgnI3NoYXJlZmlsZW5hbWUnKVswXTsKICAgICAgICBfLnZjb2RlaW1nID0gdmNvZGVpbWc7CiAgICAgICAgXy52Y29kZXRpcCA9IHZjb2RldGlwOwogICAgICAgIF8udmNvZGVpbWdzcmMgPSAnJzsKICAgICAgICBfLnZjb2RldmFsdWUgPSAnJzsKICAgICAgICBfLmZvY3Vzb2JqID0gc2hhcmVkbGluazsKICAgICAgICAkKGNvcHl0ZXh0KS5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICBjb3B5VGV4dChfLmRsaW5rKTsKICAgICAgICAgICAgdGhpcy5ibHVyKCk7CiAgICAgICAgfSk7CiAgICAgICAgJCh2Y29kZWltZykuc2libGluZ3MoJ2EnKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmNvZGVpbWcuc3JjID0gXy52Y29kZWltZ3NyYyArICcmJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICB2Y29kZWlucHV0LmZvY3VzKCk7CiAgICAgICAgfSk7CiAgICAgICAgdmNvZGVpbnB1dC5vbmtleWRvd24gPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGlmICgxMyA9PSBlLmtleUNvZGUpIHtwb3N0dmNvZGUoKTt9CiAgICAgICAgfTsKICAgICAgICBvLmZpbmQoJy5wb3N0dmNvZGUnKS5jbGljayhwb3N0dmNvZGUpOwogICAgICAgICQocG9zdGRvd25sb2FkQnRuKS5jbGljayhwb3N0ZG93bmxvYWQpOwogICAgICAgICQoJyNzaGFyZWRsaW5rJykuZm9jdXNpbihmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDNweCAjN0ZBRERDJzsKICAgICAgICAgICAgdGhpcy5zZWxlY3QoKTsKICAgICAgICB9KS5mb2N1c291dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zdHlsZS5ib3hTaGFkb3cgPSAnJzsKICAgICAgICB9KS5tb3VzZW92ZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0KCk7CiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTsKICAgICAgICB9KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYgKDEzID09IGUua2V5Q29kZSkge3Bvc3Rkb3dubG9hZCgpO30KICAgICAgICB9KTsKICAgICAgICAkKHdpbmRvdykuYmluZCgicmVzaXplIixmdW5jdGlvbigpIHsKICAgICAgICAgICAgXy5zZXRHcmF2aXR5KFBhbmNlbCA/IFBhbmNlbC5DRU5URVIgOiBkaXNrLnVpLlBhbmVsLkNFTlRFUik7CiAgICAgICAgfSk7CiAgICAgICAgby5maW5kKCcjaGVscGVyZGlhbG9nY2xvc2UnKS5jbGljayhkaWFsb2dDbG9zZSk7CiAgICAgICAgby5maW5kKCcuZGJ0bicpLmNsaWNrKGRpYWxvZ0Nsb3NlKTsKICAgICAgICBfLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgIGRvY3VtZW50LmhlbHBlcmRpYWxvZyA9IF87CiAgICAgICAgcmV0dXJuIF87CiAgICB9CiAgICBmdW5jdGlvbiBnZXRWQ29kZSh2LGspewogICAgICAgIHJldHVybiBGaWxlVXRpbHMgPyB7aW5wdXQ6dix2Y29kZTpfLmt9IDoge3Zjb2RlX2lucHV0OnYsdmNvZGVfc3RyOmt9OwogICAgfQogICAgZnVuY3Rpb24gbXlUb2FzdChtc2csIHR5cGUpIHsKICAgICAgICB0cnl7CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5teVRvYXN0SW5qZWN0aW9uKG1zZyx0eXBlLGlzT3RoZXIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfWNhdGNoKGUpe30KICAgICAgICB0cnkgewogICAgICAgICAgICB2YXIgVG9hc3QgPSB7fSwgb2J0YWluLFBhbmNlbCA9IG51bGw7CiAgICAgICAgICAgIGlmIChpc090aGVyICYmIGRpc2sudWkpIHsKICAgICAgICAgICAgICAgIG9idGFpbiA9IGRpc2sudWkuVG9hc3Q7CiAgICAgICAgICAgICAgICBUb2FzdC5vYnRhaW4gPSB7fTsKICAgICAgICAgICAgICAgIFRvYXN0Lm9idGFpbi51c2VUb2FzdCA9IFV0aWxpdGllcy51c2VUb2FzdDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFRvYXN0ID0gcmVxdWlyZSgiY29tbW9uOndpZGdldC90b2FzdC90b2FzdC5qcyIpOwogICAgICAgICAgICAgICAgUGFuY2VsPXJlcXVpcmUoImNvbW1vbjp3aWRnZXQvcGFuZWwvcGFuZWwuanMiKTsKICAgICAgICAgICAgICAgIG9idGFpbiA9IFRvYXN0Lm9idGFpbjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgbyA9IFRvYXN0Lm9idGFpbi51c2VUb2FzdCh7CiAgICAgICAgICAgICAgICB0b2FzdE1vZGU6dHlwZSA/IG9idGFpbi5NT0RFX1NVQ0NFU1MgOm9idGFpbi5NT0RFX0ZBSUxVUkUsCiAgICAgICAgICAgICAgICBtc2c6bXNnLAogICAgICAgICAgICAgICAgc3RpY2t5OmZhbHNlLAogICAgICAgICAgICAgICAgcG9zaXRpb246UGFuY2VsID8gUGFuY2VsLlRPUCA6IChkaXNrLnVpID8gZGlzay51aS5QYW5lbC5UT1AgOiB1bmRlZmluZWQpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJChvLl9tVUkucGFuZSkuY3NzKHsKICAgICAgICAgICAgICAgICAgICAiei1pbmRleCI6OTk5OTk5CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgaWYgKCF0eXBlKSB7CiAgICAgICAgICAgICAgICBhbGVydChtc2cpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gY29weVRleHQodGV4dCl7CiAgICAgICAgR01fc2V0Q2xpcGJvYXJkKHRleHQpOwogICAgICAgIG15VG9hc3QobXNnWzEwXSwxKTsKICAgIH0KICAgIGZ1bmN0aW9uIGNyZWF0ZURvd25sb2FkSWZyYW1lKCl7CiAgICAgICAgaWYoaWZyYW1lKXtyZXR1cm4gaWZyYW1lO30KICAgICAgICB2YXIgbyA9ICQoJyNoZWxwZXJkb3dubG9hZGlmcmFtZScpOwogICAgICAgIGlmcmFtZT1vLmxlbmd0aCA/IG9bMF0gOiAnJzsKICAgICAgICBpZighaWZyYW1lKSB7CiAgICAgICAgICAgIGlmcmFtZSA9ICQoJzxkaXYgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPicpLmh0bWwoJzxpZnJhbWUgc3JjPSIiIGlkPSJoZWxwZXJkb3dubG9hZGlmcmFtZSIgbmFtZT0iaGVscGVyZG93bmxvYWRpZnJhbWUiPjwvaWZyYW1lPicpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLmZpbmQoJyNoZWxwZXJkb3dubG9hZGlmcmFtZScpWzBdOwogICAgICAgIH0KICAgICAgICAkKGlmcmFtZSkubG9hZChmdW5jdGlvbigpewogICAgICAgICAgICBpZih0aGlzLnNyYz09J2phdmFzY3JpcHQ6Oycpe3JldHVybjt9CiAgICAgICAgICAgIG15VG9hc3QobXNnWzEyXSwwKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gaWZyYW1lOwogICAgfQogICAgZnVuY3Rpb24gZ2V0TGlzdFZpZXdDaGVja2VkSXRlbXMoKXsKICAgICAgICB2YXIgaXRlbXM9W107CiAgICAgICAgaWYoc2hhcmVEYXRhKXsKICAgICAgICAgICAgaXRlbXMucHVzaChKU09OLnBhcnNlKHNoYXJlRGF0YS52aWV3U2hhcmVEYXRhKSk7CiAgICAgICAgfWVsc2UgaWYoaXNPdGhlcikgewogICAgICAgICAgICBpZihGaWxlVXRpbHMpewogICAgICAgICAgICAgICAgaXRlbXMgPSBGaWxlVXRpbHMuZ2V0TGlzdFZpZXdDaGVja2VkSXRlbXMoKTsKICAgICAgICAgICAgfWVsc2UgaWYoeXVuRGF0YSl7CiAgICAgICAgICAgICAgICBpZih5dW5EYXRhLlNIQVJFUEFHRVRZUEUgPT0gIm11bHRpX2ZpbGUiKXsKICAgICAgICAgICAgICAgICAgICBpdGVtcz1nZXRDaGVja0l0ZW1zKCk7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZih5dW5EYXRhLlNIQVJFUEFHRVRZUEUgPT0gInNpbmdsZV9maWxlX3BhZ2UiKXsKICAgICAgICAgICAgICAgICAgICBpdGVtcz15dW5EYXRhLkZJTEVJTkZPOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGl0ZW1zPWdldENoZWNrSXRlbXMoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGl0ZW1zOwogICAgfQogICAgZnVuY3Rpb24gZ2V0Q2hlY2tJdGVtcygpewogICAgICAgIHZhciBpdGVtcz1bXSxib3hDc3M9JCgnLmxpc3Qtc2VsZWN0ZWQnKS5sZW5ndGggPyAnbW9kdWxlLWxpc3QtdmlldycgOiAnbW9kdWxlLWdyaWQtdmlldyc7CiAgICAgICAgJCgnZGl2LicgKyBib3hDc3MpLmZpbmQoJy5pdGVtLWFjdGl2ZScpLmVhY2goZnVuY3Rpb24oaSxvKXsKICAgICAgICAgICAgaXRlbXMucHVzaChnZXRMaXN0Vmlld0NoZWNrZWRJdGVtSW5mbyhvKSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGl0ZW1zOwogICAgfQogICAgZnVuY3Rpb24gZ2V0TGlzdFZpZXdDaGVja2VkSXRlbUluZm8ob2JqKXsKICAgICAgICB2YXIgbz0kKG9iaiksZnNfaWQ9by5hdHRyKCdkYXRhLWlkJyksY2F0ZWdvcnk9by5hdHRyKCdkYXRhLWNhdGVnb3J5JyksCiAgICAgICAgICAgIGlzZGlyPW8uYXR0cignZGF0YS1leHRuYW1lJyk9PSdkaXInID8gMSA6IDAsCiAgICAgICAgICAgIHNlcnZlcl9maWxlbmFtZT1vLmZpbmQoJ1tub2RlLXR5cGU9Im5hbWUiXScpLmF0dHIoJ3RpdGxlJyksCiAgICAgICAgICAgIGRsaW5rPW8uYXR0cignZGxpbmsnKSB8fCAnJzsKICAgICAgICByZXR1cm4geydmc19pZCc6ZnNfaWQsJ2NhdGVnb3J5JzpjYXRlZ29yeSwnaXNkaXInOmlzZGlyLCdzZXJ2ZXJfZmlsZW5hbWUnOnNlcnZlcl9maWxlbmFtZSwnZGxpbmsnOmRsaW5rLCdpdGVtJzpvYmp9OwogICAgfQogICAgZnVuY3Rpb24gZ2V0RG93bmxvYWROYW1lKGl0ZW1zKSB7CiAgICAgICAgdmFyIHBhY2tOYW1lPWl0ZW1zWzBdWydzZXJ2ZXJfZmlsZW5hbWUnXTsKICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMSB8fCAxID09IGl0ZW1zWzBdWydpc2RpciddKSB7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIGRvd25Qcm94eS5wcm90b3R5cGUuc2V0UGFja05hbWUoRmlsZVV0aWxzLnBhcnNlRGlyRnJvbVBhdGgoaXRlbXNbMF1bJ3BhdGgnXSksICFpdGVtc1swXVsnaXNkaXInXSk7CiAgICAgICAgICAgICAgICBwYWNrTmFtZT0gZG93blByb3h5LnByb3RvdHlwZS5fbVBhY2tOYW1lOwogICAgICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgICAgICBwYWNrTmFtZT0nXHUzMDEwXHU2Mjc5XHU5MWNmXHU0ZTBiXHU4ZjdkXHUzMDExJytwYWNrTmFtZSsnXHU3YjQ5LnppcCc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhY2tOYW1lOwogICAgfQogICAgZnVuY3Rpb24gZG93bmxvYWRDb3VudGVyKEMpIHsgLy9DOml0ZW1zLEI6aXNPbmVGaWxlCiAgICAgICAgaWYgKCFpc090aGVyKSB7cmV0dXJuO30KICAgICAgICB2YXIgRiA9IEZpbGVVdGlscyA/IEZpbGVVdGlscy5zaGFyZV91ayB8fCBkaXNrLnV0aWwuVmlld1NoYXJlVXRpbHMudWsgOiB5dW5EYXRhLlNIQVJFX1VLLAogICAgICAgIEQgPSBGaWxlVXRpbHMgPyBGaWxlVXRpbHMuc2hhcmVfaWQgOiB5dW5EYXRhLlNIQVJFX0lELAogICAgICAgIEEgPSBbXSxCID0gKDEgPT0gQy5sZW5ndGggJiYgMCA9PSBDWzBdLmlzZGlyKSwKICAgICAgICBHID0gc2hhcmVEYXRhID8gZGlzay51dGlsLlZpZXdTaGFyZVV0aWxzLmFsYnVtSWQ6ICcnOwogICAgICAgIGZvciAodmFyIF8gaW4gQykgewogICAgICAgICAgICBpZiAoQy5oYXNPd25Qcm9wZXJ0eShfKSkgewogICAgICAgICAgICAgICAgdmFyIEUgPSB7CiAgICAgICAgICAgICAgICAgICAgZmlkOiBDW19dLmZzX2lkLAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBDW19dLmNhdGVnb3J5CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgQS5wdXNoKEUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEcgJiYgQiAmJiAkLnBvc3QoZGlzay5hcGkuUmVzdEFQSS5QQ0xPVURfQUxCVU1fRE9XTkxPQURfQ09VTlRFUiwgewogICAgICAgICAgICB1azogRiwKICAgICAgICAgICAgYWxidW1faWQ6IEcsCiAgICAgICAgICAgIGZzX2lkOiBDW19dLmZzX2lkCiAgICAgICAgfSk7CiAgICAgICAgIUcgJiYgJC5wb3N0KEZpbGVVdGlscyA/IGRpc2suYXBpLlJlc3RBUEkuTUlTX0NPVU5URVIgOiBSZXN0QVBJLk1JU19DT1VOVEVSLCB7CiAgICAgICAgICAgIHVrOiBGLAogICAgICAgICAgICBmaWxlbGlzdDogSlNPTi5zdHJpbmdpZnkoQSksCiAgICAgICAgICAgIHNpZDogRCwKICAgICAgICAgICAgY3RpbWU6IEZpbGVVdGlscyA/IEZpbGVVdGlscy5zaGFyZV9jdGltZSA6IHl1bkRhdGEuU0hBUkVfVElNRSwKICAgICAgICAgICAgInB1YmxpYyI6IEZpbGVVdGlscyA/IEZpbGVVdGlscy5zaGFyZV9wdWJsaWNfdHlwZSA6IHl1bkRhdGEuU0hBUkVQQUdFVFlQRSwKICAgICAgICAgICAgdDogKG5ldyBEYXRlKS5nZXRUaW1lKCksCiAgICAgICAgICAgIF86IE1hdGgucmFuZG9tKCkKICAgICAgICB9KTsKICAgICAgICAhRyAmJiBCICYmICQuZ2V0KEZpbGVVdGlscyA/IGRpc2suYXBpLlJlc3RBUEkuU0hBUkVfQ09VTlRFUiA6IFJlc3RBUEkuU0hBUkVfQ09VTlRFUiwgewogICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICBzaGFyZWlkOiBELAogICAgICAgICAgICB1azogRiwKICAgICAgICAgICAgc2lnbjogRmlsZVV0aWxzID8gRmlsZVV0aWxzLnNoYXJlX3NpZ24gOiB5dW5EYXRhLlNJR04sCiAgICAgICAgICAgIHRpbWVzdGFtcDogRmlsZVV0aWxzID8gRmlsZVV0aWxzLnNoYXJlX3RpbWVzdGFtcCA6IHl1bkRhdGEuVElNRVNUQU1QLCAgICAgICAgICAgIAogICAgICAgICAgICB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICAgICAgXzogTWF0aC5yYW5kb20oKQogICAgICAgIH0pOwogICAgfQp9KSgpOwpsb2FkSnMoJ2Z1bmN0aW9uIG15VG9hc3RJbmplY3Rpb24obXNnLHR5cGUsaXNPdGhlcil7dHJ5e3ZhciBUb2FzdD17fSxvYnRhaW4sUGFuY2VsPW51bGw7aWYoaXNPdGhlciYmZGlzay51aSl7b2J0YWluPWRpc2sudWkuVG9hc3Q7VG9hc3Qub2J0YWluPXt9O1RvYXN0Lm9idGFpbi51c2VUb2FzdD1VdGlsaXRpZXMudXNlVG9hc3R9ZWxzZXtUb2FzdD1yZXF1aXJlKCJjb21tb246d2lkZ2V0L3RvYXN0L3RvYXN0LmpzIik7UGFuY2VsPXJlcXVpcmUoImNvbW1vbjp3aWRnZXQvcGFuZWwvcGFuZWwuanMiKTtvYnRhaW49VG9hc3Qub2J0YWlufXZhciBvPVRvYXN0Lm9idGFpbi51c2VUb2FzdCh7dG9hc3RNb2RlOnR5cGU/b2J0YWluLk1PREVfU1VDQ0VTUzpvYnRhaW4uTU9ERV9GQUlMVVJFLG1zZzptc2csc3RpY2t5OmZhbHNlLHBvc2l0aW9uOlBhbmNlbD9QYW5jZWwuVE9QOihkaXNrLnVpP2Rpc2sudWkuUGFuZWwuVE9QOnVuZGVmaW5lZCl9KTt0cnl7JChvLl9tVUkucGFuZSkuY3NzKHsiei1pbmRleCI6OTk5OTk5fSl9Y2F0Y2goZSl7fX1jYXRjaChlcnIpe2lmKCF0eXBlKXthbGVydChtc2cpfX19Jyk7CmZ1bmN0aW9uIGJhc2U2NEVuY29kZShhKXt2YXIgYixjLGQsZSxmLGcsaD0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7Zm9yKGQ9YS5sZW5ndGgsYz0wLGI9IiI7ZD5jOyl7aWYoZT0yNTUmYS5jaGFyQ29kZUF0KGMrKyksYz09ZCl7Yis9aC5jaGFyQXQoZT4+MiksYis9aC5jaGFyQXQoKDMmZSk8PDQpLGIrPSI9PSI7YnJlYWt9aWYoZj1hLmNoYXJDb2RlQXQoYysrKSxjPT1kKXtiKz1oLmNoYXJBdChlPj4yKSxiKz1oLmNoYXJBdCgoMyZlKTw8NHwoMjQwJmYpPj40KSxiKz1oLmNoYXJBdCgoMTUmZik8PDIpLGIrPSI9IjticmVha31nPWEuY2hhckNvZGVBdChjKyspLGIrPWguY2hhckF0KGU+PjIpLGIrPWguY2hhckF0KCgzJmUpPDw0fCgyNDAmZik+PjQpLGIrPWguY2hhckF0KCgxNSZmKTw8MnwoMTkyJmcpPj42KSxiKz1oLmNoYXJBdCg2MyZnKX1yZXR1cm4gYjt9CmZ1bmN0aW9uIGlzVXJsKHVybCkgewogICAgcmV0dXJuIC9eKGh0dHB8aHR0cHMpOlwvXC8oW1x3LV0rKDpbXHctXSspP0ApP1tcdy1dKyhcLltcdy1dKykrKDpbXGRdKyk/KFsjXC9cP11bXlxzPD47IlwnXSopPyQvLnRlc3QodXJsKTsKfQpmdW5jdGlvbiBjaGVja1VwZGF0ZSgpIHsKICAgIHZhciBqcyA9ICd2YXIgdXBpbmZvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1cGRhdGVpbWciKTsnOwogICAganMgKz0gJ3VwaW5mby5zcmM9IicgKyBnZXRBcGlVcmwoJ2NoZWNrdXBkYXRlJywgMSkgKyAnIjsnOwogICAganMgKz0gJ3VwaW5mby5vbmxvYWQ9ZnVuY3Rpb24oKXsnOwogICAganMgKz0gJ3VwaW5mby5wYXJlbnROb2RlLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheT0iIjsnOwogICAganMgKz0gJ30nOwogICAgbG9hZEpzKGpzKTsKfQpmdW5jdGlvbiBnZXRBcGlVcmwoYWN0aW9uLCB0eXBlKSB7CiAgICByZXR1cm4gJ2h0dHA6Ly9hcHAuZHVvbHVvaHVhLmNvbS91cGRhdGU/YWN0aW9uPScgKyBhY3Rpb24gKyAnJnN5c3RlbT1zY3JpcHQmYXBwbmFtZT1kdXBhbmxpbmsmYXBwcG90PXNjcmlwdGpzJmZyb21wb3Q9ZHVwYW4mdHlwZT0nICsgdHlwZSArICcmdmVyc2lvbj0nICsgVkVSU0lPTiArICcmdD0nICsgdDsKfQpmdW5jdGlvbiBsb2FkSnMoanMpIHsKICAgIHZhciBvSGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdIRUFEJylbMF0sCiAgICBvU2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICBvU2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsKICAgIG9TY3JpcHQudGV4dCA9IGpzOwogICAgb0hlYWQuYXBwZW5kQ2hpbGQob1NjcmlwdCk7Cn0KZnVuY3Rpb24gZ29vZ2xlQW5hbHl0aWNzKCkgewogICAgdmFyIGpzID0gInZhciBfZ2FxID0gX2dhcSB8fCBbXTsiOwogICAganMgKz0gIl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTQzODU5NzY0LTEnXSk7IjsKICAgIGpzICs9ICJfZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTsiOwogICAganMgKz0gImZ1bmN0aW9uIGdvb2dsZUFuYWx5dGljcygpeyI7CiAgICBqcyArPSAiCXZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO2dhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsiOwogICAganMgKz0gIglnYS5hc3luYyA9IHRydWU7Z2Euc3JjID0gJ2h0dHBzOi8vc3NsLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJzsiOwogICAganMgKz0gIgl2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsiOwogICAganMgKz0gIglzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKSI7CiAgICBqcyArPSAifSI7CiAgICBqcyArPSAiZ29vZ2xlQW5hbHl0aWNzKCk7IjsKICAgIGpzICs9ICJfZ2FxLnB1c2goWydfdHJhY2tFdmVudCcsJ2R1cGFubGlua19zY3JpcHQnLFN0cmluZygnIiArIFZFUlNJT04gKyAiJyldKTsiOwogICAgbG9hZEpzKGpzKTsKfQpnb29nbGVBbmFseXRpY3MoKTsKCgoKCg=="},{"name":"Bypass Wait, Code & Login on Websites","options":{"awareOfChrome":true,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_prototypes":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://localhost.cuwcl4c/*","http://jixunmoe.github.io/*","http://123564.com/*","http://m.123564.com/*","http://5xfile.com/*","http://www.5xfile.com/*","http://yun.baidu.com/*","http://pan.baidu.com/*","http://howfile.com/*","http://*.howfile.com/*","http://jkpan.cc/*","http://*.jkpan.cc/*","http://namipan.cc/*","http://*.namipan.cc/*","http://10pan.cc/*","http://*.10pan.cc/*","http://66yp.cc/*","http://*.66yp.cc/*","http://123wzwp.com/*","http://*.123wzwp.com/*","http://hiyp.cc/*","http://*.hiyp.cc/*","http://jkpan.cc/*","http://*.jkpan.cc/*","http://webhd.xuite.net/*","http://sync.hamicloud.net/*","http://www.yimuhe.com/*","http://douban.fm/*","https://douban.fm/*","http://moe.fm/*","http://music.163.com/*","https://music.163.com/*","http://www.1ting.com/*","http://www.23356.com/*","http://www.app-echo.com/*","http://web.kugou.com/*","https://jixunmoe.github.io/cuwcl4c/config/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"CUWCL4C":"s{\"version\":1,\"bDiaplayLog\":true,\"bUseCustomRules\":false,\"dAria_auth\":0,\"dAria_port\":6800,\"dUriType\":0,\"sAria_dir\":\"D:\\\\Download\\\\\",\"sAria_host\":\"127.0.0.1\",\"sAria_pass\":\"\",\"sAria_user\":\"\",\"sCustomRule\":\"\"}"},"ts":1503129970044},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/2600-%E8%B7%B3%E8%BF%87%E7%BD%91%E7%AB%99%E7%AD%89%E5%BE%85-%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8F%8A%E7%99%BB%E5%BD%95/code/%E8%B7%B3%E8%BF%87%E7%BD%91%E7%AB%99%E7%AD%89%E5%BE%85%E3%80%81%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8F%8A%E7%99%BB%E5%BD%95.user.js","uuid":"2ccb66a7-336a-448e-9c55-34179839c35d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGdyYW50ICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRSZXNvdXJjZVRleHQKLy8gQGdyYW50ICAgICAgICAgIEdNX2luZm8KCi8vIEBydW4tYXQgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAbmFtZTplbiAgICAgICAgQnlwYXNzIFdhaXQsIENvZGUgJiBMb2dpbiBvbiBXZWJzaXRlcwovLyBAbmFtZSAgICAgICAgICAg6Lez6L+H572R56uZ562J5b6F44CB6aqM6K+B56CB5Y+K55m75b2VCi8vIEBuYW1lOnpoLUNOICAgICDot7Pov4fnvZHnq5nnrYnlvoXjgIHpqozor4HnoIHlj4rnmbvlvZUKLy8gQG5hbWU6emgtVFcgICAgIOe5numBjuermem7nuetieW+heOAgeitmOWIpeeivOWPiueZu+mMhAoKLy8gQGRlc2NyaXB0aW9uICAgICAgIOenu+mZpOWQhOexu+e9keermemqjOivgeeggeOAgeeZu+W9leOAgeWAkuiuoeaXtuWPiuabtOWkmiEKLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOenu+mZpOWQhOexu+e9keermemqjOivgeeggeOAgeeZu+W9leOAgeWAkuiuoeaXtuWPiuabtOWkmiEKLy8gQGRlc2NyaXB0aW9uOnpoLVRXIOenu+mZpOWQhOmhnuermem7nuitmOWIpeeivOOAgeeZu+mMhOOAgeWAkuioiOaZguWPiuabtOWkmiEKLy8gQGRlc2NyaXB0aW9uOmVuICAgIFJlbW92ZSB2ZXJpZnkgY29kZSwgbG9naW4gcmVxdWlyZW1lbnQsIGNvdW50aW5nIGRvd24uLi4gYW5kIG1vcmUhCgoKLy8gQGNvcHlyaWdodCAgICAgIDIwMTQrLCBZdWxlaSwgTW9kIGJ5IEppeHVuLgovLy8vICAgICAgICAgICAgICAgQmFzZWQgb24gW0NyYWNrIFVybCBXYWl0IENvZGUgTG9naW5dIEJ5IFl1bGVpCgovLyDpgb/lhY0gU291cmNlIE1hcCDmlofku7bmib7kuI3liLDnmoTplJnor68KLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2pxdWVyeS8yLjEuNC9qcXVlcnkuanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL3VuZGVyc2NvcmUuanMvMS44LjMvdW5kZXJzY29yZS5qcwoKLy8vIENyeXB0b0pTIOebuOWFs+W6kwovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vY3J5cHRvLWpzLzMuMS4yL2NvbXBvbmVudHMvY29yZS1taW4uanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2NyeXB0by1qcy8zLjEuMi9jb21wb25lbnRzL2VuYy1iYXNlNjQtbWluLmpzCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9jcnlwdG8tanMvMy4xLjIvY29tcG9uZW50cy9tZDUtbWluLmpzCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNjY5Ni9jb2RlL0NyeXB0b0pTLUJ5dGVBcnJheS5qcwoKLy8vIOmdnuWQjOatpeaemuS4vgovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM1ODgtaW50ZXJ2YWwtbG9vcGVyL2NvZGUvSW50ZXJ2YWwtTG9vcGVyLmpzCgovLy8g5YW85a65IEdNIDEueCwgMi54Ci8vIEByZXF1aXJlICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjU5OS9jb2RlL2dtMi1wb3J0LXYxMDQuanMKCi8vLyBBcmlhMiBSUEMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy81NjcyL2NvZGUvQXJpYTItUlBDLWJ1aWxkLTEwLmpzCgovLyBWdWVKcywgbm90IGFsd2F5cyB1c2VkLgovLyBAcmVzb3VyY2UgICAgICAgVnVlSnMgaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdnVlLzEuMC4yNi92dWUubWluLmpzCgovLyBAYXV0aG9yICAgICAgICAgSml4dW4uTW9lPFllbGxvdyBZb3NoaT4KLy8gQG5hbWVzcGFjZSAgICAgIGh0dHA6Ly9qaXh1bi5vcmcvCi8vIEB2ZXJzaW9uICAgICAgICA0LjAuNzIwCgovLyDlsJ3or5Xkvb/nlKjohJrmnKznlJ/miJDljLnphY3op4TliJkKLy8gLy8vLyAgICAgICAgICAgICAgIFtJbmNsdWRlIFJ1bGVzXQoKLy8gQGluY2x1ZGUgaHR0cDovL2xvY2FsaG9zdC5jdXdjbDRjLyoKLy8gQGluY2x1ZGUgaHR0cDovL2ppeHVubW9lLmdpdGh1Yi5pby8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8xMjM1NjQuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL20uMTIzNTY0LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly81eGZpbGUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL3d3dy41eGZpbGUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL3l1bi5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSBodHRwOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly9ob3dmaWxlLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8qLmhvd2ZpbGUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL2prcGFuLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovLyouamtwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vbmFtaXBhbi5jYy8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8qLm5hbWlwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vMTBwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vKi4xMHBhbi5jYy8qCi8vIEBpbmNsdWRlIGh0dHA6Ly82NnlwLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovLyouNjZ5cC5jYy8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8xMjN3endwLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8qLjEyM3d6d3AuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL2hpeXAuY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vKi5oaXlwLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovL2prcGFuLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovLyouamtwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vd2ViaGQueHVpdGUubmV0LyoKLy8gQGluY2x1ZGUgaHR0cDovL3N5bmMuaGFtaWNsb3VkLm5ldC8qCi8vIEBpbmNsdWRlIGh0dHA6Ly93d3cueWltdWhlLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly9kb3ViYW4uZm0vKgovLyBAaW5jbHVkZSBodHRwczovL2RvdWJhbi5mbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly9tb2UuZm0vKgovLyBAaW5jbHVkZSBodHRwOi8vbXVzaWMuMTYzLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHBzOi8vbXVzaWMuMTYzLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly93d3cuMXRpbmcuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL3d3dy4yMzM1Ni5jb20vKgovLyBAaW5jbHVkZSBodHRwOi8vd3d3LmFwcC1lY2hvLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly93ZWIua3Vnb3UuY29tLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly9qaXh1bm1vZS5naXRodWIuaW8vY3V3Y2w0Yy9jb25maWcvCgovLyBHTV94bWxIdHRwUmVxdWVzdCDov5znq6/mnI3liqHlmajliJfooagKLy8gQGNvbm5lY3QgZG93bi5sZXBhbi5jYwovLyBAY29ubmVjdCBtdXNpYy5iYWlkdS5jb20KLy8gQGNvbm5lY3QgeWlueXVleXVuLmJhaWR1LmNvbQovLyBAY29ubmVjdCBtZWRpYS5zdG9yZS5rdWdvdS5jb20KLy8gQGNvbm5lY3QgdHJhY2tlcmNkbi5rdWdvdS5jb20KLy8gQGNvbm5lY3QgeWlueXVldGFpLmNvbQovLyBAY29ubmVjdCBpdHd1c3VuLmNvbQovLyBAY29ubmVjdCBzZWxmCgovLyDlkYror4kgVGFtcGVyTW9ua2V5IOi/meS4quiEmuacrOS4jemcgOimgei9rOaNogovLyBAbm9jb21wYXQgQ2hyb21lCgovLyA9PS9Vc2VyU2NyaXB0PT0KdmFyIGRlZmluZSA9IChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vZHVsZXMgPSB7fTsKICAgIHJldHVybiBkZWZpbmU7CiAgICBmdW5jdGlvbiBkZWZpbmUobW9kdWxlLCByZXF1aXJlcywgY2FsbGJhY2spIHsKICAgICAgICB2YXIgX3RoaXNfbW9kdWxlID0gewogICAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgIH07CiAgICAgICAgdmFyIHBhcmFtcyA9IHJlcXVpcmVzLm1hcCgobW9kdWxlKSA9PiB7CiAgICAgICAgICAgIGlmIChtb2R1bGUgPT0gJ2V4cG9ydHMnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXNfbW9kdWxlLmV4cG9ydHM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAobW9kdWxlID09ICdyZXF1aXJlJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUobW9kdWxlKTsKICAgICAgICB9KTsKICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBwYXJhbXMpOwogICAgICAgIF9tb2R1bGVzW21vZHVsZV0gPSBfdGhpc19tb2R1bGUuZXhwb3J0czsKICAgIH0KICAgIGZ1bmN0aW9uIHJlcXVpcmUobW9kdWxlKSB7CiAgICAgICAgcmV0dXJuIF9tb2R1bGVzW21vZHVsZV07CiAgICB9Cn0pKCk7CmRlZmluZSgiaGVscGVyL1NjcmlwdCIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIFNjcmlwdDsKICAgIChmdW5jdGlvbiAoU2NyaXB0KSB7CiAgICAgICAgU2NyaXB0Lk5hbWUgPSAiQ1VXQ0w0QyI7CiAgICAgICAgU2NyaXB0LkhvbWUgPSAiaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzI2MDAiOwogICAgICAgIFNjcmlwdC5Db25maWcgPSAiaHR0cHM6Ly9qaXh1bm1vZS5naXRodWIuaW8vY3V3Y2w0Yy9jb25maWcvIjsKICAgICAgICBTY3JpcHQuRmVlZGJhY2sgPSAiaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mb3J1bS9wb3N0L2Rpc2N1c3Npb24/RGlzY3Vzc2lvbi9TY3JpcHRJRD0yNjAwIjsKICAgICAgICBmdW5jdGlvbiBMaXN0ZW5FdmVudChsaXN0ZW5lcikgewogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFNjcmlwdC5OYW1lLCAoZSkgPT4gewogICAgICAgICAgICAgICAgdmFyIGluZm87CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUuZGV0YWlsID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IEpTT04ucGFyc2UoZS5kZXRhaWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IGUuZGV0YWlsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGlzdGVuZXIoaW5mbyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBTY3JpcHQuTGlzdGVuRXZlbnQgPSBMaXN0ZW5FdmVudDsKICAgICAgICBmdW5jdGlvbiBGaXJlRXZlbnQobmFtZSwgZGF0YSkgewogICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lLCB7CiAgICAgICAgICAgICAgICBkZXRhaWw6IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgICAgU2NyaXB0LkZpcmVFdmVudCA9IEZpcmVFdmVudDsKICAgICAgICBmdW5jdGlvbiBSZWdpc3RlclN0b3JhZ2VFdmVudChrZXksIGxpc3RlbmVyKSB7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PSBrZXkpIHsKICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcihrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgU2NyaXB0LlJlZ2lzdGVyU3RvcmFnZUV2ZW50ID0gUmVnaXN0ZXJTdG9yYWdlRXZlbnQ7CiAgICB9KShTY3JpcHQgPSBleHBvcnRzLlNjcmlwdCB8fCAoZXhwb3J0cy5TY3JpcHQgPSB7fSkpOwp9KTsKZGVmaW5lKCJoZWxwZXIvQ29uc3RhbnRzIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICAvLyDluLjmlbAKICAgIGV4cG9ydHMuaXNGcmFtZSA9IF9pc0ZyYW1lKCk7CiAgICBleHBvcnRzLnZlcnNpb24gPSBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uOwogICAgZXhwb3J0cy5jdXJyZW50VXJsID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdOwogICAgZXhwb3J0cy5sb3dlckhvc3QgPSBsb2NhdGlvbi5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpOwogICAgZXhwb3J0cy50b3BIb3N0ID0gZXhwb3J0cy5sb3dlckhvc3QubWF0Y2goL1x3K1wuP1x3Kz8kLylbMF07CiAgICBleHBvcnRzLnRvcEhvc3RNYXNrID0gYC4ke2V4cG9ydHMudG9wSG9zdH1gOwogICAgZXhwb3J0cy5kb3dubG9hZEljb25DbGFzcyA9ICdqeF9kbCc7CiAgICBleHBvcnRzLmRvd25sb2FkSWNvblNlbGVjdG9yID0gJy5qeF9kbCc7CiAgICBmdW5jdGlvbiBfaXNGcmFtZSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gdW5zYWZlV2luZG93LnRvcCAhPT0gdW5zYWZlV2luZG93LnNlbGY7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KfSk7CmRlZmluZSgiaGVscGVyL0xvZ2dlciIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9TY3JpcHQiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFNjcmlwdF8xKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgZnVuY3Rpb24gRG9Mb2cocHJlZml4LCBtZXRob2QsIGFyZ3MpIHsKICAgICAgICBpZiAoYXJncy5sZW5ndGggPCAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGFyZ3NbMF0gPSBgWyR7U2NyaXB0XzEuU2NyaXB0Lk5hbWV9XVske3ByZWZpeH1dICR7YXJnc1swXX1gOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgYXJncy5zcGxpY2UoMCwgMCwgYFske1NjcmlwdF8xLlNjcmlwdC5OYW1lfV1bJHtwcmVmaXh9XSAke2FyZ3NbMF19YCk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmdzKTsKICAgIH0KICAgIGZ1bmN0aW9uIFdyYXBMb2cocHJlZml4LCBtZXRob2QpIHsKICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHsKICAgICAgICAgICAgcmV0dXJuIERvTG9nKHByZWZpeCwgbWV0aG9kLCBhcmdzKTsKICAgICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gRG9Ob3RoaW5nKCkgeyB9CiAgICBleHBvcnRzLmxvZyA9IERvTm90aGluZzsKICAgIGV4cG9ydHMuaW5mbyA9IERvTm90aGluZzsKICAgIGV4cG9ydHMuZXJyb3IgPSBEb05vdGhpbmc7CiAgICBleHBvcnRzLndhcm4gPSBEb05vdGhpbmc7CiAgICBmdW5jdGlvbiBFbmFibGVMb2dzKCkgewogICAgICAgIGV4cG9ydHMubG9nID0gV3JhcExvZygn5pel5b+XJywgJ2xvZycpOwogICAgICAgIGV4cG9ydHMuaW5mbyA9IFdyYXBMb2coJ+S/oeaBrycsICdpbmZvJyk7CiAgICAgICAgZXhwb3J0cy5lcnJvciA9IFdyYXBMb2coJ+mUmeivrycsICdlcnJvcicpOwogICAgICAgIGV4cG9ydHMud2FybiA9IFdyYXBMb2coJ+itpuWRiicsICd3YXJuJyk7CiAgICB9CiAgICBleHBvcnRzLkVuYWJsZUxvZ3MgPSBFbmFibGVMb2dzOwp9KTsKZGVmaW5lKCJoZWxwZXIvU2NyaXB0Q29uZmlnIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL1NjcmlwdCIsICJoZWxwZXIvTG9nZ2VyIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBTY3JpcHRfMiwgTG9nZ2VyXzEpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICB2YXIgVXJpVHlwZTsKICAgIChmdW5jdGlvbiAoVXJpVHlwZSkgewogICAgICAgIFVyaVR5cGVbVXJpVHlwZVsiTm9ybWFsVXJsIl0gPSAwXSA9ICJOb3JtYWxVcmwiOwogICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2Ugb3RoZXJzIGluc3RlYWQuICovCiAgICAgICAgVXJpVHlwZVtVcmlUeXBlWyJDdXN0b20iXSA9IDFdID0gIkN1c3RvbSI7CiAgICAgICAgVXJpVHlwZVtVcmlUeXBlWyJBcmlhIl0gPSAyXSA9ICJBcmlhIjsKICAgIH0pKFVyaVR5cGUgPSBleHBvcnRzLlVyaVR5cGUgfHwgKGV4cG9ydHMuVXJpVHlwZSA9IHt9KSk7CiAgICBmdW5jdGlvbiBSZWFkQ29uZmlnKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEdNX2dldFZhbHVlKFNjcmlwdF8yLlNjcmlwdC5OYW1lLCAiIikpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgcmV0dXJuIHsgdmVyc2lvbjogMCB9OwogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuQ29uZmlnID0gJC5leHRlbmQoewogICAgICAgIHZlcnNpb246IDEsCiAgICAgICAgYkRpYXBsYXlMb2c6IHRydWUsCiAgICAgICAgYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsOiBmYWxzZSwKICAgICAgICBiWWVsbG93RWFzZVVzZU9sZEFwaTogZmFsc2UsCiAgICAgICAgYlllbGxvd0Vhc2VVc2VUaHJpZE9uRmFpbDogZmFsc2UsCiAgICAgICAgYlVzZUN1c3RvbVJ1bGVzOiBmYWxzZSwKICAgICAgICBkQXJpYV9hdXRoOiBBcmlhMi5BVVRILm5vQXV0aCwKICAgICAgICBkQXJpYV9wb3J0OiA2ODAwLAogICAgICAgIGRVcmlUeXBlOiBVcmlUeXBlLk5vcm1hbFVybCwKICAgICAgICBzQXJpYV9kaXI6ICJEOlxcRG93bmxvYWRcXCIsCiAgICAgICAgc0FyaWFfaG9zdDogIjEyNy4wLjAuMSIsCiAgICAgICAgc0FyaWFfcGFzczogIiIsCiAgICAgICAgc0FyaWFfdXNlcjogIiIsCiAgICAgICAgc0N1c3RvbVJ1bGU6ICIiCiAgICB9LCBSZWFkQ29uZmlnKCkpOwogICAgLy8g5Y2H57qnCiAgICBjb25zdCBfX2xhdGVzdF92ZXJzaW9uID0gMTsKICAgIGlmIChleHBvcnRzLkNvbmZpZy52ZXJzaW9uICE9IF9fbGF0ZXN0X3ZlcnNpb24pIHsKICAgICAgICBzd2l0Y2ggKGV4cG9ydHMuQ29uZmlnLnZlcnNpb24pIHsKICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIExvZ2dlcl8xLmluZm8oJ+WNh+e6pyB2MCDphY3nva7mlofku7YuLi4nKTsKICAgICAgICAgICAgICAgIGV4cG9ydHMuQ29uZmlnLnZlcnNpb24gPSAxOwogICAgICAgICAgICAgICAgZXhwb3J0cy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsID0gZXhwb3J0cy5Db25maWcuYkludGVybmF0aW9uYWw7CiAgICAgICAgICAgICAgICBleHBvcnRzLkNvbmZpZy5iWWVsbG93RWFzZVVzZU9sZEFwaSA9IGV4cG9ydHMuQ29uZmlnLmJQcm94eUluc3RhbGxlZDsKICAgICAgICAgICAgICAgIGV4cG9ydHMuQ29uZmlnLmJZZWxsb3dFYXNlVXNlVGhyaWRPbkZhaWwgPSBleHBvcnRzLkNvbmZpZy5iVXNlVGhyaWRPbkZhaWw7CiAgICAgICAgICAgICAgICBkZWxldGUgZXhwb3J0cy5Db25maWcuYkludGVybmF0aW9uYWw7CiAgICAgICAgICAgICAgICBkZWxldGUgZXhwb3J0cy5Db25maWcuYlVzZVRocmlkT25GYWlsOwogICAgICAgICAgICAgICAgZGVsZXRlIGV4cG9ydHMuQ29uZmlnLmJQcm94eUluc3RhbGxlZDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgR01fc2V0VmFsdWUoU2NyaXB0XzIuU2NyaXB0Lk5hbWUsIEpTT04uc3RyaW5naWZ5KGV4cG9ydHMuQ29uZmlnKSk7CiAgICB9CiAgICBpZiAoZXhwb3J0cy5Db25maWcuYkRpYXBsYXlMb2cpCiAgICAgICAgTG9nZ2VyXzEuRW5hYmxlTG9ncygpOwp9KTsKZGVmaW5lKCJoZWxwZXIvRXh0ZW5zaW9uIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBmdW5jdGlvbiBCZWdpbldpdGgoc3RyLCB3aGF0KSB7CiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHdoYXQpID09PSAwOwogICAgfQogICAgZXhwb3J0cy5CZWdpbldpdGggPSBCZWdpbldpdGg7CiAgICBmdW5jdGlvbiBFbmRXaXRoKHN0ciwgd2hhdCkgewogICAgICAgIHJldHVybiBzdHIuc2xpY2UoLXdoYXQubGVuZ3RoKSA9PSB3aGF0OwogICAgfQogICAgZXhwb3J0cy5FbmRXaXRoID0gRW5kV2l0aDsKICAgIGZ1bmN0aW9uIENvbnRhaW5zKHN0ciwgd2hhdCkgewogICAgICAgIHJldHVybiBzdHIuaW5kZXhPZih3aGF0KSAhPSAtMTsKICAgIH0KICAgIGV4cG9ydHMuQ29udGFpbnMgPSBDb250YWluczsKICAgIGZ1bmN0aW9uIEdldEZpcnN0S2V5KG9iaikgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopWzBdOwogICAgfQogICAgZXhwb3J0cy5HZXRGaXJzdEtleSA9IEdldEZpcnN0S2V5OwogICAgZnVuY3Rpb24gR2V0Rmlyc3RWYWx1ZShvYmopIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gb2JqW0dldEZpcnN0S2V5KG9iaildOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQogICAgZXhwb3J0cy5HZXRGaXJzdFZhbHVlID0gR2V0Rmlyc3RWYWx1ZTsKICAgIC8qKgogICAgICog5LuO6ZO+5o6l6I635Y+W5paH5Lu25ZCO57yA5ZCN44CCCiAgICAgKiDljIXmi6wgYC5gIOWtl+espu+8jOWmgiBgLnRzYAogICAgICovCiAgICBmdW5jdGlvbiBHZXRFeHRlbnNpb25Gcm9tVXJsKHVybCkgewogICAgICAgIHZhciBtID0gdXJsLm1hdGNoKC8uK1wvKD86W14uXSsoXC4uKz8pKSg/Olw/fCQpLyk7CiAgICAgICAgcmV0dXJuIG0gPyBtWzFdIDogbnVsbDsKICAgIH0KICAgIGV4cG9ydHMuR2V0RXh0ZW5zaW9uRnJvbVVybCA9IEdldEV4dGVuc2lvbkZyb21Vcmw7CiAgICAvLyBGaXNoZXItWWF0ZXMgU2h1ZmZsZSBieSBjb21tdW5pdHkgd2lraSg/KQogICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjI3NDM5OAogICAgZnVuY3Rpb24gU2h1ZmZsZShhcnJheSkgewogICAgICAgIHZhciBjb3VudGVyID0gYXJyYXkubGVuZ3RoOwogICAgICAgIHZhciB0ZW1wLCBpbmRleDsKICAgICAgICAvLyBXaGlsZSB0aGVyZSBhcmUgZWxlbWVudHMgaW4gdGhlIGFycmF5CiAgICAgICAgd2hpbGUgKGNvdW50ZXIgPiAwKSB7CiAgICAgICAgICAgIC8vIFBpY2sgYSByYW5kb20gaW5kZXgKICAgICAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb3VudGVyKTsKICAgICAgICAgICAgLy8gRGVjcmVhc2UgY291bnRlciBieSAxCiAgICAgICAgICAgIGNvdW50ZXItLTsKICAgICAgICAgICAgLy8gQW5kIHN3YXAgdGhlIGxhc3QgZWxlbWVudCB3aXRoIGl0CiAgICAgICAgICAgIHRlbXAgPSBhcnJheVtjb3VudGVyXTsKICAgICAgICAgICAgYXJyYXlbY291bnRlcl0gPSBhcnJheVtpbmRleF07CiAgICAgICAgICAgIGFycmF5W2luZGV4XSA9IHRlbXA7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhcnJheTsKICAgIH0KICAgIGV4cG9ydHMuU2h1ZmZsZSA9IFNodWZmbGU7Cn0pOwovLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CmRlZmluZSgiaGVscGVyL1F1ZXJ5U3RyaW5nIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0V4dGVuc2lvbiJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgRXh0ZW5zaW9uXzEpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBmdW5jdGlvbiBHZXRGbGFzaFZhcnMoZWwpIHsKICAgICAgICBpZiAoIWVsKQogICAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgdmFyIGVsZSA9ICgnanF1ZXJ5JyBpbiBlbCA/IGVsWzBdIDogZWwpOwogICAgICAgIGlmIChlbGUuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT0gJ2ZsYXNoJykKICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgIHZhciBmbGFzaFZhcnMgPSB7fTsKICAgICAgICB2YXIgc2l6ZSA9IGVsZS5jaGlsZE5vZGVzLmxlbmd0aDsKICAgICAgICB2YXIgZmxhc2hPYmplY3Q7CiAgICAgICAgZm9yIChsZXQgaSA9IHNpemU7IGktLTspIHsKICAgICAgICAgICAgaWYgKGVsZS5jaGlsZE5vZGVzW2ldLm5hbWUgPT0gJ2ZsYXNodmFycycpIHsKICAgICAgICAgICAgICAgIGZsYXNoT2JqZWN0ID0gZWxlLmNoaWxkTm9kZXNbaV07CiAgICAgICAgICAgICAgICBmbGFzaE9iamVjdC52YWx1ZS5yZXBsYWNlKC8mYW1wOy9nLCAnJicpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbXHNcU10rPyk9KFtcc1xTXSs/KSgmfCQpL2csIChuLCBrZXksIHZhbHVlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8g5Yip55So5q2j5YiZ55qE5om56YeP5pu/5o2i5Yqf6IO95oqT5Y+W5pWw5o2uCiAgICAgICAgICAgICAgICAgICAgZmxhc2hWYXJzW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGZsYXNoVmFyczsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4ge307CiAgICB9CiAgICBleHBvcnRzLkdldEZsYXNoVmFycyA9IEdldEZsYXNoVmFyczsKICAgIGZ1bmN0aW9uIFBhcnNlKHF1ZXJ5KSB7CiAgICAgICAgdmFyIHVybFBhcmFtczsKICAgICAgICBpZiAoRXh0ZW5zaW9uXzEuQ29udGFpbnMocXVlcnksICc/JykpIHsKICAgICAgICAgICAgdXJsUGFyYW1zID0gcXVlcnkuc2xpY2UocXVlcnkuaW5kZXhPZignPycpICsgMSkuc3BsaXQoJyYnKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHVybFBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJyk7CiAgICAgICAgfQogICAgICAgIHZhciByZXQgPSB7fTsKICAgICAgICB2YXIgcXVlcnlTdHI7CiAgICAgICAgdmFyIHBvc0VxdWFsOwogICAgICAgIGZvciAodmFyIGkgPSB1cmxQYXJhbXMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgIHF1ZXJ5U3RyID0gdXJsUGFyYW1zW2ldLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHBvc0VxdWFsID0gcXVlcnlTdHIuaW5kZXhPZignPScpOwogICAgICAgICAgICBpZiAocG9zRXF1YWwgPT0gLTEpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgcmV0W2RlY29kZVVSSUNvbXBvbmVudChxdWVyeVN0ci5zbGljZSgwLCBwb3NFcXVhbCkpXSA9CiAgICAgICAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQocXVlcnlTdHIuc2xpY2UocG9zRXF1YWwgKyAxKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXQ7CiAgICB9CiAgICBleHBvcnRzLlBhcnNlID0gUGFyc2U7Cn0pOwpkZWZpbmUoImhlbHBlci9TdHlsZVNoZWV0IiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBjbGFzcyBTdHlsZVNoZWV0IHsKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgdGhpcy5zdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgIHRoaXMuQXBwbHkoKTsKICAgICAgICB9CiAgICAgICAgQWRkKC4uLnN0eWxlVGV4dCkgewogICAgICAgICAgICB0aGlzLnN0eWxlLnRleHRDb250ZW50ICs9ICdcbicgKyBzdHlsZVRleHQuam9pbignXG4nKTsKICAgICAgICB9CiAgICAgICAgSGlkZShzZWxlY3RvciwgLi4uc2VsZWN0b3JzKSB7CiAgICAgICAgICAgIGlmICgnc3RyaW5nJyA9PSB0eXBlb2Ygc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9ycy5zcGxpY2UoMCwgMCwgc2VsZWN0b3IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2VsZWN0b3JzID0gc2VsZWN0b3I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHN0eWxlVGV4dCA9IGAke3NlbGVjdG9ycy5qb2luKCcsICcpfSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudCB9YDsKICAgICAgICAgICAgdGhpcy5BZGQoc3R5bGVUZXh0KTsKICAgICAgICB9CiAgICAgICAgU2hvdyhzZWxlY3RvciwgLi4uc2VsZWN0b3JzKSB7CiAgICAgICAgICAgIGlmICgnc3RyaW5nJyA9PSB0eXBlb2Ygc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9ycy5zcGxpY2UoMCwgMCwgc2VsZWN0b3IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2VsZWN0b3JzID0gc2VsZWN0b3I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHN0eWxlVGV4dCA9IGAke3NlbGVjdG9ycy5qb2luKCcsICcpfSB7IGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQgfWA7CiAgICAgICAgICAgIHRoaXMuQWRkKHN0eWxlVGV4dCk7CiAgICAgICAgfQogICAgICAgIEhpZGVGcmFtZXMoKSB7CiAgICAgICAgICAgIHRoaXMuSGlkZSgnZnJhbWUsIGlmcmFtZSwgZnJhbWVzZXQnKTsKICAgICAgICB9CiAgICAgICAgQXBwbHkoYm9keSA9IHRydWUpIHsKICAgICAgICAgICAgaWYgKGJvZHkgJiYgZG9jdW1lbnQuYm9keSkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBleHBvcnRzLlN0eWxlU2hlZXQgPSBTdHlsZVNoZWV0Owp9KTsKZGVmaW5lKCJoZWxwZXIvRG93bmxvYWRlciIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9TY3JpcHQiLCAiaGVscGVyL1NjcmlwdENvbmZpZyIsICJoZWxwZXIvRXh0ZW5zaW9uIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBTY3JpcHRfMywgU2NyaXB0Q29uZmlnXzEsIEV4dGVuc2lvbl8yKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9Vc2Vyc2NyaXB0LmQudHMiIC8+CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL0dNX0FyaWEyUlBDLmQudHMiIC8+CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CiAgICB2YXIgY29uZmlnID0gU2NyaXB0Q29uZmlnXzEuQ29uZmlnOwogICAgY2xhc3MgRG93bmxvYWRlciB7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuX2NhcHR1cmVkID0gZmFsc2U7CiAgICAgICAgICAgIC8vIFRPRE86ID8/CiAgICAgICAgfQogICAgICAgIEdlbmVyYXRlVXJsUGFydCh1cmwsIGZpbGVuYW1lLCByZWYpIHsKICAgICAgICAgICAgcmV0dXJuIGAke3VybH18JHt0aGlzLkdldFJlZmVycmVyVXJsKGZpbGVuYW1lKX18JHt0aGlzLkdldFJlZmVycmVyVXJsKHJlZil9YDsKICAgICAgICB9CiAgICAgICAgR2V0UmVmZXJyZXJVcmwodXJsKSB7CiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodXJsIHx8IGxvY2F0aW9uLmhyZWYpLnJlcGxhY2UoLyMuKi8sICcnKTsKICAgICAgICB9CiAgICAgICAgTm9ybWFsaXNlRmlsZW5hbWUoZmlsZW5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhmaWxlbmFtZSkucmVwbGFjZSgvWyciXC9cXDp8XS9nLCAnXycpOwogICAgICAgIH0KICAgICAgICBHZW5lcmF0ZVVyaSh1cmwsIGZpbGVuYW1lLCByZWYpIHsKICAgICAgICAgICAgc3dpdGNoIChjb25maWcuZFVyaVR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgU2NyaXB0Q29uZmlnXzEuVXJpVHlwZS5DdXN0b206CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBjdXdjbDRjOi8vfDF8JHt0aGlzLkdlbmVyYXRlVXJsUGFydCh1cmwsIGZpbGVuYW1lLCByZWYpfWA7CiAgICAgICAgICAgICAgICBjYXNlIFNjcmlwdENvbmZpZ18xLlVyaVR5cGUuQXJpYToKICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhcHR1cmVkKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNhcHR1cmVBcmlhKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBhcmlhMjovL3wke3RoaXMuR2VuZXJhdGVVcmxQYXJ0KHVybCwgZmlsZW5hbWUsIHJlZil9YDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgIH0KICAgICAgICBDYXB0dXJlQXJpYShlbCkgewogICAgICAgICAgICB0aGlzLl9jYXB0dXJlZCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuU2V0dXBBcmlhKGZhbHNlKTsKICAgICAgICAgICAgaWYgKCFlbCkKICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuYm9keTsKICAgICAgICAgICAgJChlbCkuY2xpY2soKGUpID0+IHsKICAgICAgICAgICAgICAgIHZhciBlbCA9IGUudGFyZ2V0OwogICAgICAgICAgICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICAgICAgICAgICAgdmFyIGxpbmtFbCA9ICgkZWwuaXMoJ2EnKSA/IGVsIDogJGVsLnBhcmVudHMoJ2EnKVswXSk7CiAgICAgICAgICAgICAgICBpZiAobGlua0VsICYmIGxpbmtFbC50YWdOYW1lID09ICdBJyAmJiBFeHRlbnNpb25fMi5CZWdpbldpdGgobGlua0VsLmhyZWYsICdhcmlhMjovL3wnKSkgewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gbGlua0VsLmhyZWYuc3BsaXQoJ3wnKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLkFkZFRvQXJpYShsaW5rWzFdLCBkZWNvZGVVUklDb21wb25lbnQobGlua1syXSksIGxpbmtbM10sIGxpbmtFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FyaWEtY29va2llJykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgQWRkVG9BcmlhKHVybCwgZmlsZW5hbWUsIHJlZmVyZXIsIGNvb2tpZSwgaGVhZGVycykgewogICAgICAgICAgICB2YXIgYXJpYVBhcmFtID0gewogICAgICAgICAgICAgICAgb3V0OiBmaWxlbmFtZSwKICAgICAgICAgICAgICAgIHJlZmVyZXI6IHJlZmVyZXIgfHwgbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgIGRpcjogY29uZmlnLnNBcmlhX2RpciwKICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgICAgICAgICAgIGhlYWRlcjogaGVhZGVycyB8fCBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoY29va2llID09PSB0cnVlKQogICAgICAgICAgICAgICAgY29va2llID0gZG9jdW1lbnQuY29va2llOwogICAgICAgICAgICBpZiAoY29va2llKQogICAgICAgICAgICAgICAgYXJpYVBhcmFtLmhlYWRlci5wdXNoKCdDb29raWU6ICcgKyBjb29raWUpOwogICAgICAgICAgICB0aGlzLmFyaWEuYWRkVXJpKFt1cmxdLCBhcmlhUGFyYW0sIChyKSA9PiB7IH0sIChiLCByKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgc0Vycm9yTXNnOwogICAgICAgICAgICAgICAgaWYgKHIuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBzRXJyb3JNc2cgPSBg6ZSZ6K+v5Luj56CBICR7ci5lcnJvci5jb2RlfTogJHtyLmVycm9yLm1lc3NhZ2V9YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNFcnJvck1zZyA9ICLkuI4gQXJpYTIg5ZCO5Y+w6YCa5L+h5aSx6LSlLCDmnI3liqHmnKrlvIDlkK8/IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGFsZXJ0KGBbJHtTY3JpcHRfMy5TY3JpcHQuTmFtZX1dIOaPkOS6pOS7u+WKoeWPkeeUn+mUmeivryEKCiR7c0Vycm9yTXNnfWApOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgU2V0dXBBcmlhKGZvcmNlU2V0dXApIHsKICAgICAgICAgICAgaWYgKGZvcmNlU2V0dXAgfHwgIXRoaXMuYXJpYSkgewogICAgICAgICAgICAgICAgdGhpcy5hcmlhID0gbmV3IEFyaWEyKHsKICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbmZpZy5kQXJpYV9hdXRoLAogICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBjb25maWcuc0FyaWFfdXNlciwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzczogY29uZmlnLnNBcmlhX3Bhc3MKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGhvc3Q6IGNvbmZpZy5zQXJpYV9ob3N0LAogICAgICAgICAgICAgICAgICAgIHBvcnQ6IGNvbmZpZy5kQXJpYV9wb3J0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBBZGREb3dubG9hZCh1cmwsIGZpbGUpIHsKICAgICAgICAgICAgaWYgKGNvbmZpZy5kVXJpVHlwZSA9PSBTY3JpcHRDb25maWdfMS5VcmlUeXBlLkFyaWEpIHsKICAgICAgICAgICAgICAgIHRoaXMuQWRkVG9BcmlhKHVybCwgZmlsZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIodGhpcy5HZW5lcmF0ZVVyaSh1cmwsIGZpbGUpLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuRG93bmxvYWRlciA9IERvd25sb2FkZXI7Cn0pOwpkZWZpbmUoIlNpdGVSdWxlIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0NvbnN0YW50cyIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9TdHlsZVNoZWV0IiwgImhlbHBlci9Mb2dnZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIENvbnN0YW50c18xLCBFeHRlbnNpb25fMywgU3R5bGVTaGVldF8xLCBMb2dnZXJfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIGV4cG9ydHMuU2l0ZXMgPSBbXTsKICAgIGZ1bmN0aW9uIEFkZChzaXRlUnVsZSkgewogICAgICAgIHNpdGVSdWxlLl9zdHlsZUFwcGxpZWQgPSBmYWxzZTsKICAgICAgICBleHBvcnRzLlNpdGVzLnB1c2goc2l0ZVJ1bGUpOwogICAgfQogICAgZXhwb3J0cy5BZGQgPSBBZGQ7CiAgICBmdW5jdGlvbiBDaGVja1BhdGgocGF0aCwgcnVsZSkgewogICAgICAgIGlmICgkLmlzQXJyYXkocnVsZSkpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJ1bGUubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICBpZiAoQ2hlY2tQYXRoKHBhdGgsIHJ1bGVbaV0pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKHJ1bGUpKSB7CiAgICAgICAgICAgIHJldHVybiBydWxlKHBhdGgpOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHJ1bGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHJldHVybiBFeHRlbnNpb25fMy5CZWdpbldpdGgocGF0aCwgcnVsZSk7CiAgICAgICAgfQogICAgICAgIGlmIChydWxlIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgICAgIHJldHVybiBydWxlLnRlc3QocGF0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGV4cG9ydHMuQ2hlY2tQYXRoID0gQ2hlY2tQYXRoOwogICAgZnVuY3Rpb24gQ2hlY2soc2l0ZSwgZXZlbnQpIHsKICAgICAgICBpZiAoc2l0ZS5zdWJNb2R1bGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHNpdGUuaG9zdCA9PSAnc3RyaW5nJykgewogICAgICAgICAgICBzaXRlLmhvc3QgPSBbc2l0ZS5ob3N0XTsKICAgICAgICB9CiAgICAgICAgdmFyIGhvc3RzID0gc2l0ZS5ob3N0Lm1hcCgoaG9zdCkgPT4gewogICAgICAgICAgICByZXR1cm4gaG9zdC50b0xvd2VyQ2FzZSgpOwogICAgICAgIH0pOwogICAgICAgIGlmICghRXh0ZW5zaW9uXzMuQ29udGFpbnMoaG9zdHMsIENvbnN0YW50c18xLmxvd2VySG9zdCkpIHsKICAgICAgICAgICAgaWYgKHNpdGUubm9TdWJIb3N0KQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlOwogICAgICAgICAgICBmb3IgKHZhciBpID0gaG9zdHMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICBpZiAoRXh0ZW5zaW9uXzMuRW5kV2l0aChgLiR7aG9zdHNbaV19YCwgQ29uc3RhbnRzXzEudG9wSG9zdE1hc2spKSB7CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFtYXRjaGVkKQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoc2l0ZS5wYXRoKSB7CiAgICAgICAgICAgIHJldHVybiBDaGVja1BhdGgobG9jYXRpb24ucGF0aG5hbWUsIHNpdGUucGF0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZXhwb3J0cy5DaGVjayA9IENoZWNrOwogICAgZnVuY3Rpb24gR2V0KGlkKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGV4cG9ydHMuU2l0ZXMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgIGlmIChleHBvcnRzLlNpdGVzW2ldLmlkID09IGlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5TaXRlc1tpXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGV4cG9ydHMuR2V0ID0gR2V0OwogICAgZnVuY3Rpb24gRXhlY3V0ZShpZCwgZXZlbnQpIHsKICAgICAgICBzd2l0Y2ggKGV2ZW50LnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICAgICAgY2FzZSAnc3RhcnQnOgogICAgICAgICAgICAgICAgR2V0KGlkKS5vblN0YXJ0KCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnYm9keSc6CiAgICAgICAgICAgICAgICBHZXQoaWQpLm9uQm9keSgpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogICAgZXhwb3J0cy5FeGVjdXRlID0gRXhlY3V0ZTsKICAgIGZ1bmN0aW9uIEZpcmVFdmVudChldmVudCkgewogICAgICAgIGZvciAodmFyIGkgPSBleHBvcnRzLlNpdGVzLmxlbmd0aDsgaS0tOykgewogICAgICAgICAgICB2YXIgcnVsZSA9IGV4cG9ydHMuU2l0ZXNbaV07CiAgICAgICAgICAgIGlmIChDb25zdGFudHNfMS5pc0ZyYW1lICYmICFydWxlLnJ1bkluRnJhbWUpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgaWYgKENoZWNrKHJ1bGUsIGV2ZW50KSkgewogICAgICAgICAgICAgICAgUnVuKHJ1bGUsIGV2ZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuRmlyZUV2ZW50ID0gRmlyZUV2ZW50OwogICAgZnVuY3Rpb24gUnVuKHNpdGUsIGV2ZW50TmFtZSkgewogICAgICAgIHZhciBldmVudDsKICAgICAgICBzd2l0Y2ggKGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzoKICAgICAgICAgICAgICAgIGV2ZW50ID0gc2l0ZS5vblN0YXJ0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2JvZHknOgogICAgICAgICAgICAgICAgZXZlbnQgPSBzaXRlLm9uQm9keTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgTG9nZ2VyXzIuZXJyb3IoYOaXoOaViOeahOS6i+S7tiAke2V2ZW50TmFtZX1gKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFzaXRlLl9zdHlsZUFwcGxpZWQpIHsKICAgICAgICAgICAgc2l0ZS5fc3R5bGVBcHBsaWVkID0gdHJ1ZTsKICAgICAgICAgICAgc2l0ZS5zdHlsZSA9IG5ldyBTdHlsZVNoZWV0XzEuU3R5bGVTaGVldCgpOwogICAgICAgICAgICBpZiAoc2l0ZS5oaWRlKSB7CiAgICAgICAgICAgICAgICBzaXRlLnN0eWxlLkhpZGUoc2l0ZS5oaWRlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2l0ZS5zaG93KSB7CiAgICAgICAgICAgICAgICBzaXRlLnN0eWxlLlNob3coc2l0ZS5zaG93KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2l0ZS5jc3MpIHsKICAgICAgICAgICAgICAgIHNpdGUuc3R5bGUuQWRkKHNpdGUuY3NzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2l0ZS5kbF9pY29uKSB7CiAgICAgICAgICAgICAgICBzaXRlLnN0eWxlLkFkZChgCiAgICAgICAgICAgIApAZm9udC1mYWNlIHsKCWZvbnQtZmFtaWx5OiBjY2M7CglzcmM6IHVybChodHRwczovL2Nkbi5ib290Y3NzLmNvbS9mb250LWF3ZXNvbWUvNC4yLjAvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC53b2ZmKSBmb3JtYXQoJ3dvZmYnKTsKCWZvbnQtd2VpZ2h0OiBub3JtYWw7Cglmb250LXN0eWxlOiBub3JtYWw7Cn0KCiR7Q29uc3RhbnRzXzEuZG93bmxvYWRJY29uU2VsZWN0b3J9OjpiZWZvcmUgewoJZm9udC1mYW1pbHk6IGNjYzsKCWNvbnRlbnQ6ICJcXGYwMTkiOwoJcGFkZGluZy1yaWdodDogLjVlbTsKfQoKLmp4X2hpZGUgewoJZGlzcGxheTogbm9uZTsKfQoKICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2l0ZS5zdHlsZS5BcHBseSh0cnVlKTsKICAgICAgICBpZiAoIWV2ZW50KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgTG9nZ2VyXzIuaW5mbyhg5omn6KGM6KeE5YiZOiAke3NpdGUuaWR9IOS6jiAke3NpdGUubmFtZX0gW+S6i+S7tjogJHtldmVudE5hbWV9XWApOwogICAgICAgIGV2ZW50LmNhbGwodGhpcyk7CiAgICB9CiAgICBleHBvcnRzLlJ1biA9IFJ1bjsKfSk7CmRlZmluZSgic2l0ZS9BQS5Db25maWciLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvQ29uc3RhbnRzIiwgImhlbHBlci9TY3JpcHRDb25maWciLCAiaGVscGVyL1NjcmlwdCIsICJoZWxwZXIvRG93bmxvYWRlciJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgQ29uc3RhbnRzXzIsIFNjcmlwdENvbmZpZ18yLCBTY3JpcHRfNCwgRG93bmxvYWRlcl8xKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgYmQ6IG51bGwsCiAgICAgICAgaWQ6ICdpbnRlcm5hbC5jb25maWcnLAogICAgICAgIG5hbWU6ICfohJrmnKzphY3nva7pobXpnaInLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIGhvc3Q6IFsnbG9jYWxob3N0LmN1d2NsNGMnLCAnaml4dW5tb2UuZ2l0aHViLmlvJ10sCiAgICAgICAgcGF0aDogWycvY29uZmlnLycsICcvY3V3Y2w0Yy9jb25maWcnXSwKICAgICAgICBvblN0YXJ0OiAoKSA9PiB7CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5yU2NyaXB0VmVyc2lvbiA9IENvbnN0YW50c18yLnZlcnNpb247CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5yU2NyaXB0Q29uZmlnID0gSlNPTi5zdHJpbmdpZnkoU2NyaXB0Q29uZmlnXzIuQ29uZmlnKTsKICAgICAgICAgICAgdmFyIF9jID0gY29uZmlybTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignU2F2ZUNvbmZpZycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGUuZGV0YWlsKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfop6PmnpDorr7lrprlgLzlh7rplJkhJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKF9jKGDnoa7lrprlgqjlrZjorr7lrproh7MgJHtTY3JpcHRfNC5TY3JpcHQuTmFtZX0/YCkpCiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU2NyaXB0XzQuU2NyaXB0Lk5hbWUsIGNvbmZpZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIHJ1bGUuYmQgPSBuZXcgRG93bmxvYWRlcl8xLkRvd25sb2FkZXIoKTsKICAgICAgICAgICAgcnVsZS5iZC5DYXB0dXJlQXJpYSgpOwogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJoZWxwZXIvV2FpdCIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgZnVuY3Rpb24gV2FpdFVudGlsKGNoZWNrLCBjYiwgblRpbWVvdXQgPSAxMDAwMCwgbkludGVydmFsID0gMTUwKSB7CiAgICAgICAgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBjaGVjaykgewogICAgICAgICAgICBjaGVjayA9IGNoZWNrLnNwbGl0KCcuJyk7CiAgICAgICAgfQogICAgICAgIHZhciBpc1JlYWR5OwogICAgICAgIGlmICgkLmlzQXJyYXkoY2hlY2spKSB7CiAgICAgICAgICAgIGlzUmVhZHkgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgciA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2subGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICByID0gcltjaGVja1tpXV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlzUmVhZHkgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVjaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICghaXNSZWFkeSgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgIGNiLmNhbGwodGhpcyk7CiAgICAgICAgfSwgbkludGVydmFsKTsKICAgICAgICBpZiAoblRpbWVvdXQgIT09IHRydWUpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgfSwgblRpbWVvdXQpOwogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuV2FpdFVudGlsID0gV2FpdFVudGlsOwp9KTsKZGVmaW5lKCJoZWxwZXIvUmVkaXJlY3QiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvV2FpdCIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9Mb2dnZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFdhaXRfMSwgRXh0ZW5zaW9uXzQsIExvZ2dlcl8zKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgLyoqCiAgICAgKiDot7PovazlkI7kv53nlZnlvZPliY3pobXpnaLkvZzkuLogcmVmZXJyZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIFJlZGlyZWN0VG8odXJsKSB7CiAgICAgICAgTG9nZ2VyXzMuaW5mbyhg5YeG5aSH6Lez6L2sICR7dXJsfS4uLmApOwogICAgICAgIHZhciBsaW5rID0gJCgnPGE+JykKICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCB1cmwpCiAgICAgICAgICAgIC50ZXh0KGDmraPlnKjot7PovawgWyR7dXJsfV0sIOivt+eojeWQji4uIGApCiAgICAgICAgICAgIC5wcmVwZW5kVG8oZG9jdW1lbnQuYm9keSkKICAgICAgICAgICAgLmNzcyh7IGZvbnRTaXplOiAxMiwgY29sb3I6ICdpbmhlcml0JyB9KTsKICAgICAgICBsaW5rWzBdLmNsaWNrKCk7CiAgICB9CiAgICBleHBvcnRzLlJlZGlyZWN0VG8gPSBSZWRpcmVjdFRvOwogICAgLyoqCiAgICAgKiBwaHBEaXNrIOmAmueUqOi3s+i9rOaWh+S7tuS4i+i9vemhtemdouWHveaVsAogICAgICoKICAgICAqIOi/lOWbniB0cnVlIOS7o+ihqOaIkOWKnwogICAgICog5ZCm5YiZ5Luj6KGo5om+5LiN5Yiw6KeE5YiZ44CCCiAgICAgKi8KICAgIGZ1bmN0aW9uIHBocGRpc2tBdXRvUmVkaXJlY3QoY2FsbGJhY2spIHsKICAgICAgICBpZiAoIWNhbGxiYWNrKSB7CiAgICAgICAgICAgIGNhbGxiYWNrID0gZG9jdW1lbnQuYm9keSA/IFJlZGlyZWN0VG8gOiAodXJsKSA9PiB7CiAgICAgICAgICAgICAgICBXYWl0XzEuV2FpdFVudGlsKCdkb2N1bWVudC5ib2R5JywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIFJlZGlyZWN0VG8odXJsKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgckNoZWNrUGF0aCA9IC9cLyhmaWxlKT8oZmlsZXx2aWV3KShbXC8uXC1fXS4qKS87CiAgICAgICAgaWYgKHJDaGVja1BhdGgudGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgY2FsbGJhY2sobG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZShyQ2hlY2tQYXRoLCAnLyQxZG93biQzJykpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChFeHRlbnNpb25fNC5CZWdpbldpdGgobG9jYXRpb24ucGF0aG5hbWUsICcvdmlld2ZpbGUnKSkgewogICAgICAgICAgICBjYWxsYmFjayhsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvdmlld2ZpbGUnLCAnL2Rvd25sb2FkJykpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGV4cG9ydHMucGhwZGlza0F1dG9SZWRpcmVjdCA9IHBocGRpc2tBdXRvUmVkaXJlY3Q7Cn0pOwpkZWZpbmUoInNpdGUvZGwuMTIzNTY0IiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0V4dGVuc2lvbiIsICJoZWxwZXIvUmVkaXJlY3QiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIEV4dGVuc2lvbl81LCBSZWRpcmVjdF8xKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdkbC4xMjM1NjQnLAogICAgICAgIG5hbWU6ICcxMjM1NjQg572R55uYJywKICAgICAgICBob3N0OiBbJzEyMzU2NC5jb20nLCAnbS4xMjM1NjQuY29tJ10sCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgaGlkZTogJyN5em0nLAogICAgICAgIHNob3c6ICcjZG93bmxvYWQnLAogICAgICAgIGNzczogYAouYWQxLCAuYWQ0ewogICAgaGVpZ2h0OiA5OTlweCAhaW1wb3J0YW50OwogICAgd2lkdGg6ICAwcHggICAhaW1wb3J0YW50Owp9CiAgICBgLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgdW5zYWZlV2luZG93LmtpbGxwYW5hZHMgPSAxOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIC8vIOaWh+S7tuesrOS4gOmhtQogICAgICAgICAgICB2YXIgdXJsID0gJCgnLmNhb2N1byAuanViYW8nKS5uZXh0KCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKTsKICAgICAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICAgICAgUmVkaXJlY3RfMS5SZWRpcmVjdFRvKHVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoRXh0ZW5zaW9uXzUuQ29udGFpbnMobG9jYXRpb24ucGF0aG5hbWUsICcvZG93bnBhbmVsLmFzcCcpKSB7CiAgICAgICAgICAgICAgICAvLyDnrKzkuInpobUgLSDmnIDnu4jkuIvovb3lnLDlnYDlsZXnpLoKICAgICAgICAgICAgICAgIHVybCA9ICQoImRpdiA+IGFbaHJlZio9Jy9kb3duLmFzcCddIikuYXR0cignaHJlZicpOwogICAgICAgICAgICAgICAgUmVkaXJlY3RfMS5SZWRpcmVjdFRvKHVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDnrKzkuozpobU6IOWhq+WGmemqjOivgeeggQogICAgICAgICAgICAgICAgJCgnI2Rvd25sb2FkID4gYScpLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC41eGZpbGUiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cykgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciBydWxlID0gewogICAgICAgIGlkOiAnZGwuNXhmaWxlJywKICAgICAgICBuYW1lOiAn5LqU5pif572R55uYJywKICAgICAgICBob3N0OiBbJzV4ZmlsZS5jb20nLCAnd3d3LjV4ZmlsZS5jb20nXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBvblN0YXJ0OiAoKSA9PiB7CiAgICAgICAgICAgIC8vIFRPRE86IOWQr+WKqOS6i+S7tgogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIC8vIFRPRE86IOmhtemdouS6i+S7tgogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL2RsLmJhaWR1IiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL1dhaXQiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFdhaXRfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciBydWxlID0gewogICAgICAgIGlkOiAnZGwuYmFpZHUnLAogICAgICAgIG5hbWU6ICfnmb7luqbnm5jlhY3kuIvovb3nrqHlrrYnLAogICAgICAgIGhvc3Q6IFsneXVuLmJhaWR1LmNvbScsICdwYW4uYmFpZHUuY29tJ10sCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIFdhaXRfMi5XYWl0VW50aWwoJ3JlcXVpcmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB1bnNhZmVFeGVjKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZSA9IHdpbmRvdy5yZXF1aXJlOwogICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gcmVxdWlyZSgnZGlzay1zeXN0ZW06d2lkZ2V0L3BsdWdpbi9kb3dubG9hZC91dGlsL2Rvd25sb2FkQ29tbW9uVXRpbC5qcycpOwogICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuaXNQbGF0Zm9ybVdpbmRvd3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC5ob3dmaWxlIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ2RsLmhvd2ZpbGUnLAogICAgICAgIG5hbWU6ICflpb3nm5ggW2hvd2ZpbGUuY29tXScsCiAgICAgICAgaG9zdDogJ2hvd2ZpbGUuY29tJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIGNzczogYAojZmxvYXRkaXYgewogICAgdG9wOiAxNTBweDsKICAgIHotaW5kZXg6IDk5OTk5OwogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQogICAgYCwKICAgICAgICBvblN0YXJ0OiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC5qa3BhbiIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9FeHRlbnNpb24iLCAiaGVscGVyL1JlZGlyZWN0Il0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBFeHRlbnNpb25fNiwgUmVkaXJlY3RfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIC8vIOmtlOaUuSBwaHBkaXNrCiAgICB2YXIgamtwYW5SdWxlID0gewogICAgICAgIGlkOiAnZGwucGhwZGlzay5qa3BhbicsCiAgICAgICAgbmFtZTogJ0pLUEFOIOinhOWImSBbcGhwRGlza10nLAogICAgICAgIGhvc3Q6IFsnamtwYW4uY2MnXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgdmFyIGN0eCA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgICAgY3R4LmtpbGxhZHMgPSAxOwogICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgICBzLmlkID0gJ2FkYmxvY2tUZXN0ZXInOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIHZhciBjdHggPSB1bnNhZmVXaW5kb3c7CiAgICAgICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHMuaWQgPSAnYjEnOwogICAgICAgICAgICBzLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OjUwMHB4O3Bvc2l0aW9uOmZpeGVkO2xlZnQ6LTUwMHB4JzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgaWYgKEV4dGVuc2lvbl82LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9kb3duMi0nKSkgewogICAgICAgICAgICAgICAgbGV0IGhhbmRsZXIgPSBjdHguaGFuZGxlclBvcHVwOwogICAgICAgICAgICAgICAgY3R4LmhhbmRsZXJQb3B1cCA9IHVuc2FmZURlZmluZUZ1bmN0aW9uKCdoYW5kbGVyUG9wdXAnLCBmdW5jdGlvbiAoY2FwdGNoYU9iaikgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGNoYU9iai5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgfSwgNzUwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEV4dGVuc2lvbl82LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9maWxlLScpKSB7CiAgICAgICAgICAgICAgICBSZWRpcmVjdF8yLlJlZGlyZWN0VG8obG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnZmlsZScsICdkb3duMicpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW2prcGFuUnVsZV07Cn0pOwpkZWZpbmUoInNpdGUvZGwubmFtaXBhbi5jYyIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdkbC5uYW1pcGFuJywKICAgICAgICBuYW1lOiAn57qz57Gz55uYLmNjIFvljp8gODfnm5gg5bqU6K+lXScsCiAgICAgICAgaG9zdDogJ25hbWlwYW4uY2MnLAogICAgICAgIHBhdGg6IFsnL2ZpbGUvJywgJy9kb3duLnBocCddLAogICAgICAgIGluY2x1ZGVTdWJIb3N0OiB0cnVlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgaGlkZTogJyNib3gnLAogICAgICAgIGNzczogYApib2R5LCBib2R5ID4gLmdnYW8gewogICAgaGVpZ2h0OiBpbml0aWFsOwp9CiAgICBgLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICAvLyDkuIvovb3mjInpkq46ICNkb3duZ28KICAgICAgICAgICAgdmFyIG0gPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXGQrLyk7CiAgICAgICAgICAgIHZhciBkbEJ0biA9ICQoJyNkb3duZ28nKTsKICAgICAgICAgICAgaWYgKGRsQnRuLmxlbmd0aCA+IDAgJiYgbSkgewogICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gJCgnPGlmcmFtZT4nKTsKICAgICAgICAgICAgICAgIHZhciBub3RlID0gJCgnPHA+Jyk7CiAgICAgICAgICAgICAgICBub3RlLnRleHQoJ+azqOaEjzog6ZyA6KaB55m75b2V5omN6IO95LiL6L2944CCJykuY3NzKCdjb2xvcicsICdyZWQnKTsKICAgICAgICAgICAgICAgIGZyYW1lLmF0dHIoewogICAgICAgICAgICAgICAgICAgIHNyYzogYC9kb3duLnBocD9maWxlX2lkPSR7bVswXX1gLAogICAgICAgICAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAndGFibGUnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgI2NjYycsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDcwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRsQnRuLmJlZm9yZShmcmFtZSk7CiAgICAgICAgICAgICAgICBmcmFtZS5hZnRlcihub3RlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL2RsLnBocGRpc2siLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9XYWl0IiwgImhlbHBlci9SZWRpcmVjdCIsICJoZWxwZXIvU2NyaXB0Il0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBFeHRlbnNpb25fNywgV2FpdF8zLCBSZWRpcmVjdF8zLCBTY3JpcHRfNSkgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIHZhciBwaHBkaXNrQSA9IHsKICAgICAgICBpZDogJ3BocGRpc2suYScsCiAgICAgICAgbmFtZTogJ1BIUERpc2sgQSDnsbvnvZHotZrnvZHnm5gnLAogICAgICAgIGhvc3Q6IFtdLAogICAgICAgIGhpZGU6ICcjY29kZV9ib3gsICNkb3duX2JveDIsICNjb2RlZnJtLCAuYWQsIFtjbGFzc149ImJhbm5lciJdJywKICAgICAgICBzaG93OiAnI2Rvd25fYm94JywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgbGV0IGYgPSAoKSA9PiB7IH07CiAgICAgICAgICAgIHVuc2FmZURlZmluZUZ1bmN0aW9uKCdvcGVuJywgZik7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICBXYWl0XzMuV2FpdFVudGlsKCdkb3duX2ZpbGVfbGluaycsICgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBjdHggPSB1bnNhZmVXaW5kb3c7CiAgICAgICAgICAgICAgICAvLyDpgb/lhY3lnLDlnYDooqvopobnm5YKICAgICAgICAgICAgICAgIGN0eC51cGRhdGVfc2VjID0gbnVsbDsKICAgICAgICAgICAgICAgIC8vIOW8uuWItuaYvuekuuWcsOWdgAogICAgICAgICAgICAgICAgY3R4LmRvd25fZmlsZV9saW5rKCk7CiAgICAgICAgICAgICAgICAvLyDlvLrliLbmmL7npLrkuIvovb3lnLDlnYAKICAgICAgICAgICAgICAgIGlmIChjdHguc2hvd19kb3duX3VybCkKICAgICAgICAgICAgICAgICAgICBjdHguc2hvd19kb3duX3VybCgnZG93bl9hMScpOwogICAgICAgICAgICAgICAgdmFyIGp1bXBVcmwgPSAkKCcjZG93bl9saW5rJykuZmluZCgnYScpLmF0dHIoJ2hyZWYnKTsKICAgICAgICAgICAgICAgIC8vIOeEtuWQjui3s+i/h+WOuwogICAgICAgICAgICAgICAgaWYgKGp1bXBVcmwpIHsKICAgICAgICAgICAgICAgICAgICBSZWRpcmVjdF8zLlJlZGlyZWN0VG8oanVtcFVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydChgWyR7U2NyaXB0XzUuU2NyaXB0Lk5hbWV9XTog5bqU55SoICR7c2VsZi5uYW1lfSDlpLHotKU6XG7mib7kuI3liLDot7PovazlnLDlnYAuYCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB2YXIgcGhwZGlza1ogPSB7CiAgICAgICAgaWQ6ICdwaHBkaXNrLnonLAogICAgICAgIG5hbWU6ICfpgJrnlKggcGhwRGlzay56IOe9keebmOinhOWImScsCiAgICAgICAgLy8g6KeE5YiZOiDnm7TmjqXot7PovawgL2ZpbGUteHh4IC0+IC9kb3duLXh4eAogICAgICAgIC8vICAgICAgIOW5tumakOiXjyBkb3duX2JveDIsIOaYvuekuiBkb3duX2JveAogICAgICAgIGhvc3Q6IFsKICAgICAgICAgICAgJzEwcGFuLmNjJywgJzY2eXAuY2MnLCAnMTIzd3p3cC5jb20nLCAnaGl5cC5jYycKICAgICAgICBdLAogICAgICAgIGhpZGU6IGAuRG93bnBhZ2Vib3gsIC50YWxrX3Nob3csIC5iYW5uZXJfMiwgLndfMzA1LCAuYWQsCgkJICAgI3Zjb2RlLCAjdHVpLCAuZGNvZGUsICNkb3duX2JveDIsICNkbF90aXBzLCAubmFsLAoJCSAgIC5zY2Jhcl9ob3RfdGQsICNpbmNvZGVgLAogICAgICAgIHNob3c6ICcjZG93bl9ib3gsICNkbF9hZGRyJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgbGV0IGYgPSAoKSA9PiB7IH07CiAgICAgICAgICAgIHVuc2FmZURlZmluZUZ1bmN0aW9uKCdhbGVydCcsIGYpOwogICAgICAgICAgICB1bnNhZmVEZWZpbmVGdW5jdGlvbignZG93bl9wcm9jZXNzJywgZik7CiAgICAgICAgICAgIFJlZGlyZWN0XzMucGhwZGlza0F1dG9SZWRpcmVjdChudWxsKTsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICAvKiBmaXggZm9yIDEyM3d6d3AuY29tICovCiAgICAgICAgICAgIGxldCBmID0gKCkgPT4geyB9OwogICAgICAgICAgICB1bnNhZmVEZWZpbmVGdW5jdGlvbignZG93bl9wcm9jZXNzMicsIGYpOwogICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdjbGljaycsICdhJywgZSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgJGRsID0gJChlLmN1cnJlbnRUYXJnZXQpOwogICAgICAgICAgICAgICAgbGV0IHVybCA9ICRkbC5kYXRhKCd1cmwnKTsKICAgICAgICAgICAgICAgIGlmICh1cmwubGVuZ3RoID4gJGRsLmF0dHIoJ2hyZWYnKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAkZGwuYXR0cignaHJlZicsIHVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB2YXIgamtwYW5SdWxlID0gewogICAgICAgIGlkOiAnamtwYW4ucGhwZGlzaycsCiAgICAgICAgbmFtZTogJ0pLUEFOIOinhOWImSBbcGhwRGlza10nLAogICAgICAgIGhvc3Q6IFsnamtwYW4uY2MnXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgdmFyIGN0eCA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgICAgY3R4LmtpbGxhZHMgPSAxOwogICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgICBzLmlkID0gJ2FkYmxvY2tUZXN0ZXInOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIHZhciBjdHggPSB1bnNhZmVXaW5kb3c7CiAgICAgICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHMuaWQgPSAnYjEnOwogICAgICAgICAgICBzLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OjUwMHB4O3Bvc2l0aW9uOmZpeGVkO2xlZnQ6LTUwMHB4JzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgaWYgKEV4dGVuc2lvbl83LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9kb3duMi0nKSkgewogICAgICAgICAgICAgICAgbGV0IGhhbmRsZXIgPSBjdHguaGFuZGxlclBvcHVwOwogICAgICAgICAgICAgICAgY3R4LmhhbmRsZXJQb3B1cCA9IHVuc2FmZURlZmluZUZ1bmN0aW9uKCdoYW5kbGVyUG9wdXAnLCBmdW5jdGlvbiAoY2FwdGNoYU9iaikgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGNoYU9iai5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEV4dGVuc2lvbl83LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9maWxlLScpKSB7CiAgICAgICAgICAgICAgICBSZWRpcmVjdF8zLlJlZGlyZWN0VG8obG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnZmlsZScsICdkb3duMicpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3BocGRpc2tBLCBwaHBkaXNrWiwgamtwYW5SdWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC54dWl0ZSIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdkbC5oYW1pLWNsb3VkJywKICAgICAgICBuYW1lOiAnSGFtaSsg5YCL5Lq66ZuyJywKICAgICAgICBob3N0OiBbJ3dlYmhkLnh1aXRlLm5ldCcsICdzeW5jLmhhbWljbG91ZC5uZXQnXSwKICAgICAgICBwYXRoOiAnL19vb3BzLycsCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgICQoJyNzaGFyZS1kb3dubG9hZC1mdW5jLXN1Ym1pdCcpLmNsaWNrKCk7CiAgICAgICAgICAgIHVuc2FmZUV4ZWMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2dsb2JhbCcpLmRhdGEoJ3RpbWUnLCA5KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC55aW11aGUiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9SZWRpcmVjdCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgRXh0ZW5zaW9uXzgsIFJlZGlyZWN0XzQpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ2RsLnlpbXVoZScsCiAgICAgICAgbmFtZTogJ+S4gOacqOemvicsCiAgICAgICAgaG9zdDogJ3d3dy55aW11aGUuY29tJywKICAgICAgICBoaWRlOiAnI2xvYWRpbmcsIC5nZ2FvLCAua3VhbicsCiAgICAgICAgc2hvdzogJyN5em0nLAogICAgICAgIGluY2x1ZGVTdWJIb3N0OiBmYWxzZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIHJ1bkluRnJhbWU6IHRydWUsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBSZWRpcmVjdF80LnBocGRpc2tBdXRvUmVkaXJlY3QobnVsbCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgaWYgKEV4dGVuc2lvbl84LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9uX2RkLnBocCcpKSB7CiAgICAgICAgICAgICAgICBSZWRpcmVjdF80LlJlZGlyZWN0VG8oJCgnI2Rvd25zJykuYXR0cignaHJlZicpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgZGxDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWQnKTsKICAgICAgICAgICAgaWYgKCFkbENvbnRhaW5lcikKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgLy8g5b2T5LiL6L295qGG55qEIHN0eWxlIOWxnuaAp+iiq+abtOaUueWQjiwg5qih5ouf5LiL6L295oyJ6ZKu5Y2V5Ye7LgogICAgICAgICAgICB2YXIgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKCdhJywgZGxDb250YWluZXIpWzFdLmNsaWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBtby5vYnNlcnZlKGRsQ29udGFpbmVyLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7CiAgICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuUnVsZXMgPSBbcnVsZV07Cn0pOwpkZWZpbmUoInNpdGUvZm0uZG91YmFuIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0xvZ2dlciIsICJoZWxwZXIvV2FpdCIsICJoZWxwZXIvRG93bmxvYWRlciJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgTG9nZ2VyXzQsIFdhaXRfNCwgRG93bmxvYWRlcl8yKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdmbS5kb3ViYW4nLAogICAgICAgIHNzbDogdHJ1ZSwKICAgICAgICBuYW1lOiAn6LGG55Oj55S15Y+w5LiL6L296Kej5p6QJywKICAgICAgICBob3N0OiAnZG91YmFuLmZtJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBjc3M6IGAKYSNqeF9kb3ViYW5fZGwgewoJYmFja2dyb3VuZDogIzlERDZDNTsKCXBhZGRpbmc6IDNweCA1cHg7Cgljb2xvcjogI2ZmZgp9CgphI2p4X2RvdWJhbl9kbDpob3ZlciB7CgltYXJnaW4tbGVmdDogNXB4OwoJcGFkZGluZy1sZWZ0OiAxMHB4OwoJYmFja2dyb3VuZDogI0JBRTJENjsKfQoKZGl2I2p4X2RvdWJhbl9kbF93cmFwIHsKCWZsb2F0OiByaWdodDsKCW1hcmdpbi10b3A6IC0yMzBweDsKCW1hcmdpbi1yaWdodDogLTMycHg7Cglmb250LXdlaWdodDogYm9sZDsKCWZvbnQtZmFtaWx5OiAnTWljcm9zb2Z0IEpIZW5nSGVpIFVJJywgJ+W+rui9r+mbhem7kScsIHNlcmlmLXNhbnM7Cn0KICAgIGAsCiAgICAgICAgYmQ6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfMi5Eb3dubG9hZGVyKCk7CiAgICAgICAgICAgIHJ1bGUuYmQuQ2FwdHVyZUFyaWEoKTsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICB2YXIgbGlua0Rvd25sb2FkID0gJCgnPGE+Jyk7CiAgICAgICAgICAgIGxpbmtEb3dubG9hZC5jc3MoJ3RyYW5zaXRpb24nLCAnYWxsIC4ycycpCiAgICAgICAgICAgICAgICAuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpCiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnanhfZG91YmFuX2RsJykKICAgICAgICAgICAgICAgIC50ZXh0KCfkuIvovb0nKTsKICAgICAgICAgICAgJCgnPGRpdj4nKQogICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2p4X2RvdWJhbl9kbF93cmFwJykKICAgICAgICAgICAgICAgIC5hcHBlbmQobGlua0Rvd25sb2FkKQogICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKCcucGxheWVyLXdyYXAnKTsKICAgICAgICAgICAgTG9nZ2VyXzQuaW5mbygn562J5b6F6LGG55Oj55S15Y+w5Yqg6L29IC4uJyk7CiAgICAgICAgICAgIFdhaXRfNC5XYWl0VW50aWwoJ2V4dFN0YXR1c0hhbmRsZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBMb2dnZXJfNC5pbmZvKCfnu5HlrprosYbnk6PnlLXlj7Dlh73mlbAgLi4nKTsKICAgICAgICAgICAgICAgIHVuc2FmZU92ZXJ3cml0ZUZ1bmN0aW9uU2FmZVByb3h5KHsKICAgICAgICAgICAgICAgICAgICBleHRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbiAoanNvblNvbmdPYmopIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gSlNPTi5wYXJzZShqc29uU29uZ09iaik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnc3RhcnQnID09IGV2ZW50LnR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb25nID0gZXZlbnQuc29uZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gc29uZy50aXRsZSArIHNvbmcudXJsLnNsaWNlKC00KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtEb3dubG9hZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaShzb25nLnVybCwgZmlsZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RpdGxlJywgYOS4i+i9vTogJHtzb25nLnRpdGxlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzQuaW5mbyhgJHtzb25nLnRpdGxlfSA9PiAke3NvbmcudXJsfWApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvclVuc2FmZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIExvZ2dlcl80LmluZm8oJ+WHveaVsOe7keWumuWujOavlSwgRW5qb3l+Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL2ZtLm1vZSIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9Eb3dubG9hZGVyIiwgImhlbHBlci9TY3JpcHQiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIERvd25sb2FkZXJfMywgU2NyaXB0XzYpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ2ZtLm1vZScsCiAgICAgICAgc3NsOiBmYWxzZSwKICAgICAgICBuYW1lOiAn6JCM5ZCm55S15Y+wJywKICAgICAgICBob3N0OiAnbW9lLmZtJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBjc3M6IGAKCmEuaml4dW4tZGwgewogICAgd2lkdGg6IDI2cHggIWltcG9ydGFudDsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xOXB4IC05NnB4ICFpbXBvcnRhbnQ7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7Cn0KCiAgICBgLAogICAgICAgIGJkOiBudWxsLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgcnVsZS5iZCA9IG5ldyBEb3dubG9hZGVyXzMuRG93bmxvYWRlcigpOwogICAgICAgICAgICBydWxlLmJkLkNhcHR1cmVBcmlhKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgdW5zYWZlV2luZG93LmlzX2xvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIGRsTGluayA9ICQoJzxhPicpOwogICAgICAgICAgICBkbExpbmsKICAgICAgICAgICAgICAgIC5hZGRDbGFzcygncGxheWVyLWJ1dHRvbiBsZWZ0IGppeHVuLWRsJykKICAgICAgICAgICAgICAgIC5pbnNlcnRBZnRlcignZGl2LnBsYXllci1idXR0b24uYnV0dG9uLXZvbHVtZScpOwogICAgICAgICAgICBTY3JpcHRfNi5TY3JpcHQuTGlzdGVuRXZlbnQoKGNsaXApID0+IHsKICAgICAgICAgICAgICAgIGRsTGluawogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaShjbGlwLnVybCwgYCR7Y2xpcC5zdWJfdGl0bGV9Lm1wM2ApKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsIGDkuIvovb06ICR7Y2xpcC5zdWJfdGl0bGV9YCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB1bnNhZmVFeGVjKChzY3JpcHROYW1lKSA9PiB7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBub3RpZnlVcGRhdGUoY2xpcCkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHNjcmlwdE5hbWUsIHsgZGV0YWlsOiBKU09OLnN0cmluZ2lmeShjbGlwKSB9KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWZpbmUoJ3BsdWdpbi9qaXh1bicsIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdbQ1VXQ0w0Q10g5byA5aeL5rOo5YWlIC4uLicpOwogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ZW4gPSByZXF1aXJlKCcvcHVibGljL2pzL2ZtL3BhZ2UvbGlzdGVuLmpzJyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllciA9IHJlcXVpcmUoJ3BsYXllci9wbGF5ZXInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgX2luaXRQbGF5ZXIgPSBwbGF5ZXIuaW5pdFBsYXllcjsKICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuaW5pdFBsYXllciA9IGZ1bmN0aW9uIChjbGlwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeVVwZGF0ZShjbGlwKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRQbGF5ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnW0NVV0NMNENdIOazqOWFpee7k+adnyAuLi4nKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy8g6KaB5rGC6L295YWl5aSW5oyC5qih57uECiAgICAgICAgICAgICAgICBzZWFqcy51c2UoJ3BsdWdpbi9qaXh1bicpOwogICAgICAgICAgICB9LCBTY3JpcHRfNi5TY3JpcHQuTmFtZSk7CiAgICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuUnVsZXMgPSBbcnVsZV07Cn0pOwpkZWZpbmUoInNpdGUvbXVzaWMuMTYzIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0xvZ2dlciIsICJoZWxwZXIvQ29uc3RhbnRzIiwgImhlbHBlci9XYWl0IiwgImhlbHBlci9Eb3dubG9hZGVyIiwgImhlbHBlci9TY3JpcHQiLCAiaGVscGVyL1NjcmlwdENvbmZpZyIsICJoZWxwZXIvUXVlcnlTdHJpbmciLCAiaGVscGVyL0V4dGVuc2lvbiJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgTG9nZ2VyXzUsIENvbnN0YW50c18zLCBXYWl0XzUsIERvd25sb2FkZXJfNCwgU2NyaXB0XzcsIFNjcmlwdENvbmZpZ18zLCBxcywgRXh0ZW5zaW9uXzkpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBjb25zdCBfX01QM19CTEFOSyA9ICdodHRwczovL2ppeHVubW9lLmdpdGh1Yi5pby9jdXdjbDRjL2JsYW5rLm1wMyc7CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ211c2ljLjE2MycsCiAgICAgICAgc3NsOiB0cnVlLAogICAgICAgIG5hbWU6ICfpu4TmmJPkupHpn7PkuZAnLAogICAgICAgIGhvc3Q6ICdtdXNpYy4xNjMuY29tJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBydW5JbkZyYW1lOiB0cnVlLAogICAgICAgIGRsX2ljb246IHRydWUsCiAgICAgICAgY3NzOiBgCgoubS1wYmFyLCAubS1wYmFyIC5iYXJiZyB7CiAgICB3aWR0aDogY2FsYyggNDU1cHggLSAyLjVlbSApOwp9CgoubS1wbGF5YmFyIC5wbGF5IHsKICAgIHdpZHRoOiBjYWxjKCA1NzBweCAtIDIuNWVtICk7Cn0KCi5tLXBsYXliYXIgLm9wZXIgewogICAgd2lkdGg6IGluaXRpYWw7Cn0KCi5qeF9kbDpob3ZlciB7CiAgICBjb2xvcjogd2hpdGU7Cn0KCi8qIOW6lemDqOWNleabsuS4i+i9vSAqLwoubS1wbGF5YmFyIC5vcGVyIC5qeF9idG4gewogICAgdGV4dC1pbmRlbnQ6IDA7CiAgICBmb250LXNpemU6IDEuNWVtOwogICAgbWFyZ2luOiAxM3B4IDJweCAwIDA7CiAgICBmbG9hdDogbGVmdDsKICAgIGNvbG9yOiAjY2NjOwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4IGJsYWNrLCAwIDAgMWVtIGJsYWNrLCAwIDAgMC4yZW0gI2FhYTsKICAgIGxpbmUtaGVpZ2h0OiAxLjZlbTsKICAgIGZvbnQtc2l6ZTogMS4yZW07Cn0KCi5tLXBsYXliYXIgLm9wZXIgLmp4X2RsOjpiZWZvcmUgewogICAgcGFkZGluZy1yaWdodDogLjI1ZW07Cn0KCi5qeF9idG46aG92ZXIgewogICAgY29sb3I6IHdoaXRlOwp9CgovKiDmkq3mlL7liJfooajkuIvovb0gKi8KLm0tcGxheWJhciAubGlzdGhkYyAuanhfZGwuYWRkYWxsIHsKICAgIGxlZnQ6IDMwNnB4OwogICAgbGluZS1oZWlnaHQ6IDFlbTsKICAgIC8qIOWkmuS4gOS4qiBweCwg5a+56b2Q5paH5a2XICovCiAgICB0b3A6IDEzcHg7Cn0KCi5tLXBsYXliYXIgLmxpc3RoZGMgLmxpbmUuanhfZGxfbGluZSB7CiAgICBsZWZ0OiAzODVweDsKfQoKICAgIGAsCiAgICAgICAgaW5zdGFuY2U6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmluc3RhbmNlID0gbmV3IFllbGxvd0Vhc2UoKTsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICBydWxlLmluc3RhbmNlLkJvZHlFdmVudCgpOwogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwogICAgY2xhc3MgWWVsbG93RWFzZSB7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuX3JlbG9hZENhY2hlID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5fX0hJREVfQkFOTkVSKSB7CiAgICAgICAgICAgICAgICBydWxlLnN0eWxlLkhpZGUoJyNpbmRleC1iYW5uZXInKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoU2NyaXB0Q29uZmlnXzMuQ29uZmlnLmJZZWxsb3dFYXNlSW50ZXJuYXRpb25hbCkKICAgICAgICAgICAgICAgIEdlbmVyYXRlQ2RuTGlzdCh0aGlzKTsKICAgICAgICAgICAgdGhpcy5fZG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyXzQuRG93bmxvYWRlcigpOwogICAgICAgICAgICB1bnNhZmVFeGVjKCgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBmYWtlUGxhdEZvcm0gPSBuYXZpZ2F0b3IucGxhdGZvcm0gKyAiLS1GYWtlLW1hYyI7CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAicGxhdGZvcm0iLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IHJldHVybiBmYWtlUGxhdEZvcm07IH0sCiAgICAgICAgICAgICAgICAgICAgc2V0OiAoKSA9PiB7IH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgQm9keUV2ZW50KCkgewogICAgICAgICAgICBXYWl0XzUuV2FpdFVudGlsKCdubS54JywgKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5Lik5Liq54mI5p2D5o+Q56S6LCDkuIDkuKrmnYPpmZDmj5DnpLouCiAgICAgICAgICAgICAgICB2YXIgZm5CeXBhc3NDcjEgPSB0aGlzLlNlYXJjaCh1bnNhZmVXaW5kb3cubmVqLmUsICduZWouZScsICcuZGF0YXNldDtpZicpOwogICAgICAgICAgICAgICAgdmFyIGZuQnlwYXNzQ3IyID0gdGhpcy5TZWFyY2godW5zYWZlV2luZG93Lm5tLngsICdubS54JywgJy5jb3B5cmlnaHRJZD09Jyk7CiAgICAgICAgICAgICAgICB2YXIgZm5CeXBhc3NDcjMgPSB0aGlzLlNlYXJjaCh1bnNhZmVXaW5kb3cubm0ueCwgJ25tLngnLCAnLnByaXZpbGVnZTtpZicpOwogICAgICAgICAgICAgICAgdW5zYWZlRXhlYygoZm5CeXBhc3NDcjEsIGZuQnlwYXNzQ3IyLCBmbkJ5cGFzc0NyMykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBfZm5CeXBhc3NDcjEgPSB3aW5kb3cubmVqLmVbZm5CeXBhc3NDcjFdOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5uZWouZVtmbkJ5cGFzc0NyMV0gPSBmdW5jdGlvbiAoeiwgbmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSAnY29weXJpZ2h0JyB8fCBuYW1lID09ICdyZXNDb3B5cmlnaHQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZuQnlwYXNzQ3IxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubm0ueFtmbkJ5cGFzc0NyMl0gPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5ubS54W2ZuQnlwYXNzQ3IzXSA9IChzb25nKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNvbmcuc3RhdHVzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvbmcucHJpdmlsZWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb25nLnByaXZpbGVnZS5wbCA9IDMyMDAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSwgZm5CeXBhc3NDcjEsIGZuQnlwYXNzQ3IyLCBmbkJ5cGFzc0NyMyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoQ29uc3RhbnRzXzMuaXNGcmFtZSkgewogICAgICAgICAgICAgICAgdGhpcy5GcmFtZVBhZ2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuUGxheWVyUGFnZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIFNlYXJjaChiYXNlLCBkaXNwbGF5QmFzZSwga2V5d29yZCwgc3VwcHJlc3NMb2cgPSBmYWxzZSkgewogICAgICAgICAgICBmb3IgKGxldCBpdGVtTmFtZSBpbiBiYXNlKSB7CiAgICAgICAgICAgICAgICBpZiAoYmFzZS5oYXNPd25Qcm9wZXJ0eShpdGVtTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZm4gPSBiYXNlW2l0ZW1OYW1lXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZm4gJiYgdHlwZW9mIGZuID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZuU3RyID0gU3RyaW5nKGZuKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFRlc3RTdHJpbmcoZm5TdHIsIGtleXdvcmQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1cHByZXNzTG9nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOWumuS9jeafpeaJviAlYyR7a2V5d29yZH0lYyDmiJDlip86ICVjJHtkaXNwbGF5QmFzZX0uJHtpdGVtTmFtZX1gLCAnY29sb3I6IGRhcmt2aW9sZXQnLCAncmVzZXQnLCAnY29sb3I6IGdyZWVuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbU5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZykKICAgICAgICAgICAgICAgIExvZ2dlcl81LmVycm9yKGDlrprkvY3mn6Xmib7lrZDlh73mlbAgJHtrZXl3b3JkfSDkuo4gJHtkaXNwbGF5QmFzZX0g5aSx6LSlLCDor7fogZTns7vkvZzogIXkv67lpI0hYCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBTZWFyY2hTdWJQcm90b3R5cGUoYmFzZSwgZGlzcGxheUJhc2UsIGtleXdvcmQsIHN1cHByZXNzTG9nID0gZmFsc2UpIHsKICAgICAgICAgICAgZm9yIChsZXQgaXRlbU5hbWUgaW4gYmFzZSkgewogICAgICAgICAgICAgICAgaWYgKGJhc2UuaGFzT3duUHJvcGVydHkoaXRlbU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0Jhc2UgPSBiYXNlW2l0ZW1OYW1lXTsKICAgICAgICAgICAgICAgICAgICAvLyDmo4Dmn6XnjrDlnKjnmoTov5nkuKrmmK/kuI3mmK/lrZDnsbsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3QmFzZSAmJiBuZXdCYXNlLnByb3RvdHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmZvKGDmn6Xmib4gJWMke2Rpc3BsYXlCYXNlfS4ke2l0ZW1OYW1lfS5wcm90b3R5cGUlYyAuLi5gLCAnY29sb3I6bGlnaHRncmF5JywgJ3Jlc2V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByID0gdGhpcy5TZWFyY2gobmV3QmFzZS5wcm90b3R5cGUsIGRpc3BsYXlCYXNlLCBrZXl3b3JkLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXJfNS5pbmZvKGDlrprkvY3mn6Xmib4gJWMke2tleXdvcmR9JWMg5oiQ5YqfOiAlYyR7ZGlzcGxheUJhc2V9LiR7aXRlbU5hbWV9Ojoke3J9YCwgJ2NvbG9yOiBkYXJrdmlvbGV0JywgJ3Jlc2V0JywgJ2NvbG9yOiBncmVlbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpdGVtTmFtZSwgJ3Byb3RvdHlwZScsIHJdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc3VwcHJlc3NMb2cpCiAgICAgICAgICAgICAgICBMb2dnZXJfNS5lcnJvcihg5a6a5L2N5p+l5om+5a2Q57G75Ye95pWwICR7a2V5d29yZH0g5LqOICR7ZGlzcGxheUJhc2V9IOWksei0pSwg6K+36IGU57O75L2c6ICF5L+u5aSNIWApOwogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgUGxheWVyUGFnZSgpIHsKICAgICAgICAgICAgdGhpcy5fYnRuRG93bmxvYWQgPSAkKCc8YT4nKTsKICAgICAgICAgICAgdGhpcy5fYnRuRG93bmxvYWQKICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsICfmkq3mlL7pn7PkuZDvvIzljbPliLvop6PmnpDjgIInKQogICAgICAgICAgICAgICAgLmNsaWNrKChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKQogICAgICAgICAgICAgICAgLmFkZENsYXNzKENvbnN0YW50c18zLmRvd25sb2FkSWNvbkNsYXNzKQogICAgICAgICAgICAgICAgLmFkZENsYXNzKCdqeF9idG4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKCcubS1wbGF5YmFyIC5vcGVyJyk7CiAgICAgICAgICAgIC8vIFRPRE86IOWKoOWFpeatjOWNleS4i+i9veaMiemSrgogICAgICAgICAgICB0aGlzLl9idG5Eb3dubG9hZEFsbCA9ICQoJzxhPicpOwogICAgICAgICAgICB0aGlzLl9idG5Eb3dubG9hZEFsbAogICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhZGRhbGwnKQogICAgICAgICAgICAgICAgLnRleHQoJ+WFqOmDqOS4i+i9vScpCiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoQ29uc3RhbnRzXzMuZG93bmxvYWRJY29uQ2xhc3MpCiAgICAgICAgICAgICAgICAuY2xpY2soKCkgPT4gdGhpcy5Eb3dubG9hZEFsbCgpKTsKICAgICAgICAgICAgaWYgKFNjcmlwdENvbmZpZ18zLkNvbmZpZy5kVXJpVHlwZSA9PSBTY3JpcHRDb25maWdfMy5VcmlUeXBlLkFyaWEpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2Rvd25sb2FkZXIuQ2FwdHVyZUFyaWEodGhpcy5fYnRuRG93bmxvYWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gVE9ETzog6ZqQ6JeP5q2M5Y2V5LiL6L295oyJ6ZKuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09ICcvZGVtby9mbScpIHsKICAgICAgICAgICAgICAgIHRoaXMuSG9va1JhZGlvUGxheWVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLkhvb2tOb3JtYWxQbGF5ZXIoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBEb3dubG9hZEFsbCgpIHsKICAgICAgICAgICAgLy8gVE9ETzog5LiL6L295omA5pyJ5puy55uuCiAgICAgICAgfQogICAgICAgIEhvb2tOb3JtYWxQbGF5ZXIoKSB7CiAgICAgICAgICAgIFdhaXRfNS5XYWl0VW50aWwoKCkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0aGRjID4gLmFkZGFsbCcpICE9IG51bGw7CiAgICAgICAgICAgIH0sICgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBkbExpbmUgPSAkKCc8YT4nKTsKICAgICAgICAgICAgICAgIGRsTGluZQogICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnbGluZSBqeF9kbF9saW5lJykKICAgICAgICAgICAgICAgICAgICAuaGlkZSgpOwogICAgICAgICAgICAgICAgdGhpcy5fYnRuRG93bmxvYWRBbGwKICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKCcubS1wbGF5YmFyIC5saXN0aGRjIC5hZGRhbGwnKQogICAgICAgICAgICAgICAgICAgIC5hZnRlcihkbExpbmUpCiAgICAgICAgICAgICAgICAgICAgLmhpZGUoKTsKICAgICAgICAgICAgfSwgdHJ1ZSwgNTAwKTsKICAgICAgICAgICAgZnVuY3Rpb24gbmV4dFNvbmcoKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubnh0JykuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBXYWl0XzUuV2FpdFVudGlsKCduZWouaicsICgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBmbkFqYXggPSB0aGlzLlNlYXJjaCh1bnNhZmVXaW5kb3cubmVqLmosICJuZWouaiIsICcucmVwbGFjZSgiYXBpIiwid2VhcGknKTsKICAgICAgICAgICAgICAgIHZhciBmbkdldFNvbmdSYXcgPSB0aGlzLlNlYXJjaFN1YlByb3RvdHlwZSh1bnNhZmVXaW5kb3cubm0udywgJ25tLncnLCAvcmV0dXJuIHRoaXNcLlx3K1xbdGhpc1wuXHcrXF0vKTsKICAgICAgICAgICAgICAgIHZhciBjbHNQbGF5ZXIgPSBmbkdldFNvbmdSYXdbMF07CiAgICAgICAgICAgICAgICB2YXIgZm5HZXRTb25nID0gZm5HZXRTb25nUmF3WzJdOwogICAgICAgICAgICAgICAgaWYgKFNjcmlwdENvbmZpZ18zLkNvbmZpZy5iWWVsbG93RWFzZUludGVybmF0aW9uYWwpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9idG5DaGFuZ2VDZG4gPSAkKCc8YT4nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9idG5DaGFuZ2VDZG4KICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdqeF9idG4ganhfY2RuJykKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCgpID0+IHRoaXMuTmV4dENkbigpKQogICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIodGhpcy5fYnRuRG93bmxvYWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCfmjaInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY2RuID0gR01fZ2V0VmFsdWUoJ193c19jZG5fbWVkaWEnLCBudWxsKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNkbikgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk5leHRDZG4oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NkbiA9IGNkbjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLy8vLy8g5a6J6KOF5L+u5pS55ZCO55qEIOWPluW+l+absuebruS/oeaBryDlh73mlbDlvIDlp4sKICAgICAgICAgICAgICAgIHZhciBjYWxsRXZlbnRGbiA9IEdlbmVyYXRlVmFsaWROYW1lKCk7CiAgICAgICAgICAgICAgICBleHBvcnRGdW5jdGlvbigoc29uZykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzb25nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb25nID0gewogICAgICAgICAgICAgICAgICAgICAgICBhcnRpc3RzOiBkYXRhLmFydGlzdHMubWFwKChhcnRpc3QpID0+IGFydGlzdC5uYW1lKS5qb2luKCfjgIEnKSwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG51bGwKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOaNleaNieWIsOmfs+S5kOWIh+aNojogJHt0aGlzLl9zb25nLm5hbWV9YCk7CiAgICAgICAgICAgICAgICB9LCB1bnNhZmVXaW5kb3csIHsKICAgICAgICAgICAgICAgICAgICBkZWZpbmVBczogY2FsbEV2ZW50Rm4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdW5zYWZlRXhlYygoY2FsbEV2ZW50Rm4sIGNsc1BsYXllciwgZm5HZXRTb25nKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9nZXRTb25nQmFja3VwID0gd2luZG93Lm5tLndbY2xzUGxheWVyXS5wcm90b3R5cGVbZm5HZXRTb25nXTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubm0ud1tjbHNQbGF5ZXJdLnByb3RvdHlwZVtmbkdldFNvbmddID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IF9nZXRTb25nQmFja3VwLmNhbGwodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tjYWxsRXZlbnRGbl0oSlNPTi5zdHJpbmdpZnkocikpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9LCBjYWxsRXZlbnRGbiwgY2xzUGxheWVyLCBmbkdldFNvbmcpOwogICAgICAgICAgICAgICAgLy8vLy8vIOWuieijheS/ruaUueWQjueahCDlj5blvpfmm7Lnm67kv6Hmga8g5Ye95pWw57uT5p2fCiAgICAgICAgICAgICAgICAvLy8vLy8g5a6J6KOF5L+u5pS55ZCO55qEIEFqYXgg5Ye95pWw5byA5aeLCiAgICAgICAgICAgICAgICB2YXIgYWpheFBhdGNoRm4gPSBHZW5lcmF0ZVZhbGlkTmFtZSgpOwogICAgICAgICAgICAgICAgdGhpcy5fYWpheEJhY2t1cCA9IHVuc2FmZVdpbmRvdy5uZWoualtmbkFqYXhdOwogICAgICAgICAgICAgICAgaWYgKFNjcmlwdENvbmZpZ18zLkNvbmZpZy5iWWVsbG93RWFzZVVzZU9sZEFwaSB8fCBTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGhvb2tlZEFqYXggPSAoU2NyaXB0Q29uZmlnXzMuQ29uZmlnLmJZZWxsb3dFYXNlVXNlT2xkQXBpID8gdGhpcy5BamF4UGF0Y2hlZE9sZEFwaSA6IHRoaXMuQWpheFBhdGNoZWRJbnRlcm5hdGlvbmFsKTsKICAgICAgICAgICAgICAgICAgICBleHBvcnRGdW5jdGlvbihob29rZWRBamF4LmJpbmQodGhpcyksIHVuc2FmZVdpbmRvdywgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVBczogYWpheFBhdGNoRm4KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB1bnNhZmVFeGVjKChhamF4UGF0Y2hGbiwgZm5BamF4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhamF4UGF0Y2hlZCA9IHdpbmRvd1thamF4UGF0Y2hGbl07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhamF4T3JpZ2luYWwgPSB3aW5kb3cubmVqLmpbZm5BamF4XTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm5lai5qW2ZuQWpheF0gPSBDdXN0b21BamF4OwogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBDdXN0b21BamF4KHVybCwgcGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmluZm8oYHVybDogJHt1cmx9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2xvZy8nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMub25sb2FkKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1zLmhlYWRlcnMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmhlYWRlcnMgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfb25sb2FkID0gcGFyYW1zLm9ubG9hZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmFtcy5fb25sb2FkID0gcGFyYW1zLm9ubG9hZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQgPSAoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQgPSBfb25sb2FkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuX29ubG9hZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMuX29ubG9hZChkYXRhLCBfb25sb2FkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhQYXRjaGVkKHVybCwgcGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIGFqYXhQYXRjaEZuLCBmbkFqYXgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8vLy8vIOWuieijheS/ruaUueWQjueahCBBamF4IOWHveaVsOe7k+adnwogICAgICAgICAgICAgICAgLy8vIOaMgumSqeS4i+S4gOmmluWIh+aNouS6i+S7tiwg5by65Yi26YeN5paw6K+75Y+W5b2T5YmN5puy55uu5Zyw5Z2A44CCCiAgICAgICAgICAgICAgICB2YXIgZm5OZXh0U29uZyA9IHRoaXMuU2VhcmNoKHVuc2FmZVdpbmRvdy5ubS53W2Nsc1BsYXllcl0ucHJvdG90eXBlLCBgbm0udy4ke2Nsc1BsYXllcn0ucHJvdG90eXBlYCwgJygrMSksInVpIiknKTsKICAgICAgICAgICAgICAgIHVuc2FmZUV4ZWMoKGNsc1BsYXllciwgZm5OZXh0U29uZykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBvbGROZXh0U29uZyA9IHdpbmRvdy5ubS53W2Nsc1BsYXllcl0ucHJvdG90eXBlW2ZuTmV4dFNvbmddOwogICAgICAgICAgICAgICAgICAgIHZhciByZWxvYWRTb25nID0gZXZhbCgnKCcgKyBvbGROZXh0U29uZy50b1N0cmluZygpLnJlcGxhY2UoJzEnLCAnMCcpICsgJyknKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubm0ud1tjbHNQbGF5ZXJdLnByb3RvdHlwZVtmbk5leHRTb25nXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm5tLndbY2xzUGxheWVyXS5wcm90b3R5cGVbZm5OZXh0U29uZ10gPSBvbGROZXh0U29uZzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbG9hZFNvbmcuY2FsbCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ueHQnKS5jbGljaygpOwogICAgICAgICAgICAgICAgfSwgY2xzUGxheWVyLCBmbk5leHRTb25nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIEFqYXhQYXRjaGVkT2xkQXBpKHVybCwgcGFyYW1zKSB7CiAgICAgICAgICAgIGlmICh1cmwgIT0gJy9hcGkvc29uZy9lbmhhbmNlL3BsYXllci91cmwnKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9hamF4QmFja3VwKHVybCwgcGFyYW1zKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB1cmwgPSAnL2FwaS92My9zb25nL2RldGFpbCc7CiAgICAgICAgICAgIGxldCBxdWVyeSA9IHBhcmFtcy5xdWVyeTsKICAgICAgICAgICAgaWYgKHF1ZXJ5LmJyKQogICAgICAgICAgICAgICAgZGVsZXRlIHF1ZXJ5LmJyOwogICAgICAgICAgICB2YXIgX2lkcyA9IEpTT04ucGFyc2UocXVlcnkuaWRzKTsKICAgICAgICAgICAgdmFyIHJlcXVlc3RJZHMgPSBbXTsKICAgICAgICAgICAgdGhpcy5Mb2FkQ2FjaGUoKTsKICAgICAgICAgICAgdmFyIHNvbmdzID0gX2lkcy5tYXAoKGlkKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fc29uZ0NhY2hlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvbmdDYWNoZVtpZF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXF1ZXN0SWRzLnB1c2goaWQpOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0pLmZpbHRlcigoc29uZykgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHNvbmc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAocmVxdWVzdElkcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOS7jue8k+WtmOivu+WPluabsuebruS/oeaBr+OAgmApOwogICAgICAgICAgICAgICAgbGV0IHJlcGx5ID0gU29uZ3NUb1VybFJlcGx5KHNvbmdzKTsKICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5VXJsQ2hhbmdlKHJlcGx5LmRhdGFbMF0udXJsKTsKICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQocmVwbHkpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oJ+ivt+axguacjeWKoeWZqOiOt+WPluS/oeaBrzogJW8nLCByZXF1ZXN0SWRzKTsKICAgICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gewogICAgICAgICAgICAgICAgaWRzOiByZXF1ZXN0SWRzCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHBhcmFtcy5fb25sb2FkID0gZXhwb3J0RnVuY3Rpb24oKGRhdGEsIF9vbmxvYWQpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuTG9hZENhY2hlKGZhbHNlKTsKICAgICAgICAgICAgICAgIGRhdGEuc29uZ3MuZm9yRWFjaCgoc29uZykgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvbmdDYWNoZVtzb25nLmlkXSA9IHNvbmc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuU2F2ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICBsZXQgcmVwbHkgPSBTb25nc1RvVXJsUmVwbHkoX2lkcy5tYXAoKGlkKSA9PiB0aGlzLl9zb25nQ2FjaGVbaWRdKSk7CiAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeVVybENoYW5nZShyZXBseS5kYXRhWzBdLnVybCk7CiAgICAgICAgICAgICAgICBfb25sb2FkKHJlcGx5KTsKICAgICAgICAgICAgfSwgdW5zYWZlV2luZG93KTsKICAgICAgICAgICAgdGhpcy5fYWpheEJhY2t1cCh1cmwsIHBhcmFtcyk7CiAgICAgICAgfQogICAgICAgIExvYWRDYWNoZShmb3JjZSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmIChmb3JjZSB8fCB0aGlzLl9yZWxvYWRDYWNoZSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb25nQ2FjaGUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5fX3RyYWNrX3F1ZXVlX2NhY2hlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb25nQ2FjaGUgPSB7fTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuX190cmFja19xdWV1ZV9jYWNoZSA9ICd7fSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5fcmVsb2FkQ2FjaGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgU2F2ZUNhY2hlKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuX190cmFja19xdWV1ZV9jYWNoZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuX3NvbmdDYWNoZSk7CiAgICAgICAgfQogICAgICAgIEFqYXhQYXRjaGVkSW50ZXJuYXRpb25hbCh1cmwsIHBhcmFtcywgdHJ5X2JyKSB7CiAgICAgICAgICAgIGlmICh1cmwgIT0gJy9hcGkvc29uZy9lbmhhbmNlL3BsYXllci91cmwnKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9hamF4QmFja3VwKHVybCwgcGFyYW1zKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSAnb3M9dXdwJzsKICAgICAgICAgICAgbGV0IGlwID0gdGhpcy5faXBzLnNoaWZ0KCk7CiAgICAgICAgICAgIHRoaXMuX2lwcy5wdXNoKGlwKTsKICAgICAgICAgICAgcGFyYW1zLmhlYWRlcnNbJ1gtUmVhbC1JUCddID0gaXA7CiAgICAgICAgICAgIHZhciBpZCA9IEpTT04ucGFyc2UocGFyYW1zLnF1ZXJ5LmlkcylbMF07CiAgICAgICAgICAgIHBhcmFtcy5fb25sb2FkID0gZXhwb3J0RnVuY3Rpb24oKGRhdGEsIF9vbmxvYWQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbMF0udXJsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuSW5qZWN0Q2RuKGRhdGEuZGF0YVswXS51cmwpOwogICAgICAgICAgICAgICAgICAgIF9vbmxvYWQoVXJsVG9Tb25nVXJsUmVwbHkoaWQsIHVybCkpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5VXJsQ2hhbmdlKHVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VVc2VUaHJpZE9uRmFpbCAmJiAhdHJ5X2JyKSB7CiAgICAgICAgICAgICAgICAgICAgTXVzaWNTcHkuR2V0KGlkLCAoZXJyLCB1cmwpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2RuX3VybCA9IHRoaXMuSW5qZWN0Q2RuKHVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9vbmxvYWQoVXJsVG9Tb25nVXJsUmVwbHkoaWQsIGNkbl91cmwpKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnlVcmxDaGFuZ2UoY2RuX3VybCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgIH0sIHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICAgIHRoaXMuX2FqYXhCYWNrdXAodXJsLCBwYXJhbXMpOwogICAgICAgIH0KICAgICAgICBOb3RpZnlVcmxDaGFuZ2UodXJsKSB7CiAgICAgICAgICAgIHRoaXMuX3NvbmcudXJsID0gdXJsOwogICAgICAgICAgICB0aGlzLk9uU29uZ0NoYW5nZSgpOwogICAgICAgIH0KICAgICAgICBPblNvbmdDaGFuZ2UoKSB7CiAgICAgICAgICAgIHRoaXMuX2J0bkRvd25sb2FkLmF0dHIoewogICAgICAgICAgICAgICAgaHJlZjogdGhpcy5fZG93bmxvYWRlci5HZW5lcmF0ZVVyaSh0aGlzLl9zb25nLnVybCwgYCR7dGhpcy5fc29uZy5uYW1lfSBbJHt0aGlzLl9zb25nLmFydGlzdHN9XS5tcDNgKSwKICAgICAgICAgICAgICAgIHRpdGxlOiBg5LiL6L29OiAke3RoaXMuX3NvbmcubmFtZX1gCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBJbmplY3RDZG4odXJsKSB7CiAgICAgICAgICAgIHZhciByID0gdXJsLnJlcGxhY2UoLyhtMTBcLm11c2ljXC4xMjZcLm5ldCkvLCBgJHt0aGlzLl9jZG59LyQxYCk7CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOaSreaUvumfs+S5kCAoJHtyfSlgKTsKICAgICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgfQogICAgICAgIE5leHRDZG4oKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5fY2RucykKICAgICAgICAgICAgICAgIEdlbmVyYXRlQ2RuTGlzdCh0aGlzKTsKICAgICAgICAgICAgdmFyIGlwID0gdGhpcy5fY2Rucy5zaGlmdCgpOwogICAgICAgICAgICB0aGlzLl9jZG5zLnB1c2goaXApOwogICAgICAgICAgICB0aGlzLk5vdGlmeUNkbihpcCk7CiAgICAgICAgfQogICAgICAgIE5vdGlmeUNkbihpcCkgewogICAgICAgICAgICBpZiAodGhpcy5fYnRuQ2hhbmdlQ2RuKQogICAgICAgICAgICAgICAgdGhpcy5fYnRuQ2hhbmdlQ2RuLmF0dHIoJ3RpdGxlJywgYOabtOaNoiBDRE4gW+W9k+WJjTogJHtpcH1dYCk7CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOS9v+eUqCBDRE46ICR7aXB9YCk7CiAgICAgICAgICAgIHRoaXMuX2NkbiA9IGlwOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uud3NfY2RuX21lZGlhID0gaXA7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJfd3NfY2RuX21lZGlhIiwgaXApOwogICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChTY3JpcHRfNy5TY3JpcHQuTmFtZSArICctY2RuJywgewogICAgICAgICAgICAgICAgZGV0YWlsOiBpcAogICAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICAgIEhvb2tSYWRpb1BsYXllcigpIHsKICAgICAgICB9CiAgICAgICAgRnJhbWVQYWdlKCkgewogICAgICAgICAgICBzd2l0Y2ggKGxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMV0pIHsKICAgICAgICAgICAgICAgIGNhc2UgJ212JzoKICAgICAgICAgICAgICAgICAgICB0aGlzLk1vdmllUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnb3V0Y2hhaW4nOgogICAgICAgICAgICAgICAgICAgIHRoaXMuT3V0Y2hhaW5QYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdzb25nJzoKICAgICAgICAgICAgICAgICAgICB0aGlzLlNpbmdsZVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ2FsYnVtJzogLy8g5LiT6L6RCiAgICAgICAgICAgICAgICBjYXNlICdhcnRpc3QnOiAvLyDoibrmnK/lrrYKICAgICAgICAgICAgICAgIGNhc2UgJ3BsYXlsaXN0JzogLy8g5pKt5pS+5YiX6KGoCiAgICAgICAgICAgICAgICBjYXNlICdkaXNjb3Zlcic6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5FbmFibGVJdGVtcygpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIE1vdmllUGFnZSgpIHsKICAgICAgICAgICAgdmFyICRmbGFzaEJveCA9ICQoJyNmbGFzaF9ib3gnKTsKICAgICAgICAgICAgaWYgKCRmbGFzaEJveC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICRmbGFzaEJveC5odG1sKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gcXMuUGFyc2UoaHRtbC5tYXRjaCgvZmxhc2h2YXJzPSIoW1xzXFNdKz8pIi8pWzFdLnJlcGxhY2UoLyZhbXA7L2csICcmJykpOwogICAgICAgICAgICAgICAgdmFyIHF1YWxpdGllcyA9IHsKICAgICAgICAgICAgICAgICAgICBodXJsOiAn6auY5riFJywKICAgICAgICAgICAgICAgICAgICBtdXJsOiAn5qCH5riFJywKICAgICAgICAgICAgICAgICAgICBsdXJsOiAn5rij55S76LSoJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciAkZGxIb2xkZXIgPSAkKCc8cD4nKS5jc3MoewogICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JwogICAgICAgICAgICAgICAgfSkudGV4dCgnTVYg5LiL6L29OiAnKS5pbnNlcnRBZnRlcigkZmxhc2hCb3gpOwogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocXVhbGl0aWVzKS5mb3JFYWNoKChxdWFsaXR5SWQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zW3F1YWxpdHlJZF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkbCA9ICQoJzxhPicpLmF0dHIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogdGhpcy5fZG93bmxvYWRlci5HZW5lcmF0ZVVyaShwYXJhbXNbcXVhbGl0eUlkXSwgYCR7cGFyYW1zLnRyYWNrTmFtZX1bJHtxdWFsaXRpZXNbcXVhbGl0eUlkXX1dLm1wNGApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGDkuIvovb0gJHtwYXJhbXMudHJhY2tOYW1lfSDnmoQgJHtxdWFsaXRpZXNbcXVhbGl0eUlkXX0gTXZgCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnByb3AoJ2Rvd25sb2FkJywgdHJ1ZSkudGV4dChxdWFsaXRpZXNbcXVhbGl0eUlkXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS/ruatoyAxNjMg6Ieq5bex55qE6Lez6L2sLgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb3dubG9hZGVyLkNhcHR1cmVBcmlhKCRkbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRkbEhvbGRlci5hcHBlbmQoJGRsKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGRsSG9sZGVyLmFwcGVuZCgnIHwgJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkZGxIb2xkZXIuYXBwZW5kKGDmj5Dkvps6ICR7U2NyaXB0XzcuU2NyaXB0Lk5hbWV9ICR7Q29uc3RhbnRzXzMudmVyc2lvbn1gKTsKICAgICAgICAgICAgICAgIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgJGZsYXNoQm94Lmh0bWwoaHRtbC5yZXBsYWNlKC9yZXN0cmljdD10cnVlL2csICdyZXN0cmljdD0nKSk7CiAgICAgICAgICAgICAgICAgICAgLy8g6Ieq5Yqo5YWz6Zet5by55Ye655qE5o+Q56S65qGGCiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd6Y2xzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbFswXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbW91c2Vkb3duJykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIE91dGNoYWluUGFnZSgpIHsKICAgICAgICAgICAgLy8gVE9ETzog5aSW6ZO+6aG16Z2iCiAgICAgICAgfQogICAgICAgIFNpbmdsZVBhZ2UoKSB7CiAgICAgICAgICAgIHZhciB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3UtYnRuaS1hZGRwbHknKTsKICAgICAgICAgICAgICAgIGlmIChwbGF5QnV0dG9uLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBpdCBzaG91bGQgYmUgYSBkaXNhYmxlZCBidXR0b24uCiAgICAgICAgICAgICAgICB2YXIgcGxheUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd1LWJ0bmktcGxheS1kaXMnKTsKICAgICAgICAgICAgICAgIGlmIChwbGF5QnV0dG9ucy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc29uZ0lkID0gJCgnI2NvbnRlbnQtb3BlcmF0aW9uJykuZGF0YSgncmlkJyk7CiAgICAgICAgICAgICAgICAgICAgcGxheUJ1dHRvbnNbMF0ub3V0ZXJIVE1MID0gYAo8YSBkYXRhLXJlcy1hY3Rpb249InBsYXkiIGRhdGEtcmVzLWlkPSIke3NvbmdJZH0iIGRhdGEtcmVzLXR5cGU9IjE4IiBocmVmPSJqYXZhc2NyaXB0OjsiCiAgY2xhc3M9InUtYnRuMiB1LWJ0bjItMiB1LWJ0bmktYWRkcGx5IGYtZmwiIGhpZGVmb2N1cz0idHJ1ZSIgdGl0bGU9IuaSreaUviI+CiAgICA8aT48ZW0gY2xhc3M9InBseSI+PC9lbT7mkq3mlL48L2k+CjwvYT4KCjxhIGRhdGEtcmVzLWFjdGlvbj0iYWRkdG8iIGRhdGEtcmVzLWlkPSIke3NvbmdJZH0iIGRhdGEtcmVzLXR5cGU9IjE4IiBocmVmPSJqYXZhc2NyaXB0OjsiCiAgY2xhc3M9InUtYnRuaSB1LWJ0bmktYWRkIiBoaWRlZm9jdXM9InRydWUiIHRpdGxlPSLmt7vliqDliLDmkq3mlL7liJfooagiPgo8L2E+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgICAgRW5hYmxlSXRlbXMoKSB7CiAgICAgICAgICAgIHZhciB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgZGlzYmxlZEl0ZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanMtZGlzJyk7CiAgICAgICAgICAgICAgICBpZiAoZGlzYmxlZEl0ZW1zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzYmxlZEl0ZW1zLmxlbmd0aDspIHsKICAgICAgICAgICAgICAgICAgICBkaXNibGVkSXRlbXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnanMtZGlzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIFRlc3RTdHJpbmcoc3JjLCBuZWVkbGUpIHsKICAgICAgICBpZiAodHlwZW9mIG5lZWRsZSA9PSAnc3RyaW5nJykgewogICAgICAgICAgICByZXR1cm4gRXh0ZW5zaW9uXzkuQ29udGFpbnMoc3JjLCBuZWVkbGUpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG5lZWRsZS50ZXN0KHNyYyk7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gR2VuZXJhdGVDZG5MaXN0KGN0eCkgewogICAgICAgIHZhciBjZG5zID0gWwogICAgICAgICAgICAvLyDnlLXkv6EKICAgICAgICAgICAgIjEyNS45MC4yMDYuMzIiLAogICAgICAgICAgICAiMjIyLjE4Ni4xMzIuMTAzIiwKICAgICAgICAgICAgIjExNy4yMy42Ljg5IiwKICAgICAgICAgICAgIjExOS4xNDUuMjA3LjE3IiwKICAgICAgICAgICAgIjE4MC45Ny4xODAuNzEiLAogICAgICAgICAgICAiMTE2LjU1LjIzNi45MyIsCiAgICAgICAgICAgICIyMTguNzYuMTA1LjQyIiwKICAgICAgICAgICAgIjEyNS42NC4yMzIuMTUiLAogICAgICAgICAgICAiMTE1LjIzMS44Ny4zNyIsCiAgICAgICAgICAgICI1OC4yMjEuNzguNjgiLAogICAgICAgICAgICAiMjIwLjExMi4xOTUuMTQ4IiwKICAgICAgICAgICAgIjIxOC42NC45NC42NyIsCiAgICAgICAgICAgICIzNi40Mi4zMi43NiIsCiAgICAgICAgICAgICI2MS4xMzYuMjExLjE2IiwKICAgICAgICAgICAgIjIxOC42NC45NC42OCIsCiAgICAgICAgICAgICIyMTkuMTM4LjIxLjcxIiwKICAgICAgICAgICAgIjQ5Ljc5LjIzMi41OCIsCiAgICAgICAgICAgICIxMjIuMjI4LjI0LjMwIiwKICAgICAgICAgICAgIjE4Mi4xMDYuMTk0Ljg1IiwKICAgICAgICAgICAgIjIxOC41OS4xODYuOTgiLAogICAgICAgICAgICAiNjEuMTU4LjEzMy4yMSIsCiAgICAgICAgICAgICIxMTcuMjcuMjQxLjIwIiwKICAgICAgICAgICAgIjU4LjUxLjE1MC4xMzMiLAogICAgICAgICAgICAiMjE4LjI5LjQ5LjEzMiIsCiAgICAgICAgICAgICI2MC4yMTUuMTI1Ljc2IiwKICAgICAgICAgICAgIjE4My42MS4yMi4xNyIsCiAgICAgICAgICAgICIxODMuMTM0LjE0LjI2IiwKICAgICAgICAgICAgIjU4LjIyMC42LjE0MiIsCiAgICAgICAgICAgICIxMTUuMjMxLjE1OC40NCIsCiAgICAgICAgICAgICI2MS4xNjQuMjQxLjEwNSIsCiAgICAgICAgICAgICIxMjUuNDYuMjIuMTI0IiwKICAgICAgICAgICAgIjIyMi4yOC4xNTIuMTM5IiwKICAgICAgICAgICAgIjEyNC4xNjUuMjE2LjI0NCIsCiAgICAgICAgICAgICIyMTguNjAuMTA2LjExNSIsCiAgICAgICAgICAgICIyMDIuMTA3Ljg1LjgxIiwKICAgICAgICAgICAgIjYxLjE3OS4xMDcuMTE2IiwKICAgICAgICAgICAgIjE3NS40My4yMC42OSIsCiAgICAgICAgICAgICIyMjAuMTk0LjIwMy44NiIsCiAgICAgICAgICAgICI2MS4xNjAuMjA5LjI3IiwKICAgICAgICAgICAgIjEyMC4yMDkuMTQxLjc5IiwKICAgICAgICAgICAgIjEyMC4yMDkuMTQyLjEzOCIsCiAgICAgICAgICAgICIyMTkuMTM4LjIxLjcyIiwKICAgICAgICAgICAgIjU4LjIxNi4yMS4xMzIiLAogICAgICAgICAgICAnMTQuMjE1LjIyOC4xMCcsCiAgICAgICAgICAgICcyMTguODcuMTExLjgzJywKICAgICAgICAgICAgLy8g5YyX5Lqs55S15L+hCiAgICAgICAgICAgICcyMDMuMTMwLjU5LjgnLAogICAgICAgICAgICAnMjAzLjEzMC41OS4xMCcsCiAgICAgICAgICAgICcyMDMuMTMwLjU5LjExJywKICAgICAgICAgICAgJzIwMy4xMzAuNTkuMTInCiAgICAgICAgXTsKICAgICAgICBjdHguX2NkbnMgPSBFeHRlbnNpb25fOS5TaHVmZmxlKGNkbnMpOwogICAgICAgIHZhciBpcHMgPSBbCiAgICAgICAgICAgICcxMDYuMTIwLjE2Ny42NycsICcxMTEuMjA2LjYxLjEzMScsICcxMTEuMjA2LjYxLjEzMScsICcxMTEuMTMuNjYuMjI2JywKICAgICAgICAgICAgJzEwNi4xMjAuMTY3LjY3JywgJzEyNS44OC4xOTAuNTYnLCAnMjIyLjczLjE0NC4xOTUnLCAnMjIwLjE4MS41Ny4yMzInLAogICAgICAgICAgICAnMTgwLjE0OS4xMzEuMjQ3JywgJzE4MC4xNDkuMTMzLjE2NycsICcxMTIuMzQuMTExLjEyMScsICc2MS4xMzUuMTg1LjI0JwogICAgICAgIF07CiAgICAgICAgY3R4Ll9pcHMgPSBFeHRlbnNpb25fOS5TaHVmZmxlKGlwcyk7CiAgICB9CiAgICBmdW5jdGlvbiBHZW5lcmF0ZVZhbGlkTmFtZSgpIHsKICAgICAgICByZXR1cm4gYCR7U2NyaXB0XzcuU2NyaXB0Lk5hbWV9X18ke0RhdGUubm93KCl9JHtNYXRoLnJhbmRvbSgpfWA7CiAgICB9CiAgICBmdW5jdGlvbiBHZXRFbmhhbmNlZERhdGEoaWQsIHVybCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIGJyOiAxOTIwMDAsCiAgICAgICAgICAgIHNpemU6IDEyMDAwMCwKICAgICAgICAgICAgbWQ1OiAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLAogICAgICAgICAgICBjb2RlOiAyMDAsCiAgICAgICAgICAgIGV4cGk6IDEyMDAsCiAgICAgICAgICAgIHR5cGU6ICdtcDMnLAogICAgICAgICAgICBnYWluOiAwLAogICAgICAgICAgICBmZWU6IDAsCiAgICAgICAgICAgIHVmOiBudWxsLAogICAgICAgICAgICBwYXllZDogMCwKICAgICAgICAgICAgY2FuRXh0ZW5kOiBmYWxzZQogICAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBTb25nc1RvVXJsUmVwbHkoc29uZ3MpIHsKICAgICAgICB2YXIgcmVwbHkgPSB7CiAgICAgICAgICAgIGNvZGU6IDIwMCwKICAgICAgICAgICAgZGF0YTogc29uZ3MubWFwKChzb25nKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gR2V0RW5oYW5jZWREYXRhKHNvbmcuaWQsIEdlbmVyYXRlVXJsRnJvbVNvbmcoc29uZykpOwogICAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGNsb25lSW50byhyZXBseSwgdW5zYWZlV2luZG93LCB7CiAgICAgICAgICAgIGNsb25lRnVuY3Rpb25zOiBmYWxzZSwKICAgICAgICAgICAgd3JhcFJlZmxlY3RvcnM6IHRydWUKICAgICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIFVybFRvU29uZ1VybFJlcGx5KGlkLCB1cmwpIHsKICAgICAgICB2YXIgcmVwbHkgPSB7CiAgICAgICAgICAgIGNvZGU6IDIwMCwKICAgICAgICAgICAgZGF0YTogW0dldEVuaGFuY2VkRGF0YShpZCwgdXJsKV0KICAgICAgICB9OwogICAgICAgIHJldHVybiBjbG9uZUludG8ocmVwbHksIHVuc2FmZVdpbmRvdywgewogICAgICAgICAgICBjbG9uZUZ1bmN0aW9uczogZmFsc2UsCiAgICAgICAgICAgIHdyYXBSZWZsZWN0b3JzOiB0cnVlCiAgICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBHZW5lcmF0ZVVybEZyb21Tb25nKHNvbmcpIHsKICAgICAgICB2YXIgZGZzSWQ7CiAgICAgICAgdmFyIHEgPSAoc29uZy5oIHx8IHNvbmcubSB8fCBzb25nLmwgfHwgc29uZy5hKTsKICAgICAgICBpZiAoIXEpIHsKICAgICAgICAgICAgTG9nZ2VyXzUuZXJyb3IoYOatjOabsiAke3NvbmcubmFtZX0g5bey57uP5LiL5p6277yM6I635Y+W5Zyw5Z2A5aSx6LSlIWApOwogICAgICAgICAgICByZXR1cm4gX19NUDNfQkxBTks7CiAgICAgICAgfQogICAgICAgIGRmc0lkID0gcS5maWQ7CiAgICAgICAgdmFyIHJhbmRTZXJ2ZXIgPSB+fihNYXRoLnJhbmRvbSgpICogMikgKyAxOwogICAgICAgIHZhciBpcFByZWZpeCA9ICcnOwogICAgICAgIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsKSB7CiAgICAgICAgICAgIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VVc2VPbGRBcGkpIHsKICAgICAgICAgICAgICAgIGlwUHJlZml4ID0gJzEyNy4wLjAuMTo0MDAzLyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBUT0RPOiDov5nkupsgSXAg5pyJ55So5ZibPwogICAgICAgICAgICAgICAgaXBQcmVmaXggPSBydWxlLmluc3RhbmNlLl9jZG47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdmFyIGRmc0hhc2ggPSBEb0Rmc0hhc2goZGZzSWQpOwogICAgICAgIHJldHVybiBgaHR0cDovLyR7aXBQcmVmaXh9bSR7cmFuZFNlcnZlcn0ubXVzaWMuMTI2Lm5ldC8ke2Rmc0hhc2h9LyR7ZGZzSWR9Lm1wM2A7CiAgICB9CiAgICBmdW5jdGlvbiBzdHJUb0tleUNvZGVzKHN0cikgewogICAgICAgIHJldHVybiBTdHJpbmcoc3RyKS5zcGxpdCgnJykubWFwKChjaCkgPT4gY2guY2hhckNvZGVBdCgwKSk7CiAgICB9CiAgICBjb25zdCBrZXlzID0gWwogICAgICAgIDUxLCAxMDMsIDExMSwgNTYsIDM4LCAzNiwKICAgICAgICA1NiwgNDIsIDUxLCA0MiwgNTEsIDEwNCwKICAgICAgICA0OCwgMTA3LCA0MCwgNTAsIDQxLCA1MAogICAgXTsKICAgIGZ1bmN0aW9uIERvRGZzSGFzaChkZnNpZCkgewogICAgICAgIHZhciBmaWRzID0gc3RyVG9LZXlDb2RlcyhkZnNpZCkubWFwKGZ1bmN0aW9uIChmaWQsIGkpIHsKICAgICAgICAgICAgcmV0dXJuIChmaWQgXiBrZXlzW2kgJSBrZXlzLmxlbmd0aF0pICYgMHhGRjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gQ3J5cHRvSlMuTUQ1KENyeXB0b0pTLmxpYi5CeXRlQXJyYXkoZmlkcykpCiAgICAgICAgICAgIC50b1N0cmluZyhDcnlwdG9KUy5lbmMuQmFzZTY0KQogICAgICAgICAgICAucmVwbGFjZSgvXC8vZywgIl8iKQogICAgICAgICAgICAucmVwbGFjZSgvXCsvZywgIi0iKTsKICAgIH0KICAgIHZhciBNdXNpY1NweTsKICAgIChmdW5jdGlvbiAoTXVzaWNTcHkpIHsKICAgICAgICB2YXIgX3JlYWR5ID0gZmFsc2U7CiAgICAgICAgdmFyIF9yZWxvYWRDYWNoZSA9IHRydWU7CiAgICAgICAgdmFyIF9jYWNoZSA9IHt9OwogICAgICAgIGZ1bmN0aW9uIEluaXQoKSB7CiAgICAgICAgICAgIF9yZWFkeSA9IHRydWU7CiAgICAgICAgICAgIFNjcmlwdF83LlNjcmlwdC5SZWdpc3RlclN0b3JhZ2VFdmVudCgnX01VU0lDX1NQWScsICgpID0+IHsKICAgICAgICAgICAgICAgIF9yZWxvYWRDYWNoZSA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBSZWxvYWRDYWNoZSgpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBSZWxvYWRDYWNoZShmb3JjZSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmIChmb3JjZSB8fCBfcmVsb2FkQ2FjaGUpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgX2NhY2hlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuX01VU0lDX1NQWSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICAgICAgICBfY2FjaGUgPSB7fTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBfcmVsb2FkQ2FjaGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gUmVhZENhY2hlKGlkKSB7CiAgICAgICAgICAgIGlmIChfcmVsb2FkQ2FjaGUpCiAgICAgICAgICAgICAgICBSZWxvYWRDYWNoZSgpOwogICAgICAgICAgICByZXR1cm4gX2NhY2hlW2lkXTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gU2F2ZUNhY2hlKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuX01VU0lDX1NQWSA9IEpTT04uc3RyaW5naWZ5KF9jYWNoZSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEdldChpZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKCFfcmVhZHkpCiAgICAgICAgICAgICAgICBJbml0KCk7CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOesrOS4gOatpTog5pCc57Si5puy55uuICgke2lkfSlgKTsKICAgICAgICAgICAgdmFyIGNhY2hlU29uZyA9IFJlYWRDYWNoZShpZCk7CiAgICAgICAgICAgIGlmIChjYWNoZVNvbmcpIHsKICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOivu+iHque8k+WtmCwg6K+35rGC6Kej5p6Q55yf5a6e5Zyw5Z2A44CCYCk7CiAgICAgICAgICAgICAgICBQYXJzZVJlYWxBZGRyZXNzKGNhY2hlU29uZywgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sobnVsbCwgY2FjaGVTb25nLnVybCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgIHVybDogYGh0dHA6Ly9hcGkuaXR3dXN1bi5jb20vbXVzaWMvc2VhcmNoL3d5LzE/Zm9ybWF0PWpzb24mc2lnbj1hNWNjMGE4Nzk3NTM5ZDNhMWE0ZjdhZWNhNWI2OTViOSZrZXl3b3JkPSR7aWR9YCwKICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+aXoOaViOeahOabsuebruaQnOe0oue7k+aenOOAgicpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgc29uZyA9IGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoc29uZykgPT4gc29uZy5UeXBlID09ICd3eScgJiYgc29uZy5Tb25nSWQgPT0gaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC5wb3AoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXNvbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfmib7kuI3liLDmm7Lnm67kv6Hmga/jgIInKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHNvbmcuU3FVcmwgfHwgc29uZy5IcVVybCB8fCBzb25nLkxxVXJsOwogICAgICAgICAgICAgICAgICAgIHZhciBzb25nT2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVhbF90aW1lOiAwLAogICAgICAgICAgICAgICAgICAgICAgICByZWFsX3VybDogbnVsbAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgX2NhY2hlW2lkXSA9IHNvbmdPYmo7CiAgICAgICAgICAgICAgICAgICAgU2F2ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzUuaW5mbyhg5oiQ5Yqf5Y+W5b6X5Zyw5Z2ALCDor7fmsYLop6PmnpDnnJ/lrp7lnLDlnYDjgIJgKTsKICAgICAgICAgICAgICAgICAgICBQYXJzZVJlYWxBZGRyZXNzKHNvbmdPYmosIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayhudWxsLCB1cmwpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+e9kee7nOmUmeivryAo5pCc57Si5puy55uuKScpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIE11c2ljU3B5LkdldCA9IEdldDsKICAgICAgICAvLyDlm5vlsI/ml7blkI7ov4fmnJ8KICAgICAgICAvLyAxMDAwICogNjAgKiA2MCAqNCA9PSAxNDQwMDAwMAogICAgICAgIGZ1bmN0aW9uIFBhcnNlUmVhbEFkZHJlc3MoY2FjaGVTb25nLCBjYWxsYmFjaykgewogICAgICAgICAgICBMb2dnZXJfNS5pbmZvKGDnrKzkuozmraU6IOino+aekOecn+WunuWcsOWdgCAoJHtjYWNoZVNvbmcudXJsfSlgKTsKICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBjYWNoZVNvbmcucmVhbF90aW1lIDwgMTQ0MDAwMDApIHsKICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOivu+iHque8k+WtmO+8jOe7k+adn+ivu+WPluOAgmApOwogICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgY2FjaGVTb25nLnJlYWxfdXJsKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgdXJsOiBjYWNoZVNvbmcudXJsLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIFJhbmdlOiAnYnl0ZXM9MC0yJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2FjaGVTb25nLnJlYWxfdXJsID0gcmVzcG9uc2UuZmluYWxVcmw7CiAgICAgICAgICAgICAgICAgICAgY2FjaGVTb25nLnJlYWxfdGltZSA9IERhdGUubm93KCk7CiAgICAgICAgICAgICAgICAgICAgU2F2ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzUuaW5mbyhg6Kej5p6Q57uT5p2fOiAke2NhY2hlU29uZy5yZWFsX3VybH1gKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZS5maW5hbFVybCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25lcnJvcjogKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign572R57uc6ZSZ6K+vICjop6PmnpDnnJ/lrp7lnLDlnYDml7YpJyksIG51bGwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KShNdXNpY1NweSB8fCAoTXVzaWNTcHkgPSB7fSkpOwp9KTsKZGVmaW5lKCJzaXRlL211c2ljLjF0aW5nIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL1dhaXQiLCAiaGVscGVyL0Rvd25sb2FkZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFdhaXRfNiwgRG93bmxvYWRlcl81KSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdtdXNpYy4xdGluZycsCiAgICAgICAgc3NsOiBmYWxzZSwKICAgICAgICBuYW1lOiAn5LiA5ZCs6Z+z5LmQJywKICAgICAgICBob3N0OiAnd3d3LjF0aW5nLmNvbScsCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgY3NzOiBgYCwKICAgICAgICBiZDogbnVsbCwKICAgICAgICBfZGw6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfNS5Eb3dubG9hZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgcnVsZS5fZGwgPSAkKCcuc29uZ2FjdCA+IC5kb3duJyk7CiAgICAgICAgICAgIHJ1bGUuX2RsCiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignb25jbGljaycpCiAgICAgICAgICAgICAgICAuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpOwogICAgICAgICAgICBydWxlLmJkLkNhcHR1cmVBcmlhKHJ1bGUuX2RsKTsKICAgICAgICAgICAgV2FpdF82LldhaXRVbnRpbCgneWl0aW5nLnBsYXllci5ob29rJywgKCkgPT4gewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnlpdGluZy5wbGF5ZXIuaG9vaygncGxheScsIGV4cG9ydEZ1bmN0aW9uKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBydWxlLlVwZGF0ZVNvbmcoKTsKICAgICAgICAgICAgICAgIH0sIHVuc2FmZVdpbmRvdykpOwogICAgICAgICAgICAgICAgcnVsZS5VcGRhdGVTb25nKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgVXBkYXRlU29uZzogKCkgPT4gewogICAgICAgICAgICB2YXIgbmFtZSA9IHVuc2FmZVdpbmRvdy55aXRpbmcucGxheWVyLmdldCgnc29uZy1uYW1lJyk7CiAgICAgICAgICAgIHZhciBzaW5nZXIgPSB1bnNhZmVXaW5kb3cueWl0aW5nLnBsYXllci5nZXQoJ3Npbmdlci1uYW1lJyk7CiAgICAgICAgICAgIHZhciBsaW5rID0gdW5zYWZlV2luZG93LnlpdGluZy5wbGF5ZXIuaG9zdCArIHVuc2FmZVdpbmRvdy55aXRpbmcucGxheWVyLmdldCgnc29uZy1tZWRpYScpOwogICAgICAgICAgICBydWxlLl9kbC5hdHRyKHsKICAgICAgICAgICAgICAgIGhyZWY6IHJ1bGUuYmQuR2VuZXJhdGVVcmkobGluaywgYCR7bmFtZX0gWyR7c2luZ2VyfV0ubXAzYCksCiAgICAgICAgICAgICAgICB0aXRsZTogYOeCueaIkeS4i+i9vTogJHtuYW1lfWAKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuUnVsZXMgPSBbcnVsZV07Cn0pOwpkZWZpbmUoImhvb2tlci9qUGxheWVyIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0xvZ2dlciIsICJoZWxwZXIvV2FpdCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgTG9nZ2VyXzYsIFdhaXRfNykgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIGZ1bmN0aW9uIFBhdGNoKGNhbGxiYWNrLCBuYW1lc3BhY2UgPSAialBsYXllciIpIHsKICAgICAgICBMb2dnZXJfNi5pbmZvKCfnrYnlvoUgalBsYXllciDlsLHnu6ogLi4nKTsKICAgICAgICBXYWl0XzcuV2FpdFVudGlsKGAkLiR7bmFtZXNwYWNlfS5wcm90b3R5cGUuc2V0TWVkaWFgLCAoKSA9PiB7CiAgICAgICAgICAgIExvZ2dlcl82LmluZm8oJ+W8gOWni+e7keWumuWHveaVsCAuLicpOwogICAgICAgICAgICB1bnNhZmVPdmVyd3JpdGVGdW5jdGlvblNhZmVQcm94eSh7CiAgICAgICAgICAgICAgICBzZXRNZWRpYTogKG5ld01lZGlhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzYuaW5mbygn5q2M5puy5pWw5o2uOiAnLCBuZXdNZWRpYSk7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3TWVkaWEpOwogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvclVuc2FmZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgdW5zYWZlV2luZG93LiRbbmFtZXNwYWNlXS5wcm90b3R5cGUsIGAuJC4ke25hbWVzcGFjZX0ucHJvdG90eXBlYCk7CiAgICAgICAgfSk7CiAgICB9CiAgICBleHBvcnRzLlBhdGNoID0gUGF0Y2g7Cn0pOwpkZWZpbmUoInNpdGUvbXVzaWMuNTYiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvRG93bmxvYWRlciIsICJoZWxwZXIvU2NyaXB0IiwgImhlbHBlci9FeHRlbnNpb24iLCAiaG9va2VyL2pQbGF5ZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIERvd25sb2FkZXJfNiwgU2NyaXB0XzgsIEV4dGVuc2lvbl8xMCwgalBsYXllcikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciBydWxlID0gewogICAgICAgIGlkOiAnbXVzaWMuNTYnLAogICAgICAgIHNzbDogZmFsc2UsCiAgICAgICAgbmFtZTogJzU2IOmfs+S5kOe9kScsCiAgICAgICAgaG9zdDogJ3d3dy4yMzM1Ni5jb20nLAogICAgICAgIHBhdGg6IFsnL3BsdXMvcGxheWVyLmFzaHgnLCAnL3RpbmcvJywgJy9tdXNpYy8nXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBoaWRlOiAnLnBsYXllci1ib3R0b20tZ2csIC5ub2NvcHlyaWdodCcsCiAgICAgICAgYmQ6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfNi5Eb3dubG9hZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgalBsYXllci5QYXRjaCgobWVkaWEpID0+IHsKICAgICAgICAgICAgICAgIHZhciBhZGRyID0gbWVkaWEubXAzIHx8IG1lZGlhLm00YTsKICAgICAgICAgICAgICAgICQoJy5wbGF5LWluZm8tb3RoZXJvcHQgPiBhOmxhc3QnKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaShhZGRyLCBtZWRpYS5zb25nbmFtZSArIGFkZHIuc2xpY2UoLTQpKSkKICAgICAgICAgICAgICAgICAgICAuYXR0cigndGl0bGUnLCBg5LiL6L29OiAke21lZGlhLnNvbmduYW1lfSAo5q2M5omLOiAke21lZGlhLnNpbmdlcm5hbWV9KWApCiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ3NwYW4nKS50ZXh0KGDkuIvovb0gKCR7U2NyaXB0XzguU2NyaXB0Lk5hbWV9KWApOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIG5lZWRfcGxheSA9IGZhbHNlOwogICAgICAgICAgICB1bnNhZmVXaW5kb3cuc3BsYXllci5zb25nX2RhdGFbMF0uZm9yRWFjaCgoc29uZykgPT4gewogICAgICAgICAgICAgICAgaWYgKHNvbmcuZGVsZmxhZyB8fCBzb25nLmRlbGZsYWcgIT0gMCkgewogICAgICAgICAgICAgICAgICAgIG5lZWRfcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgc29uZy5kZWxmbGFnID0gMDsKICAgICAgICAgICAgICAgICAgICBpZiAoRXh0ZW5zaW9uXzEwLkJlZ2luV2l0aChzb25nLnVybCwgJy9kZWwnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzb25nLnVybCA9IHNvbmcudXJsLnJlcGxhY2UoJy9kZWwnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG5lZWRfcGxheSkgewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LiQoJyNwbGF5JykuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL211c2ljLmVjaG8iLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvTG9nZ2VyIiwgImhlbHBlci9XYWl0IiwgImhlbHBlci9Eb3dubG9hZGVyIiwgImhlbHBlci9FeHRlbnNpb24iXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIExvZ2dlcl83LCBXYWl0XzgsIERvd25sb2FkZXJfNywgRXh0ZW5zaW9uXzExKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdtdXNpYy5lY2hvJywKICAgICAgICBzc2w6IGZhbHNlLAogICAgICAgIG5hbWU6ICdFY2hvIOWbnuWjsOmfs+S5kCcsCiAgICAgICAgaG9zdDogJ3d3dy5hcHAtZWNoby5jb20nLAogICAgICAgIHBhdGg6ICcvc291bmQvJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBoaWRlOiAnJywKICAgICAgICBiZDogbnVsbCwKICAgICAgICBkbExpbms6IG51bGwsCiAgICAgICAgb25TdGFydCgpIHsKICAgICAgICAgICAgcnVsZS5iZCA9IG5ldyBEb3dubG9hZGVyXzcuRG93bmxvYWRlcigpOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5KCkgewogICAgICAgICAgICBpZiAoRXh0ZW5zaW9uXzExLkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9zb3VuZC8nKSkgewogICAgICAgICAgICAgICAgcnVsZS5TaW5nbGVQYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFNpbmdsZVBhZ2UoKSB7CiAgICAgICAgICAgIC8vIOWNleabsumhtemdogogICAgICAgICAgICAvLyBodHRwOi8vd3d3LmFwcC1lY2hvLmNvbS9zb3VuZC9pbmZvLW1vYmlsZT9zb3VuZF9pZD0ke2lkfQogICAgICAgICAgICB2YXIgaWQgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXGQrLyk7CiAgICAgICAgICAgIGlmICghaWQpIHsKICAgICAgICAgICAgICAgIExvZ2dlcl83LmVycm9yKCfojrflj5bmm7Lnm64gSUQg5aSx6LSlIScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOaPkuWFpeS4i+i9vei/nuaOpXgKICAgICAgICAgICAgdmFyIHNtYWxsVGV4dCA9ICQoJzxzbWFsbD4nKTsKICAgICAgICAgICAgdmFyIHVybERsID0gJCgnPGE+Jyk7CiAgICAgICAgICAgICQoJy5zaW5nbGUtdGl0bGUgPiBoMScpLmFwcGVuZChzbWFsbFRleHQpOwogICAgICAgICAgICBzbWFsbFRleHQuYXBwZW5kKHVybERsKTsKICAgICAgICAgICAgcnVsZS5kbExpbmsgPSB1cmxEbDsKICAgICAgICAgICAgdXJsRGwudGV4dCgn5LiL6L29JykKICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsICfmraPlnKjop6PmnpAuLi4nKQogICAgICAgICAgICAgICAgLmNzcygnbWFyZ2luLWxlZnQnLCAnMWVtJyk7CiAgICAgICAgICAgIHZhciBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgICAgICBmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYW1lKTsKICAgICAgICAgICAgdW5zYWZlV2luZG93Lm9uZXJyb3IgPSBudWxsOwogICAgICAgICAgICB2YXIgcmVxID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIHVybDogYC9zb3VuZC9pbmZvLW1vYmlsZT9zb3VuZF9pZD0ke2lkfWAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcignc2NyaXB0JykKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoaSwgZWwpID0+IEV4dGVuc2lvbl8xMS5Db250YWlucyhlbC50ZXh0Q29udGVudCwgJ3BsYXlfc291cmNlKCcpKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXJfNy5lcnJvcign5pCc57Si5LiN5Yiw5pyJ5pWI55qE5puy55uu5Luj56CB44CCJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g5a+85Ye65oiR5Lus55qE5Ye95pWwCiAgICAgICAgICAgICAgICAgICAgdmFyIHduZCA9IGZyYW1lLmNvbnRlbnRXaW5kb3c7CiAgICAgICAgICAgICAgICAgICAgZXhwb3J0RnVuY3Rpb24oKGlkLCB0eXBlLCB1cmwsIHVuaykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBXYWl0XzguV2FpdFVudGlsKCdwYWdlX3NvdW5kX29iaicsICgpID0+IHJ1bGUuVXBkYXRlVXJsKHVybCwgdW5zYWZlV2luZG93LnBhZ2Vfc291bmRfb2JqLm5hbWUpKTsKICAgICAgICAgICAgICAgICAgICB9LCB3bmQsIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lQXM6ICdwbGF5X3NvdXJjZScKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyDmiafooYzmjZXmjYnliLDnmoTlhYPntKAKICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHduZC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICAgICAgICAgICAgICBzLnRleHRDb250ZW50ID0gdGFyZ2V0LnRleHQoKTsKICAgICAgICAgICAgICAgICAgICB3bmQuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMS4xOyBOZXh1cyA2IEJ1aWxkL0xZWjI4RSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC4yMyBNb2JpbGUgU2FmYXJpLzUzNy4zNicKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QocmVxKTsKICAgICAgICB9LAogICAgICAgIFVwZGF0ZVVybCh1cmwsIG5hbWUpIHsKICAgICAgICAgICAgbGV0IHMgPSBFeHRlbnNpb25fMTEuQ29udGFpbnModXJsLCAnPycpID8gJyYnIDogJz8nOwogICAgICAgICAgICBsZXQgX3VybCA9IGAke3VybH0ke3N9YXR0bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX0ke0V4dGVuc2lvbl8xMS5HZXRFeHRlbnNpb25Gcm9tVXJsKHVybCl9YDsKICAgICAgICAgICAgcnVsZS5kbExpbmsKICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaSh1cmwsIG5hbWUgKyBFeHRlbnNpb25fMTEuR2V0RXh0ZW5zaW9uRnJvbVVybCh1cmwpKSkKICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsIGDkuIvovb06ICR7bmFtZX1gKTsKICAgICAgICAgICAgLy8gaW5mbyhg5o2V5o2J5Yiw5LiL6L295Zyw5Z2AOiAke3VybH1gKTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9tdXNpYy5rdWdvdSIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9Mb2dnZXIiLCAiaGVscGVyL0Rvd25sb2FkZXIiLCAiaGVscGVyL1NjcmlwdENvbmZpZyIsICJoZWxwZXIvRXh0ZW5zaW9uIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBMb2dnZXJfOCwgRG93bmxvYWRlcl84LCBTY3JpcHRDb25maWdfNCwgRXh0ZW5zaW9uXzEyKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgY29uc3QgS3Vnb3VEb3dubG9hZEZyb250ID0gJ2h0dHBzOi8vaml4dW5tb2UuZ2l0aHViLmlvL2N1d2NsNGMva3Vnb3UtZGwnOwogICAgdmFyIGFwcCA9IG51bGw7CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ211c2ljLmt1Z291JywKICAgICAgICBzc2w6IGZhbHNlLAogICAgICAgIG5hbWU6ICfphbfni5fpn7PkuZAnLAogICAgICAgIGhvc3Q6ICd3ZWIua3Vnb3UuY29tJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBoaWRlOiAnI2FkdiwgLmp4LWhpZGUnLAogICAgICAgIGNzczogYAouZGlhbG9nLXNoYWRvdyB7CglkaXNwbGF5OiBmbGV4OwoJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CglhbGlnbi1pdGVtczogY2VudGVyOwoJcG9zaXRpb246IGZpeGVkOwoJbGVmdDogMDsKCXRvcDogMDsKCWhlaWdodDogMTAwJTsKCXdpZHRoOiAxMDAlOwoJYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMyk7Cgl6LWluZGV4OiAxMDA7Cn0KCi5kaWFsb2ctY29udGFpbmVyIHsKCW1pbi13aWR0aDogY2FsYyg3NjhweCArIDJlbSk7CgltaW4taGVpZ2h0OiAyMGVtOwoJcGFkZGluZzogMWVtOwoJYmFja2dyb3VuZDogI2ZmZjsKCWJveC1zaGFkb3c6IDJweCAycHggMnB4ICM2NjY7Cglib3JkZXI6IDFweCBzb2xpZCByZ2JhKDYsNiw2LC4zKTsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKCXBhZGRpbmctdG9wOiAyLjVlbTsKfQoKLmRpYWxvZy10aXRsZS1iYXIgewoJcG9zaXRpb246IGFic29sdXRlOwoJbGVmdDogMDsKCXRvcDogMDsKCXBhZGRpbmc6IC40ZW07Cgl3aWR0aDogY2FsYygxMDAlIC0gLjhlbSk7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgd2hpdGU7CgliYWNrZ3JvdW5kOiAjMDBBN0YyOwoJY29sb3I6IHdoaXRlOwp9CgouZGlhbG9nLXRpdGxlLWJ0bnMgewoJZmxvYXQ6IHJpZ2h0Owp9CgouZGlhbG9nLXRpdGxlLWJ0bnMgPiAuZGlhbG9nLWJhci1idG4gewoJd2lkdGg6IDFlbTsKCWhlaWdodDogMWVtOwoJYm9yZGVyOiAxcHggc29saWQgd2hpdGU7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7CglsaW5lLWhlaWdodDogMS4yOwoJcGFkZGluZzogMCAuNWVtOwoJbWFyZ2luLWxlZnQ6IC41ZW07CgljdXJzb3I6IHBvaW50ZXI7Cn0KCi5kaWFsb2ctY29udGVudCBpZnJhbWUgewoJaGVpZ2h0OiAzMGVtOwoJd2lkdGg6IDEwMCU7Cn0KYCwKICAgICAgICBiZDogbnVsbCwKICAgICAgICBvblN0YXJ0KCkgewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfOC5Eb3dubG9hZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHkoKSB7CiAgICAgICAgICAgIC8vIOeBq+eLkOeLuOacieWFvOWuuemXrumimCwg5b6F5L+uCiAgICAgICAgICAgIGlmICghRXh0ZW5zaW9uXzEyLkNvbnRhaW5zKG5hdmlnYXRvci51c2VyQWdlbnQsICdGaXJlZm94JykpCiAgICAgICAgICAgICAgICBydWxlLkJ1aWxkRGlhbG9nKCk7CiAgICAgICAgfSwKICAgICAgICBCdWlsZERpYWxvZygpIHsKICAgICAgICAgICAgbGV0IGRvd25sb2FkZXIgPSAkKGA8ZGl2IGlkPSJqaXh1bi1kbCI+Cgk8ZGl2IGNsYXNzPSJkaWFsb2ctc2hhZG93IiB2LWJpbmQ6Y2xhc3M9InsgJ2p4LWhpZGUnOiBoaWRlV2luZG93IH0iPgoJCTxkaXYgY2xhc3M9ImRpYWxvZy1jb250YWluZXIiPgoJCQk8ZGl2IGNsYXNzPSJkaWFsb2ctdGl0bGUtYmFyIj4KCQkJCeS4i+i9veeql+WPowoKCQkJCTxkaXYgY2xhc3M9ImRpYWxvZy10aXRsZS1idG5zIj4KCQkJCQk8c3BhbiBjbGFzcz0iZGlhbG9nLWJhci1idG4iIHYtb246Y2xpY2s9InRvZ2dsZUZyYW1lIj7nrqE8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImRpYWxvZy1iYXItYnRuIiB2LW9uOmNsaWNrPSJoaWRlIj7lhbM8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgoJCQk8ZGl2IGNsYXNzPSJkaWFsb2ctY29udGVudCI+CgkJCQk8ZGl2IHYtYmluZDpjbGFzcz0ieyAnangtaGlkZSc6IGhpZGVNc2cgfSI+e3sgbXNnIH19PC9kaXY+CgkJCQk8aWZyYW1lIHYtZWw6ZnJhbWUtZGwtZGlhbG9nIHYtYmluZDpjbGFzcz0ieyAnangtaGlkZSc6IG1vZGUgIT0gMSB9IiBzcmM9IiR7S3Vnb3VEb3dubG9hZEZyb250fSI+PC9pZnJhbWU+CgkJCQk8aWZyYW1lIHYtZWw6ZnJhbWUtZGwtbWFuYWdlciB2LWJpbmQ6Y2xhc3M9InsgJ2p4LWhpZGUnOiBtb2RlICE9IDIgfSIgIHNyYz0iJHtLdWdvdURvd25sb2FkRnJvbnR9L2RsLmh0bWwiPjwvaWZyYW1lPgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvZGl2Pgo8L2Rpdj5gKTsKICAgICAgICAgICAgZG93bmxvYWRlci5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKICAgICAgICAgICAgLy8gUmVxdWlyZSBWdWVKUyBmcm9tIHJlc291cmNlLgogICAgICAgICAgICBsZXQgdnVlTG9hZGVyID0gbmV3IEZ1bmN0aW9uKCd3aW5kb3cnLCBHTV9nZXRSZXNvdXJjZVRleHQoJ1Z1ZUpzJykgKyAnXG47IHJldHVybiB3aW5kb3cuVnVlOycpOwogICAgICAgICAgICBsZXQgVnVlID0gdnVlTG9hZGVyKHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICAgIGFwcCA9IG5ldyBWdWUoewogICAgICAgICAgICAgICAgZWw6IGRvd25sb2FkZXJbMF0sCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgbXNnOiAn5q2j5Zyo6I635Y+W55u45YWz5pWw5o2uLi4uJywKICAgICAgICAgICAgICAgICAgICBoaWRlTXNnOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICAgICAgICAgIGhpZGVXaW5kb3c6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICAgICAgICAgIGluaXQoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5oaWRlV2luZG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZyYW1lKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwLm1vZGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm1vZGUgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm1vZGUgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBoaWRlKCkgewogICAgICAgICAgICAgICAgICAgICAgICBhcHAuaGlkZVdpbmRvdyA9ICFhcHAuaGlkZVdpbmRvdzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBhcHAuaW5pdCgpOwogICAgICAgICAgICB2YXIgYWN0aW9uRGxEaWFsb2cgPSBbJ3NldCcsICdjbGVhciddOwogICAgICAgICAgICB2YXIgYWN0aW9uRGxNYW5hZ2VyID0gWydhZGQnXTsKICAgICAgICAgICAgZnVuY3Rpb24gcG9zdChhY3Rpb24sIGRhdGEpIHsKICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IGFjdGlvbkRsRGlhbG9nLmluZGV4T2YoYWN0aW9uKSAhPSAtMSA/IGFwcC4kZWxzLmZyYW1lRGxEaWFsb2cgOiBhcHAuJGVscy5mcmFtZURsTWFuYWdlcjsKICAgICAgICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sCiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobXNnKSwgJyonKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDojrflj5bpn7PotKjkv6Hmga8KICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlRG93bmxvYWQoc29uZ3MpIHsKICAgICAgICAgICAgICAgIHBvc3QoJ2NsZWFyJyk7CiAgICAgICAgICAgICAgICBhcHAuaGlkZU1zZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgYXBwLm1vZGUgPSAwOyAvLyBoaWRlVGhlbQogICAgICAgICAgICAgICAgYXBwLmhpZGVXaW5kb3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IEpTT04ucGFyc2Uoc29uZ3MpLm1hcCgoc29uZykgPT4gKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXVkaW8nLAogICAgICAgICAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICAgICAgICAgIGhhc2g6IHNvbmcuSGFzaAogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgInVzZXJpZCI6IDAsCiAgICAgICAgICAgICAgICAgICAgInRva2VuIjogIiIsCiAgICAgICAgICAgICAgICAgICAgInZpcCI6IDEsCiAgICAgICAgICAgICAgICAgICAgImJlaGF2aW9yIjogImRvd25sb2FkIiwKICAgICAgICAgICAgICAgICAgICAicmVsYXRlIjogMSwKICAgICAgICAgICAgICAgICAgICAicmVzb3VyY2UiOiByZXNvdXJjZSwKICAgICAgICAgICAgICAgICAgICAiYXBwaWQiOiAxMDAxLAogICAgICAgICAgICAgICAgICAgICJjbGllbnR2ZXIiOiAiODAzMSIsCiAgICAgICAgICAgICAgICAgICAgInNvdXJjZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIm1vZHVsZSI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpZCI6IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly9tZWRpYS5zdG9yZS5rdWdvdS5jb20vdjEvZ2V0X3Jlc19wcml2aWxlZ2UiLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBwb3N0KCdzZXQnLCBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpOwogICAgICAgICAgICAgICAgICAgICAgICBhcHAuaGlkZU1zZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5tb2RlID0gMTsgLy8g5bGV546w5LiL6L29566h55CG55WM6Z2iCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmjqXlj6Pojrflj5blpLHotKUsIOivt+eojeWQjumHjeivlSEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmhpZGVXaW5kb3cgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBsb29wZXIgPSBuZXcgSW50ZXJ2YWxMb29wKFtdLCBwcm9jX2hhc2gsIDUwMCk7CiAgICAgICAgICAgIGxvb3Blci5sb29wKCk7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgb25NZXNzYWdlLCBmYWxzZSk7CiAgICAgICAgICAgIGZ1bmN0aW9uIG9uTWVzc2FnZShlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmFjdGlvbiA9PSAnY2FuY2VsJykgewogICAgICAgICAgICAgICAgICAgIGFwcC5oaWRlV2luZG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuYWN0aW9uID09ICdkb3dubG9hZCcpIHsKICAgICAgICAgICAgICAgICAgICBhcHAubW9kZSA9IDI7CiAgICAgICAgICAgICAgICAgICAgbG9vcGVyLmFkZC5hcHBseShsb29wZXIsIGRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBMb2dnZXJfOC5lcnJvcignVW5kZWZpbmVkIGFjdGlvbjogJyArIGRhdGEuYWN0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVfZGwoc29uZykgewogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBzb25nLmZpbGVOYW1lICsgJy4nICsgc29uZy5leHROYW1lOwogICAgICAgICAgICAgICAgdmFyIHVybCA9IHNvbmcudXJsOwogICAgICAgICAgICAgICAgcG9zdCgnYWRkJywgc29uZyk7CiAgICAgICAgICAgICAgICBpZiAoU2NyaXB0Q29uZmlnXzQuQ29uZmlnLmRVcmlUeXBlID09IFNjcmlwdENvbmZpZ180LlVyaVR5cGUuQXJpYSkgewogICAgICAgICAgICAgICAgICAgIHJ1bGUuYmQuQWRkRG93bmxvYWQodXJsLCBmaWxlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBwcm9jX2hhc2gobmV4dCwgaGFzaCkgewogICAgICAgICAgICAgICAgaGFzaCA9IGhhc2gudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSBDcnlwdG9KUy5NRDUoaGFzaCArICdrZ2Nsb3VkJykudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly90cmFja2VyY2RuLmt1Z291LmNvbS9pLz9jbWQ9NCZoYXNoPScgKyBoYXNoICsgJyZrZXk9JyArIGtleSArICcmcGlkPTEmZm9yY2VEb3duPTAmdmlwPTEnLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb25nID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVfZGwoc29uZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzguZXJyb3IoJ0Vycm9yIHdoaWxlIGZldGNoaW5nIGRhdGEgZm9yICVzJywgaGFzaCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvKiDlr7zlh7rlh73mlbAgKi8KICAgICAgICAgICAgZXhwb3J0RnVuY3Rpb24oaGFuZGxlRG93bmxvYWQsIHVuc2FmZVdpbmRvdywgewogICAgICAgICAgICAgICAgZGVmaW5lQXM6ICJkbF9qaXh1biIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHVuc2FmZUV4ZWMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2luZG93LmRvd25Mb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kbF9qaXh1bi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgiUnVsZXMiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJTaXRlUnVsZSIsICJzaXRlL0FBLkNvbmZpZyIsICJzaXRlL2RsLjEyMzU2NCIsICJzaXRlL2RsLjV4ZmlsZSIsICJzaXRlL2RsLmJhaWR1IiwgInNpdGUvZGwuaG93ZmlsZSIsICJzaXRlL2RsLmprcGFuIiwgInNpdGUvZGwubmFtaXBhbi5jYyIsICJzaXRlL2RsLnBocGRpc2siLCAic2l0ZS9kbC54dWl0ZSIsICJzaXRlL2RsLnlpbXVoZSIsICJzaXRlL2ZtLmRvdWJhbiIsICJzaXRlL2ZtLm1vZSIsICJzaXRlL211c2ljLjE2MyIsICJzaXRlL211c2ljLjF0aW5nIiwgInNpdGUvbXVzaWMuNTYiLCAic2l0ZS9tdXNpYy5lY2hvIiwgInNpdGUvbXVzaWMua3Vnb3UiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFNpdGVSdWxlXzEsIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGosIGssIGwsIG0sIG4sIG8sIHAsIHEpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBhLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgYi5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGMuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBkLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgZS5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGYuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBnLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgaC5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGkuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBqLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgay5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGwuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBtLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgbi5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIG8uUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBwLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgcS5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKfSk7CmRlZmluZSgiRW50cnlQb2ludCIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9TY3JpcHQiLCAiaGVscGVyL0NvbnN0YW50cyIsICJoZWxwZXIvU2NyaXB0Q29uZmlnIiwgImhlbHBlci9RdWVyeVN0cmluZyIsICJoZWxwZXIvTG9nZ2VyIiwgIlNpdGVSdWxlIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBTY3JpcHRfOSwgQ29uc3RhbnRzXzQsIFNjcmlwdENvbmZpZ181LCBRdWVyeVN0cmluZ18xLCBMb2dnZXJfOSwgU2l0ZVJ1bGVfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciAkX0dFVCA9IFF1ZXJ5U3RyaW5nXzEuUGFyc2UoQ29uc3RhbnRzXzQuY3VycmVudFVybCk7CiAgICBpZiAoU2NyaXB0Q29uZmlnXzUuQ29uZmlnLmJVc2VDdXN0b21SdWxlcykgewogICAgICAgIHZhciBjdXN0b21SdWxlcyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGN1c3RvbVJ1bGVzID0gZXZhbChgWyR7U2NyaXB0Q29uZmlnXzUuQ29uZmlnLnNDdXN0b21SdWxlfV1gKTsKICAgICAgICAgICAgY3VzdG9tUnVsZXMuZm9yRWFjaCgocnVsZSkgPT4gewogICAgICAgICAgICAgICAgU2l0ZVJ1bGVfMi5TaXRlcy5wdXNoKHJ1bGUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKGV4KSB7CiAgICAgICAgICAgIExvZ2dlcl85LmVycm9yKGDop6PmnpDoh6rlrprkuYnop4TliJnlj5HnlJ/plJnor686ICR7ZXgubWVzc2FnZX1gKTsKICAgICAgICB9CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGDphY3nva4gJHtTY3JpcHRfOS5TY3JpcHQuTmFtZX1gLCAoKSA9PiB7CiAgICAgICAgR01fb3BlbkluVGFiKFNjcmlwdF85LlNjcmlwdC5Db25maWcsIGZhbHNlKTsKICAgIH0pOwogICAgU2l0ZVJ1bGVfMi5GaXJlRXZlbnQoJ3N0YXJ0Jyk7CiAgICAkKCgpID0+IHsKICAgICAgICBTaXRlUnVsZV8yLkZpcmVFdmVudCgnYm9keScpOwogICAgfSk7Cn0pOwo="},{"name":"Popup Search","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["*/test/*.html*","http://acid3.acidtests.org/*","http://www.acfun.tv/*","http://www.sf-express.com/*"],"orig_includes":["*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":["youdao.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"Baidu_st":"n1","Bing_st":"n1","Copy_st":"n0","Ctrl_st":"n0","Dis_st":"n1","Fade_st":"n1","Focus_st":"n1","Google_st":"n1","Iframe_st":"n0","Open_st":"n0","Site_st":"n1","Tab_st":"n1","UpdateAlert":"n6"},"ts":1503129970048},"enabled":false,"position":8,"file_url":"https://greasyfork.org/scripts/340-popup-search/code/Popup%20Search.user.js","uuid":"30c9e9e5-0d00-4814-8156-fe7fe0ab9f15","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUJCQkJCVBvcHVwIFNlYXJjaAovLyBAYXV0aG9yCQkJCQlsa3l0YWwKLy8gQG5hbWVzcGFjZQkJCQlMa3l0YWwKLy8gQGhvbWVwYWdlCQkJCWh0dHBzOi8vbGt5dGFsLmdpdGh1Yi5pby8KLy8gQGRlc2NyaXB0aW9uCQkJCVBvcHVwIHNlYXJjaCBib3ggYW5kIHRyYW5zbGF0ZSBidXR0b24gKGV0YykgZm9yIHNlbGVjdGVkIHRleHRzCi8vIEBpbmNsdWRlCQkJCQkqCi8vIEBleGNsdWRlCQkJCQkqL3Rlc3QvKi5odG1sKgovLyBAZXhjbHVkZQkJCQkJaHR0cDovL2FjaWQzLmFjaWR0ZXN0cy5vcmcvKgovLyBAZXhjbHVkZQkJCQkJaHR0cDovL3d3dy5hY2Z1bi50di8qCi8vIEBleGNsdWRlCQkJCQlodHRwOi8vd3d3LnNmLWV4cHJlc3MuY29tLyoKLy8gQHJlcXVpcmUJCQkJCWh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2pxdWVyeS8zLjEuMS9qcXVlcnkubWluLmpzCi8vIEB2ZXJzaW9uCQkJCQk0LjEuMgovLyBAaWNvbgkJCQkJaHR0cDovL2xreXRhbC5xaW5pdWRuLmNvbS9pYy5pY28KLy8gQGdyYW50CQkJCQlHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQJCQkJCUdNX2FkZFN0eWxlCi8vIEBncmFudAkJCQkJdW5zYWZlV2luZG93Ci8vIEBncmFudAkJCQkJR01fb3BlbkluVGFiCi8vIEBncmFudAkJCQkJR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudAkJCQkJR01fZG93bmxvYWQKLy8gQGdyYW50CQkJCQlHTV9nZXRWYWx1ZQovLyBAZ3JhbnQJCQkJCUdNX3NldFZhbHVlCi8vIEBncmFudAkJCQkJR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAY2hhcnNldAkJCQkJVVRGLTgKLy8gQGhvbWVwYWdlVVJMCQkJCWh0dHBzOi8vZ2l0Lm9zY2hpbmEubmV0L2NvbGRmaXJlL0dNCi8vID09L1VzZXJTY3JpcHQ9PQoKInVzZSBzdHJpY3QiOzsKdmFyIENvcHlUZXh0LCBHZXRPcHQsIEluVGV4dEJveCwgT3BlblNldCwgUG9wdXBJbml0LCBQb3B1cExvYWQsIFJlYWRPcHQsIFNhdmVPcHQsIFNldHRpbmdXaW4sIFNob3dCYXIsIFRpbWVPdXRIaWRlLCBVcGRhdGVMb2csIFVwZGF0ZU5vdGlmaWNhdGVkLCBhZGRBZGl0aW9uYWxDU1MsIGFkZENTUywgYWpheEVycm9yLCBkb1JlcXVlc3QsIGV2ZW50RnJvbVRleHRib3gsIGZpeFBvcywgZ2V0TGFzdFJhbmdlLCBnZXRfc2VsZWN0aW9uX29mZnNldHMsIGlzQ2hyb21lLCBsb2csIG9uVHJhbnNsYXRlLCBwb3BEYXRhLCBwcmFzZVRyYW5zbGF0aW9uR29vZ2xlLAogIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTsKCndpbmRvdy4kID0gdGhpcy4kID0gdGhpcy5qUXVlcnkgPSBqUXVlcnkubm9Db25mbGljdCh0cnVlKTsKCnBvcERhdGEgPSB7CiAgY291bnQ6IDAsCiAgbW91c2VJbjogMCwKICBiVHJhbnM6IDAsCiAgYWRkaXRpb25hbENTU0xvYWRlZDogMCwKICBjb2RlVmVyc2lvbjogOCwKICB0ZXh0OiAiIiwKICBtb3VzZWRvd25FdmVudDogbnVsbCwKICBpY29uczogewogICAgYmFpZHVJY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQUZpVUFBQllsQVVsU0pQQUFBQVN6U1VSQlZGaEg3WlpOYkJ0RkZNZi8vbGpidFoyMTQ5aHA0emdrS2FtU05ORHlrYXBRS0VINVFDS2lCWUdnSWtwVlFhc2VnaW9rMUNJT0hDcFJEa2pjUUloYkpVbzV3YVVTQjhTSEJBV0pDQ1JRZ0pSUW1qYU5FeWQybk1UZkc5dTd5NXYxcHJiVDlkb0JSYjN3azlhZW1iYzc4NTk1Yjk2TTRiNHhXY1lkeEtqKzN6SCtGN0FwQVFaRDRRTXovUmlwek9yL2xjMEpnSXp1bGhUR25vemptWDB4V016RitEVVpaZFE3WmJqc01vbVRheGEzS1FHdDNnVE9qUXA0YVpqSEd5TjJITm96bzFxQW9kMWhYRHlkeG9YWDBuaTRJNjYyVm1kVEFnNTBTV2hwcWxmS0hNZmh5SUJiS2QvVEJvd2ROcURKNXlDN0E4Y0hZMmh1VUV4VnFWbUFrZDUwU2xkaE1oVS84ZFdiWU9XQXgrNitqb0RmcDdZQ3U5cTk4Rm1tMVpvK1ZRV3c4VmpBc1hTVmtYMlFKRW0xQUxGRURqa1JhUGFheWVkRnB5ZVNBa1J6VVpBZUZRVVl5TEszTllGVGZUL2kyTUViYUs1UFluSytEa3ZSbUdJWFJSRmYveFFsUWNCY0pGY203UGZwRElMTGRXcE5IOU9PZldmUHF1VXlmTHlFdDBZU0dIcTBFNzNkUEp5R0JYejNseGZCNEUxd2Noemp2ODdqay9GV0pBVU9pVFVibXZrdzdRb1J2MHlHY1BHeUd3bkJBRDlQWW1uNWhCejVxY0t1MER3TDJMdkREd280OTdLdDBFREVFMm04ZVQ2UDhXczhYQTVBeU5KU1p3bzI1cUx0Rkp1OFpSbXJBbzhtZHg0bkJwYlEwMUdQUDY5RjhONFhma3pPa2dnTkZab3VZTzdjdWFQOFpZZmRoZ1lYa00wREVacFlKaXZCNDhoaE81K2p3SlFSV2dHbUZqd2t5b3lCN2prODhrQUFidDZCaCs1dncrdlBaV0czcWgxdFFEc0dhRTBXVm9vK1plVHlJdUpKYWlOZHZGM0NDL3NYY2VGTUhoK2RFWEZ5TUFLZlUxQVNsYzBDdFB1TEs4Zm9iSFhBVHUxYWFBcGdQdm4yTnhOV1ZsT0ZCbUxpU2hCL0JDM0tUSTcxUlhGNnBBbCszelkwZW13NGNhZ1JiNC9HNFhHU1h3am1rbzNjNW1lVmlnS1draGFjK3BERFo5K0VjUDd6SmJ4ektZRGx0QjJEWFRONGNhRHV0bFRiMitQRDBjZVQ0RXpBamJuQ1Rsbm41bUtPWEtaV05sRHhRc0lHWUJhTy9DdlN2NGthK3ZkbThjcHdDb0VkN3JKOXYwNHFMZUQ5VDZPNE1zZmgxYWRGN0d6eElFemI5dDFMUHZ3OEJVZ2FRVmpUallndCsxRFhOSjBCVGdTYXZHWFpzQlJSbERDL3VJcVB2MXJERDFjYllPTmtwQVFnbkxBcWs5RWFTYnVuRWxqd0hOay9pK05QOFdnTk5GWWNuTUZzTFg0UG5qMGdvWDkzQk9HNEZRc3hxNUtzS2sxVFZ3QmI1Y0dlRUk0K3dWUEhYclcxT3AwZHpUaDUySVBSZzR2S1dhR0hyZ0NQRXhqcE44THQ1dFdXMm5FNnR1SDVQanYydEZQaTBFRlh3RjJOZ0wrUjB0Ni94TzF5b3NQMXQxclRSbGRBbXJaT25oS1FWc1RYQ21mSXFTVnRkQVZNaDJnUHp4ZjJkT2xwVnl1cGRBWXptWHZWbWphNkFuTGt2ZysrOU9QNjdCSmRTSXdVeVRLV1Y5TUlMaVlSaXFTUVdjdERvR2NsTGlodDdBbEhVOHA3VFBEM0V3TEdhZi9yVVRVUHNIdEJlME1TdmUwSnVKd211b0RJaUt5SUNJYXppR1hwU21hcWcxV2VRMDhiaDEwdE5yZ3NNYXlKTmt6TW1IRjVxZ0hSQkowUU9pUFVsSWhZQ0pqb1lmOHlQWW8zNkN0cC9VdlZybHpWUWN0R3F2TWlyUmlacXZXdTY0SjFXQ2Q1R3BSZHYvTFVQeE53YTNBR2xTa0pLdmFzYUtZajI2allxMCt0UklEV0NiWlZsSTUxUzBEWmpMYVkwckZxY3NIV0Fmd0RuVlN0dmNTdDhNd0FBQUFBU1VWT1JLNUNZSUk9IiwKICAgIGJpbmdJY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQ2VrbEVRVlJZaGUyV3kyc1RVUlRHdTFmYXBPWlJUS2oya2FhZzFWYVROQTlOakhrV0xTM2RpQzVxNndOYytBK0VJa1Z3NDBaUkZCZXVpcmdRRjFKZnVGQmJvWWlJemIyVG1kaW1DQTBZV3l1cHFhbEJUUm8vRjRNM0tFMG1oclIya1FzZkRIUHZPZk9iNzk0elo2cUVybGI4VDFWVkFDb0FGWUFORGNEN2RLQVdGYWhGQmQ3VHZMNEF2RThIb2JzTnFTbUsxRnVDNldQNzFnUWlQNEMzR2VHZTNmZzlaazU0RUhJMzV1YjlldkJlblNpL2ZtMEFoSjVkRENBeTRBYm4wSUxhMUNDR0dsQ3JDc0xoblJBTzdRQXhLMENNTWxCYjNSK1FaUVVJZDdjaDB1OUVZdXdCVmhzL3MxbDhmbklYMDBkdElFWTVlRjlMZVFHK1JXZllkZUxaS0dhSFRpTFM3MFRrdUF2UjRUUDQ4dklwbTE5K013RnFVUloxWm9vR0FJQWY4Ky9CMlRXZ1pnVkN6bTBJdVJ0RkhhZ0g2YXdGNzJ2Qnl0ZWs2RWdtRFdwVlNUcFJORUEyazBhd1l4TjRUMVBlWkNGWEE2aFp3V0tXeGgrQ1d0WGxBWWhkSGdLM2Y2dWtwZFNxeHFmYjExa2NNY2tMVmtuaE11eHRaNGxtQTRNSU9lc2xBVGlIRnJGTEFSYkgyVFVGdHlFL2dGOFBZcEt6Ukl1UDdvQVlaWklBd1k3TldKNmNFTS9CU2diRUlJTlFpZ05DVnlzNHV3WnoxODduUGthbi9DQ2RXMVo5STk2ckF6SElNQnNZWk91ajUwNUx1bGE0Ri9qMUNPNnRSbnowRmt1Nk1ISUYxS0lFTWNsQnJTcFFxd3JFS0FObjF5SitiNFN0bTc5NUVjUlVXM29aL3IwVjc4NzJJWk9JNTByeVl3ekpWMk5Jdmg1SGVuR0IzZjhlaXlJeTRBSzFLQ1VmWGhRQUs3R0QyeEhjVTQycEkyYk0zYmlBcFJlUGtRb0hrUXBQSXZIOFBqNWNIVWE0dHgzRVVJT1FxNkdvblA4RUlFb1AzdFBFZWdLMUtFWFo2c0E1dENWMXk0MzlRMUlCcUFCVUFOWkR2d0RlOVl1QTNqcjNkZ0FBQUFCSlJVNUVya0pnZ2c9PSIsCiAgICB0cmFuc2xhdGVJY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FJQUFBQWxDK2FKQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUV4a2xFUVZSb2dlMlkrMDhVVnhUSC9kTm10WVJId05LSERXMXRJV2wvc0sxUWJGb1NpdFhhOWk2NDJ3V3hLSUsweXNPQ0xCU3dCU1dRc2xwYm9ENTRTR1ZOYkFrQjBjcWpJSWljKzVqVEgyYjJnY3pNN283RHpwTHN5ZmVIemV5ZG1mTTU5OTR6NTU1ZEVvRWRyVjIyZTVBRXNOdURKSURkSGlRQjdQWWdDUkJwUkpvTER0YXpnZ2J6eW05ZytmWDBqZStvRFFDZlhHREw2MmlKQ1JsYmhuaGNBZExkc1B6VUd1K0Q5dVZQTEg0QStRMDBHcC9XTm5CaEZSZlhvZ0xvR1JVSkIxRFp5eVVDKzA1R05ianZUaExBTkVEUG1DaHFZVnVWVTBVbEFxbkhvYWlaQmZWWlFPNXVuaWdBdFFObWNraHVEVTBVZ0o5SHhLRW1GbFNoampMY0lCSEk5RUJoRXl0c1pLV1hFbVlHb2pFdU1LdWNTZ1RjM1N6aDlrQTBkbWRHVnU2OWZrOGtOTUJYSFN6RERWa2VlTFFzaDE5M2R6T0p3TXNWRkxRbklHRUFScWZWU0pkZkRubTZzSXBwTHBBSW5Pcm5lamNtQ2dBaUhtcGlFb0dYU3VIdmY5VkpJRjFNSXBCU0JnODNUMHVDQXZqbjVEMmxJQkg0NEJ4bEhQc25oSU9BUktDeVZ6ZjhpUVdBZ1crd1JLREV5MUtQZzBUZ3RVcTZZbGk5eGhXZ0lCTEFNNHE1TmFFcWY3Y1RodTVySng5N0FBb2JkVkpKd0dhWDVBUG5RZ0JwTHVpZjBBYVFBNXFhbDFzR2VUUnFIdVRGRnlQWDNpWUJHTWVMd3lMZEhZcTk4aU9sREI2dkdGUEhacTNERWVxWG1BRzR3Ri8vRXVFcnA3aVZQVmlTbTM3bmFTNGdYUkVtTFZhVEVkODVZM1FXalFGZ2JRTTdiMjV5Zlc4NTdSMFh3WlE1c3lpUFRPc21VTk5XMkdpMGtHSUF1T1lYanNCU2NUaUJkTEVvVDJHSkFvQ0kzL3Y0bmxJbzhUTC9uUFdSamdlQWtIRmhGU25IRjJsVnpEL0JzV2w1YkZxZW1KRTNvaWdYelFOOHJMV0pLY2NTTDN2M0RKMWZOVGtKNFkySmxrR2p6L2FMQW16OUVpdmVLLy91cjZielQySm1XRnpEbExMUUsvSnFJMCtCZVlDM1R0TndCOE85TjgxdzRRODFyNzk1U3MxbUU3TVJubUFlUUNMUWZvUHJlVytDUVpieDdkTlVJcEJkUWU4K2tKWGlUKy9zWmcyQWc4RFJkdFk3THI1b1l4S0JUSS9HbVAzVjFEY3ByazZLcTVOaWRza0k1dGFVV2doVjkzTkUvUEE4bFFoa3VPRXBiQnZBYytxYkVBVU5SbzlyKzlOb1UzN2R5U1FDRGlkTUw4aUkrTXVJeXRNOWFsUUNXZ2x3L1o1WUJ6UmdNQUJZV1VlbDVENVlyMjdjdFEzMUJQZlJlYU5WWkNYQU5iOUF4SFhBb21idGgzcUhkUUhhYjZqYnR5Y3Mzc29oenVHRXFYbmR0V2Nsd0c5KzlkMk00Mkd0UGYzS0NmclBZMjFYM3ErakVvSDB6U3YrOXBSNnRxN3EweVhmRmdDRlFZbmZWb2E1LzU1bjhNK3BqdTQ3U2IvdDRVRzV1cmx5THMydW9GUUh3VXFBRERmZFd4NVNsa2U3ME0ycG9nODNNMVJjanR5V0hMaXJ2Wld0QkloZU9WVTAySnQ0UmxGQmRSQTRjWVdmOWZFNkg2L3o4ZG9CWGp2QVAyOVYvZnYwUisydGJBK0F3dkJvUlViRUsrTnF1anp3ZzBiaHNMS09xUzZRQ094Mnd0YTFaeWRBYmcxVkRnejVnYlRiZFV0N21YL1RxUTZvODJrTXNBY2d0NFl1cmlJaXppektXZVdRNllIc0N0RHJ1QXpkRjVrZXlQUkFYaTBWVytiQUJvQzhRT3d0c1hnREJHTy9Jd0h5YXVpQ3BkN0hHOEM0bU5zQkFNV3RGdmVGZ09HcmxXYjdRaWJrSU5CeE0wSjdOQ2J2blpjaWRCZTNKUXU5ZDVZZTYyRGhPdHF1cmNOdHJNVExTcnpzeU9icnh6cllrWGIydW1Ic3R4RWdua29DMkswa2dOMUtBdGl0SklEZCtoLy80b2ExSDY4Um5BQUFBQUJKUlU1RXJrSmdnZz09IiwKICAgIGdvb2dsZUljb246ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFDQUlBQUFBbEMrYUpBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBRmNVbEVRVlJvZ2UyWlcxQWJWUmpIUTdIV1M3VmlyVTZkNmZpaU0xN3FpMVdyNDB6ZmJNZHhuSmlXQ2hRS1ZPcVVUaS9UQVFGeEZIRHE5S2JZMHF2YURwWmVvQnRDQ01SeWI0R1FBaUVwaENZMDNJSmtBeVEySlpCc0ZzaHRqdytacnN1SkpIUjNtNFV4Wjg1VDh2Mi84Ly9ON3RsenpuZDRQSVMvdUR2M0RzSUFYRHNJQTNEdElBekF0WU13QVB0Sm55NkwyZFNjbDZNcExqYklibGwwZDIzR1B2dG80SzYxb1R1VnA3a0hXTitRVVdLUTRaNFpNTzlHQUtKcVRQVjJ6WDZPbjhCTEZVa0lLdmNTQkFDZ0h4dkwxWlo4MW5Kdzg2MGorYjBTaTlNT21SNTNZam1hNGd6MXhRejF4WTFOdVl5R1pzWDlCdzJacG1tcno5d1JuZWp4MGkzVWYxZVdKMVNPZGtBTXRlYXVwMFJmc0RBNjh4VHI2dEpzTHR4bjY4eEExWC9HTEMzZElobHBoeGdRVkI3Qk9VQlVlZnlRdyt3emhMbW5ueStQbnl2eU9mRTJBMzRQWXRqZWZweGpnQlA5VXRLTlpLUTljSEJjV3o0RU1PUXdRKzliU0FGV1NSS25QRTdTemNFZUpIQjhwRkF3aUprZ2hvODVuTVI3Yi85R3RaTFdWUmhVOHUyZHl4REFvYnNpemdES2pLMVVLOTlycmdhVnZGV3pEd0lRb25MT0FIcHNLTlhLZVgxZFVNa1NvZUQrN0dWQk90ckJHUUQ1L2ZFMXBYVmdQaXFacFllcUtqSElGc29UY0JPZWxaS0VvS3ByYUF0Vmxhc3Q0UXhBTkhzT0FBQlNsS2VDcWk0UE4xRWxIOTM0aGpPQVhhcXpFTUJ0NjJDRThQUEFxaHBUSnlWZUg0RUVpWCtFQUN2RTJ5WmNEb2dodXZWWUFNbXkwbWh5RW5zSTc0YWIyWXpjTXdUZ0lmek03aUlJWUd6S3Vyb3llYTc0WkVXQkw0d0E0RURYQmFidW1RTThKaFRVbXJyOFg2UVhKWW4rd2UvVnAxdGREZ0NBRnhEcDZ1Q3JYaWdBZUFqL0dYRnN0ZWsyeERBeWRUOVJjWUxjTUw5Y3VlUEhIcUZ2MzRHNXB3VHl3K3k0WndXQWgvQWpoWUkwZGFIVmlVRVl1R2RHYXpQb01aUHZvQU1Bd056VDZ4c3lXSFBQRm9DdlB5dU8vYkxqMURWVXJyTVp4NTNZaEF0RGNRdUV0RXQxbGszMzdBSkFQUUxoYjFjY2h3QldpT01XRFFBUDRSY09OVUFBYTZRcGl3bmd5bkF6QkhCcHVESG9TcmVBQUxMOFZna0F3RFcwWlhsWnpPSUFXRjJaN0hCUCt6Tm9iZWdiMVhzV0FRQVA0YWVxenZrREFBQW1YZmduc2g4V0hNQVRvcTN2MTMrZG9qeDlSRmQyMWREY1lGWjNUZ3lSaXdEVTNJUW5XVkd3SUFDaXl1TlRWZWZxekdycUdSOEE0Q1c4a3k0Y3hTMG9ibkVUSG44R0wrRmxXbGxoYnYybjNuTE1QVVY2MGp0TUovdi9qR3Y3ZVczTnZ1VmxzV1RwYWwxZFdxOTl4SjloeHV0NnB5Nk5HNEJOelhsakR5cUtBSUNPOGY2TnpYa0J2cExMeTJJdURUZjZNN1RmNzZOL0txRHRQa2xSUUgwckR1bEVrVUxCZklUN084KzdDUy9FUVA5Y1JrKzI0V2EyeS91disxTUQxeDlLSG4zcktEUWxnaGJGMkFSWVdycTV6ejVLam0yWnNkTlltQTUwWGFBQ0lMU3JRelEwVzF1UFVjZis0NjhiTkpJc0VRbzBrOE5ra3FveFZlZ0FyaGhtN1hDeXVvdm9qZjJkNWdxWjVLcWhPWFFBWFJORFZJRHNPNWZvalUwdFZ0Tk9RZ2NBcW1jVjB5MnQ3ZWc0U1NaWkc4bzdzbnF6bWdwZ2MrRUI3alVDOURNRFZiNE1qZmMwTk4zVEEvRGZKUCt1cjMzWUpGSGwyOGFkR0FEQVRYamVyVThQS2NBTGt1MlREeTdGeUphakxaNy9haG9wRkNDbzNDZk1wUHNOb0EvQW85U25xRTA2cG55dGFuZFE3U3BKb25pa3pTYzVxaE16dmVlanJjenFMaUlBdkU5MkV4N0pxQ0toL1pkWHBEdWhCN0tzTlByRGhzejh2b3BKbHdNQWdIdG12bEtlWVdTZElRQVA0WC9hY3RELzRwRTZ1WFYybzJLOFh6aytNSWlabkY2MzczY3ZJRVRHMWxldnA3TGduaUVBRCtFL0tkcTZXL1dyeWpvNEZ3YTFHWEhMOGI2S042djNzbU9kRlFDeXI1R214TFhsSDlhSlNneXl4cjgxblJQNnpnbDkwejB0Z3NxUDZzUkppb0xYcS9jd3JhUS9VZ0RPT3ZjT3dnQmNPd2dEY08wZ0RNQzFnLzg1d0QrbGkzQUlUK0VHcHdBQUFBQkpSVTVFcmtKZ2dnPT0iLAogICAgbGlua0ljb246ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBQ0tFbEVRVlJZdysyV08yL1RVQmhBeitlRUxWTHRaT1VITU9iUklUK0FuYVVNVERBZ3dWRGNSRUpDRVpVZ0Fna1lVSnhrYVRjR0pJU1VvU05qMlp1UW9XUFpXV0o3Nk1DUSttTklnaHpuVVllNFZLcml5YjZTZlk2LzE3MWlkVzNsR3E4MDEzeHRCRzZXZ0NDZklEaThFQjBhbW5vSXV2dmZCQlJldTBXbkhsbzZzWHIyVDBGZUFlYVZDaWhhOVlvdEI4QThzZStLYU1ZcnRZKzhZc3V4ZWphQ05CWkdiZDA1RUlibmVwV0dvcFZ4T3B4QjBha0NXRDI3c2toaVBRSGh2VnRvMXFMd1VFMzhsY2oyS3UxNU5iRk9DbndWNDhNaStEZzZGYXY3N0x0WGFoOFI2Q0VHaVFxY2V2bUdINEovQnZGbi9sTHhBVlNOdEJBa1dvVDVDVHdTYWlZU2lsYTk3ZmJ4aUJTOFJOZnZBbCtRTTBYelFDWUtIK1dkak00cFRvR2Q5ZHBRT0ZBeGFtNis0VnRkZTE5RTNrVGg0MnAvdEtnei9sbEFFR2RRQ0xYVVluaGpGWGdzZ1huOWZCbmM2bGROMGVBZDhQVFM3eStiQS9QZ0tuUzhRdk4rRkQ1K1BBZE9nVHZMeG0rc0NLalFjUXV6azB6Z0xBb1h4RkgwTVpBQnlvbnNob2JxeDFFZTdmTFVHRldlNTM1VWhxcVlndXhPb3BUdDdaVlhoUzhWQ0M1U3YwYzMzTWFZZmtkVjk4TXBzdnBWVTBaaFQvQThrQXJ1QVgzM1BIZGticmtkMGVrK0R0ZUhhUEFpYnM1WEtjS2hCUHBnc04zcXlIRTliVzY1WHlZU2NYZTZkUVZtSkt5TXV5TUcvcURZL0pZRVBPNTIvQXVsN3BhYUIrSEZiSGV2aGxBSGJsMjFBTUJRNFcxS2c2K0JHbWtNZVJMbnZKZWt3T1pZdmhHNHVRSi9BTm43T1ZHWkszcldBQUFBQUVsRlRrU3VRbUNDIiwKICAgIHRhb2Jhb0ljb246ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFDQUlBQUFBbEMrYUpBQUFBQ1hCSVdYTUFBQllsQUFBV0pRRkpVaVR3QUFBRnpFbEVRVlJvZ2UyYSswOVRWeHpBOTE4MWhEUWhKc3RDVEl3eFpqRUxNY1RzcHFVaUtBU21kajRJd2h3K0tnUVp6cW5JaGdKdWdEb2tSdGlNaXFLTW9EeGtuWW9Na1BlajBBZDkzczkrNkwzdHZTMkNoVDVHMHBQejA3M2ZjKzczOHozbit6aW4vUXhCczZYN1p3blhJQW1RYUEyU0FJbldJQW1RYUEyU0FJbldJQWtRdTlsMUtWc2FJQU9iaUhPVzltTDBXeEZBbjRVRHFWa2VZdGh5QURubjhjb0FqaGRiRUtDOEw2QStwbTJ4K3NvR0FiSjJZZHk5cGt3YS9VNUovNG5xMkdtL01RQXRMK3dBK0xCTjh1QWt1akFadzFGY0FJaFdTclQvTndBTmVlZHhFMnpENTBNRmZqQkxyOHpGYTA2VmdyR1laMzJNdm1QZ0FhYTFWeldLQUlLR0M4OFFaUURmSkxuS3Q3dVo5Z0c0MzNBb0xCWGtaUExUVmJwNm1aekg3U09rTFprNW14NFhBQ0dWaG5mU1Y3My9rcU40VmRibDN6ME1OdEp3aGJ1MzZYbkoyQVJXQno0eFZPUHdKbG81RTRIVGJ5WUthZm01bXhVbkE2ZUNEL1U2TENLQXpVcUl0aDRITThQMFB1QzNpMVRrOCswZWN0TEozOHZsQmhZOFNqa3VmUkVmZ1BDZVJxY0ZmTHd1UjZmQldFcm5jM283YVB5ZXdyUzFCaGJXQldsdDdSRmw3cWdDVlBiaVdxQitYOFFEczRzSnJFSFgvb2pHUmhGQVM3V0praUxLOTBZOFZwK1BsRGE4MU1USmlUL1M3MXNCbGdjcGppVDdCZ3VuRlVvanl4dWZCbEQ1bkxrUDlMZGgrbktkUmVoZWtYYUNlNGdESVcrM1VYS01pb05raFEvTXhKOGJ4U1VLSXpQWnB3RWNiMVk0MlZ0S1AxOWRUUGMxVmxHS29VT2xzblYzVWR2QzJEeUJvTytkb0RBa1AreVZBSHlUSElvRmdLRGxpU1VZNkZ5RFpLOG1kclpiVm5HYXg0OTRQNGJOcVE2bUlyWVAzTTRQRy9zVk52L0E5NnFVRWowQURYcUIrWUFON1p4TURUTi9waVRnc1JHU1lWMVdKczIwWDZUZ1kvdGJCbkIveERSUkFCQTBGRlpKSlpwM05NeE9XbHFuQUp4bWpxU2kyOEgxWmhiOEJ3SVhWZXNtcGd3SndQbGlOUStKRm9DZ3dWakZ4QlQzc2tLZm16b1J3ZEpGdm1Kei83NGtyY0RZdWZWbWxuM0EwYjVLYlJ0TmdOQ3VSZEJ3b2hHWGsxY1ZvUm0wZmtZQ2VLb0FQcEJCZFNWTnRWdzdyREMySElYc2R5UFZZUk1BK2t3RzdtUFE4a3M5UmF2RnBib0p5WEY3R3ZscmdGa0xIclZ6ZUJlcDJvNmdRU2RJZWNEV0ZFZUFtcmVNbG9jdVNORXhXdTd4OXpBV2U2Z3JLNXZQZzJzRjZ4eXRXUWdhOVB2eDV3OXJRN3dBOUhuWTNOemN3NTFCWm1kWnN1THloSmFmZ2JaaVlYcUVvV2UwWHNha3d4QjJTQWlVRXN0MThRRklvZkVEdm1ueU5SaXJXSEFwZG9XVHBXbmV2K0xQT3A3Tyt5TUxaOVlzUlFVTkJxTjB4TFBVeGdYQVlNUXBzaEQ0V0FwSGNqaTlENzNhdExYam9LNE9Uai9HNThNK1JkdGhsZVNCVXFrYXRkVEVBU0NWdGprUXVaY1JmTmcwaFd1UjdrcFZJUElES0pOR1ZvR1VTZkJ5WFZGMTVsWklEck40TGZZQXVXZndnR2hUSmVPelBWTEE2Y2dNQlhBcGM5Tk81dVJpcVg1SFVESy9SdktmK2N1eEJraWoyd2JnZks0eWRzbGpmeDVTYlhjL2dLMFpRVVAyYnNxS2FQaVZKWi9rR0dVS3llTnRrZ3ZOUkh5SkZDSEFpUmJKVk1PS2M3Q2c1ZEV5Z0tNRGZScEZSbTQxMGR2UG9uOWYrMWFKVHVJTWVZcHBBOWQ0RTZaWUF1UWNaVW1VZExxaDJBQjVKanhoS3ZxYng4SGNLQU1QYWFuR2xFV3VsaXNqQU01TzFRTGVtSkxrUjc2TEdjQ1JLN2hrUzRwV2pJcUFVeit0VXRycllMeVBPK2NvV0MxNkZ0UWl3cmp5TGt4THAxMGErOW9ZTTREaVA0SXF1dnRVdDgzVlpza3ZGNGU0cGx0dnFuUjZScWhXSG55M015VW43U2RDekFBTXg0TFhpZk5YVmEreWpjek0wbm93MG0vTHc0L0xNNHZjMmhrekFHRWJBL0tGODZ2d0k5VW0rcVYvWk1PNE5uQVJINGtURjkxSEJFU2FkbTFjM2ZJT1JsN1NVa2FlRmtIRE41VTRaZGZ5VGFqdldLTU9JT3hrM0FNdUxtem1CNHZ0ZEMvSTdxNE9Yb3MzTnpCaGhIbWdzQnp6M1UzL1hwUk9yelVzNHZwb1h2dk9KaW9BMGVyNi9TeXIwNXZiSE9sOVJFSUJCQTAvdmxFbVBCbzJZdjZFQWhpTWNtVXEwbjlxdy9NazhLOEdxZFFQWVYrZzQraG01a24rVnlMUlBRbVE2SjRFU0hSUEFpUzZKd0VTM2Y4REw0RTJ3SVl6K21jQUFBQUFTVVZPUks1Q1lJST0iLAogICAgeWFob29JY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FJQUFBQWxDK2FKQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUQ2a2xFUVZSb2dlMlkyVThUUVJ6SC9aT1diYkcwVktPSVVhR2xCVVVRd3FFY1VRd1N3Q1BSUk1VSFRUVHhGaFRxZ3lRa0hsRjVzWkVFMUNlUFJ4V05KOFlhWldkdjZOTHRzWWNQcUxUYjZaWnV0NHdrTy9rK3p1ODMzOC9PZDl1WlhVTmcrS3JXR3VRT0xBRFVEaXdBMUE0c0FOUU9MQURVRGl3QTFBNHNBTlFPTEFEVURrd0dvRHhWWEc5Zi9nS2w2OUFBeko4OXA1b3g2SnJ0cXh1QThsV2pBWmc3T1NETnptb2s4N3lPVndtQTlCS3Ewb3NHQUNyZ2NFYWZQY3NFSU53WXp0Nmh4RVZWZWcwTE9FdnpBaUF3SE5qWFJwOCt6YkFGRXR2ZW9WOU8rNnNOcDFGbUdMSnNVNzRBQklhRFlrZnN4VXY0R2lSSmxwWHJsOHVBTkdKZlVianVubndqdE1UZ2NzZW4zMEVYaXIxOFJlQjJuVm94R0RUZ2YyRjBWTjlTem45a1pGbTVGUG9CWFV3SUJQUkRDQnpPZndwZnZxSXFpdVpoUng2T004MnRvTlQ5YnhwUlpETVpnTUJ3cXNvdmN4eDh1M3Q2czNmQTdRdGpZNXBTNmVkUHRxUFRnQm1EUndsbTl4NGxGb01neklkcG4xOXZIMHBjMGFrcFRaWDRLQWpjNjQwNU1YNFc0bzhlMDJaQVZWVlZUWHo1Q2x4dWFBbTVzU3orK25VS3NDak9IVDhCblR4M2NpRHljRndZSHBrL2ZZYnY2MmRhV2ltdkR6aWNwZ0VRR0M0TWowQmZodWprWkhwMkthOVAraDVLUWYzMmpkNWVtNm41d3EzUjlNNXM1MTR6QVlnaVczUlNtNGZGRWI1OE5TVnl6UzB5eTZaQVRqM1JQL0NsQXlpaUNCd2xwZ0pnT0hDV0pqNStnaERJTXRlMWYzRU8xOWV2UktOSlJoUmhjQ2pyejBzNlFPejU4L1JwSnR3SHFFb3Y5TEFrOHp4VjRaay9lMDZWNWVTbnlCODh0SnkyUXVDbWRsZlBYeWdJQUlIaDdONnVaSmRMREV4S2JHU09ZNXBhbHRsVEdBbG91dEgxdXdvRlFHQjQrTm9nSkVqSjdnR2dxM080SkdnQVpJYUZwczY4S3lWdXozUlNXb3dUN2EvSnFhRUdRSHc4QVoxbTVwMlkyckpOamNlaEFQelJZN2wyRTY3ZlNPNHdOM0NxNEFBRWhrdS9acUVBOU03NlhGdHBNa2xWZUZZQ0lQSHBNeHlndGk0ZkFDa1V5alROYklEMzd3c0JFTGw3YjRVQTR0UFRVQUNtdmlFZkFMNy9JR3FBcHVhY0FTNWUraHNnaVZ5L1lhVUEzc0h2YTFrdnplbGkyem9pdCsrSUV4T1IrdzkwcHBuOURueitBZ1hnOW5lYnUxQ2hBR1NHZ1FMd2h3N24xcXJJeHJhMVV4VWU0SElUdHVMQ0ErQjJhc3UyOFBrTFVQZXFxZ29qQWJwbUIrMnJYdnJhczdWQ0o5a0VidjlUcVNqeE4yOExBR0Fyam4vNG1KaVprYjZIWkFDVVNDU1RkWjJSbUpuSkRxQ3FZakJvUGdCVjVUZmdXRFAwSG0wU1FIaHd5SHdBY3RObS92Q1JSWEc5ZlZ4M0Q3ZXZpMjN2WUZwYW1ZWkd1cmFPM3JGVFQ3VjFURU9qL2hkc3F0TExORFZ6M1Fjb1QxVUJJdlRmeUFKQUxRc0F0U3dBMUxJQVVNc0NRQzBMQUxVc0FOUmE5UUMvQVZqWU43K0QyTEtWQUFBQUFFbEZUa1N1UW1DQyIsCiAgICB3aWtpSWNvbjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBSUFBQUFsQythSkFBQUd0RWxFUVZSb2dlMVkrMU1UVnhqMXo4cG04eURoL1JSQlhrYXNFSEJHUlVDMEJZRWc5VVVMUVhrTEJJRldvU0RKUGdJSWFxY29PQW90cUlDMVF3UVJLWkNSQVRVU1FpQzU2UThyYTdoSmJrSWtaanFUTzk4UDJkMXpiczdadlkvdmZ2dHdEdmEvam4xZVYrQXo0RzBGUGdQZVZ1QXo0RzBGUGdQZVZ1QXo0RzBGUGdOV0YyMDNiL1YwZC9kMDl6RFIyOTNUMjJNL2prblRSQUtobXFiVk5LMm1hSnFpYUlxaVNZb2lTWW9rU1lJa0NZSlVFWVNLSUZTcWpCTW5jUTdXMmRGQnFGU2tpaUFKZ2lSSWlpUXBrcUpKaXFZb21xTFZOSzJtMVdLaDM5RWpSN3JWYWpWTjB4UkZrUlJGa0NSQkVDcVZTcWxVZG5YZDdyeDlWVjd1ME1EaTRxTEZ0VlpjVkJUa0h3QUFjQVZjVlZHSmM3QzF0VFdueU9DQXdOTloyV2pNMDdFeGh3WW9ralNielFneUFPRFowMmVWMXlxaUk2UDRYRHc3TTZzd3YrQjZiZDNFeElSZC9NejBqTHlzTERiNkFNN0IwbE9sNTNMemJuZDBiaG8zb1Q3SG56K3ZyS2pJekRqRjUrS2hRY0cxMVRVYWpjWnVoLys4ZkZsVUtFUE5nYXlNVSs5WFZ4MnB2MUQ4bzZPeDJOcmNBdUZOSmxOWWNJZ3RzcUcrbnNVWWpVWlpRYUhkRHVXbFpkWnZFd0RRMUtqZ1lWem5remd4UHVIZHUzZTJCaVluSmhDVHlZOHZnRWFnMld4T2lJdXpSVlpYVnJJWVpuUTVDalZGczhodXRkcjVKR1lqV1NLeEhiS3ZaMTZqRjRTU3kxY2dpa3Fwc29WTlQwOHpUMTlwWGdsd0hxTER5ZTJSYVRRYW84SWpkbUVBNTJEblpVWFFIQVVBbkR4K0F2Ri9RaDUvYVduSm1tSllOMENqS090VUp0dGJaa1lHb3JlMFZDa3JvTCt2enhFTXRRK01EQTlEYjNSb2NCRDlFYTZWWDRVb2lvWkdhOENmSXlQTS9lRW5UOUJkM2Uzdlo2MUtVMUxjTVhBc0xSMzZDR2F6T1RFK0hrSHhGNGsvZlBoZ1RWbFpXUkVKaEo5ZmFrb3EweUVBSVBXb1EwMDRCOXNmRWJtNStYbXhHbjgramtBNjJZbEhoa2VnTjZyc1VxSXB2N1MyUXBTZnJwUXdqd1lmRGpKM0hnME5vVHRwYVc1bTZZWDVCZTRiT0huOEJQUVI5SHA5Y0VBZ2doSWRHY1crUEtiTnpzN3lNTzUzaDVPWlpSRUFrQzVOUS9RZ0VnaFhWMVlZcm5acENUM1JuZWRDa3phYlZFMVZOWnB5Lys0OWlQTDltYk8vMzcvUC9CNzlheFJOdjN6eEVrdXNxNmxGZzUwYk9KZWJDNmxaWEZqZ2MzRUU1WmcwRGZwdXIyZG1UQ1lUOC90MFZqYjZIelZUVXd4eWZYMDlOQ2o0YXczd01PN2J0MjhoRDNrLzVLSlpmNzk0WWJIWFhtazBhS0wxb0NVSndxazhsOUxwOHJJeVNNZm9xSk5oVUZ4VVpOZkFoZUppTlBIQndBQ0RCQUJJa3BMMnhrQ0FTS3o3K05GYUJ3QWdXWElZUVJIZ1BLMVdDNm5YYXJWQ0hoL0JpajBRdzQ2MGtlRmhWN1M1ZXFCcGIydUQxTkFVaGFaVVYxWkJsRStmUGdXSy9WMzhsN001T1h0cElDNG1sbjAzVERNWURPZ1pGaWoyLzdoelU3TllMT1Z5T2VvNzYzUU1iRzV1empieC9Db0RPQWQ3TkRRRXFhbXRya0hnQlRqUGR2YS9lZlBHa1RKNWFha3JQdDAza0pOOUdsS3p1TENJV0U5L0xpbXgyR3M1MlhhV1VSN0duWjJkWlFBNm5TNUFKTjU3QXp5TU96OC9ENmx4dEo2S2hYNTJEeFVXQjJsY1R2YVhrK1J2N2UydXE5cGRWYUttcWhwUzQyaGJyYXV0WlFBbWsybkRZTENtbU0xbVNXSVNoSC95K0RHTFB4Z1Q2eWtEWWNFaEd4c2IxbW9BQU1tSEpCQXNKRENJWFhiNysvb29nb1JzVStTT0ZTd3BQb0U5UFQ1ODhHQlhrblpkRjdyVGU4ZEdEUWxoYnYxNmszbTB0YldWY0RBdVdTS0JNZ3VEd1JBZUdzcmlWVjFLOWhINnpMUUhCbXp6SENoamlZNk1NbXlQR1RWTk16ZkhSc2NnMjAwS0JmTW9PQ0JRcjljek56VlRVN3ZWNDA1bGJtbzcyV0tiZGM3SW5zU05SbU5NOUFIbVpuNWVIa1JaWFYwVkMvM3duZnZkNVl1WHZvVUIyL1Z4YVR0clA1U1F1TFcxeGR4VWRuV3hGQUhPMCs0OExsc3NGbmxwR1orTEx5d3NNSmZXWnpmUEd2RDNFN0ZiSnR0a0JRVTRCeHY0WTRBZDVWRVJrZGFzK3JyckVPWGYrZm5DYy9uc1pjdU5aamZFdUZuYzdlem9nTlJNVGs2bVM3L1VFZHJiMmlCS1dFZ290SUpaTEJiMkFMMjV1YmwvcDJIUEdyQmUrSmdHQUdDM09mMmFQandrMUpiVjI5TmpjZEQ2Ky9yZFUrSitlWDNZcHVqQ3R0YVdGcnVVMUtNcGR1dkJBQUJwU3VxM05uQTI1NHhkOVRxZExpUXd5QkhMYmhsNFloeFZPUEdVQVI3R25adWJzMVhUV04rQVlKMlgyVG1wT2FydmV0WUF6c0hLeStTUWxQZXI3OUZIRmlHUHY3eThiRTNSYXJYb3dva0hEZmo3aWFBNm5OT0tDODdCYmlpYXJDbDF0VTRLSng0MGdPOHNvUzB2THpPYkt6cWl3aVBZeXBmVFk1M0hEVVNFaHJHWnoxV1hqMUgzdGl0ZnRvbmd0emFBYzdEek10a05SWk9pb2RHUEwzQ1JJa2s2MU5Tb1VEUTJ4dTBtOWZlVUFlK0d6NEMzdzJmQTIrRXo0TzN3R2ZCMitBeDRPM3dHdkIzL0FWaUFaZUhzS0VDZkFBQUFBRWxGVGtTdVFtQ0MiLAogICAgamRJY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FJQUFBQWxDK2FKQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQUZpVUFBQllsQVVsU0pQQUFBQVFDU1VSQlZHaEQ3WmhiU0JSUkdNZlB6TTV1dSs3cWVzdmR6RlpMTFRWck03c1FHQlNVcm9GMm9TSXFncFNLSG9VdVVQWlFrYUVTZEpHS01oQ2tTSko2VXBDS0Fydlp6VXNHYWFacHBaV0tyZXV1ZTVtWjA4WWV4clJ4Wm5jTlp4Ym05N0xmdHpQTW5QODUvM1BtbkE5N0RUUWdrTUhSYjhBUzhBTEdMSlFPTFo0Z0lIaURCWHNDeVVKQ0l3a1FHa21BMEVnQ2hFWVNJRFNTQUtFSmVBRis3VWJoOFBmYzZLKzFuaVFodFBOVlFxemNrekRBd2FybXFId1NaU3hnVWJPeEJVbUtwU3ZWcTlkR3JsbW1DWk5qNklwWENMOGJoVCsvMGZVUDdSZUtCcmV1YjRzTWE4dzkvUGw1SHdYUlZlOFJpNFhvbWlzREdZbE5wc0srSHJ0UEtxYkZRanBUeVBGTU9YTUxSZEsyWWZKSGo3UDFyYk91OVovbUdsUzNhcE8yeDhrNExjVllhRm9FckRpM3NQNkFpdkFrNDZGdG84MTEzOHBLekJYdi9sS0NFeVZQVXdzV0VaUDdRelFuTWp4SWxiWTU0Y1pUWThkTnpTcW1NVFI1Sk9OOXhSZmFDek9KWkE3Z3hOeU5DeDYxUmUrUFFYOEF5clZ2MDZkMkI2OEVzVXhpTjVoOFZ2U2x4N290S3BTRE52UGVhellYU2laRFJBTCtRT2hqcnBZcm1GSmJRMUZYd3dqM0lJaE1nSHNjSWpiTVBUSVBKY0RpT1AvRVJhT0VGZEVKQUVDdTNwTXZRekdBTlpYbVVhNHhFS0VBZ090TnFqZ1VBMmZENEJlT0hZa29CUUJpbGpZWmhRQjhkM1J4RFlFb0JXQXpsQWIwblhKRGYrYWF4NklVQUhCWmlCcUY3bWt3d3JXVWlsTUFoTTR4MzJOS1prcXpJRTRCRk5rL2hFSzNnSmxLam4yZEtBVlFaa3NYaFdLZ0l1WnJBa3dBdEgrME5LRVlnTlNRT1FvVXN1R1hBRWpUVEFjQkdZYjVkQmprQlZLdGxjNVJsSUNVelBCUXJrYjZOd0lreWJ3QUtHVytuV2I1b0gvMWwxWXg2eWErYzBmUXhMUEdPUHdTUUEwN0JsQUlRSVJTL1I5OUNNblcwcjU3elBpdWlzd3pjRC9kbjNkRDU5ZlJOaFNEMkNTVjZyK05BTFM4K0xqdElyTjV3dytWUmtkeHJhRnUvQkZBZDk1MU1YMWtYQmZFZWxiMEhXaHA2c2pKdEhhZ0ZNVG1HUW9YRTN5ZDQ3c0FhQjBxdThONGxOaXhsUGNkWGtBNVc2Ni9YNVpocm1jZWJOVFdGRWNFOHpmUFZ3R1FiRHJiVTI1R21TSmJseFUrbGZaRHltcDdkYnQ5VjFwTFdvR2Q2WHVRckttdlRVajJ5cG84VlFsNzNkWCtZSk11M2FDWWdkSFczcUhxczkxNUZXTWVQZFZvUEpiSVd2OFlWNVhRNTJoUG14U01tV2tTMnN5dTNtN0h1OWVPbXVhSkd6Vjlkc1Q5aXJnVU5YZnJ2UzJyakJRdC9uQ2lFeVVUV0Y2WStQaW9kcExQUEc5cGtRMWNkdkR5dk9LZFdpK1d0U21YVll3SERiV0hKMnU5NzRRUiswL0h0UGN0S2R2dFRldi9odTl1Rm44WUZDZXJrNStWUklYekxIQ2NZRmhzdkN4clk5RHhNN29ITDFPdDNVdXVGT2pqZVd6RGlsK1ZPUkVnbXNyY2xKRUVDSTBrUUdna0FVSWpDUkFhU1lEUVNBS0VabXczR3FCSUZoSVdBSDRERDlaanNxVmJJem9BQUFBQVNVVk9SSzVDWUlJPSIsCiAgICBlQmF5SWNvbjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBSUFBQUFsQythSkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFEK1VsRVFWUm9nZTJYWDJoYlZSekgwNjdpc0F6VUJ3ZnFnekwvekRIb1pDcWlzMndnQTRVOWlWTkI5cUpTVVJIRzFpZGh3aEJCVmtUVWgwMUVFUjJDVkVIUlBWZ1Zoay9EbTZSdC9qUnBiWmUvVGRvMEprMmFmemU5OStORGIzcHpiMDdTMGpVOWlQZndld2kvMysvOHp2ZHp6c2s1NTdwUVhQOXBrNi9BQVpDdHdBR1FyY0FCa0szQUFaQ3R3QUdRcmNBQmtLM0FBWkN0d0FHUXJjQUJrSzNBQWRqNVVaYytSNitZVmsvaDZXOUo2NlhzdGFSRlhpRStqTy8rN2dBRUJvaWZOU3cwS003eDlPUGZUM0NBbVdkQm83bEZoK3pKTXljc0NaVVE3ajc4RCtEWjNSMkE2SkE1V09vRGV6VDRNSVV4OURydFdpV0EwbVBwVXZ6VGtqQjdzc3RicUFPQS95RzBsYmJTMTl2MGNiTkw2QWxMcU9SRzZaVUhrUG5NRENXRzhlNWg5bmtCUVA0WHMwdnVSMHRvNXBrT1EzY2ZvS1NZb2ZIYkRHYzkwMEtnNFg4UXhZWC9nT1VmVXJ6YWVlZ2QyRUw3Q1F3WXRyNFRhbkhCSWl4K2l1Smk2WXNtbDA3b3lBMEErUFlSSFNKemllVXh5cFBVSXFocDZndlVZbFFDRksreTlCWHhNd1FQRTMzZEFqQjVGNm4zeUkyeTlDVi9uOERkeCt4elpDNVNHS1AwRnlVUGVrMEFvQlVKSExTRThqOXZPSGR0QXNGREZINEhYVENNc0dsRjgzZnVCK3FMbHFpYTJHeWRXcXk1S01GRFd3SUlENktWN2FYVkJQSFRoSThSZW9xNWx5bjgwVkZIaEpKSDRDK1BNMytlMk51c1poc3V2ZTAwWmIvZHpPNXRkZlZTblc0cHB1RS9ZRWx6OTFHZUZBK3NKbzJiTmZ1TjFaL0NjNHZSdlRyWDBGOGhmMFZRUkZkYkw5M05BUVFQaTJZMEp1aWN1ZGhtNWk0YkNiYmpNbi9GN0tzbUcwS3I5bE4vcldVdWJmTDhhSEhOdlNTZWowcllicXM1TVVENlE2TlU2SWpGWC9qTjhIdHZOVzlsdllyU3cvS3Zsa3l0ek9UZFd3VzRma29zYS9NdDNUaEdweDZ6K0ZjTCtPN0J2WXYwU05QVVZGRjZpTDRwUnQwS3dPeEpnYVphbEltOW5Td3hiQ2F2M3dOVGo5cnI2Q3BhQWIxT3hkL3dyT0srbWVnYmxyVGxzUnNBQ0J3VUFHZ3J1Ryt5WjBiZkl2a3V5WE1rejVIL3FXa0ZMalFBSGhlVTBsVWlyN0h3a2VtWnVITmJBWlFlS2tIQndITXZXTkltN2tDckNOS0FoWStOblBBeDA3bHlqZFQ3eEU3ajI0Zml3bmN2NGFPR2VmcTNGOEJGK0NoNnRXVVJTc3lmWi9wcFFvTkVYaFZEcnJWL3ZtdWNCeSthenZSSUp4M2JETEMyK3MyUHNBMWI4NGxVaStEZWhlSmk4UlBUMmZySjBsMkF0YjAwOVFqSmQ4aU5VdktpenFNVjBXdm9OYlFpYW9LVmEyUXZFejlMY01EeUZnSnlvNlJIbWw0MU9yNzdkaDZnRFpYdDA4bFEwUFFhdGIzbWdlelhHNVQxN0diOGR0TzhlN29IME1hbWo1UDczckRRazF3L1JYa0NyWVFhSjMyaDlVTjJHNjFiZFhmTTVDdHdBR1FyY0FCa0szQUFaQ3R3QUdRcmNBQmtLM0FBWkN0d0FHUXJjQUJrSzNBQVpDdjR2d1A4Q3lxb1RBM1JTYk5mQUFBQUFFbEZUa1N1UW1DQyIsCiAgICBkb3ViYW5JY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQUZpVUFBQllsQVVsU0pQQUFBQUVPU1VSQlZGaEg3WkkvQzRGUkdNWE5OcXNNTm9QQjVCdVpaVk15bUVSWmZBK0RraUtSanlCUy9peVNLSU9NeXZCd3VMZmU5enBFYis5RnZhZCt5N25uZWU3cGRrT2hmRVMrQ2pWdFFrMmJVTk1tcHJFNnJNVXZZYmQ1WDFBZytJUlBDNHkyRS9WdzNvVmQ3STRiMUx6eVV3Vm0rNldVZXBXUHdJeVc1d0xOYVp0bVhvRVpyYURBL3hmNCtpZjBxdjhzb09uTSsycU55UHE0a1hnbDlSSmt0RERMZHJxZ3BvTk1JNnZXM1pXb3BXa080TXdwekxLY0MybzZpSldUYXQxZHVWYUI1Z0RPbk1Jc3k3bWdwc0Y0TjFVclJicUxBYzBBbkdsaGhtVWVvS1pCZFZoWGEwVk81NU9FaTlHSEREeWNhV0hHekZCTXcyK1o5d1VGM3ZvRHZrSk5tMURUSnRTMENUV3RFWkVMUUxRZDJvZGZMYW9BQUFBQVNVVk9SSzVDWUlJPSIsCiAgICBhbWF6b25JY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FJQUFBQWxDK2FKQUFBQUNYQklXWE1BQUM0akFBQXVJd0Y0cFQ5MkFBQUVtVWxFUVZSbzN1MmFhVXhjVlJUSEdXcVJZbXVrYVd1ajBSaWJXaHUzdE5LaUpOcGlRbUtNaHJTcE1Xb05OVTJxSkxWcDFGUXBOY1l2eGhBL2FPSVNocVVEbEFLbHpBQWpMY3V3bFUzQXBpV1VZbG1uN0RzVUJoaVc0ZWVYUVFLOE93d3p3QnVTZDNNL1RPYWRkKy8vOTk2OTU1eDc4dHdJZDF2WDNVMEJVQUFVQUFWQUFWQUFGSUNGUFhZSFdoLzBoOUVmUXV0RDNNNzFBQkM5bWZ3Z21yV005N0M0bWZzd3BwSi9ndWhIWEE4Z2FoT1YzekV4aUQzTjNFL1psMFE4NURJQWlic1p1TU55VzBjQkdtOFhBRWg2anJFdUhHdWRoU3Z5SHB4Yk9ZTjNjYWFWbkpZVm9PSzh6YlhleDhBZHpBTzJiQjQwb0ZiSkJCRGh3WGkzdEt5dVl0TDhyTXJVN21TOXgyaTdrQ0ZwajB3QUdRSFNndHF5aVBSWWFLejFnUmxwKzV4ak1nSDg4NzJVbkJrU2RrbmI5NVFMdHNFWm1RQjBCMmk1enRBOUxPWTVOZDFsUXZ0N0dtbUFpaEM1NDREYW5VdFBrT3BIN29mRVB5MDBxL2xkR3FEeXdqcEo1bXIrRUFDRXVpUkF6RGJTL01qN21QSnpWUDlLL1NWR2pJSWxkTjVsQU9KMlVoeE1zeFpUNnpKaW1Vc0FYSDJKaGdRc2s0NEVZNWtCSWpaU0ZjYk10T1BaaEp3QWtRL1RrbUZIL2p5QTZUNlR3NjRIVUtzV2loN3RvREtVbFAxRWJWckNDOGtHb1BjWHFxK1BJM3FMdlc1VU5vQzJIRUV1WkVEdExtRi85MDlYQW9oOVhKaWNwYjYrekZSQ0ZvRHNJOUpxSm9lbEgzKzRHMjBHVjRyRVpWOUpxeGx1RlBnckR5YUdwRytwK2xrT2dKcy9TS3NaNzVXMnovM0kxdWxlQm9DS0VLR2dLM3NYSFoyOUdHNFVod21MazRjeWgyN0wrMFNvcHlsbDNqYUk5S1E1WllsSTEyNFE3cHpWQWtoNjNwYWcxa3l1djRQT2w2TFBHS3kxSzZGdzRsVGc2THR6b0pobG93MDNyVGxBL3ZIbFNaeVpvalpTNEh4SHVQYjJtZ09vVlJoMTlxcWZIaVA3S09GdTFNY3R5cG82MGI0Nkd4KzNVLzR0blRjWTYySm1pcGxwUnR0cHVFenNka2NCSWphaTl4ZldrNk84TUtZdXJYN29YN1Q3NXlyWWZiZm1MdlZYYy9rWjY2V0NUOFVaYTZpakFPVWhBR09kM0RnbFhjZFVxeWdJRXU3VUJ3MlVuaVhTYytGcHM2Y1NvT1VhRngrZEhXY0RsZ25oSTdqOWs2TUE2Vzh5TldZZFpiQ0dyRUJCSlZCRjhnc1VCRkgrRFJVaGxKd21LNUNFWjRWbHd5aFBVdmFoM2pEdno2eEFpb0xKQ09ES1h1S2ZKR0VYb3gzMmxGRHRxUC84UHhEUVhVcEdBT0dxMVNsZXFOQWRRT3RqUFMxTnoxYWNkQWVkMjhUeFQ5RjdjOTQ3N1M0bDgxMW5vcy9Dcm5tTW9tRDZiMXZIMS92ejExdlczNlpXMnhQWldVbjNvaTVHWW5lV25pVm1tK082TDI3QjhENU55VXlQemF0UHByOUJ6VzkyNXR2TG1hL3dKRk9tUmJuTUpDMFpGSjJhOHlkTGl0WWZvdklDN2JrU0c5ZmNSL1pSSWowWTd3VVlNUks5ZVVYalFPSnV1b3FGN3NMVWlqR2RxakJLenBCM25KeGpHRDZnOENUbDU2aitoZnQ2aHVyQUlncDExTVVSdTROd04xTDJBVXlaMFBtdVFpQlR1MVAwT2VhK2xVd2wyZzJrK3M2Ym91QUVWMTllelVpczhlYldqMHlPT0tYYk1rRmpJcW12eVZmWTBuano5OWNNMVM0ekw1cW1vNUNTTDJ6bkNHdFlXbFNydVBvS2xhRzBaZ3FYMW5nMzdibFVoWkY5Qk0xVzEvN1VRTE9WNUJkSjgwTi9HTjFCa3ZZczZVbVVqejBVQUFWQUFWQUFGQUFGWUwzMi93RERwN2JRMDh0WlVRQUFBQUJKUlU1RXJrSmdnZz09IiwKICAgIHlvdWt1SWNvbjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQUR3a2xFUVZSNG5PMmJXMGhWUVJTR3YrUWdJbUUrbkVvS1FxUWtwQ0JDZWdpZlFrSWlLb0lnZkloSW9RaTZHQkhWVzBGUEZsSVNFUWpSYXlGaEVsMUZKSG9wSWlvaWlxNUVRVmZSTUs5WkR6Tzd2YzY0enpsYkJaY2Q1NGZoek14YU03UFdmMmF2TmV3THpIRE1pdWpMQjRxbTJwQXBRaTh3bEU1WUFEUUQvY0NmSEMzOTFzZUNLQUthcDRHQlUxV2FBNmVEU3lBZjZFbkhUQTVpQUpnRERPWFpqaUptanZOZ2ZDMEN5TXVpbVBQd0JHZ2JvQTFQZ0xZQjJ2QUVhQnVnRFUrQXRnSGE4QVJvRzZBTlQ0QzJBZHJ3QkdnYm9BMVBnTFlCMm9oRFFDOHdra0grS1l0OFdpTWJBZnN3OTg2V0FGOGk1TWVCaGNCODRJbm9Id1Yra09FVzlIUkRrdWk3cDZWQzU2Z2o2d1ptQy9sWjRBT3dnL0M1UWdKWUEzU0pjUytBUThCZFo3NWhvQjVZQzd3R1RnRHJnWnVPWG9mdGJ3UStBN1hBWGp0ZTZyVUJHNEJyYVh4THhpR2dYdWlVT0lzMENWa0NhQWZtRVkwODRKd2RWMlg3eXB5MXVvUytYSGVsMExtTXVZTWRwZGZwekxmSTlpK2VEQUZQSFVkYWJmOXZPM0dBVFVDNWFLL0NFTFJOOUNXQXg0UzdxdGhacTkyWkwwQzVsVjhnOVpJdEJ3NklkcHN6WDdIdG41Zkd0eVJrandITGdHclJQbTkvYndHdlJQOVM0S1d0cjhCczcvM0FSZUN3N1I4QlRtZFpMd3Fqd0JtZ3p0YkI3SXBPVW5mRGhCQW5DelNJK2gzZ0RlTEpDckRhbWFmT01XeW5xTjhuZENJdTNtR0NjVEJ1SGVaeVdURE9lU0lSaDRBYXd1MDlDaHdCYmdoNUE2bE91UTlZQ2tVOXJ2UFNMamZGVmpoelRncHhDTWdEOW9qMkpVSkhTakhYNjNJaGIzUEdYeFYxR1NkY01nWkVYZTZnQlpqTUVPQWtzQVg0aFlrclVlTkhDVk93MUVtTGRFRXdLRDhKZzRwRWs1RExETEFMdUlkSmpUSlZ0Z0tWb3QxaHh3K1NHdmdhUlgweEp2dnNkdGF1dFBNSHFBSDZDQU5tZ09vMFBzWEtBckxJaUF1R2tCNGh2MDdtb0ZScjlXUWdUR0FDYlluajJIUFJsbW1zbWRSLzlCU3BaNVVpd3ZRSFp2ZE82aHdneXpQSG9ZTVJPZzh3MjFVYVdZclpLYjhKVStneHhyNkVrY0NROUIzekhML005bTkzMXJpT3VTeVNkcjMzd0diR2tsOEJYTW5nejdnSmNQKzU5eGwwKzRDM3dOY01Pb1BBUStBMkpxcDNSOGcveHJBcktQMlluZk1veTdvVEltQ1kxSzIyZFJ5R1RkY1M2eUFVNEJJbUh3ZG9TS1AzM3lFdUFUSzFWV0dPdWptQnVBUnN4QVNaUWt6a3pSa0U3d2dsTVlFakUzb3hCNHlvODhEL2lMbkF0MWluSkl1Y2ZIZlEzeFBVTmtBYm5nQnRBN1RoQ2RBMlFCdWVBRzBEdE9FSjBEWkFHNTRBYlFPMDRRblFOa0FibmdCdEE3VGhDYkMvdmFRK1c4dDFER0I4L2tmQUVOQ2laczdVbzRXSTk1ZG01S2V6L3VQcG1ZNi9tbHNZbEhaK3J6WUFBQUFBU1VWT1JLNUNZSUk9IiwKICAgIHlvdXR1YmVJY29uOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FJQUFBQWxDK2FKQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQURSVWxFUVZSb2dlM1oyVThUUVJ3SGNQNjJwU0FtWnFrY1FaQ2JVa0FLNVN4UTVTcVNVdkRBQnlPSkNSb2pSdU9qSnNZalNrVEJxUEdJeG5nRjNlMGUwMjYxQlhxd3UreU1EMHRpakhMczdEWURjWC81UFRYcHpQZlRUV2QyZDNJWW10clhuVU04Z1EwZ25jQUdrRTVnQTBnbnNBR2tFOWdBMGdsc0FPa0VOc0RvZDV3T3RpaWZxeTdtNjQ4SXpWVmloeHYwdGdLZkIvUzFnNzUyTU5BQi9KMS90UDc1MyszemlGM05RbXNkNzZyZzZzdTRxbUsyS0o5eE9ySUNpQXoySk9jZktNdzNMUkdIcW9LeVZsQlJObUtTL1BWVDh1RTlzYVBKR2tCaTdsTDJFbStIVVZWcFlzUXNBUFMxSVFpSkFCQkNNSlBoWGVXbUFPdnYzcEJLcjlmYW5WdjRBS0dsaHVEUHI1ZVdUTElsQlppQStPd00yZlI2UllaOG1JRDAwZ0xwOEFnaGxMaCtCUk9nQ2h6R2ZPbm5pMGpUTEFTa256M0ZBamdkVUZVeDVoTzlqV0pQcS9KOTJTcUF3akk0QUs2NkJHOCswZHZJMEJSYmZDQng3VEpVTE5qMVlDYU5BeEM5YmpPQXpYV3NyV0g5dzN2VEFoZ3VPMlFZRUJueW1RY3dOTVU0ODM1ZVBLK2xVMllJWEgyWllZQVVHclVHUUZNTVRmR05Sek92WDJJRHhLNFc0NERKQUM3QS9lOHhDM05qMHlGdGJSVmpUTkRUYWhnUU96VnVNVUJmRzJwTFU0dVBEUU42UGNZQnA3TUMwQytGRkFwb2liZ0JBTTRWT0R1UkxRQk5SVTUwcXhHd0x3SGhDbnJ0N20yald6VVc0RXpRY2tCMGZIQkRpbUtNaWZjblBta2hnS3N0VFMwOHdyNDVGOXRkaGdGU2NNZ2FRR0h1ajNNaGJYVUZielM5Y0RZeTRQT1lCL0JObFdiMnI4MkNNRnhSYUJqQXV5dk5BTmpEZWZIWkdaakptRTJQRUpUWHQxa1Z0Z1N3SlFWNHQvV2kxeTE2RytYUEg4MUgxMHZsd3pnQWhxWlVJR0RNbDNveWovY2dzVldsWHl4aEF2YklJK1hLelRsTVFIejJBdW53Q0NFVURmZ3hBVUpiQStud0NNcnlOazh6T3dBWU9sZGUva0lXa0p5L3YyM0NuZDdNUlFOK2d1bWhvZ2d0TmFZQURFMGxibHdsRTEvVFl0T2hIZVB0NnZXNkZCek92SDIxRVpPZ0xHYzdOcFJsVmVEVFN3dGdvR00zMlF3ZWNEZ2RiTWxCcnE2TWI2NEMzY2RBdnpkeXZDczY1cGVDdzlKa1FKb2EyN0luUm41M2FGU2FHcE9DUTlGaEgvQjNnbjR2OEhtRXRnYmVWUkV1cDFtRFp4ei80UkhUSG1zYlFMcHRBT20yQWFUYkJwQnVHMEM2YlFEcDN2ZUFYNVk1RndnRUhpbVNBQUFBQUVsRlRrU3VRbUNDIiwKICAgIHRpZWJhSWNvbjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBN0VBQUFPeEFHVkt3NGJBQUFGd1VsRVFWUjRuTzFiVzJnY1ZSait6c3hlc3J0Sk5ydE5FNnBKeEZBa0dDdW9VVnVLOWlHcGVNdVRvWUl2b2k4aVNQSWdHQy9nUTF0dktCVjgwSUw0WWhHcnRBOEZ0YlNsU2l2MVZzVzJObGhhVW1OdGJOTHNKZG5PM25kMmZaaTRjMloyNTJUT3pteG1JZnRCWUdmMzdELy8rYzczLzNQKy8yekkwTjVMSmF4aENFNDc0RFNhQkRqdGdOTm9FdUMwQTA2alNZRFREamlOTlUrQXkya0hWc0pUZHdidzZHMis4dlY3cHhJNGN5MW5tLzJHSjZERlJkQWZkcXR2Mkx4dmJmZ1FTQmUwTTg3SzlqTEFyWUJuN203RjdWM3VsUWN5RUVrVzhjNzNTNmJHWm5VRUZJb09FOUFmY21Gclg0dWxtMDdIOHFiSDZpZWNseTNkdWdMY0laQ3pRWUw2VldWQlA3SlljbGdCaGFMMityT3pFdVlrOXJLNEJJS0pMZTJHTmxnbzZzYmFuQUw0Q1pCMWtqdytuY0dGQ0Z2U0hoRTZBbXBYZ04zZ0RvRTh4K29ad2U1Vk5JSm9ZbmFXRlVCajZDWVA1Qkx3OTJJQnNiUXhVMVlTK1FlUGhjc0VFZ0FDQVFnaEVJbnkyaTBRdUVUQUl4TE1TVEoyN0Y5ZzJ1TW5nT0g4NklBZjJ6Y3F1N2FjWE1McngrTTRPWk90dEdHQmdRMXQ5dTdkdUVPQTVUc2QyeDZSNE45RTllVFlTRTFJYmpwWlR5RjlkcjlxUUlBK3MvUGdpeitTV01xb0JvUmw2WXVDRWdhaW9JU0J4MFdRenE5TU5UY0JyT2N3SFI1U3JvaU13ZlBlaWdJT1RDVXhhMEJzTGJDM0ZxRElXV1Frd1VhQ3JRUVFRc3F2cFZ3alJib3h1QWxnVGN0RldUT1NmNlBCWmdKVUJlUlhhN2RqRWR3RXNMNUFLMEJmeHpjcWJNMEJibEZWUU1xT1BmTXF3RllDdks0MWtBVHBUSytIanlJZ3lTREEyTUxxZ3o4SE1Md1BlTlFQRnpQR0lTQTBVQ2VTZXlmSVdyMWdpem96MWthSXR2SEM1amFNRFFZTXgrb0ovM3pIZWxQVjVPUDc1azJGSVQ4QkJnd0lCQWhSQkVSVHh0dFZrWnBWUVZZS0o3TndzU1JJd1V3ZEFOUVFBa1lPZFBvRnpjU2lEQVhRSnV4dWN3Tkt1VzNXTExjQ2pMb3N2VUd0cVhsR241QW1RTDloR3Y4cWlnV0dlb3p3OWtOaDNOS2grTURUYytRbXdHV2d3UDZ3YWlxZWxwRmlTRkNrNHFoYUNiMVNrN1VhNkc2MXpORTU1ZzRCMFNBRUJqclZ3NUtaeFFMVEJyMWp0THZORGZBcG9JWWNVUDM5VGQyZTh1dUxrWlVJVUVtMCthQUhBTHRwbzRjdEN1ajBDK2loY3NENWVmYnByWmNLdkhvUXdCTUMzRG5BVytXUmRYK1BWM1A5dSs3NHVsUUNMa1hWc3dNNlFkYURBSjZXRXpjQmh5Nms4UE5WdGRNN0w4bDQ5cDdXOHZWMExGL1JFczhYZ2FjUFJuaHZ0U3JnSnVDbmY3UnQ3b0NIYUJUdzR4WDE4OEV1TndhNzNQanlmTXFDaS9XRjVTYjdTTDlQVXdhZm1Na0FBTllIQk93ZUNhRzdWVVJQdXd2di81Q29xc3c2UEFTNFlMa3NlV0xRWDM0OUo4bVl1cDVIYjFERVI2UHIwTjBxQWdERzdnamc1UWVEVmVzSVJuRzVLckJFd05ZK0x6YXVVNS8vaHk4cVVrOWtpNGlrdEhsZ2RNQ1BjZXFBdEZGUU13RUNBWjY3dDYxOExSZExPUFNuUXNCU3BvU0piNkk0UGF2TkYwOXVDbUNNVWd4UUh3WHcyS3c1QjR3TitqV3JmMnc2amV0SmRkV3pCZUNsSXpIc2VTU011emFvU1hKaVN6dW1ZNFh5bzFLL0F2dkdPbXM2T1BHNzFWa0xIQXpVcElDK29Jam43OU9lOTMveW0xUXhMbHNBSm8vRWNabjZTWXdvRU93YzdrRElwOXhhNzJ2QUk2QzFoajk2MGlZclptV3MrYUVLL0c2Q043ZUhOUDIvZzFNcHcrTXFLVmZDNU5FNEVsbFZIU0dmZ0tHYlBkek9tb1hSZHIzcVdGN0R1MGM2TkwvYlcwaksrUGpYRzh6dnpTWms3UHB1RWU4K0hJYVVLK0sxWTNHY25sVkNRTCsxZnZGd0RKRWF5dUZkd3lIMExaZkRQQ0ZnbWdDM0FPd2NEbUZ6ci9ZWFltK2RYR0tXdnYvajFKVXNQajBqNGR2TGFVMnhwRit0ditLRm1zcGh1ckhpRnMxL3p6UUJyMjdyd0xaYnRaUGZmMDZxMkJteXNQZVhTcVc0NnhBREFpRVFCVUEyVVJhYmpwWTNUaXhpejZrbHBKY1BQTTdONWZCaGxRbnh3bXZVWWJFSW4wbTdwaFZRS0FJSHBsSTRPNWZENUFOQnZISTB6dFY0TUVLMlVNSzFHMnBJOEpTeU5NYS9qbW82VFdiQ0VnQkk4OS9tMWppYUJEanRnTk5vRXVDMEEwNmpTWURURGppTk5VL0FmOTJKL3A5aTd5SWlBQUFBQUVsRlRrU3VRbUNDIiwKICAgIGluU2l0ZUljb246ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFGNzBsRVFWUllSNDFYUzJ5VVZSVCs1dEhPZzA0cFZFcXRGUEZKUzJNMWhJanhrUmhqTkpIRXNOQzQwSTBiRFdwSWRLTnVzY2pXWUV4Y3VISGoxb1VrUGdDTkxnaUppUXZxQXd3QkRUUkFtMW9IeTdTZDZmemorYzQ5NSsrZG9hMDJEUC83bnU5ODMzZk92VGVEaWE5YVFBWkk1SmVWVS8yVDh4WnZaK1VvbDd6ZmtuTTl5ck9NL05iNmF5WGh1UTRsNXh3MzQwZCtIOExKWVBvOGc0bXZRMVQ5bncvdFl3YlhGeTFZSEhSZEFKNEVnNlVEaDhDS1NjQndUQTRyOXpKNDd4dC9jeVY3UGlRQWplOEEvRG9DNWVCQ3BGVUN4aUFrTUY5VElKNWtDb0NvR01BWTRBdFp2bVIwSzRhY2ZHY2Z4eGlNeXJVQm1HeXRwaVZvTW5Cc0paa01VTGNzQTFqRytqQ1NnQ3dvRTBaZG1ybU5HUitjYW83SmhEeHJ2WFlHZUQvNElnQmdaazU1Z0JVQWFFQVBISmx2TFErMGFVN0tJd2xVZTBXajNsUUFjaDVNMkpheEFWQVRNcWhwbjJORnJBTWlEZTVaT3dBUDZveTRCTUVUeG9CbHpBQTUwejRONkVEY0QxNkNFUmluM1NuWExGY0w2TUdaUEQyaERMQUtHRmc4RUZOT0FDcUhCV3FUeEx3U1Y0RXpvRWNKM3VTd1ViWk45Z2ZUWHFVUkFPcUJ3OGNEQUZKTjV5dmxic0pWcmgya0V1RnN4T1pTcHdVR05KQXhvZGVSTEVuS2dBQmdscXdDTHo4Rll3d1FGSm5RcW9nOVlON3dDbkFaR3N2STVSbTdKUmdpQUdSQXdSZ0lBMmdNeUdCS3VXVk1BQ29KYnpHd1hXc2I2UFNDbWJzdUdTMHU0Y1d4Q2tZM2RlUGozNnE0dk1CU0k4R1V4Qm9STTArdjZZSERKMXZhUzVSNkNVb1RPZ01lWEQzUzRRbCt4TUhSeE8zbExGN1lVY1Jyb3hYMEYvTTRkbUVPTDM5M0JZdTU4b3J1S1FQR2lsNDNDZUNFd0lnWVVDbmlhMk5BSlRDV3hHQWthS3d2ajVmdUx1SFo3UlgwQ0pEcEc0c1lHZXpEMFIrbjhNN3BHV0JEejRvWDNBTmFIVFJna01JQU1IT3YvdzRBZXA5ZFVvNk5CSVZDQm84UEZ2SGNuVDE0ZEtDRWtTMGxuTHRheGRYck5ZemQybzlpVnc1dm5qeVBUODdXQklBdzBGd09HakZqclE1S1lOZmlpWnNCVUFabVN5a2dickxBL1BDUjdXVk03QjNFZUg4QnZkMDU1THZ5bUp6NkMyZW1adkhVNkRBMkZydFFYYXJqK2M5L3hmZXo4bTJoeXdJTENKYWxUczhDUUUvYkpIQUd6Tm1VZ1FDU0hEWVhNM2gxdEE5djc5bUtqWlVDa3FXbWxHOUdIWDdxajJzNGZXRWFiejB4cnE1bndmejU5d0llL0d3U2MxbWhuK3d4WTFMKy93RFFqTEVFd0dCWGdnTTdOK0RwSFp0dzM5Qm1sTXNGMUJicitQS1h5emc3VThXN1Q5NHZ5aVFLcUNUMEh6OC9qV2UrdUlEbFFzV29EdlgrSHhLWTZiVEVJZ0JLZngybzNjQnR4V1hzM1ZyQ3dZZnV3a3l0am5QWHFuajlzVkgwQ3UzTFdnMUF0OGp5MGFtTGVPT0hLNksvQU5ER1k3L1VBemVaTUNwREJ2ZUc0NjUzNXpjYXdNSThoZ3RMT0xCN0dQdEdoakMrN1piUUt5UklVd0xrOG5rY1BIWUdILzc4RDRRcTA3d0RnSGRITlNQL3ZTK2RrT3M5ZGJ0MXZiUXN2UUtzRDRnM0N2VjVmUER3SUM3Tnp1SElpVWtjMmJjYiszZHR3ejBEdmRKTTg5aDU5RnY4M2hEOXhhQ3A0YlR2V3hWNGk3YXlYSmtMZkRMeVNVY1hLTjRaYlc2US9wQk42dGhWYXVMUy9CS3FEWG1uTm8raGNvTDk5MjdCSzN2dXdBT2YvZ1JVakJsMWZUUWRLeENmb05LNVFCcFIyZ25aODQyRnREVkhuVEdzSk1VWFVsWjVWb3FVR1RXV0ZvemFkUXowNURHZEZLVDhTcEgrMXZrNkp5ZjFoRFlpU3NBdTdCbFQxTWdMdWpRM0NYeDF4RmNVYURRYmNrRFd1RElZVDd2R2dKdFFQZURUc1M5S3RmeDlUV2p0TnAzOXZEZjRaR1ZCWXpDK21HV1dmT3l6b0FkTHAyZWJDYjBUeXRIMkJmRzhiNW5GQzVEWUMrc3RUSFZLRGlXNTlvcUkxSWZLYWQ4WGRDNUNuUUVQNkd0RS9WcnJwLzNQNGdiNkxZQ2VSejlsd2tDbUFBN0pvalRWazI2WEh6OXFXNkp4VGplUHJBVkFzM0lVN0h6OHhvSkhHYWNBZFYzQUpka2g3ZzFqVTFsMjNvQTBVMThKeFN1aTlSaGdFcllSY1ZsMFQyZ01PRVBDc3F5S2JXK29lMEsrWkI3bzNJakV5N0UyQ2F3ME95WFFwWmVtSG5uQ1dlSzlrR2kwTjNSZFNadEpFUnV1YlROaTczcFF3NUFHUytVd1A2UVNNQzVaQ1BFRHQrNEJMU0hXUE9YUS84TExQSklaTmFsbDRMVWVxNkNiRnFOWXdVWU1jSXZPYTVlVHNkUnJ3TC9SWnowWVJ1YXkrQUFBQUFCSlJVNUVya0pnZ2c9PScsCiAgICBzZXR0aW5nSWNvbjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQUczVWxFUVZSNG5NMmJZV2hVUnhESGZ4eEhFQWtoU0FnaEJCRUpSWXBZRVFsRjhrRktLS1dJSDRKSWtWQ3M5SU1VRVNraVJVU1FVS1FVa1ZLS2hDQkZRaXNpUmFTSWlDMmxGQW1sRkpGV3BSUUp3WVlvTVQzQ05hUXhYdE1QOHg3MzN1emV1M2Y3OWozemg0VzdlN3N6cy9ObVoyZG05NkE0dkFKTUFwV0VOZzljQXpvTGxLc3dYQU5XVTdaVFJRbFZLb29Sc0tXRnZxL2xKb1ZDdVNBK2JVQzMrdTFGZ2l5Yjh4V25lSFFDUzlSTmZCSG9CM3FEOWpwUWl6eC9TbkV2cHhEMEUxL2owOFNYMzNxZ0dubStESFFWSVppTEQ5aUZPTFF4b0NkRi93M0FrUHJ0YitDL3lQZC9nU2VSNzIzQUh0SXJZUmR3Qm5nelpYOW5EQkYvVTFPSStXcUVFN2dDTEdCNitXOHRZMjViK2xXQjY4QitvTjB5cGd5Y1JpeG1GVmxHUjUxbWxnSkQyQ2V6Q0x5UFdGTWJNQUxjdC9TTHRnc1crbU5OeGt3RHh4R0xBdkVkdHl6OWNsRkNvOGxIbVY0Q2ZtMHlpZFdBem9DRngwQVRIbUdiUmN6OWNSTjV2Q25oRFl0Z05lSmV1MWw3Qkh3SkhBVDZFbmoxQWU4Q0Y0RS9XdVNoMndwd0pLL0pud3dtVTZXeEFFdkFWd0dOZFE2ODI0QkJaTGswczR3ZmdVUEljdlNtaEkxSWZHNmJmTGg3REFCL1d2cGNCbDUxWld4QkwzQVdVeEVyd0NmVUZid1h1eExlY1dFNmpLbnBjY3l0c3dmeDZzdkFRK0J0U3g5ZjZFZDJsaVhFS2U2MTlCbEdKaDJWKzVZTHN6NGtPNHNTbWdFMldmcVdFRVc0bUhxcktDRmh0VzFiQlBnSTg4Vjk2c3JNcHMwN1NPUzJGdkVXOVpnZ2JIZUJqaXhFUDhiVTZCakZacEpwc0JuSklhSnl6aUYxaUV4b0EyNG93alVLQ0R0YlFBbjRDZFA1N2ZIRllBZm1udnlCTCtJZTBJbHAraGQ5TXJpc2lGZVFiWEt0b0FUOGdPbXdOeVFOU29zdG1Obzk1b093WjJ6RGpBRk8reUE4cm9qZVEvekNXb1IyMkhOa3RJSU96T2hySkp1TXVXSURNbWx2MXJwZkVadkdiN0JUeG4vcGE1UzR6TCtRWWN1K29vaDk1a0hBemNBSjRDb1NPajhNUHAvQVR6RjBFM0dmVlFPMnBoM2Nob1NZdllqem15V3VnTUVNZ3BXQnc1amhkYlROQjMyeVdzWDNpdTZISlBpdGpVaXVmZ2ZKN0dZUmI2bzkvd0x1SVhBWnNhWTArWDB0Nkp0RkNjY1Z6U3BTazVoRTZwa1hrRGltSGN6OU15bm5kc1dSQmpTVENpdFppaGtERFdqcU5nSEpKaGx0eHgyRjZjZXNLMVNRNDYvQm9KMXEwS2Zma2VkNnpMekExdWF3TUY0S0hrd0JQeU81OUVuY3ZiLzJ5aFVrYU5IWVpwRmwxSkVuU0YzaUx2VWxyYlBhVUpZWTB4VWs3dTlFSnV3ajQ3dEpla3ZTYS9kbVJ0NWw2azU5SzVMZVI1ZWNWUUZwRGp0YUVXQ0crS1JzYnovRU50VjNCcjl4UWc5eFM2amtuZE9YTUNmd1BLRy9mbFltNTdxRGpYZ2ZjaVRsWXdrOEJ4Nm8zM1lsOU5mUEhwQ3NzRllRSHR3WTBJNW5PZmh0R2dramI1Q3RzSEJPMFo5RzFxUkdiL0FzMnZkY0JyN2RpRThaUjRxMmt4YjZGVWkzRFM3aW52L3ZKSDQwdm9vRVhQc1FhK3NMUHV2eStsSXcxZ1cyQ3BHdFZjQit2bVpyQngyRkFhbnBOMUtzenVIRGRqWUR2MzdTUloxM1FVenZjeVFpdklkNDNpcCtTMHpyRVJOTW8ralZvRytXeXZOSUE3ckx5Tnhta05EZnNMQnl3TGdIT0tBR1B5TGJsdFFCbk1kVXJCYndQQm5MMk1oQmJaVHVCTEFiU2ZCNmtEazJkZkNkbUdkL1diTEJFTHNEQWU4aENkWkM4UGxTOEN3cjJqSDltbk1GKzZvaU5PNUJ3QkJsWkx2dHdtK3dveTEzbGd4RkhIMCtXQ1g1ZVB0bG80eDVSeUZURVdjZGtoUkZDVHFmc3hVQS9jSldTQTY5VStHb0lycUloK09tSE5DQkdVdGM5VVZZWDBmNXhnZGh6OUFSNXpLd1BTL2lTMlRmcW55aUhYUEg4blkwdHROQy9ENXI2eWJuT3N3QzdrTTgzRHJ2eGx4WFZleDNBMTgyUmpERDN3a3laTFJ0bU5XY0duSW5jQzJpaEppOWx2ZVFLOEVUaXRncVVrNjJhYlFUaVErS3VEVFJqbVNtdGlYWUFmeEdYT1lGSEROWmZYVjFCWHNvUEl5c3YyWGtXcXRySmJjWnlvaVpUd1d5M01ZTXlrclliNXdPdXpBOFppSDBGQ21hZ2l5UlVjeHE2d0p5azFQL1A4QVZaZVR1ankyL242YitVa3JJNmJEMkEzTTRScThsSkl5MEtXRUlxYklrcGJUendmaWR0TDVqaExmT0RpT2wrYVRjZmpIb1o1djhQTWtsdUZTQzJKVFF5aFhXR3JKdGppTW0zTWd5eXNpdDBsSGtiSzlSb1NSdHl6ejVFQ1drWUpMRWJEWVFYSi9OMjlwajdEWEJDeW5HMXBBYTVSZllEenE4VHo1RWtoSW1xVitlN0VLT3VYUlFvcHZlU20yUm5IYkExNUgxSHU0MEI3RGZJWjdIVDkzQ2dGWkNEZGwzYmFXckRzVGNiMkkzWlgza3RSRnpXYTBnTjhiUDBQamU4ZmFnVHppbVFrNlREMUZDVG0ydklOZmEwK3o3M1poK1pFejEyYUdlVHlHVFR1TTh1NUJjWlFMM0tuTHUyRWQ4Z3Zvdk0zdlZjNmZMelM0b0txRjVvcjV2SXY1SFNuMkY1Vm11MGtUd3NoU3dGY25XR3VHdkhHV0pvYWdMejgrUXY4YWx4ZE84Qk5Fb1NnSC8wTnBiL1QwdlFUU0tXZ0l2Z1BlUTNTQXBSM2dCZkExOFY0UlFBUDhEM1Mvbm9LNjR5eVlBQUFBQVNVVk9SSzVDWUlJPSIsCiAgICB0aXBkb3duOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FZQUFBRGdrUVlRQUFBQVhFbEVRVlFZbFlYTXNRNUFRQlJFVVNvVmpRK2YrUzBsU2kybGl2SmxyNFpFWkRjbXVkM0pWSklXMnlQUVZxWFpQbXdqYVFYcUV1SkowdkNMYnJnRGZSWkZ4QnNIMEdUUkN5YmJjeEY5SGhQUVpkRUhia1VVRVVnNkpVMFhtMkt2Q1U2djI3a0FBQUFBU1VWT1JLNUNZSUk9IiwKICAgIHRpcHVwOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBa0FBQUFKQ0FZQUFBRGdrUVlRQUFBQVpFbEVRVlFZbFhYTUlRNENNQkJFMFVXaHdIRHcrZGRDQWhJTEVnV3k0V05vMHRBeXlaaWRseTFBd05iYTFDU3ZKT2Y2aC9vZHVDL1JBTjdxZmtKOUJDN1ZNNkxoUTFPM0UrcE44bEFQTmVZSEhHc1Y0UGtGTjNXelJFbXV3RW5kTFVGVmZRQzNYYThKbCs5MlJBQUFBQUJKUlU1RXJrSmdnZz09IiwKICAgIHBlbmRpbmc6ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBQ0dGalZFd0FBQUFOQUFBQUFISGRCS0VBQUFBYVptTlVUQUFBQUFBQUFBQVFBQUFBRUFBQUFBQUFBQUFBQUI0RDZBQUFPU1ZrVmdBQUFaOUpSRUZVT0kyTmtyOXIwMUVVeFQreDJDQnVYUVMxb05BT2J2NEI5bC9RcVNpaTROQXFSSU1wNnFBSnZIZURDaUlJWmhQUm9ZTkRxTGlGaXBIOHVDZXVIZFNwWFJYcHFvTmJITDVmWTVvWHRRZmU4TzY1Nzl4Nzdyc3dpZEE1VHJsVlRPSzMzaDRtZEU0azhURVVpUDZBK21DSWFTbGhUZWR5N2lGUVNKOUgzNkErR0JLMVJtak9Kbnk1VlNUNnpWems5ZVRqdlpXdlBqdEk4SXZjYlI5SkxmcVpzVTZBMEZuSUt2djE3SzZqbUQ0Ui9RUDMyc2NBV0dzZXd2U0dhdTlrWnFkZm9qNFlFam9MRVAwUnBsMldtek1aNlZ1WVY5SVorRzNNdHdCWWJzNWcyaVhxTVpnK1lucVJXZWxmeHZRK0hkQnZxMm9UZENrWGZJN3BNNWkrRTFYT2cwK3dmaW4xSFE3a2ZHVlV6UHdHcGg5ZytrYlFsU3l4T1R0S0hzY2ZleFZNTC9OdXptUGFockE1TjByNEgycmRVd1NkVG9UM29OcWJKK2pzdmdTbm90cWJ4M3dIMHp1aVg4UDZKVXl2Q0p0eit4Y3B0NG9FcldCYXg3Uk8xT3JVN1V4Z1dzcC9ZY3F1VXlDcVRPaGYrTHRBMUoxOFRiOWkzaUJvSmV2RUc1aC95VGkvLys4dWF0MUZvcDVpMnNiME16dStnM21EV25keE12MFhkLzdKL1BDM1hIVUFBQUFhWm1OVVRBQUFBQUVBQUFBUUFBQUFFQUFBQUFBQUFBQUFBQjRENkFBQW9sYU9nZ0FBQVpsbVpFRlVBQUFBQWppTmpaSS9hMVJSRU1WL0pnVFNCRCtBaGY4MmRnRUx3U1orQWpzaGdwQVVnV1hGUkhBdFJIQUQ5ODZURk5xSTBXYnhUNkdZSXVRYkpPRWxiODdhaWlnaWFHdVR4c0lVZG12eEhtL2oyN2RMRGx5NDNKazVjODdjZ1pNZytBMU1MK25zblIyZDFPcE9FWFdIQjVvWkp0QWlwaU9TWHAvbzYvVUUwYmRKZW4yQ0x0ZkdGN1ltaVg2dklObXVGcStUOVBxWXJnM1VaRXRFUFFaT1Zlek0vNjhrcEkzaVlSV0FSN3RuTUgwbCtrY1NieDBydkVCSXp3RmcyVXF1Tm0xQTlDZVlEbG5ZbXN5RC9nbno5ckRGN0JhbXo2VWQweUhtVDhIMEJkT2JJbWtKMDE3OWtJQ29YWUlXaTBhdk1QOE9waitZM3dXZ2MzQStsMVZCQ0JORlVSdlQ2L3grY0QyL200NUsvNk13c05jdTFaWXdmU05SZHlpNUR1YnZpZGx5Ulo3UEU3Skx4d2cvWU5sS0xjSERuZE9FZEhxc1dqcTZpT2tIcGgyaTN5YnFQbXY3YytPTHFnanBORUZOVE84d2JSSjBaYUF3dXpweVc0RjhCcTN1VkQyeG1zWEd2aDNUM1c5aStvMzVCa0ZOZ3BwRVBjZjhWNzZ4ZWxaKzZ3ajVEYUplRkhQNG14Ly9pZmtHYS91ejFmUi9vcWpKRkxxd3BSZ0FBQUFhWm1OVVRBQUFBQU1BQUFBUUFBQUFFQUFBQUFBQUFBQUFBQjRENkFBQVQ4QmRhd0FBQVo1bVpFRlVBQUFBQkRpTmhaSXhhMVJCRklVL3Nob1VzUk5FeElnUUJHMHRGRlR3Sjlnc29vVWdyR2xpakVGRTNSVm03b01ncEVnUUVRekVRcXg4RmpZMlluVGR1V2YvUVVnVHNiTUpkbHJZcmNVK251WTlYbkpobXVHZWI4NjVjMkd2TXIzSHRFWFVVM3FmVCs3Wlg2dW9hNWhlWS9wSk5od1JmYkhlTkxPNkgvTWxnazgxZ3RwNWkranpaTU1ScG5lVlYzeVJiRGdpODNNbE1LYnJtTDhocGx1VlNKZDNPZ245NmVKaUZvRHUrbkZNRzBRSlU1ZmdsK3F4Zkpac09DTDBwOEY4Q2RNMklVd1ErdnN3YldMcGJrMzBRSWN4dlNUa2s3VHpGcVp0b2xiQXRJRnBEWURlNEFTbXJIbWduZ2grWSt3OFhTWDRGVEQ5d3Z4T293Z2doSWt4UUF2bFkvOE41WGVadjZuYWVhdHdNSS9wVlJXd1NhWlZBQjZ2SDhYODNpNFJ2aEQ4WmdYZ3kvK0dtRThXVzNlN0psN0lEeEwxZ3ZzZkQxWHlwYk9ZUHlwdDlnYW5NRzFoK2tUVUhKWXUxbURCTDlBZEhHdk9IUG9IQ09wZ2VrdlUzRTdINlh5eE53K2JBWTFnZGNaaWZTaC9wc0hCRWN5WHlYeUdvQTVSenpEL1VZaFhkaGNEUFBsNkJ0TjNUSC9HeDc4UjlaeVFUbGRiL3dLZ3NNc2FLYTcya3dBQUFCcG1ZMVJNQUFBQUJRQUFBQkFBQUFBUUFBQUFBQUFBQUFBQUhnUG9BQUNpQ2k4UkFBQUJvMlprUVZRQUFBQUdPSTJWazcxclZGRVF4WC9tUTExRnNMUHhBMEhFUDBGUUlmOURDS2lGSUNSUmlDdTdFUXZkWXU0OEZFRkJJU0M0U0Nvcm41MklJQ3BMM3B6OUI0U2tNWjJJQ0ZaaUthekZlMjdNcnMrUDA4M2NPZWVlbWJrWDZtQzkvYmcrNFBFVjF6dVM3bUJ4dUxiK053SlRwTGlFYXhuWEtxNHZaUDBCSHJmK1hlUlh6T1dUZUxSS0VUM2JmdWhheG1KbUdDOTJwMG5GT1R5ZWtJcUxJN1ZueVBvRFV0eithZlZZWmUxS0ZSL0V0VTZTY04zRTR2U1lteFJMWlAwQm5iZEhJT2tlcnMrWVRXQzlLVndiZUhGMWpIUmQrM0E5d3ZLZDJQTTlXTXl3MkowRzF6b2Vqd0hvckIzQ2xkWE9JVVdCeGZuUi9yK1JZcW1XQkdBMlVRcW9QYnpzdndUbThzbXlObHE0VmtjRk5zalVCZURHbXdONHRHcUZYRDBzTG93azR6NnVUd0EwWCs3Q1k1T2toVEZ5TzIrUTlKQjIzcUNkTjNETmN1M1ZYckRlaVdxdlpSdWR0YU80M3VONlRWSVRMMDZOaVNVdGtQVUhXSEc4U29SanhkbGhnZlYyWTVySDlaU2s1amF5eGNucTNkeXRiYlVXcHZuU3JWNEFPLzVPY00zaXVvekhDaDRmSy9LRDRWci9pUEx6Yk9MNlhzNGtWclo2M3NJUHEwTEtPQmFLdy84QUFBQWFabU5VVEFBQUFBY0FBQUFRQUFBQUVBQUFBQUFBQUFBQUFCNEQ2QUFBVDV6OCtBQUFBYXRtWkVGVUFBQUFDRGlOalpPL2E5TlJGTVUvc1FTSzRPSWtpQVZSL0RIcElybzR1b3RRcEdEcDBxYWdTNjI0bU1CNzk0czRWSkNpSUlSR2hJNHBPSWhEaFVMYTd6MzVCeVRxNEN6V1FYQndqOFA3bXBEa0crbUZ0OXg3T1BlZWUrNkRzZ2grQTlOWFRMK0w5d25UTTRMUGxlSW5DVHJuTVcwVDlSRHpOVXh2TVAwaTYvWXhmM28wa3ZHWWI4OWd2cFpJdFBOL2NLMVpKZVlMbUZxWXY2V3hmM2xRTTkwazYvYUp2am9jTitydUFGQS9PSVBwTTFFaStpUE1HelIwY1ZTaXJ2SllKd3BHMzhEMGsvbjJEQUJSN3pDdGwwNFdkazhTT3JPalNWTVBVMnNJZW44Y3FKUVNtTm9FM1J0UC9pSDZnMm5yU0tUaFdJRmR4M3hya3NEeSt3bllPY1dUdmRNVEJQL2tKVXRibzBYVEZ6STFBWWkrUk5UdTFFbk1QeEo5S1dIelJZTGZBZk1YbUg0QWxlUzFla1N0VE1ySWIyUHFGWElxbUE2SmVnV2hjNG1zMnlkb0dZRDZ3VmxNMzRqYUs3cWxoUWFmbzY1enFidFd5THI5b2IxUno5T0Y3VjhyZGpGTDlGVk1tOVNhMVZFWitmWGlwRGVHeVZxemltbWJobCtacWg4Z2FEbGRvVDR3emVxU3hkM0MvRFhtMzR0L3NEbHc1WWdFVzVnT01YOUp5QytNbC84Q25PUEpZTVU3bXEwQUFBQWFabU5VVEFBQUFBa0FBQUFRQUFBQUVBQUFBQUFBQUFBQUFCNEQ2QUFBb3UvTnBBQUFBYU5tWkVGVUFBQUFDamlOalpNL2E1UkJFTVovTVNvUmF4dEJqWUpHRzhIQ1B4L0F4bHBTUk1RaUdoRkZPS01nY2dlN2M0aUdFRWhqa2VpWjB1SkFTS0ZnQ3IyN2Q1NzdBQVlsaGIzWUNCWUtkbWZ4Ymw3MTNyc2pBd3N6dS9NOE0vdnNMUFJiOEdORVBjVzBpZWxIV2g4eFBTSDQ0VkoreVV6em1INWplb2w1SlY5YXcvU2RlcmVIK2VQUkJLRTF3YjNtdnRMK2RITWM4MHBPb29YUkpEZFg5eEQ4Q3FZR3BnWXhtMkc2T1o1MzJENUw5ZjJSNGVCcTV4Q21MVXlPYVo3b0R6Rzk0djdHL3NHQVd2c1VqN0lEZjJOTkVYUjFkSXYvbXVrenBtYzd5ZzNaYVdydE0vMEVQNGwrSjBWamc0RmhWNTdyRHpCLzBVL3dDOHR1SjMrQjRMTWxna0pBcjJCcXBOekxSRjhuQ2JZQ1FQVHJSTDBiZWdYekRZSmZTLzV6VEZzUXRZenBhMUhKOUltb3VSSTQ2aTZtelhTZE1VemZNQzFCYUoyazN1MFJkQU9BYXVjb3BpOUUvMUNNYm1qdHh2U2FrSjFJWkhQVXV6MXFtdHJXWVNrbjZaeExnQWxNdHdpdHliS2dmaUdOOU9ML0twdS96USt5ODBNMTJLNGM5WWJTaTRYbVhxSUNRUWNIaUhlcCtFeFJ5OFd6N3RpQ1g4UzBScTE5dlAvb0Q1SWp5c0JqcTBwakFBQUFHbVpqVkV3QUFBQUxBQUFBRUFBQUFCQUFBQUFBQUFBQUFBQWVBK2dBQUU5NUhrMEFBQUdtWm1SQlZBQUFBQXc0alpXU3ZXdFVVUkRGZjI0MllLSEVYdkNyQ2Y0RGtzSkdlOHNGRVJRa3VxQ0VxSW15WUJibXppc1VKS0NwSkNTaWRWcEJ3U2d2Kytac0lWYUdnTDJJV0NnSVlyMFdiN01rZWJ0UkIyNXg3NXc1NTh6Y2diMng4TzQ0U1E5eGJlTDYyVDhmY1QzQTRsZ0Z2eXM4Mm1UZEhxN3Z1RmJ4dUUzU0hWelBjUDBvYzhYc2FJSlVYQ1pGaThiYVdDVm5lUjJQdTdqTzdlOENvTGs4anNXbHZvc1ZyTGhJYzNuODc0V0RWdlFDMTN0Y2M2U1l4K01EU1V2L1R0QmFuOENzTnJnMzFzYXcvTkJ3OEU3Zy80UlpqZGI2QkxnKzRkRUFJTVUwRmxNalJheHpIbytaRWx0Y3hmVVZYTC94NGlZQUhzOUpjYXRDc1AwcktlWnhyWmJZWWhiWHI5SkJpcWM3V0YrUHRKMzBCb3NyZmJFVlhGdmdlbEphNlN1NXRraTZQcVQ0QnE1TnpHcVkxWEI5dzdVSTdZM1RaTjBlS2FZQldPaWN4UFdGRksxQnNXc08xMmNzUHdGQUZrMnlibysySnJjQmkyVGRIdFk1VXc0clB6SUFBOXgvZTdTY09HQXhWYTUwUE5vOTVhUlhKWW11WVhtOTBvTGw5WUd5NnlWd29EcnBwS1UrKzRVcVFad3RXOVhqL1hlbnJVbnU2ZkFRQndleE9MWDMrUTlqd2M5T1ZCVllZZ0FBQUJwbVkxUk1BQUFBRFFBQUFCQUFBQUFRQUFBQUFBQUFBQUFBSGdQb0FBQ2lzMnczQUFBQnJtWmtRVlFBQUFBT09JMk5rejlyRkZFVXhYKzdNWmpPd3NxQWZ3cU5DSkpHRU1VUDRCZHdRYkVRRlZjVUVxT0NpbGw0NzA1aEVBeG9KV3MwWXB2Q1FqQ0NRU2M3OSt3SFNOZ3F2WVZnSVFxMmF6SGo2dTVrSkFjRzVyMTd6cm4zSG5nd2l2bFBCNGxhd0xTSjZYdnhiUkMxUVBBREpmNC9xR0Y2Uk5MdFkvcUc2U1htYzBUZHhyU002UmNoTzFjdE4zK1JpN05aUXFpWDZpR2RJS1M3cWcwU1A0Rmxad0JvdHNlSnVsaE1zVVRJenY5ZlBJb0hhM3VKZW92cEh0SHZFaVZNUFI1Mjl1M2NaQlF4dThCOFovL2dITkxEQkQ4MVRBcnBjVnJyUjNaa2FIcUZhWFAwY2huenVSTDVUNmdoMUdtMngvT0ovQmJtUHlCUkcrdWN6UTM4TlZFekpZUEd5bGhlejI0U2ZiSDRuOFgwRTB4YlJIOWU3SGtaMDRmS3NhTStFdjFTMFd3SlV3OU1UekgvTXVoazZoSDkramJpRzhYT05VS29ZL3FLNlFtMDFvK1JkUHNFdndKQVMwY3hmOC9NNnU1OGIwMFMvVE9tTFVKNkNJREVtN2ttbXlyY2ZURy82SndzQjZoSm9xNFIwb2tpNk5NazNUN1JIdytuSExWYUZLNVdaaEN5Nlp5amQwQnR1TmhZR1NQcTJlQXhiZmR3N3EvdHdYUm5zRjVGbHlsTWJ6QnZWSlArNGplZno4ejNQaEdJNmdBQUFCcG1ZMVJNQUFBQUR3QUFBQkFBQUFBUUFBQUFBQUFBQUFBQUhnUG9BQUJQSmIvZUFBQUJxR1prUVZRQUFBQVFPSTJGa3M5TFZGRVV4ejg2Wmd1WGJjVnEwVURMQ05wRTlBZUU0R2FnVFFVR1JvdEp5U0RCb1h2UDI0d2dMZnF4S01RbWFQY1diUUpGUkdmbW5qUC9nRWFMOWdxQ2hOUWZNQzN1YzJEZTgrbUJDNWR6ditmN1BlZDdEK1JqZWVjcTNwcUk3U0Yya3AxOUdwMGJCV3d1UnZEV0pPbjFFVHRHYkIzUkJjUmVJdmFKcGUwcjU1ZDcrMDdTNitPdGpuT2pGNm5saXZWMVZBNTNCN2xHNXhhaUxVVFhjT0VocmoxV1R1RGFrNGpkRzhvbGVodXhOM2hkUkt5SDJENnVQUWxBTGEwZytxcm9pMHZIV2R5YUtPMVM5TnNBSi9ZSGI4MDg2QWxpWDBzN25mdDhhWEFYYlNHMk53d1ErNExYK2VLSVo1anFkUjdSdnprQ2JlR3RYZ0RYMGdvQXk5M3JPSjJLMlBBQ3NYOGc0VDdTZlJDVmRCYXh6ZElSeExaeCtqZ1RXMFBzSjRoOVJQUmdvQ1QyQ3hkbWlpM2I4MnptRVp3YlJld0liNnZRNk53azZmVnhPaHU3Q05XaDcvSGhFVjUzRWZ1TmExL0w1bjhXYTBMMTFKQzNNZEc5VXpEUDJ5cUp6bEhmdUF6RS9ZanJ2cElIYnNSVjFxZWxIcHdhS2ZvZWw0NFBQOVRTQ3Q3ZVJYWTl5THlaUHBmc3pIQ2hpcmNQaUIwaTl1TWkrSDlzSE10dm9ENlRwZ0FBQUJwbVkxUk1BQUFBRVFBQUFCQUFBQUFRQUFBQUFBQUFBQUFBSGdQb0FBQ2pKQWpPQUFBQnBHWmtRVlFBQUFBU09JMlZrcjFyRkZFVXhYL3hJeEZFUVZzaExFVFFmOEJHQzBuK0J6OGcybWpNSWhwUkU0MUU0YjA3cVlRUVJiUUlLS1lUdGtrVEZvWEFtTGxuc1JIQnhqUUtGa0VMMFZLMDJoUXpXYkl6RzR5bmV1OXk3am4zdlB1Z2pKRFdpSnJGOUFIVEwweWZDT21lQ3E4blRBbEpxNDNwSjZaRnpLZUkyY1dkTnI4cW1tOHowUnpZV2RNbW9tYno1dXgwcVg2VlJBdEVqUkxDcms0OStGbk1ZM0ZKYXgzbk1zTHFDTkduaVZyQjlKSGdnL20wZnBPazFTYWtSK0dPRGhCMWpwRHVZM3hoTCtielRMN1pYNDJZM2NEMGxkQThDUFJoK283cGNja3hPMCtpOTV4cDdPNFoxWHlLbVpVanhma0o1cDlMQkQwbittUTF5cGI4blpyR01QMHBDN3dnNmxhRjNHdWk2SmN4L1MyclhzRDBycWRqYm5DWGtOWnlBVDNDOUFVbW1nTllkb3JRNkNjMCtqRi9XVHhVTnhJZng3VE9QVDlVaUsxamVnckJCL00xK3ZXcTQ5c1RSTDlHMURLbU5lNXJxQmkvWHF6eCtHYWVoM2xoOVdSM0pMK0VhWkdvSzEyLzB6U01hV1lydFEvVEVrbXJUZlQ2dG12OEoweHp4YS84UnRRem90ZUpHdjAvd1FjNmh2azhwalZNdnpIOUlMdyt2QjE5QS9DSHk1a2hRVjA2QUFBQUdtWmpWRXdBQUFBVEFBQUFFQUFBQUJBQUFBQUFBQUFBQUFBZUErZ0FBRTZ5MnljQUFBR29abVJCVkFBQUFCUTRqWldUTzJ0VVVSREhmeHQxWTJNakNLSVlBZ3BCL0FSaUlYNElYMGhzTks1SUZoVmpZYkp3WmphVmdnOGtqZUNyRTdZUUN3MFd5dFU3LzIwRkVUUWdkcUtGYUNsYXJjVzlMdnVLckZPZEdlYi9tSFBtd0dDa2JCclRNcTQzdUg3Z2VzL2gxb2FodnBGaFdxYlo3dUQ2anVzaEhndFlQanNlMlBXSVpydUQ2U0wxMWNueFFFUEsrY0crK3BrN203QzRpdVd6cERUUnJhYzRnb2VWU1RiZFZTN3k3YVNZS3M1cEFsTWQxMHRjYjFsNnZhdHdHeGRvdGp1a2JBOWMxaFpNUjZtdlRwS3lqYmplWWZueFlaZHhIbzgxVXJZWnFPRDZpdXRXZjFQS2orRnEvK09lTWt4enBZdmJ1RDRPTnR6RjR0SVE4Ty84U1R0WWZMR3pQSi9HOVd1UTRCNGVDME1Fby9iQTRoU3Uzd05LY1JMVDQzVkg2SDFlMDAxY240cWk1d2RJclNxcFZlVkt2bTBrMkhVV2oyZEFwY3cvNDFxQkZGUEZEc1I4SDJCSnUvR1l4L056bUo3aStrRGoxZDdTZm8xbXUwTkRNeVY3WEN0WGVIK1hvQkg3Y04zSDR3R21PVktyMnVQbUVLN0ZYcjBLRmsrS2hZcmErSjluTUN5dWwwNis0RnJCb29icHhQOFJOalNEeHcwODFuRDl4UFdOOUh6cmV1MS9BSldjek1rZnNPRnVBQUFBR21aalZFd0FBQUFWQUFBQUVBQUFBQkFBQUFBQUFBQUFBQUFlQStnQUFLTjRxVjBBQUFHZFptUkJWQUFBQUJZNGpaV1NQMnRVVVJERmZ6RWFRVCtDZnhCUklvaFZxaFRpUjdDUUxZUUlncm9Kb3ZpdjBqeTRkMTRxUVNVc0JMWFFnQWpDVmlJU0NFUmUzRG43QWJhS3FLMVlpWlZpdHhiM3VzRjltNUFNWExqTW5EbG5aamd3SEtFNlJ0UUNwaDZtWjdYNnRtRXFLYnQ5VEQ4d1g4WjBmamZOYnlpN2ZhTHVjSE5sLzVhNFl2ME0wWjhDWTV2SnFJV2szRGxYYXdqVllZSm1DR0ZQRnByT1V6N0tBRCthRW40YmdBZHJoekIvVFdoUDVQcHhUQjh3OVpqL2VDUUoraXhsdDArb1RvQjVDOU12R3UxeFFyVVhVNC9vOTJ1VFJMK0ZhU092TjRicE82WkZNRzhRZERtQk9oY3hkYmU1VTBYcHpmVDNGcVl2dzRBWG1PN1c3NUQzajUxTFJIK1ljcnFLNmM4d3dTdWk1bXNFamZaNGpXd2tRZWxUbEQ2MTVRci9peTFpL25WSDJOeHdnVUtUQURTZjc4UDBrNmlsVkx5M2VwRENUMitPK2U1QXVvZmZ3RHJYaVhxUCtTZENkV3F3VXRBTXhmckpmK3h6MlJ6VEE0WG9WekM5eEh5WnFHc0RYNHlNMEo0Zyt0dGtaWjhkSEdyWEVmMXhkdVUzb3BhUzQ3eUplU3U1YmlkUmFCTHpKNWcyTVAzTzd6T21zNlBnZndFdHlNdXMvd1ZWMHdBQUFCcG1ZMVJNQUFBQUZ3QUFBQkFBQUFBUUFBQUFBQUFBQUFBQUhnUG9BQUJPN25xMEFBQUJvR1prUVZRQUFBQVlPSTJGa3IxclZFRVV4WDl4L1VMdEY0VUVDd3NMTGV4RUVTdDdtMFVzQTJZamloS0poUnNETTNjRnNRZ3FpWTFOVkN5Q1c2UklFVkFXWC9iZHMvK0FJQnEwc0ZHcnRHcTNGdlBVdU84bHVUREZ6TGx6enBrekY0WXJaRWN4UGNCMHJvVHRXRkgzYVBjSG1EWUkrY1VTM3VyV2lUNWRmZG0wUkxzL0lPb1d6YWQ3S250QzcwelJzd3lNVkNqbjV3Rm9kR3EwdXZWL0YzV0VHNnY3a2xCK3RuQTVWNEErbGc1OENvQ1ozbUZNNzRuZTJ1UnVCdE02d2NlU29FL1M3ZzhJMlRFdzNjZTBRYU5USTJTN01iM0QvSGI1aWZsTlRCOEtKeU9Zdm1ONkRPYWZNVDFQelBsbG9sUWRFaEQ5TFRFZkw1NjlnT2tUUkswUWRTbXArRXZNNzVUREM3czJ1WGhWRUV4ZytqbGswNmN3djFBaWFIUnFSVjZuTVYwRm9PMU5UTCsyZEx0alJUM0M5S1VhRE5uK2lyTkQvKzFiM1RxemF5ZXJDY3dmcHNEOE9wWmZJK29OcGhmYlc3cmJHMlYyN1ZSU1d6bEF6TWN4TFdMK2pLQXJUTDgrdUQyQmFTNk5xVTl1MmZQbk42ckJ6dDYvSk9aZk1UMUpFK2ROek9jeGZhc2NzREpSZGp3bDdCOHgvU2pXT3ViemhPekVjUHR2TU9ISFUya241dVFBQUFBQVNVVk9SSzVDWUlJPSIKICB9LAogIG9wdGlvbkxpc3Q6IFsKICAgIHsKICAgICAgaWQ6ICJGYWRlX3N0IiwKICAgICAgdGV4dDogIui2heaXtuiHquWKqOmakOiXjyAvIEhpZGUgYWZ0ZXIgdGltZW91dCIsCiAgICAgIGRlZmF1bHRWYWx1ZTogMQogICAgfSwgewogICAgICBpZDogIkRpc19zdCIsCiAgICAgIHRleHQ6ICLmmL7npLrkuo7mloflrZfkuIrmlrkgLyBEaXNwbGF5IGFib3ZlIHNlbGVjdGlvbiIsCiAgICAgIGRlZmF1bHRWYWx1ZTogMQogICAgfSwgewogICAgICBpZDogIlRhYl9zdCIsCiAgICAgIHRleHQ6ICLmlrDmoIfnrb7pobXmiZPlvIAgLyBPcGVuIGluIG5ldyB0YWJzIiwKICAgICAgZGVmYXVsdFZhbHVlOiAxCiAgICB9LCB7CiAgICAgIGlkOiAiRm9jdXNfc3QiLAogICAgICB0ZXh0OiAi5YmN5Y+w5qCH562+6aG15omT5byAIC8gRm9yY2UgZm9yZWdyb3VuZCB0YWJzIiwKICAgICAgZGVmYXVsdFZhbHVlOiAxCiAgICB9LCB7CiAgICAgIGlkOiAiSWZyYW1lX3N0IiwKICAgICAgdGV4dDogIuWcqElmcmFtZeS4reaYvuekui8gTG9hZCBpbiBpZnJhbWVzIiwKICAgICAgZGVmYXVsdFZhbHVlOiAwCiAgICB9LCB7CiAgICAgIGlkOiAiQ29weV9zdCIsCiAgICAgIHRleHQ6ICLoh6rliqjlpI3liLbpgInkuK3mloflrZcgLyBBdXRvIGNvcHkgc2VsZWN0aW9ucyIsCiAgICAgIGRlZmF1bHRWYWx1ZTogMAogICAgfSwgewogICAgICBpZDogIkN0cmxfc3QiLAogICAgICB0ZXh0OiAi5LuF5oyJ5LiLQ3RybOaXtuaYvuekuiAvIE9ubHkgd2hlbiBjdHJsIHByZXNzZWQiLAogICAgICBkZWZhdWx0VmFsdWU6IDAKICAgIH0sIHsKICAgICAgaWQ6ICJ1c2VyRW5naW5lX3N0IiwKICAgICAgdGV4dDogIuiHquWumuS5ieW8leaTjiAvIEVuYWJsZSBDdXN0b21pemUiLAogICAgICBkZWZhdWx0VmFsdWU6IDAKICAgIH0KICBdLAogIHVzZXJFbmdpbmVzOiBbXSwKICBkZWZhdWx0RW5naW5lczogWwogICAgewogICAgICBpZDogIlVzZXJFbmdpbmUiLAogICAgICB0aXRsZTogIkV4YW1wbGUgb2YgVXNlciBFbmdpbmUiLAogICAgICBkZXNjcmlwdGlvbjogIuiHquWumuS5ieW8leaTjuekuuS+iyAvIEV4YW1wbGUgb2YgdXNlciBlbmdpbmUiLAogICAgICBzcmM6ICJodHRwOi8vbGt5dGFsLnFpbml1ZG4uY29tL2ljLmljbyIsCiAgICAgIGhyZWY6ICJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9uZXd3aW5kb3c9MSZzYWZlPW9mZiZxPSR7dGV4dH0iCiAgICB9LCB7CiAgICAgIGlkOiAiVXNlckVuZ2luZTIiLAogICAgICB0aXRsZTogIkV4YW1wbGUgRW5naW5lIHVzZSBkYXRhVVJMIiwKICAgICAgZGVzY3JpcHRpb246ICJEYXRhVVJM5byV5pOO56S65L6LIC8gRXhhbXBsZSBFbmdpbmUgdXNlIGRhdGFVUkwiLAogICAgICBzcmM6ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQUlBQUFDUWtXZzJBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRmlVQUFCWWxBVWxTSlBBQUFBQTBTVVJCVkRoUFkvei8vejhES1lBSlNoTU5TTllBZFJJakl5T0Vqd2RBVk5MTlNjZ0E3anlzQVVoN0o0MUlEYlJPclF3TUFPZG9FaEcwZ0xTRkFBQUFBRWxGVGtTdVFtQ0MiLAogICAgICBocmVmOiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0ke3RleHR9JTIwc2l0ZToke2RvbWFpbn0iCiAgICB9CiAgXQp9OwoKcG9wRGF0YS5lbmdpbmVzID0gWwogIHsKICAgIGlkOiAiT3Blbl9zdCIsCiAgICB0aXRsZTogIk9wZW4gQXMgVXJsIiwKICAgIGRlc2NyaXB0aW9uOiAi6YCJ5Lit5paH5pys6KeG5L2c6ZO+5o6l5omT5byAIC8gT3BlbiBzZWxlY3Rpb24gYXMgdXJsIiwKICAgIGRlZmF1bHRTdGF0ZTogMCwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5saW5rSWNvbiwKICAgIGhyZWY6ICcke3Jhd1RleHR9JwogIH0sIHsKICAgIGlkOiAiU2l0ZV9zdCIsCiAgICB0aXRsZTogIlNlYXJjaCBDdXJyZW50IFdlYnNpdGUiLAogICAgZGVzY3JpcHRpb246ICLlnKjlvZPliY3nvZHnq5nlhoXmkJzntKIgLyBTZWFyY2ggaW4gY3VycmVudCB3ZWJzaXRlIiwKICAgIGRlZmF1bHRTdGF0ZTogMSwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5pblNpdGVJY29uLAogICAgaHJlZjogJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP25ld3dpbmRvdz0xJnNhZmU9b2ZmJnE9JHt0ZXh0fSUyMHNpdGU6JHtkb21haW59JwogIH0sIHsKICAgIGlkOiAiQmluZ19zdCIsCiAgICB0aXRsZTogIlNlYXJjaCB3aXRoIEJpbmciLAogICAgZGVzY3JpcHRpb246ICLlv4XlupTmkJzntKIgLyBTZWFyY2ggd2l0aCBCaW5nIiwKICAgIGRlZmF1bHRTdGF0ZTogMSwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5iaW5nSWNvbiwKICAgIGhyZWY6ICdodHRwczovL2JpbmcuY29tL3NlYXJjaD9xPSR7dGV4dH0mZm9ybT1NT1pTQlInCiAgfSwgewogICAgaWQ6ICJCYWlkdV9zdCIsCiAgICB0aXRsZTogIlNlYXJjaCB3aXRoIEJhaWR1IiwKICAgIGRlc2NyaXB0aW9uOiAi55m+5bqm5pCc57SiIC8gU2VhcmNoIHdpdGggQmFpZHUiLAogICAgZGVmYXVsdFN0YXRlOiAxLAogICAgc3JjOiBwb3BEYXRhLmljb25zLmJhaWR1SWNvbiwKICAgIGhyZWY6ICdodHRwczovL3d3dy5iYWlkdS5jb20vcz93ZD0ke3RleHR9JmllPXV0Zi04JwogIH0sIHsKICAgIGlkOiAiR29vZ2xlX3N0IiwKICAgIHRpdGxlOiAiU2VhcmNoIHdpdGggR29vZ2xlIiwKICAgIGRlc2NyaXB0aW9uOiAi6LC35q2M5pCc57SiIC8gU2VhcmNoIHdpdGggR29vZ2xlIiwKICAgIGRlZmF1bHRTdGF0ZTogMSwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5nb29nbGVJY29uLAogICAgaHJlZjogJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP25ld3dpbmRvdz0xJnNhZmU9b2ZmJnE9JHt0ZXh0fScKICB9LCB7CiAgICBpZDogIllhaG9vX3N0IiwKICAgIHRpdGxlOiAiU2VhcmNoIHdpdGggWWFob28iLAogICAgZGVzY3JpcHRpb246ICLpm4XomY7mkJzntKIgLyBTZWFyY2ggd2l0aCBZYWhvbyIsCiAgICBkZWZhdWx0U3RhdGU6IDAsCiAgICBzcmM6IHBvcERhdGEuaWNvbnMueWFob29JY29uLAogICAgaHJlZjogJ2h0dHBzOi8vc2VhcmNoLnlhaG9vLmNvbS9zZWFyY2g7P3A9JHt0ZXh0fSZlaT1VVEYtOCcKICB9LCB7CiAgICBpZDogIlRhb2Jhb19zdCIsCiAgICB0aXRsZTogIlNlYXJjaCB3aXRoIFRhb2JhbyIsCiAgICBkZXNjcmlwdGlvbjogIuaQnOe0oua3mOWunSAvIFNlYXJjaCB3aXRoIFRhb2FibyIsCiAgICBkZWZhdWx0U3RhdGU6IDEsCiAgICBzcmM6IHBvcERhdGEuaWNvbnMudGFvYmFvSWNvbiwKICAgIGhyZWY6ICdodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0ke3RleHR9JwogIH0sIHsKICAgIGlkOiAiVGllYmFfc3QiLAogICAgdGl0bGU6ICJTZWFyY2ggaW4gVGllYmEiLAogICAgZGVzY3JpcHRpb246ICLmkJzntKLotLTlkKcgLyBTZWFyY2ggd2l0aCBUaWViYSIsCiAgICBkZWZhdWx0U3RhdGU6IDAsCiAgICBzcmM6IHBvcERhdGEuaWNvbnMudGllYmFJY29uLAogICAgaHJlZjogJ2h0dHA6Ly90aWViYS5iYWlkdS5jb20vZi9zZWFyY2gvcmVzP2llPXV0Zi04JnF3PSR7dGV4dH0nCiAgfSwgewogICAgaWQ6ICJ5b3V0dWJlX3N0IiwKICAgIHRpdGxlOiAiU2VhcmNoIHdpdGggWW91dHViZSIsCiAgICBkZXNjcmlwdGlvbjogIuaQnOe0ollvdXR1YmUgLyBTZWFyY2ggd2l0aCBZb3V0dWJlIiwKICAgIGRlZmF1bHRTdGF0ZTogMSwKICAgIHNyYzogcG9wRGF0YS5pY29ucy55b3V0dWJlSWNvbiwKICAgIGhyZWY6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9yZXN1bHRzP3NlYXJjaF9xdWVyeT0ke3RleHR9JwogIH0sIHsKICAgIGlkOiAieW91a3Vfc3QiLAogICAgdGl0bGU6ICJTZWFyY2ggd2l0aCBZb3VrdSIsCiAgICBkZXNjcmlwdGlvbjogIuaQnOe0ouS8mOmFtyAvIFNlYXJjaCB3aXRoIFlvdWt1IiwKICAgIGRlZmF1bHRTdGF0ZTogMCwKICAgIHNyYzogcG9wRGF0YS5pY29ucy55b3VrdUljb24sCiAgICBocmVmOiAnaHR0cDovL3d3dy5zb2t1LmNvbS9zZWFyY2hfdmlkZW8vcV8ke3RleHR9JwogIH0sIHsKICAgIGlkOiAiYW1hem9uX3N0IiwKICAgIHRpdGxlOiAiU2VhcmNoIHdpdGggQW1hem91IiwKICAgIGRlc2NyaXB0aW9uOiAi5pCc57Si5Lqa6ams6YCKLyBTZWFyY2ggd2l0aCBBbWF6b24iLAogICAgZGVmYXVsdFN0YXRlOiAxLAogICAgc3JjOiBwb3BEYXRhLmljb25zLmFtYXpvbkljb24sCiAgICBocmVmOiAnaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zL2ZpZWxkLWtleXdvcmRzPSR7dGV4dH0nCiAgfSwgewogICAgaWQ6ICJlQmF5X3N0IiwKICAgIHRpdGxlOiAiU2VhcmNoIHdpdGggZUJheSIsCiAgICBkZXNjcmlwdGlvbjogIuaQnOe0omVCYXkgLyBTZWFyY2ggd2l0aCBlQmF5IiwKICAgIGRlZmF1bHRTdGF0ZTogMCwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5lQmF5SWNvbiwKICAgIGhyZWY6ICdodHRwOi8vd3d3LmViYXkuY29tL3NjaC9pLmh0bWw/X25rdz0ke3RleHR9Jl9zYWNhdD0wJwogIH0sIHsKICAgIGlkOiAiZG91YmFuX3N0IiwKICAgIHRpdGxlOiAiU2VhcmNoIHdpdGggRG91YmFuIiwKICAgIGRlc2NyaXB0aW9uOiAi5pCc57Si6LGG55Oj55S15b2xIC8gU2VhcmNoIHdpdGggRG91YmFuIE1vdmllIiwKICAgIGRlZmF1bHRTdGF0ZTogMCwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5kb3ViYW5JY29uLAogICAgaHJlZjogJ2h0dHBzOi8vbW92aWUuZG91YmFuLmNvbS9zdWJqZWN0X3NlYXJjaD9zZWFyY2hfdGV4dD0ke3RleHR9JwogIH0sIHsKICAgIGlkOiAiamRfc3QiLAogICAgdGl0bGU6ICJTZWFyY2ggd2l0aCBKRCIsCiAgICBkZXNjcmlwdGlvbjogIuaQnOe0ouS6rOS4nCAvIFNlYXJjaCB3aXRoIEpEIiwKICAgIGRlZmF1bHRTdGF0ZTogMCwKICAgIHNyYzogcG9wRGF0YS5pY29ucy5qZEljb24sCiAgICBocmVmOiAnaHR0cHM6Ly9zZWFyY2guamQuY29tL1NlYXJjaD9rZXl3b3JkPSR7dGV4dH0mZW5jPXV0Zi04JwogIH0sIHsKICAgIGlkOiAiV2lraV9zdCIsCiAgICB0aXRsZTogIlNlYXJjaCB3aXRoIFdpa2kiLAogICAgZGVzY3JpcHRpb246ICLmkJzntKLnu7Tln7rnmb7np5EgLyBTZWFyY2ggd2l0aCBXaWtpcGVkaWEiLAogICAgZGVmYXVsdFN0YXRlOiAwLAogICAgc3JjOiBwb3BEYXRhLmljb25zLndpa2lJY29uLAogICAgaHJlZjogJ2h0dHBzOi8vd2lraXBlZGlhLm9yZy93aWtpLyR7dGV4dH0nCiAgfQpdOwoKbG9nID0gZnVuY3Rpb24obXNnKSB7CiAgcG9wRGF0YS5jb3VudCArPSAxOwogIHJldHVybiBjb25zb2xlLmxvZygiUG9wdXAgTXNnICIgKyBwb3BEYXRhLmNvdW50ICsgIiA6ICIgKyBtc2cpOwp9OwoKaXNDaHJvbWUgPSBmdW5jdGlvbigpIHsKICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSA+IC0xKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn07CgpmaXhQb3MgPSBmdW5jdGlvbihzZWwsIGUpIHsKICB2YXIgZXZlbnRMZWZ0LCBldmVudFRvcCwgZml4LCBtX2xlZnQsIG9mZnNldExlZnQsIG9mZnNldFRvcCwgb2Zmc2V0czsKICBvZmZzZXRzID0gZ2V0X3NlbGVjdGlvbl9vZmZzZXRzKHNlbCk7CiAgb2Zmc2V0VG9wID0gb2Zmc2V0c1swXTsKICBvZmZzZXRMZWZ0ID0gb2Zmc2V0c1sxXTsKICBpZiAoZSAhPSBudWxsKSB7CiAgICBldmVudFRvcCA9IGUucGFnZVk7CiAgICBldmVudExlZnQgPSBlLnBhZ2VYOwogICAgaWYgKE1hdGguYWJzKG9mZnNldFRvcCAtIGV2ZW50VG9wKSA+IDUwKSB7CiAgICAgIG9mZnNldFRvcCA9IGV2ZW50VG9wIC0gODsKICAgIH0KICAgIGlmIChNYXRoLmFicyhvZmZzZXRMZWZ0IC0gZXZlbnRMZWZ0KSA+IDUwKSB7CiAgICAgIG9mZnNldExlZnQgPSBldmVudExlZnQgKyAxMDsKICAgIH0KICB9IGVsc2UgewogICAgJCgnI3Nob3d1cGJvZHknKS5jc3MoJ21hcmdpbi1sZWZ0JywgJzYwcHgnKTsKICB9CiAgaWYgKEdldE9wdCgnRGlzX3N0JykpIHsKICAgIG9mZnNldFRvcCA9IG9mZnNldFRvcCAtIDIgLSAkKCcjU2hvd1VwQm94JykuaGVpZ2h0KCk7CiAgICBpZiAoKG9mZnNldFRvcCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApIDwgNDApIHsKICAgICAgb2Zmc2V0VG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIDQwOwogICAgfQogIH0gZWxzZSB7CiAgICBvZmZzZXRUb3AgKz0gMS4xICogb2Zmc2V0c1syXTsKICB9CiAgbV9sZWZ0ID0gJCgnI1Nob3dVcEJveCcpLndpZHRoKCk7CiAgZml4ID0gMDsKICBpZiAob2Zmc2V0TGVmdCAtIG1fbGVmdCA8IDQpIHsKICAgIGZpeCA9IDQgLSBvZmZzZXRMZWZ0ICsgbV9sZWZ0OwogIH0KICAkKCcjU2hvd1VwQm94JykuY3NzKCJ0b3AiLCBvZmZzZXRUb3AgKyAicHgiKS5jc3MoImxlZnQiLCAob2Zmc2V0TGVmdCAtIG1fbGVmdCArIGZpeCkgKyAicHgiKTsKICByZXR1cm4gJCgnI3BvcHVwdGlwJykuY3NzKCdtYXJnaW4tbGVmdCcsIG1fbGVmdCAtIDIwIC0gZml4KTsKfTsKClRpbWVPdXRIaWRlID0gZnVuY3Rpb24oKSB7CiAgaWYgKHBvcERhdGEubW91c2VJbiA9PT0gMCAmJiBHZXRPcHQoIkZhZGVfc3QiKSAmJiAhcG9wRGF0YS5iVHJhbnMpIHsKICAgIHJldHVybiAkKCcjU2hvd1VwQm94JykuZmFkZU91dCg2MDApOwogIH0KfTsKClBvcHVwSW5pdCA9IGZ1bmN0aW9uKCkgewogIHZhciAkRGl2Qm94LCAkaWNvbiwgRW5naW5lTGlzdCwgZW5naW5lLCBqLCBrLCBsLCBsZW4sIGxlbjEsIGxlbjIsIHJlZiwgcmVmMSwgcmVmMjsKICAkKCcjU2hvd1VwQm94JykucmVtb3ZlKCk7CiAgRW5naW5lTGlzdCA9ICI8YSBpZD0nZ3RyYW5zJz48aW1nIHRpdGxlPSdUcmFuc2xhdGUnIHNyYz0nIiArIHBvcERhdGEuaWNvbnMudHJhbnNsYXRlSWNvbiArICInIC8+PC9hPiI7CiAgcmVmID0gcG9wRGF0YS5lbmdpbmVzOwogIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykgewogICAgZW5naW5lID0gcmVmW2pdOwogICAgRW5naW5lTGlzdCArPSAiPGEgaWQ9JyIgKyBlbmdpbmUuaWQgKyAiSWNvbicgaHJlZj0nJz48aW1nIHRpdGxlPSciICsgZW5naW5lLnRpdGxlICsgIicgc3JjPSciICsgZW5naW5lLnNyYyArICInIC8+PC9hPiI7CiAgfQogIGlmIChHZXRPcHQoInVzZXJFbmdpbmVfc3QiKSkgewogICAgcmVmMSA9IHBvcERhdGEudXNlckVuZ2luZXM7CiAgICBmb3IgKGsgPSAwLCBsZW4xID0gcmVmMS5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHsKICAgICAgZW5naW5lID0gcmVmMVtrXTsKICAgICAgRW5naW5lTGlzdCArPSAiPGEgaWQ9JyIgKyBlbmdpbmUuaWQgKyAiSWNvbicgaHJlZj0nJz48aW1nIHRpdGxlPSciICsgZW5naW5lLnRpdGxlICsgIicgc3JjPSciICsgZW5naW5lLnNyYyArICInIC8+PC9hPiI7CiAgICB9CiAgfQogICQoJ2JvZHknKS5hcHBlbmQoIjxzcGFuIGlkPVwiU2hvd1VwQm94XCI+IDxzcGFuIGlkPVwic2hvd3VwYm9keVwiPiA8c3BhbiBpZD1cInBvcHVwd2FwcGVyXCI+ICIgKyBFbmdpbmVMaXN0ICsgIiA8L3NwYW4+IDxzcGFuIGlkPVwiR3NwYW5cIiAvPiA8L3NwYW4+IDwvc3Bhbj4iKTsKICAkRGl2Qm94ID0gJCgnI1Nob3dVcEJveCcpOwogICREaXZCb3guaGlkZSgpOwogICREaXZCb3gub24oImNsaWNrIG1vdXNlZG93biBkYmxjbGljayBtb3VzZXVwIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgIHJldHVybiBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICB9KTsKICAkRGl2Qm94LmhvdmVyKGZ1bmN0aW9uKCkgewogICAgJCh0aGlzKS5mYWRlVG8oMTUwLCAxKTsKICAgIHJldHVybiBwb3BEYXRhLm1vdXNlSW4gPSAxOwogIH0sIGZ1bmN0aW9uKCkgewogICAgaWYgKHBvcERhdGEuYlRyYW5zID09PSAwICYmICQodGhpcykuaXMoIjp2aXNpYmxlIikgJiYgJCh0aGlzKS5hdHRyKCJvcGFjaXR5IikgPT09IDEpIHsKICAgICAgJCh0aGlzKS5mYWRlVG8oMzAwLCAwLjcpOwogICAgICBjbGVhclRpbWVvdXQocG9wRGF0YS50aW1lcik7CiAgICAgIHBvcERhdGEudGltZXIgPSBzZXRUaW1lb3V0KFRpbWVPdXRIaWRlLCA2MDAwKTsKICAgIH0KICAgIHJldHVybiBwb3BEYXRhLm1vdXNlSW4gPSAwOwogIH0pOwogICQoJyNwb3B1cHdhcHBlcicpLm9uKCJtb3VzZXVwIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgIGlmIChldmVudC53aGljaCA9PT0gMykgewogICAgICBDb3B5VGV4dCgpOwogICAgICAkKCcjU2hvd1VwQm94JykuZmFkZU91dCgyMDApOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgaWYgKGV2ZW50LndoaWNoID09PSAyKSB7CiAgICAgIEdNX29wZW5JblRhYihkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0pOwogICQoJyNwb3B1cHdhcHBlcicpLm9uKCJjb250ZXh0bWVudSIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfSk7CiAgJCgnI2d0cmFucycpLm9uKCJjbGljayIsIG9uVHJhbnNsYXRlKTsKICByZWYyID0gcG9wRGF0YS5lbmdpbmVzOwogIGZvciAobCA9IDAsIGxlbjIgPSByZWYyLmxlbmd0aDsgbCA8IGxlbjI7IGwrKykgewogICAgZW5naW5lID0gcmVmMltsXTsKICAgICRpY29uID0gJCgiIyIgKyBlbmdpbmUuaWQgKyAiSWNvbiIpOwogICAgaWYgKCFHZXRPcHQoZW5naW5lLmlkKSkgewogICAgICAkaWNvbi5oaWRlKCk7CiAgICB9CiAgICAkaWNvbi5vbigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgICAgIGlmIChpc0Nocm9tZSgpKSB7CiAgICAgICAgR01fb3BlbkluVGFiKCQodGhpcykuYXR0cignaHJlZicpLCB7CiAgICAgICAgICBhY3RpdmU6IEdldE9wdCgiRm9jdXNfc3QiKSA9PT0gMQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIEdNX29wZW5JblRhYigkKHRoaXMpLmF0dHIoJ2hyZWYnKSwgIUdldE9wdCgiRm9jdXNfc3QiKSk7CiAgICAgIH0KICAgICAgJCgnI1Nob3dVcEJveCcpLmZhZGVPdXQoMjAwKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgfQogIGlmIChHZXRPcHQoJ1RhYl9zdCcpKSB7CiAgICAkRGl2Qm94LmZpbmQoJ2EnKS5hdHRyKCd0YXJnZXQnLCAnX2JsYW5rJyk7CiAgfSBlbHNlIHsKICAgICREaXZCb3guZmluZCgnYScpLmF0dHIoJ3RhcmdldCcsICdfc2VsZicpOwogIH0KICBpZiAoR2V0T3B0KCdEaXNfc3QnKSkgewogICAgcG9wRGF0YS50aXAgPSBwb3BEYXRhLnRpcHVwOwogICAgcmV0dXJuICREaXZCb3guYXBwZW5kKCc8c3BhbiBpZD0icG9wdXB0aXAiIGNsYXNzPSJ0aXB1cCI+PC9zcGFuPicpOwogIH0gZWxzZSB7CiAgICBwb3BEYXRhLnRpcCA9IHBvcERhdGEudGlwZG93bjsKICAgIHJldHVybiAkRGl2Qm94LnByZXBlbmQoJzxzcGFuIGlkPSJwb3B1cHRpcCIgY2xhc3M9InRpcGRvd24iPjwvc3Bhbj4nKTsKICB9Cn07CgphamF4RXJyb3IgPSBmdW5jdGlvbihyZXMpIHsKICByZXR1cm4gJCgnI0dzcGFuJykuZW1wdHkoKS5hcHBlbmQoIjxwPlRyYW5zbGF0ZSBFcnJvcjo8YnIgLz4iICsgcmVzLnN0YXR1c1RleHQgKyAiPC9wPiIpLnNob3coKTsKfTsKCm9uVHJhbnNsYXRlID0gZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogIHBvcERhdGEuYlRyYW5zID0gMTsKICAkKCIjR3NwYW4iKS5lbXB0eSgpLmFwcGVuZCgiPGRpdiBzdHlsZT0ncGFkZGluZzoxMHB4Oyc+PGltZyBzcmM9JyIgKyBwb3BEYXRhLmljb25zLnBlbmRpbmcgKyAiJyAvPjwvZGl2PiIpLnNob3coKTsKICAkKCcjcG9wdXB3YXBwZXInKS5oaWRlKCk7CiAgZml4UG9zKGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpKTsKICByZXR1cm4gZG9SZXF1ZXN0KDAsIDEwMDApOwp9OwoKZG9SZXF1ZXN0ID0gZnVuY3Rpb24oaSwgd2FpdCkgewogIHZhciBFcnJIYW5kbGU7CiAgRXJySGFuZGxlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZG9SZXF1ZXN0KGkgKyAxLCB3YWl0ICsgMjAwMCk7CiAgfTsKICBpZiAoaSA+PSAyKSB7CiAgICBFcnJIYW5kbGUgPSBhamF4RXJyb3I7CiAgfQogIHJldHVybiBHTV94bWxodHRwUmVxdWVzdCh7CiAgICBtZXRob2Q6ICdQT1NUJywKICAgIHVybDogJ2h0dHBzOi8vdHJhbnNsYXRlLmdvb2dsZS5jbi90cmFuc2xhdGVfYS9zaW5nbGUnLAogICAgZGF0YTogImNsaWVudD1ndHgmZGo9MSZxPSIgKyBwb3BEYXRhLnRleHQgKyAiJnNsPWF1dG8mdGw9YXV0byZpZT1VVEYtOCZvZT1VVEYtOCZzb3VyY2U9aWNvbiZkdD10JmR0PWJkIiwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICB9LAogICAgdGltZW91dDogd2FpdCwKICAgIG9ubG9hZDogcHJhc2VUcmFuc2xhdGlvbkdvb2dsZSwKICAgIG9uZXJyb3I6IEVyckhhbmRsZSwKICAgIG9udGltZW91dDogRXJySGFuZGxlCiAgfSk7Cn07CgpwcmFzZVRyYW5zbGF0aW9uR29vZ2xlID0gZnVuY3Rpb24ocmVzcG9uc2VEZXRhaWxzKSB7CiAgdmFyIFBpY2tNZWFuaW5nLCBSZXN1bHQsIFJsaW5lLCBSdHh0LCBsaW5lLCBzZW50ZW5jZTsKICBpZiAoIXBvcERhdGEuYlRyYW5zKSB7CiAgICByZXR1cm47CiAgfQogIHRyeSB7CiAgICBSdHh0ID0gSlNPTi5wYXJzZShyZXNwb25zZURldGFpbHMucmVzcG9uc2VUZXh0KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmV0dXJuIGFqYXhFcnJvcihyZXNwb25zZURldGFpbHMpOwogIH0KICBSbGluZSA9IChmdW5jdGlvbigpIHsKICAgIHZhciBqLCBsZW4sIHJlZiwgcmVzdWx0czsKICAgIHJlZiA9IFJ0eHQuc2VudGVuY2VzOwogICAgcmVzdWx0cyA9IFtdOwogICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7CiAgICAgIHNlbnRlbmNlID0gcmVmW2pdOwogICAgICByZXN1bHRzLnB1c2goc2VudGVuY2UudHJhbnMpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfSkoKTsKICBQaWNrTWVhbmluZyA9IGZ1bmN0aW9uKGxpc3QpIHsKICAgIHZhciBpLCBpdGVtLCBqLCBsZW4sIHJlc3VsdHM7CiAgICByZXN1bHRzID0gW107CiAgICBmb3IgKGkgPSBqID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7IGogPCBsZW47IGkgPSArK2opIHsKICAgICAgaXRlbSA9IGxpc3RbaV07CiAgICAgIGlmIChpdGVtLnNjb3JlID4gMC4wMDUgfHwgaSA8IDMpIHsKICAgICAgICByZXN1bHRzLnB1c2goaXRlbS53b3JkKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKICBpZiAoUnR4dC5kaWN0ICE9IG51bGwpIHsKICAgIFJsaW5lICs9IChmdW5jdGlvbigpIHsKICAgICAgdmFyIGosIGxlbiwgcmVmLCByZXN1bHRzOwogICAgICByZWYgPSBSdHh0LmRpY3Q7CiAgICAgIHJlc3VsdHMgPSBbXTsKICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7CiAgICAgICAgbGluZSA9IHJlZltqXTsKICAgICAgICByZXN1bHRzLnB1c2goIjxicj4iICsgKGxpbmUucG9zICsgIiA6ICIgKyAoUGlja01lYW5pbmcobGluZS5lbnRyeSkpKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9KSgpOwogIH0KICBSZXN1bHQgPSAiPGRpdiBpZD1cInRyYW5Sc3RcIiBzdHlsZT1cImZvbnQtc2l6ZToxM3B4O292ZXJmbG93OmF1dG87cGFkZGluZzo1cHggMTJweDtcIj4gPGRpdiBzdHlsZT1cImxpbmUtaGVpZ2h0OjIwMCU7Zm9udC1zaXplOjEzcHg7XCI+ICIgKyBSbGluZSArICIgPC9kaXY+IDwvZGl2PiI7CiAgJCgnI0dzcGFuJykuZW1wdHkoKS5hcHBlbmQoUmVzdWx0KS5zaG93KCk7CiAgZml4UG9zKGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpKTsKfTsKCiQoZG9jdW1lbnQpLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbihldmVudCkgewogIHBvcERhdGEubW91c2Vkb3duRXZlbnQgPSBldmVudDsKICBpZiAocG9wRGF0YS5iVHJhbnMgPT09IDEpIHsKICAgIFBvcHVwSW5pdCgpOwogIH0KICByZXR1cm4gJCgnI1Nob3dVcEJveCcpLmhpZGUoKTsKfSk7CgokKGRvY3VtZW50KS5vbigibW91c2V1cCIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LndoaWNoICE9PSAxKSB7CiAgICByZXR1cm47CiAgfQogIGlmIChHZXRPcHQoJ0N0cmxfc3QnKSAmJiAhZXZlbnQuY3RybEtleSkgewogICAgcmV0dXJuOwogIH0KICByZXR1cm4gU2hvd0JhcihldmVudCk7Cn0pOwoKZXZlbnRGcm9tVGV4dGJveCA9IGZ1bmN0aW9uKGV2ZW50TGlzdCkgewogIHZhciBldmVudCwgaiwgbGVuOwogIGZvciAoaiA9IDAsIGxlbiA9IGV2ZW50TGlzdC5sZW5ndGg7IGogPCBsZW47IGorKykgewogICAgZXZlbnQgPSBldmVudExpc3Rbal07CiAgICBpZiAoJChldmVudC50YXJnZXQpLmlzKCd0ZXh0YXJlYSwgaW5wdXRbdHlwZT10ZXh0XSwgaW5wdXRbdHlwZT1zZWFyY2hdLCAqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJykpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQogIHJldHVybiBmYWxzZTsKfTsKCkluVGV4dEJveCA9IGZ1bmN0aW9uKHNlbGVjdGlvbikgewogIHZhciBhcmVhLCBqLCBsZW4sIHJlZjsKICBpZiAoaXNDaHJvbWUoKSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICByZWYgPSAkKCd0ZXh0YXJlYSwgaW5wdXRbdHlwZT10ZXh0XSwgaW5wdXRbdHlwZT1zZWFyY2hdLCAqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJywgZG9jdW1lbnQpOwogIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykgewogICAgYXJlYSA9IHJlZltqXTsKICAgIGlmIChzZWxlY3Rpb24uY29udGFpbnNOb2RlKGFyZWEsIHRydWUpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KICByZXR1cm4gZmFsc2U7Cn07CgpTaG93QmFyID0gZnVuY3Rpb24oZXZlbnQpIHsKICB2YXIgZW5naW5lLCBqLCBrLCBsZW4sIGxlbjEsIHBhcmFMaXN0LCByZWYsIHJlZjEsIHNlbCwgc2V0SHJlZjsKICBzZWwgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTsKICBwb3BEYXRhLnJhd1RleHQgPSBzZWwudG9TdHJpbmcoKTsKICBwb3BEYXRhLnRleHQgPSBlbmNvZGVVUklDb21wb25lbnQocG9wRGF0YS5yYXdUZXh0KTsKICBpZiAocG9wRGF0YS5yYXdUZXh0ID09PSAnJyB8fCBJblRleHRCb3goc2VsKSB8fCBldmVudEZyb21UZXh0Ym94KFtldmVudCwgcG9wRGF0YS5tb3VzZWRvd25FdmVudF0pKSB7CiAgICByZXR1cm47CiAgfQogIGlmIChHZXRPcHQoIkNvcHlfc3QiKSkgewogICAgQ29weVRleHQocG9wRGF0YS5yYXdUZXh0KTsKICB9CiAgJCgnI0dzcGFuJykuZW1wdHkoKS5oaWRlKCk7CiAgcGFyYUxpc3QgPSB7CiAgICAiXFwke3Jhd1RleHR9IjogcG9wRGF0YS5yYXdUZXh0LAogICAgIlxcJHt0ZXh0fSI6IHBvcERhdGEudGV4dCwKICAgICJcXCR7ZG9tYWlufSI6IGRvY3VtZW50LmRvbWFpbiwKICAgICJcXCR7dXJsfSI6IGxvY2F0aW9uLmhyZWYKICB9OwogIHNldEhyZWYgPSBmdW5jdGlvbihlbmdpbmUpIHsKICAgIHZhciBocmVmLCBwYXJhLCB2YWx1ZTsKICAgIGhyZWYgPSBlbmdpbmUuaHJlZjsKICAgIGZvciAocGFyYSBpbiBwYXJhTGlzdCkgewogICAgICBpZiAoIWhhc1Byb3AuY2FsbChwYXJhTGlzdCwgcGFyYSkpIGNvbnRpbnVlOwogICAgICB2YWx1ZSA9IHBhcmFMaXN0W3BhcmFdOwogICAgICBocmVmID0gaHJlZi5yZXBsYWNlKFJlZ0V4cCgiIiArIHBhcmEsICJnIiksIHZhbHVlKTsKICAgIH0KICAgIHJldHVybiAkKCIjIiArIGVuZ2luZS5pZCArICJJY29uIikuYXR0cigiaHJlZiIsIGhyZWYpOwogIH07CiAgcmVmID0gcG9wRGF0YS5lbmdpbmVzOwogIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykgewogICAgZW5naW5lID0gcmVmW2pdOwogICAgc2V0SHJlZihlbmdpbmUpOwogIH0KICByZWYxID0gcG9wRGF0YS51c2VyRW5naW5lczsKICBmb3IgKGsgPSAwLCBsZW4xID0gcmVmMS5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHsKICAgIGVuZ2luZSA9IHJlZjFba107CiAgICBzZXRIcmVmKGVuZ2luZSk7CiAgfQogIGlmIChwb3BEYXRhLnJhd1RleHQuaW5kZXhPZignaHR0cDovLycpID09PSAtMSAmJiBwb3BEYXRhLnJhd1RleHQuaW5kZXhPZignaHR0cHM6Ly8nKSA9PT0gLTEpIHsKICAgICQoJyNPcGVuX3N0SWNvbicpLmF0dHIoJ2hyZWYnLCAiaHR0cDovLyIgKyBwb3BEYXRhLnJhd1RleHQpOwogIH0KICBwb3BEYXRhLm1vdXNlSW4gPSAwOwogIHBvcERhdGEuYlRyYW5zID0gMDsKICBjbGVhclRpbWVvdXQocG9wRGF0YS50aW1lcik7CiAgcG9wRGF0YS50aW1lciA9IHNldFRpbWVvdXQoVGltZU91dEhpZGUsIDYwMDApOwogIGZpeFBvcyhzZWwsIGV2ZW50KTsKICByZXR1cm4gJCgnI1Nob3dVcEJveCcpLmNzcygnb3BhY2l0eScsIDAuOSkuZmFkZUluKDE1MCk7Cn07CgpDb3B5VGV4dCA9IGZ1bmN0aW9uKHNlbHR4dCkgewogIHZhciBlOwogIGlmIChzZWx0eHQgPT0gbnVsbCkgewogICAgc2VsdHh0ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTsKICB9CiAgdHJ5IHsKICAgIHJldHVybiBHTV9zZXRDbGlwYm9hcmQoc2VsdHh0LCAidGV4dCIpOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBlID0gZXJyb3I7CiAgICBpZiAoR2V0T3B0KCJDb3B5X3N0IikpIHsKICAgICAgYWxlcnQoIkVSUk9SOiBBdXRvIGNvcHlpbmcgbm90IHN1cHBvcnRlZCBhbmQgd2lsbCBiZSBkaXNhYmxlZCBub3ciKTsKICAgICAgcmV0dXJuIFNldE9wdCgiQ29weV9zdCIsIDApOwogICAgfQogIH0KfTsKCkdldE9wdCA9IGZ1bmN0aW9uKGlkKSB7CiAgcmV0dXJuIEdNX2dldFZhbHVlKGlkKTsKfTsKClNhdmVPcHQgPSBmdW5jdGlvbihpZCkgewogIHJldHVybiBHTV9zZXRWYWx1ZShpZCwgJCgiIyIgKyBpZCArICIgPiBpbnB1dCIpLnByb3AoImNoZWNrZWQiKSArIDApOwp9OwoKUmVhZE9wdCA9IGZ1bmN0aW9uKGlkKSB7CiAgcmV0dXJuICQoIiMiICsgaWQgKyAiID4gaW5wdXQiKS5wcm9wKCJjaGVja2VkIiwgR01fZ2V0VmFsdWUoaWQpKTsKfTsKCk9wZW5TZXQgPSBmdW5jdGlvbigpIHsKICBpZiAoJCgnI3BvcHVwX3NldHRpbmdfYmcnKS5sZW5ndGggPT09IDApIHsKICAgIFNldHRpbmdXaW4oKTsKICB9CiAgcmV0dXJuICQoJyNwb3B1cF9zZXR0aW5nX2JnJykuZmFkZUluKDQwMCk7Cn07CgpTZXR0aW5nV2luID0gZnVuY3Rpb24oKSB7CiAgdmFyIGNoc0pTT04sIGVuZ0pTT04sIGVuZ2luZSwgZW5naW5lT3B0aW9uTGlzdCwgZ2VuZXJhdGVFbmdpbmVPcHRpb24sIGdlbmVyYXRlT3B0aW9uLCBpdGVtLCBqLCBsZW4sIG9wdGlvbiwgb3B0aW9uTGlzdCwgcmVmOwogIGFkZEFkaXRpb25hbENTUygpOwogICQoJyNwb3B1cF9zZXR0aW5nX2JnJykucmVtb3ZlKCk7CiAgZ2VuZXJhdGVPcHRpb24gPSBmdW5jdGlvbihvcHRpb24pIHsKICAgIHJldHVybiAiPHNwYW4gaWQ9JyIgKyBvcHRpb24uaWQgKyAiJyBjbGFzcz0nc2V0dGluZ19pdGVtJz4gPGltZyBzcmM9IiArIHBvcERhdGEuaWNvbnMuc2V0dGluZ0ljb24gKyAiIC8+IDxzcGFuIGNsYXNzPSd0ZXh0Jz4iICsgb3B0aW9uLnRleHQgKyAiPC9zcGFuPiA8aW5wdXQgY2xhc3M9J3RnbCB0Z2wtZmxhdCcgaWQ9JyIgKyBvcHRpb24uaWQgKyAiX2NoZWNrYm94JyB0eXBlPSdjaGVja2JveCc+IDxsYWJlbCBjbGFzcz0ndGdsLWJ0bicgZm9yPSciICsgb3B0aW9uLmlkICsgIl9jaGVja2JveCc+PC9sYWJlbD4gPC9zcGFuPiI7CiAgfTsKICBvcHRpb25MaXN0ID0gKChmdW5jdGlvbigpIHsKICAgIHZhciBqLCBsZW4sIHJlZiwgcmVzdWx0czsKICAgIHJlZiA9IHBvcERhdGEub3B0aW9uTGlzdDsKICAgIHJlc3VsdHMgPSBbXTsKICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykgewogICAgICBvcHRpb24gPSByZWZbal07CiAgICAgIHJlc3VsdHMucHVzaChnZW5lcmF0ZU9wdGlvbihvcHRpb24pKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0pKCkpLmpvaW4oJyAnKTsKICBnZW5lcmF0ZUVuZ2luZU9wdGlvbiA9IGZ1bmN0aW9uKGVuZ2luZSkgewogICAgcmV0dXJuICI8c3BhbiBpZD0nIiArIGVuZ2luZS5pZCArICInIGNsYXNzPSdzZXR0aW5nX2l0ZW0nPiA8aW1nIHNyYz0iICsgZW5naW5lLnNyYyArICIgLz4gPHNwYW4gY2xhc3M9J3RleHQnPiIgKyBlbmdpbmUuZGVzY3JpcHRpb24gKyAiPC9zcGFuPiA8aW5wdXQgY2xhc3M9J3RnbCB0Z2wtZmxhdCcgaWQ9JyIgKyBlbmdpbmUuaWQgKyAiX2NoZWNrYm94JyB0eXBlPSdjaGVja2JveCc+IDxsYWJlbCBjbGFzcz0ndGdsLWJ0bicgZm9yPSciICsgZW5naW5lLmlkICsgIl9jaGVja2JveCc+PC9sYWJlbD4gPC9zcGFuPiI7CiAgfTsKICBlbmdpbmVPcHRpb25MaXN0ID0gKChmdW5jdGlvbigpIHsKICAgIHZhciBqLCBsZW4sIHJlZiwgcmVzdWx0czsKICAgIHJlZiA9IHBvcERhdGEuZW5naW5lczsKICAgIHJlc3VsdHMgPSBbXTsKICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykgewogICAgICBlbmdpbmUgPSByZWZbal07CiAgICAgIHJlc3VsdHMucHVzaChnZW5lcmF0ZUVuZ2luZU9wdGlvbihlbmdpbmUpKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0pKCkpLmpvaW4oJyAnKTsKICBlbmdKU09OID0gJ1tcbiAgICB7XG4gICAgICAgIGlkIDogIlVzZXJFbmdpbmUiLFxuICAgICAgICB0aXRsZSA6ICJFeGFtcGxlIEVuZ2luZSIsXG4gICAgICAgIGRlc2NyaXB0aW9uIDogIkV4YW1wbGUgb2YgdXNlci1kZWZpbmVkIGVuZ2luZSIsXG4gICAgICAgIHNyYyA6ICJodHRwOi8vbGt5dGFsLnFpbml1ZG4uY29tL2ljLmljbyIsXG4gICAgICAgIGhyZWYgOiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0ke3RleHR9IlxuICAgIH1cbl0nOwogIGNoc0pTT04gPSAnW1xuICAgIHtcbiAgICAgICAgaWQgOiAiVXNlckVuZ2luZSIsXG4gICAgICAgIHRpdGxlIDogIkV4YW1wbGUgRW5naW5lIixcbiAgICAgICAgZGVzY3JpcHRpb24gOiAi6Ieq5a6a5LmJ5byV5pOO5a6e5L6LIixcbiAgICAgICAgc3JjIDogImh0dHA6Ly9sa3l0YWwucWluaXVkbi5jb20vaWMuaWNvIixcbiAgICAgICAgaHJlZiA6ICJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPSR7dGV4dH0iXG4gICAgfVxuXSc7CiAgJCgiYm9keSIpLmFwcGVuZCgiPGRpdiBpZD0ncG9wdXBfc2V0dGluZ19iZyc+IDxkaXYgaWQ9J3BvcHVwX3NldHRpbmdfd2luJz4gPGRpdiBpZD0ncG9wdXBfdGl0bGUnPlBvcFVwIFNlYXJjaCBTZXR0aW5nPC9kaXY+IDxkaXYgaWQ9J3BvcHVwX2NvbnRlbnQnPiA8ZGl2IGlkPSd0YWJzX2JveCc+IDxkaXYgaWQ9J3BvcHVwX3RhYjEnIGNsYXNzPSdwb3B1cF90YWIgcG9wdXBfc2VsZWN0ZWQnPumAiemhuSAvIEdlbmVyYWw8L2Rpdj4gPGRpdiBpZD0ncG9wdXBfdGFiMicgY2xhc3M9J3BvcHVwX3RhYic+5pCc57Si5byV5pOOIC8gRW5naW5lczwvZGl2PiA8ZGl2IGlkPSdwb3B1cF90YWIzJyBjbGFzcz0ncG9wdXBfdGFiJz7oh6rlrprkuYkgLyBDdXN0b21pemU8L2Rpdj4gPGRpdiBpZD0ncG9wdXBfdGFiNCcgY2xhc3M9J3BvcHVwX3RhYic+5YWz5LqOIC8gQWJvdXQ8L2Rpdj4gPC9kaXY+IDxkaXYgaWQ9J3BhZ2VfYm94Jz4gPGRpdiBpZD0nb3B0aW9uX2JveCc+IDxkaXYgaWQ9J3BvcHVwX3RhYjFQYWdlJz4gIiArIG9wdGlvbkxpc3QgKyAiIDwvZGl2PiA8ZGl2IGlkPSdwb3B1cF90YWIyUGFnZSc+ICIgKyBlbmdpbmVPcHRpb25MaXN0ICsgIiA8L2Rpdj4gPGRpdiBpZD0ncG9wdXBfdGFiM1BhZ2UnPiA8ZGl2IGlkPSdlZGl0VGl0bGUnPiA8ZGl2PjxiPuivt+mYheivu+W4ruWKqSAvIFJlYWQgSEVMUCBmaXJzdDwvYj48L2Rpdj4gPHNwYW4gaWQ9J3BvcEhlbHAnPjx1PkhlbHA8L3U+PC9zcGFuPiA8c3BhbiBpZD0ncG9wUmVzZXQnPjx1PlJlc2V0PC91Pjwvc3Bhbj4gPC9kaXY+IDx0ZXh0YXJlYSBpZD0ncG9wdXBfZW5naW5lcyc+PC90ZXh0YXJlYT4gPC9kaXY+IDxkaXYgaWQ9J3BvcHVwX3RhYjRQYWdlJz4gPGgzPkF1dGh1cmVkIGJ5IExreXRhbDwvaDM+IDxwPiBZb3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCB1bmRlciA8YSBocmVmPSdodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1uYy1zYS80LjAvJz4gQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbi1Ob25Db21tZXJjaWFsLVNoYXJlQWxpa2UgTGlzZW5jZSA8L2E+IDwvcD4gPHAgY2xhc3M9J2NvbnRhY3QtbGluZSc+IFNvdXJjZSBDb2RlIGF0PGJyPiBHaXQgT1NDaGluYSA8YSBjbGFzcz0ndGFiLXRleHQnIGhyZWY9J2h0dHBzOi8vZ2l0Lm9zY2hpbmEubmV0L2NvbGRmaXJlL0dNJz4gaHR0cHM6Ly9naXQub3NjaGluYS5uZXQvY29sZGZpcmUvR00gPC9hPiA8YnIgLz4gR2l0aHViIDxhIGNsYXNzPSd0YWItdGV4dCcgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2xreXRhbC9HTSc+IGh0dHBzOi8vZ2l0aHViLmNvbS9sa3l0YWwvR00gPC9hPiA8L3A+IDxwPiBDb250YWN0Ojxicj4gR2l0aHViIDxhIGNsYXNzPSd0YWItdGV4dCcgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2xreXRhbCc+IGh0dHBzOi8vZ2l0aHViLmNvbS9sa3l0YWwvIDwvYT4gPGJyPiBHcmVhc3kgZm9yayA8YSBjbGFzcz0ndGFiLXRleHQnIGhyZWY9J2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vdXNlcnMvMTUyLWxreXRhbCc+IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vdXNlcnMvMTUyLWxreXRhbCA8L2E+IDwvcD4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPSdidG5hcmVhJz4gPGRpdiBpZD0ncG9wdXBfc2F2ZScgY2xhc3M9J3NldHRpbmdfYnRuJz5TYXZlPC9kaXY+IDxkaXYgaWQ9J3BvcHVwX2Nsb3NlJyBjbGFzcz0nc2V0dGluZ19idG4nPkNsb3NlPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPSdwb3B1cF9oZWxwX2JnJz4gPGRpdiBpZD0ncG9wdXBfaGVscF93aW4nPiA8ZGl2IGlkPSdwb3B1cF9oZWxwX2NvbnRlbnQnPiA8ZGl2IGlkPSdoZWxwbGFuZyc+IDxzcGFuIGlkPSdlbmdIZWFkJyBjbGFzcz0ncG9wdXBfaGVhZF9zZWxlY3RlZCc+RW5nbGlzaDwvc3Bhbj4gPHNwYW4gaWQ9J2Noc0hlYWQnPuS4reaWhzwvc3Bhbj4gPC9kaXY+IDxkaXYgaWQ9J2hlbHBfYm94Jz4gPGRpdiBpZD0nZW5nQ29udGVudCc+IFRoZSBjb250ZW50IG9mIGN1c3RvbSBlbmdpbmUgc2hvdWxkIGJlIGluIHN0YW5kYXJkIEpTT04gZm9ybWF0LCBpbiBmb3JtcyBvZiBmb2xsb3dpbmc6IDxwcmU+ICIgKyBlbmdKU09OICsgIiA8L3ByZT4gVGhlICdpZCcgc2hvdWxkIGJlIHVuaXF1ZSBmb3IgZXZlcnkgZW50cnkgYW5kIG11c3QgTk9UIGNvbnRhaW4gYW55IHNwYWNlIGNoYXJhY3RlciAsIHRoZSAndGl0bGUnIGFuZCB0aGUgJ2Rlc2NyaXB0aW9uJyBjYW4gYmUgYW55IHRleHQgeW91IGxpa2UsIHRoZSAnc3JjJyBpbmRpY2F0ZXMgdGhlIGljb24gb2YgZXZlcnkgZW50cnksIHNob3VsZCBiZSB0aGUgdXJsIHRvIGFuIGltYWdlIG9yIGEgPGEgaHJlZj0naHR0cDovL2RhdGF1cmwubmV0LyNhYm91dCc+RGF0YVVSTDwvYT4uIFRoZSAnaHJlZicgaXMgdGhlIGxpbmsgdG8gYmUgb3BlbiB1cG9uIGNsaWNrLCB5b3UgbWF5IGhhdmUgbm90aWNlZCB0aGUgJyR7dGV4dH0nIHZhcmlhYmxlLCB3aGljaCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHNlbGVjdGVkIHRleHQgb3Igb3RoZXIgc3RyaW5ncywgdGhlIGF2YWxpYWJsZSB2YXJpYWJsZXMgYXJlOiA8YnI+PGJyPiAke3RleHR9IDogd2lsbCBiZSByZXBsYWNlZCBieSBzZWxlY3RlZCB0ZXh0IChVcmwgZW5jb2RlZCwgc2hvdWxkIHVzZSB0aGlzIGluIGRlZmF1bHQpPGJyPiAke3Jhd1RleHR9IDogd2lsbCBiZSByZXBsYWNlZCBieSB1bnRvdWNoZWQgc2VsZWN0ZWQgdGV4dDxicj4gJHtkb21haW59IDogd2lsbCBiZSByZXBsYWNlZCBieSBjb3JyZW50IHVybFwncyBkb21haW48YnI+ICR7dXJsfSA6IHdpbGwgYmUgcmVwbGFjZWQgYnkgY29ycmVudCB3ZWJwYWdlXCdzIHVybDxicj4gPGJyPiBOb3RlOiBZb3UgY2FuJ3QgbW9kaWZ5IGJ1aWx0LWluIGVuZ2luZXMgZGlyZWN0bHksIGhvd2V2ZXIsIHlvdSBjYW4gZGlzYWJsZSB0aGVtIGFuZCBhZGQgeW91ciBvd24uIDwvZGl2PiA8ZGl2IGlkPSdjaHNDb250ZW50Jz4g6Ieq5a6a5LmJ5byV5pOO5YaF5a655bqU5b2T5piv5ZCI5rOV55qESlNPTuagvOW8jywg5aaC5LiLIDxwcmU+ICIgKyBjaHNKU09OICsgIiA8L3ByZT4g5q+P5LiA6aG555qEIGlkIOW/hemhu+WQhOS4jeebuOWQjOS4lOS4jeiDveWQq+acieepuuagvCwgdGl0bGUg5ZKMIGRlc2NyaXB0aW9uIOWPr+S7pemaj+aEj+Whq+WGmSwgc3JjIOaYr+ivpemhueeahOWbvuaghywg5Y+v5Lul5piv5oyH5ZCR5Zu+5qCH55qEIHVybCDmiJbogIXmmK/kuIDkuKogPGEgaHJlZj0naHR0cDovL2RhdGF1cmwubmV0LyNhYm91dCc+RGF0YVVSTDwvYT4uIGhyZWYg5piv5byV5pOO55qEIHVybCDpk77mjqUsIOWFtuS4reWPr+S7peWMheWQq+ivuOWmgiAke3RleHR9IOi/meagt+eahOWPmOmHjywg5Y+v55So55qE5Y+Y6YeP5pyJOjxicj48YnI+ICR7dGV4dH0gOiDku6PooajpgInkuK3mloflrZcsIOe7j+i/hyB1cmwgZW5jb2RpbmcsIOS4gOiIrOW6lOW9k+S9v+eUqOatpOmhuTxicj4gJHtyYXdUZXh0fSA6IOS7o+ihqOacque7jyBlbmNvZGluZyDnmoTljp/lp4vpgInkuK3mloflrZc8YnI+ICR7ZG9tYWlufSA6IOS7o+ihqOW9k+WJjemhtemdoueahOWfn+WQjTxicj4gJHt1cmx9IDog5Luj6KGo5b2T5YmN6aG16Z2i55qEIHVybCDlnLDlnYA8YnI+IDxicj4g5rOo5oSPOiDlhoXnva7lvJXmk47ml6Dms5Xnm7TmjqXkv67mlLksIOS9oOWPr+S7peemgeeUqOWug+S7rOeEtuWQjua3u+WKoOS9oOiHquWumuS5ieeahOW8leaTjiA8L2Rpdj4gPC9kaXY+IDxkaXYgaWQ9J2hlbHBfYnRuYXJlYSc+IDxkaXYgaWQ9J3BvcHVwX2hlbHBfY2xvc2UnIGNsYXNzPSdzZXR0aW5nX2J0bic+Q2xvc2U8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiIpOwogICQoIiNwb3B1cF9zZXR0aW5nX2JnLCAjcG9wdXBfaGVscF9iZyIpLmhpZGUoKTsKICAkKCIjdGFic19ib3ggPiAucG9wdXBfdGFiIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewogICAgJCgiI3RhYnNfYm94ID4gLnBvcHVwX3RhYiIpLnJlbW92ZUNsYXNzKCJwb3B1cF9zZWxlY3RlZCIpOwogICAgJCh0aGlzKS5hZGRDbGFzcygicG9wdXBfc2VsZWN0ZWQiKTsKICAgICQoIiNvcHRpb25fYm94ID4gZGl2IikuaGlkZSgpOwogICAgcmV0dXJuICQoIiMiICsgJCh0aGlzKS5hdHRyKCJpZCIpICsgIlBhZ2UiKS5zaG93KCk7CiAgfSk7CiAgJCgiI29wdGlvbl9ib3ggPiBkaXYiKS5oaWRlKCk7CiAgJCgiI3RhYnNfYm94ID4gLnBvcHVwX3RhYi5wb3B1cF9zZWxlY3RlZCIpLmNsaWNrKCk7CiAgJCgiI2Noc0NvbnRlbnQiKS5oaWRlKCk7CiAgJCgiI2VuZ0hlYWQiKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewogICAgJCgiI2VuZ0hlYWQiKS5hZGRDbGFzcygicG9wdXBfaGVhZF9zZWxlY3RlZCIpOwogICAgJCgiI2Noc0hlYWQiKS5yZW1vdmVDbGFzcygicG9wdXBfaGVhZF9zZWxlY3RlZCIpOwogICAgJCgiI2VuZ0NvbnRlbnQiKS5zaG93KCk7CiAgICByZXR1cm4gJCgiI2Noc0NvbnRlbnQiKS5oaWRlKCk7CiAgfSk7CiAgJCgiI2Noc0hlYWQiKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewogICAgJCgiI2VuZ0hlYWQiKS5yZW1vdmVDbGFzcygicG9wdXBfaGVhZF9zZWxlY3RlZCIpOwogICAgJCgiI2Noc0hlYWQiKS5hZGRDbGFzcygicG9wdXBfaGVhZF9zZWxlY3RlZCIpOwogICAgJCgiI2VuZ0NvbnRlbnQiKS5oaWRlKCk7CiAgICByZXR1cm4gJCgiI2Noc0NvbnRlbnQiKS5zaG93KCk7CiAgfSk7CiAgcmVmID0gJCgiI3BvcHVwX3NldHRpbmdfd2luIC5zZXR0aW5nX2l0ZW0iKTsKICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHsKICAgIGl0ZW0gPSByZWZbal07CiAgICBpZiAoaXRlbSAhPSBudWxsKSB7CiAgICAgIFJlYWRPcHQoaXRlbS5pZCk7CiAgICB9CiAgfQogICQoIiNwb3B1cF9lbmdpbmVzIikudmFsKEdNX2dldFZhbHVlKCJlbmdpbmVTdHJpbmciLCBwb3BEYXRhLmRlZmF1bHRFbmdpbmVTdHJpbmcpKTsKICAkKCIjcG9wUmVzZXQiKS5jbGljayhmdW5jdGlvbigpIHsKICAgIGlmIChjb25maXJtKCJSZXNldD8iKSkgewogICAgICByZXR1cm4gJCgiI3BvcHVwX2VuZ2luZXMiKS52YWwocG9wRGF0YS5kZWZhdWx0RW5naW5lU3RyaW5nKTsKICAgIH0KICB9KTsKICAkKCIjcG9wSGVscCIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICQoIiNwb3B1cF9oZWxwX2JnIikuZmFkZUluKCk7CiAgfSk7CiAgaWYgKCFHZXRPcHQoInVzZXJFbmdpbmVfc3QiKSkgewogICAgJCgiI3BvcHVwX3RhYjMiKS5oaWRlKCk7CiAgfQogICQoIiNwb3B1cF9zYXZlIikuY2xpY2soZnVuY3Rpb24oKSB7CiAgICB2YXIgaywgbGVuMSwgcmVmMSwgdXNlckVuZ2luZVN0cmluZzsKICAgIHJlZjEgPSAkKCIjcG9wdXBfc2V0dGluZ193aW4gLnNldHRpbmdfaXRlbSIpOwogICAgZm9yIChrID0gMCwgbGVuMSA9IHJlZjEubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7CiAgICAgIGl0ZW0gPSByZWYxW2tdOwogICAgICBpZiAoaXRlbSAhPSBudWxsKSB7CiAgICAgICAgU2F2ZU9wdChpdGVtLmlkKTsKICAgICAgfQogICAgfQogICAgdXNlckVuZ2luZVN0cmluZyA9ICQoIiNwb3B1cF9lbmdpbmVzIikudmFsKCk7CiAgICBpZiAodXNlckVuZ2luZVN0cmluZyAhPT0gIiIpIHsKICAgICAgdHJ5IHsKICAgICAgICBwb3BEYXRhLnVzZXJFbmdpbmVzID0gSlNPTi5wYXJzZSh1c2VyRW5naW5lU3RyaW5nKTsKICAgICAgICBHTV9zZXRWYWx1ZSgiZW5naW5lU3RyaW5nIiwgdXNlckVuZ2luZVN0cmluZyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgYWxlcnQoIuaQnOe0ouWIl+ihqOmUmeivryHor7fmo4Dmn6VcbkVuZ2luZSBjb25maWcgRXJyb3IhIik7CiAgICAgICAgbG9nKHVzZXJFbmdpbmVTdHJpbmcpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gJCgiI3BvcHVwX3NldHRpbmdfYmciKS5mYWRlT3V0KDMwMCwgZnVuY3Rpb24oKSB7CiAgICAgICQoIiNwb3B1cF9zZXR0aW5nX2JnIikucmVtb3ZlKCk7CiAgICAgIHJldHVybiBQb3B1cEluaXQoKTsKICAgIH0pOwogIH0pOwogICQoIiNwb3B1cF9jbG9zZSwgI3BvcHVwX3NldHRpbmdfYmciKS5jbGljayhmdW5jdGlvbigpIHsKICAgIHJldHVybiAkKCIjcG9wdXBfc2V0dGluZ19iZyIpLmZhZGVPdXQoMzAwLCBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICQoIiNwb3B1cF9zZXR0aW5nX2JnIikucmVtb3ZlKCk7CiAgICB9KTsKICB9KTsKICAkKCIjcG9wdXBfaGVscF9iZywgI3BvcHVwX2hlbHBfY2xvc2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgICByZXR1cm4gJCgiI3BvcHVwX2hlbHBfYmciKS5mYWRlT3V0KCk7CiAgfSk7CiAgcmV0dXJuICQoJyNwb3B1cF9zZXR0aW5nX3dpbiwgI3BvcHVwX2hlbHBfd2luLCAjcG9wdXBfaGVscF9iZycpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpOwogIH0pOwp9OwoKVXBkYXRlTG9nID0gZnVuY3Rpb24oKSB7CiAgYWRkQWRpdGlvbmFsQ1NTKCk7CiAgJCgiYm9keSIpLmFwcGVuZCgiPGRpdiBpZD0ncG9wdXBfdXBkYXRlX2JnJz4gPGRpdiBpZD0ncG9wdXBfdXBkYXRlX3dpbic+IDxkaXYgaWQ9J3VwZGF0ZV9oZWFkZXInPiBQb3B1cCBTZWFyY2ggVXBkYXRlZCAodmVyIDQuMS4wKSA8L2Rpdj4gPGRpdiBpZD0ncG9wdXBfdXBkYXRlX2NvbnRlbnQnPiA8ZGl2IGlkPSd1cGRhdGVfdGV4dHMnPiA8cD4gPGgzPuatpOeJiOacrOW8leWFpeeahOmHjeimgeaUueWPmDo8L2gzPiA8cD4g6Ieq5a6a5LmJ5byV5pOO5Yqf6IO95byA5pS+LCDngrnlh7sgJ09wZW4gc2V0dGluZycg5Y+v5Lul5omT5byA6K6+572u5bm25ZCv55So6K+l5Yqf6IO9LiDor7forrDlvpflnKjoh6rlrprkuYnliY3or7fngrnlh7snSEVMUCfmjInpkq7ku6XpmIXor7vluK7liqnmlofmoaMuIDwvcD4gPHA+IOazqOaEjzog5ZCv55So6Ieq5a6a5LmJ5byV5pOO5ZCOLCDph43mlrDmiZPlvIDorr7nva7nqpflj6PmiY3kvJrnlJ/mlYguIDwvcD4gPC9wPiA8cD4gPGgzPldoYXQncyBuZXcgaW4gdGhpcyB2ZXJzaW9uOjwvaDM+IDxwPiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIG93biBlbmdpbmVzIG5vdy4gQ2xpY2sgJ09wZW4gc2V0dGluZycgdG8gY2hlY2sgaXQgb3V0LiBSZW1lbWJlciB0byByZWFkICdIRUxQJyBiZWZvcmUgZWRpdC4gPC9wPiA8cD4gTm90ZTogQWZ0ZXIgeW91IGVuYWJsZWQgY3VzdG9taXphdGlvbiwgcmVvcGVuIHNldHRpbmcgd2luZG93IHRvIHRha2UgZWZmZWN0LiA8L3A+IDwvcD4gPC9kaXY+IDxkaXYgaWQ9J3VwZGF0ZV9idG5hcmVhJz4gPGRpdiBpZD0ncG9wdXBfdXBkYXRlX29wZW4nIGNsYXNzPSdzZXR0aW5nX2J0bic+T3BlbiBTZXR0aW5nPC9kaXY+IDxkaXYgaWQ9J3BvcHVwX3VwZGF0ZV9jbG9zZScgY2xhc3M9J3NldHRpbmdfYnRuJz5DbG9zZTwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4iKTsKICAkKCcjcG9wdXBfdXBkYXRlX29wZW4nKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewogICAgVXBkYXRlTm90aWZpY2F0ZWQoKTsKICAgICQoIiNwb3B1cF91cGRhdGVfYmciKS5oaWRlKCk7CiAgICBPcGVuU2V0KCk7CiAgfSk7CiAgcmV0dXJuICQoJyNwb3B1cF91cGRhdGVfY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkgewogICAgVXBkYXRlTm90aWZpY2F0ZWQoKTsKICAgICQoIiNwb3B1cF91cGRhdGVfYmciKS5oaWRlKCk7CiAgfSk7Cn07CgpVcGRhdGVOb3RpZmljYXRlZCA9IGZ1bmN0aW9uKCkgewogIHJldHVybiBHTV9zZXRWYWx1ZSgiVXBkYXRlQWxlcnQiLCBwb3BEYXRhLmNvZGVWZXJzaW9uKTsKfTsKClBvcHVwTG9hZCA9IGZ1bmN0aW9uKCkgewogIHZhciBlbmdpbmUsIGosIGssIGxlbiwgbGVuMSwgb3B0aW9uLCBwb3B1cG1lbnUsIHJlZiwgcmVmMSwgc2V0RGVmYXVsdCwgdXNlckVuZ2luZVN0cmluZzsKICBpZiAod2luZG93LnNlbGYgIT09IHdpbmRvdy50b3AgfHwgd2luZG93LmZyYW1lRWxlbWVudCkgewogICAgaWYgKCFHTV9nZXRWYWx1ZSgiSWZyYW1lX3N0IiwgMCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogIH0KICBhZGRDU1MoKTsKICBpZiAoR01fZ2V0VmFsdWUoIlVwZGF0ZUFsZXJ0IiwgMCkgPCBwb3BEYXRhLmNvZGVWZXJzaW9uKSB7CiAgICBzZXREZWZhdWx0ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsdWUpIHsKICAgICAgcmV0dXJuIEdNX3NldFZhbHVlKGtleSwgR01fZ2V0VmFsdWUoa2V5LCBkZWZhdWx0VmFsdWUpKTsKICAgIH07CiAgICByZWYgPSBwb3BEYXRhLm9wdGlvbkxpc3Q7CiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHsKICAgICAgb3B0aW9uID0gcmVmW2pdOwogICAgICBzZXREZWZhdWx0KG9wdGlvbi5pZCwgb3B0aW9uLmRlZmF1bHRWYWx1ZSk7CiAgICB9CiAgICByZWYxID0gcG9wRGF0YS5lbmdpbmVzOwogICAgZm9yIChrID0gMCwgbGVuMSA9IHJlZjEubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7CiAgICAgIGVuZ2luZSA9IHJlZjFba107CiAgICAgIHNldERlZmF1bHQoZW5naW5lLmlkLCBlbmdpbmUuZGVmYXVsdFN0YXRlKTsKICAgIH0KICAgIFVwZGF0ZUxvZygpOwogIH0KICBwb3BEYXRhLmRlZmF1bHRFbmdpbmVTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwb3BEYXRhLmRlZmF1bHRFbmdpbmVzLCBudWxsLCA0KTsKICBpZiAoR2V0T3B0KCJ1c2VyRW5naW5lX3N0IikpIHsKICAgIHVzZXJFbmdpbmVTdHJpbmcgPSBHTV9nZXRWYWx1ZSgiZW5naW5lU3RyaW5nIiwgcG9wRGF0YS5kZWZhdWx0RW5naW5lU3RyaW5nKTsKICAgIHRyeSB7CiAgICAgIHBvcERhdGEudXNlckVuZ2luZXMgPSBKU09OLnBhcnNlKHVzZXJFbmdpbmVTdHJpbmcpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgbG9nKHVzZXJFbmdpbmVTdHJpbmcpOwogICAgfQogIH0KICBQb3B1cEluaXQoKTsKICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCJQb3B1cCBTZWFyY2ggU2V0dGluZyAvIOiuvue9riIsIE9wZW5TZXQsICdwJyk7CiAgaWYgKEdNX2dldFZhbHVlKCJQb3B1cE1lbnUiLCAwKSkgewogICAgcG9wdXBtZW51ID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJtZW51IikpOwogICAgcG9wdXBtZW51Lm91dGVySFRNTCA9ICc8bWVudSBpZD0idXNlcnNjcmlwdC1wb3B1cCIgdHlwZT0iY29udGV4dCI+PG1lbnVpdGVtIGlkPSJQb3B1cHNldCIgbGFiZWw9IlBvcHVwIFNlYXJjaOiuvue9riI+PC9tZW51aXRlbT48L21lbnU+JzsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNQb3B1cHNldCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgT3BlblNldCwgZmFsc2UpOwogICAgcmV0dXJuICQoZG9jdW1lbnQpLm9uKCJjb250ZXh0bWVudSIsIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoImNvbnRleHRtZW51IiwgInVzZXJzY3JpcHQtcG9wdXAiKTsKICAgIH0pOwogIH0KfTsKCnNldFRpbWVvdXQoUG9wdXBMb2FkLCAxMDApOwoKYWRkQ1NTID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIEdNX2FkZFN0eWxlKCIjU2hvd1VwQm94IHsgYWxsOiB1bnNldDsgd2lkdGg6IGF1dG87IGhlaWdodDogYXV0bzsgcG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiAxMDI0MDsgY29sb3I6IGJsYWNrOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGxpbmUtaGVpZ2h0OiAwOyB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7IGJveC1zaXppbmc6IGNvbnRlbnQtYm94OyB9ICNzaG93dXBib2R5IHsgbWluLXdpZHRoOiAyMHB4OyBtYXgtd2lkdGg6IDc1MHB4OyBtaW4taGVpZ2h0OiAyMHB4OyBtYXgtaGVpZ2h0OiA1MDBweDsgZGlzcGxheTogYmxvY2s7IGJvcmRlcjpzb2xpZCAycHggcmdiKDE0NCwxNDQsMTQ0KTsgYm9yZGVyLXJhZGl1czoxcHg7IGJhY2tncm91bmQ6cmdiYSgyNTIsIDI1MiwgMjUyLCAxKTsgfSAjcG9wdXB3YXBwZXIgeyBhbGw6IHVuc2V0OyBtYXJnaW46IDNweCAycHggMy44cHggMnB4OyBkaXNwbGF5OmJsb2NrOyBsaW5lLWhlaWdodDogMDsgZm9udC1zaXplOjA7IH0gI0dzcGFuIHsgbGluZS1oZWlnaHQ6IG5vcm1hbDsgd2lkdGg6IGF1dG87IGZvbnQtc2l6ZTogMTZweDsgb3ZlcmZsb3c6IGF1dG87IGRpc3BsYXk6IG5vbmU7IH0gI1Nob3dVcEJveCBpbWcgeyBhbGw6IHVuc2V0OyBtYXJnaW46IDBweCAycHg7IGhlaWdodDogMjRweDsgd2lkdGg6IDI0cHg7IGJvcmRlci1yYWRpdXM6IDBweDsgcGFkZGluZzogMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7IC1tb3otdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xczsgLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjFzOyB9ICNTaG93VXBCb3ggaW1nOmhvdmVyIHsgbWFyZ2luOiAtMXB4IDFweCAtMXB4IDFweDsgaGVpZ2h0OiAyNnB4OyB3aWR0aDogMjZweDsgfSAjcG9wdXB0aXAgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNsZWFyOiBib3RoOyBoZWlnaHQ6IDlweDsgd2lkdGg6IDlweDsgfSAudGlwdXAgeyBiYWNrZ3JvdW5kOiB1cmwoIiArIHBvcERhdGEuaWNvbnMudGlwdXAgKyAiKSAwcHggMHB4IG5vLXJlcGVhdCB0cmFuc3BhcmVudDsgbWFyZ2luLXRvcDogLTJweDsgbWFyZ2luLWJvdHRvbTogMHB4OyB9IC50aXBkb3duIHsgYmFja2dyb3VuZDogdXJsKCIgKyBwb3BEYXRhLmljb25zLnRpcGRvd24gKyAiKSAwcHggMHB4IG5vLXJlcGVhdCB0cmFuc3BhcmVudDsgbWFyZ2luLXRvcDogMHB4OyBtYXJnaW4tYm90dG9tOiAtMnB4OyB9ICNTaG93VXBCb3ggYSB7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9Iik7Cn07CgphZGRBZGl0aW9uYWxDU1MgPSBmdW5jdGlvbigpIHsKICBpZiAocG9wRGF0YS5hZGRpdGlvbmFsQ1NTTG9hZGVkID09PSAxKSB7CiAgICByZXR1cm47CiAgfQogIHBvcERhdGEuYWRkaXRpb25hbENTU0xvYWRlZCA9IDE7CiAgcmV0dXJuIEdNX2FkZFN0eWxlKCIjcG9wdXBfc2V0dGluZ19iZyB7IGFsbDogdW5zZXQ7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyB6LWluZGV4OjEwMjQwMDsgZm9udC1mYW1pbHk6IFwiSGlyYWdpbm8gU2FucyBHQlwiLCBcIk1pY3Jvc29mdCBZYWhlaVwiLCBBcmlhbCwgc2Fucy1zZXJpZjsgZGlzcGxheTogLXdlYmtpdC1mbGV4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgfSAjcG9wdXBfc2V0dGluZ193aW4geyBhbGw6IHVuc2V0OyB3aWR0aDogNzYwcHg7IGhlaWdodDogOTAlOyBib3gtc2hhZG93OiAwIDAgMTBweCAjMjIyOyBib3gtc2l6aW5nOiBjb250ZW50LWJveCAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTgpOyBvdmVyZmxvdzogaGlkZGVuOyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IC1tb3otZmxleDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfSAjcG9wdXBfdGl0bGUgeyBmb250LXNpemU6MjRweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogIzE2QTA4NTsgY29sb3I6IHdoaXRlOyBmbGV4LXNocmluazogMDsgaGVpZ2h0OiA0MHB4OyB9ICNwb3B1cF9jb250ZW50IHsgZmxleC1ncm93OiAxOyBmbGV4LXNocmluazogMTsgaGVpZ2h0OiBjYWxjKDEwMCUgLSA3MHB4KTsgcGFkZGluZzogMHB4OyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IC1tb3otZmxleDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogc3RyZXRjaDsgfSAjdGFic19ib3ggeyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IC1tb3otZmxleDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgZmxleC1iYXNpczogMjUlOyBmbGV4LXNocmluazogMDsgYmFja2dyb3VuZDogI0VFRTsgfSAucG9wdXBfdGFiIHsgd2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNFRUU7IHBhZGRpbmc6IDE1cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGN1cnNvcjogcG9pbnRlcjsgdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IH0gLnBvcHVwX3RhYjpob3ZlciB7IGJhY2tncm91bmQ6ICNjY2M7IH0gLnBvcHVwX3NlbGVjdGVkIHsgYm9yZGVyLXJpZ2h0OiBub25lOyBiYWNrZ3JvdW5kOiAjRkZGOyB9IC5wb3B1cF9zZWxlY3RlZDpob3ZlciB7IGJhY2tncm91bmQ6ICNGRkY7IH0gI3BhZ2VfYm94IHsgcGFkZGluZzogMjBweCAzMHB4OyBmbGV4LWdyb3c6IDE7IGZsZXgtc2hyaW5rOiAxOyBtYXgtaGVpZ2h0OiAxMDAlOyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IC1tb3otZmxleDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfSAjb3B0aW9uX2JveCB7IGRpc3BsYXk6IC13ZWJraXQtZmxleDsgZGlzcGxheTogLW1vei1mbGV4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogc3RyZXRjaDsgZmxleC1ncm93OiAxOyBmbGV4LXNocmluazogMTsgb3ZlcmZsb3cteTogYXV0bzsgfSAjb3B0aW9uX2JveCA+IGRpdiB7IHNjcm9sbC1iZWhhdmlvcjogc21vb3RoOyBmbGV4LWdyb3c6IDE7IGRpc3BsYXk6IC13ZWJraXQtZmxleDsgZGlzcGxheTogLW1vei1mbGV4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogc3RyZXRjaDsgfSAjcG9wdXBfZW5naW5lcyB7IGZsZXgtZ3JvdzogMTsgYm9yZGVyOiBzb2xpZCAycHggI2RkZDsgdGV4dC1vdmVyZmxvdzogY2xpcDsgd2hpdGUtc3BhY2U6IHByZTsgb3ZlcmZsb3cteDogYXV0bzsgb3ZlcmZsb3cteTogYXV0bzsgd29yZC13cmFwOiBicmVhay13b3JkOyByZXNpemU6IG5vbmU7IH0gI2VkaXRUaXRsZSB7IHBhZGRpbmc6IDBweCAwcHggMTVweCAwcHg7IGRpc3BsYXk6IC13ZWJraXQtZmxleDsgZGlzcGxheTogLW1vei1mbGV4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IH0gI2VkaXRUaXRsZSBkaXYgeyBmbGV4LWdyb3c6IDE7IH0gI2VkaXRUaXRsZSBzcGFuIHsgbWFyZ2luLWxlZnQ6IDIwcHg7IGNvbG9yIDogIzFBQkM5QzsgY3Vyc29yOiBwb2ludGVyOyB9ICNidG5hcmVhIHsgZGlzcGxheTogLXdlYmtpdC1mbGV4OyBkaXNwbGF5OiAtbW96LWZsZXg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IG1hcmdpbi10b3A6IDIwcHg7IGZsZXgtc2hyaW5rOiAwOyB9IC5zZXR0aW5nX2J0biB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1peC13aWR0aDogNTBweDsgcGFkZGluZzogNHB4IDEwcHggNHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDJweDsgbWFyZ2luOiAwcHggMHB4IDBweCAyMHB4OyBiYWNrZ3JvdW5kOiAjMUFCQzlDOyBjb2xvcjogI2ZmZjsgY3Vyc29yOiBwb2ludGVyOyB1c2VyLXNlbGVjdDogbm9uZTsgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgfSAuc2V0dGluZ19idG46aG92ZXIgeyB0ZXh0LXNoYWRvdzogMHB4IDBweCAycHggI0ZGRjsgfSAuc2V0dGluZ19pdGVtIHsgbWluLWhlaWdodDogMjhweDsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW46IDVweCAwcHggMTBweCAwcHg7IGRpc3BsYXk6IC13ZWJraXQtZmxleDsgZGlzcGxheTogLW1vei1mbGV4OyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyB9IC5zZXR0aW5nX2l0ZW0gPiBpbWcgeyB3aWR0aDogMjRweDsgaGVpZ2h0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IDdweDsgfSAuc2V0dGluZ19pdGVtIC50ZXh0eyBmbGV4LWdyb3c6IDE7IGZvbnQtc2l6ZTogMTZweDsgfSAjcG9wdXBfaGVscF9iZyB7IGFsbDogdW5zZXQ7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgZGlzcGxheTogLXdlYmtpdC1mbGV4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgei1pbmRleDogMTAyNDAwMDA7IH0gI3BvcHVwX2hlbHBfd2luIHsgYWxsOiB1bnNldDsgd2lkdGg6IDY1MHB4OyBoZWlnaHQ6IDgwJTsgYm94LXNoYWRvdzogMCAwIDEwcHggIzIyMjsgYm94LXNpemluZzogY29udGVudC1ib3ggIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjk4KTsgcGFkZGluZzogMjBweDsgZGlzcGxheTogLXdlYmtpdC1mbGV4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogc3RyZXRjaDsgLypvdmVyZmxvdzogaGlkZGVuOyovIH0gI3BvcHVwX2hlbHBfY29udGVudCB7IG1heC1oZWlnaHQ6IDEwMCU7IGZsZXgtZ3JvdzogMTsgZGlzcGxheTogLXdlYmtpdC1mbGV4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogc3RyZXRjaDsgfSAjaGVscGxhbmcgeyBmbGV4LWdyb3c6IDA7IGZsZXgtc2hyaW5rOiAwOyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IGZsZXg7IGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjY2NjOyB9ICNoZWxwbGFuZyBzcGFuIHsgcGFkZGluZzogOHB4IDMwcHg7IG1hcmdpbi1ib3R0b206IC0xcHg7IGN1cnNvcjogcG9pbnRlcjsgdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IH0gI2hlbHBsYW5nIHNwYW4ucG9wdXBfaGVhZF9zZWxlY3RlZCB7IGJvcmRlci10b3A6IHNvbGlkIDFweCAjY2NjOyBib3JkZXItbGVmdDogc29saWQgMXB4ICNjY2M7IGJvcmRlci1yaWdodDogc29saWQgMXB4ICNjY2M7IGJvcmRlci1ib3R0b206IHNvbGlkIDNweCAjRkZGOyB9ICNoZWxwX2JveCB7IG92ZXJmbG93LXk6IGF1dG87IGZsZXgtZ3JvdzogMTsgZmxleC1zaHJpbms6IDE7IG1hcmdpbi10b3A6IDE1cHg7IH0gI2hlbHBfYm94ID4gZGl2IHsgd29yZC13cmFwOiBicmVhay13b3JkOyB9ICNoZWxwX2J0bmFyZWEgeyBmbGV4LWdyb3c6IDA7IGZsZXgtc2hyaW5rOiAwOyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IG1hcmdpbi10b3A6IDIwcHg7IH0gI3BvcHVwX3VwZGF0ZV9iZyB7IGFsbDogdW5zZXQ7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsgcG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyB6LWluZGV4OiAxMDI0MDAwOyBmb250LWZhbWlseTogXCJIaXJhZ2lubyBTYW5zIEdCXCIsIFwiTWljcm9zb2Z0IFlhaGVpXCIsIEFyaWFsLCBzYW5zLXNlcmlmOyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyB9ICNwb3B1cF91cGRhdGVfd2luIHsgYWxsOiB1bnNldDsgd2lkdGg6IDUwJTsgaGVpZ2h0OiA4MCU7IGJveC1zaGFkb3c6MCAwIDEwcHggIzIyMjsgYm94LXNpemluZzogY29udGVudC1ib3ggIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjk4KTsgb3ZlcmZsb3c6IGhpZGRlbjsgZm9udC1zaXplOiAxNnB4OyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IC1tb3otZmxleDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfSAjdXBkYXRlX2hlYWRlciB7IGZvbnQtc2l6ZTogMjRweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogIzE2QTA4NTsgY29sb3I6IHdoaXRlOyBmbGV4LXNocmluazogMDsgaGVpZ2h0OiA0MHB4OyB9ICNwb3B1cF91cGRhdGVfY29udGVudCB7IGZsZXgtZ3JvdzogMTsgZmxleC1zaHJpbms6IDE7IGhlaWdodDogY2FsYygxMDAlIC0gNzBweCk7IG92ZXJmbG93OiBhdXRvOyBwYWRkaW5nOiAxNXB4OyBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IGRpc3BsYXk6IC1tb3otZmxleDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogc3RyZXRjaDsgfSAjdXBkYXRlX3RleHRzeyBmbGV4LWdyb3c6IDE7IGZsZXgtc2hyaW5rOiAxOyB9ICN1cGRhdGVfYnRuYXJlYSB7IGZsZXgtZ3JvdzogMDsgZmxleC1zaHJpbms6IDA7IGRpc3BsYXk6IC13ZWJraXQtZmxleDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsgbWFyZ2luLXRvcDogMjBweDsgfSAjdW5zaG93biB7IGRpc3BsYXk6IG5vbmU7IH0gLnRnbCB7IGRpc3BsYXk6IG5vbmU7IH0gLnRnbCwgLnRnbDphZnRlciwgLnRnbDpiZWZvcmUsIC50Z2wgKiwgLnRnbCAqOmFmdGVyLCAudGdsICo6YmVmb3JlLCAudGdsKy50Z2wtYnRuIHsgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OyAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0gLnRnbDo6LW1vei1zZWxlY3Rpb24sIC50Z2w6YWZ0ZXI6Oi1tb3otc2VsZWN0aW9uLCAudGdsOmJlZm9yZTo6LW1vei1zZWxlY3Rpb24sIC50Z2wgKjo6LW1vei1zZWxlY3Rpb24sIC50Z2wgKjphZnRlcjo6LW1vei1zZWxlY3Rpb24sIC50Z2wgKjpiZWZvcmU6Oi1tb3otc2VsZWN0aW9uLCAudGdsKy50Z2wtYnRuOjotbW96LXNlbGVjdGlvbiB7IGJhY2tncm91bmQ6IG5vbmU7IH0gLnRnbDo6c2VsZWN0aW9uLCAudGdsOmFmdGVyOjpzZWxlY3Rpb24sIC50Z2w6YmVmb3JlOjpzZWxlY3Rpb24sIC50Z2wgKjo6c2VsZWN0aW9uLCAudGdsICo6YWZ0ZXI6OnNlbGVjdGlvbiwgLnRnbCAqOmJlZm9yZTo6c2VsZWN0aW9uLCAudGdsKy50Z2wtYnRuOjpzZWxlY3Rpb24geyBiYWNrZ3JvdW5kOiBub25lOyB9IC50Z2wrLnRnbC1idG4geyBvdXRsaW5lOiAwOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA0ZW07IGhlaWdodDogMmVtOyBwb3NpdGlvbjogcmVsYXRpdmU7IGN1cnNvcjogcG9pbnRlcjsgfSAudGdsKy50Z2wtYnRuOmFmdGVyLCAudGdsKy50Z2wtYnRuOmJlZm9yZSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb250ZW50OiBcIlwiOyB3aWR0aDogNTAlOyBoZWlnaHQ6IDEwMCU7IH0gLnRnbCsudGdsLWJ0bjphZnRlciB7IGxlZnQ6IDA7IH0gLnRnbCsudGdsLWJ0bjpiZWZvcmUgeyBkaXNwbGF5OiBub25lOyB9IC50Z2w6Y2hlY2tlZCsudGdsLWJ0bjphZnRlciB7IGxlZnQ6IDUwJTsgfSAudGdsLWZsYXQrLnRnbC1idG4geyBwYWRkaW5nOiAycHg7IC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlOyB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2U7IGJhY2tncm91bmQ6ICNmZmY7IGJvcmRlcjogNHB4IHNvbGlkICNmMmYyZjI7IGJvcmRlci1yYWRpdXM6IDJlbTsgfSAudGdsLWZsYXQrLnRnbC1idG46YWZ0ZXIgeyAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAuMnMgZWFzZTsgdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlOyBiYWNrZ3JvdW5kOiAjZjJmMmYyOyBjb250ZW50OiBcIlwiOyBib3JkZXItcmFkaXVzOiAxZW07IH0gLnRnbC1mbGF0OmNoZWNrZWQrLnRnbC1idG4geyBib3JkZXI6IDRweCBzb2xpZCAjMUFCQzlDOyB9IC50Z2wtZmxhdDpjaGVja2VkKy50Z2wtYnRuOmFmdGVyIHsgbGVmdDogNTAlOyBiYWNrZ3JvdW5kOiAjMUFCQzlDOyB9Iik7Cn07CgpnZXRMYXN0UmFuZ2UgPSBmdW5jdGlvbihzZWxlY3Rpb24pIHsKICB2YXIgaiwgcmFuZ2VOdW0sIHJlZjsKICBmb3IgKHJhbmdlTnVtID0gaiA9IHJlZiA9IHNlbGVjdGlvbi5yYW5nZUNvdW50IC0gMTsgcmVmIDw9IDAgPyBqIDw9IDAgOiBqID49IDA7IHJhbmdlTnVtID0gcmVmIDw9IDAgPyArK2ogOiAtLWopIHsKICAgIGlmICghc2VsZWN0aW9uLmdldFJhbmdlQXQocmFuZ2VOdW0pLmNvbGxhcHNlZCkgewogICAgICByZXR1cm4gc2VsZWN0aW9uLmdldFJhbmdlQXQocmFuZ2VOdW0pOwogICAgfQogIH0KICByZXR1cm4gc2VsZWN0aW9uLmdldFJhbmdlQXQoc2VsZWN0aW9uLnJhbmdlQ291bnQgLSAxKTsKfTsKCmdldF9zZWxlY3Rpb25fb2Zmc2V0cyA9IGZ1bmN0aW9uKHNlbGVjdGlvbikgewogIHZhciAkdGVzdF9zcGFuLCBSZWN0LCBsYXN0UmFuZ2UsIG5ld1JhbmdlOwogICR0ZXN0X3NwYW4gPSAkKCc8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmU7Ij54PC9zcGFuPicpOwogIGxhc3RSYW5nZSA9IGdldExhc3RSYW5nZShzZWxlY3Rpb24pOwogIG5ld1JhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICBuZXdSYW5nZS5zZXRTdGFydChsYXN0UmFuZ2UuZW5kQ29udGFpbmVyLCBsYXN0UmFuZ2UuZW5kT2Zmc2V0KTsKICBuZXdSYW5nZS5pbnNlcnROb2RlKCR0ZXN0X3NwYW5bMF0pOwogIFJlY3QgPSAkdGVzdF9zcGFuWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICR0ZXN0X3NwYW4ucmVtb3ZlKCk7CiAgcmV0dXJuIFtSZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZLCBSZWN0LmxlZnQgKyB3aW5kb3cuc2Nyb2xsWCwgMCwgMF07Cn07Cg=="},{"name":"Super_preloaderPlus_one","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http*://mail.google.com/*","http*://maps.google*","http*://www.google.com/reader*","http*://www.google.com/calendar*","https://docs.google.com/*","http*://app.yinxiang.com/*","http*://www.dropbox.com/*","http*://www.toodledo.com/*","http://cloud.feedly.com/*","http://weibo.com/*","http://w.qq.com/*","http://web2.qq.com/*","http://openapi.qzone.qq.com/*","http://*cloud.vip.xunlei.com/*","http*://www.wumii.com/*","http://pan.baidu.com/*","http://yun.baidu.com/*","http://www.cnbeta.com/*","http://www.youku.com/","http://v.youku.com/*","http://www.iqiyi.com/*","http://www.duokan.com/reader/*"],"orig_includes":["http*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":["tripadvisor.cn"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970053},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/10433-super-preloaderplus-one/code/Super_preloaderPlus_one.user.js","uuid":"e8fe4eac-7cc7-4787-bea7-4e107072dca4","source":"KGZ1bmN0aW9uKCkgewovLyA9PVVzZXJTY3JpcHQ9PQovLyBAbmFtZSAgICAgICAgIFN1cGVyX3ByZWxvYWRlclBsdXNfb25lCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9naXRodWIuY29tL3l3emhhaXFpCi8vIEBkZXNjcmlwdGlvbiAg6aKE6K+7K+e/u+mhtS4u5YWo5Yqg6YCf5L2g55qE5rWP6KeI5L2T6aqMLi4uCi8vIEBhdXRob3IgICAgICAgeXd6aGFpcWkgJiYgTkxGKOWOn+S9nOiAhSkKLy8gQHZlcnNpb24gICAgICA2LjUuMAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yOTMtc3VwZXItcHJlbG9hZGVycGx1cy1vbmUKCi8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCgovLyBAaW5jbHVkZSAgICAgIGh0dHAqCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly9tYWlsLmdvb2dsZS5jb20vKgovLyBAZXhjbHVkZSAgICAgIGh0dHAqOi8vbWFwcy5nb29nbGUqCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly93d3cuZ29vZ2xlLmNvbS9yZWFkZXIqCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly93d3cuZ29vZ2xlLmNvbS9jYWxlbmRhcioKLy8gQGV4Y2x1ZGUgICAgICBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly9hcHAueWlueGlhbmcuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwKjovL3d3dy5kcm9wYm94LmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly93d3cudG9vZGxlZG8uY29tLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwOi8vY2xvdWQuZmVlZGx5LmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3dlaWJvLmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3cucXEuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwOi8vd2ViMi5xcS5jb20vKgovLyBAZXhjbHVkZSAgICAgIGh0dHA6Ly9vcGVuYXBpLnF6b25lLnFxLmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovLypjbG91ZC52aXAueHVubGVpLmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cCo6Ly93d3cud3VtaWkuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3l1bi5iYWlkdS5jb20vKgovLyBAZXhjbHVkZSAgICAgIGh0dHA6Ly93d3cuY25iZXRhLmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3d3dy55b3VrdS5jb20vCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3YueW91a3UuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwOi8vd3d3LmlxaXlpLmNvbS8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3d3dy5kdW9rYW4uY29tL3JlYWRlci8qCi8vID09L1VzZXJTY3JpcHQ9PQoKCi8vIOS4u+imgeeUqOS6jiBjaHJvbWUg5Y6f55Sf5LiL5qOA5p+l5pu05paw77yM5Lmf5Y+v55So5LqO5omL5Yqo5qOA5p+l5pu05pawCnZhciBzY3JpcHRJbmZvID0gewogICAgdmVyc2lvbjogJzYuNS4wJywKICAgIHVwZGF0ZVRpbWU6ICcyMDE1LzEvMTAnLAogICAgaG9tZXBhZ2VVUkw6ICdodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjkzLXN1cGVyLXByZWxvYWRlcnBsdXMtb25lJywKICAgIGRvd25sb2FkVXJsOiAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzI5My1zdXBlci1wcmVsb2FkZXJwbHVzLW9uZS9jb2RlL1N1cGVyX3ByZWxvYWRlclBsdXNfb25lLnVzZXIuanMnLAogICAgbWV0YVVybDogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yOTMtc3VwZXItcHJlbG9hZGVycGx1cy1vbmUvY29kZS9TdXBlcl9wcmVsb2FkZXJQbHVzX29uZS5tZXRhLmpzJywKfTsKCgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gcnVsZS5qcwoKaWYgKHdpbmRvdy5uYW1lID09PSAnbXlub3ZlbHJlYWRlci1pZnJhbWUnKSB7CiAgICByZXR1cm47Cn0KCi8vIOWmguaenOaYr+WPluWHuuS4i+S4gOmhteS9v+eUqOeahGlmcmFtZSB3aW5kb3cKaWYgKHdpbmRvdy5uYW1lID09PSAnc3VwZXJwcmVsb2FkZXItaWZyYW1lJykgeyAvLyDmkJzni5csaWZyYW1l6YeM6Z2i5oCO5LmI5LiN5Yqg6L29anPllYo/CiAgICAvLyDljrvmjonkuobljp/niYjnmoTlj6bkuIDnp43mlrnms5XvvIzlm6DkuLrmlrDniYjmnKwgY2hyb21lIOW3sue7j+aUr+aMgeOAguaXp+eJiOacrCBjaHJvbWUgaWZyYW1l6YeM6Z2iIOaXoOazleiuv+mXrndpbmRvdy5wYXJlbnQs6L+U5ZuedW5kZWZpbmVkCgogICAgdmFyIGRvbWxvYWRlZCA9IGZ1bmN0aW9uICgpeyAgLy8g5rua5Yqo5Yiw5bqV6YOoLOmSiOWvuSzmn5Dkupvkvb/nlKjmu5rliqjkuovku7bliqDovb3lm77niYfnmoTnvZHnq5kuCiAgICAgICAgd2luZG93LnNjcm9sbCh3aW5kb3cuc2Nyb2xsWCwgOTk5OTkpOwogICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJ3N1cGVycHJlbG9hZGVyLWlmcmFtZTpET01Mb2FkZWQnLCAnKicpOwogICAgfTsKICAgIGlmKHdpbmRvdy5vcGVyYSl7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRvbWxvYWRlZCwgZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgICBkb21sb2FkZWQoKTsKICAgIH0KCiAgICByZXR1cm47Cn0KCgovLyBHTSDlhbzlrrkKCmdtQ29tcGF0aWJsZSgpOwoKLy8vLy8vLy8vLy8vLy8vLy8vLy8v6K6+572uKOivt+azqOaEj+W8gOWFs+eahOe8qei/m+WFs+ezuy4u5a2Q5byA5YWz5LiA6Iis5Zyo54i25byA5YWz5Li6dHJ1ZeeahOaXtuWAmeaJjeS8mueUn+aViC4pLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwp2YXIgcHJlZnM9ewogICAgZmxvYXRXaW5kb3c6IHRydWUsICAgICAgIC8vIOaYvuekuuaCrOa1rueqlwogICAgICAgIEZXX3Bvc2l0aW9uOiAyLCAgICAgICAgIC8vIDE65Ye6546w5Zyo5bem5LiK6KeSOzI65Ye6546w5Zyo5Y+z5LiK6KeSOzPvvJrlh7rnjrDlnKjlj7PkuIvop5I7NO+8muWHuueOsOWcqOW3puS4i+inkjsKICAgICAgICBGV19vZmZzZXQ6IFsyMCwgMzhdLCAgICAvLyDlgY/nprvniYjovrnnmoTlnoLnm7TlkozmsLTlubPmlrnlkJHnmoTmlbDlgLwuLijljZXkvY065YOP57SgKQogICAgICAgIEZXX1JBUzogdHJ1ZSwgICAgICAgICAgIC8vIOeCueWHu+aCrOa1rueql+S4iueahOS/neWtmOaMiemSri4u56uL5Y2z5Yi35paw6aG16Z2iOwogICAgcGF1c2VBOiB0cnVlLCAgICAgICAgICAgIC8vIOW/q+mAn+WBnOatouiHquWKqOe/u+mhtSjlvZPliY3mqKHlvI/kuLrnv7vpobXmqKHlvI/nmoTml7blgJnnlJ/mlYguKTsKICAgICAgICBQYnV0dG9uOiBbMiwgMCwgMF0sICAgICAvLyDpnIDopoHmjInkvY/nmoTplK4uLi4uLjA6IOS4jeaMieS9j+S7u+S9lemUrjsxOiBzaGlmdOmNtTsyOiBjdHJs6Y21OyAzOiBhbHTpjbU7KOWQjOaXtuaMiTPkuKrplK4u5bCx5aGrIDEgMiAzKSjkuIDkuKrpg73kuI3mjIku5bCx5aGrIDAgMCAwKQogICAgICAgIG1vdXNlQTogdHJ1ZSwgICAgICAgICAgIC8vIOaMieS9j+m8oOagh+W3pumUri4u5ZCm5YiZLuWPjOWHuzsKICAgICAgICAgICAgQXRpbWVvdXQ6IDIwMCwgICAgICAvLyDmjInkvY/lt6bplK7ml7YuLuW7tuaXti7lpJrlsJHnlJ/mlYguLijljZXkvY065q+r56eSKTsKICAgICAgICBzdG9wX2lwYWdlOiB0cnVlLCAgICAgICAvLyDlpoLmnpzlnKjov57nu63nv7vpobXov4fnqIvkuK3mmoLlgZwu6YeN5paw5ZCv55So5ZCOLuS4jeWcqOe7p+e7rS4u6L+e57ut57+76aG1Li4KCiAgICBBcGx1czogdHJ1ZSwgICAgICAgICAgICAgLy8g6Ieq5Yqo57+76aG15qih5byP55qE5pe25YCZLi7mj5DliY3pooTor7vlpb3kuIDpobUuLuWwseaYr+e/u+WujOesrDHpobUs56uL6ams6aKE6K+756ysMumhtSznv7vlroznrKwy6aG1LOeri+mprOmihOivu+esrDPpobUuLijlpKfluYXliqDlv6vnv7vpobXlv6vmhJ8tXy0hISko5bu66K6u5byA5ZCvKS4uCiAgICBzZXBQOiB0cnVlLCAgICAgICAgICAgICAgLy8g57+76aG15qih5byP5LiLLuWIhumalOespi7lnKjkvb/nlKjkuIrmu5rkuIDpobXmiJbkuIvmu5rkuIDpobXnmoTml7blgJnmmK/lkKbkv53mjIHnm7jlr7nkvY3nva4uLgogICAgc2VwVDogdHJ1ZSwgICAgICAgICAgICAgIC8vIOe/u+mhteaooeW8j+S4iy7liIbpmpTnrKYu5Zyo5L2/55So5LiK5rua5LiA6aG15oiW5LiL5rua5LiA6aG155qE5pe25YCZ5L2/55So5Yqo55S76L+H5rihLi4KICAgICAgICBzX21ldGhvZDogMywgICAgICAgICAgICAvLyDliqjnlLvmlrnlvI8gMC0xMCDkuIDnp40xMeenjeWKqOeUu+aViOaenC4u6Ieq5bex6K+V6K+V5ZCnCiAgICAgICAgc19lYXNlOiAyLCAgICAgICAgICAgICAgLy8g5reh5YWl5reh5Ye65pWI5p6cIDDvvJrmt6HlhaUgMe+8mua3oeWHuiAy77ya5reh5YWl5reh5Ye6CiAgICAgICAgc19GUFM6IDYwLCAgICAgICAgICAgICAgLy8g5bin6YCfLijljZXkvY065binL+enkikKICAgICAgICBzX2R1cmF0aW9uOiAzMzMsICAgICAgICAvLyDliqjnlLvmjIHnu63ml7bplb8uKOWNleS9jTrmr6vnp5IpOwogICAgc29tZVZhbHVlOiAnJywgICAgICAgICAgIC8vIOaYvuekuuWcqOe/u+mhteWvvOiIquacgOWPs+i+ueeahOS4gOS4quWwj+WPpeWtkC4uLV8tISEuLlBvd2VyZWQgYnkgU3VwZXJfcHJlbG9hZGVyIOmakOiXj+S6hgogICAgRGlzYWJsZUk6IHRydWUsICAgICAgICAgIC8vIOWPquWcqOmhtuWxgueql+WPo+WKoOi9vUpTLi7mj5DljYfmgKfog70uLuWmguaenOW8gOWQr+S6hui/memhuSzpgqPkuYhESUV4Y2x1ZGXmlbDnu4TmnInmlYgs6YeM6Z2i55qE572R6aG15Y2z5L2/5LiN5Zyo6aG25bGC56qX5Y+j5Lmf5Lya5Yqg6L29Li4uLgogICAgYXJyb3dLZXlQYWdlOiB0cnVlLCAgICAgIC8vIOWFgeiuuOS9v+eUqCDlt6blj7PmlrnlkJHplK4g57+76aG1Li4KICAgIHNlcFN0YXJ0TjogMiwgICAgICAgICAgICAvLyDnv7vpobXlr7zoiKrkuIrnmoQs5LuO5Yeg5byA5aeL6K6h5pWwLijosozkvLzmnInkurrlnKjmhI/ov5nkuKos5omA5Lul5byE5Liq5byA5YWz5Ye65p2lLOWPjeato+eugOWNlS4tXy0hISkKCiAgICAvLyDmlrDlop7miJbkv67mlLnnmoQKICAgIGZvcmNlVGFyZ2V0V2luZG93OiBHTV9nZXRWYWx1ZSgnZm9yY2VUYXJnZXRXaW5kb3cnLCB0cnVlKSwgIC8vIOS4i+S4gOmhteeahOmTvuaOpeiuvue9ruaIkOWcqOaWsOagh+etvumhteaJk+W8gAogICAgZGVidWc6IEdNX2dldFZhbHVlKCdkZWJ1ZycsIGZhbHNlKSwKICAgIGVuYWJsZUhpc3Rvcnk6IEdNX2dldFZhbHVlKCdlbmFibGVIaXN0b3J5JywgZmFsc2UpLCAgICAvLyDmiorkuIvkuIDpobXpk77mjqXmt7vliqDliLDljoblj7LorrDlvZUKICAgIGF1dG9HZXRQcmVMaW5rOiBmYWxzZSwgICAvLyDkuIDlvIDlp4vkuI3oh6rliqjmn6Xmib7kuIrkuIDpobXpk77mjqXvvIzmlLnkuLrosIPnlKjml7blho3mn6Xmib4KICAgIGV4Y2x1ZGVzOiBHTV9nZXRWYWx1ZSgnZXhjbHVkZXMnLCAnJyksCiAgICBjdXN0b21fc2l0ZWluZm86IEdNX2dldFZhbHVlKCdjdXN0b21fc2l0ZWluZm8nLCAnW10nKSwKICAgIGxhenlJbWdTcmM6ICd6b29tZmlsZXxmaWxlfG9yaWdpbmFsfGxvYWQtc3JjfF9zcmN8aW1nc3JjfHJlYWxfc3JjfHNyYzJ8ZGF0YS1sYXp5bG9hZC1zcmN8ZGF0YS1rcy1sYXp5bG9hZHxkYXRhLWxhenlsb2FkfGRhdGEtc3JjfGRhdGEtb3JpZ2luYWx8ZGF0YS10aHVtYnxkYXRhLWltYWdldXJsfGRhdGEtZGVmZXItc3JjfGRhdGEtcGxhY2Vob2xkZXInLAp9OwoKLy8g6buR5ZCN5Y2VLOe9keermeato+WImS4uCnZhciBibGFja0xpc3Q9WwogICAgLy8g5L6L5a2QCiAgICAvLyAnaHR0cDovLyouZG91YmFuLmNvbS8qJywKXTsKCmJsYWNrTGlzdCA9IGJsYWNrTGlzdC5jb25jYXQocHJlZnMuZXhjbHVkZXMuc3BsaXQoL1tcblxyXSsvKS5tYXAoZnVuY3Rpb24obGluZSkgewogICAgcmV0dXJuIGxpbmUudHJpbSgpOwp9KSk7CgoKLy/lnKjku6XkuIvnvZHnq5nkuIrlhYHorrjlnKjpnZ7pobblsYLnqpflj6PkuIrliqDovb1KUy4u5q+U5aaC54yr5omR5LmL57G755qE5qGG5p626ZuG572R6aG1Lgp2YXIgRElFeGNsdWRlID0gWwogICAgWyfnjKvmiZHluJblrZAnLCB0cnVlLCAvaHR0cDpcL1wvZHpoXC5tb3BcLmNvbVwvW2Etel17Myw2fVwvXGR7OH1cLy4qXC5zaHRtbCQvaV0sCiAgICBbJ+mTgeihgOekvuWMuicsIHRydWUsIC9eaHR0cDpcL1wvYmJzXC50aWV4dWVcLm5ldFwvLipcLmh0bWwkL2ldLAogICAgWyfpk4HooYDnpL7ljLotMicsIHRydWUsIC9eaHR0cDpcL1wvYmJzXC5xaWNoZWxpYW5cLmNvbVwvYmJzcWNsXC5waHBcP2ZpZC9pXSwKICAgIC8vIOWDjyBodHRwOi8vc28uYmFpZHV5dW4ubWUvIOWGheW1jOeahOeZvuW6puOAgUdvb2dsZSDmoYbmnrYKICAgIFsn55m+5bqm572R55uY5pCc57Si5byV5pOOLeeZvuW6picsIHRydWUsIC9eaHR0cHM/OlwvXC93d3dcLmJhaWR1XC5jb21cL2JhaWR1L2ldLAogICAgWyfnmb7luqbnvZHnm5jmkJzntKLlvJXmk44tR29vZ2xlJywgdHJ1ZSwgL15odHRwcz86XC9cLzc0XC4xMjVcLjEyOFwuMTQ3XC9jdXN0b20vaV0sCl07CgovLyDpobXpnaLkuI3liLfmlrDnmoTnq5nngrkKdmFyIEhhc2hjaGFuZ2VTaXRlcyA9IFsKICAgIHsgdXJsOiAvXmh0dHBzPzpcL1wvKHd3d3xlbmNyeXB0ZWQpXC5nb29nbGUoc3RhYmxlKT9cLi57Miw5fVwvKHdlYmhwfCN8JHxcPykvLCB0aW1lcjogMjAwMCwgbXV0YXRpb25TZWxlY3RvcjogJyNtYWluJyB9LAogICAgLy8g6L+Q6JCl5ZWG5Y+v6IO95Lya5ZyoICN3ZD0g5YmN6Z2i5re75YqgID90bj0wNzA4NDA0OV9wZwogICAgeyB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmJhaWR1XC5jb21cLygkfCN3ZD0pLywgdGltZXI6IDEwMDAsIG11dGF0aW9uU2VsZWN0b3I6ICcjd3JhcHBlcl93cmFwcGVyJyB9LAogICAgeyB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLm5ld3NtdGhcLm5ldC8sIHRpbWVyOiAxMDAwIH0sCl07CgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy0tLS0tLS0tLS0tLS0tLeinhOWImS0tLS0tLS0vLy8vLy8vLy8vLy8vLy8vCi8v57+76aG15omA6KaB55qE56uZ54K55L+h5oGvLgovL+mrmOe6p+inhOWImeeahOS4gOS6m+m7mOiupOiuvue9ri4u5aaC5p6c5L2g5LiN55+l6YGT5piv5LuA5LmILi7or7fliqHlv4XkuI3opoHkv67mlLko5Yig6ZmkKeWugy7mraTkv67mlLnkvJrlvbHlk43liLDmiYDmnInpq5jnuqfop4TliJkuLi4KdmFyIFNJVEVJTkZPX0Q9ewogICAgZW5hYmxlOiB0cnVlLCAgICAgICAgICAgICAgIC8vIOWQr+eUqAogICAgdXNlaWZyYW1lOiBHTV9nZXRWYWx1ZSgnU0lURUlORk9fRC51c2VpZnJhbWUnKSB8fCBmYWxzZSwgICAgICAgICAgIC8vICjpooTor7sp5piv5ZCm5L2/55SoaWZyYW1lLi4KICAgIHZpZXdjb250ZW50OiBmYWxzZSwgICAgICAgICAvLyDmn6XnnIvpooTor7vnmoTlhoXlrrks5pi+56S65Zyo6aG16Z2i55qE5pyA5LiL5pa5LgogICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgZW5hYmxlOiB0cnVlLCAgICAgICAgICAgLy8g5ZCv55So6Ieq5Yqo57+76aG1Li4uCiAgICAgICAgZm9yY2VfZW5hYmxlOiBHTV9nZXRWYWx1ZSgnU0lURUlORk9fRC5hdXRvcGFnZXIuZm9yY2VfZW5hYmxlJykgfHwgZmFsc2UsICAvL+m7mOiupOWQr+eUqOW8uuWItuaLvOaOpQogICAgICAgIG1hbnVhbEE6IGZhbHNlLCAgICAgICAgIC8vIOaJi+WKqOe/u+mhtS4KICAgICAgICB1c2VpZnJhbWU6IGZhbHNlLCAgICAgICAvLyAo57+76aG1KeaYr+WQpuS9v+eUqGlmcmFtZS4uCiAgICAgICAgICAgIGlsb2FkZWQ6IGZhbHNlLCAgICAgLy8g5piv5ZCm5ZyoaWZyYW1l5a6M5YWobG9hZOWQjuaTjeS9nC4u5ZCm5YiZ5ZyoRE9N5a6M5oiQ5ZCO5pON5L2cCiAgICAgICAgICAgIGl0aW1lb3V0OiAwLCAgICAgICAgLy8g5bu25pe25aSa5bCR5q+r56eS5ZCOLOWcqOaTjeS9nC4uCiAgICAgICAgICAgIG5ld0lmcmFtZTogZmFsc2UsCiAgICAgICAgcmVtYWluOiAxLCAgICAgICAgICAgICAgLy8g5Ymp5L2Z6aG16Z2i55qE6auY5bqmLi7mmK/mmL7npLrpq5jluqbnmoQgcmVtYWluIOWAjeW8gOWni+e/u+mhtS4uCiAgICAgICAgbWF4cGFnZTogOTksICAgICAgICAgICAgLy8g5pyA5aSa57+75aSa5bCR6aG1Li4KICAgICAgICBpcGFnZXM6IFtmYWxzZSwgMl0sICAgICAvLyDnq4vljbPnv7vpobUs56ys5LiA6aG55piv5o6n5Yi25piv5ZCm5ZyoanPliqDovb3nmoTml7blgJnnq4vljbPnv7vnrKzkuozpobko5b+F6aG75bCP5LqObWF4cGFnZSnnmoTpobXmlbAs5q+U5aaCW3RydWUsM10u5bCx5piv6K+0SlPliqDovb3lkI4u56uL5Y2z57+7M+mhtS4KICAgICAgICBzZXBhcmF0b3I6IHRydWUsICAgICAgICAvLyDmmL7npLrnv7vpobXlr7zoiKouLijmjqjojZDmmL7npLouKQogICAgICAgICAgICBzZXBhcmF0b3JSZWFsOiB0cnVlLCAgLy8g5pi+56S655yf5a6e55qE6aG15pWwCiAgICB9Cn07CgovL+mrmOS8mOWFiOe6p+inhOWImSznrKzkuIDkuKrmmK/mlZnnqIsuCnZhciBTSVRFSU5GTz1bCiAgICB7bmFtZTogJ0dvb2dsZeaQnOe0oicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v56uZ54K55ZCN5a2XLi4uKOWPr+mAiSkKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vKD86KD86d3d3fGVuY3J5cHRlZClcXC5nb29nbGUoPzpzdGFibGUpP1xcLi57Miw5fXx3ZW5cXC5sdSkvKD86d2ViaHB8c2VhcmNofCN8JHxcXD8pJywgICAvLyDnq5nngrnmraPliJkuLi4ofn7lv4Xpobt+fikKICAgICAgICAvL3VybDond2lsZGM7aHR0cDovL3d3dy5nb29nbGUuY29tLmhrL3NlYXJjaConLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3Lmdvb2dsZS5jb20nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v56uZ54K55a6e5L6LLi4uKOWPr+mAiSkKICAgICAgICBlbmFibGU6dHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5ZCv55SoLijmgLvlvIDlhbMpKOWPr+mAiSkKICAgICAgICB1c2VpZnJhbWU6ZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5piv5ZCm55SoaWZyYW1l6aKE6K+7Li4uKOWPr+mAiSkKICAgICAgICB2aWV3Y29udGVudDpmYWxzZSwKCiAgICAgICAgbmV4dExpbms6ICdpZCgicG5uZXh0IikgfCBpZCgibmF2YmFyIG5hdmNudCBuYXYiKS8vdGRbc3Bhbl0vZm9sbG93aW5nLXNpYmxpbmc6OnRkWzFdL2EgfCBpZCgibm4iKS9wYXJlbnQ6OmEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5p+l55yL6aKE6K+755qE5YaF5a65LOaYvuekuuWcqOmhtemdoueahOacgOS4i+aWuS4o5Y+v6YCJKQogICAgICAgIC8vIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgLy9uZXh0TGluazonLy90YWJsZVtAaWQ9Im5hdiJdL2Rlc2NlbmRhbnQ6OmFbbGFzdCgpXVtwYXJlbnQ6OnRkW0BjbGFzcz0iYiJdXScsICAgICAgICAgICAgICAvL+S4i+S4gOmhtemTvuaOpSB4cGF0aCDmiJbogIUgQ1NT6YCJ5oup5ZmoIOaIluiAhSDlh73mlbDov5Tlm57lgLwo5q2k5Ye95pWw5b+F6aG75L2/55So56ys5LiA5Liq5Lyg5YWl55qE5Y+C5pWw5L2c5Li6ZG9jdW1lbnTlr7nosaEpICh+fuW/hemAiX5+KQogICAgICAgIC8vbmV4dExpbms6J2Nzczt0YWJsZSNuYXY+dGJvZHk+dHI+dGQuYjpsYXN0LWNoaWxkPmEnLAogICAgICAgIC8vbmV4dExpbms6ZnVuY3Rpb24oRCxXKXtyZXR1cm4gRC5ldmFsdWF0ZSgnLy90YWJsZVtAaWQ9Im5hdiJdL2Rlc2NlbmRhbnQ6OmFbbGFzdCgpXVtwYXJlbnQ6OnRkW0BjbGFzcz0iYiJdXScsRCxudWxsLFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLG51bGwpLnNpbmdsZU5vZGVWYWx1ZTt9LAogICAgICAgIC8vIOaWsOWiniBBcnJheSDnmoTmoLzlvI/vvIzkvp3mrKHmn6Xmib4KCiAgICAgICAgLy8gcHJlTGluazonYXV0bzsnLAogICAgICAgIHByZUxpbms6ICcvL2FbQGlkPSJwbnByZXYiXScsCiAgICAgICAgLy9wcmVMaW5rOicvL3RhYmxlW0BpZD0ibmF2Il0vZGVzY2VuZGFudDo6YVsxXVtwYXJlbnQ6OnRkW0BjbGFzcz0iYiJdXScsICAgICAgICAgICAgLy/kuIrkuIDpobXpk77mjqUgeHBhdGgg5oiW6ICFIENTU+mAieaLqeWZqCDmiJbogIUg5Ye95pWw6L+U5Zue5YC8ICjlj6/pgIkpCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgZW5hYmxlOnRydWUgLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lkK/nlKgo6Ieq5Yqo57+76aG1KSjlj6/pgIkpCiAgICAgICAgICAgIHVzZWlmcmFtZTpmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mmK/lkKbkvb/nlKhpZnJhbWXnv7vpobUo5Y+v6YCJKQogICAgICAgICAgICAgICAgaWxvYWRlZDpmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5piv5ZCm5ZyoaWZyYW1l5a6M5YWobG9hZOS5i+WQjuaTjeS9nC4u5ZCm5YiZ5ZyoRE9N5a6M5oiQ5ZCO5pON5L2cLgogICAgICAgICAgICAgICAgaXRpbWVvdXQ6MCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+W7tuaXtuWkmuWwkeavq+enkuWQjizlnKjmk43kvZwuLgogICAgICAgICAgICAgICAgbmV3SWZyYW1lOiBmYWxzZSwgIC8vIOS4i+S4gOmhteS9v+eUqOaWsOeahCBpZnJhbWXvvIzog73op6PlhrPmjInpkq7ml6Dms5Xngrnlh7vnmoTpl67popgKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9ImlyZXMiXScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/kuLvkvZPlhoXlrrkgeHBhdGgg5oiWIENTU+mAieaLqeWZqCDmiJblh73mlbDov5Tlm57lgLwofn7lv4Xpobt+fikKICAgICAgICAgICAgLy8gcGFnZUVsZW1lbnQ6J2NzcztkaXYjaXJlcycsCiAgICAgICAgICAgIC8vcGFnZUVsZW1lbnQ6ZnVuY3Rpb24oZG9jLHdpbil7cmV0dXJuIGRvYy5nZXRFbGVtZW50QnlJZCgnaXJlcycpfSwKICAgICAgICAgICAgLy9maWx0ZXI6Jy8vbGlbQGNsYXNzPSJnIl0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vKOatpOmhueWKn+iDveacquWujOaIkCl4cGF0aCDmiJYgQ1NT6YCJ5oup5Zmo5LuO5Yy56YWN5Yiw55qE6IqC54K56YeM6Z2i6L+H5ruk5o6J56ym5ZCI55qE6IqC54K5LgogICAgICAgICAgICByZW1haW46IDEvMywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/liankvZnpobXpnaLnmoTpq5jluqYuLuaYr+aYvuekuumrmOW6pueahCByZW1haW4g5YCN5byA5aeL57+76aG1KOWPr+mAiSkKICAgICAgICAgICAgICAgIHJlbGF0ZWRPYmo6IFsnY3NzO2RpdiNuYXZjbnQnLCdib3R0b20nXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+S7pei/meS4quWFg+e0oOW9k+WBmuacgOW6leeahOWFg+e0oCzorqHnrpfpobXpnaLmgLvpq5jluqbnmoTorqHnrpcuKOWPr+mAiSkKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAaWQ9Im5hdmNudCJdJywgICAgICAgICAgICAgICAgIC8v6ZyA6KaB5pu/5o2i55qE6YOo5YiGIHhwYXQgaOaIliBDU1PpgInmi6nlmagg5LiA6Iis5piv6aG16Z2i55qE5pys5p2l55qE57+76aG15a+86IiqKOWPr+mAiSk7CiAgICAgICAgICAgIC8vcmVwbGFjZUU6J2NzcztkaXYjbmF2Y250JywKICAgICAgICAgICAgaXBhZ2VzOiBbZmFsc2UsM10sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v56uL5Y2z57+76aG1LOesrOS4gOmhueaYr+aOp+WItuaYr+WQpuWcqGpz5Yqg6L2955qE5pe25YCZ56uL5Y2z57+756ys5LqM6aG5KOW/hemhu+Wwj+S6jm1heHBhZ2Up55qE6aG15pWwLOavlOWmglt0cnVlLDNdLuWwseaYr+ivtEpT5Yqg6L295ZCOLueri+WNs+e/uzPpobUuKOWPr+mAiSkKICAgICAgICAgICAgc2VwYXJhdG9yOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5piv5ZCm5pi+56S657+76aG15a+86IiqKOWPr+mAiSkKICAgICAgICAgICAgICAgIHNlcGFyYXRvclJlYWw6IHRydWUsCiAgICAgICAgICAgIG1heHBhZ2U6IDY2LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+acgOWkmue/u+mhteaVsOmHjyjlj6/pgIkpCiAgICAgICAgICAgIG1hbnVhbEE6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aYr+WQpuS9v+eUqOaJi+WKqOe/u+mhtS4KICAgICAgICAgICAgSFRfaW5zZXJ0OiBbJy8vZGl2W0BpZD0icmVzIl0nLDJdLCAgICAgICAgICAgICAgIC8v5o+S5YWl5pa55byP5q2k6aG55Li65LiA5Liq5pWw57uEOiBb6IqC54K5eHBhdGjmiJZDU1PpgInmi6nlmags5o+S5YWl5pa55byPKDHvvJrmj5LlhaXliLDnu5nlrproioLngrnkuYvliY07Mu+8mumZhOWKoOWIsOe7meWumuiKgueCueeahOmHjOmdojspXSjlj6/pgIkpOwogICAgICAgICAgICAvL0hUX2luc2VydDpbJ2NzcztkaXYjcmVzJywyXSwKICAgICAgICAgICAgbGF6eUltZ1NyYzogJ2ltZ3NyYycsCiAgICAgICAgICAgIC8vIOaWsOWinueahOiHquWumuS5ieagt+W8j+OAguS4i+mdoui/meS4quaYr+iwg+aVtCBHb29nbGUg5LiL5LiA6aG15Y+v6IO95Ye6546w55qE5Zu+54mH5o6S5YiX6Zeu6aKY44CCCiAgICAgICAgICAgIHN0eWxpc2g6ICdoci5yZ3NlcHtkaXNwbGF5Om5vbmU7fScgKwogICAgICAgICAgICAgICAgJy5yZ19tZXRhe2Rpc3BsYXk6bm9uZX0uYmlsaXtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MCA2cHggNnB4IDA7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOnRvcH0uX0hHe21hcmdpbi1ib3R0b206MnB4O21hcmdpbi1yaWdodDoycHh9JywKICAgICAgICAgICAgZG9jdW1lbnRGaWx0ZXI6IGZ1bmN0aW9uKGRvYyl7CiAgICAgICAgICAgICAgICAvLyDkv67mraPkuIvkuIDpobXnmoTlm77niYcKICAgICAgICAgICAgICAgIHZhciB4ID0gZG9jLmV2YWx1YXRlKCcvL3NjcmlwdC90ZXh0KClbY29udGFpbnMoc2VsZjo6dGV4dCgpLCAiZGF0YTppbWFnZS8iKV0nLCBkb2MsIG51bGwsIDksIG51bGwpLnNpbmdsZU5vZGVWYWx1ZTsKICAgICAgICAgICAgICAgIGlmICh4KSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZ1bmN0aW9uKCdkb2N1bWVudCwgd2luZG93LCBnb29nbGUnLCB4Lm5vZGVWYWx1ZSkoZG9jLCB1bnNhZmVXaW5kb3csIHVuc2FmZVdpbmRvdy5nb29nbGUpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g5L+u5q2j5Y+v6IO95Ye6546w55qEIOWwj+eureWktOabtOWkmuaMiemSriDmjpLniYjkuI3mraPnoa7nmoTmg4XlhrXvvIgyMDE0LTctMjnvvIkKICAgICAgICAgICAgICAgIHZhciBvQ2xhc3NOYW1lID0gd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpcmVzIC5hYl9idXR0b24nKS5jbGFzc05hbWU7CiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJyNpcmVzIC5hYl9idXR0b24nKSwgZnVuY3Rpb24oZWxlbSl7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uY2xhc3NOYW1lICE9IG9DbGFzc05hbWUpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gb0NsYXNzTmFtZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKCkgeyAgLy8g5Zyo5re75Yqg5YaF5a655Yiw6aG16Z2i5ZCO6L+Q6KGMCgogICAgICAgICAgICB9LAogICAgICAgICAgICBzdGFydEZpbHRlcjogZnVuY3Rpb24od2luLCBkb2MpIHsgIC8vIOWPquS9nOeUqOS4gOasoQogICAgICAgICAgICAgICAgLy8g56e76ZmkIEdvb2dsZSDph43lrprlkJEKICAgICAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwogICAgICAgICAgICAgICAgc2NyaXB0LnRleHRDb250ZW50ID0gJ1wKICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAicnd0Iiwge1wKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcCiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXAogICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7fTtcCiAgICAgICAgICAgICAgICAgICAgICAgIH0sXAogICAgICAgICAgICAgICAgICAgIH0pO1wKICAgICAgICAgICAgICAgICc7CiAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKHNjcmlwdCk7CgogICAgICAgICAgICAgICAgLy8g56e75Yqo55u45YWz5pCc57Si5Yiw56ys5LiA6aG1CiAgICAgICAgICAgICAgICB2YXIgYnJzID0gZG9jLmdldEVsZW1lbnRCeUlkKCdicnMnKSwKICAgICAgICAgICAgICAgICAgICBpbnMgPSBkb2MuZ2V0RWxlbWVudEJ5SWQoJ2lyZXMnKTsKICAgICAgICAgICAgICAgIGlmIChicnMgJiYgaW5zKSB7CiAgICAgICAgICAgICAgICAgICAgaW5zLmFwcGVuZENoaWxkKGJycyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnmb7luqbmkJzntKInLAogICAgICAgIC8vIOeUseS6jiBTdXBlcl9wcmVsb2FkZXIg6buY6K6k5Y675o6J5LqGICMg5ZCO6Z2i6YOo5YiGCiAgICAgICAgLy8gdXJsOiAiXmh0dHBzPzovL3d3d1xcLmJhaWR1XFwuY29tLyhzfGJhaWR1fCN3ZD0pIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuYmFpZHVcXC5jb20vIiwKICAgICAgICBlbmFibGU6dHJ1ZSwKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJwYWdlIl0vYVtjb250YWlucyh0ZXh0KCksIuS4i+S4gOmhtSIpXVtAaHJlZl0nLAogICAgICAgIHByZUxpbms6Jy8vZGl2W0BpZD0icGFnZSJdL2FbY29udGFpbnModGV4dCgpLCLkuIrkuIDpobUiKV1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7ZGl2I2NvbnRlbnRfbGVmdCA+IConLAogICAgICAgICAgICBIVF9pbnNlcnQ6Wydjc3M7ZGl2I2NvbnRlbnRfbGVmdCcsMl0sCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNwYWdlJywKICAgICAgICAgICAgc3R5bGlzaDogJy5hdXRvcGFnZXJpemVfcGFnZV9pbmZvLCBkaXYuc3Atc2VwYXJhdG9yIHttYXJnaW4tYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7fScsCiAgICAgICAgICAgIHN0YXJ0RmlsdGVyOiBmdW5jdGlvbih3aW4pIHsKICAgICAgICAgICAgICAgIC8vIOiuvue9rueZvuW6puaQnOe0ouexu+Wei+S4uiBzP3dkPQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB3aW4uZG9jdW1lbnQuY29va2llID0gIklTU1c9MSI7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge30KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eZvuW6puaQnOe0oiAtIGJhaWR1bG9jYWwnLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3dcXC5iYWlkdVxcLmNvbS9zLiomdG49YmFpZHVsb2NhbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2FbZm9udFt0ZXh0KCk9IuS4i+S4gOmhtSJdXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3RhYmxlW0B3aWR0aD0iMTAwJSIgYW5kIEBib3JkZXI9IjAiXS90Ym9keS90ci90ZC9vbCcsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuYmFpZHUuY29tL3M/d2Q9ZmlyZWZveCZyc3Zfc3B0PTEmaXNzcD0xJnJzdl9icD0wJmllPXV0Zi04JnRuPWJhaWR1bG9jYWwmaW5wdXRUPTEzNjQnLAogICAgfSwKICAgIHtuYW1lOiAnMzYw5pCc57SiJywKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuc29cXC5jb20vcyIsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0icGFnZSJdL2FbdGV4dCgpPSLkuIvkuIDpobU+Il0gfCBpZCgic25leHQiKScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGFpbmVyIl0nLAogICAgICAgICAgICBzdHlsaXNoOiAnLmF1dG9wYWdlcml6ZV9wYWdlX2luZm8sIGRpdi5zcC1zZXBhcmF0b3IgeyBtYXJnaW4tYm90dG9tOiAyMHB4ICFpbXBvcnRhbnQ7IH0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5pCc54uX5pCc57SiJywKICAgICAgICB1cmw6L15odHRwcz86XC9cL3d3d1wuc29nb3VcLmNvbVwvKD86d2VifHNvZ291KS9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNvZ291LmNvbScsCiAgICAgICAgZW5hYmxlOnRydWUsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0icGFnZWJhcl9jb250YWluZXIiXS9hW0BpZD0ic29nb3VfbmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJyZXN1bHRzIl0nLAogICAgICAgICAgICByZXBsYWNlRTogJ2lkKCJwYWdlYmFyX2NvbnRhaW5lciIpJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0JpbmfnvZHpobXmkJzntKInLAogICAgICAgIHVybDovYmluZ1wuY29tXC9zZWFyY2hcP3E9L2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2JpbmcuY29tL3NlYXJjaD9xPScsCiAgICAgICAgbmV4dExpbms6Jy8vbmF2W0BhcmlhLWxhYmVsPSJuYXZpZ2F0aW9uIl0vZGVzY2VuZGFudDo6YVtsYXN0KCldW0BjbGFzcz0ic2JfcGFnTiJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vb2xbQGlkPSJiX3Jlc3VsdHMiXS9saVtAY2xhc3M9ImJfYWxnbyJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL25hdltAYXJpYS1sYWJlbD0ibmF2aWdhdGlvbiJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aciemBk+e9kemhteaQnOe0oicsCiAgICAgICAgdXJsOiAvaHR0cDpcL1wvd3d3XC55b3VkYW9cLmNvbVwvc2VhcmNoXD8vaSwKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cueW91ZGFvLmNvbS9zZWFyY2g/JywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0iYy1wYWdlcyJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9vbFtAaWQ9InJlc3VsdHMiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnaWQoInJlc2MiKS9kaXZbQGNsYXNzPSJjLXBhZ2VzIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnU29Tb+e9kemhteaQnOe0oicsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLnNvc29cLmNvbVwvcS9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNvc28uY29tL3EnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InBnIl0vZGVzY2VuZGFudDo6YVtsYXN0KCldW0BjbGFzcz0ibmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICAvLyB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0icmVzdWx0Il0vb2wvbGknLAogICAgICAgICAgICByZXBsYWNlRTogJ2lkKCJwYWdlciIpJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0Rpc2Nvbm5lY3QgU2VhcmNoJywKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC9zZWFyY2hcLmRpc2Nvbm5lY3RcLm1lXC8vaSwKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicmVzdWx0cyIpJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnQU9MIOaQnOe0oicsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly8od3d3XFwuKWFvbHNlYXJjaC5jb20vc2VhcmNoXFw/Lis/Wz8mXXE9JywKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cuYW9sc2VhcmNoLmNvbS9zZWFyY2g/cT10ZXN0JywKICAgICAgICBuZXh0TGluazogJy8vYVtzcGFuW0BjbGFzcz0ibmV4dFJlcyJdW3RleHQoKT0iTmV4dCJdXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy8qW0BpZD0iYyJdL2RpdicKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfosLfmkJzlrqInLAogICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvZ3Vzb3VrXC5jb21cL3NlYXJjaC9pLAogICAgICAgc2l0ZUV4YW1wbGU6ICdodHRwOi8vZ3Vzb3VrLmNvbS9zZWFyY2g/cT1maXJlZm94JywKICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9InNlYXJjaF9yZXN1bHQiXScKICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ3RtZDEyM+aQnOe0oicsICAvLyB3d3cudG1kMTIzLmNvbQogICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvNTRcLjY0XC4yNFwuMjM0XC9zZWFyY2gvaSwKICAgICAgIHNpdGVFeGFtcGxlOiAnaHR0cDovLzU0LjY0LjI0LjIzNC9zZWFyY2gvP3E9ZmlyZWZveCcsCiAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJzZWFyY2hfcmVzdWx0Il0nCiAgICAgICB9CiAgICB9LAogICAge25hbWU6ICJHb29nbGUgY3VzdG9tIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC83NFwuMTI1XC4xMjhcLjE0N1wvY3VzdG9tL2ksCiAgICAgICAgbmV4dExpbms6ICdpZCgicG5uZXh0IikgfCBpZCgibmF2YmFyIG5hdmNudCBuYXYiKS8vdGRbc3Bhbl0vZm9sbG93aW5nLXNpYmxpbmc6OnRkWzFdL2EgfCBpZCgibm4iKS9wYXJlbnQ6OmEnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0icmVzIl0nLAogICAgICAgIH0KICAgIH0sCgogICAgLy8gPT09PT09IOebruWJjSBTdXBlcl9wcmVsb2FkZXJQbHVzX29uZSDov5jmnInpl67popjnmoQgPT09PT09PT0KICAgIHtuYW1lOiAn5rC05pyo56S+5Yy6JywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLm5ld3NtdGhcXC5uZXQvbkZvcnVtJywKICAgICAgICBuZXh0TGluazogJy8vYVtAdGl0bGU9IuS4i+S4gOmhtSJdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iYi1jb250ZW50Il0gfCAvL2RpdltAY2xhc3M9ImItY29udGVudCBjb3JuZXIiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cubmV3c210aC5uZXQvbkZvcnVtLyMhYm9hcmQvVG91SG91JwogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT0gYmFpZHUg5YW25a6DID09PT09PT09PT09CiAgICB7bmFtZTogJ+eZvuW6pui0tOWQp+WIl+ihqCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3RpZWJhXC5iYWlkdVwuKGNufGNvbSlcL2YvaSwKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXIgY2xlYXJmaXgiXS9kZXNjZW5kYW50OjphW0BjbGFzcz0ibmV4dCJdJywKICAgICAgICBwcmVMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlciBjbGVhcmZpeCJdL2Rlc2NlbmRhbnQ6OmFbQGNsYXNzPSJwcmUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy91bFtAaWQ9InRocmVhZF9saXN0Il0vbGknLAogICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjZnJzX2xpc3RfcGFnZXInLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgICAgICAvLyBuZXdJZnJhbWU6IHRydWUsCiAgICAgICAgICAgICAgICBpbG9hZGVkOiB0cnVlLAogICAgICAgICAgICAvLyBsYXp5SW1nU3JjOiAiYnBpYyIsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn55m+5bqm6LS05ZCn5biW5a2QJywKICAgICAgICB1cmw6L15odHRwOlwvXC90aWViYVwuYmFpZHVcLmNvbVwvcC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vdGllYmEuYmFpZHUuY29tL3AvOTE4Njc0NjUwJywKICAgICAgICBuZXh0TGluazonLy91bFtAY2xhc3M9ImxfcG9zdHNfbnVtIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBwcmVMaW5rOicvL3VsW0BjbGFzcz0ibF9wb3N0c19udW0iXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiK5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAiaWQoJ2pfcF9wb3N0bGlzdCcpIiwgIC8vICJjc3M7LmxfcG9zdCIKICAgICAgICAgICAgcmVwbGFjZUU6ICJjc3M7LmxfcG9zdHNfbnVtID4gLmxfcGFnZXIiLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgICAgICAvLyBuZXdJZnJhbWU6IHRydWUsCiAgICAgICAgICAgICAgICBpbG9hZGVkOiB0cnVlCiAgICAgICAgICAgIC8vIGZpbHRlcjogZnVuY3Rpb24ocGFnZXMpewogICAgICAgICAgICAvLyAgICAgdmFyIHBiID0gdW5zYWZlV2luZG93LnBiOwogICAgICAgICAgICAvLyAgICAgcGIuRm9ydW1MaXN0VjMuaW5pdGlhbCgpOwogICAgICAgICAgICAvLyB9CiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn55m+5bqm5ZCn5YaF5pCc57SiJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvdGllYmFcLmJhaWR1XC5jb21cL2ZcL3NlYXJjaC9pLAogICAgICAgIHNpdGVFeGFtcGxlOiAnaHR0cDovL3RpZWJhLmJhaWR1LmNvbS9mL3NlYXJjaC8nLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5zX3Bvc3QnCiAgICB9LAogICAge25hbWU6ICfnmb7luqbmlrDpl7vmkJzntKInLAogICAgICAgIHVybDogJ15odHRwOi8vbmV3c1xcLmJhaWR1XFwuKD86W14uXXsyLDN9XFwuKT9bXi4vXXsyLDN9L25zJywKICAgICAgICBuZXh0TGluazogJ2lkKCJwYWdlIikvYVt0ZXh0KCk9IuS4i+S4gOmhtT4iXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY29udGVudF9sZWZ0IiknLAogICAgfSwKICAgIHtuYW1lOiAn55m+5bqm55+l6YGTJywKICAgICAgICB1cmw6L15odHRwcz86XC9cL3poaWRhb1wuYmFpZHVcLmNvbVwvc2VhcmNoXD8vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3poaWRhby5iYWlkdS5jb20vc2VhcmNoP3BuPTAmJnJuPTEwJndvcmQ9JUJEJUFEJUM0JUNGc3R5bGUnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgcGFnZUVsZW1lbnQ6J2Nzczsjd2d0LWxpc3QnLAogICAgfSwKICAgIHtuYW1lOiAn55m+5bqm56m66Ze0JywKICAgICAgICB1cmw6ICdeaHR0cDovL2hpXFwuYmFpZHVcXC5jb20nLAogICAgICAgIG5leHRMaW5rOiAnaWQoInBhZ2VyQmFyIikvZGl2L2FbQGNsYXNzPSJuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJtb2QtcmVhbGNvbnRlbnQgbW9kLWNzLWNvbnRlbnRibG9jayJdJywKICAgICAgICB9LAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vaGkuYmFpZHUuY29tL2dlbGlkYScsCiAgICB9LAogICAge25hbWU6ICfnmb7luqbmloflupPmkJzntKInLAogICAgICAgIHVybDogL15odHRwOlwvXC93ZW5rdVwuYmFpZHVcLmNvbVwvc2VhcmNoXD8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3dlbmt1LmJhaWR1LmNvbS9zZWFyY2g/d29yZD1maXJlZm94JmxtPTAmb2Q9MCZmcj10b3BfaG9tZScsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2UtY29udGVudCJdL2FbQGNsYXNzPSJuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ic2VhcmNoLXJlc3VsdCJdJywKICAgICAgICB9CiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT0gbmV3c+OAgVJlYWRpbmcgPT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7bmFtZTogJ+aWsOa1quaWsOmXuycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL1thLXpdK1wuc2luYVwuY29tXC5jblwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9uZXdzLnNpbmEuY29tLmNuL2Mvc2QvMjAxMy0xMS0wOC8xNjU3Mjg2NTg5MTYuc2h0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9wW0BjbGFzcz0icGFnZSJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJhcnRpYm9keSJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmkJzni5DmlrDpl7snLAogICAgICAgIHVybDogL15odHRwOlwvXC9uZXdzXC5zb2h1XC5jb21cLy4qXC5zaHRtbC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vbmV3cy5zb2h1LmNvbS8yMDEyMDkwMS9uMzUyMDcxNTQzLnNodG1sJywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY29udGVudFRleHQiKScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5paw5Y2O572R5paw6Ze76aG16Z2iJywKICAgICAgICB1cmw6L2h0dHA6XC9cL25ld3NcLnhpbmh1YW5ldFwuY29tXC8uK1wvXGQrLS9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vbmV3cy54aW5odWFuZXQuY29tL3BvbGl0aWNzLzIwMTAtMDcvMTkvY18xMjM0Nzc1NS5odG0nLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9ImRpdl9jdXJycGFnZSJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcmVtYWluOjIsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL3RhYmxlW0BpZD0ibXlUYWJsZSJdIHwgaWQoImNvbnRlbnQiKScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfohb7orq/nvZEt5aSn5oiQ572RLOaWsOmXuycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL1thLXpdK1wucXFcLmNvbVwvLipcLmh0bS9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vY2QucXEuY29tL2EvMjAxMzExMTkvMDAyNzEzLmh0bScsCiAgICAgICAgbmV4dExpbms6ICdpZCgiQXJ0UExpbmsiKS91bC9saS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJDbnQtTWFpbi1BcnRpY2xlLVFRIiknLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlLAogICAgICAgICAgICByZXBsYWNlRTogImNzczsjQXJ0UExpbmsiCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5aSn5oiQ56S+5Yy6JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW2Etel0rXC5xcVwuY29tXC8oPzpmb3J1bVwucGhwfC4qXC5odG0pL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9teWNkLnFxLmNvbS9mb3J1bS5waHA/bW9kPWZvcnVtZGlzcGxheSZmaWQ9MTAwMTAzNzM2MCZwYWdlPScsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBnYiJdL2FbQGNsYXNzPSJueHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInRocmVhZGxpc3R0YWJsZWlkIikgfCBpZCgicG9zdGxpc3QiKSB8IGlkKCJ0aHJlYWRsaXN0IikvdGFibGUnLAogICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZV9ib3ggLnBnYicsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICd6b29tZmlsZScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuK3lm73mlrDpl7vnvZEnLAogICAgICAgIHVybDovaHR0cDpcL1wvd3d3XC5jaGluYW5ld3NcLmNvbVwvW2Etel0rXC8uK1wuc2h0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5jaGluYW5ld3MuY29tL+iLseaWhy/lubQv5pel5pyfL+e8luWPty5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAaWQ9ImZ1bmN0aW9uX2NvZGVfcGFnZSJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ibGVmdF96dyJdIHwgLy9kaXZbQGNsYXNzPSJoZF9waG90byJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgSFRfaW5zZXJ0OlsnLy9kaXZbQGlkPSJmdW5jdGlvbl9jb2RlX3BhZ2UiXScsMV0sCiAgICAgICAgICAgIGZpbHRlcjonLy9kaXZbQGlkPSJmdW5jdGlvbl9jb2RlX3BhZ2UiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Lq65rCR572R5paw6Ze7JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW2Etel0rXC5wZW9wbGVcLmNvbVwuY25cLy4qXC5odG1sL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9lbnQucGVvcGxlLmNvbS5jbi9uLzIwMTMvMDgyMy9jMTAxMi0yMjY3MjczMi0yLmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0idGV4dF9pbWciXSB8IC8vZGl2W0BpZD0icF9jb250ZW50Il0nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Lit5YWz5p2R5Zyo57q/5paw6Ze76aG16Z2iJywKICAgICAgICB1cmw6L2h0dHA6XC9cLyg/OlteXC5dK1wuKT96b2xcLmNvbVwuY25cL1xkK1wvXGQrL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9sY2Quem9sLmNvbS5jbi8xODcvMTg3NTE0NS5odG1sJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZSJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY290ZW50X2lkZCIgb3IgQGlkPSJhcnRpY2xlLWNvbnRlbnQiXScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0ZU5Lit5paH572RJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5mdGNoaW5lc2VcLmNvbVwvc3RvcnlcLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmZ0Y2hpbmVzZS5jb20vc3RvcnkvMDAxMDUzNDcyJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnaW5hdGlvbiJdL2FbdGV4dCgpPSLkvZnkuIvlhajmlociXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJib2R5dGV4dCJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdTb2xpZG90OiDlpYflrqLnmoTotYTorq/vvIzph43opoHnmoTkuJzopb8nLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnNvbGlkb3RcLm9yZ1wvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuc29saWRvdC5vcmcvP2lzc3VlPTIwMTMxMjA1JywKICAgICAgICBuZXh0TGluazogJ2lkKCJjZW50ZXIiKS9kaXZbQGNsYXNzPSJwYWdlIl0vYVtsYXN0KCldJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY2VudGVyIikvZGl2W0BjbGFzcz0iYmxvY2tfbSJdJywKICAgICAgICAgICAgc2VwYXJhdG9yUmVhbDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdJVCDkuYvlrrYnLAogICAgICAgIHVybDogL15odHRwOlwvXC9cdytcLml0aG9tZVwuY29tXC8vaSwKICAgICAgICBuZXh0TGluazogJ2lkKCJQYWdlciIpL2RpdltAY2xhc3M9InBhZ2VuZXciXS9hW3RleHQoKT0iPiJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgid3JhcHBlciIpL2RpdltAY2xhc3M9ImNvbnRlbnQgZmwiXS9kaXZbQGNsYXNzPSJjYXRlX2xpc3QiIG9yIEBjbGFzcz0icG9zdF9saXN0Il0vdWxbQGNsYXNzPSJ1bGNsIl0nLAogICAgICAgICAgICByZXBsYWNlRTogJ2lkKCJQYWdlciIpL2RpdltAY2xhc3M9InBhZ2VuZXciXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfomY7ll4XnvZEnLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuaHV4aXVcXC5jb20vIiwKICAgICAgICBuZXh0TGluazogJy8vc3BhbltAY2xhc3M9Im5leHQiXS9hW3RleHQoKT0iPiJdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iY2VudGVyLWN0ci1ib3giXScKICAgIH0sCiAgICB7bmFtZTogJzM25rCqJywKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLjM2a3JcXC5jb20vLisiLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0ByZWw9Im5leHQiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgibWFpbkNvbnRhaW5lciIpL2Rlc2NlbmRhbnQ6OmRpdltjb250YWlucyhjb25jYXQoIiAiLCBAY2xhc3MsICIiKSwia3JDb250ZW50IildJwogICAgfSwKICAgIHtuYW1lOiAn54ix6IyD5YS/IMK3IEJlYXRzIG9mIEJpdHMgLSDlj5HnjrDliJvmlrDku7flgLznmoTnp5HmioDlqpLkvZMnLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuaWZhbnJcXC5jb20vIiwKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0iY29udGVudC1uYXYiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImNvbnRlbnQiKS9kaXZbY29udGFpbnMoY29uY2F0KCIgIiwgQGNsYXNzLCAiIiksICJtYWluIildJwogICAgfSwKICAgIHtuYW1lOiAn5Yib5Lia5biuJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5jeXpvbmVcLmNuXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5jeXpvbmUuY24vJywKICAgICAgICBuZXh0TGluazogJ2lkKCJwYWdlcyIpLypbQGNsYXNzPSJjdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ibGVmdCJdL2RpdltzdGFydHMtd2l0aChAY2xhc3MsICJpbnRlcmUiKV0vdWxbQGNsYXNzPSJsaXN0IGNsZWFyZml4Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+iQneWNnOe9kScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2x1b1wuYm9cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vbHVvLmJvLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VuYXZpIl0vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9ImhvbWVwb3N0cyJdL3VsW2NvbnRhaW5zKEBjbGFzcywgImV4cGxpc3QgaG9tZWxpc3QiKV0gfCAvL2RpdltAY2xhc3M9ImNvbnRhaW5lciJdL2RpdltAY2xhc3M9ImNvbnRlbnQiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdlbmF2aSJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eIsea0u+e9kSBFdm9saWZlLmNuX+enkeaKgOi/m+WMlueUn+a0uycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL1thLXpdK1wuZXZvbGlmZVwuY25cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vZ28uZXZvbGlmZS5jbi9jYXRlZ29yeS9mb2N1c18xMjFfMS5odG1sJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W2NvbnRhaW5zKEBjbGFzcywgInBhZ2VzIildL2FbdGV4dCgpPSLkuIvkuIDpobUiIG9yIGNvbnRhaW5zKHRleHQoKSwgIj4iKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ienVpamluZ2VuZ3hpbiJdL2RpdltAY2xhc3M9Inp1aWppbmdlbmd4aW5fYm94Il0gfCAvL2RpdltAY2xhc3M9Inp1aWppbmdlbmd4aW4iXS9kaXZbQGNsYXNzPSJ0ZXh0Il0nLAogICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZXMnLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WHpOWHsOe9kSAtIOWHpOWHsOaxvei9picsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2F1dG9cLmlmZW5nXC5jb21cLy4qXC5zaHRtbC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vYXV0by5pZmVuZy5jb20veW91amkvMjAxMzExMTUvMTAwMzUxMy5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9ImFybC1wYWdlcyJdL2FbQGNsYXNzPSJuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W3N0YXJ0cy13aXRoKEBjbGFzcywiYXJsLW1pYW4iKV0vZGl2L2RpdltAY2xhc3M9ImFybC1jb250Il0nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlLAogICAgICAgICAgICByZXBsYWNlRTogJy8vZGl2W0BjbGFzcz0iYXJsLXBhZ2VzIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Yek5Yew572RIC0g5paw6Ze744CB6LSi57uPJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvXHcrXC5pZmVuZ1wuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2ZpbmFuY2UuaWZlbmcuY29tL2EvMjAxMzExMTUvMTEwODk5OTRfMS5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGlkPSJwYWdlbmV4dCJdIHwgLy9kaXZbQGNsYXNzPSJuZXh0IiBvciBAY2xhc3M9ImZ5Il0vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9ImFydGljYWxfcmVhbCJdIHwgLy9kaXZbQGNsYXNzPSJjb250ZW50Il0vZGl2W0BjbGFzcz0iY29udGVudEwiXSB8IC8vZGl2W0BjbGFzcz0ieWliX2xlZnQiXS9kaXZbQGNsYXNzPSJib3hfbGlzdCJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICdpZCgiYXJ0aWNhbCIpL2RpdltAY2xhc3M9ImFuIl0vZGl2W0BjbGFzcz0ibmV4dCJdIHwgLy9kaXZbQGNsYXNzPSJ5aWJfbGVmdCJdL2RpdltAY2xhc3M9ImZ5Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5ZKM6K6v6LSi57uP5b6u5Y2aJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvdFwuaGV4dW5cLmNvbVwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3QuaGV4dW4uY29tLzIxMjEwMzAxL2RlZmF1bHQuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2xpW2NvbnRhaW5zKEBjbGFzcywgIm5leHRidG4yIildL2FbdGV4dCgpPSLkuIvkuIDpobXCoD4iXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJsaXN0V2VpYm8iXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGlkPSJwYWdlMiJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WSjOiur+WNmuWuoicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL1x3K1wuYmxvZ1wuaGV4dW5cLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly8yMzgwMjU0My5ibG9nLmhleHVuLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiBmdW5jdGlvbihkb2MpIHsKICAgICAgICAgICAgdmFyIHVybCA9IGRvYy5xdWVyeVNlbGVjdG9yKCcuUGFnZVNraXBfMSBhW3RpdGxlPSLkuIvkuIDpobUiXScpLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvKFwvcFxkK1wvKS4qLywgJyQxZGVmYXVsdC5odG1sJyk7CiAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgfSwKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiRGVmYXVsdENvbnRhaW5lcjFfQXJ0aWNsZUxpc3RfUGFuZWwxIiknCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5rG96L2m5LmL5a62JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5hdXRvaG9tZVwuY29tXC5jblwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5hdXRvaG9tZS5jb20uY24vY3VsdHVyZS8yMDEzMTAvNjQzNDc5LTcuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICdpZCgiYXJ0aWNsZXdyYXAiKS9kaXZbQGNsYXNzPSJwYWdlIl0vYVtAY2xhc3M9InBhZ2UtaXRlbS1uZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJhcnRpY2xlQ29udGVudCIpJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICdpZCgiYXJ0aWNsZXdyYXAiKS9kaXZbQGNsYXNzPSJwYWdlIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5rG96L2m5LmL5a626K665Z2b5biW5a2Q5ZKM5YiX6KGoJywKICAgICAgICB1cmw6L15odHRwOlwvXC9jbHViXC5hdXRvaG9tZVwuY29tXC5jblwvYmJzL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9jbHViLmF1dG9ob21lLmNvbS5jbi9iYnMvZm9ydW0tYy0yMzEzLTEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kbFtAY2xhc3M9Imxpc3RfZGwgIl1bQGxhbmddIHwgLy9kaXZbQGNsYXNzPSJjb25tYWluIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eIseWNoeaxvei9picsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3lwXC54Y2FyXC5jb21cLmNuXC8uKlwuaHRtbC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8veXAueGNhci5jb20uY24vMjAxMzExL25ld3NfMTM1MTA2NF8xLmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJhcnRpY2xlX3BhZ2VfYm90dG9tIl0vYVtAY2xhc3M9InBhZ2VfZG93biJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgibmV3c2JvZHkiKScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJhcnRpY2xlX3BhZ2VfYm90dG9tIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54ix5Y2h5rG96L2m6K665Z2b5biW5a2QJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnhjYXJcLmNvbVwuY25cL2Jic1wvdmlld3RocmVhZC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnhjYXIuY29tLmNuL2Jicy92aWV3dGhyZWFkLnBocD90aWQ9MTI0NzQ3NjAnLAogICAgICAgIG5leHRMaW5rOicvL2FbdGV4dCgpPSLkuIvkuIDpobXvvJ4iXVtAaHJlZl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2Zvcm1bQGlkPSJkZWxwb3N0Il0gfCAvL2RpdltAY2xhc3M9Im1haW50YWJsZSJdW0BpZD0iX2ltZyJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmlrDpl7sgLSDliqDmi7/lpKfljY7kurrnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnNpbm9uZXRcLm9yZ1wvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5zaW5vbmV0Lm9yZy9uZXdzL3NvY2lldHkvMjAxMy0xMS0xNS8zMDE5NDAuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL3BbQGNsYXNzPSJwYWdlTGluayJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInpvb20iKScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnvo7lm73kuK3mlofnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC9uZXdzXC5zaW5vdmlzaW9uXC5uZXRcLy4qXC5odG0vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL25ld3Muc2lub3Zpc2lvbi5uZXQvcG9saXRpY3MvMjAxNDAxLzAwMjc5MjA2Lmh0bScsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBnIl0vYVtAY2xhc3M9Im54dCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9ImQiXS90YWJsZVtAY2xhc3M9InZ3dGIiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwZyJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eBq+aYn+e9ke+8jeS4reWbvemihuWFiOeahOaVsOWtl+iJuuacr+mXqOaItycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL25ld3NcLmh4c2RcLmNvbVwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL25ld3MuaHhzZC5jb20vQ0ctZHluYW1pYy8yMDE0MDEvNjg0NTI4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ibmV3c19jb250ZW50X2xlZnQiXS9kaXZbQGNsYXNzPSJjb250ZW50Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+mTgeihgOe9kScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2Jic1wudGlleHVlXC5uZXRcL3Bvc3QuKlwuaHRtbC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vYmJzLnRpZXh1ZS5uZXQvcG9zdDJfNzk2OTg4M18zLmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlIl0vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicG9zdENvbnRlbnQiKS9kaXZbQGNsYXNzPSJuZXdjb25saTIiXScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnnIvlpKnkuIsnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnZpc3Rhc3RvcnlcLmNvbVwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy52aXN0YXN0b3J5LmNvbS9hLzIwMTQwOC81Mzk1Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0iY3BuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuYXJjX2JvZHknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WPguaUv+a2iOaBrycsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9jaGluYVxcLmNhbmthb3hpYW94aVxcLmNvbS8uKlxcLnNodG1sJywKICAgICAgICBuZXh0TGluazogJ2lkKCJuZXh0X3BhZ2UiKScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY3RybGZzY29udCIpJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2NoaW5hLmNhbmthb3hpYW94aS5jb20vcm9sbDEwLzIwMTQvMDgxNy80NjQzODEuc2h0bWwnLAogICAgfSwKICAgIHtuYW1lOiAn5Lit5Zu9572R5bGx5Lic6aKR6YGTJywKICAgICAgICB1cmw6ICdeaHR0cDovL3NkXFwuY2hpbmFcXC5jb21cXC5jbi8uKlxcLmh0bWwnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuY29udGVudCcsCiAgICAgICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WHr+i/quekvuWMuicsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9jbHViXFwua2RuZXRcXC5uZXQvbGlzdFxcLmFzcCcsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9ImxmIHc4NDBweCJdL2RpdltAY2xhc3M9Imxpc3QtdGFibGUiXS90YWJsZScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9jbHViLmtkbmV0Lm5ldC9saXN0LmFzcD90PTAmYm9hcmRpZD0xJnNlbFRpbWVMaW1pdD0wJmFjdGlvbj0mdG9waWNtb2RlPTAmcz0mcGFnZT0xJywKICAgIH0sCiAgICB7bmFtZTogJ+acqOacqOaWh+aRmCcsCiAgICAgICAgdXJsOiAnaHR0cDovL3d3d1xcLjg1bmlhblxcLm5ldC8nLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5lbnRyeS1jb250ZW50JwogICAgfSwKCiAgICAvLy0tLSDlm73lpJbmlrDpl7sKICAgIHtuYW1lOiAnVG91cmluZ0NhclRpbWVzJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC50b3VyaW5nY2FydGltZXNcLmNvbVwvY2F0ZWdvcnlcLy9pLAogICAgICAgIG5leHRMaW5rOiAnLy9saVtAY2xhc3M9ImJwbi1uZXh0LWxpbmsiXS9hJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9ImFyY2hpdmVfcGFnZV93cmFwcGVyIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ3RvbXNoYXJkd2FyZScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wudG9tc2hhcmR3YXJlXC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LnRvbXNoYXJkd2FyZS5jb20vcmV2aWV3cy9jaHJvbWUtMjctZmlyZWZveC0yMS1vcGVyYS1uZXh0LDM1MzQtMi5odG1sJywKICAgICAgICBuZXh0TGluazogJy8vbGlbQGNsYXNzPSJpdGVtIGljb24gYWN0aXZlIl0vZm9sbG93aW5nOjphWzFdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2FydGljbGVbQGlkPSJuZXdzLWNvbnRlbnQiXScsCiAgICAgICAgfQogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IHZpZGVvID09PT09PT09PT09PT09PT09PT09PQogICAge25hbWU6ICfkvJjphbfop4bpopEnLAogICAgICAgIHVybDogL15odHRwOlwvXC8oPzp3d3d8dXxpfHR2KVwueW91a3VcLmNvbVwvL2ksCiAgICAgICAgbmV4dExpbms6ICcvL2FbQHRpdGxlPSLkuIvkuIDpobUiXSB8IC8vbGlbQGNsYXNzPSJuZXh0Il0vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdIHwgLy9hW2VtL0BjbGFzcz0iaWNvX25leHQiXSB8IC8vYVtzcGFuL0BjbGFzcz0iaWNvX19wYWdlbmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9Imxpc3QiIG9yIEBpZD0ibGlzdG9mZmljaWFsIl0gfCBpZCgiZ2V0VmlkZW9MaXN0IikgfCBpZCgiaW1nVHlwZSIpIHwgLy9kaXZbQGNsYXNzPSJZS19tYWluIiBvciBAY2xhc3M9Im1haW5Db2wiXS9kZXNjZW5kYW50OjpkaXZbQGNsYXNzPSJpdGVtcyJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICLmkJzlupMt5LiT5om+6KeG6aKRIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnNva3VcXC5jb20vIiwKICAgICAgICBuZXh0TGluazogJy8vbGlbQGNsYXNzPSJuZXh0Il0vYVtAdGl0bGU9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9InNrX3Jlc3VsdCJdJywKICAgICAgICAgICAgc2VwYXJhdG9yUmVhbDogZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54ix5aWH6Im6JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvKGxpc3R8c28pXC5pcWl5aVwuY29tXC8vaSwKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZSJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJsaXN0X2NvbnRlbnQiXS9kaXZbQGNsYXNzPSJsaXN0MCJdIHwgLy9kaXZbQGNsYXNzPSJzX21haW4iXS9kZXNjZW5kYW50OjpkaXZbQGNsYXNzPSJtb2Rfc2lkZXJpZ2h0IGNsZWFyZml4Il0vdWwnLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+Wcn+ixhue9kSAtIOWFqOmDqOinhumikScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wudHVkb3VcLmNvbVwvY2F0ZVwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy50dWRvdS5jb20vY2F0ZS9hY2gzMC5odG1sJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZS1uYXYtYmFyIl0vYVt0ZXh0KCk9IuS4i+S4gOmhtT4iXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJjb250ZW50Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aQnOeLkOinhumikSDmkJzntKInLAogICAgICAgIHVybDogL15odHRwOlwvXC9zb1wudHZcLnNvaHVcLmNvbVwvbXRzXD8md2Q9L2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9zby50di5zb2h1LmNvbS9tdHM/JndkPSV1NjIxMSV1NjYyRiV1NzI3OSV1NzlDRCV1NTE3NSV1NEU0QiV1NzA2QiV1NTFFNCV1NTFGMCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2UiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ibGlzdEJveCBjbGVhciJdL2RpdltAY2xhc3M9ImNvbHVtbiBwaWNMaXN0Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aQnOeLkOinhumikScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3NvXC50dlwuc29odVwuY29tXC9saXN0L2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9zby50di5zb2h1LmNvbS9saXN0X3AxMTY5X3AyX3U0RTE2X3U3NTRDX3U2NzZGX3AzX3A0X3A1X3A2X3A3X3A4X3A5X3AxMF9wMTEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2UiXS9hW0BjbGFzcz0ibmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY29udGVudExpc3QiKS9kaXZbQGNsYXNzPSJjb2x1bW4tYmQgY2xlYXIiXS91bFtAY2xhc3M9ImNmaXgiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnaWQoImNvbnRlbnRMaXN0IikvZGl2W0BjbGFzcz0icGFnZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdiaWxpYmlsaScsCiAgICAgICAgInVybCI6ICJeaHR0cDovLyh3d3dcXC5iaWxpYmlsaVxcLnR2L3NlYXJjaHxzcGFjZVxcLmJpbGliaWxpXFwudHYvKSIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vZGl2W0BjbGFzcz1cInBhZ2VsaXN0Ym94XCJdL2FbQGNsYXNzPVwibmV4dFBhZ2VcIl18Ly91bFtAY2xhc3M9XCJwYWdlXCJdL2xpW0BjbGFzcz1cImN1cnJlbnRcIl0vZm9sbG93aW5nLXNpYmxpbmc6OmxpWzFdL2EiLAogICAgICAgICJwYWdlRWxlbWVudCI6ICIvL2RpdltAY2xhc3M9XCJzZWFyY2hsaXN0XCJdL3VsW0BjbGFzcz1cInNlYXJjaF9yZXN1bHRcIl0vbGl8Ly9kaXZbQGNsYXNzPVwibWFpbl9saXN0XCJdL3VsL2xpIgogICAgfSwKICAgIHtuYW1lOiAneW91dHViZSDmkJzntKLliJfooagnLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wueW91dHViZVwuY29tXC9yZXN1bHRzL2ksCiAgICAgICAgbmV4dExpbms6ICcvL2Rpdltjb250YWlucyhjb25jYXQoIiAiLCBAY2xhc3MsICIgIiksICIgeXQtdWl4LXBhZ2VyICIpXS8vYVtsYXN0KCldW0BocmVmXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInJlc3VsdHMiKScsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICdkYXRhLXRodW1iJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ2ltZGInLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmltZGJcLmNvbVwvc2VhcmNoL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuaW1kYi5jb20vc2VhcmNoL3RpdGxlP2NvdW50PTEwMCZ0aXRsZV90eXBlPWZlYXR1cmUsdHZfc2VyaWVzJnJlZl89bnZfY2hfbW1fMScsCiAgICAgICAgbmV4dExpbms6ICcvL3NwYW5bQGNsYXNzPSJwYWdpbmF0aW9uIl0vYVtsYXN0KCldIHwgaWQoInJpZ2h0IikvYVtsYXN0KCldJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgibWFpbiIpLyonLAogICAgICAgIH0KICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PSBzaG9wcGluZ+OAgeeUn+a0uyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHtuYW1lOiAn5reY5a6d5pCc57SiJywKICAgICAgICB1cmw6ICdeaHR0cDovLyg/Omxpc3R8c3xzZWFyY2hbXi5dKilcXC50YW9iYW9cXC5jb20vc2VhcmNoJywKICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9InBhZ2UtbmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9InRiLWNvbnRlbnQiXScsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICdkYXRhLWxhenlsb2FkLXNyY3xkYXRhLWtzLWxhenlsb2FkJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICLmt5jlrp0iLAogICAgICAgIHVybDogL15odHRwOlwvXC8oPyFiYnMpLipcLnRhb2Jhb1wuY29tXC8vaSwKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9IkpfU2hvcFNlYXJjaFJlc3VsdCJdL2Rpdi9kaXZbY29udGFpbnMoQGNsYXNzLCAic2hvcC1oZXNwZXItYmQiKV0gfCBpZCgiSl9JdGVtTGlzdHNDb250YWluZXIiKS91bFtAY2xhc3M9Iml0ZW0tbGlzdHMiXScsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICdkYXRhLWxhenlsb2FkLXNyY3xkYXRhLWtzLWxhenlsb2FkJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflpKnnjKsgLSDmkJzntKInLAogICAgICAgIHVybDogJ15odHRwOi8vbGlzdFxcLnRtYWxsXFwuY29tLy8/c2VhcmNoX3Byb2R1Y3RcXC5odG1cXD8nLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0idWktcGFnZS1uZXh0IiBhbmQgKHRleHQoKT0i5LiL5LiA6aG1Pj4iKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0iSl9JdGVtTGlzdCJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InVpLXBhZ2Utd3JhcCJdJywKICAgICAgICAgICAgbGF6eUltZ1NyYzogJ2RhdGEtbGF6eWxvYWQtc3JjfGRhdGEta3MtbGF6eWxvYWQnLAogICAgICAgIH0sCiAgICB9LAogICAge25hbWU6ICflupflhoXmkJzntKLpobUt5reY5a6d572RJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW14uXStcLnRhb2Jhb1wuY29tXC9zZWFyY2hcLmh0bVw/L2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9qaWFxaWJhaWhvdS50YW9iYW8uY29tL3NlYXJjaC5odG0/c3BtPWExejEwLjMudzQwMDItMTM4MTY5MTk4OC4xOC5HZ1dCcnkmbWlkPXctMTM4MTY5MTk4OC0wJnNlYXJjaD15JmtleXdvcmQ9JUJDJUFBJUMxJUQwJnBhZ2VObz0xJywKICAgICAgICBuZXh0TGluazogJy8vYVsodGV4dCgpPSLkuIvkuIDpobUiKV1bbm90KEBjbGFzcz0iZGlzYWJsZSIpXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJKX1Nob3BTZWFyY2hSZXN1bHQiXS9kaXYvZGl2W2NvbnRhaW5zKEBjbGFzcywgInNob3AtaGVzcGVyLWJkIildJywKICAgICAgICAgICAgbGF6eUltZ1NyYzogJ2RhdGEtbGF6eWxvYWQtc3JjfGRhdGEta3MtbGF6eWxvYWQnLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+a3mOWuneiuuuWdmyAnLAogICAgICAgIHVybDogL15odHRwOlwvXC9iYnNcLnRhb2Jhb1wuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2Jicy50YW9iYW8uY29tL2NhdGFsb2cvdGhyZWFkLzY0NzEzMy0yNjQ5NTk5NDcuaHRtP3NwbT0wLjAuMC4wLkppMXUydScsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImRldGFpbCIpL2RpdltAY2xhc3M9ImJiZCJdIHwgLy9kaXZbQGNsYXNzPSJtYWluLXdyYXAiXS8vZGl2W0BjbGFzcz0iYmQiXS90YWJsZVtAY2xhc3M9InBvc3RzIl0nLAogICAgICAgICAgICByZXBsYWNlRTogJy8vZGl2W0BjbGFzcz0icGFnaW5hdGlvbiJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S6rOS4nOWVhuWfjicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cLy4qXC5qZFwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2xpc3QuamQuY29tLzY3MC02ODYtNjkwLTAtMC0wLTAtMC0wLTAtMS0xLTEtMS0xOC0xNTc0LTI5NDU1LTAuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInBsaXN0IiknLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICdkYXRhLWxhenlsb2FkJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuqzkuJzor7vkuaYnLAogICAgICAgIHVybDogL15odHRwOlwvXC9yZWFkXC5qZFwuY29tXC8uKlwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3JlYWQuamQuY29tLzE2MTcxLzc3ODA0My5odG1sJywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9Im1jIGNsZWFyZml4Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S6mumprOmAiicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuYW1hem9uXC5jblwvZ3BcL3NlYXJjaFwvL2ksCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoIm1haW5SZXN1bHRzIikgfCBpZCgiYnRmUmVzdWx0cyIpJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmmJPov4XnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC9zZWFyY2hleFwueWl4dW5cLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9zZWFyY2hleC55aXh1bi5jb20vNzA1Nzk4dDcwNjgxMC0xMDAxLS8/WVRBRz0zLjcwNjgxMDI0NjAyMCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InNvcnRfcGFnZV9udW0iXS9hW0B0aXRsZT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vVUxbQGlkPSJpdGVtTGlzdCJdJywKICAgICAgICAgICAgbGF6eUltZ1NyYzogJ2luaXRfc3JjJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WJjeeoi+aXoOW/pyAtIOaQnOe0oicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3NlYXJjaFwuNTFqb2JcLmNvbVwvam9ic2VhcmNoXC9zZWFyY2hfcmVzdWx0L2ksCiAgICAgICAgbmV4dExpbms6ICcvL3RhYmxlW0BjbGFzcz0ic2VhcmNoUGFnZU5hdiJdLy90ZFtAY2xhc3M9ImN1cnJQYWdlIl0vZm9sbG93aW5nLXNpYmxpbmc6OnRkWzFdL2EnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJyZXN1bHRMaXN0IiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aKouS6huS4quS+v+WunCB8IOmrmOaAp+S7t+avlOato+WTgeS9juS7t+WVhuWTgeaOqOiNkOe9kScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wucWxncHlcLmNvbVwvL2ksCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9IndwYWdlbmF2aSJdL2FbdGV4dCgpPSLkuIvpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoIndyYXBtYWluIikvL3VsW3N0YXJ0cy13aXRoKEBpZCwgInBvc3QtIildJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnp5Lkvr/lrpzorrrlnZsnLAogICAgICAgIHVybDogL15odHRwOlwvXC9iYnNcLm1pYW9weVwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2Jicy5taWFvcHkuY29tL2FjdGl2aXR5L2xpc3QtMy5hc3B4JywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LmZvcnVtdG9waWNzLWxpc3QnLAogICAgICAgICAgICBzdHlsaXNoOiAnZGl2LnNwLXNlcGFyYXRvciB7IHdpZHRoOiA4MDBweCAhaW1wb3J0YW50O30nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6Zyy5aSp5ouN6LOjJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW2Etel0rXC5ydXRlblwuY29tXC50d1wvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9jbGFzcy5ydXRlbi5jb20udHcvY2F0ZWdvcnkvc3ViMDAucGhwP2M9MDAxOTAwMDgwMDAxMDAwMScsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJzZWFyY2hSZXN1bHQiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnWWFob28h5aWH5pGp5ouN6LOjJywKICAgICAgICB1cmw6IC9eaHR0cHM6XC9cL3R3XC5iaWRcLnlhaG9vXC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwczovL3R3LmJpZC55YWhvby5jb20vdHcvMjA5MjA3NjI3Ny1jYXRlZ29yeS1sZWFmLmh0bWw/LnI9MTQwODg1Mzg4OCcsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInNycF9zbF9yZXN1bHQiKScsCiAgICAgICAgfQogICAgfSwKICAgIC8vIOaJi+acuuivhOa1i+etiQogICAge25hbWU6ICfmnYDku7fluK4zQ+WvvOi0ree9keKAlOecn+WuniDlrqLop4Ig54us56uLIOiHqueUsScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuc2hhamlhXC5jblwvYXJ0aWNsZS9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LnNoYWppYS5jbi9hcnRpY2xlX2xpc3QucGhwJywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiYWdyZWVtZW50IiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+acuumUi+e9kScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuZ2ZhblwuY29tXC9yZXZpZXdcL1x3K1wuaHRtbC8sCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuZ2Zhbi5jb20vcmV2aWV3LzIwMTQwOTE1NTc3NTEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJuZXdzLWNvbnRlbnQiXScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUKICAgICAgICB9CiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0g55+l6K+G44CB6ZiF6K+7ID09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHtuYW1lOiAn6LGG55OjLeS5puW9semfs+ivhOiuuicsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly8uKlxcLmRvdWJhblxcLmNvbS9zdWJqZWN0JywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnaW5hdG9yIl0vc3BhbltAY2xhc3M9Im5leHQiXS9hW2NvbnRhaW5zKHRleHQoKSwi5ZCO6aG1PiIpXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy91bFtjb250YWlucyhAY2xhc3MsInRvcGljLXJlcGx5IildIHwgLy9kaXZbQGNsYXNzPSJhcnRpY2xlIl0vdGFibGUgfCAvL2RpdltAaWQ9ImNvbW1lbnRzIiBvciBAY2xhc3M9InBvc3QtY29tbWVudHMiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmiJHnmoTlsI/nu4Tor53popggLSDosYbnk6MnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmRvdWJhblwuY29tXC9ncm91cFwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuZG91YmFuLmNvbS9ncm91cC8nLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdpbmF0b3IiXS9zcGFuW0BjbGFzcz0ibmV4dCJdL2FbdGV4dCgpPSLlkI7pobU+Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJjb250ZW50IikvZGl2L2RpdltAY2xhc3M9ImFydGljbGUiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6LGG55Oj5YWo56uZJywKICAgICAgICB1cmw6ICdeaHR0cDovLy4qXFwuZG91YmFuXFwuY29tLy4qJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnaW5hdG9yIl0vc3BhbltAY2xhc3M9Im5leHQiXS9hW2NvbnRhaW5zKHRleHQoKSwi5ZCO6aG1PiIpXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoIm1pbmlibG9nIikgfCAvLypbQGNsYXNzPSJwaG90b2xzdCBjbGVhcmZpeCIgb3IgQGNsYXNzPSJwaG90b2xzdCBjbGVhcmJveCIgb3IgQGNsYXNzPSJldmVudC1waG90by1saXN0IiBvciBAY2xhc3M9InBvc3Rlci1jb2w0IGNsZWFyZml4Il0gfCBcCiAgICAgICAgICAgIC8vZGl2W0BpZD0iY29tbWVudC1zZWN0aW9uIl0gfCAvL3RhYmxlW0BjbGFzcz0ib2x0IiBvciBAY2xhc3M9Imxpc3QtYiJdL3Rib2R5IHwgLy9kaXZbY29udGFpbnMoQGNsYXNzLCJjbGVhcmZpeCIpXS9kaXZbQGNsYXNzPSJhcnRpY2xlIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn55+l5LmOJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC56aGlodVwuY29tXC9jb2xsZWN0aW9uL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuemhpaHUuY29tL2NvbGxlY3Rpb24vMTk1NjE5ODYnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJ6aC1saXN0LWFuc3dlci13cmFwIikvZGl2W0BjbGFzcz0iem0taXRlbSJdJywKICAgICAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgICAgICAgICAgbmV3SWZyYW1lOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6K+R6KiA572RIHwg6K+R5paH5bqT5ZKM5Y6f5paH5bqTJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvKD86YXJ0aWNsZXxzb3VyY2UpXC55ZWV5YW5cLm9yZ1wvL2ksCiAgICAgICAgbmV4dExpbms6ICcvL3VsW2NvbnRhaW5zKGNvbmNhdCgiICIsbm9ybWFsaXplLXNwYWNlKEBjbGFzcyksIiAiKSwgIiB5X3BhZ2UiKSBdL2xpL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbY29udGFpbnMoY29uY2F0KCIgIixub3JtYWxpemUtc3BhY2UoQGNsYXNzKSwiICIpLCAiY29udGVudF9ib3giKV0gfCAvL2RpdltAY2xhc3M9InlfbCJdL2RpdltAY2xhc3M9Inlfc19saXN0Il0nLAogICAgICAgICAgICByZXBsYWNlRTogJy8vdWxbY29udGFpbnMoY29uY2F0KCIgIixub3JtYWxpemUtc3BhY2UoQGNsYXNzKSwiICIpLCAiIHlfcGFnZSIpIF0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6K+R6KiA57K+6YCJJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvc2VsZWN0XC55ZWV5YW5cLm9yZ1wvL2ksCiAgICAgICAgbmV4dExpbms6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgInNfcGFnZV9uIildL2xpL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImFydGljbGVfbGlzdCIpJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgInNfcGFnZV9uIildJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJyDor5HoqIDlsI/nu4QnLAogICAgICAgIHVybDogL15odHRwOlwvXC9ncm91cFwueWVleWFuXC5vcmdcLy9pLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdpbmF0b3IiXS9hW0BjbGFzcz0ibmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2Rpdltjb250YWlucyhAY2xhc3MsICJjb2x1bW4tbWFpbiIpXS9kaXZbY29udGFpbnMoQGNsYXNzLCAic3RyZWFtIildJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRvciJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuLvpopjnq5kgfCDmnpzlo7PnvZEgJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmd1b2tyXFwuY29tLyg/OnNpdGV8Z3JvdXB8YXNrfGV2ZW50KS8nLAogICAgICAgIG5leHRMaW5rOiAnLy91bFtAY2xhc3M9ImdwYWdlcyJdL2xpL2FbY29udGFpbnMoLiwi5LiL5LiA6aG1IildJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iYXJ0aWNsZS1saXN0Il0gfCAvL3VsW0BjbGFzcz0idGl0bGVzIl0gfCAvL3VsW0BjbGFzcz0iYXNrLWxpc3QiXSB8IC8vdWxbQGNsYXNzPSJldmVudF9saXN0IGdjbGVhciJdJywKICAgIH0sCiAgICB7bmFtZTogJ+Wkp+S8l+eCueivhOe9kScsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC5kaWFucGluZ1xcLmNvbS8uKicsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJOZXh0UGFnZSIgYW5kIEB0aXRsZT0i5LiL5LiA6aG1IiBhbmQgKHRleHQoKT0i5LiL5LiA6aG1IildJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0ic2VhcmNoTGlzdCJdJywKICAgIH0sCiAgICB7bmFtZTogJ+aIkeS7rOS4gOi1t+aIkOmVvyB8IOW5uOemj+i/m+WMluS/seS5kOmDqOWFseWQjOaIkOmVv+WNmuWuouWciCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3Vwd2l0aFwubWVcLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vdXB3aXRoLm1lLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iY29udGVudCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnn6XkuY7ml6XmiqUnLAogICAgICAgIHVybDogJ15odHRwOi8vemhpaHVkYWlseVxcLmpkLWFwcFxcLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiAnLy9oMy9hW3RleHQoKT0iPDw8IOWJjeS4gOWkqSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Ym9keSA+IConLAogICAgICAgICAgICBzZXBhcmF0b3JSZWFsOiBmYWxzZSwKICAgICAgICB9LAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vemhpaHVkYWlseS5qZC1hcHAuY29tLycsCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gZG93bmxvYWQgPT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7bmFtZTogJ1ZlcnlDROaQnOe0oumhtemdoicsCiAgICAgICAgdXJsOiAvaHR0cDpcL1wvd3d3XC52ZXJ5Y2RcLmNvbVwvc2VhcmNoXC9mb2xkZXJzLisvaSwKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cudmVyeWNkLmNvbS9zZWFyY2gvZm9sZGVycy8nLAogICAgICAgIG5leHRMaW5rOiAnLy91bFtAY2xhc3M9InBhZ2UiXS8vYVtjb250YWlucyh0ZXh0KCksIuS4i+S4gOmhtSIpXVtAaHJlZl0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vdWxbQGlkPSJyZXN1bHRzQ29udGFpbmVyIl0nLAogICAgICAgICAgICByZXBsYWNlRTogJ2lkKCJwYWdlX2h0bWwiKS91bFtAY2xhc3M9InBhZ2UiXScsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICdfc3JjJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogIlZlcnlDROWIhuexu+i1hOa6kOmhtSIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wudmVyeWNkXC5jb21cL3N0b1wvLisvaSwKICAgICAgICBleGFtcGxlVXJsOiAiaHR0cDovL3d3dy52ZXJ5Y2QuY29tL3N0by9tdXNpYy9wYWdlMSIsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzLW5hdiJdL2FbdGV4dCgpPSLkuIvkuIDpobUgwrsiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJjb250ZW50Il0vdWwnLAogICAgICAgICAgICBsYXp5SW1nU3JjOiAnbG9hZC1zcmMnLAogICAgICAgICAgICByZXBsYWNlRTogJy8vZGl2W0BjbGFzcz0icGFnZXMtbmF2Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnU2ltcGxlQ0QgfCDorqnooqvlopnlj5jlvpfnroDljZUnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnNpbXBsZWNkXC5tZVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuc2ltcGxlY2QubWUvc2VhcmNoL2VudHJ5Lz9xdWVyeT0lRTclODElOEMlRTclQUYlQUUlRTklQUIlOTglRTYlODklOEInLAogICAgICAgIG5leHRMaW5rOiAnLy90ZFtAY2xhc3M9Im5leHQiXS9hW0BjbGFzcz0iZW5hYmxlZCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9InJlc3VsdC1saXN0IiBvciBAY2xhc3M9InN1Yi1yZWNvbW1lbmQiXS9kaXZbQGNsYXNzPSJjb250ZW50Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eUtemptOermSDniLHno4HlipsgaUNpTGkgLSDnlLXpqbTkuIvovb3nq5knLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmljaWxpXC5jb21cL2VtdWxlL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuaWNpbGkuY29tL2VtdWxlJywKICAgICAgICBuZXh0TGluazogJ2lkKCJtYWluIikvZGl2W0BjbGFzcz0icGFnZXIiXS9kZXNjZW5kYW50OjphW3RleHQoKT0iID4gIl0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluIikvdWwnLAogICAgICAgICAgICByZXBsYWNlRTogJ2lkKCJtYWluIikvZGl2W0BjbGFzcz0icGFnZXIiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflsITmiYvnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC8oPzp3d3dcLik/c2hvb3RlclwuY25cL3NlYXJjaFwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuc2hvb3Rlci5jbi9zZWFyY2gvRWx5c2l1bS8nLAogICAgICAgIHByZUxpbms6ewogICAgICAgICAgICBzdGFydEFmdGVyOic/cGFnZT0nLAogICAgICAgICAgICBpbmM6LTEsCiAgICAgICAgICAgIG1pbjoxLAogICAgICAgIH0sCiAgICAgICAgbmV4dExpbms6ewogICAgICAgICAgICBzdGFydEFmdGVyOic/cGFnZT0nLAogICAgICAgICAgICBtRmFpbHM6Wy9eaHR0cDpcL1wvKD86d3d3XC4pP3Nob290ZXJcLmNuXC9zZWFyY2hcL1teXC9dKy9pLCc/cGFnZT0xJ10sCiAgICAgICAgICAgIGluYzoxLAogICAgICAgIH0sCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJyZXN1bHRzZGl2Il0vZGl2W0BjbGFzcz0ic3ViaXRlbSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICJZWWVUcyDkurrkurrlvbHop4YiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwueXlldHNcXC5jb20vIiwKICAgICAgICBuZXh0TGluazogIi8vZGl2W3N0YXJ0cy13aXRoKEBjbGFzcywgJ3BhZ2VzJyldL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSfkuIvkuIDpobUnXSB8IC8vZGl2W0BjbGFzcz0ncGFnZXMnXS8vYVtAY2xhc3M9J2N1ciddL2ZvbGxvd2luZy1zaWJsaW5nOjphIiwKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICIvL2RpdltAY2xhc3M9J2JveF8xIHRvcGljTGlzdCddIHwgLy9kaXZbQGNsYXNzPSdib3hfNCByZXNfbGlzdHZpZXcnIG9yIEBjbGFzcz0nYm94XzQgYmdfZWInXSB8IC8vdWxbQGNsYXNzPSd1X2RfbGlzdCddL2xpIHwgLy91bFtAY2xhc3M9J2FsbHNlYXJjaCBkYXNoZWQgYm94UGFkZDYnIG9yIEBjbGFzcz0nZGFzaGVkIGJic19pbmZvX2xpc3QnXSIsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyIgb3IgQGNsYXNzPSJwYWdlcyBjbGVhcmZpeCJdJywKICAgICAgICAgICAgc2VwYXJhdG9yUmVhbDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdUVG1laWp1LkNvbSDmgqjnmoTpq5jmuIXnvo7liafniYfmupDkuIvovb3kuK3lv4MnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnR0bWVpanVcLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cudHRtZWlqdS5jb20vbWVpanUvUGVyc29uLm9mLkludGVyZXN0Lmh0bWw/cGFnZT0xJywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9InNlZWRsaXN0ZGl2IiBvciBAY2xhc3M9ImNvbnRlbnRib3giXS90YWJsZVtAY2xhc3M9InNlZWR0YWJsZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnlLXlvbHlpKnloIInLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmR5MjAxOFwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5keTIwMTguY29tL2h0bWwvZ25keS9keXp6L2luZGV4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJ4Il0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9ImNvX2FyZWEyIl0vZGl2W0BjbGFzcz0iY29fY29udGVudDgiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5pyA5paw55S15b2xIHwg6b6Z6YOo6JC9JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5sb25nYnVsdW9cLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cubG9uZ2J1bHVvLmNvbS9jYXRlZ29yeS9tb3ZpZScsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2ViYXIiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0icG9zdGxpc3QiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAiY3NzOy5wYWdlYmFyIgogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+mrmOa4hei/nue7reWJpyB8IOS4gOi1t+S4i+i9veWQpycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cLzE3ZG93blwubmV0XC9jYXRlZ29yeS9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vMTdkb3duLm5ldC9jYXRlZ29yeS90dicsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImNvbnRlbnQiKS9kaXZbc3RhcnRzLXdpdGgoQGNsYXNzLCAiZW50cnlfYm94IildJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdHb+S4i+i9vScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2dveGlhemFpXC5jY1wvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9nb3hpYXphaS5jYy8nLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluIikvZGl2W0BjbGFzcz0icG9zdCJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICdpZCgicGFnZW5hdmkiKScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICc3MjBQ55S15b2x5LiL6L29LDEwODBQ55S15b2x5LiL6L29LGJ06JOd5YWJ55S15b2x5LiL6L29LEJU5Y6f55uY55S15b2x5LiL6L2977yaQlTkuYvlrrbogIHniYznlLXlvbHkuIvovb3nvZHnq5nvvIznmb7kuIfnlKjmiLfpgInmi6nkuobov5nph4wnLAogICAgICAgIHVybDogL15odHRwOlwvXC9iYnNcLjFsb3VcLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9iYnMuMWxvdS5jb20vZm9ydW0taW5kZXgtZmlkLTExODMuaHRtJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZSJdL2FbdGV4dCgpPSLilrYiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInRocmVhZGxpc3QiKSB8IGlkKCJib2R5IikvZGl2L3RhYmxlW0BjbGFzcz0icG9zdF90YWJsZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflvohCVOeUteW9seiBlOebnycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2hlbmJ0XC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vaGVuYnQuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIGNsZWFyIl0vYVtAY2xhc3M9Im5leHRwcmV2Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJidG0iKS9kaXZbQGNsYXNzPSJtYWluIl0vZGl2W0BjbGFzcz0iYm94IGNsZWFyIl0nLAogICAgICAgICAgICBzZXBhcmF0b3JSZWFsOiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgLy8gPT09PT09PT09PT09PT09PT09IFBUID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAge25hbWU6ICflhYnljY7vvIxjbWN077yMY2hk77yM55qH5ZCO77yMaGQ4Nu+8jGtoZGJpdHPvvIxoZHNree+8jGhkdm5iaXRz77yMaGQtc3BvcnRiaXRz77yMdGNjZu+8jOeah+WQjm1277yMbXTvvIxoZDRmYW5z77yMaGRoY++8jOWPkeeDp+WPi++8jHRsZmJpdHPvvIxqb3loZO+8jOiaguiagXB077yM5riF5b2xcHTvvIzljJfpgq7kurrvvIx1MicsCiAgICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvKD86YnRcLnVwY1wuZWR1fGhkY21jdHxjaGRiaXRzfG9wZW58aGQ4NnxraGRiaXRzfGhkc2t5fGhkdm5iaXRzfGhkLXNwb3J0Yml0c3xldDh8bXZcLm9wZW58dHBcLm0tdGVhbXx3d3dcLmhkNGZhbnN8d3d3XC5oZGhjfHd3d1wucHR8cHRcLmVhc3RnYW1lfHd3d1wuam95aGR8aXB2NlwuYW50c291bHxpcHY0XC5hbnRzb3VsfHB0XC5oaXRcLmVkdXxidFwuYnlyfHUyXC5kbWh5KVwuKG5ldHxjbnxvcmd8Y29tfGNkfGNjfG1lfGNtKVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9oZGNtY3Qub3JnL3RvcnJlbnRzLnBocCcsCiAgICAgICAgbmV4dExpbms6ICcvL2JbQHRpdGxlPSJBbHQrUGFnZWRvd24iXS9wYXJlbnQ6OmEnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vdGFibGVbQGNsYXNzPSJ0b3JyZW50cyJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfokaHokIQgOjog56eN5a2QJywKICAgICAgICB1cmw6IC9eaHR0cHM6XC9cL3B0XC5zanR1XC5lZHVcLmNuXC90b3JyZW50c1wucGhwL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHBzOi8vcHQuc2p0dS5lZHUuY24vdG9ycmVudHMucGhwJywKICAgICAgICBuZXh0TGluazogJy8vYltjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0vcGFyZW50OjphJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3RhYmxlW0BjbGFzcz0idG9ycmVudHMiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnLSBIRFdpbkcg6auY5riF5b2x6Z+z5Lq65aOr55qE5YiG5Lqr5LmQ5ZutJywKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC9oZHdpbmdcLmNvbVwvYnJvd3NlXC5waHAvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2hkd2luZy5jb20vYnJvd3NlLnBocCcsCiAgICAgICAgbmV4dExpbms6ICcvL2JbY29udGFpbnModGV4dCgpLCAi5LiL6aG1IildL3BhcmVudDo6YScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy90YWJsZVtAY2xhc3M9InRvcnJlbnRzX2xpc3QiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnVFRHJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvdHRnXC5pbVwvYnJvd3NlXC5waHAvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3R0Zy5pbS9icm93c2UucGhwJywKICAgICAgICBuZXh0TGluazogJy8vYltjb250YWlucyh0ZXh0KCksICLkuIvpobUiKV0vcGFyZW50OjphJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJ0b3JyZW50X3RhYmxlIiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+m6pueUsCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3B0XC5ud3N1YWY2XC5lZHVcLmNuXC90b3JyZW50c1wucGhwL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9oZGNtY3Qub3JnL3RvcnJlbnRzLnBocCcsCiAgICAgICAgbmV4dExpbms6ICcvL2JbY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildL3BhcmVudDo6YVtAY2xhc3M9Im5leHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy90YWJsZVtAY2xhc3M9InRvcnJlbnRzIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S5kOS5jue9kS3mnInkuZDkuY7vvIEnLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwudWxlaHVcXC5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9ImExIiBhbmQgKHRleHQoKT0i5LiL5LiA6aG1IildJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vYm9keS9kaXZbQGNsYXNzPSJjb250YWluZXIgbXQyMCJdL2RpdltAY2xhc3M9ImNvbnRlbnQiXS9kaXZbQGNsYXNzPSJjb2xNYWluIl0vZGl2JywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy51bGVodS5jb20vJywKICAgIH0sCiAgICB7bmFtZTogJ0hEUm9hZCAtIOi1hOa6kOWMuicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2hkcm9hZFwub3JnXC9icm93c2VcLnBocC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vaGRyb2FkLm9yZy9icm93c2UucGhwJywKICAgICAgICBuZXh0TGluazogJy8vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0idG9ycmVudC1saXN0Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+enjeWtkOWIl+ihqC3ljJfkuqzkuqTpgJrlpKflrabnn6XooYxQVCcsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9wdFxcLnpoaXhpbmdcXC5ianR1XFwuZWR1XFwuY24vc2VhcmNoLycsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy90YWJsZVtAY2xhc3M9InRvcnJlbnR0YWJsZSJdJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3B0LnpoaXhpbmcuYmp0dS5lZHUuY24vc2VhcmNoLycsCiAgICB9LAogICAge25hbWU6ICfntKvojYbnq5kgfCBaaUppbmdCVCB2MiB8IOenjeWtkOmhtScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3ppamluZ2J0XC5uanVmdHBcLm9yZ1wvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly96aWppbmdidC5uanVmdHAub3JnL2luZGV4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy90YWJsZVtAY2xhc3M9InRvcnJlbnRfdGFibGUiXScsCiAgICAgICAgfQogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IGJic+OAgWJsb2cgPT09PT09PT09PT09PT09PT09PT09PQogICAge25hbWU6ICflpKnmtq/orrrlnZtf5biW5a2Q5YiX6KGoJywKICAgICAgICB1cmw6ICdeaHR0cDovL2Jic1xcLnRpYW55YVxcLmNuL2xpc3QnLAogICAgICAgIG5leHRMaW5rOiAnLy9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJtdDUiXScsCiAgICB9LAogICAge25hbWU6ICflpKnmtq/orrrlnZvluJblrZAnLAogICAgICAgIHVybDovaHR0cDpcL1wvYmJzXC50aWFueWFcLmNuXC8uK1wuc2h0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL2Jicy50aWFueWEuY24vcG9zdC1mZWVsaW5nLTI3OTI1MjMtMS5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0iYXRsLXBhZ2VzIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+mhtSJdW0BocmVmXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImF0bC1tYWluIl0nLAogICAgICAgICAgICBsYXp5SW1nU3JjOiAnb3JpZ2luYWwnLAogICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKHBhZ2VzKXsKICAgICAgICAgICAgICAgIHZhciBzZWVfb25seV91bmFtZSA9IHVuc2FmZVdpbmRvdy5zZWVfb25seV91bmFtZTsKICAgICAgICAgICAgICAgIHZhciBzZXRPbmx5VXNlciA9IHVuc2FmZVdpbmRvdy5zZXRPbmx5VXNlcjsKICAgICAgICAgICAgICAgIGlmKHNlZV9vbmx5X3VuYW1lKXsKICAgICAgICAgICAgICAgICAgICBzZXRPbmx5VXNlcihzZWVfb25seV91bmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdtb3plc3TnpL7ljLonLAogICAgICAgIHVybDogL15odHRwcz86XC9cL2dcLm1vemVzdFwuY29tL2ksCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vL2FbQGNsYXNzPSJuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0idGhyZWFkbGlzdCJdIHwgLy9kaXZbQGlkPSJwb3N0bGlzdCJdJywKICAgICAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZXNfYnRucyA+IC5wYWdlcycKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdGaXJlZm945Lit5paH56S+5Yy6IC0g5YiX6KGoJywKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3XFwuZmlyZWZveFxcLm5ldFxcLmNuL3RocmVhZCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJKX3Bvc3RzX2xpc3QiKScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcycsCiAgICAgICAgICAgIGRvY3VtZW50RmlsdGVyOiBmdW5jdGlvbihkb2MpIHsKICAgICAgICAgICAgICAgIC8vIOWktOWDj+i9veWFpeWHuumUmeeahOS/ruatowogICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvYy5xdWVyeVNlbGVjdG9yQWxsKCdpbWcuSl9hdmF0YXInKSwgZnVuY3Rpb24oaW1nKXsKICAgICAgICAgICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdvbmVycm9yJywgJ3RoaXMuc3JjPSJodHRwOi8vd3d3LmZpcmVmb3gubmV0LmNuL3Jlcy9pbWFnZXMvZmFjZS9mYWNlX3NtYWxsLmpwZyI7Jyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0ZpcmVmb3jkuK3mlofnpL7ljLogLSDluJblrZAnLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3dcXC5maXJlZm94XFwubmV0XFwuY24vcmVhZCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJKX3Bvc3RzX2xpc3QiKS8qJywKICAgICAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgICAgICAgICAgbmV3SWZyYW1lOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnTW96aWxsYSBBZGRvbnMgLSDnlKjmiLfkv6Hmga8nLAogICAgICAgIHVybDogL15odHRwczpcL1wvYWRkb25zXC5tb3ppbGxhXC5vcmdcL3poLUNOXC9bXlwvXStcL3VzZXJcLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwczovL2FkZG9ucy5tb3ppbGxhLm9yZy96aC1DTi9maXJlZm94L3VzZXIvVmFzaWxpeV9UZW1uaWtvdi8nLAogICAgICAgIG5leHRMaW5rOiAnLy9wW0BjbGFzcz0icmVsIl0vYVtAY2xhc3M9ImJ1dHRvbiBuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJteS1hZGRvbnMiKScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnTW96aWxsYSBBZGRvbnMnLAogICAgICAgIHVybDogL15odHRwcz86XC9cL2FkZG9uc1wubW96aWxsYVwub3JnXC9bXlwvXStcL2ZpcmVmb3gvaSwKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHBzOi8vYWRkb25zLm1vemlsbGEub3JnL3poLUNOL2ZpcmVmb3gvJywKICAgICAgICBuZXh0TGluazogJy8vcFtAY2xhc3M9InJlbCJdL2FbQGNsYXNzPSJidXR0b24gbmV4dCJdW0BocmVmXSB8IC8vb2xbQGNsYXNzPSJwYWdpbmF0aW9uIl0vbGkvYVtAcmVsPSJuZXh0Il1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6IHsKCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJwamF4LXJlc3VsdHMiIG9yIEBjbGFzcz0ic2VwYXJhdGVkLWxpc3RpbmciXS9kaXZbQGNsYXNzPSJpdGVtcyJdIHwgLy9zZWN0aW9uW0BjbGFzcz0icHJpbWFyeSJdL2Rpdi9kaXZbQGNsYXNzPSJpdGVtcyJdIHwgLy91bFtAY2xhc3M9InBlcnNvbmFzLWdyaWQiXSB8IC8vZGl2W0BpZD0ibXktYWRkb25zIl0gfCAvL2RpdltAaWQ9InJldmlld3MiXScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0b3InCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5pCc57SiIHwgTW96aWxsYSDmioDmnK/mlK/mjIEnLAogICAgICAgIHVybDogJ15odHRwczovL3N1cHBvcnRcXC5tb3ppbGxhXFwub3JnL3poLUNOL3NlYXJjaFxcPycsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy96aC1DTi9zZWFyY2g/ZXNhYj1hJnByb2R1Y3Q9ZmlyZWZveCZxPSVFNyVCRSVBNCVFNyVCQiU4NCcsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJidG4tcGFnZSBidG4tcGFnZS1uZXh0IiBhbmQgY29udGFpbnModGV4dCgpLCLkuIvkuIDkuKoiKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0ic2VhcmNoLXJlc3VsdHMiXS9kaXZbQGNsYXNzPSJncmlkXzkiXS9kaXZbQGNsYXNzPSJjb250ZW50LWJveCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflgrLmuLjmtY/op4jlmagt5o+S5Lu25Lit5b+DJywKICAgICAgICB1cmw6ICJeaHR0cDovL2V4dGVuc2lvblxcLm1heHRob25cXC5jbi8iLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyBwYWdlLXJpZ2h0Il0vYVt0ZXh0KCk9Ij4iXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3VsW0BpZD0iZGVsZWdhdGUtYWxsIl0nCiAgICB9LAogICAge25hbWU6ICLlsI/nsbPmiYvmnLrlrpjmlrnorrrlnZsiLAogICAgICAgIHVybDogIl5odHRwOi8vYmJzXFwueGlhb21pXFwuY24vIiwKICAgICAgICBuZXh0TGluazogIi8vYVtAY2xhc3M9J254dCcgYW5kICh0ZXh0KCk9J+S4i+S4gOmhtScpXSIsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAiaWQoJ3Bvc3RsaXN0JykgfCBpZCgndGhyZWFkbGlzdCcpIiwKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBnIl1bY2hpbGQ6OmFbQGNsYXNzPSJueHQiXV0nLAogICAgICAgICAgICBkb2N1bWVudEZpbHRlcjogZnVuY3Rpb24oZG9jKSB7CiAgICAgICAgICAgICAgICB2YXIgZmlyc3REaXYgPSBkb2MucXVlcnlTZWxlY3RvcigiZGl2W2lkXj0ncG9zdF8nXSIpOwogICAgICAgICAgICAgICAgaWYgKGZpcnN0RGl2KSB7CiAgICAgICAgICAgICAgICAgICAgZmlyc3REaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaXJzdERpdik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmo4vlj4vlrrblm60nLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLndlaXFpdHZcLmNvbVwvaG9tZVwvZm9ydW0vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy53ZWlxaXR2LmNvbS9ob21lL2ZvcnVtLnBocD9tb2Q9dmlld3RocmVhZCZ0aWQ9MTYyMyZleHRyYT0mcGFnZT0xJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGciXS9hW0BjbGFzcz0ibnh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJ0aHJlYWRsaXN0dGFibGVpZCIpIHwgaWQoInBvc3RsaXN0IiknLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnRGlzY3V6IFgyLjXkv67lpI0nLAogICAgICAgIHVybDovXmh0dHA/OlwvXC8oYmJzLmdmYW58YmJzLnhkYXxiYnMud2VpcGhvbmV8YmJzLmZlbmd8d3d3LndlaXFpdHZ8d3d3LmRpeXBkYXxmLnBweGNsdWJ8YmJzLnNkMDAxfGJicy5pdGlhbmtvbmcpXC4oY29tfGNuKS9pLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0idGhyZWFkbGlzdCJdIHwgLy9kaXZbQGlkPSJwb3N0bGlzdCJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBnIl1bY2hpbGQ6OmFbQGNsYXNzPSJueHQiXV0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WogemUi+iuuuWdm+aQnOe0oicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3NcLmZlbmdcLmNvbVwvZlw/c3JjaHR4dD0vaSwKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0ic2VhcmNocmVzdWx0Il0nLAogICAgICAgICAgICByZXBsYWNlRTogJy8vZGl2W0BjbGFzcz0icGFnZXMiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdEaXNjdXog6aG16Z2i6Lez6L2s5L+u5aSNJywKICAgICAgICB1cmw6L15odHRwOlwvXC8oYmJzLnBjYmV0YXxiYnMuYmVzZ29sZHx3d3cucHQ4MClcLihjb218bmV0KS9pLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InBnIl0vZGVzY2VuZGFudDo6YVtAY2xhc3M9Im54dCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJwb3N0bGlzdCJdIHwgLy9mb3JtW0BpZD0ibW9kZXJhdGUiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwZyJdW2NoaWxkOjphW0BjbGFzcz0ibnh0Il1dJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICd2QnVsbGV0aW7orrrlnZsg5Yqg5YqgL+eci+mbqi9YREEnLAogICAgICAgIHVybDovaHR0cDpcL1wvKGJic3xmb3J1bSlcLihqam9sfHBlZGl5fHhkYS1kZXZlbG9wZXJzKVwuKGNufGNvbSlcLyhmb3J1bWRpc3BsYXl8c2hvd3RocmVhZCkvaSwKICAgICAgICBuZXh0TGluazonYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9InBvc3RzIl0vZGl2W0BhbGlnbj0iY2VudGVyIl0gfCAvL3RhYmxlW0BjbGFzcz0idGJvcmRlciJdW0BpZD0idGhyZWFkc2xpc3QiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAneGRhLWRldmVsb3BlcnMnLAogICAgICAgIHVybDogIl5odHRwOi8vZm9ydW1cXC54ZGEtZGV2ZWxvcGVyc1xcLmNvbS8iLAogICAgICAgIG5leHRMaW5rOiAiLy90ZFtAY2xhc3M9J2FsdDEnXS9hW0ByZWw9J25leHQnXSIsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAiLy90YWJsZVtAaWQ9J3RocmVhZHNsaXN0J10gfCAvL2RpdltAaWQ9J3Bvc3RzJ10iLAogICAgICAgICAgICByZXBsYWNlRTogIi8vZGl2W0BjbGFzcz0ncGFnZW5hdiddL3RhYmxlW0BjbGFzcz0ncGFnZW5hdkNvbnRyb2xzJ10iLAogICAgICAgICAgICBzZXBhcmF0b3JSZWFsOiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eOqeacuuWciCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wud2FuamlxdWFuXC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LndhbmppcXVhbi5jb20vZm9ydW0tMTY5LTEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICdjc3M7Lm1hX3RpZXppX2xpc3RfcGFnZSA+IC5uZXh0JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2Zvcm1bQGlkPSJtb2RlcmF0ZSJdIHwgaWQoInBvc3RsaXN0IiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aegemZkOekvuWMuicsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9iYnNcXC50aGVtZXhcXC5uZXQvJywKICAgICAgICBuZXh0TGluazogJy8vYVtAcmVsPSJuZXh0Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInRocmVhZHNsaXN0IHBvc3RzIiknLAogICAgfSwKICAgIHtuYW1lOiAn5aSp5Z2bJywKICAgICAgICB1cmw6L2h0dHA6XC9cL2Jic1wud2FwdHdcLmNvbS9pLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfpk4HooYDnpL7ljLonLAogICAgICAgIHVybDovXmh0dHA6XC9cL2Jic1wudGlleHVlXC5uZXRcLy4qXC5odG1sJC9pLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InBhZ2VzIl0vc3Bhbi9hW3RleHQoKT0iPj4iXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0icG9zdHNfbGlzdCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfpk4HooYDnvZEnLAogICAgICAgIHVybDovaHR0cDpcL1wvW2Etel0rXC50aWV4dWVcLm5ldC9pLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iZm9udExpc3RCb3giXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6ZyP5Yeh6K665Z2bIC0g5biW5a2Q5YiX6KGoJywKICAgICAgICB1cmw6L2h0dHA6XC9cL2Jic1wuY3Jza3lcLmNvbVwvcmVhZFwucGhwL2ksCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icGFnZXMiXS8vYVt0ZXh0KCk9Ij4iXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgLy8gdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9InQ1IHQyIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+iZjuaJkeevrueQg+iuuuWdmycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2Jic1wuaHVwdVwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2Jicy5odXB1LmNvbS84MTczNDYxLmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnaWQoImpfbmV4dCIpJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9InRfbWFpbiJdL2RpdltAY2xhc3M9ImZsb29yIl0gfCAvL3RhYmxlW0BpZD0icGwiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S6uuWkp+e7j+a1juiuuuWdmycsCiAgICAgICAgdXJsOi9odHRwOlwvXC9iYnNcLnBpbmdndVwub3JnXC90aHJlYWQvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL2Jicy5waW5nZ3Uub3JnL3RocmVhZC0xNTYyNTUyLTMtMS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJwZ3QiXS9kZXNjZW5kYW50OjphW0BjbGFzcz0ibnh0Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9InBvc3RsaXN0Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S5neWwvue9kScsCiAgICAgICAgdXJsOi9qb293aWlcLmNvbVwvYXJjL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuam9vd2lpLmNvbS9hcmMveXN5bC9zc2d4LzIwMTIvMDkwNS8xMjU1NzEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iYXJ0aWNsZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICcxNzE3My5jb23kuK3lm73muLjmiI/nrKzkuIDpl6jmiLfnq5knLAogICAgICAgIHVybDogJ15odHRwOi8vbmV3c1xcLjE3MTczXFwuY29tL2NvbnRlbnQvLipcXC5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlLW5leHQiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9Im1hdHRlcmMiXScsCiAgICB9LAogICAge25hbWU6ICfmuLjkvqDnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC8oPzp3d3d8ZG93bilcLmFsaTIxM1wubmV0XC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5hbGkyMTMubmV0L25ld3MvaHRtbC8yMDEzLTEyLzkxMzc3Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIC8vIG5leHRMaW5rOiAnLy9hW0BpZD0iYWZ0ZXJfdGhpc19wYWdlIl1bQGhyZWZdIHwgLy9kaXZbQGNsYXNzPSJwX2JhciJdL2FbdGV4dCgpPSLkuIvpobUiXSB8IC8vZGl2W0BjbGFzcz0ibGlzdF9ib2R5X3BhZ2UiXS9hW0B0aXRsZT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0iQ29udGVudCIgb3IgQGlkPSJnYW1lX2NvbnRlbnQiIG9yIEBpZD0icnFqeGhiIl0nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlLAogICAgICAgICAgICBsYXp5SW1nU3JjOiAnZGF0YS1vcmlnaW5hbCcKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmuLjmsJHmmJ/nqbonLAogICAgICAgIHVybDovaHR0cDpcL1wvd3d3XC5nYW1lcnNreVwuY29tL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuZ2FtZXJza3kuY29tL25ld3MvMjAxMjA3LzIwNjQ5MC5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJhY3QgbWlkIl0nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnM0RNR0FNRScsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLjNkbWdhbWVcLmNvbVwvLipcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy4zZG1nYW1lLmNvbS9uZXdzLzIwMTMxMi8yMzEwNzkyLmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iUVptYWluTCJdL2Rpdi9kaXZbY29udGFpbnMoQGNsYXNzLCAiY29uIildJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnjLTlspvorrrlnZsnLAogICAgICAgIHVybDovXmh0dHA6XC9cL2Jic1wuaG91ZGFvXC5jb20vaSwKICAgICAgICBuZXh0TGluazonYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9InogdGhyZWFkQ29tbW9uIl0gfCAvL2RpdltAY2xhc3M9Im1iMTAgYm9kZCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICcxNzgg6a2U5YW95LiW55WM44CBMTc45Yqo5ryr6aKR6YGTJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW2Etel0rXC4xNzhcLmNvbVwvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3dvdy4xNzguY29tLzIwMTMwOC8xNzA1NDYyNzc1NDMuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICdpZCgiY21zX3BhZ2VfbmV4dCIpJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9InRleHQiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdlIl0nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6Zih6ZmM5bGFJywKICAgICAgICB1cmw6L2h0dHA6XC9cL3d3d1wuMTAwMHFtXC5jb21cLyg/OnRocmVhZFwucGhwXD9maWRcLVxkK3xyZWFkXC5waHBcP3RpZFwtXGQrKVwuaHRtbC9pLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ieiB0aHJlYWRDb21tb24iXSB8IC8vZGl2W0BpZD0icHdfY29udGVudCJdW0BjbGFzcz0ibWIxMCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnhY7om4vpppbpobUnLAogICAgICAgIHVybDovaHR0cDpcL1wvamFuZGFuXC5uZXRcLyg/OnBhZ2UpPy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vamFuZGFuLm5ldC8nLAogICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9IndwLXBhZ2VuYXZpIl0vY2hpbGQ6OmFbdGV4dCgpPSI+Il0gfCAvL3BbQGNsYXNzPSJjcC1wYWdlbmF2aSJdL2FbdGV4dCgpPSLCuyJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImNvbnRlbnQiXSB8IGlkKCJjb21tZW50cyIpJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+icgum4n+e9kScsCiAgICAgICAgdXJsOi9odHRwOlwvXC9xaWNhaVwuZmVuZ25pYW9cLmNvbVwvXGQrXC9cZCsuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vcWljYWkuZmVuZ25pYW8uY29tLzM3MC8zNzA1MTM3Lmh0bWwnLAogICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcmVtYWluOjEvMywKICAgICAgICAgICAgcmVsYXRlZE9iajpbJ2NzcztkaXYucGFnZV9udW0nLCdib3R0b20nXSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iYXJ0aWNsZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICc1NTE4OOiuuuWdmycsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLjU1MTg4XC5jb20vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy41NTE4OC5jb20vZm9ydW0tOC0xLmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ibWFpbmJveCB0aHJlYWRsaXN0Il0gfCAvL2RpdltAY2xhc3M9Im1haW5ib3ggdmlld3RocmVhZCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdQQ0hPTUUg56S+5Yy6JywKICAgICAgICB1cmw6L2h0dHA6XC9cL2NsdWJcLnBjaG9tZVwubmV0L2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9jbHViLnBjaG9tZS5uZXQvZm9ydW1fMV8xNS5odG1sIycsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZm9ybVtAaWQ9Im15dG9waWNzIl0gfCAvL2RpdltAaWQ9IndlaWJvX2FwcCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdwY29ubGluZScsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9bYS16XStcXC5wY29ubGluZVxcLmNvbVxcLmNuLycsCiAgICAgICAgbmV4dExpbms6ICcvL2Rpdltjb250YWlucyhAY2xhc3MsICJwY29ubGluZV9wYWdlIikgb3IgY29udGFpbnMoQGNsYXNzLCAicGFnZXIiKV0vYVtAY2xhc3M9Im5leHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJhcnRpY2xlIl0vL2RpdltAY2xhc3M9ImNvbnRlbnQiXSB8IC8vdWxbQGlkPSJ1bEhvdmVyUGljIl0gfCAvL3RhYmxlW0BjbGFzcz0icG9zdHMiXSB8IGlkKCJwb3N0X2xpc3QiKSB8IGlkKCJ0b3BpY0xpc3QiKScsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wY29ubGluZV9wYWdlJywKICAgICAgICB9LAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vZGl5LnBjb25saW5lLmNvbS5jbi8zNzcvMzc3NDYxNi5odG1sJywKICAgIH0sCiAgICB7bmFtZTogJ0NoaXBoZWxsJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5jaGlwaGVsbFwuY29tXC8oPyFmb3J1bSkvaSwKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY3QiKS9kaXZbQGNsYXNzPSJtbiJdL2RpdltAY2xhc3M9ImJtIl0vZGl2W0BjbGFzcz0iYm1fYyB4bGQiXSB8IGlkKCJhcnRpY2xlX2NvbnRlbnQiKS8uLi8uLicsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwZyJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfns5fkuovnmb7np5EnLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwucWl1c2hpYmFpa2VcXC5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHQiIGFuZCBAdGl0bGU9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9Im1haW4iXS9kaXZbY29udGFpbnMoQGNsYXNzLCAiY29udGVudC1ibG9jayIpXS9kaXZbQGNsYXNzPSJjb2wxIl0nLAogICAgICAgICAgICBzdHlsaXNoOiAnLnNwLXNlcGFyYXRvciB7IHdpZHRoOiA2MjBweCAhaW1wb3J0YW50OyB9JwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aKveWxieaWsOeDreamnCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2RpZ1wuY2hvdXRpXC5jb21cLy9pLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0iY3RfcGFnZV9lZGdlIiBhbmQgKHRleHQoKT0i5LiL5LiA6aG1IildJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9ImNvbnRlbnQtbGlzdCJdJywKICAgICAgICAgICAgbGF6eUltZ1NyYzogJ29yaWdpbmFsJywKICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbihwYWdlcyl7CiAgICAgICAgICAgICAgICB2YXIgY2hvdXRpID0gdW5zYWZlV2luZG93LmNob3V0aTsKICAgICAgICAgICAgICAgIHZhciBOU19saW5rc19jb21tZW50X3RvcCA9IHVuc2FmZVdpbmRvdy5OU19saW5rc19jb21tZW50X3RvcDsKICAgICAgICAgICAgICAgIGNob3V0aS52b3RlKCk7CiAgICAgICAgICAgICAgICBjaG91dGkuYWRkQ29sbGVjdCgpOwogICAgICAgICAgICAgICAgY2hvdXRpLnNoYXJld2VpYm8oKTsKICAgICAgICAgICAgICAgIGNob3V0aS5wbGF5VmlkbygpOwogICAgICAgICAgICAgICAgTlNfbGlua3NfY29tbWVudF90b3AuaW5pdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54yr5omR5aSn5p2C54Op5biW5a2QJywKICAgICAgICB1cmw6L2h0dHA6XC9cL2R6aFwubW9wXC5jb21cL3RvcGljXC9yZWFkU3ViL2ksCiAgICAgICAgbmV4dExpbms6Jy8vYVtjb250YWlucyh0ZXh0KCksIuS4i+S4gOmhtSIpXVtAaHJlZl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9Imh1aXRpZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnjKvmiZHmlbDnoIHjgIHnjKvmiZHmsb3ovabnrYknLAogICAgICAgIHVybDogL15odHRwOlwvXC8oPyFkemgpLipcLm1vcFwuY29tXC8uKlwuc2h0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2RpZ2kubW9wLmNvbS9zanNqLzE0MDUyMjAwMjE3NjAxNi5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICdpZCgibmV4dHAiKSB8IGlkKCJwYWdlX3VzZSIpL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJhcnRpY2xlIl0gfCAvL2RpdltAY2xhc3M9ImNvbnRlbnQiXS9kaXZbQGNsYXNzPSJpbm5lciJdL2RpdltAY2xhc3M9Im5yX2NvbiJdJywKICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdlIl0nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+iJsuW9seaXoOW/jOW4luWtkCcsCiAgICAgICAgdXJsOi9odHRwOlwvXC9mb3J1bVwueGl0ZWtcLmNvbVwvc2hvd3RocmVhZC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vZm9ydW0ueGl0ZWsuY29tL3Nob3d0aHJlYWQucGhwP3RocmVhZGlkPTU3MTk4NicsCiAgICAgICAgbmV4dExpbms6Jy8vZm9udFtAc2l6ZT0iMiJdL2ZvbnRbQGNsYXNzPSJ0aHRjb2xvciJdL2ZvbGxvd2luZy1zaWJsaW5nOjphW0BocmVmXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vYm9keS90YWJsZVtwb3NpdGlvbigpPjIgYW5kIHBvc2l0aW9uKCk8KGxhc3QoKS0yKV0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJzE55qW85biW5a2QJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLjE5bG91XC5jb20vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy4xOWxvdS5jb20vZm9ydW0tMTUwMi10aHJlYWQtMjk3NjI3NzctMS0xLmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2Zvcm1bQG5hbWU9InBvc3RGb3JtIl0gfCAvL2Zvcm1bQG5hbWU9Im1hbmFnZUZvcm0iXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnYmxvZ3Nwb3QnLAogICAgICAgIHVybDogJ15odHRwOi8vW14uL10rXFwuKGJsb2dzcG90fHBsYXlwY2Vzb3IpKD86XFwuW14uL117MiwzfSl7MSwyfS8oPyFcXGR7NH0vKScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9wcm9ncmFtLXRoaW5rLmJsb2dzcG90LmNvbS8gIGh0dHA6Ly93d3cucGxheXBjZXNvci5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vYVtjb250YWlucyhjb25jYXQoIiAiLCBAY2xhc3MsICIgIiksICIgYmxvZy1wYWdlci1vbGRlci1saW5rICIpXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbY29udGFpbnMoY29uY2F0KCIgIiwgQGNsYXNzLCAiICIpLCAiIGhmZWVkICIpIG9yIGNvbnRhaW5zKGNvbmNhdCgiICIsIEBjbGFzcywgIiAiKSwgIiBibG9nLXBvc3RzICIpXSB8IGlkKCJCbG9nMSIpL2Rpdltjb250YWlucyhjb25jYXQoIiAiLCBAY2xhc3MsICIgIiksICIgZW50cnkgIildJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICJjc3M7I2Jsb2ctcGFnZXIiICAgICAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5YyX5rW3MzY1572RJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW2Etel0rXC5iZWloYWkzNjVcLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9rai5iZWloYWkzNjUuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vKltjb250YWlucyhjb25jYXQoIiAiLG5vcm1hbGl6ZS1zcGFjZShAY2xhc3MpLCIgIiksICIgYWN0aXZlICIpXS9mb2xsb3dpbmctc2libGluZzo6YVsxXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInRocmVhZGxpc3QiKS90cltAY2xhc3M9InRyMyJdIHwgaWQoInB3X2NvbnRlbnQiKS8vZm9ybVtAbWV0aG9kPSJwb3N0IiBhbmQgQG5hbWU9ImRlbGF0YyJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ2dlbGJvb3J1LCBzYWZlYm9vcnUgZXRjJywKICAgICAgICB1cmw6ICdeaHR0cDovLyg/Ond3d1xcLik/XFx3ezMsNH1ib29ydVxcLig/OmNvbXxvcmcpJywKICAgICAgICBuZXh0TGluazogJ2lkKCJwYWdpbmF0b3IiKS8vYi9mb2xsb3dpbmctc2libGluZzo6YVsxXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicG9zdC1saXN0IikvZGl2W0BjbGFzcz0iY29udGVudCJdLy9zcGFuW2NvbnRhaW5zKEBjbGFzcywidGh1bWIiKV18aWQoImNvbnRlbnQiKS90YWJsZScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9nZWxib29ydS5jb20vaW5kZXgucGhwP3BhZ2U9cG9zdCZzPWxpc3QgaHR0cDovL3NhZmVib29ydS5vcmcvaW5kZXgucGhwP3BhZ2U9cG9zdCZzPWxpc3QmdGFncz1hbGwgaHR0cDovL3NhZmVib29ydS5vcmcvaW5kZXgucGhwP3BhZ2U9dGFncyZzPWxpc3QnCiAgICB9LAogICAge25hbWU6ICfogLPmnLrlpKflrrblnZsg5YWo55CD5pyA5aSn5Lit5paH6ICz5py66K665Z2bJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5lcmppXC5uZXRcLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmVyamkubmV0L3RocmVhZC5waHA/ZmlkPTEzOCcsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltzdGFydHMtd2l0aChAY2xhc3MsInBhZ2VzIildL2JbMV0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bbm90KEBjbGFzcyldJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3RhYmxlW0BpZD0iYWpheHRhYmxlIl0gfCAvL2RpdltAaWQ9Im1haW4iXS9mb3JtW0BtZXRob2Q9InBvc3QiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+iJvuazveaLieaWr+WbveWutuWcsOeQhuiuuuWdmycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cLyg/OmJic1wubmdhY25cLmNjfG5nYVwuMTc4XC5jb20pXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2Jicy5uZ2Fjbi5jYy90aHJlYWQucGhwP2ZpZD0zOTAmcmFuZD0xODMnLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0B0aXRsZT0i5LiL5LiA6aG1Il1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgidG9waWNyb3dzIikgfCBpZCgibV9wb3N0c19jIiknLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIHNlcGFyYXRvclJlYWw6IGZhbHNlLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0ZpbmFsIEZhbnRhc3kgU2hyaW5lIEZvcnVtcycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2ZvcnVtc1wuZmZzaHJpbmVcLm9yZ1wvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9mb3J1bXMuZmZzaHJpbmUub3JnL2dlbmVyYWwtZGlzY3Vzc2lvbi8nLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0ByZWw9Im5leHQiXVtAaHJlZl0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJ0aHJlYWRfaW5saW5lbW9kX2Zvcm0iKSB8IGlkKCJwb3N0bGlzdCIpJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflpKnnjKvprZTnm5LorrrlnZsnLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwuem5kc1xcLmNvbS8qJywKICAgICAgICBuZXh0TGluazogJy8vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInRocmVhZGxpc3QiKS9kaXZbQGNsYXNzPSJibV9jIl0nLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LnpuZHMuY29tL2Jicy0xNzItMy5odG1sJywKICAgIH0sCiAgICB7bmFtZTogJ01vYmlsZTAxJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5tb2JpbGUwMVwuY29tXC90b3BpY2RldGFpbFwucGhwLiokL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cubW9iaWxlMDEuY29tL3RvcGljZGV0YWlsLnBocD9mPTI1NCZ0PTM5NjY5MzknLAogICAgICAgIG5leHRMaW5rOiAnLy9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmggSIpXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInNlY3Rpb24iKS9kaXZbQGNsYXNzPSJtYWluIl0vZGl2W0BjbGFzcz0iZm9ydW0tY29udGVudCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmmIbkvpYgLSDotYTmupAv6L+e6L29JywKICAgICAgICB1cmw6ICdeaHR0cDovL2Jic1xcLmlrdW5sdW5cXC5uZXQvZm9ydW1cXC5waHAuKiQnLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibm93Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bbm90KEBjbGFzcz0ibGFzdCIpIF0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy90cltAY2xhc3M9InRvcGljX2xpc3Rfcm93Il0nLAogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IHBpY3R1cmUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7bmFtZTogJ0ZsaWNrcuaQnOe0oicsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLmZsaWNrclwuY29tXC9zZWFyY2hcL1w/cT0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5mbGlja3IuY29tL3NlYXJjaC8/cT1vcGVyYScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0iUGFnaW5hdG9yIl0vYVtAY2xhc3M9Ik5leHQiXVtAaHJlZl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9IlJlc3VsdHNUaHVtYnNEaXYiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOicvL2RpdltAY2xhc3M9IlBhZ2luYXRvciJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdGbGlja3IgcGhvdG9zJywKICAgICAgICAidXJsIjogIl5odHRwOi8vd3d3XFwuZmxpY2tyXFwuY29tL3Bob3Rvcy9bXi9dKy9mYXZvcml0ZXMoPzpbLz8jXXwkKSIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwicGFnaW5hdG9yLW1vZHVsZVwiKS9kZXNjZW5kYW50OjphW2NvbnRhaW5zKGNvbmNhdChcIiBcIiwgQGNsYXNzLCBcIiBcIiksIFwiIE5leHQgXCIpXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwiZmF2ZXNcIikiLAogICAgICAgICJpbnNlcnRCZWZvcmUiOiAiLy9kaXZbQGNsYXNzPVwiUGFnZXNcIl0iCiAgICB9LAogICAge25hbWU6ICdwaXhpdicsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLnBpeGl2XC5uZXRcLy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnBpeGl2Lm5ldC9zZWFyY2gucGhwP3NfbW9kZT1zX3RhZ19mdWxsJndvcmQ9JUU4JTg1JTkwIG9yIGh0dHA6Ly93d3cucGl4aXYubmV0L25vdmVsL3JhbmtpbmcucGhwJywKICAgICAgICBuZXh0TGluazonLy8qW0BjbGFzcz0ibmV4dCJdL2FbQHJlbD0ibmV4dCJdW0BocmVmXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vdWxbY29udGFpbnMoQGNsYXNzLCAiYXV0b3BhZ2VyaXplX3BhZ2VfZWxlbWVudCIpXSB8IC8vc2VjdGlvbltjb250YWlucyhAY2xhc3MsICJhdXRvcGFnZXJpemUtcGFnZS1lbGVtZW50IildIHwgLy9kaXZbQGNsYXNzPSJjb2x1bW4tY29udGVudCJdL3VsW2NvbnRhaW5zKEBjbGFzcywgInRhZy1saXN0IildJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VyLWNvbnRhaW5lciA+IC5wYWdlLWxpc3QnCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54Wn54mH5aSE55CG572RJywKICAgICAgICB1cmw6L2h0dHA6XC9cL3d3d1wucGhvdG9wc1wuY29tXC9BcnRpY2xlXC8uKy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnBob3RvcHMuY29tL0FydGljbGUveHNqYy8yMDEwMDcyODE3MjExNi5odG1sJywKICAgICAgICBuZXh0TGluazonLy9hW3RleHQoKT0i5LiL5LiA6aG1Il1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9ib2R5L3RhYmxlW2xhc3QoKS0yXScsCiAgICAgICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aJkeWutuaxieWMluW5s+WPsCcsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5wdWppYWhoXC5jb21cL2xpYnJhcnkvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5wdWppYWhoLmNvbS9saWJyYXJ5LycsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icGFnaW5hdGlvbiJdL3VsL2xpW0BjbGFzcz0ibmV4dC1wb3N0cyJdL2EnLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImdhbWV0YWJsZSJdL3BhcmVudDo6ZGl2JywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXScKICAgICAgICB9CiAgICB9LAogICAgLy8gPT09IGFydAogICAge25hbWU6ICdkZXZpYW50QVJUIEdhbGxlcnknLAogICAgICAgIHVybDogL15odHRwcz86XC9cL1x3K1wuZGV2aWFudGFydFwuY29tXC9nYWxsZXJ5XC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cHM6Ly9yYXppZWxtYi5kZXZpYW50YXJ0LmNvbS9nYWxsZXJ5LycsCiAgICAgICAgbmV4dExpbms6ICcvL2xpW0BjbGFzcz0ibmV4dCJdL2EnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjZ21pLVJlc291cmNlU3RyZWFtJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICAvLyA9PT0gbW0gPT09CiAgICB7bmFtZTogJ1Nob3flprnlrZAnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuc2hvd21laXppXC5jb21cL1x3K1wvXGQrL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuc2hvd21laXppLmNvbS8nLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0icG9zdCBpbWFnZSJdL2RpdltAY2xhc3M9Im1haW4tYm9keSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdCZWF1dHlsZWfohb/mqKHlhpnnnJ/lm77niYfnvZEnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuYmVhdXR5bGVnbW1cLmNvbVwvXHcrXC9iZWF1dHlsZWctXGQrLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5iZWF1dHlsZWdtbS5jb20veC9iZWF1dHlsZWcteC5odG1sJywKICAgICAgICBuZXh0TGluazonYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OidpZCgiY29udGVudHNfcG9zdCIpL2RpdltAY2xhc3M9InBvc3QiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnUm9zaee+juWls+WbvicsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5yb3NpeXlcLmNvbVwvLiouaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnJvc2l5eS5jb20veC94Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iY2xlYXJmaXgiXS9kaXZbQGNsYXNzPSJncmlkXzEwIl0vZGl2W0BjbGFzcz0icG9zdCBwb3N0aW1nIl0vcC9hJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICc3MTYw576O5aWz5Zu+54mHJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLjcxNjBcXC5jb20vKi8qLycsCiAgICAgICAgbmV4dExpbms6ICcvL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiYXJjIikvZGl2L2Rpdi9kaXYvYS9pbWcnLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LjcxNjAuY29tL21laW52LzExOTg4LycsCiAgICB9LAogICAge25hbWU6ICfkuIPkuL3kuL3lm77lupN8N2xpbGkuY29tJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLjdsaWxpXFwuY29tLy4rLy4rLy4rLy4rXFwuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2Rpdi9kaXYvZGl2L2EvaW1nJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy43bGlsaS5jb20vcC94aW5nZ2FuLzIwMTQwMy8zMDMzMy5odG1sJywKICAgIH0sCiAgICB7bmFtZTogJ+aegeWTgeWmueWmueWQpycsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC5qcG1tOFxcLmNvbS9odG1sLyovJywKICAgICAgICBuZXh0TGluazogJy8vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2L2Rpdi9kaXYvYS9pbWcnLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmpwbW04LmNvbS9odG1sL3dsbW0vMTIxNjMuaHRtbCcsCiAgICB9LAogICAge25hbWU6ICfmmI7mmJ/nvZEnLAogICAgICAgIHVybDogJ15odHRwOi8vdHVrdVxcLm1pbmd4aW5nXFwuY29tLyonLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0B0aXRsZT0i5LiL5LiA6aG1Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXYvZGl2L2Rpdi9kaXYvcC9hL2ltZycsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly90dWt1Lm1pbmd4aW5nLmNvbS94aWV6aGVuLzMwODIwLzEuaHRtbCcsCiAgICB9LAogICAge25hbWU6ICdrZHPmqKHnibnlpKfmnKzokKUnLAogICAgICAgIHVybDogJ15odHRwOi8vbW9kZWxcXC5rZHNsaWZlXFwuY29tL3Nob3cvcGhvdG8vKicsCiAgICAgICAgbmV4dExpbms6ICcvL2FbY29udGFpbnModGV4dCgpLCAi5LiL5LiA5bygIildJywKICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluUGljIiknLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vbW9kZWwua2RzbGlmZS5jb20vc2hvdy9waG90by8yMDI1Ni5odG1sJywKICAgIH0sCiAgICAvLyA9PT0g5aOB57q444CB57Sg5p2Q44CBaWNvbgogICAge25hbWU6ICfmoYzphbflo4HnurgnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnpodW9rdVwuY29tXC8uKlwuaHRtL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuemh1b2t1LmNvbS96aHVvbWlhbmJpemhpL2NvbXB1dGVyLWt1YW4vMjAxNDAxMDcwNTIzMDYuaHRtJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0idHVybiJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImxpZWJpYW8iKScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn57uf5LiA5aOB57q456uZJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLjM5ODdcXC5jb20vZGVzay93YWxsLyonLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BoaWRlZm9jdXM9InRydWUiIGFuZCBAdGFyZ2V0PSJfc2VsZiIgYW5kIEB0aXRsZT0i5LiL5LiA6aG1Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoIkFydGljbGUiKS9kaXZbQGNsYXNzPSJiaWctcGljIl0nLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LjM5ODcuY29tL2Rlc2svd2FsbC8zMTQyMC5odG1sJywKICAgIH0sCiAgICB7bmFtZTogJ+e0oOadkOWkqeS4iycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuc3VjYWl0aWFueGlhXC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LnN1Y2FpdGlhbnhpYS5jb20vcHNkL0luZGV4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iaG9tZV8xOSJdL2RpdltAY2xhc3M9ImxlZnQiXS9kaXZbQGNsYXNzPSJtaWQiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5pi15Zu+572RJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvW2Etel0rXC5uaXBpY1wuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3Nvc28ubmlwaWMuY29tL3NlYXJjaC5hc3B4P3Q9dGsmcT0lQjclRTIlQzMlRTYnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJiZCIpIHwgLy91bFtAY2xhc3M9InNlYXJjaC1yZXN1bHQtYm94IGNsZWFyZml4Il0gfCAvL2NlbnRlci90YWJsZVtAd2lkdGg9IjkwMCIgYW5kIEBjZWxsc3BhY2luZz0iMCIgYW5kIEBjZWxscGFkZGluZz0iMCIgYW5kIEBib3JkZXI9IjAiXScsCiAgICAgICAgICAgIGxhenlJbWdTcmM6ICJkYXRhLW9yaWdpbmFsIiwKICAgICAgICAgICAgc3R5bGlzaDogJy5sYXp5IHsgZGlzcGxheTogYmxvY2s7IH0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnZWFzeWljb24ubmV0JywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmVhc3lpY29uXFwubmV0L2ljb25zZWFyY2gvJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXNfYWxsIl0vYVt0ZXh0KCk9IuS4i+S4gOmhtT4iXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicmVzdWx0X3JpZ2h0X2xheW91dCIpJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5lYXN5aWNvbi5uZXQvaWNvbnNlYXJjaC9mZWVkLyZjb2xvcj1ibGFjaycsCiAgICB9LAogICAge25hbWU6ICdpY29uYXJjaGl2ZScsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC5pY29uYXJjaGl2ZVxcLmNvbS9zZWFyY2hcXD9xPSonLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdpbmF0aW9uIl0vYVtAY2xhc3M9Im5leHQiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgibGF5b3V0LXNlYXJjaC1jb250ZW50IiknLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3Lmljb25hcmNoaXZlLmNvbS9zZWFyY2g/cT1waW4nLAogICAgfSwKICAgIHtuYW1lOiAnRmluZCBJY29ucycsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9maW5kaWNvbnNcXC5jb20vc2VhcmNoLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vYVtjb250YWlucyh0ZXh0KCksICJOZXh0Iikgb3IgY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJzZWFyY2hfY29uIikvZGl2W0BjbGFzcz0iaWNvbl9saXN0IGljb25fbGlzdF8xNjUiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9maW5kaWNvbnMuY29tL3NlYXJjaC9lYXJ0aCcsCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gc29mdHdhcmUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHtuYW1lOiAn5bCP5LyX6L2v5Lu2JywKICAgICAgICB1cmw6ICdodHRwOi8vd3d3XFwuYXBwaW5uXFwuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0cG9zdHNsaW5rIl0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJzcG9zdCJdJywKICAgIH0sCiAgICB7bmFtZTogJ+WWhOeUqOS9s+i9rycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3hiZXRhXC5pbmZvXC9wYWdlXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3hiZXRhLmluZm8vcGFnZS8yJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0id3AtcGFnZW5hdmkiXS9hW0BjbGFzcz0ibmV4dHBvc3RzbGluayJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiZW50cmllcy1pbiIpL2RpdltAY2xhc3M9InBvc3QiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAiY3NzOyNlbnRyaWVzLWluID4gLndwLXBhZ2VuYXZpIgogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+W8guasoeWFg+i9r+S7tuS4lueVjCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuaXBsYXlzb2Z0XC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmlwbGF5c29mdC5jb20vdGFnLyVFNSU5MCU4QyVFNiVBRCVBNScsCiAgICAgICAgbmV4dExpbms6ICcvL3NwYW5bQGNsYXNzPSJwYWdlbmF2aV9jIl0vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicG9zdGxpc3QiKS9kaXZbQGNsYXNzPSJlbnRyeSJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2VuYXZpIl0vc3BhbltAY2xhc3M9InBhZ2VuYXZpX2MiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdQbGF5TmV4dCAtIOS9juiwg+eahOW8guasoeWFgycsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC5wbGF5bmV4dFxcLmNuLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VuYXZpIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJjb250YWluZXIiXS9kaXZbQGNsYXNzPSJjb250ZW50Il0vZGl2W0BjbGFzcz0icG9zdC1saXN0Il0nLAogICAgfSwKICAgIHtuYW1lOiAnaVBjLm1lIC0g5LiO5L2g5YiG5Lqr5LqS6IGU572R55qE57K+5b2p77yBJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmlwY1xcLm1lLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VuYXZpIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInBvc3RzLWxpc3QiKScsCiAgICB9LAogICAge25hbWU6ICfni6zmnKjmiJDmnpcnLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwuZ3VvZnNcXC5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHRwb3N0c2xpbmsiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY29udGVudCIpJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5ndW9mcy5jb20vJywKICAgIH0sCiAgICB7bmFtZTogJ+i9r+S7tua3mCcsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC42NTA1MjQyNFxcLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dCJdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0iY29udGVudCJdJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy42NTA1MjQyNC5jb20vcGFnZS83JywKICAgIH0sCiAgICB7bmFtZTogJ3BvcnRhYmxlYXBwcycsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9wb3J0YWJsZWFwcHNcXC5jb20vKD86Zm9ydW1zfG5vZGUpLycsCiAgICAgICAgbmV4dExpbms6ICcvL2xpW0BjbGFzcz0icGFnZXItbmV4dCJdL2EnLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImZvcnVtIikvdGFibGV8aWQoImNvbW1lbnRzIikvKltub3QoQGNsYXNzPSJpdGVtLWxpc3QiKV0nCiAgICB9LAogICAge25hbWU6ICdQb3J0YWJsZUFwcEMgLSDmnInkuK3lm73nibnoibLnmoTkvr/mkLrova/ku7YnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnBvcnRhYmxlYXBwY1wuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5wb3J0YWJsZWFwcGMuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0cG9zdHNsaW5rIl0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluIikvZGl2W0BjbGFzcz0iYm94Il0nLAogICAgICAgICAgICByZXBsYWNlRTogJy8vZGl2W0BjbGFzcz0id3AtcGFnZW5hdmkiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnsr7lk4Hnu7/oibLkvr/mkLrova/ku7YnLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwucG9ydGFibGVzb2Z0XFwub3JnLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXS9hW3RleHQoKT0i5LiL6aG1IOKAuiJdJywKICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluIikvZGl2W0BjbGFzcz0icG9zdC1lbnRyeSJdJwogICAgfSwKICAgIHtuYW1lOiAnemQ0MjMnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnpkZmFuc1wuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy56ZGZhbnMuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2luZyJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJ3cmFwcGVyIl0vZGl2W0BjbGFzcz0iY29udGVudC13cmFwIl0vZGl2W0BjbGFzcz0iY29udGVudCBjb2x1bW4yIl0vdWxbQGNsYXNzPSJleGNlcnB0Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+i9r+S7tumYgSAtIOWOn+WIm+e7v+iJsui9r+S7tuabtOaWsCznsr7lk4Hova/ku7blhbHkuqsnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmxpdGU2XC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmxpdGU2LmNvbS8nLAogICAgICAgIG5leHRMaW5rOiAnLy9saVtAY2xhc3M9Im5leHQiXS9hJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9Im1haW4iXS9kaXZbQGNsYXNzPSJsZWZ0Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ1lhbnUgfCDliIbkuqvkvJjnp4DjgIHnuq/lh4DjgIHnu7/oibLjgIHlrp7nlKjnmoTnsr7lk4Hova/ku7YnLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwuY2NhdjFcXC5jb20vKicsCiAgICAgICAgbmV4dExpbms6ICdpZCgiY29udGVudC1saXN0IikvZGl2W0BjbGFzcz0icGFnaW5hdGlvbiJdL2FbdGV4dCgpPSLkuIvpobUiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9ImNvbnRlbnQtbGlzdCJdJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5jY2F2MS5jb20vJywKICAgIH0sCiAgICB7bmFtZTogJ+e7v+i9r+WutuWbrSjnu7/oibLkuIvovb3nq5kpJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5kb3duZ1wuY29tXC8uKlwuaHRtbC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmRvd25nLmNvbS9saXN0L3JfMV8xLmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iY3AgdG9wLWxpc3QiIG9yIEBjbGFzcz0iY3Agc29mdHdhcmUtbGlzdCJdL2RpdltAY2xhc3M9ImNwLW1haW4iXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn57u/6Imy5LiL6L295ZCnJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC54aWF6YWliYVwuY29tXC8vLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LnhpYXphaWJhLmNvbS9uZXdzb2Z0Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlLW51bSIgb3IgQGNsYXNzPSJ5bG1mLXBhZ2UiXS9hW0BjbGFzcz0ibmV4dHByZXYiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImpfc29mdF9saXN0IikgfCAvL3VsW0BjbGFzcz0ibGlzdC1zb2Z0IGxpc3Qtc29mdC10aXRsZSBqLWhvdmVyIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S4i+i9vemTtuihjCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuZG93bmJhbmtcLmNuXC8uKlwuaHRtL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuZG93bmJhbmsuY24vc29mdC9odG1sL25ld2xpc3QtMS5odG0nLAogICAgICAgIG5leHRMaW5rOiAnLy9wW0BjbGFzcz0ibGlzdF9wYWdlIl0vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdIHwgaWQoIk5leHRQYWdlVGV4dCIpLy9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0idG9waWNsaXN0em9uZSJdIHwgaWQoImNvbnRlbnQiKS9kaXZbQGNsYXNzPSJsaXN0aXRlbSJdL2RpdltAY2xhc3M9ImNwLW1haW4iXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5bCP6Lev5bel5L2c5a6kJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC53emx1XC5jY1wvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy53emx1LmNjL3NvZnQvaHRtbC9uZXdsaXN0LTEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6ICcvL3BbQGNsYXNzPSJsaXN0X3BhZ2UiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0gfCBpZCgiTmV4dFBhZ2VUZXh0IikvL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInRvcGljbGlzdHpvbmUiKSB8IGlkKCJsaXN0Ym94IiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+W/g+a1t2Xnq5knLAogICAgICAgIHVybDogL15odHRwOlwvXC9ocnRzZWFcLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9ocnRzZWEuY29tLycsCiAgICAgICAgbmV4dExpbms6ICdpZCgicGFnZW5hdmkiKS9zcGFuW0BjbGFzcz0ib2xkZXIiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluIiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WkqeWkqei1hOa6kOe9kScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wudHRyYXJcLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cudHRyYXIuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAaWQ9InBhZ2UiXS9hW3RleHQoKT0iLi4uIl0gfCAvL2RpdltAY2xhc3M9InBhZ2UiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vdWxbQGNsYXNzPSJhcnRpY2xlbGlzdC11bCJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICJjc3M7I3BhZ2UsIC5wYWdlIgogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+mHjeeBjOeLguS6uicsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2JyaWlhblwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2JyaWlhbi5jb20vY2F0ZWdvcnkvYW5kcm9pZC9hbmRyb2lkLXBob3Rvcy1kcmF3JywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgiY29udGVudCIpJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflpKnlpKnova/ku7YnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnR0N3pcLmNvbVwvL2ksCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy91bFtAY2xhc3M9ImFydGljbGVsaXN0LXVsIl0nLAogICAgICAgICAgICByZXBsYWNlRTogJy8vZGl2W0BpZD0ibGVmdF9jb250ZW50X2xpc3QiXS9kaXZbQGNsYXNzPSJwYWdlIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnU3VibGltZSB0ZXh0IC0gUGFja2FnZXMnLAogICAgICAgIHVybDogJ15odHRwczovL3N1YmxpbWVcXC53Ym9uZFxcLm5ldC9icm93c2UnLAogICAgICAgIG5leHRMaW5rOiAnLy9uYXZbQGNsYXNzPSJwYWdpbmF0aW9uIl0vYVtAY2xhc3M9InNlbGVjdGVkIl0vZm9sbG93aW5nOjphWzFdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0iY29udGVudCJdL2RpdltAY2xhc3M9InJlc3VsdHMiXS91bFtAY2xhc3M9InBhY2thZ2VzIHJlc3VsdHMiXScsCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gZGV2ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAge25hbWU6ICdVc2VyIFNjcmlwdHMnLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3VzZXJzY3JpcHRzXC5vcmcvaSwKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicmV2aWV3LWxpc3QiKSB8IC8vdHJbc3RhcnRzLXdpdGgoQGlkLCAic2NyaXB0cy0iKV0gfCAvL3RyW3N0YXJ0cy13aXRoKEBpZCwgInBvc3RzLSIpXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdpbmF0aW9uIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnVXNlciBzY3JpcHRzIG9uIEdyZWFzeSBGb3JrJywKICAgICAgICB1cmw6IC9eaHR0cHM6XC9cL2dyZWFzeWZvcmtcLm9yZy9pLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0ByZWw9Im5leHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImJyb3dzZS1zY3JpcHQtbGlzdCIpIHwgaWQoIkNvbnRlbnQiKS91bCcsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnVXNlciBTdHlsZXMnLAogICAgICAgIHVybDogL15odHRwcz86XC9cLyg/OmZvcnVtXC4pP3VzZXJzdHlsZXNcLm9yZ1wvL2ksCiAgICAgICAgbmV4dExpbms6IFsnLy9hW0BjbGFzcz0iTmV4dCIgYW5kIHRleHQoKT0i4oC6Il0nLCAnYXV0bzsnXSwKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2FydGljbGVbc3RhcnRzLXdpdGgoQGNsYXNzLCJzdHlsZS1icmllZiIpXSB8IGlkKCJDb250ZW50IikvdWxbQGNsYXNzPSJEYXRhTGlzdCBEaXNjdXNzaW9ucyJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Y2a5a6i5ZutJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmNuYmxvZ3NcXC5jb20vLiokJywKICAgICAgICBuZXh0TGluazogJy8vYVsodGV4dCgpPSJOZXh0ID4iKV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJwb3N0X2xpc3QiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuY25ibG9ncy5jb20vY2F0ZS9qYXZhc2NyaXB0LycsCiAgICB9LAogICAge25hbWU6ICflvIDmupDkuK3lm70nLAogICAgICAgIHVybDogJ15odHRwOi8vXFx3K1xcLm9zY2hpbmFcXC5uZXQvJywKICAgICAgICBuZXh0TGluazogJy8vbGlbQGNsYXNzPSJwYWdlIG5leHQiXS9hJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iY29kZV9saXN0Il0vdWwgfCAvL2RpdltAY2xhc3M9IlByb2plY3RMaXN0Il0vdWxbQGNsYXNzPSJMaXN0Il0gfCBpZCgiT1NDX0NvbnRlbnQiKS9kaXZbQGNsYXNzPSJTcGFjZUxpc3QgQmxvZ0xpc3QiXS91bCB8IFwKICAgICAgICAgICAgaWQoIk9TQ19Db250ZW50IikvZGl2W0BjbGFzcz0iUXVlc3Rpb25MaXN0Il0vdWwvbGlbQGNsYXNzPSJxdWVzdGlvbiJdJywKICAgIH0sCiAgICB7bmFtZTogJ0NTRE7ljZrlrqInLAogICAgICAgIHVybDovaHR0cDpcL1wvYmxvZ1wuY3NkblwubmV0L2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9ibG9nLmNzZG4ubmV0L3dhbmdqaWVlc3Q/dmlld21vZGU9bGlzdCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0icGFwZWxpc3QiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImFydGljbGVfbGlzdCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0NTRE7orrrlnZsnLAogICAgICAgIHVybDovXmh0dHA6XC9cL2Jic1wuY3NkblwubmV0XC9mb3J1bXNcLy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vYmJzLmNzZG4ubmV0L2ZvcnVtcy9RdCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icGFnZV9uYXYiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2JvZHkvZGl2L2RpdltAY2xhc3M9ImNvbnRlbnQiXS90YWJsZScsCiAgICAgICAgICAgIHJlcGxhY2VFOicvL2RpdltAY2xhc3M9InBhZ2VfbmF2Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0NTRE7or53popgnLAogICAgICAgIHVybDovXmh0dHA6XC9cL2Jic1wuY3NkblwubmV0XC90b3BpY3NcLy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vYmJzLmNzZG4ubmV0L3RvcGljcy8zOTAyNDQzMjUnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9ImNvbnRyb2xfYXJlYSJdL2Rlc2NlbmRhbnQ6OmFbQGNsYXNzPSJuZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImRldGFpbGVkIl0nLAogICAgICAgICAgICByZXBsYWNlRTonLy9kaXZbQGNsYXNzPSJjb250cm9sX2FyZWEiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnNTFDVE8nLAogICAgICAgIHVybDovXmh0dHA6XC9cL1x3K1wuNTFjdG9cLmNvbVwvXHcrXC9cZCtcL1x3K1wuaHRtL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9kZXZlbG9wZXIuNTFjdG8uY29tL2FydC8yMDEwMDcvMjE0NDc4Lmh0bScsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICB1c2VpZnJhbWU6ZmFsc2UsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6Wydjc3M7I2NvbnRlbnQnLCdib3R0b20nXSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6J2NzczsjY29udGVudD5wJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WbvueBteekvuWMuiA6IOWbvuS5picsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC5pdHVyaW5nXFwuY29tXFwuY24vYXJ0aWNsZS8nLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJxdWVzdGlvbi1oZWFkZXIiXS9oMSB8IC8vZGl2W0BjbGFzcz0icG9zdC10ZXh0Il0nLAogICAgICAgIHNlcGFyYXRvclJlYWw6IGZhbHNlCiAgICB9LAogICAge25hbWU6ICJTdGFjayBPdmVyZmxvdywgU3VwZXIgVXNlciwgU2VydmVyIEZhdWx0LCBTdGFjayBBcHBzIiwKICAgICAgICB1cmw6ICJeaHR0cDovLyg/Om1ldGFcXC4pPyg/OnMoPzplcnZlcmZhdWx0fHRhY2tvdmVyZmxvd3x1cGVydXNlcnx0YWNrYXBwcyl8XFx3K1xcLnN0YWNrZXhjaGFuZ2V8YXNrdWJ1bnR1KVxcLmNvbS8iLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0ByZWw9Im5leHQiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICJpZChcIm1haW5iYXIgcXVlc3Rpb25zXCIpLy9kaXZbY29udGFpbnMoY29uY2F0KFwiIFwiLEBjbGFzcyxcIiBcIiksXCIgcXVlc3Rpb24tc3VtbWFyeSBcIildfGlkKFwiYW5zd2Vyc1wiKS9kaXZbQGNsYXNzPVwicGFnZXItYW5zd2Vyc1wiXVsxXS9mb2xsb3dpbmctc2libGluZzo6KlsuL2ZvbGxvd2luZy1zaWJsaW5nOjpkaXZbQGNsYXNzPVwicGFnZXItYW5zd2Vyc1wiXV0iLAogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IG5vdmVsID09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7bmFtZTogJ+i1t+eCueaWh+WtpicsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvKHd3d3xyZWFkKVwuKHFpZGlhbnxxZG1tfHFkd2VueHVlKVwuY29tXC9Cb29rUmVhZGVyXC9cZCssXGQrL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cucWlkaWFuLmNvbS9Cb29rUmVhZGVyLzE1NDUzNzYsMjczMDEzODMuYXNweCcsCiAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgbmV4dExpbms6Jy8vYVtAaWQ9Ik5leHRMaW5rIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIGVuYWJsZTp0cnVlLAogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0ibWFpbmNvbnRlbnQiXS9kaXZbQGNsYXNzPSJib29rdGl0bGUiXSB8IC8vZGl2W0BpZD0ibWFpbmNvbnRlbnQiXS9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6YCQ5rWq5bCP6K+0JywKICAgICAgICB1cmw6L15odHRwOlwvXC9ib29rXC56aHVsYW5nXC5jb21cLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9ib29rLnpodWxhbmcuY29tLzE1MzMxOS82MjIzMC5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJyZWFkcGFnZV9sZWZ0bmZ5Il0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJyZWFkcGFnZV9sZWZ0bnR4dCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfng5/pm6jnuqLlsJgnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuY2MyMjJcLmNvbVwvY2hhcHRlclwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5jYzIyMi5jb20vY2hhcHRlci81NTgxMzkuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0icGFnaW5nIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJhQ29udGFpbmVyIl0nLAogICAgICAgICAgICByZW1haW46MS81LAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJzE3aycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvKG1tLjE3a3x3d3cuMTdrKVwuY29tXC9jaGFwdGVyXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LjE3ay5jb20vY2hhcHRlci8xNDMwOTUvMzcxNDgyMi5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJyZWFkX2JvdHRvbSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0icmVhZEFyZWFCb3giXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnurXmqKrkuablupMnLAogICAgICAgIHVybDovXmh0dHA6XC9cL2Jvb2tcLnpvbmdoZW5nXC5jb21cL2NoYXB0ZXJcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9ib29rLnpvbmdoZW5nLmNvbS9jaGFwdGVyLzIzOTU1My80MzgwMzQwLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InRjIHF1aWNra2V5Il0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJyZWFkY29uIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn57q15qiq5aWz55SfJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLm1temhcLmNvbVwvY2hhcHRlclwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5tbXpoLmNvbS9jaGFwdGVyLzE4MjA3NC8zMjg3MzU1Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InRjIGtleSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iYm9va19jb24iXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmlrDlsI/or7TlkKcnLAogICAgICAgIHVybDovaHR0cDpcL1wvYm9va1wueHhzOFwuY29tXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vYm9vay54eHM4LmNvbS8xNjU3NzkvODU5OTAzLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InBhZ2UiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9Im1pZGJvZHkiXScsCiAgICAgICAgICAgIG1heHBhZ2U6MTAsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Lmm6L+35qW8JywKICAgICAgICB1cmw6L2h0dHA6XC9cL3d3d1wuc2h1bWlsb3VcLmNvbVwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5zaHVtaWxvdS5jb20vdGlhbmRpbG9uZ2h1bi82OTg1MjAuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0iY29udGVudCJdL2RpdltAaWQ9ImNvbnRlbnQiXS9kaXZbQGNsYXNzPSJ0aXRsZSJdL2FbdGV4dCgpPSLkuIvkuIDpobUo4oaSKSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJjb250ZW50Il0vZGl2W0BpZD0iY29udGVudCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnjoTlubvlsI/or7TnvZEnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wueGh4c3dcLmNvbVwvYm9va3NcLy4rXC5odG0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy54aHhzdy5jb20vYm9va3MvMTA2My8xMDYzMDY2LzEwNTc5MTcxLmh0bScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0iZm9vdGxpbmsiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImNvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmlrDmtaror7vkuaYnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3ZpcFwuYm9va1wuc2luYVwuY29tXC5jblwvYm9va1wvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3ZpcC5ib29rLnNpbmEuY29tLmNuL2Jvb2svY2hhcHRlcl8yMTIzNTZfMjEwMDE4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL3BbQGNsYXNzPSJwYWdlcyJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ibWFpbkNvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmkJzni5Dljp/liJsnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3ZpcFwuYm9va1wuc29odVwuY29tXC9jb250ZW50L2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly92aXAuYm9vay5zb2h1LmNvbS9jb250ZW50LzEyNDg1Mi8zOTAyMzk4LycsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0iYXJ0aWNhbF9idG4iXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImJnZGl2Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn57qi6KKW5re76aaZJywKICAgICAgICB1cmw6L15odHRwOlwvXC9ub3ZlbFwuaG9uZ3hpdVwuY29tXC9hXC8uK1wuc2h0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL25vdmVsLmhvbmd4aXUuY29tL2EvMzAzMDg0LzM1NDMwNjQuc2h0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9InBhcGdidXR0b24iXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9IndyYXBwZXJfbWFpbiJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+iogOaDheWwj+ivtOWQpycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC54czhcLmNuXC9ib29rXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnhzOC5jbi9ib29rLzEzMjM2OC84NjE1Ny5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJjaGFwdGVyX1R1cm5wYWdlIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJjaGFwdGVyX2NvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmnaXkuablsI/or7TnvZEnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wubGFpc2h1XC5jb21cL2Jvb2tcLy4rXC5zaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LmxhaXNodS5jb20vYm9vay84Lzg4OTEvNTQ4ODAzNi5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy90YWJsZVtAY2xhc3M9InRhYmt1YW4iXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflsI/or7TpmIXor7vnvZEnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wucmVhZG5vdmVsXC5jb21cL25vdmVsXC8uKy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnJlYWRub3ZlbC5jb20vbm92ZWwvMTQyOTQ3Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9ImJvdHRvbVRvb2xzMSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ibmV3Q29udGVudEJvZHkgIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Yek6bij6L2pJywKICAgICAgICB1cmw6L15odHRwOlwvXC9yZWFkXC5mbXhcLmNuXC9maWxlc1wvYXJ0aWNsZVwvaHRtbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3JlYWQuZm14LmNuL2ZpbGVzL2FydGljbGUvaHRtbC81LzcvMC80LzgvNS83MDQ4NS8xMzM5NDA0Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9Im5ld3JlYWRfZnkiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugPj4iXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ibmV3Ym9keWJveCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+e6ouiWr+e9kScsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLmhvbmdzaHVcLmNvbVwvY29udGVudFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5ob25nc2h1LmNvbS9jb250ZW50LzM4NTkxLzQ5NTMxLTExOTMzMzkuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0iYW5uIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJyZWFkdGV4dCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eZvuS5puaWiycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvYmFpc2h1emhhaVwuY29tL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9iYWlzaHV6aGFpLmNvbS9zaGFuY3VucWlyZW5jaHVhbi82ODM3NjMuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icGFnZSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6Ao5b+r5o236ZSuOuKGkikiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImJvb2t0ZXh0Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn55m+5Lmm5bqTJywKICAgICAgICB1cmw6L15odHRwOlwvXC9iYWlzaHVrdVwuY29tXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vYmFpc2h1a3UuY29tL2h0bWwvNDAvNDA1MTQvODc3ODMzOS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJmb290bGluayJdL2FbdGV4dCgpPSLkuIvkuIDpobUo5b+r5o236ZSuOuKGkikiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+mhtueCueWwj+ivtCcsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC4yM3VzXFwuY29tL2h0bWwvLitcXC5odG1sJywKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cuMjN1cy5jb20vaHRtbC8yNi8yNjYyNy8xNjk1MjMxNi5odG1sJywKICAgICAgICBuZXh0TGluazogJyAvL2RkW0BpZD0iZm9vdGxpbmsiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImFtYWluIikvZGwvZGQvaDEgfCBpZCgiY29udGVudHMiKScKICAgIH0sCiAgICB7bmFtZTogJ+W/q+ecvOaWh+Wtpue9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5reXd4d1wuY29tXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3Lmt5d3h3LmNvbS8wLzEyLzM3OTI2NDMuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0idGh1bWIiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5bCx54ix5paH5a2mJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLjkyd3hcLm9yZ1wvaHRtbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy45Mnd4Lm9yZy9odG1sLzAvODA3LzIyMDcwOS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJwYWdlX2JhciJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY2hhcHRlcl9jb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Lqy5Lqy5bCP6K+0572RJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLjc3c2h1XC5jb21cL3ZpZXdcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuNzdzaHUuY29tL3ZpZXcvMC8yMC8yMDYyNDE4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImNoYXB0ZXJfY29udGVudCJdIHwgLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5LiD5ZGz5Lmm5bGLJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLjd3c3dcLm5ldFwvaHRtbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy43d3N3Lm5ldC9odG1sL3NoaWZhbmd0aWFuc2hpLzcxOTQxMi5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJjaGFwdGVyX3BhZ2VyIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJib29rX21pZGRsZV9hcnRpY2xlIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5aSp5aSp5Lit5paHJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLjM2MDExOFwuY29tXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LjM2MDExOC5jb20vaHRtbC8yMS8yMTk1MS81NDE2ODMxLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9IkZvb3RMaW5rIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhte+8iOW/q+aNt+mUruKGku+8iSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6KiA5oOF5ZCO6Iqx5ZutJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnlxaGh5XC5vcmdcL25vdmVsXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnlxaGh5Lm9yZy9ub3ZlbC8wLzc2MS8zODc2OS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJsaW5rIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5bmz5Y2X5paH5a2mJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnBueHNcLmNvbVwvYm9va1wvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5wbnhzLmNvbS9ib29rL3pob25nc2hlbmd5YW50YWl6aWRhbi8yMTY0NDM4Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9ImJvb2tfbWlkZGxlX3RleHRfbmV4dCJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImJvb2tfbWlkZGxlX3RleHQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuIDmtYHlsI/or7QnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuMWx4c1wuY29tXC9ub3ZlbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy4xbHhzLmNvbS9ub3ZlbC84MDM0MS85MDU1MDM2Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9ImNoYXB0ZXJfbmF2Il0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S4gOS4gOWwj+ivtCcsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC4xMXhzXC5jb21cLy4rXC5odG0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy4xMXhzLmNvbS94cy8yMTMvMTE5OTA4Lmh0bScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0iTGlua01lbnUiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9IkNvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflha3kuZ3kuK3mlocnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuNjl6d1wuY29tXC94aWFvc2h1b1wvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy42OXp3LmNvbS94aWFvc2h1by8yMS8yMTk0My80NDYxNDgyLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9ImNoYXB0ZXJfVHVybnBhZ2UiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9Im5vdmVsX2NvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfljY7lpI/kuablupMnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuaHhza1wubmV0XC9maWxlc1wvYXJ0aWNsZVwvaHRtbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5oeHNrLm5ldC9maWxlcy9hcnRpY2xlL2h0bWwvNjcvNjc1MDkvMTI3MDQ0ODguaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vdGRbQGNsYXNzPSJsaW5rXzE0Il0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy90YWJsZVtAY2xhc3M9ImJvcmRlcl9sX3IiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuabot68vM0snLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuKHNodWx1eHN8a2treHMpXC5jb21cL2ZpbGVzXC9hcnRpY2xlXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNodWx1eHMuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8yMi8yMjMwNi84NzI3ODc5Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S5puWxsei3rycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5zaHUzNlwuY29tXC9ib29rXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNodTM2LmNvbS9ib29rLzAvMS8zLmh0bWwnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+iQveeniycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5sdW9xaXVcLmNvbVwvaHRtbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5sdW9xaXUuY29tL2h0bWwvMTgvMTg1MDUvMTM4NTc2NS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJiZ2RpdiJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vdGFibGVbQGNsYXNzPSJib3JkZXJfbF9yIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WQm+WtkOe9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5qdW56aXdhbmdcLmNvbVwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5qdW56aXdhbmcuY29tLzAvMTU1LzI1MTM3Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9ImZvb3RsaW5rIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5ZOI572X5bCP6K+0572RJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmhlbGxvZGJhXC5uZXRcL2ZpbGVzXC9hcnRpY2xlXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LmhlbGxvZGJhLm5ldC9maWxlcy9hcnRpY2xlL2h0bWwvMC80Ni8yMTU2NS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJwYXBnYnV0dG9uIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJodG1sQ29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eZvuS5pualvCcsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvYmFpc2h1bG91XC5jb21cL3JlYWRcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9iYWlzaHVsb3UuY29tL3JlYWQvMTAvMTA2NDcvMjUzNjA4NS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9hW3RleHQoKT0i5LiL5LiA6aG1KOW/q+aNt+mUrjrihpIpIl1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5LiH5Lmm5qW8JywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLndhbnNodWxvdVwuY29tXC94aWFvc2h1b1wvLitcLnNodG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cud2Fuc2h1bG91LmNvbS94aWFvc2h1by8yOS8yOTA5MS8yMDYyNTkzLnNodG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJMaW5rTWVudSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iQm9va1RleHQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuIfljbfkuablsYsnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wud2pzd1wuY29tXC9odG1sXC8uK1wuc2h0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy53anN3LmNvbS9odG1sLzM1LzM1NDA0LzI4ODczMzUuc2h0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9ImJvb2tyZWFkYm90dG9tIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJtYWluY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+S5puS5pue9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5zaHVzaHV3XC5jblwvc2h1XC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNodXNodXcuY24vc2h1LzI4NTYwLzQ1MDk3OTQuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BhbGlnbj0iY2VudGVyIl0vYVt0ZXh0KCk9IuS4i+mhtSJdW0BocmVmXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iY2VuZGl2Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6aOe5Y2i5bCP6K+0JywKICAgICAgICB1cmw6L15odHRwOlwvXC9iXC5mYWxvb1wuY29tXC9wXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vYi5mYWxvby5jb20vcC8yNDc1NTkvMS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJwYWdlciJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0ibWFpbjAiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfpnZLluJ3mloflrabnvZEnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wucWluZ2RpXC5jb21cL2ZpbGVzXC9hcnRpY2xlXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnFpbmdkaS5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLzAvMjcvMTMzMTQuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icmVhZGVyRm9vdGVyUGFnZSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9InJlYWRlclRpdGxlIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn56yU5LiL5paH5a2mJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmJ4d3hcLm9yZ1wvYlwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5ieHd4Lm9yZy9iLzU2LzU2OTA3LzkwMjA5MzIuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0iZm9vdGxpbmsiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1W+KGkl0iXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImNvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnrJTotqPpmIEnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuYmlxdWdlXC5jb21cLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuYmlxdWdlLmNvbS8wXzY3LzQ3MTQ3Mi5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJib3R0ZW0yIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5bCP6K+05a6i5qCIJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnhza3pcLmNvbVwveGlhb3NodW9cLy4rXC5zaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3Lnhza3ouY29tL3hpYW9zaHVvLzI5LzI5MDkxLzIwNjI1OTMuc2h0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9IkxpbmtNZW51Il0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJCb29rVGV4dCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+e/oOW+ruWxhScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5jdWl3ZWlqdVwuY29tXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LmN1aXdlaWp1LmNvbS9odG1sLzEyNC8xMjQzNjIvNjQ2ODAyNS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9wW0BjbGFzcz0iY3pfYmFyIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCDjgIsiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iYm9va193cmFwIl0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Zyo57q/5Lmm5ZCnJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmJvb2tiYVwubmV0XC9IdG1sXC9Cb29rXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LmJvb2tiYS5uZXQvSHRtbC9Cb29rLzE1LzE1OTk1LzIwMzAyNTEuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vdGRbQGlkPSJ0aHVtYiJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImNvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmloflrabov7cnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wud2VueHVlbWlcLm5ldFwvZmlsZXNcL2FydGljbGVcL2h0bWxcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cud2VueHVlbWkubmV0L2ZpbGVzL2FydGljbGUvaHRtbC8xMC8xMDg4NC80ODUyMTI1Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9ImZvb3RsaW5rIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54ix5bCa5paH5a2m572RJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmtlbnNodVwuY2NcL2ZpbGVzXC9hcnRpY2xlXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LmtlbnNodS5jYy9maWxlcy9hcnRpY2xlL2h0bWwvNS81Mzc5LzYzODk2NDAuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGRbQGlkPSJmb290bGluayJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iYmRzdWIiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdF5ZOB5Lit5paH572RJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmVwendcLmNvbVwvZmlsZXNcL2FydGljbGVcL2h0bWxcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuZXB6dy5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLzUwLzUwMjQ0LzMyNzE0ODUuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0ibGluayJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+Wkp+Wutuivu+S5pumZoicsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5kYWppYWR1XC5uZXRcL2ZpbGVzXC9hcnRpY2xlXC9odG1sXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LmRhamlhZHUubmV0L2ZpbGVzL2FydGljbGUvaHRtbC8xNC8xNDQzNi8zMzM3NDA3Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAaWQ9ImZvb3RsaW5rIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjZW50ZXIiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfljJfkuqzniLHkuaYnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuYmotaWJvb2tcLmNuXC9ib29rXC8uK1wuaHRtL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuYmotaWJvb2suY24vYm9vay8xNy90MTA0MDlrLzEyLmh0bScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0iemh0b3AiXS9hW3RleHQoKT0i5LiL5LiA6aG177yI5b+r5o236ZSu4oaS77yJIl1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iYm1zeV9jb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5bCP6K+0NTcwJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnhpYW9zaHVvNTcwXC5jb20vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy54aWFvc2h1bzU3MC5jb20vMTEvMTE4NDQvMjY3ODM4My5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJ0aHVtYiJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXVtAaHJlZl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJmb250c19iaWciXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn55yL5LmmJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmthbnNodVwuY29tXC9maWxlc1wvYXJ0aWNsZVwvaHRtbFwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5rYW5zaHUuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8zMDk5Ny85MzU4MDYuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0ieWRfbGluZWJvdCJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vdGFibGVbQGNsYXNzPSJ5ZF90YWJsZSJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WFqOacrOWwj+ivtOe9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5xdWFuYmVuXC5jb21cL3hpYW9zaHVvXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnF1YW5iZW4uY29tL3hpYW9zaHVvLzEwLzEwNDEyLzIwOTUwOTguaHRtbCcsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aZi+axn+WOn+WImycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5qand4Y1wubmV0XC9vbmVib29rXC5waHBcP25vdmVsaWQ9L2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuamp3eGMubmV0L29uZWJvb2sucGhwP25vdmVsaWQ9ODYyODc3JmNoYXB0ZXJpZD02JywKICAgICAgICBuZXh0TGluazogewogICAgICAgICAgICAgICAgc3RhcnRBZnRlcjonJmNoYXB0ZXJpZD0nLAogICAgICAgICAgICAgICAgaW5jOjEsCiAgICAgICAgfSwKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJub3ZlbHRleHQiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5aWH5Lmm5bGLJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnFpc2h1d3VcLmNvbVwvLisvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5xaXNodXd1LmNvbS9hX3poaWppYW4vMzE0ODE1LycsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJiZ2RpdiJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ2x1NeWwj+ivtOe9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC5sdTVcLmNvbVwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5sdTUuY29tL2IvNS81NDQyLzk1NzU4MzAuaHRtbCcsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn6aOe5bqTJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmZlaWt1XC5jb21cL1wvaHRtbFwvYm9va1wvLitcLnNodG0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5mZWlrdS5jb20vL2h0bWwvYm9vay8xMzAvMTY0MDE2LzQ4OTE2MjUuc2h0bScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icHJlbmV4dCJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobXihpIiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY2hjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5bm75L6g5bCP6K+0572RJywKICAgICAgICB1cmw6L2h0dHA6XC9cL3d3d1wuaHVhbnhpYVwuY29tXC9ib29rXHcrXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuaHVhbnhpYS5jb20vYm9vazU0ODc2MV82MDQxMjg1Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2FbQGhyZWZdW0BpZD0iaHRtbHhpYXpoYW5nIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImgxdGl0bGUiXSB8IC8vZGl2W0BpZD0iaHRtbENvbnRlbnQiXVtAY2xhc3M9ImNvbnRlbnRib3giXScsCiAgICAgICAgICAgIEhUX2luc2VydDpbJy8vZGl2W0BpZD0iaHRtbENvbnRlbnQiXScsMl0sCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5r2H5rmY5Lmm6ZmiJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnh4c3lcLm5ldFwvYm9va3NcLy4qXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cueHhzeS5uZXQvYm9va3MvNDg1MDM0LzUyNTkxNzYuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0iZGV0YWlsc3Vic2JveCJdL3NwYW4vYVtAaHJlZl1bQHRpdGxlPSLpmIXor7vkuIvkuIDnq6DoioIiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iZGV0YWlsX3RpdGxlIl0gfCAvL2RpdltAaWQ9InpqY29udGVudGRpdiJdJywKICAgICAgICAgICAgSFRfaW5zZXJ0OlsnLy9kaXZbQGlkPSJ6amNvbnRlbnRkaXYiXScsMl0sCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Lmm5rW3JywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLnNodWhhaVwuY29tXC9yZWFkXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNodWhhaS5jb20vcmVhZC80MDE0LzM3MTU1My5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJwYWdlX29wZXJhdGUgZm9udF9ibHVlIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroCJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJ0eHQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICd5aS1zZWUnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wueWktc2VlXC5jb20vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy55aS1zZWUuY29tL3JlYWRfMjY2NzY4XzE1NTAxLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9IkIyIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOiKgiJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy90YWJsZVtAd2lkdGg9IjkwMHB4Il1bQGFsaWduPSJDRU5URVIiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5aSp5LiL5Lmm55ufJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmZib29rXC5uZXRcL2Jvb2tcLy4rXC5odG0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5mYm9vay5uZXQvYm9vay8zNTc5My8yNjU2ODM0Lmh0bScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0icGFnZXMiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJib29rYm9keSJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+a2gum4puWwj+ivtOe9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC50b295YVwubmV0XC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnRvb3lhLm5ldC90b295YS8yLzIwOTQvODIwOTAyLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9Im5vdmVsX2JvdHRvbSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+eZvuaZk+eUny/osLfnspInLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuKGJ4c3xndWxpKVwuY2NcLy4rL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuYnhzLmNjLzI2NzU4Lzc3MDg5OTIuaHRtbCcsCiAgICAgICAgZW5hYmxlOnRydWUsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0icGFwZ2J1dHRvbiJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDnq6AiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0ibWFpbiJdL2gxIHwgLy9kaXZbQGlkPSJyZWFkYm94Il0vZGl2W0BpZD0iY29udGVudCJdIHwgLy9kaXZbQGlkPSJyZWFkYm94Il0vZGl2W0BpZD0icGFwZ2J1dHRvbiJdJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhUX2luc2VydDpbJy8vZGl2W0BpZD0id2Vla2hvdCJdJywxXSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnhqzlpJznnIvkuaYnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuYW95ZVwuY2NcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuYW95ZS5jYy84NDMvNS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJwYWdlYm90dG9tIl0vZGVzY2VuZGFudDo6YVtAaWQ9Im5leHRwYWdlIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL3ByZVtAaWQ9ImNvbnRlbnQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfloZTor7vmloflraYnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wudGFkdVwuY29tXC9ib29rXC9cZCtcL1xkKy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnRhZHUuY29tL2Jvb2snLAogICAgICAgIG5leHRMaW5rOicvL2RpdltAY2xhc3M9ImNvbnRhaW5lcl9jZW50ZXIiXS9kaXZbQGNsYXNzPSJsZWZ0Il0vZGl2W0BjbGFzcz0ianVtcCJdL2FbQGhyZWZdW3RleHQoKT0i5LiL5LiA56ugPj4iXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImNvbnRhaW5lcl9jZW50ZXIiXS9kaXZbQGNsYXNzPSJsZWZ0Il0vZGl2W0BjbGFzcz0iY29udGVudCJdW0BpZD0icGFydENvbnRlbnQiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5peg6ZSZ5bCP6K+0572RJywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLndjeGlhb3NodW9cLmNvbVwvd2N4c1wtXGQrXC1cZCsvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy53Y3hpYW9zaHVvLmNvbS93Y3hzLSotKi8nLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0id3JhcHBlcl9tYWluIl1bQGlkPSJqc3JlYWRib3giXS9oMSB8IC8vZGl2W0BjbGFzcz0id3JhcHBlcl9tYWluIl1bQGlkPSJqc3JlYWRib3giXS9kaXZbQGlkPSJodG1sQ29udGVudCJdW0BjbGFzcz0iY29udGVudGJveCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnh4PmlocnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wucmFud2VuXC5jY1wvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5yYW53ZW4uY2MvQS85Lzk4MTgvMzUwNTA2MC5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJwYWdlVG9vbHMiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9Im9sZHRleHQiXScKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfkuabmsrMnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wuc2h1aGVcLmNjXC8uKy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNodWhlLmNjLzMwOTc2LzQ0MDEwMjUvJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJib3R0ZW0iXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9IlRYVCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJzg55paH5a2mJywKICAgICAgICB1cmw6L15odHRwOlwvXC84OXd4XC5jb21cLy4rXC5odG0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovLzg5d3guY29tL2h0bWwvYm9vay83MC83MDczMi82NjQxMzMxLmh0bScsCiAgICAgICAgbmV4dExpbms6Jy8vZGRbQGlkPSJmb290bGluayJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGRbQGlkPSJjb250ZW50cyJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aegemAn+Wwj+ivtOe9kScsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvd3d3XC4xODZzXC5jblwvZmlsZXNcL2FydGljbGVcL2h0bWxcLy4rXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuMTg2cy5jbi9maWxlcy9hcnRpY2xlL2h0bWwvMC8zMDQvNDUyODkzNy5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJmb290bGluayJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aJi+aJkzgnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3Nob3VkYThcLmNvbVwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3Nob3VkYTguY29tL3poYW5neXV4aW5nY2hlbi84NTY0OS5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGlkPSJwYXBnYnV0dG9uIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOeroO+8iOW/q+aNt+mUriDihpLvvIkiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0iY29udGVudCJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+mXquaWh+S5puW6kycsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvcmVhZFwuc2hhbndlblwuY29tXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vcmVhZC5zaGFud2VuLmNvbS8xNC8xNDYxNi8xMDExMDYzLmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL3RkW0BjbGFzcz0idGIwIl0vZGVzY2VuZGFudDo6YVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnUGFpVHh0JywKICAgICAgICB1cmw6L15odHRwOlwvXC9wYWl0eHRcLmNvbVwvLitcLmh0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3BhaXR4dC5jb20vMjQvMjQ1OTYvNDUwNzMxMi5odG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJib29rX21pZGRsZV90ZXh0X25leHQiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugKOW/q+aNt+mUrjrihpIpIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImJvb2t0ZXh0Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5aW95Lmm5qW8JywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmhhb3NodWxvdVwuY29tXC8uK1wuaHRtbC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3Lmhhb3NodWxvdS5jb20vSGFvLzYvNjAyMzguaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0ibW92ZW5leHQiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA56ugIl0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9ImJvb2t0ZXh0Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnQm9va0xpbmsuTWU65pyA5pyJ54ix55qE5bCP6K+05pCc57Si5byV5pOOJywKICAgICAgICB1cmw6ICdeaHR0cDovL2Jvb2tsaW5rXFwubWUvJywKICAgICAgICBuZXh0TGluazogJy8vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdIHwgLy9hW2ZvbnRbdGV4dCgpPSLkuIvkuIDpobUiXV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy90YWJsZVtAd2lkdGg9IjEwMCUiXVtAY2VsbHNwYWNpbmc9IjAiXVtAY2VsbHBhZGRpbmc9IjIiXScsCiAgICAgICAgc2Nyb2xsX29ubHk6IHRydWUKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBtYW5odWEgPT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7bmFtZTogJ+WkqeaegeWKqOa8q+mikemBk+aWsOmXuycsCiAgICAgICAgdXJsOi9odHRwOlwvXC9jb21pY1wueWVza3lcLmNvbVwvXGQrXC8uK1wuc2h0bWwvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL2NvbWljLnllc2t5LmNvbS8yNDkvMTEzMzU3NDlfNS5zaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0ibnVtcGFnZSJdL2Rlc2NlbmRhbnQ6OmFbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BjbGFzcz0iYXJ0aWNsZSJdJywKICAgICAgICAgICAgcmVtYWluOjEuNCwKICAgICAgICAgICAgcmVwbGFjZUU6Jy8vZGl2W0BpZD0ibnVtcGFnZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmmrTotbDmvKvnlLsnLAogICAgICAgIHVybDogL15odHRwOlwvXC8oYmFvem91fGJhb3pvdW1hbmh1YSlcLmNvbVwvL2ksCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2ViYXIiXS9hW3RleHQoKT0i5LiL5LiA6aG1IiBvciBAY2xhc3M9Im5leHQiXSB8IC8vYVtAY2xhc3M9Im5leHQiIGFuZCAodGV4dCgpPSLkuIvkuIDpobUiKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ibWFpbiBjZiJdL2RpdltAY2xhc3M9ImNvbnRlbnQtYmxvY2sgY2YiXS9kaXZbMV0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+WKqOa8q+S5i+Wutua8q+eUu+e9kScsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly8od3d3fG1hbmh1YSlcXC5kbXpqXFwuY29tLy4rLy4rc2h0bWx8Xmh0dHA6Ly9tYW5odWFcXC4xNzhcXC5jb20vLisvLitzaHRtbCIsCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9tYW5odWEuMTc4LmNvbS9sYW5zZWNodW1vc2hpLzE1Nzk0LnNodG1sJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJwYWdlczIiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i5LiL5LiA6aG1Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9ImlubmVyX2ltZyJdJywKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54ix5ryr55S7JywKICAgICAgICB1cmw6L15odHRwOlwvXC93d3dcLmltYW5odWFcLmNvbVwvY29taWNcLy4rL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuaW1hbmh1YS5jb20vY29taWMvNTUvbGlzdF8zOTQ0OC5odG1sJywKICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICBwcmVMaW5rOnsKICAgICAgICAgICAgc3RhcnRBZnRlcjonP3A9JywKICAgICAgICAgICAgaW5jOi0xLAogICAgICAgICAgICBtaW46MSwKICAgICAgICB9LAogICAgICAgIG5leHRMaW5rOnsKICAgICAgICAgICAgc3RhcnRBZnRlcjonP3A9JywKICAgICAgICAgICAgbUZhaWxzOlsvXmh0dHA6XC9cL3d3d1wuaW1hbmh1YVwuY29tXC9jb21pY1wvLitcLmh0bWwvaSwnP3A9MSddLAogICAgICAgICAgICBpbmM6MSwKICAgICAgICAgICAgaXNMYXN0OmZ1bmN0aW9uKGRvYyx3aW4sbGhyZWYpewogICAgICAgICAgICAgICAgdmFyIHBhZ2VTZWxlY3Q9ZG9jLmdldEVsZW1lbnRCeUlkKCdwYWdlU2VsZWN0Jyk7CiAgICAgICAgICAgICAgICBpZihwYWdlU2VsZWN0KXsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvcz1wYWdlU2VsZWN0Lm9wdGlvbnM7CiAgICAgICAgICAgICAgICAgICAgdmFyIHMyb3NsPXMyb3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoczIuc2VsZWN0ZWRJbmRleCk7CiAgICAgICAgICAgICAgICAgICAgaWYocGFnZVNlbGVjdC5zZWxlY3RlZEluZGV4PT1zMm9zbC0xKXJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgdXNlaWZyYW1lOnRydWUsCiAgICAgICAgICAgIHJlbWFpbjoxLzIsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2ltZ1tAaWQ9ImNvbWljIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0ND5ryr55S7572RJywKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnR1a3VcXC5jYy9jb21pYy9cXGQrL1xcZCsvIiwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy50dWt1LmNjL2NvbWljLzYxMjMvMS8nLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vaW1nW0BpZD0iSW1nIl0nLAogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmlrDliqjmvKsnLAogICAgICAgIHVybDovaHR0cDpcL1wvd3d3XC54aW5kbVwuY25cL21oXC8uKy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnhpbmRtLmNuL21oL3NoaXNoYW5nenVpcWlhbmdkaXppLzU4Nzg0Lmh0bWw/cD0yJywKICAgICAgICBwcmVMaW5rOnsKICAgICAgICAgICAgc3RhcnRBZnRlcjonP3A9JywKICAgICAgICAgICAgaW5jOi0xLAogICAgICAgICAgICBtaW46MSwKICAgICAgICB9LAogICAgICAgIG5leHRMaW5rOnsKICAgICAgICAgICAgc3RhcnRBZnRlcjonP3A9JywKICAgICAgICAgICAgbUZhaWxzOlsvaHR0cDpcL1wvd3d3XC54aW5kbVwuY25cL21oXC8uK1wuaHRtbC9pLCc/cD0xJ10sCiAgICAgICAgICAgIGluYzoxLAogICAgICAgICAgICBpc0xhc3Q6ZnVuY3Rpb24oZG9jLHdpbixsaHJlZil7CiAgICAgICAgICAgICAgICB2YXIgdG9wU2VsZWN0PWRvYy5nZXRFbGVtZW50QnlJZCgndG9wU2VsZWN0Jyk7CiAgICAgICAgICAgICAgICBpZih0b3BTZWxlY3QpewogICAgICAgICAgICAgICAgICAgIHZhciBzMm9zPXRvcFNlbGVjdC5vcHRpb25zOwogICAgICAgICAgICAgICAgICAgIHZhciBzMm9zbD1zMm9zLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICBpZih0b3BTZWxlY3Quc2VsZWN0ZWRJbmRleD09czJvc2wtMSlyZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9InBob3RvIl0nLAogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfnnIvmvKvnlLsnLAogICAgICAgIHVybDovXmh0dHA6XC9cL3d3d1wua2trbWhcLmNvbVwvbWFuaHVhXC9cZCtcL1xkK1wvXGQrXC5odG1sL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cua2trbWguY29tL21hbmh1YS8wNzEwLzEwMTEvMzQ0MTIuaHRtbD9wPTInLAogICAgICAgIG5leHRMaW5rOiB7CiAgICAgICAgICAgIHN0YXJ0QWZ0ZXI6ICc/cD0nLAogICAgICAgICAgICBtRmFpbHM6IFsvXmh0dHA6XC9cL3d3d1wua2trbWhcLmNvbVwvbWFuaHVhXC9cZCtcL1xkK1wvXGQrXC5odG1sL2ksICc/cD0xJ10sCiAgICAgICAgICAgIGluYzogMSwKICAgICAgICAgICAgaXNMYXN0OiBmdW5jdGlvbihkb2MsIGdtX3dpbiwgbGhyZWYpIHsKICAgICAgICAgICAgICAgIHZhciBwaWNfbnVtID0gZ21fd2luLnBpYy5sZW5ndGg7CiAgICAgICAgICAgICAgICB2YXIgdXJsX2luZm8gPSBsaHJlZi5zcGxpdCgiP3A9Iik7CiAgICAgICAgICAgICAgICB2YXIgY3VycmVudF9wYWdlID0gTnVtYmVyKHVybF9pbmZvWzFdKTsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50X3BhZ2UgPj0gcGljX251bSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2ltZyNwaWMtc2hvdy1hcmVhJywKICAgICAgICAgICAgcmVtYWluOiAxIC8gMywKICAgICAgICAgICAgZG9jdW1lbnRGaWx0ZXI6IGZ1bmN0aW9uKGRvYywgbGhyZWYpIHsKICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X3BpY19zZXJ2ZXIgPSB1bnNhZmVXaW5kb3cuY3VycmVudF9waWNfc2VydmVyLAogICAgICAgICAgICAgICAgICAgIGhleDJiaW4gPSB1bnNhZmVXaW5kb3cuaGV4MmJpbiwKICAgICAgICAgICAgICAgICAgICBwaWMgPSB1bnNhZmVXaW5kb3cucGljOwoKICAgICAgICAgICAgICAgIHZhciB1cmxfaW5mbyA9IGxocmVmLnNwbGl0KCI/cD0iKTsKICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X3BhZ2UgPSBOdW1iZXIodXJsX2luZm9bMV0pOwogICAgICAgICAgICAgICAgaWYgKGlzTmFOKGN1cnJlbnRfcGFnZSkpIHJldHVybjsKICAgICAgICAgICAgICAgIHZhciBpbWdTcmMgPSBjdXJyZW50X3BpY19zZXJ2ZXIgKyBoZXgyYmluKHBpY1tjdXJyZW50X3BhZ2UgLSAxXSk7CiAgICAgICAgICAgICAgICBkb2MuZ2V0RWxlbWVudEJ5SWQoInBpYy1zaG93LWFyZWEiKS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGltZ1NyYyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgLy8g5bey5aSx5pWICiAgICAvLyB7bmFtZTogJ1NG5Zyo57q/5ryr55S7JywKICAgIC8vICAgICB1cmw6L2h0dHA6XC9cL2NvbWljXC5zZmFjZ1wuY29tXC9IVE1MXC8uKy9pLAogICAgLy8gICAgIHNpdGVFeGFtcGxlOidodHRwOi8vY29taWMuc2ZhY2cuY29tL0hUTUwvWlhDSFovMDAxLyNwPTInLAogICAgLy8gICAgIHByZUxpbms6ewogICAgLy8gICAgICAgICBzdGFydEFmdGVyOicjcD0nLAogICAgLy8gICAgICAgICBpbmM6LTEsCiAgICAvLyAgICAgICAgIG1pbjoxLAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgbmV4dExpbms6ewogICAgLy8gICAgICAgICBzdGFydEFmdGVyOicjcD0nLAogICAgLy8gICAgICAgICBtRmFpbHM6Wy9odHRwOlwvXC9jb21pY1wuc2ZhY2dcLmNvbVwvSFRNTFwvLitcLy9pLCcjcD0xJ10sCiAgICAvLyAgICAgICAgIGluYzoxLAogICAgLy8gICAgICAgICBpc0xhc3Q6ZnVuY3Rpb24oZG9jLHdpbixsaHJlZil7CiAgICAvLyAgICAgICAgICAgICB2YXIgcGFnZVNlbD1kb2MuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2VTZWwnKTsKICAgIC8vICAgICAgICAgICAgIGlmKHBhZ2VTZWwpewogICAgLy8gICAgICAgICAgICAgICAgIHZhciBzMm9zPXBhZ2VTZWwub3B0aW9uczsKICAgIC8vICAgICAgICAgICAgICAgICB2YXIgczJvc2w9czJvcy5sZW5ndGg7CiAgICAvLyAgICAgICAgICAgICAgICAgaWYocGFnZVNlbC5zZWxlY3RlZEluZGV4PT1zMm9zbC0xKXJldHVybiB0cnVlOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgYXV0b3BhZ2VyOnsKICAgIC8vICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vaW1nW0BpZD0iY3VyUGljIl0nLAogICAgLy8gICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgIC8vICAgICAgICAgcmVwbGFjZUU6ICdpZCgiUGFnZXMiKScKICAgIC8vICAgICB9CiAgICAvLyB9LAogICAge25hbWU6ICfng63ooYDmvKvnlLsnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLnJleHVlZG9uZ21hblwuY29tXC9jb21pY1wvL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6ICdodHRwOi8vd3d3LnJleHVlZG9uZ21hbi5jb20vY29taWMvMjk1Ny8zNjQ2My9pbmRleC5odG1sP3A9MicsCiAgICAgICAgbmV4dExpbms6IHsKICAgICAgICAgICAgc3RhcnRBZnRlcjogJz9wPScsCiAgICAgICAgICAgIG1GYWlsczogWy9eaHR0cDpcL1wvd3d3XC5yZXh1ZWRvbmdtYW5cLmNvbVwvY29taWNcLy4rL2ksICc/cD0xJ10sCiAgICAgICAgICAgIGluYzogMSwKICAgICAgICAgICAgaXNMYXN0OiBmdW5jdGlvbihkb2MsIHdpbiwgbGhyZWYpIHsKICAgICAgICAgICAgICAgIHZhciBzZWxlY3QgPSBkb2MuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2VTZWxlY3QnKTsKICAgICAgICAgICAgICAgIGlmIChzZWxlY3QpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvcyA9IHNlbGVjdC5vcHRpb25zOwogICAgICAgICAgICAgICAgICAgIHZhciBzMm9zbCA9IHMyb3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Quc2VsZWN0ZWRJbmRleCA9PSBzMm9zbCAtIDEpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2ltZ1tAaWQ9Im1hbmdhRmlsZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfln7rlvrfmvKvnlLvnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmppZGUxMjNcLm5ldFwvbWFuaHVhXC8uKlwuaHRtbC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmppZGUxMjMubmV0L21hbmh1YS8zNjcwLzI3MjcyNS5odG1sP3A9MicsCiAgICAgICAgbmV4dExpbms6IHsKICAgICAgICAgICAgc3RhcnRBZnRlcjogJz9wPScsCiAgICAgICAgICAgIG1GYWlsczogWy9eaHR0cDpcL1wvd3d3XC5qaWRlMTIzXC5uZXRcL21hbmh1YVwvLipcLmh0bWwvaSwgJz9wPTEnXSwKICAgICAgICAgICAgaW5jOiAxLAogICAgICAgICAgICBpc0xhc3Q6IGZ1bmN0aW9uKGRvYywgd2luLCBsaHJlZikgewogICAgICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGRvYy5nZXRFbGVtZW50QnlJZCgncVRjbXNfc2VsZWN0X2knKTsKICAgICAgICAgICAgICAgIGlmIChzZWxlY3QpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvcyA9IHNlbGVjdC5vcHRpb25zOwogICAgICAgICAgICAgICAgICAgIHZhciBzMm9zbCA9IHMyb3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Quc2VsZWN0ZWRJbmRleCA9PSBzMm9zbCAtIDEpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInFUY21zX3BpYyIpJywKICAgICAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJzU2NTLlnKjnur/mvKvnlLsnLAogICAgICAgIHVybDogL15odHRwOlwvXC9taFwuNTY1MlwuY29tXC9taFwvLipcLnNodG1sL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9taC41NjUyLmNvbS9taC8yMDEzMDEyNC81NDg0LzEyNTkwNy5zaHRtbD9wPTInLAogICAgICAgIG5leHRMaW5rOiB7CiAgICAgICAgICAgIHN0YXJ0QWZ0ZXI6ICc/cD0nLAogICAgICAgICAgICBtRmFpbHM6IFsvXmh0dHA6XC9cL21oXC41NjUyXC5jb21cL21oXC8uKlwuc2h0bWwvaSwgJz9wPTEnXSwKICAgICAgICAgICAgaW5jOiAxLAogICAgICAgICAgICBpc0xhc3Q6IGZ1bmN0aW9uKGRvYywgd2luLCBsaHJlZikgewogICAgICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGRvYy5xdWVyeVNlbGVjdG9yKCcuRGlyZWN0b3J5X2JhciBzZWxlY3QnKTsKICAgICAgICAgICAgICAgIGlmIChzZWxlY3QpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvcyA9IHNlbGVjdC5vcHRpb25zOwogICAgICAgICAgICAgICAgICAgIHZhciBzMm9zbCA9IHMyb3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Quc2VsZWN0ZWRJbmRleCA9PSBzMm9zbCAtIDEpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInNob3dfaW1nIiknLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5rGX5rGX5ryr55S7JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvXHcrXC4oPzp2czIwfDNnbWFuaHVhfGhoY29taWMpXC4oPzpjb218bmV0KVwvXHcrXC9cdytcLmh0bS9pLAogICAgICAgIHNpdGVFeGFtcGxlOiAnaHR0cDovL3BhZ2UudnMyMC5jb20vMTgxNTQ1NC8xMTUzMjEuaHRtP3Y9MipzPTYnLAogICAgICAgIG5leHRMaW5rOiBmdW5jdGlvbihkb2MsIHdpbiwgY3BsaW5rKSB7CiAgICAgICAgICAgIC8vIGhyZWZJbmMg55qE5pa55byP5LiN6KGM5Zug5Li66L+Z5Liq5Zyw5Z2A5pyA5ZCO6L+Y5pyJ6aKd5aSW55qEICpzPTYKICAgICAgICAgICAgdmFyIG0gPSBjcGxpbmsubWF0Y2goL1w/dj0oXGQrKS8pOwogICAgICAgICAgICBpZiAoIW0pIHsKICAgICAgICAgICAgICAgIC8vIOesrOS4gOmhtei/meenjeaDheWGtSBodHRwOi8vcGFnZS52czIwLmNvbS8xODE1NDU0LzExNTMyMS5odG0/cz02CiAgICAgICAgICAgICAgICByZXR1cm4gY3BsaW5rLnJlcGxhY2UoJz9zPScsICc/dj0yKnM9Jyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IE51bWJlcihtWzFdKSwKICAgICAgICAgICAgICAgICAgICBuZXh0ID0gY3VycmVudCArIDE7CgogICAgICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGRvYy5xdWVyeVNlbGVjdG9yKCcjYWxsIHNlbGVjdCcpOwogICAgICAgICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjsKICAgICAgICAgICAgICAgIHZhciBtYXggPSBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7CiAgICAgICAgICAgICAgICBpZiAobmV4dCA+IG1heCkgcmV0dXJuOwogICAgICAgICAgICAgICAgcmV0dXJuIGNwbGluay5yZXBsYWNlKG1bMF0sICc/dj0nICsgbmV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9pbWdbQGlkPSJDb21pY1BpYyJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICc5Oea8q+eUu29sZCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cLyhjb2NvY29taWN8ZG0uOTltYW5nYXw5OW1hbmdhfDk5Y29taWN8d3d3Ljk5Y29taWN8d3d3LmhoY29taWMpXC4oY29tfGNjKVwvLitcLmh0bS9pLAogICAgICAgIHNpdGVFeGFtcGxlOiAnaHR0cDovLzk5bWFuZ2EuY29tL3BhZ2UvMTY4LzY0ODEuaHRtP3Y9MypzPTknLAogICAgICAgIG5leHRMaW5rOiB7CiAgICAgICAgICAgIHN0YXJ0QWZ0ZXI6ICc/dj0nLAogICAgICAgICAgICBpbmM6IDEsCiAgICAgICAgICAgIGlzTGFzdDogZnVuY3Rpb24oZG9jLCB3aW4sIGxocmVmKSB7CiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJyNhbGwgc2VsZWN0Jyk7CiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHMyb3MgPSBzZWxlY3Qub3B0aW9uczsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvc2wgPSBzMm9zLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0LnNlbGVjdGVkSW5kZXggPT0gczJvc2wgLSAxKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9pbWdbQGlkPSJDb21pY1BpYyJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICc5Oea8q+eUu25ldycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cLygxbWh8OTltaHxtaC45OTc3MHx3d3cuam15ZG0pXC4oY29tfGNjKVwvLisvaSwKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly85OW1oLmNvbS9jb21pYy84NDM2LzExNzcyOC8/cD0xJnM9MCcsCiAgICAgICAgbmV4dExpbms6IHsKICAgICAgICAgICAgc3RhcnRBZnRlcjogJz9wPScsCiAgICAgICAgICAgIGluYzogMSwKICAgICAgICB9LAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIG1heHBhZ2U6IDIwLAogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0iaUJvZHkiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5Yqo5ryrRmFucycsCiAgICAgICAgdXJsOiAvaHR0cDpcL1wvd3d3XC5kbTEyM1wuY25cL2Jic1wvKHRocmVhZFwucGhwXD9maWQ9fHJlYWRcLnBocFw/dGlkPSkvaSwKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cuZG0xMjMuY24vYmJzL3JlYWQucGhwP3RpZD01OTM2NDUnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3Rib2R5W0BpZD0idGhyZWFkbGlzdCJdfC8vZGl2W0BpZD0icHdfY29udGVudCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdLdUt15Yqo5ryrJywKICAgICAgICB1cmw6L2h0dHA6XC9cL2NvbWljXC5rdWt1ZG1cLmNvbVwvY29taWNsaXN0XC9cZCtcL1xkKy4qXC5odG0vaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL2NvbWljLmt1a3VkbS5jb20vY29taWNsaXN0LzQvMTcwOTkvMy5odG0nLAogICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgIG5leHRMaW5rOicvL2FbaW1nW2NvbnRhaW5zKEBzcmMsImltYWdlcy9kLmdpZiIpXV0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9ib2R5L3RhYmxlWzJdJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJzUycGvmvKvnlLsnLAogICAgICAgIHVybDovaHR0cDpcL1wvKG9wfHNpc2hlbnxuYXJ1dG9jbilcLjUycGtcLmNvbVwvbWFuaHVhXC9cZCtcL1xkKy9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vb3AuNTJway5jb20vbWFuaHVhLzIwMTAvOTIxMzY0Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOicvL2xpW0BpZD0icGFnZV9fbmV4dCJdL2FbMV0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHJlbGF0ZWRPYmo6Wydjc3M7bGkjcGFnZV9fc2VsZWN0JywnYm90dG9tJ10sCiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9InBpY3R1cmVDb250ZW50Il0nCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5pyJ5aaW5rCU5ryr55S7JywKICAgICAgICB1cmw6L2h0dHA6XC9cL3d3d1wudTE3XC5jb21cL2NvbWljX3Nob3dcLy4rL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cudTE3LmNvbS9jb21pY19zaG93L2MyODU0MF9tMC5odG1sJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGNsYXNzPSJtZ19hdXRvIl0nLAogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfliqjmvKvlsYsnLAogICAgICAgIHVybDovaHR0cDpcL1wvKHd3d3x0ZWwpXC5kbTVcLmNvbVwvLisvaSwKICAgICAgICBuZXh0TGluazonLy9zcGFuW0BpZD0ic19uZXh0Il0vYVsxXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0ic2hvd2ltYWdlIl0nLAogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICflpKnkvb/mvKvnlLvnvZEsVFNETea8q+eUu+e7hCcsCiAgICAgICAgdXJsOi9eaHR0cDpcL1wvbWhcLnRzZG1cLm5ldFwvY29taWNcLy4rL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9taC50c2RtLm5ldC9jb21pYy80Njk3LzY4MDU5Lmh0bWwnLAogICAgICAgIHVzZWlmcmFtZTp0cnVlLAogICAgICAgIHByZUxpbms6ewogICAgICAgICAgICBzdGFydEFmdGVyOic/cD0nLAogICAgICAgICAgICBpbmM6LTEsCiAgICAgICAgICAgIG1pbjoxLAogICAgICAgIH0sCiAgICAgICAgbmV4dExpbms6ewogICAgICAgICAgICBzdGFydEFmdGVyOic/cD0nLAogICAgICAgICAgICBtRmFpbHM6Wy9eaHR0cDpcL1wvbWhcLnRzZG1cLm5ldFwvY29taWNcLy4rXC5odG1sL2ksJz9wPTEnXSwKICAgICAgICAgICAgaW5jOjEsCiAgICAgICAgICAgIGlzTGFzdDpmdW5jdGlvbihkb2Msd2luLGxocmVmKXsKICAgICAgICAgICAgICAgIHZhciBwYWdlU2VsZWN0PWRvYy5nZXRFbGVtZW50QnlJZCgncVRjbXNfc2VsZWN0X2knKTsKICAgICAgICAgICAgICAgIGlmKHBhZ2VTZWxlY3QpewogICAgICAgICAgICAgICAgICAgIHZhciBzMm9zPXBhZ2VTZWxlY3Qub3B0aW9uczsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvc2w9czJvcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgLy9hbGVydChzMi5zZWxlY3RlZEluZGV4KTsKICAgICAgICAgICAgICAgICAgICBpZihwYWdlU2VsZWN0LnNlbGVjdGVkSW5kZXg9PXMyb3NsLTEpcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICAgICAgcmVtYWluOjEvMiwKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vaW1nW0BpZD0icVRjbXNfcGljIl0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+a8q+eUu+mikemBk1/muLjkvqDnvZEnLAogICAgICAgIHVybDogL15odHRwOlwvXC9tYW5odWFcLmFsaTIxM1wubmV0XC9jb21pY1wvLipcLmh0bWwvaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL21hbmh1YS5hbGkyMTMubmV0L2NvbWljLzUyNTcvMTQxMzM2Lmh0bWwnLAogICAgICAgIG5leHRMaW5rOiAnYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iZW5qb3lfaG9zdGNvbiJdJywKICAgICAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgICAgICByZXBsYWNlRTogIi8vZGl2W0BjbGFzcz0nZW5qb3lfY2VudGVyX2JvdHRvbV9wYWdlJ10vLypbQGNsYXNzPSdsaV9taWRkbGUnIG9yIEBjbGFzcz0ncHJldmlvdXNwYWdlJyBvciBAY2xhc3M9J25leHRwYWdlJ10iCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn54Gr5b2x5b+N6ICF5Lit5paH572RJywKICAgICAgICB1cmw6L2h0dHA6XC9cL3d3d1wubmFydXRvbVwuY29tXC9jb21pY1wvLisvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5uYXJ1dG9tLmNvbS9jb21pYy8xMTYyNC5odG1sP3A9MycsCiAgICAgICAgcHJlTGluazp7CiAgICAgICAgICAgIHN0YXJ0QWZ0ZXI6Jz9wPScsCiAgICAgICAgICAgIGluYzotMSwKICAgICAgICAgICAgbWluOjEsCiAgICAgICAgfSwKICAgICAgICBuZXh0TGluazp7CiAgICAgICAgICAgIHN0YXJ0QWZ0ZXI6Jz9wPScsCiAgICAgICAgICAgIG1GYWlsczpbL2h0dHA6XC9cL3d3d1wubmFydXRvbVwuY29tXC9jb21pY1wvLitcLmh0bWwvaSwnP3A9MSddLAogICAgICAgICAgICBpbmM6MSwKICAgICAgICAgICAgaXNMYXN0OmZ1bmN0aW9uKGRvYyx3aW4sbGhyZWYpewogICAgICAgICAgICAgICAgdmFyIHRvcFNlbGVjdD1kb2MuZ2V0RWxlbWVudEJ5SWQoJ3RvcFNlbGVjdCcpOwogICAgICAgICAgICAgICAgaWYodG9wU2VsZWN0KXsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvcz10b3BTZWxlY3Qub3B0aW9uczsKICAgICAgICAgICAgICAgICAgICB2YXIgczJvc2w9czJvcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgaWYodG9wU2VsZWN0LnNlbGVjdGVkSW5kZXg9PXMyb3NsLTEpcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9pbWdbQGlkPSJzaG93SW1nIl0nLAogICAgICAgICAgICB1c2VpZnJhbWU6dHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmrbvnpZ7kuK3mlofnvZEnLAogICAgICAgIHVybDovaHR0cDpcL1wvKD86XHcrXC4pP2JsZWFjaGNuXC5uZXRcL21hbmh1YVwvLisvaSwKICAgICAgICBzaXRlRXhhbXBsZTonaHR0cDovL25hcnV0by5ibGVhY2hjbi5uZXQvbWFuaHVhLzY3NTkuaHRtbCcsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BpZD0iY29taWNfcGFnZXMiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJjb21pY19lbmR0ZXh0Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ2lpaWts6K665Z2bJywKICAgICAgICB1cmw6ICdeaHR0cDovL2Jic1xcLmlpaWtsXFwubmV0L2ZvcnVtXFwucGhwXFw/Zm9ydW1faWQ9LionLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dCJdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vdHJbQGNsYXNzPSJ0b3BpY19saXN0X3JvdyJdJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2Jicy5paWlrbC5uZXQvZm9ydW0ucGhwP2ZvcnVtX2lkPTgyJmNsYXNzX2lkPTAmcGFnZT0yJwogICAgfSwKICAgIHtuYW1lOiAnc29zZ+iuuuWdm+W4luWtkCcsCiAgICAgICAgdXJsOi9odHRwOlwvXC93d3dcLnNvc2dcLm5ldFwvcmVhZC9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vd3d3LnNvc2cubmV0L3JlYWQucGhwP3RpZD00MjQ4MzMnLAogICAgICAgIG5leHRMaW5rOicvL3RkW0BhbGlnbj0ibGVmdCJdL2IvZm9sbG93aW5nLXNpYmxpbmc6OmFbQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonLy9kaXZbQGlkPSJiNSJdL2Zvcm0vYS90YWJsZVsxXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5r6E56m66LS05a2Q5YaF5a65JywKICAgICAgICB1cmw6L2h0dHA6XC9cL2Jic1wuc3VtaXNvcmFcLm9yZ1wvcmVhZFwucGhwXD90aWQ9L2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly9iYnMuc3VtaXNvcmEub3JnL3JlYWQucGhwP3RpZD0xMTAxNTY5NCcsCiAgICAgICAgbmV4dExpbms6J2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6ewogICAgICAgICAgICBwYWdlRWxlbWVudDonY3NzOy50LnQyJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICc5Z2Fs6IuN6Zuq6K665Z2bJywKICAgICAgICB1cmw6L2h0dHA6XC9cL2Jic1wuKDlnYWx8OWJha2EpXC5jb21cL3JlYWRcLnBocFw/dGlkPS9pLAogICAgICAgIHNpdGVFeGFtcGxlOidodHRwOi8vYmJzLjlnYWwuY29tL3JlYWQucGhwP3RpZD0yOTkwMTYnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZm9ybVtAbWV0aG9kPSJwb3N0Il0vYVtAbmFtZV0vZm9sbG93aW5nLXNpYmxpbmc6OmRpdicsCiAgICAgICAgICAgIHJlcGxhY2VFOicvL3VsW0BjbGFzcz0icGFnZXMiXScsCiAgICAgICAgfSwKICAgIH0sCiAgICB7bmFtZTogJ+WSjOmCquekvnzkvaDnmoRBQ0fnlJ/mtLsg5paH5LiN5Zyo6ZW/LuWGhea2teWImeaYjiDlm77kuI3lnKjoibIu5oSP5rer5YiZ54G1JywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5oZXhpZXNoZVwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL3d3dy5oZXhpZXNoZS5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZWJhciJdL2FbdGV4dCgpPSJOZXh0Il0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJjZW50ZW50IiknLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ2hhcnVoaWNoYW4nLAogICAgICAgIHVybDogL15odHRwOlwvXC9oYXJ1aGljaGFuXC5jb21cLy9pLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0ByZWw9Im5leHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJwb3N0bGlzdCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdleGhlbnRhaScsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9leGhlbnRhaVxcLm9yZy9zLy4qJCcsCiAgICAgICAgbmV4dExpbms6ICcvL2ltZ1tAc3JjPSJodHRwOi8vc3QuZXhoZW50YWkubmV0L2ltZy9uLnBuZyJdLy4uJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vYm9keS9kaXZbQGNsYXNzPSJzbmkiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9leGhlbnRhaS5vcmcvcy8wMDg4NDQ2MjgzLzY1MzExNy00JywKICAgICAgICB1c2VpZnJhbWU6IHRydWUKICAgIH0sCiAgICB7bmFtZTogJ2V4aGVudGFpIGdhbGxlcnknLAogICAgICAgIHVybDogL15odHRwOlwvXC9leGhlbnRhaVwub3JnXC9nXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2V4aGVudGFpLm9yZy9nLzUxNDk1NC9kNGZjYjQ5NzNlLz9wPTEnLAogICAgICAgIG5leHRMaW5rOiAnLy90YWJsZVtAY2xhc3M9InB0dCJdLy9hW3RleHQoKT0iPiJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAaWQ9ImdkdCJdJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ2V4aGVudGFpIGZyb250cGFnZScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2V4aGVudGFpXC5vcmdcLyhcP1teXC9dKyk/JC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vZXhoZW50YWkub3JnLz9wYWdlPTInLAogICAgICAgIG5leHRMaW5rOiAnLy90YWJsZVtAY2xhc3M9InB0dCJdLy9hW3RleHQoKT0iPiJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3RhYmxlW0BjbGFzcz0icHR0Il0vLi4nLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnSGVudGFpIE1hbmdhfFJlYWQgZnJlZSBoZW50YWkgeHh4IG1hbmdhIG9ubGluZScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2hlbnRhaTRtYW5nYVwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2hlbnRhaTRtYW5nYS5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiXS9hW2NvbnRhaW5zKHRleHQoKSwgIj4iKV0nLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJpbm5lckNvbnRlbnQiKScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnMTAyNOekvuWMuicsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly8od3d3XFwuKT90NjZ5XFwuY29tL3xeaHR0cDovL2NsXFwubWFuXFwubHYvJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiXS9iL2ZvbGxvd2luZy1zaWJsaW5nOjphWzFdJywKICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJhamF4dGFibGUiKSB8IGlkKCJtYWluIiknLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vdDY2eS5jb20vdGhyZWFkMDgwNi5waHA/ZmlkPTE1JywKICAgIH0sCiAgICB7bmFtZTogJ0RMc2l0ZSDmpJzntKLntZDmnpwnLAogICAgICAgIHVybDogL15odHRwOlwvXC8oPzpbXi5dK1wuKT9kbHNpdGVcLmNvbVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cuZGxzaXRlLmNvbS9ob21lL2Zzci89L2xhbmd1YWdlL2pwL2tleXdvcmQva29uL2FnZV9jYXRlZ29yeSU1QjAlNUQvZ2VuZXJhbC9wZXJfcGFnZS8zMC9zaG93X3R5cGUvbi9wYWdlLzInLAogICAgICAgIG5leHRMaW5rOiAnLy90ZFtAY2xhc3M9InBhZ2Vfbm8iXS91bC9saS9hW3RleHQoKT0i5qyh44G4IiBvciB0ZXh0KCk9Ik5leHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoInNlYXJjaF9yZXN1bHRfbGlzdCIpJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdHeXV0dG8uY29t772c44Gu5qSc57Si57WQ5p6cJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvZ3l1dHRvXC5jb21cL3NlYXJjaFwvc2VhcmNoX2xpc3RcLnBocC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vZ3l1dHRvLmNvbS9zZWFyY2gvc2VhcmNoX2xpc3QucGhwP19hZHVsdF9jaGVjaz15ZXMmYWN0aW9uPXBlclBhZ2Umc2VhcmNoX2tleXdvcmQ9bG9sJnNlYXJjaF90eXBlPSZtb2RlPXNlYXJjaCZwZXJQYWdlPTMwJnBhZ2VJRD0yJnJlZl9wYXRoPSUyRnNlYXJjaCUyRnNlYXJjaF9saXN0LnBocCcsCiAgICAgICAgbmV4dExpbms6ICcvL2FbdGV4dCgpPSLmrKHjga4zMOS7tuOBuCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgic3RydWN0XzJDb2xSaWdodEluIikvZGl2W0BjbGFzcz0idW5pdF9JdGVtTGlzdCJdL2Rpdltjb250YWlucyhAY2xhc3MsICJwYXJ0c19JdGVtQm94IildJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0pBVkxpYnJhcnknLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmphdmxpYnJhcnlcLmNvbVwvY25cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmphdmxpYnJhcnkuY29tL2NuL3ZsX2Jlc3RyYXRlZC5waHAnLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlX3NlbGVjdG9yIl0vYVtAY2xhc3M9InBhZ2UgbmV4dCJdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicmlnaHRjb2x1bW4iKS9kaXZbQGNsYXNzPSJ2aWRlb3RodW1ibGlzdCJdIHwgaWQoInJpZ2h0Y29sdW1uIikvZGl2W0BjbGFzcz0ic3RhcmJveCJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdOeWFhVG9ycmVudHMnLAogICAgICAgIHVybDogJ15odHRwOi8vKD86KD86d3d3fHN1a2ViZWk/KVxcLik/bnlhYVxcLnNlLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vYi9mb2xsb3dpbmctc2libGluZzo6YVsxXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3RhYmxlW0BjbGFzcz0idGxpc3QiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cubnlhYS5zZS8nLAogICAgfSwKICAgIHtuYW1lOiAn5p6B5b2x5Yqo5ryrJywKICAgICAgICB1cmw6ICdodHRwOi8vYnQua3R4cC5jb20vLitbMC05XSstKicsCiAgICAgICAgbmV4dExpbms6ICcvL3NwYW5bQGNsYXNzPSJjdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJpdGVtLWJveCByb3VuZC1jb3JuZXIiIGFuZCBkaXYvQGNsYXNzPSJ0aXRsZSJdJywKICAgIH0sCiAgICB7bmFtZTogJ0JURGlnZyBTZWFyY2gnLAogICAgICAgIHVybDogJ15odHRwcz86Ly9idGRpZ2cub3JnL3NlYXJjaConLAogICAgICAgIG5leHRMaW5rOiAnLy9hW2NvbnRhaW5zKHRleHQoKSwi4oaSIildJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vYm9keS9kaXYvZGl2L2NlbnRlcicsCiAgICB9LAoKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSDlm73lpJbnq5nngrkgPT09PT09PT09PT09PT09PT09PQogICAge25hbWU6ICdBbmFuZFRlY2gnLAogICAgICAgIHVybDogJ15odHRwOi8vYW5hbmR0ZWNoXFwuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXS91bC9saVtAY2xhc3M9ImFycm93Il0vYVt0ZXh0KCk9IuKWtiJdJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vc2VjdGlvbltAY2xhc3M9ImNvbnRlbnQiXS9zZWN0aW9uW0BjbGFzcz0ibWFpbl9jb250Il0vc2VjdGlvbltAY2xhc3M9Im1haW5fY29udCJdJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL2FuYW5kdGVjaC5jb20vdGFnL21iJywKICAgIH0sCiAgICB7bmFtZTogJ0FuZHJvaWQgUG9saWNlIC0gQW5kcm9pZCBOZXdzLCBBcHBzLCBHYW1lcywgUGhvbmVzLCBUYWJsZXRzJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmFuZHJvaWRwb2xpY2VcXC5jb20vJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0id3AtcGFnZW5hdmkiXS9hW3RleHQoKT0iTmV4dMK7Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJjb250ZW50Il0nLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmFuZHJvaWRwb2xpY2UuY29tLycsCiAgICB9LAogICAge25hbWU6ICdBbm9ueW1vdXMgc3BlYWtzOiB0aGUgaW5zaWRlIHN0b3J5IG9mIHRoZSBIQkdhcnkgaGFjayB8IEFycyBUZWNobmljYScsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9hcnN0ZWNobmljYVxcLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiAnLy9hW3NwYW5bY29udGFpbnMoY29uY2F0KCIgIiwgQGNsYXNzLCAiICIpLCAiIG5leHQgIildXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2FydGljbGVbY29udGFpbnMoY29uY2F0KCIgIiwgQGNsYXNzLCAiICIpLCAiIHN0YW5kYWxvbmUgIildL3NlY3Rpb25bQGlkPSJhcnRpY2xlLWd1dHMiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9hcnN0ZWNobmljYS5jb20vdGVjaC1wb2xpY3kvMjAxMS8wMi9hbm9ueW1vdXMtc3BlYWtzLXRoZS1pbnNpZGUtc3Rvcnktb2YtdGhlLWhiZ2FyeS1oYWNrLycsCiAgICB9LAogICAge25hbWU6ICd0ZWNoUG93ZXJVcCcsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC50ZWNocG93ZXJ1cFxcLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dHBhZ2UtdG9wIl0gfCAvL2FbY29udGFpbnModGV4dCgpLCJOZXh0IildJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0idGV4dCJdIHwgLy9zZWN0aW9uW0BpZD0ibGlzdCJdIHwgLy9mb3JtW0BjbGFzcz0iRGlzY3Vzc2lvbkxpc3QgSW5saW5lTW9kRm9ybSIgb3IgQGNsYXNzPSJJbmxpbmVNb2RGb3JtIHNlY3Rpb24iXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly93d3cudGVjaHBvd2VydXAuY29tL3Jldmlld3MvR1NraWxsL0YzLTE2MDBDN1EtMzJHVFgvJywKICAgIH0sCiAgICB7bmFtZTogJ0RpZ2l0YWwgUGhvdG9ncmFwaHkgUmV2aWV3JywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmRwcmV2aWV3XFwuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2FbQHJlbD0ibm9mb2xsb3ciXVtjb250YWlucyh0ZXh0KCksICJOZXh0IildJywKICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJtYWluQ29udGVudCIpL2RpdltAY2xhc3M9Im5ld3Mgd2l0aERheUljb25zIl0nLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3LmRwcmV2aWV3LmNvbS9wcmV2aWV3cy9zb255LWN5YmVyc2hvdC1kc2MtcngxcicsCiAgICB9LAogICAge25hbWU6ICdEaWdpdGFsIFBob3RvZ3JhcGh5IFJldmlldyAyJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmRwcmV2aWV3XFwuY29tLycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InJldmlld1BhZ2VzRHJvcGRvd24iXS9hL2ltZ1tAYWx0PSJOZXh0IHBhZ2UiXS8uLicsCiAgICAgICAgaW5zZXJ0QmVmb3JlOiAnaWQoImFtYXpvbkJ1eWJveENvbnRhaW5lciIpJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgibWFpbkNvbnRlbnQiKScsCiAgICAgICAgICAgIGZpbHRlcjogJ2NzczsucmV2aWV3TmF2aWdhdG9yVG9wLCAjYW1hem9uQnV5Ym94Q29udGFpbmVyLCAuYWQsICNjb21tZW50cywgLmJ1eWJveE9sZC5hbWF6b24nLAogICAgICAgICAgICAgICAgcmVsYXRlZE9iajogWydjc3M7ZGl2LnJldmlld05hdmlnYXRvckJvdHRvbScsJ2JvdHRvbSddLAogICAgICAgICAgICAgICAgSFRfaW5zZXJ0OiBbJ2lkKCJhbWF6b25CdXlib3hDb250YWluZXIiKScsMV0sCiAgICAgICAgfQogICAgfSwKCiAgICAvLy09PT09PT09PT09PT09PT09IOaJi+acuue9keermSA9PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHtuYW1lOiAn5omL5py655m+5bqm55m+56eRJywKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd2FwYmFpa2VcLmJhaWR1XC5jb21cLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd2FwYmFpa2UuYmFpZHUuY29tL2dvb2RsaXN0P3VpZD1GMzgxQ0NDRDZGRDJGNTgxNTFFRkZCNEE2M0JGQTRGRiZzc2lkPTAmcHU9c3olNDAxMzIxXzEwMDQmYmRfcGFnZV90eXBlPTEmZnJvbT04NDRiJnN0PTQmc3RlcD0yJm5ldD0xJmJrX2ZyPWJrX21vcmVfZ2xpc3QnLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXSB8IC8vZGl2W0BjbGFzcz0icGFnZSJdL3BbQGNsYXNzPSJuZXh0Il0vYVt0ZXh0KCk9IuS4i+mhtSJdIHwgLy90YWJsZVtAY2xhc3M9InRhYmxlIG5leHQiXS8vYVt0ZXh0KCk9IuS4i+mhtSJdIHwgLy9hW0BjbGFzcz0ibS1ybS01IiBhbmQgdGV4dCgpPSLkvZnkuIvlhajmlociXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJiZCJdIHwgLy9kaXZbQGNsYXNzPSJsaXN0Il0gfCBpZCgibGVtbWEtY29udGVudCIpJywKICAgICAgICAgICAgc2VwYXJhdG9yUmVhbDogZmFsc2UsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlID4gLnAtbnVtJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ+aJi+acuuixhueToycsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL21cLmRvdWJhblwuY29tXC8uKi9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vbS5kb3ViYW4uY29tL2Jvb2svc3ViamVjdC8xMDg4MDY1L3Jldmlld3M/c2Vzc2lvbj1jMGVhMTQxOScsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBnIiBvciBAY2xhc3M9InBhZ2luYXRvciJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoImJkIikvZGl2W0BjbGFzcz0iaXRtIl0gfCAvL2RpdltAY2xhc3M9ImJkIl0vZGl2W0BjbGFzcz0ibGlzdCJdJywKICAgICAgICAgICAgc2VwYXJhdG9yUmVhbDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmiYvmnLrmlrDmtarmlrDpl7snLAogICAgICAgIHVybDogL15odHRwOlwvXC9bYS16XStcLnNpbmFcLmNuXC9cP3NhPS9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vbmV3cy5zaW5hLmNuLz9zYT10MTI0ZDEwNjA4NjU1djcxJnBvcz0xMDgmdnQ9NCZjbGlja3RpbWU9MTM4NjI2NzIzODkxMCZ1c2VyaWQ9dXNlcjEzODYyNjcyMzg5MTAyNDA3NzI1MzgwMTU3NTk5MycsCiAgICAgICAgbmV4dExpbms6ICdpZCgial9sb2FkaW5nQnRuIiknLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJ2lkKCJqX2FydGljbGVDb250ZW50IiknLAogICAgICAgICAgICByZWxhdGVkT2JqOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5omL5py6572R5piT572RJywKICAgICAgICB1cmw6ICdeaHR0cDovLzNnXFwuMTYzXFwuY29tL1thLXpdKy8uKlxcLmh0bWwnLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vM2cuMTYzLmNvbS9uZXdzLzEzLzA5MTQvMDQvOThONENTSEkwMDAxMTI0Si5odG1sJywKICAgICAgICBuZXh0TGluazogWycvL2FbdGV4dCgpPSLkvZnkuIvlhajmlociXScsICcvL2FbdGV4dCgpPSLkuIvpobUiXSddLAogICAgICAgIGF1dG9wYWdlcjogewogICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0iY29udGVudCJdJywKICAgICAgICAgICAgLy8gc2VwYXJhdG9yOiBmYWxzZSwKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InJlc2V0IG1hclRvcDEwIGNCbHVlIl1bY2hpbGQ6OmFbdGV4dCgpPSLkuIvpobUiXV0gfCAvL2RpdltjaGlsZDo6Zm9ybVtAY2xhc3M9InJlc2V0Il1dJywKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmiYvmnLrlh6Tlh7DnvZEnLAogICAgICAgIHVybDogJ15odHRwOi8vM2dcXC5pZmVuZ1xcLmNvbS9bYS16XSsvJywKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovLzNnLjE2My5jb20vbmV3cy8xMy8wOTE0LzA0Lzk4TjRDU0hJMDAwMTEyNEouaHRtbCcsCiAgICAgICAgbmV4dExpbms6IFsnLy9hW3RleHQoKT0i5L2Z5LiL5YWo5paHIl0nLCAnLy9hW3RleHQoKT0i5LiL5LiA6aG1Il0nXSwKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2RpdltAY2xhc3M9Inp3d29yZCJdJywKICAgICAgICAgICAgLy8gc2VwYXJhdG9yOiBmYWxzZSwKICAgICAgICAgICAgcmVsYXRlZE9iajogdHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfmiYvmnLrnjq/nkIPnvZEnLAogICAgICAgIHVybDogJ15odHRwOi8vd2FwXFwuaHVhbnFpdVxcLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiBbJy8vYVt0ZXh0KCk9IuS9meS4i+WFqOaWhyJdJywgJy8vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdJ10sCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJuZXdzY29udCJdJywKICAgICAgICAgICAgLy8gc2VwYXJhdG9yOiBmYWxzZSwKICAgICAgICAgICAgc2VwYXJhdG9yUmVhbDogZmFsc2UsCiAgICAgICAgICAgIHJlbGF0ZWRPYmo6IHRydWUsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAnY25CZXRhLkNPTSAtIOenu+WKqOeJiCcsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL21cLmNuYmV0YVwuY29tXC8vaSwKICAgICAgICBleGFtcGxlVXJsOiAnaHR0cDovL20uY25iZXRhLmNvbS8nLAogICAgICAgIG5leHRMaW5rOiAnaWQoInl3MCIpL2FbQGNsYXNzPSJwYWdlLW5leHQiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXYvZGl2L2RpdltAY2xhc3M9Imxpc3QiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5omL5py654mITS5Cb29rTGluay5NZScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL21cLmJvb2tsaW5rXC5tZVwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9tLmJvb2tsaW5rLm1lL2NoYXJwdGVyLnBocD9zaXRlX2lkPTImYm9va19pZD02OTUwNycsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InNlYyBuYXYiXS9mb3JtL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnaWQoIm1fbWFpbiIpL3VsW0BjbGFzcz0ibGlzdCBzZWMiXScsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAn5byA5rqQ5Lit5Zu9KE9TQ2hpbmEuTkVUKScsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL21cLm9zY2hpbmFcLm5ldFwvL2ksCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9tLm9zY2hpbmEubmV0LycsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy91bFtAY2xhc3M9InVpLWxpc3R2aWV3Il0nLAogICAgICAgICAgICB1c2VpZnJhbWU6IHRydWUKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICfljZrlrqLlm63ljZrlrqLmiYvmnLrniYgnLAogICAgICAgIHVybDogL15odHRwOlwvXC9tXC5jbmJsb2dzXC5jb21cL2Jsb2dcLy9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vbS5jbmJsb2dzLmNvbS9ibG9nLycsCiAgICAgICAgbmV4dExpbms6ICcvL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJsaXN0X2l0ZW0iXScsCiAgICAgICAgfQogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PSBnb29nbGUg5YW25a6DPT09PT09PT09PT09PT09PT09PT09PQogICAge25hbWU6ICJHb29nbGUgQm9va21hcmtzIiwKICAgICAgICAidXJsIjogIl5odHRwcz86Ly93d3dcXC5nb29nbGVcXC4oPzpbXi5dezIsM31cXC4pP1teLi9dezIsM30vYm9va21hcmtzLyIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vZGl2W2NvbnRhaW5zKGNvbmNhdChcIiBcIiwgQGNsYXNzLCBcIiBcIiksIFwiIGtkLWJ1dHRvbmJhciBcIildLy90ci90ZFtsYXN0KCktMSBvciBsYXN0XS9hW2ltZ1tjb250YWlucyhAc3JjLFwicmlnaHQucG5nXCIpXV0iLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcInNlYXJjaFwiKSIKICAgIH0sCiAgICB7bmFtZTogIkdvb2dsZSBDb2RlIExpc3QiLAogICAgICAgIHVybDogIl5odHRwcz86Ly9jb2RlXFwuZ29vZ2xlXFwuY29tL1twcl0vKD86W14vXSsvKXsyfWxpc3QiLAogICAgICAgIG5leHRMaW5rOiAiaWQoXCJjb2xjb250cm9sXCIpLy9kaXZbY29udGFpbnMoY29uY2F0KFwiIFwiLCBAY2xhc3MsIFwiIFwiKSwgXCIgcGFnaW5hdGlvbiBcIildL2FbY29udGFpbnMoLiwgXCLigLpcIildIiwKICAgICAgICBwYWdlRWxlbWVudDogImlkKFwicmVzdWx0c3RhYmxlXCIpLy90ciIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cHM/Oi8vY29kZVxcLmdvb2dsZVxcLmNvbS9ob3N0aW5nL3NlYXJjaFxcPyIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwic2VycFwiKS9mb2xsb3dpbmc6OmFbY29udGFpbnMoLiwgXCJOZXh0XCIpXVsxXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwic2VycFwiKS8qIgogICAgfSwKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwOi8vW14uXStcXC5nb29nbGVcXC4oPzpbXi5dezIsM31cXC4pP1teLi9dezIsM30vY29kZXNlYXJjaCIsCiAgICAgICAgIm5leHRMaW5rIjogIihpZChcIm5hdmJhclwiKS8vdGRbQGNsYXNzPVwiYlwiXS9hKVtsYXN0KCldIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiLy8qW3NlbGY6OmRpdltAY2xhc3M9XCJoXCJdIG9yIHNlbGY6OnByZVtAY2xhc3M9XCJqXCJdIG9yIHNlbGY6OmRpdltAY2xhc3M9XCJmXCJdXSIsCiAgICAgICAgImluc2VydEJlZm9yZSI6ICJpZChcIm5hdmJhclwiKSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cHM/Oi8vZ3JvdXBzXFwuZ29vZ2xlKD86XFwuW14uL117MiwzfSl7MSwyfS9ncm91cHMvc2VhcmNoIiwKICAgICAgICAibmV4dExpbmsiOiAiaWQoXCJuYXZiYXJcIikvL3RkW2xhc3QoKV1bQGNsYXNzPVwiYlwiXS9hIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiaWQoXCJyZXNcIikvKltzZWxmOjpkaXYgb3Igc2VsZjo6YnJdIgogICAgfSwKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwOi8vc2Nob2xhclxcLmdvb2dsZVxcLig/OlteLl17MiwzfVxcLik/W14uL117MiwzfS9zY2hvbGFyIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9kaXZbY29udGFpbnMoY29uY2F0KFwiIFwiLCBAY2xhc3MsIFwiIFwiKSwgXCIgbiBcIildL3RhYmxlL3Rib2R5L3RyL3RkW2xhc3QoKV0vYXxpZChcImdzX25cIikvL3RhYmxlL3Rib2R5L3RyL3RkW3NwYW4gYW5kIGJdL2ZvbGxvd2luZy1zaWJsaW5nOjp0ZC9hIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiLy9mb3JtW0BuYW1lPVwiZ3NcIl0vZm9sbG93aW5nLXNpYmxpbmc6Om5vZGUoKVsgZm9sbG93aW5nOjpkaXZbY29udGFpbnMoY29uY2F0KFwiIFwiLCBAY2xhc3MsIFwiIFwiKSwgXCIgbiBcIildIF18aWQoXCJnc19jY2xcIikvZGl2W0BjbGFzcz1cImdzX3JcIl0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly8oPzpbXi5dK1xcLik/Z29vZ2xlXFwuKD86W14uXXsyLDN9XFwuKT9bXi4vXXsyLDN9L25ld3MiLAogICAgICAgICJuZXh0TGluayI6ICJpZChcImVuZC1uZXh0XCIpLy4uIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiaWQoXCJzZWFyY2gtc3RvcmllcyBzdG9yeS1hcnRpY2xlc1wiKSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cHM/Oi8vd3d3XFwuZ29vZ2xlXFwuKD86W14uXXsyLDN9XFwuKT9bXi4vXXsyLDN9L2hpc3RvcnkvIiwKICAgICAgICAibmV4dExpbmsiOiAiLy90ZFtAY2xhc3M9XCJibFwiXVtsYXN0KCktMV0vYXwvL2RpdltAY2xhc3M9XCJublwiXS9wYXJlbnQ6OmEiLAogICAgICAgICJwYWdlRWxlbWVudCI6ICIvL3RhYmxlW0BjbGFzcz1cInJlc1wiXSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cDovL3d3d1xcLmdvb2dsZVxcLlteLi9dezIsM30oPzpcXC5bXi4vXXsyLDN9KT8vbG9nb3MvIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9kaXZbQGNsYXNzPVwiYmFzZS1uYXZcIl0vL2FbY29udGFpbnMoLiwgXCLCq1wiKV0iLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcImRvb2RsZXNcIil8Ly9kaXZbY29udGFpbnMoY29uY2F0KFwiIFwiLCBAY2xhc3MsIFwiIFwiKSwgXCIgdGl0bGUgXCIpXSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cDovL2Jvb2tzXFwuZ29vZ2xlXFwuKD86W14uXXsyLDN9XFwuKT9bXi4vXXsyLDN9L2Jvb2tzIiwKICAgICAgICAibmV4dExpbmsiOiAiaWQoXCJuYXZiYXJcIikvL3NwYW5bQGNsYXNzPVwibmF2bGlua1wiXS9wYXJlbnQ6OmEiLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcIm1haW5fY29udGVudFwiKS8qIgogICAgfSwKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwcz86Ly9hcHBlbmdpbmVcXC5nb29nbGVcXC5jb20vZGF0YXN0b3JlL2V4cGxvcmVyXFw/LiIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwiYWUtZGF0YXN0b3JlLWV4cGxvcmVyXCIpLy9hW0BjbGFzcz1cImFlLXBhZ2luYXRlLW5leHRcIl0iLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcImFlLWRhdGFzdG9yZS1leHBsb3Jlci1lbnRpdGllc1wiKSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cHM/Oi8vKD86W14vXStcXC4pP2dvb2dsZSg/OlxcLlxcd3syLDN9KXsxLDJ9L21vdmllcyIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwicG5uZXh0XCIpfGlkKFwibmF2YmFyIG5hdmNudCBuYXZcIikvL3RkW3NwYW5dL2ZvbGxvd2luZy1zaWJsaW5nOjp0ZFsxXS9hfGlkKFwibm5cIikvcGFyZW50OjphIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiaWQoXCJtb3ZpZV9yZXN1bHRzXCIpLyoiCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHBzOi8vY2hyb21lXFwuZ29vZ2xlXFwuY29tL3dlYnN0b3JlLyg/Omxpc3R8c2VhcmNoKSIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vdGFibGVbQGNsYXNzPVwicGFnaW5hdG9yXCJdLy90ZFtsYXN0KCldL2EiLAogICAgICAgICJwYWdlRWxlbWVudCI6ICIvL2RpdltAY2xhc3M9XCJtb2QtZnVsbHBhZ2VcIl0vZGl2W0BjbGFzcz1cIm1vZC1ib2R5XCJdIgogICAgfSwKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwOi8vd3d3XFwuZ29vZ2xlXFwuY29tL2ludGwvamEvZ29vZ2xlYm9va3MvY2hyb21lLyIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwiaW5mb1wiKS9wW2NvbnRhaW5zKGNvbmNhdChcIiBcIixAY2xhc3MsXCIgXCIpLFwibmF2XCIpXS9hW2ltZ1tAc3JjPVwiaW1hZ2VzL2Fycm93cmlnaHQuZ2lmXCJdXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwicGFnZVwiKS9kaXZbYVtpbWddIG9yIGltZ10iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly9kZXNrdG9wXFwuZ29vZ2xlXFwuKD86W14uXXsyLDN9XFwuKT9bXi4vXXsyLDN9LyIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwiY29udGVudFwiKS90YWJsZVtAY2xhc3M9XCJoZWFkZXJcIl0vL2FbY29udGFpbnMoLiwgXCLCu1wiKV0iLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcImNvbnRlbnRcIikvKlsoc2VsZjo6dGFibGUgYW5kIEBjbGFzcz1cImdhZGdldFwiKSBvciAoc2VsZjo6YnIgYW5kIEBzdHlsZT1cImNsZWFyOiBib3RoO1wiKV0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly9za2V0Y2h1cFxcLmdvb2dsZVxcLmNvbS8zZHdhcmVob3VzZS9zZWFyY2hcXD8iLAogICAgICAgICJuZXh0TGluayI6ICIvL2RpdltAY2xhc3M9XCJwYWdlcl9uZXh0XCJdL3BhcmVudDo6YSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogIi8vZGl2W0BjbGFzcz1cInNlYXJjaHJlc3VsdFwiXS9hbmNlc3Rvcjo6dHJbMV0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHBzOi8vd3d3XFwuZ29vZ2xlXFwuY29tL2EvY3BhbmVsL1teL10rLyIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vdHIvL3VsW0BjbGFzcz1cImlubGluZWxpc3RcIl0vL2FbY29udGFpbnModGV4dCgpLFwi4oC6XCIpXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwibGlzdFwiKSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cDovL3d3d1xcLmdvb2dsZVxcLmNvbS9zdXBwb3J0L2ZvcnVtLyIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vZGl2W0BjbGFzcz1cIndwcGtyb290Q1NTXCJdL2FbY29udGFpbnModGV4dCgpLCBcIj5cIildIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiLy90YWJsZVtAY2xhc3M9XCJsY3RDU1NcIl0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly93d3dcXC5nb29nbGVcXC5jb20vcHJvZHVjdHNcXD8iLAogICAgICAgICJuZXh0TGluayI6ICJpZChcIm5uXCIpL3BhcmVudDo6YSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwicmVzdWx0c1wiKXxpZChcInJlc3VsdHNcIikvZm9sbG93aW5nLXNpYmxpbmc6OnBbQGNsYXNzPVwiY2xlYXJcIl0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly93d3dcXC5nb29nbGVcXC5jb20vcmV2aWV3cy90IiwKICAgICAgICAibmV4dExpbmsiOiAiLy9hW2NvbnRhaW5zKHRleHQoKSwgXCJOZXh0XCIpXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwiYWxscmVzdWx0c1wiKS90YWJsZSIsCiAgICAgICAgImluc2VydEJlZm9yZSI6ICIvL2Rpdltjb250YWlucyhjb25jYXQoXCIgXCIsIG5vcm1hbGl6ZS1zcGFjZShAY2xhc3MpLCBcIiBcIiksIFwiIHRfZnRyIFwiKV0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly93d3dcXC5nb29nbGVcXC5jb20vY3NlXFw/Y3g9IiwKICAgICAgICAibmV4dExpbmsiOiAiLy9kaXZbQGNsYXNzPSdnc2MtY3Vyc29yLXBhZ2UgZ3NjLWN1cnNvci1jdXJyZW50LXBhZ2UnXS9mb2xsb3dpbmctc2libGluZzo6bm9kZSgpWzFdIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiLy9kaXZbQGNsYXNzPSdnc2Mtd2ViUmVzdWx0IGdzYy1yZXN1bHQnXSIsCiAgICAgICAgImluc2VydEJlZm9yZSI6ICIvL2RpdltAY2xhc3M9J2dzYy1jdXJzb3ItYm94IGdzLWJpZGktc3RhcnQtYWxpZ24nXSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cDovL3d3d1xcLmdvb2dsZSg/OlxcLlteLi9dezIsM30pezEsMn0vbVxcPy4iLAogICAgICAgICJuZXh0TGluayI6ICIvLypbc3RhcnRzLXdpdGgodGV4dCgpLCBcIk5leHQgcGFnZVwiKSBvciBzdGFydHMtd2l0aCh0ZXh0KCksIFwi5qyh44Gu44Oa44O844K4XCIpXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogImlkKFwidW5pdmVyc2FsXCIpL2Rpdltub3QoQCopXSIsCiAgICAgICAgImluc2VydEJlZm9yZSI6ICJpZChcInVuaXZlcnNhbFwiKS8qW0BjbGFzc11bbGFzdCgpXSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cDovL2ZvbGxvd2ZpbmRlclxcLmdvb2dsZWxhYnNcXC5jb20vc2VhcmNoIiwKICAgICAgICAibmV4dExpbmsiOiAiLy90ZFtAY2xhc3M9XCJtb3JlXCJdLy9hW2xhc3QoKV0iLAogICAgICAgICJwYWdlRWxlbWVudCI6ICIvL3RhYmxlLy90clsvL2Rpdl0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly93d3dcXC5nb29nbGVsYWJzXFwuY29tLyIsCiAgICAgICAgIm5leHRMaW5rIjogImlkKFwibmF2XCIpLy90ZFtAY2xhc3M9XCJjdXJcIl0vZm9sbG93aW5nLXNpYmxpbmc6OnRkWzFdL2EiLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcIm5hdlwiKS9wcmVjZWRpbmctc2libGluZzo6dWwiCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gZ2l0aHViID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7bmFtZTogImdpdGh1YiBtaXgiLAogICAgICAgICJ1cmwiOiAiXmh0dHBzPzovL2dpdGh1YlxcLmNvbS8oPzpkYXNoYm9hcmR8KD86dGltZWxpbmV8W14vXSsvW14vXSsvKD86Y29tbWVudHN8bmV0d29yay9mZWVkKSkpIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9hW0Bob3RrZXk9XCJsXCJdfC8vZGl2W2NvbnRhaW5zKGNvbmNhdChcIiBcIixAY2xhc3MsXCIgXCIpLFwiIHBhZ2luYXRpb24gXCIpXS9hIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiLy9kaXZbQGNsYXNzPVwibmV3c1wiXS9kaXZbY29udGFpbnMoQGNsYXNzLCBcImFsZXJ0XCIpXSIKICAgIH0sCiAgICB7bmFtZTogImdpdGh1YiDmkJzntKIiLAogICAgICAgIHVybDogIl5odHRwcz86Ly9naXRodWJcXC5jb20vc2VhcmNoIiwKICAgICAgICBuZXh0TGluazogIi8vZGl2W0BjbGFzcz0ncGFnaW5hdGlvbiddL2FbQHJlbD0nbmV4dCddIiwKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICJpZCgnY29kZV9zZWFyY2hfcmVzdWx0cyBpc3N1ZV9zZWFyY2hfcmVzdWx0cycpfC8vZGl2W0BjbGFzcz0nc29ydC1iYXInXS9mb2xsb3dpbmctc2libGluZzo6Kltmb2xsb3dpbmctc2libGluZzo6c3BhbltAY2xhc3M9J3NlYXJjaC1mb290LW5vdGUnXV0iLAogICAgICAgICAgICBpbnNlcnRCZWZvcmU6ICIvL2RpdltAY2xhc3M9J3BhZ2luYXRpb24nXSIsCiAgICAgICAgICAgIHN0eWxpc2g6ICdsaS5yZXBvLWxpc3QtaXRlbSB7IHRleHQtYWxpZ246IGxlZnQ7IH0nCiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwcz86Ly9naXN0XFwuZ2l0aHViXFwuY29tLyIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vZGl2W2NvbnRhaW5zKGNvbmNhdChcIiBcIiwgQGNsYXNzLCBcIiBcIiksIFwiIHBhZ2luYXRpb24gXCIpXS9hW2NvbnRhaW5zKHRleHQoKSxcIk9sZGVyXCIpXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogIi8vZGl2W2NvbnRhaW5zKGNvbmNhdChcIiBcIiwgQGNsYXNzLCBcIiBcIiksIFwiIGdpc3QtaXRlbSBcIildIgogICAgfSwKICAgICAgICAvLyDmnInngrnlsI/pl67popjvvIzpnIDopoHliLfmlrDkuIvmiY3mnInnlKgKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwcz86Ly9naXRodWJcXC5jb20vKD86Y2hhbmdlbG9nfFteL10rL1teL10rL2NvbW1pdHMpIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9hW2NvbnRhaW5zKHRleHQoKSwgXCJPbGRlclwiKV0iLAogICAgICAgICJwYWdlRWxlbWVudCI6ICIvLypbc3RhcnRzLXdpdGgoQGNsYXNzLFwiY29tbWl0LWdyb3VwXCIpXSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cHM/Oi8vZ2l0aHViXFwuY29tL1teL10rL1teL10rL3dhdGNoZXJzIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9kaXZbQGNsYXNzPVwicGFnaW5hdGlvblwiXS9zcGFuW0BjbGFzcz1cImN1cnJlbnRcIl0vZm9sbG93aW5nLXNpYmxpbmc6OmEiLAogICAgICAgICJwYWdlRWxlbWVudCI6ICJpZChcIndhdGNoZXJzXCIpIgogICAgfSwKICAgIHsKICAgICAgICAidXJsIjogIl5odHRwcz86Ly9naXRodWJcXC5jb20vW14vXSsvZm9sbG93aW5nIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9hW2hvdGtleT0nbCddIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiaWQoXCJ3YXRjaGVyc1wiKSIKICAgIH0sCiAgICB7CiAgICAgICAgInVybCI6ICJeaHR0cDovL2xlYXJuXFwuZ2l0aHViXFwuY29tL3AvIiwKICAgICAgICAibmV4dExpbmsiOiAiLy9hW2NvbnRhaW5zKHRleHQoKSwgXCJuZXh0XCIpXSIsCiAgICAgICAgInBhZ2VFbGVtZW50IjogIi8vZGl2W0BjbGFzcz1cImNvbnRhaW5lclwiXS9kaXZbQGlkPVwid2VsY29tZVwiIG9yIEBjbGFzcz1cImNvbnRlbnRcIl0iCiAgICB9LAogICAgewogICAgICAgICJ1cmwiOiAiXmh0dHA6Ly9naXRodWJcXC5jb20vYmxvZyIsCiAgICAgICAgIm5leHRMaW5rIjogIi8vZGl2W2NvbnRhaW5zKGNvbmNhdChcIiBcIixAY2xhc3MsXCIgXCIpLFwiIHBhZ2luYXRpb24gXCIpXS9hW2NvbnRhaW5zKHRleHQoKSxcIk5leHRcIildIiwKICAgICAgICAicGFnZUVsZW1lbnQiOiAiaWQoXCJwb3N0c1wiKS9kaXZbY29udGFpbnMoY29uY2F0KFwiIFwiLEBjbGFzcyxcIiBcIiksXCIgbGlzdCBcIildL3VsL2xpIgogICAgfSwKCiAgICAvLyA9PT09PT09PT0g5b6I5bCR55So55qEID09PT09PT09PT09PT09PT0KICAgIHtuYW1lOiAnYm9va2Nvb2wt5bCP6K+05ZCI6ZuGJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLmJvb2tjb29sXFwuY29tLy4qXFwuaHRtJywKICAgICAgICBuZXh0TGluazogJy8vZGl2W0BpZD0ib2JqZWN0MSJdL2Rlc2NlbmRhbnQ6OmFbbGFzdCgpXVtAaHJlZl0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGFsaWduPSJjZW50ZXIiXS90YWJsZVtAd2lkdGggIT0iMTAwJSJdJywKICAgIH0sCiAgICB7bmFtZTogJ0hhY2hpeWEgTWFrb3RvJywKICAgICAgICB1cmw6ICdeaHR0cDovL2dcXC5lLWhlbnRhaVxcLm9yZy9zLy4qJCcsCiAgICAgICAgbmV4dExpbms6ICcvL2ltZ1tAc3JjPSJodHRwOi8vZWhndC5vcmcvZy9uLnBuZyJdLy4uJywKICAgICAgICBwYWdlRWxlbWVudDogJy8vYm9keS9kaXZbQGNsYXNzPSJzbmkiXScsCiAgICAgICAgZXhhbXBsZVVybDogJ2h0dHA6Ly9nLmUtaGVudGFpLm9yZy9zLzIyMjFhNzhmZTIvNTkyNzQ0LTMnLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZQogICAgfSwKXTsKCi8v57uf6YWN6KeE5YiZLi7nlKjmnaXnga3mjonkuIDkuptEWi7miJbogIVwaHB3aW5k6K665Z2b57O757ufLi7mraTnu4Top4TliJkuLuS8mOWFiOe6p+iHquWKqOmZjeS4uuacgOS9ji4uCnZhciBTSVRFSU5GT19UUD1bCiAgICB7bmFtZTogJ0Rpc2N1eiDorrrlnZsgLSDmkJzntKInLAogICAgICAgIHVybDogJ15odHRwcz86Ly9iYnNcXC5bYS16XStcXC5jbi9zZWFyY2hcXC5waHBcXD9tb2Q9Zm9ydW0nLAogICAgICAgIHByZUxpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIiBvciBAY2xhc3M9InBnIl0vZGVzY2VuZGFudDo6YVtAY2xhc3M9InByZXYiXVtAaHJlZl0nLAogICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyIgb3IgQGNsYXNzPSJwZyJdL2Rlc2NlbmRhbnQ6OmFbQGNsYXNzPSJuZXh0IiBvciBAY2xhc3M9Im54dCJdW0BocmVmXScsCiAgICAgICAgYXV0b3BhZ2VyOiB7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9InRocmVhZGxpc3QiXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwZyJdW2NoaWxkOjphW0BjbGFzcz0ibnh0Il1dJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogIkRpc2N1eiDorrrlnZsgLSDlr7zor7siLAogICAgICAgIHVybDogL15odHRwcz86XC9cLyg/OmJic3x1KVwuW15cL10rXC8oPzpmb3J1bVwucGhwXD9tb2Q9Z3VpZGV8aG9tZVwucGhwXD9tb2Q9c3BhY2UpL2ksCiAgICAgICAgcHJlTGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiIG9yIEBjbGFzcz0icGciXS9kZXNjZW5kYW50OjphW0BjbGFzcz0icHJldiJdW0BocmVmXScsCiAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIiBvciBAY2xhc3M9InBnIl0vZGVzY2VuZGFudDo6YVtAY2xhc3M9Im5leHQiIG9yIEBjbGFzcz0ibnh0Il1bQGhyZWZdJywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICIvL2RpdltAaWQ9J3Bvc3RsaXN0J10gfCAvL2Zvcm1bQG1ldGhvZD0ncG9zdCddW0BuYW1lXSB8IC8vZGl2W0BpZD0ndGhyZWFkbGlzdCddL2RpdltAY2xhc3M9J2JtX2MnXSB8IC8vZGl2W0BjbGFzcz0neGxkIHhsZGEnXSIsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwZyJdW2NoaWxkOjphW0BjbGFzcz0ibnh0Il1dJwogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ0Rpc2N1euiuuuWdm+WIl+ihqCcsCiAgICAgICAgdXJsOi9eaHR0cHM/OlwvXC8oPzp3d3dcLlteXC9dK1wvfFteXC9dK1wvKD86YmJzXC8pPykoPzoyYlwvKT8oPzooPzpmb3J1bSl8KD86c2hvd2ZvcnVtKXwoPzp2aWV3Zm9ydW0pfCg/OmZvcnVtZGlzcGxheSkpKy9pLAogICAgICAgIHByZUxpbms6Jy8vZGl2W0BjbGFzcz0icGFnZXMiIG9yIEBjbGFzcz0icGciXS9kZXNjZW5kYW50OjphW0BjbGFzcz0icHJldiJdW0BocmVmXScsCiAgICAgICAgbmV4dExpbms6Jy8vZGl2W0BjbGFzcz0icGFnZXMiIG9yIEBjbGFzcz0icGciXS9kZXNjZW5kYW50OjphW0BjbGFzcz0ibmV4dCIgb3IgQGNsYXNzPSJueHQiXVtAaHJlZl0gfCAvL2RpdltAY2xhc3M9InBfYmFyIl0vYVtAY2xhc3M9InBfY3VycGFnZSJdL2ZvbGxvd2luZy1zaWJsaW5nOjphW0BjbGFzcz0icF9udW0iXScsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6Jy8vZm9ybVtAbWV0aG9kPSJwb3N0Il1bQG5hbWVdIHwgLy9kaXZbQGlkPSJwb3N0bGlzdCJdJywKICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2RpdltAY2xhc3M9InBhZ2VzIiBvciBAY2xhc3M9InBnIl1bY2hpbGQ6OmFbQGNsYXNzPSJuZXh0IiBvciBAY2xhc3M9Im54dCJdW0BocmVmXV0nLAogICAgICAgICAgICBsYXp5SW1nU3JjOiAnZmlsZXxwYWdlc3BlZWRfbHNjX3VybCcKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdEaXNjdXrorrrlnZvluJblrZAnLAogICAgICAgIHVybDovaHR0cHM/OlwvXC8oPzp3d3dcLlteXC9dK1wvfFteXC9dK1wvKD86YmJzXC8pPykoPzoyYlwvKT8oPzooPzp0aHJlYWQpfCg/OnZpZXd0aHJlYWQpfCg/OnNob3d0b3BpYyl8KD86dmlld3RvcGljKSkrL2ksCiAgICAgICAgcHJlTGluazonLy9kaXZbQGNsYXNzPSJwYWdlcyIgb3IgQGNsYXNzPSJwZyJdL2Rlc2NlbmRhbnQ6OmFbQGNsYXNzPSJwcmV2Il1bQGhyZWZdJywKICAgICAgICBuZXh0TGluazonLy9kaXZbQGNsYXNzPSJwYWdlcyIgb3IgQGNsYXNzPSJwZyJdL2Rlc2NlbmRhbnQ6OmFbQGNsYXNzPSJuZXh0IiBvciBAY2xhc3M9Im54dCJdW0BocmVmXSB8IC8vZGl2W0BjbGFzcz0icF9iYXIiXS9kZXNjZW5kYW50OjphW3RleHQoKT0i4oC64oC6Il0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAaWQ9InBvc3RsaXN0Il0gfCAvL2Zvcm1bQG1ldGhvZD0icG9zdCJdW0BuYW1lXScsCiAgICAgICAgICAgIHJlcGxhY2VFOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyIgb3IgQGNsYXNzPSJwZyJdW2NoaWxkOjphW0BjbGFzcz0ibmV4dCIgb3IgQGNsYXNzPSJueHQiXVtAaHJlZl1dJywKICAgICAgICAgICAgbGF6eUltZ1NyYzogJ3pvb21maWxlJywKICAgICAgICAgICAgc3R5bGlzaDogJy5tYmJzX2NvZGV7Zm9udC1mYW1pbHk6TW9uYWNvLENvbnNvbGFzLCJMdWNpZGEgQ29uc29sZSIsIkNvdXJpZXIgTmV3IixzZXJpZjtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxLjhlbTtsaXN0LXN0eWxlLXR5cGU6ZGVjaW1hbC1sZWFkaW5nLXplcm87cGFkZGluZy1sZWZ0OjEwcHg7YmFja2dyb3VuZDpub25lIHJlcGVhdCBzY3JvbGwgMCAwICNmN2Y3Zjc7Y29sb3I6IzY2Njtib3JkZXI6MXB4IHNvbGlkICNjY2M7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MTBweCAwIDVweCAxMHB4fScsCiAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24ocGFnZXMpewogICAgICAgICAgICAgICAgLy8g5Zue5aSN5ZCO5o+S5YWl5Yiw5pyA5ZCO5LiA6aG1CiAgICAgICAgICAgICAgICB2YXIgcmVwbGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNwb3N0bGlzdHJlcGx5Iik7CiAgICAgICAgICAgICAgICBpZihyZXBsYXlzLmxlbmd0aCA+IDEpewogICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IHJlcGxheXNbMF07CiAgICAgICAgICAgICAgICAgICAgZmlyc3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaXJzdCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g5Zyo5Y2h6aWt6K665Z2b5aaC5p6c5LiN5a2Y5Zyo77yM5Lya5o+Q56S677yM5omA5Lul6buY6K6k56aB55SoCiAgICAgICAgICAgICAgICAvLyB2YXIgU3ludGF4SGlnaGxpZ2h0ZXIgPSB1bnNhZmVXaW5kb3cuU3ludGF4SGlnaGxpZ2h0ZXI7CiAgICAgICAgICAgICAgICAvLyBpZiAoU3ludGF4SGlnaGxpZ2h0ZXIgJiYgU3ludGF4SGlnaGxpZ2h0ZXIuaGlnaGxpZ2h0KSB7CiAgICAgICAgICAgICAgICAvLyAgICAgU3ludGF4SGlnaGxpZ2h0ZXIuaGlnaGxpZ2h0KCk7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvY3VtZW50RmlsdGVyOiBmdW5jdGlvbihkb2MpIHsKICAgICAgICAgICAgICAgIC8vIOWNoemlreiuuuWdm+eahOS4i+S4gOmhteS7o+eggeWMuuWfn+WPr+iDveaXoOazleedgOiJsu+8jOaJgOS7peaJi+WKqOS/ruaUueW5tua3u+WKoOagt+W8jwogICAgICAgICAgICAgICAgdmFyIHByZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgncHJlW2NsYXNzXj0iYnJ1c2g6Il0nKTsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChwcmVzLCBmdW5jdGlvbihwcmUpewogICAgICAgICAgICAgICAgICAgIHByZS5jbGFzc0xpc3QuYWRkKCdtYmJzX2NvZGUnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAncGhwV2luZOiuuuWdm+WIl+ihqCcsCiAgICAgICAgdXJsOi9eaHR0cHM/OlwvXC8oPzp3d3dcLlteXC9dK1wvfFteXC9dK1wvKD86YmJzXC8pPyk/dGhyZWFkL2ksCiAgICAgICAgcHJlTGluazonLy9kaXZbc3RhcnRzLXdpdGgoQGNsYXNzLCJwYWdlcyIpXS9iWzFdL3ByZWNlZGluZy1zaWJsaW5nOjphWzFdW25vdChAY2xhc3MpXVtAaHJlZl0gfCAvL2RpdltzdGFydHMtd2l0aChAY2xhc3MsInBhZ2VzIildL3VsWzFdL2xpW2JdL3ByZWNlZGluZy1zaWJsaW5nOjpsaS9hWzFdW25vdChAY2xhc3MpXVtAaHJlZl0nLAogICAgICAgIG5leHRMaW5rOicvL2RpdltzdGFydHMtd2l0aChAY2xhc3MsInBhZ2VzIildL2JbMV0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bbm90KEBjbGFzcyldIHwgLy9kaXZbc3RhcnRzLXdpdGgoQGNsYXNzLCJwYWdlcyIpXS91bFsxXS9saVtiXS9mb2xsb3dpbmctc2libGluZzo6bGkvYVsxXVtub3QoQGNsYXNzKV0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9InQgeiJdIHwgLy9kaXZbQGNsYXNzPSJ6Il0gfCAvL2RpdltAaWQ9ImFqYXh0YWJsZSJdJywKICAgICAgICB9CiAgICB9LAogICAge25hbWU6ICdwaHBXaW5k6K665Z2b5biW5a2QJywKICAgICAgICB1cmw6L15odHRwcz86XC9cLyg/Ond3d1wuW15cL10rXC98W15cL10rXC8oPzpiYnNcLyk/KT9yZWFkL2ksCiAgICAgICAgcHJlTGluazonLy9kaXZbc3RhcnRzLXdpdGgoQGNsYXNzLCJwYWdlcyIpXS9iWzFdL3ByZWNlZGluZy1zaWJsaW5nOjphWzFdW25vdChAY2xhc3MpXVtAaHJlZl0gfCAvL2RpdltzdGFydHMtd2l0aChAY2xhc3MsInBhZ2VzIildL3VsWzFdL2xpW2JdL3ByZWNlZGluZy1zaWJsaW5nOjpsaS9hWzFdW25vdChAY2xhc3MpXVtAaHJlZl0nLAogICAgICAgIG5leHRMaW5rOicvL2RpdltzdGFydHMtd2l0aChAY2xhc3MsInBhZ2VzIildL2JbMV0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bbm90KEBjbGFzcyldIHwgLy9kaXZbc3RhcnRzLXdpdGgoQGNsYXNzLCJwYWdlcyIpXS91bFsxXS9saVtiXS9mb2xsb3dpbmctc2libGluZzo6bGkvYVsxXVtub3QoQGNsYXNzKV0nLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIHBhZ2VFbGVtZW50OicvL2RpdltAY2xhc3M9InQ1Il0gfCAvL2RpdltAY2xhc3M9InJlYWRfdCJdIHwgLy9kaXZbQGlkPSJwd19jb250ZW50Il0nLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ3BocEJC5YiX6KGoJywKICAgICAgICB1cmw6L15odHRwcz86XC9cL1teXC9dKyhcL1thLXosMC05XSspP1wvdmlld2ZvcnVtL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuZmlyZWZveC5uZXQuY24vZm9ydW0vdmlld2ZvcnVtLnBocD9mPTQnLAogICAgICAgIG5leHRMaW5rOidhdXRvOycsCiAgICAgICAgYXV0b3BhZ2VyOnsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6JygvL2RpdltAaWQ9InBhZ2UtYm9keSJdL2RpdltAY2xhc3M9ImZvcnVtYmciXXwvL3RhYmxlW0BjbGFzcz0iZm9ydW1saW5lIl18Ly90YWJsZVtAY2xhc3M9InRhYmxlYmciXSknLAogICAgICAgICAgICAvL3JlcGxhY2VFOicvL2ZpbGRzZXRbQGNsYXNzPSJkaXNwbGF5LW9wdGlvbnMiKV0nLAogICAgICAgICAgICByZW1haW46MS8zLAogICAgICAgIH0KICAgIH0sCiAgICB7bmFtZTogJ3BocEJC5biW5a2QJywKICAgICAgICB1cmw6L15odHRwcz86XC9cL1teXC9dKyhcL1thLXosMC05XSspP1wvdmlld3RvcGljL2ksCiAgICAgICAgc2l0ZUV4YW1wbGU6J2h0dHA6Ly93d3cuZmlyZWZveC5uZXQuY24vZm9ydW0vdmlld3RvcGljLnBocD90PTM0MzM5JywKICAgICAgICBuZXh0TGluazonYXV0bzsnLAogICAgICAgIGF1dG9wYWdlcjp7CiAgICAgICAgICAgIC8vcGFnZUVsZW1lbnQ6Jy8vZGl2W0BpZD0icGFnZS1ib2R5Il0nLAogICAgICAgICAgICBwYWdlRWxlbWVudDonKC8vZGl2W0BpZD0icGFnZS1ib2R5Il0vZGl2W2NvbnRhaW5zKEBjbGFzcywicG9zdCIpXXwvL3RhYmxlW0BjbGFzcz0iZm9ydW1saW5lIl18Ly90YWJsZVtAY2xhc3M9InRhYmxlYmciXSknLAogICAgICAgICAgICAvL3JlcGxhY2VFOiIvL2ZpbGRzZXRbQGNsYXNzPSdkaXNwbGF5LW9wdGlvbnMnXSIsCiAgICAgICAgfQogICAgfSwKICAgIHtuYW1lOiAncGhwQkIgU2VhcmNoJywKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC9mb3J1bVwuW15cL10rXC9zZWFyY2hcLnBocC9pLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vZm9ydW0uZXZlcmVkaXQubmV0L3NlYXJjaC5waHA/a2V5d29yZHM9JUU1JUE0JUE3JUU3JUJBJUIyJywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBhdXRvcGFnZXI6IHsKICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicGFnZS1ib2R5IikvZGl2W3N0YXJ0cy13aXRoKEBjbGFzcywgInNlYXJjaCBwb3N0IildJywKICAgICAgICAgICAgcmVwbGFjZUU6ICdpZCgicGFnZS1ib2R5IikvdWxbQGNsYXNzPSJsaW5rbGlzdCJdJwogICAgICAgIH0KICAgIH0sCl07CgovL+WFvOWuuSBvYXV0b3BhZ2Vy55qE6KeE5YiZ5pS+5Zyo6L+Z6YeMLOatpOinhOWImee7hC4u5LyY5YWI57qn5pyA5L2OKOavlOe7n+mFjeinhOWImei/mOS9jikuLgovL+aJgOS7peivtOWwvemHj+S4jeimgeaUvuinhOWImeWcqOi/meS4que7hOmHjOmdoi4KdmFyIFNJVEVJTkZPX2NvbXA9WwogICAge25hbWU6ICdkaXNjdXrorrrlnZvpgJrnlKjmkJzntKInLAogICAgICAgIHVybDogJ15odHRwOi8vW14vXSsvZi8oPzpkaXNjdXp8c2VhcmNoKScsCiAgICAgICAgbmV4dExpbms6ICdhdXRvOycsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgicmVzdWx0LWl0ZW1zIiknLAogICAgfSwKICAgIHtuYW1lOiAnVmlldyBmb3J1bSAtIOmAmueUqCcsCiAgICAgICAgdXJsOiAnXmh0dHBzPzovLy4rPy92aWV3Zm9ydW1cXC5waHBcXD8nLAogICAgICAgIG5leHRMaW5rOiAnLy9zcGFuW0BjbGFzcz0iZ2Vuc21hbGwiXS9iL2IvZm9sbG93aW5nLXNpYmxpbmc6OmFbMV0gfCAoLy90YWJsZS90Ym9keS90ci90ZFtAY2xhc3M9Im5hdiJdKVtsYXN0KCldL2JbbGFzdCgpXS9mb2xsb3dpbmctc2libGluZzo6YVsxXSAgfCAvL2RpdltAY2xhc3M9InBhZ2luYXRpb24iXS9zcGFuL3N0cm9uZy9mb2xsb3dpbmctc2libGluZzo6YVsxXSB8IC8vYVt0ZXh0KCk9Ik5leHQiXScsCiAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL3VsW2NvbnRhaW5zKGNvbmNhdCgiICIsQGNsYXNzLCIgIiksIiB0b3BpY3MgIildfC8vZm9ybVt0YWJsZS9AY2xhc3M9ImZvcnVtbGluZSJdJywKICAgIH0sCiAgICB7bmFtZTogJ3dpa2kg6YCa55SoJywKICAgICAgICB1cmw6ICcuXFw/KD86LismKT9zZWFyY2g9JywKICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im13LW5leHRsaW5rIl0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy91bFtAY2xhc3M9Im13LXNlYXJjaC1yZXN1bHRzIl0nLAogICAgfSwKICAgIHtuYW1lOiAn6YCa55SoIEZvcnVtIOinhOWImTEnLAogICAgICAgIHVybDogJ15odHRwcz86Ly8uKigoc2hvd3RocmVhZFxcLnBocFxcPyl8KGZvcnVtfHRocmVhZCkpJywKICAgICAgICBuZXh0TGluazogJy8vYVtAcmVsPSJuZXh0Il0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGlkPSJwb3N0cyJdfC8vb2xbQGlkPSJwb3N0cyJdL2xpJywKICAgICAgICBzZXBhcmF0b3JSZWFsOiBmYWxzZQogICAgfSwKICAgIHtuYW1lOiAn6YCa55SoIEZvcnVtIOinhOWImTInLAogICAgICAgIHVybDogJ15odHRwcz86Ly9bXj8jXSs/L3Nob3d0aHJlYWRcXC5waHBcXD8nLAogICAgICAgIG5leHRMaW5rOiAnLy90cltAdmFsaWduPSJ0b3AiXS8vZGl2W0BjbGFzcz0icGFnZW5hdiJdLy9hW2NvbnRhaW5zKHRleHQoKSwgIj4iKV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnKC8vZGl2W0BjbGFzcz0icGFnZW5hdiJdKVsxXXwvL2RpdltAaWQ9InBvc3RzIl0vbm9kZSgpJywKICAgICAgICBzZXBhcmF0b3JSZWFsOiBmYWxzZQogICAgfSwKICAgIHtuYW1lOiAn6YCa55SoIEZvcnVtIOinhOWImTMnLAogICAgICAgIHVybDogJ15odHRwcz86Ly8uKigoZm9ydW1kaXNwbGF5XFwucGhwXFw/KXxmb3J1bSknLAogICAgICAgIG5leHRMaW5rOiAnLy9hW0ByZWw9Im5leHQiIG9yICh0ZXh0KCk9Ij4iKV0nLAogICAgICAgIHBhZ2VFbGVtZW50OiAnLy90Ym9keVtzdGFydHMtd2l0aChAaWQsInRocmVhZGJpdHNfZm9ydW1fIildL3RyW3RkW2NvbnRhaW5zKEBpZCwidGRfdGhyZWFkdGl0bGUiKV0gYW5kIG5vdCh0ZC9kaXYvdGV4dCgpW2NvbnRhaW5zKC4sIlN0aWNreToiKV0pXXwvL29sW0BpZD0idGhyZWFkcyIgYW5kIEBjbGFzcz0idGhyZWFkcyJdL2xpJywKICAgICAgICBzZXBhcmF0b3JSZWFsOiBmYWxzZQogICAgfSwKICAgIHtuYW1lOiAnUEhQV2luZCA1LjMuMCAvIDYuMC4wIC8gNi4zLjIgLyA3LjAuMCAvIDcuNS4wIC0gVmlldyBUaHJlYWQnLAogICAgICAgIHVybDogJ15odHRwcz86Ly8uKy9yZWFkXFwucGhwXFw/Lip0aWQoKD1bMC05XSsuKil8KC1bMC05XSsuKlxcLmh0bWw/KSkkJywKICAgICAgICBuZXh0TGluazogJ2F1dG87JywKICAgICAgICBwYWdlRWxlbWVudDogJy8vZm9ybVtAbmFtZT0iZGVsYXRjIl0nLAogICAgICAgIGV4YW1wbGVVcmw6ICdodHRwOi8vd3d3Lnl5ZHpoLmNvbS9yZWFkLnBocD90aWQ9MTU4NDAxMycsCiAgICB9LApdOwoKLy/liIbpobXlr7zoiKrnmoQ25Liq5Zu+5qCHOgp2YXIgc2VwX2ljb25zPXsKICAgIHRvcDonZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCWUFBQUFXQ0FZQUFBREV0R3c3QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkogIGJXRm5aVkpsWVdSNWNjbGxQQUFBQXlCcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHAgIGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTYgIGVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXogIE5EYzNOeXdnTWpBeE1DOHdNaTh4TWkweE56b3pNam93TUNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm8gIGRIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHcgIGRHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXYgIElpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlMgIFpXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcEQgIGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JYYVc1a2IzZHpJaUI0YlhCTlRUcEpibk4wWVc1alpVbEUgIFBTSjRiWEF1YVdsa09qTTNOa1EyTVRGRk9UVXlOakV4UkVaQk5rUkdPRVZHUTBKRE5rTTBSRFUzSWlCNGJYQk5UVHBFYjJOMWJXVnUgIGRFbEVQU0o0YlhBdVpHbGtPak0zTmtRMk1URkdPVFV5TmpFeFJFWkJOa1JHT0VWR1EwSkROa00wUkRVM0lqNGdQSGh0Y0UxTk9rUmwgIGNtbDJaV1JHY205dElITjBVbVZtT21sdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk16YzJSRFl4TVVNNU5USTJNVEZFUmtFMlJFWTQgIFJVWkRRa00yUXpSRU5UY2lJSE4wVW1WbU9tUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZNemMyUkRZeE1VUTVOVEkyTVRGRVJrRTIgIFJFWTRSVVpEUWtNMlF6UkVOVGNpTHo0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWwgIGRHRStJRHcvZUhCaFkydGxkQ0JsYm1ROUluSWlQejdic28vVkFBQUN4RWxFUVZSNDJyU1VTMGlVVVJUSC8vZCtqOUVwcFNSdENqRWkgIHcwRWhqUjZrSXlVcFdpbEZwYlVUZWkxYXVNb2VsbEFRWkZTYlZya1FpbHBsaFpDOUlLeU5RZzhDWFZRS1ppZ2FPZ29qTmRnM2orKzcgIG5UdGpBelBxVEk1MFp1N2NlK2VjODd2bm5QdGdRZ2hJY1ozVnhpR3dHa3NSaG9tZW13R0hIS3FSUHdsNit1akZKWEh2UEx3V0NVeU4gIFZUN3F2WjRVdEs3b1F0UThDaXpMVWx0NGZyNFU2Y3RtRXhQeVo0NzhMZWxjTU1OSWEzdkwybmtyUjdLbnZFYVIvYXV1WjJha2VITXQgIGYwU0dzU3ZGU3VrNXJXT3pzMlJ2WG02K3pSSkJEQXgrOGZVTmZIalpmU053TUo0Zmo2ZWtrOUtVNDloWXVhWEFaZnM0L0J6dmh6dFIgIDZOeG15ODVhWHlsMVNZRmRqVnJWaXVXcm1xdExqOWg3UjE4aktQd0ltRDZDUDBWNWNZMDlmZG5LWm1tektEQTU1S3FxcmIydTRvUjkgIHlOT0hYejRQVkVXRGJ0UGhOU2ZSNytsR3plNDZ1NmJwN2RMMm44QmttTVk0dW1yTGo2WE5DQThtZm40UFEzVWROZ0p6R3pBMjh4blQgIDFnaXFkaDRJMlVxZnVHQXlZR1RZVWJIOTBKck1EQWNibXVxRndsV0NhaUdveFF3b21vQ21jM3oxdkVWNlJncmJVVlRta0Q3U2QrR0kgIEdWbzI1UmE3dGpwM2FmM3VkMUM1RGszVlE5RmF6SStnWWtBbHFLcXpVUC9KM1luOHZBSTlOOGRaSW4yalVKRzNvbEU3bkoyMTRjR3AgIC9VMnBNblZUbUxDc0lONE0zVU1BWHJqOWcxQjBBVVhsb0FpeGI5MFowZ3RZcG9CaCtQRDR4ZjJacWVtSitwNWJnU2RSRjRTTUcwYmQgIDMxSXZ0NTBNenhVWVY0NjNwY2hGM0wvSGFFNVFqVk5qNEp6dW9jSncrKzVWdy9TTGxGbUVYVEtvandiVGdTK0xxYmZnWkdtS0FBekwgIFMrWGc0QVJUQ2M1VkZocExLRVhJRm4xQjVFNU9HK1BVeTR3a0RDR29yREhqOFIrbEJHQUdJK2lOMnQzUUlvd2xmTzNpZytramIxdjQgIDlhSTJ1MWxCdjBYaitHQTFubEtlbCtxOEJuQU5kQnJDZFpWTkJpd1hTUlk4ZWFtMVBqTkJ4bE1MWnB2bzJVeFdPUDZUL0JGZ0FPQmUgIDhoK2hmbTY0QUFBQUFFbEZUa1N1UW1DQycsCiAgICBib3R0b206J2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQllBQUFBV0NBWUFBQURFdEd3N0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKICBiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5QnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwICBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ICBlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6ICBORGMzTnl3Z01qQXhNQzh3TWk4eE1pMHhOem96TWpvd01DQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvICBkSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ICBkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2ICBJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTICBaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEICBjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCWGFXNWtiM2R6SWlCNGJYQk5UVHBKYm5OMFlXNWpaVWxFICBQU0o0YlhBdWFXbGtPamcyUmpVM05VUXpPVFV5TmpFeFJFWTRNMFU0UkRaR1FUaEJNamN3TUVJeklpQjRiWEJOVFRwRWIyTjFiV1Z1ICBkRWxFUFNKNGJYQXVaR2xrT2pnMlJqVTNOVVEwT1RVeU5qRXhSRVk0TTBVNFJEWkdRVGhCTWpjd01FSXpJajRnUEhodGNFMU5Pa1JsICBjbWwyWldSR2NtOXRJSE4wVW1WbU9tbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZPRFpHTlRjMVJERTVOVEkyTVRGRVJqZ3pSVGhFICBOa1pCT0VFeU56QXdRak1pSUhOMFVtVm1PbVJ2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2T0RaR05UYzFSREk1TlRJMk1URkVSamd6ICBSVGhFTmtaQk9FRXlOekF3UWpNaUx6NGdQQzl5WkdZNlJHVnpZM0pwY0hScGIyNCtJRHd2Y21SbU9sSkVSajRnUEM5NE9uaHRjRzFsICBkR0UrSUR3L2VIQmhZMnRsZENCbGJtUTlJbklpUHo2YnArWlBBQUFDMFVsRVFWUjQyclJWWFVoVVFSVCs1dDY3dXpkWnd3WC8wRktTICBDQ01pd2N3aTZRZnB3Y0FnS0h2enBSNkVvS2VRcEljSUpDT0NJQjhTb29JZ0tLMmdzc0J3UTBQWHNCOHM4S2RTSWhGelhiSFMydmJlICB1ZmRPTTNmZDFteDN6UlVQZXpnenpEbmZuUDNtbTdtRU1ZYVZNQWtyWkVxOGhaMG5IUUVlMGhlcEQzUmZwSmxMQWhhZ3RjZlBnQkJBICBzR1daekhiVDRKRUMyZTROT04xVW5iSGtqb1VSaWFEZGY4a0dwQ0VMT25jYU1rRjBGY2VLRzVQbm1QQlZ4U2xCa29tOWllaGVtRU4yICBnWUV0Ny9DRWFzTENpUUtwaWh1THFTa2hNTE1BUStlY0NsNU5NUTl2a3FabTgyZ2xWa1ZaclNNeTd1QzV1eU1UMlVsQ25GdlYwQ3hZICBGcHM3UE42dDVJWk1ITEI0TXBFUjR1cGg4NmpyNUdGUDF3VUtaZDdHamVscFdTV0g5bGVucUtwTDhLb3lEbWJvbHQyNWFmQm9FbmljICB1VEJNYW5kODl1aDFWZWJvWW43MVljT3ZzY21SeGxpcXVEZjEzVi9pOVQwNnNXdEgrYXF1OFZ1d0pPMlAzSVRNVXVVTVBpYWdCb1gzICB3MDJvRGplMnJxM0FFOS90MEZoZzVMTEFpTTB4UTkzdzZKQnY0SDIvWHB4WmFYY3JPQlpSTVZWSXpBbGQxem13RHNQU1VaaTVIYStHICBPdW03NFo1dVVadm84TVEvUFBpaXIyTmlaanJFTm5yMmduSlFreElPcWtMVGRBNU1ZVm9HQ3RLTEVKaWVZTzI5OTcrSW1yOWtFMGNWICBzenl4dk8zNWc5azBLUSs1S1p0Z2FaZ0QxVzArczFhdlF3cng0SzczaHAwcmF2NlZteEI5eEtNMlRLbGUxZnFzSlZqb0tZT2JjNnRyICBZZEJVbHdjRm5pMW9hYjhXTkF5dFN1UkdiMVFVSjVHTzIyWitmcTMzOXJRR1MvTVAyTGROSVU0VXJkbUh4MTNOd1c4L3B1cEZUbEp2ICBCYmVHc2NsUDI5NE92YXdvWFYvcGtvaUMxLzNkMnVqRXg2ZGk3WCtmemMvY2N4YW9SRWlOOUEzMklqc24vRHErR2ZDSm1rcnVOQWJlICBPUGY4TUhEMExQTnFxdXJpdkViaUZ5YXY1c2htT2Q3NzA5VGNrQmVUQ3NKdlEwdmYrYVMrR0llTFRpWG1lR0ZDOHArbXFNejhWKzZjICB5MW9XR29FL012d3R3QUJ1a2xDMWl6Yk5jQUFBQUFCSlJVNUVya0pnZ2c9PScsCiAgICBwcmU6J2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQllBQUFBV0NBWUFBQURFdEd3N0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKICBiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5QnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwICBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ICBlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6ICBORGMzTnl3Z01qQXhNQzh3TWk4eE1pMHhOem96TWpvd01DQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvICBkSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ICBkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2ICBJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTICBaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEICBjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCWGFXNWtiM2R6SWlCNGJYQk5UVHBKYm5OMFlXNWpaVWxFICBQU0o0YlhBdWFXbGtPa1V6UkRVeU5FUTVPVEJGTWpFeFJFWkNNak5GUmpRek5rTXdNamRGTlVNd0lpQjRiWEJOVFRwRWIyTjFiV1Z1ICBkRWxFUFNKNGJYQXVaR2xrT2tVelJEVXlORVJCT1RCRk1qRXhSRVpDTWpORlJqUXpOa013TWpkRk5VTXdJajRnUEhodGNFMU5Pa1JsICBjbWwyWldSR2NtOXRJSE4wVW1WbU9tbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZSVE5FTlRJMFJEYzVNRVV5TVRGRVJrSXlNMFZHICBORE0yUXpBeU4wVTFRekFpSUhOMFVtVm1PbVJ2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2UlRORU5USTBSRGc1TUVVeU1URkVSa0l5ICBNMFZHTkRNMlF6QXlOMFUxUXpBaUx6NGdQQzl5WkdZNlJHVnpZM0pwY0hScGIyNCtJRHd2Y21SbU9sSkVSajRnUEM5NE9uaHRjRzFsICBkR0UrSUR3L2VIQmhZMnRsZENCbGJtUTlJbklpUHo2SThjeUpBQUFDMjBsRVFWUjQydFJWVzBoVVVSVGQrNXh6NTUwUFZNd2NVa3NKICBKWTJ3ck1IcG94UXpRckZSeEY1aUduMUVFUkdFWkNCSTlPRlBVUjlaa05SWDBhOWZrZUJQRWhGQlAxbURGajB4ZFZUU3FYbmNlOC9wICAzR3RqdmgrSUg1M0xadTZCYzlkWmUrMjE5NkFRQXRaakVWaW54V0l2M3N0c3FYTTNBVEcrMTZFMWlWYkJWd1VzT0M1MjVwSTdkZk5wICBnUkFwRG54dWx2dnJxNUtDb0Znb0toTGprdHNPZVd1ZDVkN3FoSGhYMGxuUEJhVnFWY0E2SjNOanA5MjI0Wkd2dE1IaEQ3eUUvdkZlICBVbE4rUE0wVjUyalByNldGS3dibVRKMFpic1pZdDYrazBSa0lmWUxCeVg3NEh2VERZTFNQMUZRZTI1S1lwVHpZdEplbDI1TFExQStUICBFUmNGdGdlbnc4VTQ3YW5hWDUrQUZoMCtCTjZBd2l6QUtBWC8ySFBRN09QRVYrSEx6U3lHdTFZSDJKT3lGU0lDUW1pNlJoWUVUaGt4ICBnNm9PMWxYdXFjdElTMGtuNzRkZUFDT0tHWndJUUNuNjIvR25rSmFaZ2dkTERwZGxWeW8zUmdkVTB5VTR4N25UdThFc2FzUWRUMzZaICBKejludDlMM294Y29NcUFTRk9RdkY1cDBIS0RPQmJ3YWVVSjJGQlRRb3NJOWRkdFBXcTRaMzB2R3VDQ3dFT1JpWGtiUmlaSmRSNnp2ICBKRk1CWElMU0tYQWtRbFdqZ211eUZycUE0Sy9mMFBPMUUwdTlCNXc1MnphZWNsZVFSa1ptOXdIR1d2cG9lMTdvVEZXTGpWS1p0a1RRICBKY051LzBOUTliQUlhNU00SEJrQXE1TUtpNDFnZFc2TDVBMUU2TWduSmtiVmpzZTNoejYrRHAzNzlveDN6V3VRTDhQOXRxdjNHcWJTICBZQmh1YStxVUVFUjZtYUlhamNoVVpRWlJRd3laaTRiWWVxczU5RE1vYlBLSTFVclJIWmNCNStXbjg0Rk4vV1BXMDRSc05EU2wwS1NuICBWZmx3V1NOTkZvOExSRjBUaG9hMmdmdWNMTnZTY3hkS0trYWxEZGJHbmJMbHVScmhoQXJDTlZVbkJOY3czZkN2N3hWcU1jOGE0MGVMICBjSXhHVkhraHJuMXMyaFdYd2RrUXliQVA2c1lOeXdBdk9TdjNiYTJWTTBPVE9xc3dHUjREbFVkaVhqTDRyeEI0TnZlaEt4MzFxZisyICBZbVp0d1hRbzRzaVNNdjUzZjAzckJ2eEhnQUVBcUxvcXNnR1NNbzRBQUFBQVNVVk9SSzVDWUlJPScsCiAgICBuZXh0OidkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJZQUFBQVdDQVlBQUFERXRHdzdBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSiAgYldGblpWSmxZV1I1Y2NsbFBBQUFBeUJwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcCAgYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNiAgZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TUMxak1EWXdJRFl4TGpFeiAgTkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKbyAgZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sdyAgZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdiAgSWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSUyAgWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRCAgY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVOVE5TQlhhVzVrYjNkeklpQjRiWEJOVFRwSmJuTjBZVzVqWlVsRSAgUFNKNGJYQXVhV2xrT2tZM00wWkRSVGd6T1RCRk1qRXhSRVpDTmpsRlFVWTFRVUl5TmpRMU56RTNJaUI0YlhCTlRUcEViMk4xYldWdSAgZEVsRVBTSjRiWEF1Wkdsa09rWTNNMFpEUlRnME9UQkZNakV4UkVaQ05qbEZRVVkxUVVJeU5qUTFOekUzSWo0Z1BIaHRjRTFOT2tSbCAgY21sMlpXUkdjbTl0SUhOMFVtVm1PbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2UmpjelJrTkZPREU1TUVVeU1URkVSa0kyT1VWQiAgUmpWQlFqSTJORFUzTVRjaUlITjBVbVZtT21SdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNlJqY3pSa05GT0RJNU1FVXlNVEZFUmtJMiAgT1VWQlJqVkJRakkyTkRVM01UY2lMejRnUEM5eVpHWTZSR1Z6WTNKcGNIUnBiMjQrSUR3dmNtUm1PbEpFUmo0Z1BDOTRPbmh0Y0cxbCAgZEdFK0lEdy9lSEJoWTJ0bGRDQmxibVE5SW5JaVB6NlEwc3dUQUFBQzUwbEVRVlI0MnRSVlhVaFVRUlErTS9kbmQwc04vMWd0QWltVyAgTFhzb2lBaXhGeUdJSG5xTmlvaW9oMzZnaHloNnNDQWlqQWdpSW9Mb3dTUk1CRzFiMW41czBYeFJ0aXlSbElwUTFNMXNLeFYxWGZmSCAgZTJlbU0rdTZxRzExRVh6b1hNNmRlMmZPZlBlYjh4M09KVUlJV0FtanNFS216aitVbmRlV3J2MGtBZ29KV1RnbFQwY1cwdnFCOTZMNSAgMTQ0Ynh1L0FjNXNXV2VIcFF4ZlQweHExUWJZOUQxU3FnVUpWSEhXb3ZIZkUrVS9HVTVNYzF1UW9pMWNGZ1lidWE4bVBFcnhLOHJlQyAgUThzR20rcUFDdGRoNnptZWpuTEVFR2xYQ0M0VFRBaUdTZWlZRVZtK2VHTVJEaHhCcGVzMkRWUWJGV1F1aWh0c2R1NGdGaW9wWTFXTSAgVDB0Z0VLcW1DRlVuVkV1Q0N5cFR3Z1dYZHdUbmxvSDk2Q3lsSXNkdGNVVWxvTnNwcURwRmRBb2FYaEtRY1laQkFxaEs0cWw0c1ZUOSAgdEhqaElOelpzTjN1UG5uZ2pETW5KMThqaW5BUUVGeTNLWElRekJCRTAyM0ltT0ViSjVMNTFlTTFkb29Wd3BnQjk3MVY4WXlNZ3kvTSAgNXdNZllsY2FudGFOSjh5SThIKzdMWHpEVlJTclNsQUZpS0pSSVRWazNFUlFBOXI2YXVGMTBBZlJSQmpxVys3R2hzZjZLek1DbTl5VSAgUTNYZjUrOFBXdHBmelZTc1B5YXlWcThDaW9TUkZHaWFUcEFydXBsTUJjN0NabWNadEw1N2t2Z1k3S3pGdmJjeUFxdUtLb0xlSlBpbCAgenE0MzllOTdldGlPd3YxY29VUlducUFFMFpPZ0JrancwcUp5Nk8xN2F3UjYvWUhpUVhacTdaQ1JXVHlwdE9wVUlCUVF0TjlubkgzWiAgK3N3Zkdob1ZXM0wzeUJRVHlnbWV5a2o2Sm1RYUdoM2h6WUg2b0JZMTk2VkUvMk5WOEZRajRJa294SVk2NElTbnlmTkpqZVZ5ZDk0dSAgTUJrRHc1eUZqUVhiUU13cTRHMTdPR2xTVm9IeEVTdDFMQmFNSXhPRHh0RkdYOTFBc1Y3SzEyVzVvVGpiQlFXT0V2QzBWcytZcHJrYiAgWTc0dXQyMTJSY0xSQzQzTmowS3UzSEx1THRnSm5wYWFhQ3crZlJEWHVpMjF6YitZZHlveVh0cmMvdmdjZGczYlJIanNNdXJaWkxrZiAgTDdYUVhnYWhkT3JoZXZub0Z4ZVd4eFRLY05OS0V5TC8zYTlweFlCL0NUQUFMTUZadUVuSTFqc0FBQUFBU1VWT1JLNUNZSUk9JywKICAgIG5leHRfZ3JheTonZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCWUFBQUFXQ0FZQUFBREV0R3c3QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkogIGJXRm5aVkpsWVdSNWNjbGxQQUFBQXlCcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHAgIGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTYgIGVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXogIE5EYzNOeXdnTWpBeE1DOHdNaTh4TWkweE56b3pNam93TUNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm8gIGRIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHcgIGRHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXYgIElpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlMgIFpXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcEQgIGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JYYVc1a2IzZHpJaUI0YlhCTlRUcEpibk4wWVc1alpVbEUgIFBTSjRiWEF1YVdsa09qZzFSREE1UmpGR09UVXlNakV4UkVaQ01rTTRRVVpFT0VZNFF6ZzJNRFJFSWlCNGJYQk5UVHBFYjJOMWJXVnUgIGRFbEVQU0o0YlhBdVpHbGtPamcxUkRBNVJqSXdPVFV5TWpFeFJFWkNNa000UVVaRU9FWTRRemcyTURSRUlqNGdQSGh0Y0UxTk9rUmwgIGNtbDJaV1JHY205dElITjBVbVZtT21sdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk9EVkVNRGxHTVVRNU5USXlNVEZFUmtJeVF6aEIgIFJrUTRSamhET0RZd05FUWlJSE4wVW1WbU9tUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZPRFZFTURsR01VVTVOVEl5TVRGRVJrSXkgIFF6aEJSa1E0UmpoRE9EWXdORVFpTHo0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWwgIGRHRStJRHcvZUhCaFkydGxkQ0JsYm1ROUluSWlQejYydHQ4ckFBQUNpVWxFUVZSNDJ0UlZTNnRTVVJUZTUvaFdGQWRlcmhvSUtxbUkgIFUyZUNCZzJhOUFPYUJRNGlaeEUweUNDY05Za0dEWVdhTkVoOElDUXBvWWc0Q0pRSUZBMGNoS0dwQmI3QTkrT2MxanA0TG5LMTIrR0MgIGd4WXMxajdzdGI3OXJjZmVoMkpabHB4Q2FISWlFZk1MajhkemVlODM2TmxWd1JSRi9RS2o1NytMeGVJaDhCRTVDd1FDaEMrVlJDSWggIGFyV2FpRVFpVHNWaU1Ra0dnK2YvWkR5Zno0bGNMajl3aUVhakYydXoyVXdVQ2dXUnlXVEU1L01Kci9GcXRlSVk4Z3Fwb3JJN1N4YUwgIHhmV2J0MXd1TDRDbFVpbVdnQU1HWWRick5lY2paSktPVGdXQ1l6elVrWVY2MG1oNTMvMk1oQUovQXQxaUxMSURYV0NUc0drQVRHR3ogIGFKb21ETU9RN1hiTEFjUCtZdWZQNjJIelJxUFJhNVBKWlBmNy9lZGFyVllDNlN2d0FBREdPckFBUm1IVEFCZ3dXUXFCUTZHUUhBL2YgIGJEWWtIQTR2ampKdU5Cb2ZPNTFPS0I2UDk2RkpiRGFiWlZPcEZBMkJMREJGeGxocjdnQmtuTS9uU2FsVUlyUFpqRVFpa1htNzNYNTYgIEZCaFBCWG5UYkRiZkZncUZxZGZyWlZVcUZaYytLaklIdGhSZkNteW93K0VndVZ4dVdhdlYza0hzcTZQQXlLaGVyK1B5V2JsY2ZsK3AgIFZMWnV0NXRCVU13ZFUwWlFKSURXNlhTU2FyVzYvZ3d5R0F3ZTl2djk0eGNFYTZiUmFJaFNxYVJockI0QjBBMjRhWGRjTGhjRktYTTEgIFJWQThBSm4yZWowbW5VNy9nTm0vdTJ2Nlg2Y0NKNEhhemV1ODFXbzlTQ2FUM3lBVHhtNjNjK25qSEZzc0ZvNHg3STNBOXhib1JNZ2MgIHMzdjJKNlIzUHhhTGZkZnI5WXpSYUNRR2c0SG9kRHFTU0NTbXdQNDIrTFN2KzJ4K21Vd21Ud0NvYTdQWkdGQUVuVTJuMDN1dzkxWFEgIHMzbUZKTWZqc1RPVHlUeUd0V3c0SEQ0SCswSHdlM3hackZici91ZUxicmQ3RXhvNGh2VkxJWThROWQvOW1rNEcvRWVBQVFDQkVrdmEgIHJIclJQZ0FBQUFCSlJVNUVya0pnZ2c9PScsCiAgICBwcmVfZ3JheTonZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCWUFBQUFXQ0FZQUFBREV0R3c3QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkogIGJXRm5aVkpsWVdSNWNjbGxQQUFBQXlCcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHAgIGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTYgIGVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXogIE5EYzNOeXdnTWpBeE1DOHdNaTh4TWkweE56b3pNam93TUNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm8gIGRIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHcgIGRHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXYgIElpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlMgIFpXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcEQgIGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JYYVc1a2IzZHpJaUI0YlhCTlRUcEpibk4wWVc1alpVbEUgIFBTSjRiWEF1YVdsa09qYzBNVEk1TURZNE9UVXlNakV4UkVaQ09EVkRSRVl5TTBVMFFqTXpRa1F6SWlCNGJYQk5UVHBFYjJOMWJXVnUgIGRFbEVQU0o0YlhBdVpHbGtPamMwTVRJNU1EWTVPVFV5TWpFeFJFWkNPRFZEUkVZeU0wVTBRak16UWtReklqNGdQSGh0Y0UxTk9rUmwgIGNtbDJaV1JHY205dElITjBVbVZtT21sdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk56UXhNamt3TmpZNU5USXlNVEZFUmtJNE5VTkUgIFJqSXpSVFJDTXpOQ1JETWlJSE4wVW1WbU9tUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZOelF4TWprd05qYzVOVEl5TVRGRVJrSTQgIE5VTkVSakl6UlRSQ016TkNSRE1pTHo0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWwgIGRHRStJRHcvZUhCaFkydGxkQ0JsYm1ROUluSWlQejVEMkY1WEFBQUNaa2xFUVZSNDJ0U1Z6NnNTVVJUSDd4MFZKeFg4Q2FtcFNRdEYgIC9BRVNDb25pUWtoZGxLS0NMZHIwWXhXMGlEYUJTQkxab2szdG9sMjcvb0MzVGNTMTRFcEVCVjI0VU9PNUVFVExuOU01ZzRLb1BYdTkgIFhIVGdNTmM3NTM3bWU3LzN6RWc1amlPbkNJYWNLSVNiUVNBUXVLanVJNlZVTGhBSW5oU0x4ZFdsRktNbHY4bVhlcjMrcVU2bnU3OWMgIExsLzlLeXZ1S1pYS045Rm9WQnFKUkJSeXVmeVp6K2VMWHhYc2xrcWxYeE9KaEtUWmJCSklCc1k2bVV6MjN1RnczUDVic0VFb0ZINEQgIGtIUXdHSkJlcjBlNjNTN3A5L3RNS3BXNnBWYXJ2NWhNcGhzU2lZUmk4ZVo2RUR5YnpUWXBnNS9GZUR5dVlCaUd0TnR0SWhLSkNCd2MgIGFUUWFaTEZZTUhEUFpqUWFQOFA4TlkxR3cwd21FdzduRDRMSDR6R21RQ3dXbjRHbk43VmFMVk92MTNrZ3FDZlFGWmhjdFZvbGNKZzAgIEhBN2Z0ZGxzSDJCSGZKZmcvWU5nbFVxRitla09oTlBwRk5WcU5ZS0tFWXBYNkFoY1RGZXJGU21YeTR6TDVSSjRQSjRIYnJmN0xhNEggIHhmUWdHTmE4c052dEQwT2hrQmlWWXF1aFdvUkNjdlA1bkVNb0p1NnVWQ3JSWURBb05adk5qNnhXNjJNVWNQQUZNUmdNNzlMcE5Jc0YgIFhxK1hCeFFLQllRamxJSWlmZ3pLYVN3V3crMHo4SENhVENiVncrSHd0Y1ZpT1crMVdtZDc0RTZudzJheldYNE1nSis1WEk1RjMwQXQgIG5VNm4vSU0yMjBWZ1BwLy9BZk5ZSTRZYWcwS2hlQTYzOXNIb3htWUFxamlFb2hYbzdScktIeDVDY1E2Q3JWUXF6TkZ2eFc2c3UyRDcgIHRGZnJsbHJ0dHRhbFgra05GUHQ0N1NsQnY3SGZkOXZyanhWdkI4dXlaT3U3alg1Y0RlejMrM21QTVVlakVhcmQyODFSOEU3aDkwd20gIGMvM0lSczR2dFBHLysyczZHZmlYQUFNQXEzY1hUQURUQk1JQUFBQUFTVVZPUks1Q1lJST0nLAp9OwoKLy/mgqzmta7nqpfnmoTnirbmgIHpopzoibIuCnZhciBGV0tHX2NvbG9yPXsKICAgIGxvYWRpbmc6JyM4QjAwRTgnLCAgICAvLyDor7vlj5bkuK3nirbmgIEKICAgIHByZWZldGNoZXI6JyM1NTY0QUYnLCAvLyDpooTor7vnirbmgIEKICAgIGF1dG9wYWdlcjonIzAzOEIwMCcsICAvLyDnv7vpobXnirbmgIEKICAgIEFwYXVzZTonI0I3QjcwMCcsICAgICAvLyDnv7vpobXnirbmgIEo5pqC5YGcKS4KICAgIEFzdG9wOicjQTAwMDAwJywgICAgICAvLyDnv7vpobXnirbmgIEo5YGc5q2iKSjnv7vpobXlrozmiJAs5oiW6ICF6KKr5byC5bi45YGc5q2iLiko5peg5rOV5YaN5byA5ZCvKQogICAgZG90OicjMDBGRjA1JywgICAgICAgIC8vIOivu+WPluWujOWQjizkvJrmmL7npLrkuIDkuKrlsI/ngrks6YKj5LmI5bCP54K555qE6aKc6ImyLgp9OwoKLy/lvZPmsqHmnInmib7liLDop4TliJnnmoTml7blgJks6L+b5YWl6Ieq5Yqo5pCc57Si5qih5byPLgovL+WcqOayoeaciemrmOe6p+inhOWImeeahOe9keermeS4ii7nmoTkuIDkupvorr7nva4uLgp2YXIgYXV0b01hdGNoPXsKICAgIGtleU1hdGNoOnRydWUsICAgICAgICAgICAgICAvL+aYr+WQpuWQr+eUqOWFs+mUruWtl+WMuemFjQogICAgICAgIGNhc2VzOmZhbHNlLCAgICAgICAgICAgIC8v5YWz6ZSu5a2X5Yy65YiG5aSn5bCP5YaZLi4uLgogICAgICAgIGRpZ2l0YWxDaGVjazp0cnVlLCAgICAgIC8v5a+55pWw5a2X6L+e5o6l6L+b6KGM5qOA5rWLLOS7juS4reaJvuWHuuS4i+S4gOmhteeahOmTvuaOpQogICAgICAgIHBmd29yZGw6eyAgICAgICAgICAgICAgIC8v5YWz6ZSu5a2X5YmN6Z2i55qE5a2X56ym6ZmQ5a6aLgogICAgICAgICAgICBwcmV2aW91czp7ICAgICAgICAgIC8v5LiK5LiA6aG15YWz6ZSu5a2X5YmN6Z2i55qE5a2X56ymLOS+i+WmgiAi5LiK5LiA6aG1IiDopoHljLnphY0gIlvkuIrkuIDpobUiICzpgqPkuYhwcmVmaXjopoHnmoTorr7nva7opoHkuI3lsI/kuo4xLOW5tuS4lGNoYXJhY3RlcuimgeWMheWQq+Wtl+espiAiWyIKICAgICAgICAgICAgICAgIGVuYWJsZTp0cnVlLAogICAgICAgICAgICAgICAgbWF4UHJlZml4OjMsCiAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6WycgJywn44CAJywnWycsJ++8uycsJzwnLCfvvJwnLCfigLknLCfCqycsJzw8Jywn44COJywn44CMJywn44CQJywnKCcsJ+KGkCddCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5leHQ6ey8v5LiL5LiA6aG15YWz6ZSu5a2X5YmN6Z2i55qE5a2X56ymCiAgICAgICAgICAgICAgICBlbmFibGU6dHJ1ZSwKICAgICAgICAgICAgICAgIG1heFByZWZpeDoyLAogICAgICAgICAgICAgICAgY2hhcmFjdGVyOlsnICcsJ+OAgCcsJ1snLCfvvLsnLCfjgI4nLCfjgIwnLCfjgJAnLCcoJ10KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2Z3b3JkbDp7ICAgICAgICAgICAgICAgLy/lhbPplK7lrZflkI7pnaLnmoTlrZfnrKbpmZDlrpouCiAgICAgICAgICAgIHByZXZpb3VzOnsgICAgICAgICAgLy/kuIrkuIDpobXlhbPplK7lrZflkI7pnaLnmoTlrZfnrKYKICAgICAgICAgICAgICAgIGVuYWJsZTp0cnVlLAogICAgICAgICAgICAgICAgbWF4U3ViZml4OjIsCiAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6WycgJywn44CAJywnXScsJ++8vScsJ+OAjycsJ+OAjScsJ+OAkScsJyknXQogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXh0OnsgICAgICAgICAgICAgIC8v5LiL5LiA6aG15YWz6ZSu5a2X5ZCO6Z2i55qE5a2X56ymCiAgICAgICAgICAgICAgICBlbmFibGU6dHJ1ZSwKICAgICAgICAgICAgICAgIG1heFN1YmZpeDozLAogICAgICAgICAgICAgICAgY2hhcmFjdGVyOlsnICcsJ+OAgCcsJ10nLCfvvL0nLCc+Jywn77mlJywn4oC6JywnwrsnLCc+PicsJ+OAjycsJ+OAjScsJ+OAkScsJyknLCfihpInXQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIHVzZWlmcmFtZTogR01fZ2V0VmFsdWUoJ1NJVEVJTkZPX0QudXNlaWZyYW1lJykgfHwgZmFsc2UsICAgICAgICAgICAgLy8o6aKE6K+7KeaYr+WQpuS9v+eUqGlmcmFtZS4uCiAgICB2aWV3Y29udGVudDogZmFsc2UsICAgICAgICAgIC8v5p+l55yL6aKE6K+755qE5YaF5a65LOaYvuekuuWcqOmhtemdoueahOacgOS4i+aWuS4KICAgIEZBOiB7ICAgICAgICAgICAgICAgICAgICAgICAvL+W8uuWItuaLvOaOpSDpgInpobkg5Yqf6IO96K6+572uLgogICAgICAgIGVuYWJsZTpmYWxzZSwgICAgICAgICAgIC8v6buY6K6k5ZCv55SoIOW8uuWItuaLvOaOpQogICAgICAgIG1hbnVhbEE6ZmFsc2UsICAgICAgICAgIC8v5omL5Yqo57+76aG1LgogICAgICAgIHVzZWlmcmFtZTpmYWxzZSwgICAgICAgIC8vKOe/u+mhtSnmmK/lkKbkvb/nlKhpZnJhbWUuLgogICAgICAgICAgICBpbG9hZGVkOmZhbHNlLCAgICAgIC8vKOWPquWcqG9wZXJh5pyJ5pWIKeWmguaenOS9v+eUqGlmcmFtZee/u+mhtS4u5piv5ZCm5ZyoaWZyYW1l5a6M5YWobG9hZOWQjuaTjeS9nC4u5ZCm5YiZ5ZyoRE9N5a6M5oiQ5ZCO5pON5L2cCiAgICAgICAgICAgIGl0aW1lb3V0OjAsICAgICAgICAgLy/lvZPkvb/nlKhpZnJhbWXnv7vpobXml7blnKjlrozmiJDlkI7nu6fnu63nrYnlvoXlpJrlsJHmr6vnp5LlkI4s5Zyo5pON5L2cLi4KICAgICAgICByZW1haW46MSwgICAgICAgICAgICAgICAvL+WJqeS9memhtemdoueahOmrmOW6pi4u5piv5pi+56S66auY5bqm55qEIHJlbWFpbiDlgI3lvIDlp4vnv7vpobUuLgogICAgICAgIG1heHBhZ2U6OTksICAgICAgICAgICAgIC8v5pyA5aSa57+75aSa5bCR6aG1Li4KICAgICAgICBpcGFnZXM6W2ZhbHNlLDJdLCAgICAgICAvL+eri+WNs+e/u+mhtSznrKzkuIDpobnmmK/mjqfliLbmmK/lkKblnKhqc+WKoOi9veeahOaXtuWAmeeri+WNs+e/u+esrOS6jOmhuSjlv4XpobvlsI/kuo5tYXhwYWdlKeeahOmhteaVsCzmr5TlpoJbdHJ1ZSwzXS7lsLHmmK/or7RKU+WKoOi9veWQji7nq4vljbPnv7sz6aG1LgogICAgICAgIHNlcGFyYXRvcjp0cnVlLCAgICAgICAgIC8v5pi+56S657+76aG15a+86IiqLi4o5o6o6I2Q5pi+56S6LikuLgogICAgfQp9OwoKLy/kuIrkuIDpobXlhbPplK7lrZcKdmFyIHByZVBhZ2VLZXk9WwogICAgJ+S4iuS4gOmhtScsICfkuIrkuIDpoIEnLCAn5LiKMemhtScsICfkuIox6aCBJywgJ+S4iumhtScsICfkuIrpoIEnLAogICAgJ+e/u+S4iumggScsICfnv7vkuIrpobUnLAogICAgJ+S4iuS4gOW8oCcsICfkuIrkuIDlvLUnLCAn5LiK5LiA5bmFJywgJ+S4iuS4gOeroCcsICfkuIrkuIDoioInLCAn5LiK5LiA56+AJywgJ+S4iuS4gOevhycsCiAgICAn5YmN5LiA6aG1JywgJ+WJjeS4gOmggScsCiAgICAn5ZCO6YCAJywgJ+W+jOmAgCcsICfkuIrnr4cnLAogICAgJ3ByZXZpb3VzJywgJ3ByZXZpb3VzIFBhZ2UnLCAn5YmN44G4JywgJ+WJjeOBruODmuODvOOCuCcKXTsKCi8v5LiL5LiA6aG15YWz6ZSu5a2XCnZhciBuZXh0UGFnZUtleT1bCiAgICAn5LiL5LiA6aG1JywgJ+S4i+S4gOmggScsICfkuIsx6aG1JywgJ+S4izHpoIEnLCAn5LiL6aG1JywgJ+S4i+mggScsCiAgICAn57+76aG1JywgJ+e/u+mggScsICfnv7vkuIvpoIEnLCAn57+75LiL6aG1JywKICAgICfkuIvkuIDlvKAnLCAn5LiL5LiA5by1JywgJ+S4i+S4gOW5hScsICfkuIvkuIDnq6AnLCAn5LiL5LiA6IqCJywgJ+S4i+S4gOevgCcsICfkuIvkuIDnr4cnLAogICAgJ+WQjuS4gOmhtScsICflvozkuIDpoIEnLAogICAgJ+WJjei/mycsICfkuIvnr4cnLCAn5ZCO6aG1JywgJ+W+gOWQjicsCiAgICAnTmV4dCcsICdOZXh0IFBhZ2UnLCAn5qyh44G4JywgJ+asoeOBruODmuODvOOCuCcKXTsKCi8vIOWHuuWcqOiHquWKqOe/u+mhteS/oeaBr+mZhOWKoOaYvuekuuecn+WunuebuOWvuemhtemdouS/oeaBr++8jOS4gOiIrOiDveaZuuiDveivhuWIq+WHuuadpeOAguWmguaenOi/mOacieermeeCueS4jeiDveivhuWIq++8jOWPr+S7peaKiuWcsOWdgOeahOeJueW+geWtl+espuS4suWKoOWIsOS4i+mdogovLyDmnIDlpb3kuI3opoHkubHliqDvvIzkuIDkupvkuI3op4TlvovnmoTnq5nngrnmmL7npLrlh7rmnaXnmoTmlbDlrZfkuZ/msqHmnInmhI/kuYkKdmFyIFJFQUxQQUdFX1NJVEVfUEFUVEVSTiA9IFsnc2VhcmNoPycsICdzZWFyY2hfJywgJ2ZvcnVtJywgJ3RocmVhZCddOwoKCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5LiL6Z2i55qE5LiN6KaB566h5LuWLS0tLS0tLS0tLS0tLS0tLS0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyDkuLvopoHnlKjkuo4gY2hyb21lIOWOn+eUn+S4i+ajgOafpeabtOaWsO+8jOS5n+WPr+eUqOS6juaJi+WKqOajgOafpeabtOaWsAp2YXIgc2NyaXB0SW5mbyA9IHsKICAgIHZlcnNpb246ICc2LjUuMCcsCiAgICB1cGRhdGVUaW1lOiAnMjAxNS8xLzEwJywKICAgIGhvbWVwYWdlVVJMOiAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzI5My1zdXBlci1wcmVsb2FkZXJwbHVzLW9uZScsCiAgICBkb3dubG9hZFVybDogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yOTMtc3VwZXItcHJlbG9hZGVycGx1cy1vbmUvY29kZS9TdXBlcl9wcmVsb2FkZXJQbHVzX29uZS51c2VyLmpzJywKICAgIG1ldGFVcmw6ICdodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjkzLXN1cGVyLXByZWxvYWRlcnBsdXMtb25lL2NvZGUvU3VwZXJfcHJlbG9hZGVyUGx1c19vbmUubWV0YS5qcycsCn07Cgp2YXIgc2V0dXAgPSBmdW5jdGlvbigpewogICAgdmFyIGQgPSBkb2N1bWVudDsKICAgIHZhciBvbiA9IGZ1bmN0aW9uKG5vZGUsIGUsIGYpIHsKICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgZiwgZmFsc2UpOwogICAgfTsKCiAgICB2YXIgJCA9IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIGQuZ2V0RWxlbWVudEJ5SWQoJ3NwLXByZWZzLScrcyk7IH07CiAgICBpZigkKCdzZXR1cCcpKSByZXR1cm47CgogICAgdmFyIHN0eWxlTm9kZSA9IEdNX2FkZFN0eWxlKCdcCiAgICAgICAgI3NwLXByZWZzLXNldHVwIHsgcG9zaXRpb246Zml4ZWQ7ei1pbmRleDoyMTQ3NDgzNjQ3O3RvcDozMHB4O3JpZ2h0OjYwcHg7cGFkZGluZzoyMHB4IDMwcHg7YmFja2dyb3VuZDojZWVlO3dpZHRoOjUwMHB4O2JvcmRlcjoxcHggc29saWQgYmxhY2s7IH1cCiAgICAgICAgI3NwLXByZWZzLXNldHVwICogeyBjb2xvcjpibGFjazt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxMnB4OyB9XAogICAgICAgICNzcC1wcmVmcy1zZXR1cCBhIHsgY29sb3I6YmxhY2s7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsgfVwKICAgICAgICAjc3AtcHJlZnMtc2V0dXAgZGl2IHsgdGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MTRweDsgfVwKICAgICAgICAjc3AtcHJlZnMtc2V0dXAgdWwgeyBtYXJnaW46MTVweCAwIDE1cHggMDtwYWRkaW5nOjA7bGlzdC1zdHlsZTpub25lO2JhY2tncm91bmQ6I2VlZTtib3JkZXI6MDsgfVwKICAgICAgICAjc3AtcHJlZnMtc2V0dXAgaW5wdXQsICNzcC1wcmVmcy1zZXR1cCBzZWxlY3QgeyBib3JkZXI6MXB4IHNvbGlkIGdyYXk7cGFkZGluZzoycHg7YmFja2dyb3VuZDp3aGl0ZTsgfVwKICAgICAgICAjc3AtcHJlZnMtc2V0dXAgbGkgeyBtYXJnaW46MDtwYWRkaW5nOjZweCAwO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtiYWNrZ3JvdW5kOiNlZWU7Ym9yZGVyOjAgfVwKICAgICAgICAjc3AtcHJlZnMtc2V0dXAgYnV0dG9uIHsgd2lkdGg6MTUwcHg7bWFyZ2luOjAgMTBweDt0ZXh0LWFsaWduOmNlbnRlcjt9XAogICAgICAgICNzcC1wcmVmcy1zZXR1cCB0ZXh0YXJlYSB7IHdpZHRoOjk4JTsgaGVpZ2h0OjYwcHg7IG1hcmdpbjozcHggMDsgfVwKICAgICAgICAjc3AtcHJlZnMtc2V0dXAgYiB7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LWZhbWlseTogIuW+rui9r+mbhem7kSIsIHNhbnMtc2VyaWY7IH1cCiAgICAgICAgI3NwLXByZWZzLXNldHVwIGJ1dHRvbjpkaXNhYmxlZCB7IGNvbG9yOiBncmF5dGV4dDsgfVwKICAgICcpOwoKICAgIHZhciBkaXYgPSBkLmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZGl2LmlkID0gJ3NwLXByZWZzLXNldHVwJzsKICAgIGQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogICAgZGl2LmlubmVySFRNTCA9ICdcCiAgICAgICAgPGRpdj5TdXBlcl9wcmVsb2FkZXJQbHVzX29uZSDorr7nva48L2Rpdj5cCiAgICAgICAgICAgIDx1bD5cCiAgICAgICAgICAgICAgICA8bGk+5b2T5YmN54mI5pys5Li6IDxiPicgKyBzY3JpcHRJbmZvLnZlcnNpb24gKyAnIDwvYj7vvIzkuIrmrKHmm7TmlrDml7bpl7TkuLogPGI+Jysgc2NyaXB0SW5mby51cGRhdGVUaW1lICsgJzwvYj5cCiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9InNwLXByZWZzLWhvbWVwYWdlVVJMIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIHNjcmlwdEluZm8uaG9tZXBhZ2VVUkwgKyAnIi8+6ISa5pys5Li76aG1PC9hPlwKICAgICAgICAgICAgICAgIDwvbGk+XAogICAgICAgICAgICAgICAgPGxpPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNwLXByZWZzLWRlYnVnIiAvPiDosIPor5XmqKHlvI88L2xpPlwKICAgICAgICAgICAgICAgIDxsaT48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcC1wcmVmcy1kYmxjbGlja19wYXVzZSIgLz4g6byg5qCH5Y+M5Ye75pqC5YGc57+76aG177yI6buY6K6k5Li6IEN0cmwgKyDplb/mjInlt6bplK7vvIk8L2xpPlwKICAgICAgICAgICAgICAgIDxsaT48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcC1wcmVmcy1lbmFibGVIaXN0b3J5IiAvPiDmt7vliqDkuIvkuIDpobXliLDljoblj7LorrDlvZU8L2xpPlwKICAgICAgICAgICAgICAgIDxsaSB0aXRsZT0i5LiL5LiA6aG155qE6ZO+5o6l6K6+572u5oiQ5Zyo5paw5qCH562+6aG15omT5byAIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcC1wcmVmcy1mb3JjZVRhcmdldFdpbmRvdyIgLz4g5paw5qCH562+5omT5byA6ZO+5o6lPC9saT5cCiAgICAgICAgICAgICAgICA8bGk+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic3AtcHJlZnMtU0lURUlORk9fRC11c2VpZnJhbWUiIC8+IOWcqOmihOivu+aooeW8j+S4i++8jOm7mOiupOWQr+eUqCBpZnJhbWUg5pa55byPPC9saT5cCiAgICAgICAgICAgICAgICA8bGk+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic3AtcHJlZnMtU0lURUlORk9fRC1hX2VuYWJsZSIgLz4g6buY6K6k5ZCv55So6Ieq5Yqo57+76aG1IDwvbGk+XAogICAgICAgICAgICAgICAgPGxpPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNwLXByZWZzLVNJVEVJTkZPX0QtYV9mb3JjZV9lbmFibGUiIC8+IOiHquWKqOe/u+mhtem7mOiupOWQr+eUqOW8uuWItuaLvOaOpTwvbGk+XAogICAgICAgICAgICAgICAgPGxpPuiHquWumuS5ieaOkumZpOWIl+ihqO+8mlwKICAgICAgICAgICAgICAgICAgICA8ZGl2Pjx0ZXh0YXJlYSBpZD0ic3AtcHJlZnMtZXhjbHVkZXMiIHBsYWNlaG9sZGVyPSLoh6rlrprkuYnmjpLpmaTliJfooajvvIzmlK/mjIHpgJrphY3nrKbjgIJcbuS+i+Wmgu+8mmh0dHA6Ly8qLmRvdWJhbi5jb20vKiI+PC90ZXh0YXJlYT48L2Rpdj5cCiAgICAgICAgICAgICAgICA8L2xpPlwKICAgICAgICAgICAgICAgIDxsaT7oh6rlrprkuYnnq5nngrnop4TliJnvvJpcCiAgICAgICAgICAgICAgICAgICAgPGRpdj48dGV4dGFyZWEgaWQ9InNwLXByZWZzLWN1c3RvbV9zaXRlaW5mbyIgcGxhY2Vob2xkZXI9IuiHquWumuS5ieermeeCueinhOWImSI+PC90ZXh0YXJlYT48L2Rpdj5cCiAgICAgICAgICAgICAgICA8L2xpPlwKICAgICAgICAgICAgPC91bD5cCiAgICAgICAgPGRpdj48YnV0dG9uIGlkPSJzcC1wcmVmcy1vayI+56Gu5a6aPC9idXR0b24+PGJ1dHRvbiBpZD0ic3AtcHJlZnMtY2FuY2VsIj7lj5bmtog8L2J1dHRvbj48L2Rpdj4nOwogICAgZGl2ID0gbnVsbDsKCiAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoc3R5bGVOb2RlKSB7CiAgICAgICAgICAgIHN0eWxlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlTm9kZSk7CiAgICAgICAgfQogICAgICAgIHZhciBkaXYgPSAkKCdzZXR1cCcpOwogICAgICAgIGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdik7CiAgICB9OwoKICAgIG9uKCQoJ29rJyksICdjbGljaycsIGZ1bmN0aW9uKCl7CiAgICAgICAgR01fc2V0VmFsdWUoJ2VuYWJsZUhpc3RvcnknLCBwcmVmcy5lbmFibGVIaXN0b3J5ID0gISEkKCdlbmFibGVIaXN0b3J5JykuY2hlY2tlZCk7CiAgICAgICAgR01fc2V0VmFsdWUoJ2ZvcmNlVGFyZ2V0V2luZG93JywgcHJlZnMuZm9yY2VUYXJnZXRXaW5kb3cgPSAhISQoJ2ZvcmNlVGFyZ2V0V2luZG93JykuY2hlY2tlZCk7CiAgICAgICAgR01fc2V0VmFsdWUoJ1NJVEVJTkZPX0QudXNlaWZyYW1lJywgU0lURUlORk9fRC51c2VpZnJhbWUgPSAhISQoJ1NJVEVJTkZPX0QtdXNlaWZyYW1lJykuY2hlY2tlZCk7CiAgICAgICAgR01fc2V0VmFsdWUoJ1NJVEVJTkZPX0QuYXV0b3BhZ2VyLmVuYWJsZScsIFNJVEVJTkZPX0QuYXV0b3BhZ2VyLmVuYWJsZSA9ICEhJCgnU0lURUlORk9fRC1hX2VuYWJsZScpLmNoZWNrZWQpOwogICAgICAgIEdNX3NldFZhbHVlKCdTSVRFSU5GT19ELmF1dG9wYWdlci5mb3JjZV9lbmFibGUnLCBTSVRFSU5GT19ELmF1dG9wYWdlci5mb3JjZV9lbmFibGUgPSAhISQoJ1NJVEVJTkZPX0QtYV9mb3JjZV9lbmFibGUnKS5jaGVja2VkKTsKCiAgICAgICAgR01fc2V0VmFsdWUoJ2RlYnVnJywgeGJ1ZyA9ICEhJCgnZGVidWcnKS5jaGVja2VkKTsKICAgICAgICBkZWJ1ZyA9IHhidWcgPyBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24oKSB7fTsKCiAgICAgICAgR01fc2V0VmFsdWUoJ2RibGNsaWNrX3BhdXNlJywgJCgnZGJsY2xpY2tfcGF1c2UnKS5jaGVja2VkKTsKICAgICAgICBHTV9zZXRWYWx1ZSgnZXhjbHVkZXMnLCBwcmVmcy5leGNsdWRlcyA9ICQoJ2V4Y2x1ZGVzJykudmFsdWUpOwogICAgICAgIEdNX3NldFZhbHVlKCdjdXN0b21fc2l0ZWluZm8nLCBwcmVmcy5jdXN0b21fc2l0ZWluZm8gPSAkKCdjdXN0b21fc2l0ZWluZm8nKS52YWx1ZSk7CgogICAgICAgIFNQLmxvYWRTZXR0aW5nKCk7CgogICAgICAgIGNsb3NlKCk7CiAgICB9KTsKCiAgICBvbigkKCdjYW5jZWwnKSwgJ2NsaWNrJywgY2xvc2UpOwoKICAgICQoJ2RlYnVnJykuY2hlY2tlZCA9IHhidWc7CiAgICAkKCdlbmFibGVIaXN0b3J5JykuY2hlY2tlZCA9IHByZWZzLmVuYWJsZUhpc3Rvcnk7CiAgICAkKCdmb3JjZVRhcmdldFdpbmRvdycpLmNoZWNrZWQgPSBwcmVmcy5mb3JjZVRhcmdldFdpbmRvdzsKICAgICQoJ2RibGNsaWNrX3BhdXNlJykuY2hlY2tlZCA9IEdNX2dldFZhbHVlKCdkYmxjbGlja19wYXVzZScpIHx8IGZhbHNlOwogICAgJCgnU0lURUlORk9fRC11c2VpZnJhbWUnKS5jaGVja2VkID0gU0lURUlORk9fRC51c2VpZnJhbWU7CiAgICAkKCdTSVRFSU5GT19ELWFfZW5hYmxlJykuY2hlY2tlZCA9IFNJVEVJTkZPX0QuYXV0b3BhZ2VyLmVuYWJsZTsKICAgICQoJ1NJVEVJTkZPX0QtYV9mb3JjZV9lbmFibGUnKS5jaGVja2VkID0gU0lURUlORk9fRC5hdXRvcGFnZXIuZm9yY2VfZW5hYmxlOwogICAgJCgnZXhjbHVkZXMnKS52YWx1ZSA9IHByZWZzLmV4Y2x1ZGVzOwogICAgJCgnY3VzdG9tX3NpdGVpbmZvJykudmFsdWUgPSBwcmVmcy5jdXN0b21fc2l0ZWluZm87Cgp9OwoKdmFyIGlzVXBkYXRpbmcgPSB0cnVlOwpmdW5jdGlvbiBjaGVja1VwZGF0ZShidXR0b24pIHsKICAgIGlmIChpc1VwZGF0aW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAn5q2j5Zyo5pu05paw5LitLi4uJzsKICAgIGJ1dHRvbi5kaXNhYmxlZCA9ICdkaXNhYmxlZCc7CgogICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24oKSB7CiAgICAJaXNVcGRhdGluZyA9IGZhbHNlOwogICAgCWJ1dHRvbi5pbm5lckhUTUwgPSAn6ams5LiK5pu05pawJzsKICAgIAlidXR0b24uZGlzYWJsZWQgPSAnJzsKICAgIH07CgogICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgdXJsOiBzY3JpcHRJbmZvLm1ldGFVcmwsCiAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgdHh0ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0OwogICAgICAgICAgICB2YXIgY3VyVmVyc2lvbiA9IHNjcmlwdEluZm8udmVyc2lvbjsKICAgICAgICAgICAgdmFyIGxhdGVzdFZlcnNpb24gPSB0eHQubWF0Y2goL0Bccyp2ZXJzaW9uXHMqKFtcZFwuXSspXHMqL2kpOwogICAgICAgICAgICBpZiAobGF0ZXN0VmVyc2lvbikgewogICAgICAgICAgICAgICAgbGF0ZXN0VmVyc2lvbiA9IGxhdGVzdFZlcnNpb25bMV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgn6Kej5p6Q54mI5pys5Y+36ZSZ6K+vJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8v5a+55q+U54mI5pys5Y+3CiAgICAgICAgICAgIHZhciBuZWVkVXBkYXRlOwogICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbnMgPSBsYXRlc3RWZXJzaW9uLnNwbGl0KCcuJyk7CiAgICAgICAgICAgIHZhciBsVkxlbmd0aCA9IGxhdGVzdFZlcnNpb25zLmxlbmd0aDsKICAgICAgICAgICAgdmFyIGN1cnJlbnRWZXJzaW9uID0gY3VyVmVyc2lvbi5zcGxpdCgnLicpOwogICAgICAgICAgICB2YXIgY1ZMZW5ndGggPSBjdXJyZW50VmVyc2lvbi5sZW5ndGg7CiAgICAgICAgICAgIHZhciBsVl94OwogICAgICAgICAgICB2YXIgY1ZfeDsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsVkxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsVl94ID0gTnVtYmVyKGxhdGVzdFZlcnNpb25zW2ldKTsKICAgICAgICAgICAgICAgIGNWX3ggPSAoaSA+PSBjVkxlbmd0aCkgPyAwIDogTnVtYmVyKGN1cnJlbnRWZXJzaW9uW2ldKTsKICAgICAgICAgICAgICAgIGlmIChsVl94ID4gY1ZfeCkgewogICAgICAgICAgICAgICAgICAgIG5lZWRVcGRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsVl94IDwgY1ZfeCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobmVlZFVwZGF0ZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+acrOiEmuacrOS7jueJiOacrCAnICsgc2NyaXB0SW5mby52ZXJzaW9uICsgJyAg5pu05paw5Yiw5LqG54mI5pysICcgKyBsYXRlc3RWZXJzaW9uICsgJy5cbuivt+eCueWHu+iEmuacrOS4u+mhtei/m+ihjOWuieijhScpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwLXByZWZzLWhvbWVwYWdlVVJMIikuYm94U2hhZG93ID0gJzAgMCAycHggMnB4ICNGRjU1NTUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXNldCgpOwogICAgICAgIH0KICAgIH0pOwoKCXNldFRpbWVvdXQocmVzZXQsIDMwICogMTAwMCk7Cn0KCgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gbWFpbi5qcwoKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3kuIvpnaLnmoTkuI3opoHnrqHku5YtLS0tLS0tLS0tLS0tLS0tLQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgp2YXIgeGJ1ZyA9IHByZWZzLmRlYnVnIHx8IEdNX2dldFZhbHVlKCJkZWJ1ZyIpIHx8IGZhbHNlOwp2YXIgQyA9IGNvbnNvbGU7CnZhciBkZWJ1ZyA9IHhidWcgPyBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24oKSB7fTsKCi8vIOWPmOmHjwp2YXIgaXNIYXNoY2hhbmdlU2l0ZSA9IGZhbHNlLAogICAgaGFzaGNoYW5nZVRpbWVyID0gMDsKCnZhciBTUCA9IHsKICAgIGluaXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmKGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCJuYW1lIikgPT09ICJNeU5vdmVsUmVhZGVyIil7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMubG9hZFNldHRpbmcoKTsKCiAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgnU3VwZXJfcHJlbG9hZGVyUGx1c19vbmUg6K6+572uJywgc2V0dXApOwoKICAgICAgICAvLyDmn6Xmib7mmK/lkKbmmK/pobXpnaLkuI3liLfmlrDnmoTnq5nngrkKICAgICAgICB2YXIgbG9jYXRpb25IcmVmID0gbG9jYXRpb24uaHJlZjsKICAgICAgICB2YXIgaGFzaFNpdGUgPSBfLmZpbmQoSGFzaGNoYW5nZVNpdGVzLCBmdW5jdGlvbih4KXsgcmV0dXJuIHRvUkUoeC51cmwpLnRlc3QobG9jYXRpb25IcmVmKTsgfSk7CiAgICAgICAgaWYgKGhhc2hTaXRlKSB7CiAgICAgICAgICAgIGlzSGFzaGNoYW5nZVNpdGUgPSB0cnVlOwogICAgICAgICAgICBoYXNoY2hhbmdlVGltZXIgPSBoYXNoU2l0ZS50aW1lcjsKICAgICAgICAgICAgZGVidWcoJ+W9k+WJjeaYr+mhtemdouS4jeWIt+aWsOeahOermeeCuScsIGhhc2hTaXRlKTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGluaXQod2luZG93LCBkb2N1bWVudCk7CiAgICAgICAgICAgIH0sIGhhc2hjaGFuZ2VUaW1lcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaW5pdCh3aW5kb3csIGRvY3VtZW50KTsKICAgICAgICB9CgogICAgICAgIC8vIOWIhui+qOeOhyDpq5jluqYgPiDlrr3luqYg55qE5piv5omL5py6CiAgICAgICAgaWYod2luZG93LnNjcmVlbi5oZWlnaHQgPiB3aW5kb3cuc2NyZWVuLndpZHRoKXsKICAgICAgICAgICAgR01fYWRkU3R5bGUoJ2Rpdi5zcC1zZXBhcmF0b3IgeyBtaW4td2lkdGg6YXV0byAhaW1wb3J0YW50OyB9Jyk7CiAgICAgICAgfQogICAgfSwKICAgIGxvYWRTZXR0aW5nOiBmdW5jdGlvbigpewogICAgICAgIHZhciBhX2VuYWJsZSA9IEdNX2dldFZhbHVlKCdTSVRFSU5GT19ELmF1dG9wYWdlci5lbmFibGUnKTsKICAgICAgICBpZiAoYV9lbmFibGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBTSVRFSU5GT19ELmF1dG9wYWdlci5lbmFibGUgPSBhX2VuYWJsZTsKICAgICAgICB9CgogICAgICAgIHZhciBsb2FkRGJsY2xpY2tQYXVzZSA9IGZ1bmN0aW9uKHJlbG9hZCl7CiAgICAgICAgICAgIHZhciBkYmxjbGlja1BhdXNlID0gR01fZ2V0VmFsdWUoJ2RibGNsaWNrX3BhdXNlJywgcHJlZnMuZGJsY2xpY2tfcGF1c2UpOwogICAgICAgICAgICBpZiAoZGJsY2xpY2tQYXVzZSkgewogICAgICAgICAgICAgICAgcHJlZnMubW91c2VBID0gZmFsc2U7CiAgICAgICAgICAgICAgICBwcmVmcy5QYnV0dG9uID0gWzAsIDAsIDBdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmVsb2FkKSBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgbG9hZEN1c3RvbVNpdGVJbmZvID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBpbmZvczsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGluZm9zID0gbmV3IEZ1bmN0aW9uKCcnLCAncmV0dXJuICcgKyBwcmVmcy5jdXN0b21fc2l0ZWluZm8pKCk7CiAgICAgICAgICAgIH1jYXRjaChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfoh6rlrprkuYnnq5nngrnop4TliJnplJnor68nLCBwcmVmcy5jdXN0b21fc2l0ZWluZm8pOwogICAgICAgICAgICAgICAgLy8gYWxlcnQoJ+iHquWumuS5ieermeeCueinhOWImemUmeivrycpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoXy5pc0FycmF5KGluZm9zKSkgewogICAgICAgICAgICAgICAgU0lURUlORk8gPSBpbmZvcy5jb25jYXQoU0lURUlORk8pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgbG9hZERibGNsaWNrUGF1c2UoKTsKCiAgICAgICAgbG9hZEN1c3RvbVNpdGVJbmZvKCk7CiAgICB9LAp9OwoKCmZ1bmN0aW9uIGluaXQod2luZG93LCBkb2N1bWVudCkgewogICAgdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CgogICAgdmFyIG51bGxGbiA9IGZ1bmN0aW9uKCkge307IC8v56m65Ye95pWwLgogICAgdmFyIHVybCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qJC8sICcnKTsgLy91cmwg5Y675o6JaGFzaAogICAgdmFyIGNwbGluayA9IHVybDsgIC8vIOe/u+S4iuadpeeahOacgOi/keeahOmhtemdoueahHVybDsKICAgIHZhciBkb21haW4gPSBkb2N1bWVudC5kb21haW47IC8v5Y+W5b6X5Z+f5ZCNLgogICAgdmFyIGRvbWFpbl9wb3J0ID0gdXJsLm1hdGNoKC9odHRwcz86XC9cLyhbXlwvXSspLylbMV07IC8v56uv5Y+j5ZKM5Z+f5ZCNLOeUqOadpemqjOivgeaYr+WQpui3qOWfny4KCiAgICAvLyDmlrDliqDnmoTvvIzku6XnpLrljLrliKsKICAgIHZhciByZW1vdmUgPSBbXTsgIC8vIOmcgOimgeenu+mZpOeahOS6i+S7tgoKICAgIGRlYnVnKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CgogICAgLy/mgqzmta7nqpcKICAgIHZhciBmbG9hdFdPID0gewogICAgICAgIHVwZGF0ZUNvbG9yOiBudWxsRm4sCiAgICAgICAgbG9hZGVkSWNvbjogbnVsbEZuLAogICAgICAgIENtb2RlSWNvbjogbnVsbEZuLAogICAgfTsKCiAgICBmdW5jdGlvbiBmbG9hdFdpbmRvdygpIHsKICAgICAgICBHTV9hZGRTdHlsZSgnXAogICAgICAgICAgICAjc3AtZnctY29udGFpbmVyIHtcCiAgICAgICAgICAgICAgICB6LWluZGV4Ojk5OTk5OSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1jb250YWluZXIgKiB7XAogICAgICAgICAgICAgICAgZm9udC1zaXplOjEzcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGNvbG9yOmJsYWNrIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBmbG9hdDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1tYWluLWhlYWR7XAogICAgICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHRvcDowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBsZWZ0OjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LXNwYW4taW5mb3tcCiAgICAgICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgcmlnaHQ6MXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB0b3A6MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgZm9udC1zaXplOjEwcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OjEwcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgZm9udC1zdHlsZTppdGFsaWMhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGNvbG9yOiM1YTVhNWEhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OndoaXRlIDBweCAxcHggMXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1jb250YWluZXIgaW5wdXQge1wKICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOm1pZGRsZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIG91dGxpbmU6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4ICFpbXBvcnRhbnQ7XAogICAgICAgICAgICB9XAogICAgICAgICAgICAjc3AtZnctY29udGFpbmVyIGlucHV0W3R5cGU9Im51bWJlciJdIHtcCiAgICAgICAgICAgICAgICB3aWR0aDo1MHB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LWNvbnRhaW5lciBpbnB1dFt0eXBlPSJjaGVja2JveCJdIHtcCiAgICAgICAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkICNCNEI0QjQhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHBhZGRpbmc6MXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBtYXJnaW46M3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB3aWR0aDoxM3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBoZWlnaHQ6MTNweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYmFja2dyb3VuZDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdGF0aWMgIWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1jb250YWluZXIgaW5wdXRbdHlwZT0iYnV0dG9uIl0ge1wKICAgICAgICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgI2NjYyFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgd2lkdGg6YXV0byFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgaGVpZ2h0OmF1dG8haW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LWNvbnRhaW5lciBsaSB7XAogICAgICAgICAgICAgICAgbGlzdC1zdHlsZTpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBtYXJnaW46M3B4IDAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJvcmRlcjpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBmbG9hdDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1jb250YWluZXIgZmllbGRzZXQge1wKICAgICAgICAgICAgICAgIGJvcmRlcjoycHggZ3Jvb3ZlICNjY2MhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIC1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBwYWRkaW5nOjRweCA5cHggNnB4IDlweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgbWFyZ2luOjJweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgd2lkdGg6YXV0byFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgaGVpZ2h0OmF1dG8haW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LWNvbnRhaW5lciBsZWdlbmQge1wKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4ICFpbXBvcnRhbnQ7XAogICAgICAgICAgICB9XAogICAgICAgICAgICAjc3AtZnctY29udGFpbmVyIGZpZWxkc2V0PnVsIHtcCiAgICAgICAgICAgICAgICBwYWRkaW5nOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIG1hcmdpbjowIWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1jb250YWluZXIgdWwjc3AtZnctYV91c2VpZnJhbWUtZXh0ZW5ke1wKICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDo0MHB4IWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1yZWN0IHtcCiAgICAgICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgdG9wOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGxlZnQ6MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgZmxvYXQ6cmlnaHQhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGhlaWdodDoxMHB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB3aWR0aDoxMHB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBwYWRkaW5nOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIG1hcmdpbjowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCB3aGl0ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgNXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpLCAwIDAgM3B4IHJnYmEoMCwwLDAsMC44KSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgLW1vei1ib3gtc2hhZG93Omluc2V0IDAgNXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpLCAwIDAgM3B4IHJnYmEoMCwwLDAsMC44KSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm94LXNoYWRvdzppbnNldCAwIDVweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwgMCAwIDNweCByZ2JhKDAsMCwwLDAuOCkhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIG9wYWNpdHk6MC44IWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1kb3QsXAogICAgICAgICAgICAjc3AtZnctY3VyLW1vZGUge1wKICAgICAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB6LWluZGV4Ojk5OTkhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHdpZHRoOjVweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgaGVpZ2h0OjVweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgcGFkZGluZzowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCB3aGl0ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgb3BhY2l0eToxIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwgMHB4IDFweCAycHggcmdiYSgwLDAsMCwwLjkpIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAtbW96LWJveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwgMHB4IDFweCAycHggcmdiYSgwLDAsMCwwLjkpIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBib3gtc2hhZG93Omluc2V0IDAgLTJweCAxcHggcmdiYSgwLDAsMCwwLjMpLGluc2V0IDAgMnB4IDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMyksIDBweCAxcHggMnB4IHJnYmEoMCwwLDAsMC45KSFpbXBvcnRhbnQ7XAogICAgICAgICAgICB9XAogICAgICAgICAgICAjc3AtZnctZG90e1wKICAgICAgICAgICAgICAgIHJpZ2h0Oi0zcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHRvcDotM3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1jdXItbW9kZXtcCiAgICAgICAgICAgICAgICBsZWZ0Oi0zcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHRvcDotM3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB3aWR0aDo2cHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGhlaWdodDo2cHghaW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LWNvbnRlbnR7XAogICAgICAgICAgICAgICAgcGFkZGluZzowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBtYXJnaW46NXB4IDVweCAwIDAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIC1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkICNBMEEwQTAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzotMnB4IDJweCA1cHggcmdiYSgwLDAsMCwwLjMpIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAtbW96LWJveC1zaGFkb3c6LTJweCAycHggNXB4IHJnYmEoMCwwLDAsMC4zKSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm94LXNoYWRvdzotMnB4IDJweCA1cHggcmdiYSgwLDAsMCwwLjMpIWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgICAgICNzcC1mdy1tYWluIHtcCiAgICAgICAgICAgICAgICBwYWRkaW5nOjVweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCB3aGl0ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgLW1vei1ib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6I0YyRjJGNyFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjRkNGQ0ZDLCAjRjJGMkY3IDEwMCUpIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAwLCAwIDEwMCUsIGZyb20oI0ZDRkNGQyksIHRvKCNGMkYyRjcpKSFpbXBvcnRhbnQ7XAogICAgICAgICAgICB9XAogICAgICAgICAgICAjc3AtZnctZm9vdHtcCiAgICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgbGVmdDowIWltcG9ydGFudDtcCiAgICAgICAgICAgICByaWdodDowIWltcG9ydGFudDtcCiAgICAgICAgICAgICBtaW4taGVpZ2h0OjIwcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LXNhdmVidXR0b257XAogICAgICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHRvcDowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICByaWdodDoycHghaW1wb3J0YW50O1wKICAgICAgICAgICAgfVwKICAgICAgICAgICAgI3NwLWZ3LWNvbnRhaW5lciAuc3AtZnctc3BhbmJ1dHRvbntcCiAgICAgICAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkICNjY2MhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIC1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBwYWRkaW5nOjJweCAzcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGN1cnNvcjpwb2ludGVyIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNGOUY5RjkhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDEwcHggNXB4IHdoaXRlIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAtbW96LWJveC1zaGFkb3c6aW5zZXQgMCAxMHB4IDVweCB3aGl0ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm94LXNoYWRvdzppbnNldCAwIDEwcHggNXB4IHdoaXRlIWltcG9ydGFudDtcCiAgICAgICAgICAgIH1cCiAgICAgICAgJyk7CgogICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBkaXYuaWQgPSAnc3AtZnctY29udGFpbmVyJzsKICAgICAgICBkaXYuaW5uZXJIVE1MID0gJ1wKICAgICAgICAgICAgPGRpdiBpZD0ic3AtZnctcmVjdCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6IzAwMDsiPlwKICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNwLWZ3LWRvdCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvZGl2PlwKICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNwLWZ3LWN1ci1tb2RlIiBzdHlsZT0iZGlzcGxheTpub25lOyI+PC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgIDxkaXYgaWQ9InNwLWZ3LWNvbnRlbnQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5cCiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzcC1mdy1tYWluIj5cCiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic3AtZnctbWFpbi1oZWFkIj5cCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgdGl0bGU9IuS9v+eUqOe/u+mhteaooeW8jyzlkKbliJnkvb/nlKjpooTor7vmqKHlvI8iIGlkPSJzcC1mdy1hX2VuYWJsZSIgbmFtZT0ic3AtZnctYV9lbmFibGUiLz7kvb/nlKjnv7vpobXmqKHlvI9cCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzcC1mdy1zcGFuLWluZm8iPlN1cGVyX3ByZWxvYWRlcjwvc3Bhbj5cCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XAogICAgICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cCiAgICAgICAgICAgICAgICAgICAgICAgIDxsZWdlbmQgdGl0bGU9IumihOivu+aooeW8j+eahOebuOWFs+iuvue9riIgPumihOivu+iuvue9rjwvbGVnZW5kPlwKICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiB0aXRsZT0i5L2/55SoaWZyYW1l6aKE5YWI6L295YWl5aW95LiL5LiA6aG15Yiw57yT5a2YLOWQpuWImeS9v+eUqHhocuivt+axguS4i+S4gOmhtea6kOeggSzlj5blh7rmiYDmnInnmoTlm77niYfov5vooYzpooTor7siIGlkPSJzcC1mdy11c2VpZnJhbWUiIG5hbWU9InNwLWZ3LXVzZWlmcmFtZSIvPuS9v+eUqGlmcmFtZeaWueW8j1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHRpdGxlPSLmn6XnnIvpooTor7vnmoTlhoXlrrks5bCG5YW25pi+56S65Zyo6aG16Z2i55qE5bqV6YOoLOeci+eci+mihOivu+S6huS6m+S7gOS5iC4iIGlkPSJzcC1mdy12aWV3Y29udGVudCIgbmFtZT0ic3AtZnctdmlld2NvbnRlbnQiLz7mn6XnnIvpooTor7vnmoTlhoXlrrlcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlwKICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cCiAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD5cCiAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGlkPSJzcC1mdy1hdXRvcGFnZXItZmllbGQiIHN0eWxlPSJkaXNwbGF5OmJsb2NrOyI+XAogICAgICAgICAgICAgICAgICAgICAgICA8bGVnZW5kIHRpdGxlPSLoh6rliqjnv7vpobXmqKHlvI/nmoTnm7jlhbPorr7nva4iPue/u+mhteiuvue9rjwvbGVnZW5kPlwKICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiB0aXRsZT0i5L2/55SoaWZyYW1l5pa55byP6L+b6KGM57+76aG1LOWQpuWImeS9v+eUqHhocuaWueW8j+e/u+mhtSzlj6/ku6Xop6PlhrPmn5DkupvnvZHpobV4aHLmlrnlvI/ml6Dms5Xnv7vpobXnmoTpl67popgs5aaC5p6ceGhy57+76aG15q2j5bi455qE6K+dLOWwseS4jeimgeWLvui/memhueWQpy4iIGlkPSJzcC1mdy1hX3VzZWlmcmFtZSIgbmFtZT0ic3AtZnctYV91c2VpZnJhbWUiLz7kvb/nlKhpZnJhbWXmlrnlvI88L2lucHV0PlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHRpdGxlPSLmr4/kuKrkuIvkuIDpobXpg73nlKjmlrDnmoRpZnJhbWXvvIzlj6/ku6Xop6PlhrPkuIvkuIDpobXlm77niYfmiJbmjInpkq7ngrnlh7vnmoTpl67popgiIGlkPSJzcC1mdy1hX25ld0lmcmFtZSIgbmFtZT0ic3AtZnctYV9uZXdJZnJhbWUiPuaWsGlmcmFtZTwvaW5wdXQ+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBpZD0ic3AtZnctYV91c2VpZnJhbWUtZXh0ZW5kIj5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHRpdGxlPSLnrYnlvoVpZnJhbWXlrozlhajovb3lhaXlkI4o5Y+R55SfbG9hZOS6i+S7tiks5bCG5YaF5a655Y+W5Ye6LOWQpuWImeWcqERPTeWujOaIkOWQjizlsLHnm7TmjqXlj5blh7rmnaUuLijli77kuIrlkI4s5Lya5q+U6L6D5oWiLOS9huaYr+WPr+iDveS8muino+WGs+S4gOS6m+mXrumimC4pIiBpZD0ic3AtZnctYV9pbG9hZGVkIiBuYW1lPSJzcC1mdy1hX2lsb2FkZWQiIC8+562J5b6FaWZyYW1l5a6M5YWo6L295YWlXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiICBtaW49IjAiIHRpdGxlPSLlnKjlj6/ku6Xku45pZnJhbWXlj5bmlbDmja7nmoTml7blgJks57un57ut562J5b6F6K6+5a6a55qE5q+r56eS5omN5byA5aeL5Y+W5Ye65pWw5o2uKOatpOmhueS4uueJueauiue9kemhteWHhuWkhyzlpoLmnpzmraPluLgs6K+36K6+572u5Li6MCkiIGlkPSJzcC1mdy1hX2l0aW1lb3V0IiBuYW1lPSJzcC1mdy1hX2l0aW1lb3V0Ii8+bXPlu7bml7blj5blh7pcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNwLWZ3LWFfbWFudWFsQSIgbmFtZT0ic3AtZnctYV9tYW51YWxBIiB0aXRsZT0i5LiN5Lya6Ieq5Yqo5ou85o6l5LiK5p2lLOS8muWHuueOsOS4gOS4quexu+S8vOe/u+mhteWvvOiIqueahOeahOWbvuW9oizngrnlh7vnv7vpobUo5Zyo6K665Z2b55qE5biW5a2Q5YaF5a656aG16Z2iLOWPr+S7peiAg+iZkeWLvumAieatpOmhuSzku47ogIzkuI3lvbHlk43kvaDnmoTlm57luJYpIi8+5omL5Yqo5qih5byPXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDliankvZk8aW5wdXQgdHlwZT0ibnVtYmVyIiBtaW49IjAiIGlkPSJzcC1mdy1hX3JlbWFpbiIgbmFtZT0ic3AtZnctYV9yZW1haW4iIHRpdGxlPSLlvZPliankvZnnmoTpobXpnaLnmoTpq5jluqbmmK/mtY/op4jlmajlj6/op4Hnqpflj6Ppq5jluqbnmoTlh6DlgI3lvIDlp4vnv7vpobUiLz7lgI3pobXpnaLpq5jluqbop6blj5FcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOacgOWkmue/uzxpbnB1dCB0eXBlPSJudW1iZXIiIG1pbj0iMCIgaWQ9InNwLWZ3LWFfbWF4cGFnZSIgbmFtZT0ic3AtZnctYV9tYXhwYWdlIiB0aXRsZT0i5pyA5aSa57+76aG15pWw6YePLOW9k+i+vuWIsOi/meS4que/u+mhteaVsOmHj+eahOaXtuWAmSzoh6rliqjnv7vpobXlgZzmraIuIiAvPumhtVwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcC1mdy1hX3NlcGFyYXRvciIgbmFtZT0ic3AtZnctYV9zZXBhcmF0b3IiIHRpdGxlPSLliIblibLpobXpnaLkuLvopoHlhoXlrrnnmoTlr7zoiKrmnaEs5Y+v5Lul6L+b6KGM6aG16Z2i5Li76KaB5YaF5a655LmL6Ze055qE5b+r6YCf6Lez6L2s5a6a5L2N562JLiIvPuaYvuekuue/u+mhteWvvOiIqlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHRpdGxlPSLlsIbkuIvkuIDpobXnmoRib2R56YOo5YiG5YaF5a655pW05Liq5ou85o6l5LiK5p2lLijlvZPpnIDnv7vpobXnmoTnvZHnq5nmsqHmnInpq5jnuqfop4TliJnml7Ys6K+l6aG55by65Yi25Yu+6YCJLOaXoOazleWPlua2iC4pIiBpZD0ic3AtZnctYV9mb3JjZSIgbmFtZT0ic3AtZnctYV9mb3JjZSIvPuW8uuWItuaLvOaOpVwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcC1mdy1hX2lwYWdlc18wIiBuYW1lPSJzcC1mdy1hX2lwYWdlc18wIiB0aXRsZT0i5ZyoSlPliqDovb3lkI4s56uL5Y2z6L+e57ut57+75ZCO6Z2i6K6+5a6a55qE6aG15pWwIi8+5ZCv55SoIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnq4vljbPnv7s8aW5wdXQgdHlwZT0ibnVtYmVyIiBtaW49IjEiIGlkPSJzcC1mdy1hX2lwYWdlc18xIiBuYW1lPSJzcC1mdy1hX2lwYWdlc18xIiB0aXRsZT0i6L+e57ut57+76aG155qE5pWw6YePIiAvPumhtVwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0i5byA5aeLIiB0aXRsZT0i546w5Zyo56uL5Y2z5byA5aeL6L+e57ut57+76aG1IiBpZD0ic3AtZnctYV9zdGFydGkiIC8+XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XAogICAgICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XAogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InNwLWZ3LWZvb3QiPlwKICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic3AtZnctZW5hYmxlIiB0aXRsZT0i5oC75byA5YWzLOWQr+eUqGpzLOWQpuWImeemgeeUqC4iIG5hbWU9InNwLWZ3LWVuYWJsZSIvPuWQr+eUqFwKICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNwLWZ3LXNldHVwIiBjbGFzcz0ic3AtZnctc3BhbmJ1dHRvbiIgdGl0bGU9IuaJk+W8gOiuvue9rueql+WPoyI+6K6+572uPC9zcGFuPlwKICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNwLWZ3LXNhdmVidXR0b24iIGNsYXNzPSJzcC1mdy1zcGFuYnV0dG9uIiB0aXRsZT0i5L+d5a2Y6K6+572uIj7kv53lrZg8L3NwYW4+XAogICAgICAgICAgICAgICAgICAgIDwvZGl2PlwKICAgICAgICAgICAgICAgIDwvZGl2PlwKICAgICAgICAgICAgPC9kaXY+XAogICAgICAgICc7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwoKICAgICAgICBmdW5jdGlvbiAkKGlkKSB7CiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgcmVjdCA9ICQoJ3NwLWZ3LXJlY3QnKTsgLy/mgqzmta7nqpfnmoTlsI/mraPmlrnlvaIs55So6aKc6Imy5o+P6L+w5b2T5YmN55qE54q25oCBLgogICAgICAgIHZhciBzcGFuZWwgPSAkKCdzcC1mdy1jb250ZW50Jyk7IC8v6K6+572u6Z2i5p2/LgoKICAgICAgICB2YXIgc3BhbmVsYyA9IHsKICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBzcGFuZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgc3BhbmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0sCiAgICAgICAgfTsKICAgICAgICB2YXIgcmVjdHQxLCByZWN0dDI7CiAgICAgICAgLy/orr7nva7pnaLmnb/mmL7pmpAKICAgICAgICByZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgcmVjdHQxID0gc2V0VGltZW91dChzcGFuZWxjLnNob3csIDEwMCk7CiAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIHJlY3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWN0dDEpOwogICAgICAgIH0sIGZhbHNlKTsKCiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlY3R0Mik7CiAgICAgICAgfSwgZmFsc2UpOwoKICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGlmIChlLnJlbGF0ZWRUYXJnZXQgJiYgZS5yZWxhdGVkVGFyZ2V0LmRpc2FibGVkKSByZXR1cm47IC8vZm9yIGZpcmVmb3ggYW5kIGNocm9tZQogICAgICAgICAgICByZWN0dDIgPSBzZXRUaW1lb3V0KHNwYW5lbGMuaGlkZSwgMjg4KTsKICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgIHZhciBkb3QgPSAkKCdzcC1mdy1kb3QnKTsgLy/ovb3lhaXlrozmiJDlkI4s5pi+56S655qE5bCP54K5CiAgICAgICAgZG90LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IEZXS0dfY29sb3IuZG90OwoKICAgICAgICB2YXIgY3VyX21vZGUgPSAkKCdzcC1mdy1jdXItbW9kZScpOyAvL+W9k+i9veWFpeeKtuaAgeaXtiznlKjmnaXmj4/ov7DlvZPliY3mmK/nv7vpobXmqKHlvI8s6L+Y5piv6aKE6K+75qih5byPLgogICAgICAgIGN1cl9tb2RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFNTUy5hX2VuYWJsZSA/IEZXS0dfY29sb3IuYXV0b3BhZ2VyIDogRldLR19jb2xvci5wcmVmZXRjaGVyOwoKICAgICAgICB2YXIgYV9lbmFibGUgPSAkKCdzcC1mdy1hX2VuYWJsZScpOyAvL+WQr+eUqOe/u+mhteaooeW8jwogICAgICAgIHZhciBhdXRvcGFnZXJfZmllbGQgPSAkKCdzcC1mdy1hdXRvcGFnZXItZmllbGQnKTsgLy/nv7vpobXorr7nva7ljLrln58KCiAgICAgICAgLy/pooTor7vorr7nva4KICAgICAgICB2YXIgdXNlaWZyYW1lID0gJCgnc3AtZnctdXNlaWZyYW1lJyk7CiAgICAgICAgdmFyIHZpZXdjb250ZW50ID0gJCgnc3AtZnctdmlld2NvbnRlbnQnKTsKCiAgICAgICAgLy/nv7vpobXorr7nva4KICAgICAgICB2YXIgYV91c2VpZnJhbWUgPSAkKCdzcC1mdy1hX3VzZWlmcmFtZScpOwogICAgICAgIHZhciBhX2lsb2FkZWQgPSAkKCdzcC1mdy1hX2lsb2FkZWQnKTsKICAgICAgICB2YXIgYV9pdGltZW91dCA9ICQoJ3NwLWZ3LWFfaXRpbWVvdXQnKTsKICAgICAgICB2YXIgYV9tYW51YWxBID0gJCgnc3AtZnctYV9tYW51YWxBJyk7CiAgICAgICAgdmFyIGFfcmVtYWluID0gJCgnc3AtZnctYV9yZW1haW4nKTsKICAgICAgICB2YXIgYV9tYXhwYWdlID0gJCgnc3AtZnctYV9tYXhwYWdlJyk7CiAgICAgICAgdmFyIGFfc2VwYXJhdG9yID0gJCgnc3AtZnctYV9zZXBhcmF0b3InKTsKICAgICAgICB2YXIgYV9pcGFnZXNfMCA9ICQoJ3NwLWZ3LWFfaXBhZ2VzXzAnKTsKICAgICAgICB2YXIgYV9pcGFnZXNfMSA9ICQoJ3NwLWZ3LWFfaXBhZ2VzXzEnKTsKICAgICAgICB2YXIgYV9mb3JjZSA9ICQoJ3NwLWZ3LWFfZm9yY2UnKTsKCiAgICAgICAgLy8gbmV3SWZyYW1lIOi+k+WFpeahhueahOeCueWHuwogICAgICAgIHZhciBhX25ld0lmcmFtZSA9ICQoJ3NwLWZ3LWFfbmV3SWZyYW1lJyk7CiAgICAgICAgYV9uZXdJZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpewogICAgICAgICAgICBhX3VzZWlmcmFtZS5jaGVja2VkID0gYV9uZXdJZnJhbWUuY2hlY2tlZDsKICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgIHZhciBhX3N0YXJ0aSA9ICQoJ3NwLWZ3LWFfc3RhcnRpJyk7IC8v5byA5aeL56uL5Y2z57+76aG1CiAgICAgICAgYV9zdGFydGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjsKICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGFfaXBhZ2VzXzEudmFsdWUpOwogICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlIDw9IDApIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gU1NTLmFfaXBhZ2VzWzFdOwogICAgICAgICAgICAgICAgYV9pcGFnZXNfMS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGF1dG9QTy5zdGFydGlwYWdlcyh2YWx1ZSk7CiAgICAgICAgfSwgZmFsc2UpOwoKICAgICAgICAvL+aAu+W8gOWFswogICAgICAgIHZhciBlbmFibGUgPSAkKCdzcC1mdy1lbmFibGUnKTsKICAgICAgICAkKCdzcC1mdy1zZXR1cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0dXAsIGZhbHNlKTsKCiAgICAgICAgLy8g5L+d5a2Y6K6+572u5oyJ6ZKuLgogICAgICAgIHZhciBzYXZlYnV0dG9uID0gJCgnc3AtZnctc2F2ZWJ1dHRvbicpOwogICAgICAgIHNhdmVidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHsKICAgICAgICAgICAgICAgIFJ1cmw6IFNTUy5SdXJsLAogICAgICAgICAgICAgICAgdXNlaWZyYW1lOiBnbCh1c2VpZnJhbWUpLAogICAgICAgICAgICAgICAgdmlld2NvbnRlbnQ6IGdsKHZpZXdjb250ZW50KSwKICAgICAgICAgICAgICAgIGVuYWJsZTogZ2woZW5hYmxlKSwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIGdsKG9iaikgewogICAgICAgICAgICAgICAgcmV0dXJuIChvYmoudHlwZSA9PSAnY2hlY2tib3gnID8gb2JqLmNoZWNrZWQgOiBvYmoudmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChTU1MuYV9lbmFibGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgdmFsdWUuYV9lbmFibGUgPSBnbChhX2VuYWJsZSk7CiAgICAgICAgICAgICAgICB2YWx1ZS5hX3VzZWlmcmFtZSA9IGdsKGFfdXNlaWZyYW1lKTsKICAgICAgICAgICAgICAgIHZhbHVlLmFfbmV3SWZyYW1lID0gZ2woYV9uZXdJZnJhbWUpOwogICAgICAgICAgICAgICAgdmFsdWUuYV9pbG9hZGVkID0gZ2woYV9pbG9hZGVkKTsKICAgICAgICAgICAgICAgIHZhbHVlLmFfbWFudWFsQSA9IGdsKGFfbWFudWFsQSk7CiAgICAgICAgICAgICAgICB2YWx1ZS5hX2ZvcmNlID0gZ2woYV9mb3JjZSk7CiAgICAgICAgICAgICAgICB2YXIgdF9hX2l0aW1lb3V0ID0gTnVtYmVyKGdsKGFfaXRpbWVvdXQpKTsKICAgICAgICAgICAgICAgIHZhbHVlLmFfaXRpbWVvdXQgPSBpc05hTih0X2FfaXRpbWVvdXQpID8gU1NTLmFfaXRpbWVvdXQgOiAodF9hX2l0aW1lb3V0ID49IDAgPyB0X2FfaXRpbWVvdXQgOiAwKTsKICAgICAgICAgICAgICAgIHZhciB0X2FfcmVtYWluID0gTnVtYmVyKGdsKGFfcmVtYWluKSk7CiAgICAgICAgICAgICAgICB2YWx1ZS5hX3JlbWFpbiA9IGlzTmFOKHRfYV9yZW1haW4pID8gU1NTLmFfcmVtYWluIDogTnVtYmVyKHRfYV9yZW1haW4udG9GaXhlZCgyKSk7CiAgICAgICAgICAgICAgICB2YXIgdF9hX21heHBhZ2UgPSBOdW1iZXIoZ2woYV9tYXhwYWdlKSk7CiAgICAgICAgICAgICAgICB2YWx1ZS5hX21heHBhZ2UgPSBpc05hTih0X2FfbWF4cGFnZSkgPyBTU1MuYV9tYXhwYWdlIDogKHRfYV9tYXhwYWdlID49IDEgPyB0X2FfbWF4cGFnZSA6IDEpOwogICAgICAgICAgICAgICAgdmFyIHRfYV9pcGFnZXNfMSA9IE51bWJlcihnbChhX2lwYWdlc18xKSk7CiAgICAgICAgICAgICAgICB2YWx1ZS5hX2lwYWdlcyA9IFtnbChhX2lwYWdlc18wKSwgKGlzTmFOKHRfYV9pcGFnZXNfMSkgPyBTU1MuYV9pcGFnZXNbMV0gOiAodF9hX2lwYWdlc18xID49IDEgPyB0X2FfaXBhZ2VzXzEgOiAxKSldOwogICAgICAgICAgICAgICAgdmFsdWUuYV9zZXBhcmF0b3IgPSBnbChhX3NlcGFyYXRvcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9hbGVydCh4VG9TdHJpbmcodmFsdWUpKTsKICAgICAgICAgICAgU1NTLnNhdmVkVmFsdWVbU1NTLnNlZFZhbHVlSW5kZXhdID0gdmFsdWU7CiAgICAgICAgICAgIC8vYWxlcnQoeFRvU3RyaW5nKFNTUy5zYXZlZFZhbHVlKSk7CiAgICAgICAgICAgIHNhdmVWYWx1ZSgnc3Bmd3NldCcsIHhUb1N0cmluZyhTU1Muc2F2ZWRWYWx1ZSkpOwogICAgICAgICAgICBpZiAoKGUuc2hpZnRLZXkgPyAhcHJlZnMuRldfUkFTIDogcHJlZnMuRldfUkFTKSkgeyAvL+aMieS9j3NoaWZ06ZSuLOaJp+ihjOWPjeWQkeaTjeS9nC4KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0sIDEpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgZmFsc2UpOwoKICAgICAgICBmdW5jdGlvbiBsbChvYmosIHZhbHVlKSB7CiAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSAnY2hlY2tib3gnKSB7CiAgICAgICAgICAgICAgICBvYmouY2hlY2tlZCA9IHZhbHVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb2JqLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v6L295YWl57+76aG16K6+572uLgogICAgICAgIGlmIChTU1MuYV9lbmFibGUgPT09IHVuZGVmaW5lZCkgeyAvL+acquWumuS5iee/u+mhteWKn+iDvS4KICAgICAgICAgICAgYV9lbmFibGUuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICBhdXRvcGFnZXJfZmllbGQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsbChhX2VuYWJsZSwgU1NTLmFfZW5hYmxlKTsKICAgICAgICAgICAgbGwoYV91c2VpZnJhbWUsIFNTUy5hX3VzZWlmcmFtZSk7CiAgICAgICAgICAgIGxsKGFfbmV3SWZyYW1lLCBTU1MuYV9uZXdJZnJhbWUpOwogICAgICAgICAgICBsbChhX2lsb2FkZWQsIFNTUy5hX2lsb2FkZWQpOwogICAgICAgICAgICBsbChhX2l0aW1lb3V0LCBTU1MuYV9pdGltZW91dCk7CiAgICAgICAgICAgIGxsKGFfbWFudWFsQSwgU1NTLmFfbWFudWFsQSk7CiAgICAgICAgICAgIGxsKGFfZm9yY2UsIFNTUy5hX2ZvcmNlKTsKICAgICAgICAgICAgbGwoYV9yZW1haW4sIFNTUy5hX3JlbWFpbik7CiAgICAgICAgICAgIGxsKGFfbWF4cGFnZSwgU1NTLmFfbWF4cGFnZSk7CiAgICAgICAgICAgIGxsKGFfc2VwYXJhdG9yLCBTU1MuYV9zZXBhcmF0b3IpOwogICAgICAgICAgICBsbChhX2lwYWdlc18wLCBTU1MuYV9pcGFnZXNbMF0pOwogICAgICAgICAgICBsbChhX2lwYWdlc18xLCBTU1MuYV9pcGFnZXNbMV0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFTU1MuYV9lbmFibGUpIHsgLy/lvZPliY3kuI3mmK/nv7vpobXmqKHlvI8s56aB55So56uL5Y2z57+76aG15oyJ6ZKuLgogICAgICAgICAgICBhX3N0YXJ0aS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIVNTUy5oYXNSdWxlKSB7IC8v5aaC5p6c5rKh5pyJ6auY57qn6KeE5YiZLOmCo+S5iOatpOmhueS4jeWFgeiuuOaTjeS9nC4KICAgICAgICAgICAgYV9mb3JjZS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICAvL+i9veWFpemihOivu+iuvue9ri4KICAgICAgICBsbCh1c2VpZnJhbWUsIFNTUy51c2VpZnJhbWUpOwogICAgICAgIGxsKHZpZXdjb250ZW50LCBTU1Mudmlld2NvbnRlbnQpOwoKICAgICAgICAvL+aAu+W8gOWFswogICAgICAgIGxsKGVuYWJsZSwgU1NTLmVuYWJsZSk7CgogICAgICAgIHZhciBGV0tHX3N0YXRlID0gewogICAgICAgICAgICBsb2FkaW5nOiAn6K+75Y+W5Lit54q25oCBJywKICAgICAgICAgICAgcHJlZmV0Y2hlcjogJ+mihOivu+eKtuaAgScsCiAgICAgICAgICAgIGF1dG9wYWdlcjogJ+e/u+mhteeKtuaAgScsCiAgICAgICAgICAgIEFwYXVzZTogJ+e/u+mhteeKtuaAgSjmmoLlgZwpJywKICAgICAgICAgICAgQXN0b3A6ICfnv7vpobXnirbmgIEo5YGc5q2iKSjnv7vpobXlrozmiJAs5oiW6ICF6KKr5byC5bi45YGc5q2iKSjml6Dms5Xlho3lvIDlkK8pJywKICAgICAgICAgICAgZG90OiAn6K+75Y+W5a6M5ZCOJywKICAgICAgICB9OwoKICAgICAgICBmbG9hdFdPID0gewogICAgICAgICAgICB1cGRhdGVDb2xvcjogZnVuY3Rpb24oc3RhdGUpIHsKICAgICAgICAgICAgICAgIHJlY3Quc3R5bGUuYmFja2dyb3VuZENvbG9yID0gRldLR19jb2xvcltzdGF0ZV07CiAgICAgICAgICAgICAgICByZWN0LnNldEF0dHJpYnV0ZSgidGl0bGUiLCBGV0tHX3N0YXRlW3N0YXRlXSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxvYWRlZEljb246IGZ1bmN0aW9uKGNvbW1hbmQpIHsKICAgICAgICAgICAgICAgIGRvdC5zdHlsZS5kaXNwbGF5ID0gY29tbWFuZCA9PSAnc2hvdycgPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgICAgICB9LAogICAgICAgICAgICBDbW9kZUljb246IGZ1bmN0aW9uKGNvbW1hbmQpIHsKICAgICAgICAgICAgICAgIGN1cl9tb2RlLnN0eWxlLmRpc3BsYXkgPSBjb21tYW5kID09ICdzaG93JyA/ICdibG9jaycgOiAnbm9uZSc7CiAgICAgICAgICAgIH0sCiAgICAgICAgfTsKCgogICAgICAgIHZhciB2ZXJ0aWNhbCA9IHBhcnNlSW50KHByZWZzLkZXX29mZnNldFswXSwgMTApOwogICAgICAgIHZhciBob3JpeiA9IHBhcnNlSW50KHByZWZzLkZXX29mZnNldFsxXSwgMTApOwogICAgICAgIHZhciBGV19wb3NpdGlvbiA9IHByZWZzLkZXX3Bvc2l0aW9uOwoKICAgICAgICAvLyDpnZ5vcGVyYeeUqGZpeGVk5a6a5L2NLgogICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgICAgICAgc3dpdGNoIChGV19wb3NpdGlvbikgewogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gdmVydGljYWwgKyAncHgnOwogICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBob3JpeiArICdweCc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHZlcnRpY2FsICsgJ3B4JzsKICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5yaWdodCA9IGhvcml6ICsgJ3B4JzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYm90dG9tID0gdmVydGljYWwgKyAncHgnOwogICAgICAgICAgICAgICAgZGl2LnN0eWxlLnJpZ2h0ID0gaG9yaXogKyAncHgnOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5ib3R0b20gPSB2ZXJ0aWNhbCArICdweCc7CiAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGhvcml6ICsgJ3B4JzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNwX3RyYW5zaXRpb24oc3RhcnQsIGVuZCkgewogICAgICAgIHZhciBUd2VlbkYgPSBzcF90cmFuc2l0aW9uLlR3ZWVuRjsKICAgICAgICBpZiAoIVR3ZWVuRikgewogICAgICAgICAgICBUd2VlbkYgPSBUd2VlbltUd2Vlbk1bcHJlZnMuc19tZXRob2RdXTsKICAgICAgICAgICAgVHdlZW5GID0gVHdlZW5GW1R3ZWVuRWFzZVtwcmVmcy5zX2Vhc2VdXSB8fCBUd2VlbkY7CiAgICAgICAgICAgIHNwX3RyYW5zaXRpb24uVHdlZW5GID0gVHdlZW5GOwogICAgICAgIH0KICAgICAgICB2YXIgZnJhbWVTcGVlZCA9IDEwMDAgLyBwcmVmcy5zX0ZQUzsKICAgICAgICB2YXIgdCA9IDA7IC8v5qyh5pWwLOW8gOWniwogICAgICAgIHZhciBiID0gc3RhcnQ7IC8v5byA5aeLCiAgICAgICAgdmFyIGMgPSBlbmQgLSBzdGFydDsgLy/nu5PmnZ8KICAgICAgICB2YXIgZCA9IE1hdGguY2VpbChwcmVmcy5zX2R1cmF0aW9uIC8gZnJhbWVTcGVlZCk7IC8v5qyh5pWwLOe7k+adnwoKICAgICAgICB2YXIgeCA9IHdpbmRvdy5zY3JvbGxYOwoKICAgICAgICBmdW5jdGlvbiB0cmFuc2l0aW9uKCkgewogICAgICAgICAgICB2YXIgeSA9IE1hdGguY2VpbChUd2VlbkYodCwgYiwgYywgZCkpOwogICAgICAgICAgICAvL2FsZXJ0KHkpOwogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHgsIHkpOwogICAgICAgICAgICBpZiAodCA8IGQpIHsKICAgICAgICAgICAgICAgIHQrKzsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodHJhbnNpdGlvbiwgZnJhbWVTcGVlZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdHJhbnNpdGlvbigpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlcEhhbmRsZXIoZSkgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgdmFyIGRpdiA9IHRoaXM7CiAgICAgICAgLy9hbGVydChkaXYpOwogICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKICAgICAgICAvL2FsZXJ0KHRhcmdldCk7CgogICAgICAgIGZ1bmN0aW9uIGdldFJlbGF0aXZlRGl2KHdoaWNoKSB7CiAgICAgICAgICAgIHZhciBpZCA9IGRpdi5pZDsKICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKC8oc3Atc2VwYXJhdG9yLSkoLispLywgZnVuY3Rpb24oYSwgYiwgYykgewogICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBTdHJpbmcoKE51bWJlcihjKSArICh3aGljaCA9PSAncHJlJyA/IC0xIDogMSkpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vYWxlcnQoaWQpOwogICAgICAgICAgICByZXR1cm4gKGlkID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDogbnVsbCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzY3JvbGxJdChhLCBiKSB7CiAgICAgICAgICAgIC8vYT1hIT09dW5kZWZpbmVkPyBhIDogd2luZG93LnNjcm9sbFk7CiAgICAgICAgICAgIGlmIChwcmVmcy5zZXBUKSB7CiAgICAgICAgICAgICAgICBzcF90cmFuc2l0aW9uKGEsIGIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbCh3aW5kb3cuc2Nyb2xsWCwgYik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBvX3Njcm9sbFksIGRpdlM7CgogICAgICAgIHN3aXRjaCAodGFyZ2V0LmNsYXNzTmFtZSkgewogICAgICAgICAgICBjYXNlICdzcC1zcC1nb3RvcCc6CiAgICAgICAgICAgICAgICBzY3JvbGxJdCh3aW5kb3cuc2Nyb2xsWSwgMCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc3Atc3AtZ29wcmUnOgogICAgICAgICAgICAgICAgdmFyIHByZWRpdiA9IGdldFJlbGF0aXZlRGl2KCdwcmUnKTsKICAgICAgICAgICAgICAgIGlmICghcHJlZGl2KSByZXR1cm47CiAgICAgICAgICAgICAgICBvX3Njcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICAgICAgICAgIHZhciBwcmVEUyA9IHByZWRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CiAgICAgICAgICAgICAgICBpZiAocHJlZnMuc2VwUCkgewogICAgICAgICAgICAgICAgICAgIGRpdlMgPSBkaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwogICAgICAgICAgICAgICAgICAgIHByZURTID0gb19zY3JvbGxZIC0gKGRpdlMgLSBwcmVEUyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHByZURTICs9IG9fc2Nyb2xsWSAtIDY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzY3JvbGxJdChvX3Njcm9sbFksIHByZURTKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdzcC1zcC1nb25leHQnOgogICAgICAgICAgICAgICAgdmFyIG5leHRkaXYgPSBnZXRSZWxhdGl2ZURpdignbmV4dCcpOwogICAgICAgICAgICAgICAgaWYgKCFuZXh0ZGl2KSByZXR1cm47CiAgICAgICAgICAgICAgICBvX3Njcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICAgICAgICAgIHZhciBuZXh0RFMgPSBuZXh0ZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsKICAgICAgICAgICAgICAgIGlmIChwcmVmcy5zZXBQKSB7CiAgICAgICAgICAgICAgICAgICAgZGl2UyA9IGRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CiAgICAgICAgICAgICAgICAgICAgbmV4dERTID0gb19zY3JvbGxZICsgKC1kaXZTICsgbmV4dERTKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dERTICs9IG9fc2Nyb2xsWSAtIDY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzY3JvbGxJdChvX3Njcm9sbFksIG5leHREUyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc3Atc3AtZ29ib3R0b20nOgogICAgICAgICAgICAgICAgc2Nyb2xsSXQod2luZG93LnNjcm9sbFksIE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KCiAgICAvL2F1dG9wYWdlcgogICAgdmFyIGF1dG9QTyA9IHsKICAgICAgICBzdGFydGlwYWdlczogbnVsbEZuLAogICAgfTsKICAgIHZhciBoYXNoY2hhbmdlQWRkZWQgPSBmYWxzZTsKCiAgICBmdW5jdGlvbiBhdXRvcGFnZXIoU1NTLCBmbG9hdFdPKSB7CiAgICAgICAgLy9yZXR1cm47CiAgICAgICAgLy/mm7TmlrDmgqzmta7nqpfnmoTpopzoibIuCiAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcignYXV0b3BhZ2VyJyk7CgogICAgICAgIC8v6I635Y+W5o+S5YWl5L2N572u6IqC54K5LgogICAgICAgIHZhciBpbnNlcnRQb2ludDsKICAgICAgICB2YXIgcGFnZUVsZW1lbnQ7CiAgICAgICAgdmFyIGluc2VydE1vZGU7CiAgICAgICAgaWYgKFNTUy5hX0hUX2luc2VydCkgewogICAgICAgICAgICBpbnNlcnRQb2ludCA9IGdldEVsZW1lbnQoU1NTLmFfSFRfaW5zZXJ0WzBdKTsKICAgICAgICAgICAgaW5zZXJ0TW9kZSA9IFNTUy5hX0hUX2luc2VydFsxXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwYWdlRWxlbWVudCA9IGdldEFsbEVsZW1lbnRzKFNTUy5hX3BhZ2VFbGVtZW50KTsKICAgICAgICAgICAgaWYgKHBhZ2VFbGVtZW50Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHZhciBwRUxhc3QgPSBwYWdlRWxlbWVudFtwYWdlRWxlbWVudC5sZW5ndGggLSAxXTsKICAgICAgICAgICAgICAgIGluc2VydFBvaW50ID0gcEVMYXN0Lm5leHRTaWJsaW5nID8gcEVMYXN0Lm5leHRTaWJsaW5nIDogcEVMYXN0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAnKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChpbnNlcnRQb2ludCkgewogICAgICAgICAgICBkZWJ1Zygn6aqM6K+B5piv5ZCm6IO95om+5Yiw5o+S5YWl5L2N572u6IqC54K5OuaIkOWKnywnLCBpbnNlcnRQb2ludCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQy5lcnJvcign6aqM6K+B5piv5ZCm6IO95om+5Yiw5o+S5YWl5L2N572u6IqC54K5OuWksei0pScsIChTU1MuYV9IVF9pbnNlcnQgPyBTU1MuYV9IVF9pbnNlcnRbMF0gOiAnJyksICdKU+aJp+ihjOe7iOatoicpOwogICAgICAgICAgICBmbG9hdFdPLnVwZGF0ZUNvbG9yKCdBc3RvcCcpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAocGFnZUVsZW1lbnQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwYWdlRWxlbWVudCA9IGdldEFsbEVsZW1lbnRzKFNTUy5hX3BhZ2VFbGVtZW50KTsKICAgICAgICB9CiAgICAgICAgaWYgKHBhZ2VFbGVtZW50Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZGVidWcoJ+mqjOivgeaYr+WQpuiDveaJvuWIsOS4u+imgeWFg+e0oDrmiJDlip8sJywgcGFnZUVsZW1lbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEMuZXJyb3IoJ+mqjOivgeaYr+WQpuiDveaJvuWIsOS4u+imgeWFg+e0oDrlpLHotKUsJywgU1NTLmFfcGFnZUVsZW1lbnQsICdKU+aJp+ihjOe7iOatoicpOwogICAgICAgICAgICBmbG9hdFdPLnVwZGF0ZUNvbG9yKCdBc3RvcCcpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoU1NTLmFfc3R5bGlzaCkgeyAgLy8g5o+S5YWl6Ieq5a6a5LmJ5qC35byPCiAgICAgICAgICAgIEdNX2FkZFN0eWxlKFNTUy5hX3N0eWxpc2gsICdTdXBlcl9wcmVsb2FkZXItc3R5bGUnKTsKICAgICAgICB9CgogICAgICAgIHZhciBpbnNlcnRQb2ludFA7CiAgICAgICAgaWYgKGluc2VydE1vZGUgIT0gMikgewogICAgICAgICAgICBpbnNlcnRQb2ludFAgPSBpbnNlcnRQb2ludC5wYXJlbnROb2RlOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFkZEludG9Eb2M7CiAgICAgICAgaWYgKGluc2VydE1vZGUgPT0gMikgewogICAgICAgICAgICBhZGRJbnRvRG9jID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5zZXJ0UG9pbnQuYXBwZW5kQ2hpbGQob2JqKTsKICAgICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRJbnRvRG9jID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5zZXJ0UG9pbnRQLmluc2VydEJlZm9yZShvYmosIGluc2VydFBvaW50KTsKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHZhciBkb2MsIHdpbjsKCiAgICAgICAgZnVuY3Rpb24gWEhSTG9hZGVkKHJlcSkgewogICAgICAgICAgICB2YXIgc3RyID0gcmVxLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgZG9jID0gd2luID0gY3JlYXRlRG9jdW1lbnRCeVN0cmluZyhzdHIpOwoKICAgICAgICAgICAgaWYgKCFkb2MpIHsKICAgICAgICAgICAgICAgIEMuZXJyb3IoJ+aWh+aho+WvueixoeWIm+W7uuWksei0pScpOwogICAgICAgICAgICAgICAgcmVtb3ZlTCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZsb2F0V08udXBkYXRlQ29sb3IoJ2F1dG9wYWdlcicpOwogICAgICAgICAgICBmbG9hdFdPLkNtb2RlSWNvbignaGlkZScpOwogICAgICAgICAgICBmbG9hdFdPLmxvYWRlZEljb24oJ3Nob3cnKTsKICAgICAgICAgICAgd29ya2luZyA9IGZhbHNlOwogICAgICAgICAgICBzY3JvbGwoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZUwoaXNSZW1vdmVBZGRQYWdlKSB7CiAgICAgICAgICAgIGRlYnVnKCfnp7vpmaTlkITnp43kuovku7bnm5HlkKwnKTsKICAgICAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcignQXN0b3AnKTsKICAgICAgICAgICAgdmFyIF9yZW1vdmUgPSByZW1vdmU7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IF9yZW1vdmUubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgICAgICAgX3JlbW92ZVtpXSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaXNSZW1vdmVBZGRQYWdlKSB7CiAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwLXNlcGFyYXRvcicpOwogICAgICAgICAgICAgICAgaWYgKHNlcGFyYXRvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBpbnNlcnRCZWZvcmUgPSBpbnNlcnRQb2ludDsKICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0TW9kZSA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gaW5zZXJ0UG9pbnQuY2hpbGRyZW4ubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSA9IGluc2VydFBvaW50LmNoaWxkcmVuW2wgLSAxXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShzZXBhcmF0b3IpOwogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEJlZm9yZShpbnNlcnRCZWZvcmUpOwogICAgICAgICAgICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7CiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZGV0YWNoKCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRNb2RlID09IDIpIHsgIC8vIOi/mOmcgOimgemineWkluenu+mZpO+8nwogICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb2ludC5yZW1vdmVDaGlsZChpbnNlcnRCZWZvcmUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTdXBlcl9wcmVsb2FkZXItc3R5bGUiKTsKICAgICAgICAgICAgICAgIGlmIChzdHlsZSkKICAgICAgICAgICAgICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoaXNIYXNoY2hhbmdlU2l0ZSAmJiAhaGFzaGNoYW5nZUFkZGVkKSB7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgb25oYXNoQ2hhbmdlLCBmYWxzZSk7CiAgICAgICAgICAgIGhhc2hjaGFuZ2VBZGRlZCA9IHRydWU7CiAgICAgICAgICAgIGRlYnVnKCfmiJDlip/mt7vliqAgaGFzaGNoYW5nZSDkuovku7YnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG9uaGFzaENoYW5nZShldmVudCkgewogICAgICAgICAgICBkZWJ1Zygi6Kem5Y+RIEhhc2hjaGFuZyDkuovku7YiKTsKICAgICAgICAgICAgcmVtb3ZlTCh0cnVlKTsKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIG5leHRsaW5rID0gZ2V0RWxlbWVudChTU1MubmV4dExpbmsgfHwgJ2F1dG87Jyk7CiAgICAgICAgICAgICAgICBuZXh0bGluayA9IGdldEZ1bGxIcmVmKG5leHRsaW5rKTsKICAgICAgICAgICAgICAgIC8vIHByZUxpbmsgPSBnZXRFbGVtZW50KFNTUy5wcmVMaW5rIHx8ICdhdXRvOycpOwogICAgICAgICAgICAgICAgYXV0b3BhZ2VyKFNTUywgZmxvYXRXTyk7CiAgICAgICAgICAgIH0sIGhhc2hjaGFuZ2VUaW1lcik7CiAgICAgICAgfQoKICAgICAgICB2YXIgaWZyYW1lOwogICAgICAgIHZhciBtZXNzYWdlUjsKCiAgICAgICAgZnVuY3Rpb24gaWZyYW1lTG9hZGVkKCkgewogICAgICAgICAgICB2YXIgaWZyYW1lID0gdGhpczsKICAgICAgICAgICAgLy9hbGVydCh0aGlzLmNvbnRlbnREb2N1bWVudC5ib2R5KQogICAgICAgICAgICB2YXIgYm9keSA9IGlmcmFtZS5jb250ZW50RG9jdW1lbnQuYm9keTsKICAgICAgICAgICAgaWYgKGJvZHkgJiYgYm9keS5maXJzdENoaWxkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGRvYyA9IGlmcmFtZS5jb250ZW50RG9jdW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlU2NyaXB0cyhkb2MpOwogICAgICAgICAgICAgICAgICAgIHdpbiA9IGlmcmFtZS5jb250ZW50V2luZG93IHx8IGRvYzsKICAgICAgICAgICAgICAgICAgICBmbG9hdFdPLnVwZGF0ZUNvbG9yKCdhdXRvcGFnZXInKTsKICAgICAgICAgICAgICAgICAgICBmbG9hdFdPLkNtb2RlSWNvbignaGlkZScpOwogICAgICAgICAgICAgICAgICAgIGZsb2F0V08ubG9hZGVkSWNvbignc2hvdycpOwogICAgICAgICAgICAgICAgICAgIHdvcmtpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsKCk7CiAgICAgICAgICAgICAgICB9LCBTU1MuYV9pdGltZW91dCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGlmcmFtZVJxdWVzdChsaW5rKSB7CiAgICAgICAgICAgIG1lc3NhZ2VSID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChTU1MuYV9uZXdJZnJhbWUgfHwgIWlmcmFtZSkgewogICAgICAgICAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgICAgIGlmcmFtZSA9IGk7CiAgICAgICAgICAgICAgICBpLm5hbWUgPSAnc3VwZXJwcmVsb2FkZXItaWZyYW1lJzsKICAgICAgICAgICAgICAgIGkud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgICAgICBpLmhlaWdodCA9ICcwJzsKICAgICAgICAgICAgICAgIGkuZnJhbWVCb3JkZXIgPSAiMCI7CiAgICAgICAgICAgICAgICBpLnN0eWxlLmNzc1RleHQgPSAnXAogICAgICAgICAgICAgICAgICAgIG1hcmdpbjowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTpoaWRkZW4haW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICc7CiAgICAgICAgICAgICAgICBpLnNyYyA9IGxpbms7CiAgICAgICAgICAgICAgICBpZiAoU1NTLmFfaWxvYWRlZCkgewogICAgICAgICAgICAgICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGlmcmFtZUxvYWRlZCwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpZnJhbWVMb2FkZWQsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VoYW5kbGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtZXNzYWdlUiAmJiBlLmRhdGEgPT0gJ3N1cGVycHJlbG9hZGVyLWlmcmFtZTpET01Mb2FkZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlUiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVMb2FkZWQuY2FsbChpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTU1MuYV9uZXdJZnJhbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG1lc3NhZ2VoYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbWVzc2FnZWhhbmRsZXIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICByZW1vdmUucHVzaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlaGFuZGxlciwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmcmFtZS5zcmMgPSBsaW5rOwogICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnREb2N1bWVudC5sb2NhdGlvbi5yZXBsYWNlKGxpbmspOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgd29ya2luZzsKCiAgICAgICAgZnVuY3Rpb24gZG9SZXF1ZXN0KCkgewogICAgICAgICAgICB3b3JraW5nID0gdHJ1ZTsKICAgICAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcignbG9hZGluZycpOwogICAgICAgICAgICBmbG9hdFdPLkNtb2RlSWNvbignc2hvdycpOwoKICAgICAgICAgICAgZGVidWcoJ+iOt+WPluS4i+S4gOmhtScgKyAoU1NTLmFfdXNlaWZyYW1lID8gJyhpZnJhbWXmlrnlvI8pJzogJycpLCBuZXh0bGluayk7CiAgICAgICAgICAgIGlmIChTU1MuYV91c2VpZnJhbWUpIHsKICAgICAgICAgICAgICAgIGlmcmFtZVJxdWVzdChuZXh0bGluayk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICB1cmw6IG5leHRsaW5rLAogICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlTWltZVR5cGU6ICd0ZXh0L2h0bWw7IGNoYXJzZXQ9JyArIGRvY3VtZW50LmNoYXJhY3RlclNldCwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IFhIUkxvYWRlZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBpcGFnZXNtb2RlID0gU1NTLmFfaXBhZ2VzWzBdOwogICAgICAgIHZhciBpcGFnZXNudW1iZXIgPSBTU1MuYV9pcGFnZXNbMV07CiAgICAgICAgdmFyIHNjcm9sbERvID0gbnVsbEZuOwogICAgICAgIHZhciBhZnRlckluc2VydERvID0gbnVsbEZuOwogICAgICAgIGlmIChwcmVmcy5BcGx1cykgewogICAgICAgICAgICBhZnRlckluc2VydERvID0gZG9SZXF1ZXN0OwogICAgICAgICAgICBkb1JlcXVlc3QoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzY3JvbGxEbyA9IGRvUmVxdWVzdDsKICAgICAgICAgICAgaWYgKGlwYWdlc21vZGUpIGRvUmVxdWVzdCgpOwogICAgICAgIH0KCiAgICAgICAgdmFyIG1hbnVhbERpdjsKCiAgICAgICAgZnVuY3Rpb24gbWFudWFsQWRpdigpIHsKICAgICAgICAgICAgaWYgKCFtYW51YWxEaXYpIHsKICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKCdcCiAgICAgICAgICAgICAgICAgICAgI3NwLXNwLW1hbnVhbGRpdntcCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OjEuNiFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OjEhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICB0b3A6MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBtaW4td2lkdGg6MzY2cHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6YXV0byFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MTRweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjNweCAwIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjo1cHggMTBweCA4cHg7XAogICAgICAgICAgICAgICAgICAgICAgICBjbGVhcjpib3RoIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci10b3A6MXB4IHNvbGlkICNjY2MhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI2NjYyFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6MzBweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjMwcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojRjVGNUY1IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIC1tb3otYm94LXNoYWRvdzppbnNldCAwIDEwcHggMTZweCAjZmZmLDAgMnB4IDNweCByZ2JhKDAsMCwwLDAuMSk7XAogICAgICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAxMHB4IDE2cHggI2ZmZiwwIDJweCAzcHggcmdiYSgwLDAsMCwwLjEpO1wKICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzppbnNldCAwIDEwcHggMTZweCAjZmZmLDAgMnB4IDNweCByZ2JhKDAsMCwwLDAuMSk7XAogICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgLnNwLXNwLW1kLXNwYW57XAogICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDpib2xkIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjowIDVweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgI3NwLXNwLW1kLW51bWJlcntcCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjUwcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246bWlkZGxlIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246bGVmdCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgI3NwLXNwLW1kLWltZ25leHR7XAogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOjAgMCAwIDVweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjptaWRkbGUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICB9XAogICAgICAgICAgICAgICAgICAgICNzcC1zcC1tYW51YWxkaXY6aG92ZXJ7XAogICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6cG9pbnRlcjtcCiAgICAgICAgICAgICAgICAgICAgfVwKICAgICAgICAgICAgICAgICAgICAjc3Atc3AtbWQtc29tZWluZm97XAogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICByaWdodDoxNnB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbToxcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOjEwcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6d2hpdGUgMCAxcHggMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjojNUE1QTVBIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6aXRhbGljIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6LTEhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgfVwKICAgICAgICAgICAgICAgICcpOwoKICAgICAgICAgICAgICAgIHZhciBkaXYgPSAkQygnZGl2JywgeyBpZDogJ3NwLXNwLW1hbnVhbGRpdicgfSk7CiAgICAgICAgICAgICAgICBtYW51YWxEaXYgPSBkaXY7CiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9ICRDKCdzcGFuJywgeyBjbGFzczogJ3NwLXNwLW1kLXNwYW4nIH0sICfkuIsnKTsKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChzcGFuKTsKCiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSAkQygnaW5wdXQnLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgICAgICAgICAgICAgbWluOiAxLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6L6T5YWl5L2g5oOz6KaB5ou85o6l55qE6aG15pWwKOW/hemhuz49MSks54S25ZCO5oyJ5Zue6L2mLicsCiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzcC1zcC1tZC1udW1iZXInCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB2YXIgZ2V0SW5wdXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPCAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHZhciBzcGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldElucHV0VmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydCh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlwYWdlc21vZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpcGFnZXNudW1iZXIgPSB2YWx1ZSArIHBhZ2VkOwogICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZEludG9Eb2MoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgLy9hbGVydChlLmtleUNvZGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHsgLy/lm57ovaYKICAgICAgICAgICAgICAgICAgICAgICAgc3BhZ2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKCRDKCdzcGFuJywgeyBjbGFzc05hbWU6ICdzcC1zcC1tZC1zcGFuJyB9LCAn6aG1JykpOwogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKCRDKCdpbWcnLCB7aWQ6ICdzcC1zcC1tZC1pbWduZXh0Jywgc3JjOiBfc2VwX2ljb25zLm5leHR9KSk7CiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoJEMoJ3NwYW4nLCB7IGlkOiAnc3Atc3AtbWQtc29tZWluZm8nIH0sIHByZWZzLnNvbWVWYWx1ZSkpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogICAgICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5pZCA9PSAnc3Atc3AtbWQtbnVtYmVyJykgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIHNwYWdlKCk7CiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYWRkSW50b0RvYyhtYW51YWxEaXYpOwogICAgICAgICAgICBtYW51YWxEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBiZWZvcmVJbnNlcnRJbnRvRG9jKCkgewogICAgICAgICAgICB3b3JraW5nID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKFNTUy5hX21hbnVhbEEgJiYgIWlwYWdlc21vZGUpIHsgLy/mmL7npLrmiYvliqjnv7vpobXop6blj5HmnaEuCiAgICAgICAgICAgICAgICBtYW51YWxBZGl2KCk7CiAgICAgICAgICAgIH0gZWxzZSB7IC8v55u05o6l5ou85o6lLgogICAgICAgICAgICAgICAgaW5zZXJ0ZWRJbnRvRG9jKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgoKICAgICAgICB2YXIgc2VwU3R5bGU7CiAgICAgICAgdmFyIGdvTmV4dEltZyA9IFtmYWxzZV07CiAgICAgICAgdmFyIHNOdW1iZXIgPSBwcmVmcy5zZXBTdGFydE47CiAgICAgICAgdmFyIF9zZXBfaWNvbnMgPSBzZXBfaWNvbnM7CiAgICAgICAgdmFyIGN1ck51bWJlciA9IHNOdW1iZXI7CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNlcChsYXN0VXJsLCBjdXJyZW50VXJsLCBuZXh0VXJsKSB7CiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgaWYgKFNTUy5hX3NlcGFyYXRvcikgewogICAgICAgICAgICAgICAgaWYgKCFzZXBTdHlsZSkgewogICAgICAgICAgICAgICAgICAgIHNlcFN0eWxlID0gR01fYWRkU3R5bGUoJ1wKICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnNwLXNlcGFyYXRvcntcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDoxLjYhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6MSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0Om5vbmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDozNjZweDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDphdXRvO1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MTRweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzozcHggMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOjVweCAxMHB4IDhweDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcjpib3RoIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOjFweCBzb2xpZCAjY2NjIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6MzBweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czozMHB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNGNUY1RjUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1tb3otYm94LXNoYWRvdzppbnNldCAwIDE2cHggMjBweCAjZmZmLDAgMnB4IDNweCByZ2JhKDAsMCwwLDAuMSk7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMTZweCAyMHB4ICNmZmYsMCAycHggM3B4IHJnYmEoMCwwLDAsMC4xKTtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93Omluc2V0IDAgMTZweCAyMHB4ICNmZmYsMCAycHggM3B4IHJnYmEoMCwwLDAsMC4xKTtcCiAgICAgICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zcC1zZXBhcmF0b3IgaW1ne1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOm1pZGRsZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOjAgNXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0Om5vbmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvO1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bztcCiAgICAgICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zcC1zZXBhcmF0b3IgYS5zcC1zcC1uZXh0bGlua3tcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46MCAyMHB4IDAgLTZweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTppbmxpbmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiNmZmYgMCAxcHggMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zcC1zZXBhcmF0b3Igc3Bhbi5zcC1zcGFuLXNvbWVpbmZve1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDoxNnB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206MXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MTBweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6d2hpdGUgMCAxcHggMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IzVBNUE1QSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zdHlsZTppdGFsaWMhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6LTEhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgICAgICB9XAogICAgICAgICAgICAgICAgICAgICcpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnc3Atc2VwYXJhdG9yJzsKICAgICAgICAgICAgICAgIGRpdi5pZCA9ICdzcC1zZXBhcmF0b3ItJyArIGN1ck51bWJlcjsKICAgICAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlcEhhbmRsZXIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICB2YXIgcGFnZVN0ciA9ICfnrKwgPHNwYW4gc3R5bGU9ImNvbG9yOnJlZCFpbXBvcnRhbnQ7Ij4nICsgY3VyTnVtYmVyICsgJzwvc3Bhbj4g6aG1JyArCiAgICAgICAgICAgICAgICAgICAgICAgICggU1NTLmFfc2VwYXJhdG9yUmVhbCA/IGdldFJhbGF0aXZlUGFnZVN0cihsYXN0VXJsLCBjdXJyZW50VXJsLCBuZXh0VXJsKSA6ICcnKTsKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCgkQygnYScsIHsKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ3NwLXNwLW5leHRsaW5rJywKICAgICAgICAgICAgICAgICAgICBocmVmOiBjdXJyZW50VXJsLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBjdXJyZW50VXJsCiAgICAgICAgICAgICAgICB9LCBwYWdlU3RyKSk7CgogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKCRDKCdpbWcnLCB7CiAgICAgICAgICAgICAgICAgICAgc3JjOiBfc2VwX2ljb25zLnRvcCwKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ3NwLXNwLWdvdG9wJywKICAgICAgICAgICAgICAgICAgICBhbHQ6ICfljrvliLDpobbpg6gnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y675Yiw6aG26YOoJwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCgkQygnaW1nJywgewogICAgICAgICAgICAgICAgICAgIHNyYzogY3VyTnVtYmVyID09IHNOdW1iZXIgPyBfc2VwX2ljb25zLnByZV9ncmF5IDogX3NlcF9pY29ucy5wcmUsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdzcC1zcC1nb3ByZScsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIrmu5rkuIDpobUnCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgdmFyIGlfbmV4dCA9ICRDKCdpbWcnLCB7CiAgICAgICAgICAgICAgICAgICAgc3JjOiBfc2VwX2ljb25zLm5leHRfZ3JheSwKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ3NwLXNwLWdvbmV4dCcsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIvmu5rkuIDpobUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoZ29OZXh0SW1nLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgZ29OZXh0SW1nLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBnb05leHRJbWcucHVzaChpX25leHQpOwogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGlfbmV4dCk7CgogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKCRDKCdpbWcnLCB7CiAgICAgICAgICAgICAgICAgICAgc3JjOiBfc2VwX2ljb25zLmJvdHRvbSwKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ3NwLXNwLWdvYm90dG9tJywKICAgICAgICAgICAgICAgICAgICBhbHQ6ICfljrvliLDlupXpg6gnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y675Yiw5bqV6YOoJwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCgkQygnc3BhbicsIHsgY2xhc3M6ICdzcC1zcGFuLXNvbWVpbmZvJyB9LCBwcmVmcy5zb21lVmFsdWUpKTsKICAgICAgICAgICAgICAgIGN1ck51bWJlciArPSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSAnXAogICAgICAgICAgICAgICAgICAgIGhlaWdodDowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgIG1hcmdpbjowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOm5vbmUhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgICAgICBjbGVhcjpib3RoIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6aGlkZGVuIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICAnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBkaXY7CiAgICAgICAgfQoKICAgICAgICB2YXIgcGFnZWQgPSAwOwoKICAgICAgICBmdW5jdGlvbiBpbnNlcnRlZEludG9Eb2MoKSB7CiAgICAgICAgICAgIGlmICghZG9jKSByZXR1cm47CgogICAgICAgICAgICBpZihTU1MuYV9kb2N1bWVudEZpbHRlcil7CiAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfZG9jdW1lbnRGaWx0ZXIoZG9jLCBuZXh0bGluayk7CiAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgICAgICAgICAgQy5lcnJvcigi5omn6KGMIGRvY3VtZW50RmlsdGVyIOmUmeivryIsIGUsIFNTUy5hX2RvY3VtZW50RmlsdGVyLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgZG9jVGl0bGUgPSBnZXRFbGVtZW50QnlDU1MoInRpdGxlIiwgZG9jKS50ZXh0Q29udGVudDsKCiAgICAgICAgICAgIHJlbW92ZVNjcmlwdHMoZG9jKTsKCiAgICAgICAgICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKICAgICAgICAgICAgdmFyIHBhZ2VFbGVtZW50cyA9IGdldEFsbEVsZW1lbnRzKFNTUy5hX3BhZ2VFbGVtZW50LCBmYWxzZSwgZG9jLCB3aW4pOwogICAgICAgICAgICB2YXIgaWkgPSBwYWdlRWxlbWVudHMubGVuZ3RoOwogICAgICAgICAgICBpZiAoaWkgPD0gMCkgewogICAgICAgICAgICAgICAgZGVidWcoJ+iOt+WPluS4i+S4gOmhteeahOS4u+imgeWGheWuueWksei0pScsIFNTUy5hX3BhZ2VFbGVtZW50KTsKICAgICAgICAgICAgICAgIHJlbW92ZUwoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5o+Q5YmN5p+l5om+5LiL5LiA6aG16ZO+5o6l77yM5ZCO6Z2i5YaN6LWL5YC8CiAgICAgICAgICAgIHZhciBsYXN0VXJsID0gY3BsaW5rOwogICAgICAgICAgICBjcGxpbmsgPSBuZXh0bGluazsKICAgICAgICAgICAgdmFyIG5sID0gZ2V0RWxlbWVudChTU1MubmV4dExpbmssIGZhbHNlLCBkb2MsIHdpbik7CiAgICAgICAgICAgIGlmIChubCkgewogICAgICAgICAgICAgICAgbmwgPSBnZXRGdWxsSHJlZihubCk7CiAgICAgICAgICAgICAgICBpZiAobmwgPT0gbmV4dGxpbmspIHsKICAgICAgICAgICAgICAgICAgICBuZXh0bGluayA9IG51bGw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG5leHRsaW5rID0gbmw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuZXh0bGluayA9IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBpLCBwZV94LCBwZV94X25uOwogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgICAgICAgcGVfeCA9IHBhZ2VFbGVtZW50c1tpXTsKICAgICAgICAgICAgICAgIHBlX3hfbm4gPSBwZV94Lm5vZGVOYW1lOwogICAgICAgICAgICAgICAgaWYgKHBlX3hfbm4gPT0gJ0JPRFknIHx8IHBlX3hfbm4gPT0gJ0hUTUwnIHx8IHBlX3hfbm4gPT0gJ1NDUklQVCcpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocGVfeCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChTU1MuZmlsdGVyICYmIHR5cGVvZihTU1MuZmlsdGVyKSA9PSAnc3RyaW5nJykgeyAvL+WKn+iDveacquWujOWWhC4KICAgICAgICAgICAgICAgIC8vYWxlcnQoU1NTLmZpbHRlcik7CiAgICAgICAgICAgICAgICB2YXIgbm9kZXMgPSBbXTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgbm9kZXMgPSBnZXRBbGxFbGVtZW50cyhTU1MuZmlsdGVyLCBmcmFnbWVudCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICAgICAgdmFyIG5vZGVzX3g7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSBub2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgICAgIG5vZGVzX3ggPSBub2Rlc1tpXTsKICAgICAgICAgICAgICAgICAgICBub2Rlc194LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZXNfeCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGxhenlJbWdTcmMKICAgICAgICAgICAgaWYgKFNTUy5sYXp5SW1nU3JjKSB7CiAgICAgICAgICAgICAgICBoYW5kbGVMYXp5SW1nU3JjKFNTUy5sYXp5SW1nU3JjLCBmcmFnbWVudCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBpbWdzOwogICAgICAgICAgICBpZiAoIXdpbmRvdy5vcGVyYSAmJiBTU1MuYV91c2VpZnJhbWUgJiYgIVNTUy5hX2lsb2FkZWQpIHsKICAgICAgICAgICAgICAgIGltZ3MgPSBnZXRBbGxFbGVtZW50cygnY3NzO2ltZ1tzcmNdJywgZnJhZ21lbnQpOyAvL+aUtumbhuaJgOacieWbvueJhwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDlpITnkIbkuIvkuIDpobXlhoXlrrnpg6jliIbpk77mjqXmmK/lkKbmlrDmoIfnrb7pobXmiZPlvIAKICAgICAgICAgICAgaWYgKHByZWZzLmZvcmNlVGFyZ2V0V2luZG93KSB7CiAgICAgICAgICAgICAgICB2YXIgYXJyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJhZ21lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXTpub3QoW2hyZWZePSJtYWlsdG86Il0pOm5vdChbaHJlZl49ImphdmFzY3JpcHQ6Il0pOm5vdChbaHJlZl49IiMiXSknKSk7CiAgICAgICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSl7CiAgICAgICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKSA9PSAnYXRhcmdldCh0aGlzKScpIHsgIC8vIOWNoemlreiuuuWdm+eahOaOp+WItuaYr+WQpuWcqOaWsOagh+etvumhteaJk+W8gAogICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnb25jbGljaycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgc2VwZGl2ID0gY3JlYXRlU2VwKGxhc3RVcmwsIGNwbGluaywgbmV4dGxpbmspOwogICAgICAgICAgICBpZiAocGFnZUVsZW1lbnRzWzBdICYmIHBhZ2VFbGVtZW50c1swXS50YWdOYW1lID09ICdUUicpIHsKICAgICAgICAgICAgICAgIHZhciBpbnNlcnRQYXJlbnQgPSBpbnNlcnRQb2ludC5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgdmFyIGNvbE5vZGVzID0gZ2V0QWxsRWxlbWVudHMoJ2NoaWxkOjp0clsxXS9jaGlsZDo6KltzZWxmOjp0ZCBvciBzZWxmOjp0aF0nLCBpbnNlcnRQYXJlbnQpOwogICAgICAgICAgICAgICAgdmFyIGNvbHVtcyA9IDA7CiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMCwgbCA9IGNvbE5vZGVzLmxlbmd0aDsgeCA8IGw7IHgrKykgewogICAgICAgICAgICAgICAgICAgIHZhciBjb2wgPSBjb2xOb2Rlc1t4XS5nZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nKTsKICAgICAgICAgICAgICAgICAgICBjb2x1bXMgKz0gcGFyc2VJbnQoY29sLCAxMCkgfHwgMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciB0ZCA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZCcpOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoc2VwZGl2KTsKICAgICAgICAgICAgICAgIHZhciB0ciA9IGRvYy5jcmVhdGVFbGVtZW50KCd0cicpOwogICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgY29sdW1zKTsKICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTsKICAgICAgICAgICAgICAgIGZyYWdtZW50Lmluc2VydEJlZm9yZSh0ciwgZnJhZ21lbnQuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmcmFnbWVudC5pbnNlcnRCZWZvcmUoc2VwZGl2LCBmcmFnbWVudC5maXJzdENoaWxkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYWRkSW50b0RvYyhmcmFnbWVudCk7CgogICAgICAgICAgICAvLyBmaWx0ZXIKICAgICAgICAgICAgaWYgKFNTUy5maWx0ZXIgJiYgdHlwZW9mKFNTUy5maWx0ZXIpID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgICAgICBTU1MuZmlsdGVyKHBhZ2VFbGVtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoIuaJp+ihjCBmaWx0ZXIocGFnZXMpIOaIkOWKnyIpOwogICAgICAgICAgICAgICAgfWNhdGNoKGUpewogICAgICAgICAgICAgICAgICAgIEMuZXJyb3IoIuaJp+ihjCBmaWx0ZXIocGFnZXMpIOmUmeivryIsIGUsIFNTUy5maWx0ZXIudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChpbWdzKSB7IC8v6Z2eb3BlcmEs5ZyoaWZyYW1lRE9N5Y+W5Ye65pWw5o2u5pe26ZyA6KaB6YeN6L295Zu+54mHLgogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2ltZ3MgPSBpbWdzOwogICAgICAgICAgICAgICAgICAgIHZhciBpLCBpaSwgaW1nOwogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gX2ltZ3MubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpbWcgPSBfaW1nc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IGltZy5zcmM7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBzcmM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgOTkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoU1NTLmFfcmVwbGFjZUUpIHsKICAgICAgICAgICAgICAgIHZhciBvbGRFID0gZ2V0QWxsRWxlbWVudHMoU1NTLmFfcmVwbGFjZUUpOwogICAgICAgICAgICAgICAgdmFyIG9sZEVfbHQgPSBvbGRFLmxlbmd0aDsKICAgICAgICAgICAgICAgIC8vYWxlcnQob2xkRV9sdCk7CiAgICAgICAgICAgICAgICBpZiAob2xkRV9sdCA+IDApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RSA9IGdldEFsbEVsZW1lbnRzKFNTUy5hX3JlcGxhY2VFLCBmYWxzZSwgZG9jLCB3aW4pOwogICAgICAgICAgICAgICAgICAgIHZhciBuZXdFX2x0ID0gbmV3RS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgLy9hbGVydChuZXdFX2x0KTsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3RV9sdCA9PSBvbGRFX2x0KSB7ICAvLyDmm7/mjaIKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEVfeCwgbmV3RV94OwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3RV9sdDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRFX3ggPSBvbGRFW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RV94ID0gbmV3RVtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0VfeCA9IGRvYy5pbXBvcnROb2RlKG5ld0VfeCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRFX3gucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3RV94LCBvbGRFX3gpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBwYWdlZCArPSAxOwogICAgICAgICAgICBpZiAoaXBhZ2VzbW9kZSAmJiBwYWdlZCA+PSBpcGFnZXNudW1iZXIpIHsKICAgICAgICAgICAgICAgIGlwYWdlc21vZGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmbG9hdFdPLmxvYWRlZEljb24oJ2hpZGUnKTsKICAgICAgICAgICAgaWYgKG1hbnVhbERpdikgewogICAgICAgICAgICAgICAgbWFudWFsRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGdvTmV4dEltZ1swXSkgZ29OZXh0SW1nWzBdLnNyYyA9IF9zZXBfaWNvbnMubmV4dDsKCgogICAgICAgICAgICB2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTsKICAgICAgICAgICAgZXYuaW5pdEV2ZW50KCdTdXBlcl9wcmVsb2FkZXJQYWdlTG9hZGVkJywgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2KTsKCiAgICAgICAgICAgIGlmKHByZWZzLmVuYWJsZUhpc3RvcnkpewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgZG9jVGl0bGUsIGNwbGluayk7CiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChwYWdlZCA+PSBTU1MuYV9tYXhwYWdlKSB7CiAgICAgICAgICAgICAgICBkZWJ1Zygn5Yiw6L6+5omA6K6+5a6a55qE5pyA5aSn57+76aG15pWwJywgU1NTLmFfbWF4cGFnZSk7CiAgICAgICAgICAgICAgICBub3RpY2UoJzxiPueKtuaAgTwvYj46JyArICfliLDovr7miYDorr7lrprnmoTmnIDlpKfnv7vpobXmlbA6PGIgc3R5bGU9ImNvbG9yOnJlZCI+JyArIFNTUy5hX21heHBhZ2UgKyAnPC9iPicpOwogICAgICAgICAgICAgICAgcmVtb3ZlTCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBkZWxheWlmcmFtZSA9IGZ1bmN0aW9uKGZuKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZuLCAxOTkpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAobmV4dGxpbmspIHsKICAgICAgICAgICAgICAgIC8vIGRlYnVnKCfmib7liLDkuIvkuIDpobXpk77mjqU6JywgbmV4dGxpbmspOwogICAgICAgICAgICAgICAgZG9jID0gd2luID0gbnVsbDsKICAgICAgICAgICAgICAgIGlmIChpcGFnZXNtb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKFNTUy5hX3VzZWlmcmFtZSkgeyAvL+W7tuaXtueCuSxmaXJlZm94LOWkquaApeS8muWNoS1fLSEKICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXlpZnJhbWUoZG9SZXF1ZXN0KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBkb1JlcXVlc3QoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHdvcmtpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpZiAoU1NTLmFfdXNlaWZyYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5aWZyYW1lKGFmdGVySW5zZXJ0RG8pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVySW5zZXJ0RG8oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkZWJ1Zygn5rKh5pyJ5om+5Yiw5LiL5LiA6aG16ZO+5o6lJywgU1NTLm5leHRMaW5rKTsKICAgICAgICAgICAgICAgIHJlbW92ZUwoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy/ov5Tlm54s5Ymp5L2Z6auY5bqm5piv5oC76auY5bqm55qE5q+U5YC8LgogICAgICAgIHZhciByZWxhdGVkT2JqXzAsIHJlbGF0ZWRPYmpfMTsKICAgICAgICBpZiAoU1NTLmFfcmVsYXRlZE9iaikgewogICAgICAgICAgICBpZiAoXy5pc0FycmF5KFNTUy5hX3JlbGF0ZWRPYmopKSB7CiAgICAgICAgICAgICAgICByZWxhdGVkT2JqXzAgPSBTU1MuYV9yZWxhdGVkT2JqWzBdOwogICAgICAgICAgICAgICAgcmVsYXRlZE9ial8xID0gU1NTLmFfcmVsYXRlZE9ialsxXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlbGF0ZWRPYmpfMCA9IFNTUy5hX3BhZ2VFbGVtZW50OwogICAgICAgICAgICAgICAgcmVsYXRlZE9ial8xID0gJ2JvdHRvbSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFJlbWFpbigpIHsKICAgICAgICAgICAgdmFyIHNjcm9sbHkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICAgICAgdmFyIFdJID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICAgICAgICB2YXIgb2JqID0gZ2V0TGFzdEVsZW1lbnQocmVsYXRlZE9ial8wKTsKICAgICAgICAgICAgdmFyIHNjcm9sbEggPSAob2JqICYmIG9iai5ub2RlVHlwZSA9PSAxKSA/IChvYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbcmVsYXRlZE9ial8xXSArIHNjcm9sbHkpIDogTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpOwogICAgICAgICAgICByZXR1cm4gKHNjcm9sbEggLSBzY3JvbGx5IC0gV0kpIC8gV0k7IC8v5Ymp5L2Z6auY5bqm5LqO6aG16Z2i5oC76auY5bqm55qE5q+U5L6LLgogICAgICAgIH0KCiAgICAgICAgdmFyIHBhdXNlID0gZmFsc2U7CiAgICAgICAgaWYgKHByZWZzLnBhdXNlQSkgewogICAgICAgICAgICB2YXIgU2J1dHRvbiA9IFsndGFyZ2V0JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLCAnYWx0S2V5J107CiAgICAgICAgICAgIHZhciBsdHlwZSA9IHByZWZzLm1vdXNlQSA/ICdtb3VzZWRvd24nIDogJ2RibGNsaWNrJzsKICAgICAgICAgICAgdmFyIGJ1dHRvbl8xID0gU2J1dHRvbltwcmVmcy5QYnV0dG9uWzBdXTsKICAgICAgICAgICAgdmFyIGJ1dHRvbl8yID0gU2J1dHRvbltwcmVmcy5QYnV0dG9uWzFdXTsKICAgICAgICAgICAgdmFyIGJ1dHRvbl8zID0gU2J1dHRvbltwcmVmcy5QYnV0dG9uWzJdXTsKCiAgICAgICAgICAgIHZhciBwYXVzZUl0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcGF1c2UgPSAhcGF1c2U7CiAgICAgICAgICAgICAgICBpZiAocHJlZnMuc3RvcF9pcGFnZSkgaXBhZ2VzbW9kZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHBhdXNlKSB7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcignQXBhdXNlJyk7CiAgICAgICAgICAgICAgICAgICAgbm90aWNlKCc8Yj7nirbmgIE8L2I+OicgKyAn6Ieq5Yqo57+76aG1PHNwYW4gc3R5bGU9ImNvbG9yOnJlZCFpbXBvcnRhbnQ7Ij48Yj7mmoLlgZw8L2I+PC9zcGFuPi4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcignYXV0b3BhZ2VyJyk7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy5DbW9kZUljb24oJ2hpZGUnKTsKICAgICAgICAgICAgICAgICAgICBub3RpY2UoJzxiPueKtuaAgTwvYj46JyArICfoh6rliqjnv7vpobU8c3BhbiBzdHlsZT0iY29sb3I6cmVkIWltcG9ydGFudDsiPjxiPuWQr+eUqDwvYj48L3NwYW4+LicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2Nyb2xsKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBTY3RpbWVvdXQ7CgogICAgICAgICAgICB2YXIgY2xlYXJQYXVzZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChTY3RpbWVvdXQpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZhciBwYXVzZWhhbmRsZXIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgaWYgKCFTU1MuYV9tYW51YWxBIHx8IGlwYWdlc21vZGUgfHwgcGF1c2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZVtidXR0b25fMV0gJiYgZVtidXR0b25fMl0gJiYgZVtidXR0b25fM10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PSAnbW91c2Vkb3duJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsZWFyUGF1c2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNjdGltZW91dCA9IHNldFRpbWVvdXQocGF1c2VJdCwgcHJlZnMuQXRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF1c2VJdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGx0eXBlLCBwYXVzZWhhbmRsZXIsIGZhbHNlKTsKICAgICAgICAgICAgcmVtb3ZlLnB1c2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGx0eXBlLCBwYXVzZWhhbmRsZXIsIGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzY3JvbGwoKSB7CiAgICAgICAgICAgIGlmICghcGF1c2UgJiYgIXdvcmtpbmcgJiYgKGdldFJlbWFpbigpIDw9IFNTUy5hX3JlbWFpbiB8fCBpcGFnZXNtb2RlKSkgewogICAgICAgICAgICAgICAgaWYgKGRvYykgeyAvL+acieeahOivnSzlsLHmj5LlhaXliLDmlofmoaMuCiAgICAgICAgICAgICAgICAgICAgYmVmb3JlSW5zZXJ0SW50b0RvYygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy/lkKbliJnlsLHor7fmsYLmlofmoaMuCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRG8oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHRpbWVvdXQ7CiAgICAgICAgZnVuY3Rpb24gdGltZW91dGZuKCl7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoc2Nyb2xsLCAxMDApOwogICAgICAgIH0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGltZW91dGZuLCBmYWxzZSk7CiAgICAgICAgcmVtb3ZlLnB1c2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aW1lb3V0Zm4sIGZhbHNlKTsKICAgICAgICB9KTsKCiAgICAgICAgYXV0b1BPID0gewogICAgICAgICAgICBzdGFydGlwYWdlczogZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpcGFnZXNtb2RlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpcGFnZXNudW1iZXIgPSB2YWx1ZSArIHBhZ2VkOwogICAgICAgICAgICAgICAgICAgIG5vdGljZSgnPGI+54q25oCBPC9iPjonICsgJ+W9k+WJjeW3sue/u+mhteaVsOmHjzo8Yj4nICsgcGFnZWQgKyAnPC9iPiwnICsgJ+i/nue7ree/u+mhteWIsOesrDxiIHN0eWxlPSJjb2xvcjpyZWQhaW1wb3J0YW50OyI+JyArIGlwYWdlc251bWJlciArICc8L2I+6aG1LicpOwogICAgICAgICAgICAgICAgICAgIGlmIChTU1MuYV9tYW51YWxBKSBpbnNlcnRlZEludG9Eb2MoKTsKICAgICAgICAgICAgICAgICAgICBzY3JvbGwoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9OwogICAgfQoKICAgIC8vcHJlZmV0Y2hlcgogICAgZnVuY3Rpb24gcHJlZmV0Y2hlcihTU1MsIGZsb2F0V08pIHsKICAgICAgICBmdW5jdGlvbiBjQ29udGFpbmVyKCkgewogICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHZhciBkaXYyID0gZGl2LmNsb25lTm9kZShmYWxzZSk7CiAgICAgICAgICAgIHZhciBociA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hyJyk7CiAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gJ1wKICAgICAgICAgICAgICAgIG1hcmdpbjozcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHBhZGRpbmc6NXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgLW1vei1ib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0UzMDAwNSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYm9yZGVyLXRvcDoxcHggc29saWQgI0UzMDAwNSFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojRjVGNUY1IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBmbG9hdDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICc7CiAgICAgICAgICAgIGRpdi50aXRsZSA9ICfpooTor7vnmoTlhoXlrrknOwogICAgICAgICAgICBkaXYyLnN0eWxlLmNzc1RleHQgPSAnXAogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBjb2xvcjpyZWQhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZToxM3B4IWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBmbG9hdDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBwb3NpdGlvbjpzdGF0aWMhaW1wb3J0YW50O1wKICAgICAgICAgICAgJzsKICAgICAgICAgICAgaHIuc3R5bGUuY3NzVGV4dCA9ICdcCiAgICAgICAgICAgICAgICBkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBib3JkZXI6MXB4IGluc2V0ICMwMDAhaW1wb3J0YW50O1wKICAgICAgICAgICAgJzsKICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRpdjIpOwogICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaHIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBkaXY6IGRpdiwKICAgICAgICAgICAgICAgIGRpdjI6IGRpdjIKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGZsb2F0V08udXBkYXRlQ29sb3IoJ3ByZWZldGNoZXInKTsKCiAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcignbG9hZGluZycpOwogICAgICAgIGZsb2F0V08uQ21vZGVJY29uKCdzaG93Jyk7CgogICAgICAgIGlmIChTU1MudXNlaWZyYW1lKSB7CiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgaWZyYW1lLm5hbWUgPSAnc3VwZXJwcmVsb2FkZXItaWZyYW1lJzsKICAgICAgICAgICAgaWZyYW1lLnNyYyA9IG5leHRsaW5rOwogICAgICAgICAgICBpZnJhbWUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSAnMCc7CiAgICAgICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9ICIwIjsKICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmNzc1RleHQgPSAnXAogICAgICAgICAgICAgICAgbWFyZ2luOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHBhZGRpbmc6MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAnOwogICAgICAgICAgICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLmNvbnRlbnREb2N1bWVudC5ib2R5OwogICAgICAgICAgICAgICAgaWYgKGJvZHkgJiYgYm9keS5maXJzdENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy51cGRhdGVDb2xvcigncHJlZmV0Y2hlcicpOwogICAgICAgICAgICAgICAgICAgIGZsb2F0V08uQ21vZGVJY29uKCdoaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy5sb2FkZWRJY29uKCdzaG93Jyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgYXJndW1lbnRzLmNhbGxlZSwgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoU1NTLmxhenlJbWdTcmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTGF6eUltZ1NyYyhTU1MubGF6eUltZ1NyYywgYm9keSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgIGlmIChTU1Mudmlld2NvbnRlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBjQ29udGFpbmVyKCk7CiAgICAgICAgICAgICAgICBjb250YWluZXIuZGl2Mi5pbm5lckhUTUwgPSAnaWZyYW1l5YWo6aKE6K+7OiAnICsgJzxiciAvPicgKyAn6aKE6K+7572R5Z2AOiAnICsgJzxiPicgKyBuZXh0bGluayArICc8L2I+JzsKICAgICAgICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSAnMzAwcHgnOwogICAgICAgICAgICAgICAgY29udGFpbmVyLmRpdi5hcHBlbmRDaGlsZChpZnJhbWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgIHVybDogbmV4dGxpbmssCiAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiAndGV4dC9odG1sOyBjaGFyc2V0PScgKyBkb2N1bWVudC5jaGFyYWN0ZXJTZXQsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSByZXEucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSBjcmVhdGVEb2N1bWVudEJ5U3RyaW5nKHN0cik7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgQy5lcnJvcign5paH5qGj5a+56LGh5Yib5bu65aSx6LSlIScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoU1NTLmxhenlJbWdTcmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTGF6eUltZ1NyYyhTU1MubGF6eUltZ1NyYywgZG9jKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZXMgPSBkb2MuaW1hZ2VzOwogICAgICAgICAgICAgICAgICAgIHZhciBpc2wgPSBpbWFnZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIHZhciBpbWc7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlhcnJheSA9IFtdOwogICAgICAgICAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICAgICAgICAgIHZhciBleGlzdFNSQyA9IHt9OwogICAgICAgICAgICAgICAgICAgIHZhciBpc3JjOwogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IGlzbCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzcmMgPSBpbWFnZXNbaV0uZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc3JjIHx8IGV4aXN0U1JDW2lzcmNdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0U1JDW2lzcmNdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGlzcmM7CiAgICAgICAgICAgICAgICAgICAgICAgIGlhcnJheS5wdXNoKGltZyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChTU1Mudmlld2NvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW50ZXIgPSBjQ29udGFpbmVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBjb250YWludGVyLmRpdjsKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGlhcnJheS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW50ZXIuZGl2Mi5pbm5lckhUTUwgPSAn6aKE6K+75Y+W5Zu+54mH5byg5pWwOiAnICsgJzxiPicgKyBpICsgJzwvYj4nICsgJzxiciAvPicgKyAn6aKE6K+7572R5Z2AOiAnICsgJzxiPicgKyBuZXh0bGluayArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpIC09IDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaWFycmF5W2ldKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmbG9hdFdPLnVwZGF0ZUNvbG9yKCdwcmVmZXRjaGVyJyk7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy5sb2FkZWRJY29uKCdzaG93Jyk7CiAgICAgICAgICAgICAgICAgICAgZmxvYXRXTy5DbW9kZUljb24oJ2hpZGUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKCiAgICAvL+aJp+ihjOW8gOWniy4uLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIC8vIOWIhuaekOm7keWQjeWNlQogICAgdmFyIGJsYWNrTGlzdF9yZSA9IG5ldyBSZWdFeHAoYmxhY2tMaXN0Lm1hcCh3aWxkY2FyZFRvUmVnRXhwU3RyKS5qb2luKCJ8IikpOwogICAgaWYoYmxhY2tMaXN0X3JlLnRlc3QodXJsKSl7CiAgICAgICAgZGVidWcoJ+WMuemFjem7keWQjeWNle+8jGpz5omn6KGM57uI5q2iJyk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8v5piv5ZCm5ZyoZnJhbWXkuIrliqDovb0uLgogICAgaWYgKHByZWZzLkRpc2FibGVJICYmIHdpbmRvdy5zZWxmICE9IHdpbmRvdy5wYXJlbnQpIHsKICAgICAgICB2YXIgaXNSZXR1cm4gPSAhXy5maW5kKERJRXhjbHVkZSwgZnVuY3Rpb24oeCl7IHJldHVybiB4WzFdICYmIHhbMl0udGVzdCh1cmwpOyB9KTsKICAgICAgICBpZiAoaXNSZXR1cm4pIHsKICAgICAgICAgICAgZGVidWcoJ3VybOS4ujonLCB1cmwsICfnmoTpobXpnaLkuLrpnZ7pobblsYLnqpflj6MsSlPmiafooYznu4jmraIuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICBkZWJ1ZygndXJs5Li6OicsIHVybCwgJ0pT5Yqg6L295oiQ5YqfJyk7CgogICAgLy/nrKzkuIDpmLbmrrUuLuWIhuaekOmrmOe6p+aooeW8jy4uCiAgICBTSVRFSU5GTyA9IFNJVEVJTkZPLmNvbmNhdChTSVRFSU5GT19UUCwgU0lURUlORk9fY29tcCk7CgogICAgLy/ph43opoHnmoTlj5jph4/kuKTmnpouCiAgICB2YXIgbmV4dGxpbms7CiAgICB2YXIgcHJlbGluazsKICAgIC8vPT09PT09PT09PT09PT09CgogICAgdmFyIFNTUyA9IHt9OwoKICAgIHZhciBmaW5kQ3VyU2l0ZUluZm8gPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgU0lJOwogICAgICAgIHZhciBTSUlBOwogICAgICAgIHZhciBTSUlBRCA9IFNJVEVJTkZPX0QuYXV0b3BhZ2VyOwogICAgICAgIHZhciBSdXJsOwogICAgICAgIHZhciBpaSA9IFNJVEVJTkZPLmxlbmd0aDsKCiAgICAgICAgZGVidWcoJ+mrmOe6p+inhOWImeaVsOmHjzonLCBpaSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgICBTSUkgPSBTSVRFSU5GT1tpXTsKICAgICAgICAgICAgUnVybCA9IHRvUkUoU0lJLnVybCk7CiAgICAgICAgICAgIGlmIChSdXJsLnRlc3QodXJsKSkgewogICAgICAgICAgICAgICAgZGVidWcoJ+aJvuWIsOWMuemFjeW9k+WJjeermeeCueeahOinhOWImTonLCBTSUksICfmmK/nrKwnLCBpICsgMSwgJ+inhOWImScpOwoKICAgICAgICAgICAgICAgIC8vIOi/kOihjOinhOWImeeahCBzdGFydEZpbHRlcgogICAgICAgICAgICAgICAgaWYgKFNJSS5hdXRvcGFnZXIgJiYgU0lJLmF1dG9wYWdlci5zdGFydEZpbHRlcikgewogICAgICAgICAgICAgICAgICAgIFNJSS5hdXRvcGFnZXIuc3RhcnRGaWx0ZXIod2luZG93LCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ+aIkOWKn+i/kOihjCBzdGFydEZpbHRlcicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG5leHRsaW5rID0gZ2V0RWxlbWVudChTSUkubmV4dExpbmsgfHwgJ2F1dG87Jyk7CiAgICAgICAgICAgICAgICBpZiAoIW5leHRsaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ+aXoOazleaJvuWIsOS4i+S4gOmhtemTvuaOpSzot7Pov4fop4TliJk6JywgU0lJLCAn57un57ut5p+l5om+5YW25LuW6KeE5YiZJyk7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKFNJSS5wcmVMaW5rICYmIFNJSS5wcmVMaW5rICE9ICdhdXRvOycpIHsgLy/lpoLmnpzorr7lrprkuoblhbfkvZPnmoRwcmVMaW5rCiAgICAgICAgICAgICAgICAgICAgcHJlbGluayA9IGdldEVsZW1lbnQoU0lJLnByZUxpbmspOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZihwcmVmcy5hdXRvR2V0UHJlTGluayl7CiAgICAgICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnQoJ2F1dG87Jyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KHByZWxpbmspOwogICAgICAgICAgICAgICAgU1NTLmhhc1J1bGUgPSB0cnVlOwogICAgICAgICAgICAgICAgU1NTLlJ1cmwgPSBTdHJpbmcoUnVybCk7CiAgICAgICAgICAgICAgICAvLyBhbGVydChTU1MuUnVybCk7CiAgICAgICAgICAgICAgICBTU1MubmV4dExpbmsgPSBTSUkubmV4dExpbmsgfHwgJ2F1dG87JzsKICAgICAgICAgICAgICAgIFNTUy52aWV3Y29udGVudCA9IFNJSS52aWV3Y29udGVudDsKICAgICAgICAgICAgICAgIFNTUy5lbmFibGUgPSAoU0lJLmVuYWJsZSA9PT0gdW5kZWZpbmVkKSA/IFNJVEVJTkZPX0QuZW5hYmxlIDogU0lJLmVuYWJsZTsKICAgICAgICAgICAgICAgIFNTUy51c2VpZnJhbWUgPSAoU0lJLnVzZWlmcmFtZSA9PT0gdW5kZWZpbmVkKSA/IFNJVEVJTkZPX0QudXNlaWZyYW1lIDogU0lJLnVzZWlmcmFtZTsKICAgICAgICAgICAgICAgIGlmIChTSUkucGFnZUVsZW1lbnQpIHsgLy/lpoLmnpzmmK9PYXV0b3BhZ2Vy55qE6KeE5YiZLi4KICAgICAgICAgICAgICAgICAgICBpZiAoIShTSUkuYXV0b3BhZ2VyIGluc3RhbmNlb2YgT2JqZWN0KSkgU0lJLmF1dG9wYWdlciA9IHt9OwogICAgICAgICAgICAgICAgICAgIFNJSS5hdXRvcGFnZXIucGFnZUVsZW1lbnQgPSBTSUkucGFnZUVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKFNJSS5pbnNlcnRCZWZvcmUpIFNJSS5hdXRvcGFnZXIuSFRfaW5zZXJ0ID0gW1NJSS5pbnNlcnRCZWZvcmUsIDFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8v6Ieq5Yqo57+76aG16K6+572uLgogICAgICAgICAgICAgICAgU0lJQSA9IFNJSS5hdXRvcGFnZXI7CiAgICAgICAgICAgICAgICBpZiAoU0lJQSkgewogICAgICAgICAgICAgICAgICAgIFNTUy5hX3BhZ2VFbGVtZW50ID0gU0lJQS5wYWdlRWxlbWVudDsKICAgICAgICAgICAgICAgICAgICBpZiAoIVNTUy5hX3BhZ2VFbGVtZW50KSBicmVhazsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9tYW51YWxBID0gKFNJSUEubWFudWFsQSA9PT0gdW5kZWZpbmVkKSA/IFNJSUFELm1hbnVhbEEgOiBTSUlBLm1hbnVhbEE7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfZW5hYmxlID0gKFNJSUEuZW5hYmxlID09PSB1bmRlZmluZWQpID8gU0lJQUQuZW5hYmxlIDogU0lJQS5lbmFibGU7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfdXNlaWZyYW1lID0gKFNJSUEudXNlaWZyYW1lID09PSB1bmRlZmluZWQpID8gU0lJQUQudXNlaWZyYW1lIDogU0lJQS51c2VpZnJhbWU7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfbmV3SWZyYW1lID0gKFNJSUEubmV3SWZyYW1lID09PSB1bmRlZmluZWQpID8gU0lJQUQubmV3SWZyYW1lIDogU0lJQS5uZXdJZnJhbWU7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfaWxvYWRlZCA9IChTSUlBLmlsb2FkZWQgPT09IHVuZGVmaW5lZCkgPyBTSUlBRC5pbG9hZGVkIDogU0lJQS5pbG9hZGVkOwogICAgICAgICAgICAgICAgICAgIFNTUy5hX2l0aW1lb3V0ID0gKFNJSUEuaXRpbWVvdXQgPT09IHVuZGVmaW5lZCkgPyBTSUlBRC5pdGltZW91dCA6IFNJSUEuaXRpbWVvdXQ7CiAgICAgICAgICAgICAgICAgICAgLy9hbGVydChTU1MuYV9pdGltZW91dCk7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfcmVtYWluID0gKFNJSUEucmVtYWluID09PSB1bmRlZmluZWQpID8gU0lJQUQucmVtYWluIDogU0lJQS5yZW1haW47CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfbWF4cGFnZSA9IChTSUlBLm1heHBhZ2UgPT09IHVuZGVmaW5lZCkgPyBTSUlBRC5tYXhwYWdlIDogU0lJQS5tYXhwYWdlOwogICAgICAgICAgICAgICAgICAgIFNTUy5hX3NlcGFyYXRvciA9IChTSUlBLnNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSA/IFNJSUFELnNlcGFyYXRvciA6IFNJSUEuc2VwYXJhdG9yOwogICAgICAgICAgICAgICAgICAgIFNTUy5hX3NlcGFyYXRvclJlYWwgPSAoU0lJQS5zZXBhcmF0b3JSZWFsID09PSB1bmRlZmluZWQpID8gU0lJQUQuc2VwYXJhdG9yUmVhbCA6IFNJSUEuc2VwYXJhdG9yUmVhbDsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9yZXBsYWNlRSA9IFNJSUEucmVwbGFjZUU7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfSFRfaW5zZXJ0ID0gU0lJQS5IVF9pbnNlcnQ7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfcmVsYXRlZE9iaiA9IFNJSUEucmVsYXRlZE9iajsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9pcGFnZXMgPSAoU0lJQS5pcGFnZXMgPT09IHVuZGVmaW5lZCkgPyBTSUlBRC5pcGFnZXMgOiBTSUlBLmlwYWdlczsKCiAgICAgICAgICAgICAgICAgICAgLy8gbmV3CiAgICAgICAgICAgICAgICAgICAgU1NTLmZpbHRlciA9IFNJSS5maWx0ZXIgfHwgU0lJQS5maWx0ZXI7ICAvLyDmlrDlop7kuoblh73mlbDnmoTlvaLlvI/vvIzljp/mnaXnmoTlip/og73mmK/np7vpmaQgcGFnZUVsZW1lbnQKICAgICAgICAgICAgICAgICAgICBTU1MuYV9kb2N1bWVudEZpbHRlciA9IFNJSS5kb2N1bWVudEZpbHRlciB8fCBTSUlBLmRvY3VtZW50RmlsdGVyOwogICAgICAgICAgICAgICAgICAgIFNTUy5hX3N0eWxpc2ggPSBTSUkuc3R5bGlzaCB8fCBTSUlBLnN0eWxpc2g7CiAgICAgICAgICAgICAgICAgICAgU1NTLmxhenlJbWdTcmMgPSBTSUlBLmxhenlJbWdTcmM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g5qOA6aqM5piv5ZCm5a2Y5Zyo5YaF5a65CiAgICAgICAgICAgICAgICB2YXIgcGFnZUVsZW1lbnQgPSBnZXRFbGVtZW50KFNTUy5hX3BhZ2VFbGVtZW50KTsKICAgICAgICAgICAgICAgIGlmICghcGFnZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBkZWJ1Zygn5peg5rOV5om+5Yiw5YaF5a65LOi3s+i/h+inhOWImTonLCBTSUksICfnu6fnu63mn6Xmib7lhbbku5bop4TliJknKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCFTU1MuaGFzUnVsZSkgewogICAgICAgICAgICBkZWJ1Zygn5pyq5om+5Yiw5ZCI6YCC55qE6auY57qn6KeE5YiZLOW8gOWni+iHquWKqOWMuemFjS4nKTsKICAgICAgICAgICAgLy/oh6rliqjmkJzntKIuCiAgICAgICAgICAgIGlmICghYXV0b01hdGNoLmtleU1hdGNoKSB7CiAgICAgICAgICAgICAgICBkZWJ1Zygn6Ieq5Yqo5Yy56YWN5Yqf6IO96KKr56aB55So5LqGLicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbmV4dGxpbmsgPSBhdXRvR2V0TGluaygpOwogICAgICAgICAgICAgICAgLy9hbGVydChuZXh0bGluayk7CiAgICAgICAgICAgICAgICBpZiAobmV4dGxpbmspIHsgLy/lvLrliLbmqKHlvI8uCiAgICAgICAgICAgICAgICAgICAgdmFyIEZBID0gYXV0b01hdGNoLkZBOwogICAgICAgICAgICAgICAgICAgIFNTUy5SdXJsID0gd2luZG93LmxvY2FsU3RvcmFnZSA/ICgnYW06JyArICh1cmwubWF0Y2goL15odHRwcz86XC9cL1teOl0qXC8vaSkgfHwgW10pWzBdKSA6ICdhbTphdXRvbWF0Y2gnOwogICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoU1NTLlJ1cmwpOwogICAgICAgICAgICAgICAgICAgIFNTUy5lbmFibGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIFNTUy5uZXh0TGluayA9ICdhdXRvOyc7CiAgICAgICAgICAgICAgICAgICAgU1NTLnZpZXdjb250ZW50ID0gYXV0b01hdGNoLnZpZXdjb250ZW50OwogICAgICAgICAgICAgICAgICAgIFNTUy51c2VpZnJhbWUgPSBhdXRvTWF0Y2gudXNlaWZyYW1lOwogICAgICAgICAgICAgICAgICAgIFNTUy5hX2ZvcmNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9tYW51YWxBID0gRkEubWFudWFsQTsKICAgICAgICAgICAgICAgICAgICAvLyBTU1MuYV9lbmFibGUgPSBGQS5lbmFibGUgfHwgZmFsc2U7IC8v5LiN6IO95L2/YV9lbmFibGXnmoTlgLw9PXVuZGVmaW5lZC4uLgogICAgICAgICAgICAgICAgICAgIFNTUy5hX2VuYWJsZSA9IEZBLmVuYWJsZSB8fCBTSVRFSU5GT19ELmF1dG9wYWdlci5mb3JjZV9lbmFibGU7IC8v5LiN6IO95L2/YV9lbmFibGXnmoTlgLw9PXVuZGVmaW5lZC4uLgogICAgICAgICAgICAgICAgICAgIFNTUy5hX3VzZWlmcmFtZSA9IEZBLnVzZWlmcmFtZTsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9pbG9hZGVkID0gRkEuaWxvYWRlZDsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9pdGltZW91dCA9IEZBLml0aW1lb3V0OwogICAgICAgICAgICAgICAgICAgIFNTUy5hX3JlbWFpbiA9IEZBLnJlbWFpbjsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9tYXhwYWdlID0gRkEubWF4cGFnZTsKICAgICAgICAgICAgICAgICAgICBTU1MuYV9zZXBhcmF0b3IgPSBGQS5zZXBhcmF0b3I7CiAgICAgICAgICAgICAgICAgICAgU1NTLmFfaXBhZ2VzID0gRkEuaXBhZ2VzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDlpoLmnpzop4TliJnmsqEgbGF6eUltZ1NyY++8jOiuvue9rum7mOiupOWAvAogICAgICAgIGlmICghU1NTLmxhenlJbWdTcmMpIHsKICAgICAgICAgICAgU1NTLmxhenlJbWdTcmMgPSBwcmVmcy5sYXp5SW1nU3JjOwogICAgICAgIH0KCiAgICAgICAgZGVidWcoJ+aQnOe0oumrmOe6p+inhOWImeWSjOiHquWKqOWMuemFjei/h+eoi+aAu+iAl+aXtjonLCBuZXcgRGF0ZSgpIC0gc3RhcnRUaW1lLCAn5q+r56eSJyk7CiAgICB9OwoKICAgIGZpbmRDdXJTaXRlSW5mbygpOwoKICAgIC8v5LiK5LiL6aG16YO95rKh5pyJ5om+5Yiw5ZWKCiAgICBpZiAoIW5leHRsaW5rICYmICFwcmVsaW5rKSB7CiAgICAgICAgZGVidWcoJ+acquaJvuWIsOebuOWFs+mTvuaOpSwgSlPmiafooYzlgZzmraIuIOWFseiAl+aXticgKyAobmV3IERhdGUoKSAtIHN0YXJ0VGltZSkgKyAn5q+r56eSJyk7CiAgICAgICAgcmV0dXJuOwogICAgfSBlbHNlIHsKICAgICAgICBkZWJ1Zygn5LiK5LiA6aG16ZO+5o6lOicsIHByZWxpbmspOwogICAgICAgIGRlYnVnKCfkuIvkuIDpobXpk77mjqU6JywgbmV4dGxpbmspOwogICAgICAgIG5leHRsaW5rID0gbmV4dGxpbmsgPyAobmV4dGxpbmsuaHJlZiB8fCBuZXh0bGluaykgOiB1bmRlZmluZWQ7CiAgICAgICAgcHJlbGluayA9IHByZWxpbmsgPyAocHJlbGluay5ocmVmIHx8IHByZWxpbmspIDogdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBzdXBlclByZWxvYWRlciA9IHsKICAgICAgICBnbzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChuZXh0bGluaykgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuZXh0bGluazsKICAgICAgICB9LAogICAgICAgIGJhY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZighcHJlbGluaykgZ2V0RWxlbWVudCgnYXV0bzsnKTsKICAgICAgICAgICAgaWYgKHByZWxpbmspIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcHJlbGluazsKICAgICAgICB9LAogICAgfTsKCiAgICBpZiAocHJlZnMuYXJyb3dLZXlQYWdlKSB7CiAgICAgICAgZGVidWcoJ+a3u+WKoOmUruebmOW3puWPs+aWueWQkemUrue/u+mhteebkeWQrC4nKTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdmFyIHRhck5OID0gZS50YXJnZXQubm9kZU5hbWU7CiAgICAgICAgICAgIGlmICh0YXJOTiAhPSAnQk9EWScgJiYgdGFyTk4gIT0gJ0hUTUwnKSByZXR1cm47CiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgICAgIHN1cGVyUHJlbG9hZGVyLmJhY2soKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgICAgICAgc3VwZXJQcmVsb2FkZXIuZ28oKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBmYWxzZSk7CiAgICB9CgogICAgLy8g55uR5ZCs5LiL5LiA6aG15LqL5Lu2LgogICAgZGVidWcoJ+a3u+WKoOm8oOagh+aJi+WKv+e/u+mhteebkeWQrC4nKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1cGVyUHJlbG9hZGVyLmdvJywgZnVuY3Rpb24oKSB7CiAgICAgICAgc3VwZXJQcmVsb2FkZXIuZ28oKTsKICAgIH0sIGZhbHNlKTsKCiAgICAvLyDnm5HlkKzkuIvkuIDpobXkuovku7YuCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzdXBlclByZWxvYWRlci5iYWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgc3VwZXJQcmVsb2FkZXIuYmFjaygpOwogICAgfSwgZmFsc2UpOwoKICAgIC8vIOayoeaJvuWIsOS4i+S4gOmhteeahOmTvuaOpQogICAgaWYgKCFuZXh0bGluaykgewogICAgICAgIGRlYnVnKCfkuIvkuIDpobXpk77mjqXkuI3lrZjlnKgsSlPml6Dms5Xnu6fnu60uJyk7CiAgICAgICAgZGVidWcoJ+WFqOmDqOi/h+eoi+iAl+aXtjonLCBuZXcgRGF0ZSgpIC0gc3RhcnRUaW1lLCAn5q+r56eSJyk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIOi9veWFpeiuvue9ri4uCiAgICB2YXIgbG9hZExvY2FsU2V0dGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIGRlYnVnKCfliqDovb3orr7nva4nKTsKICAgICAgICB2YXIgc2F2ZWRWYWx1ZSA9IGdldFZhbHVlKCdzcGZ3c2V0Jyk7CiAgICAgICAgaWYgKHNhdmVkVmFsdWUpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHNhdmVkVmFsdWUgPSBldmFsKHNhdmVkVmFsdWUpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBzYXZlVmFsdWUoJ3NwZndzZXQnLCAnJyk7IC8v5pyJ6Zeu6aKY55qE6K6+572uLOiiq+aJi+WKqOS/ruaUuei/hz8s5riF6Zmk5o6JLOS4jeeEtuS4i+asoei/mOaYr+imgeWHuumUmS4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoc2F2ZWRWYWx1ZSkgewogICAgICAgICAgICBTU1Muc2F2ZWRWYWx1ZSA9IHNhdmVkVmFsdWU7CiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gc2F2ZWRWYWx1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgICAgICAgICAgICBzYXZlZFZhbHVlX3ggPSBzYXZlZFZhbHVlW2ldOwogICAgICAgICAgICAgICAgaWYgKHNhdmVkVmFsdWVfeC5SdXJsID09IFNTUy5SdXJsKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaXggaW4gc2F2ZWRWYWx1ZV94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZFZhbHVlX3guaGFzT3duUHJvcGVydHkoaXgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTU1NbaXhdID0gc2F2ZWRWYWx1ZV94W2l4XTsgLy/liqDovb3plK7lgLwuCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9hbGVydChpKTsKICAgICAgICAgICAgU1NTLnNlZFZhbHVlSW5kZXggPSBpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFNTUy5zYXZlZFZhbHVlID0gW107CiAgICAgICAgICAgIFNTUy5zZWRWYWx1ZUluZGV4ID0gMDsKICAgICAgICB9CiAgICB9OwoKICAgIGxvYWRMb2NhbFNldHRpbmcoKTsKCiAgICBpZiAoIVNTUy5oYXNSdWxlKSB7CiAgICAgICAgU1NTLmFfZm9yY2UgPSB0cnVlOwogICAgfQoKICAgIGlmIChTU1MuYV9mb3JjZSkgewogICAgICAgIFNTUy5hX3BhZ2VFbGVtZW50ID0gJy8vYm9keS8qJzsKICAgICAgICBTU1MuYV9IVF9pbnNlcnQgPSB1bmRlZmluZWQ7CiAgICAgICAgU1NTLmFfcmVsYXRlZE9iaiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAocHJlZnMuZmxvYXRXaW5kb3cpIHsKICAgICAgICBkZWJ1Zygn5Yib5bu65oKs5rWu56qXJyk7CiAgICAgICAgZmxvYXRXaW5kb3coU1NTKTsKICAgIH0KCiAgICBpZiAoIVNTUy5lbmFibGUpIHsKICAgICAgICBkZWJ1Zygn5pys6KeE5YiZ6KKr5YWz6ZetLOiEmuacrOaJp+ihjOWBnOatoicpOwogICAgICAgIGRlYnVnKCflhajpg6jov4fnqIvogJfml7Y6JywgbmV3IERhdGUoKSAtIHN0YXJ0VGltZSwgJ+avq+enkicpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGRlYnVnKCflhajpg6jov4fnqIvogJfml7Y6JywgbmV3IERhdGUoKSAtIHN0YXJ0VGltZSwgJ+avq+enkicpOwoKICAgIC8vIOmihOivu+aIluiAhee/u+mhtS4KICAgIGlmIChTU1MuYV9lbmFibGUpIHsKICAgICAgICBkZWJ1Zygn5Yid5aeL5YyWLOe/u+mhteaooeW8jy4nKTsKICAgICAgICBhdXRvcGFnZXIoU1NTLCBmbG9hdFdPKTsKICAgIH0gZWxzZSB7CiAgICAgICAgZGVidWcoJ+WIneWni+WMlizpooTor7vmqKHlvI8uJyk7CiAgICAgICAgcHJlZmV0Y2hlcihTU1MsIGZsb2F0V08pOwogICAgfQoKICAgIHZhciBkb2NDaGVja2VkOwogICAgZnVuY3Rpb24gYXV0b0dldExpbmsoZG9jLCB3aW4pIHsKICAgICAgICBpZiAoIWF1dG9NYXRjaC5rZXlNYXRjaCkgcmV0dXJuOwogICAgICAgIGlmICghcGFyc2VLV1JFLmRvbmUpIHsKICAgICAgICAgICAgcGFyc2VLV1JFKCk7CiAgICAgICAgICAgIHBhcnNlS1dSRS5kb25lID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgICAgICB3aW4gPSB3aW4gfHwgd2luZG93OwoKICAgICAgICBpZiAoZG9jID09IGRvY3VtZW50KSB7IC8v5b2T5YmN5paH5qGjLOWPquajgOafpeS4gOasoS4KICAgICAgICAgICAgLy9hbGVydChuZXh0bGluayk7CiAgICAgICAgICAgIGlmIChkb2NDaGVja2VkKSByZXR1cm4gbmV4dGxpbms7CiAgICAgICAgICAgIGRvY0NoZWNrZWQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgdmFyIF9wcmVQYWdlS2V5ID0gcHJlUGFnZUtleTsKICAgICAgICB2YXIgX25leHRQYWdlS2V5ID0gbmV4dFBhZ2VLZXk7CiAgICAgICAgdmFyIF9uUEtMID0gbmV4dFBhZ2VLZXkubGVuZ3RoOwogICAgICAgIHZhciBfcFBLTCA9IHByZVBhZ2VLZXkubGVuZ3RoOwogICAgICAgIHZhciBfZ2V0RnVsbEhyZWYgPSBnZXRGdWxsSHJlZjsKICAgICAgICB2YXIgX2dldEFsbEVsZW1lbnRzQnlYcGF0aCA9IGdldEFsbEVsZW1lbnRzQnlYcGF0aDsKICAgICAgICB2YXIgX051bWJlciA9IE51bWJlcjsKICAgICAgICB2YXIgX2RvbWFpbl9wb3J0ID0gZG9tYWluX3BvcnQ7CiAgICAgICAgdmFyIGFsbGxpbmtzID0gZG9jLmxpbmtzOwogICAgICAgIHZhciBhbGxsaW5rc2wgPSBhbGxsaW5rcy5sZW5ndGg7CgogICAgICAgIHZhciBjdXJMSHJlZiA9IGNwbGluazsKICAgICAgICB2YXIgX25leHRsaW5rOwogICAgICAgIHZhciBfcHJlbGluazsKICAgICAgICBpZiAoIWF1dG9HZXRMaW5rLmNoZWNrZWQpIHsgLy/nrKzkuIDmrKHmo4Dmn6UKICAgICAgICAgICAgX25leHRsaW5rID0gbmV4dGxpbms7CiAgICAgICAgICAgIF9wcmVsaW5rID0gcHJlbGluazsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfcHJlbGluayA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgRENFbmFibGUgPSBhdXRvTWF0Y2guZGlnaXRhbENoZWNrOwogICAgICAgIHZhciBEQ1JFID0gL15ccypcRHswLDF9KFxkKylcRHswLDF9XHMqJC87CgogICAgICAgIHZhciBpLCBhLCBhaHJlZiwgYXRleHQsIG51bXRleHQ7CiAgICAgICAgdmFyIGFQLCBpbml0U0QsIHNlYXJjaEQgPSAxLAogICAgICAgICAgICBwcmVTMSwgcHJlUzIsIHNlYXJjaGVkRCwgcFNOVGV4dCwgcHJlU1MsIG5vZGVUeXBlOwogICAgICAgIHZhciBuZXh0UzEsIG5leHRTMiwgblNOVGV4dCwgbmV4dFNTOwogICAgICAgIHZhciBhaW1ncywgaiwgamosIGFpbWdfeCwgeGJyZWFrLCBrLCBrZXl0ZXh0OwoKICAgICAgICBmdW5jdGlvbiBmaW5hbENoZWNrKGEsIHR5cGUpIHsKICAgICAgICAgICAgdmFyIGFocmVmID0gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsgLy/lnKhjaHJvbWXkuIrlvZPmmK/pnZ7lvZPliY3pobXpnaLmlofmoaPlr7nosaHnmoTml7blgJnnm7TmjqXnlKhhLmhyZWborr/pl64s5LiN6L+U5ZueaHJlZgogICAgICAgICAgICBpZiAoYWhyZWYgPT0gJyMnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBhaHJlZiA9IF9nZXRGdWxsSHJlZihhaHJlZik7IC8v5LuO55u45a+56Lev5b6E6I635Y+W5a6M5YWo55qEaHJlZjsKCiAgICAgICAgICAgIC8vM+S4quadoeS7tjpodHRw5Y2P6K6u6ZO+5o6lLOmdnui3s+WIsOW9k+WJjemhtemdoueahOmTvuaOpSzpnZ7ot6jln58KICAgICAgICAgICAgaWYgKC9eaHR0cHM/Oi9pLnRlc3QoYWhyZWYpICYmIGFocmVmLnJlcGxhY2UoLyMuKiQvLCAnJykgIT0gY3VyTEhyZWYgJiYgYWhyZWYubWF0Y2goL2h0dHBzPzpcL1wvKFteXC9dKykvKVsxXSA9PSBfZG9tYWluX3BvcnQpIHsKICAgICAgICAgICAgICAgIGlmICh4YnVnKSB7CiAgICAgICAgICAgICAgICAgICAgZGVidWcoKHR5cGUgPT0gJ3ByZScgPyAn5LiK5LiA6aG1JyA6ICfkuIvkuIDpobUnKSArICfljLnphY3liLDnmoTlhbPplK7lrZfkuLo6JywgYXRleHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGE7IC8v6L+U5Zue5a+56LGhQQogICAgICAgICAgICAgICAgLy9yZXR1cm4gYWhyZWY7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh4YnVnKSB7CiAgICAgICAgICAgIGRlYnVnKCflhajmlofmoaPpk77mjqXmlbDph486JywgYWxsbGlua3NsKTsKICAgICAgICB9CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxsaW5rc2w7IGkrKykgewogICAgICAgICAgICBpZiAoX25leHRsaW5rICYmIF9wcmVsaW5rKSBicmVhazsKICAgICAgICAgICAgYSA9IGFsbGxpbmtzW2ldOwogICAgICAgICAgICBpZiAoIWEpIGNvbnRpbnVlOyAvL3VuZGVmaW5lZOi3s+i/hwogICAgICAgICAgICAvL2xpbmtz6ZuG5ZCI6L+U5Zue55qE5pys5p2l5bCx5piv5YyF5ZCraHJlZueahGHlhYPntKAuLuaJgOS7peS4jeeUqOajgOa1iwogICAgICAgICAgICAvL2lmKCFhLmhhc0F0dHJpYnV0ZSgiaHJlZiIpKWNvbnRpbnVlOwogICAgICAgICAgICBhdGV4dCA9IGEudGV4dENvbnRlbnQ7CiAgICAgICAgICAgIGlmIChhdGV4dCkgewogICAgICAgICAgICAgICAgaWYgKERDRW5hYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgbnVtdGV4dCA9IGF0ZXh0Lm1hdGNoKERDUkUpOwogICAgICAgICAgICAgICAgICAgIGlmIChudW10ZXh0KSB7IC8v5piv5LiN5piv57qv5pWw5a2XCiAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVidWcobnVtdGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG51bXRleHQgPSBudW10ZXh0WzFdOwogICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KG51bXRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBhUCA9IGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRTRCA9IDA7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9uZXh0bGluaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlUzEgPSBhLnByZXZpb3VzU2libGluZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZVMyID0gYS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIShwcmVTMSB8fCBwcmVTMikgJiYgaW5pdFNEIDwgc2VhcmNoRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFQID0gYVAucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlUzEgPSBhUC5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZVMyID0gYVAucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFNEKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydCgnaW5pdFNEOiAnK2luaXRTRCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hlZEQgPSBpbml0U0QgPiAwID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVTMSB8fCBwcmVTMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBTTlRleHQgPSBwcmVTMSA/IHByZVMxLnRleHRDb250ZW50Lm1hdGNoKERDUkUpIDogJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBTTlRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlU1MgPSBwcmVTMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwU05UZXh0ID0gcHJlUzIgPyBwcmVTMi50ZXh0Q29udGVudC5tYXRjaChEQ1JFKSA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVTUyA9IHByZVMyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KHByZXZpb3VzUyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBTTlRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcFNOVGV4dCA9IHBTTlRleHRbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVidWcocFNOVGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChwU05UZXh0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX051bWJlcihwU05UZXh0KSA9PSBfTnVtYmVyKG51bXRleHQpIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChzZWFyY2hlZEQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGUgPSBwcmVTUy5ub2RlVHlwZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQobm9kZVR5cGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09IDMgfHwgKG5vZGVUeXBlID09IDEgJiYgKHNlYXJjaGVkRCA/IF9nZXRBbGxFbGVtZW50c0J5WHBhdGgoJy4vZGVzY2VuZGFudC1vci1zZWxmOjphW0BocmVmXScsIHByZVNTLCBkb2MpLnNuYXBzaG90TGVuZ3RoID09PSAwIDogKCFwcmVTUy5oYXNBdHRyaWJ1dGUoJ2hyZWYnKSB8fCBfZ2V0RnVsbEhyZWYocHJlU1MuZ2V0QXR0cmlidXRlKCdocmVmJykpID09IGN1ckxIcmVmKSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX25leHRsaW5rID0gZmluYWxDaGVjayhhLCAnbmV4dCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoX25leHRsaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9wcmVsaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UzEgPSBhLm5leHRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFMyID0gYS5uZXh0RWxlbWVudFNpYmxpbmc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCEobmV4dFMxIHx8IG5leHRTMikgJiYgaW5pdFNEIDwgc2VhcmNoRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFQID0gYVAucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFMxID0gYS5uZXh0U2libGluZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFMyID0gYS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRTRCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoJ2luaXRTRDogJytpbml0U0QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWREID0gaW5pdFNEID4gMCA/IHRydWUgOiBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFMxIHx8IG5leHRTMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5TTlRleHQgPSBuZXh0UzEgPyBuZXh0UzEudGV4dENvbnRlbnQubWF0Y2goRENSRSkgOiAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoblNOVGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U1MgPSBuZXh0UzE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgblNOVGV4dCA9IG5leHRTMiA/IG5leHRTMi50ZXh0Q29udGVudC5tYXRjaChEQ1JFKSA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U1MgPSBuZXh0UzI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQobmV4dFMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuU05UZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5TTlRleHQgPSBuU05UZXh0WzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KHBTTlRleHQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfTnVtYmVyKG5TTlRleHQpID09IF9OdW1iZXIobnVtdGV4dCkgKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KHNlYXJjaGVkRCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlVHlwZSA9IG5leHRTUy5ub2RlVHlwZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQobm9kZVR5cGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09IDMgfHwgKG5vZGVUeXBlID09IDEgJiYgKHNlYXJjaGVkRCA/IF9nZXRBbGxFbGVtZW50c0J5WHBhdGgoJy4vZGVzY2VuZGFudC1vci1zZWxmOjphW0BocmVmXScsIG5leHRTUywgZG9jKS5zbmFwc2hvdExlbmd0aCA9PT0gMCA6ICghbmV4dFNTLmhhc0F0dHJpYnV0ZSgiaHJlZiIpIHx8IF9nZXRGdWxsSHJlZihuZXh0U1MuZ2V0QXR0cmlidXRlKCdocmVmJykpID09IGN1ckxIcmVmKSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ByZWxpbmsgPSBmaW5hbENoZWNrKGEsICdwcmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KF9wcmVsaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhdGV4dCA9IGEudGl0bGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFhdGV4dCkgewogICAgICAgICAgICAgICAgYWltZ3MgPSBhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKTsKICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gYWltZ3MubGVuZ3RoOyBqIDwgamo7IGorKykgewogICAgICAgICAgICAgICAgICAgIGFpbWdfeCA9IGFpbWdzW2pdOwogICAgICAgICAgICAgICAgICAgIGF0ZXh0ID0gYWltZ194LmFsdCB8fCBhaW1nX3gudGl0bGU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGF0ZXh0KSBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWF0ZXh0KSBjb250aW51ZTsKICAgICAgICAgICAgaWYgKCFfbmV4dGxpbmspIHsKICAgICAgICAgICAgICAgIHhicmVhayA9IGZhbHNlOwogICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IF9uUEtMOyBrKyspIHsKICAgICAgICAgICAgICAgICAgICBrZXl0ZXh0ID0gX25leHRQYWdlS2V5W2tdOwogICAgICAgICAgICAgICAgICAgIGlmICghKGtleXRleHQudGVzdChhdGV4dCkpKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICBfbmV4dGxpbmsgPSBmaW5hbENoZWNrKGEsICduZXh0Jyk7CiAgICAgICAgICAgICAgICAgICAgeGJyZWFrID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh4YnJlYWsgfHwgX25leHRsaW5rKSBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIV9wcmVsaW5rKSB7CiAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgX3BQS0w7IGsrKykgewogICAgICAgICAgICAgICAgICAgIGtleXRleHQgPSBfcHJlUGFnZUtleVtrXTsKICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXl0ZXh0LnRlc3QoYXRleHQpKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgX3ByZWxpbmsgPSBmaW5hbENoZWNrKGEsICdwcmUnKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZGVidWcoJ+aQnOe0oumTvuaOpeaVsOmHjzonLCBpLCAn6ICX5pe2OicsIG5ldyBEYXRlKCkgLSBzdGFydFRpbWUsICfmr6vnp5InKTsKCiAgICAgICAgaWYgKCFhdXRvR2V0TGluay5jaGVja2VkKSB7IC8v5Y+q5Zyo56ys5LiA5qyh5qOA5rWL55qE5pe25YCZLOaKm+WHuuS4iuS4gOmhtemTvuaOpS4KICAgICAgICAgICAgcHJlbGluayA9IF9wcmVsaW5rOwogICAgICAgICAgICBhdXRvR2V0TGluay5jaGVja2VkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vYWxlcnQoX25leHRsaW5rKTsKICAgICAgICByZXR1cm4gX25leHRsaW5rOwogICAgfQoKICAgIGZ1bmN0aW9uIHBhcnNlS1dSRSgpIHsKICAgICAgICBmdW5jdGlvbiBtb2RpZnlQYWdlS2V5KG5hbWUsIHBhZ2VLZXksIHBhZ2VLZXlMZW5ndGgpIHsKICAgICAgICAgICAgZnVuY3Rpb24gc3RyTVRFKHN0cikgewogICAgICAgICAgICAgICAgcmV0dXJuIChzdHIucmVwbGFjZSgvXFwvZywgJ1xcXFwnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cKy9nLCAnXFwrJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXC4vZywgJ1xcLicpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1w/L2csICdcXD8nKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cey9nLCAnXFx7JykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXH0vZywgJ1xcfScpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xbL2csICdcXFsnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXS9nLCAnXFxdJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXF4vZywgJ1xcXicpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wkL2csICdcXCQnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cKi9nLCAnXFwqJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCgvZywgJ1xcKCcpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wpL2csICdcXCknKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cfC9nLCAnXFx8JykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXC8vZywgJ1xcLycpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHBmd29yZGwgPSBhdXRvTWF0Y2gucGZ3b3JkbCwKICAgICAgICAgICAgICAgIHNmd29yZGwgPSBhdXRvTWF0Y2guc2Z3b3JkbDsKCiAgICAgICAgICAgIHZhciBSRV9lbmFibGVfYSA9IHBmd29yZGxbbmFtZV0uZW5hYmxlLAogICAgICAgICAgICAgICAgUkVfbWF4UHJlZml4ID0gcGZ3b3JkbFtuYW1lXS5tYXhQcmVmaXgsCiAgICAgICAgICAgICAgICBSRV9jaGFyYWN0ZXJfYSA9IHBmd29yZGxbbmFtZV0uY2hhcmFjdGVyLAogICAgICAgICAgICAgICAgUkVfZW5hYmxlX2IgPSBzZndvcmRsW25hbWVdLmVuYWJsZSwKICAgICAgICAgICAgICAgIFJFX21heFN1YmZpeCA9IHNmd29yZGxbbmFtZV0ubWF4U3ViZml4LAogICAgICAgICAgICAgICAgUkVfY2hhcmFjdGVyX2IgPSBzZndvcmRsW25hbWVdLmNoYXJhY3RlcjsKICAgICAgICAgICAgdmFyIHBsd29yZHMsCiAgICAgICAgICAgICAgICBzbHdvcmRzLAogICAgICAgICAgICAgICAgcmVwOwoKICAgICAgICAgICAgcGx3b3JkcyA9IFJFX21heFByZWZpeCA+IDAgPyAoJ1snICsgKFJFX2VuYWJsZV9hID8gc3RyTVRFKFJFX2NoYXJhY3Rlcl9hLmpvaW4oJycpKSA6ICcuJykgKyAnXXswLCcgKyBSRV9tYXhQcmVmaXggKyAnfScpIDogJyc7CiAgICAgICAgICAgIHBsd29yZHMgPSAnXlxccyonICsgcGx3b3JkczsKICAgICAgICAgICAgLy9hbGVydChwbHdvcmRzKTsKICAgICAgICAgICAgc2x3b3JkcyA9IFJFX21heFN1YmZpeCA+IDAgPyAoJ1snICsgKFJFX2VuYWJsZV9iID8gc3RyTVRFKFJFX2NoYXJhY3Rlcl9iLmpvaW4oJycpKSA6ICcuJykgKyAnXXswLCcgKyBSRV9tYXhTdWJmaXggKyAnfScpIDogJyc7CiAgICAgICAgICAgIHNsd29yZHMgPSBzbHdvcmRzICsgJ1xccyokJzsKICAgICAgICAgICAgLy9hbGVydChzbHdvcmRzKTsKICAgICAgICAgICAgcmVwID0gcHJlZnMuY2FzZXMgPyAnJyA6ICdpJzsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZUtleUxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBwYWdlS2V5W2ldID0gbmV3IFJlZ0V4cChwbHdvcmRzICsgc3RyTVRFKHBhZ2VLZXlbaV0pICsgc2x3b3JkcywgcmVwKTsKICAgICAgICAgICAgICAgIC8vYWxlcnQocGFnZUtleVtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHBhZ2VLZXk7CiAgICAgICAgfQoKICAgICAgICAvL+i9rOaIkOato+WImS4KICAgICAgICBwcmVQYWdlS2V5ID0gbW9kaWZ5UGFnZUtleSgncHJldmlvdXMnLCBwcmVQYWdlS2V5LCBwcmVQYWdlS2V5Lmxlbmd0aCk7CiAgICAgICAgbmV4dFBhZ2VLZXkgPSBtb2RpZnlQYWdlS2V5KCduZXh0JywgbmV4dFBhZ2VLZXksIG5leHRQYWdlS2V5Lmxlbmd0aCk7CiAgICB9CgogICAgLy8g5Zyw5Z2A5qCP6YCS5aKe5aSE55CG5Ye95pWwLgogICAgZnVuY3Rpb24gaHJlZkluYyhvYmosIGRvYywgd2luKSB7CiAgICAgICAgdmFyIF9jcGxpbmsgPSBjcGxpbms7CgogICAgICAgIGZ1bmN0aW9uIGdldEhyZWYoaHJlZikgewogICAgICAgICAgICB2YXIgbUZhaWxzID0gb2JqLm1GYWlsczsKICAgICAgICAgICAgaWYgKCFtRmFpbHMpIHJldHVybiBocmVmOwogICAgICAgICAgICB2YXIgc3RyOwogICAgICAgICAgICBpZiAodHlwZW9mIG1GYWlscyA9PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgc3RyID0gbUZhaWxzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyIGZ4OwogICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CiAgICAgICAgICAgICAgICB2YXIgaSwgaWk7CiAgICAgICAgICAgICAgICB2YXIgbVZhbHVlOwogICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBtRmFpbHMubGVuZ3RoOyBpIDwgaWk7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGZ4ID0gbUZhaWxzW2ldOwogICAgICAgICAgICAgICAgICAgIGlmICghZngpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnggPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChmeCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbVZhbHVlID0gaHJlZi5tYXRjaChmeCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbVZhbHVlKSByZXR1cm4gaHJlZjsKICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChtVmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0ciA9IGFycmF5LmpvaW4oJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgfQogICAgICAgIC8vIGFsZXJ0KGdldEhyZWYoX2NwbGluaykpCgogICAgICAgIHZhciBzYSA9IG9iai5zdGFydEFmdGVyOwogICAgICAgIHZhciBzYVR5cGUgPSB0eXBlb2Ygc2E7CiAgICAgICAgdmFyIGluZGV4OwoKICAgICAgICBpZiAoc2FUeXBlID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGluZGV4ID0gX2NwbGluay5pbmRleE9mKHNhKTsKICAgICAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7CiAgICAgICAgICAgICAgICBfY3BsaW5rID0gZ2V0SHJlZihfY3BsaW5rKTsKICAgICAgICAgICAgICAgIGluZGV4ID0gX2NwbGluay5pbmRleE9mKHNhKTsKICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSkgcmV0dXJuOwogICAgICAgICAgICAgICAgLy9hbGVydChpbmRleCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgdHNhID0gX2NwbGluay5tYXRjaChzYSk7CiAgICAgICAgICAgIC8vYWxlcnQoc2EpOwogICAgICAgICAgICBpZiAoIXRzYSkgewogICAgICAgICAgICAgICAgX2NwbGluayA9IGdldEhyZWYoX2NwbGluayk7CiAgICAgICAgICAgICAgICBzYSA9IChfY3BsaW5rLm1hdGNoKHNhKSB8fCBbXSlbMF07CiAgICAgICAgICAgICAgICBpZiAoIXNhKSByZXR1cm47CiAgICAgICAgICAgICAgICBpbmRleCA9IF9jcGxpbmsuaW5kZXhPZihzYSk7CiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNhID0gdHNhWzBdOwogICAgICAgICAgICAgICAgaW5kZXggPSBfY3BsaW5rLmluZGV4T2Yoc2EpOwogICAgICAgICAgICAgICAgLy9hbGVydChpbmRleCkKICAgICAgICAgICAgICAgIC8vYWxlcnQodHNhLmluZGV4KQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpbmRleCArPSBzYS5sZW5ndGg7CiAgICAgICAgdmFyIG1heCA9IG9iai5tYXggPT09IHVuZGVmaW5lZCA/IDk5OTkgOiBvYmoubWF4OwogICAgICAgIHZhciBtaW4gPSBvYmoubWluID09PSB1bmRlZmluZWQgPyAxIDogb2JqLm1pbjsKICAgICAgICB2YXIgYVN0ciA9IF9jcGxpbmsuc2xpY2UoMCwgaW5kZXgpOwogICAgICAgIHZhciBiU3RyID0gX2NwbGluay5zbGljZShpbmRleCk7CiAgICAgICAgdmFyIG5iU3RyID0gYlN0ci5yZXBsYWNlKC9eKFxkKykoLiopJC8sIGZ1bmN0aW9uKGEsIGIsIGMpIHsKICAgICAgICAgICAgYiA9IE51bWJlcihiKSArIG9iai5pbmM7CiAgICAgICAgICAgIGlmIChiID49IG1heCB8fCBiIDwgbWluKSByZXR1cm4gYTsKICAgICAgICAgICAgcmV0dXJuIGIgKyBjOwogICAgICAgIH0pOwogICAgICAgIC8vIGFsZXJ0KGFTdHIrbmJTdHIpOwogICAgICAgIGlmIChuYlN0ciAhPT0gYlN0cikgewogICAgICAgICAgICB2YXIgaWxyZXN1bHQ7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpbHJlc3VsdCA9IG9iai5pc0xhc3QoZG9jLCB1bnNhZmVXaW5kb3csIF9jcGxpbmspOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICBpZiAoaWxyZXN1bHQpIHJldHVybjsKICAgICAgICAgICAgcmV0dXJuIGFTdHIgKyBuYlN0cjsKICAgICAgICB9CiAgICB9CgogICAgLy8g6I635Y+W5Y2V5Liq5YWD57SgLOa3t+WQiAogICAgZnVuY3Rpb24gZ2V0RWxlbWVudChzZWxlY3RvciwgY29udGV4dE5vZGUsIGRvYywgd2luKSB7CiAgICAgICAgdmFyIHJldDsKICAgICAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm4gcmV0OwogICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgICAgICB3aW4gPSB3aW4gfHwgd2luZG93OwogICAgICAgIGNvbnRleHROb2RlID0gY29udGV4dE5vZGUgfHwgZG9jOwogICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHNlbGVjdG9yOwogICAgICAgIGlmICh0eXBlID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGlmIChzZWxlY3Rvci5zZWFyY2goL15jc3M7L2kpID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXQgPSBnZXRFbGVtZW50QnlDU1Moc2VsZWN0b3Iuc2xpY2UoNCksIGNvbnRleHROb2RlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci50b0xvd2VyQ2FzZSgpID09ICdhdXRvOycpIHsKICAgICAgICAgICAgICAgIHJldCA9IGF1dG9HZXRMaW5rKGRvYywgd2luKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldCA9IGdldEVsZW1lbnRCeVhwYXRoKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSwgZG9jKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIHJldCA9IHNlbGVjdG9yKGRvYywgd2luLCBjcGxpbmspOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHNlbGVjdG9yLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICAgICAgcmV0ID0gZ2V0RWxlbWVudChzZWxlY3RvcltpXSwgY29udGV4dE5vZGUsIGRvYywgd2luKTsKICAgICAgICAgICAgICAgIGlmIChyZXQpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldCA9IGhyZWZJbmMoc2VsZWN0b3IsIGRvYywgd2luKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0KfQoKCi8vID09PT09PT09PT09PT09PT09PT09ICBsaWJzICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vIOiHqumAoOeugOWMlueJiCB1bmRlcnNjcm9lIOW6k++8jOS7hSBFQ01BU2NyaXB0IDUKdmFyIF8gPSAoZnVuY3Rpb24oKXsKCiAgICB2YXIgbmF0aXZlSXNBcnJheSA9IEFycmF5LmlzQXJyYXk7CiAgICB2YXIgXyA9IGZ1bmN0aW9uKG9iail7CiAgICAgICAgaWYob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajsKICAgICAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7CiAgICAgICAgdGhpcy5fd3JhcHBlZCA9IG9iajsKICAgIH07CgogICAgdmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsKCiAgICBfLmlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKG9iaikgewogICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT0gJ1tvYmplY3QgQXJyYXldJzsKICAgIH07CgogICAgWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7CiAgICAgICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHsKICAgICAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCAnICsgbmFtZSArICddJzsKICAgICAgICB9OwogICAgfSk7CgogICAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLgogICAgXy5maW5kID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCl7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICBvYmouc29tZShmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGFycmF5KXsKICAgICAgICAgICAgaWYoaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGFycmF5KSl7CiAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgcmV0dXJuIF87Cn0pKCk7CgovKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovCi8v5Yqo55S75bqTCnZhciBUd2VlbiA9IHsKICAgIExpbmVhcjogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgIHJldHVybiBjICogdCAvIGQgKyBiOwogICAgfSwKICAgIFF1YWQ6IHsKICAgICAgICBlYXNlSW46IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZU91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7CiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiOwogICAgICAgIH0KICAgIH0sCiAgICBDdWJpYzogewogICAgICAgIGVhc2VJbjogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZU91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjsKICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7CiAgICAgICAgfQogICAgfSwKICAgIFF1YXJ0OiB7CiAgICAgICAgZWFzZUluOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZU91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjsKICAgICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjsKICAgICAgICB9CiAgICB9LAogICAgUXVpbnQ6IHsKICAgICAgICBlYXNlSW46IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZU91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7CiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7CiAgICAgICAgfQogICAgfSwKICAgIFNpbmU6IHsKICAgICAgICBlYXNlSW46IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZU91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjsKICAgICAgICB9CiAgICB9LAogICAgRXhwbzogewogICAgICAgIGVhc2VJbjogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICByZXR1cm4gKHQgPT0gMCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgcmV0dXJuICh0ID09IGQpID8gYiArIGMgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7CiAgICAgICAgfSwKICAgICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7CiAgICAgICAgICAgIGlmICh0ID09IGQpIHJldHVybiBiICsgYzsKICAgICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiOwogICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7CiAgICAgICAgfQogICAgfSwKICAgIENpcmM6IHsKICAgICAgICBlYXNlSW46IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24odCwgYiwgYywgZCkgewogICAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjsKICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjsKICAgICAgICB9CiAgICB9LAogICAgRWxhc3RpYzogewogICAgICAgIGVhc2VJbjogZnVuY3Rpb24odCwgYiwgYywgZCwgYSwgcCkgewogICAgICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjsKICAgICAgICAgICAgaWYgKCh0IC89IGQpID09IDEpIHJldHVybiBiICsgYzsKICAgICAgICAgICAgaWYgKCFwKSBwID0gZCAqIC4zOwogICAgICAgICAgICBpZiAoIWEgfHwgYSA8IE1hdGguYWJzKGMpKSB7CiAgICAgICAgICAgICAgICBhID0gYzsKICAgICAgICAgICAgICAgIHZhciBzID0gcCAvIDQ7CiAgICAgICAgICAgIH0gZWxzZSB2YXIgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTsKICAgICAgICAgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIGEsIHApIHsKICAgICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7CiAgICAgICAgICAgIGlmICgodCAvPSBkKSA9PSAxKSByZXR1cm4gYiArIGM7CiAgICAgICAgICAgIGlmICghcCkgcCA9IGQgKiAuMzsKICAgICAgICAgICAgaWYgKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkgewogICAgICAgICAgICAgICAgYSA9IGM7CiAgICAgICAgICAgICAgICB2YXIgcyA9IHAgLyA0OwogICAgICAgICAgICB9IGVsc2UgdmFyIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7CiAgICAgICAgICAgIHJldHVybiAoYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYik7CiAgICAgICAgfSwKICAgICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIGEsIHApIHsKICAgICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7CiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPT0gMikgcmV0dXJuIGIgKyBjOwogICAgICAgICAgICBpZiAoIXApIHAgPSBkICogKC4zICogMS41KTsKICAgICAgICAgICAgaWYgKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkgewogICAgICAgICAgICAgICAgYSA9IGM7CiAgICAgICAgICAgICAgICB2YXIgcyA9IHAgLyA0OwogICAgICAgICAgICB9IGVsc2UgdmFyIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7CiAgICAgICAgICAgIGlmICh0IDwgMSkgcmV0dXJuIC0uNSAqIChhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiOwogICAgICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogLjUgKyBjICsgYjsKICAgICAgICB9CiAgICB9LAogICAgQmFjazogewogICAgICAgIGVhc2VJbjogZnVuY3Rpb24odCwgYiwgYywgZCwgcykgewogICAgICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4OwogICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHsKICAgICAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkKSBzID0gMS43MDE1ODsKICAgICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiOwogICAgICAgIH0sCiAgICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7CiAgICAgICAgICAgIGlmIChzID09IHVuZGVmaW5lZCkgcyA9IDEuNzAxNTg7CiAgICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0IC0gcykpICsgYjsKICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjsKICAgICAgICB9CiAgICB9LAogICAgQm91bmNlOiB7CiAgICAgICAgZWFzZUluOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIHJldHVybiBjIC0gVHdlZW4uQm91bmNlLmVhc2VPdXQoZCAtIHQsIDAsIGMsIGQpICsgYjsKICAgICAgICB9LAogICAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsKICAgICAgICAgICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjsKICAgICAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIgLyAyLjc1KSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAuNzUpICsgYjsKICAgICAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIuNzUpKSAqIHQgKyAuOTM3NSkgKyBiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIC45ODQzNzUpICsgYjsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgIGlmICh0IDwgZCAvIDIpIHJldHVybiBUd2Vlbi5Cb3VuY2UuZWFzZUluKHQgKiAyLCAwLCBjLCBkKSAqIC41ICsgYjsKICAgICAgICAgICAgZWxzZSByZXR1cm4gVHdlZW4uQm91bmNlLmVhc2VPdXQodCAqIDIgLSBkLCAwLCBjLCBkKSAqIC41ICsgYyAqIC41ICsgYjsKICAgICAgICB9CiAgICB9Cn07Cgp2YXIgVHdlZW5NID0gWwogICAgJ0xpbmVhcicsCiAgICAnUXVhZCcsCiAgICAnQ3ViaWMnLAogICAgJ1F1YXJ0JywKICAgICdRdWludCcsCiAgICAnU2luZScsCiAgICAnRXhwbycsCiAgICAnQ2lyYycsCiAgICAnRWxhc3RpYycsCiAgICAnQmFjaycsCiAgICAnQm91bmNlJywKXTsKCnZhciBUd2VlbkVhc2UgPSBbCiAgICAnZWFzZUluJywKICAgICdlYXNlT3V0JywKICAgICdlYXNlSW5PdXQnLApdOwovKiBqc2hpbnQgaWdub3JlOmVuZCAqLwoKCi8vID09PT09PT09PT09PT09PT09PT09ICBmdW5jdGlvbnMgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZnVuY3Rpb24gZ21Db21wYXRpYmxlKCkgewoKICAgIEdNX2FkZFN0eWxlID0gZnVuY3Rpb24oY3NzLCBpZCl7CiAgICAgICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgIGlmIChpZCkgewogICAgICAgICAgICBzLnNldEF0dHJpYnV0ZShpZCwgaWQpOwogICAgICAgIH0KICAgICAgICBzLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpOwogICAgICAgIHMuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7Jyk7CiAgICAgICAgcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTsKICAgICAgICByZXR1cm4gKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzKTsKICAgIH07CgogICAgaWYgKHR5cGVvZiB1bnNhZmVXaW5kb3cgPT0gInVuZGVmaW5lZCIpIHVuc2FmZVdpbmRvdyA9IHdpbmRvdzsKICAgIGlmICh0eXBlb2YgR01fZ2V0VmFsdWUgIT0gInVuZGVmaW5lZCIgJiYgR01fZ2V0VmFsdWUoImEiLCAiYiIpICE9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgR01fZ2V0VmFsdWUgPSBmdW5jdGlvbihrZXksIGRlZmF1bHRWYWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgdmFsdWUgPSBkZWZhdWx0VmFsdWU7CiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gJ3RydWUnKSB2YWx1ZSA9IHRydWU7CiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gJ2ZhbHNlJykgdmFsdWUgPSBmYWxzZTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9OwogICAgR01fc2V0VmFsdWUgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgfTsKICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQgPSBmdW5jdGlvbigpIHt9OwoKICAgIC8vIGNocm9tZSDljp/nlJ/mlK/mjIEKICAgIGlmICh0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCA9IGZ1bmN0aW9uKG9wdCkgewogICAgICAgICAgICB2YXIgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHJlcS5vcGVuKCdHRVQnLCBvcHQudXJsLCB0cnVlKTsKICAgICAgICAgICAgcmVxLm92ZXJyaWRlTWltZVR5cGUob3B0Lm92ZXJyaWRlTWltZVR5cGUpOwogICAgICAgICAgICByZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGFFdnQpIHsKICAgICAgICAgICAgICAgIGlmIChyZXEucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5vbmxvYWQocmVxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5vbmVycm9yKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICByZXEuc2VuZChudWxsKTsKICAgICAgICB9OwogICAgfQp9CgovLyBCeSBsYXN0RHJlYW0yMDEzIOeVpeWKoOS/ruaUue+8jOWOn+eJiOWPquiDveeUqOS6jiBGaXJlZm94CmZ1bmN0aW9uIGdldFJhbGF0aXZlUGFnZVN0cihsYXN0VXJsLCBjdXJyZW50VXJsLCBuZXh0VXJsKSB7CiAgICBmdW5jdGlvbiBnZXREaWdpdGFsKHN0cikgewogICAgICAgIHZhciBudW0gPSBzdHIucmVwbGFjZSgvXnAvaSwgJycpOwogICAgICAgIHJldHVybiBwYXJzZUludChudW0sIDEwKTsKICAgIH0KCiAgICB2YXIgZ2V0UmFsYXRpdmVQYWdlTnVtQXJyYXkgPSBmdW5jdGlvbiAobGFzdHVybCwgdXJsKSB7CiAgICAgICAgaWYgKCFsYXN0dXJsIHx8ICF1cmwpIHsKICAgICAgICAgICAgcmV0dXJuIFswLCAwXTsKICAgICAgICB9CgogICAgICAgIHZhciBsYXN0dXJsYXJyYXkgPSBsYXN0dXJsLnNwbGl0KC8tfFwufFwmfFwvfD18I3xcPy8pLAogICAgICAgICAgICB1cmxhcnJheSA9IHVybC5zcGxpdCgvLXxcLnxcJnxcL3w9fCN8XD8vKSwKICAgICAgICAgICAgdXJsX2luZm8sCiAgICAgICAgICAgIGxhc3R1cmxfaW5mbzsKICAgICAgICAvLyDkuIDkupsgdXJsX2luZm8g5Li6IHAxLHAyLHAzIOS5i+exu+eahAogICAgICAgIHZhciBoYW5kbGVJbmZvID0gZnVuY3Rpb24ocykgewogICAgICAgICAgICBpZiAocykgewogICAgICAgICAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXnAvLCAnJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHM7CiAgICAgICAgfTsKICAgICAgICB3aGlsZSAodXJsYXJyYXkubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgIHVybF9pbmZvID0gaGFuZGxlSW5mbyh1cmxhcnJheS5wb3AoKSk7CiAgICAgICAgICAgIGxhc3R1cmxfaW5mbyA9IGhhbmRsZUluZm8obGFzdHVybGFycmF5LnBvcCgpKTsKICAgICAgICAgICAgaWYgKHVybF9pbmZvICE9IGxhc3R1cmxfaW5mbykgewogICAgICAgICAgICAgICAgaWYgKC9bMC05XSsvLnRlc3QodXJsX2luZm8pICYmICh1cmxfaW5mbyA9PSAiMiIgfHwgL1swLTldKy8udGVzdChsYXN0dXJsX2luZm8pKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBbKHBhcnNlSW50KGxhc3R1cmxfaW5mbykgfHwgMSksIHBhcnNlSW50KHVybF9pbmZvKV07CiAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBbMCwgMF07CiAgICB9OwoKICAgIHZhciByYWxhdGl2ZU9mZjsKCiAgICAvL+iuuuWdm+WSjOaQnOe0ouW8leaTjue9kemhteaYvuekuuWunumZhemhtemdouS/oeaBrwogICAgdmFyIHJhbGF0aXZlUGFnZU51bWFycmF5ID0gW107CiAgICBpZiAobmV4dFVybCkgewogICAgICAgIHJhbGF0aXZlUGFnZU51bWFycmF5ID0gZ2V0UmFsYXRpdmVQYWdlTnVtQXJyYXkoY3VycmVudFVybCwgbmV4dFVybCk7CiAgICB9IGVsc2UgewogICAgICAgIHJhbGF0aXZlUGFnZU51bWFycmF5ID0gZ2V0UmFsYXRpdmVQYWdlTnVtQXJyYXkobGFzdFVybCwgY3VycmVudFVybCk7CiAgICAgICAgcmFsYXRpdmVPZmYgPSByYWxhdGl2ZVBhZ2VOdW1hcnJheVsxXSAtIHJhbGF0aXZlUGFnZU51bWFycmF5WzBdOyAvL+eUqOeahOS4iuS4gOmhteeahOebuOWvueS/oeaBr+avlOi+g+eahO+8jOimgeihpeWFheW3ruWAvOKApuKApgogICAgICAgIHJhbGF0aXZlUGFnZU51bWFycmF5WzFdID0gcmFsYXRpdmVQYWdlTnVtYXJyYXlbMV0gKyByYWxhdGl2ZU9mZjsKICAgICAgICByYWxhdGl2ZVBhZ2VOdW1hcnJheVswXSA9IHJhbGF0aXZlUGFnZU51bWFycmF5WzBdICsgcmFsYXRpdmVPZmY7CiAgICB9CgogICAgLy8gY29uc29sZS5sb2coJ1vojrflj5blrp7pmYXpobXmlbBdICcsICfopoHmr5TovoPnmoQz5Liq6aG15pWw77yaJyxhcmd1bWVudHMsICfvvIzlvpfliLDnmoTlt67lgLw6JywgcmFsYXRpdmVQYWdlTnVtYXJyYXkpOwogICAgaWYgKGlzTmFOKHJhbGF0aXZlUGFnZU51bWFycmF5WzBdKSB8fCBpc05hTihyYWxhdGl2ZVBhZ2VOdW1hcnJheVsxXSkpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICB9CgogICAgdmFyIHJlYWxQYWdlU2l0ZU1hdGNoID0gZmFsc2U7CiAgICByYWxhdGl2ZU9mZiA9IHJhbGF0aXZlUGFnZU51bWFycmF5WzFdIC0gcmFsYXRpdmVQYWdlTnVtYXJyYXlbMF07CiAgICAvL+S4iuS4gOmhteS4juS4i+S4gOmhteW3ruWAvOS4ujHvvIzlubbmnIDlpKfmlbDlgLzkuI3otoXov4cxMDAwMCjkuIDoiKzorrrlnZvkuZ/kuI3kvJrotoXov4fov5nkuYjlpJrpobXigKbigKYpCiAgICBpZiAocmFsYXRpdmVPZmYgPT09IDEgJiYgcmFsYXRpdmVQYWdlTnVtYXJyYXlbMV0gPCAxMDAwMCkgewogICAgICAgIHJlYWxQYWdlU2l0ZU1hdGNoID0gdHJ1ZTsKICAgIH0KCiAgICAvL+S4iuS4gOmhteS4juS4i+S4gOmhteW3ruWAvOS4jeS4ujHvvIzkvYbkuIrkuIDpobXkuI7kuIvkuIDpobXlt67lgLzog73ooqvkuIrkuIDpobXkuI7kuIvkuIDpnaLmiYDmlbTpmaTnmoTvvIzmnInop4TlvovnmoTpobXpnaIKICAgIGlmICghcmVhbFBhZ2VTaXRlTWF0Y2ggJiYgcmFsYXRpdmVPZmYgIT09IDEpIHsKICAgICAgICBpZiAoKHJhbGF0aXZlUGFnZU51bWFycmF5WzFdICUgcmFsYXRpdmVPZmYpID09PSAwICYmIChyYWxhdGl2ZVBhZ2VOdW1hcnJheVswXSAlIHJhbGF0aXZlT2ZmKSA9PT0gMCkgewogICAgICAgICAgICByZWFsUGFnZVNpdGVNYXRjaCA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIGlmICghcmVhbFBhZ2VTaXRlTWF0Y2gpIHsgLy/kuI3mu6HotrPku6XkuIrmnaHku7bvvIzlho3moLnmja7lnLDlnYDnibnlvoHmnaXljLnphY0KICAgICAgICB2YXIgc2l0ZVBhdHRlcm47CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IFJFQUxQQUdFX1NJVEVfUEFUVEVSTi5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBzaXRlUGF0dGVybiA9IFJFQUxQQUdFX1NJVEVfUEFUVEVSTltpXTsKICAgICAgICAgICAgaWYgKGN1cnJlbnRVcmwudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKHNpdGVQYXR0ZXJuKSA+PSAwKSB7CiAgICAgICAgICAgICAgICByZWFsUGFnZVNpdGVNYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB2YXIgcmFsYXRpdmVQYWdlU3RyOwogICAgaWYgKHJlYWxQYWdlU2l0ZU1hdGNoKSB7IC8v5aaC5p6c5Yy56YWN5bCx5pi+56S65a6e6ZmF572R6aG15L+h5oGvCiAgICAgICAgaWYgKHJhbGF0aXZlUGFnZU51bWFycmF5WzFdIC0gcmFsYXRpdmVQYWdlTnVtYXJyYXlbMF0gPiAxKSB7IC8v5LiA6Iis5piv5pCc57Si5byV5pOO55qE56yseHggLSB4eOmhueKApuKApgogICAgICAgICAgICByYWxhdGl2ZVBhZ2VTdHIgPSAnIFsg5a6e6ZmF77ya56ysIDxmb250IGNvbG9yPSJyZWQiPicgKyByYWxhdGl2ZVBhZ2VOdW1hcnJheVswXSArICcgLSAnICsgcmFsYXRpdmVQYWdlTnVtYXJyYXlbMV0gKyAnPC9mb250PiDpobkgXSc7CiAgICAgICAgfSBlbHNlIGlmICgocmFsYXRpdmVQYWdlTnVtYXJyYXlbMV0gLSByYWxhdGl2ZVBhZ2VOdW1hcnJheVswXSkgPT09IDEpIHsgLy/kuIDoiKznmoTnv7vpobXmlbDvvIzlt67lgLzlupTor6XmmK8xCiAgICAgICAgICAgIHJhbGF0aXZlUGFnZVN0ciA9ICcgWyDlrp7pmYXvvJrnrKwgPGZvbnQgY29sb3I9InJlZCI+JyArIHJhbGF0aXZlUGFnZU51bWFycmF5WzBdICsgJzwvZm9udD4g6aG1IF0nOwogICAgICAgIH0gZWxzZSBpZiAoKHJhbGF0aXZlUGFnZU51bWFycmF5WzBdID09PSAwICYmIHJhbGF0aXZlUGFnZU51bWFycmF5WzFdKSA9PT0gMCkgeyAvL+aJvuS4jeWIsOeahOivneKApuKApgogICAgICAgICAgICByYWxhdGl2ZVBhZ2VTdHIgPSAnIFsgPGZvbnQgY29sb3I9InJlZCI+5a6e6ZmF572R6aG157uT5p2fPC9mb250PiBdJzsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIHJhbGF0aXZlUGFnZVN0ciA9ICcnOwogICAgfQogICAgcmV0dXJuIHJhbGF0aXZlUGFnZVN0ciB8fCAnJzsKfQoKZnVuY3Rpb24gaGFuZGxlTGF6eUltZ1NyYyhydWxlLCBkb2MpIHsKICAgIHZhciBpbWdBdHRycyA9IHJ1bGUuc3BsaXQoJ3wnKTsKICAgIGltZ0F0dHJzLmZvckVhY2goZnVuY3Rpb24oYXR0cil7CiAgICAgICAgYXR0ciA9IGF0dHIudHJpbSgpOwogICAgICAgIFtdLmZvckVhY2guY2FsbChkb2MucXVlcnlTZWxlY3RvckFsbCgiaW1nWyIgKyBhdHRyICsgIl0iKSwgZnVuY3Rpb24oaW1nKXsKICAgICAgICAgICAgdmFyIG5ld1NyYyA9IGltZy5nZXRBdHRyaWJ1dGUoYXR0cik7CiAgICAgICAgICAgIGlmIChuZXdTcmMgJiYgbmV3U3JjICE9IGltZy5zcmMpIHsKICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoInNyYyIsIG5ld1NyYyk7CiAgICAgICAgICAgICAgICBpbWcucmVtb3ZlQXR0cmlidXRlKGF0dHIpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9KTsKfQoKZnVuY3Rpb24gcmVtb3ZlU2NyaXB0cyhub2RlKSB7ICAvLyDnp7vpmaTlhYPntKDnmoQgc2NyaXB0CiAgICB2YXIgc2NyaXB0cyA9IGdldEFsbEVsZW1lbnRzKCdjc3M7c2NyaXB0Jywgbm9kZSk7CiAgICB2YXIgc2NyaXB0c194OwogICAgZm9yIChpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIHNjcmlwdHNfeCA9IHNjcmlwdHNbaV07CiAgICAgICAgc2NyaXB0c194LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0c194KTsKICAgIH0KfQoKdmFyIG5vdGljZURpdjsKdmFyIG5vdGljZURpdnRvOwp2YXIgbm90aWNlRGl2dG8yOwpmdW5jdGlvbiBub3RpY2UoaHRtbF90eHQpIHsKICAgIGlmICghbm90aWNlRGl2KSB7CiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG5vdGljZURpdiA9IGRpdjsKICAgICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9ICdcCiAgICAgICAgICAgIHBvc2l0aW9uOmZpeGVkIWltcG9ydGFudDtcCiAgICAgICAgICAgIHotaW5kZXg6MjE0NzQ4MzY0NyFpbXBvcnRhbnQ7XAogICAgICAgICAgICBmbG9hdDpub25lIWltcG9ydGFudDtcCiAgICAgICAgICAgIHdpZHRoOmF1dG8haW1wb3J0YW50O1wKICAgICAgICAgICAgaGVpZ2h0OmF1dG8haW1wb3J0YW50O1wKICAgICAgICAgICAgZm9udC1zaXplOjEzcHghaW1wb3J0YW50O1wKICAgICAgICAgICAgcGFkZGluZzozcHggMjBweCAycHggNXB4IWltcG9ydGFudDtcCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzdmOGY5YyFpbXBvcnRhbnQ7XAogICAgICAgICAgICBib3JkZXI6bm9uZSFpbXBvcnRhbnQ7XAogICAgICAgICAgICBjb2xvcjojMDAwIWltcG9ydGFudDtcCiAgICAgICAgICAgIHRleHQtYWxpZ246bGVmdCFpbXBvcnRhbnQ7XAogICAgICAgICAgICBsZWZ0OjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgYm90dG9tOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgb3BhY2l0eTowO1wKICAgICAgICAgICAgLW1vei1ib3JkZXItcmFkaXVzOjAgNnB4IDAgMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICBib3JkZXItcmFkaXVzOjAgNnB4IDAgMCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAtby10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlLWluLW91dDtcCiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZS1pbi1vdXQ7XAogICAgICAgICAgICAtbW96LXRyYW5zaXRpb246b3BhY2l0eSAwLjNzIGVhc2UtaW4tb3V0O1wKICAgICAgICAnOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICAgIH0KICAgIGNsZWFyVGltZW91dChub3RpY2VEaXZ0byk7CiAgICBjbGVhclRpbWVvdXQobm90aWNlRGl2dG8yKTsKICAgIG5vdGljZURpdi5pbm5lckhUTUwgPSBodG1sX3R4dDsKICAgIG5vdGljZURpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIG5vdGljZURpdi5zdHlsZS5vcGFjaXR5ID0gJzAuOTYnOwogICAgbm90aWNlRGl2dG8yID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBub3RpY2VEaXYuc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgIH0sIDE2NjYpOwogICAgbm90aWNlRGl2dG8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIG5vdGljZURpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgfSwgMjAwMCk7Cn0KCmZ1bmN0aW9uICRDKHR5cGUsIGF0QXJyLCBpbm5lciwgYWN0aW9uLCBsaXN0ZW4pIHsKICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTsKICAgIGZvciAodmFyIGF0IGluIGF0QXJyKSB7CiAgICAgICAgaWYgKGF0QXJyLmhhc093blByb3BlcnR5KGF0KSkgewogICAgICAgICAgICBlLnNldEF0dHJpYnV0ZShhdCwgYXRBcnJbYXRdKTsKICAgICAgICB9CiAgICB9CiAgICBpZiAoYWN0aW9uICYmIGxpc3RlbikgewogICAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihhY3Rpb24sIGxpc3RlbiwgZmFsc2UpOwogICAgfQogICAgaWYgKGlubmVyKSB7CiAgICAgICAgZS5pbm5lckhUTUwgPSBpbm5lcjsKICAgIH0KICAgIHJldHVybiBlOwp9CgovLyBjc3Mg6I635Y+W5Y2V5Liq5YWD57SgCmZ1bmN0aW9uIGdldEVsZW1lbnRCeUNTUyhjc3MsIGNvbnRleHROb2RlKSB7CiAgICByZXR1cm4gKGNvbnRleHROb2RlIHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKGNzcyk7Cn0KCi8vIGNzcyDojrflj5bmiYDmnInlhYPntKAKZnVuY3Rpb24gZ2V0QWxsRWxlbWVudHNCeUNTUyhjc3MsIGNvbnRleHROb2RlKSB7CiAgICByZXR1cm4gKGNvbnRleHROb2RlIHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGNzcyk7Cn0KCi8vIHhwYXRoIOiOt+WPluWNleS4quWFg+e0oApmdW5jdGlvbiBnZXRFbGVtZW50QnlYcGF0aCh4cGF0aCwgY29udGV4dE5vZGUsIGRvYykgewogICAgZG9jID0gZG9jIHx8IGRvY3VtZW50OwogICAgY29udGV4dE5vZGUgPSBjb250ZXh0Tm9kZSB8fCBkb2M7CiAgICByZXR1cm4gZG9jLmV2YWx1YXRlKHhwYXRoLCBjb250ZXh0Tm9kZSwgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpLnNpbmdsZU5vZGVWYWx1ZTsKfQoKLy8geHBhdGgg6I635Y+W5aSa5Liq5YWD57SgLgpmdW5jdGlvbiBnZXRBbGxFbGVtZW50c0J5WHBhdGgoeHBhdGgsIGNvbnRleHROb2RlLCBkb2MpIHsKICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgIGNvbnRleHROb2RlID0gY29udGV4dE5vZGUgfHwgZG9jOwogICAgcmV0dXJuIGRvYy5ldmFsdWF0ZSh4cGF0aCwgY29udGV4dE5vZGUsIG51bGwsIFhQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLCBudWxsKTsKfQoKLy8g6I635Y+W5aSa5Liq5YWD57SgCmZ1bmN0aW9uIGdldEFsbEVsZW1lbnRzKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSwgZG9jLCB3aW4pIHsKICAgIHZhciByZXQgPSBbXTsKICAgIGlmICghc2VsZWN0b3IpIHJldHVybiByZXQ7CiAgICB2YXIgRWxlczsKICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsKICAgIHdpbiA9IHdpbiB8fCB3aW5kb3c7CiAgICBjb250ZXh0Tm9kZSA9IGNvbnRleHROb2RlIHx8IGRvYzsKICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT0gJ3N0cmluZycpIHsKICAgICAgICBpZiAoc2VsZWN0b3Iuc2VhcmNoKC9eY3NzOy9pKSA9PT0gMCkgewogICAgICAgICAgICBFbGVzID0gZ2V0QWxsRWxlbWVudHNCeUNTUyhzZWxlY3Rvci5zbGljZSg0KSwgY29udGV4dE5vZGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEVsZXMgPSBnZXRBbGxFbGVtZW50c0J5WHBhdGgoc2VsZWN0b3IsIGNvbnRleHROb2RlLCBkb2MpOwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgRWxlcyA9IHNlbGVjdG9yKGRvYywgd2luKTsKICAgICAgICBpZiAoIUVsZXMpIHJldHVybiByZXQ7CiAgICAgICAgaWYgKEVsZXMubm9kZVR5cGUpIHsgLy/ljZXkuKrlhYPntKAuCiAgICAgICAgICAgIHJldFswXSA9IEVsZXM7CiAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHVuaXF1ZShhcnJheSkgeyAvL+aVsOe7hOWOu+mHjeW5tuS4lOS/neaMgeaVsOe7hOmhuuW6jy4KICAgICAgICB2YXIgaSwgY2EsIGNhMiwgajsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY2EgPSBhcnJheVtpXTsKICAgICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBhcnJheS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgY2EyID0gYXJyYXlbal07CiAgICAgICAgICAgICAgICBpZiAoY2EyID09IGNhKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGosIDEpOwogICAgICAgICAgICAgICAgICAgIGotLTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gYXJyYXk7CiAgICB9CgogICAgZnVuY3Rpb24gbWFrZUFycmF5KHgpIHsKICAgICAgICB2YXIgcmV0ID0gW107CiAgICAgICAgdmFyIGksIGlpOwogICAgICAgIHZhciB4X3g7CiAgICAgICAgaWYgKHgucG9wKSB7IC8v5pmu6YCa55qEIGFycmF5CiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0geC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgICAgICAgICAgICB4X3ggPSB4W2ldOwogICAgICAgICAgICAgICAgaWYgKHhfeCkgewogICAgICAgICAgICAgICAgICAgIGlmICh4X3gubm9kZVR5cGUpIHsgLy/mma7pgJrnsbvlnoss55u05o6l5pS+6L+b5Y67LgogICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh4X3gpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQobWFrZUFycmF5KHhfeCkpOyAvL+W1jOWll+eahC4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9hbGVydChyZXQpCiAgICAgICAgICAgIHJldHVybiB1bmlxdWUocmV0KTsKICAgICAgICB9IGVsc2UgaWYgKHguaXRlbSkgeyAvL25vZGVsaXN0IG9yIEhUTUxjb2xsZWN0aW9uCiAgICAgICAgICAgIGkgPSB4Lmxlbmd0aDsKICAgICAgICAgICAgd2hpbGUgKGkpIHsKICAgICAgICAgICAgICAgIHJldFstLWldID0geFtpXTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvKgogICAgICAgICAgICBmb3IoaT0wLGlpPXgubGVuZ3RoO2k8aWk7aSsrKXsKICAgICAgICAgICAgICAgIHJldC5wdXNoKHhbaV0pOwogICAgICAgICAgICB9OwogICAgICAgICAgICAqLwogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0gZWxzZSBpZiAoeC5pdGVyYXRlTmV4dCkgeyAvL1hQYXRoUmVzdWx0CiAgICAgICAgICAgIGkgPSB4LnNuYXBzaG90TGVuZ3RoOwogICAgICAgICAgICB3aGlsZSAoaSkgewogICAgICAgICAgICAgICAgcmV0Wy0taV0gPSB4LnNuYXBzaG90SXRlbShpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvKgogICAgICAgICAgICBmb3IoaT0wLGlpPXguc25hcHNob3RMZW5ndGg7aTxpaTtpKyspewogICAgICAgICAgICAgICAgcmV0LnB1c2goeC5zbmFwc2hvdEl0ZW0oaSkpOwogICAgICAgICAgICB9OwogICAgICAgICAgICAqLwogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWFrZUFycmF5KEVsZXMpOwp9CgovLyDojrflj5bmnIDlkI7kuIDkuKrlhYPntKAuCmZ1bmN0aW9uIGdldExhc3RFbGVtZW50KHNlbGVjdG9yLCBjb250ZXh0Tm9kZSwgZG9jLCB3aW4pIHsKICAgIHZhciBlbGVzID0gZ2V0QWxsRWxlbWVudHMoc2VsZWN0b3IsIGNvbnRleHROb2RlLCBkb2MsIHdpbik7CiAgICB2YXIgbCA9IGVsZXMubGVuZ3RoOwogICAgaWYgKGwgPiAwKSB7CiAgICAgICAgcmV0dXJuIGVsZXNbbCAtIDFdOwogICAgfQp9CgpmdW5jdGlvbiBzYXZlVmFsdWUoa2V5LCB2YWx1ZSkgewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTsKfQoKZnVuY3Rpb24gZ2V0VmFsdWUoa2V5KSB7CiAgICB2YXIgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgcmV0dXJuIHZhbHVlID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRCeVN0cmluZyhzdHIpIHsgIC8vIHN0cmluZ+i9rOS4ukRPTQogICAgaWYgKCFzdHIpIHsKICAgICAgICBDLmVycm9yKCfmsqHmnInmib7liLDopoHovazmiJBET03nmoTlrZfnrKbkuLInKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9ICdIVE1MJykgewogICAgICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHN0ciwgJ2FwcGxpY2F0aW9uL3hodG1sK3htbCcpOwogICAgfQoKICAgIHZhciBkb2M7CiAgICB0cnkgewogICAgICAgIC8vIGZpcmVmb3ggYW5kIGNocm9tZSAzMCvvvIxPcGVyYSAxMiDkvJrmiqXplJkKICAgICAgICBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHN0ciwgJ3RleHQvaHRtbCcpOwogICAgfSBjYXRjaCAoZXgpIHt9CgogICAgaWYgKGRvYykgewogICAgICAgIHJldHVybiBkb2M7CiAgICB9CgogICAgaWYgKGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCkgewogICAgICAgIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnc3VwZXJQcmVsb2FkZXInKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZG9jID0gZG9jdW1lbnQuY2xvbmVOb2RlKGZhbHNlKTsKICAgICAgICAgICAgZG9jLmFwcGVuZENoaWxkKGRvYy5pbXBvcnROb2RlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZmFsc2UpKTsKICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudCgnaGVhZCcpKTsKICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudCgnYm9keScpKTsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgfQogICAgaWYgKCFkb2MpIHJldHVybjsKICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZG9jdW1lbnQuYm9keSk7CiAgICB2YXIgZnJhZ21lbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoc3RyKTsKICAgIGRvYy5ib2R5LmFwcGVuZENoaWxkKGZyYWdtZW50KTsKICAgIHZhciBoZWFkQ2hpbGROYW1lcyA9IHsKICAgICAgICBUSVRMRTogdHJ1ZSwKICAgICAgICBNRVRBOiB0cnVlLAogICAgICAgIExJTks6IHRydWUsCiAgICAgICAgU1RZTEU6IHRydWUsCiAgICAgICAgQkFTRTogdHJ1ZQogICAgfTsKICAgIHZhciBjaGlsZDsKICAgIHZhciBib2R5ID0gZG9jLmJvZHk7CiAgICB2YXIgYmNoaWxkcyA9IGJvZHkuY2hpbGROb2RlczsKICAgIGZvciAodmFyIGkgPSBiY2hpbGRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7IC8v56e76ZmkaGVhZOeahOWtkOWFg+e0oAogICAgICAgIGNoaWxkID0gYmNoaWxkc1tpXTsKICAgICAgICBpZiAoaGVhZENoaWxkTmFtZXNbY2hpbGQubm9kZU5hbWVdKSBib2R5LnJlbW92ZUNoaWxkKGNoaWxkKTsKICAgIH0KICAgIC8vYWxlcnQoZG9jLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwpOwogICAgLy9kZWJ1Zyhkb2MpOwogICAgLy9kZWJ1Zyhkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCk7CiAgICByZXR1cm4gZG9jOwp9CgovLyDku47nm7jlr7not6/lvoTnmoRhLmhyZWbojrflj5blrozlhajnmoRocmVm5YC8LgpmdW5jdGlvbiBnZXRGdWxsSHJlZihocmVmKSB7CiAgICBpZiAodHlwZW9mIGhyZWYgIT0gJ3N0cmluZycpIGhyZWYgPSBocmVmLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgLy9hbGVydChocmVmKTsKICAgIC8vaWYoaHJlZi5zZWFyY2goL15odHRwcz86Lyk9PTApcmV0dXJuIGhyZWY7Ly9odHRw5omT5aS0LOS4jeS4gOWumuWwseaYr+WujOaVtOeahGhyZWY7CiAgICB2YXIgYSA9IGdldEZ1bGxIcmVmLmE7CiAgICBpZiAoIWEpIHsKICAgICAgICBnZXRGdWxsSHJlZi5hID0gYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIH0KICAgIGEuaHJlZiA9IGhyZWY7CiAgICAvL2FsZXJ0KGEuaHJlZik7CiAgICByZXR1cm4gYS5ocmVmOwp9CgovLyDku7vkvZXovazmiJDlrZfnrKbkuLLvvIzlrZjlgqjvvIzkv67mlLnov4cKZnVuY3Rpb24geFRvU3RyaW5nKHgpIHsKICAgIGZ1bmN0aW9uIHRvU3RyKHgpIHsKICAgICAgICBzd2l0Y2ggKHR5cGVvZiB4KSB7CiAgICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6CiAgICAgICAgICAgICAgICByZXR1cm4gU3RyKHgpOwogICAgICAgICAgICBjYXNlICdib29sZWFuJzoKICAgICAgICAgICAgICAgIHJldHVybiBTdHIoeCk7CiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6CiAgICAgICAgICAgICAgICByZXR1cm4gU3RyKHgpOwogICAgICAgICAgICBjYXNlICdzdHJpbmcnOgogICAgICAgICAgICAgICAgcmV0dXJuICgnIicgKwogICAgICAgICAgICAgICAgICAgICh4LnJlcGxhY2UoLyg/OlxyXG58XG58XHJ8XHR8XFx8IikvZywgZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0OwogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGEpIHsgLy/ovazmiJDlrZfpnaLph48KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xyXG4nOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICdcXHJcXG4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXG4nOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICdcXG4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXHInOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICdcXHInOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXHQnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICdcXHQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFwnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICdcXFxcJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyInOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICdcXCInOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgICAgICAgICAgICAgIH0pKSArICciJyk7CiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzoKICAgICAgICAgICAgICAgIHZhciBmblN0ciA9IFN0cih4KTsKICAgICAgICAgICAgICAgIHJldHVybiBmblN0ci5pbmRleE9mKCduYXRpdmUgY29kZScpID09IC0xID8gZm5TdHIgOiAnZnVuY3Rpb24oKXt9JzsKICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzoKICAgICAgICAgICAgICAgIC8v5rOoLG9iamVjdOeahOmZpOS6huWNlee6r3t9LOWFtuS7lueahOWvueixoeeahOWxnuaAp+S8mumAoOaIkOS4ouWksS4uCiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHIoeCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzd2l0Y2ggKHguY29uc3RydWN0b3IubmFtZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgIk9iamVjdCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgclN0ciA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4geCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF4Lmhhc093blByb3BlcnR5KGkpKSB7IC8v5Y675o6J5Y6f5Z6L6ZO+5LiK55qE5bGe5oCnLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgclN0ciArPSB0b1N0cihpKSArICc6JyArIHRvU3RyKHhbaV0pICsgJywnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoJ3snICsgclN0ci5yZXBsYWNlKC8sJC9pLCAnJykgKyAnfScpOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIkFycmF5IjoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByU3RyID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSBpbiB4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXguaGFzT3duUHJvcGVydHkoaSkpIHsgLy/ljrvmjonljp/lnovpk77kuIrnmoTlsZ7mgKcuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByU3RyICs9IHRvU3RyKHhbaV0pICsgJywnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnWycgKyByU3RyLnJlcGxhY2UoLywkL2ksICcnKSArICddJzsKICAgICAgICAgICAgICAgICAgICBjYXNlICJTdHJpbmciOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9TdHIoU3RyKHgpKTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJSZWdFeHAiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyKHgpOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIk51bWJlciI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHIoeCk7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiQm9vbGVhbiI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHIoeCk7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydCh4LmNvbnN0cnVjdG9yKTsvL+a8j+S6huS7gOS5iOexu+Wei+S5iD8KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CiAgICB2YXIgU3RyID0gU3RyaW5nOwogICAgcmV0dXJuIHRvU3RyKHgpOwp9CgpmdW5jdGlvbiB0b1JFKG9iaikgewogICAgaWYgKG9iaiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIHJldHVybiBvYmo7CiAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAob2JqWzBdLCBvYmpbMV0pOwogICAgfSBlbHNlIHsKICAgICAgICBpZiAob2JqLnNlYXJjaCgvXndpbGRjOy9pKSA9PT0gMCkgewogICAgICAgICAgICBvYmogPSB3aWxkY2FyZFRvUmVnRXhwU3RyKG9iai5zbGljZSg2KSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG9iaik7CiAgICB9Cn0KCmZ1bmN0aW9uIHdpbGRjYXJkVG9SZWdFeHBTdHIodXJsc3RyKSB7CiAgICBpZiAodXJsc3RyLnNvdXJjZSkgcmV0dXJuIHVybHN0ci5zb3VyY2U7CiAgICB2YXIgcmVnID0gdXJsc3RyLnJlcGxhY2UoL1soKVxbXF17fXwrLixeJD9cXF0vZywgIlxcJCYiKS5yZXBsYWNlKC9cKisvZywgZnVuY3Rpb24oc3RyKXsKICAgICAgICByZXR1cm4gc3RyID09PSAiKiIgPyAiLioiIDogIlteL10qIjsKICAgIH0pOwogICAgcmV0dXJuICJeIiArIHJlZyArICIkIjsKfQoKClNQLmluaXQoKTsKCn0pKCk7"},{"name":"gwdang","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://*.jd.com/*","https://*.jd.com/*","http://*.jd.hk/*","https://*.jd.hk/*","http://*.taobao.com/*","https://*.taobao.com/*","http://*.tmall.com/*","https://*.tmall.com/*","https://*.tmall.hk/*","http://*.yixun.com/*","http://*.51buy.com/*","http://*.yhd.com/*","http://*.suning.com/*","https://*.suning.com/*","http://*.dangdang.com/*","http://*.gome.com.cn/*","http://*.newegg.cn/*","http://*.paipai.com/*","https://*.amazon.com/*","https://*.amazon.cn/*","https://*.amazon.*/*","http://www.kjt.com/*","http://www.kaola.com/*","http://www.tcl.com/*","http://shop.hisense.com/*","http://*.oppo.com/*","http://shop.vivo.com.cn/*","http://www.ebay.com/*","http://t.dianping.com/*","http://*.nuomi.com/*","http://*.meituan.com/*","https://yao.95095.com/*","http://*.feiniu.com/*","http://*.meilishuo.com/*","http://*.mogujie.com/*","http://shop.coolpad.cn/*","http://*.sephora.cn/*","http://*.yesmywine.com/*","http://*.yiguo.com/*","http://*.wanggou.com/*","http://mall.jia.com/*","http://weigou.baidu.com/*","http://*.mi.com/*","http://shop.letv.com/*","http://*.handu.com/*","http://*.taoshu.com/*","http://*.1688.com/*","http://*.muyingzhijia.com/*","http://*.vmall.com/*","http://*.xiji.com/*","http://*.xijie.com/*","http://www.yougou.com/*","http://www.okbuy.com/*","http://*.001town.com/*","http://*.01goo.com/*","http://*.03l.cn/*","http://*.133china.com/*","http://*.139shop.com/*","http://yxp.163.com/*","http://*.168dg.com/*","http://*.186mall.com/*","http://*.18to82.com/*","http://*.1j.cn/*","http://*.22shop.com/*","http://*.24dq.com/*","http://*.24quan.com/*","http://*.258sd.com/*","http://*.2688.com/*","http://*.360buy.com/*","http://*.360hqb.com/*","http://*.360kxr.com/*","http://*.360mart.com/*","http://*.365goba.com/*","http://*.38hzt.com/*","http://*.39ty.com/*","http://*.4inlook.com/*","http://*.5188bag.com/*","http://*.51buy.com/*","http://51buy.com/","http://*.51dg.com/*","http://*.51eng.com/*","http://*.51sheyuan.com/*","http://*.51youpin.com/*","http://*.520eye.com/*","http://*.52shehua.com/*","http://*.5366.com/*","http://t.58.com/*","http://*.58hua.com/*","http://*.5lux.com/*","http://*.5yth.com/*","http://*.6919.com/*","http://*.6sbuy.com/*","http://*.77toy.com/*","http://*.7caihua.com/*","http://*.7cv.com/*","http://*.7sev.com/*","http://*.80ebus.com/*","http://*.8801.net/*","http://*.919it.com/*","http://*.929.cn/*","http://*.942radio.com/*","http://b2c.958shop.com/*","http://*.96128.com/*","http://*.99pto.com/*","http://*.99read.com/*","http://*.9dadao.com/*","http://*.9you.com/*","http://*.afffff.com/*","http://*.ai356.com/*","http://*.aibang.com/*","http://*.aidai.com/*","http://*.aiju.com/*","http://*.aim36.com/*","http://*.aimer.com.cn/*","http://*.aiyingshi.com/*","http://*.aizhigu.com.cn/*","http://*.amazon.cn/*","http://*.anni.com/*","http://*.apabi.com/*","http://*.augshow.com/*","http://*.autosup.com/*","http://*.baiyjk.com/*","http://*.bbesports.com/*","http://*.bookuu.com/*","http://*.bearbuy.com.cn/*","http://*.beautyplus.cn/*","http://*.beifabook.com/*","http://*.benq.com.cn/*","http://*.best1.com/*","http://*.biaoshang.hk/*","http://*.binggo.com/*","http://*.bloves.com/*","http://*.bobomobi.com/*","http://*.bookschina.com/*","http://*.boqii.com/*","http://*.buding.com/*","http://*.buy007.com/*","http://*.buy361.cn/*","http://*.buyfine.net/*","http://*.buynow.com.cn/*","http://*.caistv.com/*","http://*.caomeipai.com/*","http://*.car339.com.cn/*","http://*.car6688.com/*","http://*.carrefour.com.cn/*","http://*.cdream.com/*","http://*.ceetop.com/*","http://*.chashu.cn/*","http://*.chedangjia.com/*","http://*.chengdecs.com/*","http://*.china-gift.com/*","http://*.china-pub.com/*","http://emall.chinapay.com/*","http://*.chinayrs.com/*","http://*.chris-tina.com/*","http://*.clady.com/*","http://*.clinique.com.cn/*","http://*.cncard.com/*","http://*.cnfse.com/*","http://*.colebuy.com/*","http://*.conslive.com/*","http://*.coo8.com/*","http://*.cosize.com/*","http://*.cosme-de.com/*","http://*.ctrip.com/*","http://*.cw100.com/*","http://*.d1.com.cn/*","http://*.daisonghua.com/*","http://*.dangdang.com/*","http://*.daoyao.com/*","http://*.woyo.com/*","http://*.dazhe.cn/*","http://*.dazhongdianqi.com.cn/*","http://*.dianpu.com/*","http://*.didatuan.com/*","http://*.disiqu.cn/*","http://*.dixintong.com/*","http://*.doulaimai.com/*","http://*.dsgoo.com/*","http://*.dtoto.com/*","http://*.duhub.com/*","http://*.duoding.com/*","http://*.e-giordano.com/*","http://*.e-lining.com/*","http://*.e-my.com.cn/*","http://*.easy361.com/*","http://*.ebaimi.com/*","http://*.eboxbuy.com/*","http://*.ebtea.com/*","http://*.ecosme.cn/*","http://*.efeihu.com/*","http://*.ehaier.com/*","http://*.ejia.com/*","http://*.enet.com.cn/*","http://*.enjoyeye.com/*","http://*.epetbar.com/*","http://*.et5155.com/*","http://*.f508.com/*","http://*.fclub.cn/*","http://*.flowerby.com/*","http://*.flowercn.com/*","http://*.gap.cn/*","http://*.godida.com/*","http://*.gome.com.cn/*","http://*.goocctv.cn/*","http://*.goodjd.com/*","http://*.goodnourish.cn/*","http://*.gou3618.com/*","http://*.gouduo.com/*","http://*.gouwulian.com/*","http://*.gouxie.com/*","http://*.goyahome.com/*","http://*.guobuy.com/*","http://*.guopi.com/*","http://*.guuoo.com/*","http://*.hany.cn/*","http://*.happigo.com/*","http://*.hit168.com.cn/*","http://*.hitao.com/*","http://*.homeold.cn/*","http://*.homevv.com/*","http://*.hongkouzi.com/*","http://*.hopebook.net/*","http://*.huachu.com.cn/*","http://*.huimeifang.cn/*","http://*.hw2008.cn/*","http://*.icaifeng.com/*","http://*.icson.com/*","http://*.ideemall.com/*","http://*.ihush.com/*","http://*.iloveyou.com.cn/*","http://*.ilovezuan.com/*","http://*.imeelee.com/*","http://*.inoble.com.cn/*","http://*.inshion.com/*","http://*.ishop.cn/*","http://*.it88.com.cn/*","http://*.itzm.com/*","http://*.iyuyou.com/*","http://*.jiajiajk.com/*","http://*.jiaju.com/*","http://*.jiatx.com/*","http://*.jiayougo.com/*","http://*.jinbaidu.com/*","http://*.jmeishop.com/*","http://*.joyran.com/*","http://*.jsbcmall.com/*","http://*.jtlhome.com/*","http://*.jumei.com/*","http://*.junph.com/*","http://*.justonline.cn/*","http://*.jxdyf.com/*","http://*.k121.com/*","http://*.kadang.com/*","http://*.keede.com.cn/*","http://*.kela.cn/*","http://*.kuaishubao.com/*","http://*.kxtkx.com/*","http://*.ladypk.com/*","http://*.laeibelle.com/*","http://*.lafaso.com/*","http://*.lamiu.com/*","http://*.lancome.com.cn/*","http://*.lashou.com/*","http://*.ledaojia.com/*","http://*.leftlady.com/*","http://*.lenovo.com.cn/*","http://*.lens2005.com/*","http://*.letao.com/*","http://*.leyou.com/*","http://*.leyou.com.cn/*","http://*.lijiababy.com.cn/*","http://*.lijigou.com/*","http://*.likebuy.com/*","http://*.likeface.com/*","http://*.lingshi.com/*","http://*.liqunshop.com/*","http://*.liyi99.com/*","http://*.locknlock.com.cn/*","http://*.lovo.cn/*","http://*.luckigo.com/*","http://*.lusen.com/*","http://*.lyceem.com/*","http://*.m18.com/*","http://*.maichawang.com/*","http://*.maimaike.cn/*","http://*.mamabb.com/*","http://*.mamahao.cn/*","http://*.mangocity.com/*","http://*.manzuo.com/*","http://*.masamaso.com/*","http://*.maxfunbuy.com/*","http://*.maywon.com/*","http://*.mbaobao.com/*","http://*.meici.com/*","http://*.meilele.com/*","http://*.meilieasy.com/*","http://*.meituan.com/*","http://*.menglu.com/*","http://*.mengmai.com/*","http://*.minibuy.com/*","http://*.mmgw.cn/*","http://*.mmuses.com/*","http://*.mobi001.com/*","http://*.mokamall.com/*","http://*.momoyoyo.com/*","http://*.montrosechina.com/*","http://*.mooiee.com/*","http://*.moonbasa.com/*","http://*.motostore.com.cn/*","http://*.mpshow.com.cn/*","http://*.naccoo.com/*","http://*.naguu.com/*","http://*.nayao.com/*","http://*.newegg.com.cn/*","http://*.newgo5.com/*","http://*.nmlch.com/*","http://*.no5.com.cn/*","http://*.nokia.com.cn/*","http://*.nonmin88.com/*","http://*.obuy.cn/*","http://*.ofcard.com/*","http://*.ogage.cn/*","http://*.okbig.com/*","http://*.okbuy.com/*","http://*.okddy.com/*","http://*.okgolf.cn/*","http://*.olomo.com/*","http://*.olympus.com.cn/*","http://*.olymsports.com/*","http://*.ono.com.cn/*","http://*.orange3c.com/*","http://*.ouku.com/*","http://*.ourtasty.com/*","http://*.outice.com/*","http://*.oyego.com/*","http://*.paixie.net/*","http://*.palcent.com/*","http://*.ocj.com.cn/*","http://*.pb89.com/*","http://*.pcarm.com/*","http://*.petyoo.com/*","http://*.pgbao.com/*","http://*.piaoliang100.com/*","http://*.pirateship.com.cn/*","http://*.popyj.com/*","http://*.pupai.cn/*","http://*.purcotton.com/*","http://*.qianxun.com/*","http://*.qingci.com/*","http://*.qinqinbaby.com/*","http://*.qmango.com/*","http://*.qumei.com/*","http://*.quwan.com/*","http://*.qxian.com/*","http://*.rayi.cn/*","http://*.redbaby.com.cn/*","http://*.robam.com/*","http://*.salala.com.cn/*","http://*.samsclub.cn/*","http://*.sanfo.com/*","http://*.sapo.com.hk/*","http://*.sasa.com/*","http://*.sasacity.com/*","http://*.sawbuy.com/*","http://*.shanghai-sports.com/*","http://*.shentop.com/*","http://*.shishangqiyi.com/*","http://*.shjdq.com/*","http://*.shnn.com/*","http://*.shopin.net/*","http://*.shoubiao.com.cn/*","http://*.sigo.cn/*","http://mall.sina.com.cn/*","http://*.sinobuy.cn/*","http://*.skcoo.com/*","http://*.skomart.com/*","http://*.snyun.com/*","http://*.sonmai.cn/*","http://*.sport2008.com.cn/*","http://*.strawberrynet.com/*","http://*.suning.com/*","http://*.sz-esun.com/*","http://*.tao3c.com/*","http://item.taobao.com/*","http://*.taoxie.cn/*","http://*.the365.com/*","http://*.thinkshop.cn/*","http://*.tian10.com/*","http://*.tiantian.com/*","http://*.junph.com/*","http://*.tieyou.com/*","http://detail.tmall.com/*","http://*.togj.com/*","http://*.tooogooo.com/*","http://*.toy90.com/*","http://*.toys365.com/*","http://*.tpy100.com/*","http://*.tuniu.com/*","http://*.tztart.com/*","http://*.ugou.cn/*","http://*.uipmall.com/*","http://*.uiyi.cn/*","http://*.ushan.cn/*","http://*.uushouji.com/*","http://*.uya100.com/*","http://*.vaakav.com/*","http://*.vafox.com/*","http://*.vancl.com/*","http://*.vcotton.com/*","http://*.veedl.com/*","http://*.vegoos.com/*","http://*.venusveil.com/*","http://*.veryok.cn/*","http://*.viccol.com/*","http://*.vipshop.com/*","http://*.vipstore.com/*","http://*.vivian.cn/*","http://*.vjia.com/*","http://*.vnasi.com/*","http://*.voipyeah.com/*","http://*.w1.cn/*","http://*.waipowang.com/*","http://*.wangshanghai.com/*","http://*.wg365.com/*","http://*.winenice.com/*","http://*.wl.cn/*","http://*.womai.com/*","http://*.woye.com/*","http://*.wtaotao.com/*","http://*.wumeiwang.com/*","http://*.x-playboy.com/*","http://*.xiaokang.com/*","http://*.xiaozhuren.com/*","http://*.xinbaigo.com/*","http://*.xindou.com/*","http://*.xing800.com/*","http://*.xinhuabookstore.com/*","http://*.xiu.com/*","http://*.xtpo.cn/*","http://*.xzuan.com/*","http://*.yaja.com.cn/*","http://*.yaofang.cn/*","http://*.yasai.cn/*","http://*.yeecare.com/*","http://buy.yesky.com/*","http://*.yesmytea.com/*","http://*.yesmywine.com/*","http://*.yide.com/*","http://*.yifu.com/*","http://*.yihaodian.com/*","http://*.yintai.com/*","http://*.yinyuehe.net/*","http://*.yjcs.cn/*","http://*.yobrand.com/*","http://*.yoger.com.cn/*","http://*.yoho.cn/*","http://*.yongle.com.cn/*","http://*.yougou.com/*","http://*.youjk.com/*","http://*.yoyo18.com/*","http://*.yumaoclub.com/*","http://*.yyosso.com/*","http://*.zbird.com/*","http://*.zgcbb.com/*","http://*.zm7.cn/*","http://*.zopo.com/*","http://*.ibuying.com/*","http://*.33go.com.cn/*","http://*.xijie.com/*","http://*.nop.cn/*","http://*.asyp.com/*","http://*.sparty.cn/*","http://*.yizhedian.com/*","http://*.lvhezi.com/*","http://*.aishangbaobao.com/*","http://*.sportica.cn/*","http://*.jstsilk.cn/*","http://*.camel.com.cn/*","http://*.cottonpop.net/*","http://*.hyj.com/*","http://*.myxiequ.com/*","http://*.mfplaza.com/*","http://*.do93.com/*","http://*.3guo.cn/*","http://*.yaqifushi.com/*","http://*.trura.com/*","http://*.lbaobao.cn/*","http://*.xiutuan.com/*","http://*.usashopcn.com/*","http://*.ihaveu.com/*","http://*.vipku.com/*","http://*.vipchina.com/*","http://*.fanrry.cn/*","http://*.lesunvip.com/*","http://*.nala.com.cn/*","http://*.miqi.cn/*","http://*.meiribuy.com/*","http://*.pufung.com/*","http://*.xiaoye.com/*","http://*.hmeili.com/*","http://*.oulybuy.com/*","http://*.meifenzi.com/*","http://*.caomeishop.com/*","http://*.meifu360.com/*","http://*.bapashop.com/*","http://*.bulangxiongdi.com/*","http://*.gusubuy.com/*","http://*.opearl.net/*","http://*.ruci.cn/*","http://*.rax.cn/*","http://*.jiuxian.com/*","http://*.maimaicha.com/*","http://*.pinwine.cn/*","http://*.meiweidao.com/*","http://*.okliang.com/*","http://*.365wine.com/*","http://*.jjlg.com.cn/*","http://*.bianlishe.com/*","http://*.epkmall.com/*","http://*.gdcct.com/*","http://*.500ccc.com/*","http://*.me361.com/*","http://*.malatamobile.com/*","http://*.trioo.com/*","http://*.oohdear.com/*","http://*.yaahe.cn/*","http://*.easeeyes.com/*","http://*.dbox.cn/*","http://*.haotehui.com/*","http://*.m6go.com/*","http://*.bianyigo.com/*","http://*.okjee.com/*","http://*.mygeek.cn/*","http://*.tbb.cn/*","http://*.ushare360.com/*","http://*.gqt168.com/*","http://*.konjoy.com/*","http://*.aoliz.com/*","http://*.jianianle.com/*","http://*.akajia.com/*","http://*.miqi.com.cn/*","http://*.lehuimai.com/*","http://*.lifevc.com/*","http://*www.ouku.com/","http://nuomi.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{},"ts":1503129970058},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/14466-%E8%B4%AD%E7%89%A9%E5%85%9A%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7/code/%E8%B4%AD%E7%89%A9%E5%85%9A%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7.user.js","uuid":"f0519c00-9284-40f7-9364-366314936404","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIGd3ZGFuZwovLyBAbmFtZTp6aC1DTiAgIOi0reeJqeWFmuavlOS7t+W3peWFtwovLyBAbmFtZXNwYWNlICAgbm8KLy8gQGRlc2NyaXB0aW9uIOa1j+iniOWVhuWTgemhtemdouaXtu+8jOiHquWKqOavlOi+g+WQjOasvuWVhuWTgeWcqOa3mOWunS/kuqzkuJwv5Lqa6ams6YCKL+W9k+W9ky/oi4/lroEv562J55m+5a625ZWG5Z+O55qE5pyA5L2O5Lu377yM5o+Q5L6b5Lu35qC85Y6G5Y+y44CB5Y+j56KR6K+E5YiG562J5p+l6K+i44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiDmtY/op4jllYblk4HpobXpnaLml7bvvIzoh6rliqjmr5TovoPlkIzmrL7llYblk4HlnKjmt5jlrp0v5Lqs5LicL+S6mumprOmAii/lvZPlvZMv6IuP5a6BL+etieeZvuWutuWVhuWfjueahOacgOS9juS7t++8jOaPkOS+m+S7t+agvOWOhuWPsuOAgeWPo+eikeivhOWIhuetieafpeivouOAggovLyBAcnVuLWF0ICAgICBkb2N1bWVudC1pZGxlCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLmpkLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qZC5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyouamQuaGsvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyoudGFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50bWFsbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLnRtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyoudG1hbGwuaGsvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWl4dW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55aGQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnN1bmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLnN1bmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGFuZ2RhbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvbWUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5ld2VnZy5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wYWlwYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi5hbWF6b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi5hbWF6b24uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLmFtYXpvbi4qLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cua2p0LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3Lmthb2xhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3LnRjbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3AuaGlzZW5zZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3Bwby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3Audml2by5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3d3dy5lYmF5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vdC5kaWFucGluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubnVvbWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laXR1YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8veWFvLjk1MDk1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5mZWluaXUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laWxpc2h1by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW9ndWppZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3AuY29vbHBhZC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zZXBob3JhLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnllc215d2luZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWlndW8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndhbmdnb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9tYWxsLmppYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3dlaWdvdS5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9zaG9wLmxldHYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhhbmR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50YW9zaHUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjE2ODguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm11eWluZ3poaWppYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudm1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpamkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpamllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3LnlvdWdvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3d3dy5va2J1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMDAxdG93bi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMDFnb28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjAzbC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4xMzNjaGluYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMTM5c2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3l4cC4xNjMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjE2OGRnLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4xODZtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4xOHRvODIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjFqLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjIyc2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMjRkcS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMjRxdWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4yNThzZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMjY4OC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzYwYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4zNjBocWIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjM2MGt4ci5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzYwbWFydC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzY1Z29iYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzhoenQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjM5dHkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjRpbmxvb2suY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxODhiYWcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vNTFidXkuY29tLwovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTFkZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTFlbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxc2hleXVhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTF5b3VwaW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUyMGV5ZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTJzaGVodWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUzNjYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly90LjU4LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi41OGh1YS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNWx1eC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNXl0aC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNjkxOS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNnNidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjc3dG95LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi43Y2FpaHVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi43Y3YuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjdzZXYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjgwZWJ1cy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouODgwMS5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouOTE5aXQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjkyOS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi45NDJyYWRpby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL2IyYy45NThzaG9wLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi45NjEyOC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouOTlwdG8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjk5cmVhZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouOWRhZGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi45eW91LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5hZmZmZmYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFpMzU2LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haWJhbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFpZGFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haWp1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haW0zNi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYWltZXIuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFpeWluZ3NoaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYWl6aGlndS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYW1hem9uLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFubmkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFwYWJpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5hdWdzaG93LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5hdXRvc3VwLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iYWl5amsuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJiZXNwb3J0cy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYm9va3V1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iZWFyYnV5LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iZWF1dHlwbHVzLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJlaWZhYm9vay5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYmVucS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYmVzdDEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJpYW9zaGFuZy5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iaW5nZ28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJsb3Zlcy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYm9ib21vYmkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJvb2tzY2hpbmEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJvcWlpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5idWRpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJ1eTAwNy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYnV5MzYxLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJ1eWZpbmUubmV0LyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJ1eW5vdy5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2Fpc3R2LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jYW9tZWlwYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNhcjMzOS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2FyNjY4OC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2FycmVmb3VyLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jZHJlYW0uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNlZXRvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2hhc2h1LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNoZWRhbmdqaWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNoZW5nZGVjcy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2hpbmEtZ2lmdC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2hpbmEtcHViLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vZW1hbGwuY2hpbmFwYXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNoaW5heXJzLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jaHJpcy10aW5hLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jbGFkeS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2xpbmlxdWUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNuY2FyZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY25mc2UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNvbGVidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNvbnNsaXZlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jb284LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jb3NpemUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNvc21lLWRlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jdHJpcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY3cxMDAuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmQxLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYWlzb25naHVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYW5nZGFuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGFveWFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53b3lvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYXpoZS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYXpob25nZGlhbnFpLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kaWFucHUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmRpZGF0dWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kaXNpcXUuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGl4aW50b25nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kb3VsYWltYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmRzZ29vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kdG90by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZHVodWIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmR1b2RpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmUtZ2lvcmRhbm8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmUtbGluaW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lLW15LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lYXN5MzYxLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lYmFpbWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVib3hidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVidGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lY29zbWUuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZWZlaWh1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5laGFpZXIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVqaWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVuZXQuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVuam95ZXllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lcGV0YmFyLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ldDUxNTUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmY1MDguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZjbHViLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZsb3dlcmJ5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5mbG93ZXJjbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ2FwLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvZGlkYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ29tZS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ29vY2N0di5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5nb29kamQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvb2Rub3VyaXNoLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvdTM2MTguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvdWR1by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ291d3VsaWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5nb3V4aWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdveWFob21lLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ndW9idXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmd1b3BpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ndXVvby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaGFueS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5oYXBwaWdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5oaXQxNjguY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhpdGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ob21lb2xkLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhvbWV2di5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaG9uZ2tvdXppLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ob3BlYm9vay5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaHVhY2h1LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5odWltZWlmYW5nLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmh3MjAwOC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pY2FpZmVuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaWNzb24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmlkZWVtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5paHVzaC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaWxvdmV5b3UuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmlsb3ZlenVhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaW1lZWxlZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaW5vYmxlLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pbnNoaW9uLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pc2hvcC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pdDg4LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pdHptLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5peXV5b3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmppYWppYWprLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaWFqdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouamlhdHguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmppYXlvdWdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaW5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouam1laXNob3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmpveXJhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouanNiY21hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmp0bGhvbWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmp1bWVpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qdW5waC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouanVzdG9ubGluZS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qeGR5Zi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouazEyMS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoua2FkYW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5rZWVkZS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoua2VsYS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5rdWFpc2h1YmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5reHRreC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGFkeXBrLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sYWVpYmVsbGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxhZmFzby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGFtaXUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxhbmNvbWUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxhc2hvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGVkYW9qaWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxlZnRsYWR5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sZW5vdm8uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxlbnMyMDA1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sZXRhby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGV5b3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxleW91LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5saWppYWJhYnkuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpamlnb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpa2VidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpa2VmYWNlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5saW5nc2hpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5saXF1bnNob3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpeWk5OS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubG9ja25sb2NrLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sb3ZvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmx1Y2tpZ28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmx1c2VuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5seWNlZW0uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm0xOC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFpY2hhd2FuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFpbWFpa2UuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFtYWJiLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYW1haGFvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1hbmdvY2l0eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFuenVvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYXNhbWFzby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWF4ZnVuYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYXl3b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1iYW9iYW8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laWNpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tZWlsZWxlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tZWlsaWVhc3kuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laXR1YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1lbmdsdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVuZ21haS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWluaWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW1ndy5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tbXVzZXMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1vYmkwMDEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1va2FtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tb21veW95by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW9udHJvc2VjaGluYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW9vaWVlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tb29uYmFzYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW90b3N0b3JlLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tcHNob3cuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5hY2Nvby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubmFndXUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5heWFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5uZXdlZ2cuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5ld2dvNS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubm1sY2guY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5vNS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubm9raWEuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5vbm1pbjg4LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vYnV5LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9mY2FyZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub2dhZ2UuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub2tiaWcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9rYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5va2RkeS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub2tnb2xmLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9sb21vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vbHltcHVzLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vbHltc3BvcnRzLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vbm8uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9yYW5nZTNjLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vdWt1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vdXJ0YXN0eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3V0aWNlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5veWVnby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucGFpeGllLm5ldC8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wYWxjZW50LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vY2ouY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBiODkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBjYXJtLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wZXR5b28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBnYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5waWFvbGlhbmcxMDAuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBpcmF0ZXNoaXAuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBvcHlqLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wdXBhaS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wdXJjb3R0b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnFpYW54dW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnFpbmdjaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucWlucWluYmFieS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucW1hbmdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5xdW1laS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucXV3YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnF4aWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5yYXlpLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnJlZGJhYnkuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnJvYmFtLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYWxhbGEuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNhbXNjbHViLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNhbmZvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYXBvLmNvbS5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYXNhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYXNhY2l0eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2F3YnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zaGFuZ2hhaS1zcG9ydHMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNoZW50b3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNoaXNoYW5ncWl5aS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2hqZHEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNobm4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNob3Bpbi5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2hvdWJpYW8uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNpZ28uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL21hbGwuc2luYS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2lub2J1eS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5za2Nvby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2tvbWFydC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc255dW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNvbm1haS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zcG9ydDIwMDguY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnN0cmF3YmVycnluZXQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnN1bmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc3otZXN1bi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGFvM2MuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9pdGVtLnRhb2Jhby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGFveGllLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRoZTM2NS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGhpbmtzaG9wLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRpYW4xMC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGlhbnRpYW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmp1bnBoLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50aWV5b3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9kZXRhaWwudG1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRvZ2ouY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRvb29nb29vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50b3k5MC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudG95czM2NS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudHB5MTAwLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50dW5pdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudHp0YXJ0LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi51Z291LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVpcG1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVpeWkuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudXNoYW4uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudXVzaG91amkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnV5YTEwMC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmFha2F2LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52YWZveC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmFuY2wuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZjb3R0b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZlZWRsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52ZWdvb3MuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZlbnVzdmVpbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmVyeW9rLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZpY2NvbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmlwc2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmlwc3RvcmUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZpdmlhbi5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52amlhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52bmFzaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudm9pcHllYWguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLncxLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndhaXBvd2FuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoud2FuZ3NoYW5naGFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53ZzM2NS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoud2luZW5pY2UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndsLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndvbWFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53b3llLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53dGFvdGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53dW1laXdhbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLngtcGxheWJveS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueGlhb2thbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpYW96aHVyZW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpbmJhaWdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi54aW5kb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpbmc4MDAuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpbmh1YWJvb2tzdG9yZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueGl1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi54dHBvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnh6dWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YWphLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YW9mYW5nLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlhc2FpLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnllZWNhcmUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9idXkueWVza3kuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnllc215dGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55ZXNteXdpbmUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpZGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpZnUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpaGFvZGlhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWludGFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55aW55dWVoZS5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWpjcy5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55b2JyYW5kLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55b2dlci5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueW9oby5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55b25nbGUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlvdWdvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueW91amsuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlveW8xOC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueXVtYW9jbHViLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55eW9zc28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnpiaXJkLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi56Z2NiYi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouem03LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnpvcG8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmlidXlpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjMzZ28uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpamllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ub3AuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYXN5cC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc3BhcnR5LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpemhlZGlhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubHZoZXppLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haXNoYW5nYmFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zcG9ydGljYS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qc3RzaWxrLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNhbWVsLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jb3R0b25wb3AubmV0LyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmh5ai5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubXl4aWVxdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWZwbGF6YS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZG85My5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouM2d1by5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YXFpZnVzaGkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRydXJhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sYmFvYmFvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpdXR1YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVzYXNob3Bjbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaWhhdmV1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52aXBrdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmlwY2hpbmEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZhbnJyeS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sZXN1bnZpcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubmFsYS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWlxaS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tZWlyaWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucHVmdW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi54aWFveWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhtZWlsaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3VseWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVpZmVuemkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNhb21laXNob3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laWZ1MzYwLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iYXBhc2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYnVsYW5neGlvbmdkaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ3VzdWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3BlYXJsLm5ldC8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ydWNpLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnJheC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaXV4aWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYWltYWljaGEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBpbndpbmUuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVpd2VpZGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5va2xpYW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4zNjV3aW5lLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qamxnLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iaWFubGlzaGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVwa21hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdkY2N0LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi41MDBjY2MuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1lMzYxLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYWxhdGFtb2JpbGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRyaW9vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vb2hkZWFyLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YWFoZS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lYXNlZXllcy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGJveC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5oYW90ZWh1aS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubTZnby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYmlhbnlpZ28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9ramVlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5teWdlZWsuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGJiLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVzaGFyZTM2MC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ3F0MTY4LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5rb25qb3kuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFvbGl6LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaWFuaWFubGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFrYWppYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWlxaS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGVodWltYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpZmV2Yy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyp3d3cub3VrdS5jb20vCi8vIEBpbmNsdWRlICAgICBodHRwOi8vbnVvbWkuY29tLyoKLy8gQHZlcnNpb24gICAgIDIuLjAuMQovLyBAZ3JhbnQgCQlub25lCi8vID09L1VzZXJTY3JpcHQ9PQovKiBARGF0ZTogV2VkIE9jdCAxMSAyMDE3IDE2OjQwOjEzIEdNVCswODAwICjkuK3lm73moIflh4bml7bpl7QpKi8KISBmdW5jdGlvbihlKSB7CglmdW5jdGlvbiB0KGkpIHsKCQlpZiAobltpXSkgcmV0dXJuIG5baV0uZXhwb3J0czsKCQl2YXIgYSA9IG5baV0gPSB7CgkJCWV4cG9ydHM6IHt9LAoJCQlpZDogaSwKCQkJbG9hZGVkOiAhMQoJCX07CgkJcmV0dXJuIGVbaV0uY2FsbChhLmV4cG9ydHMsIGEsIGEuZXhwb3J0cywgdCksIGEubG9hZGVkID0gITAsIGEuZXhwb3J0cwoJfQoJdmFyIG4gPSB7fTsKCXJldHVybiB0Lm0gPSBlLCB0LmMgPSBuLCB0LnAgPSAiIiwgdCgwKQp9KFsKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24oZSkgewoJCQkidXNlIHN0cmljdCI7CgkJCSEgZnVuY3Rpb24oKSB7CgkJCQl2YXIgdCA9IG4oMikoKTsKCQkJCWlmICghdCB8fCAhbG9jYXRpb24uaG9zdC5tYXRjaCgvKD86dGFvYmFvfHRtYWxsfHlhb1wuOTUwOTV8MTY4OFwuY29tfGFsaWV4cHJlc3NcLmNvbXxpZWZyYW1lXC5kbGwpLykpIHsKCQkJCQluKDMpLCBuKDUpLmluaXQoKSwgbigyNykuaW5pdCgpOwoJCQkJCXZhciBpID0gbigxMyk7CgkJCQkJaSAmJiBpLmluaXQoZS5nd2RfY256eiksICJtLmZpbmUzcS5jb20iID09PSBsb2NhdGlvbi5ob3N0ICYmIG4oMzEpLmluaXQoKSwgMCAhPT0gZS5wYWdlSW5mby50eXBlICYmIChuKDMyKS5pbml0KCksIG4oMzMpKCkgfHwgbigzNCkgfHwgKG4oMzYpLCBuKDM3KSwgZS5sb2dvTmFtZSA9IG4oMzgpKDgpLCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1heHRob24iKSA+IC0xLCBlLnBsdWdpbnMgPSBbbigzOSksIG4oNDgpXSwgbig1MCksIG4oNTEpKCksIG4oNTMpLmNvbW1vbihmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBpID0gWyJpcWl5aSIsICIyMjgiLCAibHZtYW1hIiwgImthb2xhIiwgImVsb25nIiwgIm1laWxpc2h1byIsICJtb2d1amllIl07CgkJCQkJCWlmICghdCB8fCAhdC5yZXN1bHQgfHwgdC5yZXN1bHQgaW5zdGFuY2VvZiBBcnJheSB8fCAtMSAhPSB0LnJlc3VsdC5hZGRyZXNzLmluZGV4T2YoIuWMl+S6rCIpIHx8IC0xICE9IHQucmVzdWx0LmFkZHJlc3MuaW5kZXhPZigi5LiK5rW3IikgfHwgLTEgIT0gdC5yZXN1bHQuYWRkcmVzcy5pbmRleE9mKCLlub/lt54iKSB8fCAtMSAhPSB0LnJlc3VsdC5hZGRyZXNzLmluZGV4T2YoIua3seWcsyIpIHx8IC0xICE9IHQucmVzdWx0LmFkZHJlc3MuaW5kZXhPZigi5p2t5beeIikpIHQgJiYgLTEgPT0gdC5yZXN1bHQuYWRkcmVzcy5pbmRleE9mKCLljZfkuqwiKSAmJiAoZS5mb3JiaWRBZCA9ICEwKTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlpZiAoaS5pbmRleE9mICYmIGkuaW5kZXhPZihlLnNpdGUpID4gLTEpIHsKCQkJCQkJCQllLnNldF9mb3JjZSA9ICEwOwoJCQkJCQkJCSJodHRwczoiID09PSBsb2NhdGlvbi5wcm90b2NvbCA/ICJodHRwczoiIDogImh0dHA6IjsKCQkJCQkJCQllLnVfc2VydmVyID0gImh0dHA6Ly8xMTguMTQ0Ljg4LjExOTo4MDg1IgoJCQkJCQkJfQoJCQkJCQkJZS5mb3JiaWRBZCA9ICEwCgkJCQkJCX0KCQkJCQkJbig0MCkuZ2V0UmF0ZShmdW5jdGlvbigpIHsKCQkJCQkJCW4oNTQpLmdldChmdW5jdGlvbigpIHsKCQkJCQkJCQluKDU2KS5pbml0KCkKCQkJCQkJCX0pCgkJCQkJCX0pCgkJCQkJfSkpKQoJCQkJfQoJCQl9KCkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCSJ1c2Ugc3RyaWN0IjsKCQllLmV4cG9ydHMgPSB7CgkJCW1vZHVsZXM6IHt9LAoJCQl2ZXJzaW9uOiAxNTA3NzExMTY5MzEyLAoJCQlicm93c2VyOiB7fSwKCQkJZGVidWc6IC9nd2RlYnVnLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSwKCQkJZXh0ZW5kOiBmdW5jdGlvbihlKSB7CgkJCQlmb3IgKHZhciB0IGluIGUpIHRoaXNbdF0gPSBlW3RdCgkJCX0KCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyg/Ok1TSUUgfFRyaWRlbnRcLy4qOyBydjopKFxkKykvKTsKCQkJCXJldHVybiBlICYmICh0WyJJRSIgKyBwYXJzZUludChlWzFdKV0gPSAhMCksIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJtc2llIikgPiAtMSA/ICEwIDogbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImVkZ2UiKSA+IC0xID8gITAgOiBlID8gcGFyc2VJbnQoZVsxXSkgOiB2b2lkIDAKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKGUpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQluKDQpLCBlLmV4dGVuZCh7CgkJCQljcmM2NDogITAsCgkJCQl1bmlvbjogInVuaW9uX2d3ZGFuZyIsCgkJCQlzaG93X3RpcDogMSwKCQkJCXNob3dfd2lzaGxpc3Q6IDEsCgkJCQlzaG93X2d1ZXNzOiAxLAoJCQkJc2hvd19tYWluYmFyOiAxLAoJCQkJc2hvd19wcm9tbzogMSwKCQkJCXNldF9mb3JjZTogITEsCgkJCQlkZWZhdWx0X3N0eWxlOiAidG9wIiwKCQkJCXV0OiAiJnRyYW5zPTEiLAoJCQkJZnJvbV9kZXZpY2U6ICJkZWZhdWx0IiwKCQkJCWV4dEJyYW5kOiAiZ3dkIiwKCQkJCWV4dE5hbWU6ICJnd2RhbmciLAoJCQkJZ29fdW5pb246ICJodHRwOi8vdS5nd2RhbmcuY29tL3VuaW9uL2dvIiwKCQkJCXBfaWQ6ICIiLAoJCQkJaXNfb3BlbjogMCwKCQkJCXBvc2l0aW9uOiAwLAoJCQkJc3R5bGU6ICIiLAoJCQkJbm90aWNlOiAwLAoJCQkJZmlyc3Q6IDAsCgkJCQlmb2xkOiAwLAoJCQkJcF9mb2xkOiAwLAoJCQkJcG9wX3NoYXJlOiAxLAoJCQkJZW1haWw6ICIiLAoJCQkJc3Vic2l0ZV9pZDogIiIsCgkJCQlmb3JjZTogW10sCgkJCQlvbl9idWlsZGluZzogITAsCgkJCQlidWlsdF9jb3VudGVyOiAwLAoJCQkJY29sbGVjdGlvbkNoYW5nZWQ6ICEwLAoJCQkJZ3dkX2Jyb3dzZXJfdHlwZTogMSwKCQkJCWlzX3NpdGVfcGFnZTogbnVsbCwKCQkJCWhyZWY6IHdpbmRvdy5sb2NhdGlvbiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogIiIsCgkJCQljb2xsZWN0SW5mbzogewoJCQkJCWRwX2lkOiAiIiwKCQkJCQl0aXRsZTogIiIsCgkJCQkJc2l0ZV9pZDogMCwKCQkJCQl1cmw6ICIiLAoJCQkJCWltZzogIiIsCgkJCQkJcHJpY2U6ICIiLAoJCQkJCWNvbW1lbnQ6ICIiCgkJCQl9LAoJCQkJbm93X2RwX2lkOiAiIiwKCQkJCXdoZXJlX2J1eV9kcHM6ICIiLAoJCQkJd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLAoJCQkJdGltZXI6IG51bGwsCgkJCQl0aW1lcjI6IG51bGwsCgkJCQl0aW1lcjM6IG51bGwsCgkJCQl0aW1lcjQ6IG51bGwsCgkJCQl0aW1lcjU6IG51bGwsCgkJCQl0aW1lcjVfbXV0ZXg6ICEwLAoJCQkJaGVpZ2h0OiAwLAoJCQkJc2Nyb2xsVG9wOiAwLAoJCQkJcGFnZV9zaXplOiA2LAoJCQkJcGFnZV9zaXplX21pbmk6IDQsCgkJCQlwYWdlX25vdzogewoJCQkJCWIyYzogMSwKCQkJCQl0YW9iYW86IDEsCgkJCQkJdG1hbGw6IDEsCgkJCQkJYWxzb19idXk6IDEsCgkJCQkJcHJvbW90aW9uOiAxLAoJCQkJCWIyY19mdXp6eTogMQoJCQkJfSwKCQkJCXBhZ2VfdG90YWw6IHsKCQkJCQliMmM6IDEsCgkJCQkJdGFvYmFvOiAxLAoJCQkJCXRtYWxsOiAxLAoJCQkJCWFsc29fYnV5OiAxLAoJCQkJCXByb21vdGlvbjogMSwKCQkJCQliMmNfZnV6enk6IDEKCQkJCX0sCgkJCQl0b3RhbF9udW06IHsKCQkJCQliMmM6IDYsCgkJCQkJdGFvYmFvOiA2LAoJCQkJCXRtYWxsOiA2LAoJCQkJCWFsc29fYnV5OiA2LAoJCQkJCXByb21vdGlvbjogNiwKCQkJCQliMmNfZnV6enk6IDYKCQkJCX0sCgkJCQltb2R1bGVfbmFtZTogWyJiMmMiLCAidGFvYmFvIiwgInRtYWxsIiwgImFsc29fYnV5IiwgInByb21vdGlvbiIsICJiMmNfZnV6enkiXSwKCQkJCWRwSXNCb29rOiAhMSwKCQkJCWhpZGRlbkZhdm9yQnV0dG9uOiAhMSwKCQkJCXNhdmVfdGJyZXNfZGF0YTogbnVsbCwKCQkJCXNhdmVfcHJvbW9fbGVuOiAwLAoJCQkJc2F2ZV9wcmljZV90cmVuZF9kYXRhOiBudWxsLAoJCQkJc2F2ZV9wcm9tb19kYXRhOiBudWxsLAoJCQkJdG9wUmVzaXplVGltZXI6IG51bGwsCgkJCQlib3R0b21SZXNpemVUaW1lcjogbnVsbAoJCQl9KQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKGUpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgdCA9ICJodHRwczoiID09PSBsb2NhdGlvbi5wcm90b2NvbCA/ICJodHRwczoiIDogImh0dHA6IjsKCQkJaWYgKGUuZXh0ZW5kKHsKCQkJCXNlcnZlcjogImh0dHBzOi8vYnJvd3Nlci5nd2RhbmcuY29tIiwKCQkJCWNfc2VydmVyOiAiaHR0cHM6Ly93d3cuZ3dkYW5nLmNvbSIsCgkJCQlzX3NlcnZlcjogdCArICIvL2Nkbi5nd2RhbmcuY29tIiwKCQkJCXZfc2VydmVyOiAiaHR0cDovL3YuZ3dkYW5nLmNvbSIsCgkJCQl1X3NlcnZlcjogImh0dHA6Ly91Lmd3ZGFuZy5jb20iLAoJCQkJdV9ob3VzZTogdCArICIvL3d3dy5sdWZhbmdqaWEuY29tIiwKCQkJCXRqX3NlcnZlcjogdCArICIvL3YuZ3dkYW5nLmNvbSIsCgkJCQlpbWdfc2VydmVyOiAiaHR0cDovL2Y2N2RmZTdlZTdlNjMuY2RuLnNvaHVjcy5jb20iLAoJCQkJaW1nNjRfc2VydmVyOiAiaHR0cDovLzY0NTU2OGI3MWQ2YjYuY2RuLnNvaHVjcy5jb20iLAoJCQkJcHJvZHVjdF9rZXl3b3JkOiB0ICsgIi8va2V5d29yZC5nd2RhbmcuY29tIiwKCQkJCXRvTW9iaWxlVXJsOiB0ICsgIi8vbS5nd2RhbmcuY29tIiwKCQkJCXVfa2V5OiAiZ3dkYW5nIiwKCQkJCWR2YWw6ICIjdGJzYi1ub3RpZmllcnMiLAoJCQkJbWJhcjogImd3ZGFuZy1tYWluIiwKCQkJCXdpc2hkb206ICJiamRfcGx0X2JnIiwKCQkJCXdpc2hkb20yOiAiZ3dkX3dpc2hsaXN0X2RpdiIsCgkJCQlwX2s6ICJwaW5nbHVudHVhbjEyMzQ1IiwKCQkJCWRvbWFpbjogImJyb3dzZXIiCgkJCX0pLCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJ0bWFsbCIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCIxNjg4IikgPiAtMSkgewoJCQkJZm9yICh2YXIgbiA9ICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsIGkgPSAiIyIsIGEgPSAwOyA4ID4gYTsgYSsrKSBpICs9IG5bcGFyc2VJbnQoMjYgKiBNYXRoLnJhbmRvbSgpKV07CgkJCQllLmR2YWwgPSBpLCBlLndpc2hkb20gPSBpLnJlcGxhY2UoIiMiLCAiIikgKyAiX2JnIjsKCQkJCXZhciBvID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLAoJCQkJCXIgPSAvd2Via2l0L2kudGVzdChvKSAmJiAhKC9jaHJvbWUvaS50ZXN0KG8pICYmIC93ZWJraXQvaS50ZXN0KG8pICYmIC9tb3ppbGxhL2kudGVzdChvKSk7CgkJCQkoby5pbmRleE9mKCJtYXh0aG9uIikgPiAtMSB8fCBvLmluZGV4T2YoIjIzNDVleHBsb3JlciIpID4gLTEgfHwgcikgJiYgKGUud2lzaGRvbTIgPSAibWF4X2d3ZF93aXNobGlzdF9kaXYiLCBlLm1iYXIgPSAibWF4X2d3ZGFuZy1tYWluIikKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSwgbyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLAoJCQkJciA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQllLmV4cG9ydHMuaXNBdmFpbGFibGVQYWdlID0gZnVuY3Rpb24oKSB7CgkJCQlmb3IgKHZhciBlIGluIGMpCgkJCQkJaWYgKHIubWF0Y2gobmV3IFJlZ0V4cChlLCAiaSIpKSkgcmV0dXJuIGNbZV07CgkJCQlyZXR1cm4gITEKCQkJfSwgZS5leHBvcnRzLmlzUHJvZHVjdFBhZ2UgPSBmdW5jdGlvbihlKSB7CgkJCQllID0gZSB8fCBvOwoJCQkJZm9yICh2YXIgdCBpbiBkKQoJCQkJCWlmIChlLm1hdGNoKG5ldyBSZWdFeHAodCwgImkiKSkpIHJldHVybiBkW3RdOwoJCQkJcmV0dXJuICExCgkJCX07CgkJCXZhciBzID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIG47CgkJCQlzd2l0Y2ggKGUpIHsKCQkJCQlkZWZhdWx0OiB0KCIjY29udGVudCBoMiIpLnRleHQoKS5pbmRleE9mKCLmgqjmn6XnnIvnmoTllYblk4Hmib7kuI3liLDkuoYiKSA+IC0xICYmIChuID0gITApCgkJCQl9CgkJCQlyZXR1cm4gbgoJCQl9OwoJCQllLmV4cG9ydHMuaXNJbkJhbkxpc3QgPSBmdW5jdGlvbigpIHsKCQkJCWlmICghaS5pZnJhbWUpIHsKCQkJCQl2YXIgZSA9IG8ubWF0Y2goL1smXD9dbm9fdXJsLyk7CgkJCQkJaWYgKCFlICYmIChzZWxmLmxvY2F0aW9uICE9IHRvcC5sb2NhdGlvbiB8fCBzZWxmLmZyYW1lRWxlbWVudCAmJiAiSUZSQU1FIiA9PSBzZWxmLmZyYW1lRWxlbWVudC50YWdOYW1lIHx8IHdpbmRvdy50b3AgIT0gd2luZG93LnNlbGYpKSByZXR1cm4gITAKCQkJCX0KCQkJCXZhciB0ID0gbzsKCQkJCXJldHVybiBsb2NhdGlvbi5ocmVmLmluZGV4T2YoIj8iKSA+IDAgJiYgKHQgPSBvLnN1YnN0cigwLCBvLmluZGV4T2YoIj8iKSkpLCB0Lm1hdGNoKC9cLmthbHVsaS5jb20vKSA/ICExIDogbnVsbCAhPSB0Lm1hdGNoKC8oPzpjYXJ0cmlkZ2V8Q2FtY29yZGVyfGNhcnRlcnN8ZmVpZmVpXC5jb21cL29yZGVyXC8pLykgPyAhMSA6IGxvY2F0aW9uLmhvc3QuaW5kZXhPZihpLmV4dE5hbWUgKyAiLmNvbSIpID4gLTEgPyAhMCA6IHQubWF0Y2goL2RldGFpbFwuem9sXC5jb21cLmNuLykgPyAhMSA6IG51bGwgIT0gdC5tYXRjaCgvKD86Y2FydHxtZW1iZXJ8b3JkZXJ8bXlob21lfHBpY3R1cmVfaW5kZXh8aGFuZGxlLWJ1eS1ib3h8Y2hhdHx0LnNpbmEuY29tLmNufGRpc2N1c3Npb258dW5pb24uZGFuZ2Rhbmd8ZXZlLjM2MGJ1eXxiYW5rLnZtYWxsfGNoZWNrb3V0fGNvbmZpcm18Z2F0ZXdheXx0cmFkZXxodHRwOlwvXC9pLnRhb2Jhby5jb218d2UudGFvYmFvLmNvbXxwYXNzcG9ydC55b3Vnb3UuY29tKS9naSkgPyAhMCA6ICExCgkJCX07CgkJCXZhciBsID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKGEpIHJldHVybiBhOwoJCQkJCXZhciB0ID0gIiI7CgkJCQkJcmV0dXJuIGUuZXhwb3J0cy5pc0luQmFuTGlzdCgpID8gYSA9IHsKCQkJCQkJdHlwZTogMCwKCQkJCQkJc2l0ZU5hbWU6IHQKCQkJCQl9IDogKHQgPSBlLmV4cG9ydHMuaXNQcm9kdWN0UGFnZSgpKSA/ICgic3RyaW5nIiAhPSB0eXBlb2YgdCAmJiAoaS5oaWRlYmFyID0gdC5oaWRlYmFyLCB0ID0gdC5uYW1lKSwgaS5zaXRlID0gdCwgYSA9IHModCkgPyB7CgkJCQkJCXR5cGU6IDAsCgkJCQkJCXNpdGVOYW1lOiB0CgkJCQkJfSA6IHsKCQkJCQkJdHlwZTogMiwKCQkJCQkJc2l0ZU5hbWU6IHQKCQkJCQl9KSA6ICh0ID0gZS5leHBvcnRzLmlzQXZhaWxhYmxlUGFnZSgpLCB0ID8gKCJzdHJpbmciICE9IHR5cGVvZiB0ICYmIChpLmhpZGViYXIgPSB0LmhpZGViYXIsIHQgPSB0Lm5hbWUpLCBpLnNpdGUgPSB0LCBhID0gewoJCQkJCQl0eXBlOiAxLAoJCQkJCQlzaXRlTmFtZTogdAoJCQkJCX0pIDogYSA9IHsKCQkJCQkJdHlwZTogMCwKCQkJCQkJc2l0ZU5hbWU6ICIiCgkJCQkJfSkKCQkJCX0sCgkJCQljID0gewoJCQkJCSJ3d3dcXC5ranRcXC5jb20iOiAia2p0IiwKCQkJCQkid3d3XFwubGlmZXZjLmNvbSI6ICJsaWZldmMiLAoJCQkJCSJ3d3dcXC5jb29jYWFcXC5jb20iOiAiY29vY2FhIiwKCQkJCQkiKD86d3d3fHNob3ApXFwubnViaWFcXC4oPzpjbnxjb20pIjogIm51YmlhIiwKCQkJCQkid3d3XFwua3pqMzY1XFwuY29tIjogImt6ajM2NSIsCgkJCQkJInd3d1xcLmthb2xhXFwuY29tIjogImthb2xhIiwKCQkJCQkid3d3XFwueW1hdG91XFwuY29tIjogInltYXRvdSIsCgkJCQkJInd3d1xcLm1ldGFvXFwuY29tIjogIm1ldGFvIiwKCQkJCQkic2hvcFxcLnBoaWxpcHNcXC5jb21cXC5jbiI6ICJwaGlsaXBzIiwKCQkJCQkid3d3XFwudGNsXFwuY29tIjogInRjbCIsCgkJCQkJInd3d1xcLmUtY2hhbmdob25nXFwuY29tIjogImNoYW5naG9uZyIsCgkJCQkJInNob3BcXC5rb25rYVxcLmNvbSI6ICJrb25rYSIsCgkJCQkJInNob3BcXC5oaXNlbnNlXFwuY29tIjogImhpc2Vuc2UiLAoJCQkJCSJ3d3dcXC5pbmVpZ29cXC5jb20iOiAiaW5laWdvIiwKCQkJCQkid3d3XFwuc2tnXFwuY29tIjogInNrZyIsCgkJCQkJInd3d1xcLmstdG91Y2hcXC5jbiI6ICJrLXRvdWNoIiwKCQkJCQkiKD86d3d3fHNob3ApXFwuZ2lvbmVlXFwuY29tIjogImdpb25lZSIsCgkJCQkJIig/Ond3d3xzdG9yZSlcXC5vcHBvXFwuY29tIjogIm9wcG8iLAoJCQkJCSJnZml2ZVxcLmIyY1xcLmVxaW1pbmd4aW5nXFwuY29tIjogImdmaXZlIiwKCQkJCQkic2hvcFxcLnZpdm9cXC5jb21cXC5jbiI6ICJ2aXZvIiwKCQkJCQkid3d3XFwuZ3JhaW5nZXJcXC5jbiI6ICJncmFpbmdlciIsCgkJCQkJIig/Om1hbGx8cGlhbylcXC4xNjNcXC5jb20iOiAid3kxNjMiLAoJCQkJCSJ0XFwuZGlhbnBpbmdcXC5jb20iOiAiZGlhbnBpbmciLAoJCQkJCSJcXC5udW9taVxcLmNvbSI6ICJudW9taSIsCgkJCQkJIlxcLm1laXR1YW5cXC5jb20iOiAibWVpdHVhbiIsCgkJCQkJInd3d1xcLmViYXlcXC5jb20iOiAiZWJheSIsCgkJCQkJInlhb1xcLjk1MDk1XFwuY29tIjogewoJCQkJCQluYW1lOiAidGFvYmFvIiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJcXC5mZWluaXVcXC5jb20iOiAiZmVpbml1IiwKCQkJCQkiaXRlbVxcLmZlaW5pdVxcLmNvbSI6ICJmZWluaXUiLAoJCQkJCSJcXC5mZWlmZWlcXC4oPzpjbnxjb20pIjogImZlaWZlaSIsCgkJCQkJIlxcLmd1YW5nXFwuY29tIjogImd1YW5nIiwKCQkJCQkiXFwubWVpbGlzaHVvXFwuY29tIjogIm1laWxpc2h1byIsCgkJCQkJIlxcLm1vZ3VqaWVcXC5jb20iOiAibW9ndWppZSIsCgkJCQkJInNob3BcXC5jb29scGFkXFwuY24iOiAiY29vbHBhZCIsCgkJCQkJIlxcLnNlcGhvcmFcXC5jbiI6ICJzZXBob3JhY3BzIiwKCQkJCQkiY25cXGQqXFwuc3RyYXdiZXJyeW5ldFxcLmNvbSI6ICJzdHJhd2JlcnJ5bmV0IiwKCQkJCQkiXFwueWVzbXl3aW5lXFwuY29tIjogInllc215d2luZSIsCgkJCQkJIihcXC4pP3lpZ3VvXFwuY29tIjogInlpZ3VvIiwKCQkJCQkiXFwud2FuZ2dvdVxcLmNvbSI6ICJ3YW5nZ291IiwKCQkJCQkibWFsbFxcLmppYVxcLmNvbSI6ICJqaWEiLAoJCQkJCSJ3ZWlnb3VcXC5iYWlkdVxcLmNvbSI6ICJiYWlkdS13ZWlnb3UiLAoJCQkJCSJcXC4oeGlhbyk/bWlcXC5jb20iOiAieGlhb21pIiwKCQkJCQkic2hvcFxcLmxldHZcXC5jb20iOiAibGVtYWxsIiwKCQkJCQkiXFwuaGFuZHVcXC5jb20iOiAiaGFuZHUiLAoJCQkJCSIoPzp3d3dcXC58Xil0YW9zaHVcXC5jb20iOiAidGFvc2h1IiwKCQkJCQkiXFwub3VrdVxcLmNvbSI6ICJvdWt1IiwKCQkJCQkiXFwuajFcXC5jb20iOiAiajEiLAoJCQkJCSJcXC56bTdcXC5jbiI6ICJ6bTciLAoJCQkJCSJcXC4xNjg4XFwuY29tIjogewoJCQkJCQluYW1lOiAiMTY4OCIsCgkJCQkJCWhpZGViYXI6ICEwCgkJCQkJfSwKCQkJCQkiXFwueWl3dWdvdVxcLmNvbSI6ICJ5aXd1Z291IiwKCQkJCQkiXFwuemhpd29cXC5jb20iOiAiemhpd28iLAoJCQkJCSJcXC5tdXlpbmd6aGlqaWFcXC5jb20iOiAibXV5aW5nemhpamlhIiwKCQkJCQkiXFwudm1hbGxcXC5jb20iOiAidm1hbGwiLAoJCQkJCSJcXC5kaWRhbWFsbFxcLmNvbSI6ICJkaWRhbWFsbCIsCgkJCQkJIlxcLnhpamkuY29tIjogInhpamkiLAoJCQkJCSJcXC54aWppZS5jb20iOiAieGlqaWUiLAoJCQkJCSJcXC5taXFpXFwuY24iOiAibWlxaSIsCgkJCQkJIlxcLnpvbFxcLmNvbSg/OiR8L3xcXD8pIjogInpvbCIsCgkJCQkJInpvbFxcLmNvbVxcLmNuIjogInpvbCIsCgkJCQkJIlxcLmNhbWVsXFwuY29tXFwuY24iOiAiY2FtZWwiLAoJCQkJCSJjYW1lbC5jb20uY24iOiAiY2FtZWwiLAoJCQkJCSIoXFwuKT9ob21ldnZcXC5jb20iOiAiaG9tZXZ2IiwKCQkJCQkiXFwucGFpeGllXFwubmV0IjogInBhaXhpZSIsCgkJCQkJIlxcLnRhbzNjXFwuY29tIjogInRhbzNjIiwKCQkJCQkiXFwuYW1hem9uXFwuKD86Y258Y29tKSI6ICJhbWF6b24iLAoJCQkJCSJcXC5kYW5nZGFuZ1xcLmNvbSI6ICJkYW5nZGFuZyIsCgkJCQkJInM4XFwudGFvYmFvXFwuY29tIjogInM4IiwKCQkJCQkidGFvYmFvXFwuKD86Y29tfGhrKSI6IHsKCQkJCQkJbmFtZTogInRhb2JhbyIsCgkJCQkJCWhpZGViYXI6ICEwCgkJCQkJfSwKCQkJCQkiXFwuKD86MzYwYnV5fGpkKVxcLmNvbSI6ICIzNjBidXkiLAoJCQkJCSJcXC4oPzozNjBidXl8amQpXFwuaGsiOiAiMzYwYnV5IiwKCQkJCQkiXFwueWl5YW9qZC5jb20iOiAiMzYwYnV5IiwKCQkJCQkiXFwubmV3ZWdnKFxcLmNvbSk/XFwuY24iOiAibmV3ZWdnIiwKCQkJCQkiXFwucmVkYmFieVxcLmNvbVxcLmNuIjogInJlZGJhYnkiLAoJCQkJCSJcXC41MWJ1eVxcLmNvbSI6ICI1MWJ1eSIsCgkJCQkJIlxcLnlpeHVuXFwuY29tIjogIjUxYnV5IiwKCQkJCQkiXFwub2tidXlcXC5jb20iOiAib2tidXkiLAoJCQkJCSJcXC5zdW5pbmdcXC5jb20iOiAic3VuaW5nIiwKCQkJCQkiXFwuY29vOFxcLmNvbSI6ICJjb284IiwKCQkJCQkiXFwubHVzZW5cXC5jb20iOiAibHVzZW4iLAoJCQkJCSJcXC5nb21lXFwuY29tXFwuY24iOiAiZ29tZSIsCgkJCQkJIlxcLmdvbWVob21lXFwuY29tIjogImdvbWUiLAoJCQkJCSJcXC5nb21laGlnb1xcLmhrIjogImdvbWVoaWdvIiwKCQkJCQkiXFwueWhkXFwuY29tIjogInlpaGFvZGlhbiIsCgkJCQkJIlxcLnlpaGFvZGlhblxcLmNvbSI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJcXC4xbWFsbFxcLmNvbSI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJcXC53b21haVxcLmNvbSI6ICJ3b21haSIsCgkJCQkJIlxcLmxleW91XFwuY29tXFwuY24iOiAibGV5b3UiLAoJCQkJCSJcXC5zaG9waW5cXC5uZXQiOiAic2hvcGluIiwKCQkJCQkiXFwubm81XFwuY29tXFwuY24iOiAibm81IiwKCQkJCQkiXFwueGl1XFwuY29tIjogInhpdSIsCgkJCQkJIlxcLm1iYW9iYW9cXC5jb20iOiAibWJhb2JhbyIsCgkJCQkJIlxcLjM2MGt4clxcLmNvbSI6ICIzNjBreHIiLAoJCQkJCSJcXC5tNmdvXFwuY29tIjogIm02Z28iLAoJCQkJCSJcXC5nb3VcXC5jb20iOiAibTZnbyIsCgkJCQkJIlxcLjk5cmVhZFxcLmNvbSI6ICI5OXJlYWQiLAoJCQkJCSJcXC5jaGluYS1wdWJcXC5jb20iOiAiY2hpbmEtcHViIiwKCQkJCQkiXFwuYm9va3NjaGluYVxcLmNvbSI6ICJib29rc2NoaW5hIiwKCQkJCQkiXFwuZWZlaWh1XFwuY29tIjogImVmZWlodSIsCgkJCQkJIlxcLnlpbnRhaVxcLmNvbSI6ICJ5aW50YWkiLAoJCQkJCSJcXC5xdXdhblxcLmNvbSI6ICJxdXdhbiIsCgkJCQkJIlxcLmsxMjFcXC5jb20iOiAiazEyMSIsCgkJCQkJIlxcLmhhcHBpZ29cXC5jb20iOiAiaGFwcGlnbyIsCgkJCQkJIlxcLmdhcFxcLmNuIjogImdhcCIsCgkJCQkJIlxcLmJpbmdnb1xcLmNvbS8iOiAiYmluZ2dvIiwKCQkJCQkiXFwueW91Z291XFwuY29tIjogInlvdWdvdSIsCgkJCQkJIlxcLmp4ZHlmXFwuY29tIjogImp4ZHlmIiwKCQkJCQkiXFwud2lueHVhblxcLmNvbSI6ICJ3aW54dWFuIiwKCQkJCQkiXFwuYm9va3V1XFwuY29tIjogImJvb2t1dSIsCgkJCQkJIlxcLmppdXhpYW5cXC5jb20iOiAiaml1eGlhbiIsCgkJCQkJIlxcLnZhbmNsXFwuY29tIjogInZhbmNsIiwKCQkJCQkiXFwuMTExXFwuY29tXFwuY24iOiAiMTExIiwKCQkJCQkiXFwuc2ZiZXN0XFwuKD86aGt8Y29tKSI6ICJzZmJlc3QiLAoJCQkJCSJcXC52aXAoc2hvcCk/XFwuY29tIjogInZpcHNob3AiLAoJCQkJCSJcXC5qdW1laVxcLmNvbSI6ICJqdW1laSIsCgkJCQkJImp1bWVpZ2xvYmFsXFwuY29tIjogImp1bWVpZ2xvYmFsIiwKCQkJCQkiXFwubGVmZW5nXFwuY29tIjogImxlZmVuZyIsCgkJCQkJInd3d1xcLmJlbmxhaVxcLmNvbSI6ICJiZW5sYWkiLAoJCQkJCSIoPzpcXC58XilsZXRhb1xcLmNvbSI6ICJsZXRhbyIsCgkJCQkJIlxcLjEzOXNob3BcXC5jb20iOiAiMTM5c2hvcCIsCgkJCQkJIig/OlxcLnxeKXp6bDM2NVxcLmNvbSI6ICJ6emwzNjUiLAoJCQkJCSJcXC50aWFudGlhblxcLmNvbSI6ICJ0aWFudGlhbiIsCgkJCQkJIlxcLnRhb3hpZVxcLmNvbSI6ICJ0YW94aWUiLAoJCQkJCSJcXC5nandcXC5jb20iOiAiZ2p3IiwKCQkJCQkid3d3XFwuZDFcXC5jb21cXC5jbiI6ICJkMSIsCgkJCQkJIlxcLmlodXNoXFwuY29tIjogImlodXNoIiwKCQkJCQkid3d3XFwuc1xcLmNuIjogInMiLAoJCQkJCSJcXC4oPzptb29uYmFzYXxrb3Jpcmx8cnV0aXNoZXJ8c3VvcmFuZ3xhbGF2ZXN8aW5nMmluZ3wwLTEwMHN8cWpoZXJifG1vbnRlYW1vcilcXC5jb20iOiAibW9vbmJhc2EiLAoJCQkJCSJcXC53YW5naml1XFwuY29tIjogIndhbmdqaXUiLAoJCQkJCSJcXC5saWVib1xcLmNvbSI6ICJsaWVibyIsCgkJCQkJIlxcLmVzcHJpdFxcLmNuIjogImVzcHJpdCIsCgkJCQkJIig/OlxcLnxeKWxhbWl1XFwuY29tIjogImxhbWl1IiwKCQkJCQkiXFwuYWltZXJcXC5jb21cXC5jbiI6ICJhaW1lciIsCgkJCQkJInd3d1xcLmthZGFuZ1xcLmNvbSI6ICJrYWRhbmciLAoJCQkJCSJ3d3dcXC5saXppXFwuY29tIjogImxpemkiLAoJCQkJCSJ3d3dcXC5tZXRyb21hbGxcXC5jbiI6ICJtZXRyb21hbGwiLAoJCQkJCSJ3d3dcXC5wYmFcXC5jbiI6ICJwYmEiLAoJCQkJCSJcXC5zaGFuZ3BpblxcLmNvbSI6ICJzaGFuZ3BpbiIsCgkJCQkJIlxcLndiaWFvXFwuY24iOiAid2JpYW8iLAoJCQkJCSJcXC5oYW5kdXlpc2hlXFwuY29tIjogImhhbmR1eWlzaGUiLAoJCQkJCSJcXC5laGFpZXJcXC5jb20iOiAiZWhhaWVyIiwKCQkJCQkiXFwuc2Vjb29cXC5jb20iOiAic2Vjb28iLAoJCQkJCSIoPzp2aXZpYW58bGlua21hc2F8bWFzYW1hc28pXFwuKD86Y29tfGNuKSI6ICJtYXNhbWFzbyIsCgkJCQkJInd3d1xcLm5hcnVrb1xcLmNuIjogIm5hcnVrdSIsCgkJCQkJInd3d1xcLnNwb3J0aWNhXFwuY24iOiAic3BvcnRpY2EiLAoJCQkJCSIoPzpcXC58Xil4aWZ1cXVhblxcLmNvbSI6ICJ4aWZ1cXVhbiIsCgkJCQkJInd3d1xcLm1pbGllclxcLmNvbSI6ICJtaWxpZXIiLAoJCQkJCSJ3d3dcXC5ub3BcXC5jbiI6ICJub3AiLAoJCQkJCSJcXC5sZW5vdm9cXC5jb20iOiAibGVub3ZvIiwKCQkJCQkic2hvcFxcLmxlbm92b1xcLmNvbVxcLmNuIjogImxlbm92byIsCgkJCQkJInNob3BcXC5sZW5vdm9tb2JpbGVcXC5jb20iOiAibGVub3ZvIiwKCQkJCQkiXFwuMTg5XFwuY24iOiAiMTg5IiwKCQkJCQkiXFwuaGljZG1hXFwuY29tIjogImhpY2RtYSIsCgkJCQkJIlxcLmUxMDBcXC5jbiI6ICJlMTAwIiwKCQkJCQkic3RvcmVcXC5zYW1zdW5nXFwuY29tIjogInNhbXN1bmciLAoJCQkJCSJ3d3cuYXBwbGVcXC5jb20iOiAiYXBwbGUiLAoJCQkJCSJzdG9yZS5hcHBsZVxcLmNvbSI6ICJhcHBsZSIsCgkJCQkJIlxcLm1laXp1XFwuY29tIjogIm1laXp1IiwKCQkJCQkiXFwuOTU4c2hvcFxcLmNvbSI6ICI5NThzaG9wIiwKCQkJCQkiXFwub2tocWJcXC5jb20iOiAib2tocWIiLAoJCQkJCSJcXC56dGVkZXZpY2VcXC5jb21cXC5jbiI6ICJ6dGVkZXZpY2UiLAoJCQkJCSJcXC5rdWFpc2h1YmFvXFwuY29tIjogImt1YWlzaHViYW8iLAoJCQkJCSJcXC5sdnlvdW1hbGxcXC5jb20iOiAibHZ5b3VtYWxsIiwKCQkJCQkiKD86d3d3XFwufF4peFxcLmNvbVxcLmNuIjogIngiLAoJCQkJCSJcXC5saW5nc2hpXFwuY29tIjogImxpbmdzaGkiLAoJCQkJCSJ3d3dcXC5jdHJpcFxcLmNvbSI6ICJjdHJpcCIsCgkJCQkJIlxcLnp1aXBpblxcLmNuIjogInp1aXBpbiIsCgkJCQkJInd3d1xcLnhnYmFieVxcLmNvbSI6ICJiYnJlYWR5IiwKCQkJCQkiXFwueW9ob2J1eVxcLmNvbSI6ICJ5b2hvYnV5IiwKCQkJCQkiXFwubHZtYW1hXFwuY29tIjogImx2bWFtYSIsCgkJCQkJIig/OlxcLnxeKXFtYW5nb1xcLmNvbSI6ICJxbWFuZ28iLAoJCQkJCSJ3d3dcXC4yMjhjYWlcXC5jb20iOiAiMjI4Y2FpIiwKCQkJCQkiXFwuaWtqdGFvXFwuY29tIjogImlranRhbyIsCgkJCQkJInd3d1xcLmJlc3RrZWVwXFwuY24iOiAiaWtqdGFvIiwKCQkJCQkiXFwuYmFndHJlZVxcLmNuIjogImJhZ3RyZWUiLAoJCQkJCSJ5aWNoZW5ncGluXFwuY29tIjogInlpY2hlbmdwaW4iLAoJCQkJCSJ6Z3pjd1xcLmNvbSI6IHsKCQkJCQkJbmFtZTogInpnemN3IiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJ3d3dcXC5taWFcXC5jb20iOiAibWl5YWJhb2JlaSIsCgkJCQkJIlxcLm1peWFiYW9iZWkuaGsiOiAibWl5YWJhb2JlaSIsCgkJCQkJIlxcLnVsZVxcLmNvbSI6ICJ1bGUiLAoJCQkJCSJtaW5zaGVuZ2VjXFwuY29tIjogIm1pbnNoZW5nZWMiLAoJCQkJCSJ3YW5nZnVqaW5nXFwuY29tIjogIndhbmdmdWppbmciLAoJCQkJCSJcXC5xdW5hclxcLmNvbSI6ICJxdW5hciIsCgkJCQkJIlxcLm1laWxlbGVcXC5jb20iOiAibWVpbGVsZSIsCgkJCQkJInd3d1xcLjU1dHVhblxcLmNvbSI6ICI1NXR1YW4iLAoJCQkJCSJqaW5qaWFuZ2lubnNcXC5jb20iOiAiamluamlhbmdpbm5zIiwKCQkJCQkiXFwuZWxvbmdcXC5jb20iOiAiZWxvbmciLAoJCQkJCSJwb2Rpbm5zXFwuY29tIjogInBvZGlubnMiLAoJCQkJCSJtYW5nb2NpdHlcXC5jb20iOiAibWFuZ29jaXR5IiwKCQkJCQkiXFwuNTAwXFwuY29tIjogIjUwMCIsCgkJCQkJInd3d1xcLmx5XFwuY29tIjogImx5IiwKCQkJCQkiZS1saW5pbmdcXC5jb20iOiAiZS1saW5pbmciLAoJCQkJCSJcXC5saW5pbmdcXC5jb20iOiAibGluaW5nIiwKCQkJCQkiXFwua29vbGVhcm5cXC5jb20iOiAia29vbGVhcm4iLAoJCQkJCSJcXC5zcHJpbmd0b3VyXFwuY29tIjogInNwcmluZ3RvdXIiLAoJCQkJCSJcXC5xaW5xaW5iYWJ5XFwuY29tIjogInFpbnFpbmJhYnkiLAoJCQkJCSJ3aW5lbmljZVxcLmNvbSI6ICJ3aW5lbmljZSIsCgkJCQkJIlxcLnNhc2FcXC5jb20iOiAic2FzYSIsCgkJCQkJIig/OlxcLnxeKTVsdXhcXC5jb20iOiAiNWx1eCIsCgkJCQkJIlxcLjIyOFxcLmNvbVxcLmNuIjogIjIyOCIsCgkJCQkJIlxcLnJyc1xcLmNvbSI6ICJycnMiLAoJCQkJCSJcXC5ycnNqay5jb20iOiAicnJzIiwKCQkJCQkiKD86XFwufF4pYnV5XFwuY2NiXFwuY29tIjogImNjYiIsCgkJCQkJIlxcLmJhbmdnb1xcLmNvbSI6ICJiYW5nZ28iLAoJCQkJCSJ3d3dcXC5hbWF6b25cXC5jb1xcLmpwIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmluIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmZyIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmRlIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLml0IjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvLnVrIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLm5sIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmVzIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNhIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvbVxcLm14IjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvbVxcLmJyIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvbVxcLmF1IjogImFtYXpvbiIsCgkJCQkJInN0b3JlXFwubG9naXRlY2hcXC5jb21cXC5jbiI6ICJsb2dpdGVjaCIsCgkJCQkJIlxcLmJvb2hlZVxcLmNvbSI6ICJib29oZWUiLAoJCQkJCSJuaWtlXFwuY29tIjogIm5pa2UiLAoJCQkJCSJcXC5qaWFua2VcXC5jb20iOiAiamlhbmtlIiwKCQkJCQkiXFwuMzYwa2FkXFwuY29tIjogIjM2MGthZCIsCgkJCQkJIlxcLmxieGNuXFwuY29tIjogImxieGNuIiwKCQkJCQkiXFwubWVpY2lcXC5jb20iOiAibWVpY2kiLAoJCQkJCSJcXC5iZWliZWlcXC5jb20iOiAiYmVpYmVpIiwKCQkJCQkiXFwuYWxpZXhwcmVzcy5jb20iOiB7CgkJCQkJCW5hbWU6ICJhbGlleHByZXNzIiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJcXC42cG1cXC5jb20iOiAiNnB4IiwKCQkJCQkiXFwuZ25jXFwuY29tIjogImduYyIsCgkJCQkJIlxcLm15aGFiaXRcXC5jb20iOiAibXloYWJpdCIsCgkJCQkJIlxcLnNob3Bib3BcXC5jb20iOiAic2hvcGJvcCIsCgkJCQkJIlxcLmRydWdzdG9yZVxcLmNvbSI6ICJkcnVnc3RvcmUiLAoJCQkJCSJ3d3dcXC53YWxncmVlbnNcXC5jb20iOiAid2FsZ3JlZW5zIiwKCQkJCQkic2llcnJhdHJhZGluZ3Bvc3RcXC5jb20iOiAic2llcnJhdHJhZGluZ3Bvc3QiLAoJCQkJCSJcXC5uZXdlZ2dcXC5jb20iOiAibmV3ZWdnLXVzIiwKCQkJCQkiXFwuam9tYXNob3BcXC5jb20iOiAiam9tYXNob3AiLAoJCQkJCSJcXC5hc2hmb3JkXFwuY29tIjogImFzaGZvcmQiLAoJCQkJCSJsb29rZmFudGFzdGljXFwuY29tIjogImxvb2tmYW50YXN0aWMtY29tIiwKCQkJCQkiXFwucmVpXFwuY29tIjogInJlaSIsCgkJCQkJIlxcLmloZXJiXFwuY29tIjogImloZXJiIiwKCQkJCQkiXFwuY2FydGVyc1xcLmNvbSI6ICJjYXJ0ZXJzIiwKCQkJCQkid3d3XFwuZW5kY2xvdGhpbmdcXC5jb20iOiAiZW5kY2xvdGhpbmciLAoJCQkJCSJcXC5jYW1wc2F2ZXJcXC5jb20iOiAiY2FtcHNhdmVyIiwKCQkJCQkiZ2xvYmFsXFwucmFrdXRlblxcLmNvbSI6ICJyYWt1dGVuIiwKCQkJCQkiKD86XFwufF4pMTAweXVlXFwuY29tIjogIjEwMHl1ZSIsCgkJCQkJInd3d1xcLndvb3RcXC5jb20iOiAid29vdCIsCgkJCQkJInd3d1xcLmhhaXRhb2NoZW5nXFwuY29tIjogImhhaXRhb2NoZW5nIiwKCQkJCQkiam9lc25ld2JhbGFuY2VvdXRsZXRcXC5jb20iOiAiam9lc25ld2JhbGFuY2VvdXRsZXQiLAoJCQkJCSJcXC5maW5pc2hsaW5lXFwuY29tIjogImZpbmlzaGxpbmUiLAoJCQkJCSJcXC52aXRhY29zdFxcLmNvbSI6ICJ2aXRhY29zdCIsCgkJCQkJIlxcLmdyb3Vwb24uY29tIjogImdyb3Vwb24iLAoJCQkJCSJcXC5zdXB1bWFsbFxcLmNvbSI6ICJzdXB1bWFsbCIsCgkJCQkJInd3dzFcXC5tYWN5c1xcLmNvbSI6ICJtYWN5cyIsCgkJCQkJInd3d1xcLm1vb3NlamF3XFwuY29tIjogIm1vb3NlamF3IiwKCQkJCQkid3d3XFwubGVtYWxsXFwuY29tIjogImxlbWFsbCIsCgkJCQkJInd3d1xcLmppdW1laVxcLmNvbSI6ICJqaXVtZWkiLAoJCQkJCSIoPzpcXC58XiljaHVuc2h1aXRhbmdcXC5jb20iOiAiY2h1bnNodWl0YW5nIiwKCQkJCQkid3d3XFwuZGFsaW5nLmNvbSI6ICJkYWxpbmciLAoJCQkJCSJ3d3dcXC5veWVhaFxcLmNvbSI6ICJveWVhaCIsCgkJCQkJInd3d1xcLm1vcmVmb29kXFwuY29tIjogIm1vcmVmb29kIiwKCQkJCQkid3d3XFwueXVtbXk3N1xcLmNvbSI6ICJ5dW1teTc3IiwKCQkJCQkid3d3XFwuZnJ1aXRkYXlcXC5jb20iOiAiZnJ1aXRkYXkiLAoJCQkJCSJ3d3dcXC5naWx0XFwuY29tIjogImdpbHQiLAoJCQkJCSJ3d3dcXC5mZW5ncXVcXC5jb20iOiAiZmVuZ3F1IiwKCQkJCQkid3d3XFwubWVpXFwuY29tIjogIm1laSIsCgkJCQkJIlxcLnZzaWdvXFwuY24iOiAidnNpZ28iLAoJCQkJCSJ3d3dcXC5rZWVkZVxcLmNvbSI6ICJrZWVkZSIsCgkJCQkJInd3d1xcLmtlZGVcXC5jb20iOiAia2VlZGUiLAoJCQkJCSJ3d3dcXC5zaG93am95XFwuY29tIjogInNob3dqb3kiLAoJCQkJCSJcXC5vY2pcXC5jb21cXC5jbiI6ICJvY2oiLAoJCQkJCSJcXC5vY2pcXC5rciI6ICJvY2oiLAoJCQkJCSJcXC50bWFsbFxcLig/OmNvbXxoaykiOiB7CgkJCQkJCW5hbWU6ICJ0bWFsbCIsCgkJCQkJCWhpZGViYXI6ICEwCgkJCQkJfSwKCQkJCQkid3d3XFwuc3VuZGFuXFwuY29tIjogInN1bmRhbiIsCgkJCQkJInd3d1xcLmppYWVcXC5jb20iOiAiamlhZSIsCgkJCQkJIig/OlxcLnxeKXphemhpcHVcXC5jb20iOiAiemF6aGlwdSIsCgkJCQkJInd3d1xcLmVhc2VleWVzXFwuY29tIjogImVhc2VleWVzIiwKCQkJCQkibWljcm9zb2Z0c3RvcmVcXC5jb21cXC5jbiI6ICJtaWNyb3NvZnRzdG9yZSIsCgkJCQkJIig/OlxcLnxeKXhnZHFcXC5jb20iOiAieGdkcSIsCgkJCQkJIlxcLmJlc3RjYWtlXFwuY29tIjogImJlc3RjYWtlIiwKCQkJCQkiXFwubG92b1xcLmNuIjogImxvdm8iLAoJCQkJCSJ3d3dcXC5odWFcXC5jb20iOiAiaHVhIiwKCQkJCQkid3d3XFwueHRlcFxcLmNvbVxcLmNuIjogInh0ZXAiLAoJCQkJCSJ3d3dcXC5zdGFwbGVzXFwuY24iOiAic3RhcGxlcyIsCgkJCQkJIig/OlxcLnxeKWVmb3RpbGVcXC5jb20iOiAiZWZvdGlsZSIsCgkJCQkJInd3d1xcLnpoZTgwMFxcLmNvbSI6ICJ6aGU4MDAiLAoJCQkJCSJ3d3dcXC5haWRhaVxcLmNvbSI6ICJhaWRhaSIsCgkJCQkJInd3d1xcLmJmdHZcXC5jb20iOiAiYmZ0diIsCgkJCQkJIlxcLnR1amlhXFwuY29tIjogInR1amlhIiwKCQkJCQkiXFwuY29zbWVcXC5jb20iOiAiY29zbWUiLAoJCQkJCSJ3d3dcXC5kaWFwZXJzXFwuY29tIjogImRpYXBlcnMiLAoJCQkJCSJ3d3dcXC53aW5kZWxuXFwuZGUiOiAid2luZGVsbiIsCgkJCQkJInd3d1xcLmJhYnluZW9cXC5kZSI6ICJiYWJ5bmVvIiwKCQkJCQkid3d3XFwuZXNjZW50dWFsXFwuY29tIjogImVzY2VudHVhbCIsCgkJCQkJInd3d1xcLnRoZXdhdGNoZXJ5XFwuY29tIjogInRoZXdhdGNoZXJ5IiwKCQkJCQkiXFwuYmljY2FtZXJhLmNvbSI6ICJiaWNjYW1lcmEiLAoJCQkJCSJcXC50dWh1Lig/OmNufGNvbSkiOiAidHVodSIsCgkJCQkJImVzaG9wXFwuaHRjXFwuY29tIjogImh0YyIsCgkJCQkJInJvc2Vvbmx5XFwuY29tXFwuY24iOiAicm9zZW9ubHkiLAoJCQkJCSJcXC5yb25nMzYwLmNvbSI6ICJyb25nMzYwIiwKCQkJCQkiXFwubml3b2RhaS5jb20iOiAibml3b2RhaSIsCgkJCQkJInd3d1xcLmVzdGVlbGF1ZGVyLmNvbSI6ICJlc3RlZWxhdWRlciIsCgkJCQkJIlxcLnNha3NmaWZ0aGF2ZW51ZS5jb20iOiAic2Frc2ZpZnRoYXZlbnVlIiwKCQkJCQkiXFwudGFxdS5jbiI6ICJ0YXF1IiwKCQkJCQkiXFwucXllci5jb20iOiAicXllciIsCgkJCQkJIlxcLmF4bWFsbFxcLmNvbVxcLmF1IjogImF4bWFsbCIsCgkJCQkJIlxcLm11amkubmV0IjogIm11amkiLAoJCQkJCSIoPzpcXC58XilnbWFya2V0LmNvLmtyIjogImdtYXJrZXQiLAoJCQkJCSJlbmdsaXNoLjExc3QuY28ua3IiOiAiMTFzdCIsCgkJCQkJIlxcLnNtYXJ0YmFyZ2FpbnNcXC5jb20iOiAic21hcnRiYXJnYWlucyIsCgkJCQkJIlxcLnNob3BwaW5nXFwueWFob29cXC5jb1xcLmpwIjogInlhaG9vc2hvcCIsCgkJCQkJIlxcLmJsb29taW5nZGFsZXNcXC5jb20iOiAiYmxvb21pbmdkYWxlcyIsCgkJCQkJIlxcLm1pa2lob3VzZVxcLmpwIjogIm1pa2lob3VzZSIsCgkJCQkJIlxcLnRveXNydXNcXC5jb1xcLmpwIjogInRveXNydXMiLAoJCQkJCSJcXC5jb21mb3J0Zmlyc3RcXC5jb20iOiAiY29tZm9ydGZpcnN0IiwKCQkJCQkiXFwuZ3ltYm9yZWVcXC5jb20iOiAiZ3ltYm9yZWUiLAoJCQkJCSJcXC5hbGJlZWJhYnkuY29tIjogImFsYmVlYmFieSIsCgkJCQkJIlxcLmJhYnltYXJrdC5kZSI6ICJiYWJ5bWFya3QiLAoJCQkJCSJcXC51Z2dhdXN0cmFsaWEuY28udWsiOiAidWdnYXVzdHJhbGlhIiwKCQkJCQkid3d3XFwudWdnXFwuY29tIjogInVnZyIsCgkJCQkJIm5laW1hbm1hcmN1c1xcLmNvbSI6ICJuZWltYW5tYXJjdXMiLAoJCQkJCSJ3d3dcXC5zaG9lYnV5LmNvbSI6ICJzaG9lYnV5IiwKCQkJCQkid3d3XFwuc3p1bFxcLmNvbSI6ICJzenVsIiwKCQkJCQkid3d3XFwudGltZXguY29tIjogInRpbWV4IiwKCQkJCQkiXFwudGltZXguY29tIjogInRpbWV4IiwKCQkJCQkid3d3XFwua2F5LmNvbSI6ICJrYXkiLAoJCQkJCSJcXC5ld2F0Y2hlcy5jb20iOiAiZXdhdGNoZXMiLAoJCQkJCSJcXC5zd2Fyb3Zza2kuY29tIjogInN3YXJvdnNraSIsCgkJCQkJIlxcLndvcmxkb2Z3YXRjaGVzLmNvbSI6ICJ3b3JsZG9md2F0Y2hlcyIsCgkJCQkJInd3dy5kYW5pZWx3ZWxsaW5ndG9uLmNvbSI6ICJkYW5pZWx3ZWxsaW5ndG9uIiwKCQkJCQkiXFwuYmVhdXR5YmF5LmNvbSI6ICJiZWF1dHliYXkiLAoJCQkJCSJcXC5iZWF1dHkuY29tIjogImJlYXV0eSIsCgkJCQkJInd3dy5iZWF1dHliYXIuY29tIjogImJlYXV0eWJhciIsCgkJCQkJInNraW5zdG9yZS5jb20iOiAic2tpbnN0b3JlIiwKCQkJCQkid3d3LmxhbmVpZ2UuY29tIjogImxhbmVpZ2UiLAoJCQkJCSIoPzpcXC58Xilib3NlLmNvbSI6ICJib3NlIiwKCQkJCQkiKD86XFwufF4pYmVzdGJ1eS5jb20iOiAiYmVzdGJ1eSIsCgkJCQkJImJocGhvdG92aWRlby5jb20iOiAiYmhwaG90b3ZpZGVvIiwKCQkJCQkiKD86XFwufF4pc29ueS5qcCI6ICJzb255IiwKCQkJCQkiXFwuYmxcXC5jb20iOiAiYmwiLAoJCQkJCSIoPzpcXC58Xil5b3UuMTYzLmNvbSI6ICJ5b3UxNjMiLAoJCQkJCSIoPzpcXC58XilqaW5qaWFuZy5jb20iOiAiamluamlhbmciLAoJCQkJCSIoPzpcXC58XiliZXN0aW5mb29kcy5jb20iOiAiYmVzdGluZm9vZHMiLAoJCQkJCSIoPzpcXC58XilqaW54aWFuZy5jb20iOiAiamlueGlhbmciLAoJCQkJCSIoPzpcXC58XilndW9qaW1hbWkuY29tIjogImd1b2ppbWFtaSIsCgkJCQkJIig/OlxcLnxeKWJhaXlhbmd3YW5nLmNvbSI6ICJiYWl5YW5nd2FuZyIsCgkJCQkJIlxcLmFveW91LmNvbSI6ICJhb3lvdSIsCgkJCQkJIig/OlxcLnxeKXJveXlvdW5nY2hlbWlzdC5jb20uYXUiOiAicm95eW91bmdjaGVtaXN0IiwKCQkJCQkiKD86XFwufF4pbWVkaWhlYWxzaG9wLmNvbSI6ICJtZWRpaGVhbHNob3AiLAoJCQkJCSIoPzpcXC58XikxMDAxcGhhcm1hY2llcy5jb20iOiAiMTAwMXBoYXJtYWNpZXMiLAoJCQkJCSIoPzpcXC58Xilsb29rZmFudGFzdGljLmNuIjogImxvb2tmYW50YXN0aWMtY24iLAoJCQkJCSIoPzpcXC58XikxXFwuMTYzXFwuY29tIjogIjEtMTYzIiwKCQkJCQkid3d3XFwua2FpeGluYmFvLmNvbSI6ICJrYWl4aW5iYW8iLAoJCQkJCSIoPzpcXC58Xilib29raW5nLmNvbSI6ICJib29raW5nIiwKCQkJCQkiKD86XFwufF4panVhbnBpLmNvbSI6ICJqdWFucGkiLAoJCQkJCSIoPzpcXC58XilwaGFybWFjeW9ubGluZS5jb20iOiAicGhhcm1hY3lvbmxpbmUiLAoJCQkJCSIoPzpcXC58Xilib2R5Z3VhcmRhcG90aGVrZS5jb20iOiAiYm9keWd1YXJkYXBvdGhla2UiLAoJCQkJCSIoPzpcXC58XilwdXJjb3R0b24uY29tIjogInB1cmNvdHRvbiIsCgkJCQkJIig/OlxcLnxeKXdzdHguY29tIjogIndzdHgiLAoJCQkJCSJ3d3dcXC5taWRlYVxcLmNvbSI6ICJtaWRlYSIsCgkJCQkJIm1hbGxcXC5taWRlYVxcLmNvbSI6ICJtaWRlYSIsCgkJCQkJIlxcLmthbHVsaS5jb20iOiAia2FsdWxpIiwKCQkJCQkiKD86XFwufF4peXVuaG91XFwuY29tIjogInl1bmhvdSIsCgkJCQkJIig/OlxcLnxeKWhhaXR1bmN1blxcLmNvbSI6ICJoYWl0dW5jdW4iLAoJCQkJCSIoPzpcXC58Xil2bWVpXFwuY29tIjogInZtZWkiLAoJCQkJCSIoPzpcXC58XilqZ2JcXC5jbiI6ICJqZ2IiLAoJCQkJCSIoPzpcXC58Xik1MWRpblxcLmNvbSI6ICI1MWRpbiIsCgkJCQkJIig/OlxcLnxeKWJvcWlpXFwuY29tIjogImJvcWlpIiwKCQkJCQkiY24udG91cnNmb3JmdW5cXC5jb20iOiAidG91cnNmb3JmdW4iLAoJCQkJCSIoPzpcXC58XilsdWx1dHJpcFxcLmNvbSI6ICJsdWx1dHJpcCIsCgkJCQkJIig/OlxcLnxeKXNwaWRlclxcLmNvbVxcLmNuIjogInNwaWRlciIsCgkJCQkJIig/OlxcLnxeKXdhbG1hcnRcXC5jb20iOiAid2FsbWFydCIsCgkJCQkJIm1hbGwudG84dG8uY29tIjogInRvOHRvIiwKCQkJCQkid3d3Lm9wcG9zaG9wLmNuIjogIm9wcG9zaG9wIiwKCQkJCQkiYmFvYmVpZ2V6aS5jb20iOiAiYmFvYmVpZ2V6aSIsCgkJCQkJInd3dy55YW8xMjMuY29tIjogInlhbzEyMyIsCgkJCQkJInd3dy5tZW5nbHUuY29tIjogIm1lbmdsdSIsCgkJCQkJInd3dy5ndW9waS5jb20iOiAiZ3VvcGkiLAoJCQkJCSJ3d3cubGlrZWZhY2UuY29tIjogImxpa2VmYWNlIiwKCQkJCQkid3d3Lm1hbGx2di5jb20iOiAiaG9tZXZ2IiwKCQkJCQkid3d3Lm1hcmttYWxsLmNvbSI6ICJtYXJrbWFsbCIsCgkJCQkJInd3d1xcLmJhaWNoZW5nXFwuY29tIjogImJhaWNoZW5nIiwKCQkJCQkid3d3XFwuc3Vhbmp1emlcXC5jb20iOiAic3Vhbmp1emkiLAoJCQkJCSJcXC5qaW54aWFuZ1xcLmNvbSI6ICJqaW54aWFuZyIsCgkJCQkJIlxcLmFvbXlnb2RcXC5jb20iOiAiYW9teWdvZCIsCgkJCQkJIig/OlxcLnxeKWx1b2xhaVxcLmNuIjogImx1b2xhaSIsCgkJCQkJIlxcLnZpdm9cXC5jb21cXC5jbiI6ICJ2aXZvIiwKCQkJCQkiXFwuZGl4aW50b25nXFwuY29tIjogImRpeGludG9uZyIsCgkJCQkJIlxcLmNvb2xwYWRcXC5jb20iOiAiY29vbHBhZCIsCgkJCQkJIlxcLnNrZ1xcLmNvbSI6ICJza2ciLAoJCQkJCSJ2aXBcXC5pcWl5aVxcLmNvbSI6ICJpcWl5aSIsCgkJCQkJIlxcYW9sYWlnb1xcLmNvbSI6ICJhb2xhaWdvIiwKCQkJCQkidmlwXFwubWlzc2ZyZXNoXFwuY24iOiAibWlzc2ZyZXNoIiwKCQkJCQkiXFwucHVzaGVua3VhamluZ1xcLmNvbSI6ICJwdXNoZW5rdWFqaW5nIiwKCQkJCQkiY25cXC5mZWVsdW5pcXVlXFwuY29tIjogImZlZWx1bmlxdWUiLAoJCQkJCSJcXC5jaGVtaXN0ZGlyZWN0XFwuY29tXFwuYXUiOiAiY2hlbWlzdGRpcmVjdCIsCgkJCQkJIlxcLm5ldHBoYXJtYWN5XFwuY29cXC5ueiI6ICJuZXRwaGFybWFjeSIsCgkJCQkJIlxcLnBoYXJtYWN5NGxlc3NcXC5jb21cXC5hdSI6ICJwaGFybWFjeTRsZXNzIiwKCQkJCQkiXFwucGhhcm1hY3lkaXJlY3RcXC5jb1xcLm56IjogInBoYXJtYWN5ZGlyZWN0IiwKCQkJCQkiXFwuYW1jYWxcXC5jb21cXC5hdSI6ICJhbWNhbCIsCgkJCQkJIlxcLmxhcmVkb3V0ZVxcLmNuIjogImxhcmVkb3V0ZSIsCgkJCQkJImNuXFwudW5zZXJla2xlaW5lYXBvdGhla2VcXC5kZSI6ICJ1bnNlcmVrbGVpbmVhcG90aGVrZSIsCgkJCQkJIlxcLmVyd2lubXVlbGxlclxcLmNvbVxcLmNuIjogImVyd2lubXVlbGxlciIsCgkJCQkJIlxcLmtpd2lkaXNjb3ZlcnlcXC5jb1xcLm56IjogImtpd2lkaXNjb3ZlcnkiLAoJCQkJCSJcXC5zcHJpbmdsYW5lXFwuZGUiOiAic3ByaW5nbGFuZSIsCgkJCQkJIlxcLmpha28tb1xcLmNvbSI6ICJqYWtvLW8iLAoJCQkJCSJcXC5lYXN5dG95c1xcLmNuIjogImVhc3l0b3lzIiwKCQkJCQkiXFwudGxjcGhhcm1hY3lcXC5jblxcLmNvbSI6ICJ0bGNwaGFybWFjeSIsCgkJCQkJIlxcLmJpZW5tYW5nZXJcXC5jbiI6ICJiaWVubWFuZ2VyIiwKCQkJCQkiXFwuZGV3YXJlblxcLmNvbSI6ICJkZXdhcmVuIiwKCQkJCQkiXFwuZGlzY291bnQtYXBvdGhla2VcXC5kZSI6ICJkaXNjb3VudC1hcG90aGVrZSIsCgkJCQkJIlxcLmhvbGxhbmQtYXQtaG9tZVxcLmNvbSI6ICJob2xsYW5kLWF0LWhvbWUiLAoJCQkJCSJcXC55b3V5dVxcLmNvbSI6ICJ5b3V5dSIsCgkJCQkJIlxcLmtpd2lzdGFyY2FyZVxcLmNvbSI6ICJraXdpc3RhcmNhcmUiLAoJCQkJCSJcXC5sZW5vdm9tb2JpbGVcXC5jb20iOiAibGVub3ZvbW9iaWxlIiwKCQkJCQkiXFwuNTF0YW91a1xcLmNvbSI6ICI1MXRhb3VrIiwKCQkJCQkiXFwua2llaGxzXFwuY29tIjogImtpZWhscyIsCgkJCQkJIlxcLnphcHBvc1xcLmNvbSI6ICJ6YXBwb3MiLAoJCQkJCSJcXC5jb2FjaFxcLmNvbSI6ICJjb2FjaCIsCgkJCQkJIlxcLnlvb3hcXC5jbiI6ICJ5b294IiwKCQkJCQkiXFwuMTFzdHJlZXRcXC5jb21cXC5jbiI6ICIxMXN0cmVldCIsCgkJCQkJIlxcLmJhXFwuZGUiOiAiYmEiLAoJCQkJCSJ3d3dcXC5ocWhhaXJcXC5jb20iOiAiaHFoYWlyIiwKCQkJCQkid3d3XFwua2F0ZXNwYWRlXFwuY29cXC51ayI6ICJrYXRlc3BhZGUiLAoJCQkJCSJjblxcLnZpdGFmeVxcLmRlIjogInZpdGFmeSIsCgkJCQkJInd3d1xcLnlvb3hcXC5jbiI6ICJ5b294IiwKCQkJCQkiXFwubTE4XFwuY29tIjogIm0xOCIsCgkJCQkJImNvbWZvcnRmaXJzdFxcLmNvbSI6ICJjb21mb3J0Zmlyc3QiLAoJCQkJCSJjaGluYVxcLmxvdHRlXFwuY29tIjogImxvdHRlIiwKCQkJCQkiXFwuY2FycmVmb3VyXFwuY24iOiAiY2FycmVmb3VyIiwKCQkJCQkid3d3XFwudGVhN1xcLmNvbSI6ICJ0ZWE3IiwKCQkJCQkiXFwuemhvbmdqaXUuY24iOiAiemhvbmdqaXUiLAoJCQkJCSJcXC5wdXpleWZcXC5jb20iOiAicHV6ZXlmIiwKCQkJCQkid3d3XFwua29obHNcXC5jb20iOiAia29obHMiLAoJCQkJCSJ3d3dcXC5ib2R5YnVpbGRpbmdcXC5jb20iOiAiYm9keWJ1aWxkaW5nIiwKCQkJCQkiXFwubm9yZHN0cm9tXFwuY29tIjogIm5vcmRzdHJvbSIsCgkJCQkJInd3d1xcLmNvc3Rjb1xcLmNvbSI6ICJjb3N0Y28iLAoJCQkJCSJ3d3dcXC50YXJnZXRcXC5jb20iOiAidGFyZ2V0IiwKCQkJCQkid3d3XFwua21hcnRcXC5jb20iOiAia21hcnQiLAoJCQkJCSJ3d3dcXC5vdmVyc3RvY2tcXC5jb20iOiAib3ZlcnN0b2NrIiwKCQkJCQkid3d3XFwuc2VhcnNcXC5jb20iOiAic2VhcnMiLAoJCQkJCSJ3d3dcXC5zaG9wcm9iYW1cXC5jb20iOiAic2hvcHJvYmFtIiwKCQkJCQkibWFsbFxcLmdvdW1pblxcLmNvbSI6ICJnb3VtaW4iLAoJCQkJCSJ3d3dcXC5mbHljb1xcLmNvbSI6ICJmbHljbyIsCgkJCQkJInd3d1xcLm9wcGxlc3RvcmVcXC5jb20iOiAib3BwbGVzdG9yZSIsCgkJCQkJInd3d1xcLnN5c2hvcFxcLmNvbSI6ICJzeXNob3AiLAoJCQkJCSJ3d3dcXC55ZmR5ZlxcLmNvbSI6ICJ5ZmR5ZiIsCgkJCQkJInNzbFxcLmhvdGVsc1xcLmNuIjogImhvdGVscyIsCgkJCQkJImFpaHVpc2hvdVxcLmNvbSI6ICJhaWh1aXNob3UiLAoJCQkJCSJ3d3dcXC50aGViZWFzdHNob3BcXC5jb20iOiAidGhlYmVhc3RzaG9wIiwKCQkJCQkid3d3XFwuam9tb29zaG9wXFwuY29tIjogImpvbW9vc2hvcCIsCgkJCQkJInd3d1xcLnNlcHR3b2x2ZXNcXC5jbiI6ICJzZXB0d29sdmVzIiwKCQkJCQkiXFwubGlhbmppYVxcLmNvbSI6IHsKCQkJCQkJbmFtZTogImxpYW5qaWEiLAoJCQkJCQloaWRlYmFyOiAhMAoJCQkJCX0sCgkJCQkJIlxcLjVpNWpcXC5jb20iOiB7CgkJCQkJCW5hbWU6ICI1aTVqIiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJcXC42XFwuY24iOiAiaG9tZTYiLAoJCQkJCSJ3d3dcXC44MDBwaGFybVxcLmNvbSI6ICI4MDBwaGFybSIsCgkJCQkJInd3d1xcLnVqaXBpblxcLmNvbSI6ICJ1amlwaW4iLAoJCQkJCSJwY1xcLm1tYlxcLmNuIjogIm1tYiIsCgkJCQkJInd3d1xcLmloYXZldVxcLmNvbSI6ICJpaGF2ZXUiLAoJCQkJCSJtYWxsXFwuaWthbmdcXC5jb20iOiAiaWthbmciLAoJCQkJCSJ3d3dcXC53eW44OFxcLmNvbSI6ICJ3eW44OCIsCgkJCQkJInd3d1xcLm1jYWtlXFwuY29tIjogIm1jYWtlIiwKCQkJCQkid3d3XFwueG1laXNlXFwuY29tIjogInhtZWlzZSIsCgkJCQkJInd3d1xcLmxlY2FrZVxcLmNvbSI6ICJsZWNha2UiLAoJCQkJCSJ3d3dcXC5qZDEwMFxcLmNvbSI6ICJqZDEwMCIsCgkJCQkJInd3d1xcLmppbmdodWFcXC5jb20iOiAiamluZ2h1YSIsCgkJCQkJInd3d1xcLnRhb2h3dVxcLmNvbSI6ICJ0YW9od3UiLAoJCQkJCSJ3d3dcXC56YmlyZFxcLmNvbSI6ICJ6YmlyZCIsCgkJCQkJInd3d1xcLmttMTgxOFxcLmNvbSI6ICJrbTE4MTgiLAoJCQkJCSJ3d3dcXC56b2NhaVxcLmNvbSI6ICJ6b2NhaSIsCgkJCQkJInd3d1xcLnRhb3NodVxcLmNvbSI6ICJ0YW9zaHUiLAoJCQkJCSJ3d3dcXC5haXpoaWd1XFwuY29tXFwuY24iOiAiYWl6aGlndSIsCgkJCQkJInd3d1xcLnRpZXlvdVxcLmNvbSI6ICJ0aWV5b3UiLAoJCQkJCSJ3d3dcXC5maWVsZHNjaGluYVxcLmNvbSI6ICJmaWVsZHNjaGluYSIsCgkJCQkJInd3d1xcLndkbWNha2VcXC5jbiI6ICJ3ZG1jYWtlIiwKCQkJCQkibWFsbFxcLmxxeHNob3BcXC5jb20iOiAibHF4c2hvcCIsCgkJCQkJInd3d1xcLnVzYXNob3BjblxcLmNvbSI6ICJ1c2FzaG9wY24iLAoJCQkJCSJ3d3dcXC53aW5lOVxcLmNvbSI6ICJ3aW5lOSIsCgkJCQkJInd3d1xcLnFpcGFpbWFsbFxcLmNvbSI6ICJxaXBhaW1hbGwiLAoJCQkJCSJ3d3dcXC55b2RvZG9cXC5jbiI6ICJ5b2RvZG8iLAoJCQkJCSJ3d3dcXC55b2dlclxcLmNvbVxcLmNuIjogInlvZ2VyIiwKCQkJCQkid3d3XFwuZGFwdVxcLmRhcHUiOiAiZGFwdSIsCgkJCQkJInd3d1xcLndpbm9uYVxcLmNuIjogIndpbm9uYSIsCgkJCQkJInd3d1xcLndsXFwuY24iOiAid2wiLAoJCQkJCSJ3d3dcXC5zaGFubWFpXFwuY24iOiAic2hhbm1haSIsCgkJCQkJInd3d1xcLnpnc2hvZXNcXC5jb20iOiAiemdzaG9lcyIsCgkJCQkJInd3d1xcLm1haWNoYXdhbmdcXC5jb20iOiAibWFpY2hhd2FuZyIsCgkJCQkJInd3d1xcLnVlbWFsbFxcLmNvbSI6ICJ1ZW1hbGwiLAoJCQkJCSJcXC41MXlvdVxcLmNvbSI6ICI1MXlvdSIsCgkJCQkJIlxcLmJlaWZhYm9va1xcLmNvbSI6ICJiZWlmYWJvb2siLAoJCQkJCSJ3d3dcXC5qcGVlblxcLmNvbSI6ICJqcGVlbiIsCgkJCQkJInd3d1xcLmh1YXR1b3lmXFwuY29tIjogImh1YXR1b3lmIiwKCQkJCQkid3d3XFwuZmVuZ2J1eVxcLmNvbSI6ICJmZW5nYnV5IiwKCQkJCQkiXFwudWl5aVxcLmNvbSI6ICJ1aXlpIiwKCQkJCQkid3d3XFwuaGVjaGFcXC5jbiI6ICJoZWNoYSIsCgkJCQkJInd3d1xcLnQxMFxcLmNvbSI6ICJ0MTAiLAoJCQkJCSJ3d3dcXC5xd1xcLmNjIjogInF3IiwKCQkJCQkiXFwubWl1dG91clxcLmNvbSI6ICJtaXV0b3VyIiwKCQkJCQkid3d3XFwuZWhhb3lhb1xcLmNvbSI6ICJlaGFveWFvIiwKCQkJCQkid3d3XFwuaWR4XFwuY29tXFwuY24iOiAiaWR4IiwKCQkJCQkid3d3XFwudXlhMTAwXFwuY29tIjogInV5YTEwMCIsCgkJCQkJInd3d1xcLnNzbmV3eW9ya1xcLmNvbSI6ICJzc25ld3lvcmsiLAoJCQkJCSJ3d3dcXC5jbGluaXF1ZVxcLmNvbSI6ICJjbGluaXF1ZSIsCgkJCQkJInd3d1xcLmh4ZXBhd25cXC5jb20iOiAiaHhlcGF3biIsCgkJCQkJInd3d1xcLmJyb29rc2Jyb3RoZXJzXFwuY29tIjogImJyb29rc2Jyb3RoZXJzIiwKCQkJCQkid3d3XFwub210YW9cXC5jb20iOiAib210YW8iLAoJCQkJCSJ3d3dcXC5lcDM2NVxcLmNvbSI6ICJlcDM2NSIsCgkJCQkJInd3d1xcLmNvbHVtYmlhc3BvcnRzXFwuY24iOiAiY29sdW1iaWFzcG9ydHMiLAoJCQkJCSJcXC5ic3RhcHBcXC5jbiI6ICJic3RhcHAiLAoJCQkJCSJ3d3dcXC5uZXdiYWxhbmNlXFwuY29tIjogIm5ld2JhbGFuY2UiLAoJCQkJCSJcXC53amlrZVxcLmNvbSI6ICJ3amlrZSIsCgkJCQkJInd3d1xcLmJhbGx5XFwuY29cXC51ayI6ICJiYWxseSIsCgkJCQkJIlxcLjFoYWlcXC5jbiI6ICIxaGFpIiwKCQkJCQkid3d3XFwuamlhbGljaFxcLmNuIjogImppYWxpY2giLAoJCQkJCSJcXC50YWtleWFcXC5jb1xcLmpwIjogInRha2V5YSIsCgkJCQkJInd3d1xcLmZvcmV2ZXIyMVxcLmNvbSI6ICJmb3JldmVyMjEiLAoJCQkJCSJ3d3dcXC5tb2Rlcm5hdmVudWVcXC5jb20iOiAibW9kZXJuYXZlbnVlIiwKCQkJCQkid3d3XFwubXVuaWFvXFwuY29tIjogIm11bmlhbyIsCgkJCQkJIlxcLmNlbnRhbmV0XFwuY29tIjogImNlbnRhbmV0IiwKCQkJCQkid3d3XFwuenVpaHVpeW91XFwuY29tIjogInp1aWh1aXlvdSIsCgkJCQkJInd3d1xcLmJvYmJpYnJvd25jb3NtZXRpY1xcLmNvbSI6ICJib2JiaWJyb3duY29zbWV0aWNzIiwKCQkJCQkid3d3XFwuc3VwZXItaW5cXC5jb20iOiAic3VwZXItaW4iLAoJCQkJCSJ3d3dcXC5oYW5nb3dhXFwuY29tIjogImhhbmdvd2EiLAoJCQkJCSJ3d3dcXC5sZXZpXFwuY29tIjogImxldmkiLAoJCQkJCSJ3d3dcXC5maWxhXFwuY24iOiAiZmlsYSIsCgkJCQkJInd3d1xcLmNvbnZlcnNlXFwuY29tXFwuY24iOiAiY29udmVyc2UiLAoJCQkJCSJ1c1xcLm5leHRkaXJlY3RcXC5jb20iOiAibmV4dGRpcmVjdCIsCgkJCQkJInd3d1xcLml0cmlwXFwuY29tIjogIml0cmlwIiwKCQkJCQkid3d3XFwubGFzaG91XFwuY29tIjogImxhc2hvdSIsCgkJCQkJInd3d1xcLmxpdWZlbmdcXC5jb20iOiAibGl1ZmVuZyIsCgkJCQkJInd3d1xcLnRydFxcLmhrIjogInRydCIsCgkJCQkJInd3dzFcXC53b2RpbmdodWFcXC5jb20iOiAid29kaW5naHVhIiwKCQkJCQkiXFwud3VsaXd1bGlcXC5jbiI6ICJ3dWxpd3VsaSIsCgkJCQkJInd3d1xcLmZvcmVzdGZvb2RcXC5jb20iOiAiZm9yZXN0Zm9vZCIsCgkJCQkJIlxcLmJvbmpvdXJoa1xcLmNvbSI6ICJib25qb3VyaGsiLAoJCQkJCSJ3d3dcXC52aXRhZ291XFwuaGsiOiAidml0YWdvdSIsCgkJCQkJIlxcLmtpbmhvbVxcLmNvbSI6ICJraW5ob20iLAoJCQkJCSJ3d3dcXC4zNjBsalxcLmNvbSI6ICIzNjBsaiIsCgkJCQkJInZcXC5jaGFuZ2JhXFwuY29tIjogImNoYW5nYmEiLAoJCQkJCSJ3d3dcXC5vYWtsZXlcXC5jb20iOiAib2FrbGV5IiwKCQkJCQkid3d3XFwuanB5b29cXC5jb20iOiAianB5b28iLAoJCQkJCSJ3d3dcXC5jbGFya3N1c2FcXC5jb20iOiAiY2xhcmtzdXNhIiwKCQkJCQkid3d3XFwuc3Rhcndvb2Rob3RlbHNcXC5jb20iOiAic3Rhcndvb2Rob3RlbHMiLAoJCQkJCSJ3d3dcXC5tYXJyaW90dFxcLmNvbSI6ICJtYXJyaW90dCIsCgkJCQkJInd3d1xcLnllc3N0eWxlXFwuY29tIjogInllc3N0eWxlIiwKCQkJCQkiXmV2aXN1XFwuY29tIjogImV2aXN1IiwKCQkJCQkiXmxpZmVzZWFzeVxcLmNvbVxcLmNuIjogImxpZmVzZWFzeSIsCgkJCQkJInd3d1xcLmNjeHBldFxcLmNvbSI6ICJjY3hwZXQiLAoJCQkJCSJ3d3dcXC4wMDYxXFwuY29tXFwuYXUiOiAieDAwNjEiLAoJCQkJCSJ3d3dcXC5ra2d1YW5cXC5jb20iOiAia2tndWFuIiwKCQkJCQkid3d3XFwuc3R5bGUtb2Nsb2NrXFwuY29tIjogInN0eWxlLW9jbG9jayIsCgkJCQkJInd3d1xcLnBlaWt1YVxcLmNvbSI6ICJwZWlrdWEiLAoJCQkJCSJ3d3dcXC5haXJmcmFuY2VcXC4oPzp1c3xjb20pIjogImFpcmZyYW5jZSIsCgkJCQkJInd3d1xcLmFjY29yaG90ZWxzXFwuY29tIjogImFjY29yaG90ZWxzIiwKCQkJCQkid3d3XFwuc3BhY2Vua1xcLmNvbSI6ICJzcGFjZW5rIiwKCQkJCQkid3d3XFwuaGFpY2h1ZmFuZ1xcLmNvbSI6ICJoYWljaHVmYW5nIiwKCQkJCQkidXNcXC53Y29uY2VwdFxcLmNvbSI6ICJ3Y29uY2VwdCIsCgkJCQkJInd3d1xcLmdhbnRcXC5jb1xcLnVrIjogImdhbnQiLAoJCQkJCSJ3d3dcXC5jYXRmb290d2VhclxcLmNvbSI6ICJjYXRmb290d2VhciIsCgkJCQkJInd3d1xcLnNhdWNvbnlcXC5jb20iOiAic2F1Y29ueSIsCgkJCQkJInd3d1xcLnphb3p1b1xcLmNvbSI6ICJ6YW96dW8iLAoJCQkJCSJlXFwubGl0dGxlc3dhblxcLmNvbSI6ICJsaXR0bGVzd2FuIiwKCQkJCQkid3d3XFwuY2FuXFwudHYiOiAiY2FuIiwKCQkJCQkid3d3XFwuc3NyalxcLmNvbSI6ICJzc3JqIiwKCQkJCQkic2hvcFxcLmd1ZXNzXFwubmV0XFwuYXUiOiAiZ3Vlc3MiLAoJCQkJCSJ3d3dcXC5ldGloYWRcXC5jb20iOiAiZXRpaGFkIiwKCQkJCQkic3RvcmVcXC5maWlsXFwuY29tIjogImZpaWwiLAoJCQkJCSJ3d3dcXC5taWFuc2h1aTM2NVxcLmNvbSI6ICJtaWFuc2h1aTM2NSIsCgkJCQkJInd3d1xcLnRlZ291c2hlXFwuY29tIjogInRlZ291c2hlIiwKCQkJCQkid3d3XFwud2lnZ2xlXFwuY24iOiAid2lnZ2xlIiwKCQkJCQkid3d3XFwubWRyZWFtc1xcLmNvbSI6ICJtZHJlYW1zIiwKCQkJCQkid3d3XFwuZWNvdmFjc1xcLmNuIjogImVjb3ZhY3MiLAoJCQkJCSJ3d3dcXC5jYWx2aW5rbGVpblxcLmNuIjogImNhbHZpbmtsZWluIiwKCQkJCQkiY25cXC5tZW1lYm94XFwuY29tIjogIm1lbWVib3giLAoJCQkJCSJ3d3czXFwuaGlsdG9uXFwuY29tIjogImhpbHRvbiIsCgkJCQkJInd3d1xcLnJldm9sdmVcXC5jb20iOiAicmV2b2x2ZSIsCgkJCQkJInd3d1xcLnNoaXNlaWRvXFwuY29tIjogInNoaXNlaWRvIiwKCQkJCQkid3d3XFwuY2xhcmluc3VzYVxcLmNvbSI6ICJjbGFyaW5zdXNhIiwKCQkJCQkic3RvcmVcXC5zdGFyYnVja3NcXC5jb20iOiAic3RhcmJ1Y2tzIiwKCQkJCQkid3d3XFwucmF5LWJhblxcLmNvbSI6ICJyYXktYmFuIiwKCQkJCQkidXNcXC5wdW1hXFwuY29tIjogInB1bWEiLAoJCQkJCSJ3d3dcXC5uYXV0aWNhXFwuY29tIjogIm5hdXRpY2EiLAoJCQkJCSJ3d3dcXC5jcmVtZWRlbGFtZXJcXC5jb20iOiAiY3JlbWVkZWxhbWVyIiwKCQkJCQkid3d3XFwua2lwbGluZy11c2FcXC5jb20iOiAia2lwbGluZy11c2EiLAoJCQkJCSJ3d3dcXC5qdXJsaXF1ZVxcLmNvbSI6ICJqdXJsaXF1ZSIsCgkJCQkJInd3d1xcLmh1c2hwdXBwaWVzXFwuY29tIjogImh1c2hwdXBwaWVzIiwKCQkJCQkid3d3XFwub3JpZ2luc1xcLmNvbSI6ICJvcmlnaW5zIiwKCQkJCQkid3d3XFwuZm9sbGlmb2xsaWVcXC51c1xcLmNvbSI6ICJmb2xsaWZvbGxpZSIsCgkJCQkJInVzYVxcLmxvY2NpdGFuZVxcLmNvbSI6ICJsb2NjaXRhbmUiLAoJCQkJCSJcXC5ocHN0b3JlXFwuY24iOiAiaHBzdG9yZSIsCgkJCQkJIlxcLjAxaG9tZVxcLmNvbSI6ICIwMWhvbWUiLAoJCQkJCSJ3d3dcXC5oZWFsdGhwb3N0XFwuY29cXC5ueiI6ICJoZWFsdGhwb3N0IiwKCQkJCQkiXFwuaW1lbmd4aWFuZ1xcLmNuIjogImltZW5neGlhbmciLAoJCQkJCSJ3d3dcXC5oeXNqXFwuY29tIjogImh5c2oiLAoJCQkJCSJcXC5zYW9odW83XFwuY29tIjogInNhb2h1bzciLAoJCQkJCSJcXC5yZXBhaVxcLmNvbSI6ICJyZXBhaSIsCgkJCQkJInd3d1xcLm1heWlcXC5jb20iOiAibWF5aSIsCgkJCQkJIlxcLnlpbnBpYW9cXC5jb20iOiAieWlucGlhbyIsCgkJCQkJIlxcLmlob21lLWlucy5jb20iOiAiaWhvbWUtaW5zIiwKCQkJCQkiXFwuaW5jYWtlXFwubmV0IjogImluY2FrZSIsCgkJCQkJIlxcLmt1d29cXC5jbiI6ICJrdXdvIiwKCQkJCQkid3d3XFwueXdhcnRcXC5jb20iOiAieXdhcnQiLAoJCQkJCSJ3d3dcXC5jY3RcXC5jbiI6ICJjY3QiLAoJCQkJCSJ3d3dcXC5hbnNnb1xcLmNvbSI6ICJhbnNnbyIsCgkJCQkJInd3d1xcLnBpbGliYWJhXFwuY29tIjogInBpbGliYWJhIiwKCQkJCQkid3d3XFwueGlhb25pdTg4XFwuY29tIjogInhpYW9uaXU4OCIsCgkJCQkJInd3d1xcLmFoYXZhXFwuY29tIjogImFoYXZhIiwKCQkJCQkiXFwuNS1maWZ0aFxcLmNvbSI6ICI1LWZpZnRoIiwKCQkJCQkiXFwudGhld2F0Y2hodXRcXC5jb1xcLnVrIjogInRoZXdhdGNoaHV0IiwKCQkJCQkiXFwuYmFieWhhdmVuXFwuY29tIjogImJhYnloYXZlbiIsCgkJCQkJImNuXFwuY29zbWUtZGVcXC5jb20iOiAiY29zbWUtZGUiLAoJCQkJCSJjblxcLmdldHRoZWxhYmVsXFwuY29tIjogImdldHRoZWxhYmVsIiwKCQkJCQkiY25cXC5tYXRzdXlhXFwuY29tIjogIm1hdHN1eWEiLAoJCQkJCSJ3d3dcXC50aW1iZXJsYW5kXFwuY29tIjogInRpbWJlcmxhbmQiLAoJCQkJCSJcXC50b3BtYW5cXC5jb20iOiAidG9wbWFuIiwKCQkJCQkid3d3XFwuaG9tZWF3YXlcXC5jb20iOiAiaG9tZWF3YXkiLAoJCQkJCSJ3d3dcXC5iZWF1dHlleHBlcnRcXC5jb20iOiAiYmVhdXR5ZXhwZXJ0IiwKCQkJCQkiXFwuaGFpbWlcXC5jb20iOiAiaGFpbWkiLAoJCQkJCSJ3d3dcXC5tYW5raW5kXFwuY29cXC51ayI6ICJtYW5raW5kIiwKCQkJCQkid3d3XFwudGhlaHV0XFwuY29tIjogInRoZWh1dCIsCgkJCQkJInd3d1xcLnRvcHNob3BcXC5jb20iOiAidG9wc2hvcCIsCgkJCQkJIm1hbWFsYWRlblxcLmNvbSI6ICJtYW1hbGFkZW4iLAoJCQkJCSJ3d3dcXC50cmF2ZWxlci1zdG9yZVxcLmNvbSI6ICJ0cmF2ZWxlci1zdG9yZSIsCgkJCQkJInd3d1xcLnRyYXZlbHpvb1xcLmNvbSI6ICJ0cmF2ZWx6b28iLAoJCQkJCSJ3d3dcXC51bWlzaG9lc1xcLmNvbSI6ICJ1bWlzaG9lcyIsCgkJCQkJInd3d1xcLnBlcnJpY29uZW1kXFwuY29tIjogInBlcnJpY29uZW1kIiwKCQkJCQkic3RvcmVcXC5mZXJyYXJpXFwuY29tIjogImZlcnJhcmkiLAoJCQkJCSJ3aWxsZXJleHByZXNzXFwuY29tIjogIndpbGxlcmV4cHJlc3MiLAoJCQkJCSJ3d3dcXC51bmluZWVkXFwuY29tIjogInVuaW5lZWQiLAoJCQkJCSJ3d3dcXC5hY25lc3R1ZGlvc1xcLmNvbSI6ICJhY25lc3R1ZGlvcyIsCgkJCQkJInd3d1xcLmFlcm9wb3N0YWxlXFwuY29tIjogImFlcm9wb3N0YWxlIiwKCQkJCQkid3d3XFwuYWdvZGFcXC5jb20iOiAiYWdvZGEiLAoJCQkJCSJ3d3dcXC5hbGJhbW9kYVxcLmRlIjogImFsYmFtb2RhIiwKCQkJCQkid3d3XFwuYWxsYmVhdXR5XFwuY29tIjogImFsbGJlYXV0eSIsCgkJCQkJInd3d1xcLmFsbHNhaW50c1xcLmNvbSI6ICJhbGxzYWludHMiLAoJCQkJCSJ3d3dcXC5hbGxzb2xlXFwuY29tIjogImFsbHNvbGUiLAoJCQkJCSJ3d3dcXC51cmJhbm91dGZpdHRlcnNcXC5jb20iOiAidXJiYW5vdXRmaXR0ZXJzIiwKCQkJCQkid3d3XFwudml0YWJpb3RpY3NcXC5jb20iOiAidml0YWJpb3RpY3MiLAoJCQkJCSJ3d3dcXC5iZWxsZW1haXNvblxcLmpwIjogImJlbGxlbWFpc29uIiwKCQkJCQkid3d3XFwuYmVuZWZpdGNvc21ldGljc1xcLmNvbSI6ICJiZW5lZml0Y29zbWV0aWNzIiwKCQkJCQkid3d3XFwuYmhjb3NtZXRpY3NcXC5jb20iOiAiYmhjb3NtZXRpY3MiLAoJCQkJCSJ3d3dcXC5iam15bGlrZXNcXC5jb20iOiAiYmpteWxpa2VzIiwKCQkJCQkid3d3XFwudml0YW1pbmJheVxcLmNvbSI6ICJ2aXRhbWluYmF5IiwKCQkJCQkid3d3XFwud2FpdHJvc2VcXC5jb20iOiAid2FpdHJvc2UiLAoJCQkJCSJ3d3dcXC53b2xmb3Jkc2hvcFxcLmNvXFwudWsiOiAid29sZm9yZHNob3AiLAoJCQkJCSJ3d3dcXC5ib29ob29cXC5jb20iOiAiYm9vaG9vIiwKCQkJCQkid3d3XFwuYm9vdHNcXC5jb20iOiAiYm9vdHMiLAoJCQkJCSJ3d3dcXC5icml0aXNoY29ybmVyc2hvcFxcLmNvXFwudWsiOiAiYnJpdGlzaGNvcm5lcnNob3AiLAoJCQkJCSJ3d3dcXC55aXJlbmRhaVxcLmNvbSI6ICJ5aXJlbmRhaSIsCgkJCQkJInd3d1xcLnlzN1xcLmNvbSI6ICJ5czciLAoJCQkJCSJ3d3dcXC5jb2dnbGVzXFwuY29tIjogImNvZ2dsZXMiLAoJCQkJCSJ3d3dcXC5jb3JzZXRkZWFsXFwuY29tIjogImNvcnNldGRlYWwiLAoJCQkJCSJeY290dG9ub25cXC5jb20iOiAiY290dG9ub24iLAoJCQkJCSJ3d3dcXC5jcm9jc1xcLmNvXFwudWsiOiAiY3JvY3MiLAoJCQkJCSJ3d3dcXC5jcnVpc2VmYXNoaW9uXFwuY29tIjogImNydWlzZWZhc2hpb24iLAoJCQkJCSJ3d3dcXC5kZWxsXFwuY29tIjogImRlbGwiLAoJCQkJCSJ3d3dcXC5kZXJtc3RvcmVcXC5jb20iOiAiZGVybXN0b3JlIiwKCQkJCQkid3d3XFwuZGlzbmV5c3RvcmVcXC5jb20iOiAiZGlzbmV5c3RvcmUiLAoJCQkJCSJ3d3dcXC5kb3JvdGh5cGVya2luc1xcLmNvbSI6ICJkb3JvdGh5cGVya2lucyIsCgkJCQkJInd3d1xcLmRvdWRvdWthbmdcXC5jb20iOiAiZG91ZG91a2FuZyIsCgkJCQkJInd3d1xcLmR1amlha2VcXC5jb20iOiAiZHVqaWFrZSIsCgkJCQkJInd3d1xcLmR1bmVsb25kb25cXC5jb20iOiAiZHVuZWxvbmRvbiIsCgkJCQkJInd3d1xcLmVhc3RiYXlcXC5jb20iOiAiZWFzdGJheSIsCgkJCQkJInd3d1xcLmVhc3RkYW5lXFwuY29tIjogImVhc3RkYW5lIiwKCQkJCQkid3d3XFwuemFmdWxcXC5jb20iOiAiemFmdWwiLAoJCQkJCSJ3d3dcXC56YXZ2aVxcLmNvbSI6ICJ6YXZ2aSIsCgkJCQkJImNuXFwuZmVpbmtlaXRcXC5kZSI6ICJmZWlua2VpdCIsCgkJCQkJInd3d1xcLmVpYm1hcmt0XFwuY29tIjogImVpYm1hcmt0IiwKCQkJCQkid3d3XFwuYmVsbHVuYVxcLmNuIjogImJlbGx1bmEiLAoJCQkJCSJ3d3dcXC5lbWlyYXRlc1xcLmNvbSI6ICJlbWlyYXRlcyIsCgkJCQkJInd3d1xcLmVtc1xcLmNvbSI6ICJlbXMiLAoJCQkJCSJ3d3dcXC5ldGVybmFcXC5kZSI6ICJldGVybmEiLAoJCQkJCSJ3d3dcXC5ldXJhaWxcXC5jb20iOiAiZXVyYWlsIiwKCQkJCQkid3d3XFwuZXhhbnRlZGlldFxcLmNvbSI6ICJleGFudGVkaWV0IiwKCQkJCQkid3d3XFwuZXhwZWRpYVxcLmNvXFwudWsiOiAiZXhwZWRpYSIsCgkJCQkJInd3d1xcLmZhbGtlXFwuY29tIjogImZhbGtlIiwKCQkJCQkid3d3XFwuZmFtb3VzZm9vdHdlYXJcXC5jb20iOiAiZmFtb3VzZm9vdHdlYXIiLAoJCQkJCSJ3d3dcXC5mb3Jlb1xcLmNvbSI6ICJmb3JlbyIsCgkJCQkJInd3d1xcLndhbmd4aW5saWNhaVxcLmNvbSI6ICJ3YW5neGlubGljYWkiLAoJCQkJCSJ3d3dcXC5mb3JldmVydW5pcXVlXFwuY29cXC51ayI6ICJmb3JldmVydW5pcXVlIiwKCQkJCQkid3d3XFwuYXVcXC5mb3J6aWVyaVxcLmNvbSI6ICJmb3J6aWVyaSIsCgkJCQkJInd3d1xcLmZyZWVjb3VudHJ5XFwuY29tIjogImZyZWVjb3VudHJ5IiwKCQkJCQkid3d3XFwuZnJlbmNoY29ubmVjdGlvblxcLmNvbSI6ICJmcmVuY2hjb25uZWN0aW9uIiwKCQkJCQkid3d3XFwuZ2lmdC1sYW5kXFwuY29tIjogImdpZnQtbGFuZCIsCgkJCQkJImNuXFwuZ3Jvd2dvcmdlb3VzXFwuY29tIjogImdyb3dnb3JnZW91cyIsCgkJCQkJInd3d1xcLmhvdGVsXFwuaW5mbyI6ICJob3RlbCIsCgkJCQkJInd3d1xcLmhvdXNlb2ZmcmFzZXJcXC5jb1xcLnVrIjogImhvdXNlb2ZmcmFzZXIiLAoJCQkJCSJ3d3dcXC5odWl6dWNoZVxcLmNvbSI6ICJodWl6dWNoZSIsCgkJCQkJInd3d1xcLml3YW50b25lb2Z0aG9zZVxcLmNvbSI6ICJpd2FudG9uZW9mdGhvc2UiLAoJCQkJCSJ3d3dcXC5qamdsb2JhbFxcLmNvbSI6ICJqamdsb2JhbCIsCgkJCQkJInd3d1xcLmp1aWN5Y291dHVyZVxcLmNvbSI6ICJqdWljeWNvdXR1cmUiLAoJCQkJCSJ3d3dcXC5rZW5rb1xcLmNvbSI6ICJrZW5rbyIsCgkJCQkJInd3d1xcLmtpa29jb3NtZXRpY3NcXC5jb20iOiAia2lrb2Nvc21ldGljcyIsCgkJCQkJInd3d1xcLmxhbmNlcnNraW5jYXJlXFwuY29cXC51ayI6ICJsYW5jZXJza2luY2FyZSIsCgkJCQkJInNob3BcXC5sZWdvXFwuY29tIjogImxlZ28iLAoJCQkJCSJ3d3dcXC5sb3JkYW5kdGF5bG9yXFwuY29tIjogImxvcmRhbmR0YXlsb3IiLAoJCQkJCSJ3d3dcXC5tYWl6aGlcXC5jb20iOiAibWFpemhpIiwKCQkJCQkid3d3XFwubWF0Y2hlc2Zhc2hpb25cXC5jb20iOiAibWF0Y2hlc2Zhc2hpb24iLAoJCQkJCSJ3d3dcXC5tYXRzdWtpeW9cXC5jb1xcLmpwIjogIm1hdHN1a2l5byIsCgkJCQkJInd3d1xcLm1pY3Jvc29mdFxcLmNvbSI6ICJtaWNyb3NvZnQiLAoJCQkJCSJjblxcLm1pb3NraW5jYXJlXFwuY29tIjogIm1pb3NraW5jYXJlIiwKCQkJCQkid3d3XFwubWlzc3NlbGZyaWRnZVxcLmNvbSI6ICJtaXNzc2VsZnJpZGdlIiwKCQkJCQkid3d3XFwubW91bnRhaW5nZWFyXFwuY29tIjogIm1vdW50YWluZ2VhciIsCgkJCQkJInd3d1xcLm15YmFnXFwuY29tIjogIm15YmFnIiwKCQkJCQkid3d3XFwubXlwcm90ZWluXFwuY29tIjogIm15cHJvdGVpbiIsCgkJCQkJInd3d1xcLm15dml0YW1pbnNcXC5jb20iOiAibXl2aXRhbWlucyIsCgkJCQkJInd3d1xcLm5ldC1hLXBvcnRlclxcLmNvbSI6ICJuZXQtYS1wb3J0ZXIiLAoJCQkJCSJ3d3dcXC5uZXdiYWxhbmNlXFwuY29cXC51ayI6ICJuZXdiYWxhbmNlLXVrIiwKCQkJCQkid3d3XFwubmV3bG9va1xcLmNvbSI6ICJuZXdsb29rIiwKCQkJCQkid3d3XFwubmlrZVxcLmNvbVxcLmJyIjogIm5pa2UtYnIiLAoJCQkJCSJ3d3dcXC5uaWtlXFwuY29tXFwuaGsiOiAibmlrZS1oayIsCgkJCQkJInd3d1xcLm55YW5kY29tcGFueVxcLmNvbSI6ICJueWFuZGNvbXBhbnkiLAoJCQkJCSJ3d3dcXC5vYXNpcy1zdG9yZXNcXC5jb20iOiAib2FzaXMtc3RvcmVzIiwKCQkJCQkid3d3XFwub3JiaXR6XFwuY29tIjogIm9yYml0eiIsCgkJCQkJInd3d1xcLm9yY2hpcmFcXC5jb1xcLnVrIjogIm9yY2hpcmEiLAoJCQkJCSJ3d3dcXC5vcmlnaW5zXFwuY29cXC51ayI6ICJvcmlnaW5zLXVrIiwKCQkJCQkid3d3XFwucGV0c21hcnRcXC5jb20iOiAicGV0c21hcnQiLAoJCQkJCSJ3d3dcXC5wcm9iaWtla2l0XFwuY29cXC51ayI6ICJwcm9iaWtla2l0IiwKCQkJCQkid3d3XFwucWF0YXJhaXJ3YXlzXFwuY29tIjogInFhdGFyYWlyd2F5cyIsCgkJCQkJInd3d1xcLnJhZGxleVxcLmNvXFwudWsiOiAicmFkbGV5IiwKCQkJCQkid3d3XFwucmFscGhsYXVyZW5cXC5jbiI6ICJyYWxwaGxhdXJlbiIsCgkJCQkJInd3d1xcLnJlYmVjY2FtaW5rb2ZmXFwuY29tIjogInJlYmVjY2FtaW5rb2ZmIiwKCQkJCQkid3d3XFwucmVudGFsY2Fyc1xcLmNvbSI6ICJyZW50YWxjYXJzIiwKCQkJCQkid3d3XFwucmljYXVkXFwuY29tIjogInJpY2F1ZCIsCgkJCQkJInd3d1xcLnJvY2twb3J0XFwuY29tIjogInJvY2twb3J0IiwKCQkJCQkid3d3XFwucnVlbGFsYVxcLmNvbSI6ICJydWVsYWxhIiwKCQkJCQkid3d3XFwuc2Frc29mZjV0aFxcLmNvbSI6ICJzYWtzb2ZmNXRoIiwKCQkJCQkid3d3XFwuc2MyNFxcLmNvbSI6ICJzYzI0IiwKCQkJCQkid3d3XFwuc2hvZXNcXC5jb20iOiAic2hvZXMiLAoJCQkJCSJ3d3dcXC5zaG9wc3ByaW5nXFwuY29tIjogInNob3BzcHJpbmciLAoJCQkJCSJ3d3dcXC5zaW1wbHlzdXBwbGVtZW50c1xcLmNvXFwudWsiOiAic2ltcGx5c3VwcGxlbWVudHMiLAoJCQkJCSJ3d3dcXC5zc2Vuc2VcXC5jb20iOiAic3NlbnNlIiwKCQkJCQkid3d3XFwuc3RldmVtYWRkZW5cXC5jb20iOiAic3RldmVtYWRkZW4iLAoJCQkJCSJ3d3dcXC50YW9kb1xcLmNvbSI6ICJ0YW9kbyIsCgkJCQkJInd3d1xcLm1pY2hhZWxrb3JzXFwuY24iOiAibWljaGFlbGtvcnMiLAoJCQkJCSJ3d3dcXC50dGNqXFwudHYiOiAidHRjaiIsCgkJCQkJInd3d1xcLnVmLWNsdWJcXC5jb20iOiAidWYtY2x1YiIsCgkJCQkJInd3d1xcLnpoYWlkb3VcXC5jb20iOiAiemhhaWRvdSIsCgkJCQkJInd3d1xcLjE2M3l1blxcLmNvbSI6ICIxNjN5dW4iLAoJCQkJCSJjblxcLmFwb1xcLmNvbSI6ICJhcG8iLAoJCQkJCSJsb2FuLW1cXC5qaW11XFwuY29tIjogImppbXUiLAoJCQkJCSJ3d3dcXC5oYW8yNFxcLmNvbSI6ICJoYW8yNCIsCgkJCQkJIm1cXC5zZWFnb29yXFwuY29tIjogInNlYWdvb3IiLAoJCQkJCSJ3d3dcXC53YW5uYXJcXC5jb20iOiAid2FubmFyIiwKCQkJCQkid3d3XFwuY2FpaGFuZ1xcLmNvbSI6ICJjYWloYW5nIiwKCQkJCQkid3d3XFwuY3NtYWxsXFwuY29tIjogImNzbWFsbCIsCgkJCQkJInd3d1xcLmt1YWppbmdcXC5jb20iOiAia3VhamluZyIsCgkJCQkJInd3d1xcLm1pbGxlbm5pdW1ob3RlbHNcXC5jb20iOiAibWlsbGVubml1bWhvdGVscyIsCgkJCQkJInd3d1xcLnJlZWJvbnpcXC5jbiI6ICJyZWVib256IiwKCQkJCQkiY25cXC53ZW1ha2VwcmljZVxcLmNvbSI6ICJ3ZW1ha2VwcmljZSIsCgkJCQkJInd3d1xcLnd6aG91aHVpXFwuY29tIjogInd6aG91aHVpIiwKCQkJCQkid3d3XFwuaHVpamlheW91XFwuY24iOiAiaHVpamlheW91IiwKCQkJCQkid3d3XFwubWVsaW1lbG9cXC5jbiI6ICJtZWxpbWVsbyIsCgkJCQkJInd3d1xcLjkxeGNtXFwuY29tIjogIjkxeGNtIiwKCQkJCQkiemhcXC5hc2hmb3JkXFwuY29tIjogImFzaGZvcmQtemgiLAoJCQkJCSJjam9ubWFydFxcLmNuIjogImNqb25tYXJ0IiwKCQkJCQkid3d3XFwuY255dG9cXC5tZSI6ICJjbnl0byIsCgkJCQkJInd3d1xcLmdyYW5kZGZzXFwuY29tIjogImdyYW5kZGZzIiwKCQkJCQkid3d3XFwub2ZmaWNlZGVwb3RcXC5jb20iOiAib2ZmaWNlZGVwb3QiLAoJCQkJCSJ3d3dcXC50aWFuaG9uZ1xcLmNuIjogInRpYW5ob25nIiwKCQkJCQkid3d3XFwueWlsaW5nc2hvcFxcLmNvbSI6ICJ5aWxpbmdzaG9wIiwKCQkJCQkid3d3XFwua2xvb2tcXC5jb20iOiAia2xvb2siLAoJCQkJCSJtXFwuZGRreVxcLmNvbSI6ICJkZGt5IiwKCQkJCQkid3d3XFwuY2hpbmFhY2NcXC5jb20iOiAiY2hpbmFhY2MiLAoJCQkJCSJ3d3dcXC5ibWFpXFwuY29tIjogImJtYWkiLAoJCQkJCSJtXFwuaW5rZVxcLmNuIjogImlua2UiLAoJCQkJCSJ3d3dcXC5qdW5yb25nZGFpXFwuY29tIjogImp1bnJvbmdkYWkiLAoJCQkJCSJ3d3dcXC5uYXBhaVxcLmNuIjogIm5hcGFpIiwKCQkJCQkibWFsbFxcLmdyZWVcXC5jb20iOiAiZ3JlZSIsCgkJCQkJInNhbGVzXFwuYWxsaWFuelxcLmNvbSI6ICJhbGxpYW56IiwKCQkJCQkidlxcLnlvdW1pXFwuY24iOiAieW91bWkiLAoJCQkJCSJ3d3dcXC4yMWNha2VcXC5jb20iOiAiMjFjYWtlIiwKCQkJCQkid3d3XFwuNTZyZW5cXC5jb20iOiAiNTZyZW4iLAoJCQkJCSJ3d3dcXC5hbmFudGFyYVxcLmNvbSI6ICJhbmFudGFyYSIsCgkJCQkJInd3d1xcLmNoZXN1ZGlcXC5jb20iOiAiY2hlc3VkaSIsCgkJCQkJInd3d1xcLmVobWFsbFxcLmNvbSI6ICJlaG1hbGwiLAoJCQkJCSJ3d3dcXC5mYXJmZXRjaFxcLmNuIjogImZhcmZldGNoIiwKCQkJCQkid3d3XFwuZnJlZXBlb3BsZVxcLmNvbSI6ICJmcmVlcGVvcGxlIiwKCQkJCQkid3d3XFwuZ2Fvc291eWlcXC5jb20iOiAiZ2Fvc291eWkiLAoJCQkJCSJ3d3dcXC5jaGFybS1jb2xvclxcLiI6ICJjaGFybS1jb2xvciIsCgkJCQkJInd3d1xcLmZlbGlzc2ltb1xcLmNvXFwuanAiOiAiZmVsaXNzaW1vIiwKCQkJCQkid3d3XFwuc3VyZnN0aXRjaFxcLmNvbSI6ICJzdXJmc3RpdGNoIiwKCQkJCQkid3d3XFwubG9ybmFqYW5lXFwuc2ciOiAibG9ybmFqYW5lIiwKCQkJCQkid3d3XFwucmVpc3NcXC5jb20iOiAicmVpc3MiLAoJCQkJCSJ3d3dcXC5nemxcXC5jb21cXC5jbiI6ICJnemwiLAoJCQkJCSJ3d3dcXC45ZHJ1Z1xcLmNvbSI6ICI5ZHJ1ZyIsCgkJCQkJInd3d1xcLnl1bmdvdWJzXFwuY29tIjogInl1bmdvdWJzIiwKCQkJCQkid3d3XFwuaW1vbW9rb1xcLmNvbSI6ICJpbW9tb2tvIgoJCQkJfSwKCQkJCWQgPSB7CgkJCQkJImRlc3QvdGVzdFxcLmh0bWwiOiAidGVzdCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy45ZHJ1Zy5jb20vZ29vZHMtXFxkK1xcLmh0bWwiOiAiOWRydWciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cudGVhNy5jb20vaXRlbS9cXGQrXFwuaHRtbCI6ICJ0ZWE3IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LjAxaG9tZS5jb20vcHJvZHVjdC9bYS16MC05LV0rXFwuaHRtbCI6ICIwMWhvbWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuaHBzdG9yZS5jbi93YXNkLWlpLVthLXowLTktXStcXC5odG1sIjogImhwc3RvcmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuYWxpZXhwcmVzcy5jb20vc3RvcmUvcHJvZHVjdC8iOiAiYWxpZXhwcmVzcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5hbGlleHByZXNzLmNvbS9pdGVtL1xcdysiOiAiYWxpZXhwcmVzcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5lYXN5dG95cy5jbi9cXGQrXFwuaHRtbCI6ICJlYXN5dG95cyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5raXdpc3RhcmNhcmUuY29tL2dvb2RzLVxcZCtcXC5odG1sIjogImtpd2lzdGFyY2FyZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5jYXJyZWZvdXIuY24vcHJvZHVjdC9cXGQrIjogImNhcnJlZm91ciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2NoaW5hLmxvdHRlLmNvbS9nb29kcy92aWV3R29vZHNEZXRhaWxcXC5sb3R0ZSI6ICJsb3R0ZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5ld2F0Y2hlcy5jb20vZGV0YWlsXFwuYXNwIjogImV3YXRjaGVzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZ2xvYmFsLnRpbWV4LmNvbS9ub2RlL1xcZCsiOiAidGltZXgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9jb21mb3J0Zmlyc3QuY29tL1thLXowLTktXSsvW2EtejAtOS1dKy9bYS16MC05LV0rXFwuaHRtbCI6ICJjb21mb3J0Zmlyc3QiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cubHVvbGFpLmNuL3Byb2R1Y3QtXFxkK1xcLmh0bWwiOiAibHVvbGFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LnlvdXl1LmNvbS9nb29kc1xcP3NuPVxcZCsiOiAieW91eXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cueW9veC5jbi8oPzpjbi8pW2EtejAtOUEtWl0rL2l0ZW0iOiAieW9veCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5zdWFuanV6aS5jb20vcHJvZHVjdC1cXGQrXFwuaHRtbCI6ICJzdWFuanV6aSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy55YW8xMjMuY29tL3Byb2R1Y3QvXFx3KyI6ICJ5YW8xMjMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtLmJhb2JlaWdlemkuY29tL3Byb2R1Y3QvXFxkK1xcLmh0bWwiOiAiYmFvYmVpZ2V6aSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5iYW9iZWlnZXppLmNvbS9wcm9kdWN0L1xcZCtcXC5odG1sIjogImJhb2JlaWdlemkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cub3Bwb3Nob3AuY24vcHJvZHVjdHMvXFxkK1xcLmh0bWwiOiAib3Bwb3Nob3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cub3Bwb3Nob3AuY24vcHJvZHVjdHMvXFxkKyI6ICJvcHBvc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwub3Bwb1xcLmNvbS8oPzpnb29kc3xwcm9kdWN0cykvXFxkKyI6ICJvcHBvc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9wcG9cXC5jb20vY24vcHJvZHVjdCI6ICJvcHBvc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2hkLm9wcG8uY29tL2FjdC9cXGQrL29wcG9SOXMiOiAib3Bwb3Nob3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsLnRvOHRvLmNvbS90ZW1haS9cXGQrLmh0bWwiOiAidG84dG8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwueXVuaG91XFwuY29tL1xcZCtcXC5odG1sIjogInl1bmhvdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC55aGRcXC5jb20iOiAieWloYW9kaWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaGFpdHVuY3VuXFwuY29tL1thLXpdKy9bYS16XSsvXFxkKy8iOiAiaGFpdHVuY3VuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2FsbWFydFxcLmNvbS9pcC9bYS16QS1aMC05LV0rL1xcZCsiOiAid2FsbWFydCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnZtZWlcXC5jb20vcHJvZHVjdC9bMC05XSsiOiAidm1laSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmpnYlxcLmNuL3AvW2EtejAtOV9dK1xcLmh0bWwiOiAiamdiIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuNTFkaW5cXC5jb20vcHJvZHVjdC9bMC05XSsvWzAtOV0rXFwuaHRtbCI6ICI1MWRpbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy41MWRpbi5jb20vcHJvZHVjdC8oPyFsaXN0KS9bMC05XSsuamh0bWwiOiAiNTFkaW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5haWRhaVxcLmNvbS9Qcm9kdWN0WzAtOV0rXFwuaHRtbCI6ICJhaWRhaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3BcXC5ib3FpaVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAiYm9xaWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zcGlkZXJcXC5jb20uY24vW2Etel0rL1swLTldK1xcLmh0bWwiOiAic3BpZGVyIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3BpZGVyXFwuY29tLmNuL2F1Y3Rpb24uaHRtbD9hdWN0aW9uaWQ9WzAtOV0rICI6ICJzcGlkZXIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qaWFlXFwuY29tL3Byb2R1Y3RkZXRhaWw/cHJvZHVjdElkPVswLTldKyI6ICJqaWFlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnphemhpcHVcXC5jb20vWzAtOV0rXFwuaHRtbCI6ICJ6YXpoaXB1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2FsbWFydFxcLmNvbS9pcC9cXGQrIjogIndhbG1hcnQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zaG9wXFwucGhpbGlwc1xcLmNvbVxcLmNuL2l0ZW0vW2EtejAtOS1dKyI6ICJwaGlsaXBzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdHVhbi56aG9uZ2ppdS5jbi9wcm9kdWN0L2RldGFpbC9cXGQrLmh0bSI6ICJ6aG9uZ2ppdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy56aG9uZ2ppdS5jbi9wcm9kdWN0ZGV0YWlsL1xcZCsuaHRtIjogInpob25naml1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmthbHVsaS5jb20vcHJvZHVjdC9cXGQrLmh0bWwiOiAia2FsdWxpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcC53c3R4LmNvbS9pdGVtL1xcZCsiOiAid3N0eCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5wdXJjb3R0b24uY29tL2RldGFpbC9cXGQrL1swLTktXStcXC5odG1sIjogInB1cmNvdHRvbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3AuanVhbnBpLmNvbS9bYS16XSsvXFxkKyI6ICJqdWFucGkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuZ25jLmNvbS9bQS1aYS16MC05LV0rL3Byb2R1Y3QuanNwIjogImduYyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5qaW54aWFuZy5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJqaW54aWFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLzEuMTYzLmNvbS9kZXRhaWwvXFxkKy1cXGQrXFwuaHRtbCI6ICIxLTE2MyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5ndW9qaW1hbWkuY29tL2dvb2RzLVxcZCtcXC5odG1sIjogImd1b2ppbWFtaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5iYWl5YW5nd2FuZy5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJiYWl5YW5nd2FuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2NuLnJveXlvdW5nY2hlbWlzdC5jb20uYXUvXFxkK1xcLmh0bWwiOiAicm95eW91bmdjaGVtaXN0IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY24ubWVkaWhlYWxzaG9wLmNvbS9cXGQrIjogIm1lZGloZWFsc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2NuLjEwMDFwaGFybWFjaWVzLmNvbS9cXGQrXFwuaHRtbCI6ICIxMDAxcGhhcm1hY2llcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5sb29rZmFudGFzdGljLmNuL1thLXowLTktLl0rL1xcZCsiOiAibG9va2ZhbnRhc3RpYy1jbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3lvdS4xNjMuY29tL2l0ZW0vZGV0YWlsXFw/aWQ9IjogInlvdTE2MyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3QuYmwuY29tL1xcZCtcXC5odG1sIjogImJsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmJlc3RpbmZvb2RzLmNvbS8oPzpcXD98KXByb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJiZXN0aW5mb29kcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5tdWppLm5ldC9zdG9yZS9cXHcrL2RldGFpbC9bMC05XSsiOiAibXVqaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmVhc2VleWVzXFwuY29tL2dvb2RzWzAtOV0rXFwuaHRtbCI6ICJlYXNlZXllcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxpbmdzaGlcXC5jb20vcHJvZHVjdC9saW5nc2hpLVxcZCtcXC5odG0iOiAibGluZ3NoaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm51YmlhXFwuY29tLyg/Om51YmlhbjF8bnViaWFteXByYWd1ZXxwcmFndWVzfG51YmlhejltYXJrfG51Ymlhejl8bnViaWF6OW1heHxudWJpYXo5bWF4fG51YmlhejltYXh8bnViaWF6MTFtaW5pfG51YmlhWjExbWluaXxudWJpYXoxMW1heHxudWJpYXoxMW1heHxudWJpYXoxMW1heHxudWJpYXoxMXxudWJpYXoxMXxudWJpYXoxMSkiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwubnViaWFcXC5jb20vYWN0aXZlL1xcdytcXC5odG1sIjogIm51YmlhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLm51YmlhXFwuY29tL3Byb2R1Y3RcXC5waHBcXD8oPzpzfClpZD1cXGQrIjogIm51YmlhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86d3d3fHNob3ApXFwubnViaWFcXC5jbi9wcm9kdWN0XFwucGhwXFw/c2lkPVxcZCsiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cubnViaWEuY29tLygoPyEucGhwKS4pKiQiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wLm51YmlhLmNvbS9idXkvKD86bnViaWFuMXxudWJpYW15cHJhZ3VlfHByYWd1ZXN8bnViaWF6OW1hcmt8bnViaWF6OXxudWJpYXo5bWF4fG51YmlhejltYXh8bnViaWF6OW1heHxudWJpYXoxMW1pbml8bnViaWFaMTFtaW5pfG51YmlhejExbWF4fG51YmlhejExbWF4fG51YmlhejExbWF4fG51YmlhejExfG51YmlhejExfG51YmlhejExfG51YmlhXFx3KykiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5remozNjVcXC5jb20vZ29vZHMtXFxkK1xcLmh0bWwiOiAia3pqMzY1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwua2FvbGFcXC5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJrYW9sYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmthb2xhXFwuY29tLmhrL3Byb2R1Y3QvXFxkK1xcLmh0bWwiOiAia2FvbGEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC55bWF0b3VcXC5jb20vcHJvZHVjdC9bYS16QS1aMC05LV0rXFwuaHRtbCI6ICJ5bWF0b3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC5tZXRhb1xcLmNvbS9wcm9kdWN0cy9cXGQrIjogIm1ldGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOnR2XFwuY29vY2FhXFwuY29tL2dvb2RzL1xcZCsuaHRtIjogImNvb2NhYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmNvb2NhYVxcLmNvbS9nb29kcy9nZXRfWzAtOV0rXFwuaHRtbCI6ICJjb29jYWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5saWZldmNcXC5jb20vaXRlbS9cXGQrIjogImxpZmV2YyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnN1cHV5XFwuY29tL3Byb2R1Y3RzL1xcZCtcXC5odG1sIjogInN1cHV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3VwdW1hbGxcXC5jb20vR29vZHMvZ29vZHNpbmZvL2dvb2RzQ29kZS9bMC05XSsiOiAic3VwdXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5taWFcXC5jb20vaXRlbS1cXGQrXFwuaHRtbCI6ICJtaXlhYmFvYmVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbWl5YWJhb2JlaS5oay9pdGVtLVswLTldKy5odG1sIjogIm1peWFiYW9iZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cubWl5YWJhb2JlaS5oay9pdGVtLVswLTldKy5odG1sIjogIm1peWFiYW9iZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtLmdvbWVoaWdvLmhrL1swLTlhLXpBLVpdKy0uKiI6ICJnb21laGlnbyIsCgkJCQkJImh0dHA6Ly93d3dcXC53YW5nZnVqaW5nXFwuY29tL2l0ZW0vWzAtOUEtWl0rIjogIndhbmdmdWppbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9nbG9iYWxcXC5nb3VcXC5jb20vcHJvZHVjdF9bMC05XStcXC5odG1sIjogImdvdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmdvdVxcLmNvbS9bYS16MC05X10rXFwuaHRtbCI6ICJnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3dcXC58KWlranRhb1xcLmNvbS9nb29kcy1bMC05XStcXC5odG1sIjogImlranRhbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d1xcLnwpYmVzdGtlZXBcXC5jbi9pdGVtL1xcZCsiOiAiaWtqdGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86aXRlbXxucClcXC51bGVcXC5jb20vaXRlbS9bMC05LV0rXFwuaHRtbCI6ICJ1bGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwucGhpbGlwc1xcLmNvbVxcLmNuL3Byb2R1Y3QvXFx3Ky9kZXRhaWxcXC5odG0iOiAicGhpbGlwcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3BcXC50Y2xcXC5jb20vUHJvZHVjdERldGFpbC9pbmRleC9pZC9cXGQrXFwuaHRtbCI6ICJ0Y2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwudGNsXFwuY29tL2Zyb250L3Byb2R1Y3QvdG9Qcm9kdWN0L1thLXowLTldKyI6ICJ0Y2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5lLWNoYW5naG9uZ1xcLmNvbS93ZWJhcHAvd2NzL3N0b3Jlcy9zZXJ2bGV0L1Byb2R1Y3RbXFx3Xy1dKyI6ICJjaGFuZ2hvbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwua29ua2FcXC5jb20vZ29vZHNcXC5waHBcXD9pZD1cXGQrIjogImtvbmthIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmtvbmthXFwuY29tL3Byb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJrb25rYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3BcXC5oaXNlbnNlXFwuY29tL0hvbWUvUHJvZHVjdHMvZGV0YWlsL2dpZC9cXGQrIjogImhpc2Vuc2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwuaGlzZW5zZVxcLmNvbS9wcm9kdWN0L1thLXowLTktXSsiOiAiaGlzZW5zZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmluZWlnb1xcLmNvbS9Qcm9kdWN0L3Byb2R1Y3QuYXNweFxcPyY/aWQ9XFxkKyI6ICJpbmVpZ28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5za2dcXC5jb20vXFxkK1xcLmh0bWwiOiAic2tnIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2tnXFwuY29tL3Byb2R1Y3QvWzAtOV0rXFwuaHRtIjogInNrZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm95ZWFoXFwuY29tL2dpdmVhd2F5LVswLTlhLXotXSsiOiAib3llYWgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5tb3JlZm9vZFxcLmNvbS9wcm9kdWN0cy9pbmZvL1swLTldK1xcLmh0bWwiOiAibW9yZWZvb2QiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC56aGVuXFwuY29tL3Byb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJ6aGVuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLnZpdm9cXC5jb21cXC5jbi9pbmRleFxcLnBocC9wcm9kdWN0LVxcZCtcXC5odG1sIjogInZpdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwudml2b1xcLmNvbVxcLmNuL3Byb2R1Y3QtWzAtOV0rIjogInZpdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwudml2b1xcLmNvbVxcLmNuL3Byb2R1Y3QvWzAtOV0rIjogInZpdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9nZml2ZVxcLmIyY1xcLmVxaW1pbmd4aW5nXFwuY29tL3Byb2R1Y3QtXFxkK1xcLmh0bWwiOiAiZ2ZpdmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC42cG1cXC5jb20vcHJvZHVjdC8iOiAiNnBtIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuNnBtXFwuY29tL1thLXpdKy1bYS16XSstWzAtOWEtel0rIjogIjZwbSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjZwbVxcLmNvbS9wL1xcdysiOiAiNnBtIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmdpb25lZVxcLmNvbS9nb29kcy9cXGQrIjogImdpb25lZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwubGluaW5nXFwuY29tL3Nob3AvZ29vZHMtWzAtOV0rIjogImxpbmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1mOTEwXFwuY29tL3Byb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJtZjkxMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmstdG91Y2hcXC5jbi9wcm9kdWN0L2RldGFpbC9wcm9kX2lkL1xcZCtcXC5odG1sIjogImstdG91Y2giLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rLXRvdWNoXFwuY24vUHJvZHVjdC9Qcm9kdWN0RGV0YWlsXFw/cHJvZHVjdGlkIjogImstdG91Y2giLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuZ3JhaW5nZXJcXC5jbi9nL1xcZCsiOiAiZ3JhaW5nZXIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9waWFvXFwuMTYzXFwuY29tL1xcdysvbW92aWUvXFxkK1xcLmh0bWwiOiAid3kxNjMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwuMTYzXFwuY29tL3AvcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJ3eTE2MyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2RldGFpbFxcLnlhby5cXDk1MDk1XFwuY29tL2l0ZW1cXC5odG0iOiAidGFvYmFvLTk1MDk1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZWJheVxcLmNvbS9pdG0vWzAtOWEtekEtWl0rIjogImViYXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3dcXC58KTEwMHl1ZVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAiMTAweXVlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZmVpbml1XFwuY29tL2l0ZW0vWy1cXHddKyI6ICJmZWluaXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sZW1hbGxcXC5jb20vcHJvZHVjdC8iOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVtYWxsXFwuY29tL2NuLyg/OnR2fHNhbGV8cGhvbmUpL1xcdysiOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVtYWxsXFwuY29tLyg/OmxlXzJ8bGVfbWF4fGxlXzFwcm98eDU1cHJvfHg2NXx4NTV8eDQzc3x4NDBzfHVtYXgxMjB8Y2hhbzRtYXg3MCkiOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVtYWxsXFwuY29tLyg/OmNoYW80fGxlX21heHxsZV9tYXgyfGxlXzJwcm98bGVfMnxsZV9tYXgyfHg0MHN4NDBzKS8oPzpcXHcrL3wpXFx3K1xcLmh0bWwiOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLmZlaW5pdVxcLmNvbS9bMC05XSsiOiAiZmVpbml1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueGdiYWJ5XFwuY29tL3Byb2R1Y3QvWzAtOV0rIjogImJicmVhZHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC56dWlwaW5cXC5jbi9bMC05YS16LV0rXFwuaHRtbCI6ICJ6dWlwaW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuZmVpZmVpXFwuKD86Y258Y29tKS9cXHcrXFwuaHRtbCI6ICJmZWlmZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5mZWlmZWlcXC5jb20vb3JkZXIvLS9wcm9kdWN0LWluZm8vcHJvZHVjdG5hbWUvWzAtOV0rXFwuaHRtbCI6ICJmZWlmZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9ndWFuZ1xcLmNvbS9iYW9iZWkvXFxkKyI6ICJndWFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhhaXRhb2NoZW5nXFwuY29tL1Byb2R1Y3QvRGV0YWlsLVxcZCtcXC5odG1sIjogImhhaXRhb2NoZW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwucnJzKD86amt8KVxcLmNvbS9wcm9kdWN0L1swLTldK1xcLmh0bWwiOiAicnJzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmNjYlxcLmNvbS9wcm9kdWN0cy9wZF9bMC05XStcXC5qaHRtbCI6ICJjY2IiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5tZWlsaXNodW9cXC5jb20vKD86cHJvbXxzaGFyZSkvaXRlbS9cXGQrIjogIm1laWxpc2h1byIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1laWxpc2h1b1xcLmNvbS9zaGFyZS9bXFxkXSsiOiAibWVpbGlzaHVvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1laWxpc2h1b1xcLmNvbS9kZXRhaWwvIjogIm1laWxpc2h1byIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1vZ3VqaWVcXC5jb20vdHVhbi9kZXRhaWwvXFx3KyI6ICJtb2d1amllIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLm1vZ3VqaWVcXC5jb20vZGV0YWlsL1xcdysiOiAibW9ndWppZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1vZ3VqaWVcXC5jb20vbm90ZS8uKj9zaG93dHlwZT1nb29kIjogIm1vZ3VqaWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zdXB1bWFsbFxcLmNvbS9wcm9kdWN0cy9bMC05XStcXC5odG1sIjogInN1cHVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmNvb2xwYWRcXC4oPzpjb218Y24pL2dvb2RzL1xcZCtcXC5odG0iOiAiY29vbHBhZCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP3lpZ3VvXFwuY29tL3Byb2R1Y3QvXFxkK1xcLmh0bWwiOiAieWlndW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3XFwuKT95aWd1b1xcLmNvbS9Db21tb2RpdHlEZXRhaWxcXC5hc3B4XFw/Q29tbW9kaXR5SWQ9IjogInlpZ3VvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLndhbmdnb3VcXC5jb20vIjogIndhbmdnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwuamlhXFwuY29tL2l0ZW0vIjogImppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmppdW1laVxcLmNvbS9wcm9kdWN0L1thLXowLTlfLV0rXFwuc2h0bWwiOiAiaml1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd2VpZ291XFwuYmFpZHVcXC5jb20vaXRlbSI6ICJiYWlkdS13ZWlnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwubGV0dlxcLmNvbS9wcm9kdWN0LyI6ICJsZXR2IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKHhpYW8pP21pXFwuY29tLyhnb29kc3xpdGVtKS8iOiAieGlhb21pIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1pXFwuY29tL1swLTldK1xcLmh0bWwiOiAieGlhb21pIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1pXFwuY29tL3Byb2R1Y3QvWzAtOV0rXFwuaHRtbCI6ICJ4aWFvbWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwubWlcXC5jb20vYnV5KD86cGhvbmV8bWl0dnxtaXR2XFx3KykvW2EtejAtOV0rIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5taVxcLmNvbS9zdGF0aWMvW2EtejAtOV0rIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5taVxcLmNvbS9idXkvW2EtejAtOV0rIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1pXFwuY29tLyg/Om1pNXxtaW1heHxyZWRtaW5vdGU0fG5vdGUzfGhvbmdtaTNzfHJlZG1pcHJvfGhvbmdtaTN8aG9uZ21pM3h8bWlib29rYWlyfG1pcGFkMnxtaXR2M3N8bWl0djNzfG1pdHYzc3xtaXR2M3xtaXR2M3xtaXR2M3x0dnpqfGhlemkzc3xoZXppM3xoZXppbWluaXxzaGJ8bWl2cjFjfG1pd2lmaTN8c2Nvb3RlcnxtaWJpY3ljbGV8a2V0dGxlfGRpYW5mYW5iYW98bWljYW1lcmF8eGlhb3lpfGFpcjJ8d2F0ZXJ8d2F0ZXIyfGloZWFsdGgyfGloZWFsdGh8bWpzbWFydGxhbXB8ZGVza2xhbXB8bWl0dXxjdXRlfHdhbmdndWFufHNob3VodWFuMnxzaG91aHVhbnxzY2FsZXxtaXR1d2F0Y2h8bWl3aWZpbWluaXxtaXdpZmlsaXRlfG1pd2lmaTNjfG1pd2lmaXxkaWFueXVhbjEwMDAwfGRpYW55dWFuMTAwMDB8ZGlhbnl1YW41MDAwfGNoYXhpYW5iYW4yfHBvd2Vyc3RyaXB8cmVjaGFyZ2VyfGNob25nZGlhbnFpNGtvdXxoZWFkcGhvbmV8cXVhbnRpZXxjYXBzdWxlZWFycGhvbmV8cG9ja2V0YXVkaW98bGl0dGxlYXVkaW98eWlueGlhbmd8c3BlYWtlcnxyYWRpb3xtaW1vc2RnZXxnZWxwZW58cGlsbG93WjF8cGlsbG93WjJ8cm9vbXJvYm90fHJlY2hhcmdlcjd8Y2hhcmdlcnxibHVldG9vdGgtaGVhZHNldHxzdWl0Y2FzZXxyZWRtaVxcdyt8bWk1c3BsdXN8bWk1c3xtaXh8bWlub3RlXFx3K3xtaTVjfG1heFxcdyt8bWk2fG1pcGFkM3xtaXR2XFx3KykvIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhhbmR1XFwuY29tL2dvb2RzLSI6ICJoYW5kdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnl1bW15NzdcXC5jb20vcHJvZHVjdC9bMC05XStcXC5odG1sIjogInl1bW15NzciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5mcnVpdGRheVxcLmNvbS93ZWIvcHJvL1swLTldKyI6ICJmcnVpdGRheSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmZydWl0ZGF5XFwuY29tL3Byb2RldGFpbC9pbmRleC9bMC05XSsiOiAiZnJ1aXRkYXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5iZW5sYWlcXC5jb20vaXRlbS1cXGQrIjogImJlbmxhaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmJlbmxhaVxcLmNvbS9bYS16L10rL2l0ZW0tWzAtOV0rXFwuaHRtbCI6ICJiZW5sYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90YW9zaHVcXC5jb20vXFxkK1xcLmh0bWwiOiAidGFvc2h1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpbGVsZVxcLmNvbS9jYXRlZ29yeS1bYS16XSsvZ29vZHMtWzAtOV0rXFwuaHRtbCI6ICJtZWlsZWxlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpbGVsZVxcLmNvbS90dWFuZ291L2luZm8tWzAtOV0rLmh0bWwiOiAibWVpbGVsZS10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpbGVsZVxcLmNvbS9taWFvc2hhL21zLVswLTldKy5odG1sIjogIm1laWxlbGUtbXMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5nandcXC5jb20vcHJvZHVjdC9pdGVtIjogImdqdyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmdqd1xcLmNvbS9Ib21lL1R1YW5JdGVtL1xcZCtcXC5odG0iOiAiZ2p3IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ2p3XFwuY29tL1RyeURyaW5rL2l0ZW0taWQtWzAtOV0rXFwuaHRtIjogImdqdyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuYXBwbGVcXC5jb20vY24vcHJvZHVjdC8iOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5hcHBsZVxcLmNvbS9jbi8oPzptYWNib29rfGlwYWQtcHJvfGlwYWR8aXBhZC1taW5pLTR8aXBob25lLTd8aXBob25lLVxcdyt8aXBvZC1zaHVmZmxlKS8iOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zdG9yZVxcLmFwcGxlXFwuY29tL2NuL2J1eS1pcGhvbmUvaXBob25lXFx3KyI6ICJhcHBsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuYXBwbGVcXC5jb20vY24vYnV5LW1hYy9cXHcrLVxcdytcXD9wcm9kdWN0PVxcdysvXFx3KyI6ICJhcHBsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuYXBwbGVcXC5jb20vY24vYnV5LWlwYWQvaXBhZC1cXHcrLVxcdysiOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zdG9yZVxcLmFwcGxlXFwuY29tL2NuL2J1eS1pcG9kL2lwb2QtXFx3Ky1cXHcrIjogImFwcGxlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYXBwbGVcXC5jb20vY24vc2hvcC9idXktW2Etel0rL1thLXowLTktXSsiOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qMVxcLmNvbS9wcm9kdWN0LyI6ICJqMSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21pYW9cXC5qMVxcLmNvbS9wcm9kdWN0LyI6ICJqMS1taWFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86d3d3XFwufCl6emwzNjVcXC5jb20vcHJvZHVjdC1cXGQrIjogInp6bDM2NSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21vYmlsZVxcLjEzOXNob3BcXC5jb20vLio/L1xcZCsvXFxkK1xcLmh0bSI6ICIxMzlzaG9wIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vMTM5c2hvcFxcLmNvbS9bYS16MC05LV0rL1thLXowLTldKy9bYS16MC05XStcXC5odG0iOiAiMTM5c2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlpd3Vnb3VcXC5jb20vcHJvZHVjdC9kZXRhaWwvWzAtOV0rXFwuaHRtbCI6ICJ5aXd1Z291IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuemhpd29cXC5jb20vcHJvZHVjdC9cXGQrIjogInpoaXdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuemhpd29cXC5jb20vZ3JvdXAvXFxkKyI6ICJ6aGl3by10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vW15cXC5dK1xcLm1pcWlcXC5jbi9bXi9dKy9wXFxkKyI6ICJtaXFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWlxaVxcLmNuL1thLXpdKy9bMC05XStcXC5odG1sIjogIm1pcWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5jYW1lbFxcLmNvbVxcLmNuL1thLXpBLVowLTldKyhfW2EtekEtWjAtOV0rKSsvW1xcd10rXFwuc2h0bWwiOiAiY2FtZWwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5jYW1lbFxcLmNvbVxcLmNuL1thLXpBLVowLTlfXSsvW0EtWmEtejAtOV0rXFwuc2h0bWwiOiAiY2FtZWwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rdWFpc2h1YmFvXFwuY29tL1xcZCsvXFxkKyI6ICJrdWFpc2h1YmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3Lmt1YWlzaHViYW8uY29tL2cvIjogImt1YWlzaHViYW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qdWVnZ1xcLmNvbS90ZW1wbGV0cy9EZWZhdWx0R3JlZW4vUHJvZHVjdFxcLmpzcCI6ICJqdWVnZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC4xMDAxMFxcLmNvbS9nb29kc2RldGFpbC9bXFxkXStcXC5odG1sIjogIm1hbGwxMDAxMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLndvd3NhaVxcLmNvbS9nb29kcy8iOiAid293c2FpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudGlhbnBpblxcLmNvbS9pdGVtLyI6ICJ0aWFucGluIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudG9vdG9vXFwuY24vcHJvZHVjdC0iOiAidG9vdG9vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudG9vdG9vXFwuY24vW2Etel0rL2RldGFpbC9bMC05XSsiOiAidG9vdG9vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1pbnNoZW5nZWNcXC5jb20vW2Etel0tKD86fFthLXpBLVolMC05XSspL1thLXowLTktXStcXC5qaHRtbCI6ICJtaW5zaGVuZ2VjIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2ZiZXN0XFwuY29tL2h0bWwvKHNmdik/cHJvZHVjdHMvIjogInNmYmVzdCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2h0XFwuc2ZiZXN0XFwuaGsvWzAtOWEtel9dK1xcLmh0bSI6ICJzZmJlc3QiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwubGVub3ZvXFwuY29tXFwuY24vcHJvZHVjdC0iOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmxlbm92b21vYmlsZVxcLmNvbS9TaG93UGhvbmUuYXNweFxcP0dkc0lEPSI6ICJsZW5vdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sZW5vdm9tb2JpbGVcXC5jb20vc3RvcmUvXFxkK1xcLmh0bWwiOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVub3ZvXFwuY29tXFwuY24vcHJvZHVjdC9bMC05XStcXC5odG1sIjogImxlbm92byIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxlbm92b1xcLmNvbVxcLmNuL2FidGVzdC9bMC05X10rXFwuc2h0bWwiOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdGhpbmtwYWRcXC5sZW5vdm9cXC5jb21cXC5jbi9wcm9kdWN0L1swLTldK1xcLmh0bWwiOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudm1hbGxcXC5jb20vaXRlbS9cXGQrLyg/OmluZGV4fGJ1eSkiOiAidm1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC52bWFsbFxcLmNvbS9wcm9kdWN0L1xcZCtcXC5odG1sIjogInZtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaWh1c2hcXC5jb20vcHJvZHVjdCI6ICJpaHVzaCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d1xcLik/ZmNsdWJcXC5jbi9nb29kcyI6ICJmY2x1YiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC55b2hvYnV5XFwuY29tL3Byb2R1Y3QvXFx3Ky9cXHcrXFwuaHRtbCI6ICJ5b2hvYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnlvaG9idXlcXC5jb20vXFx3K1xcLmh0bWwiOiAieW9ob2J1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmZjbHViXFwuY24vdHVhbmdvdURldGFpbFxcLmh0bWwiOiAiZmNsdWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9qdVxcLnRhb2Jhb1xcLmNvbS90Zy9ob21lXFwuaHRtLiooaXRlbV8pP2lkPVtcXGRdKyI6ICJ0YW9iYW8tanUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC50bWFsbFxcLmNvbS9pdGVtXFwuaHRtIjogInRtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd29ybGRcXC50bWFsbFxcLmNvbS9pdGVtL1swLTldKy5odG0iOiAidG1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC50bWFsbFxcLmhrL2hrL2l0ZW0uaHRtIjogInRtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwudG1hbGxcXC5oay9pdGVtXFwuaHRtIjogInRtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnRhb2Jhb1xcLmNvbS9pdGVtLmh0bSI6ICJ0YW9iYW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8yXFwudGFvYmFvXFwuY29tL2l0ZW1cXC5odG0iOiAidGFvYmFvLXhpYW55dSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2FpXFwudGFvYmFvXFwuY29tL2F1Y3Rpb24iOiAiYWktdGFvYmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY2hhb3NoaVxcLmRldGFpbFxcLnRtYWxsXFwuY29tL2l0ZW1cXC5odG0iOiAidG1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC5qdVxcLnRhb2Jhb1xcLmNvbS9ob21lXFwuaHRtIjogInRhb2Jhby1qdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/OmFyY2hpdmUtc2hvcHxzaG9wfHd3d3xkYXl8bHV4KVxcLnZpcChzaG9wKT9cXC5jb20vZGV0YWlsIjogInZpcHNob3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90dWFuXFwubGVmZW5nXFwuY29tLy4qPy9cXGQrX1xcZCtcXC5odG1sIjogImxlZmVuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xwcm9kdWN0KVxcLmxlZmVuZ1xcLmNvbS8ocHJvZHVjdHxwa2xpc3QpLyI6ICJsZWZlbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3d8MWhvdXIpXFwuanhkeWZcXC5jb20vcHJvZHVjdFstL11bXFxkXSsiOiAianhkeWYiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qeGR5ZlxcLmNvbS9Qcm9kdWN0Q29udGVudCI6ICJqeGR5ZiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnRuaWNlXFwuY29tL3Byb2R1Y3QvIjogInRuaWNlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vYXVjdGlvbjFcXC5wYWlwYWlcXC5jb20vIjogInBhaXBhaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC54aW5iYWlnb1xcLmNvbS9Hb29kcy9TdHlsZURldGFpbCI6ICJ4aW5iYWlnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9yYmlzXFwuY29tXFwuY24uKnByb2R1Y3RcXC1bXFxkXSsiOiAib3JiaXMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zZmh0XFwuY29tL2RldGFpbC9bMC05XStcXC5odG1sIjogInNmaHQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3d8Y29zbWV0aWMpXFwuZDFcXC5jb21cXC5jbi9wcm9kdWN0LyI6ICJkMSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmNoYXp1b1xcLmNvbS9Qcm9kdWN0L3BcXC1bXFxkXSsiOiAiY2hhenVvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudTFiYWJ5XFwuY29tL3Byb2R1Y3RcXC1bXFxkXSsiOiAidTFiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKHd3d1xcLik/aG9tZXZ2XFwuY29tL3Z2c2hvcFByb2R1Y3RWaWV3L3BpZFxcLVtcXGRdK1xcLmpodG1sIjogImhvbWV2diIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP2hvbWV2dlxcLmNvbS92dnNob3BQcm9kdWN0Vmlld1xcLmpodG1sIjogImhvbWV2diIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnBhaXhpZVxcLm5ldC9zaG9lXFwtLitcXC5odG1sIjogInBhaXhpZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC5wYWl4aWVcXC5uZXQvWzAtOV0rXFwuaHRtbCI6ICJwYWl4aWUtdHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2ZheGlhblxcLnBhaXhpZVxcLm5ldC9bMC05XStcXC5odG1sIjogInBhaXhpZS1mYXhpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC50YW8zY1xcLmNvbS8ob3V0bGV0cy8pP3Byb2R1Y3QvW1xcZF0rXFwuaHRtbCI6ICJ0YW8zYyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnptN1xcLmNuL2dvb2RzIjogInptNyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3NcXC5ldGFvXFwuY29tL2l0ZW0vW1xcZF0rXFwuaHRtbCI6ICJldGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc1xcLmV0YW9cXC5jb20vc2VhcmNoXFw/ZXBpZD1bXFxkXSsiOiAiZXRhbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5wY2hvdXNlXFwuY29tXFwuY24vaXRlbS9bXFxkXStcXC5odG1sIjogInBjaG91c2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9idXlcXC5kYXBobmVcXC5jbi9nb29kc1xcLnBocCI6ICJkYXBobmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sdWNlbWFsbFxcLmNvbVxcLmNuLy4rL1tcXGRdK1xcLmh0bWwiOiAibHVjZW1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5saWZldmNcXC5jb20vZGV0YWlsLyI6ICJsaWZldmMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5lYXN5MzYxXFwuY29tL1teXFw/XSpnb29kcy1bXFxkXStcXC5odG1sIjogImVhc3kzNjEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuMzYwaHFiXFwuY29tL3NwdVxcLVtcXGRdK1xcLmh0bWwiOiAiMzYwaHFiIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLjM2MGhxYlxcLmNvbS9bXFxkXStcXC5odG1sIjogIjM2MGhxYiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3FcXC4zNjBocWJcXC5jb20vZGV0YWlsL1tcXGRcXF9dK1xcLmh0bWwiOiAiMzYwaHFiIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ291aml1d2FuZ1xcLmNvbS9wcm9kdWN0L2l0ZW1cXC1pZFxcLVtcXGRdK1xcLmh0bSI6ICJnb3VqaXV3YW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaHVpbWFpMzY1XFwuY29tL2dvb2RzXFwtW1xcZF0rXFwuaHRtbCI6ICJodWltYWkzNjUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3fHR1YW58ZGluZ3poaSlcXC5qaXV4aWFuXFwuY29tLyhnb29kc3x0dWFuX2RldGFpbClcXC0uK1xcLmh0bSI6ICJqaXV4aWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2luZW5pY2VcXC5jb20vcF9bXFxkXStcXC5zaHRtbCI6ICJ3aW5lbmljZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnllc215d2luZVxcLmNvbS9nb29kcy9bXFxkXStcXC5odG1sIjogInllc215d2luZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC55ZXNteXdpbmVcXC5jb20vc2hvcC9qdW5rYW5nL2l0ZW0tW1xcZF0rIjogInllc215d2luZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC55ZXNteXdpbmVcXC5jb20vc2hvcC9bXFx3XSsvaXRlbS1bXFxkXSsiOiAieWVzbXl3aW5lIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbWFsbFxcLnllc215d2luZVxcLmNvbS9ncm91cGJ1eS9cXGQrXFwuaHRtbCI6ICJ5ZXNteXdpbmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5iYW5nZ29cXC5jb20vR29vZHMvW1xcZF0rXFwuc2h0bWwiOiAiYmFuZ2dvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYmFuZ2dvXFwuY29tL2dvb2RzX1swLTldK1xcLnNodG1sIjogImJhbmdnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Bsb3lcXC5iYW5nZ29cXC5jb20vc2Vjb25kL1swLTktX10rXFwuc2h0bWwiOiAiYmFuZ2dvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueWFueXVlXFwuY24vc21va2VcXC1wcm9kdWN0XFwtW1xcZF0rXFwuaHRtbCI6ICJ5YW55dWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5iZWFyYnV5XFwuY29tXFwuY24vZ29vZHNcXC5waHBcXD9pZD1bXFxkXSsiOiAiYmVhcmJ1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmFtYXpvblxcLmNuLy4qPyg/OmRwL3xncC9wcm9kdWN0L3xkZXRhaWxBcHApIjogImFtYXpvbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmFtYXpvblxcLig/OmNvbXxjb1xcLnVrfGRlfGNvXFwuanB8ZnJ8Y2F8Y258aXR8ZXMpLy4qPyg/OmRwL3xncC9wcm9kdWN0L3xkZXRhaWxBcHApKD8hc2VhcmNoKSI6ICJhbWF6b24iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzpwcm9kdWN0XFwuZGFuZ2RhbmdcXC5jb20vW15cXD9dKnByb2R1Y3QuYXNweHxyZWNvXFwuZGFuZ2RhbmdcXC5jb20vcmVjb19wdWJcXC5waHApXFw/cHJvZHVjdF9pZD1cXGQrIjogImRhbmdkYW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86cHJvZHVjdHxkZXRhaWwpXFwuZGFuZ2RhbmdcXC5jb20vW1xcZF0rIjogImRhbmdkYW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8velxcLmpkXFwuY29tL3Byb2plY3QvZGV0YWlscy9cXGQrXFwuaHRtbCI6ICIzNjBidXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuamRcXC5jb20vXFxkK1xcLmh0bWwiOiAiMzYwYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnlpeWFvamRcXC5jb20vXFxkK1xcLmh0bWwiOiAiMzYwYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLmpkXFwuaGsvXFxkK1xcLmh0bWwiOiAiMzYwYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcGFpbWFpXFwuamRcXC5jb20vXFxkKyI6ICIzNjBidXktcGFpbWFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGF5XFwuamRcXC5jb20vaXRlbS8uKlxcLmh0bWwiOiAiMzYwYnV5LWRheSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLig/OjM2MGJ1eXxqZClcXC5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICIzNjBidXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzpib29rfGUpXFwuKD86MzYwYnV5fGpkKVxcLmNvbS9cXGQrXFwuaHRtbCI6ICIzNjBidXktYm9vayIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3JlXFwuamRcXC5jb20vY3BzL2l0ZW0vWzAtOV0rXFwuaHRtbCI6ICIzNjBidXktcmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9hdWN0aW9uXFwuamRcXC5jb20vWzAtOV0rIjogIjM2MGJ1eS1hdWN0aW9uIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbXZkXFwuKD86MzYwYnV5fGpkKVxcLmNvbS9cXGQrXFwuaHRtbCI6ICIzNjBidXktbXZkIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdHVhblxcLig/OjM2MGJ1eXxqZClcXC5jb20vdGVhbVxcLVxcZCtcXC5odG1sIjogIjM2MGJ1eS10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKD86MzYwYnV5fGpkKVxcLmNvbS90dWFuL1tcXGRdK1xcLVtcXGRdK1xcLmh0bWwiOiAiMzYwYnV5LXR1YW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4oPzozNjBidXl8amQpXFwuY29tL2JpZ2ltYWdlXFwuYXNweFxcP2lkPVxcZCsiOiAiMzYwYnV5LWJpZ2ltYWdlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY2x1YlxcLmpkXFwuY29tL2Jic0RldGFpbC9bYS16MC05Xy1dK1xcLmh0bWwiOiAiMzYwYnV5LWNsdWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4zNjB0b3BcXC5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICIzNjB0b3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC56b2xcXC5jb21cXC5jbi8uKj8oPzppbmRleCkuKj9cXC5zaHRtbCI6ICJ6b2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC56b2xcXC5jb21cXC5jbi9bXFxkXSsvW1xcZF0rL1thLXpBLVpdK1xcLnNodG1sIjogInpvbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2RlYWxlclxcLnpvbFxcLmNvbVxcLmNuL2RldGFpbC9bXFxkXSsvW1xcZF0rX1tcXGRdKy5odG1sIjogInpvbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xtYWxsKVxcLnpvbFxcLmNvbS9kZXRhaWwiOiAiem9sIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwuem9sXFwuY29tXFwuY24vc2VyaWVzL1swLTldKy9bMC05X10rXFwuaHRtbCI6ICJ6b2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5mZ2xhZHlcXC5jbi9CTXNnTCI6ICJmZ2xhZHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3Lnwpb3VrdVxcLmNvbS8oPzpnb29kc3xwcm9kdWN0KSI6ICJvdWt1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKHd3dy58KW91a3VcXC5jb20vY24vWzAtOWEtei1fXStcXC5odG1sIjogIm91a3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5uZXdlZ2coXFwuY29tKT9cXC5jbi9Qcm9kdWN0Ly4qP1xcLmh0bSI6ICJuZXdlZ2ciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly96aGFkYW5cXC5uZXdlZ2coXFwuY29tKT9cXC5jbi9Cb21iLVxcZCtcXC5odG0iOiAibmV3ZWdnIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vemhhZGFuXFwubmV3ZWdnXFwuY24iOiAibmV3ZWdnLXpoYWRhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC5uZXdlZ2dcXC5jbi9kZWFsL1swLTldK1xcLmh0bSI6ICJuZXdlZ2ctdHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5raW1pc3NcXC5jb20vcHJvZHVjdC8iOiAia2ltaXNzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwucmVkYmFieVxcLmNvbVxcLmNuLy4qPy9cXGR7N31cXGQrXFwuaHRtbCI6ICJyZWRiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLm0xOFxcLmNvbS8iOiAibTE4IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbGlzdFxcLm0xOFxcLmNvbS9pdGVtLyI6ICJtMTgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9saXN0XFwubTE4XFwuY29tL2cvIjogIm0xOCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2xpc3RcXC5tMThcXC5jb20vLipHb29kcy5hc3B4IjogIm0xOCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm0xOFxcLmNvbS9pdGVtLyI6ICJtMTgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC53MVxcLmNuL2dvb2RzIjogIncxIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYXNoZm9yZFxcLmNvbS91cy93YXRjaGVzL1thLXowLTktXSsvW2EtejAtOS1dKyI6ICJhc2hmb3JkIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2VwaG9yYVxcLmNuL3Byb2R1Y3REZXRhaWxBY3Rpb24vIjogInNlcGhvcmFjcHMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zZXBob3JhXFwuY24vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJzZXBob3JhY3BzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2VwaG9yYVxcLmNuL3RyeW91dC9cXGQrXFwuaHRtbCI6ICJzZXBob3JhY3BzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGFmYXNvXFwuY29tLyg/OnByb2R1Y3QvfGdvb2RzL3Byb2R1Y3RfZGV0YWlsKSI6ICJsYWZhc28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zXFwuY24vKD8hcGFnZSlcXHd7Mix9XFwtW0EtWmEtejAtOV0rP1swLTldKz9bQS1aYS16MC05XSs/W1xcLV8qXFwuXS4qP2h0bWwiOiAicyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3c/aXRlbVxcLig/OjUxYnV5fHlpeHVuKVxcLmNvbS8iOiAiNTFidXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5va2J1eVxcLmNvbS8uKj8vZGV0YWlsLSI6ICJva2J1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9rYnV5XFwuY29tLy4qPy1bXFxkXSsuaHRtbCI6ICJva2J1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP2xldGFvXFwuY29tL1teXFw/XSpzaG9lXFwtW15cXH5dKiQiOiAibGV0YW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5idXkwMDdcXC5jb20vLio/Ly4qPy9bQS1aYS16XFxkXFxfXFwtXSo/XFwuaHRtbCI6ICJidXkwMDciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC50YW94aWVcXC5jb20vY29tbW9kaXR5IjogInRhb3hpZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2p1XFwuc3VuaW5nXFwuY29tL3Byb2R1Y3QtW2EtekEtWjAtOV0rXFwuaHRtIjogInN1bmluZy1qdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5zdW5pbmdcXC5jb20vWzAtOV0rXFwuaHRtbCI6ICJzdW5pbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuc3VuaW5nXFwuY29tL1swLTldKy9bMC05XStcXC5odG1sIjogInN1bmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnN1bmluZ1xcLig/OmNvbXxjbikvd2ViYXBwL3djcy9zdG9yZXMvc2VydmxldC8oUHJvZHxwcmQpIjogInN1bmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3BhaVxcLnN1bmluZ1xcLig/OmNvbXxjbikvc2hhbnBhaS9kZXRhaWwvIjogInN1bmluZy1wYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wYWlcXC5zdW5pbmdcXC4oPzpjb218Y24pL3NoYW5wYWkvWzAtOV0vZGV0YWlsL2QvWzAtOV0rLVswLTldIjogInN1bmluZy1wYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9bXFx3XStcXC5zdW5pbmdcXC4oPzpjb218Y24pL2VtYWxsL2RnZiI6ICJzdW5pbmctZGdmIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcWlhbmdcXC5zdW5pbmdcXC5jb20vcnBzLXdlYi9ycC9zaG93QWN0aXZpdHlfW1xcZF0rXFwuaHRtIjogInN1bmluZy1xaWFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5zdW5pbmdcXC5jb20vXFxkKyI6ICJzdW5pbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwuc3VuaW5nXFwuY29tL2RldGFpbFswLTlfXStcXC5odG1sIjogInN1bmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnN1bmluZ1xcLmNvbS9kZXRhaWwvIjogInN1bmluZy1ib29rLW5ldyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3NuYm9va1xcLnN1bmluZ1xcLig/OmNvbXxjbikvd2ViL3ByZC8iOiAic3VuaW5nLXNuYm9vayIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmNvbzhcXC5jb20vcHJvZHVjdC8iOiAiY29vOCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3cufClsdXNlblxcLmNvbS9wcm9kdWN0L3Byb2R1Y3RpbmZvIjogImx1c2VuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubHVzZW5cXC5jb20vVHVhbi9Db21pdHlJbmZvXFwuYXNweFxcP2lkPVswLTldKyI6ICJsdXNlbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5nb21lXFwuY29tXFwuY24vW15cXD9dIjogImdvbWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90YW9cXC5nb21lXFwuY29tXFwuY24vcFxcLURbMC05XSsiOiAiZ29tZS10YW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9xXFwuZ29tZVxcLmNvbVxcLmNuL2l0ZW0vXFx3WzAtOV0rXFwuaHRtbCI6ICJnb21lLXEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90dWFuXFwuZ29tZVxcLmNvbVxcLmNuL2RlYWwvXFx3K1xcLmh0bWwiOiAiZ29tZS10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ29tZWhvbWVcXC5jb20vcHJvZHVjdC9wcm9kdWN0aW5mb1xcP3A9WzAtOS1dKyI6ICJnb21lLWhvbWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5nb21lXFwuY29tXFwuY24vZWMvcnVzaGJ1eS9saW1pdGJ1eS9pdGVtZGV0YWlsIjogImdvbWUtcnVzaGJ1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xpdGVtfHMpXFwuKHloZHx5aWhhb2RpYW58MW1hbGwpXFwuY29tLyg/OnByb2R1Y3R8aXRlbSkvXFxkKyI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwueWhkXFwuY29tL2l0ZW0vbHAvWzAtOV9dKyI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90cnlcXC55aGRcXC5jb20vKGZyZWV8ZmVlKS9cXGR7NCw2fV9cXGQrLyI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90XFwuKHloZHx5aWhhb2RpYW58MW1hbGwpXFwuY29tL2RldGFpbC9cXGQrIjogInlpaGFvZGlhbi10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vW2EtekEtWl0rXFwud29tYWlcXC5jb20vKC4qKVByb2R1Y3QoPzpcXC18XFwuZG9cXD9tP2lkKSI6ICJ3b21haSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3d8c2h8Z3p8enMpXFwud29tYWlcXC5jb20vcmVsYXRlZC0iOiAid29tYWktcmVsYXRlZCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP2xleW91XFwuY29tXFwuY24vcHJvZHVjdC9zaW5nbGUvIjogImxleW91IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaGFpdGFvXFwubGV5b3VcXC5jb21cXC5jbi9pdGVtL3NpbmdsZS9za3UvIjogImxleW91IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbGVsZXNoYW5cXC5sZXlvdVxcLmNvbVxcLmNuL3Byb2R1Y3Qvc2luZ2xlL1tBLVowLTldKyI6ICJsZXlvdS1sZWxlc2hhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnNob3BpblxcLm5ldC9wcm9kdWN0LyI6ICJzaG9waW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzppdGVtfHd3d3xlYmF5KVxcLnhpdVxcLmNvbS9wcm9kdWN0LyI6ICJ4aXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9vdXRsZXRzXFwueGl1XFwuY29tL1tcXGRdK1xcLnNodG1sIjogInhpdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2ZlcnJhZ2Ftb1xcLnhpdVxcLmNvbS9bXFxkXXs2LDEwfVxcLnNodG1sIjogInhpdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC54aXVcXC5jb20vdGVhbV9bXFxkXSsiOiAieGl1LXR1YW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwubWJhb2Jhb1xcLmNvbS9wc2hvdyI6ICJtYmFvYmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWJhb2Jhb1xcLmNvbS9pdGVtLyI6ICJtYmFvYmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnZqaWFcXC5jb20vW1xcZF0qP1xcLmh0bWwiOiAidmppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjdjdlxcLmNvbS9wcm9kdWN0LyI6ICI3Y3YiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5xaW5xaW5iYWJ5XFwuY29tL3Byb2R1Y3QvIjogInFpbnFpbmJhYnkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5xaW5xaW5iYWJ5XFwuY29tL2dvb2RzL1swLTldKyI6ICJxaW5xaW5iYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuY2h1bnNodWl0YW5nXFwuY29tL1thLXpdKy9bMC05XStcXC5odG1sIjogImNodW5zaHVpdGFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhcXC5jb21cXC5jbi9uX3Byb2R1Y3QvW1xcd10rXFwuc2h0bWwiOiAieCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhcXC5jb21cXC5jbi9wcm9kdWN0IjogIngiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5ndW9waVxcLmNvbS9wXFwuanNwIjogImd1b3BpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubm81XFwuY29tXFwuY24vZ29vZHMvIjogIm5vNSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm5vNVxcLmNvbVxcLmNuL3Byb2R1Y3QvWzAtOV0rXFwuaHRtbCI6ICJubzUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93ZWJbXFxkXStcXC5zYXNhXFwuY29tL1Nhc2FXZWIvc2NoL3Byb2R1Y3Qvdmlld1Byb2R1Y3REZXRhaWwiOiAic2FzYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnNhc2FcXC5jb20vW2Etel0rL1thLXpBLVowLTlfLV0rIjogInNhc2EiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kaGNcXC5uZXRcXC5jbi9nZHMvKD86ZGV0YWlsfGNzZWFyY2hcXC5qc3BcXD9jY2Q9W1xcZF0rKSI6ICJkaGMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC45ZGFkYW9cXC5jb20vcHJvZHVjdC8iOiAiOWRhZGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuMzYwa3hyXFwuY29tL3Byb2R1Y3QvIjogIjM2MGt4ciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm02Z29cXC5jb20vcHJvZHVjdCI6ICJtNmdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ291XFwuY29tL3Byb2R1Y3QiOiAibTZnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm02Z29cXC5jb20vcWcvcHJvZHVjdCI6ICJtNmdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ291XFwuY29tL3FnL3Byb2R1Y3QiOiAibTZnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxpa2VmYWNlXFwuY29tL3Byb2R1Y3QiOiAibGlrZWZhY2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5xeGlhblxcLmNvbS8uKj9bMC05XSo/XFwuaHRtbCI6ICJxeGlhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmRpZGFtYWxsXFwuY29tLyg/OnByb2R1Y3RzfGxpYmFvKS9pbmZvLyI6ICJkaWRhbWFsbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlhb2RpYW4xMDBcXC5jb20vZWNtYWxsL3Byb2R1Y3QiOiAieWFvZGlhbjEwMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlhb2ZhbmdcXC5jbi9nb29kcyI6ICJ5YW9mYW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGlqaWFiYWJ5XFwuY29tXFwuY24vKD86ZXNob3AvcHJvZHVjdHxDbG90aGluZy8uKj8vUHJvZHVjdF9pdGVtXFwuYXNweCkiOiAibGlqaWFiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vOTlyZWFkXFwuY29tL1Byb2R1Y3QvW2EtekEtWl0qXFxkK1thLXpBLVpdKlxcLmFzcHgiOiAiOTlyZWFkIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLmNoaW5hLXB1YlxcLmNvbSI6ICJjaGluYS1wdWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3LnwpYm9va3NjaGluYVxcLmNvbS9bXFxkXStcXC5odG0iOiAiYm9va3NjaGluYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3cufClib29rc2NoaW5hXFwuY29tL0dST1VQQlVZL2dyb3VwYnV5LmFzcHhcXD9ncm91cGlkXFw9WzAtOV0rIjogImJvb2tzY2hpbmEtdHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmVmZWlodVxcLmNvbS8oPzpQcm9kdWN0L3xQYWdlcy9Qcm9kdWN0U2hvdy9Qcm9kdWN0RGV0YWlsc1xcLmFzcHgpIjogImVmZWlodSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC5lZmVpaHVcXC5jb20vWzAtOWEtekEtWl0rL0RldGlhbHMuYXNweFxcP2lkPVswLTldKyI6ICJlZmVpaHUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4zNjBtYXJ0XFwuY29tL3Byb2R1Y3Rbc10/Ly4qP1xcLmh0bWwiOiAiMzYwbWFydCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlpbnRhaVxcLmNvbS9wcm9kdWN0L3Byb2R1Y3RkZXRhaWwiOiAieWludGFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnlpbnRhaVxcLmNvbS8iOiAieWludGFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwucXV3YW5cXC5jb20vZ29vZHMiOiAicXV3YW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC51cmNvc21lXFwuY29tL3NlYXJjaC9maW5hbCI6ICJ1cmNvc21lIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY25cXGQqXFwuc3RyYXdiZXJyeW5ldFxcLmNvbS8uKj8vWzAtOV0rLyI6ICJzdHJhd2JlcnJ5bmV0IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubHVjZVxcLmNvbVxcLmNuL3Byb2R1Y3QvIjogImx1Y2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rMTIxXFwuY29tL2l0ZW0iOiAiazEyMSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhhcHBpZ29cXC5jb20vW1xcd10rL1tcXHddKy9bXFx3XSsvW1xcZF0rXFwuaHRtbCI6ICJoYXBwaWdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmhhcHBpZ28uY29tL2l0ZW0tWzAtOV0rLmh0bWwiOiAiaGFwcGlnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC5oYXBwaWdvXFwuY29tL2dvb2RzLVtcXGRdK1xcLmh0bWwiOiAiaGFwcGlnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC5oYXBwaWdvXFwuY29tL2dyb3VwYnV5LVswLTktXStcXC5odG1sIjogImhhcHBpZ28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5nYXBcXC5jbi9bXlxcP10qcHJvZHVjdC9bXFxkXStcXC5odG1sIjogImdhcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1pc3NsZWxlXFwuY29tLy4rW1xcZF0rXFwuaHRtbCI6ICJtaXNzbGVsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjVsdXhcXC5jb20vZ29vZHMiOiAiNWx1eCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xodWkpXFwuNWx1eC5jb20vZ29vZC9kZXRhaWwvWzAtOV0rIjogIjVsdXgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC54aWFvemh1cmVuXFwuY29tLyhEaXNuZXkvKT9nb29kc1xcLnBocCI6ICJ4aWFvemh1cmVuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYWxsM2NcXC5jb20vcHJvZHVjdC8iOiAiYWxsM2MiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5pZGFwaG5lXFwuY29tL2dvb2RzIjogImlkYXBobmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNiYWJ5XFwuY29tXFwuY24vYS8iOiAicGNiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYmluZ2dvXFwuY29tLy4qPy9cXGR7N31cXGQrXFwuaHRtbCI6ICJiaW5nZ28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC50aWFudGlhblxcLmNvbS8uKy9bYS16QS1aXT9bXFxkXStcXC5odG1sIjogInRpYW50aWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdHVhblxcLnRpYW50aWFuXFwuY29tL1NhbGUvKD86RGV0YWlsc3xGbGFzaERldGFpbHMpL1thLXpBLVowLTldKyI6ICJ0aWFudGlhbi10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueGlqaVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAieGlqaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhpamllXFwuY29tL3Byb2QiOiAieGlqaWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwuanVtZWlcXC5jb21bXlxcP10qL3Byb2R1Y3RfIjogImp1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcG9wXFwuanVtZWlcXC5jb20vaS9kZWFsL1xcdytcXC5odG1sIjogImp1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKGd6fGJqfHNoKVxcLmp1bWVpXFwuY29tL2kvZGVhbC9cXHcrXFwuaHRtbCI6ICJqdW1laSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5qdW1laVxcLmNvbS9bMC05YS16QS1aXStcXC5odG1sIjogImp1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuanVtZWlnbG9iYWxcXC5jb20vZGVhbC9cXHcrXFwuaHRtbCI6ICJqdW1laWdsb2JhbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5qdW1laWdsb2JhbFxcLmNvbS9bMC05YS16QS1aXStcXC5odG1sIjogImp1bWVpZ2xvYmFsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuanVtZWlnbG9iYWxcXC5jb20vRGVhbC9Db21iaW5hdGlvblxcPyI6ICJqdW1laWdsb2JhbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2J1eVxcLmNhb21laXBhaVxcLmNvbS9nb29kcyI6ICJjYW9tZWlwYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kYWh1b3poYW5cXC5jb20vcHJvZHVjdC8iOiAiZGFodW96aGFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZGF6aGVcXC5jbi9nb29kc2RldGFpbCI6ICJkYXpoZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmh1b2xpZGFcXC5jb20vcHJvZHVjdC8iOiAiaHVvbGlkYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjEyZGlhblxcLmNvbS9wcm9kdWN0IjogIjEyZGlhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlvdWdvdVxcLmNvbS9jXyI6ICJ5b3Vnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzpvdXRsZXRzfHd3dylcXC55b3Vnb3VcXC5jb20vW14/XStza3UtW1xcd10rIjogInlvdWdvdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Om91dGxldHN8c2VvdWx8d3d3KVxcLnlvdWdvdVxcLmNvbS9bYS16LV0rL3NrdS1bYS16MC05LV0rXFwuc2h0bWwiOiAieW91Z291IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuMTExXFwuY29tXFwuY24vKD86cHJvZHVjdHxpdGVtKS8iOiAiMTExIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZGFveWFvXFwuY29tL3Byb2R1Y3QiOiAiZGFveWFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuamlhbmtlXFwuY29tL3Byb2R1Y3QvIjogImppYW5rZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmppYW5rZVxcLmNvbS90dWFuL3Byb2R1Y3QvWzAtOV0rXFwuaHRtbCI6ICJqaWFua2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4zNjBrYWRcXC5jb20vcHJvZHVjdC9bMC05YS16XStcXC5zaHRtbCI6ICIzNjBrYWQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sYnhjbi5jb20vKD86UHJvZHVjdHxpdGVtKS9bMC05XSsuaHRtbCI6ICJsYnhjbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxieGNuLmNvbS9oZXBzdG9yZWZyb250L2xieC96aC9MQlgvLiovcC9bMC05XSsiOiAibGJ4Y24iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9ib29rXFwuZG91YmFuXFwuY29tL3N1YmplY3QvW1xcZF0rIjogImRvdWJhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2Rvbmd4aVxcLmRvdWJhblxcLmNvbS9zaG93L1tcXGRdKyI6ICJkb3ViYW4tZG9uZ3hpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLml0MTY4XFwuY29tL2RldGFpbC9kb2MvWzAtOV0rL2luZGV4XFwuc2h0bWwiOiAiaXQxNjgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNvbmxpbmVcXC5jb21cXC5jbi9bXi9dKj8vW14vXSo/L1swLTldK1xcLmh0bWwiOiAicGNvbmxpbmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNwb3BcXC5jb20vWzAtOV0rL0luZGV4XFwuaHRtbCI6ICJwY3BvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2Nvc21lXFwucGNsYWR5XFwuY29tXFwuY24vcHJvZHVjdC9bMC05XStcXC5odG1sIjogInBjbGFkeSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2JyYW5kXFwueW9rYVxcLmNvbS9jb3NtZXRpY3MvLio/L2RldGFpbFswLTldK1xcLmh0bSI6ICJ5b2thIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwuNTViYnNcXC5jb20vLio/L2luZGV4WzAtOV0rXFwuc2h0bWwiOiAiNTViYnMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9oenBcXC5vbmx5bGFkeS5jb20vLio/L1swLTldKy8iOiAib25seWxhZHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4yNGRxLmNvbS9wcm9kdWN0Lio/aHRtbCI6ICIyNGRxIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubXV5aW5nemhpamlhXFwuY29tL1Nob3BwaW5nL1Byb2R1Y3REZXRhaWxcXC5hc3B4IjogIm11eWluZ3poaWppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm11eWluZ3poaWppYVxcLmNvbS9wcm9kdWN0L1xcZCtcXC5odG1sIjogIm11eWluZ3poaWppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5tdXlpbmd6aGlqaWFcXC5jb20vXFxkK1xcLmh0bWwiOiAibXV5aW5nemhpamlhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaG91bWFydFxcLmNvbS9wXFwtW1xcZF0rXFwuaHRtbCI6ICJob3VtYXJ0IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwub25seXRzXFwuY24vZ29vZHMiOiAib25seXRzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2lueHVhblxcLmNvbS9wcm9kdWN0Ly4qP1swLTldKj8iOiAid2lueHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC53aW54dWFuXFwuY29tL1swLTldKyI6ICJ3aW54dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwuYm9va3V1XFwuY29tL1swLTldKj9cXC5odG1sIjogImJvb2t1dSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2VcXC5ib29rdXVcXC5jb20vZGV0YWlsXFwucGhwXFw/aWQ9XFxkKyI6ICJib29rdXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93ZW5qdVxcLmJvb2t1dVxcLmNvbS9kZXRhaWxcXC5waHBcXD9pZD1cXGQrIjogImJvb2t1dSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2Jvb2tcXC5iZWlmYWJvb2tcXC5jb20vUHJvZHVjdC9Cb29rRGV0YWlsLmFzcHgiOiAiYmVpZmFib29rIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLnllc2t5XFwuY29tL3Byb2R1Y3QvLio/WzAtOV0qPy8iOiAieWVza3kiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNob21lXFwubmV0Ly4qP1swLTldKj9cXC5odG1sIjogInBjaG9tZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5lbmV0XFwuY29tXFwuY24vW2EtekEtWlxcLV0uKj9bXFxkXS4qP1xcLmh0bWwiOiAiZW5ldCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pPyg/OnJ1aXlpfHJheWkpXFwuKD86Y29tfGNufGNvbVxcLmNuKS9cXD9wcm9kdWN0LVtcXGRdLio/XFwuaHRtbCI6ICJydWl5aSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm5vcFxcLmNuL3Byb2R1Y3QtW1xcZF0qP1xcLmh0bWwiOiAibm9wIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLmltb2JpbGVcXC5jb21cXC5jbi9zaG93L1tcXGRdLio/XFwuaHRtbCI6ICJpbW9iaWxlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLmNubW9cXC5jb20vY2VsbF9waG9uZS9pbmRleFtcXGRdLio/XFwuc2h0bWwiOiAiY25tbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Bob25lXFwuc2hvdWppXFwuY29tXFwuY24vW1xcZF0rL2RldGFpbC9bXFxkXSsiOiAic2hvdWppIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLnRvbXBkYVxcLmNvbS9bYS16QS1aXS9bYS16QS1aXS9bXFxkXSsvW1xcZF0rIjogInRvbXBkYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjM1MzNcXC5jb20vcGhvbmUvcGhvbmUuK1xcLmh0bSI6ICJwaG9uZTM1MzMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwuaW50b3pnY1xcLmNvbS9bYS16QS1aXFxfXStcXF9bXFxkXSsiOiAiaW50b3pnYyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5jaGluYWJ5dGVcXC5jb20vcHJvZHVjdC9bXFxkXSsvW1xcZF0rIjogImNoaW5hYnl0ZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2FwcFxcLnRlY2hcXC5pZmVuZ1xcLmNvbS9bYS16QS1aXFwtXFxfXSsvW2EtekEtWlxcLVxcX10rL1thLXpBLVowLTlcXC1cXF9dKyI6ICJpZmVuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2FwcFxcLnRlY2hcXC5pZmVuZ1xcLmNvbS9bYS16QS1aXFwtXFxfXSsvZGV0YWlsXFwtaW5kZXhcXC1bMC05XStcXC5odG1sIjogImlmZW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3MlxcLnhpdGVrXFwuY29tL3Byb2R1Y3Rpb24vcHJvZHVjdC5waHAiOiAieGl0ZWsiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwuaW1wM1xcLm5ldC9wcm9kdWN0XFwucGhwIjogImltcDMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5tZW5nbHVcXC5jb20vcHJvZHVjdC9bXFxkXStcXC5odG1sIjogIm1lbmdsdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/OmxhZHl8bGluZ2VyaWV8d3d3fGZhc2hpb258c2hpcGlufGl0ZW0pXFwubW9vbmJhc2FcXC5jb20vW2EtekEtWl1cXC1bXFxkXStcXC5odG1sIjogIm1vb25iYXNhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKD86aW5nMmluZ3xxamhlcmJ8a29yaXJsfGFsYXZlc3wwLTEwMHN8Y2hlcnJpZXNwaWV8Y2xhZmllbGR8YmFveWVhaHxzdW9yYW5nfG1vbnRlYW1vcnxydXRpc2hlcilcXC5jb20vcFxcLVtcXGRdK1xcLmh0bWwiOiAibW9vbmJhc2EiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rZWVkZVxcLmNvbShcXC5jbik/L1thLXpBLVpdK1tcXGRdK1xcLmh0bWwiOiAia2VlZGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rZWRlXFwuY29tKFxcLmNuKT8vW2EtekEtWl0rW1xcZF0rXFwuaHRtbCI6ICJrZWVkZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW0oXFwudnQpP1xcLnZhbmNsXFwuY29tL1tcXGRdK1xcLmh0bWwiOiAidmFuY2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kYXpob25nZGlhbnFpXFwuY29tXFwuY24vZGF6aG9uZy9wcm9kdWN0W1xcLVxcZF0rXFwuaHRtIjogImRhemhvbmdkaWFucWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5za2luc3RvcmVjaGluYVxcLmNvbS8uKy8uK1tcXGRdK1xcLXBcXC5odG1sIjogInNraW5zdG9yZWNoaW5hIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLmJ1eVxcLnFxXFwuY29tL2l0ZW0vIjogInFxIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vLipcXC56b2xcXC5jb21cXC5jbi9cXGQrL1xcZCtcXC5odG1sIjogInpvbC1hcnRpY2xlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vLipcXC5wY29ubGluZVxcLmNvbVxcLmNuL1xcZCsvXFxkK1xcLmh0bWwiOiAicGNvbmxpbmUtYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwueWVza3lcXC5jb20vXFxkKy9cXGQrXFwuc2h0bWwiOiAieWVza3ktYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwuaXQxNjhcXC5jb20vW2Etel1cXGQrL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwiOiAiaXQxNjgtYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwucGNwb3BcXC5jb20vZG9jL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwiOiAicGNwb3AtYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwucGNob21lXFwubmV0L2NvbnRlbnQtXFxkK1xcLmh0bWwiOiAicGNob21lLWFydGljbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8uKlxcLjEzOXNob3BcXC5jb20vLio/L1xcZCsvXFxkK1xcLmh0bSI6ICIxMzlzaG9wLWFydGljbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5taWxpZXJcXC5jb20vcHJvZHVjdC8iOiAibWlsaWVyIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3BvcnRpY2FcXC5jbi9nb29kcyI6ICJzcG9ydGljYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnpoZW5waW5cXC5jb20vcHJvZHVjdCI6ICJ6aGVucGluIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ2FvamllXFwuY29tL3Byb2R1Y3QvIjogImdhb2ppZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm5hcnVrb1xcLmNvbVxcLmNuL3Nob3AvcHJvZHVjdC9Hb29kc1xcLmFzcHgiOiAibmFydWtvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKD86dml2aWFufG1hc2FtYXNvfGxpbmttYXNhKVxcLig/OmNvbXxjbikvZ29vZHNfIjogIm1hc2FtYXNvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnNlY29vXFwuY29tLyI6ICJzZWNvbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3BhaW1haVxcLnNlY29vXFwuY29tL1swLTldK1xcLnNodG1sIjogInNlY29vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2FsZVxcLnNlY29vXFwuY29tL1swLTldK1xcLnNodG1sIjogInNlY29vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86d3d3fHR1YW4pXFwuZWhhaWVyXFwuY29tL3Byb2R1Y3QvIjogImVoYWllciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3FpamlcXC5laGFpZXJcXC5jb20vbmV3L25ld0V4cGxvcmVNYW5hZ2VyL2RhdGVpbC9bMC05XSsiOiAiZWhhaWVyIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaGFuZHV5aXNoZVxcLmNvbS9nb29kcyI6ICJoYW5kdXlpc2hlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2JpYW9cXC5jbi9bYS16MC05LV0rXFwuaHRtbCI6ICJ3YmlhbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLndiaWFvXFwuY24vZ29vZHNcXC5waHBcXD9nb29kc19pZD1bMC05XSsiOiAid2JpYW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC53Ymlhb1xcLmNuL3Zhbi1kZXItYmF1d2VkZS1cXHdbMC05XStcXC5odG1sIjogIndiaWFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2hhbmdwaW5cXC5jb20oXFwuaGspKi8uKj9wcm9kdWN0LyI6ICJzaGFuZ3BpbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnBiYVxcLmNuLyg/OnByb2R1Y3R8c3ApIjogInBiYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1ldHJvbWFsbFxcLmNuL1Byb2R1Y3QvIjogIm1ldHJvbWFsbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxpemlcXC5jb20vcHJvZHVjdCI6ICJsaXppIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwua2FkYW5nXFwuY29tL1thLXpBLVowLTkvXSpkZXRhaWxcXGQrIjogImthZGFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmthZGFuZ1xcLmNvbS9wcm9kdWN0L1swLTldKyI6ICJrYWRhbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5haW1lclxcLmNvbVxcLmNuL2dvb2RzLyI6ICJhaW1lciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxhbWl1XFwuY29tL2dvb2RzXyI6ICJsYW1pdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxhbWl1XFwuY29tLyg/Omdvb2RzX3xwcm9kdWN0LSkiOiAibGFtaXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5lc3ByaXRcXC5jbi8oPzpwcm9kdWN0fGl0ZW0pLyI6ICJlc3ByaXQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5saWVib1xcLmNvbS9wcm9kdWN0LyI6ICJsaWVibyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLndhbmdqaXVcXC5jb20vcHJvZHVjdC8oPyFmbGFzaFByb21vdGlvbikiOiAid2FuZ2ppdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy53YW5naml1LmNvbS9tYWxsL2l0ZW0tcGlkLVthLXpBLVowLTldK1xcLmh0bWwiOiAid2FuZ2ppdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhpZnVxdWFuXFwuY29tL3Byb2R1Y3QvIjogInhpZnVxdWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuMTg5XFwuY24vcHJvZHVjdHMvIjogIjE4OSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhpY2RtYVxcLmNvbS9wcm9kdWN0X2RldGFpbF8iOiAiaGljZG1hIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbWFsbFxcLjEwMDEwXFwuY29tL2dvb2RzZGV0YWlsLyI6ICIxMDAxMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmUxMDBcXC5jbi9lYml6L2NoYW5uZWwvKC4qLykrXFxkK1xcLmh0bWwiOiAiZTEwMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuc2Ftc3VuZ1xcLmNvbS9jbi8uKi9wLy4qIjogInNhbXN1bmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zdG9yZVxcLm1laXp1XFwuY29tL3Byb2R1Y3QvIjogIm1laXp1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwubWVpenVcXC5jb20vaXRlbS9cXHcrIjogIm1laXp1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vYjJjXFwuOTU4c2hvcFxcLmNvbS8uKi9cXGQrXFwuaHRtbCI6ICI5NThzaG9wIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwub2tocWJcXC5jb20vaXRlbS9cXGQrXFwuaHRtbCI6ICJva2hxYiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9raHFiXFwuY29tL3FpYW5nL1xcZCsvXFxkK1xcLmh0bWwiOiAib2tocWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC56dGVkZXZpY2VcXC5jb21cXC5jbi9wcm9kdWN0LyI6ICJ6dGVkZXZpY2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kYWxpbmdcXC5jb20vZGV0YWlsLVswLTldK1xcLmh0bWwiOiAiZGFsaW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnNob3dqb3lcXC5jb20vc2t1L1swLTldK1xcLmh0bWwiOiAic2hvd2pveSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9jalxcLmNvbVxcLmNuL2RldGFpbC9bMC05XSsiOiAib2NqIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwub2NqXFwua3IvZGV0YWlsL1swLTldKyI6ICJvY2ota3IiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5vY2pcXC5jb21cXC5jbi9vdHVhbnMvW2Etel0rL1swLTldKyI6ICJvY2otdHVhbiIsCgkJCQkJIl5odHRwOi8vd3d3XFwubHZ5b3VtYWxsXFwuY29tLyh0dWFuL2dvb2RzLXx0bWgvZ29vZHMtfGdvb2RzLylcXGQrIjogImx2eW91bWFsbCIsCgkJCQkJImh0dHA6Ly93d3dcXC5ranRcXC5jb20vcHJvZHVjdC9kZXRhaWwvXFxkKyI6ICJranQiLAoJCQkJCSJodHRwOi8vc3RvcmVcXC5sb2dpdGVjaFxcLmNvbVxcLmNuL3Byby9wcm9EZXRhaWwvXFxkKyI6ICJsb2dpdGVjaCIsCgkJCQkJImh0dHA6Ly9zaG9wXFwuYm9vaGVlXFwuY29tL3N0b3JlL2dvb2RzL1xcdysiOiAiYm9vaGVlIiwKCQkJCQkiaHR0cDovL3d3d1xcLm1laWNpXFwuY29tL3Byb2R1Y3QtW2EtekEtWjAtOS1dK1xcLmh0bWwiOiAibWVpY2kiLAoJCQkJCSJodHRwOi8vd3d3XFwubWVpY2lcXC5jb20vcHJvZHVjdC4qIjogIm1laWNpIiwKCQkJCQkiaHR0cDovLyg/Omdsb2JhbHx5b3V8d3d3KVxcLmJlaWJlaVxcLmNvbS9kZXRhaWwvWzAtOS1dK1xcLmh0bWwiOiAiYmVpYmVpIiwKCQkJCQkiaHR0cDovL3N0b3JlXFwubmlrZVxcLmNvbS9jbi96aF9jbi9wZC9bYS16QS1aMC05XFx1NGUwMC1cXHU5ZmE1LV0rIjogIm5pa2UiLAoJCQkJCSJodHRwOi8vc3RvcmVcXC5uaWtlXFwuY29tL2NuL3poX2NuL3Byb2R1Y3QvW2EtekEtWjAtOVxcdTRlMDAtXFx1OWZhNS1dKyI6ICJuaWtlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZmVuZ3F1XFwuY29tL2RldGFpbC8iOiAiZmVuZ3F1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpXFwuY29tL3NpbG8vLiotZXZlbnQtZXZlbnQvLipcXC5odG1sIjogIm1laSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnZzaWdvXFwuY24vLipcXC5odG1sIjogInZzaWdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3VuZGFuXFwuY29tL3Byb2R1Y3QtWzAtOV0rIjogInN1bmRhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmppYWVcXC5jb20vcHJvZHVjdGRldGFpbCI6ICJqaWFlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaGRcXC56YXpoaXB1XFwuY29tLy4qXFwuYXNwXFw/aWQ9WzAtOV0rIjogInphemhpcHUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5taWNyb3NvZnRzdG9yZVxcLmNvbVxcLmNuLyVFNyVCMSVCQiVFNSU4OCVBQi8uKi9wLy4qIjogIm1pY3Jvc29mdHN0b3JlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueGdkcVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAieGdkcSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d1xcLnwpeHRlcFxcLmNvbVxcLmNuL2dvb2RzL2RvX2luZGV4IjogInh0ZXAiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC54dGVwXFwuY29tXFwuY24vdGVhbS1bMC05XStcXC5odG1sIjogInh0ZXAiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC54dGVwXFwuY29tXFwuY24vc3Bpa2UtWzAtOV0rXFwuaHRtbCI6ICJ4dGVwIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3RhcGxlc1xcLmNuL3Byb2R1Y3QvWzAtOWEtekEtWl0rIjogInN0YXBsZXMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwubWlkZWFcXC5jb20vZGV0YWlsL2luZGV4IjogIm1pZGVhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3MVxcLm1hY3lzXFwuY29tL3Nob3AvcHJvZHVjdC9cXHcrIjogIm1hY3lzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY24uc2hvcGJvcC5jb20vW2EtejAtOS1dKy92cC9cXHcrIjogInNob3Bib3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5odWFcXC5jb20vcHJvZHVjdC9bMC05XStcXC5odG1sIjogImh1YSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3AuemhlODAwLmNvbS9wcm9kdWN0cy9bMC05YS16XSsiOiAiemhlODAwIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmNvc21lLmNvbS9wcm9kdWN0cy9kZXRhaWwucGhwXFw/cHJvZHVjdF9pZCI6ICJjb3NtZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5kaWFwZXJzLmNvbS9wLyI6ICJkaWFwZXJzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LndpbmRlbG4uZGUvemgvXFx3Ky0iOiAid2luZGVsbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5lc2NlbnR1YWwuY29tL1thLXpdK1swLTldKy8iOiAiZXNjZW50dWFsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmJpY2NhbWVyYS5jb20vYmMvZGlzcC9cXHcrIjogImJpY2NhbWVyYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5lc3RlZWxhdWRlci5jb20vcHJvZHVjdC9cXGQrL1xcZCsvXFx3KyI6ICJlc3RlZWxhdWRlciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5zYWtzZmlmdGhhdmVudWUuY29tL21haW4vUHJvZHVjdERldGFpbC5qc3AiOiAic2Frc2ZpZnRoYXZlbnVlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LnRoZXdhdGNoZXJ5LmNvbS9kZXRhaWwuYXNwIjogInRoZXdhdGNoZXJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbS50dWh1Lihjbnxjb20pL1Byb2R1Y3RzLyI6ICJ0dWh1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnR1aHVcXC5jbi9Qcm9kdWN0cy9bQS1aLV0rL1xcZCtcXC5odG1sIjogInR1aHUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9lc2hvcC5odGMuY29tL21hbGwvemgtQ04vaHRjL1thLXowLTktXSsiOiAiaHRjIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcm9zZW9ubHkuY29tLmNuL2l0ZW0vWzAtOV0rLmh0bWwiOiAicm9zZW9ubHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cudGFxdS5jbi9nb29kcy1cXGQrLmh0bWwiOiAidGFxdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3AuanguMTg5LmNuL3dlYi9wcm9kdWN0RGV0YWlsLmFjdGlvblxcP3Byb2R1Y3RJbmZvSUQiOiAiMTg5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmJmdHYuY29tL3Byb2R1Y3QvWzAtOV0rIjogImJmdHYiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuYXhtYWxsLmNvbS5hdS9wL1xcZCtcXC5odG1sIjogImF4bWFsbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxvdm9cXC5jbi9wci1bMC05XStcXC5odG0iOiAibG92byIKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IGwoKTsKCQkJCWkucGFnZUluZm8gPSBlLCBpLnNqZml4IHx8IChpLnNpdGUgJiYgKCJ0YW9iYW8iID09IGkuc2l0ZSB8fCAidG1hbGwiID09IGkuc2l0ZSB8fCBpLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCAiMTY4OCIgPT0gaS5zaXRlKSAmJiAoaS5hbGlTaXRlID0gITApLCBpLm5ld19leHRlbnNpb24gJiYgMCA9PT0gZS50eXBlICYmIChuKDcpLmdldFB1cmVNZWRpYXYoKSwgbigyNSkuaW5pdCgpKSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJISBmdW5jdGlvbih0LCBuKSB7CgkJCSJvYmplY3QiID09IHR5cGVvZiBlICYmICJvYmplY3QiID09IHR5cGVvZiBlLmV4cG9ydHMgPyBlLmV4cG9ydHMgPSB0LmRvY3VtZW50ID8gbih0LCAhMCkgOiBmdW5jdGlvbihlKSB7CgkJCQlpZiAoIWUuZG9jdW1lbnQpIHRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpOwoJCQkJcmV0dXJuIG4oZSkKCQkJfSA6IG4odCkKCQl9KCJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbihhLCBvKSB7CgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJdmFyIHQgPSAibGVuZ3RoIiBpbiBlICYmIGUubGVuZ3RoLAoJCQkJCW4gPSBsZS50eXBlKGUpOwoJCQkJcmV0dXJuICJmdW5jdGlvbiIgPT09IG4gfHwgbGUuaXNXaW5kb3coZSkgPyAhMSA6IDEgPT09IGUubm9kZVR5cGUgJiYgdCA/ICEwIDogImFycmF5IiA9PT0gbiB8fCAwID09PSB0IHx8ICJudW1iZXIiID09IHR5cGVvZiB0ICYmIHQgPiAwICYmIHQgLSAxIGluIGUKCQkJfQoKCQkJZnVuY3Rpb24gcyhlLCB0LCBuKSB7CgkJCQlpZiAobGUuaXNGdW5jdGlvbih0KSkgcmV0dXJuIGxlLmdyZXAoZSwgZnVuY3Rpb24oZSwgaSkgewoJCQkJCXJldHVybiAhIXQuY2FsbChlLCBpLCBlKSAhPT0gbgoJCQkJfSk7CgkJCQlpZiAodC5ub2RlVHlwZSkgcmV0dXJuIGxlLmdyZXAoZSwgZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlID09PSB0ICE9PSBuCgkJCQl9KTsKCQkJCWlmICgic3RyaW5nIiA9PSB0eXBlb2YgdCkgewoJCQkJCWlmIChnZS50ZXN0KHQpKSByZXR1cm4gbGUuZmlsdGVyKHQsIGUsIG4pOwoJCQkJCXQgPSBsZS5maWx0ZXIodCwgZSkKCQkJCX0KCQkJCXJldHVybiBsZS5ncmVwKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUuaW5BcnJheShlLCB0KSA+PSAwICE9PSBuCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBsKGUsIHQpIHsKCQkJCWRvIGUgPSBlW3RdOyB3aGlsZSAoZSAmJiAxICE9PSBlLm5vZGVUeXBlKTsKCQkJCXJldHVybiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGMoZSkgewoJCQkJdmFyIHQgPSB6ZVtlXSA9IHt9OwoJCQkJcmV0dXJuIGxlLmVhY2goZS5tYXRjaChrZSkgfHwgW10sIGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQl0W25dID0gITAKCQkJCX0pLCB0CgkJCX0KCgkJCWZ1bmN0aW9uIGQoKSB7CgkJCQl4ZS5hZGRFdmVudExpc3RlbmVyID8gKHhlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBwLCAhMSksIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsIHAsICExKSkgOiAoeGUuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIHApLCBhLmRldGFjaEV2ZW50KCJvbmxvYWQiLCBwKSkKCQkJfQoKCQkJZnVuY3Rpb24gcCgpIHsKCQkJCSh4ZS5hZGRFdmVudExpc3RlbmVyIHx8ICJsb2FkIiA9PT0gZXZlbnQudHlwZSB8fCAiY29tcGxldGUiID09PSB4ZS5yZWFkeVN0YXRlKSAmJiAoZCgpLCBsZS5yZWFkeSgpKQoJCQl9CgoJCQlmdW5jdGlvbiBoKGUsIHQsIG4pIHsKCQkJCWlmICh2b2lkIDAgPT09IG4gJiYgMSA9PT0gZS5ub2RlVHlwZSkgewoJCQkJCXZhciBpID0gImRhdGEtIiArIHQucmVwbGFjZShOZSwgIi0kMSIpLnRvTG93ZXJDYXNlKCk7CgkJCQkJaWYgKG4gPSBlLmdldEF0dHJpYnV0ZShpKSwgInN0cmluZyIgPT0gdHlwZW9mIG4pIHsKCQkJCQkJdHJ5IHsKCQkJCQkJCW4gPSAidHJ1ZSIgPT09IG4gPyAhMCA6ICJmYWxzZSIgPT09IG4gPyAhMSA6ICJudWxsIiA9PT0gbiA/IG51bGwgOiArbiArICIiID09PSBuID8gK24gOiBTZS50ZXN0KG4pID8gbGUucGFyc2VKU09OKG4pIDogbgoJCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCQlsZS5kYXRhKGUsIHQsIG4pCgkJCQkJfSBlbHNlIG4gPSB2b2lkIDAKCQkJCX0KCQkJCXJldHVybiBuCgkJCX0KCgkJCWZ1bmN0aW9uIHUoZSkgewoJCQkJdmFyIHQ7CgkJCQlmb3IgKHQgaW4gZSkKCQkJCQlpZiAoKCJkYXRhIiAhPT0gdCB8fCAhbGUuaXNFbXB0eU9iamVjdChlW3RdKSkgJiYgInRvSlNPTiIgIT09IHQpIHJldHVybiAhMTsKCQkJCXJldHVybiAhMAoJCQl9CgoJCQlmdW5jdGlvbiBtKGUsIHQsIG4sIGkpIHsKCQkJCWlmIChsZS5hY2NlcHREYXRhKGUpKSB7CgkJCQkJdmFyIGEsIG8sIHIgPSBsZS5leHBhbmRvLAoJCQkJCQlzID0gZS5ub2RlVHlwZSwKCQkJCQkJbCA9IHMgPyBsZS5jYWNoZSA6IGUsCgkJCQkJCWMgPSBzID8gZVtyXSA6IGVbcl0gJiYgcjsKCQkJCQlpZiAoYyAmJiBsW2NdICYmIChpIHx8IGxbY10uZGF0YSkgfHwgdm9pZCAwICE9PSBuIHx8ICJzdHJpbmciICE9IHR5cGVvZiB0KSByZXR1cm4gYyB8fCAoYyA9IHMgPyBlW3JdID0gSy5wb3AoKSB8fCBsZS5ndWlkKysgOiByKSwgbFtjXSB8fCAobFtjXSA9IHMgPyB7fSA6IHsKCQkJCQkJdG9KU09OOiBsZS5ub29wCgkJCQkJfSksICgib2JqZWN0IiA9PSB0eXBlb2YgdCB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiB0KSAmJiAoaSA/IGxbY10gPSBsZS5leHRlbmQobFtjXSwgdCkgOiBsW2NdLmRhdGEgPSBsZS5leHRlbmQobFtjXS5kYXRhLCB0KSksIG8gPSBsW2NdLCBpIHx8IChvLmRhdGEgfHwgKG8uZGF0YSA9IHt9KSwgbyA9IG8uZGF0YSksIHZvaWQgMCAhPT0gbiAmJiAob1tsZS5jYW1lbENhc2UodCldID0gbiksICJzdHJpbmciID09IHR5cGVvZiB0ID8gKGEgPSBvW3RdLCBudWxsID09IGEgJiYgKGEgPSBvW2xlLmNhbWVsQ2FzZSh0KV0pKSA6IGEgPSBvLCBhCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGYoZSwgdCwgbikgewoJCQkJaWYgKGxlLmFjY2VwdERhdGEoZSkpIHsKCQkJCQl2YXIgaSwgYSwgbyA9IGUubm9kZVR5cGUsCgkJCQkJCXIgPSBvID8gbGUuY2FjaGUgOiBlLAoJCQkJCQlzID0gbyA/IGVbbGUuZXhwYW5kb10gOiBsZS5leHBhbmRvOwoJCQkJCWlmIChyW3NdKSB7CgkJCQkJCWlmICh0ICYmIChpID0gbiA/IHJbc10gOiByW3NdLmRhdGEpKSB7CgkJCQkJCQlsZS5pc0FycmF5KHQpID8gdCA9IHQuY29uY2F0KGxlLm1hcCh0LCBsZS5jYW1lbENhc2UpKSA6IHQgaW4gaSA/IHQgPSBbdF0gOiAodCA9IGxlLmNhbWVsQ2FzZSh0KSwgdCA9IHQgaW4gaSA/IFt0XSA6IHQuc3BsaXQoIiAiKSksIGEgPSB0Lmxlbmd0aDsKCQkJCQkJCWZvciAoOyBhLS07KSBkZWxldGUgaVt0W2FdXTsKCQkJCQkJCWlmIChuID8gIXUoaSkgOiAhbGUuaXNFbXB0eU9iamVjdChpKSkgcmV0dXJuCgkJCQkJCX0obiB8fCAoZGVsZXRlIHJbc10uZGF0YSwgdShyW3NdKSkpICYmIChvID8gbGUuY2xlYW5EYXRhKFtlXSwgITApIDogcmUuZGVsZXRlRXhwYW5kbyB8fCByICE9IHIud2luZG93ID8gZGVsZXRlIHJbc10gOiByW3NdID0gbnVsbCkKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGcoKSB7CgkJCQlyZXR1cm4gITAKCQkJfQoKCQkJZnVuY3Rpb24gXygpIHsKCQkJCXJldHVybiAhMQoJCQl9CgoJCQlmdW5jdGlvbiB4KCkgewoJCQkJdHJ5IHsKCQkJCQlyZXR1cm4geGUuYWN0aXZlRWxlbWVudAoJCQkJfSBjYXRjaCAoZSkge30KCQkJfQoKCQkJZnVuY3Rpb24gdyhlKSB7CgkJCQl2YXIgdCA9IFJlLnNwbGl0KCJ8IiksCgkJCQkJbiA9IGUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoJCQkJaWYgKG4uY3JlYXRlRWxlbWVudCkKCQkJCQlmb3IgKDsgdC5sZW5ndGg7KSBuLmNyZWF0ZUVsZW1lbnQodC5wb3AoKSk7CgkJCQlyZXR1cm4gbgoJCQl9CgoJCQlmdW5jdGlvbiB2KGUsIHQpIHsKCQkJCXZhciBuLCBpLCBhID0gMCwKCQkJCQlvID0gdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IENlID8gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0IHx8ICIqIikgOiB0eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsICE9PSBDZSA/IGUucXVlcnlTZWxlY3RvckFsbCh0IHx8ICIqIikgOiB2b2lkIDA7CgkJCQlpZiAoIW8pCgkJCQkJZm9yIChvID0gW10sIG4gPSBlLmNoaWxkTm9kZXMgfHwgZTsgbnVsbCAhPSAoaSA9IG5bYV0pOyBhKyspICF0IHx8IGxlLm5vZGVOYW1lKGksIHQpID8gby5wdXNoKGkpIDogbGUubWVyZ2UobywgdihpLCB0KSk7CgkJCQlyZXR1cm4gdm9pZCAwID09PSB0IHx8IHQgJiYgbGUubm9kZU5hbWUoZSwgdCkgPyBsZS5tZXJnZShbZV0sIG8pIDogbwoJCQl9CgoJCQlmdW5jdGlvbiBiKGUpIHsKCQkJCXFlLnRlc3QoZS50eXBlKSAmJiAoZS5kZWZhdWx0Q2hlY2tlZCA9IGUuY2hlY2tlZCkKCQkJfQoKCQkJZnVuY3Rpb24geShlLCB0KSB7CgkJCQlyZXR1cm4gbGUubm9kZU5hbWUoZSwgInRhYmxlIikgJiYgbGUubm9kZU5hbWUoMTEgIT09IHQubm9kZVR5cGUgPyB0IDogdC5maXJzdENoaWxkLCAidHIiKSA/IGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF0gfHwgZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSkgOiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGsoZSkgewoJCQkJcmV0dXJuIGUudHlwZSA9IChudWxsICE9PSBsZS5maW5kLmF0dHIoZSwgInR5cGUiKSkgKyAiLyIgKyBlLnR5cGUsIGUKCQkJfQoKCQkJZnVuY3Rpb24geihlKSB7CgkJCQl2YXIgdCA9IFZlLmV4ZWMoZS50eXBlKTsKCQkJCXJldHVybiB0ID8gZS50eXBlID0gdFsxXSA6IGUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksIGUKCQkJfQoKCQkJZnVuY3Rpb24gQihlLCB0KSB7CgkJCQlmb3IgKHZhciBuLCBpID0gMDsgbnVsbCAhPSAobiA9IGVbaV0pOyBpKyspIGxlLl9kYXRhKG4sICJnbG9iYWxFdmFsIiwgIXQgfHwgbGUuX2RhdGEodFtpXSwgImdsb2JhbEV2YWwiKSkKCQkJfQoKCQkJZnVuY3Rpb24gaihlLCB0KSB7CgkJCQlpZiAoMSA9PT0gdC5ub2RlVHlwZSAmJiBsZS5oYXNEYXRhKGUpKSB7CgkJCQkJdmFyIG4sIGksIGEsIG8gPSBsZS5fZGF0YShlKSwKCQkJCQkJciA9IGxlLl9kYXRhKHQsIG8pLAoJCQkJCQlzID0gby5ldmVudHM7CgkJCQkJaWYgKHMpIHsKCQkJCQkJZGVsZXRlIHIuaGFuZGxlLCByLmV2ZW50cyA9IHt9OwoJCQkJCQlmb3IgKG4gaW4gcykKCQkJCQkJCWZvciAoaSA9IDAsIGEgPSBzW25dLmxlbmd0aDsgYSA+IGk7IGkrKykgbGUuZXZlbnQuYWRkKHQsIG4sIHNbbl1baV0pCgkJCQkJfQoJCQkJCXIuZGF0YSAmJiAoci5kYXRhID0gbGUuZXh0ZW5kKHt9LCByLmRhdGEpKQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBDKGUsIHQpIHsKCQkJCXZhciBuLCBpLCBhOwoJCQkJaWYgKDEgPT09IHQubm9kZVR5cGUpIHsKCQkJCQlpZiAobiA9IHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgIXJlLm5vQ2xvbmVFdmVudCAmJiB0W2xlLmV4cGFuZG9dKSB7CgkJCQkJCWEgPSBsZS5fZGF0YSh0KTsKCQkJCQkJZm9yIChpIGluIGEuZXZlbnRzKSBsZS5yZW1vdmVFdmVudCh0LCBpLCBhLmhhbmRsZSk7CgkJCQkJCXQucmVtb3ZlQXR0cmlidXRlKGxlLmV4cGFuZG8pCgkJCQkJfQoJCQkJCSJzY3JpcHQiID09PSBuICYmIHQudGV4dCAhPT0gZS50ZXh0ID8gKGsodCkudGV4dCA9IGUudGV4dCwgeih0KSkgOiAib2JqZWN0IiA9PT0gbiA/ICh0LnBhcmVudE5vZGUgJiYgKHQub3V0ZXJIVE1MID0gZS5vdXRlckhUTUwpLCByZS5odG1sNUNsb25lICYmIGUuaW5uZXJIVE1MICYmICFsZS50cmltKHQuaW5uZXJIVE1MKSAmJiAodC5pbm5lckhUTUwgPSBlLmlubmVySFRNTCkpIDogImlucHV0IiA9PT0gbiAmJiBxZS50ZXN0KGUudHlwZSkgPyAodC5kZWZhdWx0Q2hlY2tlZCA9IHQuY2hlY2tlZCA9IGUuY2hlY2tlZCwgdC52YWx1ZSAhPT0gZS52YWx1ZSAmJiAodC52YWx1ZSA9IGUudmFsdWUpKSA6ICJvcHRpb24iID09PSBuID8gdC5kZWZhdWx0U2VsZWN0ZWQgPSB0LnNlbGVjdGVkID0gZS5kZWZhdWx0U2VsZWN0ZWQgOiAoImlucHV0IiA9PT0gbiB8fCAidGV4dGFyZWEiID09PSBuKSAmJiAodC5kZWZhdWx0VmFsdWUgPSBlLmRlZmF1bHRWYWx1ZSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gUyhlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IGxlKHQuY3JlYXRlRWxlbWVudChlKSkuYXBwZW5kVG8odC5ib2R5KSwKCQkJCQlvID0gYS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSAmJiAobiA9IGEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoaVswXSkpID8gbi5kaXNwbGF5IDogbGUuY3NzKGlbMF0sICJkaXNwbGF5Iik7CgkJCQlyZXR1cm4gaS5kZXRhY2goKSwgbwoJCQl9CgoJCQlmdW5jdGlvbiBOKGUpIHsKCQkJCXZhciB0ID0geGUsCgkJCQkJbiA9IGl0W2VdOwoJCQkJcmV0dXJuIG4gfHwgKG4gPSBTKGUsIHQpLCAibm9uZSIgIT09IG4gJiYgbiB8fCAobnQgPSAobnQgfHwgbGUoIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz4iKSkuYXBwZW5kVG8odC5kb2N1bWVudEVsZW1lbnQpLCB0ID0gKG50WzBdLmNvbnRlbnRXaW5kb3cgfHwgbnRbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCwgdC53cml0ZSgpLCB0LmNsb3NlKCksIG4gPSBTKGUsIHQpLCBudC5kZXRhY2goKSksIGl0W2VdID0gbiksIG4KCQkJfQoKCQkJZnVuY3Rpb24gVChlLCB0KSB7CgkJCQlyZXR1cm4gewoJCQkJCWdldDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBuID0gZSgpOwoJCQkJCQlpZiAobnVsbCAhPSBuKSByZXR1cm4gbiA/IHZvaWQgZGVsZXRlIHRoaXMuZ2V0IDogKHRoaXMuZ2V0ID0gdCkuYXBwbHkodGhpcywgYXJndW1lbnRzKQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gUChlLCB0KSB7CgkJCQlpZiAodCBpbiBlKSByZXR1cm4gdDsKCQkJCWZvciAodmFyIG4gPSB0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdC5zbGljZSgxKSwgaSA9IHQsIGEgPSBndC5sZW5ndGg7IGEtLTspCgkJCQkJaWYgKHQgPSBndFthXSArIG4sIHQgaW4gZSkgcmV0dXJuIHQ7CgkJCQlyZXR1cm4gaQoJCQl9CgoJCQlmdW5jdGlvbiBJKGUsIHQpIHsKCQkJCWZvciAodmFyIG4sIGksIGEsIG8gPSBbXSwgciA9IDAsIHMgPSBlLmxlbmd0aDsgcyA+IHI7IHIrKykgaSA9IGVbcl0sIGkuc3R5bGUgJiYgKG9bcl0gPSBsZS5fZGF0YShpLCAib2xkZGlzcGxheSIpLCBuID0gaS5zdHlsZS5kaXNwbGF5LCB0ID8gKG9bcl0gfHwgIm5vbmUiICE9PSBuIHx8IChpLnN0eWxlLmRpc3BsYXkgPSAiIiksICIiID09PSBpLnN0eWxlLmRpc3BsYXkgJiYgSWUoaSkgJiYgKG9bcl0gPSBsZS5fZGF0YShpLCAib2xkZGlzcGxheSIsIE4oaS5ub2RlTmFtZSkpKSkgOiAoYSA9IEllKGkpLCAobiAmJiAibm9uZSIgIT09IG4gfHwgIWEpICYmIGxlLl9kYXRhKGksICJvbGRkaXNwbGF5IiwgYSA/IG4gOiBsZS5jc3MoaSwgImRpc3BsYXkiKSkpKTsKCQkJCWZvciAociA9IDA7IHMgPiByOyByKyspIGkgPSBlW3JdLCBpLnN0eWxlICYmICh0ICYmICJub25lIiAhPT0gaS5zdHlsZS5kaXNwbGF5ICYmICIiICE9PSBpLnN0eWxlLmRpc3BsYXkgfHwgKGkuc3R5bGUuZGlzcGxheSA9IHQgPyBvW3JdIHx8ICIiIDogIm5vbmUiKSk7CgkJCQlyZXR1cm4gZQoJCQl9CgoJCQlmdW5jdGlvbiBBKGUsIHQsIG4pIHsKCQkJCXZhciBpID0gaHQuZXhlYyh0KTsKCQkJCXJldHVybiBpID8gTWF0aC5tYXgoMCwgaVsxXSAtIChuIHx8IDApKSArIChpWzJdIHx8ICJweCIpIDogdAoJCQl9CgoJCQlmdW5jdGlvbiBxKGUsIHQsIG4sIGksIGEpIHsKCQkJCWZvciAodmFyIG8gPSBuID09PSAoaSA/ICJib3JkZXIiIDogImNvbnRlbnQiKSA/IDQgOiAid2lkdGgiID09PSB0ID8gMSA6IDAsIHIgPSAwOyA0ID4gbzsgbyArPSAyKSAibWFyZ2luIiA9PT0gbiAmJiAociArPSBsZS5jc3MoZSwgbiArIFBlW29dLCAhMCwgYSkpLCBpID8gKCJjb250ZW50IiA9PT0gbiAmJiAociAtPSBsZS5jc3MoZSwgInBhZGRpbmciICsgUGVbb10sICEwLCBhKSksICJtYXJnaW4iICE9PSBuICYmIChyIC09IGxlLmNzcyhlLCAiYm9yZGVyIiArIFBlW29dICsgIldpZHRoIiwgITAsIGEpKSkgOiAociArPSBsZS5jc3MoZSwgInBhZGRpbmciICsgUGVbb10sICEwLCBhKSwgInBhZGRpbmciICE9PSBuICYmIChyICs9IGxlLmNzcyhlLCAiYm9yZGVyIiArIFBlW29dICsgIldpZHRoIiwgITAsIGEpKSk7CgkJCQlyZXR1cm4gcgoJCQl9CgoJCQlmdW5jdGlvbiBFKGUsIHQsIG4pIHsKCQkJCXZhciBpID0gITAsCgkJCQkJYSA9ICJ3aWR0aCIgPT09IHQgPyBlLm9mZnNldFdpZHRoIDogZS5vZmZzZXRIZWlnaHQsCgkJCQkJbyA9IGF0KGUpLAoJCQkJCXIgPSByZS5ib3hTaXppbmcgJiYgImJvcmRlci1ib3giID09PSBsZS5jc3MoZSwgImJveFNpemluZyIsICExLCBvKTsKCQkJCWlmICgwID49IGEgfHwgbnVsbCA9PSBhKSB7CgkJCQkJaWYgKGEgPSBvdChlLCB0LCBvKSwgKDAgPiBhIHx8IG51bGwgPT0gYSkgJiYgKGEgPSBlLnN0eWxlW3RdKSwgc3QudGVzdChhKSkgcmV0dXJuIGE7CgkJCQkJaSA9IHIgJiYgKHJlLmJveFNpemluZ1JlbGlhYmxlKCkgfHwgYSA9PT0gZS5zdHlsZVt0XSksIGEgPSBwYXJzZUZsb2F0KGEpIHx8IDAKCQkJCX0KCQkJCXJldHVybiBhICsgcShlLCB0LCBuIHx8IChyID8gImJvcmRlciIgOiAiY29udGVudCIpLCBpLCBvKSArICJweCIKCQkJfQoKCQkJZnVuY3Rpb24gTyhlLCB0LCBuLCBpLCBhKSB7CgkJCQlyZXR1cm4gbmV3IE8ucHJvdG90eXBlLmluaXQoZSwgdCwgbiwgaSwgYSkKCQkJfQoKCQkJZnVuY3Rpb24gTCgpIHsKCQkJCXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCV90ID0gdm9pZCAwCgkJCQl9KSwgX3QgPSBsZS5ub3coKQoJCQl9CgoJCQlmdW5jdGlvbiBEKGUsIHQpIHsKCQkJCXZhciBuLCBpID0gewoJCQkJCQloZWlnaHQ6IGUKCQkJCQl9LAoJCQkJCWEgPSAwOwoJCQkJZm9yICh0ID0gdCA/IDEgOiAwOyA0ID4gYTsgYSArPSAyIC0gdCkgbiA9IFBlW2FdLCBpWyJtYXJnaW4iICsgbl0gPSBpWyJwYWRkaW5nIiArIG5dID0gZTsKCQkJCXJldHVybiB0ICYmIChpLm9wYWNpdHkgPSBpLndpZHRoID0gZSksIGkKCQkJfQoKCQkJZnVuY3Rpb24gTShlLCB0LCBuKSB7CgkJCQlmb3IgKHZhciBpLCBhID0gKGt0W3RdIHx8IFtdKS5jb25jYXQoa3RbIioiXSksIG8gPSAwLCByID0gYS5sZW5ndGg7IHIgPiBvOyBvKyspCgkJCQkJaWYgKGkgPSBhW29dLmNhbGwobiwgdCwgZSkpIHJldHVybiBpCgkJCX0KCgkJCWZ1bmN0aW9uIFIoZSwgdCwgbikgewoJCQkJdmFyIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAgPSB0aGlzLAoJCQkJCWggPSB7fSwKCQkJCQl1ID0gZS5zdHlsZSwKCQkJCQltID0gZS5ub2RlVHlwZSAmJiBJZShlKSwKCQkJCQlmID0gbGUuX2RhdGEoZSwgImZ4c2hvdyIpOwoJCQkJbi5xdWV1ZSB8fCAocyA9IGxlLl9xdWV1ZUhvb2tzKGUsICJmeCIpLCBudWxsID09IHMudW5xdWV1ZWQgJiYgKHMudW5xdWV1ZWQgPSAwLCBsID0gcy5lbXB0eS5maXJlLCBzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHsKCQkJCQlzLnVucXVldWVkIHx8IGwoKQoJCQkJfSksIHMudW5xdWV1ZWQrKywgcC5hbHdheXMoZnVuY3Rpb24oKSB7CgkJCQkJcC5hbHdheXMoZnVuY3Rpb24oKSB7CgkJCQkJCXMudW5xdWV1ZWQtLSwgbGUucXVldWUoZSwgImZ4IikubGVuZ3RoIHx8IHMuZW1wdHkuZmlyZSgpCgkJCQkJfSkKCQkJCX0pKSwgMSA9PT0gZS5ub2RlVHlwZSAmJiAoImhlaWdodCIgaW4gdCB8fCAid2lkdGgiIGluIHQpICYmIChuLm92ZXJmbG93ID0gW3Uub3ZlcmZsb3csIHUub3ZlcmZsb3dYLCB1Lm92ZXJmbG93WV0sIGMgPSBsZS5jc3MoZSwgImRpc3BsYXkiKSwgZCA9ICJub25lIiA9PT0gYyA/IGxlLl9kYXRhKGUsICJvbGRkaXNwbGF5IikgfHwgTihlLm5vZGVOYW1lKSA6IGMsICJpbmxpbmUiID09PSBkICYmICJub25lIiA9PT0gbGUuY3NzKGUsICJmbG9hdCIpICYmIChyZS5pbmxpbmVCbG9ja05lZWRzTGF5b3V0ICYmICJpbmxpbmUiICE9PSBOKGUubm9kZU5hbWUpID8gdS56b29tID0gMSA6IHUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siKSksIG4ub3ZlcmZsb3cgJiYgKHUub3ZlcmZsb3cgPSAiaGlkZGVuIiwgcmUuc2hyaW5rV3JhcEJsb2NrcygpIHx8IHAuYWx3YXlzKGZ1bmN0aW9uKCkgewoJCQkJCXUub3ZlcmZsb3cgPSBuLm92ZXJmbG93WzBdLCB1Lm92ZXJmbG93WCA9IG4ub3ZlcmZsb3dbMV0sIHUub3ZlcmZsb3dZID0gbi5vdmVyZmxvd1syXQoJCQkJfSkpOwoJCQkJZm9yIChpIGluIHQpCgkJCQkJaWYgKGEgPSB0W2ldLCB3dC5leGVjKGEpKSB7CgkJCQkJCWlmIChkZWxldGUgdFtpXSwgbyA9IG8gfHwgInRvZ2dsZSIgPT09IGEsIGEgPT09IChtID8gImhpZGUiIDogInNob3ciKSkgewoJCQkJCQkJaWYgKCJzaG93IiAhPT0gYSB8fCAhZiB8fCB2b2lkIDAgPT09IGZbaV0pIGNvbnRpbnVlOwoJCQkJCQkJbSA9ICEwCgkJCQkJCX0KCQkJCQkJaFtpXSA9IGYgJiYgZltpXSB8fCBsZS5zdHlsZShlLCBpKQoJCQkJCX0gZWxzZSBjID0gdm9pZCAwOwoJCQkJaWYgKGxlLmlzRW1wdHlPYmplY3QoaCkpICJpbmxpbmUiID09PSAoIm5vbmUiID09PSBjID8gTihlLm5vZGVOYW1lKSA6IGMpICYmICh1LmRpc3BsYXkgPSBjKTsKCQkJCWVsc2UgewoJCQkJCWYgPyAiaGlkZGVuIiBpbiBmICYmIChtID0gZi5oaWRkZW4pIDogZiA9IGxlLl9kYXRhKGUsICJmeHNob3ciLCB7fSksIG8gJiYgKGYuaGlkZGVuID0gIW0pLCBtID8gbGUoZSkuc2hvdygpIDogcC5kb25lKGZ1bmN0aW9uKCkgewoJCQkJCQlsZShlKS5oaWRlKCkKCQkJCQl9KSwgcC5kb25lKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdDsKCQkJCQkJbGUuX3JlbW92ZURhdGEoZSwgImZ4c2hvdyIpOwoJCQkJCQlmb3IgKHQgaW4gaCkgbGUuc3R5bGUoZSwgdCwgaFt0XSkKCQkJCQl9KTsKCQkJCQlmb3IgKGkgaW4gaCkgciA9IE0obSA/IGZbaV0gOiAwLCBpLCBwKSwgaSBpbiBmIHx8IChmW2ldID0gci5zdGFydCwgbSAmJiAoci5lbmQgPSByLnN0YXJ0LCByLnN0YXJ0ID0gIndpZHRoIiA9PT0gaSB8fCAiaGVpZ2h0IiA9PT0gaSA/IDEgOiAwKSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gRihlLCB0KSB7CgkJCQl2YXIgbiwgaSwgYSwgbywgcjsKCQkJCWZvciAobiBpbiBlKQoJCQkJCWlmIChpID0gbGUuY2FtZWxDYXNlKG4pLCBhID0gdFtpXSwgbyA9IGVbbl0sIGxlLmlzQXJyYXkobykgJiYgKGEgPSBvWzFdLCBvID0gZVtuXSA9IG9bMF0pLCBuICE9PSBpICYmIChlW2ldID0gbywgZGVsZXRlIGVbbl0pLCByID0gbGUuY3NzSG9va3NbaV0sIHIgJiYgImV4cGFuZCIgaW4gcikgewoJCQkJCQlvID0gci5leHBhbmQobyksIGRlbGV0ZSBlW2ldOwoJCQkJCQlmb3IgKG4gaW4gbykgbiBpbiBlIHx8IChlW25dID0gb1tuXSwgdFtuXSA9IGEpCgkJCQkJfSBlbHNlIHRbaV0gPSBhCgkJCX0KCgkJCWZ1bmN0aW9uICQoZSwgdCwgbikgewoJCQkJdmFyIGksIGEsIG8gPSAwLAoJCQkJCXIgPSB5dC5sZW5ndGgsCgkJCQkJcyA9IGxlLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCkgewoJCQkJCQlkZWxldGUgbC5lbGVtCgkJCQkJfSksCgkJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoYSkgcmV0dXJuICExOwoJCQkJCQlmb3IgKHZhciB0ID0gX3QgfHwgTCgpLCBuID0gTWF0aC5tYXgoMCwgYy5zdGFydFRpbWUgKyBjLmR1cmF0aW9uIC0gdCksIGkgPSBuIC8gYy5kdXJhdGlvbiB8fCAwLCBvID0gMSAtIGksIHIgPSAwLCBsID0gYy50d2VlbnMubGVuZ3RoOyBsID4gcjsgcisrKSBjLnR3ZWVuc1tyXS5ydW4obyk7CgkJCQkJCXJldHVybiBzLm5vdGlmeVdpdGgoZSwgW2MsIG8sIG5dKSwgMSA+IG8gJiYgbCA/IG4gOiAocy5yZXNvbHZlV2l0aChlLCBbY10pLCAhMSkKCQkJCQl9LAoJCQkJCWMgPSBzLnByb21pc2UoewoJCQkJCQllbGVtOiBlLAoJCQkJCQlwcm9wczogbGUuZXh0ZW5kKHt9LCB0KSwKCQkJCQkJb3B0czogbGUuZXh0ZW5kKCEwLCB7CgkJCQkJCQlzcGVjaWFsRWFzaW5nOiB7fQoJCQkJCQl9LCBuKSwKCQkJCQkJb3JpZ2luYWxQcm9wZXJ0aWVzOiB0LAoJCQkJCQlvcmlnaW5hbE9wdGlvbnM6IG4sCgkJCQkJCXN0YXJ0VGltZTogX3QgfHwgTCgpLAoJCQkJCQlkdXJhdGlvbjogbi5kdXJhdGlvbiwKCQkJCQkJdHdlZW5zOiBbXSwKCQkJCQkJY3JlYXRlVHdlZW46IGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJCXZhciBpID0gbGUuVHdlZW4oZSwgYy5vcHRzLCB0LCBuLCBjLm9wdHMuc3BlY2lhbEVhc2luZ1t0XSB8fCBjLm9wdHMuZWFzaW5nKTsKCQkJCQkJCXJldHVybiBjLnR3ZWVucy5wdXNoKGkpLCBpCgkJCQkJCX0sCgkJCQkJCXN0b3A6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXZhciBuID0gMCwKCQkJCQkJCQlpID0gdCA/IGMudHdlZW5zLmxlbmd0aCA6IDA7CgkJCQkJCQlpZiAoYSkgcmV0dXJuIHRoaXM7CgkJCQkJCQlmb3IgKGEgPSAhMDsgaSA+IG47IG4rKykgYy50d2VlbnNbbl0ucnVuKDEpOwoJCQkJCQkJcmV0dXJuIHQgPyBzLnJlc29sdmVXaXRoKGUsIFtjLCB0XSkgOiBzLnJlamVjdFdpdGgoZSwgW2MsIHRdKSwgdGhpcwoJCQkJCQl9CgkJCQkJfSksCgkJCQkJZCA9IGMucHJvcHM7CgkJCQlmb3IgKEYoZCwgYy5vcHRzLnNwZWNpYWxFYXNpbmcpOyByID4gbzsgbysrKQoJCQkJCWlmIChpID0geXRbb10uY2FsbChjLCBlLCBkLCBjLm9wdHMpKSByZXR1cm4gaTsKCQkJCXJldHVybiBsZS5tYXAoZCwgTSwgYyksIGxlLmlzRnVuY3Rpb24oYy5vcHRzLnN0YXJ0KSAmJiBjLm9wdHMuc3RhcnQuY2FsbChlLCBjKSwgbGUuZngudGltZXIobGUuZXh0ZW5kKGwsIHsKCQkJCQllbGVtOiBlLAoJCQkJCWFuaW06IGMsCgkJCQkJcXVldWU6IGMub3B0cy5xdWV1ZQoJCQkJfSkpLCBjLnByb2dyZXNzKGMub3B0cy5wcm9ncmVzcykuZG9uZShjLm9wdHMuZG9uZSwgYy5vcHRzLmNvbXBsZXRlKS5mYWlsKGMub3B0cy5mYWlsKS5hbHdheXMoYy5vcHRzLmFsd2F5cykKCQkJfQoKCQkJZnVuY3Rpb24gVyhlKSB7CgkJCQlyZXR1cm4gZnVuY3Rpb24odCwgbikgewoJCQkJCSJzdHJpbmciICE9IHR5cGVvZiB0ICYmIChuID0gdCwgdCA9ICIqIik7CgkJCQkJdmFyIGksIGEgPSAwLAoJCQkJCQlvID0gdC50b0xvd2VyQ2FzZSgpLm1hdGNoKGtlKSB8fCBbXTsKCQkJCQlpZiAobGUuaXNGdW5jdGlvbihuKSkKCQkJCQkJZm9yICg7IGkgPSBvW2ErK107KSAiKyIgPT09IGkuY2hhckF0KDApID8gKGkgPSBpLnNsaWNlKDEpIHx8ICIqIiwgKGVbaV0gPSBlW2ldIHx8IFtdKS51bnNoaWZ0KG4pKSA6IChlW2ldID0gZVtpXSB8fCBbXSkucHVzaChuKQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBIKGUsIHQsIG4sIGkpIHsKCQkJCWZ1bmN0aW9uIGEocykgewoJCQkJCXZhciBsOwoJCQkJCXJldHVybiBvW3NdID0gITAsIGxlLmVhY2goZVtzXSB8fCBbXSwgZnVuY3Rpb24oZSwgcykgewoJCQkJCQl2YXIgYyA9IHModCwgbiwgaSk7CgkJCQkJCXJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgYyB8fCByIHx8IG9bY10gPyByID8gIShsID0gYykgOiB2b2lkIDAgOiAodC5kYXRhVHlwZXMudW5zaGlmdChjKSwgYShjKSwgITEpCgkJCQkJfSksIGwKCQkJCX0KCQkJCXZhciBvID0ge30sCgkJCQkJciA9IGUgPT09IEd0OwoJCQkJcmV0dXJuIGEodC5kYXRhVHlwZXNbMF0pIHx8ICFvWyIqIl0gJiYgYSgiKiIpCgkJCX0KCgkJCWZ1bmN0aW9uIFUoZSwgdCkgewoJCQkJdmFyIG4sIGksIGEgPSBsZS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307CgkJCQlmb3IgKGkgaW4gdCkgdm9pZCAwICE9PSB0W2ldICYmICgoYVtpXSA/IGUgOiBuIHx8IChuID0ge30pKVtpXSA9IHRbaV0pOwoJCQkJcmV0dXJuIG4gJiYgbGUuZXh0ZW5kKCEwLCBlLCBuKSwgZQoJCQl9CgoJCQlmdW5jdGlvbiBZKGUsIHQsIG4pIHsKCQkJCWZvciAodmFyIGksIGEsIG8sIHIsIHMgPSBlLmNvbnRlbnRzLCBsID0gZS5kYXRhVHlwZXM7CgkJCQkJIioiID09PSBsWzBdOykgbC5zaGlmdCgpLCB2b2lkIDAgPT09IGEgJiYgKGEgPSBlLm1pbWVUeXBlIHx8IHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTsKCQkJCWlmIChhKQoJCQkJCWZvciAociBpbiBzKQoJCQkJCQlpZiAoc1tyXSAmJiBzW3JdLnRlc3QoYSkpIHsKCQkJCQkJCWwudW5zaGlmdChyKTsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCWlmIChsWzBdIGluIG4pIG8gPSBsWzBdOwoJCQkJZWxzZSB7CgkJCQkJZm9yIChyIGluIG4pIHsKCQkJCQkJaWYgKCFsWzBdIHx8IGUuY29udmVydGVyc1tyICsgIiAiICsgbFswXV0pIHsKCQkJCQkJCW8gPSByOwoJCQkJCQkJYnJlYWsKCQkJCQkJfQoJCQkJCQlpIHx8IChpID0gcikKCQkJCQl9CgkJCQkJbyA9IG8gfHwgaQoJCQkJfQoJCQkJcmV0dXJuIG8gPyAobyAhPT0gbFswXSAmJiBsLnVuc2hpZnQobyksIG5bb10pIDogdm9pZCAwCgkJCX0KCgkJCWZ1bmN0aW9uIEcoZSwgdCwgbiwgaSkgewoJCQkJdmFyIGEsIG8sIHIsIHMsIGwsIGMgPSB7fSwKCQkJCQlkID0gZS5kYXRhVHlwZXMuc2xpY2UoKTsKCQkJCWlmIChkWzFdKQoJCQkJCWZvciAociBpbiBlLmNvbnZlcnRlcnMpIGNbci50b0xvd2VyQ2FzZSgpXSA9IGUuY29udmVydGVyc1tyXTsKCQkJCWZvciAobyA9IGQuc2hpZnQoKTsgbzspCgkJCQkJaWYgKGUucmVzcG9uc2VGaWVsZHNbb10gJiYgKG5bZS5yZXNwb25zZUZpZWxkc1tvXV0gPSB0KSwgIWwgJiYgaSAmJiBlLmRhdGFGaWx0ZXIgJiYgKHQgPSBlLmRhdGFGaWx0ZXIodCwgZS5kYXRhVHlwZSkpLCBsID0gbywgbyA9IGQuc2hpZnQoKSkKCQkJCQkJaWYgKCIqIiA9PT0gbykgbyA9IGw7CgkJCQkJCWVsc2UgaWYgKCIqIiAhPT0gbCAmJiBsICE9PSBvKSB7CgkJCQkJaWYgKHIgPSBjW2wgKyAiICIgKyBvXSB8fCBjWyIqICIgKyBvXSwgIXIpCgkJCQkJCWZvciAoYSBpbiBjKQoJCQkJCQkJaWYgKHMgPSBhLnNwbGl0KCIgIiksIHNbMV0gPT09IG8gJiYgKHIgPSBjW2wgKyAiICIgKyBzWzBdXSB8fCBjWyIqICIgKyBzWzBdXSkpIHsKCQkJCQkJCQlyID09PSAhMCA/IHIgPSBjW2FdIDogY1thXSAhPT0gITAgJiYgKG8gPSBzWzBdLCBkLnVuc2hpZnQoc1sxXSkpOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJaWYgKHIgIT09ICEwKQoJCQkJCQlpZiAociAmJiBlWyJ0aHJvd3MiXSkgdCA9IHIodCk7CgkJCQkJCWVsc2UgdHJ5IHsKCQkJCQkJCXQgPSByKHQpCgkJCQkJCX0gY2F0Y2ggKHApIHsKCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJc3RhdGU6ICJwYXJzZXJlcnJvciIsCgkJCQkJCQkJZXJyb3I6IHIgPyBwIDogIk5vIGNvbnZlcnNpb24gZnJvbSAiICsgbCArICIgdG8gIiArIG8KCQkJCQkJCX0KCQkJCQkJfQoJCQkJfQoJCQkJcmV0dXJuIHsKCQkJCQlzdGF0ZTogInN1Y2Nlc3MiLAoJCQkJCWRhdGE6IHQKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gWChlLCB0LCBuLCBpKSB7CgkJCQl2YXIgYTsKCQkJCWlmIChsZS5pc0FycmF5KHQpKSBsZS5lYWNoKHQsIGZ1bmN0aW9uKHQsIGEpIHsKCQkJCQluIHx8IFZ0LnRlc3QoZSkgPyBpKGUsIGEpIDogWChlICsgIlsiICsgKCJvYmplY3QiID09IHR5cGVvZiBhID8gdCA6ICIiKSArICJdIiwgYSwgbiwgaSkKCQkJCX0pOwoJCQkJZWxzZSBpZiAobiB8fCAib2JqZWN0IiAhPT0gbGUudHlwZSh0KSkgaShlLCB0KTsKCQkJCWVsc2UKCQkJCQlmb3IgKGEgaW4gdCkgWChlICsgIlsiICsgYSArICJdIiwgdFthXSwgbiwgaSkKCQkJfQoKCQkJZnVuY3Rpb24gSigpIHsKCQkJCXRyeSB7CgkJCQkJcmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0CgkJCQl9IGNhdGNoIChlKSB7fQoJCQl9CgoJCQlmdW5jdGlvbiBaKCkgewoJCQkJdHJ5IHsKCQkJCQlyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKQoJCQkJfSBjYXRjaCAoZSkge30KCQkJfQoKCQkJZnVuY3Rpb24gVihlKSB7CgkJCQlyZXR1cm4gbGUuaXNXaW5kb3coZSkgPyBlIDogOSA9PT0gZS5ub2RlVHlwZSA/IGUuZGVmYXVsdFZpZXcgfHwgZS5wYXJlbnRXaW5kb3cgOiAhMQoJCQl9CgkJCXZhciBLID0gW10sCgkJCQlRID0gSy5zbGljZSwKCQkJCWVlID0gSy5jb25jYXQsCgkJCQl0ZSA9IEsucHVzaCwKCQkJCW5lID0gSy5pbmRleE9mLAoJCQkJaWUgPSB7fSwKCQkJCWFlID0gaWUudG9TdHJpbmcsCgkJCQlvZSA9IGllLmhhc093blByb3BlcnR5LAoJCQkJcmUgPSB7fSwKCQkJCXNlID0gIjEuMTEuMyIsCgkJCQlsZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gbmV3IGxlLmZuLmluaXQoZSwgdCkKCQkJCX0sCgkJCQljZSA9IC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywKCQkJCWRlID0gL14tbXMtLywKCQkJCXBlID0gLy0oW1xkYS16XSkvZ2ksCgkJCQloZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gdC50b1VwcGVyQ2FzZSgpCgkJCQl9OwoJCQlsZS5mbiA9IGxlLnByb3RvdHlwZSA9IHsKCQkJCWpxdWVyeTogc2UsCgkJCQljb25zdHJ1Y3RvcjogbGUsCgkJCQlzZWxlY3RvcjogIiIsCgkJCQlsZW5ndGg6IDAsCgkJCQl0b0FycmF5OiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gUS5jYWxsKHRoaXMpCgkJCQl9LAoJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIG51bGwgIT0gZSA/IDAgPiBlID8gdGhpc1tlICsgdGhpcy5sZW5ndGhdIDogdGhpc1tlXSA6IFEuY2FsbCh0aGlzKQoJCQkJfSwKCQkJCXB1c2hTdGFjazogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbGUubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLCBlKTsKCQkJCQlyZXR1cm4gdC5wcmV2T2JqZWN0ID0gdGhpcywgdC5jb250ZXh0ID0gdGhpcy5jb250ZXh0LCB0CgkJCQl9LAoJCQkJZWFjaDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBsZS5lYWNoKHRoaXMsIGUsIHQpCgkJCQl9LAoJCQkJbWFwOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKGxlLm1hcCh0aGlzLCBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCXJldHVybiBlLmNhbGwodCwgbiwgdCkKCQkJCQl9KSkKCQkJCX0sCgkJCQlzbGljZTogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKFEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkKCQkJCX0sCgkJCQlmaXJzdDogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMuZXEoMCkKCQkJCX0sCgkJCQlsYXN0OiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gdGhpcy5lcSgtMSkKCQkJCX0sCgkJCQllcTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5sZW5ndGgsCgkJCQkJCW4gPSArZSArICgwID4gZSA/IHQgOiAwKTsKCQkJCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobiA+PSAwICYmIHQgPiBuID8gW3RoaXNbbl1dIDogW10pCgkJCQl9LAoJCQkJZW5kOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IobnVsbCkKCQkJCX0sCgkJCQlwdXNoOiB0ZSwKCQkJCXNvcnQ6IEsuc29ydCwKCQkJCXNwbGljZTogSy5zcGxpY2UKCQkJfSwgbGUuZXh0ZW5kID0gbGUuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSwgdCwgbiwgaSwgYSwgbywgciA9IGFyZ3VtZW50c1swXSB8fCB7fSwKCQkJCQlzID0gMSwKCQkJCQlsID0gYXJndW1lbnRzLmxlbmd0aCwKCQkJCQljID0gITE7CgkJCQlmb3IgKCJib29sZWFuIiA9PSB0eXBlb2YgciAmJiAoYyA9IHIsIHIgPSBhcmd1bWVudHNbc10gfHwge30sIHMrKyksICJvYmplY3QiID09IHR5cGVvZiByIHx8IGxlLmlzRnVuY3Rpb24ocikgfHwgKHIgPSB7fSksIHMgPT09IGwgJiYgKHIgPSB0aGlzLCBzLS0pOyBsID4gczsgcysrKQoJCQkJCWlmIChudWxsICE9IChhID0gYXJndW1lbnRzW3NdKSkKCQkJCQkJZm9yIChpIGluIGEpIGUgPSByW2ldLCBuID0gYVtpXSwgciAhPT0gbiAmJiAoYyAmJiBuICYmIChsZS5pc1BsYWluT2JqZWN0KG4pIHx8ICh0ID0gbGUuaXNBcnJheShuKSkpID8gKHQgPyAodCA9ICExLCBvID0gZSAmJiBsZS5pc0FycmF5KGUpID8gZSA6IFtdKSA6IG8gPSBlICYmIGxlLmlzUGxhaW5PYmplY3QoZSkgPyBlIDoge30sIHJbaV0gPSBsZS5leHRlbmQoYywgbywgbikpIDogdm9pZCAwICE9PSBuICYmIChyW2ldID0gbikpOwoJCQkJcmV0dXJuIHIKCQkJfSwgbGUuZXh0ZW5kKHsKCQkJCWV4cGFuZG86ICJqUXVlcnkiICsgKHNlICsgTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywgIiIpLAoJCQkJaXNSZWFkeTogITAsCgkJCQllcnJvcjogZnVuY3Rpb24oZSkgewoJCQkJCXRocm93IG5ldyBFcnJvcihlKQoJCQkJfSwKCQkJCW5vb3A6IGZ1bmN0aW9uKCkge30sCgkJCQlpc0Z1bmN0aW9uOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuICJmdW5jdGlvbiIgPT09IGxlLnR5cGUoZSkKCQkJCX0sCgkJCQlpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gImFycmF5IiA9PT0gbGUudHlwZShlKQoJCQkJfSwKCQkJCWlzV2luZG93OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIG51bGwgIT0gZSAmJiBlID09IGUud2luZG93CgkJCQl9LAoJCQkJaXNOdW1lcmljOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuICFsZS5pc0FycmF5KGUpICYmIGUgLSBwYXJzZUZsb2F0KGUpICsgMSA+PSAwCgkJCQl9LAoJCQkJaXNFbXB0eU9iamVjdDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0OwoJCQkJCWZvciAodCBpbiBlKSByZXR1cm4gITE7CgkJCQkJcmV0dXJuICEwCgkJCQl9LAoJCQkJaXNQbGFpbk9iamVjdDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0OwoJCQkJCWlmICghZSB8fCAib2JqZWN0IiAhPT0gbGUudHlwZShlKSB8fCBlLm5vZGVUeXBlIHx8IGxlLmlzV2luZG93KGUpKSByZXR1cm4gITE7CgkJCQkJdHJ5IHsKCQkJCQkJaWYgKGUuY29uc3RydWN0b3IgJiYgIW9lLmNhbGwoZSwgImNvbnN0cnVjdG9yIikgJiYgIW9lLmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICJpc1Byb3RvdHlwZU9mIikpIHJldHVybiAhMQoJCQkJCX0gY2F0Y2ggKG4pIHsKCQkJCQkJcmV0dXJuICExCgkJCQkJfQoJCQkJCWlmIChyZS5vd25MYXN0KQoJCQkJCQlmb3IgKHQgaW4gZSkgcmV0dXJuIG9lLmNhbGwoZSwgdCk7CgkJCQkJZm9yICh0IGluIGUpOwoJCQkJCXJldHVybiB2b2lkIDAgPT09IHQgfHwgb2UuY2FsbChlLCB0KQoJCQkJfSwKCQkJCXR5cGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbnVsbCA9PSBlID8gZSArICIiIDogIm9iamVjdCIgPT0gdHlwZW9mIGUgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGllW2FlLmNhbGwoZSldIHx8ICJvYmplY3QiIDogdHlwZW9mIGUKCQkJCX0sCgkJCQlnbG9iYWxFdmFsOiBmdW5jdGlvbihlKSB7CgkJCQkJZSAmJiBsZS50cmltKGUpICYmIChhLmV4ZWNTY3JpcHQgfHwgZnVuY3Rpb24oZSkgewoJCQkJCQlhLmV2YWwuY2FsbChhLCBlKQoJCQkJCX0pKGUpCgkJCQl9LAoJCQkJY2FtZWxDYXNlOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUucmVwbGFjZShkZSwgIm1zLSIpLnJlcGxhY2UocGUsIGhlKQoJCQkJfSwKCQkJCW5vZGVOYW1lOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGUubm9kZU5hbWUgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0LnRvTG93ZXJDYXNlKCkKCQkJCX0sCgkJCQllYWNoOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEgPSAwLAoJCQkJCQlvID0gZS5sZW5ndGgsCgkJCQkJCXMgPSByKGUpOwoJCQkJCWlmIChuKSB7CgkJCQkJCWlmIChzKQoJCQkJCQkJZm9yICg7IG8gPiBhICYmIChpID0gdC5hcHBseShlW2FdLCBuKSwgaSAhPT0gITEpOyBhKyspOwoJCQkJCQllbHNlCgkJCQkJCQlmb3IgKGEgaW4gZSkKCQkJCQkJCQlpZiAoaSA9IHQuYXBwbHkoZVthXSwgbiksIGkgPT09ICExKSBicmVhawoJCQkJCX0gZWxzZSBpZiAocykKCQkJCQkJZm9yICg7IG8gPiBhICYmIChpID0gdC5jYWxsKGVbYV0sIGEsIGVbYV0pLCBpICE9PSAhMSk7IGErKyk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKGEgaW4gZSkKCQkJCQkJCWlmIChpID0gdC5jYWxsKGVbYV0sIGEsIGVbYV0pLCBpID09PSAhMSkgYnJlYWs7IHJldHVybiBlCgkJCQl9LAoJCQkJdHJpbTogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBudWxsID09IGUgPyAiIiA6IChlICsgIiIpLnJlcGxhY2UoY2UsICIiKQoJCQkJfSwKCQkJCW1ha2VBcnJheTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdCB8fCBbXTsKCQkJCQlyZXR1cm4gbnVsbCAhPSBlICYmIChyKE9iamVjdChlKSkgPyBsZS5tZXJnZShuLCAic3RyaW5nIiA9PSB0eXBlb2YgZSA/IFtlXSA6IGUpIDogdGUuY2FsbChuLCBlKSksIG4KCQkJCX0sCgkJCQlpbkFycmF5OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGk7CgkJCQkJaWYgKHQpIHsKCQkJCQkJaWYgKG5lKSByZXR1cm4gbmUuY2FsbCh0LCBlLCBuKTsKCQkJCQkJZm9yIChpID0gdC5sZW5ndGgsIG4gPSBuID8gMCA+IG4gPyBNYXRoLm1heCgwLCBpICsgbikgOiBuIDogMDsgaSA+IG47IG4rKykKCQkJCQkJCWlmIChuIGluIHQgJiYgdFtuXSA9PT0gZSkgcmV0dXJuIG4KCQkJCQl9CgkJCQkJcmV0dXJuIC0xCgkJCQl9LAoJCQkJbWVyZ2U6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuID0gK3QubGVuZ3RoLCBpID0gMCwgYSA9IGUubGVuZ3RoOyBuID4gaTspIGVbYSsrXSA9IHRbaSsrXTsKCQkJCQlpZiAobiAhPT0gbikKCQkJCQkJZm9yICg7IHZvaWQgMCAhPT0gdFtpXTspIGVbYSsrXSA9IHRbaSsrXTsKCQkJCQlyZXR1cm4gZS5sZW5ndGggPSBhLCBlCgkJCQl9LAoJCQkJZ3JlcDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCWZvciAodmFyIGksIGEgPSBbXSwgbyA9IDAsIHIgPSBlLmxlbmd0aCwgcyA9ICFuOyByID4gbzsgbysrKSBpID0gIXQoZVtvXSwgbyksIGkgIT09IHMgJiYgYS5wdXNoKGVbb10pOwoJCQkJCXJldHVybiBhCgkJCQl9LAoJCQkJbWFwOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEgPSAwLAoJCQkJCQlvID0gZS5sZW5ndGgsCgkJCQkJCXMgPSByKGUpLAoJCQkJCQlsID0gW107CgkJCQkJaWYgKHMpCgkJCQkJCWZvciAoOyBvID4gYTsgYSsrKSBpID0gdChlW2FdLCBhLCBuKSwgbnVsbCAhPSBpICYmIGwucHVzaChpKTsKCQkJCQllbHNlCgkJCQkJCWZvciAoYSBpbiBlKSBpID0gdChlW2FdLCBhLCBuKSwgbnVsbCAhPSBpICYmIGwucHVzaChpKTsKCQkJCQlyZXR1cm4gZWUuYXBwbHkoW10sIGwpCgkJCQl9LAoJCQkJZ3VpZDogMSwKCQkJCXByb3h5OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIGE7CgkJCQkJcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiB0ICYmIChhID0gZVt0XSwgdCA9IGUsIGUgPSBhKSwgbGUuaXNGdW5jdGlvbihlKSA/IChuID0gUS5jYWxsKGFyZ3VtZW50cywgMiksIGkgPSBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIGUuYXBwbHkodCB8fCB0aGlzLCBuLmNvbmNhdChRLmNhbGwoYXJndW1lbnRzKSkpCgkJCQkJfSwgaS5ndWlkID0gZS5ndWlkID0gZS5ndWlkIHx8IGxlLmd1aWQrKywgaSkgOiB2b2lkIDAKCQkJCX0sCgkJCQlub3c6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiArbmV3IERhdGUKCQkJCX0sCgkJCQlzdXBwb3J0OiByZQoJCQl9KSwgbGUuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJaWVbIltvYmplY3QgIiArIHQgKyAiXSJdID0gdC50b0xvd2VyQ2FzZSgpCgkJCX0pOwoJCQl2YXIgdWUgPSBmdW5jdGlvbihlKSB7CgkJCQlmdW5jdGlvbiB0KGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbywgciwgcywgbCwgYywgcCwgdSwgbSwgZjsKCQkJCQlpZiAoKHQgPyB0Lm93bmVyRG9jdW1lbnQgfHwgdCA6IFIpICE9PSBJICYmIFAodCksIHQgPSB0IHx8IEksIG4gPSBuIHx8IFtdLCBzID0gdC5ub2RlVHlwZSwgInN0cmluZyIgIT0gdHlwZW9mIGUgfHwgIWUgfHwgMSAhPT0gcyAmJiA5ICE9PSBzICYmIDExICE9PSBzKSByZXR1cm4gbjsKCQkJCQlpZiAoIWkgJiYgcSkgewoJCQkJCQlpZiAoMTEgIT09IHMgJiYgKGEgPSB4ZS5leGVjKGUpKSkKCQkJCQkJCWlmIChyID0gYVsxXSkgewoJCQkJCQkJCWlmICg5ID09PSBzKSB7CgkJCQkJCQkJCWlmIChvID0gdC5nZXRFbGVtZW50QnlJZChyKSwgIW8gfHwgIW8ucGFyZW50Tm9kZSkgcmV0dXJuIG47CgkJCQkJCQkJCWlmIChvLmlkID09PSByKSByZXR1cm4gbi5wdXNoKG8pLCBuCgkJCQkJCQkJfSBlbHNlIGlmICh0Lm93bmVyRG9jdW1lbnQgJiYgKG8gPSB0Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocikpICYmIEQodCwgbykgJiYgby5pZCA9PT0gcikgcmV0dXJuIG4ucHVzaChvKSwgbgoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlpZiAoYVsyXSkgcmV0dXJuIEsuYXBwbHkobiwgdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSksIG47CgkJCQkJCQkJaWYgKChyID0gYVszXSkgJiYgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSByZXR1cm4gSy5hcHBseShuLCB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocikpLCBuCgkJCQkJCQl9CgkJCQkJCWlmIChiLnFzYSAmJiAoIUUgfHwgIUUudGVzdChlKSkpIHsKCQkJCQkJCWlmICh1ID0gcCA9IE0sIG0gPSB0LCBmID0gMSAhPT0gcyAmJiBlLCAxID09PSBzICYmICJvYmplY3QiICE9PSB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHsKCQkJCQkJCQlmb3IgKGMgPSBCKGUpLCAocCA9IHQuZ2V0QXR0cmlidXRlKCJpZCIpKSA/IHUgPSBwLnJlcGxhY2UodmUsICJcXCQmIikgOiB0LnNldEF0dHJpYnV0ZSgiaWQiLCB1KSwgdSA9ICJbaWQ9JyIgKyB1ICsgIiddICIsIGwgPSBjLmxlbmd0aDsgbC0tOykgY1tsXSA9IHUgKyBoKGNbbF0pOwoJCQkJCQkJCW0gPSB3ZS50ZXN0KGUpICYmIGQodC5wYXJlbnROb2RlKSB8fCB0LCBmID0gYy5qb2luKCIsIikKCQkJCQkJCX0KCQkJCQkJCWlmIChmKSB0cnkgewoJCQkJCQkJCXJldHVybiBLLmFwcGx5KG4sIG0ucXVlcnlTZWxlY3RvckFsbChmKSksIG4KCQkJCQkJCX0gY2F0Y2ggKGcpIHt9IGZpbmFsbHkgewoJCQkJCQkJCXAgfHwgdC5yZW1vdmVBdHRyaWJ1dGUoImlkIikKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gQyhlLnJlcGxhY2UobGUsICIkMSIpLCB0LCBuLCBpKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG4oKSB7CgkJCQkJZnVuY3Rpb24gZShuLCBpKSB7CgkJCQkJCXJldHVybiB0LnB1c2gobiArICIgIikgPiB5LmNhY2hlTGVuZ3RoICYmIGRlbGV0ZSBlW3Quc2hpZnQoKV0sIGVbbiArICIgIl0gPSBpCgkJCQkJfQoJCQkJCXZhciB0ID0gW107CgkJCQkJcmV0dXJuIGUKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQlyZXR1cm4gZVtNXSA9ICEwLCBlCgkJCQl9CgoJCQkJZnVuY3Rpb24gYShlKSB7CgkJCQkJdmFyIHQgPSBJLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCXRyeSB7CgkJCQkJCXJldHVybiAhIWUodCkKCQkJCQl9IGNhdGNoIChuKSB7CgkJCQkJCXJldHVybiAhMQoJCQkJCX0gZmluYWxseSB7CgkJCQkJCXQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksIHQgPSBudWxsCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG8oZSwgdCkgewoJCQkJCWZvciAodmFyIG4gPSBlLnNwbGl0KCJ8IiksIGkgPSBlLmxlbmd0aDsgaS0tOykgeS5hdHRySGFuZGxlW25baV1dID0gdAoJCQkJfQoKCQkJCWZ1bmN0aW9uIHIoZSwgdCkgewoJCQkJCXZhciBuID0gdCAmJiBlLAoJCQkJCQlpID0gbiAmJiAxID09PSBlLm5vZGVUeXBlICYmIDEgPT09IHQubm9kZVR5cGUgJiYgKH50LnNvdXJjZUluZGV4IHx8IEcpIC0gKH5lLnNvdXJjZUluZGV4IHx8IEcpOwoJCQkJCWlmIChpKSByZXR1cm4gaTsKCQkJCQlpZiAobikKCQkJCQkJZm9yICg7IG4gPSBuLm5leHRTaWJsaW5nOykKCQkJCQkJCWlmIChuID09PSB0KSByZXR1cm4gLTE7CgkJCQkJcmV0dXJuIGUgPyAxIDogLTEKCQkJCX0KCgkJCQlmdW5jdGlvbiBzKGUpIHsKCQkJCQlyZXR1cm4gZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgbiA9IHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQkJCQkJcmV0dXJuICJpbnB1dCIgPT09IG4gJiYgdC50eXBlID09PSBlCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGwoZSkgewoJCQkJCXJldHVybiBmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoJCQkJCQlyZXR1cm4gKCJpbnB1dCIgPT09IG4gfHwgImJ1dHRvbiIgPT09IG4pICYmIHQudHlwZSA9PT0gZQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQlyZXR1cm4gaShmdW5jdGlvbih0KSB7CgkJCQkJCXJldHVybiB0ID0gK3QsIGkoZnVuY3Rpb24obiwgaSkgewoJCQkJCQkJZm9yICh2YXIgYSwgbyA9IGUoW10sIG4ubGVuZ3RoLCB0KSwgciA9IG8ubGVuZ3RoOyByLS07KSBuW2EgPSBvW3JdXSAmJiAoblthXSA9ICEoaVthXSA9IG5bYV0pKQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9CgoJCQkJZnVuY3Rpb24gZChlKSB7CgkJCQkJcmV0dXJuIGUgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgJiYgZQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHAoKSB7fQoKCQkJCWZ1bmN0aW9uIGgoZSkgewoJCQkJCWZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGgsIGkgPSAiIjsgbiA+IHQ7IHQrKykgaSArPSBlW3RdLnZhbHVlOwoJCQkJCXJldHVybiBpCgkJCQl9CgoJCQkJZnVuY3Rpb24gdShlLCB0LCBuKSB7CgkJCQkJdmFyIGkgPSB0LmRpciwKCQkJCQkJYSA9IG4gJiYgInBhcmVudE5vZGUiID09PSBpLAoJCQkJCQlvID0gJCsrOwoJCQkJCXJldHVybiB0LmZpcnN0ID8gZnVuY3Rpb24odCwgbiwgbykgewoJCQkJCQlmb3IgKDsgdCA9IHRbaV07KQoJCQkJCQkJaWYgKDEgPT09IHQubm9kZVR5cGUgfHwgYSkgcmV0dXJuIGUodCwgbiwgbykKCQkJCQl9IDogZnVuY3Rpb24odCwgbiwgcikgewoJCQkJCQl2YXIgcywgbCwgYyA9IFtGLCBvXTsKCQkJCQkJaWYgKHIpIHsKCQkJCQkJCWZvciAoOyB0ID0gdFtpXTspCgkJCQkJCQkJaWYgKCgxID09PSB0Lm5vZGVUeXBlIHx8IGEpICYmIGUodCwgbiwgcikpIHJldHVybiAhMAoJCQkJCQl9IGVsc2UKCQkJCQkJCWZvciAoOyB0ID0gdFtpXTspCgkJCQkJCQkJaWYgKDEgPT09IHQubm9kZVR5cGUgfHwgYSkgewoJCQkJCQkJCQlpZiAobCA9IHRbTV0gfHwgKHRbTV0gPSB7fSksIChzID0gbFtpXSkgJiYgc1swXSA9PT0gRiAmJiBzWzFdID09PSBvKSByZXR1cm4gY1syXSA9IHNbMl07CgkJCQkJCQkJCWlmIChsW2ldID0gYywgY1syXSA9IGUodCwgbiwgcikpIHJldHVybiAhMAoJCQkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gbShlKSB7CgkJCQkJcmV0dXJuIGUubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJZm9yICh2YXIgYSA9IGUubGVuZ3RoOyBhLS07KQoJCQkJCQkJaWYgKCFlW2FdKHQsIG4sIGkpKSByZXR1cm4gITE7CgkJCQkJCXJldHVybiAhMAoJCQkJCX0gOiBlWzBdCgkJCQl9CgoJCQkJZnVuY3Rpb24gZihlLCBuLCBpKSB7CgkJCQkJZm9yICh2YXIgYSA9IDAsIG8gPSBuLmxlbmd0aDsgbyA+IGE7IGErKykgdChlLCBuW2FdLCBpKTsKCQkJCQlyZXR1cm4gaQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGcoZSwgdCwgbiwgaSwgYSkgewoJCQkJCWZvciAodmFyIG8sIHIgPSBbXSwgcyA9IDAsIGwgPSBlLmxlbmd0aCwgYyA9IG51bGwgIT0gdDsgbCA+IHM7IHMrKykobyA9IGVbc10pICYmICghbiB8fCBuKG8sIGksIGEpKSAmJiAoci5wdXNoKG8pLCBjICYmIHQucHVzaChzKSk7CgkJCQkJcmV0dXJuIHIKCQkJCX0KCgkJCQlmdW5jdGlvbiBfKGUsIHQsIG4sIGEsIG8sIHIpIHsKCQkJCQlyZXR1cm4gYSAmJiAhYVtNXSAmJiAoYSA9IF8oYSkpLCBvICYmICFvW01dICYmIChvID0gXyhvLCByKSksIGkoZnVuY3Rpb24oaSwgciwgcywgbCkgewoJCQkJCQl2YXIgYywgZCwgcCwgaCA9IFtdLAoJCQkJCQkJdSA9IFtdLAoJCQkJCQkJbSA9IHIubGVuZ3RoLAoJCQkJCQkJXyA9IGkgfHwgZih0IHx8ICIqIiwgcy5ub2RlVHlwZSA/IFtzXSA6IHMsIFtdKSwKCQkJCQkJCXggPSAhZSB8fCAhaSAmJiB0ID8gXyA6IGcoXywgaCwgZSwgcywgbCksCgkJCQkJCQl3ID0gbiA/IG8gfHwgKGkgPyBlIDogbSB8fCBhKSA/IFtdIDogciA6IHg7CgkJCQkJCWlmIChuICYmIG4oeCwgdywgcywgbCksIGEpCgkJCQkJCQlmb3IgKGMgPSBnKHcsIHUpLCBhKGMsIFtdLCBzLCBsKSwgZCA9IGMubGVuZ3RoOyBkLS07KShwID0gY1tkXSkgJiYgKHdbdVtkXV0gPSAhKHhbdVtkXV0gPSBwKSk7CgkJCQkJCWlmIChpKSB7CgkJCQkJCQlpZiAobyB8fCBlKSB7CgkJCQkJCQkJaWYgKG8pIHsKCQkJCQkJCQkJZm9yIChjID0gW10sIGQgPSB3Lmxlbmd0aDsgZC0tOykocCA9IHdbZF0pICYmIGMucHVzaCh4W2RdID0gcCk7CgkJCQkJCQkJCW8obnVsbCwgdyA9IFtdLCBjLCBsKQoJCQkJCQkJCX0KCQkJCQkJCQlmb3IgKGQgPSB3Lmxlbmd0aDsgZC0tOykocCA9IHdbZF0pICYmIChjID0gbyA/IGVlKGksIHApIDogaFtkXSkgPiAtMSAmJiAoaVtjXSA9ICEocltjXSA9IHApKQoJCQkJCQkJfQoJCQkJCQl9IGVsc2UgdyA9IGcodyA9PT0gciA/IHcuc3BsaWNlKG0sIHcubGVuZ3RoKSA6IHcpLCBvID8gbyhudWxsLCByLCB3LCBsKSA6IEsuYXBwbHkociwgdykKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHgoZSkgewoJCQkJCWZvciAodmFyIHQsIG4sIGksIGEgPSBlLmxlbmd0aCwgbyA9IHkucmVsYXRpdmVbZVswXS50eXBlXSwgciA9IG8gfHwgeS5yZWxhdGl2ZVsiICJdLCBzID0gbyA/IDEgOiAwLCBsID0gdShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlID09PSB0CgkJCQkJfSwgciwgITApLCBjID0gdShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlZSh0LCBlKSA+IC0xCgkJCQkJfSwgciwgITApLCBkID0gWwoJCQkJCQlmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJCQl2YXIgYSA9ICFvICYmIChpIHx8IG4gIT09IFMpIHx8ICgodCA9IG4pLm5vZGVUeXBlID8gbChlLCBuLCBpKSA6IGMoZSwgbiwgaSkpOwoJCQkJCQkJcmV0dXJuIHQgPSBudWxsLCBhCgkJCQkJCX0KCQkJCQldOyBhID4gczsgcysrKQoJCQkJCQlpZiAobiA9IHkucmVsYXRpdmVbZVtzXS50eXBlXSkgZCA9IFt1KG0oZCksIG4pXTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlpZiAobiA9IHkuZmlsdGVyW2Vbc10udHlwZV0uYXBwbHkobnVsbCwgZVtzXS5tYXRjaGVzKSwgbltNXSkgewoJCQkJCQkJCWZvciAoaSA9ICsrczsgYSA+IGkgJiYgIXkucmVsYXRpdmVbZVtpXS50eXBlXTsgaSsrKTsKCQkJCQkJCQlyZXR1cm4gXyhzID4gMSAmJiBtKGQpLCBzID4gMSAmJiBoKGUuc2xpY2UoMCwgcyAtIDEpLmNvbmNhdCh7CgkJCQkJCQkJCXZhbHVlOiAiICIgPT09IGVbcyAtIDJdLnR5cGUgPyAiKiIgOiAiIgoJCQkJCQkJCX0pKS5yZXBsYWNlKGxlLCAiJDEiKSwgbiwgaSA+IHMgJiYgeChlLnNsaWNlKHMsIGkpKSwgYSA+IGkgJiYgeChlID0gZS5zbGljZShpKSksIGEgPiBpICYmIGgoZSkpCgkJCQkJCQl9CgkJCQkJCQlkLnB1c2gobikKCQkJCQkJfQoJCQkJCXJldHVybiBtKGQpCgkJCQl9CgoJCQkJZnVuY3Rpb24gdyhlLCBuKSB7CgkJCQkJdmFyIGEgPSBuLmxlbmd0aCA+IDAsCgkJCQkJCW8gPSBlLmxlbmd0aCA+IDAsCgkJCQkJCXIgPSBmdW5jdGlvbihpLCByLCBzLCBsLCBjKSB7CgkJCQkJCQl2YXIgZCwgcCwgaCwgdSA9IDAsCgkJCQkJCQkJbSA9ICIwIiwKCQkJCQkJCQlmID0gaSAmJiBbXSwKCQkJCQkJCQlfID0gW10sCgkJCQkJCQkJeCA9IFMsCgkJCQkJCQkJdyA9IGkgfHwgbyAmJiB5LmZpbmQuVEFHKCIqIiwgYyksCgkJCQkJCQkJdiA9IEYgKz0gbnVsbCA9PSB4ID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgLjEsCgkJCQkJCQkJYiA9IHcubGVuZ3RoOwoJCQkJCQkJZm9yIChjICYmIChTID0gciAhPT0gSSAmJiByKTsgbSAhPT0gYiAmJiBudWxsICE9IChkID0gd1ttXSk7IG0rKykgewoJCQkJCQkJCWlmIChvICYmIGQpIHsKCQkJCQkJCQkJZm9yIChwID0gMDsgaCA9IGVbcCsrXTspCgkJCQkJCQkJCQlpZiAoaChkLCByLCBzKSkgewoJCQkJCQkJCQkJCWwucHVzaChkKTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQljICYmIChGID0gdikKCQkJCQkJCQl9CgkJCQkJCQkJYSAmJiAoKGQgPSAhaCAmJiBkKSAmJiB1LS0sIGkgJiYgZi5wdXNoKGQpKQoJCQkJCQkJfQoJCQkJCQkJaWYgKHUgKz0gbSwgYSAmJiBtICE9PSB1KSB7CgkJCQkJCQkJZm9yIChwID0gMDsgaCA9IG5bcCsrXTspIGgoZiwgXywgciwgcyk7CgkJCQkJCQkJaWYgKGkpIHsKCQkJCQkJCQkJaWYgKHUgPiAwKQoJCQkJCQkJCQkJZm9yICg7IG0tLTspIGZbbV0gfHwgX1ttXSB8fCAoX1ttXSA9IFouY2FsbChsKSk7CgkJCQkJCQkJCV8gPSBnKF8pCgkJCQkJCQkJfQoJCQkJCQkJCUsuYXBwbHkobCwgXyksIGMgJiYgIWkgJiYgXy5sZW5ndGggPiAwICYmIHUgKyBuLmxlbmd0aCA+IDEgJiYgdC51bmlxdWVTb3J0KGwpCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gYyAmJiAoRiA9IHYsIFMgPSB4KSwgZgoJCQkJCQl9OwoJCQkJCXJldHVybiBhID8gaShyKSA6IHIKCQkJCX0KCQkJCXZhciB2LCBiLCB5LCBrLCB6LCBCLCBqLCBDLCBTLCBOLCBULCBQLCBJLCBBLCBxLCBFLCBPLCBMLCBELCBNID0gInNpenpsZSIgKyAxICogbmV3IERhdGUsCgkJCQkJUiA9IGUuZG9jdW1lbnQsCgkJCQkJRiA9IDAsCgkJCQkJJCA9IDAsCgkJCQkJVyA9IG4oKSwKCQkJCQlIID0gbigpLAoJCQkJCVUgPSBuKCksCgkJCQkJWSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIGUgPT09IHQgJiYgKFQgPSAhMCksIDAKCQkJCQl9LAoJCQkJCUcgPSAxIDw8IDMxLAoJCQkJCVggPSB7fS5oYXNPd25Qcm9wZXJ0eSwKCQkJCQlKID0gW10sCgkJCQkJWiA9IEoucG9wLAoJCQkJCVYgPSBKLnB1c2gsCgkJCQkJSyA9IEoucHVzaCwKCQkJCQlRID0gSi5zbGljZSwKCQkJCQllZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZm9yICh2YXIgbiA9IDAsIGkgPSBlLmxlbmd0aDsgaSA+IG47IG4rKykKCQkJCQkJCWlmIChlW25dID09PSB0KSByZXR1cm4gbjsKCQkJCQkJcmV0dXJuIC0xCgkJCQkJfSwKCQkJCQl0ZSA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsCgkJCQkJbmUgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsCgkJCQkJaWUgPSAiKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLAoJCQkJCWFlID0gaWUucmVwbGFjZSgidyIsICJ3IyIpLAoJCQkJCW9lID0gIlxcWyIgKyBuZSArICIqKCIgKyBpZSArICIpKD86IiArIG5lICsgIiooWypeJHwhfl0/PSkiICsgbmUgKyAiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiICsgYWUgKyAiKSl8KSIgKyBuZSArICIqXFxdIiwKCQkJCQlyZSA9ICI6KCIgKyBpZSArICIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IiArIG9lICsgIikqKXwuKilcXCl8KSIsCgkJCQkJc2UgPSBuZXcgUmVnRXhwKG5lICsgIisiLCAiZyIpLAoJCQkJCWxlID0gbmV3IFJlZ0V4cCgiXiIgKyBuZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgbmUgKyAiKyQiLCAiZyIpLAoJCQkJCWNlID0gbmV3IFJlZ0V4cCgiXiIgKyBuZSArICIqLCIgKyBuZSArICIqIiksCgkJCQkJZGUgPSBuZXcgUmVnRXhwKCJeIiArIG5lICsgIiooWz4rfl18IiArIG5lICsgIikiICsgbmUgKyAiKiIpLAoJCQkJCXBlID0gbmV3IFJlZ0V4cCgiPSIgKyBuZSArICIqKFteXFxdJ1wiXSo/KSIgKyBuZSArICIqXFxdIiwgImciKSwKCQkJCQloZSA9IG5ldyBSZWdFeHAocmUpLAoJCQkJCXVlID0gbmV3IFJlZ0V4cCgiXiIgKyBhZSArICIkIiksCgkJCQkJbWUgPSB7CgkJCQkJCUlEOiBuZXcgUmVnRXhwKCJeIygiICsgaWUgKyAiKSIpLAoJCQkJCQlDTEFTUzogbmV3IFJlZ0V4cCgiXlxcLigiICsgaWUgKyAiKSIpLAoJCQkJCQlUQUc6IG5ldyBSZWdFeHAoIl4oIiArIGllLnJlcGxhY2UoInciLCAidyoiKSArICIpIiksCgkJCQkJCUFUVFI6IG5ldyBSZWdFeHAoIl4iICsgb2UpLAoJCQkJCQlQU0VVRE86IG5ldyBSZWdFeHAoIl4iICsgcmUpLAoJCQkJCQlDSElMRDogbmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIiArIG5lICsgIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiICsgbmUgKyAiKig/OihbKy1dfCkiICsgbmUgKyAiKihcXGQrKXwpKSIgKyBuZSArICIqXFwpfCkiLCAiaSIpLAoJCQkJCQlib29sOiBuZXcgUmVnRXhwKCJeKD86IiArIHRlICsgIikkIiwgImkiKSwKCQkJCQkJbmVlZHNDb250ZXh0OiBuZXcgUmVnRXhwKCJeIiArIG5lICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIgKyBuZSArICIqKCg/Oi1cXGQpP1xcZCopIiArIG5lICsgIipcXCl8KSg/PVteLV18JCkiLCAiaSIpCgkJCQkJfSwKCQkJCQlmZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksCgkJCQkJZ2UgPSAvXmhcZCQvaSwKCQkJCQlfZSA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3LywKCQkJCQl4ZSA9IC9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sCgkJCQkJd2UgPSAvWyt+XS8sCgkJCQkJdmUgPSAvJ3xcXC9nLAoJCQkJCWJlID0gbmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IiArIG5lICsgIj98KCIgKyBuZSArICIpfC4pIiwgImlnIiksCgkJCQkJeWUgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gIjB4IiArIHQgLSA2NTUzNjsKCQkJCQkJcmV0dXJuIGkgIT09IGkgfHwgbiA/IHQgOiAwID4gaSA/IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDY1NTM2KSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoaSA+PiAxMCB8IDU1Mjk2LCAxMDIzICYgaSB8IDU2MzIwKQoJCQkJCX0sCgkJCQkJa2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJUCgpCgkJCQkJfTsKCQkJCXRyeSB7CgkJCQkJSy5hcHBseShKID0gUS5jYWxsKFIuY2hpbGROb2RlcyksIFIuY2hpbGROb2RlcyksIEpbUi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGUKCQkJCX0gY2F0Y2ggKHplKSB7CgkJCQkJSyA9IHsKCQkJCQkJYXBwbHk6IEoubGVuZ3RoID8gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJVi5hcHBseShlLCBRLmNhbGwodCkpCgkJCQkJCX0gOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlmb3IgKHZhciBuID0gZS5sZW5ndGgsIGkgPSAwOyBlW24rK10gPSB0W2krK107KTsKCQkJCQkJCWUubGVuZ3RoID0gbiAtIDEKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCWIgPSB0LnN1cHBvcnQgPSB7fSwgeiA9IHQuaXNYTUwgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBlICYmIChlLm93bmVyRG9jdW1lbnQgfHwgZSkuZG9jdW1lbnRFbGVtZW50OwoJCQkJCXJldHVybiB0ID8gIkhUTUwiICE9PSB0Lm5vZGVOYW1lIDogITEKCQkJCX0sIFAgPSB0LnNldERvY3VtZW50ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gZSA/IGUub3duZXJEb2N1bWVudCB8fCBlIDogUjsKCQkJCQlyZXR1cm4gaSAhPT0gSSAmJiA5ID09PSBpLm5vZGVUeXBlICYmIGkuZG9jdW1lbnRFbGVtZW50ID8gKEkgPSBpLCBBID0gaS5kb2N1bWVudEVsZW1lbnQsIG4gPSBpLmRlZmF1bHRWaWV3LCBuICYmIG4gIT09IG4udG9wICYmIChuLmFkZEV2ZW50TGlzdGVuZXIgPyBuLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsIGtlLCAhMSkgOiBuLmF0dGFjaEV2ZW50ICYmIG4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIiwga2UpKSwgcSA9ICF6KGkpLCBiLmF0dHJpYnV0ZXMgPSBhKGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIGUuY2xhc3NOYW1lID0gImkiLCAhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpCgkJCQkJfSksIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhKGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIGUuYXBwZW5kQ2hpbGQoaS5jcmVhdGVDb21tZW50KCIiKSksICFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoCgkJCQkJfSksIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IF9lLnRlc3QoaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSwgYi5nZXRCeUlkID0gYShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBBLmFwcGVuZENoaWxkKGUpLmlkID0gTSwgIWkuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWkuZ2V0RWxlbWVudHNCeU5hbWUoTSkubGVuZ3RoCgkJCQkJfSksIGIuZ2V0QnlJZCA/ICh5LmZpbmQuSUQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCAmJiBxKSB7CgkJCQkJCQl2YXIgbiA9IHQuZ2V0RWxlbWVudEJ5SWQoZSk7CgkJCQkJCQlyZXR1cm4gbiAmJiBuLnBhcmVudE5vZGUgPyBbbl0gOiBbXQoJCQkJCQl9CgkJCQkJfSwgeS5maWx0ZXIuSUQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gZS5yZXBsYWNlKGJlLCB5ZSk7CgkJCQkJCXJldHVybiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIikgPT09IHQKCQkJCQkJfQoJCQkJCX0pIDogKGRlbGV0ZSB5LmZpbmQuSUQsIHkuZmlsdGVyLklEID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGUucmVwbGFjZShiZSwgeWUpOwoJCQkJCQlyZXR1cm4gZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIG4gPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlICYmIGUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTsKCQkJCQkJCXJldHVybiBuICYmIG4udmFsdWUgPT09IHQKCQkJCQkJfQoJCQkJCX0pLCB5LmZpbmQuVEFHID0gYi5nZXRFbGVtZW50c0J5VGFnTmFtZSA/IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuICJ1bmRlZmluZWQiICE9IHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSA6IGIucXNhID8gdC5xdWVyeVNlbGVjdG9yQWxsKGUpIDogdm9pZCAwCgkJCQkJfSA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIG4sIGkgPSBbXSwKCQkJCQkJCWEgPSAwLAoJCQkJCQkJbyA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7CgkJCQkJCWlmICgiKiIgPT09IGUpIHsKCQkJCQkJCWZvciAoOyBuID0gb1thKytdOykgMSA9PT0gbi5ub2RlVHlwZSAmJiBpLnB1c2gobik7CgkJCQkJCQlyZXR1cm4gaQoJCQkJCQl9CgkJCQkJCXJldHVybiBvCgkJCQkJfSwgeS5maW5kLkNMQVNTID0gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIHEgPyB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSkgOiB2b2lkIDAKCQkJCQl9LCBPID0gW10sIEUgPSBbXSwgKGIucXNhID0gX2UudGVzdChpLnF1ZXJ5U2VsZWN0b3JBbGwpKSAmJiAoYShmdW5jdGlvbihlKSB7CgkJCQkJCUEuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MID0gIjxhIGlkPSciICsgTSArICInPjwvYT48c2VsZWN0IGlkPSciICsgTSArICItXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsIGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGggJiYgRS5wdXNoKCJbKl4kXT0iICsgbmUgKyAiKig/OicnfFwiXCIpIiksIGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aCB8fCBFLnB1c2goIlxcWyIgKyBuZSArICIqKD86dmFsdWV8IiArIHRlICsgIikiKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIgKyBNICsgIi1dIikubGVuZ3RoIHx8IEUucHVzaCgifj0iKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aCB8fCBFLnB1c2goIjpjaGVja2VkIiksIGUucXVlcnlTZWxlY3RvckFsbCgiYSMiICsgTSArICIrKiIpLmxlbmd0aCB8fCBFLnB1c2goIi4jLitbK35dIik7CgkJCQkJfSksIGEoZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQkJCQkJdC5zZXRBdHRyaWJ1dGUoInR5cGUiLCAiaGlkZGVuIiksIGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwgIkQiKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCAmJiBFLnB1c2goIm5hbWUiICsgbmUgKyAiKlsqXiR8IX5dPz0iKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCB8fCBFLnB1c2goIjplbmFibGVkIiwgIjpkaXNhYmxlZCIpLCBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSwgRS5wdXNoKCIsLio6IikKCQkJCQl9KSksIChiLm1hdGNoZXNTZWxlY3RvciA9IF9lLnRlc3QoTCA9IEEubWF0Y2hlcyB8fCBBLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBBLm1vek1hdGNoZXNTZWxlY3RvciB8fCBBLm9NYXRjaGVzU2VsZWN0b3IgfHwgQS5tc01hdGNoZXNTZWxlY3RvcikpICYmIGEoZnVuY3Rpb24oZSkgewoJCQkJCQliLmRpc2Nvbm5lY3RlZE1hdGNoID0gTC5jYWxsKGUsICJkaXYiKSwgTC5jYWxsKGUsICJbcyE9JyddOngiKSwgTy5wdXNoKCIhPSIsIHJlKQoJCQkJCX0pLCBFID0gRS5sZW5ndGggJiYgbmV3IFJlZ0V4cChFLmpvaW4oInwiKSksIE8gPSBPLmxlbmd0aCAmJiBuZXcgUmVnRXhwKE8uam9pbigifCIpKSwgdCA9IF9lLnRlc3QoQS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksIEQgPSB0IHx8IF9lLnRlc3QoQS5jb250YWlucykgPyBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBuID0gOSA9PT0gZS5ub2RlVHlwZSA/IGUuZG9jdW1lbnRFbGVtZW50IDogZSwKCQkJCQkJCWkgPSB0ICYmIHQucGFyZW50Tm9kZTsKCQkJCQkJcmV0dXJuIGUgPT09IGkgfHwgISghaSB8fCAxICE9PSBpLm5vZGVUeXBlIHx8ICEobi5jb250YWlucyA/IG4uY29udGFpbnMoaSkgOiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIDE2ICYgZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpCgkJCQkJfSA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaWYgKHQpCgkJCQkJCQlmb3IgKDsgdCA9IHQucGFyZW50Tm9kZTspCgkJCQkJCQkJaWYgKHQgPT09IGUpIHJldHVybiAhMDsKCQkJCQkJcmV0dXJuICExCgkJCQkJfSwgWSA9IHQgPyBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWlmIChlID09PSB0KSByZXR1cm4gVCA9ICEwLCAwOwoJCQkJCQl2YXIgbiA9ICFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247CgkJCQkJCXJldHVybiBuID8gbiA6IChuID0gKGUub3duZXJEb2N1bWVudCB8fCBlKSA9PT0gKHQub3duZXJEb2N1bWVudCB8fCB0KSA/IGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkgOiAxLCAxICYgbiB8fCAhYi5zb3J0RGV0YWNoZWQgJiYgdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSA9PT0gbiA/IGUgPT09IGkgfHwgZS5vd25lckRvY3VtZW50ID09PSBSICYmIEQoUiwgZSkgPyAtMSA6IHQgPT09IGkgfHwgdC5vd25lckRvY3VtZW50ID09PSBSICYmIEQoUiwgdCkgPyAxIDogTiA/IGVlKE4sIGUpIC0gZWUoTiwgdCkgOiAwIDogNCAmIG4gPyAtMSA6IDEpCgkJCQkJfSA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaWYgKGUgPT09IHQpIHJldHVybiBUID0gITAsIDA7CgkJCQkJCXZhciBuLCBhID0gMCwKCQkJCQkJCW8gPSBlLnBhcmVudE5vZGUsCgkJCQkJCQlzID0gdC5wYXJlbnROb2RlLAoJCQkJCQkJbCA9IFtlXSwKCQkJCQkJCWMgPSBbdF07CgkJCQkJCWlmICghbyB8fCAhcykgcmV0dXJuIGUgPT09IGkgPyAtMSA6IHQgPT09IGkgPyAxIDogbyA/IC0xIDogcyA/IDEgOiBOID8gZWUoTiwgZSkgLSBlZShOLCB0KSA6IDA7CgkJCQkJCWlmIChvID09PSBzKSByZXR1cm4gcihlLCB0KTsKCQkJCQkJZm9yIChuID0gZTsgbiA9IG4ucGFyZW50Tm9kZTspIGwudW5zaGlmdChuKTsKCQkJCQkJZm9yIChuID0gdDsgbiA9IG4ucGFyZW50Tm9kZTspIGMudW5zaGlmdChuKTsKCQkJCQkJZm9yICg7IGxbYV0gPT09IGNbYV07KSBhKys7CgkJCQkJCXJldHVybiBhID8gcihsW2FdLCBjW2FdKSA6IGxbYV0gPT09IFIgPyAtMSA6IGNbYV0gPT09IFIgPyAxIDogMAoJCQkJCX0sIGkpIDogSQoJCQkJfSwgdC5tYXRjaGVzID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXJldHVybiB0KGUsIG51bGwsIG51bGwsIG4pCgkJCQl9LCB0Lm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQlpZiAoKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gSSAmJiBQKGUpLCBuID0gbi5yZXBsYWNlKHBlLCAiPSckMSddIiksIGIubWF0Y2hlc1NlbGVjdG9yICYmIHEgJiYgKCFPIHx8ICFPLnRlc3QobikpICYmICghRSB8fCAhRS50ZXN0KG4pKSkgdHJ5IHsKCQkJCQkJdmFyIGkgPSBMLmNhbGwoZSwgbik7CgkJCQkJCWlmIChpIHx8IGIuZGlzY29ubmVjdGVkTWF0Y2ggfHwgZS5kb2N1bWVudCAmJiAxMSAhPT0gZS5kb2N1bWVudC5ub2RlVHlwZSkgcmV0dXJuIGkKCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCXJldHVybiB0KG4sIEksIG51bGwsIFtlXSkubGVuZ3RoID4gMAoJCQkJfSwgdC5jb250YWlucyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gSSAmJiBQKGUpLCBEKGUsIHQpCgkJCQl9LCB0LmF0dHIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gSSAmJiBQKGUpOwoJCQkJCXZhciBuID0geS5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0sCgkJCQkJCWkgPSBuICYmIFguY2FsbCh5LmF0dHJIYW5kbGUsIHQudG9Mb3dlckNhc2UoKSkgPyBuKGUsIHQsICFxKSA6IHZvaWQgMDsKCQkJCQlyZXR1cm4gdm9pZCAwICE9PSBpID8gaSA6IGIuYXR0cmlidXRlcyB8fCAhcSA/IGUuZ2V0QXR0cmlidXRlKHQpIDogKGkgPSBlLmdldEF0dHJpYnV0ZU5vZGUodCkpICYmIGkuc3BlY2lmaWVkID8gaS52YWx1ZSA6IG51bGwKCQkJCX0sIHQuZXJyb3IgPSBmdW5jdGlvbihlKSB7CgkJCQkJdGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiICsgZSkKCQkJCX0sIHQudW5pcXVlU29ydCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IFtdLAoJCQkJCQlpID0gMCwKCQkJCQkJYSA9IDA7CgkJCQkJaWYgKFQgPSAhYi5kZXRlY3REdXBsaWNhdGVzLCBOID0gIWIuc29ydFN0YWJsZSAmJiBlLnNsaWNlKDApLCBlLnNvcnQoWSksIFQpIHsKCQkJCQkJZm9yICg7IHQgPSBlW2ErK107KSB0ID09PSBlW2FdICYmIChpID0gbi5wdXNoKGEpKTsKCQkJCQkJZm9yICg7IGktLTspIGUuc3BsaWNlKG5baV0sIDEpCgkJCQkJfQoJCQkJCXJldHVybiBOID0gbnVsbCwgZQoJCQkJfSwgayA9IHQuZ2V0VGV4dCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9ICIiLAoJCQkJCQlpID0gMCwKCQkJCQkJYSA9IGUubm9kZVR5cGU7CgkJCQkJaWYgKGEpIHsKCQkJCQkJaWYgKDEgPT09IGEgfHwgOSA9PT0gYSB8fCAxMSA9PT0gYSkgewoJCQkJCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBlLnRleHRDb250ZW50KSByZXR1cm4gZS50ZXh0Q29udGVudDsKCQkJCQkJCWZvciAoZSA9IGUuZmlyc3RDaGlsZDsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIG4gKz0gayhlKQoJCQkJCQl9IGVsc2UgaWYgKDMgPT09IGEgfHwgNCA9PT0gYSkgcmV0dXJuIGUubm9kZVZhbHVlCgkJCQkJfSBlbHNlCgkJCQkJCWZvciAoOyB0ID0gZVtpKytdOykgbiArPSBrKHQpOwoJCQkJCXJldHVybiBuCgkJCQl9LCB5ID0gdC5zZWxlY3RvcnMgPSB7CgkJCQkJY2FjaGVMZW5ndGg6IDUwLAoJCQkJCWNyZWF0ZVBzZXVkbzogaSwKCQkJCQltYXRjaDogbWUsCgkJCQkJYXR0ckhhbmRsZToge30sCgkJCQkJZmluZDoge30sCgkJCQkJcmVsYXRpdmU6IHsKCQkJCQkJIj4iOiB7CgkJCQkJCQlkaXI6ICJwYXJlbnROb2RlIiwKCQkJCQkJCWZpcnN0OiAhMAoJCQkJCQl9LAoJCQkJCQkiICI6IHsKCQkJCQkJCWRpcjogInBhcmVudE5vZGUiCgkJCQkJCX0sCgkJCQkJCSIrIjogewoJCQkJCQkJZGlyOiAicHJldmlvdXNTaWJsaW5nIiwKCQkJCQkJCWZpcnN0OiAhMAoJCQkJCQl9LAoJCQkJCQkifiI6IHsKCQkJCQkJCWRpcjogInByZXZpb3VzU2libGluZyIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcHJlRmlsdGVyOiB7CgkJCQkJCUFUVFI6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlWzFdID0gZVsxXS5yZXBsYWNlKGJlLCB5ZSksIGVbM10gPSAoZVszXSB8fCBlWzRdIHx8IGVbNV0gfHwgIiIpLnJlcGxhY2UoYmUsIHllKSwgIn49IiA9PT0gZVsyXSAmJiAoZVszXSA9ICIgIiArIGVbM10gKyAiICIpLCBlLnNsaWNlKDAsIDQpCgkJCQkJCX0sCgkJCQkJCUNISUxEOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZVsxXSA9IGVbMV0udG9Mb3dlckNhc2UoKSwgIm50aCIgPT09IGVbMV0uc2xpY2UoMCwgMykgPyAoZVszXSB8fCB0LmVycm9yKGVbMF0pLCBlWzRdID0gKyhlWzRdID8gZVs1XSArIChlWzZdIHx8IDEpIDogMiAqICgiZXZlbiIgPT09IGVbM10gfHwgIm9kZCIgPT09IGVbM10pKSwgZVs1XSA9ICsoZVs3XSArIGVbOF0gfHwgIm9kZCIgPT09IGVbM10pKSA6IGVbM10gJiYgdC5lcnJvcihlWzBdKSwgZQoJCQkJCQl9LAoJCQkJCQlQU0VVRE86IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0LCBuID0gIWVbNl0gJiYgZVsyXTsKCQkJCQkJCXJldHVybiBtZS5DSElMRC50ZXN0KGVbMF0pID8gbnVsbCA6IChlWzNdID8gZVsyXSA9IGVbNF0gfHwgZVs1XSB8fCAiIiA6IG4gJiYgaGUudGVzdChuKSAmJiAodCA9IEIobiwgITApKSAmJiAodCA9IG4uaW5kZXhPZigiKSIsIG4ubGVuZ3RoIC0gdCkgLSBuLmxlbmd0aCkgJiYgKGVbMF0gPSBlWzBdLnNsaWNlKDAsIHQpLCBlWzJdID0gbi5zbGljZSgwLCB0KSksIGUuc2xpY2UoMCwgMykpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWZpbHRlcjogewoJCQkJCQlUQUc6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0ID0gZS5yZXBsYWNlKGJlLCB5ZSkudG9Mb3dlckNhc2UoKTsKCQkJCQkJCXJldHVybiAiKiIgPT09IGUgPyBmdW5jdGlvbigpIHsKCQkJCQkJCQlyZXR1cm4gITAKCQkJCQkJCX0gOiBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIGUubm9kZU5hbWUgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCUNMQVNTOiBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdCA9IFdbZSArICIgIl07CgkJCQkJCQlyZXR1cm4gdCB8fCAodCA9IG5ldyBSZWdFeHAoIihefCIgKyBuZSArICIpIiArIGUgKyAiKCIgKyBuZSArICJ8JCkiKSkgJiYgVyhlLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIHQudGVzdCgic3RyaW5nIiA9PSB0eXBlb2YgZS5jbGFzc05hbWUgJiYgZS5jbGFzc05hbWUgfHwgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuZ2V0QXR0cmlidXRlICYmIGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKQoJCQkJCQkJfSkKCQkJCQkJfSwKCQkJCQkJQVRUUjogZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKGEpIHsKCQkJCQkJCQl2YXIgbyA9IHQuYXR0cihhLCBlKTsKCQkJCQkJCQlyZXR1cm4gbnVsbCA9PSBvID8gIiE9IiA9PT0gbiA6IG4gPyAobyArPSAiIiwgIj0iID09PSBuID8gbyA9PT0gaSA6ICIhPSIgPT09IG4gPyBvICE9PSBpIDogIl49IiA9PT0gbiA/IGkgJiYgMCA9PT0gby5pbmRleE9mKGkpIDogIio9IiA9PT0gbiA/IGkgJiYgby5pbmRleE9mKGkpID4gLTEgOiAiJD0iID09PSBuID8gaSAmJiBvLnNsaWNlKC1pLmxlbmd0aCkgPT09IGkgOiAifj0iID09PSBuID8gKCIgIiArIG8ucmVwbGFjZShzZSwgIiAiKSArICIgIikuaW5kZXhPZihpKSA+IC0xIDogInw9IiA9PT0gbiA/IG8gPT09IGkgfHwgby5zbGljZSgwLCBpLmxlbmd0aCArIDEpID09PSBpICsgIi0iIDogITEpIDogITAKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJQ0hJTEQ6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXZhciBvID0gIm50aCIgIT09IGUuc2xpY2UoMCwgMyksCgkJCQkJCQkJciA9ICJsYXN0IiAhPT0gZS5zbGljZSgtNCksCgkJCQkJCQkJcyA9ICJvZi10eXBlIiA9PT0gdDsKCQkJCQkJCXJldHVybiAxID09PSBpICYmIDAgPT09IGEgPyBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuICEhZS5wYXJlbnROb2RlCgkJCQkJCQl9IDogZnVuY3Rpb24odCwgbiwgbCkgewoJCQkJCQkJCXZhciBjLCBkLCBwLCBoLCB1LCBtLCBmID0gbyAhPT0gciA/ICJuZXh0U2libGluZyIgOiAicHJldmlvdXNTaWJsaW5nIiwKCQkJCQkJCQkJZyA9IHQucGFyZW50Tm9kZSwKCQkJCQkJCQkJXyA9IHMgJiYgdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLAoJCQkJCQkJCQl4ID0gIWwgJiYgIXM7CgkJCQkJCQkJaWYgKGcpIHsKCQkJCQkJCQkJaWYgKG8pIHsKCQkJCQkJCQkJCWZvciAoOyBmOykgewoJCQkJCQkJCQkJCWZvciAocCA9IHQ7IHAgPSBwW2ZdOykKCQkJCQkJCQkJCQkJaWYgKHMgPyBwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IF8gOiAxID09PSBwLm5vZGVUeXBlKSByZXR1cm4gITE7CgkJCQkJCQkJCQkJbSA9IGYgPSAib25seSIgPT09IGUgJiYgIW0gJiYgIm5leHRTaWJsaW5nIgoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJcmV0dXJuICEwCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG0gPSBbciA/IGcuZmlyc3RDaGlsZCA6IGcubGFzdENoaWxkXSwgciAmJiB4KSB7CgkJCQkJCQkJCQlmb3IgKGQgPSBnW01dIHx8IChnW01dID0ge30pLCBjID0gZFtlXSB8fCBbXSwgdSA9IGNbMF0gPT09IEYgJiYgY1sxXSwgaCA9IGNbMF0gPT09IEYgJiYgY1syXSwgcCA9IHUgJiYgZy5jaGlsZE5vZGVzW3VdOyBwID0gKyt1ICYmIHAgJiYgcFtmXSB8fCAoaCA9IHUgPSAwKSB8fCBtLnBvcCgpOykKCQkJCQkJCQkJCQlpZiAoMSA9PT0gcC5ub2RlVHlwZSAmJiArK2ggJiYgcCA9PT0gdCkgewoJCQkJCQkJCQkJCQlkW2VdID0gW0YsIHUsIGhdOwoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSBlbHNlIGlmICh4ICYmIChjID0gKHRbTV0gfHwgKHRbTV0gPSB7fSkpW2VdKSAmJiBjWzBdID09PSBGKSBoID0gY1sxXTsKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJZm9yICg7CgkJCQkJCQkJCQkJKHAgPSArK3UgJiYgcCAmJiBwW2ZdIHx8IChoID0gdSA9IDApIHx8IG0ucG9wKCkpICYmICgocyA/IHAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXyA6IDEgIT09IHAubm9kZVR5cGUpIHx8ICErK2ggfHwgKHggJiYgKChwW01dIHx8IChwW01dID0ge30pKVtlXSA9IFtGLCBoXSksIHAgIT09IHQpKTspOwoJCQkJCQkJCQlyZXR1cm4gaCAtPSBhLCBoID09PSBpIHx8IGggJSBpID09PSAwICYmIGggLyBpID49IDAKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCVBTRVVETzogZnVuY3Rpb24oZSwgbikgewoJCQkJCQkJdmFyIGEsIG8gPSB5LnBzZXVkb3NbZV0gfHwgeS5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV0gfHwgdC5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgZSk7CgkJCQkJCQlyZXR1cm4gb1tNXSA/IG8obikgOiBvLmxlbmd0aCA+IDEgPyAoYSA9IFtlLCBlLCAiIiwgbl0sIHkuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpID8gaShmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJZm9yICh2YXIgaSwgYSA9IG8oZSwgbiksIHIgPSBhLmxlbmd0aDsgci0tOykgaSA9IGVlKGUsIGFbcl0pLCBlW2ldID0gISh0W2ldID0gYVtyXSkKCQkJCQkJCX0pIDogZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiBvKGUsIDAsIGEpCgkJCQkJCQl9KSA6IG8KCQkJCQkJfQoJCQkJCX0sCgkJCQkJcHNldWRvczogewoJCQkJCQlub3Q6IGkoZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBbXSwKCQkJCQkJCQluID0gW10sCgkJCQkJCQkJYSA9IGooZS5yZXBsYWNlKGxlLCAiJDEiKSk7CgkJCQkJCQlyZXR1cm4gYVtNXSA/IGkoZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQkJCWZvciAodmFyIG8sIHIgPSBhKGUsIG51bGwsIGksIFtdKSwgcyA9IGUubGVuZ3RoOyBzLS07KShvID0gcltzXSkgJiYgKGVbc10gPSAhKHRbc10gPSBvKSkKCQkJCQkJCX0pIDogZnVuY3Rpb24oZSwgaSwgbykgewoJCQkJCQkJCXJldHVybiB0WzBdID0gZSwgYSh0LCBudWxsLCBvLCBuKSwgdFswXSA9IG51bGwsICFuLnBvcCgpCgkJCQkJCQl9CgkJCQkJCX0pLAoJCQkJCQloYXM6IGkoZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCQlyZXR1cm4gdChlLCBuKS5sZW5ndGggPiAwCgkJCQkJCQl9CgkJCQkJCX0pLAoJCQkJCQljb250YWluczogaShmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZSA9IGUucmVwbGFjZShiZSwgeWUpLAoJCQkJCQkJCWZ1bmN0aW9uKHQpIHsKCQkJCQkJCQkJcmV0dXJuICh0LnRleHRDb250ZW50IHx8IHQuaW5uZXJUZXh0IHx8IGsodCkpLmluZGV4T2YoZSkgPiAtMQoJCQkJCQkJCX0KCQkJCQkJfSksCgkJCQkJCWxhbmc6IGkoZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIHVlLnRlc3QoZSB8fCAiIikgfHwgdC5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIiArIGUpLCBlID0gZS5yZXBsYWNlKGJlLCB5ZSkudG9Mb3dlckNhc2UoKSwKCQkJCQkJCQlmdW5jdGlvbih0KSB7CgkJCQkJCQkJCXZhciBuOwoJCQkJCQkJCQlkbwoJCQkJCQkJCQkJaWYgKG4gPSBxID8gdC5sYW5nIDogdC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIikgfHwgdC5nZXRBdHRyaWJ1dGUoImxhbmciKSkgcmV0dXJuIG4gPSBuLnRvTG93ZXJDYXNlKCksIG4gPT09IGUgfHwgMCA9PT0gbi5pbmRleE9mKGUgKyAiLSIpOwoJCQkJCQkJCQl3aGlsZSAoKHQgPSB0LnBhcmVudE5vZGUpICYmIDEgPT09IHQubm9kZVR5cGUpOwoJCQkJCQkJCQlyZXR1cm4gITEKCQkJCQkJCQl9CgkJCQkJCX0pLAoJCQkJCQl0YXJnZXQ6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXZhciBuID0gZS5sb2NhdGlvbiAmJiBlLmxvY2F0aW9uLmhhc2g7CgkJCQkJCQlyZXR1cm4gbiAmJiBuLnNsaWNlKDEpID09PSB0LmlkCgkJCQkJCX0sCgkJCQkJCXJvb3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlID09PSBBCgkJCQkJCX0sCgkJCQkJCWZvY3VzOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZSA9PT0gSS5hY3RpdmVFbGVtZW50ICYmICghSS5oYXNGb2N1cyB8fCBJLmhhc0ZvY3VzKCkpICYmICEhKGUudHlwZSB8fCBlLmhyZWYgfHwgfmUudGFiSW5kZXgpCgkJCQkJCX0sCgkJCQkJCWVuYWJsZWQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlLmRpc2FibGVkID09PSAhMQoJCQkJCQl9LAoJCQkJCQlkaXNhYmxlZDogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUuZGlzYWJsZWQgPT09ICEwCgkJCQkJCX0sCgkJCQkJCWNoZWNrZWQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0ID0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoJCQkJCQkJcmV0dXJuICJpbnB1dCIgPT09IHQgJiYgISFlLmNoZWNrZWQgfHwgIm9wdGlvbiIgPT09IHQgJiYgISFlLnNlbGVjdGVkCgkJCQkJCX0sCgkJCQkJCXNlbGVjdGVkOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZS5wYXJlbnROb2RlICYmIGUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCBlLnNlbGVjdGVkID09PSAhMAoJCQkJCQl9LAoJCQkJCQllbXB0eTogZnVuY3Rpb24oZSkgewoJCQkJCQkJZm9yIChlID0gZS5maXJzdENoaWxkOyBlOyBlID0gZS5uZXh0U2libGluZykKCQkJCQkJCQlpZiAoZS5ub2RlVHlwZSA8IDYpIHJldHVybiAhMTsKCQkJCQkJCXJldHVybiAhMAoJCQkJCQl9LAoJCQkJCQlwYXJlbnQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiAheS5wc2V1ZG9zLmVtcHR5KGUpCgkJCQkJCX0sCgkJCQkJCWhlYWRlcjogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGdlLnRlc3QoZS5ub2RlTmFtZSkKCQkJCQkJfSwKCQkJCQkJaW5wdXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBmZS50ZXN0KGUubm9kZU5hbWUpCgkJCQkJCX0sCgkJCQkJCWJ1dHRvbjogZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJCQkJCQlyZXR1cm4gImlucHV0IiA9PT0gdCAmJiAiYnV0dG9uIiA9PT0gZS50eXBlIHx8ICJidXR0b24iID09PSB0CgkJCQkJCX0sCgkJCQkJCXRleHQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0OwoJCQkJCQkJcmV0dXJuICJpbnB1dCIgPT09IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiAidGV4dCIgPT09IGUudHlwZSAmJiAobnVsbCA9PSAodCA9IGUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpIHx8ICJ0ZXh0IiA9PT0gdC50b0xvd2VyQ2FzZSgpKQoJCQkJCQl9LAoJCQkJCQlmaXJzdDogYyhmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBbMF0KCQkJCQkJfSksCgkJCQkJCWxhc3Q6IGMoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJcmV0dXJuIFt0IC0gMV0KCQkJCQkJfSksCgkJCQkJCWVxOiBjKGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJCXJldHVybiBbMCA+IG4gPyBuICsgdCA6IG5dCgkJCQkJCX0pLAoJCQkJCQlldmVuOiBjKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG4gPSAwOyB0ID4gbjsgbiArPSAyKSBlLnB1c2gobik7CgkJCQkJCQlyZXR1cm4gZQoJCQkJCQl9KSwKCQkJCQkJb2RkOiBjKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG4gPSAxOyB0ID4gbjsgbiArPSAyKSBlLnB1c2gobik7CgkJCQkJCQlyZXR1cm4gZQoJCQkJCQl9KSwKCQkJCQkJbHQ6IGMoZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkJZm9yICh2YXIgaSA9IDAgPiBuID8gbiArIHQgOiBuOyAtLWkgPj0gMDspIGUucHVzaChpKTsKCQkJCQkJCXJldHVybiBlCgkJCQkJCX0pLAoJCQkJCQlndDogYyhmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCQlmb3IgKHZhciBpID0gMCA+IG4gPyBuICsgdCA6IG47ICsraSA8IHQ7KSBlLnB1c2goaSk7CgkJCQkJCQlyZXR1cm4gZQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0sIHkucHNldWRvcy5udGggPSB5LnBzZXVkb3MuZXE7CgkJCQlmb3IgKHYgaW4gewoJCQkJCXJhZGlvOiAhMCwKCQkJCQljaGVja2JveDogITAsCgkJCQkJZmlsZTogITAsCgkJCQkJcGFzc3dvcmQ6ICEwLAoJCQkJCWltYWdlOiAhMAoJCQkJfSkgeS5wc2V1ZG9zW3ZdID0gcyh2KTsKCQkJCWZvciAodiBpbiB7CgkJCQkJc3VibWl0OiAhMCwKCQkJCQlyZXNldDogITAKCQkJCX0pIHkucHNldWRvc1t2XSA9IGwodik7CgkJCQlyZXR1cm4gcC5wcm90b3R5cGUgPSB5LmZpbHRlcnMgPSB5LnBzZXVkb3MsIHkuc2V0RmlsdGVycyA9IG5ldyBwLCBCID0gdC50b2tlbml6ZSA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCwgYywgZCA9IEhbZSArICIgIl07CgkJCQkJaWYgKGQpIHJldHVybiBuID8gMCA6IGQuc2xpY2UoMCk7CgkJCQkJZm9yIChzID0gZSwgbCA9IFtdLCBjID0geS5wcmVGaWx0ZXI7IHM7KSB7CgkJCQkJCSghaSB8fCAoYSA9IGNlLmV4ZWMocykpKSAmJiAoYSAmJiAocyA9IHMuc2xpY2UoYVswXS5sZW5ndGgpIHx8IHMpLCBsLnB1c2gobyA9IFtdKSksIGkgPSAhMSwgKGEgPSBkZS5leGVjKHMpKSAmJiAoaSA9IGEuc2hpZnQoKSwgby5wdXNoKHsKCQkJCQkJCXZhbHVlOiBpLAoJCQkJCQkJdHlwZTogYVswXS5yZXBsYWNlKGxlLCAiICIpCgkJCQkJCX0pLCBzID0gcy5zbGljZShpLmxlbmd0aCkpOwoJCQkJCQlmb3IgKHIgaW4geS5maWx0ZXIpICEoYSA9IG1lW3JdLmV4ZWMocykpIHx8IGNbcl0gJiYgIShhID0gY1tyXShhKSkgfHwgKGkgPSBhLnNoaWZ0KCksIG8ucHVzaCh7CgkJCQkJCQl2YWx1ZTogaSwKCQkJCQkJCXR5cGU6IHIsCgkJCQkJCQltYXRjaGVzOiBhCgkJCQkJCX0pLCBzID0gcy5zbGljZShpLmxlbmd0aCkpOwoJCQkJCQlpZiAoIWkpIGJyZWFrCgkJCQkJfQoJCQkJCXJldHVybiBuID8gcy5sZW5ndGggOiBzID8gdC5lcnJvcihlKSA6IEgoZSwgbCkuc2xpY2UoMCkKCQkJCX0sIGogPSB0LmNvbXBpbGUgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSBbXSwKCQkJCQkJYSA9IFtdLAoJCQkJCQlvID0gVVtlICsgIiAiXTsKCQkJCQlpZiAoIW8pIHsKCQkJCQkJZm9yICh0IHx8ICh0ID0gQihlKSksIG4gPSB0Lmxlbmd0aDsgbi0tOykgbyA9IHgodFtuXSksIG9bTV0gPyBpLnB1c2gobykgOiBhLnB1c2gobyk7CgkJCQkJCW8gPSBVKGUsIHcoYSwgaSkpLCBvLnNlbGVjdG9yID0gZQoJCQkJCX0KCQkJCQlyZXR1cm4gbwoJCQkJfSwgQyA9IHQuc2VsZWN0ID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvLCByLCBzLCBsLCBjID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSAmJiBlLAoJCQkJCQlwID0gIWkgJiYgQihlID0gYy5zZWxlY3RvciB8fCBlKTsKCQkJCQlpZiAobiA9IG4gfHwgW10sIDEgPT09IHAubGVuZ3RoKSB7CgkJCQkJCWlmIChvID0gcFswXSA9IHBbMF0uc2xpY2UoMCksIG8ubGVuZ3RoID4gMiAmJiAiSUQiID09PSAociA9IG9bMF0pLnR5cGUgJiYgYi5nZXRCeUlkICYmIDkgPT09IHQubm9kZVR5cGUgJiYgcSAmJiB5LnJlbGF0aXZlW29bMV0udHlwZV0pIHsKCQkJCQkJCWlmICh0ID0gKHkuZmluZC5JRChyLm1hdGNoZXNbMF0ucmVwbGFjZShiZSwgeWUpLCB0KSB8fCBbXSlbMF0sICF0KSByZXR1cm4gbjsKCQkJCQkJCWMgJiYgKHQgPSB0LnBhcmVudE5vZGUpLCBlID0gZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKQoJCQkJCQl9CgkJCQkJCWZvciAoYSA9IG1lLm5lZWRzQ29udGV4dC50ZXN0KGUpID8gMCA6IG8ubGVuZ3RoOyBhLS0gJiYgKHIgPSBvW2FdLCAheS5yZWxhdGl2ZVtzID0gci50eXBlXSk7KQoJCQkJCQkJaWYgKChsID0geS5maW5kW3NdKSAmJiAoaSA9IGwoci5tYXRjaGVzWzBdLnJlcGxhY2UoYmUsIHllKSwgd2UudGVzdChvWzBdLnR5cGUpICYmIGQodC5wYXJlbnROb2RlKSB8fCB0KSkpIHsKCQkJCQkJCQlpZiAoby5zcGxpY2UoYSwgMSksIGUgPSBpLmxlbmd0aCAmJiBoKG8pLCAhZSkgcmV0dXJuIEsuYXBwbHkobiwgaSksIG47CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQl9CgkJCQkJcmV0dXJuIChjIHx8IGooZSwgcCkpKGksIHQsICFxLCBuLCB3ZS50ZXN0KGUpICYmIGQodC5wYXJlbnROb2RlKSB8fCB0KSwgbgoJCQkJfSwgYi5zb3J0U3RhYmxlID0gTS5zcGxpdCgiIikuc29ydChZKS5qb2luKCIiKSA9PT0gTSwgYi5kZXRlY3REdXBsaWNhdGVzID0gISFULCBQKCksIGIuc29ydERldGFjaGVkID0gYShmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIDEgJiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEkuY3JlYXRlRWxlbWVudCgiZGl2IikpCgkJCQl9KSwgYShmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUuaW5uZXJIVE1MID0gIjxhIGhyZWY9JyMnPjwvYT4iLCAiIyIgPT09IGUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKQoJCQkJfSkgfHwgbygidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsIGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbiA/IHZvaWQgMCA6IGUuZ2V0QXR0cmlidXRlKHQsICJ0eXBlIiA9PT0gdC50b0xvd2VyQ2FzZSgpID8gMSA6IDIpCgkJCQl9KSwgYi5hdHRyaWJ1dGVzICYmIGEoZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLmlubmVySFRNTCA9ICI8aW5wdXQvPiIsIGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgIiIpLCAiIiA9PT0gZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKQoJCQkJfSkgfHwgbygidmFsdWUiLCBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIG4gfHwgImlucHV0IiAhPT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID8gdm9pZCAwIDogZS5kZWZhdWx0VmFsdWUKCQkJCX0pLCBhKGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbnVsbCA9PSBlLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKQoJCQkJfSkgfHwgbyh0ZSwgZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpOwoJCQkJCXJldHVybiBuID8gdm9pZCAwIDogZVt0XSA9PT0gITAgPyB0LnRvTG93ZXJDYXNlKCkgOiAoaSA9IGUuZ2V0QXR0cmlidXRlTm9kZSh0KSkgJiYgaS5zcGVjaWZpZWQgPyBpLnZhbHVlIDogbnVsbAoJCQkJfSksIHQKCQkJfShhKTsKCQkJbGUuZmluZCA9IHVlLCBsZS5leHByID0gdWUuc2VsZWN0b3JzLCBsZS5leHByWyI6Il0gPSBsZS5leHByLnBzZXVkb3MsIGxlLnVuaXF1ZSA9IHVlLnVuaXF1ZVNvcnQsIGxlLnRleHQgPSB1ZS5nZXRUZXh0LCBsZS5pc1hNTERvYyA9IHVlLmlzWE1MLCBsZS5jb250YWlucyA9IHVlLmNvbnRhaW5zOwoJCQl2YXIgbWUgPSBsZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dCwKCQkJCWZlID0gL148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLywKCQkJCWdlID0gL14uW146I1xbXC4sXSokLzsKCQkJbGUuZmlsdGVyID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJdmFyIGkgPSB0WzBdOwoJCQkJcmV0dXJuIG4gJiYgKGUgPSAiOm5vdCgiICsgZSArICIpIiksIDEgPT09IHQubGVuZ3RoICYmIDEgPT09IGkubm9kZVR5cGUgPyBsZS5maW5kLm1hdGNoZXNTZWxlY3RvcihpLCBlKSA/IFtpXSA6IFtdIDogbGUuZmluZC5tYXRjaGVzKGUsIGxlLmdyZXAodCwgZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAxID09PSBlLm5vZGVUeXBlCgkJCQl9KSkKCQkJfSwgbGUuZm4uZXh0ZW5kKHsKCQkJCWZpbmQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IFtdLAoJCQkJCQlpID0gdGhpcywKCQkJCQkJYSA9IGkubGVuZ3RoOwoJCQkJCWlmICgic3RyaW5nIiAhPSB0eXBlb2YgZSkgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGxlKGUpLmZpbHRlcihmdW5jdGlvbigpIHsKCQkJCQkJZm9yICh0ID0gMDsgYSA+IHQ7IHQrKykKCQkJCQkJCWlmIChsZS5jb250YWlucyhpW3RdLCB0aGlzKSkgcmV0dXJuICEwCgkJCQkJfSkpOwoJCQkJCWZvciAodCA9IDA7IGEgPiB0OyB0KyspIGxlLmZpbmQoZSwgaVt0XSwgbik7CgkJCQkJcmV0dXJuIG4gPSB0aGlzLnB1c2hTdGFjayhhID4gMSA/IGxlLnVuaXF1ZShuKSA6IG4pLCBuLnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciA/IHRoaXMuc2VsZWN0b3IgKyAiICIgKyBlIDogZSwgbgoJCQkJfSwKCQkJCWZpbHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLnB1c2hTdGFjayhzKHRoaXMsIGUgfHwgW10sICExKSkKCQkJCX0sCgkJCQlub3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2socyh0aGlzLCBlIHx8IFtdLCAhMCkpCgkJCQl9LAoJCQkJaXM6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gISFzKHRoaXMsICJzdHJpbmciID09IHR5cGVvZiBlICYmIG1lLnRlc3QoZSkgPyBsZShlKSA6IGUgfHwgW10sICExKS5sZW5ndGgKCQkJCX0KCQkJfSk7CgkJCXZhciBfZSwgeGUgPSBhLmRvY3VtZW50LAoJCQkJd2UgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLAoJCQkJdmUgPSBsZS5mbi5pbml0ID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpOwoJCQkJCWlmICghZSkgcmV0dXJuIHRoaXM7CgkJCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBlKSB7CgkJCQkJCWlmIChuID0gIjwiID09PSBlLmNoYXJBdCgwKSAmJiAiPiIgPT09IGUuY2hhckF0KGUubGVuZ3RoIC0gMSkgJiYgZS5sZW5ndGggPj0gMyA/IFtudWxsLCBlLCBudWxsXSA6IHdlLmV4ZWMoZSksICFuIHx8ICFuWzFdICYmIHQpIHJldHVybiAhdCB8fCB0LmpxdWVyeSA/ICh0IHx8IF9lKS5maW5kKGUpIDogdGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpOwoJCQkJCQlpZiAoblsxXSkgewoJCQkJCQkJaWYgKHQgPSB0IGluc3RhbmNlb2YgbGUgPyB0WzBdIDogdCwgbGUubWVyZ2UodGhpcywgbGUucGFyc2VIVE1MKG5bMV0sIHQgJiYgdC5ub2RlVHlwZSA/IHQub3duZXJEb2N1bWVudCB8fCB0IDogeGUsICEwKSksIGZlLnRlc3QoblsxXSkgJiYgbGUuaXNQbGFpbk9iamVjdCh0KSkKCQkJCQkJCQlmb3IgKG4gaW4gdCkgbGUuaXNGdW5jdGlvbih0aGlzW25dKSA/IHRoaXNbbl0odFtuXSkgOiB0aGlzLmF0dHIobiwgdFtuXSk7CgkJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCQl9CgkJCQkJCWlmIChpID0geGUuZ2V0RWxlbWVudEJ5SWQoblsyXSksIGkgJiYgaS5wYXJlbnROb2RlKSB7CgkJCQkJCQlpZiAoaS5pZCAhPT0gblsyXSkgcmV0dXJuIF9lLmZpbmQoZSk7CgkJCQkJCQl0aGlzLmxlbmd0aCA9IDEsIHRoaXNbMF0gPSBpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRoaXMuY29udGV4dCA9IHhlLCB0aGlzLnNlbGVjdG9yID0gZSwgdGhpcwoJCQkJCX0KCQkJCQlyZXR1cm4gZS5ub2RlVHlwZSA/ICh0aGlzLmNvbnRleHQgPSB0aGlzWzBdID0gZSwgdGhpcy5sZW5ndGggPSAxLCB0aGlzKSA6IGxlLmlzRnVuY3Rpb24oZSkgPyAidW5kZWZpbmVkIiAhPSB0eXBlb2YgX2UucmVhZHkgPyBfZS5yZWFkeShlKSA6IGUobGUpIDogKHZvaWQgMCAhPT0gZS5zZWxlY3RvciAmJiAodGhpcy5zZWxlY3RvciA9IGUuc2VsZWN0b3IsIHRoaXMuY29udGV4dCA9IGUuY29udGV4dCksIGxlLm1ha2VBcnJheShlLCB0aGlzKSkKCQkJCX07CgkJCXZlLnByb3RvdHlwZSA9IGxlLmZuLCBfZSA9IGxlKHhlKTsKCQkJdmFyIGJlID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sCgkJCQl5ZSA9IHsKCQkJCQljaGlsZHJlbjogITAsCgkJCQkJY29udGVudHM6ICEwLAoJCQkJCW5leHQ6ICEwLAoJCQkJCXByZXY6ICEwCgkJCQl9OwoJCQlsZS5leHRlbmQoewoJCQkJZGlyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJZm9yICh2YXIgaSA9IFtdLCBhID0gZVt0XTsgYSAmJiA5ICE9PSBhLm5vZGVUeXBlICYmICh2b2lkIDAgPT09IG4gfHwgMSAhPT0gYS5ub2RlVHlwZSB8fCAhbGUoYSkuaXMobikpOykgMSA9PT0gYS5ub2RlVHlwZSAmJiBpLnB1c2goYSksIGEgPSBhW3RdOwoJCQkJCXJldHVybiBpCgkJCQl9LAoJCQkJc2libGluZzogZnVuY3Rpb24oZSwgdCkgewoJCQkJCWZvciAodmFyIG4gPSBbXTsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIDEgPT09IGUubm9kZVR5cGUgJiYgZSAhPT0gdCAmJiBuLnB1c2goZSk7CgkJCQkJcmV0dXJuIG4KCQkJCX0KCQkJfSksIGxlLmZuLmV4dGVuZCh7CgkJCQloYXM6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IGxlKGUsIHRoaXMpLAoJCQkJCQlpID0gbi5sZW5ndGg7CgkJCQkJcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCkgewoJCQkJCQlmb3IgKHQgPSAwOyBpID4gdDsgdCsrKQoJCQkJCQkJaWYgKGxlLmNvbnRhaW5zKHRoaXMsIG5bdF0pKSByZXR1cm4gITAKCQkJCQl9KQoJCQkJfSwKCQkJCWNsb3Nlc3Q6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuLCBpID0gMCwgYSA9IHRoaXMubGVuZ3RoLCBvID0gW10sIHIgPSBtZS50ZXN0KGUpIHx8ICJzdHJpbmciICE9IHR5cGVvZiBlID8gbGUoZSwgdCB8fCB0aGlzLmNvbnRleHQpIDogMDsgYSA+IGk7IGkrKykKCQkJCQkJZm9yIChuID0gdGhpc1tpXTsgbiAmJiBuICE9PSB0OyBuID0gbi5wYXJlbnROb2RlKQoJCQkJCQkJaWYgKG4ubm9kZVR5cGUgPCAxMSAmJiAociA/IHIuaW5kZXgobikgPiAtMSA6IDEgPT09IG4ubm9kZVR5cGUgJiYgbGUuZmluZC5tYXRjaGVzU2VsZWN0b3IobiwgZSkpKSB7CgkJCQkJCQkJby5wdXNoKG4pOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubGVuZ3RoID4gMSA/IGxlLnVuaXF1ZShvKSA6IG8pCgkJCQl9LAoJCQkJaW5kZXg6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZSA/ICJzdHJpbmciID09IHR5cGVvZiBlID8gbGUuaW5BcnJheSh0aGlzWzBdLCBsZShlKSkgOiBsZS5pbkFycmF5KGUuanF1ZXJ5ID8gZVswXSA6IGUsIHRoaXMpIDogdGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xCgkJCQl9LAoJCQkJYWRkOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKGxlLnVuaXF1ZShsZS5tZXJnZSh0aGlzLmdldCgpLCBsZShlLCB0KSkpKQoJCQkJfSwKCQkJCWFkZEJhY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5hZGQobnVsbCA9PSBlID8gdGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSkKCQkJCX0KCQkJfSksIGxlLmVhY2goewoJCQkJcGFyZW50OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBlLnBhcmVudE5vZGU7CgkJCQkJcmV0dXJuIHQgJiYgMTEgIT09IHQubm9kZVR5cGUgPyB0IDogbnVsbAoJCQkJfSwKCQkJCXBhcmVudHM6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUuZGlyKGUsICJwYXJlbnROb2RlIikKCQkJCX0sCgkJCQlwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUuZGlyKGUsICJwYXJlbnROb2RlIiwgbikKCQkJCX0sCgkJCQluZXh0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGwoZSwgIm5leHRTaWJsaW5nIikKCQkJCX0sCgkJCQlwcmV2OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGwoZSwgInByZXZpb3VzU2libGluZyIpCgkJCQl9LAoJCQkJbmV4dEFsbDogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBsZS5kaXIoZSwgIm5leHRTaWJsaW5nIikKCQkJCX0sCgkJCQlwcmV2QWxsOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGxlLmRpcihlLCAicHJldmlvdXNTaWJsaW5nIikKCQkJCX0sCgkJCQluZXh0VW50aWw6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUuZGlyKGUsICJuZXh0U2libGluZyIsIG4pCgkJCQl9LAoJCQkJcHJldlVudGlsOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIGxlLmRpcihlLCAicHJldmlvdXNTaWJsaW5nIiwgbikKCQkJCX0sCgkJCQlzaWJsaW5nczogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBsZS5zaWJsaW5nKChlLnBhcmVudE5vZGUgfHwge30pLmZpcnN0Q2hpbGQsIGUpCgkJCQl9LAoJCQkJY2hpbGRyZW46IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUuc2libGluZyhlLmZpcnN0Q2hpbGQpCgkJCQl9LAoJCQkJY29udGVudHM6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUoZSwgImlmcmFtZSIpID8gZS5jb250ZW50RG9jdW1lbnQgfHwgZS5jb250ZW50V2luZG93LmRvY3VtZW50IDogbGUubWVyZ2UoW10sIGUuY2hpbGROb2RlcykKCQkJCX0KCQkJfSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuZm5bZV0gPSBmdW5jdGlvbihuLCBpKSB7CgkJCQkJdmFyIGEgPSBsZS5tYXAodGhpcywgdCwgbik7CgkJCQkJcmV0dXJuICJVbnRpbCIgIT09IGUuc2xpY2UoLTUpICYmIChpID0gbiksIGkgJiYgInN0cmluZyIgPT0gdHlwZW9mIGkgJiYgKGEgPSBsZS5maWx0ZXIoaSwgYSkpLCB0aGlzLmxlbmd0aCA+IDEgJiYgKHllW2VdIHx8IChhID0gbGUudW5pcXVlKGEpKSwgYmUudGVzdChlKSAmJiAoYSA9IGEucmV2ZXJzZSgpKSksIHRoaXMucHVzaFN0YWNrKGEpCgkJCQl9CgkJCX0pOwoJCQl2YXIga2UgPSAvXFMrL2csCgkJCQl6ZSA9IHt9OwoJCQlsZS5DYWxsYmFja3MgPSBmdW5jdGlvbihlKSB7CgkJCQllID0gInN0cmluZyIgPT0gdHlwZW9mIGUgPyB6ZVtlXSB8fCBjKGUpIDogbGUuZXh0ZW5kKHt9LCBlKTsKCQkJCXZhciB0LCBuLCBpLCBhLCBvLCByLCBzID0gW10sCgkJCQkJbCA9ICFlLm9uY2UgJiYgW10sCgkJCQkJZCA9IGZ1bmN0aW9uKGMpIHsKCQkJCQkJZm9yIChuID0gZS5tZW1vcnkgJiYgYywgaSA9ICEwLCBvID0gciB8fCAwLCByID0gMCwgYSA9IHMubGVuZ3RoLCB0ID0gITA7IHMgJiYgYSA+IG87IG8rKykKCQkJCQkJCWlmIChzW29dLmFwcGx5KGNbMF0sIGNbMV0pID09PSAhMSAmJiBlLnN0b3BPbkZhbHNlKSB7CgkJCQkJCQkJbiA9ICExOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCXQgPSAhMSwgcyAmJiAobCA/IGwubGVuZ3RoICYmIGQobC5zaGlmdCgpKSA6IG4gPyBzID0gW10gOiBwLmRpc2FibGUoKSkKCQkJCQl9LAoJCQkJCXAgPSB7CgkJCQkJCWFkZDogZnVuY3Rpb24oKSB7CgkJCQkJCQlpZiAocykgewoJCQkJCQkJCXZhciBpID0gcy5sZW5ndGg7CgkJCQkJCQkJISBmdW5jdGlvbiBvKHQpIHsKCQkJCQkJCQkJbGUuZWFjaCh0LCBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCQkJCQl2YXIgaSA9IGxlLnR5cGUobik7CgkJCQkJCQkJCQkiZnVuY3Rpb24iID09PSBpID8gZS51bmlxdWUgJiYgcC5oYXMobikgfHwgcy5wdXNoKG4pIDogbiAmJiBuLmxlbmd0aCAmJiAic3RyaW5nIiAhPT0gaSAmJiBvKG4pCgkJCQkJCQkJCX0pCgkJCQkJCQkJfShhcmd1bWVudHMpLCB0ID8gYSA9IHMubGVuZ3RoIDogbiAmJiAociA9IGksIGQobikpCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCQl9LAoJCQkJCQlyZW1vdmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIHMgJiYgbGUuZWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQkJCQlmb3IgKHZhciBpOwoJCQkJCQkJCQkoaSA9IGxlLmluQXJyYXkobiwgcywgaSkpID4gLTE7KSBzLnNwbGljZShpLCAxKSwgdCAmJiAoYSA+PSBpICYmIGEtLSwgbyA+PSBpICYmIG8tLSkKCQkJCQkJCX0pLCB0aGlzCgkJCQkJCX0sCgkJCQkJCWhhczogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUgPyBsZS5pbkFycmF5KGUsIHMpID4gLTEgOiAhKCFzIHx8ICFzLmxlbmd0aCkKCQkJCQkJfSwKCQkJCQkJZW1wdHk6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIHMgPSBbXSwgYSA9IDAsIHRoaXMKCQkJCQkJfSwKCQkJCQkJZGlzYWJsZTogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gcyA9IGwgPSBuID0gdm9pZCAwLCB0aGlzCgkJCQkJCX0sCgkJCQkJCWRpc2FibGVkOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiAhcwoJCQkJCQl9LAoJCQkJCQlsb2NrOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBsID0gdm9pZCAwLCBuIHx8IHAuZGlzYWJsZSgpLCB0aGlzCgkJCQkJCX0sCgkJCQkJCWxvY2tlZDogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gIWwKCQkJCQkJfSwKCQkJCQkJZmlyZVdpdGg6IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQkJCXJldHVybiAhcyB8fCBpICYmICFsIHx8IChuID0gbiB8fCBbXSwgbiA9IFtlLCBuLnNsaWNlID8gbi5zbGljZSgpIDogbl0sIHQgPyBsLnB1c2gobikgOiBkKG4pKSwgdGhpcwoJCQkJCQl9LAoJCQkJCQlmaXJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBwLmZpcmVXaXRoKHRoaXMsIGFyZ3VtZW50cyksIHRoaXMKCQkJCQkJfSwKCQkJCQkJZmlyZWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuICEhaQoJCQkJCQl9CgkJCQkJfTsKCQkJCXJldHVybiBwCgkJCX0sIGxlLmV4dGVuZCh7CgkJCQlEZWZlcnJlZDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gWwoJCQkJCQkJWyJyZXNvbHZlIiwgImRvbmUiLCBsZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksICJyZXNvbHZlZCJdLAoJCQkJCQkJWyJyZWplY3QiLCAiZmFpbCIsIGxlLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwgInJlamVjdGVkIl0sCgkJCQkJCQlbIm5vdGlmeSIsICJwcm9ncmVzcyIsIGxlLkNhbGxiYWNrcygibWVtb3J5IildCgkJCQkJCV0sCgkJCQkJCW4gPSAicGVuZGluZyIsCgkJCQkJCWkgPSB7CgkJCQkJCQlzdGF0ZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIG4KCQkJCQkJCX0sCgkJCQkJCQlhbHdheXM6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiBhLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksIHRoaXMKCQkJCQkJCX0sCgkJCQkJCQl0aGVuOiBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZSA9IGFyZ3VtZW50czsKCQkJCQkJCQlyZXR1cm4gbGUuRGVmZXJyZWQoZnVuY3Rpb24obikgewoJCQkJCQkJCQlsZS5lYWNoKHQsIGZ1bmN0aW9uKHQsIG8pIHsKCQkJCQkJCQkJCXZhciByID0gbGUuaXNGdW5jdGlvbihlW3RdKSAmJiBlW3RdOwoJCQkJCQkJCQkJYVtvWzFdXShmdW5jdGlvbigpIHsKCQkJCQkJCQkJCQl2YXIgZSA9IHIgJiYgci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJCQkJCQkJCQkJCWUgJiYgbGUuaXNGdW5jdGlvbihlLnByb21pc2UpID8gZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpLnByb2dyZXNzKG4ubm90aWZ5KSA6IG5bb1swXSArICJXaXRoIl0odGhpcyA9PT0gaSA/IG4ucHJvbWlzZSgpIDogdGhpcywgciA/IFtlXSA6IGFyZ3VtZW50cykKCQkJCQkJCQkJCX0pCgkJCQkJCQkJCX0pLCBlID0gbnVsbAoJCQkJCQkJCX0pLnByb21pc2UoKQoJCQkJCQkJfSwKCQkJCQkJCXByb21pc2U6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gbnVsbCAhPSBlID8gbGUuZXh0ZW5kKGUsIGkpIDogaQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlhID0ge307CgkJCQkJcmV0dXJuIGkucGlwZSA9IGkudGhlbiwgbGUuZWFjaCh0LCBmdW5jdGlvbihlLCBvKSB7CgkJCQkJCXZhciByID0gb1syXSwKCQkJCQkJCXMgPSBvWzNdOwoJCQkJCQlpW29bMV1dID0gci5hZGQsIHMgJiYgci5hZGQoZnVuY3Rpb24oKSB7CgkJCQkJCQluID0gcwoJCQkJCQl9LCB0WzEgXiBlXVsyXS5kaXNhYmxlLCB0WzJdWzJdLmxvY2spLCBhW29bMF1dID0gZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gYVtvWzBdICsgIldpdGgiXSh0aGlzID09PSBhID8gaSA6IHRoaXMsIGFyZ3VtZW50cyksIHRoaXMKCQkJCQkJfSwgYVtvWzBdICsgIldpdGgiXSA9IHIuZmlyZVdpdGgKCQkJCQl9KSwgaS5wcm9taXNlKGEpLCBlICYmIGUuY2FsbChhLCBhKSwgYQoJCQkJfSwKCQkJCXdoZW46IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IDAsCgkJCQkJCW8gPSBRLmNhbGwoYXJndW1lbnRzKSwKCQkJCQkJciA9IG8ubGVuZ3RoLAoJCQkJCQlzID0gMSAhPT0gciB8fCBlICYmIGxlLmlzRnVuY3Rpb24oZS5wcm9taXNlKSA/IHIgOiAwLAoJCQkJCQlsID0gMSA9PT0gcyA/IGUgOiBsZS5EZWZlcnJlZCgpLAoJCQkJCQljID0gZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKGEpIHsKCQkJCQkJCQluW2VdID0gdGhpcywgaVtlXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gUS5jYWxsKGFyZ3VtZW50cykgOiBhLCBpID09PSB0ID8gbC5ub3RpZnlXaXRoKG4sIGkpIDogLS1zIHx8IGwucmVzb2x2ZVdpdGgobiwgaSkKCQkJCQkJCX0KCQkJCQkJfTsKCQkJCQlpZiAociA+IDEpCgkJCQkJCWZvciAodCA9IG5ldyBBcnJheShyKSwgbiA9IG5ldyBBcnJheShyKSwgaSA9IG5ldyBBcnJheShyKTsgciA+IGE7IGErKykgb1thXSAmJiBsZS5pc0Z1bmN0aW9uKG9bYV0ucHJvbWlzZSkgPyBvW2FdLnByb21pc2UoKS5kb25lKGMoYSwgaSwgbykpLmZhaWwobC5yZWplY3QpLnByb2dyZXNzKGMoYSwgbiwgdCkpIDogLS1zOwoJCQkJCXJldHVybiBzIHx8IGwucmVzb2x2ZVdpdGgoaSwgbyksIGwucHJvbWlzZSgpCgkJCQl9CgkJCX0pOwoJCQl2YXIgQmU7CgkJCWxlLmZuLnJlYWR5ID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIGxlLnJlYWR5LnByb21pc2UoKS5kb25lKGUpLCB0aGlzCgkJCX0sIGxlLmV4dGVuZCh7CgkJCQlpc1JlYWR5OiAhMSwKCQkJCXJlYWR5V2FpdDogMSwKCQkJCWhvbGRSZWFkeTogZnVuY3Rpb24oZSkgewoJCQkJCWUgPyBsZS5yZWFkeVdhaXQrKyA6IGxlLnJlYWR5KCEwKQoJCQkJfSwKCQkJCXJlYWR5OiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUgPT09ICEwID8gIS0tbGUucmVhZHlXYWl0IDogIWxlLmlzUmVhZHkpIHsKCQkJCQkJaWYgKCF4ZS5ib2R5KSByZXR1cm4gc2V0VGltZW91dChsZS5yZWFkeSk7CgkJCQkJCWxlLmlzUmVhZHkgPSAhMCwgZSAhPT0gITAgJiYgLS1sZS5yZWFkeVdhaXQgPiAwIHx8IChCZS5yZXNvbHZlV2l0aCh4ZSwgW2xlXSksIGxlLmZuLnRyaWdnZXJIYW5kbGVyICYmIChsZSh4ZSkudHJpZ2dlckhhbmRsZXIoInJlYWR5IiksIGxlKHhlKS5vZmYoInJlYWR5IikpKQoJCQkJCX0KCQkJCX0KCQkJfSksIGxlLnJlYWR5LnByb21pc2UgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoIUJlKQoJCQkJCWlmIChCZSA9IGxlLkRlZmVycmVkKCksICJjb21wbGV0ZSIgPT09IHhlLnJlYWR5U3RhdGUpIHNldFRpbWVvdXQobGUucmVhZHkpOwoJCQkJCWVsc2UgaWYgKHhlLmFkZEV2ZW50TGlzdGVuZXIpIHhlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBwLCAhMSksIGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHAsICExKTsKCQkJCWVsc2UgewoJCQkJCXhlLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBwKSwgYS5hdHRhY2hFdmVudCgib25sb2FkIiwgcCk7CgkJCQkJdmFyIHQgPSAhMTsKCQkJCQl0cnkgewoJCQkJCQl0ID0gbnVsbCA9PSBhLmZyYW1lRWxlbWVudCAmJiB4ZS5kb2N1bWVudEVsZW1lbnQKCQkJCQl9IGNhdGNoIChuKSB7fQoJCQkJCXQgJiYgdC5kb1Njcm9sbCAmJiAhIGZ1bmN0aW9uIGkoKSB7CgkJCQkJCWlmICghbGUuaXNSZWFkeSkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQl0LmRvU2Nyb2xsKCJsZWZ0IikKCQkJCQkJCX0gY2F0Y2ggKGUpIHsKCQkJCQkJCQlyZXR1cm4gc2V0VGltZW91dChpLCA1MCkKCQkJCQkJCX0KCQkJCQkJCWQoKSwgbGUucmVhZHkoKQoJCQkJCQl9CgkJCQkJfSgpCgkJCQl9CgkJCQlyZXR1cm4gQmUucHJvbWlzZShlKQoJCQl9OwoJCQl2YXIgamUsIENlID0gInVuZGVmaW5lZCI7CgkJCWZvciAoamUgaW4gbGUocmUpKSBicmVhazsKCQkJcmUub3duTGFzdCA9ICIwIiAhPT0gamUsIHJlLmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSAhMSwgbGUoZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGk7CgkJCQkJbiA9IHhlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sIG4gJiYgbi5zdHlsZSAmJiAodCA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBpID0geGUuY3JlYXRlRWxlbWVudCgiZGl2IiksIGkuc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsIG4uYXBwZW5kQ2hpbGQoaSkuYXBwZW5kQ2hpbGQodCksIHR5cGVvZiB0LnN0eWxlLnpvb20gIT09IENlICYmICh0LnN0eWxlLmNzc1RleHQgPSAiZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsIHJlLmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSBlID0gMyA9PT0gdC5vZmZzZXRXaWR0aCwgZSAmJiAobi5zdHlsZS56b29tID0gMSkpLCBuLnJlbW92ZUNoaWxkKGkpKQoJCQkJfSksCgkJCQlmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCWlmIChudWxsID09IHJlLmRlbGV0ZUV4cGFuZG8pIHsKCQkJCQkJcmUuZGVsZXRlRXhwYW5kbyA9ICEwOwoJCQkJCQl0cnkgewoJCQkJCQkJZGVsZXRlIGUudGVzdAoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQlyZS5kZWxldGVFeHBhbmRvID0gITEKCQkJCQkJfQoJCQkJCX0KCQkJCQllID0gbnVsbAoJCQkJfSgpLCBsZS5hY2NlcHREYXRhID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbGUubm9EYXRhWyhlLm5vZGVOYW1lICsgIiAiKS50b0xvd2VyQ2FzZSgpXSwKCQkJCQkJbiA9ICtlLm5vZGVUeXBlIHx8IDE7CgkJCQkJcmV0dXJuIDEgIT09IG4gJiYgOSAhPT0gbiA/ICExIDogIXQgfHwgdCAhPT0gITAgJiYgZS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKSA9PT0gdAoJCQkJfTsKCQkJdmFyIFNlID0gL14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLywKCQkJCU5lID0gLyhbQS1aXSkvZzsKCQkJbGUuZXh0ZW5kKHsKCQkJCWNhY2hlOiB7fSwKCQkJCW5vRGF0YTogewoJCQkJCSJhcHBsZXQgIjogITAsCgkJCQkJImVtYmVkICI6ICEwLAoJCQkJCSJvYmplY3QgIjogImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIKCQkJCX0sCgkJCQloYXNEYXRhOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgPSBlLm5vZGVUeXBlID8gbGUuY2FjaGVbZVtsZS5leHBhbmRvXV0gOiBlW2xlLmV4cGFuZG9dLCAhIWUgJiYgIXUoZSkKCQkJCX0sCgkJCQlkYXRhOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIG0oZSwgdCwgbikKCQkJCX0sCgkJCQlyZW1vdmVEYXRhOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGYoZSwgdCkKCQkJCX0sCgkJCQlfZGF0YTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXJldHVybiBtKGUsIHQsIG4sICEwKQoJCQkJfSwKCQkJCV9yZW1vdmVEYXRhOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGYoZSwgdCwgITApCgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJZGF0YTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhLCBvID0gdGhpc1swXSwKCQkJCQkJciA9IG8gJiYgby5hdHRyaWJ1dGVzOwoJCQkJCWlmICh2b2lkIDAgPT09IGUpIHsKCQkJCQkJaWYgKHRoaXMubGVuZ3RoICYmIChhID0gbGUuZGF0YShvKSwgMSA9PT0gby5ub2RlVHlwZSAmJiAhbGUuX2RhdGEobywgInBhcnNlZEF0dHJzIikpKSB7CgkJCQkJCQlmb3IgKG4gPSByLmxlbmd0aDsgbi0tOykgcltuXSAmJiAoaSA9IHJbbl0ubmFtZSwgMCA9PT0gaS5pbmRleE9mKCJkYXRhLSIpICYmIChpID0gbGUuY2FtZWxDYXNlKGkuc2xpY2UoNSkpLCBoKG8sIGksIGFbaV0pKSk7CgkJCQkJCQlsZS5fZGF0YShvLCAicGFyc2VkQXR0cnMiLCAhMCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gYQoJCQkJCX0KCQkJCQlyZXR1cm4gIm9iamVjdCIgPT0gdHlwZW9mIGUgPyB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCWxlLmRhdGEodGhpcywgZSkKCQkJCQl9KSA6IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5kYXRhKHRoaXMsIGUsIHQpCgkJCQkJfSkgOiBvID8gaChvLCBlLCBsZS5kYXRhKG8sIGUpKSA6IHZvaWQgMAoJCQkJfSwKCQkJCXJlbW92ZURhdGE6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5yZW1vdmVEYXRhKHRoaXMsIGUpCgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmV4dGVuZCh7CgkJCQlxdWV1ZTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpOwoJCQkJCXJldHVybiBlID8gKHQgPSAodCB8fCAiZngiKSArICJxdWV1ZSIsIGkgPSBsZS5fZGF0YShlLCB0KSwgbiAmJiAoIWkgfHwgbGUuaXNBcnJheShuKSA/IGkgPSBsZS5fZGF0YShlLCB0LCBsZS5tYWtlQXJyYXkobikpIDogaS5wdXNoKG4pKSwgaSB8fCBbXSkgOiB2b2lkIDAKCQkJCX0sCgkJCQlkZXF1ZXVlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdCA9IHQgfHwgImZ4IjsKCQkJCQl2YXIgbiA9IGxlLnF1ZXVlKGUsIHQpLAoJCQkJCQlpID0gbi5sZW5ndGgsCgkJCQkJCWEgPSBuLnNoaWZ0KCksCgkJCQkJCW8gPSBsZS5fcXVldWVIb29rcyhlLCB0KSwKCQkJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJbGUuZGVxdWV1ZShlLCB0KQoJCQkJCQl9OwoJCQkJCSJpbnByb2dyZXNzIiA9PT0gYSAmJiAoYSA9IG4uc2hpZnQoKSwgaS0tKSwgYSAmJiAoImZ4IiA9PT0gdCAmJiBuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSwgZGVsZXRlIG8uc3RvcCwgYS5jYWxsKGUsIHIsIG8pKSwgIWkgJiYgbyAmJiBvLmVtcHR5LmZpcmUoKQoJCQkJfSwKCQkJCV9xdWV1ZUhvb2tzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0ICsgInF1ZXVlSG9va3MiOwoJCQkJCXJldHVybiBsZS5fZGF0YShlLCBuKSB8fCBsZS5fZGF0YShlLCBuLCB7CgkJCQkJCWVtcHR5OiBsZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCkgewoJCQkJCQkJbGUuX3JlbW92ZURhdGEoZSwgdCArICJxdWV1ZSIpLCBsZS5fcmVtb3ZlRGF0YShlLCBuKQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJcXVldWU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IDI7CgkJCQkJcmV0dXJuICJzdHJpbmciICE9IHR5cGVvZiBlICYmICh0ID0gZSwgZSA9ICJmeCIsIG4tLSksIGFyZ3VtZW50cy5sZW5ndGggPCBuID8gbGUucXVldWUodGhpc1swXSwgZSkgOiB2b2lkIDAgPT09IHQgPyB0aGlzIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IGxlLnF1ZXVlKHRoaXMsIGUsIHQpOwoJCQkJCQlsZS5fcXVldWVIb29rcyh0aGlzLCBlKSwgImZ4IiA9PT0gZSAmJiAiaW5wcm9ncmVzcyIgIT09IG5bMF0gJiYgbGUuZGVxdWV1ZSh0aGlzLCBlKQoJCQkJCX0pCgkJCQl9LAoJCQkJZGVxdWV1ZTogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCWxlLmRlcXVldWUodGhpcywgZSkKCQkJCQl9KQoJCQkJfSwKCQkJCWNsZWFyUXVldWU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5xdWV1ZShlIHx8ICJmeCIsIFtdKQoJCQkJfSwKCQkJCXByb21pc2U6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSA9IDEsCgkJCQkJCWEgPSBsZS5EZWZlcnJlZCgpLAoJCQkJCQlvID0gdGhpcywKCQkJCQkJciA9IHRoaXMubGVuZ3RoLAoJCQkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJCQktLWkgfHwgYS5yZXNvbHZlV2l0aChvLCBbb10pCgkJCQkJCX07CgkJCQkJZm9yICgic3RyaW5nIiAhPSB0eXBlb2YgZSAmJiAodCA9IGUsIGUgPSB2b2lkIDApLCBlID0gZSB8fCAiZngiOyByLS07KSBuID0gbGUuX2RhdGEob1tyXSwgZSArICJxdWV1ZUhvb2tzIiksIG4gJiYgbi5lbXB0eSAmJiAoaSsrLCBuLmVtcHR5LmFkZChzKSk7CgkJCQkJcmV0dXJuIHMoKSwgYS5wcm9taXNlKHQpCgkJCQl9CgkJCX0pOwoJCQl2YXIgVGUgPSAvWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSwKCQkJCVBlID0gWyJUb3AiLCAiUmlnaHQiLCAiQm90dG9tIiwgIkxlZnQiXSwKCQkJCUllID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBlID0gdCB8fCBlLCAibm9uZSIgPT09IGxlLmNzcyhlLCAiZGlzcGxheSIpIHx8ICFsZS5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsIGUpCgkJCQl9LAoJCQkJQWUgPSBsZS5hY2Nlc3MgPSBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvLCByKSB7CgkJCQkJdmFyIHMgPSAwLAoJCQkJCQlsID0gZS5sZW5ndGgsCgkJCQkJCWMgPSBudWxsID09IG47CgkJCQkJaWYgKCJvYmplY3QiID09PSBsZS50eXBlKG4pKSB7CgkJCQkJCWEgPSAhMDsKCQkJCQkJZm9yIChzIGluIG4pIGxlLmFjY2VzcyhlLCB0LCBzLCBuW3NdLCAhMCwgbywgcikKCQkJCQl9IGVsc2UgaWYgKHZvaWQgMCAhPT0gaSAmJiAoYSA9ICEwLCBsZS5pc0Z1bmN0aW9uKGkpIHx8IChyID0gITApLCBjICYmIChyID8gKHQuY2FsbChlLCBpKSwgdCA9IG51bGwpIDogKGMgPSB0LCB0ID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQlyZXR1cm4gYy5jYWxsKGxlKGUpLCBuKQoJCQkJCX0pKSwgdCkpCgkJCQkJCWZvciAoOyBsID4gczsgcysrKSB0KGVbc10sIG4sIHIgPyBpIDogaS5jYWxsKGVbc10sIHMsIHQoZVtzXSwgbikpKTsKCQkJCQlyZXR1cm4gYSA/IGUgOiBjID8gdC5jYWxsKGUpIDogbCA/IHQoZVswXSwgbikgOiBvCgkJCQl9LAoJCQkJcWUgPSAvXig/OmNoZWNrYm94fHJhZGlvKSQvaTsKCQkJISBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0geGUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSwKCQkJCQl0ID0geGUuY3JlYXRlRWxlbWVudCgiZGl2IiksCgkJCQkJbiA9IHhlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKCQkJCWlmICh0LmlubmVySFRNTCA9ICIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLCByZS5sZWFkaW5nV2hpdGVzcGFjZSA9IDMgPT09IHQuZmlyc3RDaGlsZC5ub2RlVHlwZSwgcmUudGJvZHkgPSAhdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsIHJlLmh0bWxTZXJpYWxpemUgPSAhIXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsIHJlLmh0bWw1Q2xvbmUgPSAiPDpuYXY+PC86bmF2PiIgIT09IHhlLmNyZWF0ZUVsZW1lbnQoIm5hdiIpLmNsb25lTm9kZSghMCkub3V0ZXJIVE1MLCBlLnR5cGUgPSAiY2hlY2tib3giLCBlLmNoZWNrZWQgPSAhMCwgbi5hcHBlbmRDaGlsZChlKSwgcmUuYXBwZW5kQ2hlY2tlZCA9IGUuY2hlY2tlZCwgdC5pbm5lckhUTUwgPSAiPHRleHRhcmVhPng8L3RleHRhcmVhPiIsIHJlLm5vQ2xvbmVDaGVja2VkID0gISF0LmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSwgbi5hcHBlbmRDaGlsZCh0KSwgdC5pbm5lckhUTUwgPSAiPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+IiwgcmUuY2hlY2tDbG9uZSA9IHQuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLCByZS5ub0Nsb25lRXZlbnQgPSAhMCwgdC5hdHRhY2hFdmVudCAmJiAodC5hdHRhY2hFdmVudCgib25jbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXJlLm5vQ2xvbmVFdmVudCA9ICExCgkJCQl9KSwgdC5jbG9uZU5vZGUoITApLmNsaWNrKCkpLCBudWxsID09IHJlLmRlbGV0ZUV4cGFuZG8pIHsKCQkJCQlyZS5kZWxldGVFeHBhbmRvID0gITA7CgkJCQkJdHJ5IHsKCQkJCQkJZGVsZXRlIHQudGVzdAoJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJcmUuZGVsZXRlRXhwYW5kbyA9ICExCgkJCQkJfQoJCQkJfQoJCQl9KCksCgkJCWZ1bmN0aW9uKCkgewoJCQkJdmFyIGUsIHQsIG4gPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCQkJCWZvciAoZSBpbiB7CgkJCQkJc3VibWl0OiAhMCwKCQkJCQljaGFuZ2U6ICEwLAoJCQkJCWZvY3VzaW46ICEwCgkJCQl9KSB0ID0gIm9uIiArIGUsIChyZVtlICsgIkJ1YmJsZXMiXSA9IHQgaW4gYSkgfHwgKG4uc2V0QXR0cmlidXRlKHQsICJ0IiksIHJlW2UgKyAiQnViYmxlcyJdID0gbi5hdHRyaWJ1dGVzW3RdLmV4cGFuZG8gPT09ICExKTsKCQkJCW4gPSBudWxsCgkJCX0oKTsKCQkJdmFyIEVlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLAoJCQkJT2UgPSAvXmtleS8sCgkJCQlMZSA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudSl8Y2xpY2svLAoJCQkJRGUgPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sCgkJCQlNZSA9IC9eKFteLl0qKSg/OlwuKC4rKXwpJC87CgkJCWxlLmV2ZW50ID0gewoJCQkJZ2xvYmFsOiB7fSwKCQkJCWFkZDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCXZhciBvLCByLCBzLCBsLCBjLCBkLCBwLCBoLCB1LCBtLCBmLCBnID0gbGUuX2RhdGEoZSk7CgkJCQkJaWYgKGcpIHsKCQkJCQkJZm9yIChuLmhhbmRsZXIgJiYgKGwgPSBuLCBuID0gbC5oYW5kbGVyLCBhID0gbC5zZWxlY3RvciksIG4uZ3VpZCB8fCAobi5ndWlkID0gbGUuZ3VpZCsrKSwgKHIgPSBnLmV2ZW50cykgfHwgKHIgPSBnLmV2ZW50cyA9IHt9KSwgKGQgPSBnLmhhbmRsZSkgfHwgKGQgPSBnLmhhbmRsZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiB0eXBlb2YgbGUgPT09IENlIHx8IGUgJiYgbGUuZXZlbnQudHJpZ2dlcmVkID09PSBlLnR5cGUgPyB2b2lkIDAgOiBsZS5ldmVudC5kaXNwYXRjaC5hcHBseShkLmVsZW0sIGFyZ3VtZW50cykKCQkJCQkJfSwgZC5lbGVtID0gZSksIHQgPSAodCB8fCAiIikubWF0Y2goa2UpIHx8IFsiIl0sIHMgPSB0Lmxlbmd0aDsgcy0tOykgbyA9IE1lLmV4ZWModFtzXSkgfHwgW10sIHUgPSBmID0gb1sxXSwgbSA9IChvWzJdIHx8ICIiKS5zcGxpdCgiLiIpLnNvcnQoKSwgdSAmJiAoYyA9IGxlLmV2ZW50LnNwZWNpYWxbdV0gfHwge30sIHUgPSAoYSA/IGMuZGVsZWdhdGVUeXBlIDogYy5iaW5kVHlwZSkgfHwgdSwgYyA9IGxlLmV2ZW50LnNwZWNpYWxbdV0gfHwge30sIHAgPSBsZS5leHRlbmQoewoJCQkJCQkJdHlwZTogdSwKCQkJCQkJCW9yaWdUeXBlOiBmLAoJCQkJCQkJZGF0YTogaSwKCQkJCQkJCWhhbmRsZXI6IG4sCgkJCQkJCQlndWlkOiBuLmd1aWQsCgkJCQkJCQlzZWxlY3RvcjogYSwKCQkJCQkJCW5lZWRzQ29udGV4dDogYSAmJiBsZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGEpLAoJCQkJCQkJbmFtZXNwYWNlOiBtLmpvaW4oIi4iKQoJCQkJCQl9LCBsKSwgKGggPSByW3VdKSB8fCAoaCA9IHJbdV0gPSBbXSwgaC5kZWxlZ2F0ZUNvdW50ID0gMCwgYy5zZXR1cCAmJiBjLnNldHVwLmNhbGwoZSwgaSwgbSwgZCkgIT09ICExIHx8IChlLmFkZEV2ZW50TGlzdGVuZXIgPyBlLmFkZEV2ZW50TGlzdGVuZXIodSwgZCwgITEpIDogZS5hdHRhY2hFdmVudCAmJiBlLmF0dGFjaEV2ZW50KCJvbiIgKyB1LCBkKSkpLCBjLmFkZCAmJiAoYy5hZGQuY2FsbChlLCBwKSwgcC5oYW5kbGVyLmd1aWQgfHwgKHAuaGFuZGxlci5ndWlkID0gbi5ndWlkKSksIGEgPyBoLnNwbGljZShoLmRlbGVnYXRlQ291bnQrKywgMCwgcCkgOiBoLnB1c2gocCksIGxlLmV2ZW50Lmdsb2JhbFt1XSA9ICEwKTsKCQkJCQkJZSA9IG51bGwKCQkJCQl9CgkJCQl9LAoJCQkJcmVtb3ZlOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUsIG0sIGYsIGcgPSBsZS5oYXNEYXRhKGUpICYmIGxlLl9kYXRhKGUpOwoJCQkJCWlmIChnICYmIChkID0gZy5ldmVudHMpKSB7CgkJCQkJCWZvciAodCA9ICh0IHx8ICIiKS5tYXRjaChrZSkgfHwgWyIiXSwgYyA9IHQubGVuZ3RoOyBjLS07KQoJCQkJCQkJaWYgKHMgPSBNZS5leGVjKHRbY10pIHx8IFtdLCB1ID0gZiA9IHNbMV0sIG0gPSAoc1syXSB8fCAiIikuc3BsaXQoIi4iKS5zb3J0KCksIHUpIHsKCQkJCQkJCQlmb3IgKHAgPSBsZS5ldmVudC5zcGVjaWFsW3VdIHx8IHt9LCB1ID0gKGkgPyBwLmRlbGVnYXRlVHlwZSA6IHAuYmluZFR5cGUpIHx8IHUsIGggPSBkW3VdIHx8IFtdLCBzID0gc1syXSAmJiBuZXcgUmVnRXhwKCIoXnxcXC4pIiArIG0uam9pbigiXFwuKD86LipcXC58KSIpICsgIihcXC58JCkiKSwgbCA9IG8gPSBoLmxlbmd0aDsgby0tOykgciA9IGhbb10sICFhICYmIGYgIT09IHIub3JpZ1R5cGUgfHwgbiAmJiBuLmd1aWQgIT09IHIuZ3VpZCB8fCBzICYmICFzLnRlc3Qoci5uYW1lc3BhY2UpIHx8IGkgJiYgaSAhPT0gci5zZWxlY3RvciAmJiAoIioqIiAhPT0gaSB8fCAhci5zZWxlY3RvcikgfHwgKGguc3BsaWNlKG8sIDEpLCByLnNlbGVjdG9yICYmIGguZGVsZWdhdGVDb3VudC0tLCBwLnJlbW92ZSAmJiBwLnJlbW92ZS5jYWxsKGUsIHIpKTsKCQkJCQkJCQlsICYmICFoLmxlbmd0aCAmJiAocC50ZWFyZG93biAmJiBwLnRlYXJkb3duLmNhbGwoZSwgbSwgZy5oYW5kbGUpICE9PSAhMSB8fCBsZS5yZW1vdmVFdmVudChlLCB1LCBnLmhhbmRsZSksIGRlbGV0ZSBkW3VdKQoJCQkJCQkJfSBlbHNlCgkJCQkJCQkJZm9yICh1IGluIGQpIGxlLmV2ZW50LnJlbW92ZShlLCB1ICsgdFtjXSwgbiwgaSwgITApOwoJCQkJCQlsZS5pc0VtcHR5T2JqZWN0KGQpICYmIChkZWxldGUgZy5oYW5kbGUsIGxlLl9yZW1vdmVEYXRhKGUsICJldmVudHMiKSkKCQkJCQl9CgkJCQl9LAoJCQkJdHJpZ2dlcjogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBvLCByLCBzLCBsLCBjLCBkLCBwLCBoID0gW24gfHwgeGVdLAoJCQkJCQl1ID0gb2UuY2FsbChlLCAidHlwZSIpID8gZS50eXBlIDogZSwKCQkJCQkJbSA9IG9lLmNhbGwoZSwgIm5hbWVzcGFjZSIpID8gZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKSA6IFtdOwoJCQkJCWlmIChzID0gZCA9IG4gPSBuIHx8IHhlLCAzICE9PSBuLm5vZGVUeXBlICYmIDggIT09IG4ubm9kZVR5cGUgJiYgIURlLnRlc3QodSArIGxlLmV2ZW50LnRyaWdnZXJlZCkgJiYgKHUuaW5kZXhPZigiLiIpID49IDAgJiYgKG0gPSB1LnNwbGl0KCIuIiksIHUgPSBtLnNoaWZ0KCksIG0uc29ydCgpKSwgciA9IHUuaW5kZXhPZigiOiIpIDwgMCAmJiAib24iICsgdSwgZSA9IGVbbGUuZXhwYW5kb10gPyBlIDogbmV3IGxlLkV2ZW50KHUsICJvYmplY3QiID09IHR5cGVvZiBlICYmIGUpLCBlLmlzVHJpZ2dlciA9IGkgPyAyIDogMywgZS5uYW1lc3BhY2UgPSBtLmpvaW4oIi4iKSwgZS5uYW1lc3BhY2VfcmUgPSBlLm5hbWVzcGFjZSA/IG5ldyBSZWdFeHAoIihefFxcLikiICsgbS5qb2luKCJcXC4oPzouKlxcLnwpIikgKyAiKFxcLnwkKSIpIDogbnVsbCwgZS5yZXN1bHQgPSB2b2lkIDAsIGUudGFyZ2V0IHx8IChlLnRhcmdldCA9IG4pLCB0ID0gbnVsbCA9PSB0ID8gW2VdIDogbGUubWFrZUFycmF5KHQsIFtlXSksIGMgPSBsZS5ldmVudC5zcGVjaWFsW3VdIHx8IHt9LCBpIHx8ICFjLnRyaWdnZXIgfHwgYy50cmlnZ2VyLmFwcGx5KG4sIHQpICE9PSAhMSkpIHsKCQkJCQkJaWYgKCFpICYmICFjLm5vQnViYmxlICYmICFsZS5pc1dpbmRvdyhuKSkgewoJCQkJCQkJZm9yIChsID0gYy5kZWxlZ2F0ZVR5cGUgfHwgdSwgRGUudGVzdChsICsgdSkgfHwgKHMgPSBzLnBhcmVudE5vZGUpOyBzOyBzID0gcy5wYXJlbnROb2RlKSBoLnB1c2gocyksIGQgPSBzOwoJCQkJCQkJZCA9PT0gKG4ub3duZXJEb2N1bWVudCB8fCB4ZSkgJiYgaC5wdXNoKGQuZGVmYXVsdFZpZXcgfHwgZC5wYXJlbnRXaW5kb3cgfHwgYSkKCQkJCQkJfQoJCQkJCQlmb3IgKHAgPSAwOwoJCQkJCQkJKHMgPSBoW3ArK10pICYmICFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KSBlLnR5cGUgPSBwID4gMSA/IGwgOiBjLmJpbmRUeXBlIHx8IHUsIG8gPSAobGUuX2RhdGEocywgImV2ZW50cyIpIHx8IHt9KVtlLnR5cGVdICYmIGxlLl9kYXRhKHMsICJoYW5kbGUiKSwgbyAmJiBvLmFwcGx5KHMsIHQpLCBvID0gciAmJiBzW3JdLCBvICYmIG8uYXBwbHkgJiYgbGUuYWNjZXB0RGF0YShzKSAmJiAoZS5yZXN1bHQgPSBvLmFwcGx5KHMsIHQpLCBlLnJlc3VsdCA9PT0gITEgJiYgZS5wcmV2ZW50RGVmYXVsdCgpKTsKCQkJCQkJaWYgKGUudHlwZSA9IHUsICFpICYmICFlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmICghYy5fZGVmYXVsdCB8fCBjLl9kZWZhdWx0LmFwcGx5KGgucG9wKCksIHQpID09PSAhMSkgJiYgbGUuYWNjZXB0RGF0YShuKSAmJiByICYmIG5bdV0gJiYgIWxlLmlzV2luZG93KG4pKSB7CgkJCQkJCQlkID0gbltyXSwgZCAmJiAobltyXSA9IG51bGwpLCBsZS5ldmVudC50cmlnZ2VyZWQgPSB1OwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQluW3VdKCkKCQkJCQkJCX0gY2F0Y2ggKGYpIHt9CgkJCQkJCQlsZS5ldmVudC50cmlnZ2VyZWQgPSB2b2lkIDAsIGQgJiYgKG5bcl0gPSBkKQoJCQkJCQl9CgkJCQkJCXJldHVybiBlLnJlc3VsdAoJCQkJCX0KCQkJCX0sCgkJCQlkaXNwYXRjaDogZnVuY3Rpb24oZSkgewoJCQkJCWUgPSBsZS5ldmVudC5maXgoZSk7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIgPSBbXSwKCQkJCQkJcyA9IFEuY2FsbChhcmd1bWVudHMpLAoJCQkJCQlsID0gKGxlLl9kYXRhKHRoaXMsICJldmVudHMiKSB8fCB7fSlbZS50eXBlXSB8fCBbXSwKCQkJCQkJYyA9IGxlLmV2ZW50LnNwZWNpYWxbZS50eXBlXSB8fCB7fTsKCQkJCQlpZiAoc1swXSA9IGUsIGUuZGVsZWdhdGVUYXJnZXQgPSB0aGlzLCAhYy5wcmVEaXNwYXRjaCB8fCBjLnByZURpc3BhdGNoLmNhbGwodGhpcywgZSkgIT09ICExKSB7CgkJCQkJCWZvciAociA9IGxlLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcywgZSwgbCksIHQgPSAwOwoJCQkJCQkJKGEgPSByW3QrK10pICYmICFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KQoJCQkJCQkJZm9yIChlLmN1cnJlbnRUYXJnZXQgPSBhLmVsZW0sIG8gPSAwOwoJCQkJCQkJCShpID0gYS5oYW5kbGVyc1tvKytdKSAmJiAhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOykoIWUubmFtZXNwYWNlX3JlIHx8IGUubmFtZXNwYWNlX3JlLnRlc3QoaS5uYW1lc3BhY2UpKSAmJiAoZS5oYW5kbGVPYmogPSBpLCBlLmRhdGEgPSBpLmRhdGEsIG4gPSAoKGxlLmV2ZW50LnNwZWNpYWxbaS5vcmlnVHlwZV0gfHwge30pLmhhbmRsZSB8fCBpLmhhbmRsZXIpLmFwcGx5KGEuZWxlbSwgcyksIHZvaWQgMCAhPT0gbiAmJiAoZS5yZXN1bHQgPSBuKSA9PT0gITEgJiYgKGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSkpOwoJCQkJCQlyZXR1cm4gYy5wb3N0RGlzcGF0Y2ggJiYgYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLCBlKSwgZS5yZXN1bHQKCQkJCQl9CgkJCQl9LAoJCQkJaGFuZGxlcnM6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSwgYSwgbywgciA9IFtdLAoJCQkJCQlzID0gdC5kZWxlZ2F0ZUNvdW50LAoJCQkJCQlsID0gZS50YXJnZXQ7CgkJCQkJaWYgKHMgJiYgbC5ub2RlVHlwZSAmJiAoIWUuYnV0dG9uIHx8ICJjbGljayIgIT09IGUudHlwZSkpCgkJCQkJCWZvciAoOyBsICE9IHRoaXM7IGwgPSBsLnBhcmVudE5vZGUgfHwgdGhpcykKCQkJCQkJCWlmICgxID09PSBsLm5vZGVUeXBlICYmIChsLmRpc2FibGVkICE9PSAhMCB8fCAiY2xpY2siICE9PSBlLnR5cGUpKSB7CgkJCQkJCQkJZm9yIChhID0gW10sIG8gPSAwOyBzID4gbzsgbysrKSBpID0gdFtvXSwgbiA9IGkuc2VsZWN0b3IgKyAiICIsIHZvaWQgMCA9PT0gYVtuXSAmJiAoYVtuXSA9IGkubmVlZHNDb250ZXh0ID8gbGUobiwgdGhpcykuaW5kZXgobCkgPj0gMCA6IGxlLmZpbmQobiwgdGhpcywgbnVsbCwgW2xdKS5sZW5ndGgpLCBhW25dICYmIGEucHVzaChpKTsKCQkJCQkJCQlhLmxlbmd0aCAmJiByLnB1c2goewoJCQkJCQkJCQllbGVtOiBsLAoJCQkJCQkJCQloYW5kbGVyczogYQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJcmV0dXJuIHMgPCB0Lmxlbmd0aCAmJiByLnB1c2goewoJCQkJCQllbGVtOiB0aGlzLAoJCQkJCQloYW5kbGVyczogdC5zbGljZShzKQoJCQkJCX0pLCByCgkJCQl9LAoJCQkJZml4OiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGVbbGUuZXhwYW5kb10pIHJldHVybiBlOwoJCQkJCXZhciB0LCBuLCBpLCBhID0gZS50eXBlLAoJCQkJCQlvID0gZSwKCQkJCQkJciA9IHRoaXMuZml4SG9va3NbYV07CgkJCQkJZm9yIChyIHx8ICh0aGlzLmZpeEhvb2tzW2FdID0gciA9IExlLnRlc3QoYSkgPyB0aGlzLm1vdXNlSG9va3MgOiBPZS50ZXN0KGEpID8gdGhpcy5rZXlIb29rcyA6IHt9KSwgaSA9IHIucHJvcHMgPyB0aGlzLnByb3BzLmNvbmNhdChyLnByb3BzKSA6IHRoaXMucHJvcHMsIGUgPSBuZXcgbGUuRXZlbnQobyksIHQgPSBpLmxlbmd0aDsgdC0tOykgbiA9IGlbdF0sIGVbbl0gPSBvW25dOwoJCQkJCXJldHVybiBlLnRhcmdldCB8fCAoZS50YXJnZXQgPSBvLnNyY0VsZW1lbnQgfHwgeGUpLCAzID09PSBlLnRhcmdldC5ub2RlVHlwZSAmJiAoZS50YXJnZXQgPSBlLnRhcmdldC5wYXJlbnROb2RlKSwgZS5tZXRhS2V5ID0gISFlLm1ldGFLZXksIHIuZmlsdGVyID8gci5maWx0ZXIoZSwgbykgOiBlCgkJCQl9LAoJCQkJcHJvcHM6ICJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksCgkJCQlmaXhIb29rczoge30sCgkJCQlrZXlIb29rczogewoJCQkJCXByb3BzOiAiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSwKCQkJCQlmaWx0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIG51bGwgPT0gZS53aGljaCAmJiAoZS53aGljaCA9IG51bGwgIT0gdC5jaGFyQ29kZSA/IHQuY2hhckNvZGUgOiB0LmtleUNvZGUpLCBlCgkJCQkJfQoJCQkJfSwKCQkJCW1vdXNlSG9va3M6IHsKCQkJCQlwcm9wczogImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSwKCQkJCQlmaWx0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIG4sIGksIGEsIG8gPSB0LmJ1dHRvbiwKCQkJCQkJCXIgPSB0LmZyb21FbGVtZW50OwoJCQkJCQlyZXR1cm4gbnVsbCA9PSBlLnBhZ2VYICYmIG51bGwgIT0gdC5jbGllbnRYICYmIChpID0gZS50YXJnZXQub3duZXJEb2N1bWVudCB8fCB4ZSwgYSA9IGkuZG9jdW1lbnRFbGVtZW50LCBuID0gaS5ib2R5LCBlLnBhZ2VYID0gdC5jbGllbnRYICsgKGEgJiYgYS5zY3JvbGxMZWZ0IHx8IG4gJiYgbi5zY3JvbGxMZWZ0IHx8IDApIC0gKGEgJiYgYS5jbGllbnRMZWZ0IHx8IG4gJiYgbi5jbGllbnRMZWZ0IHx8IDApLCBlLnBhZ2VZID0gdC5jbGllbnRZICsgKGEgJiYgYS5zY3JvbGxUb3AgfHwgbiAmJiBuLnNjcm9sbFRvcCB8fCAwKSAtIChhICYmIGEuY2xpZW50VG9wIHx8IG4gJiYgbi5jbGllbnRUb3AgfHwgMCkpLCAhZS5yZWxhdGVkVGFyZ2V0ICYmIHIgJiYgKGUucmVsYXRlZFRhcmdldCA9IHIgPT09IGUudGFyZ2V0ID8gdC50b0VsZW1lbnQgOiByKSwgZS53aGljaCB8fCB2b2lkIDAgPT09IG8gfHwgKGUud2hpY2ggPSAxICYgbyA/IDEgOiAyICYgbyA/IDMgOiA0ICYgbyA/IDIgOiAwKSwgZQoJCQkJCX0KCQkJCX0sCgkJCQlzcGVjaWFsOiB7CgkJCQkJbG9hZDogewoJCQkJCQlub0J1YmJsZTogITAKCQkJCQl9LAoJCQkJCWZvY3VzOiB7CgkJCQkJCXRyaWdnZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYgKHRoaXMgIT09IHgoKSAmJiB0aGlzLmZvY3VzKSB0cnkgewoJCQkJCQkJCXJldHVybiB0aGlzLmZvY3VzKCksICExCgkJCQkJCQl9IGNhdGNoIChlKSB7fQoJCQkJCQl9LAoJCQkJCQlkZWxlZ2F0ZVR5cGU6ICJmb2N1c2luIgoJCQkJCX0sCgkJCQkJYmx1cjogewoJCQkJCQl0cmlnZ2VyOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiB0aGlzID09PSB4KCkgJiYgdGhpcy5ibHVyID8gKHRoaXMuYmx1cigpLCAhMSkgOiB2b2lkIDAKCQkJCQkJfSwKCQkJCQkJZGVsZWdhdGVUeXBlOiAiZm9jdXNvdXQiCgkJCQkJfSwKCQkJCQljbGljazogewoJCQkJCQl0cmlnZ2VyOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBsZS5ub2RlTmFtZSh0aGlzLCAiaW5wdXQiKSAmJiAiY2hlY2tib3giID09PSB0aGlzLnR5cGUgJiYgdGhpcy5jbGljayA/ICh0aGlzLmNsaWNrKCksICExKSA6IHZvaWQgMAoJCQkJCQl9LAoJCQkJCQlfZGVmYXVsdDogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGxlLm5vZGVOYW1lKGUudGFyZ2V0LCAiYSIpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJlZm9yZXVubG9hZDogewoJCQkJCQlwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZvaWQgMCAhPT0gZS5yZXN1bHQgJiYgZS5vcmlnaW5hbEV2ZW50ICYmIChlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBlLnJlc3VsdCkKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQlzaW11bGF0ZTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhID0gbGUuZXh0ZW5kKG5ldyBsZS5FdmVudCwgbiwgewoJCQkJCQl0eXBlOiBlLAoJCQkJCQlpc1NpbXVsYXRlZDogITAsCgkJCQkJCW9yaWdpbmFsRXZlbnQ6IHt9CgkJCQkJfSk7CgkJCQkJaSA/IGxlLmV2ZW50LnRyaWdnZXIoYSwgbnVsbCwgdCkgOiBsZS5ldmVudC5kaXNwYXRjaC5jYWxsKHQsIGEpLCBhLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIG4ucHJldmVudERlZmF1bHQoKQoJCQkJfQoJCQl9LCBsZS5yZW1vdmVFdmVudCA9IHhlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQllLnJlbW92ZUV2ZW50TGlzdGVuZXIgJiYgZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsIG4sICExKQoJCQl9IDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJdmFyIGkgPSAib24iICsgdDsKCQkJCWUuZGV0YWNoRXZlbnQgJiYgKHR5cGVvZiBlW2ldID09PSBDZSAmJiAoZVtpXSA9IG51bGwpLCBlLmRldGFjaEV2ZW50KGksIG4pKQoJCQl9LCBsZS5FdmVudCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXJldHVybiB0aGlzIGluc3RhbmNlb2YgbGUuRXZlbnQgPyAoZSAmJiBlLnR5cGUgPyAodGhpcy5vcmlnaW5hbEV2ZW50ID0gZSwgdGhpcy50eXBlID0gZS50eXBlLCB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGUuZGVmYXVsdFByZXZlbnRlZCB8fCB2b2lkIDAgPT09IGUuZGVmYXVsdFByZXZlbnRlZCAmJiBlLnJldHVyblZhbHVlID09PSAhMSA/IGcgOiBfKSA6IHRoaXMudHlwZSA9IGUsIHQgJiYgbGUuZXh0ZW5kKHRoaXMsIHQpLCB0aGlzLnRpbWVTdGFtcCA9IGUgJiYgZS50aW1lU3RhbXAgfHwgbGUubm93KCksIHZvaWQodGhpc1tsZS5leHBhbmRvXSA9ICEwKSkgOiBuZXcgbGUuRXZlbnQoZSwgdCkKCQkJfSwgbGUuRXZlbnQucHJvdG90eXBlID0gewoJCQkJaXNEZWZhdWx0UHJldmVudGVkOiBfLAoJCQkJaXNQcm9wYWdhdGlvblN0b3BwZWQ6IF8sCgkJCQlpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogXywKCQkJCXByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCQkJCQl0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGcsIGUgJiYgKGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gITEpCgkJCQl9LAoJCQkJc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCQkJCQl0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZywgZSAmJiAoZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5jYW5jZWxCdWJibGUgPSAhMCkKCQkJCX0sCgkJCQlzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50OwoJCQkJCXRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBnLCBlICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCkKCQkJCX0KCQkJfSwgbGUuZWFjaCh7CgkJCQltb3VzZWVudGVyOiAibW91c2VvdmVyIiwKCQkJCW1vdXNlbGVhdmU6ICJtb3VzZW91dCIsCgkJCQlwb2ludGVyZW50ZXI6ICJwb2ludGVyb3ZlciIsCgkJCQlwb2ludGVybGVhdmU6ICJwb2ludGVyb3V0IgoJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5ldmVudC5zcGVjaWFsW2VdID0gewoJCQkJCWRlbGVnYXRlVHlwZTogdCwKCQkJCQliaW5kVHlwZTogdCwKCQkJCQloYW5kbGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQkJYSA9IGUucmVsYXRlZFRhcmdldCwKCQkJCQkJCW8gPSBlLmhhbmRsZU9iajsKCQkJCQkJcmV0dXJuICghYSB8fCBhICE9PSBpICYmICFsZS5jb250YWlucyhpLCBhKSkgJiYgKGUudHlwZSA9IG8ub3JpZ1R5cGUsIG4gPSBvLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgZS50eXBlID0gdCksIG4KCQkJCQl9CgkJCQl9CgkJCX0pLCByZS5zdWJtaXRCdWJibGVzIHx8IChsZS5ldmVudC5zcGVjaWFsLnN1Ym1pdCA9IHsKCQkJCXNldHVwOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUodGhpcywgImZvcm0iKSA/ICExIDogdm9pZCBsZS5ldmVudC5hZGQodGhpcywgImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBlLnRhcmdldCwKCQkJCQkJCW4gPSBsZS5ub2RlTmFtZSh0LCAiaW5wdXQiKSB8fCBsZS5ub2RlTmFtZSh0LCAiYnV0dG9uIikgPyB0LmZvcm0gOiB2b2lkIDA7CgkJCQkJCW4gJiYgIWxlLl9kYXRhKG4sICJzdWJtaXRCdWJibGVzIikgJiYgKGxlLmV2ZW50LmFkZChuLCAic3VibWl0Ll9zdWJtaXQiLCBmdW5jdGlvbihlKSB7CgkJCQkJCQllLl9zdWJtaXRfYnViYmxlID0gITAKCQkJCQkJfSksIGxlLl9kYXRhKG4sICJzdWJtaXRCdWJibGVzIiwgITApKQoJCQkJCX0pCgkJCQl9LAoJCQkJcG9zdERpc3BhdGNoOiBmdW5jdGlvbihlKSB7CgkJCQkJZS5fc3VibWl0X2J1YmJsZSAmJiAoZGVsZXRlIGUuX3N1Ym1pdF9idWJibGUsIHRoaXMucGFyZW50Tm9kZSAmJiAhZS5pc1RyaWdnZXIgJiYgbGUuZXZlbnQuc2ltdWxhdGUoInN1Ym1pdCIsIHRoaXMucGFyZW50Tm9kZSwgZSwgITApKQoJCQkJfSwKCQkJCXRlYXJkb3duOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUodGhpcywgImZvcm0iKSA/ICExIDogdm9pZCBsZS5ldmVudC5yZW1vdmUodGhpcywgIi5fc3VibWl0IikKCQkJCX0KCQkJfSksIHJlLmNoYW5nZUJ1YmJsZXMgfHwgKGxlLmV2ZW50LnNwZWNpYWwuY2hhbmdlID0gewoJCQkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBFZS50ZXN0KHRoaXMubm9kZU5hbWUpID8gKCgiY2hlY2tib3giID09PSB0aGlzLnR5cGUgfHwgInJhZGlvIiA9PT0gdGhpcy50eXBlKSAmJiAobGUuZXZlbnQuYWRkKHRoaXMsICJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkiY2hlY2tlZCIgPT09IGUub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUgJiYgKHRoaXMuX2p1c3RfY2hhbmdlZCA9ICEwKQoJCQkJCX0pLCBsZS5ldmVudC5hZGQodGhpcywgImNsaWNrLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuX2p1c3RfY2hhbmdlZCAmJiAhZS5pc1RyaWdnZXIgJiYgKHRoaXMuX2p1c3RfY2hhbmdlZCA9ICExKSwgbGUuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsIHRoaXMsIGUsICEwKQoJCQkJCX0pKSwgITEpIDogdm9pZCBsZS5ldmVudC5hZGQodGhpcywgImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gZS50YXJnZXQ7CgkJCQkJCUVlLnRlc3QodC5ub2RlTmFtZSkgJiYgIWxlLl9kYXRhKHQsICJjaGFuZ2VCdWJibGVzIikgJiYgKGxlLmV2ZW50LmFkZCh0LCAiY2hhbmdlLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkhdGhpcy5wYXJlbnROb2RlIHx8IGUuaXNTaW11bGF0ZWQgfHwgZS5pc1RyaWdnZXIgfHwgbGUuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsIHRoaXMucGFyZW50Tm9kZSwgZSwgITApCgkJCQkJCX0pLCBsZS5fZGF0YSh0LCAiY2hhbmdlQnViYmxlcyIsICEwKSkKCQkJCQl9KQoJCQkJfSwKCQkJCWhhbmRsZTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gZS50YXJnZXQ7CgkJCQkJcmV0dXJuIHRoaXMgIT09IHQgfHwgZS5pc1NpbXVsYXRlZCB8fCBlLmlzVHJpZ2dlciB8fCAicmFkaW8iICE9PSB0LnR5cGUgJiYgImNoZWNrYm94IiAhPT0gdC50eXBlID8gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdm9pZCAwCgkJCQl9LAoJCQkJdGVhcmRvd246IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBsZS5ldmVudC5yZW1vdmUodGhpcywgIi5fY2hhbmdlIiksICFFZS50ZXN0KHRoaXMubm9kZU5hbWUpCgkJCQl9CgkJCX0pLCByZS5mb2N1c2luQnViYmxlcyB8fCBsZS5lYWNoKHsKCQkJCWZvY3VzOiAiZm9jdXNpbiIsCgkJCQlibHVyOiAiZm9jdXNvdXQiCgkJCX0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuID0gZnVuY3Rpb24oZSkgewoJCQkJCWxlLmV2ZW50LnNpbXVsYXRlKHQsIGUudGFyZ2V0LCBsZS5ldmVudC5maXgoZSksICEwKQoJCQkJfTsKCQkJCWxlLmV2ZW50LnNwZWNpYWxbdF0gPSB7CgkJCQkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgaSA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLAoJCQkJCQkJYSA9IGxlLl9kYXRhKGksIHQpOwoJCQkJCQlhIHx8IGkuYWRkRXZlbnRMaXN0ZW5lcihlLCBuLCAhMCksIGxlLl9kYXRhKGksIHQsIChhIHx8IDApICsgMSkKCQkJCQl9LAoJCQkJCXRlYXJkb3duOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGkgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcywKCQkJCQkJCWEgPSBsZS5fZGF0YShpLCB0KSAtIDE7CgkJCQkJCWEgPyBsZS5fZGF0YShpLCB0LCBhKSA6IChpLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbiwgITApLCBsZS5fcmVtb3ZlRGF0YShpLCB0KSkKCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJb246IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQl2YXIgbywgcjsKCQkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsKCQkJCQkJInN0cmluZyIgIT0gdHlwZW9mIHQgJiYgKG4gPSBuIHx8IHQsCgkJCQkJCQl0ID0gdm9pZCAwKTsKCQkJCQkJZm9yIChvIGluIGUpIHRoaXMub24obywgdCwgbiwgZVtvXSwgYSk7CgkJCQkJCXJldHVybiB0aGlzCgkJCQkJfQoJCQkJCWlmIChudWxsID09IG4gJiYgbnVsbCA9PSBpID8gKGkgPSB0LCBuID0gdCA9IHZvaWQgMCkgOiBudWxsID09IGkgJiYgKCJzdHJpbmciID09IHR5cGVvZiB0ID8gKGkgPSBuLCBuID0gdm9pZCAwKSA6IChpID0gbiwgbiA9IHQsIHQgPSB2b2lkIDApKSwgaSA9PT0gITEpIGkgPSBfOwoJCQkJCWVsc2UgaWYgKCFpKSByZXR1cm4gdGhpczsKCQkJCQlyZXR1cm4gMSA9PT0gYSAmJiAociA9IGksIGkgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBsZSgpLm9mZihlKSwgci5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCQkJfSwgaS5ndWlkID0gci5ndWlkIHx8IChyLmd1aWQgPSBsZS5ndWlkKyspKSwgdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5ldmVudC5hZGQodGhpcywgZSwgaSwgbiwgdCkKCQkJCQl9KQoJCQkJfSwKCQkJCW9uZTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXJldHVybiB0aGlzLm9uKGUsIHQsIG4sIGksIDEpCgkJCQl9LAoJCQkJb2ZmOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGE7CgkJCQkJaWYgKGUgJiYgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLmhhbmRsZU9iaikgcmV0dXJuIGkgPSBlLmhhbmRsZU9iaiwgbGUoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGkubmFtZXNwYWNlID8gaS5vcmlnVHlwZSArICIuIiArIGkubmFtZXNwYWNlIDogaS5vcmlnVHlwZSwgaS5zZWxlY3RvciwgaS5oYW5kbGVyKSwgdGhpczsKCQkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsKCQkJCQkJZm9yIChhIGluIGUpIHRoaXMub2ZmKGEsIHQsIGVbYV0pOwoJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCX0KCQkJCQlyZXR1cm4gKHQgPT09ICExIHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQpICYmIChuID0gdCwgdCA9IHZvaWQgMCksIG4gPT09ICExICYmIChuID0gXyksIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJbGUuZXZlbnQucmVtb3ZlKHRoaXMsIGUsIG4sIHQpCgkJCQkJfSkKCQkJCX0sCgkJCQl0cmlnZ2VyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJbGUuZXZlbnQudHJpZ2dlcihlLCB0LCB0aGlzKQoJCQkJCX0pCgkJCQl9LAoJCQkJdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHRoaXNbMF07CgkJCQkJcmV0dXJuIG4gPyBsZS5ldmVudC50cmlnZ2VyKGUsIHQsIG4sICEwKSA6IHZvaWQgMAoJCQkJfQoJCQl9KTsKCQkJdmFyIFJlID0gImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLAoJCQkJRmUgPSAvIGpRdWVyeVxkKz0iKD86bnVsbHxcZCspIi9nLAoJCQkJJGUgPSBuZXcgUmVnRXhwKCI8KD86IiArIFJlICsgIilbXFxzLz5dIiwgImkiKSwKCQkJCVdlID0gL15ccysvLAoJCQkJSGUgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLAoJCQkJVWUgPSAvPChbXHc6XSspLywKCQkJCVllID0gLzx0Ym9keS9pLAoJCQkJR2UgPSAvPHwmIz9cdys7LywKCQkJCVhlID0gLzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSwKCQkJCUplID0gL2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksCgkJCQlaZSA9IC9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSwKCQkJCVZlID0gL150cnVlXC8oLiopLywKCQkJCUtlID0gL15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLAoJCQkJUWUgPSB7CgkJCQkJb3B0aW9uOiBbMSwgIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCAiPC9zZWxlY3Q+Il0sCgkJCQkJbGVnZW5kOiBbMSwgIjxmaWVsZHNldD4iLCAiPC9maWVsZHNldD4iXSwKCQkJCQlhcmVhOiBbMSwgIjxtYXA+IiwgIjwvbWFwPiJdLAoJCQkJCXBhcmFtOiBbMSwgIjxvYmplY3Q+IiwgIjwvb2JqZWN0PiJdLAoJCQkJCXRoZWFkOiBbMSwgIjx0YWJsZT4iLCAiPC90YWJsZT4iXSwKCQkJCQl0cjogWzIsICI8dGFibGU+PHRib2R5PiIsICI8L3Rib2R5PjwvdGFibGU+Il0sCgkJCQkJY29sOiBbMiwgIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwgIjwvY29sZ3JvdXA+PC90YWJsZT4iXSwKCQkJCQl0ZDogWzMsICI8dGFibGU+PHRib2R5Pjx0cj4iLCAiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sCgkJCQkJX2RlZmF1bHQ6IHJlLmh0bWxTZXJpYWxpemUgPyBbMCwgIiIsICIiXSA6IFsxLCAiWDxkaXY+IiwgIjwvZGl2PiJdCgkJCQl9LAoJCQkJZXQgPSB3KHhlKSwKCQkJCXR0ID0gZXQuYXBwZW5kQ2hpbGQoeGUuY3JlYXRlRWxlbWVudCgiZGl2IikpOwoJCQlRZS5vcHRncm91cCA9IFFlLm9wdGlvbiwgUWUudGJvZHkgPSBRZS50Zm9vdCA9IFFlLmNvbGdyb3VwID0gUWUuY2FwdGlvbiA9IFFlLnRoZWFkLCBRZS50aCA9IFFlLnRkLCBsZS5leHRlbmQoewoJCQkJY2xvbmU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCA9IGxlLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCwgZSk7CgkJCQkJaWYgKHJlLmh0bWw1Q2xvbmUgfHwgbGUuaXNYTUxEb2MoZSkgfHwgISRlLnRlc3QoIjwiICsgZS5ub2RlTmFtZSArICI+IikgPyBvID0gZS5jbG9uZU5vZGUoITApIDogKHR0LmlubmVySFRNTCA9IGUub3V0ZXJIVE1MLCB0dC5yZW1vdmVDaGlsZChvID0gdHQuZmlyc3RDaGlsZCkpLCAhKHJlLm5vQ2xvbmVFdmVudCAmJiByZS5ub0Nsb25lQ2hlY2tlZCB8fCAxICE9PSBlLm5vZGVUeXBlICYmIDExICE9PSBlLm5vZGVUeXBlIHx8IGxlLmlzWE1MRG9jKGUpKSkKCQkJCQkJZm9yIChpID0gdihvKSwgcyA9IHYoZSksIHIgPSAwOyBudWxsICE9IChhID0gc1tyXSk7ICsrcikgaVtyXSAmJiBDKGEsIGlbcl0pOwoJCQkJCWlmICh0KQoJCQkJCQlpZiAobikKCQkJCQkJCWZvciAocyA9IHMgfHwgdihlKSwgaSA9IGkgfHwgdihvKSwgciA9IDA7IG51bGwgIT0gKGEgPSBzW3JdKTsgcisrKSBqKGEsIGlbcl0pOwoJCQkJCQllbHNlIGooZSwgbyk7CgkJCQkJcmV0dXJuIGkgPSB2KG8sICJzY3JpcHQiKSwgaS5sZW5ndGggPiAwICYmIEIoaSwgIWwgJiYgdihlLCAic2NyaXB0IikpLCBpID0gcyA9IGEgPSBudWxsLCBvCgkJCQl9LAoJCQkJYnVpbGRGcmFnbWVudDogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCWZvciAodmFyIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAgPSBlLmxlbmd0aCwgaCA9IHcodCksIHUgPSBbXSwgbSA9IDA7IHAgPiBtOyBtKyspCgkJCQkJCWlmIChvID0gZVttXSwgbyB8fCAwID09PSBvKQoJCQkJCQkJaWYgKCJvYmplY3QiID09PSBsZS50eXBlKG8pKSBsZS5tZXJnZSh1LCBvLm5vZGVUeXBlID8gW29dIDogbyk7CgkJCQkJCQllbHNlIGlmIChHZS50ZXN0KG8pKSB7CgkJCQkJCWZvciAocyA9IHMgfHwgaC5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSwgbCA9IChVZS5leGVjKG8pIHx8IFsiIiwgIiJdKVsxXS50b0xvd2VyQ2FzZSgpLCBkID0gUWVbbF0gfHwgUWUuX2RlZmF1bHQsIHMuaW5uZXJIVE1MID0gZFsxXSArIG8ucmVwbGFjZShIZSwgIjwkMT48LyQyPiIpICsgZFsyXSwgYSA9IGRbMF07IGEtLTspIHMgPSBzLmxhc3RDaGlsZDsKCQkJCQkJaWYgKCFyZS5sZWFkaW5nV2hpdGVzcGFjZSAmJiBXZS50ZXN0KG8pICYmIHUucHVzaCh0LmNyZWF0ZVRleHROb2RlKFdlLmV4ZWMobylbMF0pKSwgIXJlLnRib2R5KQoJCQkJCQkJZm9yIChvID0gInRhYmxlIiAhPT0gbCB8fCBZZS50ZXN0KG8pID8gIjx0YWJsZT4iICE9PSBkWzFdIHx8IFllLnRlc3QobykgPyAwIDogcyA6IHMuZmlyc3RDaGlsZCwgYSA9IG8gJiYgby5jaGlsZE5vZGVzLmxlbmd0aDsgYS0tOykgbGUubm9kZU5hbWUoYyA9IG8uY2hpbGROb2Rlc1thXSwgInRib2R5IikgJiYgIWMuY2hpbGROb2Rlcy5sZW5ndGggJiYgby5yZW1vdmVDaGlsZChjKTsKCQkJCQkJZm9yIChsZS5tZXJnZSh1LCBzLmNoaWxkTm9kZXMpLCBzLnRleHRDb250ZW50ID0gIiI7IHMuZmlyc3RDaGlsZDspIHMucmVtb3ZlQ2hpbGQocy5maXJzdENoaWxkKTsKCQkJCQkJcyA9IGgubGFzdENoaWxkCgkJCQkJfSBlbHNlIHUucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTsKCQkJCQlmb3IgKHMgJiYgaC5yZW1vdmVDaGlsZChzKSwgcmUuYXBwZW5kQ2hlY2tlZCB8fCBsZS5ncmVwKHYodSwgImlucHV0IiksIGIpLCBtID0gMDsgbyA9IHVbbSsrXTspCgkJCQkJCWlmICgoIWkgfHwgLTEgPT09IGxlLmluQXJyYXkobywgaSkpICYmIChyID0gbGUuY29udGFpbnMoby5vd25lckRvY3VtZW50LCBvKSwgcyA9IHYoaC5hcHBlbmRDaGlsZChvKSwgInNjcmlwdCIpLCByICYmIEIocyksIG4pKQoJCQkJCQkJZm9yIChhID0gMDsgbyA9IHNbYSsrXTspIFplLnRlc3Qoby50eXBlIHx8ICIiKSAmJiBuLnB1c2gobyk7CgkJCQkJcmV0dXJuIHMgPSBudWxsLCBoCgkJCQl9LAoJCQkJY2xlYW5EYXRhOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbiwgaSwgYSwgbywgciA9IDAsIHMgPSBsZS5leHBhbmRvLCBsID0gbGUuY2FjaGUsIGMgPSByZS5kZWxldGVFeHBhbmRvLCBkID0gbGUuZXZlbnQuc3BlY2lhbDsgbnVsbCAhPSAobiA9IGVbcl0pOyByKyspCgkJCQkJCWlmICgodCB8fCBsZS5hY2NlcHREYXRhKG4pKSAmJiAoYSA9IG5bc10sIG8gPSBhICYmIGxbYV0pKSB7CgkJCQkJCQlpZiAoby5ldmVudHMpCgkJCQkJCQkJZm9yIChpIGluIG8uZXZlbnRzKSBkW2ldID8gbGUuZXZlbnQucmVtb3ZlKG4sIGkpIDogbGUucmVtb3ZlRXZlbnQobiwgaSwgby5oYW5kbGUpOwoJCQkJCQkJbFthXSAmJiAoZGVsZXRlIGxbYV0sIGMgPyBkZWxldGUgbltzXSA6IHR5cGVvZiBuLnJlbW92ZUF0dHJpYnV0ZSAhPT0gQ2UgPyBuLnJlbW92ZUF0dHJpYnV0ZShzKSA6IG5bc10gPSBudWxsLCBLLnB1c2goYSkpCgkJCQkJCX0KCQkJCX0KCQkJfSksIGxlLmZuLmV4dGVuZCh7CgkJCQl0ZXh0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIHZvaWQgMCA9PT0gZSA/IGxlLnRleHQodGhpcykgOiB0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdICYmIHRoaXNbMF0ub3duZXJEb2N1bWVudCB8fCB4ZSkuY3JlYXRlVGV4dE5vZGUoZSkpCgkJCQkJfSwgbnVsbCwgZSwgYXJndW1lbnRzLmxlbmd0aCkKCQkJCX0sCgkJCQlhcHBlbmQ6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCAxMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCA5ID09PSB0aGlzLm5vZGVUeXBlKSB7CgkJCQkJCQl2YXIgdCA9IHkodGhpcywgZSk7CgkJCQkJCQl0LmFwcGVuZENoaWxkKGUpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCXByZXBlbmQ6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCAxMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCA5ID09PSB0aGlzLm5vZGVUeXBlKSB7CgkJCQkJCQl2YXIgdCA9IHkodGhpcywgZSk7CgkJCQkJCQl0Lmluc2VydEJlZm9yZShlLCB0LmZpcnN0Q2hpbGQpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWJlZm9yZTogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIHRoaXMpCgkJCQkJfSkKCQkJCX0sCgkJCQlhZnRlcjogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIHRoaXMubmV4dFNpYmxpbmcpCgkJCQkJfSkKCQkJCX0sCgkJCQlyZW1vdmU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuLCBpID0gZSA/IGxlLmZpbHRlcihlLCB0aGlzKSA6IHRoaXMsIGEgPSAwOyBudWxsICE9IChuID0gaVthXSk7IGErKykgdCB8fCAxICE9PSBuLm5vZGVUeXBlIHx8IGxlLmNsZWFuRGF0YSh2KG4pKSwgbi5wYXJlbnROb2RlICYmICh0ICYmIGxlLmNvbnRhaW5zKG4ub3duZXJEb2N1bWVudCwgbikgJiYgQih2KG4sICJzY3JpcHQiKSksIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7CgkJCQkJcmV0dXJuIHRoaXMKCQkJCX0sCgkJCQllbXB0eTogZnVuY3Rpb24oKSB7CgkJCQkJZm9yICh2YXIgZSwgdCA9IDA7IG51bGwgIT0gKGUgPSB0aGlzW3RdKTsgdCsrKSB7CgkJCQkJCWZvciAoMSA9PT0gZS5ub2RlVHlwZSAmJiBsZS5jbGVhbkRhdGEodihlLCAhMSkpOyBlLmZpcnN0Q2hpbGQ7KSBlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7CgkJCQkJCWUub3B0aW9ucyAmJiBsZS5ub2RlTmFtZShlLCAic2VsZWN0IikgJiYgKGUub3B0aW9ucy5sZW5ndGggPSAwKQoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpcwoJCQkJfSwKCQkJCWNsb25lOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGUgPSBudWxsID09IGUgPyAhMSA6IGUsIHQgPSBudWxsID09IHQgPyBlIDogdCwgdGhpcy5tYXAoZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBsZS5jbG9uZSh0aGlzLCBlLCB0KQoJCQkJCX0pCgkJCQl9LAoJCQkJaHRtbDogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBBZSh0aGlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpc1swXSB8fCB7fSwKCQkJCQkJCW4gPSAwLAoJCQkJCQkJaSA9IHRoaXMubGVuZ3RoOwoJCQkJCQlpZiAodm9pZCAwID09PSBlKSByZXR1cm4gMSA9PT0gdC5ub2RlVHlwZSA/IHQuaW5uZXJIVE1MLnJlcGxhY2UoRmUsICIiKSA6IHZvaWQgMDsKCQkJCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBlICYmICFYZS50ZXN0KGUpICYmIChyZS5odG1sU2VyaWFsaXplIHx8ICEkZS50ZXN0KGUpKSAmJiAocmUubGVhZGluZ1doaXRlc3BhY2UgfHwgIVdlLnRlc3QoZSkpICYmICFRZVsoVWUuZXhlYyhlKSB8fCBbIiIsICIiXSlbMV0udG9Mb3dlckNhc2UoKV0pIHsKCQkJCQkJCWUgPSBlLnJlcGxhY2UoSGUsICI8JDE+PC8kMj4iKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJZm9yICg7IGkgPiBuOyBuKyspIHQgPSB0aGlzW25dIHx8IHt9LCAxID09PSB0Lm5vZGVUeXBlICYmIChsZS5jbGVhbkRhdGEodih0LCAhMSkpLCB0LmlubmVySFRNTCA9IGUpOwoJCQkJCQkJCXQgPSAwCgkJCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCQl9CgkJCQkJCXQgJiYgdGhpcy5lbXB0eSgpLmFwcGVuZChlKQoJCQkJCX0sIG51bGwsIGUsIGFyZ3VtZW50cy5sZW5ndGgpCgkJCQl9LAoJCQkJcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gYXJndW1lbnRzWzBdOwoJCQkJCXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24odCkgewoJCQkJCQllID0gdGhpcy5wYXJlbnROb2RlLCBsZS5jbGVhbkRhdGEodih0aGlzKSksIGUgJiYgZS5yZXBsYWNlQ2hpbGQodCwgdGhpcykKCQkJCQl9KSwgZSAmJiAoZS5sZW5ndGggfHwgZS5ub2RlVHlwZSkgPyB0aGlzIDogdGhpcy5yZW1vdmUoKQoJCQkJfSwKCQkJCWRldGFjaDogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLnJlbW92ZShlLCAhMCkKCQkJCX0sCgkJCQlkb21NYW5pcDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCWUgPSBlZS5hcHBseShbXSwgZSk7CgkJCQkJdmFyIG4sIGksIGEsIG8sIHIsIHMsIGwgPSAwLAoJCQkJCQljID0gdGhpcy5sZW5ndGgsCgkJCQkJCWQgPSB0aGlzLAoJCQkJCQlwID0gYyAtIDEsCgkJCQkJCWggPSBlWzBdLAoJCQkJCQl1ID0gbGUuaXNGdW5jdGlvbihoKTsKCQkJCQlpZiAodSB8fCBjID4gMSAmJiAic3RyaW5nIiA9PSB0eXBlb2YgaCAmJiAhcmUuY2hlY2tDbG9uZSAmJiBKZS50ZXN0KGgpKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pIHsKCQkJCQkJdmFyIGkgPSBkLmVxKG4pOwoJCQkJCQl1ICYmIChlWzBdID0gaC5jYWxsKHRoaXMsIG4sIGkuaHRtbCgpKSksIGkuZG9tTWFuaXAoZSwgdCkKCQkJCQl9KTsKCQkJCQlpZiAoYyAmJiAocyA9IGxlLmJ1aWxkRnJhZ21lbnQoZSwgdGhpc1swXS5vd25lckRvY3VtZW50LCAhMSwgdGhpcyksIG4gPSBzLmZpcnN0Q2hpbGQsIDEgPT09IHMuY2hpbGROb2Rlcy5sZW5ndGggJiYgKHMgPSBuKSwgbikpIHsKCQkJCQkJZm9yIChvID0gbGUubWFwKHYocywgInNjcmlwdCIpLCBrKSwgYSA9IG8ubGVuZ3RoOyBjID4gbDsgbCsrKSBpID0gcywgbCAhPT0gcCAmJiAoaSA9IGxlLmNsb25lKGksICEwLCAhMCksIGEgJiYgbGUubWVyZ2UobywgdihpLCAic2NyaXB0IikpKSwgdC5jYWxsKHRoaXNbbF0sIGksIGwpOwoJCQkJCQlpZiAoYSkKCQkJCQkJCWZvciAociA9IG9bby5sZW5ndGggLSAxXS5vd25lckRvY3VtZW50LCBsZS5tYXAobywgeiksIGwgPSAwOyBhID4gbDsgbCsrKSBpID0gb1tsXSwgWmUudGVzdChpLnR5cGUgfHwgIiIpICYmICFsZS5fZGF0YShpLCAiZ2xvYmFsRXZhbCIpICYmIGxlLmNvbnRhaW5zKHIsIGkpICYmIChpLnNyYyA/IGxlLl9ldmFsVXJsICYmIGxlLl9ldmFsVXJsKGkuc3JjKSA6IGxlLmdsb2JhbEV2YWwoKGkudGV4dCB8fCBpLnRleHRDb250ZW50IHx8IGkuaW5uZXJIVE1MIHx8ICIiKS5yZXBsYWNlKEtlLCAiIikpKTsKCQkJCQkJcyA9IG4gPSBudWxsCgkJCQkJfQoJCQkJCXJldHVybiB0aGlzCgkJCQl9CgkJCX0pLCBsZS5lYWNoKHsKCQkJCWFwcGVuZFRvOiAiYXBwZW5kIiwKCQkJCXByZXBlbmRUbzogInByZXBlbmQiLAoJCQkJaW5zZXJ0QmVmb3JlOiAiYmVmb3JlIiwKCQkJCWluc2VydEFmdGVyOiAiYWZ0ZXIiLAoJCQkJcmVwbGFjZUFsbDogInJlcGxhY2VXaXRoIgoJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5mbltlXSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuLCBpID0gMCwgYSA9IFtdLCBvID0gbGUoZSksIHIgPSBvLmxlbmd0aCAtIDE7IHIgPj0gaTsgaSsrKSBuID0gaSA9PT0gciA/IHRoaXMgOiB0aGlzLmNsb25lKCEwKSwgbGUob1tpXSlbdF0obiksIHRlLmFwcGx5KGEsIG4uZ2V0KCkpOwoJCQkJCXJldHVybiB0aGlzLnB1c2hTdGFjayhhKQoJCQkJfQoJCQl9KTsKCQkJdmFyIG50LCBpdCA9IHt9OwoJCQkhIGZ1bmN0aW9uKCkgewoJCQkJdmFyIGU7CgkJCQlyZS5zaHJpbmtXcmFwQmxvY2tzID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKG51bGwgIT0gZSkgcmV0dXJuIGU7CgkJCQkJZSA9ICExOwoJCQkJCXZhciB0LCBuLCBpOwoJCQkJCXJldHVybiBuID0geGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSwgbiAmJiBuLnN0eWxlID8gKHQgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgaSA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBpLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLCBuLmFwcGVuZENoaWxkKGkpLmFwcGVuZENoaWxkKHQpLCB0eXBlb2YgdC5zdHlsZS56b29tICE9PSBDZSAmJiAodC5zdHlsZS5jc3NUZXh0ID0gIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLCB0LmFwcGVuZENoaWxkKHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5zdHlsZS53aWR0aCA9ICI1cHgiLCBlID0gMyAhPT0gdC5vZmZzZXRXaWR0aCksIG4ucmVtb3ZlQ2hpbGQoaSksIGUpIDogdm9pZCAwCgkJCQl9CgkJCX0oKTsKCQkJdmFyIGF0LCBvdCwgcnQgPSAvXm1hcmdpbi8sCgkJCQlzdCA9IG5ldyBSZWdFeHAoIl4oIiArIFRlICsgIikoPyFweClbYS16JV0rJCIsICJpIiksCgkJCQlsdCA9IC9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLzsKCQkJYS5nZXRDb21wdXRlZFN0eWxlID8gKGF0ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyID8gZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCkgOiBhLmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCkKCQkJCX0sIG90ID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBzID0gZS5zdHlsZTsKCQkJCQlyZXR1cm4gbiA9IG4gfHwgYXQoZSksIHIgPSBuID8gbi5nZXRQcm9wZXJ0eVZhbHVlKHQpIHx8IG5bdF0gOiB2b2lkIDAsIG4gJiYgKCIiICE9PSByIHx8IGxlLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCwgZSkgfHwgKHIgPSBsZS5zdHlsZShlLCB0KSksIHN0LnRlc3QocikgJiYgcnQudGVzdCh0KSAmJiAoaSA9IHMud2lkdGgsIGEgPSBzLm1pbldpZHRoLCBvID0gcy5tYXhXaWR0aCwgcy5taW5XaWR0aCA9IHMubWF4V2lkdGggPSBzLndpZHRoID0gciwgciA9IG4ud2lkdGgsIHMud2lkdGggPSBpLCBzLm1pbldpZHRoID0gYSwgcy5tYXhXaWR0aCA9IG8pKSwgdm9pZCAwID09PSByID8gciA6IHIgKyAiIgoJCQkJfSkgOiB4ZS5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlICYmIChhdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZS5jdXJyZW50U3R5bGUKCQkJCX0sIG90ID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBzID0gZS5zdHlsZTsKCQkJCQlyZXR1cm4gbiA9IG4gfHwgYXQoZSksIHIgPSBuID8gblt0XSA6IHZvaWQgMCwgbnVsbCA9PSByICYmIHMgJiYgc1t0XSAmJiAociA9IHNbdF0pLCBzdC50ZXN0KHIpICYmICFsdC50ZXN0KHQpICYmIChpID0gcy5sZWZ0LCBhID0gZS5ydW50aW1lU3R5bGUsIG8gPSBhICYmIGEubGVmdCwgbyAmJiAoYS5sZWZ0ID0gZS5jdXJyZW50U3R5bGUubGVmdCksIHMubGVmdCA9ICJmb250U2l6ZSIgPT09IHQgPyAiMWVtIiA6IHIsIHIgPSBzLnBpeGVsTGVmdCArICJweCIsIHMubGVmdCA9IGksIG8gJiYgKGEubGVmdCA9IG8pKSwgdm9pZCAwID09PSByID8gciA6IHIgKyAiIiB8fCAiYXV0byIKCQkJCX0pLAoJCQkJZnVuY3Rpb24oKSB7CgkJCQkJZnVuY3Rpb24gZSgpIHsKCQkJCQkJdmFyIGUsIHQsIG4sIGk7CgkJCQkJCXQgPSB4ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLCB0ICYmIHQuc3R5bGUgJiYgKGUgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgbiA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBuLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLCB0LmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGUpLCBlLnN0eWxlLmNzc1RleHQgPSAiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGUiLCBvID0gciA9ICExLCBsID0gITAsIGEuZ2V0Q29tcHV0ZWRTdHlsZSAmJiAobyA9ICIxJSIgIT09IChhLmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCkgfHwge30pLnRvcCwgciA9ICI0cHgiID09PSAoYS5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpIHx8IHsKCQkJCQkJCXdpZHRoOiAiNHB4IgoJCQkJCQl9KS53aWR0aCwgaSA9IGUuYXBwZW5kQ2hpbGQoeGUuY3JlYXRlRWxlbWVudCgiZGl2IikpLCBpLnN0eWxlLmNzc1RleHQgPSBlLnN0eWxlLmNzc1RleHQgPSAiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIiwgaS5zdHlsZS5tYXJnaW5SaWdodCA9IGkuc3R5bGUud2lkdGggPSAiMCIsIGUuc3R5bGUud2lkdGggPSAiMXB4IiwgbCA9ICFwYXJzZUZsb2F0KChhLmdldENvbXB1dGVkU3R5bGUoaSwgbnVsbCkgfHwge30pLm1hcmdpblJpZ2h0KSwgZS5yZW1vdmVDaGlsZChpKSksIGUuaW5uZXJIVE1MID0gIjx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iLCBpID0gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSwgaVswXS5zdHlsZS5jc3NUZXh0ID0gIm1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmUiLCBzID0gMCA9PT0gaVswXS5vZmZzZXRIZWlnaHQsIHMgJiYgKGlbMF0uc3R5bGUuZGlzcGxheSA9ICIiLCBpWzFdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIsIHMgPSAwID09PSBpWzBdLm9mZnNldEhlaWdodCksIHQucmVtb3ZlQ2hpbGQobikpCgkJCQkJfQoJCQkJCXZhciB0LCBuLCBpLCBvLCByLCBzLCBsOwoJCQkJCXQgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdC5pbm5lckhUTUwgPSAiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IiwgaSA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSwgbiA9IGkgJiYgaS5zdHlsZSwgbiAmJiAobi5jc3NUZXh0ID0gImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsIHJlLm9wYWNpdHkgPSAiMC41IiA9PT0gbi5vcGFjaXR5LCByZS5jc3NGbG9hdCA9ICEhbi5jc3NGbG9hdCwgdC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICJjb250ZW50LWJveCIsIHQuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICIiLCByZS5jbGVhckNsb25lU3R5bGUgPSAiY29udGVudC1ib3giID09PSB0LnN0eWxlLmJhY2tncm91bmRDbGlwLCByZS5ib3hTaXppbmcgPSAiIiA9PT0gbi5ib3hTaXppbmcgfHwgIiIgPT09IG4uTW96Qm94U2l6aW5nIHx8ICIiID09PSBuLldlYmtpdEJveFNpemluZywgbGUuZXh0ZW5kKHJlLCB7CgkJCQkJCXJlbGlhYmxlSGlkZGVuT2Zmc2V0czogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gbnVsbCA9PSBzICYmIGUoKSwgcwoJCQkJCQl9LAoJCQkJCQlib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gbnVsbCA9PSByICYmIGUoKSwgcgoJCQkJCQl9LAoJCQkJCQlwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBudWxsID09IG8gJiYgZSgpLCBvCgkJCQkJCX0sCgkJCQkJCXJlbGlhYmxlTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIG51bGwgPT0gbCAmJiBlKCksIGwKCQkJCQkJfQoJCQkJCX0pKQoJCQkJfSgpLCBsZS5zd2FwID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvLCByID0ge307CgkJCQkJZm9yIChvIGluIHQpIHJbb10gPSBlLnN0eWxlW29dLCBlLnN0eWxlW29dID0gdFtvXTsKCQkJCQlhID0gbi5hcHBseShlLCBpIHx8IFtdKTsKCQkJCQlmb3IgKG8gaW4gdCkgZS5zdHlsZVtvXSA9IHJbb107CgkJCQkJcmV0dXJuIGEKCQkJCX07CgkJCXZhciBjdCA9IC9hbHBoYVwoW14pXSpcKS9pLAoJCQkJZHQgPSAvb3BhY2l0eVxzKj1ccyooW14pXSopLywKCQkJCXB0ID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLAoJCQkJaHQgPSBuZXcgUmVnRXhwKCJeKCIgKyBUZSArICIpKC4qKSQiLCAiaSIpLAoJCQkJdXQgPSBuZXcgUmVnRXhwKCJeKFsrLV0pPSgiICsgVGUgKyAiKSIsICJpIiksCgkJCQltdCA9IHsKCQkJCQlwb3NpdGlvbjogImFic29sdXRlIiwKCQkJCQl2aXNpYmlsaXR5OiAiaGlkZGVuIiwKCQkJCQlkaXNwbGF5OiAiYmxvY2siCgkJCQl9LAoJCQkJZnQgPSB7CgkJCQkJbGV0dGVyU3BhY2luZzogIjAiLAoJCQkJCWZvbnRXZWlnaHQ6ICI0MDAiCgkJCQl9LAoJCQkJZ3QgPSBbIldlYmtpdCIsICJPIiwgIk1veiIsICJtcyJdOwoJCQlsZS5leHRlbmQoewoJCQkJY3NzSG9va3M6IHsKCQkJCQlvcGFjaXR5OiB7CgkJCQkJCWdldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJaWYgKHQpIHsKCQkJCQkJCQl2YXIgbiA9IG90KGUsICJvcGFjaXR5Iik7CgkJCQkJCQkJcmV0dXJuICIiID09PSBuID8gIjEiIDogbgoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwKCQkJCWNzc051bWJlcjogewoJCQkJCWNvbHVtbkNvdW50OiAhMCwKCQkJCQlmaWxsT3BhY2l0eTogITAsCgkJCQkJZmxleEdyb3c6ICEwLAoJCQkJCWZsZXhTaHJpbms6ICEwLAoJCQkJCWZvbnRXZWlnaHQ6ICEwLAoJCQkJCWxpbmVIZWlnaHQ6ICEwLAoJCQkJCW9wYWNpdHk6ICEwLAoJCQkJCW9yZGVyOiAhMCwKCQkJCQlvcnBoYW5zOiAhMCwKCQkJCQl3aWRvd3M6ICEwLAoJCQkJCXpJbmRleDogITAsCgkJCQkJem9vbTogITAKCQkJCX0sCgkJCQljc3NQcm9wczogewoJCQkJCSJmbG9hdCI6IHJlLmNzc0Zsb2F0ID8gImNzc0Zsb2F0IiA6ICJzdHlsZUZsb2F0IgoJCQkJfSwKCQkJCXN0eWxlOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJaWYgKGUgJiYgMyAhPT0gZS5ub2RlVHlwZSAmJiA4ICE9PSBlLm5vZGVUeXBlICYmIGUuc3R5bGUpIHsKCQkJCQkJdmFyIGEsIG8sIHIsIHMgPSBsZS5jYW1lbENhc2UodCksCgkJCQkJCQlsID0gZS5zdHlsZTsKCQkJCQkJaWYgKHQgPSBsZS5jc3NQcm9wc1tzXSB8fCAobGUuY3NzUHJvcHNbc10gPSBQKGwsIHMpKSwgciA9IGxlLmNzc0hvb2tzW3RdIHx8IGxlLmNzc0hvb2tzW3NdLCB2b2lkIDAgPT09IG4pIHJldHVybiByICYmICJnZXQiIGluIHIgJiYgdm9pZCAwICE9PSAoYSA9IHIuZ2V0KGUsICExLCBpKSkgPyBhIDogbFt0XTsKCQkJCQkJaWYgKG8gPSB0eXBlb2YgbiwgInN0cmluZyIgPT09IG8gJiYgKGEgPSB1dC5leGVjKG4pKSAmJiAobiA9IChhWzFdICsgMSkgKiBhWzJdICsgcGFyc2VGbG9hdChsZS5jc3MoZSwgdCkpLCBvID0gIm51bWJlciIpLCBudWxsICE9IG4gJiYgbiA9PT0gbiAmJiAoIm51bWJlciIgIT09IG8gfHwgbGUuY3NzTnVtYmVyW3NdIHx8IChuICs9ICJweCIpLCByZS5jbGVhckNsb25lU3R5bGUgfHwgIiIgIT09IG4gfHwgMCAhPT0gdC5pbmRleE9mKCJiYWNrZ3JvdW5kIikgfHwgKGxbdF0gPSAiaW5oZXJpdCIpLCAhKHIgJiYgInNldCIgaW4gciAmJiB2b2lkIDAgPT09IChuID0gci5zZXQoZSwgbiwgaSkpKSkpIHRyeSB7CgkJCQkJCQlsW3RdID0gbgoJCQkJCQl9IGNhdGNoIChjKSB7fQoJCQkJCX0KCQkJCX0sCgkJCQljc3M6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbywgciwgcyA9IGxlLmNhbWVsQ2FzZSh0KTsKCQkJCQlyZXR1cm4gdCA9IGxlLmNzc1Byb3BzW3NdIHx8IChsZS5jc3NQcm9wc1tzXSA9IFAoZS5zdHlsZSwgcykpLCByID0gbGUuY3NzSG9va3NbdF0gfHwgbGUuY3NzSG9va3Nbc10sIHIgJiYgImdldCIgaW4gciAmJiAobyA9IHIuZ2V0KGUsICEwLCBuKSksIHZvaWQgMCA9PT0gbyAmJiAobyA9IG90KGUsIHQsIGkpKSwgIm5vcm1hbCIgPT09IG8gJiYgdCBpbiBmdCAmJiAobyA9IGZ0W3RdKSwgIiIgPT09IG4gfHwgbiA/IChhID0gcGFyc2VGbG9hdChvKSwgbiA9PT0gITAgfHwgbGUuaXNOdW1lcmljKGEpID8gYSB8fCAwIDogbykgOiBvCgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsiaGVpZ2h0IiwgIndpZHRoIl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWxlLmNzc0hvb2tzW3RdID0gewoJCQkJCWdldDogZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCQlyZXR1cm4gbiA/IHB0LnRlc3QobGUuY3NzKGUsICJkaXNwbGF5IikpICYmIDAgPT09IGUub2Zmc2V0V2lkdGggPyBsZS5zd2FwKGUsIG10LCBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBFKGUsIHQsIGkpCgkJCQkJCX0pIDogRShlLCB0LCBpKSA6IHZvaWQgMAoJCQkJCX0sCgkJCQkJc2V0OiBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJCXZhciBhID0gaSAmJiBhdChlKTsKCQkJCQkJcmV0dXJuIEEoZSwgbiwgaSA/IHEoZSwgdCwgaSwgcmUuYm94U2l6aW5nICYmICJib3JkZXItYm94IiA9PT0gbGUuY3NzKGUsICJib3hTaXppbmciLCAhMSwgYSksIGEpIDogMCkKCQkJCQl9CgkJCQl9CgkJCX0pLCByZS5vcGFjaXR5IHx8IChsZS5jc3NIb29rcy5vcGFjaXR5ID0gewoJCQkJZ2V0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGR0LnRlc3QoKHQgJiYgZS5jdXJyZW50U3R5bGUgPyBlLmN1cnJlbnRTdHlsZS5maWx0ZXIgOiBlLnN0eWxlLmZpbHRlcikgfHwgIiIpID8gLjAxICogcGFyc2VGbG9hdChSZWdFeHAuJDEpICsgIiIgOiB0ID8gIjEiIDogIiIKCQkJCX0sCgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IGUuc3R5bGUsCgkJCQkJCWkgPSBlLmN1cnJlbnRTdHlsZSwKCQkJCQkJYSA9IGxlLmlzTnVtZXJpYyh0KSA/ICJhbHBoYShvcGFjaXR5PSIgKyAxMDAgKiB0ICsgIikiIDogIiIsCgkJCQkJCW8gPSBpICYmIGkuZmlsdGVyIHx8IG4uZmlsdGVyIHx8ICIiOwoJCQkJCW4uem9vbSA9IDEsICh0ID49IDEgfHwgIiIgPT09IHQpICYmICIiID09PSBsZS50cmltKG8ucmVwbGFjZShjdCwgIiIpKSAmJiBuLnJlbW92ZUF0dHJpYnV0ZSAmJiAobi5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCAiIiA9PT0gdCB8fCBpICYmICFpLmZpbHRlcikgfHwgKG4uZmlsdGVyID0gY3QudGVzdChvKSA/IG8ucmVwbGFjZShjdCwgYSkgOiBvICsgIiAiICsgYSkKCQkJCX0KCQkJfSksIGxlLmNzc0hvb2tzLm1hcmdpblJpZ2h0ID0gVChyZS5yZWxpYWJsZU1hcmdpblJpZ2h0LCBmdW5jdGlvbihlLCB0KSB7CgkJCQlyZXR1cm4gdCA/IGxlLnN3YXAoZSwgewoJCQkJCWRpc3BsYXk6ICJpbmxpbmUtYmxvY2siCgkJCQl9LCBvdCwgW2UsICJtYXJnaW5SaWdodCJdKSA6IHZvaWQgMAoJCQl9KSwgbGUuZWFjaCh7CgkJCQltYXJnaW46ICIiLAoJCQkJcGFkZGluZzogIiIsCgkJCQlib3JkZXI6ICJXaWR0aCIKCQkJfSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuY3NzSG9va3NbZSArIHRdID0gewoJCQkJCWV4cGFuZDogZnVuY3Rpb24obikgewoJCQkJCQlmb3IgKHZhciBpID0gMCwgYSA9IHt9LCBvID0gInN0cmluZyIgPT0gdHlwZW9mIG4gPyBuLnNwbGl0KCIgIikgOiBbbl07IDQgPiBpOyBpKyspIGFbZSArIFBlW2ldICsgdF0gPSBvW2ldIHx8IG9baSAtIDJdIHx8IG9bMF07CgkJCQkJCXJldHVybiBhCgkJCQkJfQoJCQkJfSwgcnQudGVzdChlKSB8fCAobGUuY3NzSG9va3NbZSArIHRdLnNldCA9IEEpCgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJY3NzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGksIGEsIG8gPSB7fSwKCQkJCQkJCXIgPSAwOwoJCQkJCQlpZiAobGUuaXNBcnJheSh0KSkgewoJCQkJCQkJZm9yIChpID0gYXQoZSksIGEgPSB0Lmxlbmd0aDsgYSA+IHI7IHIrKykgb1t0W3JdXSA9IGxlLmNzcyhlLCB0W3JdLCAhMSwgaSk7CgkJCQkJCQlyZXR1cm4gbwoJCQkJCQl9CgkJCQkJCXJldHVybiB2b2lkIDAgIT09IG4gPyBsZS5zdHlsZShlLCB0LCBuKSA6IGxlLmNzcyhlLCB0KQoJCQkJCX0sIGUsIHQsIGFyZ3VtZW50cy5sZW5ndGggPiAxKQoJCQkJfSwKCQkJCXNob3c6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBJKHRoaXMsICEwKQoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBJKHRoaXMpCgkJCQl9LAoJCQkJdG9nZ2xlOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2YgZSA/IGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlJZSh0aGlzKSA/IGxlKHRoaXMpLnNob3coKSA6IGxlKHRoaXMpLmhpZGUoKQoJCQkJCX0pCgkJCQl9CgkJCX0pLCBsZS5Ud2VlbiA9IE8sIE8ucHJvdG90eXBlID0gewoJCQkJY29uc3RydWN0b3I6IE8sCgkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvKSB7CgkJCQkJdGhpcy5lbGVtID0gZSwgdGhpcy5wcm9wID0gbiwgdGhpcy5lYXNpbmcgPSBhIHx8ICJzd2luZyIsIHRoaXMub3B0aW9ucyA9IHQsIHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCksIHRoaXMuZW5kID0gaSwgdGhpcy51bml0ID0gbyB8fCAobGUuY3NzTnVtYmVyW25dID8gIiIgOiAicHgiKQoJCQkJfSwKCQkJCWN1cjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBPLnByb3BIb29rc1t0aGlzLnByb3BdOwoJCQkJCXJldHVybiBlICYmIGUuZ2V0ID8gZS5nZXQodGhpcykgOiBPLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcykKCQkJCX0sCgkJCQlydW46IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IE8ucHJvcEhvb2tzW3RoaXMucHJvcF07CgkJCQkJcmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbiA/IHRoaXMucG9zID0gdCA9IGxlLmVhc2luZ1t0aGlzLmVhc2luZ10oZSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogZSwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uKSA6IHRoaXMucG9zID0gdCA9IGUsIHRoaXMubm93ID0gKHRoaXMuZW5kIC0gdGhpcy5zdGFydCkgKiB0ICsgdGhpcy5zdGFydCwgdGhpcy5vcHRpb25zLnN0ZXAgJiYgdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzKSwgbiAmJiBuLnNldCA/IG4uc2V0KHRoaXMpIDogTy5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLCB0aGlzCgkJCQl9CgkJCX0sIE8ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gTy5wcm90b3R5cGUsIE8ucHJvcEhvb2tzID0gewoJCQkJX2RlZmF1bHQ6IHsKCQkJCQlnZXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQ7CgkJCQkJCXJldHVybiBudWxsID09IGUuZWxlbVtlLnByb3BdIHx8IGUuZWxlbS5zdHlsZSAmJiBudWxsICE9IGUuZWxlbS5zdHlsZVtlLnByb3BdID8gKHQgPSBsZS5jc3MoZS5lbGVtLCBlLnByb3AsICIiKSwgdCAmJiAiYXV0byIgIT09IHQgPyB0IDogMCkgOiBlLmVsZW1bZS5wcm9wXQoJCQkJCX0sCgkJCQkJc2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCWxlLmZ4LnN0ZXBbZS5wcm9wXSA/IGxlLmZ4LnN0ZXBbZS5wcm9wXShlKSA6IGUuZWxlbS5zdHlsZSAmJiAobnVsbCAhPSBlLmVsZW0uc3R5bGVbbGUuY3NzUHJvcHNbZS5wcm9wXV0gfHwgbGUuY3NzSG9va3NbZS5wcm9wXSkgPyBsZS5zdHlsZShlLmVsZW0sIGUucHJvcCwgZS5ub3cgKyBlLnVuaXQpIDogZS5lbGVtW2UucHJvcF0gPSBlLm5vdwoJCQkJCX0KCQkJCX0KCQkJfSwgTy5wcm9wSG9va3Muc2Nyb2xsVG9wID0gTy5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHsKCQkJCXNldDogZnVuY3Rpb24oZSkgewoJCQkJCWUuZWxlbS5ub2RlVHlwZSAmJiBlLmVsZW0ucGFyZW50Tm9kZSAmJiAoZS5lbGVtW2UucHJvcF0gPSBlLm5vdykKCQkJCX0KCQkJfSwgbGUuZWFzaW5nID0gewoJCQkJbGluZWFyOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUKCQkJCX0sCgkJCQlzd2luZzogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAuNSAtIE1hdGguY29zKGUgKiBNYXRoLlBJKSAvIDIKCQkJCX0KCQkJfSwgbGUuZnggPSBPLnByb3RvdHlwZS5pbml0LCBsZS5meC5zdGVwID0ge307CgkJCXZhciBfdCwgeHQsIHd0ID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLAoJCQkJdnQgPSBuZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIgKyBUZSArICIpKFthLXolXSopJCIsICJpIiksCgkJCQlidCA9IC9xdWV1ZUhvb2tzJC8sCgkJCQl5dCA9IFtSXSwKCQkJCWt0ID0gewoJCQkJCSIqIjogWwoJCQkJCQlmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbiA9IHRoaXMuY3JlYXRlVHdlZW4oZSwgdCksCgkJCQkJCQkJaSA9IG4uY3VyKCksCgkJCQkJCQkJYSA9IHZ0LmV4ZWModCksCgkJCQkJCQkJbyA9IGEgJiYgYVszXSB8fCAobGUuY3NzTnVtYmVyW2VdID8gIiIgOiAicHgiKSwKCQkJCQkJCQlyID0gKGxlLmNzc051bWJlcltlXSB8fCAicHgiICE9PSBvICYmICtpKSAmJiB2dC5leGVjKGxlLmNzcyhuLmVsZW0sIGUpKSwKCQkJCQkJCQlzID0gMSwKCQkJCQkJCQlsID0gMjA7CgkJCQkJCQlpZiAociAmJiByWzNdICE9PSBvKSB7CgkJCQkJCQkJbyA9IG8gfHwgclszXSwgYSA9IGEgfHwgW10sIHIgPSAraSB8fCAxOwoJCQkJCQkJCWRvIHMgPSBzIHx8ICIuNSIsIHIgLz0gcywgbGUuc3R5bGUobi5lbGVtLCBlLCByICsgbyk7IHdoaWxlIChzICE9PSAocyA9IG4uY3VyKCkgLyBpKSAmJiAxICE9PSBzICYmIC0tbCkKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBhICYmIChyID0gbi5zdGFydCA9ICtyIHx8ICtpIHx8IDAsIG4udW5pdCA9IG8sIG4uZW5kID0gYVsxXSA/IHIgKyAoYVsxXSArIDEpICogYVsyXSA6ICthWzJdKSwgbgoJCQkJCQl9CgkJCQkJXQoJCQkJfTsKCQkJbGUuQW5pbWF0aW9uID0gbGUuZXh0ZW5kKCQsIHsKCQkJCQl0d2VlbmVyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWxlLmlzRnVuY3Rpb24oZSkgPyAodCA9IGUsIGUgPSBbIioiXSkgOiBlID0gZS5zcGxpdCgiICIpOwoJCQkJCQlmb3IgKHZhciBuLCBpID0gMCwgYSA9IGUubGVuZ3RoOyBhID4gaTsgaSsrKSBuID0gZVtpXSwga3Rbbl0gPSBrdFtuXSB8fCBbXSwga3Rbbl0udW5zaGlmdCh0KQoJCQkJCX0sCgkJCQkJcHJlZmlsdGVyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXQgPyB5dC51bnNoaWZ0KGUpIDogeXQucHVzaChlKQoJCQkJCX0KCQkJCX0pLCBsZS5zcGVlZCA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IGUgJiYgIm9iamVjdCIgPT0gdHlwZW9mIGUgPyBsZS5leHRlbmQoe30sIGUpIDogewoJCQkJCQljb21wbGV0ZTogbiB8fCAhbiAmJiB0IHx8IGxlLmlzRnVuY3Rpb24oZSkgJiYgZSwKCQkJCQkJZHVyYXRpb246IGUsCgkJCQkJCWVhc2luZzogbiAmJiB0IHx8IHQgJiYgIWxlLmlzRnVuY3Rpb24odCkgJiYgdAoJCQkJCX07CgkJCQkJcmV0dXJuIGkuZHVyYXRpb24gPSBsZS5meC5vZmYgPyAwIDogIm51bWJlciIgPT0gdHlwZW9mIGkuZHVyYXRpb24gPyBpLmR1cmF0aW9uIDogaS5kdXJhdGlvbiBpbiBsZS5meC5zcGVlZHMgPyBsZS5meC5zcGVlZHNbaS5kdXJhdGlvbl0gOiBsZS5meC5zcGVlZHMuX2RlZmF1bHQsIChudWxsID09IGkucXVldWUgfHwgaS5xdWV1ZSA9PT0gITApICYmIChpLnF1ZXVlID0gImZ4IiksIGkub2xkID0gaS5jb21wbGV0ZSwgaS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5pc0Z1bmN0aW9uKGkub2xkKSAmJiBpLm9sZC5jYWxsKHRoaXMpLCBpLnF1ZXVlICYmIGxlLmRlcXVldWUodGhpcywgaS5xdWV1ZSkKCQkJCQl9LCBpCgkJCQl9LCBsZS5mbi5leHRlbmQoewoJCQkJCWZhZGVUbzogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQlyZXR1cm4gdGhpcy5maWx0ZXIoSWUpLmNzcygib3BhY2l0eSIsIDApLnNob3coKS5lbmQoKS5hbmltYXRlKHsKCQkJCQkJCW9wYWNpdHk6IHQKCQkJCQkJfSwgZSwgbiwgaSkKCQkJCQl9LAoJCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJdmFyIGEgPSBsZS5pc0VtcHR5T2JqZWN0KGUpLAoJCQkJCQkJbyA9IGxlLnNwZWVkKHQsIG4sIGkpLAoJCQkJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXZhciB0ID0gJCh0aGlzLCBsZS5leHRlbmQoe30sIGUpLCBvKTsKCQkJCQkJCQkoYSB8fCBsZS5fZGF0YSh0aGlzLCAiZmluaXNoIikpICYmIHQuc3RvcCghMCkKCQkJCQkJCX07CgkJCQkJCXJldHVybiByLmZpbmlzaCA9IHIsIGEgfHwgby5xdWV1ZSA9PT0gITEgPyB0aGlzLmVhY2gocikgOiB0aGlzLnF1ZXVlKG8ucXVldWUsIHIpCgkJCQkJfSwKCQkJCQlzdG9wOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBlLnN0b3A7CgkJCQkJCQlkZWxldGUgZS5zdG9wLCB0KG4pCgkJCQkJCX07CgkJCQkJCXJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgZSAmJiAobiA9IHQsIHQgPSBlLCBlID0gdm9pZCAwKSwgdCAmJiBlICE9PSAhMSAmJiB0aGlzLnF1ZXVlKGUgfHwgImZ4IiwgW10pLCB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgdCA9ICEwLAoJCQkJCQkJCWEgPSBudWxsICE9IGUgJiYgZSArICJxdWV1ZUhvb2tzIiwKCQkJCQkJCQlvID0gbGUudGltZXJzLAoJCQkJCQkJCXIgPSBsZS5fZGF0YSh0aGlzKTsKCQkJCQkJCWlmIChhKSByW2FdICYmIHJbYV0uc3RvcCAmJiBpKHJbYV0pOwoJCQkJCQkJZWxzZQoJCQkJCQkJCWZvciAoYSBpbiByKSByW2FdICYmIHJbYV0uc3RvcCAmJiBidC50ZXN0KGEpICYmIGkoclthXSk7CgkJCQkJCQlmb3IgKGEgPSBvLmxlbmd0aDsgYS0tOykgb1thXS5lbGVtICE9PSB0aGlzIHx8IG51bGwgIT0gZSAmJiBvW2FdLnF1ZXVlICE9PSBlIHx8IChvW2FdLmFuaW0uc3RvcChuKSwgdCA9ICExLCBvLnNwbGljZShhLCAxKSk7CgkJCQkJCQkodCB8fCAhbikgJiYgbGUuZGVxdWV1ZSh0aGlzLCBlKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJZmluaXNoOiBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlICE9PSAhMSAmJiAoZSA9IGUgfHwgImZ4IiksIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0LCBuID0gbGUuX2RhdGEodGhpcyksCgkJCQkJCQkJaSA9IG5bZSArICJxdWV1ZSJdLAoJCQkJCQkJCWEgPSBuW2UgKyAicXVldWVIb29rcyJdLAoJCQkJCQkJCW8gPSBsZS50aW1lcnMsCgkJCQkJCQkJciA9IGkgPyBpLmxlbmd0aCA6IDA7CgkJCQkJCQlmb3IgKG4uZmluaXNoID0gITAsIGxlLnF1ZXVlKHRoaXMsIGUsIFtdKSwgYSAmJiBhLnN0b3AgJiYgYS5zdG9wLmNhbGwodGhpcywgITApLCB0ID0gby5sZW5ndGg7IHQtLTspIG9bdF0uZWxlbSA9PT0gdGhpcyAmJiBvW3RdLnF1ZXVlID09PSBlICYmIChvW3RdLmFuaW0uc3RvcCghMCksIG8uc3BsaWNlKHQsIDEpKTsKCQkJCQkJCWZvciAodCA9IDA7IHIgPiB0OyB0KyspIGlbdF0gJiYgaVt0XS5maW5pc2ggJiYgaVt0XS5maW5pc2guY2FsbCh0aGlzKTsKCQkJCQkJCWRlbGV0ZSBuLmZpbmlzaAoJCQkJCQl9KQoJCQkJCX0KCQkJCX0pLCBsZS5lYWNoKFsidG9nZ2xlIiwgInNob3ciLCAiaGlkZSJdLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBsZS5mblt0XTsKCQkJCQlsZS5mblt0XSA9IGZ1bmN0aW9uKGUsIGksIGEpIHsKCQkJCQkJcmV0dXJuIG51bGwgPT0gZSB8fCAiYm9vbGVhbiIgPT0gdHlwZW9mIGUgPyBuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB0aGlzLmFuaW1hdGUoRCh0LCAhMCksIGUsIGksIGEpCgkJCQkJfQoJCQkJfSksIGxlLmVhY2goewoJCQkJCXNsaWRlRG93bjogRCgic2hvdyIpLAoJCQkJCXNsaWRlVXA6IEQoImhpZGUiKSwKCQkJCQlzbGlkZVRvZ2dsZTogRCgidG9nZ2xlIiksCgkJCQkJZmFkZUluOiB7CgkJCQkJCW9wYWNpdHk6ICJzaG93IgoJCQkJCX0sCgkJCQkJZmFkZU91dDogewoJCQkJCQlvcGFjaXR5OiAiaGlkZSIKCQkJCQl9LAoJCQkJCWZhZGVUb2dnbGU6IHsKCQkJCQkJb3BhY2l0eTogInRvZ2dsZSIKCQkJCQl9CgkJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJbGUuZm5bZV0gPSBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJCXJldHVybiB0aGlzLmFuaW1hdGUodCwgZSwgbiwgaSkKCQkJCQl9CgkJCQl9KSwgbGUudGltZXJzID0gW10sIGxlLmZ4LnRpY2sgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCA9IGxlLnRpbWVycywKCQkJCQkJbiA9IDA7CgkJCQkJZm9yIChfdCA9IGxlLm5vdygpOyBuIDwgdC5sZW5ndGg7IG4rKykgZSA9IHRbbl0sIGUoKSB8fCB0W25dICE9PSBlIHx8IHQuc3BsaWNlKG4tLSwgMSk7CgkJCQkJdC5sZW5ndGggfHwgbGUuZnguc3RvcCgpLCBfdCA9IHZvaWQgMAoJCQkJfSwgbGUuZngudGltZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJbGUudGltZXJzLnB1c2goZSksIGUoKSA/IGxlLmZ4LnN0YXJ0KCkgOiBsZS50aW1lcnMucG9wKCkKCQkJCX0sIGxlLmZ4LmludGVydmFsID0gMTMsIGxlLmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7CgkJCQkJeHQgfHwgKHh0ID0gc2V0SW50ZXJ2YWwobGUuZngudGljaywgbGUuZnguaW50ZXJ2YWwpKQoJCQkJfSwgbGUuZnguc3RvcCA9IGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFySW50ZXJ2YWwoeHQpLCB4dCA9IG51bGwKCQkJCX0sIGxlLmZ4LnNwZWVkcyA9IHsKCQkJCQlzbG93OiA2MDAsCgkJCQkJZmFzdDogMjAwLAoJCQkJCV9kZWZhdWx0OiA0MDAKCQkJCX0sIGxlLmZuLmRlbGF5ID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBlID0gbGUuZnggPyBsZS5meC5zcGVlZHNbZV0gfHwgZSA6IGUsIHQgPSB0IHx8ICJmeCIsIHRoaXMucXVldWUodCwgZnVuY3Rpb24odCwgbikgewoJCQkJCQl2YXIgaSA9IHNldFRpbWVvdXQodCwgZSk7CgkJCQkJCW4uc3RvcCA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJUaW1lb3V0KGkpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhOwoJCQkJCXQgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdC5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsICJ0IiksIHQuaW5uZXJIVE1MID0gIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiIsIGkgPSB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF0sIG4gPSB4ZS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSwgYSA9IG4uYXBwZW5kQ2hpbGQoeGUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLCBlID0gdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSwgaS5zdHlsZS5jc3NUZXh0ID0gInRvcDoxcHgiLCByZS5nZXRTZXRBdHRyaWJ1dGUgPSAidCIgIT09IHQuY2xhc3NOYW1lLCByZS5zdHlsZSA9IC90b3AvLnRlc3QoaS5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLCByZS5ocmVmTm9ybWFsaXplZCA9ICIvYSIgPT09IGkuZ2V0QXR0cmlidXRlKCJocmVmIiksIHJlLmNoZWNrT24gPSAhIWUudmFsdWUsIHJlLm9wdFNlbGVjdGVkID0gYS5zZWxlY3RlZCwgcmUuZW5jdHlwZSA9ICEheGUuY3JlYXRlRWxlbWVudCgiZm9ybSIpLmVuY3R5cGUsIG4uZGlzYWJsZWQgPSAhMCwgcmUub3B0RGlzYWJsZWQgPSAhYS5kaXNhYmxlZCwgZSA9IHhlLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksIGUuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsICIiKSwgcmUuaW5wdXQgPSAiIiA9PT0gZS5nZXRBdHRyaWJ1dGUoInZhbHVlIiksIGUudmFsdWUgPSAidCIsIGUuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInJhZGlvIiksIHJlLnJhZGlvVmFsdWUgPSAidCIgPT09IGUudmFsdWUKCQkJCX0oKTsKCQkJdmFyIHp0ID0gL1xyL2c7CgkJCWxlLmZuLmV4dGVuZCh7CgkJCQl2YWw6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IHRoaXNbMF07IHsKCQkJCQkJaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBpID0gbGUuaXNGdW5jdGlvbihlKSwgdGhpcy5lYWNoKGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBhOwoJCQkJCQkJMSA9PT0gdGhpcy5ub2RlVHlwZSAmJiAoYSA9IGkgPyBlLmNhbGwodGhpcywgbiwgbGUodGhpcykudmFsKCkpIDogZSwgbnVsbCA9PSBhID8gYSA9ICIiIDogIm51bWJlciIgPT0gdHlwZW9mIGEgPyBhICs9ICIiIDogbGUuaXNBcnJheShhKSAmJiAoYSA9IGxlLm1hcChhLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIG51bGwgPT0gZSA/ICIiIDogZSArICIiCgkJCQkJCQl9KSksIHQgPSBsZS52YWxIb29rc1t0aGlzLnR5cGVdIHx8IGxlLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIHQgJiYgInNldCIgaW4gdCAmJiB2b2lkIDAgIT09IHQuc2V0KHRoaXMsIGEsICJ2YWx1ZSIpIHx8ICh0aGlzLnZhbHVlID0gYSkpCgkJCQkJCX0pOwoJCQkJCQlpZiAoYSkgcmV0dXJuIHQgPSBsZS52YWxIb29rc1thLnR5cGVdIHx8IGxlLnZhbEhvb2tzW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIHQgJiYgImdldCIgaW4gdCAmJiB2b2lkIDAgIT09IChuID0gdC5nZXQoYSwgInZhbHVlIikpID8gbiA6IChuID0gYS52YWx1ZSwgInN0cmluZyIgPT0gdHlwZW9mIG4gPyBuLnJlcGxhY2UoenQsICIiKSA6IG51bGwgPT0gbiA/ICIiIDogbikKCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5leHRlbmQoewoJCQkJdmFsSG9va3M6IHsKCQkJCQlvcHRpb246IHsKCQkJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdCA9IGxlLmZpbmQuYXR0cihlLCAidmFsdWUiKTsKCQkJCQkJCXJldHVybiBudWxsICE9IHQgPyB0IDogbGUudHJpbShsZS50ZXh0KGUpKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzZWxlY3Q6IHsKCQkJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCQlmb3IgKHZhciB0LCBuLCBpID0gZS5vcHRpb25zLCBhID0gZS5zZWxlY3RlZEluZGV4LCBvID0gInNlbGVjdC1vbmUiID09PSBlLnR5cGUgfHwgMCA+IGEsIHIgPSBvID8gbnVsbCA6IFtdLCBzID0gbyA/IGEgKyAxIDogaS5sZW5ndGgsIGwgPSAwID4gYSA/IHMgOiBvID8gYSA6IDA7IHMgPiBsOyBsKyspCgkJCQkJCQkJaWYgKG4gPSBpW2xdLCAobi5zZWxlY3RlZCB8fCBsID09PSBhKSAmJiAocmUub3B0RGlzYWJsZWQgPyAhbi5kaXNhYmxlZCA6IG51bGwgPT09IG4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKSAmJiAoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fCAhbGUubm9kZU5hbWUobi5wYXJlbnROb2RlLCAib3B0Z3JvdXAiKSkpIHsKCQkJCQkJCQkJaWYgKHQgPSBsZShuKS52YWwoKSwgbykgcmV0dXJuIHQ7CgkJCQkJCQkJCXIucHVzaCh0KQoJCQkJCQkJCX0KCQkJCQkJCXJldHVybiByCgkJCQkJCX0sCgkJCQkJCXNldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJZm9yICh2YXIgbiwgaSwgYSA9IGUub3B0aW9ucywgbyA9IGxlLm1ha2VBcnJheSh0KSwgciA9IGEubGVuZ3RoOyByLS07KQoJCQkJCQkJCWlmIChpID0gYVtyXSwgbGUuaW5BcnJheShsZS52YWxIb29rcy5vcHRpb24uZ2V0KGkpLCBvKSA+PSAwKSB0cnkgewoJCQkJCQkJCQlpLnNlbGVjdGVkID0gbiA9ICEwCgkJCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJCQlpLnNjcm9sbEhlaWdodAoJCQkJCQkJCX0gZWxzZSBpLnNlbGVjdGVkID0gITE7CgkJCQkJCQlyZXR1cm4gbiB8fCAoZS5zZWxlY3RlZEluZGV4ID0gLTEpLCBhCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsicmFkaW8iLCAiY2hlY2tib3giXSwgZnVuY3Rpb24oKSB7CgkJCQlsZS52YWxIb29rc1t0aGlzXSA9IHsKCQkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIGxlLmlzQXJyYXkodCkgPyBlLmNoZWNrZWQgPSBsZS5pbkFycmF5KGxlKGUpLnZhbCgpLCB0KSA+PSAwIDogdm9pZCAwCgkJCQkJfQoJCQkJfSwgcmUuY2hlY2tPbiB8fCAobGUudmFsSG9va3NbdGhpc10uZ2V0ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBudWxsID09PSBlLmdldEF0dHJpYnV0ZSgidmFsdWUiKSA/ICJvbiIgOiBlLnZhbHVlCgkJCQl9KQoJCQl9KTsKCQkJdmFyIEJ0LCBqdCwgQ3QgPSBsZS5leHByLmF0dHJIYW5kbGUsCgkJCQlTdCA9IC9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2ksCgkJCQlOdCA9IHJlLmdldFNldEF0dHJpYnV0ZSwKCQkJCVR0ID0gcmUuaW5wdXQ7CgkJCWxlLmZuLmV4dGVuZCh7CgkJCQlhdHRyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGxlLmF0dHIsIGUsIHQsIGFyZ3VtZW50cy5sZW5ndGggPiAxKQoJCQkJfSwKCQkJCXJlbW92ZUF0dHI6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5yZW1vdmVBdHRyKHRoaXMsIGUpCgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmV4dGVuZCh7CgkJCQlhdHRyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIG8gPSBlLm5vZGVUeXBlOwoJCQkJCWlmIChlICYmIDMgIT09IG8gJiYgOCAhPT0gbyAmJiAyICE9PSBvKSByZXR1cm4gdHlwZW9mIGUuZ2V0QXR0cmlidXRlID09PSBDZSA/IGxlLnByb3AoZSwgdCwgbikgOiAoMSA9PT0gbyAmJiBsZS5pc1hNTERvYyhlKSB8fCAodCA9IHQudG9Mb3dlckNhc2UoKSwgaSA9IGxlLmF0dHJIb29rc1t0XSB8fCAobGUuZXhwci5tYXRjaC5ib29sLnRlc3QodCkgPyBqdCA6IEJ0KSksIHZvaWQgMCA9PT0gbiA/IGkgJiYgImdldCIgaW4gaSAmJiBudWxsICE9PSAoYSA9IGkuZ2V0KGUsIHQpKSA/IGEgOiAoYSA9IGxlLmZpbmQuYXR0cihlLCB0KSwgbnVsbCA9PSBhID8gdm9pZCAwIDogYSkgOiBudWxsICE9PSBuID8gaSAmJiAic2V0IiBpbiBpICYmIHZvaWQgMCAhPT0gKGEgPSBpLnNldChlLCBuLCB0KSkgPyBhIDogKGUuc2V0QXR0cmlidXRlKHQsIG4gKyAiIiksIG4pIDogdm9pZCBsZS5yZW1vdmVBdHRyKGUsIHQpKQoJCQkJfSwKCQkJCXJlbW92ZUF0dHI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSwgYSA9IDAsCgkJCQkJCW8gPSB0ICYmIHQubWF0Y2goa2UpOwoJCQkJCWlmIChvICYmIDEgPT09IGUubm9kZVR5cGUpCgkJCQkJCWZvciAoOyBuID0gb1thKytdOykgaSA9IGxlLnByb3BGaXhbbl0gfHwgbiwgbGUuZXhwci5tYXRjaC5ib29sLnRlc3QobikgPyBUdCAmJiBOdCB8fCAhU3QudGVzdChuKSA/IGVbaV0gPSAhMSA6IGVbbGUuY2FtZWxDYXNlKCJkZWZhdWx0LSIgKyBuKV0gPSBlW2ldID0gITEgOiBsZS5hdHRyKGUsIG4sICIiKSwgZS5yZW1vdmVBdHRyaWJ1dGUoTnQgPyBuIDogaSkKCQkJCX0sCgkJCQlhdHRySG9va3M6IHsKCQkJCQl0eXBlOiB7CgkJCQkJCXNldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJaWYgKCFyZS5yYWRpb1ZhbHVlICYmICJyYWRpbyIgPT09IHQgJiYgbGUubm9kZU5hbWUoZSwgImlucHV0IikpIHsKCQkJCQkJCQl2YXIgbiA9IGUudmFsdWU7CgkJCQkJCQkJcmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIiwgdCksIG4gJiYgKGUudmFsdWUgPSBuKSwgdAoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KSwganQgPSB7CgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gdCA9PT0gITEgPyBsZS5yZW1vdmVBdHRyKGUsIG4pIDogVHQgJiYgTnQgfHwgIVN0LnRlc3QobikgPyBlLnNldEF0dHJpYnV0ZSghTnQgJiYgbGUucHJvcEZpeFtuXSB8fCBuLCBuKSA6IGVbbGUuY2FtZWxDYXNlKCJkZWZhdWx0LSIgKyBuKV0gPSBlW25dID0gITAsIG4KCQkJCX0KCQkJfSwgbGUuZWFjaChsZS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuID0gQ3RbdF0gfHwgbGUuZmluZC5hdHRyOwoJCQkJQ3RbdF0gPSBUdCAmJiBOdCB8fCAhU3QudGVzdCh0KSA/IGZ1bmN0aW9uKGUsIHQsIGkpIHsKCQkJCQl2YXIgYSwgbzsKCQkJCQlyZXR1cm4gaSB8fCAobyA9IEN0W3RdLCBDdFt0XSA9IGEsIGEgPSBudWxsICE9IG4oZSwgdCwgaSkgPyB0LnRvTG93ZXJDYXNlKCkgOiBudWxsLCBDdFt0XSA9IG8pLCBhCgkJCQl9IDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXJldHVybiBuID8gdm9pZCAwIDogZVtsZS5jYW1lbENhc2UoImRlZmF1bHQtIiArIHQpXSA/IHQudG9Mb3dlckNhc2UoKSA6IG51bGwKCQkJCX0KCQkJfSksIFR0ICYmIE50IHx8IChsZS5hdHRySG9va3MudmFsdWUgPSB7CgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUoZSwgImlucHV0IikgPyB2b2lkKGUuZGVmYXVsdFZhbHVlID0gdCkgOiBCdCAmJiBCdC5zZXQoZSwgdCwgbikKCQkJCX0KCQkJfSksIE50IHx8IChCdCA9IHsKCQkJCXNldDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0gZS5nZXRBdHRyaWJ1dGVOb2RlKG4pOwoJCQkJCXJldHVybiBpIHx8IGUuc2V0QXR0cmlidXRlTm9kZShpID0gZS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShuKSksIGkudmFsdWUgPSB0ICs9ICIiLCAidmFsdWUiID09PSBuIHx8IHQgPT09IGUuZ2V0QXR0cmlidXRlKG4pID8gdCA6IHZvaWQgMAoJCQkJfQoJCQl9LCBDdC5pZCA9IEN0Lm5hbWUgPSBDdC5jb29yZHMgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQl2YXIgaTsKCQkJCXJldHVybiBuID8gdm9pZCAwIDogKGkgPSBlLmdldEF0dHJpYnV0ZU5vZGUodCkpICYmICIiICE9PSBpLnZhbHVlID8gaS52YWx1ZSA6IG51bGwKCQkJfSwgbGUudmFsSG9va3MuYnV0dG9uID0gewoJCQkJZ2V0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBlLmdldEF0dHJpYnV0ZU5vZGUodCk7CgkJCQkJcmV0dXJuIG4gJiYgbi5zcGVjaWZpZWQgPyBuLnZhbHVlIDogdm9pZCAwCgkJCQl9LAoJCQkJc2V0OiBCdC5zZXQKCQkJfSwgbGUuYXR0ckhvb2tzLmNvbnRlbnRlZGl0YWJsZSA9IHsKCQkJCXNldDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCUJ0LnNldChlLCAiIiA9PT0gdCA/ICExIDogdCwgbikKCQkJCX0KCQkJfSwgbGUuZWFjaChbIndpZHRoIiwgImhlaWdodCJdLCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5hdHRySG9va3NbdF0gPSB7CgkJCQkJc2V0OiBmdW5jdGlvbihlLCBuKSB7CgkJCQkJCXJldHVybiAiIiA9PT0gbiA/IChlLnNldEF0dHJpYnV0ZSh0LCAiYXV0byIpLCBuKSA6IHZvaWQgMAoJCQkJCX0KCQkJCX0KCQkJfSkpLCByZS5zdHlsZSB8fCAobGUuYXR0ckhvb2tzLnN0eWxlID0gewoJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUuc3R5bGUuY3NzVGV4dCB8fCB2b2lkIDAKCQkJCX0sCgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gZS5zdHlsZS5jc3NUZXh0ID0gdCArICIiCgkJCQl9CgkJCX0pOwoJCQl2YXIgUHQgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSwKCQkJCUl0ID0gL14oPzphfGFyZWEpJC9pOwoJCQlsZS5mbi5leHRlbmQoewoJCQkJcHJvcDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBBZSh0aGlzLCBsZS5wcm9wLCBlLCB0LCBhcmd1bWVudHMubGVuZ3RoID4gMSkKCQkJCX0sCgkJCQlyZW1vdmVQcm9wOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgPSBsZS5wcm9wRml4W2VdIHx8IGUsIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJdHJ5IHsKCQkJCQkJCXRoaXNbZV0gPSB2b2lkIDAsIGRlbGV0ZSB0aGlzW2VdCgkJCQkJCX0gY2F0Y2ggKHQpIHt9CgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmV4dGVuZCh7CgkJCQlwcm9wRml4OiB7CgkJCQkJImZvciI6ICJodG1sRm9yIiwKCQkJCQkiY2xhc3MiOiAiY2xhc3NOYW1lIgoJCQkJfSwKCQkJCXByb3A6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciA9IGUubm9kZVR5cGU7CgkJCQkJaWYgKGUgJiYgMyAhPT0gciAmJiA4ICE9PSByICYmIDIgIT09IHIpIHJldHVybiBvID0gMSAhPT0gciB8fCAhbGUuaXNYTUxEb2MoZSksIG8gJiYgKHQgPSBsZS5wcm9wRml4W3RdIHx8IHQsIGEgPSBsZS5wcm9wSG9va3NbdF0pLCB2b2lkIDAgIT09IG4gPyBhICYmICJzZXQiIGluIGEgJiYgdm9pZCAwICE9PSAoaSA9IGEuc2V0KGUsIG4sIHQpKSA/IGkgOiBlW3RdID0gbiA6IGEgJiYgImdldCIgaW4gYSAmJiBudWxsICE9PSAoaSA9IGEuZ2V0KGUsIHQpKSA/IGkgOiBlW3RdCgkJCQl9LAoJCQkJcHJvcEhvb2tzOiB7CgkJCQkJdGFiSW5kZXg6IHsKCQkJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdCA9IGxlLmZpbmQuYXR0cihlLCAidGFiaW5kZXgiKTsKCQkJCQkJCXJldHVybiB0ID8gcGFyc2VJbnQodCwgMTApIDogUHQudGVzdChlLm5vZGVOYW1lKSB8fCBJdC50ZXN0KGUubm9kZU5hbWUpICYmIGUuaHJlZiA/IDAgOiAtMQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KSwgcmUuaHJlZk5vcm1hbGl6ZWQgfHwgbGUuZWFjaChbImhyZWYiLCAic3JjIl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWxlLnByb3BIb29rc1t0XSA9IHsKCQkJCQlnZXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsIDQpCgkJCQkJfQoJCQkJfQoJCQl9KSwgcmUub3B0U2VsZWN0ZWQgfHwgKGxlLnByb3BIb29rcy5zZWxlY3RlZCA9IHsKCQkJCWdldDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gZS5wYXJlbnROb2RlOwoJCQkJCXJldHVybiB0ICYmICh0LnNlbGVjdGVkSW5kZXgsIHQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksIG51bGwKCQkJCX0KCQkJfSksIGxlLmVhY2goWyJ0YWJJbmRleCIsICJyZWFkT25seSIsICJtYXhMZW5ndGgiLCAiY2VsbFNwYWNpbmciLCAiY2VsbFBhZGRpbmciLCAicm93U3BhbiIsICJjb2xTcGFuIiwgInVzZU1hcCIsICJmcmFtZUJvcmRlciIsICJjb250ZW50RWRpdGFibGUiXSwgZnVuY3Rpb24oKSB7CgkJCQlsZS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV0gPSB0aGlzCgkJCX0pLCByZS5lbmN0eXBlIHx8IChsZS5wcm9wRml4LmVuY3R5cGUgPSAiZW5jb2RpbmciKTsKCQkJdmFyIEF0ID0gL1tcdFxyXG5cZl0vZzsKCQkJbGUuZm4uZXh0ZW5kKHsKCQkJCWFkZENsYXNzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMgPSAwLAoJCQkJCQlsID0gdGhpcy5sZW5ndGgsCgkJCQkJCWMgPSAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiBlOwoJCQkJCWlmIChsZS5pc0Z1bmN0aW9uKGUpKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpIHsKCQkJCQkJbGUodGhpcykuYWRkQ2xhc3MoZS5jYWxsKHRoaXMsIHQsIHRoaXMuY2xhc3NOYW1lKSkKCQkJCQl9KTsKCQkJCQlpZiAoYykKCQkJCQkJZm9yICh0ID0gKGUgfHwgIiIpLm1hdGNoKGtlKSB8fCBbXTsgbCA+IHM7IHMrKykKCQkJCQkJCWlmIChuID0gdGhpc1tzXSwgaSA9IDEgPT09IG4ubm9kZVR5cGUgJiYgKG4uY2xhc3NOYW1lID8gKCIgIiArIG4uY2xhc3NOYW1lICsgIiAiKS5yZXBsYWNlKEF0LCAiICIpIDogIiAiKSkgewoJCQkJCQkJCWZvciAobyA9IDA7IGEgPSB0W28rK107KSBpLmluZGV4T2YoIiAiICsgYSArICIgIikgPCAwICYmIChpICs9IGEgKyAiICIpOwoJCQkJCQkJCXIgPSBsZS50cmltKGkpLCBuLmNsYXNzTmFtZSAhPT0gciAmJiAobi5jbGFzc05hbWUgPSByKQoJCQkJCQkJfQoJCQkJCXJldHVybiB0aGlzCgkJCQl9LAoJCQkJcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSwgbywgciwgcyA9IDAsCgkJCQkJCWwgPSB0aGlzLmxlbmd0aCwKCQkJCQkJYyA9IDAgPT09IGFyZ3VtZW50cy5sZW5ndGggfHwgInN0cmluZyIgPT0gdHlwZW9mIGUgJiYgZTsKCQkJCQlpZiAobGUuaXNGdW5jdGlvbihlKSkgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KSB7CgkJCQkJCWxlKHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLCB0LCB0aGlzLmNsYXNzTmFtZSkpCgkJCQkJfSk7CgkJCQkJaWYgKGMpCgkJCQkJCWZvciAodCA9IChlIHx8ICIiKS5tYXRjaChrZSkgfHwgW107IGwgPiBzOyBzKyspCgkJCQkJCQlpZiAobiA9IHRoaXNbc10sIGkgPSAxID09PSBuLm5vZGVUeXBlICYmIChuLmNsYXNzTmFtZSA/ICgiICIgKyBuLmNsYXNzTmFtZSArICIgIikucmVwbGFjZShBdCwgIiAiKSA6ICIiKSkgewoJCQkJCQkJCWZvciAobyA9IDA7IGEgPSB0W28rK107KQoJCQkJCQkJCQlmb3IgKDsgaS5pbmRleE9mKCIgIiArIGEgKyAiICIpID49IDA7KSBpID0gaS5yZXBsYWNlKCIgIiArIGEgKyAiICIsICIgIik7CgkJCQkJCQkJciA9IGUgPyBsZS50cmltKGkpIDogIiIsIG4uY2xhc3NOYW1lICE9PSByICYmIChuLmNsYXNzTmFtZSA9IHIpCgkJCQkJCQl9CgkJCQkJcmV0dXJuIHRoaXMKCQkJCX0sCgkJCQl0b2dnbGVDbGFzczogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdHlwZW9mIGU7CgkJCQkJcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2YgdCAmJiAic3RyaW5nIiA9PT0gbiA/IHQgPyB0aGlzLmFkZENsYXNzKGUpIDogdGhpcy5yZW1vdmVDbGFzcyhlKSA6IGxlLmlzRnVuY3Rpb24oZSkgPyB0aGlzLmVhY2goZnVuY3Rpb24obikgewoJCQkJCQlsZSh0aGlzKS50b2dnbGVDbGFzcyhlLmNhbGwodGhpcywgbiwgdGhpcy5jbGFzc05hbWUsIHQpLCB0KQoJCQkJCX0pIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoInN0cmluZyIgPT09IG4pCgkJCQkJCQlmb3IgKHZhciB0LCBpID0gMCwgYSA9IGxlKHRoaXMpLCBvID0gZS5tYXRjaChrZSkgfHwgW107IHQgPSBvW2krK107KSBhLmhhc0NsYXNzKHQpID8gYS5yZW1vdmVDbGFzcyh0KSA6IGEuYWRkQ2xhc3ModCk7CgkJCQkJCWVsc2UobiA9PT0gQ2UgfHwgImJvb2xlYW4iID09PSBuKSAmJiAodGhpcy5jbGFzc05hbWUgJiYgbGUuX2RhdGEodGhpcywgIl9fY2xhc3NOYW1lX18iLCB0aGlzLmNsYXNzTmFtZSksIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUgfHwgZSA9PT0gITEgPyAiIiA6IGxlLl9kYXRhKHRoaXMsICJfX2NsYXNzTmFtZV9fIikgfHwgIiIpCgkJCQkJfSkKCQkJCX0sCgkJCQloYXNDbGFzczogZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSAiICIgKyBlICsgIiAiLCBuID0gMCwgaSA9IHRoaXMubGVuZ3RoOyBpID4gbjsgbisrKQoJCQkJCQlpZiAoMSA9PT0gdGhpc1tuXS5ub2RlVHlwZSAmJiAoIiAiICsgdGhpc1tuXS5jbGFzc05hbWUgKyAiICIpLnJlcGxhY2UoQXQsICIgIikuaW5kZXhPZih0KSA+PSAwKSByZXR1cm4gITA7CgkJCQkJcmV0dXJuICExCgkJCQl9CgkJCX0pLCBsZS5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5mblt0XSA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgPyB0aGlzLm9uKHQsIG51bGwsIGUsIG4pIDogdGhpcy50cmlnZ2VyKHQpCgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJaG92ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodCB8fCBlKQoJCQkJfSwKCQkJCWJpbmQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gdGhpcy5vbihlLCBudWxsLCB0LCBuKQoJCQkJfSwKCQkJCXVuYmluZDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiB0aGlzLm9mZihlLCBudWxsLCB0KQoJCQkJfSwKCQkJCWRlbGVnYXRlOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJcmV0dXJuIHRoaXMub24odCwgZSwgbiwgaSkKCQkJCX0sCgkJCQl1bmRlbGVnYXRlOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIDEgPT09IGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLm9mZihlLCAiKioiKSA6IHRoaXMub2ZmKHQsIGUgfHwgIioqIiwgbikKCQkJCX0KCQkJfSk7CgkJCXZhciBxdCA9IGxlLm5vdygpLAoJCQkJRXQgPSAvXD8vLAoJCQkJT3QgPSAvKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nOwoJCQlsZS5wYXJzZUpTT04gPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoYS5KU09OICYmIGEuSlNPTi5wYXJzZSkgcmV0dXJuIGEuSlNPTi5wYXJzZShlICsgIiIpOwoJCQkJdmFyIHQsIG4gPSBudWxsLAoJCQkJCWkgPSBsZS50cmltKGUgKyAiIik7CgkJCQlyZXR1cm4gaSAmJiAhbGUudHJpbShpLnJlcGxhY2UoT3QsIGZ1bmN0aW9uKGUsIGksIGEsIG8pIHsKCQkJCQlyZXR1cm4gdCAmJiBpICYmIChuID0gMCksIDAgPT09IG4gPyBlIDogKHQgPSBhIHx8IGksIG4gKz0gIW8gLSAhYSwgIiIpCgkJCQl9KSkgPyBGdW5jdGlvbigicmV0dXJuICIgKyBpKSgpIDogbGUuZXJyb3IoIkludmFsaWQgSlNPTjogIiArIGUpCgkJCX0sIGxlLnBhcnNlWE1MID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQsIG47CgkJCQlpZiAoIWUgfHwgInN0cmluZyIgIT0gdHlwZW9mIGUpIHJldHVybiBudWxsOwoJCQkJdHJ5IHsKCQkJCQlhLkRPTVBhcnNlciA/IChuID0gbmV3IERPTVBhcnNlciwgdCA9IG4ucGFyc2VGcm9tU3RyaW5nKGUsICJ0ZXh0L3htbCIpKSA6ICh0ID0gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSwgdC5hc3luYyA9ICJmYWxzZSIsIHQubG9hZFhNTChlKSkKCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQl0ID0gdm9pZCAwCgkJCQl9CgkJCQlyZXR1cm4gdCAmJiB0LmRvY3VtZW50RWxlbWVudCAmJiAhdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggfHwgbGUuZXJyb3IoIkludmFsaWQgWE1MOiAiICsgZSksIHQKCQkJfTsKCQkJdmFyIEx0LCBEdCwgTXQgPSAvIy4qJC8sCgkJCQlSdCA9IC8oWz8mXSlfPVteJl0qLywKCQkJCUZ0ID0gL14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSwKCQkJCSR0ID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sCgkJCQlXdCA9IC9eKD86R0VUfEhFQUQpJC8sCgkJCQlIdCA9IC9eXC9cLy8sCgkJCQlVdCA9IC9eKFtcdy4rLV0rOikoPzpcL1wvKD86W15cLz8jXSpAfCkoW15cLz8jOl0qKSg/OjooXGQrKXwpfCkvLAoJCQkJWXQgPSB7fSwKCQkJCUd0ID0ge30sCgkJCQlYdCA9ICIqLyIuY29uY2F0KCIqIik7CgkJCXRyeSB7CgkJCQlEdCA9IGxvY2F0aW9uLmhyZWYKCQkJfSBjYXRjaCAoSnQpIHsKCQkJCUR0ID0geGUuY3JlYXRlRWxlbWVudCgiYSIpLCBEdC5ocmVmID0gIiIsIER0ID0gRHQuaHJlZgoJCQl9CgkJCUx0ID0gVXQuZXhlYyhEdC50b0xvd2VyQ2FzZSgpKSB8fCBbXSwgbGUuZXh0ZW5kKHsKCQkJCWFjdGl2ZTogMCwKCQkJCWxhc3RNb2RpZmllZDoge30sCgkJCQlldGFnOiB7fSwKCQkJCWFqYXhTZXR0aW5nczogewoJCQkJCXVybDogRHQsCgkJCQkJdHlwZTogIkdFVCIsCgkJCQkJaXNMb2NhbDogJHQudGVzdChMdFsxXSksCgkJCQkJZ2xvYmFsOiAhMCwKCQkJCQlwcm9jZXNzRGF0YTogITAsCgkJCQkJYXN5bmM6ICEwLAoJCQkJCWNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IiwKCQkJCQlhY2NlcHRzOiB7CgkJCQkJCSIqIjogWHQsCgkJCQkJCXRleHQ6ICJ0ZXh0L3BsYWluIiwKCQkJCQkJaHRtbDogInRleHQvaHRtbCIsCgkJCQkJCXhtbDogImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLAoJCQkJCQlqc29uOiAiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IgoJCQkJCX0sCgkJCQkJY29udGVudHM6IHsKCQkJCQkJeG1sOiAveG1sLywKCQkJCQkJaHRtbDogL2h0bWwvLAoJCQkJCQlqc29uOiAvanNvbi8KCQkJCQl9LAoJCQkJCXJlc3BvbnNlRmllbGRzOiB7CgkJCQkJCXhtbDogInJlc3BvbnNlWE1MIiwKCQkJCQkJdGV4dDogInJlc3BvbnNlVGV4dCIsCgkJCQkJCWpzb246ICJyZXNwb25zZUpTT04iCgkJCQkJfSwKCQkJCQljb252ZXJ0ZXJzOiB7CgkJCQkJCSIqIHRleHQiOiBTdHJpbmcsCgkJCQkJCSJ0ZXh0IGh0bWwiOiAhMCwKCQkJCQkJInRleHQganNvbiI6IGxlLnBhcnNlSlNPTiwKCQkJCQkJInRleHQgeG1sIjogbGUucGFyc2VYTUwKCQkJCQl9LAoJCQkJCWZsYXRPcHRpb25zOiB7CgkJCQkJCXVybDogITAsCgkJCQkJCWNvbnRleHQ6ICEwCgkJCQkJfQoJCQkJfSwKCQkJCWFqYXhTZXR1cDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiB0ID8gVShVKGUsIGxlLmFqYXhTZXR0aW5ncyksIHQpIDogVShsZS5hamF4U2V0dGluZ3MsIGUpCgkJCQl9LAoJCQkJYWpheFByZWZpbHRlcjogVyhZdCksCgkJCQlhamF4VHJhbnNwb3J0OiBXKEd0KSwKCQkJCWFqYXg6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmdW5jdGlvbiBuKGUsIHQsIG4sIGkpIHsKCQkJCQkJdmFyIGEsIGQsIF8sIHgsIHYsIHkgPSB0OwoJCQkJCQkyICE9PSB3ICYmICh3ID0gMiwgcyAmJiBjbGVhclRpbWVvdXQocyksIGMgPSB2b2lkIDAsIHIgPSBpIHx8ICIiLCBiLnJlYWR5U3RhdGUgPSBlID4gMCA/IDQgOiAwLCBhID0gZSA+PSAyMDAgJiYgMzAwID4gZSB8fCAzMDQgPT09IGUsIG4gJiYgKHggPSBZKHAsIGIsIG4pKSwgeCA9IEcocCwgeCwgYiwgYSksIGEgPyAocC5pZk1vZGlmaWVkICYmICh2ID0gYi5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLCB2ICYmIChsZS5sYXN0TW9kaWZpZWRbb10gPSB2KSwgdiA9IGIuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSwgdiAmJiAobGUuZXRhZ1tvXSA9IHYpKSwgMjA0ID09PSBlIHx8ICJIRUFEIiA9PT0gcC50eXBlID8geSA9ICJub2NvbnRlbnQiIDogMzA0ID09PSBlID8geSA9ICJub3Rtb2RpZmllZCIgOiAoeSA9IHguc3RhdGUsIGQgPSB4LmRhdGEsIF8gPSB4LmVycm9yLCBhID0gIV8pKSA6IChfID0geSwgKGUgfHwgIXkpICYmICh5ID0gImVycm9yIiwgMCA+IGUgJiYgKGUgPSAwKSkpLCBiLnN0YXR1cyA9IGUsIGIuc3RhdHVzVGV4dCA9ICh0IHx8IHkpICsgIiIsIGEgPyBtLnJlc29sdmVXaXRoKGgsIFtkLCB5LCBiXSkgOiBtLnJlamVjdFdpdGgoaCwgW2IsIHksIF9dKSwgYi5zdGF0dXNDb2RlKGcpLCBnID0gdm9pZCAwLCBsICYmIHUudHJpZ2dlcihhID8gImFqYXhTdWNjZXNzIiA6ICJhamF4RXJyb3IiLCBbYiwgcCwgYSA/IGQgOiBfXSksIGYuZmlyZVdpdGgoaCwgW2IsIHldKSwgbCAmJiAodS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLCBbYiwgcF0pLCAtLWxlLmFjdGl2ZSB8fCBsZS5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSkKCQkJCQl9CgkJCQkJIm9iamVjdCIgPT0gdHlwZW9mIGUgJiYgKHQgPSBlLCBlID0gdm9pZCAwKSwgdCA9IHQgfHwge307CgkJCQkJdmFyIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAgPSBsZS5hamF4U2V0dXAoe30sIHQpLAoJCQkJCQloID0gcC5jb250ZXh0IHx8IHAsCgkJCQkJCXUgPSBwLmNvbnRleHQgJiYgKGgubm9kZVR5cGUgfHwgaC5qcXVlcnkpID8gbGUoaCkgOiBsZS5ldmVudCwKCQkJCQkJbSA9IGxlLkRlZmVycmVkKCksCgkJCQkJCWYgPSBsZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksCgkJCQkJCWcgPSBwLnN0YXR1c0NvZGUgfHwge30sCgkJCQkJCV8gPSB7fSwKCQkJCQkJeCA9IHt9LAoJCQkJCQl3ID0gMCwKCQkJCQkJdiA9ICJjYW5jZWxlZCIsCgkJCQkJCWIgPSB7CgkJCQkJCQlyZWFkeVN0YXRlOiAwLAoJCQkJCQkJZ2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQl2YXIgdDsKCQkJCQkJCQlpZiAoMiA9PT0gdykgewoJCQkJCQkJCQlpZiAoIWQpCgkJCQkJCQkJCQlmb3IgKGQgPSB7fTsgdCA9IEZ0LmV4ZWMocik7KSBkW3RbMV0udG9Mb3dlckNhc2UoKV0gPSB0WzJdOwoJCQkJCQkJCQl0ID0gZFtlLnRvTG93ZXJDYXNlKCldCgkJCQkJCQkJfQoJCQkJCQkJCXJldHVybiBudWxsID09IHQgPyBudWxsIDogdAoJCQkJCQkJfSwKCQkJCQkJCWdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIDIgPT09IHcgPyByIDogbnVsbAoJCQkJCQkJfSwKCQkJCQkJCXNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQl2YXIgbiA9IGUudG9Mb3dlckNhc2UoKTsKCQkJCQkJCQlyZXR1cm4gdyB8fCAoZSA9IHhbbl0gPSB4W25dIHx8IGUsIF9bZV0gPSB0KSwgdGhpcwoJCQkJCQkJfSwKCQkJCQkJCW92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gdyB8fCAocC5taW1lVHlwZSA9IGUpLCB0aGlzCgkJCQkJCQl9LAoJCQkJCQkJc3RhdHVzQ29kZTogZnVuY3Rpb24oZSkgewoJCQkJCQkJCXZhciB0OwoJCQkJCQkJCWlmIChlKQoJCQkJCQkJCQlpZiAoMiA+IHcpCgkJCQkJCQkJCQlmb3IgKHQgaW4gZSkgZ1t0XSA9IFtnW3RdLCBlW3RdXTsKCQkJCQkJCQkJZWxzZSBiLmFsd2F5cyhlW2Iuc3RhdHVzXSk7CgkJCQkJCQkJcmV0dXJuIHRoaXMKCQkJCQkJCX0sCgkJCQkJCQlhYm9ydDogZnVuY3Rpb24oZSkgewoJCQkJCQkJCXZhciB0ID0gZSB8fCB2OwoJCQkJCQkJCXJldHVybiBjICYmIGMuYWJvcnQodCksIG4oMCwgdCksIHRoaXMKCQkJCQkJCX0KCQkJCQkJfTsKCQkJCQlpZiAobS5wcm9taXNlKGIpLmNvbXBsZXRlID0gZi5hZGQsIGIuc3VjY2VzcyA9IGIuZG9uZSwgYi5lcnJvciA9IGIuZmFpbCwgcC51cmwgPSAoKGUgfHwgcC51cmwgfHwgRHQpICsgIiIpLnJlcGxhY2UoTXQsICIiKS5yZXBsYWNlKEh0LCBMdFsxXSArICIvLyIpLCBwLnR5cGUgPSB0Lm1ldGhvZCB8fCB0LnR5cGUgfHwgcC5tZXRob2QgfHwgcC50eXBlLCBwLmRhdGFUeXBlcyA9IGxlLnRyaW0ocC5kYXRhVHlwZSB8fCAiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goa2UpIHx8IFsiIl0sIG51bGwgPT0gcC5jcm9zc0RvbWFpbiAmJiAoaSA9IFV0LmV4ZWMocC51cmwudG9Mb3dlckNhc2UoKSksIHAuY3Jvc3NEb21haW4gPSAhKCFpIHx8IGlbMV0gPT09IEx0WzFdICYmIGlbMl0gPT09IEx0WzJdICYmIChpWzNdIHx8ICgiaHR0cDoiID09PSBpWzFdID8gIjgwIiA6ICI0NDMiKSkgPT09IChMdFszXSB8fCAoImh0dHA6IiA9PT0gTHRbMV0gPyAiODAiIDogIjQ0MyIpKSkpLCBwLmRhdGEgJiYgcC5wcm9jZXNzRGF0YSAmJiAic3RyaW5nIiAhPSB0eXBlb2YgcC5kYXRhICYmIChwLmRhdGEgPSBsZS5wYXJhbShwLmRhdGEsIHAudHJhZGl0aW9uYWwpKSwgSChZdCwgcCwgdCwgYiksIDIgPT09IHcpIHJldHVybiBiOwoJCQkJCWwgPSBsZS5ldmVudCAmJiBwLmdsb2JhbCwgbCAmJiAwID09PSBsZS5hY3RpdmUrKyAmJiBsZS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSwgcC50eXBlID0gcC50eXBlLnRvVXBwZXJDYXNlKCksIHAuaGFzQ29udGVudCA9ICFXdC50ZXN0KHAudHlwZSksIG8gPSBwLnVybCwgcC5oYXNDb250ZW50IHx8IChwLmRhdGEgJiYgKG8gPSBwLnVybCArPSAoRXQudGVzdChvKSA/ICImIiA6ICI/IikgKyBwLmRhdGEsIGRlbGV0ZSBwLmRhdGEpLCBwLmNhY2hlID09PSAhMSAmJiAocC51cmwgPSBSdC50ZXN0KG8pID8gby5yZXBsYWNlKFJ0LCAiJDFfPSIgKyBxdCsrKSA6IG8gKyAoRXQudGVzdChvKSA/ICImIiA6ICI/IikgKyAiXz0iICsgcXQrKykpLCBwLmlmTW9kaWZpZWQgJiYgKGxlLmxhc3RNb2RpZmllZFtvXSAmJiBiLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIiwgbGUubGFzdE1vZGlmaWVkW29dKSwgbGUuZXRhZ1tvXSAmJiBiLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLCBsZS5ldGFnW29dKSksIChwLmRhdGEgJiYgcC5oYXNDb250ZW50ICYmIHAuY29udGVudFR5cGUgIT09ICExIHx8IHQuY29udGVudFR5cGUpICYmIGIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwgcC5jb250ZW50VHlwZSksIGIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwgcC5kYXRhVHlwZXNbMF0gJiYgcC5hY2NlcHRzW3AuZGF0YVR5cGVzWzBdXSA/IHAuYWNjZXB0c1twLmRhdGFUeXBlc1swXV0gKyAoIioiICE9PSBwLmRhdGFUeXBlc1swXSA/ICIsICIgKyBYdCArICI7IHE9MC4wMSIgOiAiIikgOiBwLmFjY2VwdHNbIioiXSk7CgkJCQkJZm9yIChhIGluIHAuaGVhZGVycykgYi5zZXRSZXF1ZXN0SGVhZGVyKGEsIHAuaGVhZGVyc1thXSk7CgkJCQkJaWYgKHAuYmVmb3JlU2VuZCAmJiAocC5iZWZvcmVTZW5kLmNhbGwoaCwgYiwgcCkgPT09ICExIHx8IDIgPT09IHcpKSByZXR1cm4gYi5hYm9ydCgpOwoJCQkJCXYgPSAiYWJvcnQiOwoJCQkJCWZvciAoYSBpbiB7CgkJCQkJCXN1Y2Nlc3M6IDEsCgkJCQkJCWVycm9yOiAxLAoJCQkJCQljb21wbGV0ZTogMQoJCQkJCX0pIGJbYV0ocFthXSk7CgkJCQkJaWYgKGMgPSBIKEd0LCBwLCB0LCBiKSkgewoJCQkJCQliLnJlYWR5U3RhdGUgPSAxLCBsICYmIHUudHJpZ2dlcigiYWpheFNlbmQiLCBbYiwgcF0pLCBwLmFzeW5jICYmIHAudGltZW91dCA+IDAgJiYgKHMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJYi5hYm9ydCgidGltZW91dCIpCgkJCQkJCX0sIHAudGltZW91dCkpOwoJCQkJCQl0cnkgewoJCQkJCQkJdyA9IDEsIGMuc2VuZChfLCBuKQoJCQkJCQl9IGNhdGNoICh5KSB7CgkJCQkJCQlpZiAoISgyID4gdykpIHRocm93IHk7CgkJCQkJCQluKC0xLCB5KQoJCQkJCQl9CgkJCQkJfSBlbHNlIG4oLTEsICJObyBUcmFuc3BvcnQiKTsKCQkJCQlyZXR1cm4gYgoJCQkJfSwKCQkJCWdldEpTT046IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUuZ2V0KGUsIHQsIG4sICJqc29uIikKCQkJCX0sCgkJCQlnZXRTY3JpcHQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gbGUuZ2V0KGUsIHZvaWQgMCwgdCwgInNjcmlwdCIpCgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsiZ2V0IiwgInBvc3QiXSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGVbdF0gPSBmdW5jdGlvbihlLCBuLCBpLCBhKSB7CgkJCQkJcmV0dXJuIGxlLmlzRnVuY3Rpb24obikgJiYgKGEgPSBhIHx8IGksIGkgPSBuLCBuID0gdm9pZCAwKSwgbGUuYWpheCh7CgkJCQkJCXVybDogZSwKCQkJCQkJdHlwZTogdCwKCQkJCQkJZGF0YVR5cGU6IGEsCgkJCQkJCWRhdGE6IG4sCgkJCQkJCXN1Y2Nlc3M6IGkKCQkJCQl9KQoJCQkJfQoJCQl9KSwgbGUuX2V2YWxVcmwgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gbGUuYWpheCh7CgkJCQkJdXJsOiBlLAoJCQkJCXR5cGU6ICJHRVQiLAoJCQkJCWRhdGFUeXBlOiAic2NyaXB0IiwKCQkJCQlhc3luYzogITEsCgkJCQkJZ2xvYmFsOiAhMSwKCQkJCQkidGhyb3dzIjogITAKCQkJCX0pCgkJCX0sIGxlLmZuLmV4dGVuZCh7CgkJCQl3cmFwQWxsOiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGxlLmlzRnVuY3Rpb24oZSkpIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCkgewoJCQkJCQlsZSh0aGlzKS53cmFwQWxsKGUuY2FsbCh0aGlzLCB0KSkKCQkJCQl9KTsKCQkJCQlpZiAodGhpc1swXSkgewoJCQkJCQl2YXIgdCA9IGxlKGUsIHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApOwoJCQkJCQl0aGlzWzBdLnBhcmVudE5vZGUgJiYgdC5pbnNlcnRCZWZvcmUodGhpc1swXSksIHQubWFwKGZ1bmN0aW9uKCkgewoJCQkJCQkJZm9yICh2YXIgZSA9IHRoaXM7IGUuZmlyc3RDaGlsZCAmJiAxID09PSBlLmZpcnN0Q2hpbGQubm9kZVR5cGU7KSBlID0gZS5maXJzdENoaWxkOwoJCQkJCQkJcmV0dXJuIGUKCQkJCQkJfSkuYXBwZW5kKHRoaXMpCgkJCQkJfQoJCQkJCXJldHVybiB0aGlzCgkJCQl9LAoJCQkJd3JhcElubmVyOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGxlLmlzRnVuY3Rpb24oZSkgPyB0aGlzLmVhY2goZnVuY3Rpb24odCkgewoJCQkJCQlsZSh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsIHQpKQoJCQkJCX0pIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IGxlKHRoaXMpLAoJCQkJCQkJbiA9IHQuY29udGVudHMoKTsKCQkJCQkJbi5sZW5ndGggPyBuLndyYXBBbGwoZSkgOiB0LmFwcGVuZChlKQoJCQkJCX0pCgkJCQl9LAoJCQkJd3JhcDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbGUuaXNGdW5jdGlvbihlKTsKCQkJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pIHsKCQkJCQkJbGUodGhpcykud3JhcEFsbCh0ID8gZS5jYWxsKHRoaXMsIG4pIDogZSkKCQkJCQl9KQoJCQkJfSwKCQkJCXVud3JhcDogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJbGUubm9kZU5hbWUodGhpcywgImJvZHkiKSB8fCBsZSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpCgkJCQkJfSkuZW5kKCkKCQkJCX0KCQkJfSksIGxlLmV4cHIuZmlsdGVycy5oaWRkZW4gPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gZS5vZmZzZXRXaWR0aCA8PSAwICYmIGUub2Zmc2V0SGVpZ2h0IDw9IDAgfHwgIXJlLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpICYmICJub25lIiA9PT0gKGUuc3R5bGUgJiYgZS5zdHlsZS5kaXNwbGF5IHx8IGxlLmNzcyhlLCAiZGlzcGxheSIpKQoJCQl9LCBsZS5leHByLmZpbHRlcnMudmlzaWJsZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCXJldHVybiAhbGUuZXhwci5maWx0ZXJzLmhpZGRlbihlKQoJCQl9OwoJCQl2YXIgWnQgPSAvJTIwL2csCgkJCQlWdCA9IC9cW1xdJC8sCgkJCQlLdCA9IC9ccj9cbi9nLAoJCQkJUXQgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksCgkJCQllbiA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTsKCQkJbGUucGFyYW0gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IFtdLAoJCQkJCWEgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXQgPSBsZS5pc0Z1bmN0aW9uKHQpID8gdCgpIDogbnVsbCA9PSB0ID8gIiIgOiB0LCBpW2kubGVuZ3RoXSA9IGVuY29kZVVSSUNvbXBvbmVudChlKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCh0KQoJCQkJCX07CgkJCQlpZiAodm9pZCAwID09PSB0ICYmICh0ID0gbGUuYWpheFNldHRpbmdzICYmIGxlLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksIGxlLmlzQXJyYXkoZSkgfHwgZS5qcXVlcnkgJiYgIWxlLmlzUGxhaW5PYmplY3QoZSkpIGxlLmVhY2goZSwgZnVuY3Rpb24oKSB7CgkJCQkJYSh0aGlzLm5hbWUsIHRoaXMudmFsdWUpCgkJCQl9KTsKCQkJCWVsc2UKCQkJCQlmb3IgKG4gaW4gZSkgWChuLCBlW25dLCB0LCBhKTsKCQkJCXJldHVybiBpLmpvaW4oIiYiKS5yZXBsYWNlKFp0LCAiKyIpCgkJCX0sIGxlLmZuLmV4dGVuZCh7CgkJCQlzZXJpYWxpemU6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBsZS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpCgkJCQl9LAoJCQkJc2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBsZS5wcm9wKHRoaXMsICJlbGVtZW50cyIpOwoJCQkJCQlyZXR1cm4gZSA/IGxlLm1ha2VBcnJheShlKSA6IHRoaXMKCQkJCQl9KS5maWx0ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpcy50eXBlOwoJCQkJCQlyZXR1cm4gdGhpcy5uYW1lICYmICFsZSh0aGlzKS5pcygiOmRpc2FibGVkIikgJiYgZW4udGVzdCh0aGlzLm5vZGVOYW1lKSAmJiAhUXQudGVzdChlKSAmJiAodGhpcy5jaGVja2VkIHx8ICFxZS50ZXN0KGUpKQoJCQkJCX0pLm1hcChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBuID0gbGUodGhpcykudmFsKCk7CgkJCQkJCXJldHVybiBudWxsID09IG4gPyBudWxsIDogbGUuaXNBcnJheShuKSA/IGxlLm1hcChuLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCW5hbWU6IHQubmFtZSwKCQkJCQkJCQl2YWx1ZTogZS5yZXBsYWNlKEt0LCAiXHJcbiIpCgkJCQkJCQl9CgkJCQkJCX0pIDogewoJCQkJCQkJbmFtZTogdC5uYW1lLAoJCQkJCQkJdmFsdWU6IG4ucmVwbGFjZShLdCwgIlxyXG4iKQoJCQkJCQl9CgkJCQkJfSkuZ2V0KCkKCQkJCX0KCQkJfSksIGxlLmFqYXhTZXR0aW5ncy54aHIgPSB2b2lkIDAgIT09IGEuQWN0aXZlWE9iamVjdCA/IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuICF0aGlzLmlzTG9jYWwgJiYgL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSAmJiBKKCkgfHwgWigpCgkJCX0gOiBKOwoJCQl2YXIgdG4gPSAwLAoJCQkJbm4gPSB7fSwKCQkJCWFuID0gbGUuYWpheFNldHRpbmdzLnhocigpOwoJCQlhLmF0dGFjaEV2ZW50ICYmIGEuYXR0YWNoRXZlbnQoIm9udW5sb2FkIiwgZnVuY3Rpb24oKSB7CgkJCQlmb3IgKHZhciBlIGluIG5uKSBubltlXSh2b2lkIDAsICEwKQoJCQl9KSwgcmUuY29ycyA9ICEhYW4gJiYgIndpdGhDcmVkZW50aWFscyIgaW4gYW4sIGFuID0gcmUuYWpheCA9ICEhYW4sIGFuICYmIGxlLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oZSkgewoJCQkJaWYgKCFlLmNyb3NzRG9tYWluIHx8IHJlLmNvcnMpIHsKCQkJCQl2YXIgdDsKCQkJCQlyZXR1cm4gewoJCQkJCQlzZW5kOiBmdW5jdGlvbihuLCBpKSB7CgkJCQkJCQl2YXIgYSwgbyA9IGUueGhyKCksCgkJCQkJCQkJciA9ICsrdG47CgkJCQkJCQlpZiAoby5vcGVuKGUudHlwZSwgZS51cmwsIGUuYXN5bmMsIGUudXNlcm5hbWUsIGUucGFzc3dvcmQpLCBlLnhockZpZWxkcykKCQkJCQkJCQlmb3IgKGEgaW4gZS54aHJGaWVsZHMpIG9bYV0gPSBlLnhockZpZWxkc1thXTsKCQkJCQkJCWUubWltZVR5cGUgJiYgby5vdmVycmlkZU1pbWVUeXBlICYmIG8ub3ZlcnJpZGVNaW1lVHlwZShlLm1pbWVUeXBlKSwgZS5jcm9zc0RvbWFpbiB8fCBuWyJYLVJlcXVlc3RlZC1XaXRoIl0gfHwgKG5bIlgtUmVxdWVzdGVkLVdpdGgiXSA9ICJYTUxIdHRwUmVxdWVzdCIpOwoJCQkJCQkJZm9yIChhIGluIG4pIHZvaWQgMCAhPT0gblthXSAmJiBvLnNldFJlcXVlc3RIZWFkZXIoYSwgblthXSArICIiKTsKCQkJCQkJCW8uc2VuZChlLmhhc0NvbnRlbnQgJiYgZS5kYXRhIHx8IG51bGwpLCB0ID0gZnVuY3Rpb24obiwgYSkgewoJCQkJCQkJCXZhciBzLCBsLCBjOwoJCQkJCQkJCWlmICh0ICYmIChhIHx8IDQgPT09IG8ucmVhZHlTdGF0ZSkpCgkJCQkJCQkJCWlmIChkZWxldGUgbm5bcl0sIHQgPSB2b2lkIDAsIG8ub25yZWFkeXN0YXRlY2hhbmdlID0gbGUubm9vcCwgYSkgNCAhPT0gby5yZWFkeVN0YXRlICYmIG8uYWJvcnQoKTsKCQkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCQljID0ge30sIHMgPSBvLnN0YXR1cywgInN0cmluZyIgPT0gdHlwZW9mIG8ucmVzcG9uc2VUZXh0ICYmIChjLnRleHQgPSBvLnJlc3BvbnNlVGV4dCk7CgkJCQkJCQkJCQl0cnkgewoJCQkJCQkJCQkJCWwgPSBvLnN0YXR1c1RleHQKCQkJCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQkJCQlsID0gIiIKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCXMgfHwgIWUuaXNMb2NhbCB8fCBlLmNyb3NzRG9tYWluID8gMTIyMyA9PT0gcyAmJiAocyA9IDIwNCkgOiBzID0gYy50ZXh0ID8gMjAwIDogNDA0CgkJCQkJCQkJCX0KCQkJCQkJCQljICYmIGkocywgbCwgYywgby5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkKCQkJCQkJCX0sIGUuYXN5bmMgPyA0ID09PSBvLnJlYWR5U3RhdGUgPyBzZXRUaW1lb3V0KHQpIDogby5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBubltyXSA9IHQgOiB0KCkKCQkJCQkJfSwKCQkJCQkJYWJvcnQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJdCAmJiB0KHZvaWQgMCwgITApCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5hamF4U2V0dXAoewoJCQkJYWNjZXB0czogewoJCQkJCXNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0IgoJCQkJfSwKCQkJCWNvbnRlbnRzOiB7CgkJCQkJc2NyaXB0OiAvKD86amF2YXxlY21hKXNjcmlwdC8KCQkJCX0sCgkJCQljb252ZXJ0ZXJzOiB7CgkJCQkJInRleHQgc2NyaXB0IjogZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gbGUuZ2xvYmFsRXZhbChlKSwgZQoJCQkJCX0KCQkJCX0KCQkJfSksIGxlLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsIGZ1bmN0aW9uKGUpIHsKCQkJCXZvaWQgMCA9PT0gZS5jYWNoZSAmJiAoZS5jYWNoZSA9ICExKSwgZS5jcm9zc0RvbWFpbiAmJiAoZS50eXBlID0gIkdFVCIsIGUuZ2xvYmFsID0gITEpCgkJCX0pLCBsZS5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLCBmdW5jdGlvbihlKSB7CgkJCQlpZiAoZS5jcm9zc0RvbWFpbikgewoJCQkJCXZhciB0LCBuID0geGUuaGVhZCB8fCBsZSgiaGVhZCIpWzBdIHx8IHhlLmRvY3VtZW50RWxlbWVudDsKCQkJCQlyZXR1cm4gewoJCQkJCQlzZW5kOiBmdW5jdGlvbihpLCBhKSB7CgkJCQkJCQl0ID0geGUuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksIHQuYXN5bmMgPSAhMCwgZS5zY3JpcHRDaGFyc2V0ICYmICh0LmNoYXJzZXQgPSBlLnNjcmlwdENoYXJzZXQpLCB0LnNyYyA9IGUudXJsLCB0Lm9ubG9hZCA9IHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCQkJCShuIHx8ICF0LnJlYWR5U3RhdGUgfHwgL2xvYWRlZHxjb21wbGV0ZS8udGVzdCh0LnJlYWR5U3RhdGUpKSAmJiAodC5vbmxvYWQgPSB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGwsIHQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksIHQgPSBudWxsLCBuIHx8IGEoMjAwLCAic3VjY2VzcyIpKQoJCQkJCQkJfSwgbi5pbnNlcnRCZWZvcmUodCwgbi5maXJzdENoaWxkKQoJCQkJCQl9LAoJCQkJCQlhYm9ydDogZnVuY3Rpb24oKSB7CgkJCQkJCQl0ICYmIHQub25sb2FkKHZvaWQgMCwgITApCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0pOwoJCQl2YXIgb24gPSBbXSwKCQkJCXJuID0gLyg9KVw/KD89JnwkKXxcP1w/LzsKCQkJbGUuYWpheFNldHVwKHsKCQkJCWpzb25wOiAiY2FsbGJhY2siLAoJCQkJanNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBvbi5wb3AoKSB8fCBsZS5leHBhbmRvICsgIl8iICsgcXQrKzsKCQkJCQlyZXR1cm4gdGhpc1tlXSA9ICEwLCBlCgkJCQl9CgkJCX0pLCBsZS5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIiwgZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJdmFyIGksIG8sIHIsIHMgPSBlLmpzb25wICE9PSAhMSAmJiAocm4udGVzdChlLnVybCkgPyAidXJsIiA6ICJzdHJpbmciID09IHR5cGVvZiBlLmRhdGEgJiYgIShlLmNvbnRlbnRUeXBlIHx8ICIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSAmJiBybi50ZXN0KGUuZGF0YSkgJiYgImRhdGEiKTsKCQkJCXJldHVybiBzIHx8ICJqc29ucCIgPT09IGUuZGF0YVR5cGVzWzBdID8gKGkgPSBlLmpzb25wQ2FsbGJhY2sgPSBsZS5pc0Z1bmN0aW9uKGUuanNvbnBDYWxsYmFjaykgPyBlLmpzb25wQ2FsbGJhY2soKSA6IGUuanNvbnBDYWxsYmFjaywgcyA/IGVbc10gPSBlW3NdLnJlcGxhY2Uocm4sICIkMSIgKyBpKSA6IGUuanNvbnAgIT09ICExICYmIChlLnVybCArPSAoRXQudGVzdChlLnVybCkgPyAiJiIgOiAiPyIpICsgZS5qc29ucCArICI9IiArIGkpLCBlLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl0gPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gciB8fCBsZS5lcnJvcihpICsgIiB3YXMgbm90IGNhbGxlZCIpLCByWzBdCgkJCQl9LCBlLmRhdGFUeXBlc1swXSA9ICJqc29uIiwgbyA9IGFbaV0sIGFbaV0gPSBmdW5jdGlvbigpIHsKCQkJCQlyID0gYXJndW1lbnRzCgkJCQl9LCBuLmFsd2F5cyhmdW5jdGlvbigpIHsKCQkJCQlhW2ldID0gbywgZVtpXSAmJiAoZS5qc29ucENhbGxiYWNrID0gdC5qc29ucENhbGxiYWNrLCBvbi5wdXNoKGkpKSwgciAmJiBsZS5pc0Z1bmN0aW9uKG8pICYmIG8oclswXSksIHIgPSBvID0gdm9pZCAwCgkJCQl9KSwgInNjcmlwdCIpIDogdm9pZCAwCgkJCX0pLCBsZS5wYXJzZUhUTUwgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQlpZiAoIWUgfHwgInN0cmluZyIgIT0gdHlwZW9mIGUpIHJldHVybiBudWxsOwoJCQkJImJvb2xlYW4iID09IHR5cGVvZiB0ICYmIChuID0gdCwgdCA9ICExKSwgdCA9IHQgfHwgeGU7CgkJCQl2YXIgaSA9IGZlLmV4ZWMoZSksCgkJCQkJYSA9ICFuICYmIFtdOwoJCQkJcmV0dXJuIGkgPyBbdC5jcmVhdGVFbGVtZW50KGlbMV0pXSA6IChpID0gbGUuYnVpbGRGcmFnbWVudChbZV0sIHQsIGEpLCBhICYmIGEubGVuZ3RoICYmIGxlKGEpLnJlbW92ZSgpLCBsZS5tZXJnZShbXSwgaS5jaGlsZE5vZGVzKSkKCQkJfTsKCQkJdmFyIHNuID0gbGUuZm4ubG9hZDsKCQkJbGUuZm4ubG9hZCA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCWlmICgic3RyaW5nIiAhPSB0eXBlb2YgZSAmJiBzbikgcmV0dXJuIHNuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJCQl2YXIgaSwgYSwgbywgciA9IHRoaXMsCgkJCQkJcyA9IGUuaW5kZXhPZigiICIpOwoJCQkJcmV0dXJuIHMgPj0gMCAmJiAoaSA9IGxlLnRyaW0oZS5zbGljZShzLCBlLmxlbmd0aCkpLCBlID0gZS5zbGljZSgwLCBzKSksIGxlLmlzRnVuY3Rpb24odCkgPyAobiA9IHQsIHQgPSB2b2lkIDApIDogdCAmJiAib2JqZWN0IiA9PSB0eXBlb2YgdCAmJiAobyA9ICJQT1NUIiksIHIubGVuZ3RoID4gMCAmJiBsZS5hamF4KHsKCQkJCQl1cmw6IGUsCgkJCQkJdHlwZTogbywKCQkJCQlkYXRhVHlwZTogImh0bWwiLAoJCQkJCWRhdGE6IHQKCQkJCX0pLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCWEgPSBhcmd1bWVudHMsIHIuaHRtbChpID8gbGUoIjxkaXY+IikuYXBwZW5kKGxlLnBhcnNlSFRNTChlKSkuZmluZChpKSA6IGUpCgkJCQl9KS5jb21wbGV0ZShuICYmIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyLmVhY2gobiwgYSB8fCBbZS5yZXNwb25zZVRleHQsIHQsIGVdKQoJCQkJfSksIHRoaXMKCQkJfSwgbGUuZWFjaChbImFqYXhTdGFydCIsICJhamF4U3RvcCIsICJhamF4Q29tcGxldGUiLCAiYWpheEVycm9yIiwgImFqYXhTdWNjZXNzIiwgImFqYXhTZW5kIl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWxlLmZuW3RdID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLm9uKHQsIGUpCgkJCQl9CgkJCX0pLCBsZS5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gbGUuZ3JlcChsZS50aW1lcnMsIGZ1bmN0aW9uKHQpIHsKCQkJCQlyZXR1cm4gZSA9PT0gdC5lbGVtCgkJCQl9KS5sZW5ndGgKCQkJfTsKCQkJdmFyIGxuID0gYS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkJCXJldHVybiBsZS5vZmZzZXQgPSB7CgkJCQlzZXRPZmZzZXQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCwgYywgZCA9IGxlLmNzcyhlLCAicG9zaXRpb24iKSwKCQkJCQkJcCA9IGxlKGUpLAoJCQkJCQloID0ge307CgkJCQkJInN0YXRpYyIgPT09IGQgJiYgKGUuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiKSwgcyA9IHAub2Zmc2V0KCksIG8gPSBsZS5jc3MoZSwgInRvcCIpLCBsID0gbGUuY3NzKGUsICJsZWZ0IiksIGMgPSAoImFic29sdXRlIiA9PT0gZCB8fCAiZml4ZWQiID09PSBkKSAmJiBsZS5pbkFycmF5KCJhdXRvIiwgW28sIGxdKSA+IC0xLCBjID8gKGkgPSBwLnBvc2l0aW9uKCksIHIgPSBpLnRvcCwgYSA9IGkubGVmdCkgOiAociA9IHBhcnNlRmxvYXQobykgfHwgMCwgYSA9IHBhcnNlRmxvYXQobCkgfHwgMCksIGxlLmlzRnVuY3Rpb24odCkgJiYgKHQgPSB0LmNhbGwoZSwgbiwgcykpLCBudWxsICE9IHQudG9wICYmIChoLnRvcCA9IHQudG9wIC0gcy50b3AgKyByKSwgbnVsbCAhPSB0LmxlZnQgJiYgKGgubGVmdCA9IHQubGVmdCAtIHMubGVmdCArIGEpLCAidXNpbmciIGluIHQgPyB0LnVzaW5nLmNhbGwoZSwgaCkgOiBwLmNzcyhoKQoJCQkJfQoJCQl9LCBsZS5mbi5leHRlbmQoewoJCQkJb2Zmc2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB2b2lkIDAgPT09IGUgPyB0aGlzIDogdGhpcy5lYWNoKGZ1bmN0aW9uKHQpIHsKCQkJCQkJbGUub2Zmc2V0LnNldE9mZnNldCh0aGlzLCBlLCB0KQoJCQkJCX0pOwoJCQkJCXZhciB0LCBuLCBpID0gewoJCQkJCQkJdG9wOiAwLAoJCQkJCQkJbGVmdDogMAoJCQkJCQl9LAoJCQkJCQlhID0gdGhpc1swXSwKCQkJCQkJbyA9IGEgJiYgYS5vd25lckRvY3VtZW50OwoJCQkJCWlmIChvKSByZXR1cm4gdCA9IG8uZG9jdW1lbnRFbGVtZW50LCBsZS5jb250YWlucyh0LCBhKSA/ICh0eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09IENlICYmIChpID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIG4gPSBWKG8pLCB7CgkJCQkJCXRvcDogaS50b3AgKyAobi5wYWdlWU9mZnNldCB8fCB0LnNjcm9sbFRvcCkgLSAodC5jbGllbnRUb3AgfHwgMCksCgkJCQkJCWxlZnQ6IGkubGVmdCArIChuLnBhZ2VYT2Zmc2V0IHx8IHQuc2Nyb2xsTGVmdCkgLSAodC5jbGllbnRMZWZ0IHx8IDApCgkJCQkJfSkgOiBpCgkJCQl9LAoJCQkJcG9zaXRpb246IGZ1bmN0aW9uKCkgewoJCQkJCWlmICh0aGlzWzBdKSB7CgkJCQkJCXZhciBlLCB0LCBuID0gewoJCQkJCQkJCXRvcDogMCwKCQkJCQkJCQlsZWZ0OiAwCgkJCQkJCQl9LAoJCQkJCQkJaSA9IHRoaXNbMF07CgkJCQkJCXJldHVybiAiZml4ZWQiID09PSBsZS5jc3MoaSwgInBvc2l0aW9uIikgPyB0ID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IChlID0gdGhpcy5vZmZzZXRQYXJlbnQoKSwgdCA9IHRoaXMub2Zmc2V0KCksIGxlLm5vZGVOYW1lKGVbMF0sICJodG1sIikgfHwgKG4gPSBlLm9mZnNldCgpKSwgbi50b3AgKz0gbGUuY3NzKGVbMF0sICJib3JkZXJUb3BXaWR0aCIsICEwKSwgbi5sZWZ0ICs9IGxlLmNzcyhlWzBdLCAiYm9yZGVyTGVmdFdpZHRoIiwgITApKSwgewoJCQkJCQkJdG9wOiB0LnRvcCAtIG4udG9wIC0gbGUuY3NzKGksICJtYXJnaW5Ub3AiLCAhMCksCgkJCQkJCQlsZWZ0OiB0LmxlZnQgLSBuLmxlZnQgLSBsZS5jc3MoaSwgIm1hcmdpbkxlZnQiLCAhMCkKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQlvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHsKCQkJCQkJZm9yICh2YXIgZSA9IHRoaXMub2Zmc2V0UGFyZW50IHx8IGxuOyBlICYmICFsZS5ub2RlTmFtZShlLCAiaHRtbCIpICYmICJzdGF0aWMiID09PSBsZS5jc3MoZSwgInBvc2l0aW9uIik7KSBlID0gZS5vZmZzZXRQYXJlbnQ7CgkJCQkJCXJldHVybiBlIHx8IGxuCgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmVhY2goewoJCQkJc2Nyb2xsTGVmdDogInBhZ2VYT2Zmc2V0IiwKCQkJCXNjcm9sbFRvcDogInBhZ2VZT2Zmc2V0IgoJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiA9IC9ZLy50ZXN0KHQpOwoJCQkJbGUuZm5bZV0gPSBmdW5jdGlvbihpKSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKGUsIGksIGEpIHsKCQkJCQkJdmFyIG8gPSBWKGUpOwoJCQkJCQlyZXR1cm4gdm9pZCAwID09PSBhID8gbyA/IHQgaW4gbyA/IG9bdF0gOiBvLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtpXSA6IGVbaV0gOiB2b2lkKG8gPyBvLnNjcm9sbFRvKG4gPyBsZShvKS5zY3JvbGxMZWZ0KCkgOiBhLCBuID8gYSA6IGxlKG8pLnNjcm9sbFRvcCgpKSA6IGVbaV0gPSBhKQoJCQkJCX0sIGUsIGksIGFyZ3VtZW50cy5sZW5ndGgsIG51bGwpCgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsidG9wIiwgImxlZnQiXSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuY3NzSG9va3NbdF0gPSBUKHJlLnBpeGVsUG9zaXRpb24sIGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQlyZXR1cm4gbiA/IChuID0gb3QoZSwgdCksIHN0LnRlc3QobikgPyBsZShlKS5wb3NpdGlvbigpW3RdICsgInB4IiA6IG4pIDogdm9pZCAwCgkJCQl9KQoJCQl9KSwgbGUuZWFjaCh7CgkJCQlIZWlnaHQ6ICJoZWlnaHQiLAoJCQkJV2lkdGg6ICJ3aWR0aCIKCQkJfSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuZWFjaCh7CgkJCQkJcGFkZGluZzogImlubmVyIiArIGUsCgkJCQkJY29udGVudDogdCwKCQkJCQkiIjogIm91dGVyIiArIGUKCQkJCX0sIGZ1bmN0aW9uKG4sIGkpIHsKCQkJCQlsZS5mbltpXSA9IGZ1bmN0aW9uKGksIGEpIHsKCQkJCQkJdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoICYmIChuIHx8ICJib29sZWFuIiAhPSB0eXBlb2YgaSksCgkJCQkJCQlyID0gbiB8fCAoaSA9PT0gITAgfHwgYSA9PT0gITAgPyAibWFyZ2luIiA6ICJib3JkZXIiKTsKCQkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhOwoJCQkJCQkJcmV0dXJuIGxlLmlzV2luZG93KHQpID8gdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIgKyBlXSA6IDkgPT09IHQubm9kZVR5cGUgPyAoYSA9IHQuZG9jdW1lbnRFbGVtZW50LCBNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIgKyBlXSwgYVsic2Nyb2xsIiArIGVdLCB0LmJvZHlbIm9mZnNldCIgKyBlXSwgYVsib2Zmc2V0IiArIGVdLCBhWyJjbGllbnQiICsgZV0pKSA6IHZvaWQgMCA9PT0gaSA/IGxlLmNzcyh0LCBuLCByKSA6IGxlLnN0eWxlKHQsIG4sIGksIHIpCgkJCQkJCX0sIHQsIG8gPyBpIDogdm9pZCAwLCBvLCBudWxsKQoJCQkJCX0KCQkJCX0pCgkJCX0pLCBsZS5mbi5zaXplID0gZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gdGhpcy5sZW5ndGgKCQkJfSwgbGUuZm4uYW5kU2VsZiA9IGxlLmZuLmFkZEJhY2ssIGkgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiBsZQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSksIGxlCgkJfSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOCksCgkJCQlvID0gbig5KSwKCQkJCXIgPSBuKDEzKSwKCQkJCXMgPSBuKDE0KSwKCQkJCWwgPSBuKDE2KSwKCQkJCWMgPSB7fSwKCQkJCWQgPSBuKDE3KSwKCQkJCXAgPSB7CgkJCQkJIjM2MGJ1eSI6IHsKCQkJCQkJIiNKX3NlYXJjaFdyYXAiOiBbIiNKX3NlYXJjaFdyYXAiLCAiYWZ0ZXIiXSwKCQkJCQkJIiNKX2dvb2RzX2Jlc3QiOiBbIiNKX2dvb2RzX2Jlc3QiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCWFtYXpvbjogewoJCQkJCQkiI2NlbnRlckJlbG93TWludXMiOiBbIiNjZW50ZXJCZWxvd01pbnVzIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCSI1MWJ1eSI6IHsKCQkJCQkJIiNwYWdlQmFyQm90dG9tIjogWyIjcGFnZUJhckJvdHRvbSIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlzdW5pbmc6IHsKCQkJCQkJIiNzZWxsZXJTZWxlY3QiOiBbIiNzZWxsZXJTZWxlY3QiLCAiYmVmb3JlIl0sCgkJCQkJCSIucHJvaW5mby1jb250YWluZXIiOiBbIi5wcm9pbmZvLWNvbnRhaW5lciIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlkYW5nZGFuZzogewoJCQkJCQkiLnNlYXJjaF9zZWFyY2hfYm94X3dyYXAiOiBbIi5zZWFyY2hfc2VhcmNoX2JveF93cmFwIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCWdvbWU6IHsKCQkJCQkJIiNuU2VhcmNoLXF1ZXNzWW91TGlrZSI6IFsiI25TZWFyY2gtcXVlc3NZb3VMaWtlIiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IHsKCQkJCQkJIiNob3RQcm9kdWN0c1dyYXAiOiBbIiNob3RQcm9kdWN0c1dyYXAiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCWp1bWVpOiB7CgkJCQkJCSIjc2VhcmNoX2xpc3Rfd3JhcCI6IFsiI3NlYXJjaF9saXN0X3dyYXAiLCAiYWZ0ZXIiXQoJCQkJCX0sCgkJCQkJdm1hbGw6IHsKCQkJCQkJIi5jaGFubmVsLWxpc3QiOiBbIi5jaGFubmVsLWxpc3QiLCAiYWZ0ZXIiXQoJCQkJCX0sCgkJCQkJZmVpbml1OiB7CgkJCQkJCSIjd2FycHBlciI6IFsiI3dhcnBwZXIiLCAiYXBwZW5kIl0KCQkJCQl9LAoJCQkJCXlvdWdvdTogewoJCQkJCQkiLm5ld1BhZ2UiOiBbIi5uZXdQYWdlIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCWthb2xhOiB7CgkJCQkJCSIjZ3Vlc3MiOiBbIiNndWVzcyIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQl6b2w6IHsKCQkJCQkJIi5wYWdlLWJveCI6IFsiLnBhZ2UtYm94IiwgImFmdGVyIl0KCQkJCQl9CgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKCkgewoJCQkJCWlmIChwW3Quc2l0ZV0pIHsKCQkJCQkJdmFyIGUgPSBwW3Quc2l0ZV07CgkJCQkJCWZvciAodmFyIG4gaW4gZSkKCQkJCQkJCWlmIChpKGVbbl0pLmxlbmd0aCA+IDApIHJldHVybiBlW25dCgkJCQkJfQoJCQkJCXJldHVybiAhMQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJc3dpdGNoIChuKSB7CgkJCQkJCWNhc2UgImJlZm9yZSI6CgkJCQkJCQlpKHQpLmJlZm9yZShlKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJhcHBlbmQiOgoJCQkJCQkJaSh0KS5hcHBlbmQoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiYWZ0ZXIiOgoJCQkJCQkJaSh0KS5hZnRlcihlKQoJCQkJCX0KCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aCB8fCAwLCBuID0gMDsgdCA+IG47IG4rKykgewoJCQkJCQl2YXIgaSA9IChOdW1iZXIoZVtuXS5wcmljZSkgLyAxMDApLnRvU3RyaW5nKCk7IC0gMSA9PSBpLmluZGV4T2YoIi4iKSA/IGVbbl0ucHJpY2UgPSBpICsgIi4wMCIgOiBpLm1hdGNoKC9cLlswLTldezJ9LykgPyBlW25dLnByaWNlID0gaSA6IGVbbl0ucHJpY2UgPSBpICsgIjAiCgkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoMCA9PSBlLmxlbmd0aCkgcmV0dXJuIGU7CgkJCQkJZm9yICh2YXIgaSA9IG4oMTgpLCBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIHsKCQkJCQkJdmFyIG8gPSB7CgkJCQkJCQlzaXRlX2lkOiBlW2FdLnNpdGVfaWQsCgkJCQkJCQl1cmw6IGVbYV0udXJsLAoJCQkJCQkJbW9kOiAic2VhcmNoX3p1aWRpamlhIiwKCQkJCQkJCXVuaW9uOiB0LnVuaW9uLnNwbGl0KCJfIilbMV0sCgkJCQkJCQlkcF9pZDogZVthXS51cmxfY3JjICsgIi0iICsgZVthXS5zaXRlX2lkCgkJCQkJCX07CgkJCQkJCWVbYV0udXJsID0gaS5pbml0KG8pCgkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJZyA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9sb3cgLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9jb250ZW50Iikud2lkdGgoKSwKCQkJCQkJbiA9IGUgLSAxMjQgLSA0OwoJCQkJCWkoIi5pbm5lcl9wcm9fbGlzdCIpLndpZHRoKG4pLCBfKG4pCgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQllID0gZSB8fCAwOwoJCQkJCXZhciBuID0gYy5kYXRhLmxlbmd0aCB8fCAwLAoJCQkJCQlhID0gcGFyc2VJbnQoZSAvIDE5MiksCgkJCQkJCW8gPSBuICUgYSA9PSAwID8gbiAvIGEgOiBwYXJzZUludChuIC8gYSkgKyAxOwoJCQkJCWMudG90YWwgPSBvLCBjLnBlciA9IGEsIGMuY29udyA9IGUsIGkoIi50b3RhbF9wYWdlIikudGV4dChvKSwgMSA9PSBvICYmIGkoIi4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfY29udGVudCAudHVybnBhZ2UiKS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIikKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmIChlID0gZS5zbGljZSgwLCA1KSwgZSAmJiAwICE9IGUubGVuZ3RoKSB7CgkJCQkJCXZhciBpID0gZVswXS5tYXRjaCgvWzAtOV0rLShbMC05XSspLyk7CgkJCQkJCWkgJiYgKGkgPSBpWzFdKSwgZSA9IGUuam9pbigiLCIpOwoJCQkJCQl2YXIgYSA9IHQuc2VydmVyICsgIi9icndleHQvZ3Vlc3NfZmF2b3I/ZHBfaWQ9JmRwX2lkcz0iICsgZSArICImc2l0ZV9pZD0iICsgaSArICImY29sdW1uPWFsc292aWV3IjsKCQkJCQkJby5nZXQoYSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQluKCJmYXZvciIsIG0oZSkpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoYy5wZXIgJiYgMCAhPSBjLnBlcikgewoJCQkJCQl2YXIgZSA9IGMuY29udyAtIDE5MiAqIGMucGVyLAoJCQkJCQkJdCA9IHBhcnNlSW50KGUgLyA0KTsKCQkJCQkJaSgnLmlubmVyX3Byb19saXN0IGxpOm5vdCgiLmxpX2ZpcnN0IiknKS5jc3MoIm1hcmdpbi1sZWZ0IiwgdCArIDEyICsgInB4IikKCQkJCQl9CgkJCQl9LAoJCQkJdiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IGMuZGF0YS5zbGljZSgoZSAtIDEpICogYy5wZXIsIGUgKiBjLnBlcik7CgkJCQkJYih0KQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIGEgPSBuKDE5KSwKCQkJCQkJbyA9IGwuY29tcGlsZShhKSh7CgkJCQkJCQlkYXRhOiBlCgkJCQkJCX0pOwoJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfbG93IC5pbm5lcl9wcm9fbGlzdCB1bCIpLmVtcHR5KCkuYXBwZW5kKG8pLCB3KCkKCQkJCX0sCgkJCQl5ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gTnVtYmVyKGkoIi4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfcGFnZSAuY3VyX3BhZ2UiKS50ZXh0KCkpOwoJCQkJCTEgPT09IGUgPyAobiA9PSBjLnRvdGFsICYmIChuID0gMCksIGkoIi4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfcGFnZSAuY3VyX3BhZ2UiKS50ZXh0KCsrbiksIHYobikpIDogKDEgPT0gbiAmJiAobiA9IGMudG90YWwgKyAxKSwgaSgiLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9wYWdlIC5jdXJfcGFnZSIpLnRleHQoLS1uKSwgdihuKSkKCQkJCX0sCgkJCQlrID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykKCQkJCQkJaWYgKCIwIiA9PSBlW3RdLmRpc2NvdW50LnRvU3RyaW5nKCkuc2xpY2UoMCwgMSkpIHsKCQkJCQkJCXZhciBuID0gTWF0aC5yb3VuZCgxMDAgKiBlW3RdLmRpc2NvdW50KSAvIDEwOyAtIDEgPT0gbi50b1N0cmluZygpLmluZGV4T2YoIi4iKSAmJiAobiArPSAiLjAiKSwgZVt0XS5uZXdkaXNjb3VudCA9IG4KCQkJCQkJfSBlbHNlIGVbdF0ubmV3ZGlzY291bnQgPSBlW3RdLmRpc2NvdW50OwoJCQkJCXJldHVybiBlLnNvcnQoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gTnVtYmVyKGUuZGlzY291bnQpID4gdC5kaXNjb3VudCA/IDEgOiBlLmRpc2NvdW50ID09IHQuZGlzY291bnQgPyAwIDogLTEKCQkJCQl9KSwgZQoJCQkJfSwKCQkJCXogPSBmdW5jdGlvbigpIHsKCQkJCQlpKCIuaW5uZXJfcGFnZV9sZWZ0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXkoLTEpCgkJCQkJfSksIGkoIi5pbm5lcl9wYWdlX3JpZ2h0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXkoMSkKCQkJCQl9KQoJCQkJfSwKCQkJCUIgPSBmdW5jdGlvbihlLCBpKSB7CgkJCQkJdmFyIGEgPSBoKCk7CgkJCQkJaWYgKGEgIT09ICExICYmIDAgIT0gaS5sZW5ndGgpIHsKCQkJCQkJdmFyIG8gPSBuKDIwKTsKCQkJCQkJYy5kYXRhID0gaTsKCQkJCQkJdmFyIHMgPSBsLmNvbXBpbGUobykoewoJCQkJCQkJZGF0YTogaSwKCQkJCQkJCXR5cGU6IGUsCgkJCQkJCQlzX3NlcnZlcjogdC5zZXJ2ZXIsCgkJCQkJCQluZXdfZXh0ZW5zaW9uOiB0Lm5ld19leHRlbnNpb24sCgkJCQkJCQludW06IGkubGVuZ3RoLAoJCQkJCQkJZXh0TmFtZTogdC5leHROYW1lLAoJCQkJCQkJZXh0QnJhbmQ6IHQuZXh0QnJhbmQKCQkJCQkJfSk7CgkJCQkJCXUocywgYVswXSwgYVsxXSksIHIubG9nKGUgKyAi5YiX6KGo6aG15bWM5YWl5bGV56S6IiksIEMoKSwgZygpLCB2KDEpLCB6KCkKCQkJCQl9CgkJCQl9LAoJCQkJaiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkwICE9IHQgPyBzLmdldGxMb3dlc3QoZnVuY3Rpb24odCkgewoJCQkJCQkwID09IHQubGVuZ3RoICYmIDAgIT0gZSA/IGEuZ2V0KGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUgPSBmKGUpLCBlICYmIDAgIT0gZS5sZW5ndGggJiYgQigibG93IiwgayhlKSkKCQkJCQkJfSkgOiAwICE9IHQubGVuZ3RoID8gQigiZmF2b3IiLCB0KSA6IHgoYS5nZXREcElkcygpLCBCKQoJCQkJCX0pIDogMCAhPSBlICYmIGEuZ2V0KGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSA9IGYoZSksIGUgJiYgMCAhPSBlLmxlbmd0aCAmJiB4KGEuZ2V0RHBJZHMoKSwgQikKCQkJCQl9KQoJCQkJfSwKCQkJCUMgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoImRhbmdkYW5nIiA9PSB0LnNpdGUpIHsKCQkJCQkJdmFyIGUgPSBpKCIjMTI4MDguY2xvdGhfZ29vZF9zb3J0Iikub3V0ZXJXaWR0aCgpOwoJCQkJCQllID4gMCAmJiBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvdyIpLndpZHRoKGUpCgkJCQkJfQoJCQkJCWlmICgiMzYwYnV5IiA9PSB0LnNpdGUpIHsKCQkJCQkJdmFyIGUgPSBpKCIjSl9zZWFyY2hXcmFwIikub3V0ZXJXaWR0aCgpOwoJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvdyIpLndpZHRoKGUpLmNzcygibWFyZ2luIiwgIjEwcHggYXV0byIpCgkJCQkJfQoJCQkJfSwKCQkJCVMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJaWYgKDAgIT0gdC5sZW5ndGgpIHsKCQkJCQkJdmFyIGkgPSB2b2lkIDA7CgkJCQkJCWkgPSBuKCJsb3ciID09IGUgPyAyMSA6IDIyKTsKCQkJCQkJdmFyIGEgPSBuKDIzKSwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJaXRlbWg6ICJsb3ciID09IGUgPyAxNTQgOiAxNDAsCgkJCQkJCQkJdHlwZTogZSwKCQkJCQkJCQlvdGhlcmg6ICJsb3ciID09IGUgPyAzMzAgOiAzMDAsCgkJCQkJCQkJc29ydEZvcmJpdDogITAsCgkJCQkJCQkJbGVuOiB0Lmxlbmd0aCwKCQkJCQkJCQlmb2xkRm9yYml0OiAhMAoJCQkJCQkJfTsKCQkJCQkJYS5pbml0KHQsIGksIG8pCgkJCQkJfQoJCQkJfSwKCQkJCU4gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJMCAhPSB0ID8gcy5nZXRsTG93ZXN0KGZ1bmN0aW9uKHQpIHsKCQkJCQkJMCA9PSB0Lmxlbmd0aCAmJiAwICE9IGUgPyBhLmdldChmdW5jdGlvbihlKSB7CgkJCQkJCQllID0gZihlKSwgZSAmJiAwICE9IGUubGVuZ3RoICYmIFMoImxvdyIsIGsoZSkpCgkJCQkJCX0pIDogMCAhPSB0Lmxlbmd0aCA/IFMoImZhdm9yIiwgdCkgOiB4KGEuZ2V0RHBJZHMoKSwgUykKCQkJCQl9KSA6IDAgIT0gZSAmJiBhLmdldChmdW5jdGlvbihlKSB7CgkJCQkJCWUgPSBmKGUpLCBlICYmIDAgIT0gZS5sZW5ndGggJiYgUygibG93IiwgayhlKSkKCQkJCQl9KQoJCQkJfSwKCQkJCVQgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGQuZ2V0KCJzaG93X2xvd3ByaV9yaWdodCIpLAoJCQkJCQl0ID0gZC5nZXQoInNob3dfZ3Vlc3NmYXZvcl9yaWdodCIpOwoJCQkJCWkod2luZG93KS53aWR0aCgpIDwgMWUzID8gaihlLCB0KSA6IE4oZSwgdCkKCQkJCX0sCgkJCQlQID0gZnVuY3Rpb24oKSB7CgkJCQkJVCgpCgkJCQl9OwoJCQllLmV4cG9ydHMuX2luaXQgPSBmdW5jdGlvbigpIHsKCQkJCXQub24oInBlcm1hbmVudF9pZCIsIGZ1bmN0aW9uKCkgewoJCQkJCSgibWlfbmV3IiAhPSB0LmZyb21fZGV2aWNlIHx8IDIgIT0gdC5wYWdlSW5mby50eXBlKSAmJiAiZWZvdGlsZSIgIT0gdC5zaXRlICYmIFAoKQoJCQkJfSkKCQkJfSwgZS5leHBvcnRzLmdldFB1cmVNZWRpYXYgPSBmdW5jdGlvbigpIHsKCQkJCSJ0bHhzIiAhPT0gdC5mcm9tX2RldmljZSAmJiBzLmdldGxMb3dlc3QoZnVuY3Rpb24oZSkgewoJCQkJCWUgJiYgMCAhPSBlLmxlbmd0aCAmJiBTKCJmYXZvciIsIGUpCgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig5KSwKCQkJCWEgPSBuKDEwKSwKCQkJCW8gPSBuKDEyKSwKCQkJCXIgPSB2b2lkIDAsCgkJCQlzID0gW10sCgkJCQlsID0gdm9pZCAwLAoJCQkJYyA9IHZvaWQgMCwKCQkJCWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKCFlLmxlbmd0aCkgcmV0dXJuIGU7CgkJCQkJZm9yICh2YXIgdCA9IHsKCQkJCQkJaW5kZXg6IDAsCgkJCQkJCWRpc2NvdW50OiAxMAoJCQkJCX0sIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgTnVtYmVyKGVbbl0uZGlzY291bnQpIDwgdC5kaXNjb3VudCAmJiAodC5kaXNjb3VudCA9IE51bWJlcihlW25dLmRpc2NvdW50KSwgdC5pbmRleCA9IG4pOwoJCQkJCXJldHVybiBlW3QuaW5kZXhdLmhpZ2hlc3RfZGlzY291bnQgPSAhMCwgZQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKHMubGVuZ3RoID4gMCkKCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBzLmxlbmd0aDsgdCsrKSBzW3RdKGUpCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gITA7IHQ7KSB7CgkJCQkJCXZhciBuID0gZTsKCQkJCQkJdCA9ICExOwoJCQkJCQl2YXIgaSA9IG4ubGVuZ3RoLAoJCQkJCQkJYSA9IEpTT04uc3RyaW5naWZ5KG4pOwoJCQkJCQlpZiAoIShhLmxlbmd0aCA+IDVlMykpIHJldHVybiBhOwoJCQkJCQllID0gbi5zbGljZSgwLCBpIC0gMTApLCB0ID0gITAsIGkgPSBhID0gdm9pZCAwCgkJCQkJfQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBoKGUpOwoJCQkJCWkuZ2V0KHQuc2VydmVyICsgIi9icndleHQvbG93ZXN0P29wPWdldCZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSArICImdXJscz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEpKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGMgPSBlLmFsbF9kcF9pZHMsICFlLnJlc3VsdCB8fCAwID09PSBlLnJlc3VsdC5sZW5ndGgpIHJldHVybiBuKFtdKSwgdm9pZCBwKFtdKTsKCQkJCQkJdmFyIHQgPSBbXTsKCQkJCQkJZm9yICh2YXIgaSBpbiBlLnJlc3VsdCkgdC5wdXNoKGUucmVzdWx0W2ldKTsKCQkJCQkJdCA9IG8odCksIHIgPSB0LCBuKHQpLCBwKHQpCgkJCQkJfSkuZmFpbChmdW5jdGlvbihlKSB7CgkJCQkJCW4oW10pLCBwKFtdKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuZ2V0RHBJZHMgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiBjCgkJCX0sIGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobCkgcmV0dXJuIHZvaWQociA/IGUocikgOiBzLnB1c2goZSkpOwoJCQkJbCA9ICEwOwoJCQkJdmFyIHQgPSBhLmluaXQoNTApOwoJCQkJdCAmJiAwICE9IHQubGVuZ3RoICYmIHUodCwgZnVuY3Rpb24odCkgewoJCQkJCXQgPSBkKHQpLCBlKHQpCgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig2KSwKCQkJCWEgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKCFlKSB0aHJvdyBuZXcgRXJyb3IoInVybCDkuI3og73kuLrnqboiKTsKCQkJCQl2YXIgbiA9ICI/IiwKCQkJCQkJaSA9ICJjYWxsYmFjaz0/JiI7CgkJCQkJZS5pbmRleE9mKCI/IikgPiAtMSAmJiAobiA9ICImIik7CgkJCQkJdmFyIGEsIG8gPSAiZm9ybWF0PWpzb25wJiI7CgkJCQkJcmV0dXJuICh0LmNocm9tZV9leHRlbnNpb24gfHwgIm1heHRob24iID09PSB0LmZyb21fZGV2aWNlKSAmJiAoYSA9ICEwKSwgYSAmJiAoaSA9ICIiLCBvID0gImZvcm1hdD1qc29uJiIpLCAiIiArIGUgKyBuICsgaSArIG8KCQkJCX07CgkJCWUuZXhwb3J0cy5yYXcgPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgdCwgbiA9IHsKCQkJCQkJZG9uZTogZnVuY3Rpb24oZSkgewoJCQkJCQkJdCA9IGUKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaSA9IG5ldyBYTUxIdHRwUmVxdWVzdDsKCQkJCXJldHVybiBpLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpIHsKCQkJCQl0ICYmIHQoaS5yZXNwb25zZVRleHQpCgkJCQl9KSwgaS5vcGVuKCJHRVQiLCBlLCAhMCksIGkuc2VuZCgpLCBuCgkJCX0sIGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gZSA9IGEoZSkgKyAidW5pb249IiArIHQudW5pb24gKyAiJnZlcnNpb249IiArIHQudmVyc2lvbiArICImZnJvbV9kZXZpY2U9IiArIHQuZnJvbV9kZXZpY2UsIHQuY3JjNjQgJiYgKGUgKz0gIiZjcmM2ND0xIiksIGkuZ2V0SlNPTihlKQoJCQl9LCBlLmV4cG9ydHMuZ2V0UHVyZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCXJldHVybiBlID0gYShlKSwgaS5nZXRKU09OKGUpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDExKSwKCQkJCWEgPSBuKDUpLAoJCQkJbyA9IHZvaWQgMCwKCQkJCXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgdCA9IHsKCQkJCQkJZGF0YTogW10sCgkJCQkJCXVuaXF1ZToge30KCQkJCQl9LCBuID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZSkgewoJCQkJCQkJdmFyIHQgPSBlLmluZGV4T2YoIiMiKSA+IC0xOwoJCQkJCQkJcmV0dXJuIHQgJiYgKGUgPSBlLnNsaWNlKDAsIHQpKSwgMCA9PT0gZS5pbmRleE9mKCIvLyIpID8gImh0dHA6IiArIGUgOiAwID09PSBlLmluZGV4T2YoIi8iKSA/ICIiICsgbG9jYXRpb24uaG9zdCArIGUgOiBlCgkJCQkJCX0KCQkJCQl9LCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspCgkJCQkJCWlmIChlW2ldKSB7CgkJCQkJCQl2YXIgbyA9IG4oZVtpXSk7CgkJCQkJCQlvICYmIGEuaXNQcm9kdWN0UGFnZShvKSAmJiAhdC51bmlxdWVbb10gJiYgKHQudW5pcXVlW29dID0gITAsIHQuZGF0YS5wdXNoKG8pKQoJCQkJCQl9CgkJCQkJcmV0dXJuIHQuZGF0YQoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJZm9yICh2YXIgaSA9IHZvaWQgMCwgYSA9IGUubGVuZ3RoLCBvID0gMDsgYSA+IG87IG8rKykgewoJCQkJCQl2YXIgciA9IGVbb107CgkJCQkJCWlmIChpID0gdChyICsgIiBhIiksIGkubGVuZ3RoKSBicmVhawoJCQkJCX0KCQkJCQlyZXR1cm4gbihpKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobykgcmV0dXJuIGUgPyBvLnNsaWNlKDAsIGUpIDogbzsKCQkJCXZhciB0ID0gaS5jaGVjaygpOwoJCQkJaWYgKHQgJiYgKCF0IHx8IHQubGVuZ3RoKSkgewoJCQkJCXZhciBuID0gW107CgkJCQkJcmV0dXJuIHModCwgZnVuY3Rpb24odCkgewoJCQkJCQl0LmVhY2goZnVuY3Rpb24oZSwgdCwgaSkgewoJCQkJCQkJdmFyIGEgPSB0LmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoJCQkJCQkJYSAmJiBuLnB1c2goYSkKCQkJCQkJfSksIG4gPSByKG4pLCBvID0gbiwgbiA9IG4uc2xpY2UoMCwgZSkKCQkJCQl9KSwgbgoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBuID0gewoJCQkJCSIzNjBidXkiOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLmpkXC5jb21cL3BpbnBhaVwvLipcLmh0bWwvLCAiI0pfZ29vZHNMaXN0IiwgIiNwbGlzdCAubGlzdC1oIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmpkXC5jb21cL1NlYXJjaFw/a2V5d29yZC9pLCAiI0pfZ29vZHNMaXN0IGxpIiwgIiNwbGlzdCAubGlzdC1oIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9saXN0XC5qZFwuY29tLywgIiNKX21haW4gbGkiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NhbGVcLmpkXC5jb20vLCAiZGl2LmxheW91dGNvbnRhaW5lciAubGF5b3V0YXJlYSAubGF5b3V0IC5sYXlvdXRfb25lIl0KCQkJCQldLAoJCQkJCSI1MWJ1eSI6IFsKCQkJCQkJWy9odHRwOlwvXC9zZWFyY2hleFwueWl4dW5cLmNvbS8sICIjY29udGFpbmVyIC5nb29kcyJdLAoJCQkJCQlbL2h0dHA6XC9cL2V2ZW50XC55aXh1blwuY29tLywgInVsLml0ZW1fbGlzdF8zIiwgImRpdi5iZCJdLAoJCQkJCQlbL2h0dHA6XC9cL3NhbGVcLnlpeHVuXC5jb20vLCAiI0pfZmxvb3JIb2xpZGF5IC5iZCJdLAoJCQkJCQlbL2h0dHA6XC9cL2V2ZW50XC55aXh1blwuY29tXC9ldmVudFwvLipcLmh0bWwvLCAiLnBhZ2VfZXZlbnQiXQoJCQkJCV0sCgkJCQkJYW1hem9uOiBbCgkJCQkJCVsvaHR0cDpcL1wvd3d3XC5hbWF6b25cLmNuXC9bYS16XVwvLywgImJvZHkiXQoJCQkJCV0sCgkJCQkJc3VuaW5nOiBbCgkJCQkJCVsvaHR0cDpcL1wvY3V4aWFvXC5zdW5pbmdcLmNvbS8sICIuaGVhZC1pbWctd3JhcHBlciIsICIuZmxvb3IiXSwKCQkJCQkJWy9odHRwOlwvXC9saXN0XC5zdW5pbmdcLmNvbS8sICIuZ3JpZCIsICIjZmlsdGVyLXJlc3VsdHMgbGkiXSwKCQkJCQkJWy9odHRwOlwvXC9zZWFyY2hcLnN1bmluZ1wuY29tLywgIiNmaWx0ZXItcmVzdWx0cyBsaSJdCgkJCQkJXSwKCQkJCQlkYW5nZGFuZzogWwoJCQkJCQlbL2h0dHA6XC9cL3d3d1wuZGFuZ2RhbmdcLmNvbVwvYnJhbmRzXC8vLCAiLnNlYXJjaF9saXN0Il0sCgkJCQkJCVsvaHR0cDpcL1wvc2VhcmNoXC5kYW5nZGFuZ1wuY29tLywgIi5iaWdpbWciLCAiLmNsb3RoX2dvb2Rfc29ydCJdLAoJCQkJCQlbL2h0dHA6XC9cL2Jvb2tcLmRhbmdkYW5nXC5jb20vLCAiI2JkX2F1dG8gdWwiXSwKCQkJCQkJWy9odHRwOlwvXC9saXN0XC5kYW5nZGFuZ1wuY29tLywgIiNiZCAucmVzdWx0bGlzdCJdLAoJCQkJCQlbL2h0dHA6XC9cL3Byb21vXC5kYW5nZGFuZ1wuY29tLywgIi5wcm9tb3Rpb25zbGlzdF93cmFwcGVyIC5wcm9fbGlzdCIsICIucHJvbW9fYWN0aXZpdHlfd3JhcCJdLAoJCQkJCQlbL2h0dHA6XC9cL3ZcLmRhbmdkYW5nXC5jb20vLCAiI2JkIC52X3Nob3BfYm94Il0sCgkJCQkJCVsvaHR0cDpcL1wvdFwuZGFuZ2RhbmdcLmNvbS8sICIjYmQgdWwiXQoJCQkJCV0sCgkJCQkJZ29tZTogWwoJCQkJCQlbL2h0dHA6XC9cL2JyYW5kXC5nb21lXC5jb21cLmNuLywgIi5yZXN1bHQtd3JhcCJdLAoJCQkJCQlbL2h0dHA6XC9cL2xpc3RcLmdvbWVcLmNvbVwuY24vLCAiLm5TZWFyY2hXYXJwLW1haW4iXSwKCQkJCQkJWy9odHRwOlwvXC9wcm9tXC5nb21lXC5jb21cLmNuLywgIi50cGFnZSAucGFnZXQiLCAiLnNoYW5ncGluX2Z4Il0sCgkJCQkJCVsvaHR0cDpcL1wvc2VhcmNoXC5nb21lXC5jb21cLmNuLywgIi5yZXN1bHQtd3JhcCIsICJsaS5wcm9kdWN0LWl0ZW0iXQoJCQkJCV0sCgkJCQkJeWloYW9kaWFuOiBbCgkJCQkJCVsvaHR0cDpcL1wvbGlzdFwueWhkXC5jb20vLCAiLm1vZF9wcm9kdWN0X2xpc3QgLm1vZF9zZWFyY2hfcHJvIl0sCgkJCQkJCVsvaHR0cDpcL1wvY21zXC55aGRcLmNvbS8sICIjY21zQmdQYXRoICJdLAoJCQkJCQlbL2h0dHA6XC9cL3NlYXJjaFwueWhkXC5jb20vLCAiLm1vZF9wcm9kdWN0X2xpc3QgLm1vZF9zZWFyY2hfcHJvIl0KCQkJCQldLAoJCQkJCWp1bWVpOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmp1bWVpXC5jb20vLCAiLnByb2R1Y3RzX3dyYXAiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL2hkXC5qdW1laVwuY29tLywgIi5hY3RfcHJvZHVjdF9saXN0Il0KCQkJCQldLAoJCQkJCWp1bWVpZ2xvYmFsOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9oZFwuanVtZWlnbG9iYWxcLmNvbS8sICIuYWN0X3Byb2R1Y3RfbGlzdCIsICIubW9kZWxfcGFyZW50IHVsIl0KCQkJCQldLAoJCQkJCXZtYWxsOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLnZtYWxsXC5jb21cLy4rLywgIi5sYXlvdXQiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NhbGVcLnZtYWxsXC5jb20vLCAiLmd1aWRlLWJkIiwgIiNhY3Rpdml0eV9tYWluIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9tbVwudm1hbGxcLmNvbS8sICIubmV3LXJlc2VydmUtdG9wLXdycCJdCgkJCQkJXSwKCQkJCQlmZWluaXU6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wuZmVpbml1XC5jb21cLy4rLywgIi5lZGl0RG9tYWluIiwgIi5wcm9kdWN0c2hvdyIsICIuZXhoaWJpdGlvbiIsICIjdHJhY2tlcl9jYXRlZ29yeSJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvc2FsZVwuZmVpbml1XC5jb20vLCAiLnRpdGxlX2JnLmNtc19wb29sIHVsIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmZlaW5pdVwuY29tLywgIiNjYXRhX2Nob29zZV9wcm9kdWN0Il0KCQkJCQldLAoJCQkJCXlvdWdvdTogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvd3d3XC55b3Vnb3VcLmNvbVwvLisvLCAiLnl1aTMtZyJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvc2VvdWxcLnlvdWdvdVwuY29tLywgImRpdi5tYWluX2dvb2RzIiwgIi55dWkzLWciXQoJCQkJCV0sCgkJCQkJa2FvbGE6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wua2FvbGFcLmNvbVwvLisvLCAibGkuZ29vZHMiLCAiLndyYXAgdWwiXQoJCQkJCV0sCgkJCQkJaml1eGlhbjogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvd3d3XC5qaXV4aWFuXC5jb21cLy4rLywgIi5tYWluQm94IiwgIi5zZXF1ZW5jZV9saXN0Il0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zcGVjaWFsXC5qaXV4aWFuXC5jb20vLCAiLmZvdXJib3giXQoJCQkJCV0sCgkJCQkJc2ZiZXN0OiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLnNmYmVzdFwuY29tXC8uKy8sICIuc2ZSaWdodCIsICIucC1saXN0Il0KCQkJCQldLAoJCQkJCXZhbmNsOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zXC52YW5jbFwuY29tLywgImxpLnByb2R1Y3R3cmFwcGVyIl0KCQkJCQldLAoJCQkJCWZlbmdxdTogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvd3d3XC5mZW5ncXVcLmNvbVwvLisvLCAiLm1vZHVsZSJdCgkJCQkJXSwKCQkJCQlsZWZlbmc6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NlYXJjaFwubGVmZW5nXC5jb20vLCAiI3Byb2R1Y3REaXZHcm91cCJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvYnJhbmRcLmxlZmVuZ1wuY29tLywgIi5tYWtldXAiXQoJCQkJCV0sCgkJCQkJZWhhaWVyOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmVoYWllclwuY29tLywgInVsLnVsLXByb2xpc3QiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wuZWhhaWVyXC5jb21cLy4rLywgInVsLnVsLWV4Y2VsIiwgIi50YWItY29udCIsICIua2luZHMtbWFpbiJdCgkJCQkJXSwKCQkJCQl5dW5ob3U6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NlYXJjaFwueXVuaG91XC5jb20vLCAiI2pHb29kc0NudCAuZ29vZHMtbGlzdHMgZGl2LmNvbHMiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL2xpc3RcLnl1bmhvdVwuY29tXC8uKy8sICIjakdvb2RzQ250IC5nb29kcy1saXN0cyBkaXYuY29scyJdCgkJCQkJXSwKCQkJCQl1bGU6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cLyg/IWl0ZW18d3d3KS4rXC51bGVcLmNvbVwvLisvLCAiLmdvb2RzTGlzdCAuZ29vZHNMaXN0QmxvY2sgbGkubm9QcmUiXQoJCQkJCV0sCgkJCQkJYmFuZ2dvOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmJhbmdnb1wuY29tLywgIi5tYnNob3BfcGRMaXN0IGxpLm1ic2hvcF9saXN0UGRDb24iXQoJCQkJCV0sCgkJCQkJYmFvYmVpZ2V6aTogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvc2VhcmNoXC5iYW9iZWlnZXppXC5jb20vLCAiI21haW5fbGlzdCAucHJvX2l0ZW0iXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL2xpc3RcLmJhb2JlaWdlemlcLmNvbS8sICIjbWFpbl9saXN0IC5wcm9faXRlbSJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvaXRlbVwuYmFvYmVpZ2V6aVwuY29tXC9bYS16XStfWzAtOV0rXC8vLCAiI21haW5fbGlzdCAucHJvX2l0ZW0iXQoJCQkJCV0sCgkJCQkJemhvbmdqaXU6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wuemhvbmdqaXVcLmNuXC9saXN0XC8vLCAiI3BsaXN0IGxpLmNsZWFyZml4Il0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLnpob25naml1XC5jblwvc2VhcmNoXC4vLCAiI3BsaXN0IGxpLmNsZWFyZml4Il0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zXC56aG9uZ2ppdVwuY25cL3NlYXJjaFwvaW5kZXgvLCAiLnJnX3NsX2xpc3QgdWwgbGkiXQoJCQkJCV0KCQkJCX0sCgkJCQlpID0gdm9pZCAwOwoJCQllLmV4cG9ydHMuY2hlY2sgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoaSkgcmV0dXJuIGk7CgkJCQlpZiAoZSA9IHQuc2l0ZSB8fCBlLCAhbltlXSkgcmV0dXJuICExOwoJCQkJZm9yICh2YXIgYSA9IG5bZV0ubGVuZ3RoIC0gMTsgYSA+PSAwOyBhLS0pIHsKCQkJCQl2YXIgbyA9IG5bZV1bYV07CgkJCQkJaWYgKG9bMF0udGVzdChsb2NhdGlvbi5ocmVmKSkgcmV0dXJuIGkgPSBvLnNsaWNlKDEpCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIG4gPSBbIjE1IiwgIjk0IiwgIjEwOCIsICIxOTYiLCAiMzIiLCAiMjM0IiwgIjI3MyIsICIyOTAiLCAiMjkyIiwgIjM2NyIsICIzNzMiLCAiMzc3Il0sCgkJCQkJaSA9IHQuY3JjNjQgPyB0LmltZzY0X3NlcnZlciA6IHQuaW1nX3NlcnZlcjsKCQkJCWlmICghZS5sZW5ndGgpIHJldHVybiBbXTsKCQkJCWZvciAodmFyIGEgPSAwOyBhIDwgZS5sZW5ndGg7IGErKykgewoJCQkJCXZhciBvID0gZVthXSwKCQkJCQkJciA9IG8uZHBfaWQ7CgkJCQkJaWYgKHIpCgkJCQkJCWZvciAodmFyIHMgPSByLm1hdGNoKC9cZCstKFxkKykvKVsxXSwgbCA9IDA7IGwgPCBuLmxlbmd0aDsgbCsrKSBzID09PSBuW2xdICYmIChlW2FdLnBpY191cmwgPyBlW2FdLnBpY191cmwgPSBpICsgIi9jX3pvb20saF85MC9kcCIgKyBvLmRwX2lkIDogZVthXS5pbWdfdXJsID0gaSArICIvY196b29tLGhfOTAvZHAiICsgby5kcF9pZCkKCQkJCX0KCQkJCXJldHVybiBlCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCSJ1c2Ugc3RyaWN0IjsKCgkJZnVuY3Rpb24gbihlKSB7CgkJCXZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKCQkJdCAmJiB0WzBdICYmICh0ID0gdFswXSk7CgkJCXZhciBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CgkJCW4uc3JjID0gZSwgbi5hc3luYyA9ICEwLCBuLmRlZmVyID0gITAsIG4ubGFuZ3VhZ2UgPSAiSmF2YVNjcmlwdCIsIHQuYXBwZW5kQ2hpbGQobiksIGEgPSAhMAoJCX0KCQl2YXIgaSA9IHZvaWQgMCwKCQkJYSA9IHZvaWQgMCwKCQkJbyA9IHZvaWQgMDsKCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJZSAmJiBuKGUpCgkJfSwgZS5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKGUsIHQsIG4sIHIsIHMpIHsKCQkJYSAmJiAobyA9PT0gZSA/IChjbGVhclRpbWVvdXQoaSksIGkgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJd2luZG93Ll9jemMgJiYgd2luZG93Ll9jemMucHVzaCAmJiAodCA9IHQgfHwgIi4iLCBuID0gbiB8fCAiIiwgd2luZG93Ll9jemMucHVzaChbIl90cmFja0V2ZW50IiwgZSwgdCwgbiwgciwgc10pLCBvID0gZSkKCQkJfSwgMzAwKSkgOiB3aW5kb3cuX2N6YyAmJiB3aW5kb3cuX2N6Yy5wdXNoICYmICh0ID0gdCB8fCAiLiIsIG4gPSBuIHx8ICIiLCB3aW5kb3cuX2N6Yy5wdXNoKFsiX3RyYWNrRXZlbnQiLCBlLCB0LCBuLCByLCBzXSksIG8gPSBlKSkKCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSB2b2lkIDAsCgkJCQlvID0gWyJqc2R4IiwgIm5qY2siLCAiY2h1eXVuIiwgInRseHMiLCAianN4eSIsICJ6amR4IiwgInhpbmd5dWUiLCAic2hjayIsICJtaV9uZXciLCAiZ2RqbSIsICJobnR0IiwgInhkamYiLCAiaGFndyIsICI5MjMyNTMiLCAiMTA5ODE2NCIsICI1Mzg2MjUiLCAiMTMyOTE4NSIsICI5Mjk3MzMiXSwKCQkJCXIgPSB7CgkJCQkJbmpjazogWyJ1RnM3SU4iLCAiTGgyWDJBIl0sCgkJCQkJZ2RqbTogWyJ1RnM3SU4iLCAiTGgyWDJBIl0sCgkJCQkJanhkeDogWyJEU3pFRmEiLCAidFc2bnRRIl0sCgkJCQkJbWlfbmV3OiBbIkdQVmo2MCIsICJPc21KS2IiXSwKCQkJCQlqc2R4OiBbIjZWSk1vTSIsICJuNndHekEiXSwKCQkJCQlqc3h5OiBbIjZWSk1vTSIsICJuNndHekEiXSwKCQkJCQljaHV5dW46IFsiOWtrektQIiwgIlF5MUdBMSJdLAoJCQkJCWJqbHQ6IFsiOWtrektQIiwgIlF5MUdBMSJdLAoJCQkJCXpqZHg6IFsiVTJ4OFd0IiwgIjdsNVkxVyJdLAoJCQkJCXhpbmd5dWU6IFsiQ0g3ZmlyIiwgImhYYVZTbSJdLAoJCQkJCWhudHQ6IFsiQ0g3ZmlyIiwgImhYYVZTbSJdLAoJCQkJCXNoY2s6IFsiOW94REE2IiwgImZwV0FHdSJdLAoJCQkJCXRseHM6IFsiZk95Q0xiIiwgInBiTHFtQyJdLAoJCQkJCXhkamY6IFsiUG1hOHJIIiwgImQzQXAzMiJdLAoJCQkJCXNobHQ6IFsiSlZQQ0VvIiwgIlVqWjdDTiJdLAoJCQkJCWhhZ3c6IFsiODZlUE92IiwgIjVvNEtVbSJdLAoJCQkJCTEwOTgxNjQ6IFsiQ0g3ZmlyIiwgIkNIN2ZpciJdLAoJCQkJCTUzODYyNTogWyJValo3Q04iLCAiVWpaN0NOIl0sCgkJCQkJOTIzMjUzOiBbImQzQXAzMiIsICJkM0FwMzIiXSwKCQkJCQkxMzI5MTg1OiBbIlVqWjdDTiIsICJValo3Q04iXSwKCQkJCQk5Mjk3MzM6IFsiRFN6RUZhIiwgIkRTekVGYSJdCgkJCQl9LAoJCQkJcyA9IFsiZWZvdGlsZSJdLAoJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCWZ1bmN0aW9uIGUoZSkgewoJCQkJCQl2YXIgdCwgbiA9IDEsCgkJCQkJCQlpID0gMDsKCQkJCQkJaWYgKGUpCgkJCQkJCQlmb3IgKG4gPSAwLCB0ID0gZS5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgaSA9IGUuY2hhckNvZGVBdCh0KSwgbiA9IChuIDw8IDYgJiAyNjg0MzU0NTUpICsgaSArIChpIDw8IDE0KSwgaSA9IDI2NjMzODMwNCAmIG4sIG4gPSAwICE9IGkgPyBuIF4gaSA+PiAyMSA6IG47CgkJCQkJCXJldHVybiBuCgkJCQkJfQoJCQkJCXJldHVybiAoIiIgKyBlKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSArIGUoZG9jdW1lbnQuZG9tYWluKSArIChuZXcgRGF0ZSAtIDApICsgTWF0aC5mbG9vcigxZTMgKiBNYXRoLnJhbmRvbSgpKSkuc3Vic3RyKDAsIDMyKQoJCQkJfSgpLAoJCQkJYyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuID0gW10sIGkgPSAxOyBpIDwgZS5sZW5ndGg7IGkrKykgewoJCQkJCQl2YXIgYSA9IHt9LAoJCQkJCQkJbyA9IGVbaV0uY3VybDEubWF0Y2goLyZ1cmw9KFteJl0rKSYvKSAmJiBlW2ldLmN1cmwxLm1hdGNoKC8mdXJsPShbXiZdKykmLylbMV07CgkJCQkJCSJtaV9uZXciID09PSB0LmZyb21fZGV2aWNlICYmIG8gJiYgby5tYXRjaCgvKD86bGVtYWxsfHZtYWxsKS8pIHx8IChhLnVybCA9IGVbaV0uY3VybDEsIGEuaW1nX3VybCA9IGVbaV0udGltZywgYS50aXRsZSA9IGVbaV0ucG4sIGEucHJpY2UgPSBlW2ldLnByaWNlLCBhLnR5cGVzID0gImZhc2hpb24iLCBuLnB1c2goYSkpCgkJCQkJfQoJCQkJCXJldHVybiBuCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlpLmFqYXgoewoJCQkJCQl1cmw6IGUsCgkJCQkJCXNjcmlwdENoYXJzZXQ6ICJVVEYtOCIsCgkJCQkJCWRhdGFUeXBlOiAianNvbnAiLAoJCQkJCQlqc29ucDogImpzb25xIiwKCQkJCQkJc3VjY2VzczogZnVuY3Rpb24oZSkgewoJCQkJCQkJYSB8fCAodChlICYmIGUubGVuZ3RoID4gMSA/IGMoZSkgOiBbXSksIGEgPSAhMCkKCQkJCQkJfSwKCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKCkgewoJCQkJCQkJYSB8fCAodChbXSksIGEgPSAhMCkKCQkJCQkJfQoJCQkJCX0pLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQlhIHx8ICh0KFtdKSwgYSA9ICEwKQoJCQkJCX0sIDU1MDApCgkJCQl9LAoJCQkJcCA9IGZ1bmN0aW9uKCkgewoJCQkJCWZvciAodmFyIGUgPSAwOyBlIDwgcy5sZW5ndGg7IGUrKykKCQkJCQkJaWYgKHQuc2l0ZSA9PT0gc1tlXSkgcmV0dXJuICEwOwoJCQkJCXJldHVybiBuKDE1KS5pbml0KCkgPyAhMCA6ICExCgkJCQl9OwoJCQllLmV4cG9ydHMuZ2V0bExvd2VzdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChwKCkpIHJldHVybiB2b2lkIGUoW10pOwoJCQkJdmFyIG4gPSB0LmZyb21fZGV2aWNlX3QgfHwgdC5mcm9tX2RldmljZTsKCQkJCWlmICgidGx4cyIgPT0gbikgcmV0dXJuIHZvaWQgZShbXSk7CgkJCQlpZiAoLTEgPT0gby5pbmRleE9mKG4pKSByZXR1cm4gdm9pZCBlKFtdKTsKCQkJCXZhciBpID0gImh0dHBzOi8vc2hvdy0zLm1lZGlhdi5jb20vcz90eXBlPTEmc2hvd2lkPSIgKyByW25dWzBdICsgIiZvZj00JnVpZD0iICsgbCArICJ9JnFocGlkPSZpbXBjdD0yMCI7CgkJCQlkKGksIGUpCgkJCX0sIGUuZXhwb3J0cy5nZXREcExvd2VzdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChwKCkpIHJldHVybiB2b2lkIGUoW10pOwoJCQkJaWYgKC0xID09IG8uaW5kZXhPZih0LmZyb21fZGV2aWNlKSkgcmV0dXJuIHZvaWQgZShbXSk7CgkJCQl2YXIgbiA9ICJodHRwczovL3Nob3ctMy5tZWRpYXYuY29tL3M/dHlwZT0xJnNob3dpZD0iICsgclt0LmZyb21fZGV2aWNlXVsxXSArICImb2Y9NCZ1aWQ9IiArIGwgKyAifSZxaHBpZD0maW1wY3Q9MjAiOwoJCQkJZChuLCBlKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBuID0gWyJqZC5jb20iLCAidGFvYmFvLmNvbSIsICJzdW5pbmcuY29tIiwgInRtYWxsLmNvbSIsICJ3ZXN0LmNuIiwgImNodWFuZ2NkLmNuIiwgImVkaWFuenUuY29tIiwgImJhb3NodWlndW9qaS5jb20iLCAibXZtYWxsLmNuIiwgImdhcC5jbiIsICJqc3N3b3Jkc2hvcC5jb20iLCAiYndza3UuY29tIiwgImd4LmNuIiwgInN0d2ZkZS5jb20iLCAicXV3YWlmdS5jb20iLCAiYW9sYWlnby5jb20iLCAiZGFvZ291bWFvLmNuIiwgIjE2ODguY29tIiwgImdocy5uZXQiLCAic2hpamllZ3Vhbi5jbiIsICJnZGxpd2FuODg4LmNvbSIsICJpenVqaWUuY29tIiwgInl4bHAtYmouY29tIiwgIjY3OHB3LmNuIiwgImlsYWh1aS5jb20iLCAiZ291d3ViYW5nLmNvbSIsICJjdHR5dy5jb20iLCAiYW9qaWVzaS5jbiIsICJ4aWFuZ3NoZW5naGFuZy5jb20iLCAibmJ6ZHB0LmNuIiwgIjM2MC5jbiIsICJ6amNyZWF0ZS5jb20iLCAiZGx5aWp1LmNvbS5jbiIsICJodWFtdTAxMDEuY29tIiwgImZ1c2hpaHVhLmNuIiwgIndqeWguY29tIiwgImZzYW90aW5nLmNuIiwgIm1peWluc3VvLmNvbSIsICJrbTE4MTguY29tIiwgInNodWh1YXR5LmNvbSIsICJzZ2R6LXBvd2VyLmNvbSIsICJwdXJjb3R0b24uY29tIiwgInltaS5jbiIsICJ4anQuY2MiLCAibGVuY29sby5jb20iLCAieWl3dWdvdS5jb20iLCAiMzYxZmVucWlnby5jb20iLCAiYmVuZ2hvbWUuY29tIiwgImVsZWl0ZXguY29tIiwgImppbmd6aHVvaGFuZy5jb20iLCAiemhhb2ppYWZhbmcuY29tIiwgIm5ueWh3ai5jb20iLCAiZHVvZHVvMTIzLmNvbSIsICJrcy1sb25nLmNvbSIsICIyMWtrLmNuIiwgInN0YXBsZXMuY24iLCAibHlsancuY29tIiwgImhvbWVkby5jb20iLCAiNTkxeWh3LmNvbSIsICJxaWFuc2hpMzYwLmNvbSIsICIzNjUzNTAuY29tIiwgImFmank5ODguY29tIiwgImhjYnV5LmNvbSIsICJiamZ0c3QuY29tIiwgImxhYm9ybGVzcy10ZnQuY29tIiwgIm1haWdhbmdsZS5jb20iLCAiaml1OTF5aS5jb20iLCAiZWxzdGVlbC5jb20uY24iLCAiam4zNjBzby5jbiIsICJiZGZkai5jb20iLCAibmFuZ3dqLmNvbSIsICJ6aGU5MDAuY29tIiwgInFlZ29vLmNuIiwgImZlaXN1LmNvbSIsICJoZHlkb29yLmNvbSIsICJjbm1laWppbi5jbiIsICJqeTAyNy5jb20iLCAiY25idXllcnMuY24iLCAicXE1MDEuY29tIiwgImJhb3VwaW4uY29tIiwgImpvMzY1LmNuIiwgInRhb2RpYW5qaWEuY29tIiwgIjUxMWJveC5jb20iLCAidmhhbGwuY29tIiwgIndpbmU5LmNvbSIsICJzYWZlLWJlc3QuY29tIiwgImp1ZGF6aGUuY29tIiwgImhvbmdsaW5namluLmNuIiwgImRhbmdkYW5nLmNvbSIsICJ5bmc5NjAuY29tIiwgIjM2MHNhZmUuY29tIiwgIjEwZnVyLmNvbSIsICJ0ZWFvay5jb20iLCAiNTF5aG8uY29tIiwgInNobGVpeWkuY29tIiwgImxvb2tmYW50YXN0aWMuY29tIiwgIndpbmRlbG4uZGUiLCAid2luZGVsbi5jb20uY24iLCAidHJpcGlkaS5jb20iLCAibXlwcm90ZWluLmNuIiwgIm1vdXNlci5jbiIsICJtaW9za2luY2FyZS5jb20iLCAibG9va2ZhbnRhc3RpYy5jbiIsICJpaGVyYi5jbiIsICJncm93Z29yZ2VvdXMuY29tIiwgImdsb2JhbGJsdWUuY24iLCAiZ2NtYXNpYS5jb20iLCAiZXNwcml0LmNuIiwgImJhLmRlIiwgIjc5Z29sZC5jb20iLCAic2FzYS5jb20iLCAiam9pbndld29yay5jbiIsICJyYWt1dGVuLmNvbSIsICJ0YWtleWEuY28uanAiLCAic3RyYXdiZXJyeW5ldC5jb20iLCAicm95eW91bmdjaGVtaXN0LmNvbS5hdSIsICJwaGFybWFjeW9ubGluZS5jb20uYXUiLCAicGhhcm1hY3k0bGVzcy5jb20uYXUiLCAicC1iYW5kYWkuYXNpYSIsICJnZXR0aGVsYWJlbC5jb20iLCAiZmVlbHVuaXF1ZS5jb20iLCAiYmFieWhhdmVuLmNvbSIsICJoa3RkYy5jb20iXTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmICghdC5uZXdfZXh0ZW5zaW9uKSByZXR1cm4gITE7CgkJCQlmb3IgKHZhciBlID0gZG9jdW1lbnQuZG9tYWluLCBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspCgkJCQkJaWYgKGUgPT09IG5baV0pIHJldHVybiAhMDsKCQkJCXJldHVybiAhMQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkhIGZ1bmN0aW9uKCkgewoJCQlmdW5jdGlvbiBhKGUpIHsKCQkJCXJldHVybiBlLnJlcGxhY2UoaywgIiIpLnJlcGxhY2UoeiwgIiwiKS5yZXBsYWNlKEIsICIiKS5yZXBsYWNlKGosICIiKS5yZXBsYWNlKEMsICIiKS5zcGxpdChTKQoJCQl9CgoJCQlmdW5jdGlvbiBvKGUpIHsKCQkJCXJldHVybiAiJyIgKyBlLnJlcGxhY2UoLygnfFxcKS9nLCAiXFwkMSIpLnJlcGxhY2UoL1xyL2csICJcXHIiKS5yZXBsYWNlKC9cbi9nLCAiXFxuIikgKyAiJyIKCQkJfQoKCQkJZnVuY3Rpb24gcihlLCB0KSB7CgkJCQlmdW5jdGlvbiBuKGUpIHsKCQkJCQlyZXR1cm4gaCArPSBlLnNwbGl0KC9cbi8pLmxlbmd0aCAtIDEsIGQgJiYgKGUgPSBlLnJlcGxhY2UoL1xzKy9nLCAiICIpLnJlcGxhY2UoLzwhLS1bXHdcV10qPy0tPi9nLCAiIikpLCBlICYmIChlID0gZlsxXSArIG8oZSkgKyBmWzJdICsgIlxuIiksIGUKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQl2YXIgbiA9IGg7CgkJCQkJaWYgKGMgPyBlID0gYyhlLCB0KSA6IHIgJiYgKGUgPSBlLnJlcGxhY2UoL1xuL2csIGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gaCsrLCAiJGxpbmU9IiArIGggKyAiOyIKCQkJCQl9KSksIDAgPT09IGUuaW5kZXhPZigiPSIpKSB7CgkJCQkJCXZhciBpID0gcCAmJiAhL149Wz0jXS8udGVzdChlKTsKCQkJCQkJaWYgKGUgPSBlLnJlcGxhY2UoL149Wz0jXT98W1xzO10qJC9nLCAiIiksIGkpIHsKCQkJCQkJCXZhciBvID0gZS5yZXBsYWNlKC9ccypcKFteXCldK1wpLywgIiIpOwoJCQkJCQkJX1tvXSB8fCAvXihpbmNsdWRlfHByaW50KSQvLnRlc3QobykgfHwgKGUgPSAiJGVzY2FwZSgiICsgZSArICIpIikKCQkJCQkJfSBlbHNlIGUgPSAiJHN0cmluZygiICsgZSArICIpIjsKCQkJCQkJZSA9IGZbMV0gKyBlICsgZlsyXQoJCQkJCX0KCQkJCQlyZXR1cm4gciAmJiAoZSA9ICIkbGluZT0iICsgbiArICI7IiArIGUpLCBiKGEoZSksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGUgJiYgIXVbZV0pIHsKCQkJCQkJCXZhciB0OwoJCQkJCQkJdCA9ICJwcmludCIgPT09IGUgPyB3IDogImluY2x1ZGUiID09PSBlID8gdiA6IF9bZV0gPyAiJHV0aWxzLiIgKyBlIDogeFtlXSA/ICIkaGVscGVycy4iICsgZSA6ICIkZGF0YS4iICsgZSwgeSArPSBlICsgIj0iICsgdCArICIsIiwgdVtlXSA9ICEwCgkJCQkJCX0KCQkJCQl9KSwgZSArICJcbiIKCQkJCX0KCQkJCXZhciByID0gdC5kZWJ1ZywKCQkJCQlzID0gdC5vcGVuVGFnLAoJCQkJCWwgPSB0LmNsb3NlVGFnLAoJCQkJCWMgPSB0LnBhcnNlciwKCQkJCQlkID0gdC5jb21wcmVzcywKCQkJCQlwID0gdC5lc2NhcGUsCgkJCQkJaCA9IDEsCgkJCQkJdSA9IHsKCQkJCQkJJGRhdGE6IDEsCgkJCQkJCSRmaWxlbmFtZTogMSwKCQkJCQkJJHV0aWxzOiAxLAoJCQkJCQkkaGVscGVyczogMSwKCQkJCQkJJG91dDogMSwKCQkJCQkJJGxpbmU6IDEKCQkJCQl9LAoJCQkJCW0gPSAiIi50cmltLAoJCQkJCWYgPSBtID8gWyIkb3V0PScnOyIsICIkb3V0Kz0iLCAiOyIsICIkb3V0Il0gOiBbIiRvdXQ9W107IiwgIiRvdXQucHVzaCgiLCAiKTsiLCAiJG91dC5qb2luKCcnKSJdLAoJCQkJCWcgPSBtID8gIiRvdXQrPXRleHQ7cmV0dXJuICRvdXQ7IiA6ICIkb3V0LnB1c2godGV4dCk7IiwKCQkJCQl3ID0gImZ1bmN0aW9uKCl7dmFyIHRleHQ9JycuY29uY2F0LmFwcGx5KCcnLGFyZ3VtZW50cyk7IiArIGcgKyAifSIsCgkJCQkJdiA9ICJmdW5jdGlvbihmaWxlbmFtZSxkYXRhKXtkYXRhPWRhdGF8fCRkYXRhO3ZhciB0ZXh0PSR1dGlscy4kaW5jbHVkZShmaWxlbmFtZSxkYXRhLCRmaWxlbmFtZSk7IiArIGcgKyAifSIsCgkJCQkJeSA9ICIndXNlIHN0cmljdCc7dmFyICR1dGlscz10aGlzLCRoZWxwZXJzPSR1dGlscy4kaGVscGVycywiICsgKHIgPyAiJGxpbmU9MCwiIDogIiIpLAoJCQkJCWsgPSBmWzBdLAoJCQkJCXogPSAicmV0dXJuIG5ldyBTdHJpbmcoIiArIGZbM10gKyAiKTsiOwoJCQkJYihlLnNwbGl0KHMpLCBmdW5jdGlvbihlKSB7CgkJCQkJZSA9IGUuc3BsaXQobCk7CgkJCQkJdmFyIHQgPSBlWzBdLAoJCQkJCQlhID0gZVsxXTsKCQkJCQkxID09PSBlLmxlbmd0aCA/IGsgKz0gbih0KSA6IChrICs9IGkodCksIGEgJiYgKGsgKz0gbihhKSkpCgkJCQl9KTsKCQkJCXZhciBCID0geSArIGsgKyB6OwoJCQkJciAmJiAoQiA9ICJ0cnl7IiArIEIgKyAifWNhdGNoKGUpe3Rocm93IHtmaWxlbmFtZTokZmlsZW5hbWUsbmFtZTonUmVuZGVyIEVycm9yJyxtZXNzYWdlOmUubWVzc2FnZSxsaW5lOiRsaW5lLHNvdXJjZToiICsgbyhlKSArICIuc3BsaXQoL1xcbi8pWyRsaW5lLTFdLnJlcGxhY2UoL15cXHMrLywnJyl9O30iKTsKCQkJCXRyeSB7CgkJCQkJdmFyIGogPSBuZXcgRnVuY3Rpb24oIiRkYXRhIiwgIiRmaWxlbmFtZSIsIEIpOwoJCQkJCXJldHVybiBqLnByb3RvdHlwZSA9IF8sIGoKCQkJCX0gY2F0Y2ggKEMpIHsKCQkJCQl0aHJvdyBDLnRlbXAgPSAiZnVuY3Rpb24gYW5vbnltb3VzKCRkYXRhLCRmaWxlbmFtZSkgeyIgKyBCICsgIn0iLCBDCgkJCQl9CgkJCX0KCQkJdmFyIHMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQlyZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHQgPyB2KHQsIHsKCQkJCQlmaWxlbmFtZTogZQoJCQkJfSkgOiBkKGUsIHQpCgkJCX07CgkJCXMudmVyc2lvbiA9ICIzLjAuMCIsIHMuY29uZmlnID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJbFtlXSA9IHQKCQkJfTsKCQkJdmFyIGwgPSBzLmRlZmF1bHRzID0gewoJCQkJCW9wZW5UYWc6ICI8JSIsCgkJCQkJY2xvc2VUYWc6ICIlPiIsCgkJCQkJZXNjYXBlOiAhMCwKCQkJCQljYWNoZTogITAsCgkJCQkJY29tcHJlc3M6ICExLAoJCQkJCXBhcnNlcjogbnVsbAoJCQkJfSwKCQkJCWMgPSBzLmNhY2hlID0ge307CgkJCXMucmVuZGVyID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJcmV0dXJuIHYoZSwgdCkKCQkJfTsKCQkJdmFyIGQgPSBzLnJlbmRlckZpbGUgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiA9IHMuZ2V0KGUpIHx8IHcoewoJCQkJCWZpbGVuYW1lOiBlLAoJCQkJCW5hbWU6ICJSZW5kZXIgRXJyb3IiLAoJCQkJCW1lc3NhZ2U6ICJUZW1wbGF0ZSBub3QgZm91bmQiCgkJCQl9KTsKCQkJCXJldHVybiB0ID8gbih0KSA6IG4KCQkJfTsKCQkJcy5nZXQgPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgdDsKCQkJCWlmIChjW2VdKSB0ID0gY1tlXTsKCQkJCWVsc2UgaWYgKCJvYmplY3QiID09IHR5cGVvZiBkb2N1bWVudCkgewoJCQkJCXZhciBuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7CgkJCQkJaWYgKG4pIHsKCQkJCQkJdmFyIGkgPSAobi52YWx1ZSB8fCBuLmlubmVySFRNTCkucmVwbGFjZSgvXlxzKnxccyokL2csICIiKTsKCQkJCQkJdCA9IHYoaSwgewoJCQkJCQkJZmlsZW5hbWU6IGUKCQkJCQkJfSkKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gdAoJCQl9OwoJCQl2YXIgcCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gInN0cmluZyIgIT0gdHlwZW9mIGUgJiYgKHQgPSB0eXBlb2YgZSwgIm51bWJlciIgPT09IHQgPyBlICs9ICIiIDogZSA9ICJmdW5jdGlvbiIgPT09IHQgPyBwKGUuY2FsbChlKSkgOiAiIiksIGUKCQkJCX0sCgkJCQloID0gewoJCQkJCSI8IjogIiYjNjA7IiwKCQkJCQkiPiI6ICImIzYyOyIsCgkJCQkJJyInOiAiJiMzNDsiLAoJCQkJCSInIjogIiYjMzk7IiwKCQkJCQkiJiI6ICImIzM4OyIKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBoW2VdCgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gcChlKS5yZXBsYWNlKC8mKD8hW1x3I10rOyl8Wzw+IiddL2csIHUpCgkJCQl9LAoJCQkJZiA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAiW29iamVjdCBBcnJheV0iID09PSB7fS50b1N0cmluZy5jYWxsKGUpCgkJCQl9LAoJCQkJZyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaTsKCQkJCQlpZiAoZihlKSkKCQkJCQkJZm9yIChuID0gMCwgaSA9IGUubGVuZ3RoOyBpID4gbjsgbisrKSB0LmNhbGwoZSwgZVtuXSwgbiwgZSk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKG4gaW4gZSkgdC5jYWxsKGUsIGVbbl0sIG4pCgkJCQl9LAoJCQkJXyA9IHMudXRpbHMgPSB7CgkJCQkJJGhlbHBlcnM6IHt9LAoJCQkJCSRpbmNsdWRlOiBkLAoJCQkJCSRzdHJpbmc6IHAsCgkJCQkJJGVzY2FwZTogbSwKCQkJCQkkZWFjaDogZwoJCQkJfTsKCQkJcy5oZWxwZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl4W2VdID0gdAoJCQl9OwoJCQl2YXIgeCA9IHMuaGVscGVycyA9IF8uJGhlbHBlcnM7CgkJCXMub25lcnJvciA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciB0ID0gIlRlbXBsYXRlIEVycm9yXG5cbiI7CgkJCQlmb3IgKHZhciBuIGluIGUpIHQgKz0gIjwiICsgbiArICI+XG4iICsgZVtuXSArICJcblxuIjsKCQkJCSJvYmplY3QiID09IHR5cGVvZiBjb25zb2xlICYmIGNvbnNvbGUuZXJyb3IodCkKCQkJfTsKCQkJdmFyIHcgPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHMub25lcnJvcihlKSwKCQkJCQkJZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gIntUZW1wbGF0ZSBFcnJvcn0iCgkJCQkJCX0KCQkJCX0sCgkJCQl2ID0gcy5jb21waWxlID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCWZ1bmN0aW9uIG4obikgewoJCQkJCQl0cnkgewoJCQkJCQkJcmV0dXJuIG5ldyBvKG4sIGEpICsgIiIKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJcmV0dXJuIHQuZGVidWcgPyB3KGkpKCkgOiAodC5kZWJ1ZyA9ICEwLCB2KGUsIHQpKG4pKQoJCQkJCQl9CgkJCQkJfQoJCQkJCXQgPSB0IHx8IHt9OwoJCQkJCWZvciAodmFyIGkgaW4gbCkgdm9pZCAwID09PSB0W2ldICYmICh0W2ldID0gbFtpXSk7CgkJCQkJdmFyIGEgPSB0LmZpbGVuYW1lOwoJCQkJCXRyeSB7CgkJCQkJCXZhciBvID0gcihlLCB0KQoJCQkJCX0gY2F0Y2ggKHMpIHsKCQkJCQkJcmV0dXJuIHMuZmlsZW5hbWUgPSBhIHx8ICJhbm9ueW1vdXMiLCBzLm5hbWUgPSAiU3ludGF4IEVycm9yIiwgdyhzKQoJCQkJCX0KCQkJCQlyZXR1cm4gbi5wcm90b3R5cGUgPSBvLnByb3RvdHlwZSwgbi50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gby50b1N0cmluZygpCgkJCQkJfSwgYSAmJiB0LmNhY2hlICYmIChjW2FdID0gbiksIG4KCQkJCX0sCgkJCQliID0gXy4kZWFjaCwKCQkJCXkgPSAiYnJlYWssY2FzZSxjYXRjaCxjb250aW51ZSxkZWJ1Z2dlcixkZWZhdWx0LGRlbGV0ZSxkbyxlbHNlLGZhbHNlLGZpbmFsbHksZm9yLGZ1bmN0aW9uLGlmLGluLGluc3RhbmNlb2YsbmV3LG51bGwscmV0dXJuLHN3aXRjaCx0aGlzLHRocm93LHRydWUsdHJ5LHR5cGVvZix2YXIsdm9pZCx3aGlsZSx3aXRoLGFic3RyYWN0LGJvb2xlYW4sYnl0ZSxjaGFyLGNsYXNzLGNvbnN0LGRvdWJsZSxlbnVtLGV4cG9ydCxleHRlbmRzLGZpbmFsLGZsb2F0LGdvdG8saW1wbGVtZW50cyxpbXBvcnQsaW50LGludGVyZmFjZSxsb25nLG5hdGl2ZSxwYWNrYWdlLHByaXZhdGUscHJvdGVjdGVkLHB1YmxpYyxzaG9ydCxzdGF0aWMsc3VwZXIsc3luY2hyb25pemVkLHRocm93cyx0cmFuc2llbnQsdm9sYXRpbGUsYXJndW1lbnRzLGxldCx5aWVsZCx1bmRlZmluZWQiLAoJCQkJayA9IC9cL1wqW1x3XFddKj9cKlwvfFwvXC9bXlxuXSpcbnxcL1wvW15cbl0qJHwiKD86W14iXFxdfFxcW1x3XFddKSoifCcoPzpbXidcXF18XFxbXHdcV10pKid8XHMqXC5ccypbJFx3XC5dKy9nLAoJCQkJeiA9IC9bXlx3JF0rL2csCgkJCQlCID0gbmV3IFJlZ0V4cChbIlxcYiIgKyB5LnJlcGxhY2UoLywvZywgIlxcYnxcXGIiKSArICJcXGIiXS5qb2luKCJ8IiksICJnIiksCgkJCQlqID0gL15cZFteLF0qfCxcZFteLF0qL2csCgkJCQlDID0gL14sK3wsKyQvZywKCQkJCVMgPSAvXiR8LCsvOwoJCQlsLm9wZW5UYWcgPSAie3siLCBsLmNsb3NlVGFnID0gIn19IjsKCQkJdmFyIE4gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiA9IHQuc3BsaXQoIjoiKSwKCQkJCQlpID0gbi5zaGlmdCgpLAoJCQkJCWEgPSBuLmpvaW4oIjoiKSB8fCAiIjsKCQkJCXJldHVybiBhICYmIChhID0gIiwgIiArIGEpLCAiJGhlbHBlcnMuIiArIGkgKyAiKCIgKyBlICsgYSArICIpIgoJCQl9OwoJCQlsLnBhcnNlciA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWUgPSBlLnJlcGxhY2UoL15ccy8sICIiKTsKCQkJCXZhciBuID0gZS5zcGxpdCgiICIpLAoJCQkJCWkgPSBuLnNoaWZ0KCksCgkJCQkJYSA9IG4uam9pbigiICIpOwoJCQkJc3dpdGNoIChpKSB7CgkJCQkJY2FzZSAiaWYiOgoJCQkJCQllID0gImlmKCIgKyBhICsgIil7IjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAiZWxzZSI6CgkJCQkJCW4gPSAiaWYiID09PSBuLnNoaWZ0KCkgPyAiIGlmKCIgKyBuLmpvaW4oIiAiKSArICIpIiA6ICIiLCBlID0gIn1lbHNlIiArIG4gKyAieyI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgIi9pZiI6CgkJCQkJCWUgPSAifSI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgImVhY2giOgoJCQkJCQl2YXIgbyA9IG5bMF0gfHwgIiRkYXRhIiwKCQkJCQkJCXIgPSBuWzFdIHx8ICJhcyIsCgkJCQkJCQlsID0gblsyXSB8fCAiJHZhbHVlIiwKCQkJCQkJCWMgPSBuWzNdIHx8ICIkaW5kZXgiLAoJCQkJCQkJZCA9IGwgKyAiLCIgKyBjOwoJCQkJCQkiYXMiICE9PSByICYmIChvID0gIltdIiksIGUgPSAiJGVhY2goIiArIG8gKyAiLGZ1bmN0aW9uKCIgKyBkICsgIil7IjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAiL2VhY2giOgoJCQkJCQllID0gIn0pOyI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgImVjaG8iOgoJCQkJCQllID0gInByaW50KCIgKyBhICsgIik7IjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAicHJpbnQiOgoJCQkJCWNhc2UgImluY2x1ZGUiOgoJCQkJCQllID0gaSArICIoIiArIG4uam9pbigiLCIpICsgIik7IjsKCQkJCQkJYnJlYWs7CgkJCQkJZGVmYXVsdDoKCQkJCQkJaWYgKC9eXHMqXHxccypbXHdcJF0vLnRlc3QoYSkpIHsKCQkJCQkJCXZhciBwID0gITA7CgkJCQkJCQkwID09PSBlLmluZGV4T2YoIiMiKSAmJiAoZSA9IGUuc3Vic3RyKDEpLCBwID0gITEpOwoJCQkJCQkJZm9yICh2YXIgaCA9IDAsIHUgPSBlLnNwbGl0KCJ8IiksIG0gPSB1Lmxlbmd0aCwgZiA9IHVbaCsrXTsgbSA+IGg7IGgrKykgZiA9IE4oZiwgdVtoXSk7CgkJCQkJCQllID0gKHAgPyAiPSIgOiAiPSMiKSArIGYKCQkJCQkJfSBlbHNlIGUgPSBzLmhlbHBlcnNbaV0gPyAiPSMiICsgaSArICIoIiArIG4uam9pbigiLCIpICsgIik7IiA6ICI9IiArIGUKCQkJCX0KCQkJCXJldHVybiBlCgkJCX0sIGkgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiBzCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0oKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQlpID0gZnVuY3Rpb24oKSB7CgkJCXZhciBlID0ge30sCgkJCQl0ID0ge307CgkJCXJldHVybiBlLmdldCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXJldHVybiB0W2VdCgkJCX0sIGUuc2V0ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJdm9pZCAwID09PSBuICYmIGUgPyB0ID0gZSA6IHRbZV0gPSBuCgkJCX0sIGUKCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gdC51X3NlcnZlciwKCQkJCQlpID0gInUuIiArIHQudV9rZXkgKyAiLmNvbSI7CgkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsKCQkJCQlpZiAoZS51cmwuaW5kZXhPZihpKSA+IC0xKSByZXR1cm4gZS51cmw7CgkJCQkJdmFyIGEgPSAiIjsKCQkJCQlyZXR1cm4gZS5leHQgJiYgKGEgPSAiLSIgKyBlLmV4dCksIGUuaXNfbW9iaWxlICYmIGUuaXNicm93c2VyID8gZS51cmwgOiBuICsgIi91bmlvbi9nby8/c2l0ZV9pZD0iICsgZS5zaXRlX2lkICsgIiZ0YXJnZXRfdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS51cmwpICsgIiZ1bmlvbj0iICsgZS51bmlvbiArICImY29sdW1uPSIgKyBlLm1vZCArICItIiArIGUuZHBfaWQgKyBhCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICd7e2VhY2ggZGF0YX19XG4gIDxsaSBjbGFzcz0ie3skaW5kZXg9PTA/XCdsaV9maXJzdFwnOlwnXCd9fSI+XG4gICAgPGEgY2xhc3M9Iml0ZW1faW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgIDxpbWcgc3JjPSJ7eyR2YWx1ZS5pbWdfdXJsfX0iPlxuICAgICAge3tpZiAkdmFsdWUubmV3ZGlzY291bnR9fVxuICAgICAgICA8ZW0+e3skdmFsdWUubmV3ZGlzY291bnR9feaKmDwvZW0+XG4gICAgICB7ey9pZn19XG4gICAgPC9hPlxuICAgIDxkaXYgY2xhc3M9ImlubmVyX2RwX2Rlc2MiPlxuICAgICAgPGEgY2xhc3M9ImRwX3RpdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAge3skdmFsdWUudGl0bGV9fVxuICAgICAgPC9hPlxuICAgICAgPGEgY2xhc3M9InNtYWxsX2Rlc2MiPlxuICAgICAgICB7e2lmICR2YWx1ZS5zaXRlX25hbWV9fVxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlX2ljb24iIHRpdGxlPSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSI+PGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZmF2aWNvbi97eyR2YWx1ZS5zaXRlX2lkfX0uaWNvIj48L3NwYW4+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgICAgPHNwYW4gY2xhc3M9Im5ld19wcmljZSI+XG4gICAgICAgICAge3tpZiAkdmFsdWUudHlwZXMgPT0gXCdmYXNoaW9uXCd9fVxuICAgICAgICAgICAgwqVcbiAgICAgICAgICB7ey9pZn19XG4gICAgICAgICAge3skdmFsdWUucHJpY2V9fVxuXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Im9sZF9wcmljZSIgc3R5bGU9ImRpc3BsYXk6IHt7KCR2YWx1ZS5oaWdoZXN0KT9cJ2lubGluZS1ibG9ja1wnOlwnbm9uZVwnfX0iPnt7JHZhbHVlLmhpZ2hlc3R9fTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgPC9saT5cbnt7L2VhY2h9fScKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9pbm5lcl9sb3ciIGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UiPlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfaGVhZCI+XG4gICAgPGEgY2xhc3M9InNpdGVfaWNvbiIge3tpZiBuZXdfZXh0ZW5zaW9ufX0gaHJlZj0iaHR0cDovL3d3dy57e2V4dE5hbWV9fS5jb20iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIiB7ey9pZn19PjwvYT5cbiAgICA8cD5cbiAgICAgIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICAgICAg5b2T5YmN6aG1e3tudW19feasvuWVhuWTgeWkhOS6juWOhuWPsuacgOS9juS7t1xuICAgICAge3tlbHNlfX1cbiAgICAgICAg54yc5L2g5Zac5qyiXG4gICAgICB7ey9pZn19XG4gICAgPC9wPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfcGFnZSI+XG4gICAgICA8c3BhbiBjbGFzcz0iY3VyX3BhZ2UiPjE8L3NwYW4+XG4gICAgICA8c3Bhbj4vPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9InRvdGFsX3BhZ2UiPjE8L3NwYW4+XG4gICAgPC9hPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX2NvbnRlbnQiPlxuICAgIDxhIGNsYXNzPSJpbm5lcl9wYWdlX2xlZnQgdHVybnBhZ2UiPjxlbT48L2VtPjwvYT5cbiAgICA8ZGl2IGNsYXNzPSJpbm5lcl9wcm9fbGlzdCIgPlxuICAgICAgPHVsPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9yaWdodCB0dXJucGFnZSI+PGVtPjwvZW0+PC9hPlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAzMThweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19XzUxYnV5IC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2V7XG4gICAgICB3aWR0aDogOTklO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1fZGFuZ2RhbmcgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9mZWluaXUgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfY29udGVudCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIHtcbiAgICAgIGhlaWdodDogNTJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIHAge1xuICAgICAgbGluZS1oZWlnaHQ6IDUycHg7XG4gICAgICBoZWlnaHQ6IDUycHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzU5NTc1NztcbiAgICAgIG1hcmdpbi1sZWZ0OiA1OXB4O1xuICAgIH1cbiAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgdG9wOiAyMHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2hlYWQgLnNpdGVfaWNvbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMThweDtcbiAgICAgIGxlZnQ6IDE4cHg7XG4gICAgICBoZWlnaHQ6IDIxcHg7XG4gICAgICB3aWR0aDogMjRweDtcbiAgICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9qZ3dzX3NpdGVfaWNvbjJfMS5wbmdcJykgbm8tcmVwZWF0O1xuICAgICAge3tlbHNlfX1cbiAgICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTFsb2dvLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgICB7ey9pZn19XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgKntcbiAgICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICAgIH1cbiAgICBhLmlubmVyX3BhZ2VfbGVmdCwuaW5uZXJfcGFnZV9yaWdodCB7XG4gICAgICB3aWR0aDogNjJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIGEuaW5uZXJfcGFnZV9sZWZ0IGVtIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogODBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyOHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTViYWNrX25vcm1hbC5qcGdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICBhLmlubmVyX3BhZ2VfbGVmdCBlbTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxNWJhY2tfaG92ZXIuanBnXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmlubmVyX3BhZ2VfcmlnaHQgZW0ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICBtYXJnaW4tdG9wOiA4MHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxNWZvcndhcmRfbm9ybWFsLmpwZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5pbm5lcl9wYWdlX3JpZ2h0IGVtOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy8xMjE1Zm9yd2FyZF9ob3Zlci5qcGdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICB3aWR0aDogMTAwMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfcGFnZV9sZWZ0LCAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpLmxpX2ZpcnN0IHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkgLml0ZW1faW1nIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIGxpIGltZyB7XG4gICAgICBoZWlnaHQ6IDE3MHB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIGxpIC5zaXRlX2ljb24gaW1ne1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBhIGVte1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWE1NDEyO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB3aWR0aDogNDJweDtcbiAgICAgIGhlaWdodDogMTVweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyB7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyAuZHBfdGl0bGV7XG4gICAgICBjb2xvcjogIzU5NTc1NztcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiAxNzBweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2Mge1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgIH1cbiAgICAuc21hbGxfZGVzYyAubmV3X3ByaWNlIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjZDgwMDAwO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5vbGRfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM5RkEwQTA7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nOwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHRCcmFuZH19X2xvd3ByaV9taW4iIGNsYXNzPSJsb3dwX2JnXG4gIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICBiZ19sb3dcbiAge3tlbHNlfX1cbiAgICBiZ19ndWVzc1xuICB7ey9pZn19XG4iPjwvZGl2PlxuPGRpdiBpZD0ie3tleHRCcmFuZH19X2xvd3ByaSIgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQiPlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2hlYWQiPlxuICAgIDxzcGFuIGNsYXNzPSJjbG9zZV9idG4iIHRpdGxlPSLlhbPpl60iPjwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Im1hcmdpblQiPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2NvbnRlbnQiPlxuICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19X2xvd3ByaV9saXN0Ij5cbiAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgPGxpIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2l0ZW0ge3tleHRCcmFuZH19X2luZGV4e3soJGluZGV4PT1kYXRhLmxlbmd0aC0xKT8kaW5kZXg6MH19Ij5cbiAgICAgICAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X2RwX2ltZyB7e2V4dE5hbWV9fV9saW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgZGF0YS10aXA9InRpcF9saW5rIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUuaW1nX3VybH19Ij5cbiAgICAgICAgICAgIHt7aWYgJHZhbHVlLm5ld2Rpc2NvdW50fX1cbiAgICAgICAgICAgICAgPGVtPnt7JHZhbHVlLm5ld2Rpc2NvdW50fX3mipg8L2VtPlxuICAgICAgICAgICAge3svaWZ9fVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fZHBfZGVzIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1fcHJpY2UiID7CpXt7JHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICB7e2lmICR2YWx1ZS5oaWdoZXN0fX1cbiAgICAgICAgICAgICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV9sYXN0X3ByaWNlIj7CpXt7JHZhbHVlLmhpZ2hlc3R9fTwvYT5cbiAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgIHt7L2VhY2h9fVxuICAgIDwvdWw+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJwYWdlcyI+XG4gICAgPHNwYW4gY2xhc3M9InBhZ2VfbGVmdCBsb3dwX2JnIG9uZV9wYWdlIj48L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9InBlcnBhZ2UiPjE8L3NwYW4+XG4gICAgPHNwYW4+Lzwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz0idG90YWxwYWdlIj57e3BhZ2VudW19fTwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz0icGFnZV9yaWdodCBsb3dwX2JnIG9uZV9wYWdlIj48L3NwYW4+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAvKueMnOS9oOWWnOasouaooeWdlyovXG4gICN7e2V4dEJyYW5kfX1fbG93cHJpX21pbntcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgcmlnaHQ6IDBweDtcbiAgICBoZWlnaHQ6IDEyNXB4O1xuICAgIHRvcDogMTc2cHg7XG4gICAgd2lkdGg6IDM0cHg7XG4gICAgei1pbmRleDogMjE0NzQ4MzY0MDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTNweCAtMnB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpX21pbi5fbW92ZVJpZ2h0LCAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0Ll9tb3ZlUmlnaHR7XG4gICAgcmlnaHQ6IDM4cHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfbWluOmhvdmVye1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDNweCAtMnB4O1xuICB9XG4gIC5tYXJnaW5UIHtcbiAgICBoZWlnaHQ6IDEycHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgcmlnaHQ6IDBweDtcbiAgICB0b3A6IDE3NnB4O1xuICAgIHdpZHRoOjEzNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkYmRiZGI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICB6LWluZGV4OiAyMTQ3NDgzNjQwO1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLmNsb3NlX2J0bntcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGhlaWdodDogMjBweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvc2VhcmNoUHJpUmlnaHRMb3dfY2xvc2UucG5nXCcpIDhweCAzcHggbm8tcmVwZWF0O1xuICB9XG4gIC5scF9kZXNjMSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAzOXB4O1xuICAgIHRvcDogMTRweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgfVxuICAubHBfZGVzYzIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDI5cHg7XG4gICAgbGVmdDogNDBweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fc2l0ZV9pY29uIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiA4cHg7XG4gICAgdG9wOiAxNHB4O1xuICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvc2VhcmNoUHJpUmlnaHRMb3dfamd3c2xvZ28ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB7e2Vsc2V9fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3NlYXJjaFByaVJpZ2h0TG93X2xvZ28ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB7ey9pZn19XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X2xvd3ByaV9jb250ZW50e1xuICAgIGhlaWdodDogMzU1cHg7XG4gICAgd2lkdGg6IDEzNHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfbGlzdCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfaGVhZHtcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgY29sb3I6IzI4ODdjOTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgd2lkdGg6IDEzNHB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgdWwgbGl7XG4gICAgaGVpZ2h0OiAxNTRweDtcbiAgICB3aWR0aDogMTM0cHg7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICBhLnt7ZXh0QnJhbmR9fV9kcF9pbWcge1xuICAgICAgaGVpZ2h0OiAxMTBweDtcbiAgICAgIHdpZHRoOiAxMTBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gIC57e2V4dEJyYW5kfX1fZHBfaW1nIGltZyB7XG4gICAgaGVpZ2h0OiAxMTBweDtcbiAgICB3aWR0aDogMTEwcHg7XG4gIH1cbiAgLnt7ZXh0QnJhbmR9fV9kcF9pbWcgZW0ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwcHg7XG4gICAgYm90dG9tOiAwcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjVlMDA7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgd2lkdGg6IDQycHg7XG4gICAgaGVpZ2h0OiAxNXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICB9XG5cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X3ByaWNle1xuICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjZDgwMDAwO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuICAucGFnZXMge1xuICAgIGhlaWdodDogMzhweDtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UxZTFlMTtcbiAgfVxuICAucGFnZXMgc3BhbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgd2lkdGg6IDEycHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgfVxuICAue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAucGFnZXMgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnBhZ2VzIC5wYWdlX2xlZnQge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMThweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTg1cHggLTYxcHg7XG4gIH1cbiAgLnBhZ2VzIC5wYWdlX3JpZ2h0IHtcbiAgICBtYXJnaW4tbGVmdDogMjJweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEwOHB4IC02MXB4O1xuICB9XG4gIC5wYWdlcyAub25lX3BhZ2Uge1xuICAgIHt7aWYgcGFnZW51bSA9PSAxfX1cbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAge3svaWZ9fVxuICB9XG4gIC5sb3dwX2JnIHtcbiAgICB7e2lmIG5ld19leHRlbnNpb259fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3JpZ2h0X2xvd19uZXcyLnBuZ1wnKTtcbiAgICB7e2Vsc2V9fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3JpZ2h0X2xvd19uZXcxLnBuZ1wnKTtcbiAgICB7ey9pZn19XG4gIH1cbiAgLmxvd3BfYmcuYmdfZ3Vlc3Mge1xuICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvcmlnaHRfZ3Vlc3NfbmV3Mi5wbmdcJyk7XG4gICAge3tlbHNlfX1cbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9yaWdodF9ndWVzc19uZXcxLnBuZ1wnKTtcbiAgICB7ey9pZn19XG4gICAgXG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X2RwX2RlcyB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiAxNTBweFxuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9kcF9kZXM+IGF7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiAxMTBweDtcbiAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIH1cblxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fZHBfZGVzIC57e2V4dEJyYW5kfX1fbGFzdF9wcmljZSB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGNvbG9yOiAjOUZBMEEwO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IC01cHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAqe1xuICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG4gICAgXG4gIDwvc3R5bGU+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ7e2V4dEJyYW5kfX1fbG93cHJpX21pbiIgY2xhc3M9Imxvd3BfYmdcbiAge3tpZiB0eXBlID09IFwnbG93XCd9fVxuICAgIGJnX2xvd1xuICB7e2Vsc2V9fVxuICAgIGJnX2d1ZXNzXG4gIHt7L2lmfX1cbiI+PC9kaXY+XG48ZGl2IGlkPSJ7e2V4dEJyYW5kfX1fbG93cHJpIiBjbGFzcz0ie3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCI+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfaGVhZCI+XG4gICAgPHNwYW4gY2xhc3M9ImNsb3NlX2J0biIgdGl0bGU9IuWFs+mXrSI+PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ibWFyZ2luVCI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfY29udGVudCI+XG4gICAgPHVsIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2xpc3QiPlxuICAgICAge3tlYWNoIGRhdGF9fVxuICAgICAgICA8bGkgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfaXRlbSB7e2V4dEJyYW5kfX1faW5kZXh7eygkaW5kZXg9PWRhdGEubGVuZ3RoLTEpPyRpbmRleDowfX0iPlxuICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1fZHBfaW1nIHt7ZXh0TmFtZX19X2xpbmsiIGhyZWY9Int7JHZhbHVlLnVybH19IiBkYXRhLXRpcD0idGlwX2xpbmsiIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+XG4gICAgICAgICAgICA8aW1nIHNyYz0ie3skdmFsdWUuaW1nX3VybH19IiBkYXRhLW9yaWdpbmFsPSJ7eyR2YWx1ZS5pbWdfdXJsfX0iPlxuICAgICAgICAgICAge3tpZiAkdmFsdWUubmV3ZGlzY291bnR9fVxuICAgICAgICAgICAgICA8ZW0+e3skdmFsdWUubmV3ZGlzY291bnR9feaKmDwvZW0+XG4gICAgICAgICAgICB7ey9pZn19XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9kcF9kZXMiPlxuICAgICAgICAgICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV9wcmljZSIgPsKle3skdmFsdWUucHJpY2V9fTwvYT5cbiAgICAgICAgICAgIHt7aWYgJHZhbHVlLmhpZ2hlc3R9fVxuICAgICAgICAgICAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X2xhc3RfcHJpY2UiPsKle3skdmFsdWUuaGlnaGVzdH19PC9hPlxuICAgICAgICAgICAge3svaWZ9fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAge3svZWFjaH19XG4gICAgPC91bD5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9InBhZ2VzIj5cbiAgICA8c3BhbiBjbGFzcz0icGFnZV9sZWZ0IGxvd3BfYmcgb25lX3BhZ2UiPjwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz0icGVycGFnZSI+MTwvc3Bhbj5cbiAgICA8c3Bhbj4vPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJ0b3RhbHBhZ2UiPnt7cGFnZW51bX19PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJwYWdlX3JpZ2h0IGxvd3BfYmcgb25lX3BhZ2UiPjwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC8q54yc5L2g5Zac5qyi5qih5Z2XKi9cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfbWlue1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMHB4O1xuICAgIGhlaWdodDogMTI1cHg7XG4gICAgdG9wOiAxNzZweDtcbiAgICB3aWR0aDogMzRweDtcbiAgICB6LWluZGV4OiAyMTQ3NDgzNjQwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtM3B4IC0ycHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfbWluLl9tb3ZlUmlnaHQsICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQuX21vdmVSaWdodHtcbiAgICByaWdodDogMzhweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaV9taW46aG92ZXJ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0M3B4IC0ycHg7XG4gIH1cbiAgLm1hcmdpblQge1xuICAgIGhlaWdodDogMTJweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0e1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMHB4O1xuICAgIHRvcDogMTc2cHg7XG4gICAgd2lkdGg6MTM0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RiZGJkYjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIHotaW5kZXg6IDIxNDc0ODM2NDA7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAuY2xvc2VfYnRue1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDNweDtcbiAgICB0b3A6IDdweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy97e2V4dEJyYW5kfX1fY2xvc2VfaWNvbjIucG5nXCcpIDNweCA0cHggbm8tcmVwZWF0O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9zaXRlX2ljb24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgd2lkdGg6IDI2cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDVweDtcbiAgICB0b3A6IDRweDtcbiAgICB7e2lmIG5ld19leHRlbnNpb259fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3t7ZXh0QnJhbmR9fV9zaXRlX2ljb24yXzEucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB7e2Vsc2V9fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2d3ZF9zaXRlX2ljb24yLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAge3svaWZ9fVxuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfY29udGVudHtcbiAgICBoZWlnaHQ6IDM1NXB4O1xuICAgIHdpZHRoOiAxMzRweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fbG93cHJpX2xpc3Qge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDBweDtcbiAgICBtYXJnaW46IDBweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fbG93cHJpX2hlYWR7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xuICAgIHdpZHRoOiAxMzRweDtcbiAgICBjb2xvcjojMjg4N2M5O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IHVsIGxpe1xuICAgIHt7aWYgdHlwZT09IFwnbG93XCd9fVxuICAgICAgaGVpZ2h0OiAxNTRweDtcbiAgICB7e2Vsc2V9fVxuICAgICAgaGVpZ2h0OiAxNDBweDtcbiAgICB7ey9pZn19XG4gICAgd2lkdGg6IDEzNHB4O1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbiAgYS57e2V4dEJyYW5kfX1fZHBfaW1nIHtcbiAgICAgIGhlaWdodDogMTEwcHg7XG4gICAgICB3aWR0aDogMTEwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAue3tleHRCcmFuZH19X2RwX2ltZyBpbWcge1xuICAgIGhlaWdodDogMTEwcHg7XG4gICAgd2lkdGg6IDExMHB4O1xuICB9XG4gIC57e2V4dEJyYW5kfX1fZHBfaW1nIGVtIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMHB4O1xuICAgIGJvdHRvbTogMHB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY1ZTAwO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIHdpZHRoOiA0MnB4O1xuICAgIGhlaWdodDogMTVweDtcbiAgICBsaW5lLWhlaWdodDogMTVweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgfVxuXG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9wcmljZXtcbiAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogI2Q4MDAwMDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cbiAgLnBhZ2VzIHtcbiAgICBoZWlnaHQ6IDM4cHg7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlMWUxZTE7XG4gIH1cbiAgLnBhZ2VzIHNwYW4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHdpZHRoOiAxMnB4O1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gIH1cbiAgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnBhZ2VzIHNwYW4ge1xuICAgIGZsb2F0OiBsZWZ0O1xuICB9XG4gIC5wYWdlcyAucGFnZV9sZWZ0IHtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE4cHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC04NXB4IC02MXB4O1xuICB9XG4gIC5wYWdlcyAucGFnZV9yaWdodCB7XG4gICAgbWFyZ2luLWxlZnQ6IDIycHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMDhweCAtNjFweDtcbiAgfVxuICAucGFnZXMgLm9uZV9wYWdlIHtcbiAgICB7e2lmIHBhZ2VudW0gPT0gMX19XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIHt7L2lmfX1cbiAgfVxuICAubG93cF9iZyB7XG4gICAge3tpZiBuZXdfZXh0ZW5zaW9ufX1cbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9yaWdodF9sb3dfbmV3Mi5wbmdcJyk7XG4gICAge3tlbHNlfX1cbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9yaWdodF9sb3dfbmV3MS5wbmdcJyk7XG4gICAge3svaWZ9fVxuICB9XG4gIC5sb3dwX2JnLmJnX2d1ZXNzIHtcbiAgICB7e2lmIG5ld19leHRlbnNpb259fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3JpZ2h0X2d1ZXNzX25ldzIucG5nXCcpO1xuICAgIHt7ZWxzZX19XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvcmlnaHRfZ3Vlc3NfbmV3MS5wbmdcJyk7XG4gICAge3svaWZ9fVxuICAgIFxuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9kcF9kZXMge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogMTUwcHhcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fZHBfZGVzPiBhe1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogMTEwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICB9XG5cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X2RwX2RlcyAue3tleHRCcmFuZH19X2xhc3RfcHJpY2Uge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBjb2xvcjogIzlGQTBBMDtcbiAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAtNXB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgKntcbiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuICAgIFxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgoJCQlmdW5jdGlvbiBhKGUpIHsKCQkJCWUgPSBrKGUpOwoJCQkJdmFyIG4gPSB1KCk7CgkJCQlpZiAoMCAhPT0gbikgewoJCQkJCWcgPSBlLmxlbmd0aCAlIG4gPT0gMCA/IGUubGVuZ3RoIC8gbiA6IHBhcnNlSW50KGUubGVuZ3RoIC8gbikgKyAxLCB0KCJib2R5IikuYXBwZW5kKF8uY29tcGlsZShmKSh7CgkJCQkJCWRhdGE6IGUsCgkJCQkJCXR5cGU6IGIudHlwZSwKCQkJCQkJZGF0YVNpemU6IGUubGVuZ3RoLAoJCQkJCQlwYWdlbnVtOiBnLAoJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlciwKCQkJCQkJbmV3X2V4dGVuc2lvbjogaS5uZXdfZXh0ZW5zaW9uLAoJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kCgkJCQkJfSkpOwoJCQkJCXZhciBhID0gIuWQjOexu+WOhuWPsuacgOS9juiKguS7tyI7CgkJCQkJImZhdm9yIiA9PSBiLnR5cGUgJiYgKGEgPSAi54yc5L2g5Zac5qyiIiksIHYubG9nKGEgKyAi5Y+z5L6n5oKs5rWu5bGV56S6IiksIHMoKSwgbCgpLCBvKDAsIG4pLCByKCksIGMoYSksIGkuSUU3ICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgdWwgbGkiKS5jc3MoInBhZGRpbmctdG9wIiwgIjBweCIpCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIG8oZSwgbikgewoJCQkJdmFyIGEgPSB0KCIuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCBsaSIpOwoJCQkJdy5pbml0KGEsIGUsIG4sIDcwKQoJCQl9CgoJCQlmdW5jdGlvbiByKCkgewoJCQkJdCh3aW5kb3cpLndpZHRoKCkgPD0gMTI4MCAmJiAoeSA9ICExLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLmhpZGUoKSkKCQkJfQoKCQkJZnVuY3Rpb24gcygpIHsKCQkJCXZhciBlID0gewoJCQkJCQlmYXZvcjogMTQwLAoJCQkJCQlsb3c6IDE1NAoJCQkJCX0sCgkJCQkJbiA9IHUoKSwKCQkJCQlhID0gZVtiLnR5cGVdLAoJCQkJCW8gPSBhICogbjsKCQkJCWkuSUU3ICYmIChvICs9IG4pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2NvbnRlbnQiKS5jc3MoImhlaWdodCIsIG8gKyAicHgiKQoJCQl9CgoJCQlmdW5jdGlvbiBsKCkgewoJCQkJdmFyIGUgPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2d1ZXNzX2Zhdm9yIik7CgkJCQlpZiAodChlKS5pcygiOnZpc2libGUiKSkgewoJCQkJCXZhciBuID0gdChlKS5vZmZzZXQoKSwKCQkJCQkJYSA9IHQoIi4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0Iikub2Zmc2V0KCksCgkJCQkJCW8gPSB0KHdpbmRvdykud2lkdGgoKSAtIDIwMiwKCQkJCQkJciA9IHQoIiMiICsgaS5leHRCcmFuZCArICJfZ3Vlc3NfZmF2b3IiKS5vdXRlcldpZHRoKCksCgkJCQkJCXMgPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2d1ZXNzX2Zhdm9yIikub3V0ZXJIZWlnaHQoKTsKCQkJCQluLmxlZnQgKyByID49IG8gJiYgYS50b3AgPD0gbi50b3AgKyBzID8gdCgiLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQiKS5oaWRlKCkgOiB0KCIuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCIpLnNob3coKQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCXQoIi5wYWdlX3JpZ2h0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJaCgpLCBkKDEpCgkJCQl9KSwgdCgiLnBhZ2VfbGVmdCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXAoKSwgZCgtMSkKCQkJCX0pLCB0KCIuY2xvc2VfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJeSA9ICExLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IikuaGlkZSgpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbWluIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJeSA9ICExLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0Iikuc2hvdygpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkgbGkiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2LmxvZyhlICsgIuWPs+S+p+aCrOa1rueCueWHuyIpCgkJCQl9KSwgdCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQl5ICYmICh0KHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAxZTMgJiYgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCIpLmhpZGUoKSwgdCh3aW5kb3cpLnNjcm9sbFRvcCgpIDwgMWUzICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQiKS5zaG93KCksIGwoKSkKCQkJCX0pLCB0KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkgewoJCQkJCXkgJiYgbCgpCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCXZhciBuID0gcGFyc2VJbnQodCgiLnBlcnBhZ2UiKS50ZXh0KCkpOwoJCQkJMSA9PSBlICYmIChuID09IGcgPyBuID0gMSA6IChvKG4gKiB1KCksIChuICsgMSkgKiB1KCkpLCBuICs9IDEpKSwgLTEgPT0gZSAmJiAoMSA9PSBuID8gbiA9IGcgOiAobiAtPSAxLCBvKG4gKiB1KCksIChuICsgMSkgKiB1KCkpKSksIHQoIi5wZXJwYWdlIikudGV4dChuKQoJCQl9CgoJCQlmdW5jdGlvbiBwKCkgewoJCQkJdmFyIGUgPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2NvbnRlbnQiKS5oZWlnaHQoKSwKCQkJCQluID0gcGFyc2VJbnQodCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCAuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9saXN0IikuY3NzKCJ0b3AiKS5yZXBsYWNlKCJweCIsICIiKSksCgkJCQkJYSA9IHBhcnNlSW50KHQoIi5wZXJwYWdlIikudGV4dCgpKTsKCQkJCWkuSUU3ID8gKDEgPT0gYSAmJiAobiA9IC1lICogZyksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIiwgbiArIGUgKyAicHgiKSkgOiAoMSA9PSBhICYmIChuID0gLWUgKiBnLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2xpc3QiKS5jc3MoInRvcCIsIG4gKyAicHgiKSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIiwgbiArIGUgKyAicHgiKSkKCQkJfQoKCQkJZnVuY3Rpb24gaCgpIHsKCQkJCXZhciBlID0gdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCAuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9jb250ZW50IikuaGVpZ2h0KCksCgkJCQkJbiA9IHBhcnNlSW50KHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIikucmVwbGFjZSgicHgiLCAiIikpLAoJCQkJCWEgPSBwYXJzZUludCh0KCIucGVycGFnZSIpLnRleHQoKSk7CgkJCQlpLklFNyA/IChhID09IGcgJiYgKG4gPSBlKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCAuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9saXN0IikuY3NzKCJ0b3AiLCBuIC0gZSArICJweCIpKSA6IChhID09IGcgJiYgKG4gPSBlLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2xpc3QiKS5jc3MoInRvcCIsIG4gKyAicHgiKSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIiwgbiAtIGUgKyAicHgiKSkKCQkJfQoKCQkJZnVuY3Rpb24gdSgpIHsKCQkJCXZhciBlID0gMCwKCQkJCQluID0gODksCgkJCQkJaSA9IDQwMDsKCQkJCWIgJiYgYi5vdGhlcmggJiYgKGkgPSBiLm90aGVyaCksIGIgJiYgYi5pdGVtaCAmJiAobiA9IGIuaXRlbWgpOwoJCQkJdmFyIGEgPSB0KHdpbmRvdykuaGVpZ2h0KCk7CgkJCQlyZXR1cm4gYSA+IHNjcmVlbi5oZWlnaHQgJiYgKGEgPSBzY3JlZW4uaGVpZ2h0IC0gMjAwKSwgZSA9IHBhcnNlSW50KChhIC0gaSkgLyBuKSwgZSA+IDYgJiYgKGUgPSA2KSwgYiAmJiBiLmxlbiAmJiBiLmxlbiA8IGUgJiYgKGUgPSBiLmxlbiksIGUKCQkJfQoKCQkJZnVuY3Rpb24gbShlKSB7CgkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgdC5wdXNoKGVbbl0pOwoJCQkJcmV0dXJuIHQuc29ydChmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gTWF0aC5yYW5kb20oKSAtIE1hdGgucmFuZG9tKCkKCQkJCX0pCgkJCX0KCQkJdmFyIGYsIGcsIF8gPSBuKDE2KSwKCQkJCXggPSBuKDE3KSwKCQkJCXcgPSBuKDI0KSwKCQkJCXYgPSBuKDEzKSwKCQkJCWIgPSB7fSwKCQkJCXkgPSAhMCwKCQkJCWsgPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGIuZm9sZEZvcmJpdCA9PT0gITAgJiYgKHkgPSAhMSksIGIuc29ydEZvcmJpdCAhPT0gITAgJiYgKGUgPSBtKGUpKSwgZQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCBuLCBvKSB7CgkJCQkwICE9IHguZ2V0KCJzaG93X2xvd3ByaSIpICYmICJsdXlvdSIgPT0gaS5idHlwZSAmJiAoZiA9IG4sIG8gJiYgKGIgPSBvKSwgYShlKSwgInNhbGUuamQuY29tIiA9PSBsb2NhdGlvbi5ob3N0ICYmICh0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9taW4iKS5hZGRDbGFzcygiX21vdmVSaWdodCIpLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLmFkZENsYXNzKCJfbW92ZVJpZ2h0IikpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgoJCQlmdW5jdGlvbiBuKGUsIG4sIGksIGEpIHsKCQkJCXZhciBvID0gdC5uZXdfZXh0ZW5zaW9uID8gImRwX2RlZmF1bHQyIiA6ICJkcF9kZWZhdWx0IiwKCQkJCQlyID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGkgfHwgIiIgPT0gaSB8fCBudWxsID09IGkgPyA5MCA6IGksCgkJCQkJcyA9IGUsCgkJCQkJbCA9IG5ldyBJbWFnZTsKCQkJCSJtc2llIiA9PSB0LmJyb3dzZXIuYWdlbnQgJiYgdC5icm93c2VyLnZlciA8IDExID8gbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoImNvbXBsZXRlIiA9PSBsLnJlYWR5U3RhdGUgfHwgImxvYWRlZCIgPT0gbC5yZWFkeVN0YXRlKSB7CgkJCQkJCWlmIChsLndpZHRoID4gMCAmJiBsLmhlaWdodCA+IDApIHsKCQkJCQkJCXZhciB0ID0gciAvIGwud2lkdGggPCByIC8gbC5oZWlnaHQgPyByIC8gbC53aWR0aCA6IHIgLyBsLmhlaWdodDsKCQkJCQkJCTEgPj0gdCA/IChuLmNzcygid2lkdGgiLCBsLndpZHRoICogdCksIG4uY3NzKCJoZWlnaHQiLCBsLmhlaWdodCAqIHQpKSA6IChuLmNzcygid2lkdGgiLCBsLndpZHRoKSwgbi5jc3MoImhlaWdodCIsIGwuaGVpZ2h0KSkKCQkJCQkJfQoJCQkJCQluLmF0dHIoInNyYyIsIGUpCgkJCQkJfQoJCQkJfSA6IGwub25sb2FkID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKDEgPT0gbC5jb21wbGV0ZSkgewoJCQkJCQlpZiAobC53aWR0aCA+IDAgJiYgbC5oZWlnaHQgPiAwKSB7CgkJCQkJCQl2YXIgdCA9IHIgLyBsLndpZHRoIDwgciAvIGwuaGVpZ2h0ID8gciAvIGwud2lkdGggOiByIC8gbC5oZWlnaHQ7CgkJCQkJCQkxID49IHQgPyAobi5jc3MoIndpZHRoIiwgbC53aWR0aCAqIHQpLCBuLmNzcygiaGVpZ2h0IiwgbC5oZWlnaHQgKiB0KSkgOiAobi5jc3MoIndpZHRoIiwgbC53aWR0aCksIG4uY3NzKCJoZWlnaHQiLCBsLmhlaWdodCkpCgkJCQkJCX0KCQkJCQkJbi5hdHRyKCJzcmMiLCBlKSwgYSAmJiBhKCkKCQkJCQl9CgkJCQl9LCBsLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKCQkJCQluLmF0dHIoInNyYyIsIHQuc19zZXJ2ZXIgKyAoIi9pbWFnZXMvZXh0ZW5zaW9ucy8iICsgbyArICIuanBnIikpLCBuLmF0dHIoImRhdGEtb3JpZ2luYWwiLCB0LnNfc2VydmVyICsgKCIvaW1hZ2VzL2V4dGVuc2lvbnMvIiArIG8gKyAiLmpwZyIpKQoJCQkJfSwgbC5zcmMgPSBzCgkJCX0KCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCB0LCBpLCBhKSB7CgkJCQl2YXIgbyA9IDkwOwoJCQkJYSAmJiAobyA9IGEpOwoJCQkJZm9yICh2YXIgciA9IHQ7IGkgPiByOyByKyspIHsKCQkJCQl2YXIgcyA9IGUuZXEocikuZmluZCgiaW1nIikuZXEoMCk7CgkJCQkJcy5hdHRyKCJkYXRhLW9yaWdpbmFsIikgIT0gcy5hdHRyKCJzcmMiKSAmJiBuKHMuYXR0cigiZGF0YS1vcmlnaW5hbCIpLCBzLCBvKQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbig5KSwKCQkJCW8gPSBuKDEzKSwKCQkJCXIgPSBuKDE2KSwKCQkJCXMgPSBuKDI2KSwKCQkJCWwgPSB2b2lkIDAsCgkJCQljID0gdm9pZCAwLAoJCQkJZCA9IFt7CgkJCQkJdXJsOiAiaHR0cDovL3d3dy55b3VzaGlqaWUuY29tL3podWFudGkvMjAxNi9zcWRjL3NxZGMuaHRtbD9zcmM9bGl1bGlhbmciLAoJCQkJCWltZ191cmw6ICJodHRwOi8vcmVhZGluZGV4LmJqY25jLnNjcy5zb2h1Y3MuY29tL2Jhbm5lci8yMDE2MDYxOC95b3VzaGlqaWVfMjUweDI1MC5qcGciLAoJCQkJCXdlaWdodDogIjEtMzAiCgkJCQl9XSwKCQkJCXAgPSBmdW5jdGlvbigpIHsKCQkJCQl0KGRvY3VtZW50KS5vbigibW91c2V3aGVlbCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC5kZWx0YVkgPCAwID8gKHQoIiNwb3B1cF9idG4iKS5oaWRlKCksIGMgPSAhMCkgOiBjID0gITEKCQkJCQl9KSwgdCh3aW5kb3cpLm9uKCJzY3JvbGwiLCBmdW5jdGlvbigpIHsKCQkJCQkJdCgiYm9keSIpLnNjcm9sbFRvcCgpID49IHQod2luZG93KS5oZWlnaHQoKSAmJiAhYyAmJiAodCgiI3BvcHVwX2J0biIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaCgpKQoJCQkJCX0pLCB0KCIjcG9wdXBfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW8ubG9nKCLlvLnnqpfmtLvliqjngrnlh7siKSwgcygiY2xpY2s6cG9wdXAiKQoJCQkJCX0pLCB0KCIjcG9wdXBfYnRuIC5jbG9zZV9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIG8ubG9nKCLlvLnnqpfmtLvliqjlhbPpl60iKSwgcygiY2xpY2s6cG9wdXA6Y2xvc2UiKSwgdCgiI3BvcHVwX2J0biIpLnJlbW92ZSgpLCBhLmdldChpLnNlcnZlciArICIvYnJ3ZXh0L3Blcm1hbmVudF9pZD92ZXJzaW9uPTImb3A9c2V0X3Nob3dfcG9wdXAmc2hvd19wb3B1cD0wJnVuaW9uPSIgKyBpLnVuaW9uKSwgITEKCQkJCQl9KQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbigpIHsKCQkJCQlsIHx8IChsID0gITAsIG8ubG9nKCLlvLnnqpfmtLvliqjlsZXnjrAiKSwgcygidHJhY2s6cG9wdXAiKSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBkWzBdLAoJCQkJCQlhID0gbigzMCk7CgkJCQkJYSA9IHIuY29tcGlsZShhKSh7CgkJCQkJCXVybDogZS51cmwsCgkJCQkJCWltZ191cmw6IGUuaW1nX3VybCwKCQkJCQkJc19zZXJ2ZXI6IGkuc19zZXJ2ZXIKCQkJCQl9KSwgdCgiYm9keSIpLmFwcGVuZChhKSwgcCgpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCSgieGluZ3l1ZSIgPT09IGkuZnJvbV9kZXZpY2UgfHwgZSkgJiYgYS5nZXQoaS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQiKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQllICYmIDAgIT09IGUuc2hvd19wb3B1cCAmJiB1KCkKCQkJCX0pCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZShlKSB7CgkJCQkJdmFyIHQgPSBuKDI3KS5nZXRJbmZvKCJ1c2VyX2V4dGVuc2lvbl9pZCIpIHx8ICIiLAoJCQkJCQlpID0gYS50al9zZXJ2ZXI7CgkJCQkJYS5uZXdfZXh0ZW5zaW9uICYmIChpID0gYS5zZXJ2ZXIpLCBlIHx8IChlID0gIiIpOwoJCQkJCXZhciByID0gImltZ19yYW5kb20iICsgTWF0aC5yYW5kb20oKSwKCQkJCQkJcyA9IHdpbmRvd1tyXSA9IG5ldyBJbWFnZTsKCQkJCQlzLm9ubG9hZCA9IHMub25lcnJvciA9IGZ1bmN0aW9uKCkgewoJCQkJCQl3aW5kb3dbcl0gPSBudWxsCgkJCQkJfSwgcy5zcmMgPSBpICsgIi92aXNpdC8/dmVyc2lvbj0iICsgYS52ZXJzaW9uICsgIiZ1c2VyaWQ9IiArIHQgKyAiJmFiPSIgKyBvLmdldCgiYWIiKSArICImdXVpZD0iICsgby5nZXQoInV1aWQiKSArICImZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2UgKyAiJnBlcm1hbmVudF9pZD0iICsgby5nZXQoInBfaWQiKSArICImcmFuZG9tPSIgKyBNYXRoLnJhbmRvbSgpICsgIiZhY3Rpb249IiArIGUgKyAiJnJlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIpICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKQoJCQkJfQoJCQkJdmFyIHQgPSB2b2lkIDAsCgkJCQkJaSA9IHZvaWQgMCwKCQkJCQlvID0gbigxNyk7CgkJCQlyZXR1cm4gZnVuY3Rpb24obikgewoJCQkJCWkgPT09IG4gPyAoaSA9IG4sIGNsZWFyVGltZW91dCh0KSwgdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWUobikKCQkJCQl9LCA1MDApKSA6IChpID0gbiwgZShuKSkKCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbigyOCksCgkJCQlhID0gbigyOSksCgkJCQlvID0gYS5nZXRCcm93c2VyKCksCgkJCQlyID0ge30sCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWUgJiYgdC5zaXRlICYmICJ1c2VyX2V4dGVuc2lvbl9pZCIgPT09IGUudHlwZSAmJiBuKDI2KSgiYnJvd3Nlcl91c2VyOiIgKyB0LnNpdGUgKyAiOmV4dFR5cGU6IiArIGwoKSkKCQkJCX0sCgkJCQlsID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQlyZXR1cm4gZSA9ICJkZWZhdWx0IiA9PT0gdC5mcm9tX2RldmljZSA/IG8udXR5cGUgOiB0LmZyb21fZGV2aWNlCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaS50cmlnZ2VyKHsKCQkJCQl0eXBlOiAidXNlcl9leHRlbnNpb25faWQiCgkJCQl9KSwgaS50cmlnZ2VyKHsKCQkJCQl0eXBlOiAiYnJvd3Nlcl9zZXRpbmZvIgoJCQkJfSksIGkub24oZnVuY3Rpb24oZSkgewoJCQkJCWlmICgiYnJvd3Nlcl9zZXRpbmZvIiA9PT0gZS50eXBlKSB7CgkJCQkJCWlmIChlLnZhbHVlICYmIGUudmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpCgkJCQkJCQlmb3IgKHZhciB0IGluIGUudmFsdWUpIHJbdF0gPSBlLnZhbHVlW3RdCgkJCQkJfSBlbHNlIHJbZS50eXBlXSA9IGUudmFsdWUsIHMoZSkKCQkJCX0pCgkJCX0sIGUuZXhwb3J0cy5nZXRJbmZvID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIHJbZV0KCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJInVzZSBzdHJpY3QiOwoJCWUuZXhwb3J0cy50cmlnZ2VyID0gZnVuY3Rpb24oZSkgewoJCQlpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHsKCQkJCXZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7CgkJCQl0LmluaXRDdXN0b21FdmVudCgiZ3dkX2V4dGVuc2lvbiIsICEwLCAhMCwgZSksIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQodCkKCQkJfQoJCX0sIGUuZXhwb3J0cy5vbiA9IGZ1bmN0aW9uKGUpIHsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciA/IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImd3ZF9jb250ZW50IiwgZnVuY3Rpb24odCkgewoJCQkJZSh0LmRldGFpbCkKCQkJfSkgOiBkb2N1bWVudC5hdHRhY2hFdmVudCgiZ3dkX2NvbnRlbnQiLCBmdW5jdGlvbih0KSB7CgkJCQllKHQuZGV0YWlsKQoJCQl9KQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgbiA9IHsKCQkJCQl1cmw6ICIiLAoJCQkJCXV0eXBlOiAiIgoJCQkJfSwKCQkJCWkgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CgkJCWUuZXhwb3J0cy5nZXRCcm93c2VyID0gZnVuY3Rpb24oKSB7CgkJCQlpZiAoIkFjdGl2ZVhPYmplY3QiIGluIHdpbmRvdykgbi51cmwgPSB0LmNfc2VydmVyICsgKCIvZmlsZXMvZXh0LyIgKyB0LmV4dE5hbWUgKyAiX2luc3RhbGxfSUUuZXhlIiksIG4udXR5cGUgPSAiaWUiLCBuLnV0aXRsZSA9ICJJRSIsIG4uYmFja2dyb3VuZCA9ICItNDAxcHggLTgxcHgiOwoJCQkJZWxzZSBpZiAoaS5pbmRleE9mKCJmaXJlZm94IikgPiAtMSkgbi51cmwgPSAiaHR0cHM6Ly9hZGRvbnMubW96aWxsYS5vcmcvZmlyZWZveC9kb3dubG9hZHMvbGF0ZXN0LzQwNTk0MC9hZGRvbi00MDU5NDAtbGF0ZXN0LnhwaT9zcmM9ZHAtYnRuLXByaW1hcnkiLCBuLnV0eXBlID0gImZpcmVmb3giLCBuLnV0aXRsZSA9ICLngavni5AiLCBuLmJhY2tncm91bmQgPSAiLTQwMXB4IC00NHB4IjsKCQkJCWVsc2UgaWYgKGkuaW5kZXhPZigib3BlcmEiKSA+IC0xIHx8IGkuaW5kZXhPZigib3ByIikgPiAtMSkgbi51cmwgPSB0LmNfc2VydmVyICsgIi9maWxlcy9leHQvb3BlcmEuY3J4Iiwgbi51dHlwZSA9ICJvcGVyYSIsIG4udXRpdGxlID0gIk9wZXJhIiwgbi5iYWNrZ3JvdW5kID0gIi0ycHggLTEyMHB4IjsKCQkJCWVsc2UgaWYgKGkuaW5kZXhPZigic2FmYXJpIikgPiAtMSAmJiAtMSA9PSBpLmluZGV4T2YoImNocm9tZSIpKSBuLnVybCA9IHQuY19zZXJ2ZXIgKyAoIi9maWxlcy9leHQvIiArIHQuZXh0TmFtZSArICIuc2FmYXJpZXh0eiIpLCBuLnV0eXBlID0gInNhZmFyaSIsIG4udXRpdGxlID0gIlNhZmFyaSIsIG4uYmFja2dyb3VuZCA9ICItMzAxcHggLTQ0cHgiOwoJCQkJZWxzZSBpZiAoaS5pbmRleE9mKCJjaHJvbWUiKSA+IC0xKSB7CgkJCQkJdmFyIGUgPSBvKCk7CgkJCQkJaS5pbmRleE9mKCJxcWJyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gImh0dHBzOi8vcGNicm93c2VyLmRkLnFxLmNvbS9wY2Jyb3dzZXJiaWcvcWJleHRlbnNpb24vdXBkYXRlLzIwMTYwMTIyL2pncGhuam9ramhqbGNubmFqbWZqbGFjam5qa2hsZWFoLmNyeCIsIG4udXR5cGUgPSAicXEiLCBuLnV0aXRsZSA9ICJRUSIsIG4uYmFja2dyb3VuZCA9ICItMTA0cHggLTgxcHgiKSA6IGkuaW5kZXhPZigibWF4dGhvbiIpID4gLTEgPyAobi51cmwgPSAiaHR0cDovL2V4dGVuc2lvbi5tYXh0aG9uLmNuL2RldGFpbC9pbmRleC5waHA/dmlld19pZD0zNTgiLCBuLnV0eXBlID0gIm1heHRob24iLCBuLnV0aXRsZSA9ICLlgrLmuLgiLCBuLmJhY2tncm91bmQgPSAiLTQwMXB4IC00cHgiKSA6IGkuaW5kZXhPZigiYmlkdWJyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gImh0dHA6Ly9jaGFqaWFuLmJhaWR1LmNvbS8yMDE1LyNhbGwvMzkvbWNnb2liaGhpaHBvbGFpaW9nZ2Fqb2lwaWVlZmdtb2EiLCBuLnV0eXBlID0gImJhaWR1Iiwgbi51dGl0bGUgPSAi55m+5bqmIiwgbi5iYWNrZ3JvdW5kID0gIi0xMDRweCAtMTIwcHgiKSA6IGkuaW5kZXhPZigidWJyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gImh0dHA6Ly9leHRlbnNpb25zLnVjLmNuL25ld2luZGV4Lmh0bSMhZGV0YWlsL2JwZGxocGpramJkaWZsbmFua3BvaHBmZXBlY2RqZ2FnIiwgbi51dHlwZSA9ICJ1YyIsIG4udXRpdGxlID0gIlVDIiwgbi5iYWNrZ3JvdW5kID0gIi0ycHggLTQ0cHgiKSA6IGkuaW5kZXhPZigibGJicm93c2VyIikgPiAtMSA/IChuLnVybCA9ICJodHRwOi8vc3RvcmUubGllYmFvLmNuL2FkbWluL2V4dGVuc2lvbnMvMjAxNTExL2VhODc4ZDVhNGQyYTAwOGFkNzg5NzhhOTRlZWE2MmExLmNyeCIsIG4udXR5cGUgPSAibGllYmFvIiwgbi51dGl0bGUgPSAi54yO6LG55a6J5YWoIiwgbi5iYWNrZ3JvdW5kID0gIi0zMDFweCAtNHB4IikgOiBpLmluZGV4T2YoInRhb2Jyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gdC5jX3NlcnZlciArICIvZmlsZXMvZXh0L2Nocm9tZS5jcngiLCBuLnV0eXBlID0gInRhb2JhbyIsIG4udXRpdGxlID0gIua3mOWunSIsIG4uYmFja2dyb3VuZCA9ICItMTA0cHggLTQ0cHgiKSA6IGkuaW5kZXhPZigiMjM0NWV4cGxvcmVyIikgPiAtMSA/IChuLnVybCA9ICJodHRwOi8vZXh0ZW5zaW9uLmllLjIzNDUuY29tLyNuZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIsIG4udXR5cGUgPSAiMjM0NSIsIG4udXRpdGxlID0gIjIzNDXnjovniYwiLCBuLmJhY2tncm91bmQgPSAiLTMwMXB4IC04MXB4IikgOiBpLmluZGV4T2YoIjIzNDVjaHJvbWUiKSA+IC0xID8gKG4udXJsID0gImh0dHA6Ly9leHRlbnNpb24uY2hyb21lLjIzNDUuY29tLyNuZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIsIG4udXR5cGUgPSAiMjM0NWppYXN1Iiwgbi51dGl0bGUgPSAiMjM0NeWKoOmAnyIpIDogaS5pbmRleE9mKCJjb29sbm92byIpID4gLTEgPyAobi51cmwgPSB0LmNfc2VydmVyICsgIi9maWxlcy9leHQvY2hyb21lLmNyeCIsIG4udXR5cGUgPSAiZmVuZ3NodSIsIG4udXRpdGxlID0gIuaeq+agkSIsIG4uYmFja2dyb3VuZCA9ICItMnB4IC04MXB4IikgOiBpLmluZGV4T2YoImdyZWVuYnJvd3NlciIpID4gLTEgPyAobi51cmwgPSB0LmNfc2VydmVyICsgKCIvZmlsZXMvZXh0LyIgKyB0LmV4dE5hbWUgKyAiX2Zvcl9ncmVlbmJyb3dzZXIuemlwIiksIG4udXR5cGUgPSAiZ2IiLCBuLnV0aXRsZSA9ICJHQiIsIG4uYmFja2dyb3VuZCA9ICItMjAzcHggLTgxcHgiKSA6ICJDaHJvbWUiID09PSBlID8gKG4udXJsID0gdC5jX3NlcnZlciArICIvYXBwL2V4dGVuc2lvbj9mcm9tX2RldmljZT0iICsgdC5mcm9tX2RldmljZV9udW0sIG4udXR5cGUgPSAiY2hyb21lIiwgbi51dGl0bGUgPSAiQ2hyb21lIiwgbi5iYWNrZ3JvdW5kID0gIi0ycHggLTRweCIpIDogIjM2MFNFIiA9PT0gZSA/IChuLnVybCA9ICJodHRwczovL2V4dC5zZS4zNjAuY24vd2Vic3RvcmUvZGV0YWlsL25mYmlrZGtqZmpjZWpkZGJkY3BiYWZuY2xrZmRoaWpkIiwgbi51dHlwZSA9ICIzNjBzZSIsIG4udXRpdGxlID0gIjM2MOWuieWFqCIsIG4uYmFja2dyb3VuZCA9ICItMjAzcHggLTRweCIpIDogIjM2MEVFIiA9PT0gZSA/IChuLnVybCA9ICJodHRwczovL2V4dC5jaHJvbWUuMzYwLmNuL3dlYnN0b3JlL2RldGFpbC9uZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIsIG4udXR5cGUgPSAiMzYwc2UiLCBuLnV0aXRsZSA9ICIzNjDmnoHpgJ8gIiwgbi5iYWNrZ3JvdW5kID0gIi0xMDRweCAtNHB4IikgOiBpLmluZGV4T2YoInNlIikgPiAtMSA/IChuLnVybCA9ICJodHRwOi8vaWUuc29nb3UuY29tL3Rvb2xzL3Rvb2xfMzM3Lmh0bWwiLCBuLnV0eXBlID0gInNvZ291Iiwgbi51dGl0bGUgPSAi5pCc54uXIiwgbi5iYWNrZ3JvdW5kID0gIi00MDFweCAtMTIwcHgiKSA6IChuLnVybCA9IHQuY19zZXJ2ZXIgKyAiL2FwcC9leHRlbnNpb24iLCBuLnV0eXBlID0gImNocm9tZSIsIG4udXRpdGxlID0gIkNocm9taXVt5YaF5qC4IikKCQkJCX0gZWxzZSBuLnVybCA9IHQuY19zZXJ2ZXIgKyAiL2FwcC9leHRlbnNpb24iLCBuLnV0eXBlID0gImNocm9tZSIsIG4udXRpdGxlID0gIuacquefpea1j+iniOWZqCI7CgkJCQlyZXR1cm4gbgoJCQl9OwoJCQl2YXIgYSA9IHsKCQkJCQlyZXN1bHQ6ICJDaHJvbWUiLAoJCQkJCWRldGFpbHM6IHsKCQkJCQkJQ2hyb21lOiA1LAoJCQkJCQlDaHJvbWl1bTogMCwKCQkJCQkJXzM2MFNFOiAwLAoJCQkJCQlfMzYwRUU6IDAKCQkJCQl9LAoJCQkJCXNvcnRlZDogWyJDaHJvbWUiLCAiMzYwU0UiLCAiMzYwRUUiLCAiQ2hyb21pdW0iXSwKCQkJCQlleGVjOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gewoJCQkJCQkJCUNocm9tZTogNSwKCQkJCQkJCQlDaHJvbWl1bTogMCwKCQkJCQkJCQlfMzYwU0U6IDAsCgkJCQkJCQkJXzM2MEVFOiAwCgkJCQkJCQl9LAoJCQkJCQkJbiA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OwoJCQkJCQlpZiAoL0Nocm9tZVwvKFtcZC5dKStcc1NhZmFyaVwvKFtcZC5dKSskLy50ZXN0KG4pKSB7CgkJCQkJCQlpZiAoIldpbjMyIiA9PSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSB7CgkJCQkJCQkJaWYgKHdpbmRvdy5jbGllbnRJbmZvcm1hdGlvbi5sYW5ndWFnZXMgfHwgKHQuXzM2MFNFICs9IDgpLCAvemgvaS50ZXN0KG5hdmlnYXRvci5sYW5ndWFnZSkgJiYgKHQuXzM2MFNFICs9IDMsIHQuXzM2MEVFICs9IDMpLCB3aW5kb3cuY2xpZW50SW5mb3JtYXRpb24ubGFuZ3VhZ2VzKSB7CgkJCQkJCQkJCXZhciBpID0gd2luZG93LmNsaWVudEluZm9ybWF0aW9uLmxhbmd1YWdlcy5sZW5ndGg7CgkJCQkJCQkJCWkgPj0gMyA/ICh0LkNocm9tZSArPSAxMCwgdC5DaHJvbWl1bSArPSA2KSA6IDIgPT0gaSA/ICh0LkNocm9tZSArPSAzLCB0LkNocm9taXVtICs9IDYsIHQuXzM2MEVFICs9IDYpIDogMSA9PSBpICYmICh0LkNocm9tZSArPSA0LCB0LkNocm9taXVtICs9IDQpCgkJCQkJCQkJfQoJCQkJCQkJCWZvciAodmFyIGEgaW4gd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zKSAibnAtbXN3bXAuZGxsIiA9PSB3aW5kb3cubmF2aWdhdG9yLnBsdWdpbnNbYV0uZmlsZW5hbWUgJiYgKHQuXzM2MFNFICs9IDIwLCB0Ll8zNjBFRSArPSAyMCk7CgkJCQkJCQkJT2JqZWN0LmtleXMod2luZG93LmNocm9tZS53ZWJzdG9yZSkubGVuZ3RoIDw9IDEgPyB0Ll8zNjBTRSArPSA3IDogMiA9PSBPYmplY3Qua2V5cyh3aW5kb3cuY2hyb21lLndlYnN0b3JlKS5sZW5ndGggJiYgKHQuXzM2MFNFICs9IDQsIHQuQ2hyb21pdW0gKz0gMyksIHdpbmRvdy5uYXZpZ2F0b3IucGx1Z2lucy5sZW5ndGggPj0gMzAgPyAodC5fMzYwRUUgKz0gNywgdC5fMzYwU0UgKz0gNywgdC5DaHJvbWUgKz0gNykgOiB3aW5kb3cubmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoIDwgMzAgJiYgd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA+IDEwID8gKHQuXzM2MEVFICs9IDMsIHQuXzM2MFNFICs9IDMsIHQuQ2hyb21lICs9IDMpIDogd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA8PSAxMCAmJiAodC5DaHJvbWl1bSArPSA2KQoJCQkJCQkJfSBlbHNlIHQuXzM2MFNFIC09IDUwLCB0Ll8zNjBFRSAtPSA1MCwgL0xpbnV4L2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgKHQuQ2hyb21pdW0gKz0gNSk7CgkJCQkJCQl2YXIgbyA9IDAsCgkJCQkJCQkJciA9IHZvaWQgMDsKCQkJCQkJCWZvciAodmFyIGEgaW4gd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zKQoJCQkJCQkJCWlmIChyID0gL14oLispIFBERiBWaWV3ZXIkLy5leGVjKHdpbmRvdy5uYXZpZ2F0b3IucGx1Z2luc1thXS5uYW1lKSkgewoJCQkJCQkJCQlpZiAoIkNocm9tZSIgPT0gclsxXSkgewoJCQkJCQkJCQkJdC5DaHJvbWUgKz0gNiwgdC5fMzYwU0UgKz0gNiwgbyA9IDE7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICgiQ2hyb21pdW0iID09IHJbMV0pIHsKCQkJCQkJCQkJCXQuQ2hyb21pdW0gKz0gMTAsIHQuXzM2MEVFICs9IDYsIG8gPSAxOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCW8gfHwgKHQuQ2hyb21pdW0gKz0gOSkKCQkJCQkJfQoJCQkJCQl2YXIgcyA9IG5ldyBPYmplY3Q7CgkJCQkJCXMuQ2hyb21lID0gdC5DaHJvbWUsIHMuQ2hyb21pdW0gPSB0LkNocm9taXVtLCBzWyIzNjBTRSJdID0gdC5fMzYwU0UsIHNbIjM2MEVFIl0gPSB0Ll8zNjBFRTsKCQkJCQkJdmFyIGwgPSBbXTsKCQkJCQkJZm9yICh2YXIgYyBpbiBzKSBsLnB1c2goW2MsIHNbY11dKTsKCQkJCQkJcmV0dXJuIGwuc29ydChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdFsxXSAtIGVbMV0KCQkJCQkJfSksIHRoaXMuc29ydGVkID0gbCwgdGhpcy5kZXRhaWxzID0gdCwgdGhpcy5yZXN1bHQgPSBsWzBdWzBdLCAicmVzdWx0IiA9PSBlID8gbFswXVswXSA6ICJkZXRhaWxzIiA9PSBlID8gcyA6ICJzb3J0ZWQiID09IGUgPyBsIDogdm9pZCAwCgkJCQkJfQoJCQkJfSwKCQkJCW8gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OwoJCQkJCXRyeSB7CgkJCQkJCWlmIChhLmV4ZWMoKSwgL0Nocm9tZVwvKFtcZC5dKStcc1NhZmFyaVwvKFtcZC5dKSskLy50ZXN0KGUpKSByZXR1cm4gYS5yZXN1bHQKCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCXJldHVybgoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5nZXRDaHJvbWVWZXJzaW9uID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tKGV8aXVtKVwvKFswLTldKylcLi8pOwoJCQkJcmV0dXJuIGUgPyBwYXJzZUludChlWzJdLCAxMCkgOiAhMQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGEgaHJlZj0ie3t1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGlkPSJwb3B1cF9idG4iPlxuICA8aW1nIHNyYz0ie3tpbWdfdXJsfX0iPlxuICA8c3BhbiBjbGFzcz0iY2xvc2VfYnRuIj48L3NwYW4+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgI3BvcHVwX2J0biB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgICAgd2lkdGg6IDI1MHB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvdHRvbTogMHB4O1xuICAgICAgcmlnaHQ6IDBweDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5OTk5O1xuICAgIH1cbiAgICAjcG9wdXBfYnRuIGltZyB7XG4gICAgICB3aWR0aDogMjUwcHg7XG4gICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgIH1cbiAgICAuY2xvc2VfYnRuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJhY2tncm91bmQ6ICNmZmYgdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2Nsb3NlYmFyX2JnMS5wbmdcJykgNHB4IDRweCBuby1yZXBlYXQ7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2E+XG4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDEzKSwKCQkJCWEgPSBuKDI2KTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXQoIiNvdmVydmlldyAub3YtYWN0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gdChlLnRhcmdldCkudGV4dCgpLAoJCQkJCQlvID0gbG9jYXRpb24uaHJlZjsKCQkJCQluLmluZGV4T2YoIueri+WNs+i0reS5sCIpID4gLTEgJiYgby5pbmRleE9mKCJnb3V3dWRhbmciKSA+IC0xICYmIChpLmxvZygiZmluZTNxOmNsaWNrIiksIGEoImZpbmUzcTpjbGljayIpKQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMjYpLAoJCQkJYSA9IHsKCQkJCQkiY2FydFxcLmpkXFwuY29tL2FkZFRvQ2FydFxcLmh0bWwiOiAiYWRkY2FydF9zdWNjZXNzX3BhZ2U6MzYwYnV5IiwKCQkJCQkiY2FydFxcLmdvbWVcXC5jb21cXC5jbi9hZGRzdWNjZXNzIjogImFkZGNhcnRfc3VjY2Vzc19wYWdlOmdvbWUiLAoJCQkJCSJzaG9wcGluZ1xcLnN1bmluZ1xcLmNvbS9hZGRUb0NhcnRcXC5kbyI6ICJhZGRjYXJ0X3N1Y2Nlc3NfcGFnZTpzdW5pbmciLAoJCQkJCSJjYXJ0XFwuamRcXC5jb20vY2FydFxcLmFjdGlvbiI6ICJjYXJ0X3BhZ2VfdmlzaXQ6MzYwYnV5IiwKCQkJCQkic2hvcHBpbmdcXC5zdW5pbmdcXC5jb20vY2FydFxcLmRvIjogImNhcnRfcGFnZV92aXNpdDpzdW5pbmciLAoJCQkJCSJjYXJ0XFwuZ29tZVxcLmNvbVxcLmNuL3Nob3BwaW5nIjogIm9yZGVyd3JpdGVfcGFnZV92aXNpdDpnb21lIiwKCQkJCQkiY2FydFxcLmdvbWVcXC5jb21cXC5jbiI6ICJjYXJ0X3BhZ2VfdmlzaXQ6Z29tZSIsCgkJCQkJImNhcnRcXC50YW9iYW9cXC5jb20vY2FydFxcLmh0bSI6ICJjYXJ0X3BhZ2VfdmlzaXQ6dG1hbGwiLAoJCQkJCSJjYXJ0XFwudG1hbGxcXC5jb20iOiAiY2FydF9wYWdlX3Zpc2l0OnRtYWxsIiwKCQkJCQkidHJhZGVcXC5qZFxcLmNvbS9zaG9wcGluZy9vcmRlci9nZXRPcmRlckluZm9cXC5hY3Rpb24iOiAib3JkZXJ3cml0ZV9wYWdlX3Zpc2l0OjM2MGJ1eSIsCgkJCQkJInNob3BwaW5nXFwuc3VuaW5nXFwuY29tL29yZGVyXFwuZG8iOiAib3JkZXJ3cml0ZV9wYWdlX3Zpc2l0OnN1bmluZyIsCgkJCQkJImJ1eVxcLnRtYWxsXFwuY29tL29yZGVyL2NvbmZpcm1fb3JkZXJcXC5odG0iOiAib3JkZXJ3cml0ZV9wYWdlX3Zpc2l0OnRtYWxsIiwKCQkJCQkiYnV5XFwudG1hbGxcXC5jb20vb3JkZXIvY29uZmlybU9yZGVyXFwuaHRtIjogIm9yZGVyd3JpdGVfcGFnZV92aXNpdDp0bWFsbCIsCgkJCQkJImNhc2hpZXJcXC5qZFxcLmNvbSI6ICJvcmRlcnN1Y2Nlc3NfcGFnZV92aXNpdDozNjBidXkiLAoJCQkJCSJwYXltZW50XFwuc3VuaW5nXFwuY29tIjogIm9yZGVyc3VjY2Vzc19wYWdlX3Zpc2l0OnN1bmluZyIsCgkJCQkJImdwYXlcXC5nb21lXFwuY29tXFwuY24vY2FzaGllci9kZWZhdWx0XFwuZGh0bWwiOiAib3JkZXJzdWNjZXNzX3BhZ2VfdmlzaXQ6Z29tZSIsCgkJCQkJImNhc2hpZXJ6dGhcXC5hbGlwYXlcXC5jb20iOiAib3JkZXJzdWNjZXNzX3BhZ2VfdmlzaXQ6dG1hbGwiLAoJCQkJCSJjYXNoaWVyenVpXFwuYWxpcGF5XFwuY29tIjogIm9yZGVyc3VjY2Vzc19wYWdlX3Zpc2l0OnRtYWxsIiwKCQkJCQkidmlwXFwuamRcXC5jb20iOiAidmlwX3BhZ2VfdmlzaXQ6MzYwYnV5IiwKCQkJCQkidmlwXFwuc3VuaW5nXFwuY29tIjogInZpcF9wYWdlX3Zpc2l0OnN1bmluZyIsCgkJCQkJInZcXC5nb21lXFwuY29tXFwuY24iOiAidmlwX3BhZ2VfdmlzaXQ6Z29tZSIsCgkJCQkJInZpcFxcLnRtYWxsXFwuY29tIjogInZpcF9wYWdlX3Zpc2l0OnRtYWxsIgoJCQkJfSwKCQkJCW8gPSBbImpkIiwgInN1bmluZyIsICJ0YW9iYW8iLCAidG1hbGwiLCAiZ29tZSJdLAoJCQkJciA9IHsKCQkJCQkiMzYwYnV5IjogIiNjaG9vc2UtYnRuLWNvbGwiLAoJCQkJCWdvbWU6ICIjY29sbGVjdCIsCgkJCQkJc3VuaW5nOiAiI2luZXJlc3RCb3giLAoJCQkJCXRtYWxsOiAiI0pfQWRkRmF2b3JpdGUiCgkJCQl9LAoJCQkJcyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IG4oNSkuaXNQcm9kdWN0UGFnZShkb2N1bWVudC5yZWZlcnJlcik7CgkJCQkJdCA9IHQgPyAicHJvZHVjdCIgOiAib3RoZXIiOwoJCQkJCXZhciBvID0gbG9jYXRpb24uaHJlZjsKCQkJCQlmb3IgKHZhciByIGluIGEpCgkJCQkJCWlmIChvLm1hdGNoKG5ldyBSZWdFeHAocikpKSByZXR1cm4gdm9pZCBpKHQgKyBhW3JdKQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbihlKSB7CgkJCQkJcltlXSAmJiB0KHJbZV0pLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCJjbGljazpjb2xsZWN0aW9uX2NsaWNrOiIgKyBlKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJcygpOwoJCQkJZm9yICh2YXIgZSA9IDA7IGUgPCBvLmxlbmd0aDsgZSsrKQoJCQkJCWlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2Yob1tlXSkgPiAtMSkgewoJCQkJCQl2YXIgdCA9IG9bZV07CgkJCQkJCXJldHVybiAiamQiID09PSB0ICYmICh0ID0gIjM2MGJ1eSIpLCB2b2lkIGwodCkKCQkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCSJ1c2Ugc3RyaWN0IjsKCQllLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKCQkJdmFyIGUgPSBkb2N1bWVudC5sb2NhdGlvbi5ob3N0OwoJCQlyZXR1cm4gZS5pbmRleE9mKCJoYW8xMjMiKSA+IC0xIHx8IGUuaW5kZXhPZigiYmFpZHUiKSA+IC0xID8gITAgOiAhMQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMzUpLAoJCQkJYSA9IG4oNik7CgkJCWlmIChpICYmIGkucGFyZW50Tm9kZSAmJiBpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQgJiYgaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQklKSUFfSEFTX0JVSUxUIikpIGEoIiNCSUpJQV9IQVNfQlVJTFQiKS5hZGRDbGFzcyh0LmZyb21fZGV2aWNlKSwgZS5leHBvcnRzID0gITA7CgkJCWVsc2UgewoJCQkJdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCQkJCW8uaWQgPSAiQklKSUFfSEFTX0JVSUxUIjsKCQkJCXZhciByID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKCQkJCXIgJiYgclswXSAmJiAociA9IHJbMF0pLCByLmFwcGVuZENoaWxkKG8pLCBhKCIjQklKSUFfSEFTX0JVSUxUIikuYWRkQ2xhc3ModC5mcm9tX2RldmljZSksIGUuZXhwb3J0cyA9ICExCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCgkJCWZ1bmN0aW9uIG4oKSB7CgkJCQlpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCkgcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7CgkJCQlmb3IgKHZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspCgkJCQkJaWYgKG5ldyBSZWdFeHAodC5leHROYW1lICsgIi1ub3RpZmllciIsICJpIikudGVzdChlW25dLnNyYykpIHJldHVybiBlW25dCgkJCX0KCQkJZS5leHBvcnRzID0gbigpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oZSkgewoJCQlpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdGhpcykgdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgLSB3aGF0IGlzIHRyeWluZyB0byBiZSBib3VuZCBpcyBub3QgY2FsbGFibGUiKTsKCQkJdmFyIHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLAoJCQkJbiA9IHRoaXMsCgkJCQlpID0gZnVuY3Rpb24oKSB7fSwKCQkJCWEgPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gbi5hcHBseSh0aGlzIGluc3RhbmNlb2YgaSA/IHRoaXMgOiBlLCB0LmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSkKCQkJCX07CgkJCXJldHVybiBpLnByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlLCBhLnByb3RvdHlwZSA9IG5ldyBpLCBhCgkJfSksIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IChBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJdmFyIG47CgkJCWlmIChudWxsID09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3IoJyJ0aGlzIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7CgkJCXZhciBpID0gT2JqZWN0KHRoaXMpLAoJCQkJYSA9IGkubGVuZ3RoID4+PiAwOwoJCQlpZiAoMCA9PT0gYSkgcmV0dXJuIC0xOwoJCQl2YXIgbyA9ICt0IHx8IDA7CgkJCWlmIChNYXRoLmFicyhvKSA9PT0gMSAvIDAgJiYgKG8gPSAwKSwgbyA+PSBhKSByZXR1cm4gLTE7CgkJCWZvciAobiA9IE1hdGgubWF4KG8gPj0gMCA/IG8gOiBhIC0gTWF0aC5hYnMobyksIDApOyBhID4gbjspIHsKCQkJCWlmIChuIGluIGkgJiYgaVtuXSA9PT0gZSkgcmV0dXJuIG47CgkJCQluKysKCQkJfQoJCQlyZXR1cm4gLTEKCQl9KSwgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyIHx8IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigidWxlLmNvbSIpID4gLTEpICYmIChBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZSkgewoJCQlpZiAodm9pZCAwID09PSB0aGlzIHx8IG51bGwgPT09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3I7CgkJCXZhciB0ID0gT2JqZWN0KHRoaXMpLAoJCQkJbiA9IHQubGVuZ3RoID4+PiAwOwoJCQlpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSkgdGhyb3cgbmV3IFR5cGVFcnJvcjsKCQkJZm9yICh2YXIgaSA9IFtdLCBhID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwLCBvID0gMDsgbiA+IG87IG8rKykKCQkJCWlmIChvIGluIHQpIHsKCQkJCQl2YXIgciA9IHRbb107CgkJCQkJZS5jYWxsKGEsIHIsIG8sIHQpICYmIGkucHVzaChyKQoJCQkJfQoJCQlyZXR1cm4gaQoJCX0pLCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoImxpYW5qaWEuY29tIikgPiAtMSAmJiAoTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkID0gZnVuY3Rpb24oZSkgewoJCQl2YXIgdCA9IChwYXJzZUludCh0aGlzICogTWF0aC5wb3coMTAsIGUpICsgLjUpIC8gTWF0aC5wb3coMTAsIGUpKS50b1N0cmluZygpLAoJCQkJbiA9IHQuaW5kZXhPZigiLiIpOwoJCQlpZiAoMCA+IG4gJiYgZSA+IDApIHsKCQkJCXQgKz0gIi4iOwoJCQkJZm9yICh2YXIgaSA9IDA7IGUgPiBpOyBpKyspIHQgKz0gIjAiCgkJCX0gZWxzZSB7CgkJCQluID0gdC5sZW5ndGggLSBuOwoJCQkJZm9yICh2YXIgaSA9IDA7IGUgLSBuICsgMSA+IGk7IGkrKykgdCArPSAiMCIKCQkJfQoJCQlyZXR1cm4gdAoJCX0pCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbihlKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJIkFjdGl2ZVhPYmplY3QiIGluIHdpbmRvdyAmJiAoZS5icm93c2VyID0gewoJCQkJZW5naW5lOiAidHJpZGVudCIsCgkJCQlhZ2VudDogIm1zaWUiLAoJCQkJdmVyOiB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yID8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciA/IHdpbmRvdy5hdG9iID8gd2luZG93LmV4ZWNTY3JpcHQgPyAxMCA6IDExIDogOSA6IDggOiA3IDogNgoJCQl9KSwgZS5icm93c2VyLnZlcnNpb24gPSBlLmJyb3dzZXIudmVyLCAibXNpZSIgPT09IGUuYnJvd3Nlci5hZ2VudCAmJiAoZS5icm93c2VyLm1zaWUgPSAhMCksIGUuSUU2ID0gIm1zaWUiID09IGUuYnJvd3Nlci5hZ2VudCAmJiA2ID09PSBlLmJyb3dzZXIudmVyLCBlLklFNyA9ICJtc2llIiA9PSBlLmJyb3dzZXIuYWdlbnQgJiYgNyA9PT0gZS5icm93c2VyLnZlciwgZS5JRTggPSAibXNpZSIgPT0gZS5icm93c2VyLmFnZW50ICYmIDggPT09IGUuYnJvd3Nlci52ZXIsIGUuSUU5ID0gIm1zaWUiID09IGUuYnJvd3Nlci5hZ2VudCAmJiA5ID09PSBlLmJyb3dzZXIudmVyLCBlLklFMTAgPSAibXNpZSIgPT0gZS5icm93c2VyLmFnZW50ICYmIDEwID09PSBlLmJyb3dzZXIudmVyLCBlLklFMTEgPSAibXNpZSIgPT0gZS5icm93c2VyLmFnZW50ICYmIDExID09PSBlLmJyb3dzZXIudmVyCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gIjAxMjM0NTY3ODlxd2VydHl1aW9wbGtqaGdmZHNhenhjdmJubSIsIG4gPSAiIiwgaSA9IDA7IGUgPiBpOyBpKyspIG4gKz0gdC5jaGFyQXQoTWF0aC5jZWlsKDFlOCAqIE1hdGgucmFuZG9tKCkpICUgdC5sZW5ndGgpOwoJCQlyZXR1cm4gbgoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoKCQkJZnVuY3Rpb24gYSgpIHsKCQkJCXQuSUU2IHx8IHQuSUU3IHx8IHQuSUU4IHx8IHQuSUU5IHx8IHMoKSAmJiAoeCgpLCByKGZ1bmN0aW9uKCkgewoJCQkJCWcoKSwgMCAhPSBpKCIjZ3dkX2h0X21haW4iKS5sZW5ndGggJiYgKE4oKSwgVCgpLCBEKCksIFAoa2Uuc2hhbmd5aVt2ZV0ubWFuWzBdLCBrZS5zaGFuZ3lpW3ZlXS5tYW5bMV0pLCBVKCksICQoKSwgdSgpLCBuZSgpLCBoKCksIHkoKSwgQygpLCBqKCkpCgkJCQl9KSkKCQkJfQoKCQkJZnVuY3Rpb24gbyhlKSB7CgkJCQlpZiAoIWUpIHJldHVybiBbXTsKCQkJCWZvciAodmFyIHQgPSBbXSwgbiA9IFtdLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIGVbaV0uY3VycmVudCAmJiAhZVtpXS5hc2NlICYmIChlW2ldLnR5cGUgPyAoZVtpXS5maXJzdFdbMV0gPSBtZShlW2ldLmZpcnN0V1sxXSwgZVtpXS50eXBlKSwgZVtpXS5uZXh0V1sxXSA9IG1lKGVbaV0ubmV4dFdbMV0sIGVbaV0udHlwZSkpIDogKGVbaV0uZmlyc3RXWzFdID0gbWUoZVtpXS5maXJzdFdbMV0pLCBlW2ldLm5leHRXWzFdID0gbWUoZVtpXS5uZXh0V1sxXSkpKSwgZVtpXS5zYWxlX3RsZSAmJiAoc2UgPSAhMCksIGVbaV0uY29vcGVyID8gdC5wdXNoKGVbaV0pIDogbi5wdXNoKGVbaV0pOwoJCQkJcmV0dXJuIGUgPSB0LnNvcnQoZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIE1hdGgucmFuZG9tKCkgLSAuNQoJCQkJfSkuY29uY2F0KG4pCgkJCX0KCgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJdmFyIG4gPSB4ZSArICIvL2Jyb3dzZXIuIiArIHQuZXh0TmFtZSArICIuY29tL2V4dGVuc2lvbj9hYz1oYWl0YW9JbmZvIjsKCQkJCWZlLmdldChuKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQl0ICYmIHQuY2F0ZSAmJiB0LnRyYW5zICYmIChwZSA9IHQuY2F0ZSwgaGUgPSB0LnRyYW5zLCBoZVt2ZV0gPSBvKGhlW3ZlXSksIGUoKSkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIHMoKSB7CgkJCQl2YXIgZSA9IGxvY2F0aW9uLmhvc3Q7CgkJCQlmb3IgKHZhciB0IGluIHplKQoJCQkJCWlmIChlID09IHQpIHJldHVybiAhMDsKCQkJCXJldHVybiAhMQoJCQl9CgoJCQlmdW5jdGlvbiBsKGUpIHsKCQkJCWkoIi5odF90YXJpZmZfYnRuIHNwYW4iKS50ZXh0KGUuc2xpY2UoMCwgNSkpLCBpKCIuaHRfdGFyaWZmX2J0biBzcGFuIikuYXR0cigidGl0bGUiLCBlKSwgaSgiI2NhdGVfc21hbGwiKS52YWwoZSksIGkoIi5odF90YXJpZmZfY2F0ZSIpLnRleHQoZSksIFgoIiNjYXRlX3NtYWxsIiksIFgoIi5odF90YXJpZmZfY2F0ZSIsICJ0ZXh0IiwgNCk7CgkJCQlmb3IgKHZhciB0IGluIHBlKQoJCQkJCWZvciAodmFyIG4gPSBwZVt0XS5sZW5ndGgsIGEgPSAwOyBuID4gYTsgYSsrKQoJCQkJCQlpZiAocGVbdF1bYV1bMV0gPT0gZSkgewoJCQkJCQkJdmFyIG8gPSBpKCcjYmlnX3hpYWxhIGFbY2F0ZT0iJyArIHQgKyAnIl0nKS50ZXh0KCk7CgkJCQkJCQlpKCIjY2F0ZV9iaWciKS52YWwobyksIFgoIiNjYXRlX2JpZyIpLCBZKHBlW3RdKSwgaSgiLmh0X3RhcmlmZiAuaHRfdGFyaWZmX251bSBlbSIpLnRleHQocGVbdF1bYV1bMF0pCgkJCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gYyhlKSB7CgkJCQl2YXIgdCA9IGplW2VdLnRsZSwKCQkJCQluID0gamVbZV0uY2F0ZTsKCQkJCWkoIi5odF90YXJpZmZfYnRuIHNwYW4iKS50ZXh0KHQuc2xpY2UoMCwgNSkpLCBpKCIuaHRfdGFyaWZmX2J0biBzcGFuIikuYXR0cigidGl0bGUiLCB0KSwgaSgiI2NhdGVfYmlnIikudmFsKHQpLCBYKCIjY2F0ZV9iaWciKSwgaSgiI2NhdGVfc21hbGwiKS52YWwocGVbbl1bcGVbbl0ubGVuZ3RoIC0gMV1bMV0pLCBpKCIuaHRfdGFyaWZmX2NhdGUiKS50ZXh0KHBlW25dW3BlW25dLmxlbmd0aCAtIDFdWzFdKSwgWCgiI2NhdGVfc21hbGwiKSwgWCgiLmh0X3RhcmlmZl9jYXRlIiwgInRleHQiLCA0KSwgWShwZVtuXSksIGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0gZW0iKS50ZXh0KHBlW25dW3BlW25dLmxlbmd0aCAtIDFdWzBdKQoJCQl9CgoJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCWZvciAodmFyIHQgaW4gQmUpCgkJCQkJaWYgKGUuaW5kZXhPZih0KSA+IC0xKSByZXR1cm4gQmVbdF07CgkJCQlmb3IgKHZhciB0IGluIGplKQoJCQkJCWlmIChlLmluZGV4T2YodCkgPiAtMSkgcmV0dXJuIHZvaWQgYyh0KTsKCQkJCXJldHVybiAhMQoJCQl9CgoJCQlmdW5jdGlvbiBwKGUsIHQpIHsKCQkJCXN3aXRjaCAoZSkgewoJCQkJCWNhc2UgIueUt+ijhSI6CgkJCQkJCXJldHVybiBrZS5zaGFuZ3lpW3RdLm1hbjsKCQkJCQljYXNlICLlpbPoo4UiOgoJCQkJCQlyZXR1cm4ga2Uuc2hhbmd5aVt0XS53b21hbjsKCQkJCQljYXNlICLnq6Xoo4UiOgoJCQkJCQlyZXR1cm4ga2Uua2lkc2Nsb3RoW3RdOwoJCQkJCWNhc2UgIueUt+meiyI6CgkJCQkJCXJldHVybiBrZS5zaG9lcy5tYW47CgkJCQkJY2FzZSAi5aWz6Z6LIjoKCQkJCQkJcmV0dXJuIGtlLnNob2VzLndvbWFuOwoJCQkJCWNhc2UgIuerpemeiyI6CgkJCQkJCXJldHVybiBrZS5zaG9lcy5raWRzCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGgoKSB7CgkJCQlmb3IgKHZhciBlID0gMDsgZSA8IENlLmxlbmd0aDsgZSsrKQoJCQkJCWZvciAodmFyIHQgPSBDZVtlXSwgbiA9IGkodCkubGVuZ3RoLCBhID0gbiAtIDE7IGEgPj0gMDsgYS0tKSB7CgkJCQkJCXZhciBvID0gaSh0KS5lcShhKS50ZXh0KCkudG9Mb3dlckNhc2UoKSwKCQkJCQkJCXIgPSBkKG8pOwoJCQkJCQlpZiAocikgcmV0dXJuIHZvaWQgbChyKQoJCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gdSgpIHsKCQkJCWlmICgtMSA9PSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiY2hyb21lIikgJiYgKGkoIiNnd2RfaHRfbWFpbiIpLmFkZENsYXNzKCJpZV9oYWNrIiksIGkoIiN0cmFuc3BvcnRfZGV0YWlsIikuYWRkQ2xhc3MoImllX2hhY2siKSwgaSgiI3NpemVfZGV0YWlsIikuYWRkQ2xhc3MoImllX2hhY2siKSksICJ3d3cuNnBtLmNvbSIgPT0gcmUpIHsKCQkJCQl2YXIgZSA9IGkoIiNnd2RfaHRfbWFpbiIpLnBhcmVudCgpLm91dGVyV2lkdGgoKSwKCQkJCQkJdCA9IGUgLSAzNTU7CgkJCQkJaSgiI2d3ZF9odF9tYWluIikuY3NzKCJtYXJnaW4tbGVmdCIsIHQgLyAyICsgInB4IikKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gbSgpIHsKCQkJCXJldHVybiAid3d3LjZwbS5jb20iID09IHJlID8gInppeWluZyIgOiBpKCIjbWVyY2hhbnQtaW5mbyIpLmxlbmd0aCA+IDAgPyAid3d3LmFtYXpvbi5jb20iID09IHJlID8gaSgiI21lcmNoYW50LWluZm8iKS50ZXh0KCkuaW5kZXhPZigic29sZCBieSBBbWF6b24iKSA+IC0xID8gInppeWluZyIgOiAic2FuZmFuZyIgOiAid3d3LmFtYXpvbi5jby5qcCIgPT0gcmUgPyBpKCIjbWVyY2hhbnQtaW5mbyIpLnRleHQoKS5pbmRleE9mKCJqcCDjgYzosqnlo7IiKSA+IC0xID8gInppeWluZyIgOiAic2FuZmFuZyIgOiAid3d3LmFtYXpvbi5kZSIgPT0gcmUgPyBpKCIjbWVyY2hhbnQtaW5mbyIpLnRleHQoKS5pbmRleE9mKCJWZXJrYXVmIHVuZCBWZXJzYW5kIGR1cmNoIEFtYXpvbiIpID4gLTEgPyAieml5aW5nIiA6IGkoIiNtZXJjaGFudC1pbmZvIikudGV4dCgpLmluZGV4T2YoIkRpc3BhdGNoZWQgZnJvbSBhbmQgc29sZCBieSBBbWF6b24iKSA+IC0xID8gInppeWluZyIgOiAic2FuZmFuZyIgOiB2b2lkIDAgOiAic2FuZmFuZyIKCQkJfQoKCQkJZnVuY3Rpb24gZigpIHsKCQkJCXJldHVybiAid3d3LmFtYXpvbi5kZSIgPT0gcmUgPyBpKCIjZGRtU2hpcHBpbmdNZXNzYWdlIikudGV4dCgpLmluZGV4T2YoIkRpZXNlciBBcnRpa2VsIGthbm4gbmFjaCIpID4gLTEgJiYgaSgiI2RkbUlubGluZUFkZHJlc3NJbmZvIikudGV4dCgpLmluZGV4T2YoIkNoaW5hIikgPiAtMSA/ICJ6aGl5b3UiIDogImZlaXpoaXlvdSIgOiBpKCcjZGV0YWlsLWJ1bGxldHMgLmNvbnRlbnQgdWwgbGk6Y29udGFpbnMoIkludGVybmF0aW9uYWwgU2hpcHBpbmciKScpLmxlbmd0aCA+IDAgPyAiemhpeW91IiA6IGkoJy5zaGlwcGluZy1yZXN0cmljdGlvbnMgLmxhYmVsOmNvbnRhaW5zKCJJbnRlcm5hdGlvbmFsIiknKS5sZW5ndGggPiAwID8gInpoaXlvdSIgOiAiZmVpemhpeW91IgoJCQl9CgoJCQlmdW5jdGlvbiBnKCkgewoJCQkJbig0MSk7CgkJCQl2YXIgZSwgYSwgbyA9IG4oNDUpLAoJCQkJCXIgPSB1ZS5jb21waWxlKG8pKHsKCQkJCQkJZGF0YTogewoJCQkJCQkJcGFnZWNsYXNzOiBfKCksCgkJCQkJCQlnZXRwcmljZTogeigpLAoJCQkJCQkJdW5pdF9wcmljZTogaygpLAoJCQkJCQkJcHJvdHlwZTogbSgpLAoJCQkJCQkJbWFpbHR5cGU6IGYoKSwKCQkJCQkJCWhlX3dlaWdodDogYigpLAoJCQkJCQkJaG9zdHM6IHJlLAoJCQkJCQkJc2l0ZTogIjZwbSIgPT0gdC5zaXRlID8gIjZQTSIgOiAi5Lqa6ams6YCKIiwKCQkJCQkJCWNfc2VydmVyOiB0LmNfc2VydmVyCgkJCQkJCX0KCQkJCQl9KTsKCQkJCWEgPSB6ZVtyZV0uZG9tOwoJCQkJZm9yICh2YXIgcyA9IDA7IHMgPCBhLmxlbmd0aDsgcysrKSBpKGFbc10pLmxlbmd0aCA+IDAgJiYgKGUgPSBhW3NdKTsKCQkJCWlmIChlKSB7CgkJCQkJc3dpdGNoICh6ZVtyZV0ucG9zaXRpb24pIHsKCQkJCQkJY2FzZSAiYmVmb3JlIjoKCQkJCQkJCWkoZSkuYmVmb3JlKHIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImFmdGVyIjoKCQkJCQkJCWkoZSkuYWZ0ZXIocikKCQkJCQl9CgkJCQkJZ2UoInRyYWNrOmhhaXRhbzptYWluIiksIF9lLmxvZygi5pi+56S65rW35reY5Li755WM6Z2iIikKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gXygpIHsKCQkJCXZhciBlID0gImh0XyIgKyByZS5zcGxpdCgiLiIpWzFdOwoJCQkJcmV0dXJuIGUKCQkJfQoKCQkJZnVuY3Rpb24geCgpIHsKCQkJCXZhciBlID0gbG9jYXRpb24uaG9zdDsKCQkJCWZvciAodmFyIHQgaW4gemUpIHQgPT0gZSAmJiAodmUgPSB6ZVt0XS5jb3VuLCByZSA9IHQpCgkJCX0KCgkJCWZ1bmN0aW9uIHcoZSkgewoJCQkJdmFyIHQgPSBlLm1hdGNoKC9bMC05XSsoPzpcLnxcLHwpKD86WzAtOV0rfCkvKTsKCQkJCXJldHVybiB0ICYmICh0ID0gdFswXSksICJ3d3cuYW1hem9uLmRlIiA9PSByZSAmJiAodCA9IHQudG9TdHJpbmcoKS5yZXBsYWNlKCIsIiwgIi4iKSksIHQKCQkJfQoKCQkJZnVuY3Rpb24gdihlKSB7CgkJCQlzd2l0Y2ggKHJlKSB7CgkJCQkJY2FzZSAid3d3LmFtYXpvbi5jb20iOgoJCQkJCQlpZiAoZS5pbmRleE9mKCJwb3VuZHMiKSA+IC0xKSByZXR1cm4gInBvdW5kcyI7CgkJCQkJCWlmIChlLmluZGV4T2YoIm91bmNlcyIpID4gLTEpIHJldHVybiAib3VuY2VzIjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAid3d3LmFtYXpvbi5kZSI6CgkJCQkJCWlmIChlLmluZGV4T2YoIktnIikgPiAtMSkgcmV0dXJuICJrZyI7CgkJCQkJCWlmIChlLmluZGV4T2YoImciKSA+IC0xKSByZXR1cm4gImciOwoJCQkJCQlicmVhazsKCQkJCQljYXNlICJ3d3cuYW1hem9uLmNvLmpwIjoKCQkJCQkJaWYgKGUuaW5kZXhPZigiS2ciKSA+IC0xKSByZXR1cm4gImtnIjsKCQkJCQkJaWYgKGUuaW5kZXhPZigiZyIpID4gLTEpIHJldHVybiAiZyI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgInd3dy42cG0uY29tIjoKCQkJCQkJaWYgKGUuaW5kZXhPZigibGIiKSA+IC0xICYmIGUuaW5kZXhPZigib3oiKSA+IC0xKSByZXR1cm4gImxiX296IjsKCQkJCQkJaWYgKGUuaW5kZXhPZigibGIiKSA+IC0xKSByZXR1cm4gInBvdW5kcyI7CgkJCQkJCWlmIChlLmluZGV4T2YoIm96IikgPiAtMSkgcmV0dXJuICJvdW5jZXMiCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGIoZSkgewoJCQkJaWYgKHdlLndlaWdodCAmJiAhZSkgcmV0dXJuIHdlLndlaWdodDsKCQkJCWZvciAodmFyIHQgPSAwLCBuID0gU2VbcmVdLCBhID0gbi5sZW5ndGgsIG8gPSAwOyBhID4gbzsgbysrKSB7CgkJCQkJdmFyIHIgPSBpKG5bb10pLnRleHQoKTsKCQkJCQlpZiAoIiIgIT0gcikgewoJCQkJCQl2YXIgcyA9IHYocik7CgkJCQkJCWlmICgibGJfb3oiID09IHMpIHsKCQkJCQkJCXZhciBsID0gci5tYXRjaCgvWzAtOV0rL2cpOwoJCQkJCQkJcmV0dXJuIHQgPSBNYXRoLnJvdW5kKDEwMCAqICh5ZS5wb3VuZHMgLyAxZTMgKiBwYXJzZUludChsWzBdKSArIHllLm91bmNlcyAvIDFlMyAqIHBhcnNlSW50KGxbMV0pKSkgLyAxMDAsIHdlLndlaWdodCA9IHQsIHQKCQkJCQkJfQoJCQkJCQlpZiAoIiIgIT0gcykgcmV0dXJuIHQgPSBNYXRoLnJvdW5kKHllW3NdIC8gMWUzICogdyhyKSAqIDEwMCkgLyAxMDAsIDAgPT09IHQgfHwgdCB8fCAodCA9IDApLCB3ZS53ZWlnaHQgPSB0LCB0CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiB5KGUpIHsKCQkJCXZhciB0ID0gYihlKTsKCQkJCWlmICh0ICYmIDAgIT0gdCkgewoJCQkJCWUgJiYgaSgiLmh0X3dlaWdodF9udW0iKS52YWwodCk7CgkJCQkJdmFyIG4gPSBBKHQpLAoJCQkJCQlhID0gaSgiI3RyYW5zX2xpc3QgbGkgLnRyYW5zX2NvbSIpLmVxKG4ubWluaW5kZXgpLnRleHQoKTsKCQkJCQkiIiAhPSBhICYmIDk5OTk5OTk5ICE9IG4ubWlucHJpY2UgJiYgKGkoIi5odF9mcmVpZ2h0X251bSIpLnRleHQoIsKlIiArIG4ubWlucHJpY2UpLCBpKCIuaHRfdHJhbnNwb3J0X2J0biBzcGFuIikudGV4dChhKSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gaygpIHsKCQkJCXJldHVybiB0LmRwLnByaWNlIHx8ICIwIgoJCQl9CgoJCQlmdW5jdGlvbiB6KGUpIHsKCQkJCXZhciB0ID0gMDsKCQkJCXQgPSBlID8gZSA6IGsoKTsKCQkJCXZhciBuID0gaSgiLmh0X2ZyZWlnaHRfbnVtIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLyk7CgkJCQluICYmIChuID0gblswXSk7CgkJCQl2YXIgYSA9IGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0gZW0iKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCXJldHVybiBhICYmIChhID0gYVswXSksIGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0iKSAmJiAiMCIgPT0gaSgiLmh0X3RhcmlmZiAuaHRfdGFyaWZmX251bSIpLmF0dHIoImRhdGEtcHJpY2UiKSAmJiAoYSA9IDApLCBhIHx8IChhID0gMCksIG4gfHwgKG4gPSAwKSwgdCA9IE51bWJlcigoTnVtYmVyKHQpICsgTnVtYmVyKG4pICsgTnVtYmVyKGEpKS50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSwgdC50b1N0cmluZygpLm1hdGNoKC9cLlxkezN9LykgJiYgKHQgPSB0LnRvU3RyaW5nKCkucmVwbGFjZSgvKFwuXGR7Mn0pXGQrLywgIiQxIikpLCB0CgkJCX0KCgkJCWZ1bmN0aW9uIEIoKSB7CgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbSgpOwoJCQkJCWkoIi5wcm9fdHlwZSBlbSIpLmF0dHIoImNsYXNzIiwgZSksICJ6aXlpbmciID09IGUgPyAoaSgiLnByb190eXBlIC5wcm9fdF90bGUiKS50ZXh0KCLoh6rokKUiKSwgaSgiLnByb190eXBlX2RldGFpbCIpLnRleHQoKCI2cG0iID09IHQuc2l0ZSA/ICI2UE0iIDogIuS6mumprOmAiiIpICsgIuebtOaOpemUgOWUruOAgiIpKSA6IChpKCIucHJvX3R5cGUgLnByb190X3RsZSIpLnRleHQoIuesrOS4ieaWuSIpLCBpKCIucHJvX3R5cGVfZGV0YWlsIikudGV4dCgoIjZwbSIgPT0gdC5zaXRlID8gIjZQTSIgOiAi5Lqa6ams6YCKIikgKyAi56ys5LiJ5pa55ZWG5a626ZSA5ZSu44CCIikpCgkJCQl9LCAxZTMpCgkJCX0KCgkJCWZ1bmN0aW9uIGooKSB7CgkJCQl2YXIgZSA9ICIjcHJpY2VibG9ja19vdXJwcmljZSIsCgkJCQkJbiA9ICJwcmljZV9mZWF0dXJlX2RpdiI7CgkJCQkiNnBtIiA9PSB0LnNpdGUgJiYgKGUgPSAiI3ByaWNlU2xvdCAucHJpY2UiLCBuID0gInByb2R1Y3RGb3JtIik7CgkJCQl2YXIgYSA9IGkoZSkudGV4dCgpLAoJCQkJCW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKTsKCQkJCW8gJiYgby5hZGRFdmVudExpc3RlbmVyICYmIG8uYWRkRXZlbnRMaXN0ZW5lcigiRE9NU3VidHJlZU1vZGlmaWVkIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIHQgPSBpKGUpLnRleHQoKTsKCQkJCQl0ICE9IGEgJiYgdCAmJiAoYSA9IHQsIHQgPSBtZSh0KSwgaSgiLmh0X2NvbnRlbnQgLnByaWNlX251bSIpLnRleHQoIsKlIiArIHQpLCBDKHQpLCBCKCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXkoITApCgkJCQkJfSwgODAwKSkKCQkJCX0sICExKQoJCQl9CgoJCQlmdW5jdGlvbiBDKGUpIHsKCQkJCXZhciB0ID0gIsKlIiArIHooZSk7CgkJCQlpKCIuaHRfZ2V0cHJpY2VfbnVtIikudGV4dCh0KQoJCQl9CgoJCQlmdW5jdGlvbiBTKCkgewoJCQkJdmFyIGUgPSAoaSh3aW5kb3cpLndpZHRoKCkgLSA1OTUpIC8gMiwKCQkJCQl0ID0gKGkod2luZG93KS5oZWlnaHQoKSAtIDQyMCkgLyAyOwoJCQkJcmV0dXJuIHsKCQkJCQlwb3N4OiBlLAoJCQkJCXBvc3k6IHQKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gTigpIHsKCQkJCXZhciBlID0gbig0Nik7CgkJCQlpKCJib2R5IikuYXBwZW5kKHVlLmNvbXBpbGUoZSkoewoJCQkJCXBvczogUygpCgkJCQl9KSkKCQkJfQoKCQkJZnVuY3Rpb24gVCgpIHsKCQkJCXZhciBlID0gbig0Nyk7CgkJCQlpKCJib2R5IikuYXBwZW5kKHVlLmNvbXBpbGUoZSkoewoJCQkJCXBvczogUygpLAoJCQkJCWh0X3dlaWdodDogYigpLAoJCQkJCWNfc2VydmVyOiB0LmNfc2VydmVyCgkJCQl9KSkKCQkJfQoKCQkJZnVuY3Rpb24gUChlLCBuKSB7CgkJCQl2YXIgYSA9ICc8aW1nIHNyYz0iaHR0cDovL3MxLicgKyB0LmV4dE5hbWUgKyAnLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy97e2ltZ3VybH19Ij4nOwoJCQkJaSgiLnNpemVfcyIpLmVtcHR5KCkuYXBwZW5kKHVlLmNvbXBpbGUoYSkoewoJCQkJCWltZ3VybDogZQoJCQkJfSkpLCBpKCIuc2l6ZV9pdGVtX2ltZyIpLmVtcHR5KCkuYXBwZW5kKHVlLmNvbXBpbGUoYSkoewoJCQkJCWltZ3VybDogbgoJCQkJfSkpCgkJCX0KCgkJCWZ1bmN0aW9uIEkoZSkgewoJCQkJaWYgKCFoZSkgcmV0dXJuIG51bGw7CgkJCQlmb3IgKHZhciB0ID0gaGVbdmVdLCBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspCgkJCQkJaWYgKGUgPT09IHRbbl0uc2hvcElkICYmIHRbbl0uYXNjZSkgewoJCQkJCQl2YXIgaSA9IHRbbl0uYXNjZWFyciwKCQkJCQkJCWEgPSB0W25dLmN1cnJlbnQ7CgkJCQkJCXJldHVybiB7CgkJCQkJCQlhc2NlYXJyOiBpLAoJCQkJCQkJY3VycmVudDogYQoJCQkJCQl9CgkJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBBKGUpIHsKCQkJCWZvciAodmFyIHQgPSA5OTk5OTk5OSwgbiA9IDAsIGEgPSBpKCIjdHJhbnNfbGlzdCBsaSAudHJhbnNfcHIiKSwgbyA9IGkoYSkubGVuZ3RoLCByID0gMDsgbyA+IHI7IHIrKykgewoJCQkJCXZhciBzID0gTnVtYmVyKGkoYSkuZXEocikuYXR0cigiZGF0YS1mcCIpKSwKCQkJCQkJbCA9IE51bWJlcihpKGEpLmVxKHIpLmF0dHIoImRhdGEtZnciKSksCgkJCQkJCWMgPSBOdW1iZXIoaShhKS5lcShyKS5hdHRyKCJkYXRhLXN3IikpLAoJCQkJCQlkID0gTnVtYmVyKGkoYSkuZXEocikuYXR0cigiZGF0YS1zcCIpKSwKCQkJCQkJcCA9IGkoYSkuZXEocikuYXR0cigiZGF0YS1zaG9wbmFtZSIpOwoJCQkJCWlmIChwKSB7CgkJCQkJCXZhciBoID0gSShwKTsKCQkJCQkJaWYgKCFoKSByZXR1cm47CgkJCQkJCXZhciB1ID0gTyhlLCBoLmFzY2VhcnIsIGguY3VycmVudCkKCQkJCQl9IGVsc2UgdmFyIHUgPSBFKGUsIFtzLCBsLCBkLCBjXSk7CgkJCQkJMCA9PSByICYmICh0ID0gdSksIGkoYSkuZXEocikudGV4dCgi77+lIiArIHUpCgkJCQl9CgkJCQlyZXR1cm4gewoJCQkJCW1pbmluZGV4OiBuLAoJCQkJCW1pbnByaWNlOiB0CgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIHEoKSB7CgkJCQl2YXIgZSA9IGkoIi5maXJzdF94aWFsYSIpLnZhbCgpLAoJCQkJCXQgPSBpKCIuc2Vjb25kX3hpYWxhIikudmFsKCksCgkJCQkJbiA9IGkoIiNmaXJzdF9zaXplIikudmFsKCk7CgkJCQluICYmIChuID0gTnVtYmVyKG4pKTsKCQkJCXZhciBhID0gYmVbZV0sCgkJCQkJbyA9IGJlW3RdLAoJCQkJCXIgPSBuICogYSAvIG87CgkJCQlyLnRvU3RyaW5nKCkuaW5kZXhPZigiLiIpID4gLTEgJiYgKHIgPSByLnRvRml4ZWQoMikpLCBpKCIjc2Vjb25kX3NpemUiKS52YWwocikKCQkJfQoKCQkJZnVuY3Rpb24gRShlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IHRbMF0sCgkJCQkJYSA9IHRbMV0sCgkJCQkJbyA9IHRbMl0sCgkJCQkJciA9IHRbM10sCgkJCQkJcyA9IDE7CgkJCQlpZiAoci50b1N0cmluZygpLmluZGV4T2YoIi4iKSA+IC0xICYmIChzID0gci50b1N0cmluZygpLm1hdGNoKC9cLihcZCspLylbMV0ubGVuZ3RoKSwgIjAiID09IGkpIG4gPSBlIC8gciAqIG87CgkJCQllbHNlIGlmIChhID49IGUpIG4gPSBpOwoJCQkJZWxzZSB7CgkJCQkJdmFyIGwgPSBlIC0gYSwKCQkJCQkJYyA9IDA7CgkJCQkJYyA9IGwgKiBNYXRoLnBvdygxMCwgcykgJSAociAqIE1hdGgucG93KDEwLCBzKSkgPT0gMCA/IGwgLyByIDogcGFyc2VJbnQobCAvIHIpICsgMTsKCQkJCQl2YXIgbiA9IGkgKyBjICogbwoJCQkJfQoJCQkJcmV0dXJuIE51bWJlcihuKS50b0ZpeGVkKDIpCgkJCX0KCgkJCWZ1bmN0aW9uIE8oZSwgdCwgbikgewoJCQkJZSA9IE51bWJlcihlKTsKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykKCQkJCQlpZiAodFtpXVswXSA+IGUpIHJldHVybiAwID09IGkgPyBpID0gMSA6IHRbaSAtIDFdWzBdIDwgZSAmJiAoaSArPSAxKSwgbiA/IG1lKHRbaSAtIDFdWzFdKS50b0ZpeGVkKDIpIDogTnVtYmVyKHRbaSAtIDFdWzFdKS50b0ZpeGVkKDIpOwoJCQkJcmV0dXJuIGUgPiB0W3QubGVuZ3RoIC0gMV1bMF0gPyBuID8gbWUodFt0Lmxlbmd0aCAtIDFdWzFdKS50b0ZpeGVkKDIpIDogTnVtYmVyKHRbdC5sZW5ndGggLSAxXVsxXSkudG9GaXhlZCgyKSA6IHZvaWQgMAoJCQl9CgoJCQlmdW5jdGlvbiBMKCkgewoJCQkJZm9yICh2YXIgZSwgdCwgbiwgYSwgbywgciA9IE51bWJlcihpKCIuaHRfd2VpZ2h0IC5odF93ZWlnaHRfbnVtIikudmFsKCkpIHx8IDAsIHMgPSBpKCIuaHRfdHJhbnNwb3J0X2J0biBzcGFuIikuYXR0cigiZGF0YS10aXRsZSIpLCBsID0gaGVbdmVdLCBjID0gMDsgYyA8IGwubGVuZ3RoOyBjKyspIGxbY10uc2hvcG5hbWUgPT0gcyAmJiAoZSA9IGxbY10uZmlyc3RXLCB0ID0gbFtjXS5uZXh0VywgbiA9IGxbY10uYXNjZSwgYSA9IGxbY10uYXNjZWFyciwgbyA9IGxbY10uY3VycmVudCk7CgkJCQlpZiAobikgdmFyIGQgPSAiwqUiICsgTyhyLCBhLCBvKTsKCQkJCWVsc2UgdmFyIGQgPSAiwqUiICsgRShyLCBbZVsxXSwgZVswXSwgdFsxXSwgdFswXV0pOwoJCQkJaSgiLmh0X2ZyZWlnaHRfbnVtIikudGV4dChkKQoJCQl9CgoJCQlmdW5jdGlvbiBEKCkgewoJCQkJdmFyIGUgPSBoZVt2ZV0sCgkJCQkJdCA9ICd7e2VhY2ggZGF0YX19XG4gICAgICAgICAgICAgIDxsaSBjbGFzcz0ie3tpZiAkaW5kZXglMj09MX19bF9vZGR7ey9pZn19Ij5cbiAgICAgICAgICAgICAgICA8YSBjbGFzcz0idHJhbnNfY29tIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0ie3skdmFsdWUuc2hvcF91cmx9fSIgPnt7JHZhbHVlLnNob3BuYW1lfX08L2E+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxvX2NlbnRlciI+e3skdmFsdWUud2FyZWhvdXNlfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRyYW5zX3ByIiB7e2lmICR2YWx1ZS5hc2NlfX1kYXRhLXNob3BuYW1lPSJ7eyR2YWx1ZS5zaG9wSWR9fSIge3svaWZ9fSBkYXRhLWZ3PSJ7eyR2YWx1ZS5maXJzdFdbMF19fSIgZGF0YS1zdz0ie3skdmFsdWUubmV4dFdbMF19fSIgZGF0YS1zcD0ie3skdmFsdWUubmV4dFdbMV19fSIgZGF0YS1mcD0ie3skdmFsdWUuZmlyc3RXWzFdfX0iPnt7JHZhbHVlLmZpcnN0V1sxXT09MD8i5peg6aaW6YeNIjooIu+/pSIrJHZhbHVlLmZpcnN0V1sxXSl9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5jb29wZXJ9fTxzcGFuIGNsYXNzPSJzYWxlX3RsZSI+PGEgIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+e3skdmFsdWUuc2FsZV90bGV9fTwvYT48L3NwYW4+e3svaWZ9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAge3svZWFjaH19JzsKCQkJCWkoIiN0cmFuc19saXN0IikuYXBwZW5kKHVlLmNvbXBpbGUodCkoewoJCQkJCWRhdGE6IGUKCQkJCX0pKSwgTSgpLCBzZSB8fCBpKCIjdHJhbnNwb3J0X2RldGFpbCIpLmFkZENsYXNzKCJub19zYWxlIikKCQkJfQoKCQkJZnVuY3Rpb24gTSgpIHsKCQkJCXZhciBlID0gaGVbdmVdOwoJCQkJaSgiI3RyYW5zX2xpc3QgbGkgLnRyYW5zX3ByIikuZWFjaChmdW5jdGlvbih0LCBuKSB7CgkJCQkJaWYgKCLml6Dpppbph40iID09IGkobikudGV4dCgpKQoJCQkJCQlmb3IgKHZhciBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIGVbYV0uc2hvcElkID09PSBpKG4pLmF0dHIoImRhdGEtc2hvcG5hbWUiKSAmJiAoZVthXS5jdXJyZW50ID8gaShuKS50ZXh0KCLvv6UiICsgTnVtYmVyKG1lKGVbYV0uYXNjZWFyclswXVsxXSkpLnRvRml4ZWQoMikpIDogaShuKS50ZXh0KCLvv6UiICsgTnVtYmVyKGVbYV0uYXNjZWFyclswXVsxXSkudG9GaXhlZCgyKSkpOwoJCQkJCWVsc2UgewoJCQkJCQl2YXIgbyA9IGkobikudGV4dCgpLnJlcGxhY2UoIu+/pSIsICIiKTsKCQkJCQkJbyA9ICLvv6UiICsgTnVtYmVyKG8pLnRvRml4ZWQoMiksIGkobikudGV4dChvKQoJCQkJCX0KCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFIoZSwgdCkgewoJCQkJcmV0dXJuICJMQiIgPT0gZSAmJiAodCA9IC40NTM2ICogTnVtYmVyKHQpKSwgdAoJCQl9CgoJCQlmdW5jdGlvbiBGKCkgewoJCQkJaSgiLnRyYW5zX3cgaW5wdXQiKS5vbigia2V5dXAiLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IE51bWJlcihpKHRoaXMpLnZhbCgpKSwKCQkJCQkJdCA9IGkoIi50cmFuc193IGlucHV0Ky53ZWlnaHRfdHlwZSIpLnRleHQoKSwKCQkJCQkJbiA9IFIodCwgZSk7CgkJCQkJMCAhPT0gZSAmJiAoZSA/IEEobikgOiBhbGVydCgi6K+36L6T5YWl5pWw5a2X77yBIikpCgkJCQl9KSwgaSgiI3RyYW5zX2xpc3QgbGkgLnNhbGVfdGxlIGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlnZSgiY2xpY2s6aGFpdGFvOnNhbGVfdGxlIiksIF9lLmxvZygi5rW35reY6L2s6L+Q5ZWG5a625LyY5oOg5pS/562W54K55Ye75oOF5Ya1IikKCQkJCX0pLCBpKCIjdHJhbnNfbGlzdCBsaSAudHJhbnNfY29tIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJZ2UoImNsaWNrOmhhaXRhbzp0cmFuc19jb20iKSwgX2UubG9nKCLmtbfmt5jovazov5DllYblrrbnvZHnq5nngrnlh7vmg4XlhrUiKQoJCQkJfSksIGkoIiN0cmFuc19saXN0IGxpIC5sb19jZW50ZXIsICN0cmFuc19saXN0IGxpIC50cmFuc19wciIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSh0aGlzKS5wYXJlbnQoKS5maW5kKCIudHJhbnNfY29tIikudGV4dCgpOwoJCQkJCWkoIi5odF90cmFuc3BvcnRfYnRuIHNwYW4iKS50ZXh0KGUuc2xpY2UoMCwgNSkpLCBpKCIuaHRfdHJhbnNwb3J0X2J0biBzcGFuIikuYXR0cigiZGF0YS10aXRsZSIsIGUpLCBMKCksIEMoKSwgaSgiI3RyYW5zcG9ydF9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uICQoKSB7CgkJCQlpKCIuY2xvdGhlc19uYXYgbGkiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIuY2xvdGhlc19uYXYgbGkiKS5yZW1vdmVDbGFzcygic2VsZWN0IiksIGkodGhpcykuYWRkQ2xhc3MoInNlbGVjdCIpOwoJCQkJCXZhciBlID0gaSh0aGlzKS50ZXh0KCksCgkJCQkJCXQgPSBwKGUsIHZlKTsKCQkJCQllLmluZGV4T2YoIumeiyIpID4gLTEgPyAoaSgiLnVuaXRfY20iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLCBpKCIudW5pdF9tbSIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5kZXRhaWxfbGVmdCBzcGFuIikuaGlkZSgpLCBpKCIuY2xvdGhfaWNvbiIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5zaG9lcyIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgZS5pbmRleE9mKCLnlLfpnosiKSA+IC0xID8gKGkoIi5jbG90aF9pY29uIikuYXR0cigiY2xhc3MiLCAiIikuYWRkQ2xhc3MoImNsb3RoX2ljb24gaHRfc2hvZXMgbWFuX2Zvb3QiKSwgaSgiLmRldGFpbF9sZWZ0IC5zaG9lcyIpLnRleHQoZSkpIDogZS5pbmRleE9mKCLlpbPpnosiKSA+IC0xID8gKGkoIi5jbG90aF9pY29uIikuYXR0cigiY2xhc3MiLCAiIikuYWRkQ2xhc3MoImNsb3RoX2ljb24gaHRfc2hvZXMgd29tYW5fZm9vdCIpLCBpKCIuZGV0YWlsX2xlZnQgLnNob2VzIikudGV4dChlKSkgOiAoaSgiI3NpemVfZGV0YWlsIC5zaG9lcyIpLmhpZGUoKSwgaSgiLmNsb3RoX2ljb24iKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIiksIGkoIi50b25neGllIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIudG9uZ3hpZTAiKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIudG9uZ3hpZTQiKS5yZW1vdmVDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIGh0X3Nob2VzIGtpZHNfZm9vdCIpKSkgOiBlLmluZGV4T2YoIuerpeijhSIpID4gLTEgPyAoaSgiLnVuaXRfbW0iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLCBpKCIudW5pdF9jbSIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5kZXRhaWxfbGVmdCBzcGFuIikuaGlkZSgpLCBpKCIjc2l6ZV9kZXRhaWwgLnRvbmd6aHVhbmciKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIiksIGkoIi5jbG90aF9pY29uIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIGtpZDAiKSwgaSgiLnRvbmd6aHVhbmcwIikuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnRvbmd6aHVhbmc0IikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKSkgOiBlLmluZGV4T2YoIueUt+ijhSIpID4gLTEgPyAoaSgiLnVuaXRfbW0iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLCBpKCIudW5pdF9jbSIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5kZXRhaWxfbGVmdCBzcGFuIikuaGlkZSgpLCBpKCIuY2xvdGhfaWNvbiIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5zaGFuZ3lpIikuc2hvdygpLCBpKCIjc2l6ZV9kZXRhaWwgLnhpYXpodWFuZyIpLnNob3coKSwgaSgiLnhpYXpodWFuZyIpLnJlbW92ZUNsYXNzKCJzaXplX2hvdmVyIiksIGkoIi5zaGFuZ3lpIikuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLmNsb3RoX2ljb24iKS5hdHRyKCJjbGFzcyIsICIiKS5hZGRDbGFzcygiY2xvdGhfaWNvbiBtYW5zaGFuZ3podWFuZyIpKSA6IChpKCIudW5pdF9tbSIpLmNzcygiZGlzcGxheSIsICJub25lIiksIGkoIi51bml0X2NtIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIjc2l6ZV9kZXRhaWwgLmRldGFpbF9sZWZ0IHNwYW4iKS5oaWRlKCksIGkoIi5jbG90aF9pY29uIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIjc2l6ZV9kZXRhaWwgLnNoYW5neWkiKS5zaG93KCksIGkoIiNzaXplX2RldGFpbCAueGlhemh1YW5nIikuc2hvdygpLCBpKCIueGlhemh1YW5nIikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnNoYW5neWkiKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBlLmluZGV4T2YoIueUt+ijhSIpID4gLTEgPyBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIG1hbnNoYW5nemh1YW5nIikgOiBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIHdvbWFuc2hhbmd6aHVhbmciKSksIFAodFswXSwgdFsxXSkKCQkJCX0pLCBpKCIuc2hhbmd5aSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWlmICghKGkodGhpcykuYXR0cigiY2xhc3MiKS5pbmRleE9mKCJzaXplX2hvdmVyIikgPiAtMSkpIHsKCQkJCQkJdmFyIGUgPSBpKCcuY2xvdGhlc19uYXYgbGlbY2xhc3M9InNlbGVjdCJdJykudGV4dCgpOwoJCQkJCQlpZiAoIuerpeijhSIgIT0gZSkgewoJCQkJCQkJIueUt+ijhSIgPT0gZSAmJiBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIG1hbnNoYW5nemh1YW5nIiksICLlpbPoo4UiID09IGUgJiYgaSgiLmNsb3RoX2ljb24iKS5hdHRyKCJjbGFzcyIsICIiKS5hZGRDbGFzcygiY2xvdGhfaWNvbiB3b21hbnNoYW5nemh1YW5nIik7CgkJCQkJCQl2YXIgdCA9IHAoZSwgdmUpOwoJCQkJCQkJUCh0WzBdLCB0WzFdKSwgaSh0aGlzKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIueGlhemh1YW5nIikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKQoJCQkJCQl9CgkJCQkJfQoJCQkJfSksIGkoIi54aWF6aHVhbmciKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIShpKHRoaXMpLmF0dHIoImNsYXNzIikuaW5kZXhPZigic2l6ZV9ob3ZlciIpID4gLTEpKSB7CgkJCQkJCXZhciBlID0gaSgnLmNsb3RoZXNfbmF2IGxpW2NsYXNzPSJzZWxlY3QiXScpLnRleHQoKTsKCQkJCQkJaWYgKCLnq6Xoo4UiICE9IGUpIHsKCQkJCQkJCWlmICgi55S36KOFIiA9PSBlKSB7CgkJCQkJCQkJdmFyIHQgPSBrZS54aWF6aHVhbmdbdmVdLm1hbjsKCQkJCQkJCQlQKHRbMF0sIHRbMV0pLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIG1hbnhpYXpodWFuZyIpCgkJCQkJCQl9CgkJCQkJCQlpZiAoIuWls+ijhSIgPT0gZSkgewoJCQkJCQkJCXZhciB0ID0ga2UueGlhemh1YW5nW3ZlXS53b21hbjsKCQkJCQkJCQlQKHRbMF0sIHRbMV0pLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIHdvbWFueGlhemh1YW5nIikKCQkJCQkJCX0KCQkJCQkJCWkodGhpcykuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnNoYW5neWkiKS5yZW1vdmVDbGFzcygic2l6ZV9ob3ZlciIpCgkJCQkJCX0KCQkJCQl9CgkJCQl9KSwgaSgiLnRvbmd6aHVhbmcwIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBwKCLnq6Xoo4UiLCB2ZSk7CgkJCQkJUChlWzBdLCBlWzFdKSwgaSh0aGlzKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIudG9uZ3podWFuZzQiKS5yZW1vdmVDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIGtpZDAiKQoJCQkJfSksIGkoIi50b25nemh1YW5nNCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gcCgi56ul6KOFIiwgdmUpOwoJCQkJCVAoZVswXSwgZVsyXSksIGkodGhpcykuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnRvbmd6aHVhbmcwIikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLmNsb3RoX2ljb24iKS5hdHRyKCJjbGFzcyIsICIiKS5hZGRDbGFzcygiY2xvdGhfaWNvbiBraWQ0IikKCQkJCX0pLCBpKCIudG9uZ3hpZTAiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHAoIuerpemeiyIsIHZlKTsKCQkJCQlQKGVbMF0sIGVbMV0pLCBpKHRoaXMpLmFkZENsYXNzKCJzaXplX2hvdmVyIiksIGkoIi50b25neGllNCIpLnJlbW92ZUNsYXNzKCJzaXplX2hvdmVyIikKCQkJCX0pLCBpKCIudG9uZ3hpZTQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHAoIuerpemeiyIsIHZlKTsKCQkJCQlQKGVbMF0sIGVbMl0pLCBpKHRoaXMpLmFkZENsYXNzKCJzaXplX2hvdmVyIiksIGkoIi50b25neGllMCIpLnJlbW92ZUNsYXNzKCJzaXplX2hvdmVyIikKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFcoKSB7CgkJCQl2YXIgZSA9IHQuY29sbGVjdEluZm87CgkJCQlpZiAoIiIgPT0gZS5kcF9pZCkgcmV0dXJuIGkoIiNodF9hZGRjb2xsZWN0IikudGV4dCgi5pqC5LiN5pSv5oyBIiksIHZvaWQgaSgiI2h0X2FkZGNvbGxlY3QiKS51bmJpbmQoImNsaWNrIik7CgkJCQlpKCIjaHRfYWRkY29sbGVjdCIpLnRleHQoIuato+WcqOa3u+WKoCIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLmFkZENsYXNzKCJjX2FkZGluZyIpLCAiIiAhPSBlLnRpdGxlICYmIGUudGl0bGUgfHwgKGUudGl0bGUgPSB0LmRwLm5hbWUgfHwgaSgidGl0bGUiKS50ZXh0KCkpLCAiIiAhPSBlLnByaWNlICYmIGUucHJpY2UgfHwgKGUucHJpY2UgPSB0LmRwLnByaWNlKTsKCQkJCXZhciBuID0gdC5jX3NlcnZlciArICIvY29sbGVjdC9hal9hZGQ/ZHBfaWQ9ICIgKyBlLmRwX2lkICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnVybCB8fCB0LmRwLnVybCkgKyAiJmltZz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuaW1nIHx8IHQuZHAuaW1nKSArICImdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnRpdGxlKSArICImcHJpY2U9IiArIGUucHJpY2UgKyAiJnNpdGVfaWQ9IiArIGUuc2l0ZV9pZCArICImY2F0X2lkPSIgKyB0LmRwLmNhdF9pZDsKCQkJCU5lKG4sIGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoMTAwID09IGUuY29kZSB8fCBlLmNvZGUgPD0gMCkgewoJCQkJCQl2YXIgbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvU3RyaW5nKCk7CgkJCQkJCW4gKz0gbi5pbmRleE9mKCI/IikgPiAtMSA/ICImZ3dkX2FkZF9mYXZvcl91bmlxdWU9dHJ1ZSIgOiAiP2d3ZF9hZGRfZmF2b3JfdW5pcXVlPXRydWUiLCB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHQuY19zZXJ2ZXIgKyAiL3VzZXIvbG9naW4/ZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChuKQoJCQkJCX0gZWxzZSAxID09IGUuY29kZSA/IChpKCIjaHRfYWRkY29sbGVjdCIpLnRleHQoIuW3sua3u+WKoCIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLnJlbW92ZUNsYXNzKCJjX2FkZGluZyIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLmFkZENsYXNzKCJjX2FkZGVkIiksIGkoIiNodF9hZGRjb2xsZWN0IikudW5iaW5kKCJjbGljayIpKSA6IDIgPT0gZS5jb2RlICYmIChpKCIjaHRfYWRkY29sbGVjdCIpLnRleHQoIua3u+WKoOi/h+S6hiIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLnJlbW92ZUNsYXNzKCJjX2FkZGluZyIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLmFkZENsYXNzKCJjX2FkZGVkIiksIGkoIiNodF9hZGRjb2xsZWN0IikudW5iaW5kKCJjbGljayIpKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gSCgpIHsKCQkJCWkoIi5odF9oZWFkIC5odF9nZXRwcmljZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKCIjaHRfY29udGVudF9pbmZvIik7CgkJCQkJZS5pcygiOnZpc2libGUiKSB8fCAoaSgiLmNvbnRlbnRfZGVmYXVsdCIpLmhpZGUoKSwgZS5zaG93KCkpCgkJCQl9KSwgaSgiLmNsb3NlYmFyIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSh0aGlzKS5wYXJlbnQoKS5oaWRlKCkKCQkJCX0pLCBpKCIuY29udGVudF9kZWZhdWx0X2xlZnQgLmh0X3RhcmlmZiAuZGVsX2xpbmUiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWkoIi50YXJpZmZfcmVtaW5kX2RldGFpbCIpLnNob3coKQoJCQkJfSksIGkoIi5jb250ZW50X2RlZmF1bHRfbGVmdCAuaHRfdGFyaWZmIC5kZWxfbGluZSIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLnRhcmlmZl9yZW1pbmRfZGV0YWlsIikuaGlkZSgpCgkJCQl9KSwgaSgiLmh0X3RyYW5zbGF0ZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLnRyYW5zbGF0ZV9kZXRhaWwiKS5zaG93KCkKCQkJCX0pLCBpKCIuaHRfdHJhbnNsYXRlIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIudHJhbnNsYXRlX2RldGFpbCIpLmhpZGUoKQoJCQkJfSksIGkoIi5wcm9fdHlwZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLnByb190eXBlX2RldGFpbCIpLnNob3coKQoJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIucHJvX3R5cGVfZGV0YWlsIikuaGlkZSgpCgkJCQl9KSwgaSgiLm1haWxfdHlwZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLm1haWxfdHlwZV9kZXRhaWwiKS5zaG93KCkKCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLm1haWxfdHlwZV9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pLCBpKCIuaHRfdHJhbnNwb3J0X2J0biwgLnNpemVfaGVscCwgLmh0X3RhcmlmZl9idG4sICNodF9hZGRjb2xsZWN0Iikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmZpbmQoIi5kaXZfZGV0YWlsIikuc2hvdygpCgkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCWkodGhpcykuZmluZCgiLmRpdl9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pLCBpKCIud2VpZ2h0X3R5cGUiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWkoIi53ZWlnaHRfdHlwZV9kZXRhaWwiKS5zaG93KCkKCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLndlaWdodF90eXBlX2RldGFpbCIpLmhpZGUoKQoJCQkJfSksIGkoIiNodF9hZGRjb2xsZWN0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gaSgiI2FsdEltYWdlcyBsaSBpbWciKS5lcSgwKTsKCQkJCQluICYmICh0LmNvbGxlY3RJbmZvLmltZyA9IG4uYXR0cigic3JjIikpLCBlLnByZXZlbnREZWZhdWx0KCksIFcoKQoJCQkJfSksIGkoIi5odF93ZWlnaHQgLndlaWdodF90eXBlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKHRoaXMpLnRleHQoKTsKCQkJCQkiTEIiID09PSBlID8gKG9lID0gaSgiLmh0X3dlaWdodF9udW0iKS52YWwoKSwgaSh0aGlzKS50ZXh0KCJLRyIpLCBpKCIuaHRfd2VpZ2h0X251bSIpLnZhbChNYXRoLnJvdW5kKC40NTM1OTI0ICogTnVtYmVyKG9lKSAqIDEwMCkgLyAxMDApKSA6IChpKHRoaXMpLnRleHQoIkxCIiksIG9lICYmIGkoIi5odF93ZWlnaHRfbnVtIikudmFsKG9lKSkKCQkJCX0pLCBpKCIuZGVsX2xpbmUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkiMSIgPT09IGkodGhpcykuYXR0cigiZGF0YS1kZWwiKSA/IChpKHRoaXMpLmZpbmQoIi5odF90YXJpZmZfbnVtIikuY3NzKCJ0ZXh0LWRlY29yYXRpb24iLCAibm9uZSIpLCBpKHRoaXMpLmF0dHIoImRhdGEtZGVsIiwgIjAiKSwgaSh0aGlzKS5maW5kKCJzcGFuIikuYXR0cigiZGF0YS1wcmljZSIsIGkodGhpcykuZmluZCgic3BhbiIpLnRleHQoKSksIEMoKSkgOiAoaSh0aGlzKS5maW5kKCIuaHRfdGFyaWZmX251bSIpLmNzcygidGV4dC1kZWNvcmF0aW9uIiwgImxpbmUtdGhyb3VnaCIpLCBpKHRoaXMpLmF0dHIoImRhdGEtZGVsIiwgIjEiKSwgaSh0aGlzKS5maW5kKCJzcGFuIikuYXR0cigiZGF0YS1wcmljZSIsIDApLCBDKCkpCgkJCQl9KSwgaSgiLmh0X3RyYW5zcG9ydF9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIjdHJhbnNwb3J0X2RldGFpbCIpLnNob3coKSwgZ2UoImNsaWNrOmhhaXRhbzp0cmFuc3BvcnQiKSwgX2UubG9nKCLmtbfmt5jovazov5DllYblrrbngrnlh7vmg4XlhrUiKQoJCQkJfSksIGkoIi5zaXplX2hlbHAiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIjc2l6ZV9kZXRhaWwiKS5zaG93KCksIGdlKCJjbGljazpoYWl0YW86c2l6ZV9oZWxwIiksIF9lLmxvZygi54K55Ye75bC656CB5biu5YqpIikKCQkJCX0pLCBpKCIuc2l6ZV94aWFsYSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSh0aGlzKS5uZXh0KCIuc2l6ZV94aWFsYWJveCIpLnNob3coKSwgaSh0aGlzKS5hZGRDbGFzcygibXNIb3ZlciIpCgkJCQl9KSwgaSgiLnNpemVfeGlhbGEiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQlpZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWkoZSkubmV4dCgiLnNpemVfeGlhbGFib3giKS5oaWRlKCksIGkoZSkucmVtb3ZlQ2xhc3MoIm1zSG92ZXIiKQoJCQkJCX0sIDEwMCkKCQkJCX0pLCBpKCIuc2l6ZV94aWFsYWJveCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJY2xlYXJUaW1lb3V0KGllKQoJCQkJfSksIGkoIi5zaXplX3hpYWxhYm94Iikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmhpZGUoKQoJCQkJfSksIGkoIi5zaXplX3hpYWxhYm94IGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkodGhpcykudGV4dCgpLAoJCQkJCQl0ID0gaSh0aGlzKS5wYXJlbnQoKS5hdHRyKCJkYXRhLXNpemUiKTsKCQkJCQlpKCIuIiArIHQpLnZhbChlKSwgaSh0aGlzKS5wYXJlbnQoKS5oaWRlKCksIHEoKQoJCQkJfSksIGkoIiNmaXJzdF9zaXplIikub24oImtleXVwIiwgZnVuY3Rpb24oKSB7CgkJCQkJcSgpCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBVKCkgewoJCQkJSCgpLCBKKCksIEYoKQoJCQl9CgoJCQlmdW5jdGlvbiBZKGUpIHsKCQkJCXZhciB0ID0gJ3t7ZWFjaCBkYXRhfX08YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiB0aXRsZT0ie3skdmFsdWVbMV19fSIgdGFyaWZmPSJ7eyR2YWx1ZVswXX19Ij57eyR2YWx1ZVsxXX19PC9hPnt7L2VhY2h9fSc7CgkJCQlpKCIjY2F0ZV9zbWFsbCIpLm5leHQoIi54aWFsYWJveCIpLmVtcHR5KCkuYXBwZW5kKHVlLmNvbXBpbGUodCkoewoJCQkJCWRhdGE6IGUKCQkJCX0pKSwgaSgiI2NhdGVfc21hbGwiKS5yZW1vdmVDbGFzcygic2VsX2luZm8iKSwgRygpCgkJCX0KCgkJCWZ1bmN0aW9uIEcoKSB7CgkJCQlpKCIjc21hbGxfeGlhbGEgYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSh0aGlzKS50ZXh0KCk7CgkJCQkJaSgiI2NhdGVfc21hbGwiKS52YWwoZSksIGkoIi5odF90YXJpZmZfY2F0ZSIpLnRleHQoZSksIGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0gZW0iKS50ZXh0KGkodGhpcykuYXR0cigidGFyaWZmIikpLCBpKCIjdGFyaWZmX2RldGFpbCAuaHRfdGFyaWZmX251bSIpLnRleHQoaSh0aGlzKS5hdHRyKCJ0YXJpZmYiKSksIGkoIi5odF90YXJpZmZfYnRuIHNwYW4iKS50ZXh0KGkodGhpcykudGV4dCgpLnNsaWNlKDAsIDUpKSwgaSgiLmh0X3RhcmlmZl9idG4gc3BhbiIpLmF0dHIoInRpdGxlIiwgaSh0aGlzKS50ZXh0KCkpLCBpKCIjc21hbGxfeGlhbGEiKS5oaWRlKCksIFgoIiNjYXRlX3NtYWxsIiksIFgoIi5odF90YXJpZmZfY2F0ZSIsICJ0ZXh0IiwgNCkKCQkJCX0pLCBpKCIjc2VsZWN0X2J0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCUMoKSwgaSgiI3RhcmlmZl9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFgoZSwgdCwgbikgewoJCQkJbiA9IG4gfHwgNjsKCQkJCXZhciBhLCBvID0gMDsKCQkJCWEgPSAidGV4dCIgPT0gdCA/IGkoZSkudGV4dCgpIDogaShlKS52YWwoKTsKCQkJCWZvciAodmFyIHIgPSAwOyByIDwgYS5sZW5ndGg7IHIrKykgewoJCQkJCXZhciBzID0gbmV3IFJlZ0V4cCgiW2EtejAtOS9dIikudGVzdChhW3JdKTsKCQkJCQlpZiAobyArPSBzID8gLjUgOiAxLCBvID4gbikgcmV0dXJuIGEgPSBhLnNsaWNlKDAsIHIpICsgIi4uLiIsIHZvaWQoInRleHQiID09IHQgPyBpKGUpLnRleHQoYSkgOiBpKGUpLnZhbChhKSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gSigpIHsKCQkJCWkoIi5odF90YXJpZmZfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiI3RhcmlmZl9kZXRhaWwiKS5zaG93KCksIGdlKCJjbGljazpoYWl0YW86dGFyaWZmIiksIF9lLmxvZygi5rW35reY5YWz56iO54K55Ye7IikKCQkJCX0pLCBpKCIjY2F0ZV9zZWxlY3RfYm94IGlucHV0Iikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLm5leHQoIi54aWFsYWJveCIpLmZpbmQoImEiKS5sZW5ndGggPiAwICYmIChpKHRoaXMpLm5leHQoIi54aWFsYWJveCIpLnNob3coKSwgaSh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygic2VsZWN0X2hvdmVyIiksIGkodGhpcykuYWRkQ2xhc3MoImlucHV0X2hvdmVyIikpCgkJCQl9KSwgaSgiI2NhdGVfc2VsZWN0X2JveCBpbnB1dCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCWllID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJaShlKS5uZXh0KCIueGlhbGFib3giKS5oaWRlKCksIGkoZSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoInNlbGVjdF9ob3ZlciIpLCBpKGUpLnJlbW92ZUNsYXNzKCJpbnB1dF9ob3ZlciIpCgkJCQkJfSwgMTAwKQoJCQkJfSksIGkoIi54aWFsYWJveCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJY2xlYXJUaW1lb3V0KGllKQoJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmhpZGUoKSwgaSh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygic2VsZWN0X2hvdmVyIiksIGkodGhpcykucGFyZW50KCkuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygiaW5wdXRfaG92ZXIiKQoJCQkJfSksIEcoKSwgaSgiI2JpZ194aWFsYSBhIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKHRoaXMpLnRleHQoKTsKCQkJCQlpKCIjY2F0ZV9iaWciKS52YWwoZSksIGkoIi5odF90YXJpZmZfY2F0ZSIpLnRleHQoZSk7CgkJCQkJdmFyIHQgPSBpKHRoaXMpLmF0dHIoImNhdGUiKTsKCQkJCQlZKHBlW3RdKSwgaSgiI2JpZ194aWFsYSIpLmhpZGUoKSwgWCgiI2NhdGVfYmlnIiksIFgoIi5odF90YXJpZmZfY2F0ZSIsICJ0ZXh0IiwgNCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFooZSwgbikgewoJCQkJdmFyIGkgPSBsb2NhdGlvbi5wcm90b2NvbCArICgiLy9icm93c2VyLiIgKyB0LmV4dE5hbWUgKyAiLmNvbS9leHRlbnNpb24/YWM9ZmFueWkmc3RyaW5nPSIpICsgZTsKCQkJCWZlLmdldChpKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQlpZiAodC50cmFuc19yZXN1bHQgJiYgIXQuZXJyb3JfY29kZSkgewoJCQkJCQlmb3IgKHZhciBpID0gW10sIGEgPSAwOyBhIDwgdC50cmFuc19yZXN1bHQubGVuZ3RoOyBhKyspIGkucHVzaCh0LnRyYW5zX3Jlc3VsdFthXS5kc3QpOwoJCQkJCQluKGkpCgkJCQkJfSBlbHNlIG4oW2VdKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gVihlLCB0KSB7CgkJCQlaKGUsIHQpLCBnZSgicmVxdWVzdDpoYWl0YW86ZmFueWkiKSwgX2UubG9nKCLor7fmsYLliJLor43nv7vor5EiKQoJCQl9CgoJCQlmdW5jdGlvbiBLKGUpIHsKCQkJCWUgPSBlLmpvaW4oIiIpLCBpKCIuaHRfZmFueWkiKS5yZW1vdmUoKTsKCQkJCXZhciB0ID0gJzxkaXYgY2xhc3M9Imh0X2ZhbnlpIiBzdHlsZT0idG9wOnt7aHR5fX07bGVmdDp7e2h0eH19Ij48c3BhbiBpZD0iaHRfdG9wIj48L3NwYW4+e3tkYXRhfX08L2Rpdj4nLAoJCQkJCW4gPSB1ZS5jb21waWxlKHQpKHsKCQkJCQkJZGF0YTogZSwKCQkJCQkJaHR4OiBRKCkgKyAicHgiLAoJCQkJCQlodHk6IGNlICsgInB4IgoJCQkJCX0pOwoJCQkJaSgiYm9keSIpLmFwcGVuZChuKSwgdGUoKQoJCQl9CgoJCQlmdW5jdGlvbiBRKCkgewoJCQkJdmFyIGUgPSAwOwoJCQkJcmV0dXJuIGUgPSBsZSA+IGRlID8gbGUgLSAobGUgLSBkZSkgLyAyIC0gNjUgOiBsZSArIChkZSAtIGxlKSAvIDIgLSA2NQoJCQl9CgoJCQlmdW5jdGlvbiBlZShlKSB7CgkJCQlWKGUsIEspCgkJCX0KCgkJCWZ1bmN0aW9uIHRlKCkgewoJCQkJaSgiLmh0X2ZhbnlpIikuc2libGluZ3MoKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIuaHRfZmFueWkiKS5yZW1vdmUoKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gbmUoKSB7CgkJCQlpKCJib2R5Iikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpIHsKCQkJCQljbGVhclRpbWVvdXQoYWUpLCBkZSA9IGUucGFnZVgKCQkJCX0pLCBpKCJib2R5Iikub24oIm1vdXNldXAiLCBmdW5jdGlvbihlKSB7CgkJCQkJYWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9ICIiOwoJCQkJCQlsZSA9IGUucGFnZVgsIGNlID0gZS5wYWdlWSArIDIwLCB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gdCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpIDogZG9jdW1lbnQuc2VsZWN0aW9uICYmICh0ID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCksICIiICE9IHQgJiYgZWUodCkKCQkJCQl9LCAxMDApCgkJCQl9KQoJCQl9CgkJCXZhciBpZSwgYWUsIG9lLCByZSwgc2UsIGxlLCBjZSwgZGUsIHBlLCBoZSwgdWUgPSBuKDE2KSwKCQkJCW1lID0gbig0MCksCgkJCQlmZSA9IG4oOSksCgkJCQlnZSA9IG4oMjYpLAoJCQkJX2UgPSBuKDEzKSwKCQkJCXhlID0gImh0dHBzOiIsCgkJCQl3ZSA9IHt9LAoJCQkJdmUgPSAidXMiLAoJCQkJYmUgPSB7CgkJCQkJIuexsyI6IDNlMywKCQkJCQki5Y6Y57GzIjogMzAsCgkJCQkJIuavq+exsyI6IDMsCgkJCQkJIuiLseWwuiI6IDkxNC40LAoJCQkJCSLoi7Hlr7giOiA3Ni4yLAoJCQkJCSLnoIEiOiAyNzQzLjIsCgkJCQkJIuWwuiI6IDFlMywKCQkJCQki5a+4IjogMTAwLAoJCQkJCSLliIYiOiAxMCwKCQkJCQki5Y6YIjogMQoJCQkJfSwKCQkJCXllID0gewoJCQkJCWc6IDEsCgkJCQkJa2c6IDFlMywKCQkJCQlvdW5jZXM6IDI4LjM1LAoJCQkJCXBvdW5kczogNDUzLjYKCQkJCX0sCgkJCQlrZSA9IHsKCQkJCQlzaGFuZ3lpOiB7CgkJCQkJCXVzOiB7CgkJCQkJCQltYW46IFsidXNfbWFuX3N6LmpwZyIsICJ1c19tYW5fc3oyLmpwZyJdLAoJCQkJCQkJd29tYW46IFsidXNfd29tYW5fc3ouanBnIiwgInVzX3dvbWFuX3N6Mi5qcGciXQoJCQkJCQl9LAoJCQkJCQl1azogewoJCQkJCQkJbWFuOiBbInVrX21hbl9zei5qcGciLCAidWtfbWFuX3N6Mi5qcGciXSwKCQkJCQkJCXdvbWFuOiBbInVrX3dvbWFuX3N6LmpwZyIsICJ1a193b21hbl9zejIuanBnIl0KCQkJCQkJfSwKCQkJCQkJanA6IHsKCQkJCQkJCW1hbjogWyJqcF9tYW5fc3ouanBnIiwgImpwX21hbl9zejIuanBnIl0sCgkJCQkJCQl3b21hbjogWyJqcF93b21hbl9zei5qcGciLCAianBfd29tYW5fc3oyLmpwZyJdCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXhpYXpodWFuZzogewoJCQkJCQl1czogewoJCQkJCQkJbWFuOiBbInVzX21hbl94ei5qcGciLCAidXNfbWFuX3h6Mi5qcGciXSwKCQkJCQkJCXdvbWFuOiBbInVzX3dvbWFuX3h6LmpwZyIsICJ1c193b21hbl94ejIuanBnIl0KCQkJCQkJfSwKCQkJCQkJdWs6IHsKCQkJCQkJCW1hbjogWyJ1a19tYW5feHouanBnIiwgInVrX21hbl94ejIuanBnIl0sCgkJCQkJCQl3b21hbjogWyJ1a193b21hbl94ei5qcGciLCAidWtfd29tYW5feHoyLmpwZyJdCgkJCQkJCX0sCgkJCQkJCWpwOiB7CgkJCQkJCQltYW46IFsianBfbWFuX3h6LmpwZyIsICJqcF9tYW5feHoyLmpwZyJdLAoJCQkJCQkJd29tYW46IFsianBfd29tYW5feHouanBnIiwgImpwX3dvbWFuX3h6Mi5wbmciXQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlraWRzY2xvdGg6IHsKCQkJCQkJdXM6IFsidXNfa2lkcy5qcGciLCAidXNfa2lkczJfMC5qcGciLCAidXNfa2lkczJfNC5qcGciXSwKCQkJCQkJdWs6IFsidWtfa2lkcy5qcGciLCAidWtfa2lkczJfMC5qcGciLCAidWtfa2lkczJfNC5qcGciXSwKCQkJCQkJanA6IFsianBfa2lkcy5qcGciLCAianBfa2lkczJfNC5qcGciLCAianBfa2lkczJfNC5qcGciXQoJCQkJCX0sCgkJCQkJc2hvZXM6IHsKCQkJCQkJbWFuOiBbIndvbWFuX3Nob2VzXzEuanBnIiwgIm1hbl9zaG9lczIuanBnIl0sCgkJCQkJCXdvbWFuOiBbIndvbWFuX3Nob2VzXzEuanBnIiwgIndvbWFuX3Nob2VzMi5qcGciXSwKCQkJCQkJa2lkczogWyJraWRzX3Nob2VzLmpwZyIsICJraWRzX3Nob2VzMl8wLmpwZyIsICJraWRzX3Nob2VzMl80LmpwZyJdCgkJCQkJfQoJCQkJfSwKCQkJCXplID0gewoJCQkJCSJ3d3cuYW1hem9uLmNvbSI6IHsKCQkJCQkJY291bjogInVzIiwKCQkJCQkJZG9tOiBbIiNwcmljZV9mZWF0dXJlX2RpdiIsICIjdW5pZmllZFByaWNlX2ZlYXR1cmVfZGl2Il0sCgkJCQkJCXBvc2l0aW9uOiAiYWZ0ZXIiCgkJCQkJfSwKCQkJCQkid3d3LmFtYXpvbi5jby5qcCI6IHsKCQkJCQkJY291bjogImpwIiwKCQkJCQkJZG9tOiBbIiNwcmljZV9mZWF0dXJlX2RpdiIsICIjdW5pZmllZFByaWNlX2ZlYXR1cmVfZGl2Il0sCgkJCQkJCXBvc2l0aW9uOiAiYWZ0ZXIiCgkJCQkJfSwKCQkJCQkid3d3LmFtYXpvbi5kZSI6IHsKCQkJCQkJY291bjogInVrIiwKCQkJCQkJZG9tOiBbIiNwcmljZV9mZWF0dXJlX2RpdiIsICIjdW5pZmllZFByaWNlX2ZlYXR1cmVfZGl2Il0sCgkJCQkJCXBvc2l0aW9uOiAiYWZ0ZXIiCgkJCQkJfSwKCQkJCQkid3d3LjZwbS5jb20iOiB7CgkJCQkJCWNvdW46ICJ1cyIsCgkJCQkJCWRvbTogWyIjcHJvZHVjdEltYWdlcyIsICIjcHJkSW1hZ2UiXSwKCQkJCQkJcG9zaXRpb246ICJhZnRlciIKCQkJCQl9CgkJCQl9LAoJCQkJQmUgPSB7CgkJCQkJY29mZmVlOiAi5ZKW5ZWhIiwKCQkJCQlzbmFjazogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQludXQ6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJcGlzdGFjaGlvOiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWFsbW9uZDogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQljaGVzdG51dHM6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJd2FsbnV0OiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWhhemVsbnV0OiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCXBlY2FuOiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWNhc2hldzogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQlwZWFudXQ6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJY2hvY29sYXRlczogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQlwYXN0cnk6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJY2FuZHk6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJY29uZGltZW50OiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWtldGNodXA6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJYmV2ZXJhZ2U6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJdGVhOiAi6Iy25Y+2IiwKCQkJCQljb2F0czogIuWkluihoy/ooaPmnI0v5Yay6ZSL6KGjIiwKCQkJCQljbG90aGVzOiAi5aSW6KGjL+iho+acjS/lhrLplIvooaMiLAoJCQkJCXNoaXJ0OiAi5aSW6KOkL+ijpOWtkC/ooazooasv6KGs6KGjL1TmgaQiLAoJCQkJCXN3ZWF0ZXJzOiAi5aSW6KOkL+ijpOWtkC/ooazooasv6KGs6KGjL1TmgaQiLAoJCQkJCWxpbmdlcmllOiAi5YaF6KGjL+WGheijpCIsCgkJCQkJdGFua2luaXM6ICLlhoXooaMv5YaF6KOkIiwKCQkJCQliaWtpbmlzOiAi5YaF6KGjL+WGheijpCIsCgkJCQkJbG91bmdld2VhcjogIuWGheihoy/lhoXoo6QiLAoJCQkJCXVuZGVyd2VhcjogIuWGheihoy/lhoXoo6QiLAoJCQkJCWJyaWVmczogIuWGheihoy/lhoXoo6QiLAoJCQkJCXN3aW1zdWl0OiAi5YaF6KGjL+WGheijpCIsCgkJCQkJc2NhcnZlczogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJaGF0czogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJc2NhcmY6ICLphY3ppbDvvIjluL3lrZAv5Zu05be+L+WktOW3vi/kuJ3lt74v6aKG5bimL+iFsOW4pi/miYvlpZfvvIkiLAoJCQkJCXRpZTogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJYmVsdDogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJZ2xvdmVzOiAi6YWN6aWw77yI5bi95a2QL+WbtOW3vi/lpLTlt74v5Lid5be+L+mihuW4pi/ohbDluKYv5omL5aWX77yJIiwKCQkJCQliZWRkaW5nOiAi5q+b5q+vL+iiq+WtkC/luornvakv552h6KKLIiwKCQkJCQlxdWlsdDogIuavm+avry/ooqvlrZAv5bqK572pL+edoeiiiyIsCgkJCQkJImJlZHNwcmVhZCAiOiAi5q+b5q+vL+iiq+WtkC/luornvakv552h6KKLIiwKCQkJCQlsZWF0aGVyOiAi55qu6Z6LIiwKCQkJCQlib290czogIuearumdtC/pnbTlrZAiLAoJCQkJCW91dGRvb3I6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlhdGhsZXRpYzogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCXNwb3J0czogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCXdhZGluZzogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCWNsaW1iaW5nOiAi6L+Q5Yqo6Z6LL+W+kuatpemeiy/mtonmsLTpnosv55m75bGx6Z6LL+i/nOi2s+meiyIsCgkJCQkJcnVubmluZzogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCXNhbmRhbHM6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlzbGlwcGVyczogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCWluc29sZXM6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlzaG9lbGFjZXM6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlzdWl0Y2FzZXM6ICLnrrEv6KGM5p2O566xL+aXheihjOeusS/miYvmj5DnrrEiLAoJCQkJCWx1Z2dhZ2U6ICLnrrEv6KGM5p2O566xL+aXheihjOeusS/miYvmj5DnrrEiLAoJCQkJCWJyaWVmY2FzZXM6ICLnrrEv6KGM5p2O566xL+aXheihjOeusS/miYvmj5DnrrEiLAoJCQkJCXRyYXZlbDogIueusS/ooYzmnY7nrrEv5peF6KGM566xL+aJi+aPkOeusSIsCgkJCQkJYmFja3BhY2tzOiAi5oyO5YyFL+iDjOWMhS/pgq7lt67ljIUv6IOM5YyFL+WNleiCqeWMhS/lj4zogqnljIUiLAoJCQkJCXNhdGNoZWw6ICLmjI7ljIUv6IOM5YyFL+mCruW3ruWMhS/og4zljIUv5Y2V6IKp5YyFL+WPjOiCqeWMhSIsCgkJCQkJYmFnczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQljYXNlczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQloYW5kYmFnczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQljbHV0Y2hlczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQl3YWxsZXQ6ICLpkrHljIUv6ZKl5YyZ5YyFIiwKCQkJCQltb25leTogIumSseWMhS/pkqXljJnljIUiLAoJCQkJCWtleTogIumSseWMhS/pkqXljJnljIUiLAoJCQkJCXdhdGNoZXM6ICLmnLrmorDooagiLAoJCQkJCXdyaXN0OiAi5py65qKw6KGoIiwKCQkJCQlkaXNod2FzaGVyczogIumkkOWFty/liIDlhbciLAoJCQkJCWhvb2RzOiAi6aSQ5YW3L+WIgOWFtyIsCgkJCQkJZHJhd2VyczogIumkkOWFty/liIDlhbciLAoJCQkJCWRhdGg6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQljdXRsZXJ5OiAi6aSQ5YW3L+WIgOWFtyIsCgkJCQkJZmxhdHdhcmU6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQkia2l0Y2hlbiAmIGRpbmluZyI6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQlkaW5pbmc6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQlrbmlmZTogIumkkOWFty/liIDlhbciLAoJCQkJCXBvdDogIueCiuWFty/plIUiLAoJCQkJCWNvb2t3YXJlOiAi54KK5YW3L+mUhSIsCgkJCQkJa2l0Y2hlbndhcmU6ICLngorlhbcv6ZSFIiwKCQkJCQljb29rdG9wczogIueCiuWFty/plIUiLAoJCQkJCXB1cmlmaWVyOiAi5YeA5rC05Zmo77yI5ZCr5ruk6Iqv77yJIiwKCQkJCQlzdGVhbWVyczogIueUtemlreeFsiIsCgkJCQkJb3ZlbnM6ICLlvq7ms6LngokiLAoJCQkJCWp1aWNlcjogIueUteWKqOamqOaxgeacuiIsCgkJCQkJY29mZmVlbWFjaGluZTogIuWSluWVoeacuiIsCgkJCQkJdmFjdXVtczogIuWQuOWwmOWZqCIsCgkJCQkJImNlaWxpbmcgIjogIueUtemjjuaJhyIsCgkJCQkJaXJvbnM6ICLnlLXnhqjmlpciLAoJCQkJCWh1bWlkaWZpZXJzOiAi5aKeL+mZpOa5v+acui/lopfpmaTmub/kuIDkvZPmnLoiLAoJCQkJCXNld2luZzogIueUteWKqOe8nee6q+acuiIsCgkJCQkJcmVmcmlnZXJhdG9yczogIuWutueUtSIsCgkJCQkJZnJlZXplcnM6ICLlrrbnlLUiLAoJCQkJCWNvbXBhY3RvcnM6ICLlrrbnlLUiLAoJCQkJCXdhc2hlcnM6ICLlrrbnlLUiLAoJCQkJCWJ1bGJzOiAi5a6255S1IiwKCQkJCQlzaGF2ZXI6ICLnlLXliqjliYPpobvliIAiLAoJCQkJCWJsb29kOiAi6KGA5Y6L6K6hL+ihgOezluiuoSIsCgkJCQkJZ2x1Y29zZTogIuihgOWOi+iuoS/ooYDns5borqEiLAoJCQkJCWRyeWVyOiAi55S15ZC56aOO5py6IiwKCQkJCQl0b290aGJydXNoOiAi55S15Yqo54mZ5Yi3IiwKCQkJCQlzdW5zY3JlZW46ICLpmLLmmZLpnLIv6Ziy5pmS6ZycL+mYsuWXruS5s+a2siIsCgkJCQkJbG90aW9uczogIumYsuaZkumcsi/pmLLmmZLpnJwv6Ziy5Zeu5Lmz5rayIiwKCQkJCQlzY3JlYW06ICLmiqTmiYvpnJwiLAoJCQkJCWxpcHN0aWNrOiAi5ZSH6IaPIiwKCQkJCQlwZXJmdW1lOiAi6aaZ5rC0IiwKCQkJCQltYXNrczogIumdouiGnCIsCgkJCQkJdG9uZXI6ICLniL3ogqTmsLQiLAoJCQkJCXBob25lczogIuinpuWxj+W8j+aJi+acuiIsCgkJCQkJY2FtZXJhczogIuaVsOeggeebuOacui/ljaHniYfmnLovREMiLAoJCQkJCWNhbm9uOiAi5pWw56CB55u45py6L+WNoeeJh+acui9EQyIsCgkJCQkJam95c3RpY2s6ICLmuLjmiI/mnLrpgaXmjqflmagv5o6n5Yi25ZmoL+aJi+afhC/mkYfmnYYv5pa55ZCR55uYIiwKCQkJCQljb250cm9sbGVyOiAi5ri45oiP5py66YGl5o6n5ZmoL+aOp+WItuWZqC/miYvmn4Qv5pGH5p2GL+aWueWQkeebmCIsCgkJCQkJcmVjb3JkZXI6ICLlvZXpn7PnrJQv5b2V6Z+z5py6L+aUtumfs+acuiIsCgkJCQkJcmFkaW9zOiAi5b2V6Z+z56yUL+W9lemfs+acui/mlLbpn7PmnLoiLAoJCQkJCWVjaG86ICLpn7PnrrHvvIjpn7Plk43orr7lpIfvvIkiLAoJCQkJCXN0ZXJlb3M6ICLpn7PnrrHvvIjpn7Plk43orr7lpIfvvIkiLAoJCQkJCWxhcHRvcDogIueslOiusOacrOeUteiEkS/lkKvlubPmnb/nlLXohJEiLAoJCQkJCW1lbW9yeTogIuWGheWtmOadoTRH5Lul5LiKIiwKCQkJCQljYXJkczogIuWKn+iDveWNoS/mmL7ljaEv5aOw5Y2h562JIiwKCQkJCQljYXJkOiAi5Yqf6IO95Y2hL+aYvuWNoS/lo7DljaHnrYkiLAoJCQkJCW1pY2U6ICLpvKDmoIciLAoJCQkJCWtleWJvYXJkczogIumUruebmCIsCgkJCQkJaW5wdXQ6ICLplK7nm5giLAoJCQkJCXNjYW5uZXI6ICLmipXlvbHku6oiLAoJCQkJCXNjcmVlbnM6ICLmipXlvbHku6oiLAoJCQkJCWRpc2s6ICLnp7vliqjnoaznm5gxVEItMlRCKOWQqzJUQikiLAoJCQkJCXRveXM6ICLnjqnlhbciLAoJCQkJCSJtcDMgcGxheWVycyI6ICJNUDPmkq3mlL7lmagiLAoJCQkJCWRpYXBlcmluZzogIuWptOWEv+eUqOWTgSIKCQkJCX0sCgkJCQlqZSA9IHsKCQkJCQlmb29kOiB7CgkJCQkJCXRsZTogIumjn+WTgSIsCgkJCQkJCWNhdGU6ICJjYXRlMSIKCQkJCQl9LAoJCQkJCWNsb3RoaW5nOiB7CgkJCQkJCXRsZTogIuacjemlsCIsCgkJCQkJCWNhdGU6ICJjYXRlMiIKCQkJCQl9LAoJCQkJCXBhY2tzOiB7CgkJCQkJCXRsZTogIumei+OAgeeuseWMhSIsCgkJCQkJCWNhdGU6ICJjYXRlMyIKCQkJCQl9LAoJCQkJCXNob2VzOiB7CgkJCQkJCXRsZTogIumei+OAgeeuseWMhSIsCgkJCQkJCWNhdGU6ICJjYXRlMyIKCQkJCQl9LAoJCQkJCWJhZ3M6IHsKCQkJCQkJdGxlOiAi6Z6L44CB566x5YyFIiwKCQkJCQkJY2F0ZTogImNhdGUzIgoJCQkJCX0sCgkJCQkJImtpdGNoZW4gJiBkaW5pbmciOiB7CgkJCQkJCXRsZTogIuWOqOaIv+OAgemkkOWOhSIsCgkJCQkJCWNhdGU6ICJjYXRlNCIKCQkJCQl9LAoJCQkJCSJob21lICYga2l0Y2hlbiI6IHsKCQkJCQkJdGxlOiAi5a6255S1IiwKCQkJCQkJY2F0ZTogImNhdGU2IgoJCQkJCX0sCgkJCQkJImhlYWx0aCAmIHBlcnNvbmFsIjogewoJCQkJCQl0bGU6ICLkuKrkurrmiqTnkIYiLAoJCQkJCQljYXRlOiAiY2F0ZTciCgkJCQkJfSwKCQkJCQkiYmVhdXR5ICI6IHsKCQkJCQkJdGxlOiAi576O5a65IiwKCQkJCQkJY2F0ZTogImNhdGU4IgoJCQkJCX0sCgkJCQkJImNhbWVyYSAmIHBob3RvICI6IHsKCQkJCQkJdGxlOiAi54Wn55u45py644CB5pGE5YOP5py6IiwKCQkJCQkJY2F0ZTogImNhdGUxMSIKCQkJCQl9LAoJCQkJCWVsZWN0cm9uaWNzOiB7CgkJCQkJCXRsZTogIueUteWtkOaVsOeggSIsCgkJCQkJCWNhdGU6ICJjYXRlMTIiCgkJCQkJfSwKCQkJCQljdW1wdXRlcnM6IHsKCQkJCQkJdGxlOiAi5Liq5Lq655S16ISRIiwKCQkJCQkJY2F0ZTogImNhdGUxNSIKCQkJCQl9LAoJCQkJCWRpYXBlcmluZzogewoJCQkJCQl0bGU6ICLlqbTlhL/nlKjlk4EiLAoJCQkJCQljYXRlOiAiY2F0ZTE4IgoJCQkJCX0KCQkJCX0sCgkJCQlDZSA9IFsiI3dheWZpbmRpbmctYnJlYWRjcnVtYnNfZmVhdHVyZV9kaXYgLmEtbGlzdC1pdGVtIC5hLWxpbmstbm9ybWFsIiwgIiNTYWxlc1JhbmsgLnpnX2hyc3JfbGFkZGVyIGEiXSwKCQkJCVNlID0gewoJCQkJCSJ3d3cuYW1hem9uLmNvbSI6IFsiI2RldGFpbEJ1bGxldHNfZmVhdHVyZV9kaXYgLmEtbGlzdC1pdGVtIC5hLXRleHQtYm9sZDpjb250YWlucyhXZWlnaHQpICsgc3BhbiIsICIjdGVjaG5pY2FsLWRldGFpbHMtdGFibGUgdGQ6Y29udGFpbnMoV2VpZ2h0KSt0ZCIsICIjZGV0YWlsLWJ1bGxldHMgdWwgbGk6Y29udGFpbnMoV2VpZ2h0KSIsICcjdGVjaG5pY2FsLWRldGFpbHNfZmVhdHVyZV9kaXYgdGFibGUuYS1rZXl2YWx1ZSB0aC5hLW5vd3JhcDpjb250YWlucygiU2hpcHBpbmcgV2VpZ2h0IikrdGQnXSwKCQkJCQkid3d3LmFtYXpvbi5kZSI6IFsiI2RldGFpbF9idWxsZXRzX2lkIHVsIGxpOmNvbnRhaW5zKFByb2R1a3RnZXdpY2h0KSIsICIjcHJvZERldGFpbHMgLnNoaXBwaW5nLXdlaWdodCAudmFsdWUiXSwKCQkJCQkid3d3LmFtYXpvbi5jby5qcCI6IFsiI2RldGFpbF9idWxsZXRzX2lkIHVsIGxpOmNvbnRhaW5zKOeZuumAgemHjemHjykiLCAiLnNoaXBwaW5nLXdlaWdodCAudmFsdWUiXSwKCQkJCQkid3d3LjZwbS5jb20iOiBbIiNwcmRJbmZvVGV4dCAubWVhc3VyZW1lbnRzIGxpOmNvbnRhaW5zKFdlaWdodCkiXQoJCQkJfSwKCQkJCU5lID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCWZlLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdChlKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCWkoIiNodF9hZGRjb2xsZWN0IikudGV4dCgi5re75Yqg5aSx6LSlIiksIGkoIiNodF9hZGRjb2xsZWN0IikucmVtb3ZlQ2xhc3MoImNfYWRkaW5nIiksIGkoIiNodF9hZGRjb2xsZWN0IikuYWRkQ2xhc3MoImNfYWRkZWQiKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuX2luaXQgPSBmdW5jdGlvbigpIHsKCQkJCXQub24oImRwcGFnZV9wZXJtYW5lbnQiLCBmdW5jdGlvbigpIHsKCQkJCQkiMCIgIT09IHQuc2hvd19oYWl0YW8gJiYgc2V0VGltZW91dChhLCA1MDApCgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNyksCgkJCQlvID0gbig5KSwKCQkJCXIgPSBuKDI4KSwKCQkJCXMgPSB7fSwKCQkJCWwgPSBbewoJCQkJCXVuaXROYW1lOiAi5Y2DIiwKCQkJCQl0aW1lczogMWUzCgkJCQl9LCB7CgkJCQkJdW5pdE5hbWU6ICLkuIciLAoJCQkJCXRpbWVzOiAxZTQKCQkJCX1dLAoJCQkJYyA9IDEsCgkJCQlkID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmIChlKSB7CgkJCQkJCWlmIChlID0gZS50b1N0cmluZygpLCBjID0gMSwgQXJyYXkucHJvdG90eXBlLmZvckVhY2ggJiYgbC5mb3JFYWNoKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWUuaW5kZXhPZih0LnVuaXROYW1lKSA+IC0xICYmIChjID0gdC50aW1lcykKCQkJCQkJfSksIGUgPSBlLnJlcGxhY2UoL15bXlxkXSsvZ2ksICIiKSwgZSA9IGUucmVwbGFjZSgvW++/pVwkXS9naSwgIiIpLCBlID0gZS5tYXRjaCgvWzAtOS4sXSsvKSAmJiBlLm1hdGNoKC9bMC05LixdKy8pWzBdLCAhZSkgcmV0dXJuIGU7CgkJCQkJCWUgPSBoKGUsIG4pLCBlID0gZS5yZXBsYWNlKC8sL2dpLCAiIiksIGUgPSB0LnRyaW0oZSk7CgkJCQkJCXZhciBpID0gZS5pbmRleE9mKCItIik7CgkJCQkJCXJldHVybiBpID4gMCAmJiAoZSA9IGUuc3Vic3RyKDAsIGkpKSwgZSA9IGUucmVwbGFjZSgvXihcZCtcLilcPC4rXD4oXGR7MCwyfSlcPFwvLitcPi9naSwgIiQxJDIiKQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXJldHVybiBlID0gZChlLCB0KSwgZSA9IHAoZSwgdCksIHBhcnNlRmxvYXQoZSkgPiAwID8gKGUgPSBwYXJzZUZsb2F0KGUpLCBjICYmIChlICo9IGMpLCBlKSA6IDAKCQkJfSwgZS5leHBvcnRzLmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlID0gZDsKCQkJdmFyIHAgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB2b2lkIDA7CgkJCQkJcmV0dXJuIG4gPSB0ID8gc1t0XSB8fCAxIDogYS5nZXQoImN1cnJlbmN5IikgfHwgaS5jdXJyZW5jeSB8fCAxLCBwYXJzZUZsb2F0KChOdW1iZXIoZSkgKiBuKS50b0ZpeGVkKDIpKQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJaWYgKG4pIHJldHVybiBlOwoJCQkJCWlmICgxID09IGkucGFnZUluZm8udHlwZSkgcmV0dXJuIGU7CgkJCQkJdmFyIGEgPSBsb2NhdGlvbi5ob3N0LAoJCQkJCQlvID0gewoJCQkJCQkJInd3dy5hbWF6b24uZGUiOiAicHJpbWV0ZXN0ZW4iLAoJCQkJCQkJInd3dy5hbWF6b24uZnIiOiAicHJlbWl1bSIKCQkJCQkJfTsKCQkJCQlyZXR1cm4gb1thXSAmJiB0KCIjbmF2LWxvZ28gLm5hdi1sb2dvLXRhZ2xpbmUiKS50ZXh0KCkucmVwbGFjZSgvXHMvZywgIiIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PSBvW2FdICYmIChlID0gZS5yZXBsYWNlKCIuIiwgIiIpLnJlcGxhY2UoIiwiLCAiLiIpKSwgZQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlKSB7CgkJCQkJci50cmlnZ2VyKHsKCQkJCQkJdHlwZTogInNldFN0b3JlUmF0ZSIsCgkJCQkJCWluZm86IEpTT04uc3RyaW5naWZ5KGUpCgkJCQkJfSkKCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oKSB7CgkJCQkJci5vbihmdW5jdGlvbihlKSB7CgkJCQkJCWlmIChlICYmICJnZXRTdG9yZVJhdGUiID09IGUudHlwZSkgdHJ5IHsKCQkJCQkJCXZhciB0ID0gZS52YWx1ZS5jdXJyZW5jeSwKCQkJCQkJCQluID0gSlNPTi5wYXJzZSh0KTsKCQkJCQkJCXMgPSBuLmVsc2VjdXJyLCBpLmN1cnJlbmN5ID0gbi5jdXJyZW5jeQoJCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCX0pLCByLnRyaWdnZXIoewoJCQkJCQl0eXBlOiAiZ2V0U3RvcmVSYXRlIgoJCQkJCX0pCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCSJ3d3cuYW1hem9uLmNuIiAhPT0gbG9jYXRpb24uaG9zdCAmJiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IC0xIHx8IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiNnBtIikgPiAtMSkgJiYgbSgpCgkJCQl9OwoJCQlmKCksIGUuZXhwb3J0cy5nZXRFeFJhdGUgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gcGFyc2VGbG9hdCgxIHwgc1tlXSkKCQkJfSwgZS5leHBvcnRzLmdldFJhdGUgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IDAgJiYgLTEgPT0gbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24uY24iKSB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoIjZwbSIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbGlleHByZXNzIikgPiAtMSkgewoJCQkJCXZhciB0ID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1jdXJyZW5jeSZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKTsKCQkJCQlvLmdldCh0KS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJdCAmJiB0LmN1cnJlbmN5ICYmIChhLnNldCh0KSwgcyA9IHQuZWxzZWN1cnIsIGkuY3VycmVuY3kgPSB0LmN1cnJlbmN5LCB1KHQpKSwgZSgpCgkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJZSgpCgkJCQkJfSkKCQkJCX0gZWxzZSBlKCkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGkgPSBuKDQyKTsKCQkic3RyaW5nIiA9PSB0eXBlb2YgaSAmJiAoaSA9IFsKCQkJW2UuaWQsIGksICIiXQoJCV0pOwoJCW4oNDQpKGksIHt9KTsKCQlpLmxvY2FscyAmJiAoZS5leHBvcnRzID0gaS5sb2NhbHMpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXQgPSBlLmV4cG9ydHMgPSBuKDQzKSgpLCB0LnB1c2goW2UuaWQsICIgI2d3ZF9odF9tYWluIGF7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZvbnQtZmFtaWx5OiAnTWljcm9zb2Z0IFlhaGVpJ1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW57XG4gICAgICB3aWR0aDogMzc2cHg7XG4gICAgICBoZWlnaHQ6IDE5OHB4O1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7XG4gICAgICBib3gtc2hhZG93OiAwcHggNXB4IDE5cHggMHB4ICNkN2Q4ZDk7XG4gICAgfVxuICAgICNnd2RfaHRfbG9hZCBpbWcge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiA5MXB4O1xuICAgICAgbGVmdDogNzRweDtcbiAgICB9XG4gICAgLmh0XzZwbXtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLmh0X2hlYWR7XG4gICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgICNnd2RfaHRfbWFpbiAuZ3dkX3NpdGVfaWNvbntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpdGVpY29uLnBuZycpIDEzcHggN3B4IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDUycHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0e1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2YwNzg2MDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGhlaWdodDogMjRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgd2lkdGg6IDc3cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgIGNvbG9yOiAjZjA3ODYwO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLnVuaXRfcHJpY2UgI2h0X2FkZGNvbGxlY3QudHJlbmRfd2FpdC5jX2FkZGluZ3tcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMDc4NjA7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0LnRyZW5kX3dhaXQuY19hZGRlZHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMDc4NjA7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgLnVuaXRfcHJpY2UgPiBzcGFuIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG4gICAgLnByaWNlX3RsZSB7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0OmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0OmhvdmVyIHNwYW4ge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5wcmljZV9udW17XG4gICAgICBjb2xvcjogIzc3OGU5OTtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA4OXB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmh0X2dldHByaWNle1xuICAgICAgd2lkdGg6IDMyMnB4O1xuICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGNvbG9yOiAjNDU0QTREO1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZTZlOWViO1xuICAgIH1cbiAgICAuZm9udGZfQXJpYWwge1xuICAgICAgZm9udC1mYW1pbHk6IFwiQXJpYWxcIjtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAuaHRfZ2V0cHJpY2VfbnVtIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICNFQjJGMkY7XG4gICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuICAgIC51bml0X3ByaWNle1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB9XG4gICAgLm9uX09yX09mZiB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDUycHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIGNvbG9yOiByZWQ7XG4gICAgfVxuICAgIC50cmFuc2xhdGVfZGV0YWlsIHtcbiAgICAgIHRvcDogNjRweDtcbiAgICAgIGxlZnQ6IDM1MHB4O1xuICAgIH1cbiAgICBhLnRyYW5zX2hlbHAge1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tbGVmdDogNDBweDtcbiAgICAgIG1hcmdpbi1yaWdodDogMzMwcHg7XG4gICAgfVxuICAgIC50cmFuc19oZWxwOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjMmI3Mjk5O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X2xlZnQgLnRhcmlmZl9yZW1pbmRfZGV0YWlsIHtcbiAgICAgIHJpZ2h0OiAyNDdweDtcbiAgICAgIGhlaWdodDogOTBweDtcbiAgICAgIHRvcDogLTI3cHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5kaXZfZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMTQ2cHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTZlOWViO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHotaW5kZXg6IDk5O1xuICAgICAgbGluZS1oZWlnaHQ6IDE5cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzg4ODtcbiAgICAgIHBhZGRpbmc6IDZweCA2cHggOXB4IDZweDtcbiAgICAgIGJveC1zaGFkb3c6IDJweCAycHggMTJweCAycHggI2U2ZTllYjtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmNvbnRlbnRfZGVmYXVsdF9sZWZ0IC53ZWlnaHRfdHlwZV9kZXRhaWwgIHtcbiAgICAgIHRvcDogN3B4O1xuICAgICAgbGVmdDogMTU2cHg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMTEzcHg7XG4gICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHBhZGRpbmc6IDBweCA2cHg7XG4gICAgfVxuICAgIC5jb2xsZWN0X2RldGFpbCAge1xuICAgICAgdG9wOiAtN3B4O1xuICAgICAgbGVmdDogMjQ0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAudHJhbnNwb3J0X3JlbWluZF9kZXRhaWwge1xuICAgICAgcGFkZGluZzogMHB4IDZweDtcbiAgICAgIHRvcDogOXB4O1xuICAgICAgbGVmdDogMjQxcHg7XG4gICAgICB3aWR0aDogMTEycHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC50YXJpZmZfaW5mb19kZXRhaWwge1xuICAgICAgcGFkZGluZzogMCA2cHg7XG4gICAgICB3aWR0aDogMTEwcHg7XG4gICAgICB0b3A6IDlweDtcbiAgICAgIGxlZnQ6IDI0MXB4O1xuICAgIH1cbiAgICAucHJvX3R5cGVfZGV0YWlsIHtcbiAgICAgIHRvcDogOXB4O1xuICAgICAgbGVmdDogMzUwcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5wcm9fdHlwZV9kZXRhaWwuZGl2X2RldGFpbCB7XG4gICAgICBwYWRkaW5nOiAwIDZweDtcbiAgICAgIHdpZHRoOiAxMzRweDtcbiAgICB9XG4gICAgLm1haWxfdHlwZV9kZXRhaWwge1xuICAgICAgdG9wOiAzM3B4O1xuICAgICAgbGVmdDogMzUwcHg7XG4gICAgfVxuICAgICNodF90cmFuc19pbnB1dHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogOHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAuc2l6ZV9kZXRhaWwge1xuICAgICAgdG9wOiAxMzBweDtcbiAgICAgIGxlZnQ6IDM1MHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuc2l6ZV9kZXRhaWwuZGl2X2RldGFpbCB7XG4gICAgICBwYWRkaW5nOiAwcHggNnB4O1xuICAgICAgd2lkdGg6IDExMHB4O1xuICAgIH1cbiAgICAudHJhbnNfbGFiZWx7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuICAgIC5odF90cmFuc2xhdGU6aG92ZXIge1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuaHRfdHJhbnNsYXRlLC5wcm9fdHlwZSwubWFpbF90eXBle1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB9XG4gICAgLnByb190eXBlOmhvdmVyLC5tYWlsX3R5cGU6aG92ZXIge1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuaHRfZ2V0cHJpY2U6aG92ZXJ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBjb2xvcjogIzQ1NEE0RDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmh0X3dlaWdodF9udW17XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogNTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlci1yaWdodDogbm9uZTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICAgICAgcGFkZGluZzogMCAzcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgICAgYm94LXNpemluZzogaW5pdGlhbDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLndlaWdodF90eXBle1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDdiZWZlO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X2xlZnR7XG4gICAgICBoZWlnaHQ6IDE2MHB4O1xuICAgICAgd2lkdGg6IDI1NHB4O1xuICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuaHRfd2VpZ2h0IHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5odF93ZWlnaHQgLndlaWdodF90bGUge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgfSBcbiAgICAuY29udGVudF9kZWZhdWx0X2xlZnQgZGl2e1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgICBjb2xvcjogIzM3MzczNztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlOWViXG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jb250ZW50X2RlZmF1bHRfbGVmdCBkaXYuaHRfdGFyaWZmIHtcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF90cmFuc3BvcnRfYnRuLC5nd2RfaGFpdGFvIC5odF90YXJpZmZfYnRue1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF90cmFuc3BvcnRfYnRuOmhvdmVyLC5odF90YXJpZmZfYnRuOmhvdmVye1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF9mcmVpZ2h0X251bXtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA0MnB4O1xuICAgICAgY29sb3I6ICM3NzhlOTk7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF9mcmVpZ2h0LC5nd2RfaGFpdGFvIC5kZWxfbGluZXtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgYS5odF90cmFuc3BvcnRfYnRuIHNwYW4sIC5odF90YXJpZmZfYnRuIHNwYW4ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgYS5odF90cmFuc3BvcnRfYnRuIHNwYW46aG92ZXIsIC5odF90YXJpZmZfYnRuIHNwYW46aG92ZXIge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5wb2ludF9pY29ue1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fZG93bmJsdWVpY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiA5cHggNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiA5cHg7XG4gICAgICB3aWR0aDogMTBweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogMXB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuZGVsX2xpbmV7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB3aWR0aDogOThweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmRlbF9saW5lIC5odF90YXJpZmZfbnVtIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgY29sb3I6ICM3NzhlOTk7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5kZWxfbGluZSAuaHRfdGFyaWZmX251bSBlbSB7XG4gICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jb250ZW50X2RlZmF1bHRfcmlnaHR7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDE2MHB4O1xuICAgICAgd2lkdGg6IDExOXB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGF7XG4gICAgICB3aWR0aDogMTIwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICAgIGNvbG9yOiAjMzgzODM1O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBwYWRkaW5nOiAwIDAgMCAxNHB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGEgc3BhbiB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tbGVmdDogN3B4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGE6aG92ZXJ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBjb2xvcjogIzM4MzgzNTtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC5zaXplX2hlbHB7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLnNpemVfaGVscCBzcGFuIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIGNvbG9yOiAjNWFhNGNjO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLnNpemVfaGVscCBzcGFuOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGVte1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB0b3A6IDVweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnNpemVfaGVscCBlbXtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpemVpY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF90cmFuc2xhdGUgZW17XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb190cmFuc2ljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnByb190eXBlIC56aXlpbmd7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb196aXlpbmdpY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAucHJvX3R5cGUgLnNhbmZhbmd7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zYW5pY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5tYWlsX3R5cGUgLnpoaXlvdXtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3poaWljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5tYWlsX3R5cGUgLmZlaXpoaXlvdXtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3podWFuaWNvbi5wbmcnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuc2FtZS1zdHlsZSBlbSB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zYW1lc3R5bGUucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC52aXBfdGxlIGVtIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3ZpcGljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5nd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXJ7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmh0X2NvbnRlbnR7XG4gICAgICBoZWlnaHQ6IDE2MnB4O1xuICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5jb250ZW50X2RlZmF1bHQge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC5jb250ZW50X2RlZmF1bHQ6YWZ0ZXIsIC5nd2RfaGFpdGFvIC5jb250ZW50X2RlZmF1bHRfcmlnaHQ6YWZ0ZXIge1xuICAgICAgY29udGVudDogXCJcIjtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuICAgIC8qIOWFs+eojuWIhuexu+mAieaLqSAqL1xuICAgICN0YXJpZmZfZGV0YWlse1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgZGlzcGxheTpub25lO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5O1xuICAgICAgdG9wOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICB3aWR0aDogMjkwcHg7XG4gICAgICBoZWlnaHQ6IDE4MHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGJveC1zaGFkb3c6IDBweCA1cHggMTlweCAwcHggI2Q3ZDhkOTtcbiAgICB9XG4gICAgI3RhcmlmZl9kZXRhaWwgLnhpYWxhYm94IGF7XG4gICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgY29sb3I6ICM1YzYyNjY7XG4gICAgICBtYXJnaW4tbGVmdDogN3B4O1xuICAgICAgd2lkdGg6IDk4cHg7XG4gICAgICBoZWlnaHQ6IDI1cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjVweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC54aWFsYWJveCBhOmhvdmVye1xuICAgICAgY29sb3I6ICM0N2JlZmU7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICB9XG4gICAgI3RhcmlmZl9kZXRhaWwgLnRhcl9oZWFke1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC50YXJfZGVzYyAsICN0YXJpZmZfZGV0YWlsIC50YXJfaGVhZCB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC50YXJfaGVhZCBzcGFue1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB3aWR0aDogMjcxcHg7XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC5odF90YXJpZmZfbnVtLCAuaHRfdGFyaWZmX2NhdGUge1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgfVxuICAgIC5odF90YXJpZmZfY2F0ZSB7XG4gICAgICB3aWR0aDogNzBweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogNXB4O1xuICAgIH1cbiAgICAjdGFyaWZmX2RldGFpbCAuZGVsX2xpbmUge1xuICAgICAgd2lkdGg6IDExOHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAudGFyX2Rlc2N7XG4gICAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnRhcl9kZXNjIC5kZWxfbGluZXtcbiAgICAgIG1hcmdpbjogMCAwIDAgMjBweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnRhcl9kZXNjIC5kZXNjX3R7XG4gICAgICBtYXJnaW4tbGVmdDogOXB4O1xuICAgIH1cbiAgICAjY2F0ZV9zZWxlY3RfYm94e1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAjY2F0ZV9zZWxlY3RfYm94IGlucHV0e1xuICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgd2lkdGg6IDEwOXB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fZG93bmdyYXlpY29uLnBuZycpIG5vLXJlcGVhdCA4OXB4IDExcHg7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggN3B4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgcGFkZGluZzogM3B4IDdweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGNvbG9yOiAjOWNhN2FkO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAjY2F0ZV9zZWxlY3RfYm94IGlucHV0LnNlbF9pbmZve1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UxZTFlMTtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gI2NhdGVfc2VsZWN0X2JveCBpbnB1dC5pbnB1dF9ob3ZlcntcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmO1xuICAgICAgY29sb3I6ICM5Y2E3YWQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jYXRlX3NlbGVjdF8xe1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjJweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5Njk4OTk7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jYXRlX3NlbGVjdF8xLnNlbGVjdF9ob3ZlciAsIC5nd2RfaGFpdGFvIC5jYXRlX3NlbGVjdF8yLnNlbGVjdF9ob3ZlcntcbiAgICAgIGhlaWdodDogMjE4cHg7XG4gICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcblxuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY2F0ZV9zZWxlY3RfMntcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgIzk2OTg5OTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAueGlhbGFib3h7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMTg1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYm9yZGVyLXRvcDogbm9uZTtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAxMDlweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgLmllX2hhY2suZ3dkX2hhaXRhbyAueGlhbGFib3gge1xuICAgICAgd2lkdGg6IDExMXB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAjc2VsZWN0X2J0bntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQ3YmVmZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbGluZS1oZWlnaHQ6IDIzcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDU0cHg7XG4gICAgICBsZWZ0OiAxMTZweDtcbiAgICB9XG4gICAgI3RyYW5zcG9ydF9kZXRhaWx7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB3aWR0aDogNzU1cHg7XG4gICAgICBoZWlnaHQ6IDMxNHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB0b3A6IDQwMHB4O1xuICAgICAgbGVmdDogNDAwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICBib3gtc2hhZG93OiAwcHggNXB4IDE5cHggMHB4ICNkN2Q4ZDk7XG4gICAgfVxuICAgICN0cmFuc3BvcnRfZGV0YWlsICp7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cbiAgICAjdHJhbnNwb3J0X2RldGFpbCAudHJhbnNfbmF2IC5zcGFuXzAge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgfVxuICAgICN0cmFuc3BvcnRfZGV0YWlsIC50cmFuc19uYXYgLnNwYW5fMXtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB3aWR0aDogMTQ2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTdweDtcbiAgICB9XG4gICAgI3RyYW5zcG9ydF9kZXRhaWwgLnRyYW5zX25hdiAuc3Bhbl8ye1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHdpZHRoOiAxNDdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA0cHg7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLnRyYW5zX2hlYWR7XG4gICAgICBoZWlnaHQ6IDUxcHg7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmNsb3NlYmFye1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiA0cHg7XG4gICAgICByaWdodDogN3B4O1xuICAgICAgY29sb3I6ICM2NjY7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jbG9zZWJhci5jbG9zZWJnIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcImh0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19jbG9zZWljb24ucG5nXCIpIDZweCA2cHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiA5cHggOXB4O1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICB0b3A6IDFweDtcbiAgICAgIHJpZ2h0OiAxcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jbG9zZWJhci5jbG9zZWJnOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcImh0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19jbG9zZWhvdmVyaWNvbi5wbmdcIikgM3B4IDNweCBuby1yZXBlYXQ7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDE1cHggMTVweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2e1xuICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHdpZHRoOiA3NTNweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2PnNwYW57XG4gICAgICB3aWR0aDogMTIwcHg7XG4gICAgICBjb2xvcjogIzVjNjI2NjtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIGhlaWdodDogNDhweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBsaW5lLWhlaWdodDogNDhweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2IC5zcGFuXzMge1xuICAgICAgd2lkdGg6IDE5NnB4O1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIGNvbG9yOiAjNDA2OTgwO1xuICAgICAgbWFyZ2luLWxlZnQ6IDM1cHg7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLnRyYW5zX25hdiAudHJhbnNfd3tcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDE0cHg7XG4gICAgICBsZWZ0OiAzNTJweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfdyAud2VpZ2h0X3R5cGV7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjZweDtcbiAgICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsIC50cmFuc193IC5odF93ZWlnaHRfbnVte1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgcG9zaXRpb246IHN0YXRpYztcbiAgICAgIHdpZHRoOiA0OXB4O1xuICAgICAgbWFyZ2luLXRvcDogMHB4O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgYm9yZGVyLWNvbG9yOiAjOGRjMmU1O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAudHJhbnNfY29udGVudCB7XG4gICAgICBoZWlnaHQ6IDIxMHB4O1xuICAgICAgd2lkdGg6IDc1MXB4O1xuICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsIC50cmFuc19mb290LC5zaXplX2Rlc2Mge1xuICAgICAgY29sb3I6ICM5ZjlmOWY7XG4gICAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfZm9vdCB7XG4gICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAucmVke1xuICAgICAgY29sb3I6ICNlNzIwMzA7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIHNwYW4ucmVkIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3N0YXJpY29uLnBuZycpIDBweCAxcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiA4cHggOXB4O1xuICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLnRyYW5zX2Zvb3QgLnJlZCtzcGFue1xuICAgICAgY29sb3I6ICM5MTk2OTk7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgI3RyYW5zX2xpc3R7XG4gICAgICBtYXJnaW46IDBweDtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAjdHJhbnNfbGlzdCBsaXtcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgI3RyYW5zX2xpc3QgbGk6YWZ0ZXJ7XG4gICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgY2xlYXI6Ym90aDtcbiAgICAgIGNvbnRlbnQ6XCJcIjtcbiAgICAgIHZpc2liaWxpdHk6aGlkZGVuO1xuICAgICAgaGVpZ2h0OjA7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvICN0cmFuc19saXN0IGxpOmhvdmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0UxRTFFNjtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAjdHJhbnNfbGlzdCBsaT5zcGFuLCAuaHRfdHJhbnNfZGV0YWlsICN0cmFuc19saXN0IGxpPmF7XG4gICAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICAgIGNvbG9yOiAjNWM2MjY2O1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsICN0cmFuc19saXN0IGxpIGE6aG92ZXIge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICBzcGFuLnNhbGVfdGxlIHtcbiAgICAgIHdpZHRoOiAyMjVweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgfVxuICAgIHNwYW4uc2FsZV90bGUgYXtcbiAgICAgIGNvbG9yOiAjNDBhY2U2O1xuICAgIH1cbiAgICBzcGFuLnNhbGVfdGxlIGE6aG92ZXIge1xuICAgICAgY29sb3I6ICMyYjcyOTk7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLmxvX2NlbnRlcntcbiAgICAgIG1hcmdpbi1sZWZ0OiAyNHB4O1xuICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgc3Bhbi50cmFuc19jYXRlIHtcbiAgICAgIHdpZHRoOiAxMzBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsIHNwYW4udHJhbnNfcHIge1xuICAgICAgd2lkdGg6IDE0NnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCBhLnRyYW5zX2NvbSB7XG4gICAgICB3aWR0aDogODVweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzOXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCBhLnRyYW5zX2NvbTpob3ZlciB7XG4gICAgICBjb2xvcjogIzAwNjZjMDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgLyog5rKh5pyJ5LyY5oOg5pS/562W55qE5oOF5Ya1ICovXG4gICAgI3RyYW5zcG9ydF9kZXRhaWwubm9fc2FsZSB7XG4gICAgICB3aWR0aDogNDkwcHg7XG4gICAgfVxuICAgIC5ub19zYWxlLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2IHtcbiAgICAgIHdpZHRoOiA0MzZweDtcbiAgICB9XG4gICAgLm5vX3NhbGUuZ3dkX2hhaXRhbyAudHJhbnNfY29udGVudCB7XG4gICAgICB3aWR0aDogNDQ0cHg7XG4gICAgfVxuICAgIC5ub19zYWxlLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2IC5zcGFuXzMge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI3RyYW5zcG9ydF9kZXRhaWwubm9fc2FsZSBzcGFuLnNhbGVfdGxlIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC8qIOWwuueggeW4ruWKqSAqL1xuICAgICNzaXplX2RldGFpbHtcbiAgICAgIHdpZHRoOiA2MThweDtcbiAgICAgIGhlaWdodDogNDQwcHg7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDQwMHB4O1xuICAgICAgbGVmdDogNDAwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlNmU5ZWI7IFxuICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAxOXB4IDBweCAjZDdkOGQ5OyAgICAgICBcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5zaGFuZ3lpLCAudG9uZ3podWFuZzAsIC50b25neGllMHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGxlZnQ6IDM4cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAueGlhemh1YW5nLCAudG9uZ3podWFuZzQsIC50b25neGllNHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogNTBweDtcbiAgICAgIGxlZnQ6IDM4cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2hvZXMsLmh0X3NpemVfZGV0YWlsIC50b25nemh1YW5nLCAuaHRfc2l6ZV9kZXRhaWwgLnRvbmd4aWV7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgc3Bhbi5zaG9lcyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDM5cHg7XG4gICAgICBsZWZ0OiAzOHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDdiZWZlO1xuICAgICAgYm9yZGVyOiAgMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2hhbmd5aS5zaXplX2hvdmVyLC5odF9zaXplX2RldGFpbCAueGlhemh1YW5nLnNpemVfaG92ZXIsIC5odF9zaXplX2RldGFpbCAueGlhemh1YW5nLnNpemVfaG92ZXIsIC5odF9zaXplX2RldGFpbCAudG9uZ3podWFuZy5zaXplX2hvdmVyLCAuaHRfc2l6ZV9kZXRhaWwgLnRvbmd4aWUuc2l6ZV9ob3ZlcntcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0N2JlZmU7XG4gICAgICBib3JkZXI6ICAxcHggc29saWQgIzQ3YmVmZTtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNoYW5neWksLmh0X3NpemVfZGV0YWlsIC54aWF6aHVhbmcsLmh0X3NpemVfZGV0YWlsIC5zaG9lcywuaHRfc2l6ZV9kZXRhaWwgLnRvbmd6aHVhbmcsIC5odF9zaXplX2RldGFpbCAudG9uZ3hpZXtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgYm9yZGVyOiAgMXB4IHNvbGlkICM5Njk4OTk7XG4gICAgICBjb2xvcjogIzhBOTQ5OTtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aF9pY29ue1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxMDBweDtcbiAgICAgIGxlZnQ6IDIycHg7XG4gICAgfVxuICAgIFxuICAgIC5odF9zaXplX2RldGFpbCAubWFuc2hhbmd6aHVhbmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9tYW5fc2hhbmd6aHVhbmcucG5nJykgLTRweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAxOTFweDtcbiAgICAgIHdpZHRoOiA5M3B4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLndvbWFuc2hhbmd6aHVhbmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy93b21hbl9zaGFuZ3podWFuZy5wbmcnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTg3cHg7XG4gICAgICB3aWR0aDogODdweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5raWQwIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMva2lkczBfNC5wbmcnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTg3cHg7XG4gICAgICB3aWR0aDogODdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAua2lkNCB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2tpZHM0XzEyLnBuZycpIC0ycHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTg3cHg7XG4gICAgICB3aWR0aDogODdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAubWFueGlhemh1YW5nIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbWFuX3hpYXpodWFuZy5wbmcnKSAtMTdweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAyMTZweDtcbiAgICAgIHdpZHRoOiA2M3B4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDEzcHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAud29tYW54aWF6aHVhbmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy93b21hbl94aWF6aHVhbmcucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgICBoZWlnaHQ6IDIyMHB4O1xuICAgICAgd2lkdGg6IDY2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTFweDtcbiAgICB9XG4gICAgXG4gICAgLmh0X3NpemVfZGV0YWlsIC5odF9zaG9lcy5tYW5fZm9vdCB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL21hbl9mb290LnBuZycpIDRweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAxNzBweDtcbiAgICAgIHdpZHRoOiAxMTFweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5odF9zaG9lcy53b21hbl9mb290IHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvd29tYW5fZm9vdC5wbmcnKSA0cHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICB3aWR0aDogMTExcHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuaHRfc2hvZXMua2lkc19mb290IHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMva2lkX3Nob2VzLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAxNzFweDtcbiAgICAgIHdpZHRoOiAxMzFweDtcbiAgICAgIGxlZnQ6IDRweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdntcbiAgICAgIG1hcmdpbi10b3A6IDEzcHg7XG4gICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiA1NjdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1NXB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLmNsb3RoZXNfbmF2IHVse1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIG1hcmdpbjogMHB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfc3tcbiAgICAgIGhlaWdodDogNDBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGJvcmRlci1yaWdodDogMnB4IHNvbGlkICNlNmU5ZWI7XG4gICAgfVxuICAgIC5kZXRhaWxfbGVmdCB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHdpZHRoOiAxMzZweDtcbiAgICAgIGhlaWdodDogMzY3cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5kZXRhaWxfbGVmdCBzcGFuIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsICNzaXplX2l0ZW17XG4gICAgICBoZWlnaHQ6IDE4MHB4O1xuICAgICAgd2lkdGg6IDQ1MnB4O1xuICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdiB1bCBsaXtcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA1N3B4O1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2ZmZjtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdiB1bCBsaTpob3ZlciB7XG4gICAgICBjb2xvcjogIzQ3YmVmZTtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdiB1bCBsaS5zZWxlY3R7XG4gICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzQ3YmVmZTtcbiAgICAgIGNvbG9yOiAjNDdiZWZlO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfaGVhZHtcbiAgICAgIGhlaWdodDogNjBweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC51bml0X2Rlc2N7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDI3cHg7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2l6ZV9jb257XG4gICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMXB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAyNnB4O1xuICAgICAgY29sb3I6ICM1NzVlNjE7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2l6ZV9vcHtcbiAgICAgIHdpZHRoOiA0NDBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfb3AgaW5wdXQraW5wdXQge1xuICAgICBtYXJnaW4tbGVmdDogMHB4OyBcbiAgICB9XG4gICAgI2ZpcnN0X3NpemUrLmZpcnN0X3hpYWxhIHtcbiAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICByaWdodDogMjY3cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2l6ZV9vcCBpbnB1dHtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgIGhlaWdodDogMzFweDtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgICNmaXJzdF9zaXplLCAjc2Vjb25kX3NpemUge1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDAgN3B4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgIzk2OTg5OTtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuICAgICNmaXJzdF9zaXplOmZvY3VzLCAjc2Vjb25kX3NpemU6Zm9jdXMge1xuICAgICAgYm9yZGVyLWNvbG9yOiAjNDdiZWZlO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfeGlhbGFib3gge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiAxOTBweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgICAgdG9wOiAtMTg5cHg7XG4gICAgICByaWdodDogMjY3cHg7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7XG4gICAgfVxuICAgICNzZWNvbmRfc2l6ZSsuc2Vjb25kX3hpYWxhe1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IC0xNHB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgI3NlY29uZF9zaXplK2lucHV0Ky5zaXplX3hpYWxhYm94e1xuICAgICAgcmlnaHQ6IC0xNHB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfeGlhbGFib3ggYXtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcGFkZGluZy1sZWZ0OiA3cHg7XG4gICAgICBjb2xvcjogIzVjNjI2NjtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5zaXplX3hpYWxhYm94IGE6aG92ZXJ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIGNvbG9yOiAjNDdiZWZlO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfb3AgLnNpemVfeGlhbGF7XG4gICAgICB3aWR0aDogNjBweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDdweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGNvbG9yOiAjOGE5NDk5O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfb3AgLnNpemVfeGlhbGEubXNIb3ZlciB7XG4gICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0cHg7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fdXBncmF5aWNvbi5wbmcnKSBuby1yZXBlYXQgNDJweCAxMnB4O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDdweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5zaXplX3hpYWxhe1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fZG93bmdyYXlpY29uLnBuZycpIG5vLXJlcGVhdCA0MnB4IDEycHg7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggN3B4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLmNvbnZlcnNpb257XG4gICAgICBtYXJnaW46IDAgMzBweCAwIDEwNXB4O1xuICAgIH1cbiAgICAvKiBmYW55aSAqL1xuICAgIC5odF9mYW55aXtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgei1pbmRleDogOTk7XG4gICAgICBiYWNrZ3JvdW5kOiAjZmZmIHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2ZhbnlpX2ljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgbWluLWhlaWdodDogMjVweDtcbiAgICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgICAgdGV4dC1pbmRlbnQ6IDMycHg7XG4gICAgICBwYWRkaW5nOiAycHggMTJweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIH1cbiAgICAuaHRfZmFueWkgYXtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgd2lkdGg6IDEzMHB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgfVxuICAgIC5odF9mYW55aSBhOmhvdmVye1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgfVxuICAgICNodF90b3B7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMHB4O1xuICAgICAgaGVpZ2h0OiAwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMHB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkICMyNzhhYzk7XG4gICAgICBib3JkZXItbGVmdDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgYm9yZGVyLXJpZ2h0OiA5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBsZWZ0OiA1OHB4O1xuICAgICAgdG9wOiAtOHB4O1xuICAgIH1cbiAgICAjaHRfdG9wOmFmdGVyIHtcbiAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAwcHg7XG4gICAgICBoZWlnaHQ6IDBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAwcHg7XG4gICAgICBib3JkZXItYm90dG9tOiA3cHggc29saWQgI2ZmZjtcbiAgICAgIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIGxlZnQ6IC04cHg7XG4gICAgICB0b3A6IDFweDtcbiAgICB9XG4gICAgLyog5rua5Yqo5p2h5qC35byPICovXG4gICAgLmd3ZF9oYWl0YW8gOjotd2Via2l0LXNjcm9sbGJhciB7d2lkdGg6NnB4O2hlaWdodDogNnB4O31cbiAgICAuZ3dkX2hhaXRhbyA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtiYWNrZ3JvdW5kOiNmMGYwZjA7fVxuICAgIC5nd2RfaGFpdGFvIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgYmFja2dyb3VuZDogI2NkY2RjZDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG4gICAgI3NpemVfZGV0YWlsIDo6LXdlYmtpdC1zY3JvbGxiYXIge3dpZHRoOjJweDtoZWlnaHQ6IDZweDt9XG4gICAgLyog5Lqa6ams6YCK6YGu5oyhICovXG4gICAgZGl2I2FjdGlvblBhbmVsV3JhcHBlci5idXJqIHtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAvKiBhbWF6b25HbG9iYWwgKi9cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5jb250ZW50X2RlZmF1bHRfbGVmdCB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgICNnbG9iYWxJbm5lckRldGFpbCAuaW5uZXItdGxlICB7XG4gICAgICBjb2xvcjogIzY2NjtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5pbm5lci1pbWcgaW1nIHtcbiAgICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgICAgbWF4LXdpZHRoOiAxNTBweDtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5pbm5lci10bGUge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICB3aWR0aDogMjMwcHg7XG4gICAgICBoZWlnaHQ6IDI4cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwgLmlubmVyLWJ0biB7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0NmMwZmU7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA3OHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgIH1cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwgLnByb190eXBlOmhvdmVyIC5wcm9fdHlwZV9kZXRhaWwge1xuICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5tYWlsX3R5cGU6aG92ZXIgLm1haWxfdHlwZV9kZXRhaWwge1xuICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC52aXBfdGxlOmhvdmVyIC52aXBfdGxlX2RldGFpbCB7XG4gICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwgLnNhbWUtc3R5bGU6aG92ZXIgLnNhbWUtc3R5bGVfZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgICNnbG9iYWxJbm5lckRldGFpbCAuc2FtZS1zdHlsZV9kZXRhaWwge1xuICAgICAgbGVmdDogMzUwcHg7XG4gICAgICB0b3A6IDgxcHg7XG4gICAgfSIsICIiXSk7Cgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewoJCQl2YXIgZSA9IFtdOwoJCQlyZXR1cm4gZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewoJCQkJZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspIHsKCQkJCQl2YXIgbiA9IHRoaXNbdF07CgkJCQkJblsyXSA/IGUucHVzaCgiQG1lZGlhICIgKyBuWzJdICsgInsiICsgblsxXSArICJ9IikgOiBlLnB1c2goblsxXSkKCQkJCX0KCQkJCXJldHVybiBlLmpvaW4oIiIpCgkJCX0sIGUuaSA9IGZ1bmN0aW9uKHQsIG4pIHsKCQkJCSJzdHJpbmciID09IHR5cGVvZiB0ICYmICh0ID0gWwoJCQkJCVtudWxsLCB0LCAiIl0KCQkJCV0pOwoJCQkJZm9yICh2YXIgaSA9IHt9LCBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHsKCQkJCQl2YXIgbyA9IHRoaXNbYV1bMF07CgkJCQkJIm51bWJlciIgPT0gdHlwZW9mIG8gJiYgKGlbb10gPSAhMCkKCQkJCX0KCQkJCWZvciAoYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7CgkJCQkJdmFyIHIgPSB0W2FdOwoJCQkJCSJudW1iZXIiID09IHR5cGVvZiByWzBdICYmIGlbclswXV0gfHwgKG4gJiYgIXJbMl0gPyByWzJdID0gbiA6IG4gJiYgKHJbMl0gPSAiKCIgKyByWzJdICsgIikgYW5kICgiICsgbiArICIpIiksIGUucHVzaChyKSkKCQkJCX0KCQkJfSwgZQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJZnVuY3Rpb24gaShlLCB0KSB7CgkJCWZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgewoJCQkJdmFyIGkgPSBlW25dLAoJCQkJCWEgPSBwW2kuaWRdOwoJCQkJaWYgKGEpIHsKCQkJCQlhLnJlZnMrKzsKCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGEucGFydHMubGVuZ3RoOyBvKyspIGEucGFydHNbb10oaS5wYXJ0c1tvXSk7CgkJCQkJZm9yICg7IG8gPCBpLnBhcnRzLmxlbmd0aDsgbysrKSBhLnBhcnRzLnB1c2gocyhpLnBhcnRzW29dLCB0KSkKCQkJCX0gZWxzZSB7CgkJCQkJZm9yICh2YXIgciA9IFtdLCBvID0gMDsgbyA8IGkucGFydHMubGVuZ3RoOyBvKyspIHIucHVzaChzKGkucGFydHNbb10sIHQpKTsKCQkJCQlwW2kuaWRdID0gewoJCQkJCQlpZDogaS5pZCwKCQkJCQkJcmVmczogMSwKCQkJCQkJcGFydHM6IHIKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGEoZSkgewoJCQlmb3IgKHZhciB0ID0gW10sIG4gPSB7fSwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CgkJCQl2YXIgYSA9IGVbaV0sCgkJCQkJbyA9IGFbMF0sCgkJCQkJciA9IGFbMV0sCgkJCQkJcyA9IGFbMl0sCgkJCQkJbCA9IGFbM10sCgkJCQkJYyA9IHsKCQkJCQkJY3NzOiByLAoJCQkJCQltZWRpYTogcywKCQkJCQkJc291cmNlTWFwOiBsCgkJCQkJfTsKCQkJCW5bb10gPyBuW29dLnBhcnRzLnB1c2goYykgOiB0LnB1c2gobltvXSA9IHsKCQkJCQlpZDogbywKCQkJCQlwYXJ0czogW2NdCgkJCQl9KQoJCQl9CgkJCXJldHVybiB0CgkJfQoKCQlmdW5jdGlvbiBvKCkgewoJCQl2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksCgkJCQl0ID0gbSgpOwoJCQlyZXR1cm4gZS50eXBlID0gInRleHQvY3NzIiwgdC5hcHBlbmRDaGlsZChlKSwgZQoJCX0KCgkJZnVuY3Rpb24gcigpIHsKCQkJdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksCgkJCQl0ID0gbSgpOwoJCQlyZXR1cm4gZS5yZWwgPSAic3R5bGVzaGVldCIsIHQuYXBwZW5kQ2hpbGQoZSksIGUKCQl9CgoJCWZ1bmN0aW9uIHMoZSwgdCkgewoJCQl2YXIgbiwgaSwgYTsKCQkJaWYgKHQuc2luZ2xldG9uKSB7CgkJCQl2YXIgcyA9IGcrKzsKCQkJCW4gPSBmIHx8IChmID0gbygpKSwgaSA9IGwuYmluZChudWxsLCBuLCBzLCAhMSksIGEgPSBsLmJpbmQobnVsbCwgbiwgcywgITApCgkJCX0gZWxzZSBlLnNvdXJjZU1hcCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBVUkwgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIEJsb2IgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgYnRvYSA/IChuID0gcigpLCBpID0gZC5iaW5kKG51bGwsIG4pLCBhID0gZnVuY3Rpb24oKSB7CgkJCQluLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksIG4uaHJlZiAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZikKCQkJfSkgOiAobiA9IG8oKSwgaSA9IGMuYmluZChudWxsLCBuKSwgYSA9IGZ1bmN0aW9uKCkgewoJCQkJbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pCgkJCX0pOwoJCQlyZXR1cm4gaShlKSwKCQkJCWZ1bmN0aW9uKHQpIHsKCQkJCQlpZiAodCkgewoJCQkJCQlpZiAodC5jc3MgPT09IGUuY3NzICYmIHQubWVkaWEgPT09IGUubWVkaWEgJiYgdC5zb3VyY2VNYXAgPT09IGUuc291cmNlTWFwKSByZXR1cm47CgkJCQkJCWkoZSA9IHQpCgkJCQkJfSBlbHNlIGEoKQoJCQkJfQoJCX0KCgkJZnVuY3Rpb24gbChlLCB0LCBuLCBpKSB7CgkJCXZhciBhID0gbiA/ICIiIDogaS5jc3M7CgkJCWlmIChlLnN0eWxlU2hlZXQpIGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gXyh0LCBhKTsKCQkJZWxzZSB7CgkJCQl2YXIgbyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpLAoJCQkJCXIgPSBlLmNoaWxkTm9kZXM7CgkJCQlyW3RdICYmIGUucmVtb3ZlQ2hpbGQoclt0XSksIHIubGVuZ3RoID8gZS5pbnNlcnRCZWZvcmUobywgclt0XSkgOiBlLmFwcGVuZENoaWxkKG8pCgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGMoZSwgdCkgewoJCQl2YXIgbiA9IHQuY3NzLAoJCQkJaSA9IHQubWVkaWE7CgkJCXQuc291cmNlTWFwOwoJCQlpZiAoaSAmJiBlLnNldEF0dHJpYnV0ZSgibWVkaWEiLCBpKSwgZS5zdHlsZVNoZWV0KSBlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IG47CgkJCWVsc2UgewoJCQkJZm9yICg7IGUuZmlyc3RDaGlsZDspIGUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTsKCQkJCWUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpCgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGQoZSwgdCkgewoJCQl2YXIgbiA9IHQuY3NzLAoJCQkJaSA9ICh0Lm1lZGlhLCB0LnNvdXJjZU1hcCk7CgkJCWkgJiYgKG4gKz0gIlxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSkgKyAiICovIik7CgkJCXZhciBhID0gbmV3IEJsb2IoW25dLCB7CgkJCQkJdHlwZTogInRleHQvY3NzIgoJCQkJfSksCgkJCQlvID0gZS5ocmVmOwoJCQllLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGEpLCBvICYmIFVSTC5yZXZva2VPYmplY3RVUkwobykKCQl9CgkJdmFyIHAgPSB7fSwKCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciB0OwoJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiAidW5kZWZpbmVkIiA9PSB0eXBlb2YgdCAmJiAodCA9IGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSksIHQKCQkJCX0KCQkJfSwKCQkJdSA9IGgoZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gL21zaWUgWzYtOV1cYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKQoJCQl9KSwKCQkJbSA9IGgoZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdCgkJCX0pLAoJCQlmID0gbnVsbCwKCQkJZyA9IDA7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSwgdCkgewoJCQl0ID0gdCB8fCB7fSwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIHQuc2luZ2xldG9uICYmICh0LnNpbmdsZXRvbiA9IHUoKSk7CgkJCXZhciBuID0gYShlKTsKCQkJcmV0dXJuIGkobiwgdCksCgkJCQlmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgbyA9IFtdLCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIHsKCQkJCQkJdmFyIHMgPSBuW3JdLAoJCQkJCQkJbCA9IHBbcy5pZF07CgkJCQkJCWwucmVmcy0tLCBvLnB1c2gobCkKCQkJCQl9CgkJCQkJaWYgKGUpIHsKCQkJCQkJdmFyIGMgPSBhKGUpOwoJCQkJCQlpKGMsIHQpCgkJCQkJfQoJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgby5sZW5ndGg7IHIrKykgewoJCQkJCQl2YXIgbCA9IG9bcl07CgkJCQkJCWlmICgwID09PSBsLnJlZnMpIHsKCQkJCQkJCWZvciAodmFyIGQgPSAwOyBkIDwgbC5wYXJ0cy5sZW5ndGg7IGQrKykgbC5wYXJ0c1tkXSgpOwoJCQkJCQkJZGVsZXRlIHBbbC5pZF0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQl9OwoJCXZhciBfID0gZnVuY3Rpb24oKSB7CgkJCXZhciBlID0gW107CgkJCXJldHVybiBmdW5jdGlvbih0LCBuKSB7CgkJCQlyZXR1cm4gZVt0XSA9IG4sIGUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIikKCQkJfQoJCX0oKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iZ3dkX2h0X21haW4iIGNsYXNzPSJnd2RfaGFpdGFvIHt7ZGF0YS5wYWdlY2xhc3N9fSIgPlxuICAgIDxkaXYgIGNsYXNzPSJodF9oZWFkIj5cbiAgICAgIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgY2xhc3M9Imd3ZF9zaXRlX2ljb24iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gICAgICA8YSBjbGFzcz0iaHRfZ2V0cHJpY2UgaXRlbV9ob3ZlciI+5Yiw5omL5Lu377yaPHNwYW4gY2xhc3M9Imh0X2dldHByaWNlX251bSBmb250Zl9BcmlhbCI+wqV7e2RhdGEuZ2V0cHJpY2V9fTwvc3Bhbj48L2E+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iaHRfY29udGVudCI+XG4gICAgICA8ZGl2IGNsYXNzPSJjb250ZW50X2RlZmF1bHQiIGlkPSJodF9jb250ZW50X2luZm8iPlxuICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50X2RlZmF1bHRfbGVmdCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz0idW5pdF9wcmljZSI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJpY2VfdGxlIj7ljZXku7fvvJo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJpY2VfbnVtIGZvbnRmX0FyaWFsIj7CpXt7ZGF0YS51bml0X3ByaWNlfX08L3NwYW4+XG4gICAgICAgICAgICA8YSBpZD0iaHRfYWRkY29sbGVjdCIgY2xhc3M9InRyZW5kX3dhaXQiID48c3Bhbj7pmY3ku7fmj5DphpI8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbGxlY3RfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICAgIOeCueWHu+WKoOWFpeaUtuiXj+Wkue+8jOWVhuWTgemZjeS7t+acieaPkOmGklxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJodF93ZWlnaHQiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9IndlaWdodF90bGUiPumHjemHj++8mjwvc3Bhbj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0ie3tkYXRhLmhlX3dlaWdodH19IiBjbGFzcz0iaHRfd2VpZ2h0X251bSI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0id2VpZ2h0X3R5cGUiPktHPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0id2VpZ2h0X3R5cGVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICAgIOeCueWHu+i9rOaNoumHjemHj+WNleS9jVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz0iaHRfdHJhbnNwb3J0Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJodF9mcmVpZ2h0Ij7ovazov5DotLnvvJo8c3BhbiBjbGFzcz0iaHRfZnJlaWdodF9udW0gZm9udGZfQXJpYWwiPsKlMDwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgICA8YSBjbGFzcz0iaHRfdHJhbnNwb3J0X2J0biI+XG4gICAgICAgICAgICAgIDxzcGFuID7ovazov5DllYblrrY8L3NwYW4+XG4gICAgICAgICAgICAgIDxlbSBjbGFzcz0icG9pbnRfaWNvbiI+PC9lbT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNwb3J0X3JlbWluZF9kZXRhaWwgZGl2X2RldGFpbCI+XG4gICAgICAgICAgICAgICAg54K55Ye76YCJ5oup6L2s6L+Q5YWs5Y+4XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9Imh0X3RhcmlmZiI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGVsX2xpbmUiIGRhdGEtZGVsPSIxIj7ooYzpgq7nqI7vvJo8c3BhbiBjbGFzcz0iaHRfdGFyaWZmX251bSBmb250Zl9BcmlhbCIgZGF0YS1wcmljZT0iMCI+Jm5ic3A7PGVtPuacquefpTwvZW0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJpZmZfcmVtaW5kX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAgICAgICAgICDkuKrkurrooYzmnY7lkozpgq7pgJLnianlk4Hov5vlj6PnqI7vvIjlhbPnqI7jgIHov5vlj6Pnjq/oioLlop7lgLznqI7lj4rmtojotLnnqI7kuInogIXlkIjkuIDnqI7np43vvIlcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8YSBjbGFzcz0iaHRfdGFyaWZmX2J0biI+XG4gICAgICAgICAgICAgIDxzcGFuPumAieaLqeWIhuexuzwvc3Bhbj5cbiAgICAgICAgICAgICAgPGVtIGNsYXNzPSJwb2ludF9pY29uIj48L2VtPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJpZmZfaW5mb19kZXRhaWwgZGl2X2RldGFpbCI+XG4gICAgICAgICAgICAgICAg54K55Ye76YCJ5oup5ZWG5ZOB57G75YirXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9kZWZhdWx0X3JpZ2h0Ij5cbiAgICAgICAgICA8YSBjbGFzcz0icHJvX3R5cGUiPlxuICAgICAgICAgICAgPGVtIGNsYXNzPSJ7e2RhdGEucHJvdHlwZX19Ij48L2VtPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9InByb190X3RsZSIgPnt7ZGF0YS5wcm90eXBlPT0ieml5aW5nIj8i6Ieq6JClIjoi56ys5LiJ5pa5In19PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvX3R5cGVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICB7e2RhdGEucHJvdHlwZT09XCd6aXlpbmdcJz8oZGF0YS5zaXRlICsgXCfnm7TmjqXplIDllK5cJyk6KGRhdGEuc2l0ZSArIFwn56ys5LiJ5pa55ZWG5a626ZSA5ZSuXCcpfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8YSBjbGFzcz0ibWFpbF90eXBlIiA+XG4gICAgICAgICAgICA8ZW0gY2xhc3M9Int7ZGF0YS5tYWlsdHlwZX19Ij48L2VtPlxuICAgICAgICAgICAgPHNwYW4gPnt7ZGF0YS5tYWlsdHlwZT09InpoaXlvdSI/IuWPr+ebtOmCriI6IumcgOi9rOi/kCJ9fTwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1haWxfdHlwZV9kZXRhaWwgZGl2X2RldGFpbCI+XG4gICAgICAgICAgICAgIHt7aWYgZGF0YS5tYWlsdHlwZT09XCd6aGl5b3VcJ319XG4gICAgICAgICAgICAgICAg6K+l5ZWG5ZOB55u06YKu5pSv5oyB55u06YKu5Lit5Zu977yM5Yiw5omL5pe26Ze057qmOH4xNuWkqVxuICAgICAgICAgICAgICB7e2Vsc2UgaWYgZGF0YS5ob3N0cyA9PSBcJ3d3dy5hbWF6b24uY29tXCd9fVxuICAgICAgICAgICAgICAgIOivpeWVhuWTgeS4jeaUr+aMgeebtOmCruS4reWbve+8jOmcgOi9rOi/kOWFrOWPuOi9rOi/kO+8jOWIsOaJi+aXtumXtOWkp+e6pjIwfjM15aSpXG4gICAgICAgICAgICAgIHt7ZWxzZSBpZiBkYXRhLmhvc3RzID09IFwnd3d3LmFtYXpvbi5jby5qcFwnfX1cbiAgICAgICAgICAgICAgICDor6XllYblk4HkuI3mlK/mjIHnm7Tpgq7kuK3lm73vvIzpnIDovazov5Dlhazlj7jovazov5DvvIzliLDmiYvml7bpl7TlpKfnuqY3fjMw5aSpXG4gICAgICAgICAgICAgIHt7ZWxzZSBpZiBkYXRhLmhvc3RzID09IFwnd3d3LmFtYXpvbi5kZVwnfX1cbiAgICAgICAgICAgICAgICDor6XllYblk4HkuI3mlK/mjIHnm7Tpgq7kuK3lm73vvIzpnIDovazov5Dlhazlj7jovazov5DvvIzliLDmiYvml7bpl7TlpKfnuqYyNX40MOWkqVxuICAgICAgICAgICAgICB7e2Vsc2V9fVxuICAgICAgICAgICAgICAgIOivpeWVhuWTgeS4jeaUr+aMgeebtOmCruS4reWbve+8jOmcgOi9rOi/kOWFrOWPuOi9rOi/kO+8jOWIsOaJi+aXtumXtOWkp+e6pjIwfjM15aSpXG4gICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8YSBjbGFzcz0iaHRfdHJhbnNsYXRlIj5cbiAgICAgICAgICAgIDxlbT48L2VtPlxuICAgICAgICAgICAgPHNwYW4+57+76K+R5biu5YqpPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNsYXRlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAgICAgICAg5bey5Li65oKo5byA5ZCv5YiS6K+N57+76K+R77yM6byg5qCH6YCJ5Lit55u45YWz5paH5a2X77yM5Y2z5Y+v57+76K+RXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGEgY2xhc3M9InNpemVfaGVscCI+XG4gICAgICAgICAgICA8ZW0+PC9lbT5cbiAgICAgICAgICAgIDxzcGFuPuWwuueggeW4ruWKqTwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNpemVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICDngrnlh7vmn6XnnIvlsLrnoIHluK7liqlcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGgiPjwvZGl2PlxuICAgICAgPGRpdiBpZD0idGFyaWZmX2RldGFpbCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjbG9zZWJhciBjbG9zZWJnIiB0aXRsZT0i5YWz6ZetIj48L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3M9InRhcl9oZWFkIj5cbiAgICAgICAgICA8c3Bhbj7pgInmi6nllYblk4HliIbnsbs8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJfZGVzYyI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9ImRlbF9saW5lIj7llYblk4HvvJo8c3BhbiBjbGFzcz0iaHRfdGFyaWZmX2NhdGUiPuivt+mAieaLqeWIhuexuzwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9ImRlc2NfdCI+5Y2V5Lu26KGM6YKu56iO77yaPHNwYW4gY2xhc3M9Imh0X3RhcmlmZl9udW0iPuacquefpTwvc3Bhbj4gPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD0iY2F0ZV9zZWxlY3RfYm94Ij5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXRlX3NlbGVjdF8xIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0i6K+36YCJ5oup5YiG57G7IiBpZD0iY2F0ZV9iaWciIGNsYXNzPSJpY29uX2Rvd24iIHJlYWRvbmx5PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ieGlhbGFib3giIGlkPSJiaWdfeGlhbGEiPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMSIgIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPumjn+WTgTwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTIiICBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mnI3ppbA8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUzIiAgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Z6L44CB566x5YyFPC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlNCIgIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJi+ihqDwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTUiICBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7ljqjmiL/jgIHppJDljoU8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGU2IiAgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5a6255S1PC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlNyIgIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4quS6uuaKpOeQhjwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTgiICBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nvo7lrrk8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGU5IiAgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5omL5py65Y+K6YWN5Lu2PC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTAiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuWKnuWFrOeUqOWTgTwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTExIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nhafnm7jmnLrjgIHmkYTlg4/mnLo8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUxMiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+55S15a2Q5pWw56CBPC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTMiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPua4uOaIj+acui/muLjmiI/nop88L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUxNCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Z+z566xPC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4quS6uueUteiEkTwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTE2IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nlLXlrZDkuaborr7lpIc8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUxNyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+546p5YW3PC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuWptOWEv+eUqOWTgTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9ImNhdGVfc2VsZWN0XzIiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSLor7fpgInmi6nliIbnsbsiIGlkPSJjYXRlX3NtYWxsIiBtYXhsZW5ndGg9IjUiIGNsYXNzPSJpY29uX2Rvd24gc2VsX2luZm8iIHJlYWRvbmx5PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ieGlhbGFib3giIGlkPSJzbWFsbF94aWFsYSI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD0ic2VsZWN0X2J0biIgZGF0YS10YXJpZmY9Ii0xIj7noa7orqQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgIDwvZGl2PlxuPC9kaXY+XG4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJzaXplX2RldGFpbCIgY2xhc3M9Imh0X3NpemVfZGV0YWlsIGd3ZF9oYWl0YW8iIHN0eWxlPSJ0b3A6IHt7cG9zLnBvc3l9fXB4O2xlZnQ6IHt7cG9zLnBvc3h9fXB4OyI+XG4gICAgPHNwYW4gY2xhc3M9ImNsb3NlYmFyIGNsb3NlYmciIHRpdGxlPSLlhbPpl60iPjwvc3Bhbj5cbiAgICBcbiAgICA8ZGl2IGNsYXNzPSJzaXplX2hlYWQiPlxuICAgICAgICA8ZGl2IGNsYXNzPSJjbG90aGVzX25hdiI+XG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAgPGxpIGNsYXNzPSJzZWxlY3QiPueUt+ijhTwvbGk+XG4gICAgICAgICAgICA8bGk+5aWz6KOFPC9saT5cbiAgICAgICAgICAgIDxsaT7nq6Xoo4U8L2xpPlxuICAgICAgICAgICAgPGxpPueUt+meizwvbGk+XG4gICAgICAgICAgICA8bGk+5aWz6Z6LPC9saT5cbiAgICAgICAgICAgIDxsaT7nq6Xpnos8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ1bml0X2Rlc2MgdW5pdF9jbSI+5Y2V5L2N77ya5Y6Y57GzKENNKTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ1bml0X2Rlc2MgdW5pdF9tbSI+5Y2V5L2N77ya5q+r57GzKE1NKTwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNpemVfY29udGVudCI+XG4gICAgICA8ZGl2IGNsYXNzPSJkZXRhaWxfbGVmdCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzaGFuZ3lpIHNpemVfaG92ZXIiPuS4iuijhTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InhpYXpodWFuZyI+5LiL6KOFPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idG9uZ3podWFuZyB0b25nemh1YW5nMCI+MCB+IDTlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJ0b25nemh1YW5nIHRvbmd6aHVhbmc0Ij40IH4gMTLlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzaG9lcyI+6Z6L5a2QPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idG9uZ3hpZSB0b25neGllMCI+MCB+IDTlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJ0b25neGllIHRvbmd4aWU0Ij40IH4gMTLlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjbG90aF9pY29uIGh0X3NoYW5neWkgbWFuc2hhbmd6aHVhbmciPjwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsX3JpZ2h0Ij5cbiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9jZW50ZXIiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9InNpemVfcyI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD0ic2l6ZV9pdGVtIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPSJzaXplX2l0ZW1faW1nIj48L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJzaXplX2Rlc2MiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJyZWQiPjwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiA+5q2k5bC656CB5Li65LiA6Iis5bC656CB77yM5LiN5ZCM5ZOB54mM5Y+v6IO95Lya5a2Y5Zyo55u45bqU5LiN5ZCMPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNpemVfZm9vdCI+XG4gICAgICAgIDxkaXYgY2xhc3M9InNpemVfY29uIj7lnKjnur/lsLrlr7jovazmjaLlt6Xlhbc8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0ic2l6ZV9vcCI+XG4gICAgICAgICAgPGlucHV0IGlkPSJmaXJzdF9zaXplIiB0eXBlPSJ0ZXh0Ij5cbiAgICAgICAgICA8aW5wdXQgY2xhc3M9InNpemVfeGlhbGEgZmlyc3RfeGlhbGEiIHZhbHVlPSLljpjnsbMiIHJlYWRvbmx5PlxuICAgICAgICAgIDxkaXYgY2xhc3M9InNpemVfeGlhbGFib3giIGRhdGEtc2l6ZT0iZmlyc3RfeGlhbGEiPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6Y57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5q+r57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+56CBPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5YiGPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6YPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb252ZXJzaW9uIj7ovazmjaLkuLo8L3NwYW4+XG4gICAgICAgICAgPGlucHV0IGlkPSJzZWNvbmRfc2l6ZSI+XG4gICAgICAgICAgPGlucHV0IGNsYXNzPSJzaXplX3hpYWxhIHNlY29uZF94aWFsYSIgdmFsdWU9IuiLseWvuCIgcmVhZG9ubHk+XG4gICAgICAgICAgPGRpdiBjbGFzcz0ic2l6ZV94aWFsYWJveCIgZGF0YS1zaXplPSJzZWNvbmRfeGlhbGEiPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6Y57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5q+r57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+56CBPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5YiGPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6YPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InRyYW5zcG9ydF9kZXRhaWwiIGNsYXNzPSJodF90cmFuc19kZXRhaWwgZ3dkX2hhaXRhbyIgc3R5bGU9InRvcDoge3twb3MucG9zeX19cHg7bGVmdDoge3twb3MucG9zeH19cHg7Ij5cbiAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNfaGVhZCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNfbmF2Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzAiPui9rOi/kOWVhuWutjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzEiPuWVhuWutuS7k+W6kzwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzIiPui9rOi/kOi0uTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzMiPui0reeJqeWFmueLrOWutuS8mOaDoDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0cmFuc193Ij5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSJ7e2h0X3dlaWdodH19IiBjbGFzcz0iaHRfd2VpZ2h0X251bSI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ3ZWlnaHRfdHlwZSI+S0c8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ0cmFuc19jb250ZW50Ij5cbiAgICAgICAgICA8dWwgaWQ9InRyYW5zX2xpc3QiPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ0cmFuc19mb290Ij5cbiAgICAgICAgICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0vYXBwL2hhaXRhb19pbnRyIiBjbGFzcz0idHJhbnNfaGVscCIgdGl0bGU9Iua1t+a3mOi9rOi/kOaUu+eVpSIgdGFyZ2V0PSJfYmxhbmsiPua1t+a3mOi9rOi/kOaUu+eVpTwvYT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0icmVkIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gPuWFt+S9k+i9rOi/kOS8mOaDoOaUv+etluWSjOi0ueeUqOS7peaCqOmAieaLqeeahOi9rOi/kOWFrOWPuOS4uuWHhjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjbG9zZWJhciBjbG9zZWJnIiB0aXRsZT0i5YWz6ZetIj48L3NwYW4+XG4gICAgICAgIFxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbigyOCksCgkJCQlhID0gdm9pZCAwLAoJCQkJbyA9IFtdLAoJCQkJciA9IHZvaWQgMCwKCQkJCXMgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGxvY2F0aW9uLmhyZWYsCgkJCQkJCXMgPSBlLm1hdGNoKC9bPyZdaWQ9KFswLTldKykvKSAmJiBlLm1hdGNoKC9bPyZdaWQ9KFswLTldKykvKVsxXTsKCQkJCQlpZiAocykgewoJCQkJCQl2YXIgbCA9IHQuZHAgJiYgdC5kcC5zaXRlIHx8IHQuc2l0ZTsKCQkJCQkJaWYgKGwuaW5kZXhPZigiOTUwOTUiKSA+IC0xKSByZXR1cm4gdm9pZChhID0gewoJCQkJCQkJbm9kYXRhOiAhMAoJCQkJCQl9KTsKCQkJCQkJImFpLXRhb2JhbyIgPT0gbCAmJiAobCA9ICJ0YW9iYW8iKTsKCQkJCQkJdmFyIGMgPSBuKDQ5KS5pbml0KCk7CgkJCQkJCWkudHJpZ2dlcih7CgkJCQkJCQl0eXBlOiAiZ2V0VGFvYmFvVHJlbmQiLAoJCQkJCQkJaW5mbzogYwoJCQkJCQl9KSwgaS5vbihmdW5jdGlvbihlKSB7CgkJCQkJCQlpZiAoImdldFRhb2Jhb1RyZW5kIiA9PSBlLnR5cGUgJiYgZS52YWx1ZSkgdHJ5IHsKCQkJCQkJCQlpZiAoYSA9IEpTT04ucGFyc2UoZS52YWx1ZSkucHJpY2VIaXN0b3J5RGF0YSwgYSB8fCAoYSA9IHsKCQkJCQkJCQkJbm9kYXRhOiAhMAoJCQkJCQkJCX0pLCBvLmxlbmd0aCA+IDApIHsKCQkJCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBvLmxlbmd0aDsgdCsrKSBvW3RdKGEpOwoJCQkJCQkJCQlyID0gITAKCQkJCQkJCQl9CgkJCQkJCQl9IGNhdGNoIChuKSB7fQoJCQkJCQl9KQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5faW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJdC5vbigicGFnZVR5cGU9MiIsIGZ1bmN0aW9uKCkgewoJCQkJCXMoKQoJCQkJfSkKCQkJfSwgZS5leHBvcnRzLmluaXQyID0gZnVuY3Rpb24oKSB7CgkJCQlzKCkKCQkJfSwgZS5leHBvcnRzLmdldFRyZW5kID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIGEgPyAoYS5ub2RhdGEgJiYgKGEgPSBudWxsKSwgdm9pZCBlKGEpKSA6IChvLnB1c2goZSksIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQlyIHx8IGUobnVsbCkKCQkJCX0sIDNlMykpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIG4gPSA4OCwKCQkJCWkgPSBbInQ9IiArIHQoInRpdGxlIikuaHRtbCgpLnN1YnN0cigwLCAyNTApLCAiaz1seHN4IiwgImQ9bHMiXSwKCQkJCWEgPSBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZiksCgkJCQlvID0gewoJCQkJCXplcm86IFsiMCIsICIwMCIsICIwMDAiLCAiMDAwMCIsICIwMDAwMCIsICIwMDAwMDAiLCAiMDAwMDAwMCIsICIwMDAwMDAwMCJdLAoJCQkJCXN0clJldmVyc2U6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQsIG4sIGkgPSBbXTsKCQkJCQkJZm9yICh0ID0gMCwgbiA9IGUubGVuZ3RoOyBuID4gdDsgdCsrKSBpW2kubGVuZ3RoXSA9IGUuY2hhckF0KHQpOwoJCQkJCQlyZXR1cm4gaS5yZXZlcnNlKCkuam9pbigiIikKCQkJCQl9LAoJCQkJCWlzU3RyaW5nOiBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiAiW29iamVjdCBTdHJpbmddIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpCgkJCQkJfSwKCQkJCQllbmNyeXB0OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpLCBhLCByID0gW107CgkJCQkJCWlmICghby5pc1N0cmluZyhlKSkgcmV0dXJuICIiOwoJCQkJCQlmb3IgKGkgPSAwLCBhID0gZS5sZW5ndGg7IGEgPiBpOyBpKyspIHJbci5sZW5ndGhdID0gby50byhlLmNoYXJDb2RlQXQoaSksIHQpOwoJCQkJCQlyZXR1cm4gbiA/IG8uc3RyUmV2ZXJzZShyLmpvaW4oIiIpKSA6IHIuam9pbigiIikKCQkJCQl9LAoJCQkJCXRvOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBpID0gIiIgKyAoZSArIG4pLnRvU3RyaW5nKDE2KSwKCQkJCQkJCWEgPSB0IC0gaS5sZW5ndGg7CgkJCQkJCXJldHVybiBhID4gMCA/IG8uemVyb1thIC0gMV0gKyBpIDogaQoJCQkJCX0sCgkJCQkJZGVjcnlwdDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQlpZiAoIW8uaXNTdHJpbmcoZSkpIHJldHVybiAiIjsKCQkJCQkJdmFyIGkgPSBbXTsKCQkJCQkJbiAmJiAoZSA9IG8uc3RyUmV2ZXJzZShlKSk7CgkJCQkJCWZvciAodmFyIGEgPSAwLCByID0gMDsgYSA8IGUubGVuZ3RoOyBhICs9IHQsIHIrKykgewoJCQkJCQkJdmFyIHMgPSBlLnN1YnN0cmluZyhhLCBhICsgdCk7CgkJCQkJCQlpW3JdID0gby50cmFuRm9ybWF0KHMsIHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBpKQoJCQkJCX0sCgkJCQkJdHJhbkZvcm1hdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gZS5sZW5ndGggIT09IHQgPyAwIDogcGFyc2VJbnQoZS5yZXBsYWNlKC9eMCsvZywgIiIpLCAxNikgLSBuCgkJCQkJfSwKCQkJCQlnZW5FeHRlbnNpb25JZDogZnVuY3Rpb24oKSB7CgkJCQkJCWlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmV4dGVuc2lvbmlkKSByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5leHRlbnNpb25pZDsKCQkJCQkJZm9yICh2YXIgZSA9ICIiLCB0ID0gMTsgMzIgPj0gdDsgKyt0KSBlICs9IE1hdGguZmxvb3IoMTYgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNiksICg4ID09IHQgfHwgMTIgPT0gdCB8fCAxNiA9PSB0IHx8IDIwID09IHQpICYmIChlICs9ICItIik7CgkJCQkJCXJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmV4dGVuc2lvbmlkID0gZSwgZQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9ICIiLAoJCQkJCXQgPSAiLy96aHUiLAoJCQkJCW4gPSAic2hvdS5odWloIiwKCQkJCQlyID0gInVpLmNuL3Byb2R1Y3QiLAoJCQkJCXMgPSAiU2Vuc2U/YnIiLAoJCQkJCWwgPSAib3dzZXI9Y2hyb21lJnZlciIsCgkJCQkJYyA9ICJzaW9uPTQuMi45LjYmdmVuZG9yPWNocm9tIjsKCQkJCWUgPSB0ICsgbiArIHIgKyBzICsgbCArIGM7CgkJCQl2YXIgZCA9IG8uZ2VuRXh0ZW5zaW9uSWQoKSwKCQkJCQlwID0gby5lbmNyeXB0KGkuam9pbigiXiYiKSwgNCwgITEpLAoJCQkJCWggPSBvLmVuY3J5cHQoYSwgMiwgITApLAoJCQkJCXUgPSAxOTAwIC0gaC5sZW5ndGg7CgkJCQlwID0gcC5sZW5ndGggPiB1ID8gcC5zdWJzdHIoMCwgdSkgOiBwOwoJCQkJdmFyIG0gPSBsb2NhdGlvbi5wcm90b2NvbCArIGUgKyAiZW5ldyZhdj0zLjAmZXh0ZW5zaW9uaWQ9IiArIGQgKyAiJmVtYWlsPSZwb3A9Jms9IiArIHAgKyAiJm5sPXRydWUmbT0iICsgaDsKCQkJCXJldHVybiBtCgkJCX0KCQl9KS5jYWxsKHQsIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbihlKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIHQgPSBbXTsKCQkJZS5wbHVnaW5zIHx8IChlLnBsdWdpbnMgPSBbXSksIGUucGx1Z2lucyA9IGUucGx1Z2lucy5jb25jYXQodCkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDUyKTsKCQkJaSh0KSwgZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IFtdOwoJCQkJdC5wbHVnaW5zICYmIChlID0gZS5jb25jYXQodC5wbHVnaW5zKSk7CgkJCQlmb3IgKHZhciBuID0gZS5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgewoJCQkJCXZhciBpID0gZVtuXTsKCQkJCQlpZiAoaSAmJiBpLl9pbml0KSB0cnkgewoJCQkJCQlpLl9pbml0KCkKCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQllLl9fZXZlbnRzID0ge30sIGUub24gPSBmdW5jdGlvbih0LCBuKSB7CgkJCQllLl9fZXZlbnRzW3RdID0gZS5fX2V2ZW50c1t0XSB8fCBbXSwgZS5fX2V2ZW50c1t0XS5wdXNoKG4pCgkJCX0sIGUub2ZmID0gZnVuY3Rpb24odCwgbikgewoJCQkJdmFyIGkgPSBlLl9fZXZlbnRzW3RdOwoJCQkJaWYgKGkgJiYgaS5sZW5ndGgpCgkJCQkJZm9yICh2YXIgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKQoJCQkJCQlpZiAoaVthXSA9PT0gbikgewoJCQkJCQkJaS5zcGxpY2UoYSwgMSk7CgkJCQkJCQlicmVhawoJCQkJCQl9CgkJCX0sIGUudHJpZ2dlciA9IGZ1bmN0aW9uKHQpIHsKCQkJCXZhciBuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKCQkJCW4uc2hpZnQoKTsKCQkJCXZhciBpID0gZS5fX2V2ZW50c1t0XTsKCQkJCWlmIChpICYmIGkubGVuZ3RoKQoJCQkJCWZvciAodmFyIGEgPSAwOyBhIDwgaS5sZW5ndGg7IGErKykgaVthXS5hcHBseSh0aGlzLCBuKQoJCQl9CgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBpID0gIj9jYWxsYmFjaz0/IjsKCQkJCSgic29nb3UiID09PSB0LmZyb21fZGV2aWNlIHx8ICJjaHJvbWUiID09PSB0LmZyb21fZGV2aWNlKSAmJiAoaSA9ICIiKSwgbi5nZXRKU09OKHQuc2VydmVyICsgIi9pcC5waHAiICsgaSkuZG9uZShmdW5jdGlvbihuKSB7CgkJCQkJbiAmJiBuLnJlc3VsdCBpbnN0YW5jZW9mIEFycmF5ICYmICh0LmZvcmJpZFdpc2hsaXQgPSAhMCwgdC5mb3JiaWRZRlEgPSAhMCksIG4gJiYgbi5yZXN1bHQgJiYgbi5yZXN1bHQuYWRkcmVzcyAmJiBuLnJlc3VsdC5hZGRyZXNzLmluZGV4T2YoIuWMl+S6rCIpID4gLTEgJiYgKHQuZm9yYmlkV2lzaGxpdCA9ICEwLCB0LmZvcmJpZFlGUSA9ICEwKSwgZSgpCgkJCQl9KS5mYWlsKGZ1bmN0aW9uKCkgewoJCQkJCWUoKQoJCQkJfSkKCQkJfSwgZS5leHBvcnRzLmNvbW1vbiA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBpID0gIj9jYWxsYmFjaz0/IjsKCQkJCSgic29nb3UiID09PSB0LmZyb21fZGV2aWNlIHx8ICJjaHJvbWUiID09PSB0LmZyb21fZGV2aWNlKSAmJiAoaSA9ICIiKSwgInhkamYiID09PSB0LmZyb21fZGV2aWNlICYmIChpID0gIj9jYWxsYmFjaz0/JmRpc3RyaWN0PTEiKSwgbi5nZXRKU09OKHQuc2VydmVyICsgIi9pcC5waHAiICsgaSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJZSh0ICYmIHQucmVzdWx0ICYmIHQucmVzdWx0LmFkZHJlc3MgPyB0IDogbnVsbCkKCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJZShudWxsKQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbih0LCBuLCBpKSB7CgkJKGZ1bmN0aW9uKG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IGkoNSksCgkJCQlvID0gbi5wYWdlSW5mby5zaXRlTmFtZSwKCQkJCXIgPSBpKDYpLAoJCQkJcyA9IGkoNTUpLAoJCQkJbCA9IDAsCgkJCQljID0gaSg0MCksCgkJCQlkID0gZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHsKCQkJCQkJbmFtZTogcigidGl0bGUiKS5odG1sKCksCgkJCQkJCXByaWNlOiAwLAoJCQkJCQlpc2JuOiAiIiwKCQkJCQkJdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZgoJCQkJCX0KCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oZSwgdCwgaSkgewoJCQkJCXZhciBvID0gZCgpOwoJCQkJCW4uc2l0ZSA9IGk7CgkJCQkJdHJ5IHsKCQkJCQkJdmFyIHMgPSByKGUpLmVxKHQpOwoJCQkJCQlpZiAoby5uYW1lID0gcy50ZXh0KCksIG4uaHJlZiA9IG4ubWFrZVVybChuLmhyZWYsIHMuYXR0cigiaHJlZiIpKSwgby51cmwgPSBuLmhyZWYsICJ1bmRlZmluZWQiID09IHR5cGVvZiBuLmhyZWYgfHwgIiIgPT0gbi5ocmVmKSBvLnVzZWxlc3MgPSAhMDsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgbCA9IGEuaXNQcm9kdWN0UGFnZSgpOwoJCQkJCQkJbCB8fCAoby51c2VsZXNzID0gITApCgkJCQkJCX0KCQkJCQl9IGNhdGNoIChjKSB7CgkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coYyksIG8udXNlbGVzcyA9ICEwCgkJCQkJfQoJCQkJCXJldHVybiBvCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUsIHQsIGksIGEpIHsKCQkJCQl2YXIgbyA9IGQoKTsKCQkJCQlpZiAobi5zaXRlID0gYSwgbi5jcmM2NCkgcmV0dXJuIG87CgkJCQkJdHJ5IHsKCQkJCQkJdmFyIHMgPSByKGUpLmVxKHQpOwoJCQkJCQluLmhyZWYgPSBzLmF0dHIoaSksIG8udXJsID0gcy5hdHRyKGkpLCBzLmF0dHIoaSkgJiYgKG8udXJsID0gcy5hdHRyKGkpKSwgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBuLmhyZWYgfHwgIiIgPT0gbi5ocmVmKSAmJiAobi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYpCgkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGwpCgkJCQkJfQoJCQkJCXJldHVybiBvCgkJCQl9LAoJCQkJdSA9IHsKCQkJCQl5b294OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiN5b294IikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNpdGVtLXByaWNlIC5mb250LWJvbGQiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZmVpbml1OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNtYWluX2luZm9fZ3VpZGFuY2VfdGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmluZm8tcHJpY2U+LkpTLWNvbnRyb2wtcHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc3Vhbmp1emk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtdGl0bGVzIGgyIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5hY3Rpb24tcHJvX3ByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWlranRhbzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjc2lkZWJhciAudGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2dvb2RzUHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWVpenU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3Byb3BlcnR5IC5wcm9wZXJ0eS1oZCBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjSl9wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlrYWx1bGk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByby1kZXRhaWwgPiBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIja2FsdWxpUHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJb3Bwb3Nob3A6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogIm9wcG8gICAiICsgcigiLnByb2R1Y3QtdGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmJ1eWluZy1wcmljZSAucHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeWFvMTIzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5pbm5lcj5oMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjb3ByIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJhb2JlaWdlemk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2l0ZW1JbmZvPi5uYW1lPmgxIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNiYl9wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0bzh0bzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjcF9uYW1lIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoInNwYW5bbmFtZT1nb29kc19yZWFsX3ByaWNlXSIpLmVxKDApLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzaGFuZ3BpbjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnNwRGV0YWlsX3ByaWNlX2JveCA+IGgyID4gYSIpLnRleHQoKTsKCQkJCQkJZSB8fCAoZSA9IHIoIi5zcERldGFpbF9wcmljZV9ib3ggPiBoMyA+IGEiKS50ZXh0KCkpOwoJCQkJCQl2YXIgdCA9IHsKCQkJCQkJCW5hbWU6IGUgKyAiICIgKyByKCIuY29tbW9kaXR5X3RpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5zcERldGFpbF9zcFByaWNlQmlnUmVkID4gaSIpLnRleHQoKSwKCQkJCQkJCWltZzogcigiI3NwRGV0YWlsX2JpZ0ltZyA+IGltZyIpLmF0dHIoInNyYyIpCgkJCQkJCX07CgkJCQkJCXJldHVybiB0LnByaWNlIHx8ICh0LnByaWNlID0gcigiLnNwRGV0YWlsX3NwUHJpY2VCaWcgPiBpIikudGV4dCgpKSwgdC5wcmljZSB8fCAodC5wcmljZSA9IHIoImVtLmZvbnRfMTgiKS50ZXh0KCkpLCB0CgkJCQkJfSwKCQkJCQl6aG9uZ2ppdTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLmluZm8gPiBoMSIpLnRleHQoKSwKCQkJCQkJCXQgPSByKCIucHJpID4gYiIpLnRleHQoKTsKCQkJCQkJZSB8fCAoZSA9IHIoIi5jX3RfbGlzdCA+IGxpID4gc3BhbiIpLnRleHQoKSwgdCA9IHIoIi5idXlfcHJpIikudGV4dCgpKTsKCQkJCQkJdmFyIG4gPSB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfTsKCQkJCQkJcmV0dXJuIG4KCQkJCQl9LAoJCQkJCWxlbWFsbDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnByb19uYW1lIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNhbGxfcHJpY2UiKS50ZXh0KCk7CgkJCQkJCXJldHVybiAiIiA9PSB0ICYmICh0ID0gcigiLnNlY3Rpb25fdGV4dCAucmVkIC5mb250NDgiKS5lcSgwKS50ZXh0KCkpLCAiIiA9PSBlICYmIChlID0gcigiLnByb2R1Y3RfaW5mb19hdHRyaWJ1dGUgLnRpdGxlIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogIuS5kOinhiIgKyBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJanVhbnBpOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZWFsLXdyYXAgaDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlIC5jdXJyZW50IikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWhpc2Vuc2U6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmRldGFpbF9pbmZvIGgzIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNzYWxlUHJpY2VJZCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlwdXJjb3R0b246IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzLXRpdGUgaDUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlIikuZXEoMCkudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXdzdHg6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLml0ZW1JbmZvIC50aXRsZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuaXRlbUluZm8gLnByaWNlIGIiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcm95eW91bmdjaGVtaXN0OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LW5hbWUiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWVkaWhlYWxzaG9wOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LW5hbWUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnJtYi1wcmljZSIpLmVxKDApLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMS0xNjMiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5tLWRldGFpbC1tYWluLXRpdGxlIGgxIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSIxMDAxcGhhcm1hY2llcyI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtbmFtZSBoMSIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucm1iLXByaWNlIikuZXEoMCkudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJsb29rZmFudGFzdGljLWNuIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvZHVjdC10aXRsZSIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucHJvZHVjdC1wcmljZSAucHJpY2UiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ3VvamltYW1pOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNFQ1NfRk9STUJVWSAubmFtZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjRUNTX1NIT1BQUklDRSIpLnRleHQoKSwKCQkJCQkJCWltZzogcigiI2RlbW8gbGkgaW1nIikuZXEoMCkuYXR0cigic3JjIikKCQkJCQkJfQoJCQkJCX0sCgkJCQkJamlueGlhbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLm5hbWUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmp4UHJpY2UiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeW91MTYzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5pbmZvIC5uYW1lIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5qLXJldGFpbC1wcmljZSIpLmVxKDApLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlibDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ29vZHMtbmFtZSIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjRmxhc2hQcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQliZXN0aW5mb29kczogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ29vZHNuYW1lIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcmljZTEiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYXhtYWxsOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5nb29kcy1pbnRybyAubmFtZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjc2t1X3ZpcF9wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQliZnR2OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi50aXRsZSBoMiIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJd2FuZ2ppdTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucGFydF9saW5lMDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnBhcnRfbGluZTA0IC5zcGFyZTAyIHNwYW4iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJMTg5OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIjYXJ0aWNsZXNob3J0dGl0bGUiKS50ZXh0KCksCgkJCQkJCQl0ID0gcigiI21hbGxfcHJpY2UiKS50ZXh0KCksCgkJCQkJCQluID0gIiI7CgkJCQkJCXJldHVybiAiIiA9PSBlICYmIChlID0gcigiLnBoLXRpdGxlIGgxIikuZXEoMCkudGV4dCgpLnJlcGxhY2UoIuS7hemZkOaxn+ilv+ecgeeUqOaItyIsICIiKSksIGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJpcGhvbmUiKSA+IC0xICYmIChuID0gIuiLueaenCIpLCAiIiA9PSB0ICYmICh0ID0gcigiI2Fzc3ByaWNlIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogbiArIGUsCgkJCQkJCQlwcmljZTogdCwKCQkJCQkJCWJyYW5kX3N0cmluZzogbgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0YXF1OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWxzLW5hbWUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2RldGFpbHMtcHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYmVzdGNha2U6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmluZm8tcmlnaHQtbGkgcCIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuaW5mby1yaWdodC1saSAuczQiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ29tZWhpZ286IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2dtLXByZC1tYWluIGxpLnByZHRpdCIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjcHJkUHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbG92bzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjZ29vZHNOYW1lU3Ryb25nIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNhY3RNc2dTIGJpZyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl6aGU4MDA6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2RldGFpbCAuZGV0YWlsbWV0YSAuY2xlYXIgaDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlIC5qc19wcmljZV9zdCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlodWE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtciAudGl0bGUgaDMucHJvZHVjdC10aXRsZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjZmpyIC5wcmljZS1zZWxsIC5wcmljZS1udW0iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWVpOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5Qcm9kdWN0X3RpdGxlIikudGV4dCgpICsgIiAiICsgcigiLnByb2R1Y3RfbmFtZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjcHJvZHVjdFJNQiIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQliZW5sYWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiNpbnRyb19wcmljZSAucHJpY2UiKVswXS5maXJzdENoaWxkLm5vZGVWYWx1ZTsKCQkJCQkJcmV0dXJuICIiICE9IGUgJiYgZSB8fCAoZSA9IHIoIiNpbnRyb19wcmljZSAucHJpY2UiKS50ZXh0KCkpLCB7CgkJCQkJCQlwcmljZTogZSwKCQkJCQkJCW5hbWU6IHIoIiNQcm9kdWN0X1Byb2R1Y3REZXRhaWxzTmFtZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl2c2lnbzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuZGV0YWlsLXByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWZlbmdxdTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuZ29vZHMtcHJpY2UgLmdvb2RzLXByaWNlLXIxIHN0cm9uZyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl2bWVpOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIjY3VyclByaWNlIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gZS5pbmRleE9mKCItIikgPiAtMSAmJiAoZSA9IGUuc3BsaXQoIi0iKVswXSksIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0X2RldGFpbF90aXRsZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWVhc2VleWVzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5tYWluIGRpdi5nb29kc19uYW1lX3RyIHNwYW4iKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLm1haW4gcC5jb2xvcjkgc3Bhbi5mczIwLmZvbnRBcmlhbCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzdGFwbGVzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0SW5mbyBoMyBzcGFuIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5ub3dQcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQllZm90aWxlOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5pdGVtLXRpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5pdGVtLWFjdFByaWNlIGIiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJamdiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5oX2Rlc190aXRsZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuaF9kZXNfcHJpY2UgLkpfcm1iX3ByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSI1MWRpbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RfdGl0bGUgPiBkaXYiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlX3JtYiIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlhaWRhaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvLWRldCBoMyIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjX3RoaXNmcCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlib3FpaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuc2hvcF9uYW1lIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNicVByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXNwaWRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ2ROYW1lIGgxIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNtMTJwcmljZVNwYW4iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInRhb2Jhby14aWFueXUiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImgxLnRpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcmljZS1ibG9jayAucHJpY2UgZW0iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJImFpLXRhb2JhbyI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHZvaWQgMDsKCQkJCQkJaWYgKCFuLmNocm9tZV9leHRlbnNpb24pIHJldHVybiBlID0gd2luZG93LnBhZ2Vjb25maWcucHJvbW9QcmljZSwgZSB8fCAoZSA9IHdpbmRvdy5FTlZfREFUQSAmJiB3aW5kb3cuRU5WX0RBVEEuY29tcExpc3QgJiYgd2luZG93LkVOVl9EQVRBLmNvbXBMaXN0Lml0ZW1fZGV0YWlsICYmIHdpbmRvdy5FTlZfREFUQS5jb21wTGlzdC5pdGVtX2RldGFpbC5kYXRhICYmIHdpbmRvdy5FTlZfREFUQS5jb21wTGlzdC5pdGVtX2RldGFpbC5kYXRhLmRhdGExWzBdLnByaWNlKSwgewoJCQkJCQkJbmFtZTogcigiaDMuaXRlbS10aXRsZSBhIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IGUsCgkJCQkJCQl1cmw6IHdpbmRvdy5wYWdlY29uZmlnLml0ZW1JZCA/ICJodHRwOi8vaXRlbS50YW9iYW8uY29tL2l0ZW0uaHRtP2lkPSIgKyB3aW5kb3cucGFnZWNvbmZpZy5pdGVtSWQgOiBudWxsCgkJCQkJCX07CgkJCQkJCXZhciB0ID0gcigiLmFpdGFvYmFvLWVkZXRhaWwtaGVhZGVyIHNjcmlwdCIpLnRleHQoKSwKCQkJCQkJCWkgPSAvaXRlbUlkIjoiKFxkKykiLy5leGVjKHQpOwoJCQkJCQlyZXR1cm4gaSAmJiAoaSA9IGlbMV0pLCBlID0gL3Byb21vUHJpY2UiOiIoW1xkXC5dKykiLy5leGVjKHQpLCBlICYmIChlID0gZVsxXSksIHsKCQkJCQkJCW5hbWU6IHIoImgzLml0ZW0tdGl0bGUgYSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiBlLAoJCQkJCQkJdXJsOiBpID8gImh0dHA6Ly9pdGVtLnRhb2Jhby5jb20vaXRlbS5odG0/aWQ9IiArIGkgOiBudWxsCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW02Z286IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzTmFtZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjU0dvb2RzUHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW1xzXSsvZywgIiIpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxvZ2l0ZWNoOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImgxLnByb2R1Y3QtdGl0bGUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJa2p0OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kZXRhaWx0aXRsZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCJsaS5wcmljZWluZm9wIHNwYW46Zmlyc3QiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJdGVzdDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQl1cmw6IHIoIiN1cmwiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcGhpbGlwczogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMS5za3UtbmFtZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0Y2w6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBfbmFtZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQljaGFuZ2hvbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBjX25hbWUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJa29ua2E6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdfdGl0bGUgaDEiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaW5laWdvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImg1LlByb05hbWUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc2tnOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LXRpdGxlcyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiay10b3VjaCI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb190aXRsZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnaW9uZWU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2dvb2ROYW1lIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSI1MWJ1eSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUucHJpY2UgPSByKCcubW9kX3ByaWNlW2l0ZW1wcm9wPSJsb3dQcmljZSJdJykudGV4dCgpLnJlcGxhY2UoL1vvv6XCpVxzXSsvZywgIiIpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gd2luZG93Lml0ZW1JbmZvICYmIHdpbmRvdy5pdGVtSW5mby5wcmljZSAvIDEwMCksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIueGJhc2VfaXRlbSAgLm1vZF9wcmljZSAiKS50ZXh0KCkpLCBlLm5hbWUgPSB3aW5kb3cuaXRlbUluZm8gJiYgd2luZG93Lml0ZW1JbmZvLm5hbWUsIGUuYnJhbmRfc3RyaW5nID0gd2luZG93Lml0ZW1JbmZvICYmIHdpbmRvdy5pdGVtSW5mby5icmFuZF9uYW1lLCBlCgkJCQkJfSwKCQkJCQl2aXZvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LXRpdGxlcyBoMyIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIubm93LXByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJ0YW9iYW8tOTUwOTUiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLnByaWNlID0gcigiI0pfUHJvbW9QcmljZSAudG0tcHJpY2UiKS50ZXh0KCksIGUubmFtZSA9IHIoIiNKX0RldGFpbE1ldGEgLnRiLWRldGFpbC1oZCBoMSIpLnRleHQoKSwgZS5wcmljZSB8fCAoZS5wcmljZSA9IHIoIiNKX1N0clByaWNlTW9kQm94IC50bS1wcmljZSIpLnRleHQoKSksIGUKCQkJCQl9LAoJCQkJCXdhbG1hcnQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5qcy1wcm9kdWN0LWhlYWRpbmcgc3BhbiIpLnRleHQoKSwgZS5wcmljZSA9IHIoIi5qcy1wcmljZS1kaXNwbGF5IikudGV4dCgpLCBlLmltZyA9IHIoIi5qcy1wcm9kdWN0LW1lZGlhIC5zbGljay10cmFjayBsaSBhIGltZyIpLmVxKDApICYmIHIoIi5qcy1wcm9kdWN0LW1lZGlhIC5zbGljay10cmFjayBsaSBhIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCBlCgkJCQkJfSwKCQkJCQloYWl0dW5jdW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5wcm9kdWN0LW5hbWUgaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIucm1iLXByaWNlIikudGV4dCgpLCBlLmltZyA9IHIoIi5wcm9kdWN0LWltZy1ib3ggbGkgaW1nIikuZXEoMCkgJiYgcigiLnByb2R1Y3QtaW1nLWJveCBsaSBpbWciKS5lcSgwKS5hdHRyKCJzcmMiKSwgZQoJCQkJCX0sCgkJCQkJZWJheTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjaXRlbVRpdGxlIikudGV4dCgpLnJlcGxhY2UoL15EZXRhaWxzIGFib3V0L2dpLCAiIiksCgkJCQkJCQlwcmljZTogcigiI3ByY0lzdW0iKS5hdHRyKCJjb250ZW50IiksCgkJCQkJCQlpbWc6IHIoIiN2aV9tYWluX2ltZ19mcyB1bCBsaSBpbWciKS5lcSgwKS5hdHRyKCJzcmMiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl3eTE2MzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuUEluZm8gZHQiKS5lcSgwKS50ZXh0KCkgfHwgcigiLm12X25hbWUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZGlhbnBpbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmRlYWwtdGl0bGUgaDEsaDEudGl0bGUiKS50ZXh0KCkucmVwbGFjZSgvXFsuKlxdL2dpLCAiIikKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbnVvbWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIi5kZXRhaWxzIHAuZHAiKSAmJiByKCIuZGV0YWlscyBwLmRwIikudGV4dCgpIHx8ICIiLAoJCQkJCQkJdCA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJdCA9IHIoIi5kZXRhaWxzIGgxIikudGV4dCgpLnJlcGxhY2UoL15cdTMwMTAuK1x1MzAxMS9pLCAiIikKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKSwgdCA9ICIiCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHQgKz0gZSwgewoJCQkJCQkJbmFtZTogdAoJCQkJCQl9CgkJCQkJfSwKCQkJCQltZWl0dWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZWFsLWNvbXBvbmVudC10aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW1laWxpc2h1bzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLmdvb2RzLXRpdGxlIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNKX05vd1ByaWNlIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gIiIgPT0gZSAmJiAoZSA9IHIoImgzLnNfdGxlIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCXByaWNlOiB0CgkJCQkJCX0KCQkJCQl9LAoJCQkJCXNmaHQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIiN0aXRsZUluZm8gaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIjaXRlbVByaWNlIC5nb29kcy1wcmljZS1yMSBzdHJvbmciKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCW1laWNpOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIiNzdWJwcm8gLnJlbGF0aXZlIHNwYW4iKS50ZXh0KCk7CgkJCQkJCXZhciB0ID0gcigiLnByb19wcmljZSAucHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJcmV0dXJuIHQgJiYgKGUucHJpY2UgPSB0WzBdKSwgZQoJCQkJCX0sCgkJCQkJamlhbmtlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIi5kZXRfdGl0bGUgaDEiKS50ZXh0KCk7CgkJCQkJCXZhciB0ID0gcigiLlByaWNlX2luZm8gLmJpZ1ByaWNlIGRkIGVtIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLyk7CgkJCQkJCXJldHVybiB0ICYmIChlLnByaWNlID0gdFswXSksIGUKCQkJCQl9LAoJCQkJCSJnb21lLWhvbWUiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIi5wcmRtYWluIC5wcmR0aXQiKS50ZXh0KCk7CgkJCQkJCXZhciB0ID0gcigiI3ByZFByaWNlIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKS5tYXRjaCgvWzAtOS5dKy8pOwoJCQkJCQlyZXR1cm4gdCAmJiAoZS5wcmljZSA9IHRbMF0pLCBlCgkJCQkJfSwKCQkJCQluaWtlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHJvZHVjdC10aXRsZS10ZXh0IikudGV4dCgpLCBlLnByaWNlID0gcigiLnByb2R1Y3QtcHJpY2UiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCSIzNjBrYWQiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIi5ZSXJkX2wgbGkiKS5lcSgwKS50ZXh0KCkucmVwbGFjZSgi5ZWG5ZOB5ZCN56ew77yaIiwgIiIpLCBlLnByaWNlID0gcigiI3ByaWNlbnVtYmVyIikudGV4dCgpOwoJCQkJCQlmb3IgKHZhciB0ID0gZS51cmwuc3BsaXQoIi8iKSwgbiA9IHRbMF0gKyAiLy8iLCBpID0gdFt0Lmxlbmd0aCAtIDFdLnNwbGl0KCIuIiksIGEgPSAyOyBhIDwgdC5sZW5ndGggLSAxOyBhKyspIG4gPSBuICsgdFthXSArICIvIjsKCQkJCQkJdmFyIG8gPSByKCJkaXYuWWRydWdfaW5mbyBkbDpmaXJzdCBkZCIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIG8gPyBlLnVybCA9IG4gKyByKCJkaXYuWWRydWdfaW5mbyBkbDpmaXJzdCBkZCIpLnRleHQoKSArICIuIiArIGlbMV0gOiBlLnVybCA9IGxvY2F0aW9uLmhyZWYsIGUKCQkJCQl9LAoJCQkJCWxieGNuOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuZGV0YWlsUGFzIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwgZS5wcmljZSA9IHIoIiNsYmxQcmljZSIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJbW9ndWppZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gIiIsIGUubmFtZSA9IHIoIi5nb29kcy10aXRsZSIpLnRleHQoKSwgIiIgPT0gZS5uYW1lICYmIChlLm5hbWUgPSByKCJkaXYuc2hvcHRpdGxlIikudGV4dCgpKSwgIiIgPT0gZS5uYW1lICYmIChlLm5hbWUgPSByKCIuZ29vZHN0aXRsZSIpLnRleHQoKSksIGUKCQkJCQl9LAoJCQkJCWNvb2xwYWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RfbmFtZSBoMSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl6dGVkZXZpY2U6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnpucHJvZHVjdHMgaDMiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbGVub3ZvOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLnByaWNlID0gcigiI2dwcmljZSIpLnRleHQoKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHdpbmRvdy5wcmljZSksIGUubmFtZSA9IHIoIi5nb29kc25hbWUiKS50ZXh0KCksICIiID09IGUubmFtZSAmJiAoZS5uYW1lID0gcigiLmRlX3Byb25hbWUiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQlzaG93am95OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuY2hvb3NlLWhkIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwgZS5wcmljZSA9IHIoIiNKX01haW5QcmljZSAuc2otcHJpY2UtdGV4dCIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJb2NqOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHZfc2hvcF9kZXRhaWxfdGl0bGUgaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIuaW5mb19ib3ggLnZhbCAucHJpY2UiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCSJvY2otdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gcigiLnByb2R1Y3QtaW5mbyA+IGgxIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKTsKCQkJCQkJdmFyIHQgPSByKCIucHJvZHVjdF9wcmljZV9jb250IC5wMSIpLmh0bWwoKS5tYXRjaCgvXC9zcGFuXD4oWzAtOS5dKylcPC8pOwoJCQkJCQlyZXR1cm4gdCAmJiAoZS5wcmljZSA9IHRbMV0pLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiLnByb2R1Y3RfcHJpY2VfY29udCAucDEiKS50ZXh0KCkpLCAiIiA9PSBlLm5hbWUgJiYgKGUubmFtZSA9IHIoIi5wcm9kdWN0LWluZm8gIGgxIC50aXRsZSIpLnRleHQoKSksIGUKCQkJCQl9LAoJCQkJCSJvY2ota3IiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCcucHYxX2xpX3RhYmxlX3dyYXAgdGg6Y29udGFpbnMoIuWTgeWQjSIpK3RkJykudGV4dCgpLCBlLnByaWNlID0gcigiLnByaWNla29yZWEiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCWdqdzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuc2lsZGVyX2NvbHVtbl9uYW1lIHNwYW4iKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlhcHBsZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIHQgPSB3aW5kb3cucHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuZGF0YS5wcm9kdWN0c1swXS5wYXJ0TnVtYmVyOwoJCQkJCQkJZS51cmwgPSAiaHR0cDovL3N0b3JlLmFwcGxlLmNvbS9jbi9wcm9kdWN0LyIgKyB0CgkJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coaSkKCQkJCQkJfQoJCQkJCQl2YXIgYSA9IHIoIiNwcmltYXJ5IC5hcy1wcmljZS1jdXJyZW50cHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTksXSsvKTsKCQkJCQkJcmV0dXJuIGEgJiYgKGUucHJpY2UgPSBhWzBdKSwgZQoJCQkJCX0sCgkJCQkJanVtZWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IGQoKTsKCQkJCQkJaWYgKHQubmFtZSA9IHIoImgxLnBvcF9kZXRhaWxfdGl0IikudGV4dCgpLCAiIiA9PSB0Lm5hbWUpIHsKCQkJCQkJCXQubmFtZSA9IHIoInRpdGxlIikuaHRtbCgpOwoJCQkJCQkJdmFyIGkgPSByKCJ0aXRsZSIpLmh0bWwoKS5zcGxpdCgiLSIpOwoJCQkJCQkJaS5wb3AoKSwgaS5wb3AoKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJdC5uYW1lID0gaS5qb2luKCItIikKCQkJCQkJCX0gY2F0Y2ggKGEpIHsKCQkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGUpCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJcmV0dXJuIHQucHJpY2UgPSByKCIjbWFsbF9wcmljZV9kZXRhaWwgLnByaWNlX251bSIpLnRleHQoKSwgIiIgPT0gdC5wcmljZSAmJiAodC5wcmljZSA9IHIoIiNzdHJlYW1faWQiKS5hdHRyKCJwcmljZSIpKSwgdAoJCQkJCX0sCgkJCQkJanVtZWlnbG9iYWw6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUucHJpY2UgPSByKCIuanVtZWlfcHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXSwgZS5uYW1lID0gcignLmRlYWxfY29uX2NvbnRlbnQgdGQ6Y29udGFpbnMoIuWVhuWTgeWQjeensCIpJykucGFyZW50KCkuZmluZCgidGQiKS5lcSgxKS50ZXh0KCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiI3N0cmVhbV9pZCIpLmF0dHIoInByaWNlIikpLCBlCgkJCQkJfSwKCQkJCQl5dW5ob3U6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5nb29kcy1uYW1lIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiI2pQcmljZU5vcm1hbCIpLnRleHQoKSwgZS5pbWcgPSByKCIucGljLXBhZ2VyIC5waWMtbGlzdCBhIGltZyIpLmVxKDApICYmIHIoIi5waWMtcGFnZXIgLnBpYy1saXN0IGEgaW1nIikuZXEoMCkuYXR0cigic3JjIiksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIuakZpcnN0UHJpY2UiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQlib29oZWU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi53aWRnZXQtZ29vZHMtcHJpbWFyeSAucm93LWRlcyBoMSIpLnRleHQoKSwgZS5wcmljZSA9IHIoIi5jb2wtcHJpY2UgYiIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdLCBlCgkJCQkJfSwKCQkJCQltb29uYmFzYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigiLnBfaW5mbyBoMiIpLmh0bWwoKS5yZXBsYWNlKC88W14+XSpbXHNcU10qW148XSo+L2dpLCAiIiksIGUgPSByLnRyaW0oZSkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWhvbWV2djogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5uYW1lID0gcignLnNob3BfbmFtZSBwW2NsYXNzPSJoZHJfMSJdJykudGV4dCgpLCBlLm5hbWUgPSBlLm5hbWUucmVwbGFjZSgvPGRpdltePl0qW1xzXFNdKltePF0qXC9kaXY+L2dpLCAiIiksIGUubmFtZSA9IGUubmFtZS5yZXBsYWNlKC88c3BhbltePl0qW1xzXFNdKltePF0qXC9zcGFuPi9naSwgIiIpLCBlLm5hbWUgPSBlLm5hbWUucmVwbGFjZSgvJm5ic3A7L2dpLCAiIiksIGUubmFtZSA9IHIudHJpbShlLm5hbWUpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJInBhaXhpZS1mYXhpYW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIuZmluZC1pbmZvLXByb2R1Y3QgYSBwIikuZXEoMCkudGV4dCgpLCBlLnByaWNlID0gcigiLmZpbmQtaW5mby1wcm9kdWN0IGEgc3BhbiIpLmVxKDApLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJeGlhb21pOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWlmIChlLnByaWNlID0gcigiI0pfZ29vZHNJbmZvQmxvY2sgLkpfbWlfZ29vZHNQcmljZSIpLnRleHQoKSwgIiIgPT0gZS5wcmljZSkgewoJCQkJCQkJdmFyIHQgPSByKCIuSl9wcm9QcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pOwoJCQkJCQkJdCAmJiAoZS5wcmljZSA9IHRbMF0pCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCWlodXNoOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImgxLnRpdGxlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCTE2ODg6IGZ1bmN0aW9uKCkgewoJCQkJCQluLnNpdGUgPSAidGFvYmFvIjsKCQkJCQkJdmFyIGUgPSBuZXcgQXJyYXk7CgkJCQkJCXRyeSB7CgkJCQkJCQl2YXIgdCA9IHIoJy5kZS1mZWF0dXJlOmNvbnRhaW5zKCLlk4HniYwiKScpLnRleHQoKTsKCQkJCQkJCXQgJiYgZS5wdXNoKHQpCgkJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coaSkKCQkJCQkJfQoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGEgPSByKCcuZGUtZmVhdHVyZTpjb250YWlucygi57O75YiXIiknKS5sZW5ndGggPiAwID8gcignLmRlLWZlYXR1cmU6Y29udGFpbnMoIuezu+WIlyIpJykudGV4dCgpIDogbnVsbDsKCQkJCQkJCWEgPSBhID8gYSA6IHIoJy5kZS1mZWF0dXJlOmNvbnRhaW5zKCLotKflj7ciKScpLmxlbmd0aCA+IDAgPyByKCcuZGUtZmVhdHVyZTpjb250YWlucygi6LSn5Y+3IiknKS50ZXh0KCkgOiBudWxsLCBhID0gYSA/IGEgOiByKCcuZGUtZmVhdHVyZTpjb250YWlucygi5Z6L5Y+3IiknKS5sZW5ndGggPiAwID8gcignLmRlLWZlYXR1cmU6Y29udGFpbnMoIuWei+WPtyIpJykudGV4dCgpIDogbnVsbCwgYSAmJiBlLnB1c2goYSkKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKQoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQl2YXIgbyA9IHIoJy5kZS1mZWF0dXJlOmNvbnRhaW5zKCLkuablj7ciKScpLmxlbmd0aCA+IDAgPyByKCcuZGUtZmVhdHVyZTpjb250YWlucygi5Lmm5Y+3IiknKS50ZXh0KCkgOiBudWxsOwoJCQkJCQkJbyA9IG8gPyBvLnN1YnN0cihvLmluZGV4T2YoIu+8miIpICsgMSkgOiBudWxsLCBvICYmIGUucHVzaCgiSVNCTu+8miIgKyBvKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUgPSBlLmpvaW4oInwiKSwgewoJCQkJCQkJbmFtZTogcigiI21vZC1kZXRhaWwtaGQgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCXNrZXl3b3JkOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJ3b21haS1yZWxhdGVkIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvX3RpdF90b3BfZm9yY29tYmkiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2NvbWJpUHJvZHVjdE1hcmtldFByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSIxMzlzaG9wLWFydGljbGUiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHAoIi5yZ2luZm8gZHQgYSIsIDAsICIxMzlzaG9wIikKCQkJCQl9LAoJCQkJCSJ6b2wtYXJ0aWNsZSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gcCgiLm5hdi1oZWFkZXI+YSAiLCAxLCAiem9sIikKCQkJCQl9LAoJCQkJCSJwY29ubGluZS1hcnRpY2xlIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBwKCIubmF2UHJvV3JhcCBoMyBhIiwgMCwgInBjb25saW5lIikKCQkJCQl9LAoJCQkJCSJ5ZXNreS1hcnRpY2xlIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBwKCIuYXJ0aXRsZSBoMyBhIiwgMCwgInllc2t5IikKCQkJCQl9LAoJCQkJCSJpdDE2OC1hcnRpY2xlIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBwKCIuYmo5ODAgLmJqMSBkaXY+YSIsIDAsICJpdDE2OCIpCgkJCQkJfSwKCQkJCQkicGNwb3AtYXJ0aWNsZSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gcCgiLmJqOTgwIC5iajEgYSIsIDAsICJwY3BvcCIpCgkJCQkJfSwKCQkJCQkicGNob21lLWFydGljbGUiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHAoIi5uYXZQcm9XcmFwIGgzIGEiLCAwLCAicGNob21lIikKCQkJCQl9LAoJCQkJCW5ld2VnZzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiI3Byb0N0bmVyIC5wcm9IZWFkZXIgaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIjb21IaWRkZW5QcmljZSIpLnZhbCgpLCBlLnVybCA9IHIoIi5wcm9IZWFkZXIgaDEgYSIpLmF0dHIoImhyZWYiKSwgZS5icmFuZF9zdHJpbmcgPSByKCcuZ29vZHNfaW5mbyAuZ29vZHNfaW5mb19uYW1lOmNvbnRhaW5zKCLniYwiKSsuZ29kZHNfaW5mb19kYXRhJykudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwgZQoJCQkJCX0sCgkJCQkJIm5ld2VnZy16aGFkYW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHJvSGVhZGVyIGgxIGEiKS50ZXh0KCksIGUudXJsID0gcigiLnByb0hlYWRlciBoMSBhIikuYXR0cigiaHJlZiIpLCBlCgkJCQkJfSwKCQkJCQl5aXd1Z291OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCJsaS5mb250Ym9sZC50aXQiKS50ZXh0KCksIGUucHJpY2UgPSBwYXJzZUZsb2F0KHIoIiNwdW5pdHByaWNlIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSksIGUKCQkJCQl9LAoJCQkJCXpoaXdvOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIubWFsbF9kZXRhaWxfcHJkX2luZm8gLnRpdGxlIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkiemhpd28tdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5jYXJvdXNlbCBsaSBwIikuZXEoMCkudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQl6b2w6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSBbXSwKCQkJCQkJCW4gPSByKCIucHJvZHVjdC1tZXJjaGFudC1wcmljZSBlbSIpLnRleHQoKTsKCQkJCQkJaWYgKCIiICE9IG4gJiYgbi5tYXRjaCgvWzAtOV0rLykgJiYgbi5pbmRleE9mKCLoh7MiKSA+IC0xICYmICh0ID0gbi5yZXBsYWNlKC9bIF0vZywgIiIpLnNwbGl0KCLoh7MiKSksIGUubmFtZSA9IHIoIi5wcm9kdWN0LW5hbWUgaDMiKS50ZXh0KCksICIiID09IGUubmFtZSAmJiAoZS5uYW1lID0gcigiLnB0aXRsZSIpLnRleHQoKSksICIiID09IGUubmFtZSAmJiAoZS5uYW1lID0gcigiLnBhZ2UtdGl0bGUuY2xlYXJmaXggaDEiKS50ZXh0KCkpLCB0Lmxlbmd0aCA+IDAgJiYgKGUubWluX3ByaWNlID0gdFswXS5zdWJzdHIoMSksIGUubWF4X3ByaWNlID0gdFsxXS5zdWJzdHIoMSkpLCBlLnByaWNlID0gcigiLnByaWNlLXR5cGUiKS50ZXh0KCksIGUucHJpY2UuaW5kZXhPZigi5LiHIikgPiAtMSkgewoJCQkJCQkJdmFyIGkgPSBlLnByaWNlLm1hdGNoKC9bMC05Ll0rLyk7CgkJCQkJCQlpICYmIChlLnByaWNlID0gMWU0ICogaVswXSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZS5jYXRfbmFtZSA9IHIoIi5icmVhZGNydW1iIGEiKS5lcSgxKS50ZXh0KCksIGUuYnJhbmRfc3RyaW5nID0gcigiLmJyZWFkY3J1bWIgYSIpLmVxKDIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJdm1hbGw6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIiNwcm8tbmFtZSIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJZGFsaW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuZ29vZHMtZGF0YSBoMS5jbGVhcmZpeCIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIuZ29vZHMtcHJpY2UgLmNsZWFyZml4IC5mbCAuYm9sZCIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJZmNsdWI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoIi5nb29kc19pbnRyb2R1Y2UiKS50ZXh0KCksIGUubmFtZSA9IGUubmFtZS5yZXBsYWNlKC8oPzpcdHxcbikvZ2ksICIiKSwgZS5uYW1lID0gZS5uYW1lLnJlcGxhY2UoLyg/OlwgXCB8Jm5ic3A7KS9naSwgIiAiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGUubmFtZSkgdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoJy50ZGxlZnQ6Y29udGFpbnMoIuWVhuWTgeWQjeensCIpKy50ZHJpZ2h0JykudGV4dCgpLnJlcGxhY2UoLyhccykvZywgIiIpLCBlLnByaWNlID0gcigiI3ByaWNlRm9udCIpLnRleHQoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCXRhb3NodTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5pc2JuID0gcignLmJvb2tfZGV0YWlsZWQgc3Bhbjpjb250YWlucygiSVNCTiIpJykubGVuZ3RoID4gMCA/IHIoJy5ib29rX2RldGFpbGVkIHNwYW46Y29udGFpbnMoIklTQk4iKScpLnRleHQoKS5zdWJzdHIoNSkgOiAiIgoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpLCBlLmlzYm4gPSAiIgoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlhbWF6b246IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSAiIiwKCQkJCQkJCW4gPSByKCdsaTpjb250YWlucygiSVNCTiIpJykudGV4dCgpLAoJCQkJCQkJaSA9IHIoJ2xpOmNvbnRhaW5zKCLmnaHlvaLnoIEiKScpLnRleHQoKSwKCQkJCQkJCWEgPSByKCdsaSBiOmNvbnRhaW5zKCJBU0lOIiknKS5wYXJlbnQoImxpIikudGV4dCgpOwoJCQkJCQluID0gbiA/IG4uc3Vic3RyKDUpIDogIiIsIGkgPSBpID8gaS5zdWJzdHIoNCkgOiAiIiwgYSA9IGEgPyBhLnN1YnN0cig1KSA6ICIiLCB0ID0gIiIgPT0gbiA/IGkgOiAiIiA9PSBpID8gbiA6IG4ubGVuZ3RoID4gaS5sZW5ndGggPyBpIDogbiwgdCA9IHQgfHwgYSwgdCA9IHQucmVwbGFjZSgvKFxzKS9nLCAiIiksIGUubmFtZSA9IHIoIiNidEFzaW5UaXRsZSBzcGFuIikuZXEoMCkudGV4dCgpLnJlcGxhY2UoLyguKik8c3Bhbi4qL2ksICIkMSIpLCBlLm5hbWUgPSByKCIjcHJvZHVjdFRpdGxlIikudGV4dCgpLnRyaW0oKSwgZS5pc2JuID0gdCwgZS5icmFuZF9zdHJpbmcgPSByKCIjYnJhbmQiKS50ZXh0KCkudHJpbSgpLCBlLnByaWNlID0gcigiI3ByaWNlYmxvY2tfZGVhbHByaWNlIikudGV4dCgpLnJlcGxhY2UoL1vvv6XCpV0rLywgIiIpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigic3Bhbi5hLXNpemUtbGFyZ2UuYS1jb2xvci1wcmljZSIpLmlzKCI6dmlzaWJsZSIpICYmIHIoInNwYW4uYS1zaXplLWxhcmdlLmEtY29sb3ItcHJpY2UiKS50ZXh0KCkpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiI3ByaWNlYmxvY2tfb3VycHJpY2UiKS50ZXh0KCkpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiI3ByaWNlYmxvY2tfc2FsZXByaWNlIikudGV4dCgpKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHIoIi5vZmZlci1wcmljZTplcSgwKSIpLnRleHQoKSksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIjb2xwX2ZlYXR1cmVfZGl2IC5hLWNvbG9yLXByaWNlIikudGV4dCgpKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHIoIi5hLWNvbG9yLXByaWNlOmVxKDApIikudGV4dCgpKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHIoIiNwcmljZWJsb2NrX3NhbGVwcmljZSIpLnRleHQoKSksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIjcHJpY2VfZmVhdHVyZV9kaXYgLmEtY29sb3ItcHJpY2UiKS50ZXh0KCkpOwoJCQkJCQl2YXIgbyA9IGxvY2F0aW9uLmhyZWYsCgkJCQkJCQlzID0gbG9jYXRpb24uaG9zdDsKCQkJCQkJZS5pdGVtSWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCXZhciBlID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXC9kcFwvKFswLTlBLVphLXpdKykvKTsKCQkJCQkJCXJldHVybiBlID8gZVsxXSA6IChlID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXC9ncFwvKFswLTlBLVphLXpdKykvKSwgZSA/IGVbMV0gOiAiIikKCQkJCQkJfSgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5jYXRfaWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZSwgdCwgbiA9ICIiOwoJCQkJCQkJCXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYS1icmVhZGNydW1iIGxpOm50aC1jaGlsZCg3KSBhIikgPyB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmEtYnJlYWRjcnVtYiBsaTpudGgtY2hpbGQoNykgYSIpLmdldEF0dHJpYnV0ZSgiaHJlZiIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmEtYnJlYWRjcnVtYiBsaTpudGgtY2hpbGQoNSkgYSIpID8gdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hLWJyZWFkY3J1bWIgbGk6bnRoLWNoaWxkKDUpIGEiKS5nZXRBdHRyaWJ1dGUoImhyZWYiKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hLWJyZWFkY3J1bWIgbGk6bnRoLWNoaWxkKDMpIGEiKSAmJiAodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hLWJyZWFkY3J1bWIgbGk6bnRoLWNoaWxkKDMpIGEiKS5nZXRBdHRyaWJ1dGUoImhyZWYiKSksIGUgPSB0LnNwbGl0KCI/IilbMV0sIGUgJiYgZS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCQllLm1hdGNoKC9ub2RlPS4qLykgJiYgKG4gPSBlLm1hdGNoKC9ub2RlPSguKikvKVsxXSkKCQkJCQkJCQl9KSwgbgoJCQkJCQkJfSgpCgkJCQkJCX0gY2F0Y2ggKGwpIHsKCQkJCQkJCWUuY2F0X2lkID0gIiIKCQkJCQkJfQoJCQkJCQllLnVybDIgPSBvLnJlcGxhY2UocywgInd3dy5hbWF6b24uY24iKTsKCQkJCQkJZm9yICh2YXIgYyA9IHIoIiN3YXlmaW5kaW5nLWJyZWFkY3J1bWJzX2ZlYXR1cmVfZGl2IC5hLXVub3JkZXJlZC1saXN0IGxpIGEiKSwgcCA9IGMubGVuZ3RoLCBoID0gW10sIHUgPSAwOyBwID4gdTsgdSsrKSBoLnB1c2goYy5lcSh1KS50ZXh0KCkudHJpbSgpKTsKCQkJCQkJZS5jYXRfbmFtZSA9IGguam9pbigiIyIpLCBlLndlYnNpdGUgPSAiYW1hem9uIiwgZS5waWMgPSByKCIjYWx0SW1hZ2VzIHVsIGxpIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCBlLnNrdSA9IHIoIiNhZGRUb0NhcnQgI0FTSU4iKS52YWwoKSwgZS5jYXRlZ29yeSA9IHIoIiN3YXlmaW5kaW5nLWJyZWFkY3J1bWJzX2ZlYXR1cmVfZGl2IGEiKS50ZXh0KCk7CgkJCQkJCXZhciBtID0gcigiI2JyYW5kIikuYXR0cigiaHJlZiIpLAoJCQkJCQkJZiA9IG0gJiYgbS5tYXRjaCgvZmllbGQtbGJyX2JyYW5kc19icm93c2UtYmluPSguKikkLykgJiYgbS5tYXRjaCgvZmllbGQtbGJyX2JyYW5kc19icm93c2UtYmluPSguKikkLylbMV07CgkJCQkJCXJldHVybiBlLmJyYW5kID0gZS5icmFuZF9zdHJpbmcgPyBlLmJyYW5kX3N0cmluZyA6IGYsIGUKCQkJCQl9LAoJCQkJCW11eWluZ3poaWppYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5uYW1lID0gcigiI25hbWUgaDEiKS50ZXh0KCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQllLnByaWNlID0gcigiI3N1bW1hcnktcHJpY2UgLnAtcHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCWRhbmdkYW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB3aW5kb3cucHJvZFNwdUluZm8sCgkJCQkJCQl0ID0gZCgpLAoJCQkJCQkJbiA9IHIoJy5ib29rX2RldGFpbGVkIHNwYW46Y29udGFpbnMoIkkgUyBCIE4iKScpLnRleHQoKS5zdWJzdHIoOCk7CgkJCQkJCWlmICgiIiA9PSBuICYmIChuID0gcignLmludHJvIHNwYW46Y29udGFpbnMoIkkgUyBCIE4iKScpLnRleHQoKS5zdWJzdHIoOCkpLCAiIiA9PSBuICYmIChuID0gcignLmJvb2tfbWVzc2JveCAuc2hvd19pbmZvX2xlZnQ6Y29udGFpbnMoIu+8qe+8s++8ou+8riIpJykubmV4dCgiLnNob3dfaW5mb19yaWdodCIpLnRleHQoKSksICIiID09IG4gJiYgKG4gPSByKCcuYm9va19tZXNzYm94IC5zaG93X2luZm9fbGVmdDpjb250YWlucygiSSBTIFIgQyIpJykubmV4dCgiLnNob3dfaW5mb19yaWdodCIpLnRleHQoKSksICIiID09IG4pIHsKCQkJCQkJCXZhciBpID0gcignLmJvb2tfbWVzc2JveCBzcGFuOmNvbnRhaW5zKCJJIFMgUiBDIiknKTsKCQkJCQkJCW4gPSBpICYmIGkucGFyZW50KCkudGV4dCgpLnN1YnN0cig3KQoJCQkJCQl9CgkJCQkJCWlmICgiIiA9PSBuKSB7CgkJCQkJCQl2YXIgbiA9IHIoJyNkZXRhaWxfZGVzY3JpYmUgbGk6Y29udGFpbnMoIklTQk4iKScpLnRleHQoKS5tYXRjaCgvWzAtOV0rLyk7CgkJCQkJCQluICYmIChuID0gblswXSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdC5wcmljZSA9IHIoIiNkZC1wcmljZSIpLnRleHQoKSwgdC5pc2JuID0gbiwgdC5waWMgPSByKCIjbWFpbi1pbWctc2xpZGVyIGxpIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCB0LndlYnNpdGUgPSAiZGFuZ2RhbmciLCB0Lml0ZW1JZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2RhbmdkYW5nXC5jb21cLyhcZCspLylbMV0sIHQuYnJhbmRfc3RyaW5nID0gcignLm1hbGxfZ29vZHNfZm91cnNvcnRfc3R5bGVfZnJhbWU6Y29udGFpbnMoIuWTgeeJjCIpJykudGV4dCgpLnJlcGxhY2UoIuWTgeeJjO+8miIsICIiKSwgIiIgPT0gdC5icmFuZF9zdHJpbmcgJiYgKHQuYnJhbmRfc3RyaW5nID0gd2luZG93Lmdvb2dsZV90YWdfcGFyYW1zICYmIHdpbmRvdy5nb29nbGVfdGFnX3BhcmFtcy5lY29tbV9wYnJhbmQpLCB0LnByaWNlIHx8ICh0LnByaWNlID0gcigiI3NhbGVQcmljZVRhZyIpLnRleHQoKSksIHQubmFtZSA9IHIoIi5uYW1lX2luZm8gaDEiKS50ZXh0KCkudHJpbSgpLCB0LmNhdF9pZCA9IGUgJiYgZS5jYXRlZ29yeUlkLCB0CgkJCQkJfSwKCQkJCQkiMzYwYnV5LXBhaW1haSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUucHJpY2UgPSByKCIjcHJpY2VEaXYiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXSwgZS5uYW1lID0gcigiLmludHJvX2RldGFpbCAubmFtZSIpLmF0dHIoInRpdGxlIiksIGUKCQkJCQl9LAoJCQkJCSIzNjBidXktYm9vayI6IGZ1bmN0aW9uKCkgewoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGUgPSByKCJ0aXRsZSIpLnRleHQoKSwKCQkJCQkJCQl0ID0gIiI7CgkJCQkJCQl0ID0gcigiI3N1bW1hcnktaXNibiAuZGQiKS50ZXh0KCksIGUgPSByKCIjbmFtZSBoMSIpLmh0bWwoKSwgZS5pbmRleE9mKCI8IikgPiAwICYmIChlID0gZS5zdWJzdHIoMCwgZS5pbmRleE9mKCI8IikpKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCXQgPSB0IHx8IHIoJ2xpIGRpdjpjb250YWlucygi77yp77yz77yi77yuIiknKS50ZXh0KCkuc3Vic3RyKDUpLCBlID0gZSB8fCByKCIjbmFtZSBoMiIpLmh0bWwoKS5yZXBsYWNlKC8oLiopPGZvbnQuKi9pLCAiJDEiKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiB0CgkJCQkJCX0KCQkJCQl9LAoJCQkJCSIzNjBidXktdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gZS5uYW1lLnJlcGxhY2UoIiAtIOS6rOWTgeaDoOWboui0rSIsICIiKSwgbi5zaXRlID0gIjM2MGJ1eSI7CgkJCQkJCXRyeSB7CgkJCQkJCQllLmlkID0gcigiI1BzaG93U2t1aWQiKS52YWwoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSByKCIuZS1jb250ZW50IGgyIikudGV4dCgpOwoJCQkJCQlpLmxlbmd0aCA+IGUubmFtZS5sZW5ndGggJiYgKGUubmFtZSA9IGkpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGEgPSByKCIuZS1leHRyYSAucC1pbWcgYSIpOwoJCQkJCQkJYS5sZW5ndGggPiAwICYmICEvXmphdmFzY3JpcHQ6Ly50ZXN0KGEuYXR0cigiaHJlZiIpKSA/IGUuaHJlZiA9IGEuYXR0cigiaHJlZiIpIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHIoIiNQc2hvd1NrdWlkIikudmFsKCkgJiYgKGUuaHJlZiA9ICJodHRwOi8vaXRlbS5qZC5jb20vIiArIHIoIiNQc2hvd1NrdWlkIikudmFsKCkgKyAiLmh0bWwiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWUudXJsID0gcigiLmUtZXh0cmEgYSIpLmVxKDApLmF0dHIoImhyZWYiKSwgZS51cmwuaW5kZXhPZigiamF2YXNjcmlwdCIpID4gLTEgJiYgKGUudXJsID0gcigiLmltZy1pbmZvIGEiKS5lcSgwKS5hdHRyKCJocmVmIikpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJIjM2MGJ1eS1iaWdpbWFnZSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiOwoJCQkJCQlpZiAoIiIgPT0gZSkgdHJ5IHsKCQkJCQkJCWUgPSByKCIuby1tLTEgaDEgYSIpLmF0dHIoImhyZWYiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSByKCIuby1tLTEgaDEgYSIpLmVxKDApLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogZSwKCQkJCQkJCW5hbWU6IGksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMzYwYnV5LWNsdWIiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIjsKCQkJCQkJaWYgKCIiID09IGUpIHRyeSB7CgkJCQkJCQllID0gcigiLnAtbmFtZSBhIikuYXR0cigiaHJlZiIpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQl2YXIgaSA9IHIoIi5wLW5hbWUgYSIpLmVxKDApLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogZSwKCQkJCQkJCW5hbWU6IGksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMzYwYnV5IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpLAoJCQkJCQkJdCA9IHIoIiNuYW1lIGgxIikuaHRtbCgpLAoJCQkJCQkJbiA9ICIiOwoJCQkJCQl0IHx8ICh0ID0gcigiLml0ZW1JbmZvLXdyYXAgLnNrdS1uYW1lIikuZXEoMCkudGV4dCgpKSwgdC5pbmRleE9mKCI8IikgPiAwICYmICh0ID0gdC5zdWJzdHIoMCwgdC5pbmRleE9mKCI8IikpKSwgbiA9IHIoIiNzdW1tYXJ5LWlzYm4gLmRkIikudGV4dCgpLCBuIHx8IChuID0gcigidGQ6Y29udGFpbnMoJ0lTQk7lj7fvvJonKSIpLnRleHQoKS5tYXRjaCgvXGQrLyksIG4gJiYgKG4gPSBuWzBdKSksIG4gfHwgKG4gPSByKCIjcHJvZHVjdC1kZXRhaWwgbGk6Y29udGFpbnMoJ0lTQk7vvJonKSIpLnRleHQoKS5tYXRjaCgvXGQrLyksIG4gJiYgKG4gPSBuWzBdKSksIG4gfHwgKG4gPSByKCJ0ZDpjb250YWlucygnSVNCTuWPt++8micpIikudGV4dCgpLnN1YnN0cig3KSksIGUubmFtZSA9IHQsIGUuaXNibiA9IG47CgkJCQkJCXZhciBpID0gd2luZG93LnBhZ2VDb25maWcgJiYgd2luZG93LnBhZ2VDb25maWcucHJvZHVjdCAmJiB3aW5kb3cucGFnZUNvbmZpZy5wcm9kdWN0LmJyYW5kOwoJCQkJCQkwICE9IGkgJiYgKGUuYnJhbmRfc3RyaW5nID0gcignI3Jvb3QtbmF2IGFbaHJlZio9IicgKyBpICsgJyJdJykudGV4dCgpKSwgZS5wcmljZSA9IHIoIiNqZC1wcmljZSIpLnRleHQoKS5yZXBsYWNlKC9b77+lwqVdKy8sICIiKTsKCQkJCQkJZm9yICh2YXIgYSA9IFtdLCBvID0gcigiYm9keSIpLmF0dHIoImNsYXNzIikubWF0Y2goL2NhdFwtXGRcLShbMC05XSspL2cpLCBzID0gMDsgcyA8IG8ubGVuZ3RoOyBzKyspIGEucHVzaChvW3NdLm1hdGNoKC9cZFwtKFswLTldKykvKVsxXSk7CgkJCQkJCXJldHVybiBlLmNhdF9pZCA9IGEuam9pbigiLSIpLCBlLnByaWNlIHx8IChlLnByaWNlID0gcigiLnAtcHJpY2U6ZXEoMCkiKS50ZXh0KCkpLCBlLnByaWNlIHx8IChlLnByaWNlID0gcigiLnN1bW1hcnktcHJpY2UgLnAtcHJpY2UgLnByaWNlIikuZXEoMCkudGV4dCgpKSwgZS5waWMgPSByKCIuc3BlYy1pdGVtcyB1bCBsaSBpbWciKS5lcSgwKS5hdHRyKCJzcmMiKSwgLTEgPT09IGUucGljLmluZGV4T2YoImh0dHAiKSAmJiAoZS5waWMgPSAiaHR0cDoiICsgZS5waWMucmVwbGFjZSgvXGQreFxkKy8sICIxNjB4MTYwIikpLCBlLml0ZW1JZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goLyhcZCspXC5odG1sLylbMV0sIGUubmFtZSA9IGUubmFtZSAmJiBlLm5hbWUucmVwbGFjZSgi44CQ5Lqs5Lic6LaF5biC44CRIiwgIiIpLCBlLndlYnNpdGUgPSAiamQuY29tIiwgZS5jYXRfbmFtZSA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjY3J1bWItd3JhcCAuY3J1bWIgYSIpLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZS50ZXh0Q29udGVudAoJCQkJCQl9KS5zbGljZSgwLCAzKS5qb2luKCIjIiksIGUKCQkJCQl9LAoJCQkJCSIzNjBidXktcmUiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuc2hvcF9pbnRybz5oMj5hIikudGV4dCgpLCBlLnByaWNlID0gcigiLnNob3BfaW50cm8gLnByaWNlIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkiMzYwYnV5LWF1Y3Rpb24iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIjcHJvZHVjdC1pbnRybyAucC1pbmZvIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiI2N1cl9wcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdLCBlCgkJCQkJfSwKCQkJCQlmZ2xhZHk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBkLWNvbnRlbnQtbGVmdCB0YWJsZSB0Ym9keSIpLmNoaWxkcmVuKCJ0ciIpLmVxKDEpLmNoaWxkcmVuKCJ0ZCIpLmVxKDApLmNoaWxkcmVuKCJkaXYiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlvdWt1OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHJvZC1pbmZvLXRpdGxlIGgxIikudGV4dCgpLCBlLmJyYW5kX3N0cmluZyA9IHIoJy5zcGVjVGl0bGUgLnN0cm9uZy10aXRsZTpjb250YWlucygi5ZOB54mMIikrLmlubGluZSBzcGFuJykudGV4dCgpLCBlLnByaWNlID0gcigiLnNhbGUtcHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW++/pcKlXHNdKy9nLCAiIiksIGUKCQkJCQl9LAoJCQkJCSI2cG0iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIjcHJvZHVjdFN0YWdlIC50aXRsZSIpLnRleHQoKSwgZS5icmFuZF9zdHJpbmcgPSByKCIjcHJvZHVjdFN0YWdlIC50aXRsZSAuYnJhbmQiKS50ZXh0KCksIGUucHJpY2UgPSByKCIjcHJpY2VTbG90IC5wcmljZSIpLnRleHQoKS5yZXBsYWNlKCIkIiwgIiIpLCBlLmltZyA9IHIoIiNwcm9kdWN0SW1hZ2VzIHVsIGxpIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCBlLnNrdSA9IHIoJ2lucHV0W25hbWU9InByb2R1Y3RJZCJdJykudmFsKCksIGUuY2F0ZWdvcnkgPSByKCIjYnJlYWRjcnVtYnMgYSIpLnRleHQoKSwgZS5zb3VyY2UgPSByKCIjdGh1bWJuYWlsSW1hZ2VzIikubmV4dCgpLm5leHQoKS5uZXh0KCkudGV4dCgpLCBlLmJyYW5kID0gcignYVtpdGVtcHJvcD0iYnJhbmQiXScpLnRleHQoKSwgZS5wcmljZSB8fCAoZS5wcmljZSA9IHIoIi5fM3JfT3UiKS5lcSgwKS50ZXh0KCkucmVwbGFjZSgiJCIsICIiKSksIGUKCQkJCQl9LAoJCQkJCWtpbWlzczogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigiLnByZXZpZXdfdGl0bGUgaDEgYSIpLnRleHQoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSByKCIucHJldmlld19icmllZiBlbSIpLnRleHQoKTsKCQkJCQkJaS5pbmRleE9mKCItIikgPiAtMSAmJiAoaSA9IGkuc3BsaXQoIi0iKVswXSk7CgkJCQkJCXZhciBhID0gcigiLnByZXZpZXdfYnJpZWYiKS50ZXh0KCkubWF0Y2goL+S6p+WTgeinhOagvO+8miguKikvKTsKCQkJCQkJcmV0dXJuIGEgJiYgKGEgPSBhWzFdKSwgYS5pbmRleE9mKCItIikgPiAtMSAmJiAoYSA9IGEuc3BsaXQoIi0iKVswXSksIGUgKz0gYSwgIiIgPT0gZSAmJiAoZSA9IHIoIi50aXRsZSBoMSIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlwcmljZTogaSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXJlZGJhYnk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3BOYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbTE4OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5nb29kc19kZXRhaWwgLm5hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl3MTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudGl0bGUgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzZXBob3JhY3BzOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIucHJvUHJpY2U+c3BhbjplcSgxKSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5zZFRpdGxlTCBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiLAoJCQkJCQkJcHJpY2U6IGUKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYm9va3V1OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIuc2hvcC10ZXh0LWluZm8gaDIiKS50ZXh0KCksIGUucHJpY2UgPSByKCcud2otbWV0YSBzcGFuOmNvbnRhaW5zKCLljZrlupPku7ciKX5zdHJvbmcnKS50ZXh0KCk7CgkJCQkJCQl2YXIgdCA9IHIoIm1ldGFbbmFtZT1rZXl3b3Jkc10iKVswXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCQkJCQkJCWUuaXNibiA9IC9JU0JO77yaKFxkKykvLmV4ZWModClbMV0KCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlzZWNvbzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5wcmljZSA9IHIoIi5EcHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvKMKlfCwpL2csICIiKSwgZS5uYW1lID0gcigiLnByb05hbWUgaDIiKS50ZXh0KCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlsYWZhc286IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiNwbmFtZSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlKSAmJiAoZSA9IHIoInRpdGxlIikuaHRtbCgpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXM6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxldGFvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNidXlpbmZvIGgxIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYnV5MDA3OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNpbmZvX3JpZ2h0IHRhYmxlIHRib2R5IikuY2hpbGRyZW4oInRyIikuZXEoMCkuY2hpbGRyZW4oInRkIikuZXEoMCkuY2hpbGRyZW4oImgxIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJdGFveGllOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWwiKS5jaGlsZHJlbigiZGl2IikuZXEoMCkuY2hpbGRyZW4oImgyIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc3VuaW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUsIHQgPSBoKCJpbnB1dFtuYW1lPXJldHVyblVSTF0iLCAwLCAidmFsdWUiLCAic3VuaW5nIiksCgkJCQkJCQlpID0gcigiI2l0ZW1EaXNwbGF5TmFtZSIpLnRleHQoKS50cmltKCk7CgkJCQkJCWlmIChlIHx8IChlID0gcignI3RvdGFsIGR0OmNvbnRhaW5zKCJJIiknKS5uZXh0KCkuZXEoMCkudGV4dCgpLCBlID0gZS5tYXRjaCgvKD86XGR7MTN9fFxkezEwfXxcZHs4fSkvZ2kpLCBlICYmIChlID0gZVswXSkpLCBlIHx8IChlID0gcignLmJvb2staW5mbyBzcGFuOmNvbnRhaW5zKCJJIiknKS5uZXh0KCkuZXEoMCkudGV4dCgpLCBlID0gZS5tYXRjaCgvKD86XGR7MTN9fFxkezEwfXxcZHs4fSkvZ2kpLCBlICYmIChlID0gZVswXSkpLCBlIHx8IChlID0gcignI2Jvb2tQYXJhbWV0ZXJGaWVsZCBkbDpjb250YWlucygiSVNCTiIpJykudGV4dCgpLm1hdGNoKC9bMC05XSsvKSwgZSAmJiAoZSA9IGVbMF0pKSwgIW4uY3JjNjQgJiYgIXQudXJsKSB7CgkJCQkJCQl2YXIgYSA9IHdpbmRvdy5zbi5wcm9kdWN0SWQ7CgkJCQkJCQl0LnVybCA9ICJodHRwOi8vd3d3LnN1bmluZy5jb20vZW1hbGwvcHJkXzEwMDUyXzEwMDUxXy03XyIgKyBhICsgIl8uaHRtbCIKCQkJCQkJfQoJCQkJCQl2YXIgbyA9IHIoIi53MyIpLnRvQXJyYXkoKTsKCQkJCQkJbyA9IG8ubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlLmlubmVySFRNTAoJCQkJCQl9KTsKCQkJCQkJdmFyIHMgPSB2b2lkIDA7CgkJCQkJCW8uaW5kZXhPZigi5Zui6LSt5Lu3IikgPiAtMSAmJiAocyA9IHIoInNwYW4uc21hbGwtcHJpY2UiKS50ZXh0KCkpOwoJCQkJCQl2YXIgbCA9IHIoIiNwcm9tb3Rpb25QcmljZS5tYWlucHJpY2UiKS50ZXh0KCksCgkJCQkJCQljID0gcigiLm1haW5wcmljZSIpLnRleHQoKTsKCQkJCQkJdC5uYW1lID0gaSwgdC5pc2JuID0gZSwgdC5icmFuZF9zdHJpbmcgPSB3aW5kb3cuc24gJiYgd2luZG93LnNuLmJyYW5kTmFtZSB8fCAiIiwgdC5wcmljZSA9IHdpbmRvdy5zbiAmJiB3aW5kb3cuc24ucHJvbW90aW9uUHJpY2UgfHwgMCwgYyAmJiAodC5wcmljZSA9IGMpLCBsICYmICh0LnByaWNlID0gbCksIHMgJiYgKHQucHJpY2UgPSBzKSwgdC5pdGVtSWQgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC8oXGQrXC9cZCspXC5odG1sLylbMV07CgkJCQkJCXZhciBkID0gcigiLmJyZWFkY3J1bWIgLmRyb3Bkb3duOm50aC1sYXN0LW9mLXR5cGUoMykgYSIpLAoJCQkJCQkJcCA9IGQgJiYgZC5hdHRyKCJocmVmIik7CgkJCQkJCXJldHVybiB0LmNhdF9pZCA9IHAubWF0Y2goLyhcZC1cZHswLH0tXGQpXC5odG1sLykgPyBwLm1hdGNoKC8oXGQtXGR7MCx9LVxkKVwuaHRtbC8pWzFdIDogIiIsIHQud2Vic2l0ZSA9ICJzdW5pbmciLCB0LnBpYyA9IHIoIiNiaWdJbWFnZSBpbWciKS5hdHRyKCJzcmMiKSwgdC5waWMgJiYgKHQucGljID0gcigiI2JpZ0ltZyBpbWciKS5hdHRyKCJzcmMiKSksIHQubmFtZSB8fCAodC5uYW1lID0gd2luZG93LnNuICYmIHdpbmRvdy5zbi5pdGVtRGlzcGxheU5hbWUpLCB0Lm5hbWUgPSB0Lm5hbWUgJiYgdC5uYW1lLnJlcGxhY2UoIuOAkOiLj+WugeaYk+i0rei2heW4guOAkSIsICIiKSwgdAoJCQkJCX0sCgkJCQkJInN1bmluZy1qdSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHt9OwoJCQkJCQlyZXR1cm4gZS51cmwgPSAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2VtYWxsL3ByZF8xMDA1Ml8xMDA1MV8tN18iICsgcigiI2l0ZW1JZCIpLmF0dHIoInZhbHVlIikgKyAiXy5odG1sIiwgbi5jcmM2NCAmJiAoZS51cmwgPSB2b2lkIDApLCBlLm5hbWUgPSByKCJoMSBhIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkic3VuaW5nLWJvb2stbmV3IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaCgiaW5wdXRbbmFtZT1yZXR1cm5VUkxdIiwgMCwgInZhbHVlIiwgInN1bmluZyIpLAoJCQkJCQkJdCA9IHIoInRpdGxlIikuaHRtbCgpLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IHIoJyN0b3RhbCBkdDpjb250YWlucygiSSIpJykubmV4dCgpLmVxKDApLnRleHQoKTsKCQkJCQkJCXZhciBhID0gaS5tYXRjaCgvKD86XGR7MTN9fFxkezEwfXxcZHs4fSkvZ2kpOwoJCQkJCQkJaSA9IG51bGwgIT0gYSA/IGFbMF0gOiAiIgoJCQkJCQl9IGNhdGNoIChvKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKG8pLCBpID0gIiIKCQkJCQkJfQoJCQkJCQlpZiAoIiIgPT0gaSkgdHJ5IHsKCQkJCQkJCWkgPSByKCcuYm9vay1pbmZvIHNwYW46Y29udGFpbnMoIkkiKScpLm5leHQoKS5lcSgwKS50ZXh0KCk7CgkJCQkJCQl2YXIgYSA9IGkubWF0Y2goLyg/OlxkezEzfXxcZHsxMH18XGR7OH0pL2dpKTsKCQkJCQkJCWkgPSBudWxsICE9IGEgPyBhWzBdIDogIiIKCQkJCQkJfSBjYXRjaCAobykgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhvKSwgaSA9ICIiCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUubmFtZSA9IHQsIGUuaXNibiA9IGksIGUKCQkJCQl9LAoJCQkJCSJzdW5pbmctc25ib29rIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaCgiaW5wdXRbbmFtZT1yZXR1cm5VUkxdIiwgMCwgInZhbHVlIiwgInN1bmluZyIpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiLmJyaWVmLWluZm8gaDEgc3Ryb25nIikudGV4dCgpLCBlLmlzYm4gPSByKCIucGFybS1pc2JuIHNwYW4uYXR0ci12IikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkic3VuaW5nLWRnZiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCQl0ID0gZS5nZXRQcm9kdWN0SW5mbygpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGkgPSByKCIuZGV0YWlsLWZpcnN0IGgxLnRpdGxlIGEiKS5lcSgwKTsKCQkJCQkJCWlmICh0Lm5hbWUgPSByKCIuZGV0YWlsLWZpcnN0IGgxLnRpdGxlIGEgc3BhbiBzdHJvbmciKS50ZXh0KCksIG4uaHJlZiA9IGkuYXR0cigiaHJlZiIpLCBuLnNpdGUgPSAic3VuaW5nIiwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIG4uaHJlZiB8fCAiIiA9PSBuLmhyZWYpIHQudXNlbGVzcyA9ICEwOwoJCQkJCQkJZWxzZSB7CgkJCQkJCQkJdmFyIG8gPSBhLmlzUHJvZHVjdFBhZ2UoKTsKCQkJCQkJCQlvIHx8ICh0LnVzZWxlc3MgPSAhMCkKCQkJCQkJCX0KCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhzKSwgdC51c2VsZXNzID0gITAKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdAoJCQkJCX0sCgkJCQkJInN1bmluZy1xaWFuZyI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHAoIi5wcm9kdWN0LW1haW4tdGl0bGUgaDEgYSIsIDAsICJzdW5pbmciKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCXZhciB0ID0gcigiI2NhdGVudHJ5IikudmFsKCk7CgkJCQkJCQl0ICYmIChuLmhyZWYgPSAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2VtYWxsL3ByZF8xMDA1Ml8xMDA1MV8tN18iICsgdCArICJfLmh0bWwiKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCSJzdW5pbmctcGFpIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaCgiaW5wdXRbbmFtZT1yZXR1cm5VUkxdIiwgMCwgInZhbHVlIiwgInN1bmluZyIpLAoJCQkJCQkJdCA9IHIoIi5mYi1tYWluLXRpdGxlIGEiKS50ZXh0KCksCgkJCQkJCQlpID0gIiIsCgkJCQkJCQlhID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQlhID0gcigiLmZiLW1haW4tdGl0bGUgYSIpLmF0dHIoImhyZWYiKQoJCQkJCQl9IGNhdGNoIChvKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKG8pCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWkgPSByKCcjdG90YWwgZHQ6Y29udGFpbnMoIkkiKScpLm5leHQoKS5lcSgwKS50ZXh0KCk7CgkJCQkJCQl2YXIgcyA9IGkubWF0Y2goLyg/OlxkezEzfXxcZHsxMH18XGR7OH0pL2dpKTsKCQkJCQkJCWkgPSBudWxsICE9IHMgPyBzWzBdIDogIiIKCQkJCQkJfSBjYXRjaCAobykgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhvKQoJCQkJCQl9CgkJCQkJCXJldHVybiBlLm5hbWUgPSB0LCBlLmlzYm4gPSBpLCBlLnVybCA9IGEsIGUKCQkJCQl9LAoJCQkJCWNvbzg6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3Byb2R1Y3RuYW1lIGgxIikuY2hpbGRyZW4oInN0cm9uZyIpLmVxKDApLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWx1c2VuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogImh0dHA6Ly93d3cubHVzZW4uY29tL1Byb2R1Y3QvUHJvZHVjdEluZm8uYXNweD9pZD0iICsgcigiI1Byb2R1Y3RJZCIpLnZhbCgpLAoJCQkJCQkJbmFtZTogcigiaDEuZ29vZHNuYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJImdvbWUtcnVzaGJ1eSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJZSA9IHIoIi5waWMgYSIpLmVxKDApLmF0dHIoImhyZWYiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LWluZm8gLm5hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCXVybDogZQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnb21laG9uZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5wcmljZSA9IHIoIiNwcmRQcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdLCBlLm5hbWUgPSByKCIucHJkbWFpbiAucHJkdGl0IikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQlnb21lOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB3aW5kb3cucHJkSW5mbywKCQkJCQkJCXQgPSBkKCksCgkJCQkJCQluID0gIiIsCgkJCQkJCQlpID0gcigidGl0bGUiKS5odG1sKCk7CgkJCQkJCWlmIChpID0gcigiLnByZHRpdCBoMSIpLnRleHQoKSwgdC5uYW1lID0gaSwgdC5pc2JuID0gbiwgdC5wcmljZSA9IHIoIiNwcmRQcmljZSIpLnRleHQoKSwgIiIgPT0gaSAmJiAodC5uYW1lID0gZSAmJiBlLnByZE5hbWUpLCAiIiA9PSB0LnByaWNlICYmICh0LnByaWNlID0gZSAmJiBlLnByaWNlKSwgdC5icmFuZF9zdHJpbmcgPSBlICYmIGUuYnJlYWROYW1lLCB0Lml0ZW1JZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2dvbWVcLmNvbVwuY25cLyhbQS1aMC05XSspLS8pWzFdLCB0LmNhdF9pZCA9IGUgJiYgZS5jYXRJZCwgdC53ZWJzaXRlID0gImdvbWUiLCB0LnBpYyA9IHIoIi5waWMtc21hbGwgdWwgbGkgaW1nIikuZXEoMCkuYXR0cigic3JjIiksICF0LmNhdF9pZCkgewoJCQkJCQkJdmFyIGEgPSByKCIubG9jYWwgYSIpLmVxKDMpLmF0dHIoImhyZWYiKTsKCQkJCQkJCXQuY2F0X2lkID0gYS5tYXRjaCgvY2F0XGQrLykgJiYgYS5tYXRjaCgvY2F0XGQrLylbMF0KCQkJCQkJfQoJCQkJCQlyZXR1cm4gdAoJCQkJCX0sCgkJCQkJImdvbWUtcSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoImgxLnRpdGxlIikudGV4dCgpLCBlLnVybCA9IHIoIi5wcm9fbGluayIpWzBdLmhyZWYsIGUKCQkJCQl9LAoJCQkJCSJnb21lLXRhbyI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5wcmR0aXQiKS50ZXh0KCksIGUucHJpY2UgPSBwYXJzZUludChyKCIjcHJkUHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTldKy8pWzBdKSwgZQoJCQkJCX0sCgkJCQkJImdvbWUtdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUudXJsID0gcigiLmNvbXBhcmUtbGluayIpLmF0dHIoImhyZWYiKSwgZS5uYW1lID0gcigidGl0bGUiKS5odG1sKCksIGUucHJpY2UgPSByKCIjc2FsZVByaWNlIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSAiIjsKCQkJCQkJdHJ5IHsKCQkJCQkJCXIoIiNwcm9kdWN0SWQiKS5sZW5ndGggPyB0ID0gcigiI3Byb2R1Y3RJZCIpLnZhbCgpIDogcigiI3Byb2R1Y3RDb2RlIikubGVuZ3RoID8gdCA9IHBhcnNlSW50KHIoIiNwcm9kdWN0Q29kZSIpLnRleHQoKS5zbGljZSgwLCAtMSkpIDogcigiI21haW5Qcm9kdWN0SWQiKS5sZW5ndGggPyB0ID0gcigiI21haW5Qcm9kdWN0SWQiKS52YWwoKSA6IHIoIi5zcGVjaWZpY19kZXRhaWwgcCBzcGFuIikubGVuZ3RoICYmICh0ID0gcGFyc2VJbnQocigiLnNwZWNpZmljX2RldGFpbCBwIHNwYW4iKS50ZXh0KCkubWF0Y2goL1xkKyQvKVswXS5zbGljZSgwLCAtMSkpKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJdmFyIGEgPSByKCIjcHJvZHVjdE1haW5OYW1lIikudGV4dCgpLAoJCQkJCQkJbyA9IGEuaW5kZXhPZigiPCIpOwoJCQkJCQlvID4gMCAmJiAoYSA9IGEuc3Vic3RyKDAsIG8pKSwgIiIgPT0gYSAmJiAoYSA9IHIoIi5tYWluX2luZm9fY29uIHAucHJpY2UiKS5wcmV2KCkuZXEoMCkudGV4dCgpKSwgIiIgPT0gYSAmJiAoYSA9IHIoIi5wcm9fdGl0IikudGV4dCgpKTsKCQkJCQkJdmFyIHMgPSByKCcjcHJvZERldGFpbENvdGVudERpdiBkZDpjb250YWlucygiSVNCTiIpJykudGV4dCgpLnN1YnN0cig1KTsKCQkJCQkJcyA9IHIudHJpbShzKTsKCQkJCQkJdmFyIGwgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9pdGVtXC8oWzAtOV17NSw5fSkvKTsKCQkJCQkJcmV0dXJuIGUuaXRlbUlkID0gbCAmJiBsWzFdLCBlLmltZyA9IHIoIiNqc3Byb0NydW1iIC5tQm94IGIgaW1nIikuZXEoMCkuYXR0cigic3JjIiksIGUuYnJhbmRfc3RyaW5nID0gcigiI2JyYW5kTmFtZSIpLnZhbCgpLCBlLnByaWNlID0gcigiI2N1cnJlbnRfcHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW++/pcKlXSsvLCAiIiksIGUuY2F0X2lkID0gcigiI2NhdGVnb3J5SWQiKS52YWwoKSwgZS5pc2JuID0gcywgZS5uYW1lID0gYSwgZS5pZCA9IHQsIGUucGljID0gZS5pbWcsIGUud2Vic2l0ZSA9ICJ5aGQiLCBlCgkJCQkJfSwKCQkJCQkieWloYW9kaWFuLXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIiwKCQkJCQkJCXQgPSAiIiwKCQkJCQkJCWkgPSAiIjsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUgPSByKCIjZGV0YWlsRGl2IGgyIikuZXEoMCkudGV4dCgpLCB0ID0gcigiI3Byb2R1Y3RJZCIpLnZhbCgpLCAiIiA9PSB0ICYmICh0ID0gcigiI21haW5Qcm9kdWN0SWQiKS52YWwoKSkKCQkJCQkJfSBjYXRjaCAoYSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhhKQoJCQkJCQl9CgkJCQkJCSIiID09IGUgJiYgKGUgPSByKCJ0aXRsZSIpLnRleHQoKS5yZXBsYWNlKC8uezJ95Zui6LStXzHlj7flm6JfMeWPt+W6l+WumOe9kS8sICIiKSk7CgkJCQkJCXZhciBvID0gcigiI3ByaWNlbm93IikudGV4dCgpOwoJCQkJCQlyZXR1cm4gaSA9ICJodHRwOi8vaXRlbS55aGQuY29tL2l0ZW0vIiArIHIoIiNwcm9kdWN0TWVyY2FudElkIikudmFsKCksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCWlkOiB0LAoJCQkJCQkJdXJsOiBpLAoJCQkJCQkJcHJpY2U6IG8KCQkJCQkJfQoJCQkJCX0sCgkJCQkJd29tYWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQl2YXIgdCA9IHIoIi5tYWluX2RldGFpbCIpLmVxKDApLmh0bWwoKS5tYXRjaCgvdmFyIF90aXRsZSA9ICIoW14iXSspIi8pOwoJCQkJCQkJZS5uYW1lID0gdFsxXQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpLCBlLm5hbWUgPSAiIgoJCQkJCQl9CgkJCQkJCWlmIChlLnByaWNlID0gcigiLmJ1eVByaWNlIikudGV4dCgpLCAiIiA9PSBlLm5hbWUpIHRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIuV3JhcFRpdCIpLnRleHQoKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHdpbmRvdy5ydFRhZy5kYXRhLmVjb21fdmlldy5wcm9kWzBdLnBfbmFtZSwgZS5wcmljZSA9IHdpbmRvdy5ydFRhZy5kYXRhLmVjb21fdmlldy5wcm9kWzBdLnBfcHJpY2UsIGUuYnJhbmRfc3RyaW5nID0gd2luZG93LnJ0VGFnLmRhdGEuZWNvbV92aWV3LnByb2RbMF0ucF9icmFuZAoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCWNvb2NhYTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiAi6YW35byAICIgKyByKCIucHJvSGVhZGVyIGgxIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxleW91OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIjYmFzZUluZm9EaXYgaDMiKS50ZXh0KCksIGUucHJpY2UgPSByKCIuaXRlbV9ybWIgLmZvbnRfbnVtIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQlzaG9waW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIudHJpbShyKCIuY3J1bWJzIikudGV4dCgpKSwKCQkJCQkJCXQgPSByLnRyaW0ocigiLnByb2R1Y3QtbGlzdCBoMiIpLnRleHQoKSk7CgkJCQkJCXJldHVybiBlID0gZS5yZXBsYWNlKC8oPzpcdTVmNTNcdTUyNGRcdTRmNGRcdTdmNmV8XHU5OTk2XHU5ODc1fC0pLywgIiIsIGUpLCB7CgkJCQkJCQluYW1lOiBlICsgIiAiICsgdCwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXhpdTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigiLnBfdGl0bGUgc3BhbiBoMSIpLnRleHQoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkieGl1LXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi54aXRfeHF6Z29uZyBoMiIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXZqaWE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnNwLXNpbmdsZU5hbWUgLnRpdGxlIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJIjdjdiI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLm1haW5fcmlnaHRfdG9wIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJwLnRvcF9uYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ3VvcGk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3BfbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW5vNTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnBhcnQwMSAucDAxX3IgaDIiKS5odG1sKCk7CgkJCQkJCXJldHVybiBlLmluZGV4T2YoIjwiKSA+IDAgJiYgKGUgPSBlLnN1YnN0cigwLCBlLmluZGV4T2YoIjwiKSkpLCB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc2FzYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnByb2R1Y3QtdGl0bGVzIikudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNwcm9kdWN0X2luZm9ybWF0aW9uIC5hY3Rpb24tcHJpYyIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlwcmljZTogdCwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWRoYzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoZWFkIHRpdGxlIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJIjlkYWRhbyI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByYSBoMiIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW1ldGFvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5waWJfdGl0bGVfZGV0YWlsIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWt6ajM2NTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigidGl0bGUiKS50ZXh0KCksCgkJCQkJCQl0ID0gZS5pbmRleE9mKCJfIik7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlLnNsaWNlKDAsIHQpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW51YmlhOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIjsKCQkJCQkJIiIgPT0gZSAmJiAoZSA9IHIoIiNzdWJOYXYgLnN1Yi1sb2dvIikuZXEoMCkudGV4dCgpKTsKCQkJCQkJdmFyIHQgPSByKCIucHJpY2UiKS50ZXh0KCk7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ25jOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNwcm9kdWN0LXRpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcmljZS1yZWd1bGFyIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLykgJiYgcigiLnByaWNlLXJlZ3VsYXIiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5bWF0b3U6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIm1ldGFbbmFtZT1kZXNjcmlwdGlvbl0iKS5hdHRyKCJjb250ZW50IiksCgkJCQkJCQl0ID0gZS5pbmRleE9mKCLigJ0iKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUuc2xpY2UoMSwgdCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJa2FvbGE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtdGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmN1cnJlbnRQcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMzYwa3hyIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnJpZ2h0LWludHJvIGgyIikuaHRtbCgpOwoJCQkJCQlyZXR1cm4gZSA9IGUuaW5kZXhPZigiPCIpID4gMCA/IGUuc3Vic3RyKDAsIGUuaW5kZXhPZigiPCIpKSA6IGUsIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsaWtlZmFjZTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudEN0biBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXF4aWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0X2JvZHkxX3JpZ2h0X3RpdGxlIGgxIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZGlkYW1hbGw6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXlhb2RpYW4xMDA6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmluZm9ib3hoZWFkZXIgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsaWppYWJhYnk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiN0eHRwcm9uYW1lIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gKCJ1bmRlZmluZWQiID09IHR5cGVvZiBlIHx8ICIiID09IGUpICYmIChlID0gcigiI2xibF9wcm9uYW1lIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSI5OXJlYWQiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLmlzYm4gPSByKCdsaTpjb250YWlucygi5Lqn5ZOB5p2h56CBIiknKS5odG1sKCksIG51bGwgPT0gZS5pc2JuIHx8ICJ1bmRlZmluZWQiID09IHR5cGVvZiBlLmlzYm4gfHwgIiIgPT0gZS5pc2JuID8gZS5pc2JuID0gIiIgOiBlLmlzYm4gPSBlLmlzYm4uc3Vic3RyKDcpLCBlCgkJCQkJfSwKCQkJCQkiY2hpbmEtcHViIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMS5ibGFjazE1YyIpLnRleHQoKSwKCQkJCQkJCWlzYm46IHIoJ2xpOmNvbnRhaW5zKCJJU0JOIiknKS5jaGlsZHJlbigic3Ryb25nIikuZXEoMCkuaHRtbCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJvb2tzY2hpbmE6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoIi50aGlzLXBpYyIpLnByZXYoKS50ZXh0KCksIGUubmFtZSA9IHIudHJpbShlLm5hbWUpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCksIGUubmFtZSA9ICIiCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWUuaXNibiA9IHIoJ3RyOmNvbnRhaW5zKCLlh7rniYjml7bpl7TvvJoiKScpLmNoaWxkcmVuKCkuZXEoMSkudGV4dCgpLCBlLmlzYm4gPSByLnRyaW0oZS5pc2JuKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpLCBlLmlzYm4gPSAiIgoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQkiYm9va3NjaGluYS10dWFuIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5uYW1lID0gcigiLnRpdHdvcmQiKS50ZXh0KCkubWF0Y2goL+OAiihbXuOAi10rKS8pWzFdLCBlLnByaWNlID0gcigiLnByaWNldGltZSAucHJpZ2h0IC5NYmlnIikudGV4dCgpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQl0cnkgewoJCQkJCQkJZS5pc2JuID0gcignLmNvbW1lbnRzOmNvbnRhaW5zKCJJU0JOIiknKS50ZXh0KCkubWF0Y2goL0lTQk7vvJooWzAtOV0rKS8pWzFdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCksIGUuaXNibiA9ICIiCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGUuaXNibikgdHJ5IHsKCQkJCQkJCWUuaXNibiA9IHIoIi5jb21tZW50cyIpLnRleHQoKS5tYXRjaCgvWzAtOV17MTN9LylbMF0KCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQllZmVpaHU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gcigiLnNoYXJlX3RpdGxlIGVtIikudGV4dCgpOwoJCQkJCQl2YXIgdCA9IHIoIi5ib3hfd3JhcCAucHJpY2UgLmEgcCIpLnRleHQoKS5tYXRjaCgvWzAtOV0rLyk7CgkJCQkJCXJldHVybiB0ICYmIChlLnByaWNlID0gdFswXSksIGUKCQkJCQl9LAoJCQkJCXlpbnRhaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucC10aXQiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCXByaWNlOiByKCIucWQtbnVtIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXVyY29zbWU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RJbmZvcm1hdGlvblRleHQgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzdHJhd2JlcnJ5bmV0OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LWZyYW1lIGgxIikudGV4dCgpICsgcigiLnByb2R1Y3QtZnJhbWUgaDIiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsdWNlOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5Qcm9kdWN0X0RldGFpbCB1bCIpLmNoaWxkcmVuKCJsaSIpLmVxKDApLmNoaWxkcmVuKCJwIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJazEyMTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIubmV3cHJvZHVjdG5hbWUwIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaGFwcGlnbzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZGV0YWlsX3RvcCAuZGV0YWlsX3RpdCAiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlX25vdyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnYXA6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtbmFtZSBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW1pc3NsZWxlOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNnb29kc19uYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYWxsM2M6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmJ1eWluZm8gaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlpZGFwaG5lOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi50aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJpbmdnbzogZnVuY3Rpb24oKSB7CgkJCQkJCWZvciAodmFyIGUgPSByKCIjcE5hbWUgaDEiKS5odG1sKCksIHQgPSBlLmxlbmd0aCwgbiA9IDA7IHQgPiBuICYmICI8IiAhPSBlW25dOyBuKyspOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogZS5zdWJzdHIoMCwgbiksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkidGFvYmFvLWp1IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpLAoJCQkJCQkJdCA9IC9pdGVtX2lkPShcZCspL2dpLmV4ZWMobG9jYXRpb24uaHJlZik7CgkJCQkJCXJldHVybiBlLmlkID0gdCAmJiAyID09IHQubGVuZ3RoICYmIHRbMV0sIGUubmFtZSA9IHIudHJpbShyKCIubWFpbi1ib3ggaDIiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQl0bWFsbDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpLAoJCQkJCQkJdCA9IHIoIi5hdHRyaWJ1dGVzLWxpc3QgdWwiKS5odG1sKCksCgkJCQkJCQluID0gIiIsCgkJCQkJCQlpID0gIiI7CgkJCQkJCW51bGwgPT0gdCAmJiAodCA9IHIoIi5hdHRyaWJ1dGVzLWxpc3QiKS5odG1sKCkpLCB0ID0gdC5yZXBsYWNlKC8oPzo8XCFcLVwtW15cLV0qXC1cLT58PGxpW14+XSo+fFwgXCApL2dpLCAiIiksIHQgPSB0LnJlcGxhY2UoLyZuYnNwOy9naSwgIiAiKSwgdCA9IHQucmVwbGFjZSgvPFwvbGlbXj5dKj4vZ2ksICJ8IiksIHQgPSB0LnJlcGxhY2UoL1xuL2dpLCAiIik7CgkJCQkJCXZhciBhID0gdC5tYXRjaChuZXcgUmVnRXhwKC9cfChcdTU0YzFcdTcyNGMoPzpcOnxcdWZmMWEpW15cfF0rKS9naSkpOwoJCQkJCQlpZiAoYSkKCQkJCQkJCWZvciAodmFyIG8gPSAwOyBvIDwgYS5sZW5ndGg7IG8rKykgbiArPSBhW29dICsgInwiOwoJCQkJCQl2YXIgcyA9IHQubWF0Y2gobmV3IFJlZ0V4cCgvKCg/Olx1N2NmYlx1NTIxN3xcdThkMjdcdTUzZjd8XHU1NzhiXHU1M2Y3fFx1NmIzZVx1NTNmNykoPzpcOnxcdWZmMWEpW15cfF0rKS9naSkpOwoJCQkJCQlpZiAocykKCQkJCQkJCWZvciAodmFyIG8gPSAwOyBvIDwgcy5sZW5ndGg7IG8rKykgbiArPSBzW29dICsgInwiOwoJCQkJCQl2YXIgbCA9IHQubWF0Y2gobmV3IFJlZ0V4cCgvKElTQk5bXlw6XHVmZjFhXSooPzpcOnxcdWZmMWEpW15cfF0rKS9naSkpOwoJCQkJCQlpZiAobCkKCQkJCQkJCWZvciAodmFyIG8gPSAwOyBvIDwgbC5sZW5ndGg7IG8rKykgbiArPSBsW29dICsgInwiOwoJCQkJCQllLnNrZXl3b3JkID0gbiwgZS5jYXRfaWQgPSAiIjsKCQkJCQkJdmFyIGMgPSByKCIjdGItYmVhY29uLWFwbHVzIikuYXR0cigiZXhwYXJhbXMiKTsKCQkJCQkJaWYgKGMgPSBjICYmIGMubWF0Y2goL2NhdGVnb3J5PWl0ZW0lNWYoXGQrKSYvKSwgYyA9IGMgJiYgY1sxXSwgZS5jYXRfaWQgPSBjLCAiIiA9PSBlLmNhdF9pZCkgewoJCQkJCQkJdmFyIGMgPSByKCIjZGV0YWlsLXJlY29tbWVuZC12aWV3ZWQiKS5hdHRyKCJkYXRhLWNhdGlkIik7CgkJCQkJCQllLmNhdF9pZCA9IGMKCQkJCQkJfQoJCQkJCQllLnJvb3RfaWQgPSByKCcjSl9Gcm1CaWQgaW5wdXRbbmFtZT0icm9vdENhdElkIl0nKS52YWwoKSwgZS5waWMgPSByKCIjSl9JbWdCb290aCIpLmF0dHIoInNyYyIpLCAtMSA9PT0gZS5waWMuaW5kZXhPZigiaHR0cHM6IikgJiYgKGUucGljID0gImh0dHA6IiArIGUucGljKTsKCQkJCQkJdmFyIHAgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9bPyZdaWQ9KFxkKykvKTsKCQkJCQkJcCA9IHAgJiYgcFsxXTsKCQkJCQkJdmFyIGggPSByKCJtZXRhW25hbWU9J21pY3Jvc2NvcGUtZGF0YSddIikuYXR0cigiY29udGVudCIpLAoJCQkJCQkJdSA9IGggJiYgaC5tYXRjaCgvdXNlcmlkPShcZCspLyk7CgkJCQkJCWkgPSB1WzFdOwoJCQkJCQl2YXIgbSA9IHIoIiNKX1ByaWNlIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gbSB8fCAobSA9IHIoIiNKX1N0clByaWNlIikudGV4dCgpKSwgbSB8fCAobSA9IHIoIi50bS1wcm9tby1wcmljZSAudG0tcHJpY2UiKS50ZXh0KCkpLCBtIHx8IChtID0gcigiI0pfU3RyUHJpY2VNb2RCb3ggLnRtLXByaWNlIikudGV4dCgpKSwgbSB8fCAobSA9IHIoIi50bS1wcmljZSIpLnRleHQoKSksIGUuc2hvcF9uYW1lID0gcigiLnNob3BrZWVwZXIgLnJpZ2h0IGEiKS50ZXh0KCksIGUuc2hvcF9hZGRyZXMgPSByKCIubG9jdXMgLnJpZ2h0IikudGV4dCgpLnJlcGxhY2UoLyg/Olx0fFxufFxzKS9naSwgIiIpLCBlLnByaWNlID0gbSwgZS51c2VyaWQgPSBpLCBlLm5hbWUgPSByKCIjSl9EZXRhaWxNZXRhIC50Yi1kZXRhaWwtaGQgaDEiKS50ZXh0KCkucmVwbGFjZSgvXG4vZywgIiIpLnRyaW0oKSwgZS5pdGVtSWQgPSBwLCBlCgkJCQkJfSwKCQkJCQl0YW9iYW86IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSByKCIuYXR0cmlidXRlcy1saXN0IHVsIikuaHRtbCgpLAoJCQkJCQkJbiA9ICIiLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQludWxsID09IHQgJiYgKHQgPSByKCIuYXR0cmlidXRlcy1saXN0IikuaHRtbCgpKSwgdCA9IHQucmVwbGFjZSgvKD86PFwhXC1cLVteXC1dKlwtXC0+fDxsaVtePl0qPnxcIFwgKS9naSwgIiIpLCB0ID0gdC5yZXBsYWNlKC8mbmJzcDsvZ2ksICIgIiksIHQgPSB0LnJlcGxhY2UoLzxcL2xpW14+XSo+L2dpLCAifCIpLCB0ID0gdC5yZXBsYWNlKC9cbi9naSwgIiIpOwoJCQkJCQl2YXIgYSA9IHQubWF0Y2gobmV3IFJlZ0V4cCgvXHwoXHU1NGMxXHU3MjRjKD86XDp8XHVmZjFhKVteXHxdKykvZ2kpKTsKCQkJCQkJaWYgKGEpCgkJCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGEubGVuZ3RoOyBvKyspIG4gKz0gYVtvXSArICJ8IjsKCQkJCQkJdmFyIHMgPSB0Lm1hdGNoKG5ldyBSZWdFeHAoLygoPzpcdTdjZmJcdTUyMTd8XHU4ZDI3XHU1M2Y3fFx1NTc4Ylx1NTNmN3xcdTZiM2VcdTUzZjcpKD86XDp8XHVmZjFhKVteXHxdKykvZ2kpKTsKCQkJCQkJaWYgKHMpCgkJCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IHMubGVuZ3RoOyBvKyspIG4gKz0gc1tvXSArICJ8IjsKCQkJCQkJdmFyIGwgPSB0Lm1hdGNoKG5ldyBSZWdFeHAoLyhJU0JOW15cOlx1ZmYxYV0qKD86XDp8XHVmZjFhKVteXHxdKykvZ2kpKTsKCQkJCQkJaWYgKGwpCgkJCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGwubGVuZ3RoOyBvKyspIG4gKz0gbFtvXSArICJ8IjsKCQkJCQkJZS5za2V5d29yZCA9IG4sIGUuY2F0X2lkID0gcigiI0pfUGluZSIpLmF0dHIoImRhdGEtY2F0aWQiKSwgZS5yb290X2lkID0gcigiI0pfUGluZSIpLmF0dHIoImRhdGEtcm9vdGlkIiksIGUucGljID0gcigiI0pfSW1nQm9vdGgiKS5hdHRyKCJzcmMiKTsKCQkJCQkJdmFyIGMgPSByKCJtZXRhW25hbWU9J21pY3Jvc2NvcGUtZGF0YSddIikuYXR0cigiY29udGVudCIpLAoJCQkJCQkJcCA9IGMgJiYgYy5tYXRjaCgvdXNlcmlkPShcZCspLyk7CgkJCQkJCWkgPSBwICYmIHBbMV07CgkJCQkJCXZhciBoID0gcigiI0pfUHJpY2UiKS50ZXh0KCk7CgkJCQkJCXJldHVybiBlLnNob3BfbmFtZSA9IHIoIi5zaG9wa2VlcGVyIC5yaWdodCBhIikudGV4dCgpLCBlLnNob3BfYWRkcmVzID0gcigiLmxvY3VzIC5yaWdodCIpLnRleHQoKS5yZXBsYWNlKC8oPzpcdHxcbnxccykvZ2ksICIiKSwgZS5ubmlkID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvWz8mXWlkPShbMC05XSspLykgJiYgbG9jYXRpb24uaHJlZi5tYXRjaCgvWz8mXWlkPShbMC05XSspLylbMV0sIGUucHJpY2UgPSBoLCBlLm5ld3RpdGxlID0gcigiI0pfVGl0bGUgLnRiLW1haW4tdGl0bGUiKS50ZXh0KCkudHJpbSgpLCBlLml0ZW1JZCA9IGUubm5pZCwgZS51c2VyaWQgPSBpLCBlCgkJCQkJfSwKCQkJCQkidGFvYmFvLXNwdSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2RldGFpbCAuZGV0YWlsLWhkIGgzIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeGlqaWU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmRldGFpbF9zaF9yaWdodCBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWNhb21laXBhaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjcHJvX25hbWUgaDIiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlkYWh1b3poYW46IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb3BlcnR5IGgyIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaHVvbGlkYTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuaDFfdGl0bGUgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMTJkaWFuIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ29vZHN0aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCTExMTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiLmRldGFpbG5hdiBzcGFuIikubGFzdCgpLnRleHQoKSwgZS5wcmljZSA9IHdpbmRvdy5fQkZELkJGRF9JTkZPLnByaWNlLCBlCgkJCQkJfSwKCQkJCQlkYW95YW86IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RfMV80IC5kX3RhYmxlXzMgLmZvbnRfMDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlkb3ViYW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHIoIiNpbmZvIikuaHRtbCgpLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGEgPSB0LmluZGV4T2YoIklTQk46IiksCgkJCQkJCQkJbyA9IHQubGVuZ3RoOwoJCQkJCQkJZm9yIChhICs9IDEyOyBvID4gYTsgYSsrKSB0W2FdID49ICIwIiAmJiB0W2FdIDw9ICI5IiAmJiAoaSArPSB0W2FdKQoJCQkJCQl9IGNhdGNoIChsKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGUpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09PSBpKSB7CgkJCQkJCQl2YXIgYyA9IHIoIiNjb250ZW50IC5pbmRlbnQiKS5lcSgxKS50ZXh0KCkubWF0Y2goL2lzYm46IChcZCspLyk7CgkJCQkJCQljICYmIChpID0gY1sxXSwgaSA9IHMoaSkpCgkJCQkJCX0KCQkJCQkJdmFyIHAgPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpLAoJCQkJCQkJaCA9IHAubWF0Y2goL2d3ZF9pc2JuPShcZCspLyk7CgkJCQkJCWlmICgiIiA9PSBpKSB0cnkgewoJCQkJCQkJaSA9IGhbMV0KCQkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhlKSwgaSA9ICIiCgkJCQkJCX0KCQkJCQkJdmFyIHUgPSBkKCk7CgkJCQkJCXJldHVybiB1LmlzYm4gPSBpLCB1CgkJCQkJfSwKCQkJCQkiZG91YmFuLWRvbmd4aSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUudGl0bGUgPSByKCIuY29tbW9kaXR5LW5hbWUgYSIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJaXQxNjg6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnRpdGxlMTAwIGgxIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcGNvbmxpbmU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByby10aXQgLm5hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlwY3BvcDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudGl0MSBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXlva2E6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBJbmZvX2MyX2x1IGgyIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJIjU1YmJzIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuY3Bqc3JpZ2h0X25hbWUgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlvbmx5bGFkeTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuYm5uYWVyX3RleHQiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMjRkcSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxpbmdzaGk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2RldGFpbF9iYiBoMyIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW9ubHl0czogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjYnJlYWQgLmxhc3QiKS5lcSgxKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl3aW54dWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIjsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUgPSByKCdsaTpjb250YWlucygiSSBTIEIgTu+8miIpJykudGV4dCgpLnN1YnN0cig4KQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpLCBlID0gIiIKCQkJCQkJfQoJCQkJCQl2YXIgaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IHIoIm1ldGFbbmFtZT0na2V5d29yZHMnXSIpLmF0dHIoImNvbnRlbnQiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGksCgkJCQkJCQlpc2JuOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJlaWZhYm9vazogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiI0xhYmVsSVNCTiIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIGUgPSBlLnJlcGxhY2UoLy0vZywgIiIpLCB7CgkJCQkJCQluYW1lOiByKCIjTGFiZWxUaXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46IGUKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInNpbmEtdGVjaCI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIi56Y2JsazAyIGgyIikuaHRtbCgpOwoJCQkJCQlyZXR1cm4gKCJ1bmRlZmluZWQiID09IHR5cGVvZiBlIHx8ICIiID09IGUgfHwgbnVsbCA9PSBlKSAmJiAoZSA9IHIoIi5QYXJ0QVRpdGxlIGgyIikuaHRtbCgpLCAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGUgfHwgIiIgPT0gZSB8fCBudWxsID09IGUpICYmIChlID0gcigiLkluZm8gaDIiKS5odG1sKCksICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlIHx8IG51bGwgPT0gZSkgJiYgKGUgPSByKCIucHJvZHVjdC1uYW1lIGgxIikuaHRtbCgpLCAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGUgfHwgIiIgPT0gZSB8fCBudWxsID09IGUpICYmIChlID0gcigidGl0bGUiKS5odG1sKCkuc3Vic3RyKDAsIHIoInRpdGxlIikuaHRtbCgpLmluZGV4T2YoIl8iKSkpKSkpLCBlLmluZGV4T2YoIjwiKSA+IDAgJiYgKGUgPSBlLnN1YnN0cigwLCBlLmluZGV4T2YoIjwiKSkpLCBlID0gZS5yZXBsYWNlKCImbmJzcDsiLCAiIiksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkic2luYS1iYWJ5IjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZHBfaW5mb190aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJzaW5hLWVsYWRpZXMiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5ibGswMSBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJzb2h1LWl0IjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudGlsIGgyIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInNvaHUtd29tZW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5yIGgyIHNwYW4iKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMTYzLWRpZ2kiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIuY29sQSBoMyIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCBudWxsID09IGUgfHwgIiIgPT0gZSkgJiYgKGUgPSByKCIuY29sQSBoMSIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMTYzLWxhZHkiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWxib3gtbWFpbiBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJxcS1kaWdpIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnRvcF9oZCBoMiIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlIHx8IG51bGwgPT0gZSkgJiYgKGUgPSByKCIuZm9udDA3NTEgc3BhbiIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkicXEtaGVhIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiI3BkU2hvdyBoMSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlIHx8IG51bGwgPT0gZSkgJiYgKGUgPSByKCIjcGRTaG93IC5sb25nTmFtZSIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkicXEtbGFkeSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIi5wcm9faW5mbyAudGl0bGUiKS50ZXh0KCk7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJdmlwc2hvcDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGU7CgkJCQkJCQkJaWYgKHdpbmRvdy5PX3ZpZXdlZCkgZSA9IHsKCQkJCQkJCQkJY2F0X2lkOiB3aW5kb3cuT192aWV3ZWQuY2F0ZWdvcnlfaWQsCgkJCQkJCQkJCWNhdF9uYW1lOiB3aW5kb3cuT192aWV3ZWQuY2F0ZWdvcnlfbmFtZQoJCQkJCQkJCX07CgkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCXZhciB0ID0gcigiI0otYm90dG9tLWFkQ29kZSIpLm5leHQoKS50ZXh0KCk7CgkJCQkJCQkJCXQgfHwgKHQgPSByKCIjSl90b3BiYXJfcG9wX3RlbXBsYXRlIikubmV4dCgpLnRleHQoKSksIHQgPSAvdmFyIE9fdmlld2VkID0geyhbXHNcU10qPyl9Ly5leGVjKHQpLCB0ICYmICh0ID0gdFsxXSk7CgkJCQkJCQkJCXZhciBuID0gLydjYXRlZ29yeV9pZCcgOiAnKFxkKyknLy5leGVjKHQpOwoJCQkJCQkJCQluICYmIChuID0gblsxXSk7CgkJCQkJCQkJCXZhciBpID0gLydjYXRlZ29yeV9uYW1lJyA6ICcoLio/KScvLmV4ZWModCk7CgkJCQkJCQkJCWkgJiYgKGkgPSBpWzFdKSwgZSA9IHsKCQkJCQkJCQkJCWNhdF9uYW1lOiBpLAoJCQkJCQkJCQkJY2F0X2lkOiBuCgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJcmV0dXJuIGUKCQkJCQkJCX0sCgkJCQkJCQl0ID0gZSgpLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IHIoIi5idF9sYXlvdXQgbGk6Y29udGFpbnMoJ+WVhuWTgeWQjeensCcpIC5idF9sdF9wYXJfcCIpLnRleHQoKQoJCQkJCQl9IGNhdGNoIChhKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGEpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGkpIHRyeSB7CgkJCQkJCQlpID0gci50cmltKHIoIi5wcm9faW5mbyAuZ29vZHNfcHJvdGl0IikudGV4dCgpKQoJCQkJCQl9IGNhdGNoIChhKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGEpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGkpIHRyeSB7CgkJCQkJCQlpID0gcigiLmJ0X3RpdGxlIikudGV4dCgpLnJlcGxhY2UoLyg/OlxufFx0fFxzKS9naSwgIiIpCgkJCQkJCX0gY2F0Y2ggKGEpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coYSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcHJpY2U6IHIoIi5wYm94LXByaWNlIGVtIikudGV4dCgpLAoJCQkJCQkJbmFtZTogaSwKCQkJCQkJCWlzYm46ICIiLAoJCQkJCQkJY2F0X2lkOiB0LmNhdF9pZCwKCQkJCQkJCWNhdF9uYW1lOiB0LmNhdF9uYW1lLAoJCQkJCQkJYnJhbmRfc3RyaW5nOiByKCIucGliLXRpdGxlLWNsYXNzIGEiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJajE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RhcmVhLXJpZ2h0LTEgSDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5b3Vnb3U6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5nb29kc0NvbiAgLmYxNiIpLnRleHQoKSwgIiIgPT0gZS5uYW1lICYmIChlLm5hbWUgPSByKCIuZ29vZHNDb24gaDEiKS50ZXh0KCkucmVwbGFjZSgvXHMvZywgIiIpKSwgcigiI3lpdGlhblByaWNlIikgJiYgKGUucHJpY2UgPSByKCIjeWl0aWFuUHJpY2UiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQlqeGR5ZjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvZHVjdCAucHJvX25hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5YW9mYW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIucHJvX3RpdGxlIikuaHRtbCgpOwoJCQkJCQlyZXR1cm4gZS5pbmRleE9mKCI8IikgPiAwICYmIChlID0gZS5zdWJzdHIoMCwgZS5pbmRleE9mKCI8IikpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXRpYW50aWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWxfbWJ4IC5jX2VkIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInRpYW50aWFuLXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCd0ZDpjb250YWlucygi5ZWG5ZOB5ZCN56ewIikrdGQgc3BhbicpLnRleHQoKSwgZS5wcmljZSA9IHIoIi5idXlfcHJpIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLylbMF0KCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQl5aWd1bzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByLnRyaW0ocigiLm1haW4gLmNwbmFtZSBoMSIpLnRleHQoKSksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlqaXV4aWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuZG1haW5Cb3ggLmRldGFpbC1kZXBpY3QgLmRlcGljdC1uYW1lIGgxIikudGV4dCgpLCAiIiA9PSBlLm5hbWUgJiYgKGUubmFtZSA9IHIoIi5kZXRhaWxOYW1lIGgyIikudGV4dCgpLnJlcGxhY2UoIijnp4HkurrlrprliLYpIiwgIiIpKSwgZS5wcmljZSA9IHIoIiNfbm93UHJpY2VTdHIiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCSJtZWlsZWxlLXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIiNKU190Z19nb29kc19uYW1lIikudGV4dCgpOwoJCQkJCQl2YXIgdCA9IHIoIiNKU19ibnJfc3RhdGUiKS50ZXh0KCkubWF0Y2goL1swLTldKy8pOwoJCQkJCQlyZXR1cm4gdCAmJiAoZS5wcmljZSA9IHRbMF0pLCBlCgkJCQkJfSwKCQkJCQllaGFpZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5hLXByb2R1Y3QtdGl0bGUiKS50ZXh0KCksIGUucHJpY2UgPSByKCIucHJpY2V0YWcgLmN1ci1wcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOV0rLylbMF0sIGUKCQkJCQl9LAoJCQkJCXVsZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiLnByb2R1Y3RJbmZvIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiLnByb2R1Y3RQcmljZSAucHJpY2Ugc3Ryb25nIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQllc3ByaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIiNpdGVtTmFtZSIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIjcGRwUHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW++/pcKlXSsvLCAiIiksIGUKCQkJCQl9LAoJCQkJCWxpbmluZzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiI3Byb2R1Y3RfbmFtZSIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIjb2ZmZXJQcmljZSAudiIpLnRleHQoKS5yZXBsYWNlKC9bXHPvv6XCpV0vZywgIiIpLCBlCgkJCQkJfSwKCQkJCQlveWVhaDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigibWV0YVtuYW1lPSdLZXl3b3JkcyddIikuYXR0cigiY29udGVudCIpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWx2eW91bWFsbDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJtZXRhW25hbWU9J2tleXdvcmRzJ10iKS5hdHRyKCJjb250ZW50IiksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsZWZlbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiLAoJCQkJCQkJdCA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJZSA9IHIudHJpbShyKCIucGF0aCIpLnRleHQoKS5zcGxpdCgiLyIpLnBvcCgpKSwgdCA9ICJodHRwOi8vcHJvZHVjdC5sZWZlbmcuY29tL3Byb2R1Y3QvIiArIHIoIiNwcm9kdWN0SWQiKS52YWwoKSArICIuaHRtbCIKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKQoJCQkJCQl9CgkJCQkJCXZhciBhID0gewoJCQkJCQkJdXJsOiB0LAoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX07CgkJCQkJCXJldHVybiBuLmRwLnByaWNlIHx8IChhLnByaWNlID0gcigiLmRpdHktcHJpY2UtYyIpLnRleHQoKSksIGEKCQkJCQl9LAoJCQkJCXdiaWFvOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIjaW5mb19vbl9zYWxlIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiI3ByaWNlIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLylbMF0KCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQliYW5nZ286IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoIi5tYnNob3BfZGV0YWlsX3BkYnJhbmQgYSIpLnRleHQoKSArIHIoIi5tYnNob3BfZGV0YWlsX3BkbmFtZSIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIjc2FsZVByaWNlVGV4dCIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJeW9ob2J1eTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5wcmljZSA9IHIoIi5wcmljZS1zYWxlIikudGV4dCgpLm1hdGNoKC9bMC05LixdKy8pWzBdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJc3VuZGFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNidXlfZm9ybSBkaXYuYm94PmRpdi5uZy1pbmZvPmgyIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNidXlfZm9ybSBkaXYuYm94PmRpdi5uZy1zaXplIHNwYW4ucHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJamlhZTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjY29udGVudCBkaXYuaXRlbS1pbnRybz5kaXYucHJvcGVydHk+aDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2NvbnRlbnQgZGl2Lml0ZW0taW50cm8+ZGl2LnByb3BlcnR5IC5pdGVtRGV0YWlsLWl0ZW1QcmljZSBzcGFuLmotaXRlbS1ub3ctcHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJemF6aGlwdTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuaWNfY29udGVudCBkaXYuZ3JpZF9tIGRpdi54YmFzZV9yb3cxPmgxIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5pY19jb250ZW50IGRpdi5ncmlkX20gZGl2LnhiYXNlX3JvdzIgc3Bhbi5tb2RfcHJpY2UiKS50ZXh0KCkuc3BsaXQoIu+/pSIpWzJdLnNwbGl0KCIuIilbMF0KCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWljcm9zb2Z0c3RvcmU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiNpbm5lciBkaXYucGRwQ29udGVudD5kaXYucGRwSW5mbz4ucGRwX21vZHVsZV9pbmZvPmRpdi50aXRsZT5oMSIpLnRleHQoKSB8fCByKCIjaW5uZXIgZGl2LmNvbnRlbnQtYmxvY2sgLnJpZ2h0IGgyLnRpdGxlIikudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNpbm5lciBkaXYucGRwQ29udGVudD5kaXYucGRwSW5mbz4ucGRwX21vZHVsZV9pbmZvPi5wcmljZUFuZFJhbms+ZGl2LnByaWNlPnNwYW4uY3VycmVudCIpLnRleHQoKSB8fCByKCIjc2VsZWN0VmFyaWFudFByb2R1Y3Qgc3Bhbi5wcmljZSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlwcmljZTogdAoJCQkJCQl9CgkJCQkJfSwKCQkJCQl4Z2RxOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LW1haW4gLnByb2R1Y3QtdGl0bGVzPmgyIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcm9kdWN0LW1haW4gLnByb2R1Y3QtY29uY2VybnMgbGk6Zmlyc3QgLmFjdGlvbi1wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl4dGVwOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIuZ29vZHNEZXRhaWxzQm94IC5nb29kc1ByaWNlPmR0IikudGV4dCgpLAoJCQkJCQkJdCA9IHIoIi5nb29kc0RldGFpbHNCb3ggLmdvb2RzUHJpY2UgZGQ+dWw+bGk+ZGl2OmZpcnN0PnNwYW4iKS50ZXh0KCk7CgkJCQkJCXJldHVybiBlICYmIHQgfHwgKGUgPSByKCIud3JhcHBlciAuZ3JvdXBUaXR0bGUiKS50ZXh0KCksIHQgPSByKCIud3JhcHBlciAuZ3JvdXBQcmljZUJveD5hPnNwYW4iKS50ZXh0KCkpLCB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWlkZWE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3Rfd3JhcD4ucHJvZHVjdF9yaWdodD5oMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucHJvZHVjdF93cmFwPi5wcm9kdWN0X3JpZ2h0IC5wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfQoJCQkJfTsKCQkJdC5leHBvcnRzLmdldCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBpID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCQl0cnkgewoJCQkJCXZhciBhID0gdVtvXSgpOwoJCQkJCWEub2xkUHJpY2UgPSBhLnByaWNlLCBhLnByaWNlID0gYyhhLnByaWNlKSwgYS5vbGRQcmljZSA9IGMuZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5vbGRQcmljZSksIGEuc2l0ZSA9IG8sIG51bGwgPT0gYS51cmwgJiYgKG51bGwgIT0gYS5ocmVmID8gYS51cmwgPSBhLmhyZWYgOiBhLnVybCA9IGkpCgkJCQl9IGNhdGNoIChzKSB7CgkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhzKTsKCQkJCQl2YXIgYSA9IGQoKTsKCQkJCQlhLnNpdGUgPSBvLCBhLnVybCA9IGkKCQkJCX0KCQkJCXJldHVybiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgYS51c2VsZXNzICYmIGEudXNlbGVzcyA/IG51bGwgOiAoYS5pY29uID0gYS51cmwucmVwbGFjZSgvXmh0dHBbc10/XDpcL1wvL2csICIiKSwgYS5pY29uID0gYS5pY29uLnJlcGxhY2UoL1wvLio/JC9nLCAiIiksIGEuaWNvbiArPSAiL2Zhdmljb24uaWNvIiwgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBhLmlkIHx8IG51bGwgPT0gYS5pZCkgJiYgKGEuaWQgPSAiIiksICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgYS5rZXl3b3JkIHx8IG51bGwgPT0gYS5rZXl3b3JkKSAmJiAoYS5rZXl3b3JkID0gIiIpLCAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGEuc2tleXdvcmQgfHwgbnVsbCA9PSBhLnNrZXl3b3JkKSAmJiAoYS5za2V5d29yZCA9ICIiKSwgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBhLmlzYm4gfHwgbnVsbCA9PSBhLmlzYm4pICYmIChhLmlzYm4gPSAiIiksICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgYS5uYW1lIHx8ICIiID09IGEubmFtZSkgJiYgKGEubmFtZSA9IHIoInRpdGxlIikuaHRtbCgpKSwgbi5kcCA9IGEsICFhLnByaWNlICYmIDIgPiBsID8gKGwrKywgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQl0LmV4cG9ydHMuZ2V0KGUpCgkJCQl9LCA1MDApKSA6IGUgJiYgZSgpLCBhKQoJCQl9CgkJfSkuY2FsbChuLCBpKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQl2YXIgdCwgbiA9IDAsCgkJCQlpID0gMDsKCQkJaWYgKGUgPSBlLnRvU3RyaW5nKCksIGUubGVuZ3RoID4gMTApIHJldHVybiBlOwoJCQl2YXIgYSA9IGUuc2xpY2UoMCwgOSk7CgkJCWEgPSAiOTc4IiArIGE7CgkJCWZvciAodmFyIG8gPSAwOyBvIDwgYS5sZW5ndGg7IG8rKykgbyAlIDIgPT09IDAgPyBuICs9IE51bWJlcihhW29dKSA6IGkgKz0gTnVtYmVyKGFbb10pLCB0ID0gMTAgLSAobiArIDMgKiBpKSAlIDEwOwoJCQlyZXR1cm4gYSArPSB0LnRvU3RyaW5nKCkKCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDU3KSwKCQkJCQl0ID0gbig1OCksCgkJCQkJaSA9IG4oNTkpLAoJCQkJCXIgPSBuKDE3KSwKCQkJCQlzID0gbig2OCksCgkJCQkJbCA9IChuKDI4KSwgbig5KSksCgkJCQkJYyA9IG4oMjYpLAoJCQkJCWQgPSBuKDcwKSwKCQkJCQlwID0gbig3MSksCgkJCQkJaCA9IG4oNzIpLAoJCQkJCXUgPSBuKDI3KTsKCQkJCXJldHVybiBuKDczKSwgewoJCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJCSJlYXNlZXllcyIgPT0gYS5zaXRlICYmIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLnRvSlNPTlN0cmluZywgbygiaHRtbCIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiXyIgKyBhLnNpdGUpLCBvKCJodG1sIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICJfdmVyc2lvbl8iICsgYS5mcm9tX2RldmljZSksIGEudHJpZ2dlcigidmlzaXRQYWdlIiksIGMoInZpc2l0IiksIG4oOTApKCksIGMoInBhZ2VfdmlldzoiICsgYS5zaXRlKSwgMSA9PSBhLnBhZ2VJbmZvLnR5cGUgPyAodGhpcy5zaXRlX3NlYXJjaCgpLCBhLnRyaWdnZXIoInBhZ2VUeXBlPTEiKSwgbig5MSkuaW5pdCgpKSA6IDIgPT0gYS5wYWdlSW5mby50eXBlICYmICgiMzYwYnV5IiA9PSBhLnNpdGUgJiYgImx1eW91IiAhPT0gYS5idHlwZSA/ICEgZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgdCA9IGU7CgkJCQkJCQluKDUzKShmdW5jdGlvbigpIHsKCQkJCQkJCQl0LnNpdGVfZHAoKQoJCQkJCQkJfSkKCQkJCQkJfSgpIDogdGhpcy5zaXRlX2RwKCksIGEudHJpZ2dlcigicGFnZVR5cGU9MiIpKQoJCQkJCX0sCgkJCQkJaXNfdGFvYmFvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuICJ0YW9iYW8iID09IGEuc2l0ZSB8fCAidG1hbGwiID09IGEuc2l0ZQoJCQkJCX0sCgkJCQkJZ2V0X2Jyb3dzZXJfaW5mbzogZnVuY3Rpb24oKSB7CgkJCQkJCWEud2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAwID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgYS5oZWlnaHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID4gMCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwgImFtYXpvbiIgPT0gYS5zaXRlICYmIChhLmhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCgkJCQkJfSwKCQkJCQlnZXRUYW9iYW9JZEluZm86IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiLAoJCQkJCQkJdCA9IFtdOwoJCQkJCQlpZiAoInRhb2JhbyIgPT0gYS5zaXRlICYmIG8oIi5KX1BpY0JveCAuc2ltaWxhcnMgYSIpKSB7CgkJCQkJCQlmb3IgKHZhciBuID0gbygiLkpfUGljQm94IC5zaW1pbGFycyBhW2hyZWZdOmNvbnRhaW5zKOWQjOasvikiKSwgaSA9IG4ubGVuZ3RoLCByID0gL3VuaXFwaWQ9KFteJl0rKSY/L2ksIHMgPSAvJm5pZD0oW14mXSspJj8vaSwgbCA9IDA7IGkgPiBsOyBsKyspIHsKCQkJCQkJCQl2YXIgYyA9IHt9LAoJCQkJCQkJCQlkID0gbltsXS5ocmVmOwoJCQkJCQkJCWlmICghZCkgcmV0dXJuOwoJCQkJCQkJCXZhciBwID0gZC5tYXRjaChyKSwKCQkJCQkJCQkJaCA9IGQubWF0Y2gocyk7CgkJCQkJCQkJcCAmJiBwLmxlbmd0aCAmJiAoYy51bmlxID0gcFsxXSksIGggJiYgaC5sZW5ndGggJiYgKGMuaWQgPSBoWzFdKSwgdC5wdXNoKGMpCgkJCQkJCQl9CgkJCQkJCQllID0gIiZ1bmlxcGlkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpCgkJCQkJCX0KCQkJCQkJaWYgKCJzLnRhb2Jhby5jb20iID09IGxvY2F0aW9uLmhvc3QgJiYgbG9jYXRpb24uaHJlZi5pbmRleE9mKCJzYW1lc3R5bGUiKSA+IC0xICYmIGxvY2F0aW9uLmhyZWYuaW5kZXhPZigidW5pcXBpZCIpID4gLTEpIHsKCQkJCQkJCXZhciB1ID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvdW5pcXBpZD0oW14mXSspJj8vaSksCgkJCQkJCQkJbSA9IG8oIiNpMmktcmVjaXRlbSAucmVjaXRlbSAuaW5mb19faXRlbWFuY2hvciIpLAoJCQkJCQkJCWkgPSBtLmxlbmd0aCwKCQkJCQkJCQlmID0gL1s/Jl1pZD0oWzAtOV0rKS87CgkJCQkJCQl1ICYmIHUubGVuZ3RoICYmICh1ID0gdVsxXSk7CgkJCQkJCQlmb3IgKHZhciBsID0gMDsgaSA+IGw7IGwrKykgewoJCQkJCQkJCXZhciBkID0gbVtsXS5ocmVmOwoJCQkJCQkJCWlmICghZCkgcmV0dXJuOwoJCQkJCQkJCXZhciBnID0gZC5tYXRjaChmKTsKCQkJCQkJCQlnICYmIGcubGVuZ3RoICYmIHQucHVzaChnWzFdKQoJCQkJCQkJfQoJCQkJCQkJdmFyIF8gPSB7CgkJCQkJCQkJdW5pcTogdSwKCQkJCQkJCQlpZDogdAoJCQkJCQkJfTsKCQkJCQkJCWUgPSAiJnNhbWVzdHlsZUlkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoXykpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCXNpdGVfc2VhcmNoOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJdCA9IGEuZHZhbDsKCQkJCQkJbyh0KS5sZW5ndGggPiAwIHx8ICgvc2VhcmNoXC5qZFwuY29tLy50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIG8oIi5ucy1jb250ZW50IikubGVuZ3RoICYmIGMoInRyYWNrOmpkLXNlYXJjaDpuby1yZXN1bHQiKSwgdGhpcy5nZXRfYnJvd3Nlcl9pbmZvKCksIGwuZ2V0KGEuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZkZWZhdWx0X3N0eWxlPSIgKyBhLmRlZmF1bHRfc3R5bGUgKyAiJnJlZmVycmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIpKS5kb25lKGZ1bmN0aW9uKGkpIHsKCQkJCQkJCXIuc2V0KGkpLCBhLnBfaWQgPSBpLnBfaWQsIGEuaXNfb3BlbiA9IGkuaXNfb3BlbiwgYS5wb3NpdGlvbiA9IGkucG9zaXRpb24sIGEuc3R5bGUgPSBpLnN0eWxlICYmIG8uaW5BcnJheShpLnN0eWxlLCBbInRvcCIsICJib3R0b20iXSkgPj0gMCA/IGkuc3R5bGUgOiBhLmRlZmF1bHRfc3R5bGUsIGEuZm9sZCA9IGkuZm9sZCwgYS5maXJzdCA9IGkuZmlyc3QsIGEuc2hvd19tYWluYmFyID0gaS5zaG93X21haW5iYXIsIGEuZW1haWwgPSBpLmVtYWlsLCBhLnNob3dfdGlwID0gaS5zaG93X3RpcCwgYS5zaG93X3dpc2hsaXN0ID0gaS5zaG93X3dpc2hsaXN0LCBhLnNob3dfcHJvbW8gPSBpLnNob3dfcHJvbW8sIGEuc2hvd19ndWVzcyA9IGkuc2hvd19ndWVzcywgYS5zdWJzaXRlX2lkID0gaS5zdWJzaXRlX2lkLCBhLmZvcmNlID0gaS5mb3JjZSwgYS5pbWFnZUFkID0gaS5pbWFnZUFkLCBhLmFiID0gaS5hYiwgYS5idHlwZSB8fCAoYS5zdHlsZSA9IHUuZ2V0SW5mbygic2V0U3R5bGUiKSB8fCBhLnN0eWxlLCBhLnNob3dfdGlwID0gdS5nZXRJbmZvKCJzZXRUaXAiKSB8fCBhLnNob3dfdGlwKSwgMSAhPSBpLmhpZGVfc2hvcHRpcCAmJiBuKDk4KS5pbml0KCksIG4oMTEwKSgpLCBoLmluaXQoKSB8fCAobigxMTEpLmluaXQoKSwgbigxMTMpLmluaXQoKSwgYS50cmlnZ2VyKCJwZXJtYW5lbnRfaWQiKSwgMCAhPT0gcGFyc2VJbnQoYS5zaG93X21haW5iYXIpICYmIDAgIT09IHBhcnNlSW50KGEuc2hvd190aXApICYmICgoYS5oYW8xMjMgfHwgIm1heHRob24iID09PSBhLmZyb21fZGV2aWNlKSAmJiAoYS5zdHlsZSA9ICJib3R0b20iKSwgbygiYm9keSIpLmFwcGVuZCgnPGRpdiBpZD0iJyArIHQucmVwbGFjZSgiIyIsICIiKSArICciPjwvZGl2PicpLCBvKHQpLnNob3coKS5jc3MoewoJCQkJCQkJCW1hcmdpbjogMCwKCQkJCQkJCQlwYWRkaW5nOiAwLAoJCQkJCQkJCWJvcmRlcjogMCwKCQkJCQkJCQlmb250OiAiMTRweC8xLjYgJ01pY3Jvc29mdCBZYUhlaScsIHRhaG9tYSwgYXJpYWwsICdTaW1TdW4nIiwKCQkJCQkJCQljb2xvcjogIiMwMDAiLAoJCQkJCQkJCW92ZXJmbG93OiAidmlzaWJsZSAhaW1wb3J0YW50IgoJCQkJCQkJfSksIGQoKSwgbC5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9zaXRlX3NlYXJjaD9wZXJtYW5lbnRfaWQ9IiArIGEucF9pZCArICImc2l0ZT0iICsgYS5zaXRlICsgZS5nZXRUYW9iYW9JZEluZm8oKSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQkJZS5zaG93X3NlYXJjaF9iYXIodCwgYS5zdHlsZSkKCQkJCQkJCX0pKSkKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlzaXRlX2RwOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHMgPSB0aGlzOwoJCQkJCQlhLmRwICYmICgiZGFuZ2RhbmciID09IGEuc2l0ZSAmJiBvKCJoZWFkIikuYXBwZW5kKCI8bWV0YSBodHRwLWVxdWl2PSdYLVVBLUNvbXBhdGlibGUnIGNvbnRlbnQ9J0lFPWVkZ2UnIC8+IiksIGEuZHAucHJpY2UgfHwgKGEuZHAucHJpY2UgPSBlLmdldE9ubGluZVByaWNlKGEuc2l0ZSkpLCBhLmRwLmludmVudG9yeSA9IHQuaW5pdChhLnNpdGUpLCAibHV5b3UiICE9IGEuYnR5cGUgJiYgbigxMTUpLnJlYWR5KCksIG4oODMpLmluaXQoKSwgImFsaWV4cHJlc3MiID09PSBhLnNpdGUgJiYgbigxMTYpLmluaXQoKSwgKCJhbWF6b24iID09PSBhLnNpdGUgJiYgKCJ3d3cuYW1hem9uLmNvbSIgPT09IGxvY2F0aW9uLmhvc3QgfHwgInd3dy5hbWF6b24uY28uanAiID09PSBsb2NhdGlvbi5ob3N0KSB8fCAiNnBtIiA9PT0gYS5zaXRlKSAmJiBuKDE1MykuaW5pdCgpLCB0aGlzLmdldF9icm93c2VyX2luZm8oKSwgbC5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQ/dmVyc2lvbj0yJnNob3dfc2hhcmU9MSZwX2ZvbGQ9MCZkZWZhdWx0X3N0eWxlPSIgKyBhLmRlZmF1bHRfc3R5bGUgKyAiJnJlZmVycmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIpKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmIChyLnNldCh0KSwgYS5wX2lkID0gdC5wX2lkLCBhLmlzX29wZW4gPSB0LmlzX29wZW4sIGEucG9zaXRpb24gPSB0LnBvc2l0aW9uLCBhLnN0eWxlID0gdC5zdHlsZSAmJiBvLmluQXJyYXkodC5zdHlsZSwgWyJ0b3AiLCAiYm90dG9tIl0pID49IDAgPyB0LnN0eWxlIDogYS5kZWZhdWx0X3N0eWxlLCBhLm5vdGljZSA9IHQubm90aWNlLCBhLmZpcnN0ID0gdC5maXJzdCwgIiIgIT09IHQucF9mb2xkICYmIChhLnBfZm9sZCA9IHQucF9mb2xkKSwgYS5lbWFpbCA9IHQuZW1haWwsIGEuc2hvd190aXAgPSB0LnNob3dfdGlwLCBhLnNob3dfd2lzaGxpc3QgPSB0LnNob3dfd2lzaGxpc3QsIGEuc2hvd19wcm9tbyA9IHQuc2hvd19wcm9tbywgYS5zaG93X21haW5iYXIgPSB0LnNob3dfbWFpbmJhciwgYS5zaG93X2d1ZXNzID0gdC5zaG93X2d1ZXNzLCBhLnN1YnNpdGVfaWQgPSB0LnN1YnNpdGVfaWQsIGEuZm9yY2UgPSB0LmZvcmNlLCBhLmltYWdlQWQgPSB0LmltYWdlQWQsIGEuc2hvd19oYWl0YW8gPSB0LnNob3dfaGFpdGFvLCBhLnBvcF9zaGFyZSA9IHQuc2hhcmUsIGEuc2VhcmNoX3dheSA9IHQuc2VhcmNoX3dheSwgYS5idHlwZSB8fCAoYS5zdHlsZSA9IHUuZ2V0SW5mbygic2V0U3R5bGUiKSB8fCBhLnN0eWxlLCBhLnNob3dfaGFpdGFvID0gdS5nZXRJbmZvKCJzZXRoYWl0YW8iKSB8fCBhLnNob3dfaGFpdGFvLCBhLnNob3dfd2lzaGxpc3QgPSB1LmdldEluZm8oInNldFdpc2hsaXN0IikgfHwgYS5zaG93X3dpc2hsaXN0LCBhLnNob3dfcHJvbW8gPSB1LmdldEluZm8oInNldFNob3dQcm9tbyIpIHx8IGEuc2hvd19wcm9tbyksIGEudHJpZ2dlcigiZHBwYWdlX3Blcm1hbmVudCIpLCBuKDExMCkoKSwgIWguaW5pdCgpICYmIChuKDExMSkuaW5pdCgpLCAxICE9IHQuaGlkZV9zaG9wdGlwICYmIG4oOTgpLmluaXQoKSwgYS5wcm92aW5jZV9pZCA9IGUuZ2V0U3ViU3RhdGlvbklkKGEuZHAuc2l0ZSksIDAgIT09IGEuc2hvd19tYWluYmFyICYmICIwIiAhPT0gYS5zaG93X21haW5iYXIpKSB7CgkJCQkJCQkJdmFyIG0gPSAiYm9keSI7CgkJCQkJCQkJYS5tYXh0aG9uX3RtYWxsICYmIChtID0gImh0bWwiKTsKCQkJCQkJCQl2YXIgZiA9IGEuZHZhbDsKCQkJCQkJCQlvKG0pLmFwcGVuZCgnPGRpdiBpZD0iJyArIGYucmVwbGFjZSgiIyIsICIiKSArICciID48L2Rpdj4nKSwgbyhmKS5zaG93KCksIGQoKTsKCQkJCQkJCQl2YXIgZyA9ICJkcF9xdWVyeSI7CgkJCQkJCQkJImJvdHRvbSIgPT0gYS5zdHlsZSAmJiAoZyA9ICJwcm9kdWN0Iik7CgkJCQkJCQkJdmFyIF8gPSBhLmRlYnVnID8gIiZkZWJ1Zz0xIiA6ICIiLAoJCQkJCQkJCQl4ID0gYS5zZXJ2ZXIgKyAiL2Jyd2V4dC8iICsgZyArICI/cGVybWFuZW50X2lkPSIgKyBhLnBfaWQgKyAiJnVuaW9uPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS51bmlvbikgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEuZHAudXJsKSArICImc2l0ZT0iICsgYS5kcC5zaXRlICsgIiZpc2JuPSIgKyBhLmRwLmlzYm4gKyAiJm5hbWU9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmRwLm5hbWUpICsgIiZrZXl3b3JkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC5rZXl3b3JkKSArICImc2tleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmRwLnNrZXl3b3JkKSArICImaWQ9IiArIGEuZHAuaWQgKyAiJnByaWNlPSIgKyBhLmRwLnByaWNlICsgIiZzdG9jaz0iICsgYS5kcC5pbnZlbnRvcnkgKyAiJnByb3ZpbmNlX2lkPSIgKyBhLnByb3ZpbmNlX2lkICsgIiZzdWJzaXRlX2lkPSIgKyBhLnN1YnNpdGVfaWQgKyAiJmNhdF9pZD0iICsgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiBhLmRwLmNhdF9pZCA/IGEuZHAuY2F0X2lkIDogIiIpICsgIiZwaWM9IiArICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgYS5kcC5waWMgPyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC5waWMpIDogIiIpICsgIiZ1c2VyaWQ9IiArIGEuZHAudXNlcmlkICsgIiZzaG9wX25hbWU9IiArIGEuZHAuc2hvcF9uYW1lICsgIiZzaG9wX2FkZHJlcz0iICsgYS5kcC5zaG9wX2FkZHJlcyArICImY2F0X25hbWU9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmRwLmNhdF9uYW1lKSArICImYnJhbmRfc3RyaW5nPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC5icmFuZF9zdHJpbmcpICsgXzsKCQkJCQkJCQlsLmdldCh4KS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJaWYgKGEudHJpZ2dlcigibWFpbjpnZXRfZHBfZGF0YSIsIGUpLCBwLnNldCgiZHBfZGF0YSIsIGUpLCBhLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUubG9nKGUpLCBhLnNhdmVfZHBfcXVlcnkgPSBlLCBpLmluaXQoKSwgYS5kcElzQm9vayA9IGUgJiYgZS5leGFjdF9hcnIgJiYgZS5leGFjdF9hcnIuaXNibiwgbig4MikucmVhZHkoKSwgbigxNTUpLmxvZ0RwSW5mbyh7CgkJCQkJCQkJCQlwaWQ6IGEucF9pZCwKCQkJCQkJCQkJCXJlZmVyVXJsOiBkb2N1bWVudC5yZWZlcnJlciwKCQkJCQkJCQkJCXByaWNlOiBlLm5vdy5wcmljZSB8fCBhLmRwLnByaWNlLAoJCQkJCQkJCQkJY2xhc3NfaWQ6IGUubm93LmNsYXNzX2lkLAoJCQkJCQkJCQkJYnJhbmRfaWQ6IGUuZXhhY3RfYXJyLmJyYW5kX2lkCgkJCQkJCQkJCX0pLCBjKCJjYXRlZ29yeToiICsgYS5zaXRlICsgIjoiICsgZS5ub3cubm93X2RwX2lkICsgIi8iICsgZS5ub3cuY2xhc3NfaWQgKyAiLyIpLCBhLndoZXJlX2J1eV9kcHMgPSBlICYmIGUuYjJjICYmIGUuYjJjLmFsbF9kcF9pZHMgfHwgIiIsIGEud2hlcmVfYnV5X2RwcykgewoJCQkJCQkJCQkJZm9yICh2YXIgdCA9IGEud2hlcmVfYnV5X2Rwcy5zcGxpdCgifCIpLCBvID0gIjAtMCIsIHIgPSAwOyByIDwgdC5sZW5ndGggJiYgIShyID4gNik7IHIrKykgbyArPSAiLCIsIG8gKz0gdFtyXTsKCQkJCQkJCQkJCWEud2hlcmVfYnV5X2RwcyA9IG8KCQkJCQkJCQkJfQoJCQkJCQkJCQlhLmNvbGxlY3RJbmZvID0gZS5jb2xsZWN0SW5mbywgYS5ub3dfZHBfaWQgPSBzLmlzX3Rhb2JhbygpID8gZSAmJiBlLmV4YWN0X2FyciAmJiBlLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCA6IGUgJiYgZS5ub3cgJiYgZS5ub3cubm93X2RwX2lkLCBhLnNpdGVfaWQgPSBlLm5vdy5zaXRlX2lkLCBzLnNob3dfZHBfYmFyKGUsIGEuc3R5bGUpCgkJCQkJCQkJfSkKCQkJCQkJCX0KCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlzaG93X3NlYXJjaF9iYXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIGkgPSBuKDExKTsKCQkJCQkJaWYgKG4oNjEpLmluaXQoKSwgaS5jaGVjaygpICYmICJsdXlvdSIgPT0gYS5idHlwZSkgewoJCQkJCQkJbigxNTYpLmluaXQoZSk7CgkJCQkJCQl0cnkgewoJCQkJCQkJCW4oMjA1KS5pbml0KCkKCQkJCQkJCX0gY2F0Y2ggKG8pIHt9CgkJCQkJCX0gZWxzZSAiYm90dG9tIiA9PSB0ID8gbigyMDgpLnJlbmRlclNlYXJjaCgpIDogKCJ1bmRlZmluZWQiID09IHR5cGVvZiB0IHx8ICJ0b3AiID09IHQpICYmIG4oMTU3KS5kaXNwbGF5X3NlYXJjaF9iYXJfdG9wKGUpCgkJCQkJfSwKCQkJCQlzaG93X2RwX2JhcjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQljKCJwcm9kdWN0X3BhZ2VfdmlzaXQ6IiArIGEuc2l0ZSksICJjaHJvbWUiID09IGEuZnJvbV9kZXZpY2UgJiYgcy5pbml0KCksICJ0b3AiID09IHQgPyBuKDE1NykuaW5pdChlKSA6ICJib3R0b20iID09IHQgJiYgbigyMDgpLmluaXQyKGUpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJbigyMTQpLmluaXQoKQoJCQkJCQl9LCA1MDApOwoJCQkJCQl0cnkgewoJCQkJCQkJbigyMDUpLmluaXQoKQoJCQkJCQl9IGNhdGNoIChpKSB7fQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJbig2NykuaW5pdCgpCgkJCQkJCX0sIDJlMykKCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gYS5kcC5wcmljZTsKCQkJCQlyZXR1cm4gZSAmJiAoZSA9IE51bWJlcihlKSksIGUKCQkJCX0KCQkJCXZhciB0LCBpID0gbig2KSwKCQkJCQlvID0gbig0MCk7CgkJCQlyZXR1cm4gewoJCQkJCWdldE9ubGluZVByaWNlOiBmdW5jdGlvbih0KSB7CgkJCQkJCXQgPSB0IHx8IGEucGFnZUluZm8uc2l0ZU5hbWU7CgkJCQkJCXZhciBuID0gMDsKCQkJCQkJdHJ5IHsKCQkJCQkJCWlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgdGhpcy5wcmljZVBhdHRlcm5bdF0pCgkJCQkJCQkJZm9yICh2YXIgciA9IHRoaXMucHJpY2VQYXR0ZXJuW3RdLmxlbmd0aCwgcyA9IHRoaXMucHJpY2VQYXR0ZXJuW3RdLCBsID0gMDsgciA+IGw7IGwrKykgdHJ5IHsKCQkJCQkJCQkJdmFyIGMgPSBzW2xdOwoJCQkJCQkJCQlpZiAobiA9IGkoYyArICI6dmlzaWJsZSIpLmxlbmd0aCAmJiBpKGMpLmVxKDApLnRleHQoKSwgIW4pIGNvbnRpbnVlOwoJCQkJCQkJCQlpZiAobiA9IG8obikpIGJyZWFrCgkJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKGQpCgkJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKGQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuICgwID09IG4gfHwgIiIgPT0gbikgJiYgKG4gPSBlKCkpLCBuCgkJCQkJfSwKCQkJCQlwcmljZVBhdHRlcm46IHsKCQkJCQkJY29vY2FhOiBbIiNFQ1NfU0hPUFBSSUNFIHNwYW46ZXEoMSkiLCAiI0VDU19TSE9QUFJJQ0UiXSwKCQkJCQkJbnViaWE6IFsiLnBkdGJ5LXByaWNlIl0sCgkJCQkJCWNvb2xwYWQ6IFsiLnByb2R1Y2Vfc2NhbGxfcmlnaHRfdGV4dGIgdWwgbGkgc3Bhbi5wcm9kdWNlX3NjYWxsX3JpZ2h0X3RleHR4Il0sCgkJCQkJCWxlbm92bzogWyIubGVub3ZvLW1lbWJlci1wcmljZSBmb250IiwgIiNncHJpY2UiXSwKCQkJCQkJZ2p3OiBbIiNzcFByaWNlIiwgIi5nb3VqaXVfcHJpY2UiXSwKCQkJCQkJaG9tZXZ2OiBbIi5odF9tb25leSJdLAoJCQkJCQl4aWFvbWk6IFsiLmdvb2RzLWluZm8taGVhZCAuSl9taV9nb29kc1ByaWNlIiwgIi5KX21pX2dvb2RzUHJpY2UiLCAiLnByaWNlIC5udW0iXSwKCQkJCQkJeGl1OiBbIiNwcmRfcHJpY2VfZGl2IC5zdHlsZTMiXSwKCQkJCQkJbW9vbmJhc2E6IFsiI3Bfc2FsZXByaWNlIiwgIi5kZXRhaWxwcmljZSIsICIubGVmdFByaWNlIGIiXSwKCQkJCQkJajE6IFsiI2ppYW55aVByaWNlIl0sCgkJCQkJCXM6IFsiLnNhbGVQcmljZV9iaWciXSwKCQkJCQkJbGV0YW86IFsiI3NwZWNpYWwrLmx0cHJpY2UiLCAiLmx0cHJpY2UiXSwKCQkJCQkJbXV5aW5nemhpamlhOiBbIi5wLXByaWNlIl0sCgkJCQkJCXBhaXhpZTogWyIjanNfY3VycmVudF9wcmljZSJdLAoJCQkJCQl6aGl3bzogWyIubXVtZXIiLCAiLmRzaW5nbGVfbm93cHJpY2UiXSwKCQkJCQkJYm9va3NjaGluYTogWyJzcGFuLnRoaXNwcmljZSIsICIudGhpc3ByaWNlIl0sCgkJCQkJCWxleW91OiBbIiNsZXlvdWppYSJdLAoJCQkJCQl0YW9iYW86IFsiLnRtLXByb21vLXByaWNlIC50bS1wcmljZSIsICIudGItd3JUdWFuLW51bSIsICIjSl9TdHJQcmljZU1vZEJveCAudG0tcHJpY2UiLCAiI0pfUHJvbW9QcmljZSAudGItcm1iLW51bSIsICIjSl9Qcm9tb0JveCAuSl9DdXJQcmljZSIsICIjSl9TdHJQcmljZSIsICIudGJpZC1kZXRhaWwtcHJpY2UiXSwKCQkJCQkJInRhb2Jhby1qdSI6IFsiLmN1cnJlbnRQcmljZSJdLAoJCQkJCQl0bWFsbDogWyIjSl9QcmljZSIsICIjSl9TdHJQcmljZSIsICIudG0tcHJvbW8tcHJpY2UgLnRtLXByaWNlIiwgIiNKX1N0clByaWNlTW9kQm94IC50bS1wcmljZSIsICIudG0tcHJpY2UiXSwKCQkJCQkJYW1hem9uOiBbIiNwcmljZWJsb2NrX291cnByaWNlIiwgIi5wcmljZUxhcmdlIl0sCgkJCQkJCSJnb21lLXEiOiBbIi5wcmljZSJdLAoJCQkJCQlkYW5nZGFuZzogWyIjcHJvbW9fcHJpY2UiLCAiLnByaWNlTGFyZ2UiLCAiI3NhbGVQcmljZVRhZyIsICIjZF9wcmljZSJdLAoJCQkJCQltMTg6IFsiLmRldGFpbHNBcmVhIHN0cm9uZ1tkYXRhLXByaWNlXSJdLAoJCQkJCQlzZXBob3JhOiBbIi5wcm9EZXRJbmZvIC5wcm9QcmljZSBzcGFuIl0sCgkJCQkJCXRhb3hpZTogWyIjZGl2dHhwcmljZSAuZC1yZWFsLXByaWNlIl0sCgkJCQkJCWx1c2VuOiBbIiNQcm9kdWN0UHJpY2UiXSwKCQkJCQkJbWJhb2JhbzogWyIucHJpY2UtbnVtIl0sCgkJCQkJCWNodW5zaHVpdGFuZzogWyIudHVhbi1idXktdGV4dCIsICIuR2Rfc2hvcF9QcmljZSBkdCJdLAoJCQkJCQlveWVhaDogWyIucHJpY2VzdHkiXSwKCQkJCQkJeDogWyIucHJvX2JpZ19yaWdodCAubGlzdCAuanNqW3N0eWxlXj10ZXh0XSIsICIuanNqIGIiXSwKCQkJCQkJbm81OiBbIi5wcm9kUmVkVHh0LnByaWNlIl0sCgkJCQkJCSIzNjBreHIiOiBbIiNwcm9fbWFsbF9wcmljZSJdLAoJCQkJCQltNmdvOiBbIiNTR29vZHNQcmljZSJdLAoJCQkJCQlsaWtlZmFjZTogWyIudFByYzEudFByY09uPmRpdj5iIiwgIiNqcnRqIl0sCgkJCQkJCW1vcmVmb29kOiBbIi5wcm8taW5mbyAudGV4dDIiXSwKCQkJCQkJeWFvZmFuZzogWyIuc194aWFuamlhXzE0MDUxOSJdLAoJCQkJCQkiOTlyZWFkIjogWyIjcGFuZWwtcmlnaHQgLnByby1JbmZvTGlzdCBsaSBzcGFuLmYtUHJpY2UiXSwKCQkJCQkJImNoaW5hLXB1YiI6IFsiI3h4amcgLnByb19idXlfc2VuIiwgIi5wcm9fYnV5X3NlbiJdLAoJCQkJCQl3aW54dWFuOiBbIi5wcmljZS1uIGRkIGIiXSwKCQkJCQkJZWZlaWh1OiBbIi51aV9wcmljZSBzdHJvbmcgZW0iXSwKCQkJCQkJaGFwcGlnbzogWyIjcmVhbF9wcmljZSJdLAoJCQkJCQlnYXA6IFsiI3Byb2R1Y3RTaG93UHJpY2UiXSwKCQkJCQkJdGlhbnRpYW46IFsiLnh4X3ByaWNlIl0sCgkJCQkJCXhpamllOiBbIi5kZXRhaWxfcHJvX2RfMSJdLAoJCQkJCQlsaW5nc2hpOiBbIiNzaG9wcHJpY2UiXSwKCQkJCQkJYmFuZ2dvOiBbIiNzYWxlUHJpY2VUZXh0Il0sCgkJCQkJCXllc215d2luZTogWyIuZXhwbGFpbiAubXlQcmljZSJdLAoJCQkJCQlqeGR5ZjogWyIjemNfamlhZ2UgLmp4UHJpY2UiXSwKCQkJCQkJdG9vdG9vOiBbIiNwcmljZSJdLAoJCQkJCQl6bTc6IFsiI0VDU19TSE9QUFJJQ0UiXSwKCQkJCQkJbWlxaTogWyIubGVmdF90b3BUYWJsZV9idG4iXSwKCQkJCQkJaml1bWVpOiBbIiNqaWFnZSAuY3V4aWFvIC5udW1iIHN0cm9uZyJdLAoJCQkJCQlva2hxYjogWyIuY3otbnVtIl0sCgkJCQkJCWJvb2t1dTogWyIjYmstZC1wcmljZSJdLAoJCQkJCQl0YW8zYzogWyIuZGV0YWlsX2luZm9fcm0xIGNpdGUiXSwKCQkJCQkJZDE6IFsiLnBfbXAiXSwKCQkJCQkJcnVpeWk6IFsiLmdvb2RzLXByaWNlIC5wcmljZTEiXSwKCQkJCQkJbGFtaXU6IFsiLmFjdGlvbi1wcmljZSJdLAoJCQkJCQl3YmlhbzogWyIjZzVfcHJpY2UiXSwKCQkJCQkJZWhhaWVyOiBbIi5jdXItcHJpY2UiXSwKCQkJCQkJc2Vjb286IFsiI3NlY29vUHJpY2VKcyJdLAoJCQkJCQl4aWZ1cXVhbjogWyIuamdfY3Vob25nIl0sCgkJCQkJCXlpZ3VvOiBbIi5wcm8tcHJpY2U+ZGl2IHN0cm9uZyJdLAoJCQkJCQl5dW1teTc3OiBbIi5jcHJpY2UgLnByaWNlIl0sCgkJCQkJCWZydWl0ZGF5OiBbIi5wcm9kX3ByaWNlIiwgIiNqcS1wcmljZSJdLAoJCQkJCQl6dWlwaW46IFsiLmRldGFpbF9wcmljZSJdLAoJCQkJCQl5b2hvYnV5OiBbIi5wcmljZS1zYWxlIl0sCgkJCQkJCWlranRhbzogWyIjRUNTX0dPT0RTX0FNT1VOVCJdLAoJCQkJCQltaXlhYmFvYmVpOiBbIiNpdGVtX3ByaWNlIl0sCgkJCQkJCXVsZTogWyIucHJvZHVjdFByaWNlIC5wcmljZSBzdHJvbmciXSwKCQkJCQkJbWluc2hlbmdlYzogWyIubXNfcHJpY2UgLmRkIHN0cm9uZyJdLAoJCQkJCQl3YW5nZnVqaW5nOiBbIiNwcm8tcHJpY2UgLmNvc3QiXSwKCQkJCQkJbWVpbGVsZTogWyIjSlNfZWZmZWN0X3ByaWNlIl0sCgkJCQkJCXN1cHV5OiBbIiNTaG93UHJpY2UiLCAiLmdvb2RfZF9wcmljZW5ldyIsICIjZ19wcmljZSJdLAoJCQkJCQlsaW5pbmc6IFsiI29mZmVyUHJpY2UgLnYiXSwKCQkJCQkJcnJzOiBbIi5jdXItcHJpY2UiXSwKCQkJCQkJbGlmZXZjOiBbIiNzaG9wcGluZ1BhbmVsVXBwZXIgLnNob3BwaW5nSW5mbyAuc2FsZVByaWNlIl0sCgkJCQkJCXltYXRvdTogWyIjcHJvRGV0YWlsIC5wcm9tb3Rpb24gLmNvdW50Il0sCgkJCQkJCWtqdDogWyIubWFpblByaWNlIl0sCgkJCQkJCWxvZ2l0ZWNoOiBbIi5zYWxlLXByaWNlIl0sCgkJCQkJCXhpamk6IFsiLmFjdGlvbi1wcmljZSJdLAoJCQkJCQluaWtlOiBbIi5leHAtcGRwLXByb2R1Y3QtcHJpY2UtY29udGFpbmVyIC5leHAtcGRwLWxvY2FsLXByaWNlIl0sCgkJCQkJCSIzNjBrYWQiOiBbIiNwcmljZW51bWJlciJdLAoJCQkJCQltZWljaTogWyIucHJpY2UiLCAiLnByb19wcmljZSAuY19wdXJwbGUiXSwKCQkJCQkJYmVpYmVpOiBbIiNkZXRhaWwtbWV0YSAucHJpY2UtaW5mbyAucHJpY2UiXSwKCQkJCQkJIjEwMHl1ZSI6IFsiLmFjdGlvbi1wcmljZSIsICIjcHJpY2UiXSwKCQkJCQkJZGFsaW5nOiBbIi5nb29kcy1wcmljZSAuYm9sZCJdLAoJCQkJCQlzZmh0OiBbIi5nb29kcy1wcmljZS1yMSBzdHJvbmciXSwKCQkJCQkJIjM2MGJ1eSI6IFsiI2pkLXByaWNlIiwgIiNwcmljZWluZm8iLCAiI3RlYW1TdGF0dXMgLnAtcHJpY2UiLCAiI3N1bW1hcnktcHJpY2UiLCAiLnN1bW1hcnktcHJpY2UgLnAtcHJpY2UgLnByaWNlIl0sCgkJCQkJCSI1MWJ1eSI6IFsiLnhwcmljZV92YWxbaXRlbXByb3A9J2xvd1ByaWNlJ10iLCAiLnhwcmljZV92YWxbaXRlbXByb3A9J3ByaWNlJ10iLCAiLnByaWNlX2ZvbnQiXSwKCQkJCQkJc3VuaW5nOiBbIiNwcm9tb3Rpb25QcmljZSIsICIjcHJvbW90aW9uUHJpY2UgZW0iLCAiI2lzcXVpY2tCdXlCb3hQcmljZSBlbSIsICIjYm9va3ByZHByaWNlIiwgIiNuZXRQcmljZSBlbSIsICIjbWFpblByaWNlIGVtIiwgIiNycFByaWNlIiwgIiNwcm9tb1ByaWNlIiwgIiNlUHJpY2UgZW0iXSwKCQkJCQkJeWloYW9kaWFuOiBbIiNkZXRhaWxfcHJvbV9wcmljZSIsICIjY3VycmVudF9wcmljZSIsICIjcHJvZHVjdEZhY2FkZVByaWNlIiwgIiNub25NZW1iZXJQcmljZSBzdHJvbmciLCAiLnByaWNlYm94Il0sCgkJCQkJCXZhbmNsOiBbIi5jdXhpYW9QcmljZSBzdHJvbmciXSwKCQkJCQkJZ29tZTogWyIjcHJkUHJpY2UiLCAiLmRldGFpbCAucHJpY2UiXSwKCQkJCQkJb2tidXk6IFsiI3Byb2RQcmljZUFqIl0sCgkJCQkJCXZqaWE6IFsiI1NwZWNpYWxQcmljZSJdLAoJCQkJCQlqdW1laTogWyIubmV3ZGVhbF9kZWFsX3ByaWNlIiwgIi5wcmljZV9ub3ciLCAiI21hbGxfcHJpY2UiLCAiLmRlYWxfb3JpX3ByaWNlIC5kZWFsX2FjY291dF90d28iXSwKCQkJCQkJanVtZWlnbG9iYWw6IFsiLmp1bWVpX3ByaWNlIl0sCgkJCQkJCXlvdWdvdTogWyIueHNidXlfaXRtIHN0cm9uZy5wcmljZSIsICIjeWl0aWFuUHJpY2UgaSIsICIjeWl0aWFuUHJpY2UiXSwKCQkJCQkJc2hvcGluOiBbIi5zZWxQcmljZSBzcGFuOmVxKDEpIiwgIi5zaG9waW5qZzEiXSwKCQkJCQkJdm1hbGw6IFsiI3Byby1wcmljZSJdLAoJCQkJCQlzZmJlc3Q6IFsiLnByaWNlQm94IC5wcmljZSIsICIucHJpY2UiLCAiI3ByaWNlIGZvbnQiXSwKCQkJCQkJb3VrdTogWyIjcGRBbGxQcmljZSAucHJjIiwgIi5zYWxlLXByaWNlIl0sCgkJCQkJCXdvbWFpOiBbIiNidXlQcmljZSJdLAoJCQkJCQkiYmFpZHUtd2VpZ291IjogWyIjbmV3LXByaWNlIiwgIi5vbGQtcHJpY2UiXSwKCQkJCQkJeWludGFpOiBbInNwYW4ueXQtbnVtIiwgIi55dC1udW0iXSwKCQkJCQkJZmVpbml1OiBbIiNwcmljZUZuIiwgIiNKX3Byb2R1Y3RfdmFsdWUgLmZuLXJtYi1udW0iXSwKCQkJCQkJaml1eGlhbjogWyIjYWN0UHJpY2VQcmljZSIsICIjX25vd1ByaWNlU3RyIl0sCgkJCQkJCXpvbDogWyIucHJpY2UtdHlwZSJdLAoJCQkJCQlmZWlmZWk6IFsiLnByaWNlLWJveCAucHJpY2UtZGV0YWlsIiwgIi5wcmljZS1pbmZvLXZhbHVlIiwgIi5wcmljZS1ib3giXSwKCQkJCQkJa3pqMzY1OiBbIiNycHJpY2UiXSwKCQkJCQkJa2FvbGE6IFsiI2pzX2N1cnJlbnRQcmljZSJdLAoJCQkJCQltZXRhbzogWyIucGlfcHJpY2VfYm94X3JvdyAucGJveF9wcmljZSIsICIucHJpY2Vfc2VuZHBsYWNlIC5wcmljZSJdLAoJCQkJCQlwaGlsaXBzOiBbIi5wZGMtYmx1ZS1jIHNwYW4iXSwKCQkJCQkJdGNsOiBbIiNwcmljZUJ1eSJdLAoJCQkJCQljaGFuZ2hvbmc6IFsiLnRpX3NjYyBzdHJvbmciXSwKCQkJCQkJa29ua2E6IFsiLmFjdGlvbi1wcmljZSJdLAoJCQkJCQloaXNlbnNlOiBbIi5pbmxpc3QgLmZsdmEiXSwKCQkJCQkJaW5laWdvOiBbIiNVTFByaWNlIGZvbnQiXSwKCQkJCQkJc2tnOiBbIi5wcm9kdWN0U2FsZSAuc2FsZVByaWNlIl0sCgkJCQkJCSJrLXRvdWNoIjogWyIucHJvY2llIl0sCgkJCQkJCWdpb25lZTogWyIjSmdvb2RzUHJpY2UiXSwKCQkJCQkJb3BwbzogWyIuYnV5aW5nLXByaWNlIC5wcmljZSJdLAoJCQkJCQl2aXZvOiBbIi5hY3Rpb24tcHJpY2UiXSwKCQkJCQkJZ3JhaW5nZXI6IFsiI3N1bW1hcnktcHJpY2UgLnAtcHJpY2UiXSwKCQkJCQkJZWJheTogWyIjcHJjSXN1bSJdLAoJCQkJCQkidGFvYmFvLTk1MDk1IjogWyIjSl9Qcm9tb1ByaWNlIC50bS1wcmljZSJdLAoJCQkJCQltZWlsaXNodW86IFsiI3ByaWNlLW5vdyJdLAoJCQkJCQltb2d1amllOiBbIiNKX05vd1ByaWNlIl0sCgkJCQkJCXNlcGhvcmFjcHM6IFsiLnByb0RldEluZm8gLnByb1ByaWNlIHNwYW4iXSwKCQkJCQkJc3RyYXdiZXJyeW5ldDogWyIjZGl2U2hvcFByaWNlIC5tdC0xMCJdLAoJCQkJCQlqaWE6IFsiLnNhbGUtcHJpY2Ugc3BhbiJdLAoJCQkJCQlsZW1hbGw6IFsiI2FkZGJpdHMiXSwKCQkJCQkJaGFuZHU6IFsiLnByb21vdGVfcHJpY2UiXSwKCQkJCQkJdGFvc2h1OiBbIiNwcmljZS10eHQiXSwKCQkJCQkJY2FtZWw6IFsiI3Byb2RfcHJpY2UiXSwKCQkJCQkJcXV3YW46IFsiI3ByaWNlX2dvb2RzX2RpdiBzdHJvbmciXSwKCQkJCQkJbGVmZW5nOiBbIi5kaXR5LXByaWNlLWMgc3BhbiJdLAoJCQkJCQkiMTM5c2hvcCI6IFsiI2JkaiJdLAoJCQkJCQl3YW5naml1OiBbIiNmaW5hbFByaWNlVmFsdWUiXSwKCQkJCQkJbGllYm86IFsiIzhfQ3VyUHJpY2UiXSwKCQkJCQkJYWltZXI6IFsiI3Bvc3RQcmljZSBlbSJdLAoJCQkJCQlrYWRhbmc6IFsiI0pfUHJpY2UiXSwKCQkJCQkJbGl6aTogWyIjc19wcmljZSJdLAoJCQkJCQltZXRyb21hbGw6IFsiLnByb0RwcmljZSJdLAoJCQkJCQlwYmE6IFsiLnByaWNlIl0sCgkJCQkJCXNoYW5ncGluOiBbIi5zcERldGFpbF9zcFByaWNlQmlnUmVkIGkiXSwKCQkJCQkJbWFzYW1hc286IFsiLnByaWNlMjQiXSwKCQkJCQkJemhlbjogWyIjc2FsZS1wcmljZSJdLAoJCQkJCQl6aGVucGluOiBbIiNzYWxlLXByaWNlIl0sCgkJCQkJCXNwb3J0aWNhOiBbIi5zcGVjaWFsLXByaWNlLXRpdHRsZSsucHJpY2UiXSwKCQkJCQkJbWlsaWVyOiBbIi5iaWdfcHJpY2UiXSwKCQkJCQkJbm9wOiBbIi5hY3Rpb24tcHJpY2UiXSwKCQkJCQkJYmJyZWFkeTogWyIuYWN0aW9uLWZsYXNoYnV5X3ByaWNlIl0sCgkJCQkJCXFpbnFpbmJhYnk6IFsiLmNvbnRlbnQtbWFpbi16ay0xIl0sCgkJCQkJCXNhc2E6IFsiLnByaWNlIC5hY3Rpb24tcHJpY2UiXSwKCQkJCQkJIjVsdXgiOiBbIi5mc2tfZ29vZHNfcHJpY2UiXSwKCQkJCQkJYWxpZXhwcmVzczogWyIjc2t1LWRpc2NvdW50LXByaWNlIl0sCgkJCQkJCXNob3Bib3A6IFsiLnByaWNlQmxvY2siXSwKCQkJCQkJZmVuZ3F1OiBbIi5nb29kcy1wcmljZS1yMSBzdHJvbmciXSwKCQkJCQkJa2VlZGU6IFsiLm1lc3NhZ2VfcHJpY2UiXSwKCQkJCQkJc2hvd2pveTogWyIual9QcmljZU51bSJdLAoJCQkJCQllYXNlZXllczogWyIuZm9udEFyaWFsIl0sCgkJCQkJCXl1bmhvdTogWyIuakZpcnN0UHJpY2UiXSwKCQkJCQkJIjUxZGluIjogWyIucHJvZHVjdF9wcmljZSBiIl0sCgkJCQkJCWFpZGFpOiBbIiNfdGhpc2ZwIl0sCgkJCQkJCXNwaWRlcjogWyIuaG1jcHR3b19zampnIl0sCgkJCQkJCXp6bDM2NTogWyIuZ29vZHMtcHJpY2UgLnByaWNlMSJdCgkJCQkJfSwKCQkJCQlzdWJTdGF0aW9uUGF0dGVybjogewoJCQkJCQkiNTFidXkiOiAicHJpZCIsCgkJCQkJCXlpaGFvZGlhbjogInByb3ZpbmNlSWQiLAoJCQkJCQl3b21haTogInNpdGVpbmZvdGVtcCIsCgkJCQkJCXN1bmluZzogImNpdHlJZCIKCQkJCQl9LAoJCQkJCWdldFN1YlN0YXRpb25JZDogZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAodCkgcmV0dXJuIHQ7CgkJCQkJCWlmIChlID0gZSB8fCBhLnBhZ2VJbmZvLnNpdGVOYW1lLCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgdGhpcy5zdWJTdGF0aW9uUGF0dGVybltlXSkKCQkJCQkJCWZvciAodmFyIG4gPSB0aGlzLnN1YlN0YXRpb25QYXR0ZXJuW2VdICsgIj0iLCBvID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCI7IiksIHIgPSAwOyByIDwgby5sZW5ndGg7IHIrKykgewoJCQkJCQkJCXZhciBzID0gb1tyXTsKCQkJCQkJCQlpZiAocyA9IGkudHJpbShzKSwgMCA9PSBzLmluZGV4T2YobikpIHsKCQkJCQkJCQkJdmFyIGwgPSBzLnN1YnN0cmluZyhuLmxlbmd0aCwgcy5sZW5ndGgpOwoJCQkJCQkJCQlpZiAoIjUxYnV5IiA9PSBlKSB0cnkgewoJCQkJCQkJCQkJdmFyIGMgPSBsLmluZGV4T2YoIl8iKTsKCQkJCQkJCQkJCWMgPj0gMCAmJiAobCA9IGwuc3Vic3RyKGMgKyAxKSkKCQkJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCQkJYS5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhkKQoJCQkJCQkJCQl9CgkJCQkJCQkJCXJldHVybiB0ID0gbCwgbAoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJcmV0dXJuICIiCgkJCQkJfSwKCQkJCQl0cnlHZXRMYXp5TG9hZFByaWNlOiBmdW5jdGlvbihlLCB0LCBuLCBvLCByKSB7CgkJCQkJCXZhciBzID0gIiIsCgkJCQkJCQlsID0gMCwKCQkJCQkJCWMgPSB7CgkJCQkJCQkJInRtYWxsLmNvbSI6ICIudG0tcHJpY2UsLnRiLXdyVHVhbi1udW0iLAoJCQkJCQkJCSJ0YW9iYW8uY29tIjogIi50Yi1kZXRhaWwtcHJpY2Ugc3Ryb25nOm5vdCguZGVsKSIKCQkJCQkJCX07CgkJCQkJCXRyeSB7CgkJCQkJCQlzID0gY1tlXQoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKGQpLCBzID0gIiIKCQkJCQkJfQoJCQkJCQl2YXIgcCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYgKCsrbCwgaShzKS5sZW5ndGggfHwgbCA+IDUpIHsKCQkJCQkJCQl2YXIgYSA9ICIiOwoJCQkJCQkJCWkocykubGVuZ3RoICYmIChhID0gaShzKS50ZXh0KCkuc3BsaXQoIi0iKVswXSwgYSA9IHBhcnNlRmxvYXQoYS5yZXBsYWNlKC9bXjAtOS5dL2csICIiKSksIGEgPSBwYXJzZUludCgxMDAgKiBhKSAvIDEwMCwgYSA9IGEudG9GaXhlZCgyKSksIG4gKz0gIiZwcmljZT0iICsgYSArICImc2l0ZT0iICsgZS5zcGxpdCgiLiIpWzBdLCBjbGVhckludGVydmFsKHApLCB0KG4sIG8sIHIpCgkJCQkJCQl9CgkJCQkJCX0sIDFlMykKCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNik7CgkJCQlyZXR1cm4gewoJCQkJCWludmVudG9yeVBhdHRlcm5zOiB7CgkJCQkJCSIzNjBidXkiOiB7CgkJCQkJCQkiI3N0b2NrdGV4dCBzdHJvbmciOiAi5peg6LSnIiwKCQkJCQkJCSIjc3RvcmUtcHJvbXB0IHN0cm9uZyI6ICLml6DotKciLAoJCQkJCQkJIiNzdG9jay1zdGF0ZSI6ICLml6DotKciLAoJCQkJCQkJIiNwcm9kdWN0LWludHJvIC5pdGVtb3Zlci10aXRsZSBoMyBzdHJvbmciOiAi5ZWG5ZOB5bey5LiL5p+cIgoJCQkJCQl9LAoJCQkJCQkiNTFidXkiOiB7CgkJCQkJCQkiI3NlYV9idXlfd3JhcCI6ICLliLDotKfpgJrnn6UiLAoJCQkJCQkJIiNidXlRdHkgLmdvZGRzX2luZm9fZGF0YSBzcGFuW3N0eWxlXSI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWFtYXpvbjogewoJCQkJCQkJIi5hLWNvbG9yLXByaWNlIjogIue8uui0p+eZu+iusCIsCgkJCQkJCQkiLmRkbS1zYnItYXZhaWwtdGl0bGUiOiAi57y66LSn55m76K6wIiwKCQkJCQkJCSIjZHluYW1pY0RlbGl2ZXJ5TWVzc2FnZSwjZGRtQXZhaWxhYmlsaXR5TWVzc2FnZSI6ICLnm67liY3ml6DotKciLAoJCQkJCQkJIiNkeW5hbWljRGVsaXZlcnlNZXNzYWdlIHNwYW4iOiAi57y66LSn55m76K6wIgoJCQkJCQl9LAoJCQkJCQl5aWhhb2RpYW46IHsKCQkJCQkJCSIjYXJyaXZhbE5vdGljZSBzcGFuIjogIuWIsOi0p+mAmuefpSIsCgkJCQkJCQkiI25vdFNhbGVCdG4gLmNhcnRib3ggYSBzcGFuIjogIuW3suWUruWujCIsCgkJCQkJCQkiI2RldGFpbF9hZGRUb0NhcnQgc3Bhbi5zdGVhbF9idG4iOiAi5oqi5YWJ5LqGIiwKCQkJCQkJCSIuYnV5X2J0bjM6dmlzaWJsZSI6ICLlt7LllK7lrowiLAoJCQkJCQkJIiNkZXRhaWxTdG9ja0luZm8iOiAi5peg6LSnIiwKCQkJCQkJCSIjYWRkQ2FydCI6ICLlt7LllK7lrowiCgkJCQkJCX0sCgkJCQkJCXN1bmluZzogewoJCQkJCQkJIiNjX2t1Y3VuIHNwYW4iOiAi5peg6LSnIiwKCQkJCQkJCSIjcmVjb21UaXRsZSI6ICLllYblk4Hlt7LkuIvmnrYiLAoJCQkJCQkJIiNjX2t1Y3VuIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJZGFuZ2Rhbmc6IHsKCQkJCQkJCSIjc3RvY2tfd3JpdGluZ19zdGF0dXMiOiAi57y66LSnIiwKCQkJCQkJCSIuc2hvd19pbmZvX3JpZ2h0IHN0cm9uZy5xaCI6ICLmmoLml7bnvLrotKd8572EIiwKCQkJCQkJCSIjZ2VvLWluZm8iOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlnb21lOiB7CgkJCQkJCQkiI3N0b2NrVHh0IjogIuaXoOi0p3zkuIvmnrZ85peg6LSnfOaaguS4jeWPr+mAgSIKCQkJCQkJfSwKCQkJCQkJeW91Z291OiB7CgkJCQkJCQkiLmJ1eSI6ICLlt7LllK7nvYQiLAoJCQkJCQkJIi5zb2xkb3V0c3R5IC5mYiI6ICLmraTpopzoibLllYblk4Hlt7LllK7nvYQiCgkJCQkJCX0sCgkJCQkJCXZtYWxsOiB7CgkJCQkJCQkiLmJ1dHRvbi1ub3RpY2UtYXJyaXZhbCBzcGFuIjogIuWIsOi0p+mAmuefpSIKCQkJCQkJfSwKCQkJCQkJdmFuY2w6IHsKCQkJCQkJCSIuZGFucGluX1NvdXFpbmdUaXRsZSBoMyI6ICLor6XllYblk4HmmoLkuI3og73otK3kubAiLAoJCQkJCQkJIi5Ob3dIYXNHb29kcyI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWp1bWVpOiB7CgkJCQkJCQkiLnNvbGRvdXRfdGV4dCI6ICLlt7LmiqLlhYkiLAoJCQkJCQkJIi5hZGRfY2FydCBhLnN1YnNjcmliZSI6ICLorqLpmIXliLDotKfpgJrnn6UiCgkJCQkJCX0sCgkJCQkJCW5ld2VnZzogewoJCQkJCQkJIiNpbnZlbnRvcnkgLmludmVudG9yeVRleHQiOiAi5pqC5pegfOaOpeWPl+mihOWumiIsCgkJCQkJCQkiI2dldFF1ZXVlTnVtYmVyIjogIueri+WNs+mihOiuoiIsCgkJCQkJCQknLmdvZGRzX2luZm9fZGF0YSBzcGFuOmNvbnRhaW5zKCLlupPlrZgiKSc6ICLmjqXlj5fpooTlrpoiCgkJCQkJCX0sCgkJCQkJCW1vb25iYXNhOiB7CgkJCQkJCQkiI3NwYW5Db3VudGsiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQl3aW54dWFuOiB7CgkJCQkJCQkiLnN0YXR1cyI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWhhcHBpZ286IHsKCQkJCQkJCSIjZ29vZHNrdWN1biAuZl9yZWQiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQl4aWppZTogewoJCQkJCQkJIi5kZXRhaWxfcHJvX2NfY29uIjogIuW+iOaKseatie+8jOivpeWVhuWTgeW3suWUruepuiIKCQkJCQkJfSwKCQkJCQkJbGluZ3NoaTogewoJCQkJCQkJIiNjdXJyZW50TG9jYXRpb24iOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQl5ZXNteXdpbmU6IHsKCQkJCQkJCSIjZGVsaXZlcnktdGlwIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJYm9va3V1OiB7CgkJCQkJCQkiLnN0b2NrIHNwYW4iOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlob21ldnY6IHsKCQkJCQkJCSIjc3RvY2srLmhvbSI6ICLnvLrotKciCgkJCQkJCX0sCgkJCQkJCWxlbm92bzogewoJCQkJCQkJIiNpZHN0b2Nrc3RhdHVzIjogIuaaguaXoOW6k+WtmCIKCQkJCQkJfSwKCQkJCQkJc2Vjb286IHsKCQkJCQkJCSIjbG9jYXRpb24tdCtpIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJeXVtbXk3NzogewoJCQkJCQkJIiNzdG9ja2Rlc2MiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlmcnVpdGRheTogewoJCQkJCQkJIi5oYXZlIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJa2FvbGE6IHsKCQkJCQkJCSIjanNfZG9tZXR4dCI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWtqdDogewoJCQkJCQkJIi5ibGFjayI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWppdW1laTogewoJCQkJCQkJIiNrdWN1bmluZm8gLmZvbnQxNCI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCXdvbWFpOiB7CgkJCQkJCQkiLm5vYnV5X3RvcF90aXQiOiAi5ZWG5ZOB5bey5ZSu5a6M77yM5pqC5pe25peg6LSnIiwKCQkJCQkJCSIudW5zZWxsYWJsZV9yZWNvbW1lbmRfZGVzY3JpcHRpb24iOiAi5ZWG5ZOB5bey5ZSu5a6MIgoJCQkJCQl9LAoJCQkJCQlzZmJlc3Q6IHsKCQkJCQkJCSIjYXJyaXZhbF9ub3RpY2UiOiAi5Yiw6LSn6YCa55+lIiwKCQkJCQkJCSIjc3RvY2sgZm9udCI6ICLnvLrotKciLAoJCQkJCQkJIiNjYXJ0LWFkZC1idG4tc2YiOiAi5Yiw6LSnfOe8uui0pyIKCQkJCQkJfSwKCQkJCQkJbGVmZW5nOiB7CgkJCQkJCQkiLmRpc2V4cCBzcGFuLnN0aW1lIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJbGV5b3U6IHsKCQkJCQkJCSIjc3RvY2tTdGF0dXMiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlqaXV4aWFuOiB7CgkJCQkJCQkiI3Jlc3BOdWJzIjogIuaXoOi0pyIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaW5pdDogZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gZSA9IGUgfHwgYS5wYWdlSW5mby5zaXRlTmFtZSwgdGhpcy5nZXRDaGVja0ludmVudG9yeShlKQoJCQkJCX0sCgkJCQkJZ2V0T25saW5lSW52ZW50b3J5OiBmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gewoJCQkJCQkJCW9ubGluZTogbnVsbCwKCQkJCQkJCQlwYXR0ZXJuOiBudWxsCgkJCQkJCQl9LAoJCQkJCQkJaSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gZS5yZXBsYWNlKC9bXlx1MDAwMC1cdTAwRkZdL2csIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGVzY2FwZShlKS5yZXBsYWNlKC8oJXUpKFx3ezR9KS9naSwgIlxcdSQyIikKCQkJCQkJCQl9KQoJCQkJCQkJfTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgdGhpcy5pbnZlbnRvcnlQYXR0ZXJuc1t0XSkgewoJCQkJCQkJCXZhciBvID0gdGhpcy5pbnZlbnRvcnlQYXR0ZXJuc1t0XTsKCQkJCQkJCQlmb3IgKHZhciByIGluIG8pIHRyeSB7CgkJCQkJCQkJCWlmIChlKHIpLmlzKCI6dmlzaWJsZSIpICYmIChuLm9ubGluZSA9IGUocikuaHRtbCgpLCBudWxsICE9PSBuLm9ubGluZSkpIHJldHVybiBuLm9ubGluZSA9IGkobi5vbmxpbmUpLCBuLnBhdHRlcm4gPSBpKG9bcl0pLCBuCgkJCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKHMpCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChzKSB7CgkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKHMpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIG4KCQkJCQl9LAoJCQkJCWdldENoZWNrSW52ZW50b3J5OiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gMSwKCQkJCQkJCW4gPSB0aGlzLmdldE9ubGluZUludmVudG9yeShlKSwKCQkJCQkJCWkgPSBuLm9ubGluZSwKCQkJCQkJCW8gPSBuLnBhdHRlcm47CgkJCQkJCXRyeSB7CgkJCQkJCQlpZiAobnVsbCAhPT0gaSAmJiAiIiAhPSBpICYmIG51bGwgIT09IG8pCgkJCQkJCQkJaWYgKG8uaW5kZXhPZigifCIpID49IDApIHsKCQkJCQkJCQkJdmFyIHIgPSBvLnNwbGl0KCJ8Iik7CgkJCQkJCQkJCWZvciAodmFyIHMgaW4gcikgaS5pbmRleE9mKHJbc10pID49IDAgJiYgKHQgPSAwKQoJCQkJCQkJCX0gZWxzZSBpLmluZGV4T2YobykgPj0gMCAmJiAodCA9IDApOwoJCQkJCQkJZWxzZSB0ID0gLTIKCQkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQkJYS5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhsKQoJCQkJCQl9CgkJCQkJCXJldHVybiB0CgkJCQkJfQoJCQkJfQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDkpLAoJCQkJCXQgPSBuKDYwKSwKCQkJCQlpID0gbig2NSksCgkJCQkJbyA9IG4oNTcpLAoJCQkJCXIgPSBuKDU4KTsKCQkJCXJldHVybiB7CgkJCQkJdGltZU91dDogNSwKCQkJCQl0aW1lcjogbnVsbCwKCQkJCQlzZW5kVGltZXI6IG51bGwsCgkJCQkJaW52ZW50b3J5OiBudWxsLAoJCQkJCXByaWNlOiBudWxsLAoJCQkJCXNwZWNpYWxTZW5kRmxhZzogITEsCgkJCQkJaGFzUnVuOiAhMSwKCQkJCQlpbml0OiBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKCF0aGlzLmhhc1J1bikgewoJCQkJCQkJdGhpcy5oYXNSdW4gPSAhMDsKCQkJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJCQl0ID0gMDsKCQkJCQkJCWUudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCQllLl9zZXRQcmljZSgpLCBlLl9zZXRJbnZlbnRvcnkoKSwgKyt0LCAoZS5zcGVjaWFsU2VuZEZsYWcgfHwgdCA+IGUudGltZU91dCB8fCAiLTIiICE9IGUuaW52ZW50b3J5ICYmICIwIiAhPSBlLnByaWNlKSAmJiAoZS5fdHJ5U2VuZE1vbml0b3JEYXRhKCksIGNsZWFySW50ZXJ2YWwoZS50aW1lcikpCgkJCQkJCQl9LCAxZTMpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCV90cnlTZW5kTW9uaXRvckRhdGE6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCQl0ID0gMDsKCQkJCQkJZS5zZW5kVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCWlmICgrK3QsIHQgPiBlLnRpbWVPdXQgfHwgbnVsbCAhPSBhLnNhdmVfZHBfcXVlcnkpIHsKCQkJCQkJCQl2YXIgbiA9ICIiOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCW4gPSAidGFvYmFvIiA9PSBhLnNpdGUgPyBhLnNhdmVfZHBfcXVlcnkuZXhhY3RfYXJyLnRhb2Jhb19zYW1lX2lkIDogYS5zYXZlX2RwX3F1ZXJ5Lm5vdy5ub3dfZHBfaWQKCQkJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBpCgkJCQkJCQkJfQoJCQkJCQkJCWUuX3NlbmRNb25pdG9yRGF0YShuKSwgY2xlYXJJbnRlcnZhbChlLnNlbmRUaW1lcikKCQkJCQkJCX0KCQkJCQkJfSwgMWUzKQoJCQkJCX0sCgkJCQkJX3NlbmRNb25pdG9yRGF0YTogZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgaSA9IHRoaXMsCgkJCQkJCQlvID0gbig2Nykuc3BlY2lhbEZpbHRlcigpOwoJCQkJCQlvIHx8IChudWxsID09IGkuaW52ZW50b3J5ICYmIChpLmludmVudG9yeSA9ICItMiIpLCBudWxsID09IGkucHJpY2UgJiYgKGkucHJpY2UgPSAiMCIpLCBlLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L21vbml0b3I/c2l0ZT0iICsgYS5zaXRlICsgIiZzdWJzaXRlX2lkPSIgKyBhLnN1YnNpdGVfaWQgKyAiJmRwX2lkPSIgKyB0ICsgIiZwcm92aW5jZV9pZD0iICsgYS5wcm92aW5jZV9pZCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC51cmwpICsgIiZwcmljZT0iICsgaS5wcmljZSArICImc3RvY2s9IiArIGkuaW52ZW50b3J5ICsgIiZyYXd1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpKQoJCQkJCX0sCgkJCQkJX3NldFByaWNlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJbiA9IGEuc2l0ZSwKCQkJCQkJCXIgPSBpLmdldFNpdGVJZChuKTsKCQkJCQkJciB8fCAociA9IDk5OTkpLCB0W3JdKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQgJiYgdCA+IDAgPyAoZS5wcmljZSA9IHQsIGEuZHAub2xkUHJpY2UgPSB0KSA6IGUucHJpY2UgPSBhLmRwLnByaWNlLCBlLnByaWNlIHx8IChlLnByaWNlID0gby5nZXRPbmxpbmVQcmljZShuKSksICJ0YW9iYW8iID09IG4gJiYgIjAiICE9IGUucHJpY2UgJiYgKGUuc3BlY2lhbFNlbmRGbGFnID0gITApCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlfc2V0SW52ZW50b3J5OiBmdW5jdGlvbigpIHsKCQkJCQkJdGhpcy5pbnZlbnRvcnkgPSByLmluaXQoYS5zaXRlKQoJCQkJCX0KCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkidXNlIHN0cmljdCI7CgoJCWZ1bmN0aW9uIGkoZSwgdCwgbikgewoJCQlmdW5jdGlvbiBpKCkgewoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CgkJCQkJdmFyIG8gPSBlW2ldLAoJCQkJCQlyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvKTsKCQkJCQlpZiAocikgcmV0dXJuIGEoci50ZXh0Q29udGVudCwgdCwgbikKCQkJCX0KCQkJCXJldHVybiAtMQoJCQl9CgkJCXJldHVybiB0ID0gdCB8fCAiLiIsIG4gPSBuIHx8ICIsIiwgaQoJCX0KCgkJZnVuY3Rpb24gYShlLCB0LCBuKSB7CgkJCWlmICh0ID0gdCB8fCAiLiIsIG4gPSBuIHx8ICIsIiwgLTEgPT09IGUpIHJldHVybiAtMTsKCQkJaWYgKGUgJiYgKGUgPSBlLnRvU3RyaW5nKCkucmVwbGFjZShuLCAiIiksIHQgJiYgIi4iICE9PSB0ICYmIChlID0gZS5yZXBsYWNlKHQsICIuIikpLCBlID0gZS5tYXRjaCgvWzAtOS5dKy8pKSkgdHJ5IHsKCQkJCXJldHVybiBwYXJzZUZsb2F0KGVbMF0pCgkJCX0gY2F0Y2ggKGkpIHsKCQkJCXJldHVybiAtMQoJCQl9CgkJCXJldHVybiAtMQoJCX0KCgkJZnVuY3Rpb24gbyhlKSB7CgkJCWZ1bmN0aW9uIHQodCkgewoJCQkJZnVuY3Rpb24gaShlKSB7CgkJCQkJbig2MSkuc2VuZFByaUNoZWNrKFt7CgkJCQkJCXVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiwKCQkJCQkJcHJpY2U6IGUsCgkJCQkJCWNyYzMyOiAiIgoJCQkJCX1dKSwgdChlKQoJCQkJfQoJCQkJdmFyIGEgPSBlKCk7IC0gMSA9PT0gYSA/IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJaShlKCkpCgkJCQl9LCAzZTMpIDogaShhKQoJCQl9CgkJCXJldHVybiB0CgkJfQoKCQlmdW5jdGlvbiByKGUpIHsKCQkJcmV0dXJuIG8oaShlKSkKCQl9CgkJdmFyIHMgPSB7fTsKCQlzWzFdID0gcihbIiNwcmljZWJsb2NrX2RlYWxwcmljZSIsICIjcHJpY2VibG9ja19zYWxlcHJpY2UiLCAiI3ByaWNlYmxvY2tfb3VycHJpY2UiLCAiI3RtbVN3YXRjaGVzIC5hLWJ1dHRvbi1pbm5lciAgLmEtY29sb3Itc2Vjb25kYXJ5IHNwYW4iLCAiI3NvbGRCeVRoaXJkUGFydHkgLm9mZmVyLXByaWNlIiwgIiNvbHBfZmVhdHVyZV9kaXYgLmEtY29sb3ItcHJpY2UiLCAiLmEtY29sb3ItcHJpY2UiXSksIHNbMl0gPSByKFsiI2RkLXByaWNlIiwgIiNkX3ByaWNlIl0pLCBzWzNdID0gcihbIiNqZC1wcmljZSIsICIucC1wcmljZSAucHJpY2UiLCAiI3ByaWNlIiwgIi5wcmljZSJdKSwgc1s0XSA9IG8oZnVuY3Rpb24oZSkgewoJCQl2YXIgdCA9IGUucXVlcnlTZWxlY3RvcigiI29tSGlkZGVuUHJpY2UiKS52YWx1ZTsKCQkJcmV0dXJuIGEodCkKCQl9KSwgc1sxMF0gPSByKFsiI2RsX3NlbGxfcHJpY2UiXSksIHNbMTJdID0gcihbImRpdi5wcm9tb3Rpb24tY29udGFpbmVyID4gcDpudGgtY2hpbGQoMikiXSksIHNbMTNdID0gcihbIi5kaXR5LXByaWNlLWMiXSksIHNbMTRdID0gcihbIi5wcmljZTEuc2FsZVByaWNlX2JpZyJdKSwgc1sxN10gPSByKFsiLmxlZnRQcmljZSJdKSwgc1sxOF0gPSByKFsiLm1lc3NhZ2VfcHJpY2UiLCAiLm1lc3NhZ2VfdGl0bGVfbmFtZV9iIl0pLCBzWzE5XSA9IHIoWyIudGVodWlNb25leSJdKSwgc1syMV0gPSByKFsiI3Byb2RQcmljZUFqIl0pLCBzWzIyXSA9IHIoWyIjcHJvZHVjdF9wcmljZSJdKSwgc1syNF0gPSByKFsiLmQtcmVhbC1wcmljZSJdKSwgc1syNV0gPSByKFsiLm1haW5wcmljZSJdKSwgc1syOF0gPSByKFsiI3ByZFByaWNlIiwgIiNzYWxlUHJpY2UiXSksIHNbMzFdID0gcihbIiNwcmljZW5vdyIsICIjY3VycmVudF9wcmljZSIsICIjZGV0YWlsX3Byb21fcHJpY2UiLCAiIl0pLCBzWzMyXSA9IHIoWyIjYnV5UHJpY2UiXSksIHNbMzNdID0gcihbIiNsZXlvdWppYSIsICIuaXRlbV9sIC5mb250X251bSJdKSwgc1szNF0gPSByKFsiLnNlbFByaWNlIl0pLCBzWzM1XSA9IHIoWyIjcHJkX3ByaWNlX2RpdiJdKSwgc1s0MF0gPSByKFsiLkdkX3Nob3BfUHJpY2UgYiJdKSwgc1s0MV0gPSByKFsiLmpzLmpzaiBiIl0pLCBzWzQzXSA9IHIoWyIucHJpY2UiXSksIHNbNDVdID0gcihbIi5wcmljZSAuYWN0aW9uLXByaWNlIl0pLCBzWzUwXSA9IHIoWyJwcm9fcHJvbW90aW9uX3ByaWNlIiwgIiNwcm9fbWFsbF9wcmljZSJdKSwgc1s1MV0gPSByKFsiI1NHb29kc1ByaWNlIl0pLCBzWzU0XSA9IHIoWyIjbXByaWNlIl0pLCBzWzYwXSA9IHIoWyIjeHhqZyAucHJvX2J1eV9zZW4iLCAiI3h4amcgLnByb19idXlfZGlzIG9wdGlvbjpsYXN0LWNoaWxkIl0pLCBzWzYxXSA9IHIoWyIudGVodWlqaWEgaTpsYXN0LWNoaWxkIC50aGlzcHJpY2UiLCAiLnByaWNlTGlzdDpsYXN0LWNoaWxkIHNwYW4iXSksIHNbNjJdID0gcihbIi5pbmZvLW1haW4gLnByaWNlLW4gYiJdKSwgc1s2Nl0gPSByKFsiLllUUHJpY2UiXSksIHNbNzJdID0gcihbIi5wcmljZV9ub3ciLCAiIl0pLCBzWzczXSA9IHIoWyIjcHJvZHVjdFNob3dQcmljZSJdKSwgc1s3NV0gPSByKFsiLmZza19nb29kc19wcmljZSIsICIuZ2RfcHJpY2UiXSksIHNbODNdID0gcihbIi50bS1wcm9tby1wcmljZSAudG0tcHJpY2UiLCAiLnRtLXByaWNlIl0pLCBzWzg0XSA9IHIoWyIuYnV5X3ByaSIsICIuZHluYW1pYy1wcmljZSJdKSwgc1s4Nl0gPSByKFsiLnByaWNlX251bSIsICIuZGVhbF9hY2NvdXRfdHdvIiwgIi5qdW1laV9wcmljZSIsICIucHJpY2Vfbm93Il0pLCBzWzkzXSA9IHIoWyIjeWl0aWFuUHJpY2UiXSksIHNbOTRdID0gcihbIi5nb29kX3ByaWNlIl0pLCBzWzk3XSA9IHIoWyIjcHJpY2VfYmlnIGVtIiwgIi5GRkEgZW0iXSksIHNbOThdID0gcihbIi5wLXByaWNlIl0pLCBzWzk5XSA9IHIoWyIjc2hvcHByaWNlIl0pLCBzWzEwMF0gPSByKFsiI3NhbGVQcmljZVRleHQiXSksIHNbMTAxXSA9IHIoWyIubXlQcmljZSBlbSJdKSwgc1sxMDJdID0gcihbIiNqaWFnZSAubnVtYiJdKSwgc1sxMDNdID0gcihbIiNub3dQcmljZSBzdHJvbmciXSksIHNbMTA4XSA9IHIoWyIjc3BQcmljZSJdKSwgc1sxMDldID0gcihbIi5za3UtcHJpY2UiXSksIHNbMTEwXSA9IHIoWyIjYmstZC1wcmljZSJdKSwgc1sxMTVdID0gcihbIi5tcHJpY2UiLCAiLnBfbXAiXSksIHNbMTIzXSA9IHIoWyIjSl9Qcm9tb1ByaWNlTnVtIiwgIiNKX1N0clByaWNlIl0pLCBzWzEyNV0gPSByKFsiLmRQcmljZSJdKSwgc1sxMjZdID0gcihbIiNwcmljZS1zZiAucHJpY2UiXSksIHNbMTI3XSA9IHIoWyIjaW50cm9fcHJpY2UgLnByaWNlIl0pLCBzWzEyOF0gPSByKFsiI3ByaWNlIl0pLCBzWzEyOV0gPSByKFsiI0otc2FsZS1wcmljZSIsICIuSi1wcmljZSJdKSwgc1sxMzRdID0gcihbIiNwcm8tcHJpY2UiXSksIHNbMTM1XSA9IHIoWyIuZGVfaW5mb19wcmljZSJdKSwgc1sxMzhdID0gcihbIiNFQ1NfU0hPUFBSSUNFIl0pLCBzWzE0MF0gPSByKFsiLmdyb3VwZGV0YWlsX25vd3ByaWNlIiwgIi5kc2luZ2xlX25vd3ByaWNlIl0pLCBzWzE0MV0gPSByKFsiI2ppYW55aVByaWNlIl0pLCBzWzE0Ml0gPSByKFsiLnNwYXJlMDIiXSksIHNbMTQ1XSA9IHIoWyIjcGRwUHJpY2UgLmRpc2NvdW50IiwgIiNwZHBQcmljZSIsICIuZGlzY291Il0pLCBzWzE0Nl0gPSByKFsiLmFjdGlvbi1wcmljZSJdKSwgc1sxNDddID0gcihbIiNwb3N0UHJpY2UiXSksIHNbMTUyXSA9IHIoWyIuZGV0YWlsLWl0ZW0tZ29sZCJdKSwgc1sxNTNdID0gcihbIiNnNV9wcmljZSJdKSwgc1sxNTRdID0gcihbIi5wcm9tb3RlX3ByaWNlIl0pLCBzWzE1NV0gPSByKFsiLmN1ci1wcmljZSJdKSwgc1sxNTZdID0gcihbIiNzZWNvb1ByaWNlSnMiXSksIHNbMTU3XSA9IHIoWyIjcHJvZF9wcmljZSJdKSwgc1sxNThdID0gcihbIi5wcmljZTI0Il0pLCBzWzE2NF0gPSByKFsiLmpnX2N1aG9uZyIsICIjbXlqZ2N1aG9uZyJdKSwgc1sxNjddID0gcihbIi5KX21pX2dvb2RzUHJpY2UiLCAiLm1vbmV5IiwgIi5KX2N1cnJlbnRQcmljZSIsICJKX3Byb1ByaWNlIiwgIi5wcmljZSJdKSwgc1sxNjhdID0gcihbIi5sZXR2X3ByaWNlIiwgIiNqc19wcmljZSJdKSwgc1sxNzRdID0gcihbIi5wcm8tcHJpY2UiXSksIHNbMTgwXSA9IHIoWyIjSl9wcm9kdWN0X3ZhbHVlIiwgIi5pbmZvLXByaWNlIl0pLCBzWzE4Ml0gPSByKFsiLmRldGFpbF9wcmljZSIsICIuY291cG9uX3ByaWNlIl0pLCBzWzE4NF0gPSByKFsiLnByb21vdGlvbi1wcmljZSAucHJpY2UiLCAiLnByaWNlIl0pLCBzWzE4OF0gPSByKFsiI2dvb2RzUHJpY2UiXSksIHNbMTk0XSA9IHIoWyIuYWN0aW9uLXByaWNlIl0pLCBzWzE5NV0gPSByKFsiI2l0ZW1fcHJpY2UiXSksIHNbMTk2XSA9IHIoWyIucHJpY2Ugc3Ryb25nIl0pLCBzWzE5N10gPSByKFsiLm1zX3ByaWNlIHN0cm9uZyJdKSwgc1syMDJdID0gcihbIiNKX05vd1ByaWNlIl0pLCBzWzIwM10gPSByKFsiI0pfTm93UHJpY2UiXSksIHNbMjEwXSA9IHIoWyIjZ19wcmljZSJdKSwgc1syMTNdID0gcihbIiNvZmZlclByaWNlIl0pLCBzWzIyMV0gPSByKFsiLnByaWNlIl0pLCBzWzIyMl0gPSByKFsiI3JwcmljZSJdKSwgc1syMjNdID0gcihbIi5jdXJyZW50UHJpY2UiXSksIHNbMjI2XSA9IHIoWyIubWFpblByaWNlIl0pLCBzWzIyN10gPSByKFsiLnNhbGUtcHJpY2UiXSksIHNbMjI4XSA9IHNbMV0sIHNbMjI5XSA9IHNbMV0sIHNbMjMwXSA9IHIoWyIjcHJjSXN1bSJdKSwgc1syMzFdID0gcihbIi5wLWN1cnJlbnQtcHJpY2UgLnAtcHJpY2UiXSksIHNbMjMyXSA9IHIoWyIuYWN0aW9uLXByaWNlIl0pLCBzWzIzM10gPSByKFsiLmpzLXBkcExvY2FsUHJpY2UiXSksIHNbMjM0XSA9IHIoWyIjc2FsZXByaWNlX3ZhbHVlIl0pLCBzWzIzNV0gPSByKFsiLmRldGFpbF90emggc3BhbiJdKSwgc1syMzZdID0gcihbIi5wcm9fcHJpY2Ugc3BhbiJdKSwgc1syMzddID0gcihbIi52aWV3LVNrdVByaWNlSW5mbyAucHJpY2UiLCAiLnZpZXctU2t1UHJpY2VJbmZvIGkiXSksIHNbMjM4XSA9IHIoWyIjcHJpY2VTbG90IC5wcmljZSJdKSwgc1syMzldID0gcihbIi5wcm9kdWN0LXByaWNlIl0pLCBzWzI0MV0gPSByKFsiLnByaWNlQmxvY2sgLnNhbGVQcmljZSIsICIucHJpY2VCbG9jayJdKSwgc1syNDJdID0gcihbIi5uZy1iaW5kaW5nLndhZy1ib2xkIl0pLCBzWzI0M10gPSByKFsiI2Rpc3BsYXlQcmljZSJdKSwgc1syNDRdID0gcihbIi5wcmljZS1tYWluLXByb2R1Y3QgLnByaWNlLWN1cnJlbnQiLCAiLnByaWNlLWN1cnJlbnQiXSksIHNbMjQ1XSA9IHIoWyIjZmluYWwtcHJpY2UiXSksIHNbMjQ2XSA9IG8oaShbIiNwcmljZWJsb2NrX2RlYWxwcmljZSIsICIjcHJpY2VibG9ja19vdXJwcmljZSIsICIjdG1tU3dhdGNoZXMgLmEtYnV0dG9uLWlubmVyICAuYS1jb2xvci1zZWNvbmRhcnkgc3BhbiIsICIjc29sZEJ5VGhpcmRQYXJ0eSAub2ZmZXItcHJpY2UiLCAiI29scF9mZWF0dXJlX2RpdiAuYS1jb2xvci1wcmljZSJdLCAiLCIsICIuIikpLCBzWzI0N10gPSByKFsiI3ByaWNpbmcgdGQuaGlnaGxpZ2h0Il0pLCBzWzI0OF0gPSByKFsiLnByb2R1Y3QtcHJpY2UgLnByaWNlIl0pLCBzWzI0OV0gPSByKFsiI2pzLXByb2R1Y3QtaW5mb3JtYXRpb24tcHJpY2UgLnByb2R1Y3QtY3VycmVudC1wcmljZSIsICIubWFpbi1wcm9kdWN0LWRldGFpbHMgLmNvbXBhcmUtcHJpY2VfX2Rpc3BsYXkiXSksIHNbMjUxXSA9IHIoWyIucHJvZHVjdC1wcmljZS1jb250YWluZXIgLnByaWNlLXNhbGVzICJdKSwgc1syNTJdID0gcihbIi5kZXRhaWwtcHJpY2UiLCAic19kaXNjb3VudHByaWNlbmV3IiwgIi5jdXRwcmljZXBvc2l0aW9uIl0pLCBzWzI1Nl0gPSByKFsiI3ByaWNlIl0pLCBzWzI1OV0gPSByKFsiI1ByaWNlIC5wcm9kdWN0UHJpY2UiXSksIHNbMjYwXSA9IHIoWyIjcHJvZHVjdFByaWNlIC5ub3dQcmljZSIsICIjcHJvZHVjdFByaWNlIl0pLCBzWzI2MV0gPSByKFsiI3BkcE1haW5QcmljZSAucE91clByaWNlTSIsICIjcGRwU3ViUHJpY2UgLnBSZXRhaWxQcmljZTpudGgtY2hpbGQoMikiLCAiLnBSZXRhaWxQcmljZSIsICIjcGRwTWFpblByaWNlIl0pLCBzWzI2M10gPSByKFsiLnByaWNlU2FsZSJdKSwgc1syNjRdID0gcihbIi5wcmljZS1zZXQiXSksIHNbMjY2XSA9IHNbMV0sIHNbMjY3XSA9IHIoWyIuZ29vZHMtZGF0YSAuZ29vZHMtcHJpY2Ugc3BhbiJdKSwgc1syNjhdID0gcihbIi5nb29kcy1wcmljZS1yMSBzdHJvbmciXSksIHNbMjY5XSA9IHIoWyIjcHJvZHVjdFJNQiJdKSwgc1syNzBdID0gcihbIi5qX1ByaWNlTnVtIiwgIi5wcmljZSJdKSwgc1syNzFdID0gcihbIi5wcmljZSIsICIucHJvZHVjdF9wcmljZV9jb250Il0pLCBzWzI3Ml0gPSByKFsiLmFjdGlvbi1wcmljZSJdKSwgc1syNzNdID0gcihbIi5wcm9kdWN0X3RvcF9yIHNwYW4uZnMyMCJdKSwgc1syNzRdID0gcihbIiNqU2NhcmVQcmljZSIsICIuakZpcnN0UHJpY2UiXSksIHNbMjc1XSA9IHIoWyIucm1iLXByaWNlIl0pLCBzWzI3Nl0gPSByKFsiLlByaWNlIl0pLCBzWzI3N10gPSByKFsiI2N1cnJQcmljZSJdKSwgc1syNzldID0gcihbIi5wcm9kdWN0X3ByaWNlIiwgInByaWNlX3JtYiJdKSwgc1syODBdID0gcihbIiNnb29kc0N1cnJlbnRQcmljZSIsICIucHJkc2FsZSBzdHJvbmciXSksIHNbMjgxXSA9IHIoWyIjYnFQcmljZSIsICIucHJpY2Ugc3BhbiJdKSwgc1syODVdID0gcihbIi5wcmljZSAuY3VycmVudCJdKSwgc1syODZdID0gcihbIi5qLWl0ZW0tbm93LXByaWNlIl0pLCBzWzI4N10gPSByKFsnLnhwcmljZV92YWxbaXRlbXByb3A9Imxvd1ByaWNlIl0nXSksIHNbMjg4XSA9IHIoWyIuYWN0aW9uLXByaWNlIl0pLCBzWzI4OV0gPSByKFsiLmN1cnJlbnRfcHJpY2UiXSksIHNbMjkwXSA9IHIoWyIucHJpY2UiXSksIHNbMjkxXSA9IHIoWyIjcHJpY2VEaXYgLm5vd1ByaWNlIl0pLCBzWzI5Ml0gPSByKFsiLml0ZW0tYWN0UHJpY2UiXSksIHNbMjk0XSA9IHIoWyIjc2FsZVByaWNlU3BhbiJdKSwgc1syOTVdID0gcihbIi5wcmljZS1zZWxsIC5wcmljZS1udW0iXSksIHNbMjk5XSA9IHIoWyIucHJvX3ByaWNlIC5wcmljZSJdKSwgc1szMDBdID0gcihbIiNwcmljZURvbUlkIl0pLCBzWzMwNV0gPSByKFsiLmF1dG9TaGlwUHJpY2UiLCAiLnNpbmdsZVByaWNlIl0pLCBzWzMwNl0gPSByKFsiLnByb2R1Y3QtcHJpY2UgZGl2Il0pLCBzWzMxMV0gPSByKFsiLnByb2R1Y3QtZnVsbF9fcHJpY2UiLCAiLnNwcC1wcm9kdWN0X19taW5pLWJhZy1wcmljZS1zaXplIl0pLCBzWzMxM10gPSByKFsiI2RldGFpbHMtcHJpY2UiXSksIHNbMzI4XSA9IHIoWyIuZ29vZHNwcmljZSJdKSwgc1szMzBdID0gcihbIiN5b3VfcGF5LnByaWNlIiwgIi5wcmljZSJdKSwgc1szMzddID0gcihbIi5wcmljZSJdKSwgc1szMzhdID0gcihbIi5qcy1wcmljZSJdKSwgc1szNDBdID0gcihbIi5zaW5nbGVQcmljZSJdKSwgc1szNDFdID0gcihbIi5wcm9kdWN0LXByaWNlIC5wcmljZSJdKSwgc1szNDNdID0gcihbIi5ib3NlLXByaWNlX19wcmljZSJdKSwgc1szNDRdID0gcihbIi5pdGVtLXByaWNlIl0pLCBzWzM0NV0gPSByKFsiLnlwWW91UGF5Il0pLCBzWzM0N10gPSByKFsiI0ZsYXNoUHJpY2UiXSksIHNbMzQ4XSA9IHIoWyIuZ29vZHMtcHJpY2UgLnByaWNlMSJdKSwgc1szNDldID0gcihbIi5qLXJldGFpbC1wcmljZSJdKSwgc1szNTFdID0gcihbIi50bV9qZyAjRUNTX1NIT1BQUklDRSIsICIjRUNTX1NIT1BQUklDRSJdKSwgc1szNTJdID0gcihbIi5wcmljZS1iIC5uZXciXSksIHNbMzU0XSA9IHIoWyIuZGV0YWlsLWxhc3QtcHJpY2UiXSksIHNbMzU1XSA9IHIoWyIucHJpY2UtaXRlbS5jdXJyZW50IC52YWx1ZSJdKSwgc1szNTZdID0gcihbIi5tLXByaWNlIl0pLCBzWzM1N10gPSByKFsiLnByb2R1Y3QtcHJpY2UgLnByaWNlIl0pLCBzWzM2Ml0gPSByKFsiLkRldGFpbFByaWNlQ29udGFpbiAuUHJpY2VOb3ciXSksIHNbMzYzXSA9IHIoWyIuY3VycmVudC1wcmljZSJdKSwgc1szNjRdID0gcihbIi5wcmljZSJdKSwgc1szNjVdID0gc1syNDZdLCBzWzM2Nl0gPSBzWzFdLCBzWzM2N10gPSByKFsiLml0ZW1JbmZvIC5wcmljZSJdKSwgc1szNjhdID0gcihbIiNzYWxlUHJpY2VJZCJdKSwgc1szNjldID0gcihbIiNqZC1wcmljZSJdKSwgc1szNzBdID0gcihbIiNzYWxlcHJpY2UiLCAiI2thbHVsaVByaWNlIl0pLCBzWzM3MV0gPSByKFsnI3Nob3dfZ29vZHNfcHJpY2UgW25hbWU9Imdvb2RzX3JlYWxfcHJpY2UiXSddKSwgc1szNzJdID0gcihbIi5wcmljZSJdKSwgc1szNzNdID0gcihbIiNiYl9wcmljZSJdKSwgc1szNzRdID0gcihbIiNvcHIiXSksIHNbMzc2XSA9IHIoWyIjSmdvb2RzUHJpY2UiXSksIHNbMzc3XSA9IHIoWyIuYWN0aW9uLXByb19wcmljZSIsICJhY3Rpb24tcHJpY2UiLCAiLnByaWNlIl0pLCBzWzM3OF0gPSByKFsiLmpGaXJzdFByaWNlIl0pLCBzWzM3OV0gPSByKFsiLmFjdGlvbi1wcmljZSJdKSwgc1szODBdID0gcihbIi5ub3ctcHJpY2UiXSksIHNbMzgxXSA9IHIoWyIucHJpY2VBbmRTZXJ2aWNlIC5wcmljZSJdKSwgc1szODJdID0gcihbIi5zYWxlLXByaWNlIl0pLCBzWzM4NV0gPSByKFsiI3NhbGVQcmljZSJdKSwgc1szODZdID0gcihbIi5wcmljZS1ib3ggLnByaWNlLXByb2R1Y3QiXSksIHNbMzg3XSA9IHIoWyIuc3BhcmUwMl9wcmljZSJdKSwgc1szODhdID0gcihbIi5jdXJyZW50LXByaWNlIl0pLCBzWzM4OV0gPSByKFsiLnByaWNlLWluZm8gLmN1cnJlbnQtcHJpY2UiXSksIHNbMzkwXSA9IHIoWyIuc2hvcC1uYXR1cmUxIFtwcmljZV0iXSksIHNbMzkxXSA9IHIoWyIubS1wcmljZSJdKSwgc1szOTJdID0gcihbIi5ub3ctcHJpY2UiXSksIHNbMzkzXSA9IHIoWyIuY3VycmVudC1wcmljZSJdKSwgc1szOTRdID0gcihbIi5jdXJyZW50LXByaWNlIC5wcmljZS1udW1iZXIiXSksIHNbMzk1XSA9IHIoWyIucm1iLXByaWNlIl0pLCBzWzM5Nl0gPSByKFsiLm5vdyAucHJpY2UiXSksIHNbMzk3XSA9IHIoWyIuRGV0YWlsUHJpY2UgLlByaWNlTm93Il0pLCBzWzM5OF0gPSByKFsiLmxhc3RfcHJpY2VzIC5wcmljZSJdKSwgc1szOTldID0gcihbIi5wcmljZS1udW1iZXIiXSksIHNbNDAwXSA9IHIoWyIucHJvZHVjdC1wcm9wZXJ0eSAuY3VycmVudC1wcmljZSJdKSwgc1s0MDFdID0gcihbIi5wcm9kdWN0LXNob3AgLlByaWNlTm93Il0pLCBzWzQwMl0gPSByKFsiLnByaWNlLW51bWJlciJdKSwgc1s0MDNdID0gbyhpKFsiLnByaWNlLXByb2R1Y3RkZXNjIl0sICIsIiwgIi4iKSksIHNbNDA0XSA9IHIoWyIucHJpY2UtY3VycmVudCJdKSwgc1s0MDVdID0gcihbIi5wcmljZS1pbmZvIC5wcmljZSJdKSwgc1s0MDZdID0gcihbIi5kLXByaWNlIl0pLCBzWzQwN10gPSByKFsiLmdvb2RzLXByaWNlIl0pLCBzWzQwOF0gPSByKFsiI3Byb2R1Y3Qtc3VtbWFyeSAucHJpY2UiXSksIHNbNDA5XSA9IHIoWyIucHJpY2Vfc2FsZSJdKSwgc1s0MTBdID0gcihbIi5zYWxlUHJpY2UiLCAiLm5vd1ByaWNlIl0pLCBzWzQxMV0gPSByKFsiI3NrdVByaWNlIl0pLCBzWzQxMl0gPSByKFsiI2l0ZW0tcHJpY2UgLmZvbnQtYm9sZCIsICIjaXRlbS1wcmljZSJdKSwgc1s0MTNdID0gcihbIiNwcm9kdWN0UHJpY2VJbmZvIC5tX3ByaWNlIl0pLCBzWzQxNF0gPSByKFsiLndiLXByaWNlIHNwYW4iXSksIHNbNDE1XSA9IHIoWyIucHJvZHVjdC1wcmljZSAucHJpY2UiXSksIHNbNDE2XSA9IHIoWyIjcHJpY2UiXSksIHNbNDE3XSA9IHIoWyIuc3BlY2lhbC1wcmljZSAucHJpY2UiLCAiLnByaWNlIl0pLCBzWzQxOF0gPSByKFsiLmZpbmFsIiwgIi5oZXJlX3ByaWNlIHN0cm9uZyJdKSwgc1s0MTldID0gcihbIi5tYXJrZXQtcHJpY2UiXSksIHNbNDIwXSA9IHIoWyIjc2FsZVByaWNlIl0pLCBzWzQyM10gPSByKFsiLnByaWNlIl0pLCBzWzQyNF0gPSByKFsiLnByaWNlLWN1cnJlbnQiLCAiLnJlZ3VsYXItcHJpY2UiXSksIHNbNDI3XSA9IHIoWyIucmVkU2FsZVByaWNlIiwgIi5wcm9kdWN0LXByaWNlLWJpZyAucHJpY2Utd3JhcHBlciJdKSwgc1s0MjhdID0gcihbIi5tb25ldGFyeS1wcmljZS12YWx1ZSJdKSwgc1s0MjldID0gc1s0MjddLCBzWzQzMF0gPSByKFsiLm51bV9zcGFuIl0pLCBzWzQzMV0gPSByKFsiI21hbGxfcHJpY2UiXSksIHNbNDMyXSA9IHIoWyIjcHJpY2VfY3VycmVudCJdKSwgc1s0MzNdID0gcihbIi5hY3Rpb24tcHJpY2UiXSksIHNbNDM0XSA9IHIoWyIucHJpY2UiXSksIHNbNDM1XSA9IHIoWyIuZ29vZHNwcmljZSJdKSwgc1s5OTk5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZSgpCgkJfSwgZS5leHBvcnRzID0gcwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSwgYSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBvLCByLCBzID0gbigxMSksCgkJCQlsID0gbig1NyksCgkJCQljID0gbigxMyksCgkJCQlkID0gbigyNiksCgkJCQlwID0gewoJCQkJCWNyY2FycjogW10KCQkJCX0sCgkJCQloID0gewoJCQkJCXlpaGFvZGlhbjogWwoJCQkJCQlbIi5wcm9JbWcgYS5pbWciLCAiLnByb1ByaWNlPmVtLm51bSJdCgkJCQkJXSwKCQkJCQlzdW5pbmc6IFsKCQkJCQkJWyIuaW1nLWJsb2NrIGEuc2VsbFBvaW50IiwgIi5yZXMtaW5mbyAucHJpY2UiXQoJCQkJCV0KCQkJCX0sCgkJCQl1ID0gewoJCQkJCXlpaGFvZGlhbjogMzEsCgkJCQkJc3VuaW5nOiAyNQoJCQkJfSwKCQkJCW0gPSB7CgkJCQkJeWloYW9kaWFuOiAiLmNsZWFyZml4PiNwbGlzdCIsCgkJCQkJc3VuaW5nOiAiLnNlYXJjaC1tYWluIgoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbihlLCBuLCBhKSB7CgkJCQkJZm9yICh2YXIgbyA9IFtdLCByID0gdChlKS5sZW5ndGgsIHMgPSAwOyByID4gczsgcysrKSB7CgkJCQkJCXZhciBsID0gdChlKS5lcShzKS5maW5kKG4pLmVxKDApLAoJCQkJCQkJYyA9IHQoZSkuZXEocykuZmluZChhKS5lcSgwKTsKCQkJCQkJaWYgKGwgJiYgYykgewoJCQkJCQkJdmFyIGQgPSBsLmF0dHIoImhyZWYiKSB8fCAiIiwKCQkJCQkJCQloID0gYy50ZXh0KCksCgkJCQkJCQkJdSA9IF8obCk7CgkJCQkJCQlpZiAoZyhkKSkgY29udGludWU7CgkJCQkJCQlpZiAoZCA9IGkoZCksIGQgJiYgaCAmJiB1KSB7CgkJCQkJCQkJaWYgKHAuY3JjYXJyLmluZGV4T2YgJiYgLTEgPT09IHAuY3JjYXJyLmluZGV4T2YodSkgJiYgIngiICE9PSB1KSBwLmNyY2Fyci5wdXNoKHUpOwoJCQkJCQkJCWVsc2UgewoJCQkJCQkJCQlpZiAoIngiICE9PSB1KSBjb250aW51ZTsKCQkJCQkJCQkJdSA9ICIiCgkJCQkJCQkJfQoJCQkJCQkJCW8ucHVzaCh7CgkJCQkJCQkJCXVybDogZCwKCQkJCQkJCQkJcHJpY2U6IGgsCgkJCQkJCQkJCWNyYzMyOiB1CgkJCQkJCQkJfSkKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gbwoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUuaW5kZXhPZigiIiArIGEuZXh0TmFtZSkgPiAtMSA/ICEwIDogInlpaGFvZGlhbiIgPT0gYS5zaXRlICYmIChlLmluZGV4T2YoInRyYWNrZXIueWhkLmNvbSIpID4gLTEgfHwgLTEgPT0gZS5pbmRleE9mKCJpdGVtLnloZC5jb20iKSkgPyAhMCA6ICIzNjBidXkiID09IGEuc2l0ZSAmJiAtMSA9PSBlLmluZGV4T2YoIml0ZW0uamQuY29tIikgPyAhMCA6ICExCgkJCQl9LAoJCQkJaSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgdCA9IGUuaW5kZXhPZigiIyIpID4gLTE7CgkJCQkJCXJldHVybiB0ICYmIChlID0gZS5zbGljZSgwLCB0KSksIDAgPT09IGUuaW5kZXhPZigiLy8iKSA/ICJodHRwOiIgKyBlIDogMCA9PT0gZS5pbmRleE9mKCIvIikgPyAiIiArIGxvY2F0aW9uLmhvc3QgKyBlIDogZQoJCQkJCX0KCQkJCX0sCgkJCQlfID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gIiI7CgkJCQkJc3dpdGNoIChhLnNpdGUpIHsKCQkJCQkJY2FzZSAieWloYW9kaWFuIjoKCQkJCQkJCXZhciBpID0gdChlKS5hdHRyKCJpZCIpLm1hdGNoKC9wZGxpbmsxXyhcZCspLyk7CgkJCQkJCQlpICYmIChuID0gaVsxXSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAic3VuaW5nIjoKCQkJCQkJCW4gPSB0KGUpLnBhcmVudHMoIi53cmFwIikuZmluZCgiaW5wdXQuaGlkZW5JbmZvIikuYXR0cigiZGF0YXBybyIpLnNwbGl0KCJ8fCIpWzBdOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQluID0gIngiCgkJCQkJfQoJCQkJCXJldHVybiBuCgkJCQl9LAoJCQkJeCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuID0gaFthLnNpdGVdLCBpID0gZS5sZW5ndGgsIG8gPSAwOyBpID4gbzsgbysrKQoJCQkJCQlmb3IgKHZhciByID0gZVtvXSwgcyA9IDA7IHMgPCBuLmxlbmd0aDsgcysrKSB7CgkJCQkJCQl2YXIgbCA9IG5bc10sCgkJCQkJCQkJYyA9IHQociArICIgIiArIGxbMF0pLAoJCQkJCQkJCWQgPSB0KHIgKyAiICIgKyBsWzFdKTsKCQkJCQkJCWlmIChjLmxlbmd0aCAmJiBkLmxlbmd0aCkgcmV0dXJuIGYociwgbFswXSwgbFsxXSkKCQkJCQkJfQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKDAgIT09IGUubGVuZ3RoKSB7CgkJCQkJCXZhciB0ID0gbC5nZXRTdWJTdGF0aW9uSWQoYS5kcC5zaXRlKSwKCQkJCQkJCWkgPSB7CgkJCQkJCQkJcHJvdmluY2VfaWQ6IHQsCgkJCQkJCQkJaW5mbzogZQoJCQkJCQkJfTsKCQkJCQkJZCgiZ2V0TGlzdEluZm9faXNfc2VuZCIgKyBhLnVuaW9uICsgIl9zaXRlIiArIGEuc2l0ZSksIGMubG9nKCJnZXRMaXN0SW5mb19pc19pbnRvIiksIGkgPSBuKDYzKS5nWmlwKGkpOwoJCQkJCQl2YXIgbyA9IHVbYS5zaXRlXSB8fCB1Lm5vd1NpdGUgfHwgcjsKCQkJCQkJaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkgdHJ5IHsKCQkJCQkJCXZhciBzID0gbmV3IFhNTEh0dHBSZXF1ZXN0OwoJCQkJCQkJcy5vcGVuKCJQT1NUIiwgYS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1zZW5kTGlzdEluZm8mc2l0ZV9pZD0iICsgbyArICImdT0iICsgYS51bmlvbiksIHMuc2VuZChpKSwgYy5sb2coIuWunuaXtuaKk+WPluWPkemAgeivt+axgiIpCgkJCQkJCX0gY2F0Y2ggKHApIHt9CgkJCQkJfQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQoIiIgKyBtW2Euc2l0ZV0pWzBdOwoJCQkJCWUgJiYgZS5hZGRFdmVudExpc3RlbmVyICYmIGUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NU3VidHJlZU1vZGlmaWVkIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChvKSwgbyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgZSA9IHgocC5zZWxlY3RvcnMpOwoJCQkJCQkJMCAhPT0gZS5sZW5ndGggJiYgdyhlKQoJCQkJCQl9LCAxZTMpCgkJCQkJfSwgITEpCgkJCQl9LAoJCQkJYiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl1Lm5vd1NpdGUgPSBlLCB3KHQpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCFsb2NhdGlvbi5ob3N0Lm1hdGNoKC9ebVwuLykpCgkJCQkJaWYgKGhbYS5zaXRlXSkgewoJCQkJCQl2YXIgZSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIGUgPSBzLmNoZWNrKCk7CgkJCQkJCQlyZXR1cm4gcC5zZWxlY3RvcnMgPSBlLCAhZSB8fCBlICYmICFlLmxlbmd0aCA/IHsKCQkJCQkJCQl2OiB2b2lkIDAKCQkJCQkJCX0gOiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIHQgPSB4KGUpOwoJCQkJCQkJCTAgIT09IHQubGVuZ3RoICYmICh3KHQpLCB2KCkpCgkJCQkJCQl9LCAxZTMpCgkJCQkJCX0oKTsKCQkJCQkJaWYgKCJvYmplY3QiID09IHR5cGVvZiBlKSByZXR1cm4gZS52CgkJCQkJfSBlbHNlIHRyeSB7CgkJCQkJCW4oNjUpLmluaXQoYikKCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCWQoImxpc3RJbmZvRXJyb3I6IiArIEpTT04uc3RyaW5naWZ5KHQpKQoJCQkJCX0KCQkJfSwgZS5leHBvcnRzLnNlbmRQcmlDaGVjayA9IGZ1bmN0aW9uKGUpIHsKCQkJCXIgPSBuKDY1KS5nZXRTaXRlSWQoYS5zaXRlKSwgdyhlKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDYyKSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZnVuY3Rpb24gbigpIHsKCQkJYyA9ICExLCByLmxlbmd0aCA/IGwgPSByLmNvbmNhdChsKSA6IGQgPSAtMSwgbC5sZW5ndGggJiYgaSgpCgkJfQoKCQlmdW5jdGlvbiBpKCkgewoJCQlpZiAoIWMpIHsKCQkJCXZhciBlID0gc2V0VGltZW91dChuKTsKCQkJCWMgPSAhMDsKCQkJCWZvciAodmFyIHQgPSBsLmxlbmd0aDsgdDspIHsKCQkJCQlmb3IgKHIgPSBsLCBsID0gW107ICsrZCA8IHQ7KSByICYmIHJbZF0ucnVuKCk7CgkJCQkJZCA9IC0xLCB0ID0gbC5sZW5ndGgKCQkJCX0KCQkJCXIgPSBudWxsLCBjID0gITEsIGNsZWFyVGltZW91dChlKQoJCQl9CgkJfQoKCQlmdW5jdGlvbiBhKGUsIHQpIHsKCQkJdGhpcy5mdW4gPSBlLCB0aGlzLmFycmF5ID0gdAoJCX0KCgkJZnVuY3Rpb24gbygpIHt9CgkJdmFyIHIsIHMgPSBlLmV4cG9ydHMgPSB7fSwKCQkJbCA9IFtdLAoJCQljID0gITEsCgkJCWQgPSAtMTsKCQlzLm5leHRUaWNrID0gZnVuY3Rpb24oZSkgewoJCQl2YXIgdCA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7CgkJCWlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkKCQkJCWZvciAodmFyIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB0W24gLSAxXSA9IGFyZ3VtZW50c1tuXTsKCQkJbC5wdXNoKG5ldyBhKGUsIHQpKSwgMSAhPT0gbC5sZW5ndGggfHwgYyB8fCBzZXRUaW1lb3V0KGksIDApCgkJfSwgYS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7CgkJCXRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpCgkJfSwgcy50aXRsZSA9ICJicm93c2VyIiwgcy5icm93c2VyID0gITAsIHMuZW52ID0ge30sIHMuYXJndiA9IFtdLCBzLnZlcnNpb24gPSAiIiwgcy52ZXJzaW9ucyA9IHt9LCBzLm9uID0gbywgcy5hZGRMaXN0ZW5lciA9IG8sIHMub25jZSA9IG8sIHMub2ZmID0gbywgcy5yZW1vdmVMaXN0ZW5lciA9IG8sIHMucmVtb3ZlQWxsTGlzdGVuZXJzID0gbywgcy5lbWl0ID0gbywgcy5iaW5kaW5nID0gZnVuY3Rpb24oZSkgewoJCQl0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIikKCQl9LCBzLmN3ZCA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gIi8iCgkJfSwgcy5jaGRpciA9IGZ1bmN0aW9uKGUpIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKQoJCX0sIHMudW1hc2sgPSBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIDAKCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCSJ1c2Ugc3RyaWN0IjsKCQl2YXIgaSA9IG4oNjQpOwoJCWUuZXhwb3J0cy5nWmlwID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gaS5nemlwKEpTT04uc3RyaW5naWZ5KGUpKQoJCX0sIGUuZXhwb3J0cy51bkd6aXAgPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBKU09OLnBhcnNlKGkudW5nemlwKGUpKQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGksIGk7CgkJISBmdW5jdGlvbih0KSB7CgkJCWUuZXhwb3J0cyA9IHQoKQoJCX0oZnVuY3Rpb24oKSB7CgkJCXJldHVybiBmdW5jdGlvbiBlKHQsIG4sIGEpIHsKCQkJCWZ1bmN0aW9uIG8ocywgbCkgewoJCQkJCWlmICghbltzXSkgewoJCQkJCQlpZiAoIXRbc10pIHsKCQkJCQkJCXZhciBjID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSAmJiBpOwoJCQkJCQkJaWYgKCFsICYmIGMpIHJldHVybiBpKHMsICEwKTsKCQkJCQkJCWlmIChyKSByZXR1cm4gcihzLCAhMCk7CgkJCQkJCQl2YXIgZCA9IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciICsgcyArICInIik7CgkJCQkJCQl0aHJvdyBkLmNvZGUgPSAiTU9EVUxFX05PVF9GT1VORCIsIGQKCQkJCQkJfQoJCQkJCQl2YXIgcCA9IG5bc10gPSB7CgkJCQkJCQlleHBvcnRzOiB7fQoJCQkJCQl9OwoJCQkJCQl0W3NdWzBdLmNhbGwocC5leHBvcnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgbiA9IHRbc11bMV1bZV07CgkJCQkJCQlyZXR1cm4gbyhuID8gbiA6IGUpCgkJCQkJCX0sIHAsIHAuZXhwb3J0cywgZSwgdCwgbiwgYSkKCQkJCQl9CgkJCQkJcmV0dXJuIG5bc10uZXhwb3J0cwoJCQkJfQoJCQkJZm9yICh2YXIgciA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgJiYgaSwgcyA9IDA7IHMgPCBhLmxlbmd0aDsgcysrKSBvKGFbc10pOwoJCQkJcmV0dXJuIG8KCQkJfSh7CgkJCQkxOiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgoJCQkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQkJCWlmICghKHRoaXMgaW5zdGFuY2VvZiBpKSkgcmV0dXJuIG5ldyBpKGUpOwoJCQkJCQkJdGhpcy5vcHRpb25zID0gbC5hc3NpZ24oewoJCQkJCQkJCWxldmVsOiB4LAoJCQkJCQkJCW1ldGhvZDogdiwKCQkJCQkJCQljaHVua1NpemU6IDE2Mzg0LAoJCQkJCQkJCXdpbmRvd0JpdHM6IDE1LAoJCQkJCQkJCW1lbUxldmVsOiA4LAoJCQkJCQkJCXN0cmF0ZWd5OiB3LAoJCQkJCQkJCXRvOiAiIgoJCQkJCQkJfSwgZSB8fCB7fSk7CgkJCQkJCQl2YXIgdCA9IHRoaXMub3B0aW9uczsKCQkJCQkJCXQucmF3ICYmIHQud2luZG93Qml0cyA+IDAgPyB0LndpbmRvd0JpdHMgPSAtdC53aW5kb3dCaXRzIDogdC5nemlwICYmIHQud2luZG93Qml0cyA+IDAgJiYgdC53aW5kb3dCaXRzIDwgMTYgJiYgKHQud2luZG93Qml0cyArPSAxNiksIHRoaXMuZXJyID0gMCwgdGhpcy5tc2cgPSAiIiwgdGhpcy5lbmRlZCA9ICExLCB0aGlzLmNodW5rcyA9IFtdLCB0aGlzLnN0cm0gPSBuZXcgcCwgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7CgkJCQkJCQl2YXIgbiA9IHMuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSwgdC5sZXZlbCwgdC5tZXRob2QsIHQud2luZG93Qml0cywgdC5tZW1MZXZlbCwgdC5zdHJhdGVneSk7CgkJCQkJCQlpZiAobiAhPT0gZikgdGhyb3cgbmV3IEVycm9yKGRbbl0pOwoJCQkJCQkJaWYgKHQuaGVhZGVyICYmIHMuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sIHQuaGVhZGVyKSwgdC5kaWN0aW9uYXJ5KSB7CgkJCQkJCQkJdmFyIGE7CgkJCQkJCQkJaWYgKGEgPSAic3RyaW5nIiA9PSB0eXBlb2YgdC5kaWN0aW9uYXJ5ID8gYy5zdHJpbmcyYnVmKHQuZGljdGlvbmFyeSkgOiAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSBoLmNhbGwodC5kaWN0aW9uYXJ5KSA/IG5ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSkgOiB0LmRpY3Rpb25hcnksIG4gPSBzLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgYSksIG4gIT09IGYpIHRocm93IG5ldyBFcnJvcihkW25dKTsKCQkJCQkJCQl0aGlzLl9kaWN0X3NldCA9ICEwCgkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGEoZSwgdCkgewoJCQkJCQkJdmFyIG4gPSBuZXcgaSh0KTsKCQkJCQkJCWlmIChuLnB1c2goZSwgITApLCBuLmVycikgdGhyb3cgbi5tc2c7CgkJCQkJCQlyZXR1cm4gbi5yZXN1bHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gbyhlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdCA9IHQgfHwge30sIHQucmF3ID0gITAsIGEoZSwgdCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdCA9IHQgfHwge30sIHQuZ3ppcCA9ICEwLCBhKGUsIHQpCgkJCQkJCX0KCQkJCQkJdmFyIHMgPSBlKCIuL3psaWIvZGVmbGF0ZSIpLAoJCQkJCQkJbCA9IGUoIi4vdXRpbHMvY29tbW9uIiksCgkJCQkJCQljID0gZSgiLi91dGlscy9zdHJpbmdzIiksCgkJCQkJCQlkID0gZSgiLi96bGliL21lc3NhZ2VzIiksCgkJCQkJCQlwID0gZSgiLi96bGliL3pzdHJlYW0iKSwKCQkJCQkJCWggPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLAoJCQkJCQkJdSA9IDAsCgkJCQkJCQltID0gNCwKCQkJCQkJCWYgPSAwLAoJCQkJCQkJZyA9IDEsCgkJCQkJCQlfID0gMiwKCQkJCQkJCXggPSAtMSwKCQkJCQkJCXcgPSAwLAoJCQkJCQkJdiA9IDg7CgkJCQkJCWkucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbiwgaSwgYSA9IHRoaXMuc3RybSwKCQkJCQkJCQlvID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTsKCQkJCQkJCWlmICh0aGlzLmVuZGVkKSByZXR1cm4gITE7CgkJCQkJCQlpID0gdCA9PT0gfn50ID8gdCA6IHQgPT09ICEwID8gbSA6IHUsICJzdHJpbmciID09IHR5cGVvZiBlID8gYS5pbnB1dCA9IGMuc3RyaW5nMmJ1ZihlKSA6ICJbb2JqZWN0IEFycmF5QnVmZmVyXSIgPT09IGguY2FsbChlKSA/IGEuaW5wdXQgPSBuZXcgVWludDhBcnJheShlKSA6IGEuaW5wdXQgPSBlLCBhLm5leHRfaW4gPSAwLCBhLmF2YWlsX2luID0gYS5pbnB1dC5sZW5ndGg7CgkJCQkJCQlkbyB7CgkJCQkJCQkJaWYgKDAgPT09IGEuYXZhaWxfb3V0ICYmIChhLm91dHB1dCA9IG5ldyBsLkJ1ZjgobyksIGEubmV4dF9vdXQgPSAwLCBhLmF2YWlsX291dCA9IG8pLCBuID0gcy5kZWZsYXRlKGEsIGkpLCBuICE9PSBnICYmIG4gIT09IGYpIHJldHVybiB0aGlzLm9uRW5kKG4pLCB0aGlzLmVuZGVkID0gITAsICExOwoJCQkJCQkJCSgwID09PSBhLmF2YWlsX291dCB8fCAwID09PSBhLmF2YWlsX2luICYmIChpID09PSBtIHx8IGkgPT09IF8pKSAmJiAoInN0cmluZyIgPT09IHRoaXMub3B0aW9ucy50byA/IHRoaXMub25EYXRhKGMuYnVmMmJpbnN0cmluZyhsLnNocmlua0J1ZihhLm91dHB1dCwgYS5uZXh0X291dCkpKSA6IHRoaXMub25EYXRhKGwuc2hyaW5rQnVmKGEub3V0cHV0LCBhLm5leHRfb3V0KSkpCgkJCQkJCQl9IHdoaWxlICgoYS5hdmFpbF9pbiA+IDAgfHwgMCA9PT0gYS5hdmFpbF9vdXQpICYmIG4gIT09IGcpOwoJCQkJCQkJcmV0dXJuIGkgPT09IG0gPyAobiA9IHMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLCB0aGlzLm9uRW5kKG4pLCB0aGlzLmVuZGVkID0gITAsIG4gPT09IGYpIDogaSA9PT0gXyA/ICh0aGlzLm9uRW5kKGYpLCBhLmF2YWlsX291dCA9IDAsICEwKSA6ICEwCgkJCQkJCX0sIGkucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXRoaXMuY2h1bmtzLnB1c2goZSkKCQkJCQkJfSwgaS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQllID09PSBmICYmICgic3RyaW5nIiA9PT0gdGhpcy5vcHRpb25zLnRvID8gdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCIiKSA6IHRoaXMucmVzdWx0ID0gbC5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuZXJyID0gZSwgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnCgkJCQkJCX0sIG4uRGVmbGF0ZSA9IGksIG4uZGVmbGF0ZSA9IGEsIG4uZGVmbGF0ZVJhdyA9IG8sIG4uZ3ppcCA9IHIKCQkJCQl9LCB7CgkJCQkJCSIuL3V0aWxzL2NvbW1vbiI6IDMsCgkJCQkJCSIuL3V0aWxzL3N0cmluZ3MiOiA0LAoJCQkJCQkiLi96bGliL2RlZmxhdGUiOiA4LAoJCQkJCQkiLi96bGliL21lc3NhZ2VzIjogMTMsCgkJCQkJCSIuL3psaWIvenN0cmVhbSI6IDE1CgkJCQkJfQoJCQkJXSwKCQkJCTI6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCgkJCQkJCWZ1bmN0aW9uIGkoZSkgewoJCQkJCQkJaWYgKCEodGhpcyBpbnN0YW5jZW9mIGkpKSByZXR1cm4gbmV3IGkoZSk7CgkJCQkJCQl0aGlzLm9wdGlvbnMgPSBzLmFzc2lnbih7CgkJCQkJCQkJY2h1bmtTaXplOiAxNjM4NCwKCQkJCQkJCQl3aW5kb3dCaXRzOiAwLAoJCQkJCQkJCXRvOiAiIgoJCQkJCQkJfSwgZSB8fCB7fSk7CgkJCQkJCQl2YXIgdCA9IHRoaXMub3B0aW9uczsKCQkJCQkJCXQucmF3ICYmIHQud2luZG93Qml0cyA+PSAwICYmIHQud2luZG93Qml0cyA8IDE2ICYmICh0LndpbmRvd0JpdHMgPSAtdC53aW5kb3dCaXRzLCAwID09PSB0LndpbmRvd0JpdHMgJiYgKHQud2luZG93Qml0cyA9IC0xNSkpLCAhKHQud2luZG93Qml0cyA+PSAwICYmIHQud2luZG93Qml0cyA8IDE2KSB8fCBlICYmIGUud2luZG93Qml0cyB8fCAodC53aW5kb3dCaXRzICs9IDMyKSwgdC53aW5kb3dCaXRzID4gMTUgJiYgdC53aW5kb3dCaXRzIDwgNDggJiYgMCA9PT0gKDE1ICYgdC53aW5kb3dCaXRzKSAmJiAodC53aW5kb3dCaXRzIHw9IDE1KSwgdGhpcy5lcnIgPSAwLCB0aGlzLm1zZyA9ICIiLCB0aGlzLmVuZGVkID0gITEsIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuc3RybSA9IG5ldyBwLCB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDsKCQkJCQkJCXZhciBuID0gci5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLCB0LndpbmRvd0JpdHMpOwoJCQkJCQkJaWYgKG4gIT09IGMuWl9PSykgdGhyb3cgbmV3IEVycm9yKGRbbl0pOwoJCQkJCQkJdGhpcy5oZWFkZXIgPSBuZXcgaCwgci5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSwgdGhpcy5oZWFkZXIpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGEoZSwgdCkgewoJCQkJCQkJdmFyIG4gPSBuZXcgaSh0KTsKCQkJCQkJCWlmIChuLnB1c2goZSwgITApLCBuLmVycikgdGhyb3cgbi5tc2c7CgkJCQkJCQlyZXR1cm4gbi5yZXN1bHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gbyhlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdCA9IHQgfHwge30sIHQucmF3ID0gITAsIGEoZSwgdCkKCQkJCQkJfQoJCQkJCQl2YXIgciA9IGUoIi4vemxpYi9pbmZsYXRlIiksCgkJCQkJCQlzID0gZSgiLi91dGlscy9jb21tb24iKSwKCQkJCQkJCWwgPSBlKCIuL3V0aWxzL3N0cmluZ3MiKSwKCQkJCQkJCWMgPSBlKCIuL3psaWIvY29uc3RhbnRzIiksCgkJCQkJCQlkID0gZSgiLi96bGliL21lc3NhZ2VzIiksCgkJCQkJCQlwID0gZSgiLi96bGliL3pzdHJlYW0iKSwKCQkJCQkJCWggPSBlKCIuL3psaWIvZ3poZWFkZXIiKSwKCQkJCQkJCXUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwoJCQkJCQlpLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8sIGQsIHAsIGggPSB0aGlzLnN0cm0sCgkJCQkJCQkJbSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemUsCgkJCQkJCQkJZiA9IHRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LAoJCQkJCQkJCWcgPSAhMTsKCQkJCQkJCWlmICh0aGlzLmVuZGVkKSByZXR1cm4gITE7CgkJCQkJCQlpID0gdCA9PT0gfn50ID8gdCA6IHQgPT09ICEwID8gYy5aX0ZJTklTSCA6IGMuWl9OT19GTFVTSCwgInN0cmluZyIgPT0gdHlwZW9mIGUgPyBoLmlucHV0ID0gbC5iaW5zdHJpbmcyYnVmKGUpIDogIltvYmplY3QgQXJyYXlCdWZmZXJdIiA9PT0gdS5jYWxsKGUpID8gaC5pbnB1dCA9IG5ldyBVaW50OEFycmF5KGUpIDogaC5pbnB1dCA9IGUsIGgubmV4dF9pbiA9IDAsIGguYXZhaWxfaW4gPSBoLmlucHV0Lmxlbmd0aDsKCQkJCQkJCWRvIHsKCQkJCQkJCQlpZiAoMCA9PT0gaC5hdmFpbF9vdXQgJiYgKGgub3V0cHV0ID0gbmV3IHMuQnVmOChtKSwgaC5uZXh0X291dCA9IDAsIGguYXZhaWxfb3V0ID0gbSksIG4gPSByLmluZmxhdGUoaCwgYy5aX05PX0ZMVVNIKSwgbiA9PT0gYy5aX05FRURfRElDVCAmJiBmICYmIChwID0gInN0cmluZyIgPT0gdHlwZW9mIGYgPyBsLnN0cmluZzJidWYoZikgOiAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSB1LmNhbGwoZikgPyBuZXcgVWludDhBcnJheShmKSA6IGYsIG4gPSByLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgcCkpLCBuID09PSBjLlpfQlVGX0VSUk9SICYmIGcgPT09ICEwICYmIChuID0gYy5aX09LLCBnID0gITEpLCBuICE9PSBjLlpfU1RSRUFNX0VORCAmJiBuICE9PSBjLlpfT0spIHJldHVybiB0aGlzLm9uRW5kKG4pLCB0aGlzLmVuZGVkID0gITAsICExOwoJCQkJCQkJCWgubmV4dF9vdXQgJiYgKDAgPT09IGguYXZhaWxfb3V0IHx8IG4gPT09IGMuWl9TVFJFQU1fRU5EIHx8IDAgPT09IGguYXZhaWxfaW4gJiYgKGkgPT09IGMuWl9GSU5JU0ggfHwgaSA9PT0gYy5aX1NZTkNfRkxVU0gpKSAmJiAoInN0cmluZyIgPT09IHRoaXMub3B0aW9ucy50byA/IChhID0gbC51dGY4Ym9yZGVyKGgub3V0cHV0LCBoLm5leHRfb3V0KSwgbyA9IGgubmV4dF9vdXQgLSBhLCBkID0gbC5idWYyc3RyaW5nKGgub3V0cHV0LCBhKSwgaC5uZXh0X291dCA9IG8sIGguYXZhaWxfb3V0ID0gbSAtIG8sIG8gJiYgcy5hcnJheVNldChoLm91dHB1dCwgaC5vdXRwdXQsIGEsIG8sIDApLCB0aGlzLm9uRGF0YShkKSkgOiB0aGlzLm9uRGF0YShzLnNocmlua0J1ZihoLm91dHB1dCwgaC5uZXh0X291dCkpKSwgMCA9PT0gaC5hdmFpbF9pbiAmJiAwID09PSBoLmF2YWlsX291dCAmJiAoZyA9ICEwKQoJCQkJCQkJfSB3aGlsZSAoKGguYXZhaWxfaW4gPiAwIHx8IDAgPT09IGguYXZhaWxfb3V0KSAmJiBuICE9PSBjLlpfU1RSRUFNX0VORCk7CgkJCQkJCQlyZXR1cm4gbiA9PT0gYy5aX1NUUkVBTV9FTkQgJiYgKGkgPSBjLlpfRklOSVNIKSwgaSA9PT0gYy5aX0ZJTklTSCA/IChuID0gci5pbmZsYXRlRW5kKHRoaXMuc3RybSksIHRoaXMub25FbmQobiksIHRoaXMuZW5kZWQgPSAhMCwgbiA9PT0gYy5aX09LKSA6IGkgPT09IGMuWl9TWU5DX0ZMVVNIID8gKHRoaXMub25FbmQoYy5aX09LKSwgaC5hdmFpbF9vdXQgPSAwLCAhMCkgOiAhMAoJCQkJCQl9LCBpLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQl0aGlzLmNodW5rcy5wdXNoKGUpCgkJCQkJCX0sIGkucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJZSA9PT0gYy5aX09LICYmICgic3RyaW5nIiA9PT0gdGhpcy5vcHRpb25zLnRvID8gdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCIiKSA6IHRoaXMucmVzdWx0ID0gcy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuZXJyID0gZSwgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnCgkJCQkJCX0sIG4uSW5mbGF0ZSA9IGksIG4uaW5mbGF0ZSA9IGEsIG4uaW5mbGF0ZVJhdyA9IG8sIG4udW5nemlwID0gYQoJCQkJCX0sIHsKCQkJCQkJIi4vdXRpbHMvY29tbW9uIjogMywKCQkJCQkJIi4vdXRpbHMvc3RyaW5ncyI6IDQsCgkJCQkJCSIuL3psaWIvY29uc3RhbnRzIjogNiwKCQkJCQkJIi4vemxpYi9nemhlYWRlciI6IDksCgkJCQkJCSIuL3psaWIvaW5mbGF0ZSI6IDExLAoJCQkJCQkiLi96bGliL21lc3NhZ2VzIjogMTMsCgkJCQkJCSIuL3psaWIvenN0cmVhbSI6IDE1CgkJCQkJfQoJCQkJXSwKCQkJCTM6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCQkJCQkJdmFyIGkgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgVWludDhBcnJheSAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgVWludDE2QXJyYXkgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIEludDMyQXJyYXk7CgkJCQkJCW4uYXNzaWduID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJZm9yICh2YXIgdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IHQubGVuZ3RoOykgewoJCQkJCQkJCXZhciBuID0gdC5zaGlmdCgpOwoJCQkJCQkJCWlmIChuKSB7CgkJCQkJCQkJCWlmICgib2JqZWN0IiAhPSB0eXBlb2YgbikgdGhyb3cgbmV3IFR5cGVFcnJvcihuICsgIm11c3QgYmUgbm9uLW9iamVjdCIpOwoJCQkJCQkJCQlmb3IgKHZhciBpIGluIG4pIG4uaGFzT3duUHJvcGVydHkoaSkgJiYgKGVbaV0gPSBuW2ldKQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCXJldHVybiBlCgkJCQkJCX0sIG4uc2hyaW5rQnVmID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJcmV0dXJuIGUubGVuZ3RoID09PSB0ID8gZSA6IGUuc3ViYXJyYXkgPyBlLnN1YmFycmF5KDAsIHQpIDogKGUubGVuZ3RoID0gdCwgZSkKCQkJCQkJfTsKCQkJCQkJdmFyIGEgPSB7CgkJCQkJCQkJYXJyYXlTZXQ6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCQkJaWYgKHQuc3ViYXJyYXkgJiYgZS5zdWJhcnJheSkgcmV0dXJuIHZvaWQgZS5zZXQodC5zdWJhcnJheShuLCBuICsgaSksIGEpOwoJCQkJCQkJCQlmb3IgKHZhciBvID0gMDsgaSA+IG87IG8rKykgZVthICsgb10gPSB0W24gKyBvXQoJCQkJCQkJCX0sCgkJCQkJCQkJZmxhdHRlbkNodW5rczogZnVuY3Rpb24oZSkgewoJCQkJCQkJCQl2YXIgdCwgbiwgaSwgYSwgbywgcjsKCQkJCQkJCQkJZm9yIChpID0gMCwgdCA9IDAsIG4gPSBlLmxlbmd0aDsgbiA+IHQ7IHQrKykgaSArPSBlW3RdLmxlbmd0aDsKCQkJCQkJCQkJZm9yIChyID0gbmV3IFVpbnQ4QXJyYXkoaSksIGEgPSAwLCB0ID0gMCwgbiA9IGUubGVuZ3RoOyBuID4gdDsgdCsrKSBvID0gZVt0XSwgci5zZXQobywgYSksIGEgKz0gby5sZW5ndGg7CgkJCQkJCQkJCXJldHVybiByCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJYXJyYXlTZXQ6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCQkJZm9yICh2YXIgbyA9IDA7IGkgPiBvOyBvKyspIGVbYSArIG9dID0gdFtuICsgb10KCQkJCQkJCQl9LAoJCQkJCQkJCWZsYXR0ZW5DaHVua3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgZSkKCQkJCQkJCQl9CgkJCQkJCQl9OwoJCQkJCQluLnNldFR5cGVkID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJZSA/IChuLkJ1ZjggPSBVaW50OEFycmF5LCBuLkJ1ZjE2ID0gVWludDE2QXJyYXksIG4uQnVmMzIgPSBJbnQzMkFycmF5LCBuLmFzc2lnbihuLCBhKSkgOiAobi5CdWY4ID0gQXJyYXksIG4uQnVmMTYgPSBBcnJheSwgbi5CdWYzMiA9IEFycmF5LCBuLmFzc2lnbihuLCBvKSkKCQkJCQkJfSwgbi5zZXRUeXBlZChpKQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJNDogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaShlLCB0KSB7CgkJCQkJCQlpZiAoNjU1MzcgPiB0ICYmIChlLnN1YmFycmF5ICYmIHIgfHwgIWUuc3ViYXJyYXkgJiYgbykpIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGEuc2hyaW5rQnVmKGUsIHQpKTsKCQkJCQkJCWZvciAodmFyIG4gPSAiIiwgaSA9IDA7IHQgPiBpOyBpKyspIG4gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKTsKCQkJCQkJCXJldHVybiBuCgkJCQkJCX0KCQkJCQkJdmFyIGEgPSBlKCIuL2NvbW1vbiIpLAoJCQkJCQkJbyA9ICEwLAoJCQkJCQkJciA9ICEwOwoJCQkJCQl0cnkgewoJCQkJCQkJU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBbMF0pCgkJCQkJCX0gY2F0Y2ggKHMpIHsKCQkJCQkJCW8gPSAhMQoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQlTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KDEpKQoJCQkJCQl9IGNhdGNoIChzKSB7CgkJCQkJCQlyID0gITEKCQkJCQkJfQoJCQkJCQlmb3IgKHZhciBsID0gbmV3IGEuQnVmOCgyNTYpLCBjID0gMDsgMjU2ID4gYzsgYysrKSBsW2NdID0gYyA+PSAyNTIgPyA2IDogYyA+PSAyNDggPyA1IDogYyA+PSAyNDAgPyA0IDogYyA+PSAyMjQgPyAzIDogYyA+PSAxOTIgPyAyIDogMTsKCQkJCQkJbFsyNTRdID0gbFsyNTRdID0gMSwgbi5zdHJpbmcyYnVmID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQsIG4sIGksIG8sIHIsIHMgPSBlLmxlbmd0aCwKCQkJCQkJCQlsID0gMDsKCQkJCQkJCWZvciAobyA9IDA7IHMgPiBvOyBvKyspIG4gPSBlLmNoYXJDb2RlQXQobyksIDU1Mjk2ID09PSAoNjQ1MTIgJiBuKSAmJiBzID4gbyArIDEgJiYgKGkgPSBlLmNoYXJDb2RlQXQobyArIDEpLCA1NjMyMCA9PT0gKDY0NTEyICYgaSkgJiYgKG4gPSA2NTUzNiArIChuIC0gNTUyOTYgPDwgMTApICsgKGkgLSA1NjMyMCksIG8rKykpLCBsICs9IDEyOCA+IG4gPyAxIDogMjA0OCA+IG4gPyAyIDogNjU1MzYgPiBuID8gMyA6IDQ7CgkJCQkJCQlmb3IgKHQgPSBuZXcgYS5CdWY4KGwpLCByID0gMCwgbyA9IDA7IGwgPiByOyBvKyspIG4gPSBlLmNoYXJDb2RlQXQobyksIDU1Mjk2ID09PSAoNjQ1MTIgJiBuKSAmJiBzID4gbyArIDEgJiYgKGkgPSBlLmNoYXJDb2RlQXQobyArIDEpLCA1NjMyMCA9PT0gKDY0NTEyICYgaSkgJiYgKG4gPSA2NTUzNiArIChuIC0gNTUyOTYgPDwgMTApICsgKGkgLSA1NjMyMCksIG8rKykpLCAxMjggPiBuID8gdFtyKytdID0gbiA6IDIwNDggPiBuID8gKHRbcisrXSA9IDE5MiB8IG4gPj4+IDYsIHRbcisrXSA9IDEyOCB8IDYzICYgbikgOiA2NTUzNiA+IG4gPyAodFtyKytdID0gMjI0IHwgbiA+Pj4gMTIsIHRbcisrXSA9IDEyOCB8IG4gPj4+IDYgJiA2MywgdFtyKytdID0gMTI4IHwgNjMgJiBuKSA6ICh0W3IrK10gPSAyNDAgfCBuID4+PiAxOCwgdFtyKytdID0gMTI4IHwgbiA+Pj4gMTIgJiA2MywgdFtyKytdID0gMTI4IHwgbiA+Pj4gNiAmIDYzLCB0W3IrK10gPSAxMjggfCA2MyAmIG4pOwoJCQkJCQkJcmV0dXJuIHQKCQkJCQkJfSwgbi5idWYyYmluc3RyaW5nID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGkoZSwgZS5sZW5ndGgpCgkJCQkJCX0sIG4uYmluc3RyaW5nMmJ1ZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWZvciAodmFyIHQgPSBuZXcgYS5CdWY4KGUubGVuZ3RoKSwgbiA9IDAsIGkgPSB0Lmxlbmd0aDsgaSA+IG47IG4rKykgdFtuXSA9IGUuY2hhckNvZGVBdChuKTsKCQkJCQkJCXJldHVybiB0CgkJCQkJCX0sIG4uYnVmMnN0cmluZyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCXZhciBuLCBhLCBvLCByLCBzID0gdCB8fCBlLmxlbmd0aCwKCQkJCQkJCQljID0gbmV3IEFycmF5KDIgKiBzKTsKCQkJCQkJCWZvciAoYSA9IDAsIG4gPSAwOyBzID4gbjspCgkJCQkJCQkJaWYgKG8gPSBlW24rK10sIDEyOCA+IG8pIGNbYSsrXSA9IG87CgkJCQkJCQkJZWxzZSBpZiAociA9IGxbb10sIHIgPiA0KSBjW2ErK10gPSA2NTUzMywgbiArPSByIC0gMTsKCQkJCQkJCWVsc2UgewoJCQkJCQkJCWZvciAobyAmPSAyID09PSByID8gMzEgOiAzID09PSByID8gMTUgOiA3OyByID4gMSAmJiBzID4gbjspIG8gPSBvIDw8IDYgfCA2MyAmIGVbbisrXSwgci0tOwoJCQkJCQkJCXIgPiAxID8gY1thKytdID0gNjU1MzMgOiA2NTUzNiA+IG8gPyBjW2ErK10gPSBvIDogKG8gLT0gNjU1MzYsIGNbYSsrXSA9IDU1Mjk2IHwgbyA+PiAxMCAmIDEwMjMsIGNbYSsrXSA9IDU2MzIwIHwgMTAyMyAmIG8pCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gaShjLCBhKQoJCQkJCQl9LCBuLnV0Zjhib3JkZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbjsKCQkJCQkJCWZvciAodCA9IHQgfHwgZS5sZW5ndGgsIHQgPiBlLmxlbmd0aCAmJiAodCA9IGUubGVuZ3RoKSwgbiA9IHQgLSAxOyBuID49IDAgJiYgMTI4ID09PSAoMTkyICYgZVtuXSk7KSBuLS07CgkJCQkJCQlyZXR1cm4gMCA+IG4gPyB0IDogMCA9PT0gbiA/IHQgOiBuICsgbFtlW25dXSA+IHQgPyBuIDogdAoJCQkJCQl9CgkJCQkJfSwgewoJCQkJCQkiLi9jb21tb24iOiAzCgkJCQkJfQoJCQkJXSwKCQkJCTU6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCgkJCQkJCWZ1bmN0aW9uIGkoZSwgdCwgbiwgaSkgewoJCQkJCQkJZm9yICh2YXIgYSA9IDY1NTM1ICYgZSB8IDAsIG8gPSBlID4+PiAxNiAmIDY1NTM1IHwgMCwgciA9IDA7IDAgIT09IG47KSB7CgkJCQkJCQkJciA9IG4gPiAyZTMgPyAyZTMgOiBuLCBuIC09IHI7CgkJCQkJCQkJZG8gYSA9IGEgKyB0W2krK10gfCAwLCBvID0gbyArIGEgfCAwOyB3aGlsZSAoLS1yKTsKCQkJCQkJCQlhICU9IDY1NTIxLCBvICU9IDY1NTIxCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gYSB8IG8gPDwgMTYgfCAwCgkJCQkJCX0KCQkJCQkJdC5leHBvcnRzID0gaQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJNjogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoJCQkJCQl0LmV4cG9ydHMgPSB7CgkJCQkJCQlaX05PX0ZMVVNIOiAwLAoJCQkJCQkJWl9QQVJUSUFMX0ZMVVNIOiAxLAoJCQkJCQkJWl9TWU5DX0ZMVVNIOiAyLAoJCQkJCQkJWl9GVUxMX0ZMVVNIOiAzLAoJCQkJCQkJWl9GSU5JU0g6IDQsCgkJCQkJCQlaX0JMT0NLOiA1LAoJCQkJCQkJWl9UUkVFUzogNiwKCQkJCQkJCVpfT0s6IDAsCgkJCQkJCQlaX1NUUkVBTV9FTkQ6IDEsCgkJCQkJCQlaX05FRURfRElDVDogMiwKCQkJCQkJCVpfRVJSTk86IC0xLAoJCQkJCQkJWl9TVFJFQU1fRVJST1I6IC0yLAoJCQkJCQkJWl9EQVRBX0VSUk9SOiAtMywKCQkJCQkJCVpfQlVGX0VSUk9SOiAtNSwKCQkJCQkJCVpfTk9fQ09NUFJFU1NJT046IDAsCgkJCQkJCQlaX0JFU1RfU1BFRUQ6IDEsCgkJCQkJCQlaX0JFU1RfQ09NUFJFU1NJT046IDksCgkJCQkJCQlaX0RFRkFVTFRfQ09NUFJFU1NJT046IC0xLAoJCQkJCQkJWl9GSUxURVJFRDogMSwKCQkJCQkJCVpfSFVGRk1BTl9PTkxZOiAyLAoJCQkJCQkJWl9STEU6IDMsCgkJCQkJCQlaX0ZJWEVEOiA0LAoJCQkJCQkJWl9ERUZBVUxUX1NUUkFURUdZOiAwLAoJCQkJCQkJWl9CSU5BUlk6IDAsCgkJCQkJCQlaX1RFWFQ6IDEsCgkJCQkJCQlaX1VOS05PV046IDIsCgkJCQkJCQlaX0RFRkxBVEVEOiA4CgkJCQkJCX0KCQkJCQl9LCB7fQoJCQkJXSwKCQkJCTc6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCgkJCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJCQlmb3IgKHZhciBlLCB0ID0gW10sIG4gPSAwOyAyNTYgPiBuOyBuKyspIHsKCQkJCQkJCQllID0gbjsKCQkJCQkJCQlmb3IgKHZhciBpID0gMDsgOCA+IGk7IGkrKykgZSA9IDEgJiBlID8gMzk4ODI5MjM4NCBeIGUgPj4+IDEgOiBlID4+PiAxOwoJCQkJCQkJCXRbbl0gPSBlCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBhKGUsIHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhID0gbywKCQkJCQkJCQlyID0gaSArIG47CgkJCQkJCQllIF49IC0xOwoJCQkJCQkJZm9yICh2YXIgcyA9IGk7IHIgPiBzOyBzKyspIGUgPSBlID4+PiA4IF4gYVsyNTUgJiAoZSBeIHRbc10pXTsKCQkJCQkJCXJldHVybiAtMSBeIGUKCQkJCQkJfQoJCQkJCQl2YXIgbyA9IGkoKTsKCQkJCQkJdC5leHBvcnRzID0gYQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJODogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaShlLCB0KSB7CgkJCQkJCQlyZXR1cm4gZS5tc2cgPSBxW3RdLCB0CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGEoZSkgewoJCQkJCQkJcmV0dXJuIChlIDw8IDEpIC0gKGUgPiA0ID8gOSA6IDApCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJCQkJZm9yICh2YXIgdCA9IGUubGVuZ3RoOyAtLXQgPj0gMDspIGVbdF0gPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJCQkJdmFyIHQgPSBlLnN0YXRlLAoJCQkJCQkJCW4gPSB0LnBlbmRpbmc7CgkJCQkJCQluID4gZS5hdmFpbF9vdXQgJiYgKG4gPSBlLmF2YWlsX291dCksIDAgIT09IG4gJiYgKFQuYXJyYXlTZXQoZS5vdXRwdXQsIHQucGVuZGluZ19idWYsIHQucGVuZGluZ19vdXQsIG4sIGUubmV4dF9vdXQpLCBlLm5leHRfb3V0ICs9IG4sIHQucGVuZGluZ19vdXQgKz0gbiwgZS50b3RhbF9vdXQgKz0gbiwgZS5hdmFpbF9vdXQgLT0gbiwgdC5wZW5kaW5nIC09IG4sIDAgPT09IHQucGVuZGluZyAmJiAodC5wZW5kaW5nX291dCA9IDApKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBzKGUsIHQpIHsKCQkJCQkJCVAuX3RyX2ZsdXNoX2Jsb2NrKGUsIGUuYmxvY2tfc3RhcnQgPj0gMCA/IGUuYmxvY2tfc3RhcnQgOiAtMSwgZS5zdHJzdGFydCAtIGUuYmxvY2tfc3RhcnQsIHQpLCBlLmJsb2NrX3N0YXJ0ID0gZS5zdHJzdGFydCwgcihlLnN0cm0pCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGwoZSwgdCkgewoJCQkJCQkJZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK10gPSB0CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGMoZSwgdCkgewoJCQkJCQkJZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK10gPSB0ID4+PiA4ICYgMjU1LCBlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXSA9IDI1NSAmIHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gZChlLCB0LCBuLCBpKSB7CgkJCQkJCQl2YXIgYSA9IGUuYXZhaWxfaW47CgkJCQkJCQlyZXR1cm4gYSA+IGkgJiYgKGEgPSBpKSwgMCA9PT0gYSA/IDAgOiAoZS5hdmFpbF9pbiAtPSBhLCBULmFycmF5U2V0KHQsIGUuaW5wdXQsIGUubmV4dF9pbiwgYSwgbiksIDEgPT09IGUuc3RhdGUud3JhcCA/IGUuYWRsZXIgPSBJKGUuYWRsZXIsIHQsIGEsIG4pIDogMiA9PT0gZS5zdGF0ZS53cmFwICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCB0LCBhLCBuKSksIGUubmV4dF9pbiArPSBhLCBlLnRvdGFsX2luICs9IGEsIGEpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHAoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEgPSBlLm1heF9jaGFpbl9sZW5ndGgsCgkJCQkJCQkJbyA9IGUuc3Ryc3RhcnQsCgkJCQkJCQkJciA9IGUucHJldl9sZW5ndGgsCgkJCQkJCQkJcyA9IGUubmljZV9tYXRjaCwKCQkJCQkJCQlsID0gZS5zdHJzdGFydCA+IGUud19zaXplIC0gcGUgPyBlLnN0cnN0YXJ0IC0gKGUud19zaXplIC0gcGUpIDogMCwKCQkJCQkJCQljID0gZS53aW5kb3csCgkJCQkJCQkJZCA9IGUud19tYXNrLAoJCQkJCQkJCXAgPSBlLnByZXYsCgkJCQkJCQkJaCA9IGUuc3Ryc3RhcnQgKyBkZSwKCQkJCQkJCQl1ID0gY1tvICsgciAtIDFdLAoJCQkJCQkJCW0gPSBjW28gKyByXTsKCQkJCQkJCWUucHJldl9sZW5ndGggPj0gZS5nb29kX21hdGNoICYmIChhID4+PSAyKSwgcyA+IGUubG9va2FoZWFkICYmIChzID0gZS5sb29rYWhlYWQpOwoJCQkJCQkJZG8KCQkJCQkJCQlpZiAobiA9IHQsIGNbbiArIHJdID09PSBtICYmIGNbbiArIHIgLSAxXSA9PT0gdSAmJiBjW25dID09PSBjW29dICYmIGNbKytuXSA9PT0gY1tvICsgMV0pIHsKCQkJCQkJCQkJbyArPSAyLCBuKys7CgkJCQkJCQkJCWRvOyB3aGlsZSAoY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgaCA+IG8pOwoJCQkJCQkJCQlpZiAoaSA9IGRlIC0gKGggLSBvKSwgbyA9IGggLSBkZSwgaSA+IHIpIHsKCQkJCQkJCQkJCWlmIChlLm1hdGNoX3N0YXJ0ID0gdCwgciA9IGksIGkgPj0gcykgYnJlYWs7CgkJCQkJCQkJCQl1ID0gY1tvICsgciAtIDFdLCBtID0gY1tvICsgcl0KCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCXdoaWxlICgodCA9IHBbdCAmIGRdKSA+IGwgJiYgMCAhPT0gLS1hKTsKCQkJCQkJCXJldHVybiByIDw9IGUubG9va2FoZWFkID8gciA6IGUubG9va2FoZWFkCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGgoZSkgewoJCQkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIgPSBlLndfc2l6ZTsKCQkJCQkJCWRvIHsKCQkJCQkJCQlpZiAoYSA9IGUud2luZG93X3NpemUgLSBlLmxvb2thaGVhZCAtIGUuc3Ryc3RhcnQsIGUuc3Ryc3RhcnQgPj0gciArIChyIC0gcGUpKSB7CgkJCQkJCQkJCVQuYXJyYXlTZXQoZS53aW5kb3csIGUud2luZG93LCByLCByLCAwKSwgZS5tYXRjaF9zdGFydCAtPSByLCBlLnN0cnN0YXJ0IC09IHIsIGUuYmxvY2tfc3RhcnQgLT0gciwgbiA9IGUuaGFzaF9zaXplLCB0ID0gbjsKCQkJCQkJCQkJZG8gaSA9IGUuaGVhZFstLXRdLCBlLmhlYWRbdF0gPSBpID49IHIgPyBpIC0gciA6IDA7IHdoaWxlICgtLW4pOwoJCQkJCQkJCQluID0gciwgdCA9IG47CgkJCQkJCQkJCWRvIGkgPSBlLnByZXZbLS10XSwgZS5wcmV2W3RdID0gaSA+PSByID8gaSAtIHIgOiAwOyB3aGlsZSAoLS1uKTsKCQkJCQkJCQkJYSArPSByCgkJCQkJCQkJfQoJCQkJCQkJCWlmICgwID09PSBlLnN0cm0uYXZhaWxfaW4pIGJyZWFrOwoJCQkJCQkJCWlmIChuID0gZChlLnN0cm0sIGUud2luZG93LCBlLnN0cnN0YXJ0ICsgZS5sb29rYWhlYWQsIGEpLCBlLmxvb2thaGVhZCArPSBuLCBlLmxvb2thaGVhZCArIGUuaW5zZXJ0ID49IGNlKQoJCQkJCQkJCQlmb3IgKG8gPSBlLnN0cnN0YXJ0IC0gZS5pbnNlcnQsIGUuaW5zX2ggPSBlLndpbmRvd1tvXSwgZS5pbnNfaCA9IChlLmluc19oIDw8IGUuaGFzaF9zaGlmdCBeIGUud2luZG93W28gKyAxXSkgJiBlLmhhc2hfbWFzazsgZS5pbnNlcnQgJiYgKGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tvICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgZS5wcmV2W28gJiBlLndfbWFza10gPSBlLmhlYWRbZS5pbnNfaF0sIGUuaGVhZFtlLmluc19oXSA9IG8sIG8rKywgZS5pbnNlcnQtLSwgIShlLmxvb2thaGVhZCArIGUuaW5zZXJ0IDwgY2UpKTspOwoJCQkJCQkJfSB3aGlsZSAoZS5sb29rYWhlYWQgPCBwZSAmJiAwICE9PSBlLnN0cm0uYXZhaWxfaW4pCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHUoZSwgdCkgewoJCQkJCQkJdmFyIG4gPSA2NTUzNTsKCQkJCQkJCWZvciAobiA+IGUucGVuZGluZ19idWZfc2l6ZSAtIDUgJiYgKG4gPSBlLnBlbmRpbmdfYnVmX3NpemUgLSA1KTs7KSB7CgkJCQkJCQkJaWYgKGUubG9va2FoZWFkIDw9IDEpIHsKCQkJCQkJCQkJaWYgKGgoZSksIDAgPT09IGUubG9va2FoZWFkICYmIHQgPT09IEUpIHJldHVybiB2ZTsKCQkJCQkJCQkJaWYgKDAgPT09IGUubG9va2FoZWFkKSBicmVhawoJCQkJCQkJCX0KCQkJCQkJCQllLnN0cnN0YXJ0ICs9IGUubG9va2FoZWFkLCBlLmxvb2thaGVhZCA9IDA7CgkJCQkJCQkJdmFyIGkgPSBlLmJsb2NrX3N0YXJ0ICsgbjsKCQkJCQkJCQlpZiAoKDAgPT09IGUuc3Ryc3RhcnQgfHwgZS5zdHJzdGFydCA+PSBpKSAmJiAoZS5sb29rYWhlYWQgPSBlLnN0cnN0YXJ0IC0gaSwgZS5zdHJzdGFydCA9IGksIHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSkgcmV0dXJuIHZlOwoJCQkJCQkJCWlmIChlLnN0cnN0YXJ0IC0gZS5ibG9ja19zdGFydCA+PSBlLndfc2l6ZSAtIHBlICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkpIHJldHVybiB2ZQoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIGUuaW5zZXJ0ID0gMCwgdCA9PT0gRCA/IChzKGUsICEwKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCA/IHllIDoga2UpIDogZS5zdHJzdGFydCA+IGUuYmxvY2tfc3RhcnQgJiYgKHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSA/IHZlIDogdmUKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gbShlLCB0KSB7CgkJCQkJCQlmb3IgKHZhciBuLCBpOzspIHsKCQkJCQkJCQlpZiAoZS5sb29rYWhlYWQgPCBwZSkgewoJCQkJCQkJCQlpZiAoaChlKSwgZS5sb29rYWhlYWQgPCBwZSAmJiB0ID09PSBFKSByZXR1cm4gdmU7CgkJCQkJCQkJCWlmICgwID09PSBlLmxvb2thaGVhZCkgYnJlYWsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKG4gPSAwLCBlLmxvb2thaGVhZCA+PSBjZSAmJiAoZS5pbnNfaCA9IChlLmluc19oIDw8IGUuaGFzaF9zaGlmdCBeIGUud2luZG93W2Uuc3Ryc3RhcnQgKyBjZSAtIDFdKSAmIGUuaGFzaF9tYXNrLCBuID0gZS5wcmV2W2Uuc3Ryc3RhcnQgJiBlLndfbWFza10gPSBlLmhlYWRbZS5pbnNfaF0sIGUuaGVhZFtlLmluc19oXSA9IGUuc3Ryc3RhcnQpLCAwICE9PSBuICYmIGUuc3Ryc3RhcnQgLSBuIDw9IGUud19zaXplIC0gcGUgJiYgKGUubWF0Y2hfbGVuZ3RoID0gcChlLCBuKSksIGUubWF0Y2hfbGVuZ3RoID49IGNlKQoJCQkJCQkJCQlpZiAoaSA9IFAuX3RyX3RhbGx5KGUsIGUuc3Ryc3RhcnQgLSBlLm1hdGNoX3N0YXJ0LCBlLm1hdGNoX2xlbmd0aCAtIGNlKSwgZS5sb29rYWhlYWQgLT0gZS5tYXRjaF9sZW5ndGgsIGUubWF0Y2hfbGVuZ3RoIDw9IGUubWF4X2xhenlfbWF0Y2ggJiYgZS5sb29rYWhlYWQgPj0gY2UpIHsKCQkJCQkJCQkJCWUubWF0Y2hfbGVuZ3RoLS07CgkJCQkJCQkJCQlkbyBlLnN0cnN0YXJ0KyssIGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tlLnN0cnN0YXJ0ICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgbiA9IGUucHJldltlLnN0cnN0YXJ0ICYgZS53X21hc2tdID0gZS5oZWFkW2UuaW5zX2hdLCBlLmhlYWRbZS5pbnNfaF0gPSBlLnN0cnN0YXJ0OyB3aGlsZSAoMCAhPT0gLS1lLm1hdGNoX2xlbmd0aCk7CgkJCQkJCQkJCQllLnN0cnN0YXJ0KysKCQkJCQkJCQkJfSBlbHNlIGUuc3Ryc3RhcnQgKz0gZS5tYXRjaF9sZW5ndGgsIGUubWF0Y2hfbGVuZ3RoID0gMCwgZS5pbnNfaCA9IGUud2luZG93W2Uuc3Ryc3RhcnRdLCBlLmluc19oID0gKGUuaW5zX2ggPDwgZS5oYXNoX3NoaWZ0IF4gZS53aW5kb3dbZS5zdHJzdGFydCArIDFdKSAmIGUuaGFzaF9tYXNrOwoJCQkJCQkJCWVsc2UgaSA9IFAuX3RyX3RhbGx5KGUsIDAsIGUud2luZG93W2Uuc3Ryc3RhcnRdKSwgZS5sb29rYWhlYWQtLSwgZS5zdHJzdGFydCsrOyBpZiAoaSAmJiAocyhlLCAhMSksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQpKSByZXR1cm4gdmUKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBlLmluc2VydCA9IGUuc3Ryc3RhcnQgPCBjZSAtIDEgPyBlLnN0cnN0YXJ0IDogY2UgLSAxLCB0ID09PSBEID8gKHMoZSwgITApLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0ID8geWUgOiBrZSkgOiBlLmxhc3RfbGl0ICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkgPyB2ZSA6IGJlCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGYoZSwgdCkgewoJCQkJCQkJZm9yICh2YXIgbiwgaSwgYTs7KSB7CgkJCQkJCQkJaWYgKGUubG9va2FoZWFkIDwgcGUpIHsKCQkJCQkJCQkJaWYgKGgoZSksIGUubG9va2FoZWFkIDwgcGUgJiYgdCA9PT0gRSkgcmV0dXJuIHZlOwoJCQkJCQkJCQlpZiAoMCA9PT0gZS5sb29rYWhlYWQpIGJyZWFrCgkJCQkJCQkJfQoJCQkJCQkJCWlmIChuID0gMCwgZS5sb29rYWhlYWQgPj0gY2UgJiYgKGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tlLnN0cnN0YXJ0ICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgbiA9IGUucHJldltlLnN0cnN0YXJ0ICYgZS53X21hc2tdID0gZS5oZWFkW2UuaW5zX2hdLCBlLmhlYWRbZS5pbnNfaF0gPSBlLnN0cnN0YXJ0KSwgZS5wcmV2X2xlbmd0aCA9IGUubWF0Y2hfbGVuZ3RoLCBlLnByZXZfbWF0Y2ggPSBlLm1hdGNoX3N0YXJ0LCBlLm1hdGNoX2xlbmd0aCA9IGNlIC0gMSwgMCAhPT0gbiAmJiBlLnByZXZfbGVuZ3RoIDwgZS5tYXhfbGF6eV9tYXRjaCAmJiBlLnN0cnN0YXJ0IC0gbiA8PSBlLndfc2l6ZSAtIHBlICYmIChlLm1hdGNoX2xlbmd0aCA9IHAoZSwgbiksIGUubWF0Y2hfbGVuZ3RoIDw9IDUgJiYgKGUuc3RyYXRlZ3kgPT09IFkgfHwgZS5tYXRjaF9sZW5ndGggPT09IGNlICYmIGUuc3Ryc3RhcnQgLSBlLm1hdGNoX3N0YXJ0ID4gNDA5NikgJiYgKGUubWF0Y2hfbGVuZ3RoID0gY2UgLSAxKSksIGUucHJldl9sZW5ndGggPj0gY2UgJiYgZS5tYXRjaF9sZW5ndGggPD0gZS5wcmV2X2xlbmd0aCkgewoJCQkJCQkJCQlhID0gZS5zdHJzdGFydCArIGUubG9va2FoZWFkIC0gY2UsIGkgPSBQLl90cl90YWxseShlLCBlLnN0cnN0YXJ0IC0gMSAtIGUucHJldl9tYXRjaCwgZS5wcmV2X2xlbmd0aCAtIGNlKSwgZS5sb29rYWhlYWQgLT0gZS5wcmV2X2xlbmd0aCAtIDEsIGUucHJldl9sZW5ndGggLT0gMjsKCQkJCQkJCQkJZG8gKytlLnN0cnN0YXJ0IDw9IGEgJiYgKGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tlLnN0cnN0YXJ0ICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgbiA9IGUucHJldltlLnN0cnN0YXJ0ICYgZS53X21hc2tdID0gZS5oZWFkW2UuaW5zX2hdLCBlLmhlYWRbZS5pbnNfaF0gPSBlLnN0cnN0YXJ0KTsgd2hpbGUgKDAgIT09IC0tZS5wcmV2X2xlbmd0aCk7CgkJCQkJCQkJCWlmIChlLm1hdGNoX2F2YWlsYWJsZSA9IDAsIGUubWF0Y2hfbGVuZ3RoID0gY2UgLSAxLCBlLnN0cnN0YXJ0KyssIGkgJiYgKHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSkgcmV0dXJuIHZlCgkJCQkJCQkJfSBlbHNlIGlmIChlLm1hdGNoX2F2YWlsYWJsZSkgewoJCQkJCQkJCQlpZiAoaSA9IFAuX3RyX3RhbGx5KGUsIDAsIGUud2luZG93W2Uuc3Ryc3RhcnQgLSAxXSksIGkgJiYgcyhlLCAhMSksIGUuc3Ryc3RhcnQrKywgZS5sb29rYWhlYWQtLSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkgcmV0dXJuIHZlCgkJCQkJCQkJfSBlbHNlIGUubWF0Y2hfYXZhaWxhYmxlID0gMSwgZS5zdHJzdGFydCsrLCBlLmxvb2thaGVhZC0tCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gZS5tYXRjaF9hdmFpbGFibGUgJiYgKGkgPSBQLl90cl90YWxseShlLCAwLCBlLndpbmRvd1tlLnN0cnN0YXJ0IC0gMV0pLCBlLm1hdGNoX2F2YWlsYWJsZSA9IDApLCBlLmluc2VydCA9IGUuc3Ryc3RhcnQgPCBjZSAtIDEgPyBlLnN0cnN0YXJ0IDogY2UgLSAxLCB0ID09PSBEID8gKHMoZSwgITApLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0ID8geWUgOiBrZSkgOiBlLmxhc3RfbGl0ICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkgPyB2ZSA6IGJlCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGcoZSwgdCkgewoJCQkJCQkJZm9yICh2YXIgbiwgaSwgYSwgbywgciA9IGUud2luZG93OzspIHsKCQkJCQkJCQlpZiAoZS5sb29rYWhlYWQgPD0gZGUpIHsKCQkJCQkJCQkJaWYgKGgoZSksIGUubG9va2FoZWFkIDw9IGRlICYmIHQgPT09IEUpIHJldHVybiB2ZTsKCQkJCQkJCQkJaWYgKDAgPT09IGUubG9va2FoZWFkKSBicmVhawoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoZS5tYXRjaF9sZW5ndGggPSAwLCBlLmxvb2thaGVhZCA+PSBjZSAmJiBlLnN0cnN0YXJ0ID4gMCAmJiAoYSA9IGUuc3Ryc3RhcnQgLSAxLCBpID0gclthXSwgaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBpID09PSByWysrYV0pKSB7CgkJCQkJCQkJCW8gPSBlLnN0cnN0YXJ0ICsgZGU7CgkJCQkJCQkJCWRvOyB3aGlsZSAoaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBpID09PSByWysrYV0gJiYgaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBpID09PSByWysrYV0gJiYgaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBvID4gYSk7CgkJCQkJCQkJCWUubWF0Y2hfbGVuZ3RoID0gZGUgLSAobyAtIGEpLCBlLm1hdGNoX2xlbmd0aCA+IGUubG9va2FoZWFkICYmIChlLm1hdGNoX2xlbmd0aCA9IGUubG9va2FoZWFkKQoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoZS5tYXRjaF9sZW5ndGggPj0gY2UgPyAobiA9IFAuX3RyX3RhbGx5KGUsIDEsIGUubWF0Y2hfbGVuZ3RoIC0gY2UpLCBlLmxvb2thaGVhZCAtPSBlLm1hdGNoX2xlbmd0aCwgZS5zdHJzdGFydCArPSBlLm1hdGNoX2xlbmd0aCwgZS5tYXRjaF9sZW5ndGggPSAwKSA6IChuID0gUC5fdHJfdGFsbHkoZSwgMCwgZS53aW5kb3dbZS5zdHJzdGFydF0pLCBlLmxvb2thaGVhZC0tLCBlLnN0cnN0YXJ0KyspLCBuICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkpIHJldHVybiB2ZQoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIGUuaW5zZXJ0ID0gMCwgdCA9PT0gRCA/IChzKGUsICEwKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCA/IHllIDoga2UpIDogZS5sYXN0X2xpdCAmJiAocyhlLCAhMSksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQpID8gdmUgOiBiZQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBfKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG47OykgewoJCQkJCQkJCWlmICgwID09PSBlLmxvb2thaGVhZCAmJiAoaChlKSwgMCA9PT0gZS5sb29rYWhlYWQpKSB7CgkJCQkJCQkJCWlmICh0ID09PSBFKSByZXR1cm4gdmU7CgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJfQoJCQkJCQkJCWlmIChlLm1hdGNoX2xlbmd0aCA9IDAsIG4gPSBQLl90cl90YWxseShlLCAwLCBlLndpbmRvd1tlLnN0cnN0YXJ0XSksIGUubG9va2FoZWFkLS0sIGUuc3Ryc3RhcnQrKywgbiAmJiAocyhlLCAhMSksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQpKSByZXR1cm4gdmUKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBlLmluc2VydCA9IDAsIHQgPT09IEQgPyAocyhlLCAhMCksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQgPyB5ZSA6IGtlKSA6IGUubGFzdF9saXQgJiYgKHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSA/IHZlIDogYmUKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24geChlLCB0LCBuLCBpLCBhKSB7CgkJCQkJCQl0aGlzLmdvb2RfbGVuZ3RoID0gZSwgdGhpcy5tYXhfbGF6eSA9IHQsIHRoaXMubmljZV9sZW5ndGggPSBuLCB0aGlzLm1heF9jaGFpbiA9IGksIHRoaXMuZnVuYyA9IGEKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gdyhlKSB7CgkJCQkJCQllLndpbmRvd19zaXplID0gMiAqIGUud19zaXplLCBvKGUuaGVhZCksIGUubWF4X2xhenlfbWF0Y2ggPSBOW2UubGV2ZWxdLm1heF9sYXp5LCBlLmdvb2RfbWF0Y2ggPSBOW2UubGV2ZWxdLmdvb2RfbGVuZ3RoLCBlLm5pY2VfbWF0Y2ggPSBOW2UubGV2ZWxdLm5pY2VfbGVuZ3RoLCBlLm1heF9jaGFpbl9sZW5ndGggPSBOW2UubGV2ZWxdLm1heF9jaGFpbiwgZS5zdHJzdGFydCA9IDAsIGUuYmxvY2tfc3RhcnQgPSAwLCBlLmxvb2thaGVhZCA9IDAsIGUuaW5zZXJ0ID0gMCwgZS5tYXRjaF9sZW5ndGggPSBlLnByZXZfbGVuZ3RoID0gY2UgLSAxLCBlLm1hdGNoX2F2YWlsYWJsZSA9IDAsIGUuaW5zX2ggPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHYoKSB7CgkJCQkJCQl0aGlzLnN0cm0gPSBudWxsLCB0aGlzLnN0YXR1cyA9IDAsIHRoaXMucGVuZGluZ19idWYgPSBudWxsLCB0aGlzLnBlbmRpbmdfYnVmX3NpemUgPSAwLCB0aGlzLnBlbmRpbmdfb3V0ID0gMCwgdGhpcy5wZW5kaW5nID0gMCwgdGhpcy53cmFwID0gMCwgdGhpcy5nemhlYWQgPSBudWxsLCB0aGlzLmd6aW5kZXggPSAwLCB0aGlzLm1ldGhvZCA9IEssIHRoaXMubGFzdF9mbHVzaCA9IC0xLCB0aGlzLndfc2l6ZSA9IDAsIHRoaXMud19iaXRzID0gMCwgdGhpcy53X21hc2sgPSAwLCB0aGlzLndpbmRvdyA9IG51bGwsIHRoaXMud2luZG93X3NpemUgPSAwLCB0aGlzLnByZXYgPSBudWxsLCB0aGlzLmhlYWQgPSBudWxsLCB0aGlzLmluc19oID0gMCwgdGhpcy5oYXNoX3NpemUgPSAwLCB0aGlzLmhhc2hfYml0cyA9IDAsIHRoaXMuaGFzaF9tYXNrID0gMCwgdGhpcy5oYXNoX3NoaWZ0ID0gMCwgdGhpcy5ibG9ja19zdGFydCA9IDAsIHRoaXMubWF0Y2hfbGVuZ3RoID0gMCwgdGhpcy5wcmV2X21hdGNoID0gMCwgdGhpcy5tYXRjaF9hdmFpbGFibGUgPSAwLCB0aGlzLnN0cnN0YXJ0ID0gMCwgdGhpcy5tYXRjaF9zdGFydCA9IDAsIHRoaXMubG9va2FoZWFkID0gMCwgdGhpcy5wcmV2X2xlbmd0aCA9IDAsIHRoaXMubWF4X2NoYWluX2xlbmd0aCA9IDAsIHRoaXMubWF4X2xhenlfbWF0Y2ggPSAwLCB0aGlzLmxldmVsID0gMCwgdGhpcy5zdHJhdGVneSA9IDAsIHRoaXMuZ29vZF9tYXRjaCA9IDAsIHRoaXMubmljZV9tYXRjaCA9IDAsIHRoaXMuZHluX2x0cmVlID0gbmV3IFQuQnVmMTYoMiAqIHNlKSwgdGhpcy5keW5fZHRyZWUgPSBuZXcgVC5CdWYxNigyICogKDIgKiBvZSArIDEpKSwgdGhpcy5ibF90cmVlID0gbmV3IFQuQnVmMTYoMiAqICgyICogcmUgKyAxKSksIG8odGhpcy5keW5fbHRyZWUpLCBvKHRoaXMuZHluX2R0cmVlKSwgbyh0aGlzLmJsX3RyZWUpLCB0aGlzLmxfZGVzYyA9IG51bGwsIHRoaXMuZF9kZXNjID0gbnVsbCwgdGhpcy5ibF9kZXNjID0gbnVsbCwgdGhpcy5ibF9jb3VudCA9IG5ldyBULkJ1ZjE2KGxlICsgMSksIHRoaXMuaGVhcCA9IG5ldyBULkJ1ZjE2KDIgKiBhZSArIDEpLCBvKHRoaXMuaGVhcCksIHRoaXMuaGVhcF9sZW4gPSAwLCB0aGlzLmhlYXBfbWF4ID0gMCwgdGhpcy5kZXB0aCA9IG5ldyBULkJ1ZjE2KDIgKiBhZSArIDEpLCBvKHRoaXMuZGVwdGgpLCB0aGlzLmxfYnVmID0gMCwgdGhpcy5saXRfYnVmc2l6ZSA9IDAsIHRoaXMubGFzdF9saXQgPSAwLCB0aGlzLmRfYnVmID0gMCwgdGhpcy5vcHRfbGVuID0gMCwgdGhpcy5zdGF0aWNfbGVuID0gMCwgdGhpcy5tYXRjaGVzID0gMCwgdGhpcy5pbnNlcnQgPSAwLCB0aGlzLmJpX2J1ZiA9IDAsIHRoaXMuYmlfdmFsaWQgPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGIoZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gKGUudG90YWxfaW4gPSBlLnRvdGFsX291dCA9IDAsIGUuZGF0YV90eXBlID0gViwgdCA9IGUuc3RhdGUsIHQucGVuZGluZyA9IDAsIHQucGVuZGluZ19vdXQgPSAwLCB0LndyYXAgPCAwICYmICh0LndyYXAgPSAtdC53cmFwKSwgdC5zdGF0dXMgPSB0LndyYXAgPyB1ZSA6IHhlLCBlLmFkbGVyID0gMiA9PT0gdC53cmFwID8gMCA6IDEsIHQubGFzdF9mbHVzaCA9IEUsIFAuX3RyX2luaXQodCksIFIpIDogaShlLCAkKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB5KGUpIHsKCQkJCQkJCXZhciB0ID0gYihlKTsKCQkJCQkJCXJldHVybiB0ID09PSBSICYmIHcoZS5zdGF0ZSksIHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gayhlLCB0KSB7CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gMiAhPT0gZS5zdGF0ZS53cmFwID8gJCA6IChlLnN0YXRlLmd6aGVhZCA9IHQsIFIpIDogJAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB6KGUsIHQsIG4sIGEsIG8sIHIpIHsKCQkJCQkJCWlmICghZSkgcmV0dXJuICQ7CgkJCQkJCQl2YXIgcyA9IDE7CgkJCQkJCQlpZiAodCA9PT0gVSAmJiAodCA9IDYpLCAwID4gYSA/IChzID0gMCwgYSA9IC1hKSA6IGEgPiAxNSAmJiAocyA9IDIsIGEgLT0gMTYpLCAxID4gbyB8fCBvID4gUSB8fCBuICE9PSBLIHx8IDggPiBhIHx8IGEgPiAxNSB8fCAwID4gdCB8fCB0ID4gOSB8fCAwID4gciB8fCByID4gSikgcmV0dXJuIGkoZSwgJCk7CgkJCQkJCQk4ID09PSBhICYmIChhID0gOSk7CgkJCQkJCQl2YXIgbCA9IG5ldyB2OwoJCQkJCQkJcmV0dXJuIGUuc3RhdGUgPSBsLCBsLnN0cm0gPSBlLCBsLndyYXAgPSBzLCBsLmd6aGVhZCA9IG51bGwsIGwud19iaXRzID0gYSwgbC53X3NpemUgPSAxIDw8IGwud19iaXRzLCBsLndfbWFzayA9IGwud19zaXplIC0gMSwgbC5oYXNoX2JpdHMgPSBvICsgNywgbC5oYXNoX3NpemUgPSAxIDw8IGwuaGFzaF9iaXRzLCBsLmhhc2hfbWFzayA9IGwuaGFzaF9zaXplIC0gMSwgbC5oYXNoX3NoaWZ0ID0gfn4oKGwuaGFzaF9iaXRzICsgY2UgLSAxKSAvIGNlKSwgbC53aW5kb3cgPSBuZXcgVC5CdWY4KDIgKiBsLndfc2l6ZSksIGwuaGVhZCA9IG5ldyBULkJ1ZjE2KGwuaGFzaF9zaXplKSwgbC5wcmV2ID0gbmV3IFQuQnVmMTYobC53X3NpemUpLCBsLmxpdF9idWZzaXplID0gMSA8PCBvICsgNiwgbC5wZW5kaW5nX2J1Zl9zaXplID0gNCAqIGwubGl0X2J1ZnNpemUsIGwucGVuZGluZ19idWYgPSBuZXcgVC5CdWY4KGwucGVuZGluZ19idWZfc2l6ZSksIGwuZF9idWYgPSBsLmxpdF9idWZzaXplID4+IDEsIGwubF9idWYgPSAzICogbC5saXRfYnVmc2l6ZSwgbC5sZXZlbCA9IHQsIGwuc3RyYXRlZ3kgPSByLCBsLm1ldGhvZCA9IG4sIHkoZSkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQihlLCB0KSB7CgkJCQkJCQlyZXR1cm4geihlLCB0LCBLLCBlZSwgdGUsIFopCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGooZSwgdCkgewoJCQkJCQkJdmFyIG4sIHMsIGQsIHA7CgkJCQkJCQlpZiAoIWUgfHwgIWUuc3RhdGUgfHwgdCA+IE0gfHwgMCA+IHQpIHJldHVybiBlID8gaShlLCAkKSA6ICQ7CgkJCQkJCQlpZiAocyA9IGUuc3RhdGUsICFlLm91dHB1dCB8fCAhZS5pbnB1dCAmJiAwICE9PSBlLmF2YWlsX2luIHx8IHMuc3RhdHVzID09PSB3ZSAmJiB0ICE9PSBEKSByZXR1cm4gaShlLCAwID09PSBlLmF2YWlsX291dCA/IEggOiAkKTsKCQkJCQkJCWlmIChzLnN0cm0gPSBlLCBuID0gcy5sYXN0X2ZsdXNoLCBzLmxhc3RfZmx1c2ggPSB0LCBzLnN0YXR1cyA9PT0gdWUpCgkJCQkJCQkJaWYgKDIgPT09IHMud3JhcCkgZS5hZGxlciA9IDAsIGwocywgMzEpLCBsKHMsIDEzOSksIGwocywgOCksIHMuZ3poZWFkID8gKGwocywgKHMuZ3poZWFkLnRleHQgPyAxIDogMCkgKyAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArIChzLmd6aGVhZC5leHRyYSA/IDQgOiAwKSArIChzLmd6aGVhZC5uYW1lID8gOCA6IDApICsgKHMuZ3poZWFkLmNvbW1lbnQgPyAxNiA6IDApKSwgbChzLCAyNTUgJiBzLmd6aGVhZC50aW1lKSwgbChzLCBzLmd6aGVhZC50aW1lID4+IDggJiAyNTUpLCBsKHMsIHMuZ3poZWFkLnRpbWUgPj4gMTYgJiAyNTUpLCBsKHMsIHMuZ3poZWFkLnRpbWUgPj4gMjQgJiAyNTUpLCBsKHMsIDkgPT09IHMubGV2ZWwgPyAyIDogcy5zdHJhdGVneSA+PSBHIHx8IHMubGV2ZWwgPCAyID8gNCA6IDApLCBsKHMsIDI1NSAmIHMuZ3poZWFkLm9zKSwgcy5nemhlYWQuZXh0cmEgJiYgcy5nemhlYWQuZXh0cmEubGVuZ3RoICYmIChsKHMsIDI1NSAmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCksIGwocywgcy5nemhlYWQuZXh0cmEubGVuZ3RoID4+IDggJiAyNTUpKSwgcy5nemhlYWQuaGNyYyAmJiAoZS5hZGxlciA9IEEoZS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nLCAwKSksIHMuZ3ppbmRleCA9IDAsIHMuc3RhdHVzID0gbWUpIDogKGwocywgMCksIGwocywgMCksIGwocywgMCksIGwocywgMCksIGwocywgMCksIGwocywgOSA9PT0gcy5sZXZlbCA/IDIgOiBzLnN0cmF0ZWd5ID49IEcgfHwgcy5sZXZlbCA8IDIgPyA0IDogMCksIGwocywgemUpLCBzLnN0YXR1cyA9IHhlKTsKCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJdmFyIGggPSBLICsgKHMud19iaXRzIC0gOCA8PCA0KSA8PCA4LAoJCQkJCQkJCQkJdSA9IC0xOwoJCQkJCQkJCQl1ID0gcy5zdHJhdGVneSA+PSBHIHx8IHMubGV2ZWwgPCAyID8gMCA6IHMubGV2ZWwgPCA2ID8gMSA6IDYgPT09IHMubGV2ZWwgPyAyIDogMywgaCB8PSB1IDw8IDYsIDAgIT09IHMuc3Ryc3RhcnQgJiYgKGggfD0gaGUpLCBoICs9IDMxIC0gaCAlIDMxLCBzLnN0YXR1cyA9IHhlLCBjKHMsIGgpLCAwICE9PSBzLnN0cnN0YXJ0ICYmIChjKHMsIGUuYWRsZXIgPj4+IDE2KSwgYyhzLCA2NTUzNSAmIGUuYWRsZXIpKSwgZS5hZGxlciA9IDEKCQkJCQkJCQl9CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IG1lKQoJCQkJCQkJCWlmIChzLmd6aGVhZC5leHRyYSkgewoJCQkJCQkJCQlmb3IgKGQgPSBzLnBlbmRpbmc7IHMuZ3ppbmRleCA8ICg2NTUzNSAmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkgJiYgKHMucGVuZGluZyAhPT0gcy5wZW5kaW5nX2J1Zl9zaXplIHx8IChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGQgJiYgKGUuYWRsZXIgPSBBKGUuYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGQsIGQpKSwgcihlKSwgZCA9IHMucGVuZGluZywgcy5wZW5kaW5nICE9PSBzLnBlbmRpbmdfYnVmX3NpemUpKTspIGwocywgMjU1ICYgcy5nemhlYWQuZXh0cmFbcy5nemluZGV4XSksIHMuZ3ppbmRleCsrOwoJCQkJCQkJCQlzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGQgJiYgKGUuYWRsZXIgPSBBKGUuYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGQsIGQpKSwgcy5nemluZGV4ID09PSBzLmd6aGVhZC5leHRyYS5sZW5ndGggJiYgKHMuZ3ppbmRleCA9IDAsIHMuc3RhdHVzID0gZmUpCgkJCQkJCQkJfSBlbHNlIHMuc3RhdHVzID0gZmU7CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IGZlKQoJCQkJCQkJCWlmIChzLmd6aGVhZC5uYW1lKSB7CgkJCQkJCQkJCWQgPSBzLnBlbmRpbmc7CgkJCQkJCQkJCWRvIHsKCQkJCQkJCQkJCWlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSAmJiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIHIoZSksIGQgPSBzLnBlbmRpbmcsIHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSkgewoJCQkJCQkJCQkJCXAgPSAxOwoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlwID0gcy5nemluZGV4IDwgcy5nemhlYWQubmFtZS5sZW5ndGggPyAyNTUgJiBzLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQocy5nemluZGV4KyspIDogMCwgbChzLCBwKQoJCQkJCQkJCQl9IHdoaWxlICgwICE9PSBwKTsKCQkJCQkJCQkJcy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIDAgPT09IHAgJiYgKHMuZ3ppbmRleCA9IDAsIHMuc3RhdHVzID0gZ2UpCgkJCQkJCQkJfSBlbHNlIHMuc3RhdHVzID0gZ2U7CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IGdlKQoJCQkJCQkJCWlmIChzLmd6aGVhZC5jb21tZW50KSB7CgkJCQkJCQkJCWQgPSBzLnBlbmRpbmc7CgkJCQkJCQkJCWRvIHsKCQkJCQkJCQkJCWlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSAmJiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIHIoZSksIGQgPSBzLnBlbmRpbmcsIHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSkgewoJCQkJCQkJCQkJCXAgPSAxOwoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlwID0gcy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGggPyAyNTUgJiBzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspIDogMCwgbChzLCBwKQoJCQkJCQkJCQl9IHdoaWxlICgwICE9PSBwKTsKCQkJCQkJCQkJcy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIDAgPT09IHAgJiYgKHMuc3RhdHVzID0gX2UpCgkJCQkJCQkJfSBlbHNlIHMuc3RhdHVzID0gX2U7CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IF9lICYmIChzLmd6aGVhZC5oY3JjID8gKHMucGVuZGluZyArIDIgPiBzLnBlbmRpbmdfYnVmX3NpemUgJiYgcihlKSwgcy5wZW5kaW5nICsgMiA8PSBzLnBlbmRpbmdfYnVmX3NpemUgJiYgKGwocywgMjU1ICYgZS5hZGxlciksIGwocywgZS5hZGxlciA+PiA4ICYgMjU1KSwgZS5hZGxlciA9IDAsIHMuc3RhdHVzID0geGUpKSA6IHMuc3RhdHVzID0geGUpLCAwICE9PSBzLnBlbmRpbmcpIHsKCQkJCQkJCQlpZiAocihlKSwgMCA9PT0gZS5hdmFpbF9vdXQpIHJldHVybiBzLmxhc3RfZmx1c2ggPSAtMSwgUgoJCQkJCQkJfSBlbHNlIGlmICgwID09PSBlLmF2YWlsX2luICYmIGEodCkgPD0gYShuKSAmJiB0ICE9PSBEKSByZXR1cm4gaShlLCBIKTsKCQkJCQkJCWlmIChzLnN0YXR1cyA9PT0gd2UgJiYgMCAhPT0gZS5hdmFpbF9pbikgcmV0dXJuIGkoZSwgSCk7CgkJCQkJCQlpZiAoMCAhPT0gZS5hdmFpbF9pbiB8fCAwICE9PSBzLmxvb2thaGVhZCB8fCB0ICE9PSBFICYmIHMuc3RhdHVzICE9PSB3ZSkgewoJCQkJCQkJCXZhciBtID0gcy5zdHJhdGVneSA9PT0gRyA/IF8ocywgdCkgOiBzLnN0cmF0ZWd5ID09PSBYID8gZyhzLCB0KSA6IE5bcy5sZXZlbF0uZnVuYyhzLCB0KTsKCQkJCQkJCQlpZiAoKG0gPT09IHllIHx8IG0gPT09IGtlKSAmJiAocy5zdGF0dXMgPSB3ZSksIG0gPT09IHZlIHx8IG0gPT09IHllKSByZXR1cm4gMCA9PT0gZS5hdmFpbF9vdXQgJiYgKHMubGFzdF9mbHVzaCA9IC0xKSwgUjsKCQkJCQkJCQlpZiAobSA9PT0gYmUgJiYgKHQgPT09IE8gPyBQLl90cl9hbGlnbihzKSA6IHQgIT09IE0gJiYgKFAuX3RyX3N0b3JlZF9ibG9jayhzLCAwLCAwLCAhMSksIHQgPT09IEwgJiYgKG8ocy5oZWFkKSwgMCA9PT0gcy5sb29rYWhlYWQgJiYgKHMuc3Ryc3RhcnQgPSAwLCBzLmJsb2NrX3N0YXJ0ID0gMCwgcy5pbnNlcnQgPSAwKSkpLCByKGUpLCAwID09PSBlLmF2YWlsX291dCkpIHJldHVybiBzLmxhc3RfZmx1c2ggPSAtMSwgUgoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHQgIT09IEQgPyBSIDogcy53cmFwIDw9IDAgPyBGIDogKDIgPT09IHMud3JhcCA/IChsKHMsIDI1NSAmIGUuYWRsZXIpLCBsKHMsIGUuYWRsZXIgPj4gOCAmIDI1NSksIGwocywgZS5hZGxlciA+PiAxNiAmIDI1NSksIGwocywgZS5hZGxlciA+PiAyNCAmIDI1NSksIGwocywgMjU1ICYgZS50b3RhbF9pbiksIGwocywgZS50b3RhbF9pbiA+PiA4ICYgMjU1KSwgbChzLCBlLnRvdGFsX2luID4+IDE2ICYgMjU1KSwgbChzLCBlLnRvdGFsX2luID4+IDI0ICYgMjU1KSkgOiAoYyhzLCBlLmFkbGVyID4+PiAxNiksIGMocywgNjU1MzUgJiBlLmFkbGVyKSksIHIoZSksIHMud3JhcCA+IDAgJiYgKHMud3JhcCA9IC1zLndyYXApLCAwICE9PSBzLnBlbmRpbmcgPyBSIDogRikKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQyhlKSB7CgkJCQkJCQl2YXIgdDsKCQkJCQkJCXJldHVybiBlICYmIGUuc3RhdGUgPyAodCA9IGUuc3RhdGUuc3RhdHVzLCB0ICE9PSB1ZSAmJiB0ICE9PSBtZSAmJiB0ICE9PSBmZSAmJiB0ICE9PSBnZSAmJiB0ICE9PSBfZSAmJiB0ICE9PSB4ZSAmJiB0ICE9PSB3ZSA/IGkoZSwgJCkgOiAoZS5zdGF0ZSA9IG51bGwsIHQgPT09IHhlID8gaShlLCBXKSA6IFIpKSA6ICQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gUyhlLCB0KSB7CgkJCQkJCQl2YXIgbiwgaSwgYSwgciwgcywgbCwgYywgZCwgcCA9IHQubGVuZ3RoOwoJCQkJCQkJaWYgKCFlIHx8ICFlLnN0YXRlKSByZXR1cm4gJDsKCQkJCQkJCWlmIChuID0gZS5zdGF0ZSwgciA9IG4ud3JhcCwgMiA9PT0gciB8fCAxID09PSByICYmIG4uc3RhdHVzICE9PSB1ZSB8fCBuLmxvb2thaGVhZCkgcmV0dXJuICQ7CgkJCQkJCQlmb3IgKDEgPT09IHIgJiYgKGUuYWRsZXIgPSBJKGUuYWRsZXIsIHQsIHAsIDApKSwgbi53cmFwID0gMCwgcCA+PSBuLndfc2l6ZSAmJiAoMCA9PT0gciAmJiAobyhuLmhlYWQpLCBuLnN0cnN0YXJ0ID0gMCwgbi5ibG9ja19zdGFydCA9IDAsIG4uaW5zZXJ0ID0gMCksIGQgPSBuZXcgVC5CdWY4KG4ud19zaXplKSwgVC5hcnJheVNldChkLCB0LCBwIC0gbi53X3NpemUsIG4ud19zaXplLCAwKSwgdCA9IGQsIHAgPSBuLndfc2l6ZSksIHMgPSBlLmF2YWlsX2luLCBsID0gZS5uZXh0X2luLCBjID0gZS5pbnB1dCwgZS5hdmFpbF9pbiA9IHAsIGUubmV4dF9pbiA9IDAsIGUuaW5wdXQgPSB0LCBoKG4pOyBuLmxvb2thaGVhZCA+PSBjZTspIHsKCQkJCQkJCQlpID0gbi5zdHJzdGFydCwgYSA9IG4ubG9va2FoZWFkIC0gKGNlIC0gMSk7CgkJCQkJCQkJZG8gbi5pbnNfaCA9IChuLmluc19oIDw8IG4uaGFzaF9zaGlmdCBeIG4ud2luZG93W2kgKyBjZSAtIDFdKSAmIG4uaGFzaF9tYXNrLCBuLnByZXZbaSAmIG4ud19tYXNrXSA9IG4uaGVhZFtuLmluc19oXSwgbi5oZWFkW24uaW5zX2hdID0gaSwgaSsrOyB3aGlsZSAoLS1hKTsKCQkJCQkJCQluLnN0cnN0YXJ0ID0gaSwgbi5sb29rYWhlYWQgPSBjZSAtIDEsIGgobikKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBuLnN0cnN0YXJ0ICs9IG4ubG9va2FoZWFkLCBuLmJsb2NrX3N0YXJ0ID0gbi5zdHJzdGFydCwgbi5pbnNlcnQgPSBuLmxvb2thaGVhZCwgbi5sb29rYWhlYWQgPSAwLCBuLm1hdGNoX2xlbmd0aCA9IG4ucHJldl9sZW5ndGggPSBjZSAtIDEsIG4ubWF0Y2hfYXZhaWxhYmxlID0gMCwgZS5uZXh0X2luID0gbCwgZS5pbnB1dCA9IGMsIGUuYXZhaWxfaW4gPSBzLCBuLndyYXAgPSByLCBSCgkJCQkJCX0KCQkJCQkJdmFyIE4sIFQgPSBlKCIuLi91dGlscy9jb21tb24iKSwKCQkJCQkJCVAgPSBlKCIuL3RyZWVzIiksCgkJCQkJCQlJID0gZSgiLi9hZGxlcjMyIiksCgkJCQkJCQlBID0gZSgiLi9jcmMzMiIpLAoJCQkJCQkJcSA9IGUoIi4vbWVzc2FnZXMiKSwKCQkJCQkJCUUgPSAwLAoJCQkJCQkJTyA9IDEsCgkJCQkJCQlMID0gMywKCQkJCQkJCUQgPSA0LAoJCQkJCQkJTSA9IDUsCgkJCQkJCQlSID0gMCwKCQkJCQkJCUYgPSAxLAoJCQkJCQkJJCA9IC0yLAoJCQkJCQkJVyA9IC0zLAoJCQkJCQkJSCA9IC01LAoJCQkJCQkJVSA9IC0xLAoJCQkJCQkJWSA9IDEsCgkJCQkJCQlHID0gMiwKCQkJCQkJCVggPSAzLAoJCQkJCQkJSiA9IDQsCgkJCQkJCQlaID0gMCwKCQkJCQkJCVYgPSAyLAoJCQkJCQkJSyA9IDgsCgkJCQkJCQlRID0gOSwKCQkJCQkJCWVlID0gMTUsCgkJCQkJCQl0ZSA9IDgsCgkJCQkJCQluZSA9IDI5LAoJCQkJCQkJaWUgPSAyNTYsCgkJCQkJCQlhZSA9IGllICsgMSArIG5lLAoJCQkJCQkJb2UgPSAzMCwKCQkJCQkJCXJlID0gMTksCgkJCQkJCQlzZSA9IDIgKiBhZSArIDEsCgkJCQkJCQlsZSA9IDE1LAoJCQkJCQkJY2UgPSAzLAoJCQkJCQkJZGUgPSAyNTgsCgkJCQkJCQlwZSA9IGRlICsgY2UgKyAxLAoJCQkJCQkJaGUgPSAzMiwKCQkJCQkJCXVlID0gNDIsCgkJCQkJCQltZSA9IDY5LAoJCQkJCQkJZmUgPSA3MywKCQkJCQkJCWdlID0gOTEsCgkJCQkJCQlfZSA9IDEwMywKCQkJCQkJCXhlID0gMTEzLAoJCQkJCQkJd2UgPSA2NjYsCgkJCQkJCQl2ZSA9IDEsCgkJCQkJCQliZSA9IDIsCgkJCQkJCQl5ZSA9IDMsCgkJCQkJCQlrZSA9IDQsCgkJCQkJCQl6ZSA9IDM7CgkJCQkJCU4gPSBbbmV3IHgoMCwgMCwgMCwgMCwgdSksIG5ldyB4KDQsIDQsIDgsIDQsIG0pLCBuZXcgeCg0LCA1LCAxNiwgOCwgbSksIG5ldyB4KDQsIDYsIDMyLCAzMiwgbSksIG5ldyB4KDQsIDQsIDE2LCAxNiwgZiksIG5ldyB4KDgsIDE2LCAzMiwgMzIsIGYpLCBuZXcgeCg4LCAxNiwgMTI4LCAxMjgsIGYpLCBuZXcgeCg4LCAzMiwgMTI4LCAyNTYsIGYpLCBuZXcgeCgzMiwgMTI4LCAyNTgsIDEwMjQsIGYpLCBuZXcgeCgzMiwgMjU4LCAyNTgsIDQwOTYsIGYpXSwgbi5kZWZsYXRlSW5pdCA9IEIsIG4uZGVmbGF0ZUluaXQyID0geiwgbi5kZWZsYXRlUmVzZXQgPSB5LCBuLmRlZmxhdGVSZXNldEtlZXAgPSBiLCBuLmRlZmxhdGVTZXRIZWFkZXIgPSBrLCBuLmRlZmxhdGUgPSBqLCBuLmRlZmxhdGVFbmQgPSBDLCBuLmRlZmxhdGVTZXREaWN0aW9uYXJ5ID0gUywgbi5kZWZsYXRlSW5mbyA9ICJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIgoJCQkJCX0sIHsKCQkJCQkJIi4uL3V0aWxzL2NvbW1vbiI6IDMsCgkJCQkJCSIuL2FkbGVyMzIiOiA1LAoJCQkJCQkiLi9jcmMzMiI6IDcsCgkJCQkJCSIuL21lc3NhZ2VzIjogMTMsCgkJCQkJCSIuL3RyZWVzIjogMTQKCQkJCQl9CgkJCQldLAoJCQkJOTogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaSgpIHsKCQkJCQkJCXRoaXMudGV4dCA9IDAsIHRoaXMudGltZSA9IDAsIHRoaXMueGZsYWdzID0gMCwgdGhpcy5vcyA9IDAsIHRoaXMuZXh0cmEgPSBudWxsLCB0aGlzLmV4dHJhX2xlbiA9IDAsIHRoaXMubmFtZSA9ICIiLCB0aGlzLmNvbW1lbnQgPSAiIiwgdGhpcy5oY3JjID0gMCwgdGhpcy5kb25lID0gITEKCQkJCQkJfQoJCQkJCQl0LmV4cG9ydHMgPSBpCgkJCQkJfSwge30KCQkJCV0sCgkJCQkxMDogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoJCQkJCQl2YXIgaSA9IDMwLAoJCQkJCQkJYSA9IDEyOwoJCQkJCQl0LmV4cG9ydHMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbiwgbywgciwgcywgbCwgYywgZCwgcCwgaCwgdSwgbSwgZiwgZywgXywgeCwgdywgdiwgYiwgeSwgaywgeiwgQiwgaiwgQywgUzsKCQkJCQkJCW4gPSBlLnN0YXRlLCBvID0gZS5uZXh0X2luLCBDID0gZS5pbnB1dCwgciA9IG8gKyAoZS5hdmFpbF9pbiAtIDUpLCBzID0gZS5uZXh0X291dCwgUyA9IGUub3V0cHV0LCBsID0gcyAtICh0IC0gZS5hdmFpbF9vdXQpLCBjID0gcyArIChlLmF2YWlsX291dCAtIDI1NyksIGQgPSBuLmRtYXgsIHAgPSBuLndzaXplLCBoID0gbi53aGF2ZSwgdSA9IG4ud25leHQsIG0gPSBuLndpbmRvdywgZiA9IG4uaG9sZCwgZyA9IG4uYml0cywgXyA9IG4ubGVuY29kZSwgeCA9IG4uZGlzdGNvZGUsIHcgPSAoMSA8PCBuLmxlbmJpdHMpIC0gMSwgdiA9ICgxIDw8IG4uZGlzdGJpdHMpIC0gMTsKCQkJCQkJCWU6IGRvIHsKCQkJCQkJCQkxNSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCwgZiArPSBDW28rK10gPDwgZywgZyArPSA4KSwgYiA9IF9bZiAmIHddOwoJCQkJCQkJCXQ6IGZvciAoOzspIHsKCQkJCQkJCQkJaWYgKHkgPSBiID4+PiAyNCwgZiA+Pj49IHksIGcgLT0geSwgeSA9IGIgPj4+IDE2ICYgMjU1LCAwID09PSB5KSBTW3MrK10gPSA2NTUzNSAmIGI7CgkJCQkJCQkJCWVsc2UgewoJCQkJCQkJCQkJaWYgKCEoMTYgJiB5KSkgewoJCQkJCQkJCQkJCWlmICgwID09PSAoNjQgJiB5KSkgewoJCQkJCQkJCQkJCQliID0gX1soNjU1MzUgJiBiKSArIChmICYgKDEgPDwgeSkgLSAxKV07CgkJCQkJCQkJCQkJCWNvbnRpbnVlIHQKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJaWYgKDMyICYgeSkgewoJCQkJCQkJCQkJCQluLm1vZGUgPSBhOwoJCQkJCQkJCQkJCQlicmVhayBlCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsIG4ubW9kZSA9IGk7CgkJCQkJCQkJCQkJYnJlYWsgZQoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJayA9IDY1NTM1ICYgYiwgeSAmPSAxNSwgeSAmJiAoeSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCksIGsgKz0gZiAmICgxIDw8IHkpIC0gMSwgZiA+Pj49IHksIGcgLT0geSksIDE1ID4gZyAmJiAoZiArPSBDW28rK10gPDwgZywgZyArPSA4LCBmICs9IENbbysrXSA8PCBnLCBnICs9IDgpLCBiID0geFtmICYgdl07CgkJCQkJCQkJCQluOiBmb3IgKDs7KSB7CgkJCQkJCQkJCQkJaWYgKHkgPSBiID4+PiAyNCwgZiA+Pj49IHksIGcgLT0geSwgeSA9IGIgPj4+IDE2ICYgMjU1LCAhKDE2ICYgeSkpIHsKCQkJCQkJCQkJCQkJaWYgKDAgPT09ICg2NCAmIHkpKSB7CgkJCQkJCQkJCQkJCQliID0geFsoNjU1MzUgJiBiKSArIChmICYgKDEgPDwgeSkgLSAxKV07CgkJCQkJCQkJCQkJCQljb250aW51ZSBuCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBkaXN0YW5jZSBjb2RlIiwgbi5tb2RlID0gaTsKCQkJCQkJCQkJCQkJYnJlYWsgZQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQlpZiAoeiA9IDY1NTM1ICYgYiwgeSAmPSAxNSwgeSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCwgeSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCkpLCB6ICs9IGYgJiAoMSA8PCB5KSAtIDEsIHogPiBkKSB7CgkJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgbi5tb2RlID0gaTsKCQkJCQkJCQkJCQkJYnJlYWsgZQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQlpZiAoZiA+Pj49IHksIGcgLT0geSwgeSA9IHMgLSBsLCB6ID4geSkgewoJCQkJCQkJCQkJCQlpZiAoeSA9IHogLSB5LCB5ID4gaCAmJiBuLnNhbmUpIHsKCQkJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgbi5tb2RlID0gaTsKCQkJCQkJCQkJCQkJCWJyZWFrIGUKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlpZiAoQiA9IDAsIGogPSBtLCAwID09PSB1KSB7CgkJCQkJCQkJCQkJCQlpZiAoQiArPSBwIC0geSwgayA+IHkpIHsKCQkJCQkJCQkJCQkJCQlrIC09IHk7CgkJCQkJCQkJCQkJCQkJZG8gU1tzKytdID0gbVtCKytdOyB3aGlsZSAoLS15KTsKCQkJCQkJCQkJCQkJCQlCID0gcyAtIHosIGogPSBTCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0gZWxzZSBpZiAoeSA+IHUpIHsKCQkJCQkJCQkJCQkJCWlmIChCICs9IHAgKyB1IC0geSwgeSAtPSB1LCBrID4geSkgewoJCQkJCQkJCQkJCQkJCWsgLT0geTsKCQkJCQkJCQkJCQkJCQlkbyBTW3MrK10gPSBtW0IrK107IHdoaWxlICgtLXkpOwoJCQkJCQkJCQkJCQkJCWlmIChCID0gMCwgayA+IHUpIHsKCQkJCQkJCQkJCQkJCQkJeSA9IHUsIGsgLT0geTsKCQkJCQkJCQkJCQkJCQkJZG8gU1tzKytdID0gbVtCKytdOyB3aGlsZSAoLS15KTsKCQkJCQkJCQkJCQkJCQkJQiA9IHMgLSB6LCBqID0gUwoJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJfSBlbHNlIGlmIChCICs9IHUgLSB5LCBrID4geSkgewoJCQkJCQkJCQkJCQkJayAtPSB5OwoJCQkJCQkJCQkJCQkJZG8gU1tzKytdID0gbVtCKytdOyB3aGlsZSAoLS15KTsKCQkJCQkJCQkJCQkJCUIgPSBzIC0geiwgaiA9IFMKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlmb3IgKDsgayA+IDI7KSBTW3MrK10gPSBqW0IrK10sIFNbcysrXSA9IGpbQisrXSwgU1tzKytdID0galtCKytdLCBrIC09IDM7CgkJCQkJCQkJCQkJCWsgJiYgKFNbcysrXSA9IGpbQisrXSwgayA+IDEgJiYgKFNbcysrXSA9IGpbQisrXSkpCgkJCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCQkJQiA9IHMgLSB6OwoJCQkJCQkJCQkJCQlkbyBTW3MrK10gPSBTW0IrK10sIFNbcysrXSA9IFNbQisrXSwgU1tzKytdID0gU1tCKytdLCBrIC09IDM7IHdoaWxlIChrID4gMik7CgkJCQkJCQkJCQkJCWsgJiYgKFNbcysrXSA9IFNbQisrXSwgayA+IDEgJiYgKFNbcysrXSA9IFNbQisrXSkpCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQl9CgkJCQkJCQl9IHdoaWxlIChyID4gbyAmJiBjID4gcyk7CgkJCQkJCQlrID0gZyA+PiAzLCBvIC09IGssIGcgLT0gayA8PCAzLCBmICY9ICgxIDw8IGcpIC0gMSwgZS5uZXh0X2luID0gbywgZS5uZXh0X291dCA9IHMsIGUuYXZhaWxfaW4gPSByID4gbyA/IDUgKyAociAtIG8pIDogNSAtIChvIC0gciksIGUuYXZhaWxfb3V0ID0gYyA+IHMgPyAyNTcgKyAoYyAtIHMpIDogMjU3IC0gKHMgLSBjKSwgbi5ob2xkID0gZiwgbi5iaXRzID0gZwoJCQkJCQl9CgkJCQkJfSwge30KCQkJCV0sCgkJCQkxMTogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaShlKSB7CgkJCQkJCQlyZXR1cm4gKGUgPj4+IDI0ICYgMjU1KSArIChlID4+PiA4ICYgNjUyODApICsgKCg2NTI4MCAmIGUpIDw8IDgpICsgKCgyNTUgJiBlKSA8PCAyNCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gYSgpIHsKCQkJCQkJCXRoaXMubW9kZSA9IDAsIHRoaXMubGFzdCA9ICExLCB0aGlzLndyYXAgPSAwLCB0aGlzLmhhdmVkaWN0ID0gITEsIHRoaXMuZmxhZ3MgPSAwLCB0aGlzLmRtYXggPSAwLCB0aGlzLmNoZWNrID0gMCwgdGhpcy50b3RhbCA9IDAsIHRoaXMuaGVhZCA9IG51bGwsIHRoaXMud2JpdHMgPSAwLCB0aGlzLndzaXplID0gMCwgdGhpcy53aGF2ZSA9IDAsIHRoaXMud25leHQgPSAwLCB0aGlzLndpbmRvdyA9IG51bGwsIHRoaXMuaG9sZCA9IDAsIHRoaXMuYml0cyA9IDAsIHRoaXMubGVuZ3RoID0gMCwgdGhpcy5vZmZzZXQgPSAwLCB0aGlzLmV4dHJhID0gMCwgdGhpcy5sZW5jb2RlID0gbnVsbCwgdGhpcy5kaXN0Y29kZSA9IG51bGwsIHRoaXMubGVuYml0cyA9IDAsIHRoaXMuZGlzdGJpdHMgPSAwLCB0aGlzLm5jb2RlID0gMCwgdGhpcy5ubGVuID0gMCwgdGhpcy5uZGlzdCA9IDAsIHRoaXMuaGF2ZSA9IDAsIHRoaXMubmV4dCA9IG51bGwsIHRoaXMubGVucyA9IG5ldyB4LkJ1ZjE2KDMyMCksIHRoaXMud29yayA9IG5ldyB4LkJ1ZjE2KDI4OCksIHRoaXMubGVuZHluID0gbnVsbCwgdGhpcy5kaXN0ZHluID0gbnVsbCwgdGhpcy5zYW5lID0gMCwgdGhpcy5iYWNrID0gMCwgdGhpcy53YXMgPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gKHQgPSBlLnN0YXRlLCBlLnRvdGFsX2luID0gZS50b3RhbF9vdXQgPSB0LnRvdGFsID0gMCwgZS5tc2cgPSAiIiwgdC53cmFwICYmIChlLmFkbGVyID0gMSAmIHQud3JhcCksIHQubW9kZSA9IEwsIHQubGFzdCA9IDAsIHQuaGF2ZWRpY3QgPSAwLCB0LmRtYXggPSAzMjc2OCwgdC5oZWFkID0gbnVsbCwgdC5ob2xkID0gMCwgdC5iaXRzID0gMCwgdC5sZW5jb2RlID0gdC5sZW5keW4gPSBuZXcgeC5CdWYzMihmZSksIHQuZGlzdGNvZGUgPSB0LmRpc3RkeW4gPSBuZXcgeC5CdWYzMihnZSksIHQuc2FuZSA9IDEsIHQuYmFjayA9IC0xLCBOKSA6IEkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcihlKSB7CgkJCQkJCQl2YXIgdDsKCQkJCQkJCXJldHVybiBlICYmIGUuc3RhdGUgPyAodCA9IGUuc3RhdGUsIHQud3NpemUgPSAwLCB0LndoYXZlID0gMCwgdC53bmV4dCA9IDAsIG8oZSkpIDogSQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBzKGUsIHQpIHsKCQkJCQkJCXZhciBuLCBpOwoJCQkJCQkJcmV0dXJuIGUgJiYgZS5zdGF0ZSA/IChpID0gZS5zdGF0ZSwgMCA+IHQgPyAobiA9IDAsIHQgPSAtdCkgOiAobiA9ICh0ID4+IDQpICsgMSwgNDggPiB0ICYmICh0ICY9IDE1KSksIHQgJiYgKDggPiB0IHx8IHQgPiAxNSkgPyBJIDogKG51bGwgIT09IGkud2luZG93ICYmIGkud2JpdHMgIT09IHQgJiYgKGkud2luZG93ID0gbnVsbCksIGkud3JhcCA9IG4sIGkud2JpdHMgPSB0LCByKGUpKSkgOiBJCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGwoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGk7CgkJCQkJCQlyZXR1cm4gZSA/IChpID0gbmV3IGEsIGUuc3RhdGUgPSBpLCBpLndpbmRvdyA9IG51bGwsIG4gPSBzKGUsIHQpLCBuICE9PSBOICYmIChlLnN0YXRlID0gbnVsbCksIG4pIDogSQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQkJCXJldHVybiBsKGUsIHhlKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCQkJCWlmICh3ZSkgewoJCQkJCQkJCXZhciB0OwoJCQkJCQkJCWZvciAoZyA9IG5ldyB4LkJ1ZjMyKDUxMiksIF8gPSBuZXcgeC5CdWYzMigzMiksIHQgPSAwOyAxNDQgPiB0OykgZS5sZW5zW3QrK10gPSA4OwoJCQkJCQkJCWZvciAoOyAyNTYgPiB0OykgZS5sZW5zW3QrK10gPSA5OwoJCQkJCQkJCWZvciAoOyAyODAgPiB0OykgZS5sZW5zW3QrK10gPSA3OwoJCQkJCQkJCWZvciAoOyAyODggPiB0OykgZS5sZW5zW3QrK10gPSA4OwoJCQkJCQkJCWZvciAoeSh6LCBlLmxlbnMsIDAsIDI4OCwgZywgMCwgZS53b3JrLCB7CgkJCQkJCQkJCWJpdHM6IDkKCQkJCQkJCQl9KSwgdCA9IDA7IDMyID4gdDspIGUubGVuc1t0KytdID0gNTsKCQkJCQkJCQl5KEIsIGUubGVucywgMCwgMzIsIF8sIDAsIGUud29yaywgewoJCQkJCQkJCQliaXRzOiA1CgkJCQkJCQkJfSksIHdlID0gITEKCQkJCQkJCX0KCQkJCQkJCWUubGVuY29kZSA9IGcsIGUubGVuYml0cyA9IDksIGUuZGlzdGNvZGUgPSBfLCBlLmRpc3RiaXRzID0gNQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBwKGUsIHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhLCBvID0gZS5zdGF0ZTsKCQkJCQkJCXJldHVybiBudWxsID09PSBvLndpbmRvdyAmJiAoby53c2l6ZSA9IDEgPDwgby53Yml0cywgby53bmV4dCA9IDAsIG8ud2hhdmUgPSAwLCBvLndpbmRvdyA9IG5ldyB4LkJ1Zjgoby53c2l6ZSkpLCBpID49IG8ud3NpemUgPyAoeC5hcnJheVNldChvLndpbmRvdywgdCwgbiAtIG8ud3NpemUsIG8ud3NpemUsIDApLCBvLnduZXh0ID0gMCwgby53aGF2ZSA9IG8ud3NpemUpIDogKGEgPSBvLndzaXplIC0gby53bmV4dCwgYSA+IGkgJiYgKGEgPSBpKSwgeC5hcnJheVNldChvLndpbmRvdywgdCwgbiAtIGksIGEsIG8ud25leHQpLCBpIC09IGEsIGkgPyAoeC5hcnJheVNldChvLndpbmRvdywgdCwgbiAtIGksIGksIDApLCBvLnduZXh0ID0gaSwgby53aGF2ZSA9IG8ud3NpemUpIDogKG8ud25leHQgKz0gYSwgby53bmV4dCA9PT0gby53c2l6ZSAmJiAoby53bmV4dCA9IDApLCBvLndoYXZlIDwgby53c2l6ZSAmJiAoby53aGF2ZSArPSBhKSkpLCAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGgoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGEsIG8sIHIsIHMsIGwsIGMsIGgsIHUsIG0sIGYsIGcsIF8sIGZlLCBnZSwgX2UsIHhlLCB3ZSwgdmUsIGJlLCB5ZSwga2UsIHplLCBCZSwgamUgPSAwLAoJCQkJCQkJCUNlID0gbmV3IHguQnVmOCg0KSwKCQkJCQkJCQlTZSA9IFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XTsKCQkJCQkJCWlmICghZSB8fCAhZS5zdGF0ZSB8fCAhZS5vdXRwdXQgfHwgIWUuaW5wdXQgJiYgMCAhPT0gZS5hdmFpbF9pbikgcmV0dXJuIEk7CgkJCQkJCQluID0gZS5zdGF0ZSwgbi5tb2RlID09PSBYICYmIChuLm1vZGUgPSBKKSwgcyA9IGUubmV4dF9vdXQsIG8gPSBlLm91dHB1dCwgYyA9IGUuYXZhaWxfb3V0LCByID0gZS5uZXh0X2luLCBhID0gZS5pbnB1dCwgbCA9IGUuYXZhaWxfaW4sIGggPSBuLmhvbGQsIHUgPSBuLmJpdHMsIG0gPSBsLCBmID0gYywga2UgPSBOOwoJCQkJCQkJZTogZm9yICg7Oykgc3dpdGNoIChuLm1vZGUpIHsKCQkJCQkJCQljYXNlIEw6CgkJCQkJCQkJCWlmICgwID09PSBuLndyYXApIHsKCQkJCQkJCQkJCW4ubW9kZSA9IEo7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKDIgJiBuLndyYXAgJiYgMzU2MTUgPT09IGgpIHsKCQkJCQkJCQkJCW4uY2hlY2sgPSAwLCBDZVswXSA9IDI1NSAmIGgsIENlWzFdID0gaCA+Pj4gOCAmIDI1NSwgbi5jaGVjayA9IHYobi5jaGVjaywgQ2UsIDIsIDApLCBoID0gMCwgdSA9IDAsIG4ubW9kZSA9IEQ7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChuLmZsYWdzID0gMCwgbi5oZWFkICYmIChuLmhlYWQuZG9uZSA9ICExKSwgISgxICYgbi53cmFwKSB8fCAoKCgyNTUgJiBoKSA8PCA4KSArIChoID4+IDgpKSAlIDMxKSB7CgkJCQkJCQkJCQllLm1zZyA9ICJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICgoMTUgJiBoKSAhPT0gTykgewoJCQkJCQkJCQkJZS5tc2cgPSAidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKGggPj4+PSA0LCB1IC09IDQsIHllID0gKDE1ICYgaCkgKyA4LCAwID09PSBuLndiaXRzKSBuLndiaXRzID0geWU7CgkJCQkJCQkJCWVsc2UgaWYgKHllID4gbi53Yml0cykgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCB3aW5kb3cgc2l6ZSIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQluLmRtYXggPSAxIDw8IHllLCBlLmFkbGVyID0gbi5jaGVjayA9IDEsIG4ubW9kZSA9IDUxMiAmIGggPyBZIDogWCwgaCA9IDAsIHUgPSAwOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlIEQ6CgkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4uZmxhZ3MgPSBoLCAoMjU1ICYgbi5mbGFncykgIT09IE8pIHsKCQkJCQkJCQkJCWUubXNnID0gInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICg1NzM0NCAmIG4uZmxhZ3MpIHsKCQkJCQkJCQkJCWUubXNnID0gInVua25vd24gaGVhZGVyIGZsYWdzIHNldCIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQluLmhlYWQgJiYgKG4uaGVhZC50ZXh0ID0gaCA+PiA4ICYgMSksIDUxMiAmIG4uZmxhZ3MgJiYgKENlWzBdID0gMjU1ICYgaCwgQ2VbMV0gPSBoID4+PiA4ICYgMjU1LCBuLmNoZWNrID0gdihuLmNoZWNrLCBDZSwgMiwgMCkpLCBoID0gMCwgdSA9IDAsIG4ubW9kZSA9IE07CgkJCQkJCQkJY2FzZSBNOgoJCQkJCQkJCQlmb3IgKDsgMzIgPiB1OykgewoJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQl9CgkJCQkJCQkJCW4uaGVhZCAmJiAobi5oZWFkLnRpbWUgPSBoKSwgNTEyICYgbi5mbGFncyAmJiAoQ2VbMF0gPSAyNTUgJiBoLCBDZVsxXSA9IGggPj4+IDggJiAyNTUsIENlWzJdID0gaCA+Pj4gMTYgJiAyNTUsIENlWzNdID0gaCA+Pj4gMjQgJiAyNTUsIG4uY2hlY2sgPSB2KG4uY2hlY2ssIENlLCA0LCAwKSksIGggPSAwLCB1ID0gMCwgbi5tb2RlID0gUjsKCQkJCQkJCQljYXNlIFI6CgkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5oZWFkICYmIChuLmhlYWQueGZsYWdzID0gMjU1ICYgaCwgbi5oZWFkLm9zID0gaCA+PiA4KSwgNTEyICYgbi5mbGFncyAmJiAoQ2VbMF0gPSAyNTUgJiBoLCBDZVsxXSA9IGggPj4+IDggJiAyNTUsIG4uY2hlY2sgPSB2KG4uY2hlY2ssIENlLCAyLCAwKSksIGggPSAwLCB1ID0gMCwgbi5tb2RlID0gRjsKCQkJCQkJCQljYXNlIEY6CgkJCQkJCQkJCWlmICgxMDI0ICYgbi5mbGFncykgewoJCQkJCQkJCQkJZm9yICg7IDE2ID4gdTspIHsKCQkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJbi5sZW5ndGggPSBoLCBuLmhlYWQgJiYgKG4uaGVhZC5leHRyYV9sZW4gPSBoKSwgNTEyICYgbi5mbGFncyAmJiAoQ2VbMF0gPSAyNTUgJiBoLCBDZVsxXSA9IGggPj4+IDggJiAyNTUsIG4uY2hlY2sgPSB2KG4uY2hlY2ssIENlLCAyLCAwKSksIGggPSAwLCB1ID0gMAoJCQkJCQkJCQl9IGVsc2Ugbi5oZWFkICYmIChuLmhlYWQuZXh0cmEgPSBudWxsKTsKCQkJCQkJCQkJbi5tb2RlID0gJDsKCQkJCQkJCQljYXNlICQ6CgkJCQkJCQkJCWlmICgxMDI0ICYgbi5mbGFncyAmJiAoZyA9IG4ubGVuZ3RoLCBnID4gbCAmJiAoZyA9IGwpLCBnICYmIChuLmhlYWQgJiYgKHllID0gbi5oZWFkLmV4dHJhX2xlbiAtIG4ubGVuZ3RoLCBuLmhlYWQuZXh0cmEgfHwgKG4uaGVhZC5leHRyYSA9IG5ldyBBcnJheShuLmhlYWQuZXh0cmFfbGVuKSksCgkJCQkJCQkJCQl4LmFycmF5U2V0KG4uaGVhZC5leHRyYSwgYSwgciwgZywgeWUpKSwgNTEyICYgbi5mbGFncyAmJiAobi5jaGVjayA9IHYobi5jaGVjaywgYSwgZywgcikpLCBsIC09IGcsIHIgKz0gZywgbi5sZW5ndGggLT0gZyksIG4ubGVuZ3RoKSkgYnJlYWsgZTsKCQkJCQkJCQkJbi5sZW5ndGggPSAwLCBuLm1vZGUgPSBXOwoJCQkJCQkJCWNhc2UgVzoKCQkJCQkJCQkJaWYgKDIwNDggJiBuLmZsYWdzKSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWcgPSAwOwoJCQkJCQkJCQkJZG8geWUgPSBhW3IgKyBnKytdLCBuLmhlYWQgJiYgeWUgJiYgbi5sZW5ndGggPCA2NTUzNiAmJiAobi5oZWFkLm5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh5ZSkpOyB3aGlsZSAoeWUgJiYgbCA+IGcpOwoJCQkJCQkJCQkJaWYgKDUxMiAmIG4uZmxhZ3MgJiYgKG4uY2hlY2sgPSB2KG4uY2hlY2ssIGEsIGcsIHIpKSwgbCAtPSBnLCByICs9IGcsIHllKSBicmVhayBlCgkJCQkJCQkJCX0gZWxzZSBuLmhlYWQgJiYgKG4uaGVhZC5uYW1lID0gbnVsbCk7CgkJCQkJCQkJCW4ubGVuZ3RoID0gMCwgbi5tb2RlID0gSDsKCQkJCQkJCQljYXNlIEg6CgkJCQkJCQkJCWlmICg0MDk2ICYgbi5mbGFncykgewoJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQlnID0gMDsKCQkJCQkJCQkJCWRvIHllID0gYVtyICsgZysrXSwgbi5oZWFkICYmIHllICYmIG4ubGVuZ3RoIDwgNjU1MzYgJiYgKG4uaGVhZC5jb21tZW50ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoeWUpKTsgd2hpbGUgKHllICYmIGwgPiBnKTsKCQkJCQkJCQkJCWlmICg1MTIgJiBuLmZsYWdzICYmIChuLmNoZWNrID0gdihuLmNoZWNrLCBhLCBnLCByKSksIGwgLT0gZywgciArPSBnLCB5ZSkgYnJlYWsgZQoJCQkJCQkJCQl9IGVsc2Ugbi5oZWFkICYmIChuLmhlYWQuY29tbWVudCA9IG51bGwpOwoJCQkJCQkJCQluLm1vZGUgPSBVOwoJCQkJCQkJCWNhc2UgVToKCQkJCQkJCQkJaWYgKDUxMiAmIG4uZmxhZ3MpIHsKCQkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCWlmIChoICE9PSAoNjU1MzUgJiBuLmNoZWNrKSkgewoJCQkJCQkJCQkJCWUubXNnID0gImhlYWRlciBjcmMgbWlzbWF0Y2giLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaCA9IDAsIHUgPSAwCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5oZWFkICYmIChuLmhlYWQuaGNyYyA9IG4uZmxhZ3MgPj4gOSAmIDEsIG4uaGVhZC5kb25lID0gITApLCBlLmFkbGVyID0gbi5jaGVjayA9IDAsIG4ubW9kZSA9IFg7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgWToKCQkJCQkJCQkJZm9yICg7IDMyID4gdTspIHsKCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJfQoJCQkJCQkJCQllLmFkbGVyID0gbi5jaGVjayA9IGkoaCksIGggPSAwLCB1ID0gMCwgbi5tb2RlID0gRzsKCQkJCQkJCQljYXNlIEc6CgkJCQkJCQkJCWlmICgwID09PSBuLmhhdmVkaWN0KSByZXR1cm4gZS5uZXh0X291dCA9IHMsIGUuYXZhaWxfb3V0ID0gYywgZS5uZXh0X2luID0gciwgZS5hdmFpbF9pbiA9IGwsIG4uaG9sZCA9IGgsIG4uYml0cyA9IHUsIFA7CgkJCQkJCQkJCWUuYWRsZXIgPSBuLmNoZWNrID0gMSwgbi5tb2RlID0gWDsKCQkJCQkJCQljYXNlIFg6CgkJCQkJCQkJCWlmICh0ID09PSBDIHx8IHQgPT09IFMpIGJyZWFrIGU7CgkJCQkJCQkJY2FzZSBKOgoJCQkJCQkJCQlpZiAobi5sYXN0KSB7CgkJCQkJCQkJCQloID4+Pj0gNyAmIHUsIHUgLT0gNyAmIHUsIG4ubW9kZSA9IGNlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQlmb3IgKDsgMyA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJc3dpdGNoIChuLmxhc3QgPSAxICYgaCwgaCA+Pj49IDEsIHUgLT0gMSwgMyAmIGgpIHsKCQkJCQkJCQkJCWNhc2UgMDoKCQkJCQkJCQkJCQluLm1vZGUgPSBaOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCQkJCWlmIChkKG4pLCBuLm1vZGUgPSBuZSwgdCA9PT0gUykgewoJCQkJCQkJCQkJCQloID4+Pj0gMiwgdSAtPSAyOwoJCQkJCQkJCQkJCQlicmVhayBlCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCQkJCW4ubW9kZSA9IFE7CgkJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCQljYXNlIDM6CgkJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBibG9jayB0eXBlIiwgbi5tb2RlID0gaGUKCQkJCQkJCQkJfQoJCQkJCQkJCQloID4+Pj0gMiwgdSAtPSAyOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlIFo6CgkJCQkJCQkJCWZvciAoaCA+Pj49IDcgJiB1LCB1IC09IDcgJiB1OyAzMiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKCg2NTUzNSAmIGgpICE9PSAoaCA+Pj4gMTYgXiA2NTUzNSkpIHsKCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4ubGVuZ3RoID0gNjU1MzUgJiBoLCBoID0gMCwgdSA9IDAsIG4ubW9kZSA9IFYsIHQgPT09IFMpIGJyZWFrIGU7CgkJCQkJCQkJY2FzZSBWOgoJCQkJCQkJCQluLm1vZGUgPSBLOwoJCQkJCQkJCWNhc2UgSzoKCQkJCQkJCQkJaWYgKGcgPSBuLmxlbmd0aCkgewoJCQkJCQkJCQkJaWYgKGcgPiBsICYmIChnID0gbCksIGcgPiBjICYmIChnID0gYyksIDAgPT09IGcpIGJyZWFrIGU7CgkJCQkJCQkJCQl4LmFycmF5U2V0KG8sIGEsIHIsIGcsIHMpLCBsIC09IGcsIHIgKz0gZywgYyAtPSBnLCBzICs9IGcsIG4ubGVuZ3RoIC09IGc7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4ubW9kZSA9IFg7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgUToKCQkJCQkJCQkJZm9yICg7IDE0ID4gdTspIHsKCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAobi5ubGVuID0gKDMxICYgaCkgKyAyNTcsIGggPj4+PSA1LCB1IC09IDUsIG4ubmRpc3QgPSAoMzEgJiBoKSArIDEsIGggPj4+PSA1LCB1IC09IDUsIG4ubmNvZGUgPSAoMTUgJiBoKSArIDQsIGggPj4+PSA0LCB1IC09IDQsIG4ubmxlbiA+IDI4NiB8fCBuLm5kaXN0ID4gMzApIHsKCQkJCQkJCQkJCWUubXNnID0gInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4uaGF2ZSA9IDAsIG4ubW9kZSA9IGVlOwoJCQkJCQkJCWNhc2UgZWU6CgkJCQkJCQkJCWZvciAoOyBuLmhhdmUgPCBuLm5jb2RlOykgewoJCQkJCQkJCQkJZm9yICg7IDMgPiB1OykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQluLmxlbnNbU2Vbbi5oYXZlKytdXSA9IDcgJiBoLCBoID4+Pj0gMywgdSAtPSAzCgkJCQkJCQkJCX0KCQkJCQkJCQkJZm9yICg7IG4uaGF2ZSA8IDE5Oykgbi5sZW5zW1NlW24uaGF2ZSsrXV0gPSAwOwoJCQkJCQkJCQlpZiAobi5sZW5jb2RlID0gbi5sZW5keW4sIG4ubGVuYml0cyA9IDcsIHplID0gewoJCQkJCQkJCQkJYml0czogbi5sZW5iaXRzCgkJCQkJCQkJCX0sIGtlID0geShrLCBuLmxlbnMsIDAsIDE5LCBuLmxlbmNvZGUsIDAsIG4ud29yaywgemUpLCBuLmxlbmJpdHMgPSB6ZS5iaXRzLCBrZSkgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0Iiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4uaGF2ZSA9IDAsIG4ubW9kZSA9IHRlOwoJCQkJCQkJCWNhc2UgdGU6CgkJCQkJCQkJCWZvciAoOyBuLmhhdmUgPCBuLm5sZW4gKyBuLm5kaXN0OykgewoJCQkJCQkJCQkJZm9yICg7IGplID0gbi5sZW5jb2RlW2ggJiAoMSA8PCBuLmxlbmJpdHMpIC0gMV0sIGdlID0gamUgPj4+IDI0LCBfZSA9IGplID4+PiAxNiAmIDI1NSwgeGUgPSA2NTUzNSAmIGplLCAhKHUgPj0gZ2UpOykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpZiAoMTYgPiB4ZSkgaCA+Pj49IGdlLCB1IC09IGdlLCBuLmxlbnNbbi5oYXZlKytdID0geGU7CgkJCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJCQlpZiAoMTYgPT09IHhlKSB7CgkJCQkJCQkJCQkJCWZvciAoQmUgPSBnZSArIDI7IEJlID4gdTspIHsKCQkJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlpZiAoaCA+Pj49IGdlLCB1IC09IGdlLCAwID09PSBuLmhhdmUpIHsKCQkJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJeWUgPSBuLmxlbnNbbi5oYXZlIC0gMV0sIGcgPSAzICsgKDMgJiBoKSwgaCA+Pj49IDIsIHUgLT0gMgoJCQkJCQkJCQkJCX0gZWxzZSBpZiAoMTcgPT09IHhlKSB7CgkJCQkJCQkJCQkJCWZvciAoQmUgPSBnZSArIDM7IEJlID4gdTspIHsKCQkJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQloID4+Pj0gZ2UsIHUgLT0gZ2UsIHllID0gMCwgZyA9IDMgKyAoNyAmIGgpLCBoID4+Pj0gMywgdSAtPSAzCgkJCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCQkJZm9yIChCZSA9IGdlICsgNzsgQmUgPiB1OykgewoJCQkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCWggPj4+PSBnZSwgdSAtPSBnZSwgeWUgPSAwLCBnID0gMTEgKyAoMTI3ICYgaCksIGggPj4+PSA3LCB1IC09IDcKCQkJCQkJCQkJCQl9IGlmIChuLmhhdmUgKyBnID4gbi5ubGVuICsgbi5uZGlzdCkgewoJCQkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0Iiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWZvciAoOyBnLS07KSBuLmxlbnNbbi5oYXZlKytdID0geWUKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAobi5tb2RlID09PSBoZSkgYnJlYWs7CgkJCQkJCQkJCWlmICgwID09PSBuLmxlbnNbMjU2XSkgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChuLmxlbmJpdHMgPSA5LCB6ZSA9IHsKCQkJCQkJCQkJCWJpdHM6IG4ubGVuYml0cwoJCQkJCQkJCQl9LCBrZSA9IHkoeiwgbi5sZW5zLCAwLCBuLm5sZW4sIG4ubGVuY29kZSwgMCwgbi53b3JrLCB6ZSksIG4ubGVuYml0cyA9IHplLmJpdHMsIGtlKSB7CgkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4uZGlzdGJpdHMgPSA2LCBuLmRpc3Rjb2RlID0gbi5kaXN0ZHluLCB6ZSA9IHsKCQkJCQkJCQkJCWJpdHM6IG4uZGlzdGJpdHMKCQkJCQkJCQkJfSwga2UgPSB5KEIsIG4ubGVucywgbi5ubGVuLCBuLm5kaXN0LCBuLmRpc3Rjb2RlLCAwLCBuLndvcmssIHplKSwgbi5kaXN0Yml0cyA9IHplLmJpdHMsIGtlKSB7CgkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGRpc3RhbmNlcyBzZXQiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4ubW9kZSA9IG5lLCB0ID09PSBTKSBicmVhayBlOwoJCQkJCQkJCWNhc2UgbmU6CgkJCQkJCQkJCW4ubW9kZSA9IGllOwoJCQkJCQkJCWNhc2UgaWU6CgkJCQkJCQkJCWlmIChsID49IDYgJiYgYyA+PSAyNTgpIHsKCQkJCQkJCQkJCWUubmV4dF9vdXQgPSBzLCBlLmF2YWlsX291dCA9IGMsIGUubmV4dF9pbiA9IHIsIGUuYXZhaWxfaW4gPSBsLCBuLmhvbGQgPSBoLCBuLmJpdHMgPSB1LCBiKGUsIGYpLCBzID0gZS5uZXh0X291dCwgbyA9IGUub3V0cHV0LCBjID0gZS5hdmFpbF9vdXQsIHIgPSBlLm5leHRfaW4sIGEgPSBlLmlucHV0LCBsID0gZS5hdmFpbF9pbiwgaCA9IG4uaG9sZCwgdSA9IG4uYml0cywgbi5tb2RlID09PSBYICYmIChuLmJhY2sgPSAtMSk7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWZvciAobi5iYWNrID0gMDsgamUgPSBuLmxlbmNvZGVbaCAmICgxIDw8IG4ubGVuYml0cykgLSAxXSwgZ2UgPSBqZSA+Pj4gMjQsIF9lID0gamUgPj4+IDE2ICYgMjU1LCB4ZSA9IDY1NTM1ICYgamUsICEodSA+PSBnZSk7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKF9lICYmIDAgPT09ICgyNDAgJiBfZSkpIHsKCQkJCQkJCQkJCWZvciAod2UgPSBnZSwgdmUgPSBfZSwgYmUgPSB4ZTsgamUgPSBuLmxlbmNvZGVbYmUgKyAoKGggJiAoMSA8PCB3ZSArIHZlKSAtIDEpID4+IHdlKV0sIGdlID0gamUgPj4+IDI0LCBfZSA9IGplID4+PiAxNiAmIDI1NSwgeGUgPSA2NTUzNSAmIGplLCAhKHUgPj0gd2UgKyBnZSk7KSB7CgkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCWggPj4+PSB3ZSwgdSAtPSB3ZSwgbi5iYWNrICs9IHdlCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKGggPj4+PSBnZSwgdSAtPSBnZSwgbi5iYWNrICs9IGdlLCBuLmxlbmd0aCA9IHhlLCAwID09PSBfZSkgewoJCQkJCQkJCQkJbi5tb2RlID0gbGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICgzMiAmIF9lKSB7CgkJCQkJCQkJCQluLmJhY2sgPSAtMSwgbi5tb2RlID0gWDsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKDY0ICYgX2UpIHsKCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQluLmV4dHJhID0gMTUgJiBfZSwgbi5tb2RlID0gYWU7CgkJCQkJCQkJY2FzZSBhZToKCQkJCQkJCQkJaWYgKG4uZXh0cmEpIHsKCQkJCQkJCQkJCWZvciAoQmUgPSBuLmV4dHJhOyBCZSA+IHU7KSB7CgkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCW4ubGVuZ3RoICs9IGggJiAoMSA8PCBuLmV4dHJhKSAtIDEsIGggPj4+PSBuLmV4dHJhLCB1IC09IG4uZXh0cmEsIG4uYmFjayArPSBuLmV4dHJhCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi53YXMgPSBuLmxlbmd0aCwgbi5tb2RlID0gb2U7CgkJCQkJCQkJY2FzZSBvZToKCQkJCQkJCQkJZm9yICg7IGplID0gbi5kaXN0Y29kZVtoICYgKDEgPDwgbi5kaXN0Yml0cykgLSAxXSwgZ2UgPSBqZSA+Pj4gMjQsIF9lID0gamUgPj4+IDE2ICYgMjU1LCB4ZSA9IDY1NTM1ICYgamUsICEodSA+PSBnZSk7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKDAgPT09ICgyNDAgJiBfZSkpIHsKCQkJCQkJCQkJCWZvciAod2UgPSBnZSwgdmUgPSBfZSwgYmUgPSB4ZTsgamUgPSBuLmRpc3Rjb2RlW2JlICsgKChoICYgKDEgPDwgd2UgKyB2ZSkgLSAxKSA+PiB3ZSldLCBnZSA9IGplID4+PiAyNCwgX2UgPSBqZSA+Pj4gMTYgJiAyNTUsIHhlID0gNjU1MzUgJiBqZSwgISh1ID49IHdlICsgZ2UpOykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQloID4+Pj0gd2UsIHUgLT0gd2UsIG4uYmFjayArPSB3ZQoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChoID4+Pj0gZ2UsIHUgLT0gZ2UsIG4uYmFjayArPSBnZSwgNjQgJiBfZSkgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBkaXN0YW5jZSBjb2RlIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4ub2Zmc2V0ID0geGUsIG4uZXh0cmEgPSAxNSAmIF9lLCBuLm1vZGUgPSByZTsKCQkJCQkJCQljYXNlIHJlOgoJCQkJCQkJCQlpZiAobi5leHRyYSkgewoJCQkJCQkJCQkJZm9yIChCZSA9IG4uZXh0cmE7IEJlID4gdTspIHsKCQkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJbi5vZmZzZXQgKz0gaCAmICgxIDw8IG4uZXh0cmEpIC0gMSwgaCA+Pj49IG4uZXh0cmEsIHUgLT0gbi5leHRyYSwgbi5iYWNrICs9IG4uZXh0cmEKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAobi5vZmZzZXQgPiBuLmRtYXgpIHsKCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4ubW9kZSA9IHNlOwoJCQkJCQkJCWNhc2Ugc2U6CgkJCQkJCQkJCWlmICgwID09PSBjKSBicmVhayBlOwoJCQkJCQkJCQlpZiAoZyA9IGYgLSBjLCBuLm9mZnNldCA+IGcpIHsKCQkJCQkJCQkJCWlmIChnID0gbi5vZmZzZXQgLSBnLCBnID4gbi53aGF2ZSAmJiBuLnNhbmUpIHsKCQkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlnID4gbi53bmV4dCA/IChnIC09IG4ud25leHQsIF8gPSBuLndzaXplIC0gZykgOiBfID0gbi53bmV4dCAtIGcsIGcgPiBuLmxlbmd0aCAmJiAoZyA9IG4ubGVuZ3RoKSwgZmUgPSBuLndpbmRvdwoJCQkJCQkJCQl9IGVsc2UgZmUgPSBvLCBfID0gcyAtIG4ub2Zmc2V0LCBnID0gbi5sZW5ndGg7CgkJCQkJCQkJCWcgPiBjICYmIChnID0gYyksIGMgLT0gZywgbi5sZW5ndGggLT0gZzsKCQkJCQkJCQkJZG8gb1tzKytdID0gZmVbXysrXTsgd2hpbGUgKC0tZyk7CgkJCQkJCQkJCTAgPT09IG4ubGVuZ3RoICYmIChuLm1vZGUgPSBpZSk7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgbGU6CgkJCQkJCQkJCWlmICgwID09PSBjKSBicmVhayBlOwoJCQkJCQkJCQlvW3MrK10gPSBuLmxlbmd0aCwgYy0tLCBuLm1vZGUgPSBpZTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSBjZToKCQkJCQkJCQkJaWYgKG4ud3JhcCkgewoJCQkJCQkJCQkJZm9yICg7IDMyID4gdTspIHsKCQkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCQlsLS0sIGggfD0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaWYgKGYgLT0gYywgZS50b3RhbF9vdXQgKz0gZiwgbi50b3RhbCArPSBmLCBmICYmIChlLmFkbGVyID0gbi5jaGVjayA9IG4uZmxhZ3MgPyB2KG4uY2hlY2ssIG8sIGYsIHMgLSBmKSA6IHcobi5jaGVjaywgbywgZiwgcyAtIGYpKSwgZiA9IGMsIChuLmZsYWdzID8gaCA6IGkoaCkpICE9PSBuLmNoZWNrKSB7CgkJCQkJCQkJCQkJZS5tc2cgPSAiaW5jb3JyZWN0IGRhdGEgY2hlY2siLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaCA9IDAsIHUgPSAwCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5tb2RlID0gZGU7CgkJCQkJCQkJY2FzZSBkZToKCQkJCQkJCQkJaWYgKG4ud3JhcCAmJiBuLmZsYWdzKSB7CgkJCQkJCQkJCQlmb3IgKDsgMzIgPiB1OykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpZiAoaCAhPT0gKDQyOTQ5NjcyOTUgJiBuLnRvdGFsKSkgewoJCQkJCQkJCQkJCWUubXNnID0gImluY29ycmVjdCBsZW5ndGggY2hlY2siLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaCA9IDAsIHUgPSAwCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5tb2RlID0gcGU7CgkJCQkJCQkJY2FzZSBwZToKCQkJCQkJCQkJa2UgPSBUOwoJCQkJCQkJCQlicmVhayBlOwoJCQkJCQkJCWNhc2UgaGU6CgkJCQkJCQkJCWtlID0gQTsKCQkJCQkJCQkJYnJlYWsgZTsKCQkJCQkJCQljYXNlIHVlOgoJCQkJCQkJCQlyZXR1cm4gcTsKCQkJCQkJCQljYXNlIG1lOgoJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCXJldHVybiBJCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gZS5uZXh0X291dCA9IHMsIGUuYXZhaWxfb3V0ID0gYywgZS5uZXh0X2luID0gciwgZS5hdmFpbF9pbiA9IGwsIG4uaG9sZCA9IGgsIG4uYml0cyA9IHUsIChuLndzaXplIHx8IGYgIT09IGUuYXZhaWxfb3V0ICYmIG4ubW9kZSA8IGhlICYmIChuLm1vZGUgPCBjZSB8fCB0ICE9PSBqKSkgJiYgcChlLCBlLm91dHB1dCwgZS5uZXh0X291dCwgZiAtIGUuYXZhaWxfb3V0KSA/IChuLm1vZGUgPSB1ZSwgcSkgOiAobSAtPSBlLmF2YWlsX2luLCBmIC09IGUuYXZhaWxfb3V0LCBlLnRvdGFsX2luICs9IG0sIGUudG90YWxfb3V0ICs9IGYsIG4udG90YWwgKz0gZiwgbi53cmFwICYmIGYgJiYgKGUuYWRsZXIgPSBuLmNoZWNrID0gbi5mbGFncyA/IHYobi5jaGVjaywgbywgZiwgZS5uZXh0X291dCAtIGYpIDogdyhuLmNoZWNrLCBvLCBmLCBlLm5leHRfb3V0IC0gZikpLCBlLmRhdGFfdHlwZSA9IG4uYml0cyArIChuLmxhc3QgPyA2NCA6IDApICsgKG4ubW9kZSA9PT0gWCA/IDEyOCA6IDApICsgKG4ubW9kZSA9PT0gbmUgfHwgbi5tb2RlID09PSBWID8gMjU2IDogMCksICgwID09PSBtICYmIDAgPT09IGYgfHwgdCA9PT0gaikgJiYga2UgPT09IE4gJiYgKGtlID0gRSksIGtlKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB1KGUpIHsKCQkJCQkJCWlmICghZSB8fCAhZS5zdGF0ZSkgcmV0dXJuIEk7CgkJCQkJCQl2YXIgdCA9IGUuc3RhdGU7CgkJCQkJCQlyZXR1cm4gdC53aW5kb3cgJiYgKHQud2luZG93ID0gbnVsbCksIGUuc3RhdGUgPSBudWxsLCBOCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG0oZSwgdCkgewoJCQkJCQkJdmFyIG47CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gKG4gPSBlLnN0YXRlLCAwID09PSAoMiAmIG4ud3JhcCkgPyBJIDogKG4uaGVhZCA9IHQsIHQuZG9uZSA9ICExLCBOKSkgOiBJCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGYoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8gPSB0Lmxlbmd0aDsKCQkJCQkJCXJldHVybiBlICYmIGUuc3RhdGUgPyAobiA9IGUuc3RhdGUsIDAgIT09IG4ud3JhcCAmJiBuLm1vZGUgIT09IEcgPyBJIDogbi5tb2RlID09PSBHICYmIChpID0gMSwgaSA9IHcoaSwgdCwgbywgMCksIGkgIT09IG4uY2hlY2spID8gQSA6IChhID0gcChlLCB0LCBvLCBvKSkgPyAobi5tb2RlID0gdWUsIHEpIDogKG4uaGF2ZWRpY3QgPSAxLCBOKSkgOiBJCgkJCQkJCX0KCQkJCQkJdmFyIGcsIF8sIHggPSBlKCIuLi91dGlscy9jb21tb24iKSwKCQkJCQkJCXcgPSBlKCIuL2FkbGVyMzIiKSwKCQkJCQkJCXYgPSBlKCIuL2NyYzMyIiksCgkJCQkJCQliID0gZSgiLi9pbmZmYXN0IiksCgkJCQkJCQl5ID0gZSgiLi9pbmZ0cmVlcyIpLAoJCQkJCQkJayA9IDAsCgkJCQkJCQl6ID0gMSwKCQkJCQkJCUIgPSAyLAoJCQkJCQkJaiA9IDQsCgkJCQkJCQlDID0gNSwKCQkJCQkJCVMgPSA2LAoJCQkJCQkJTiA9IDAsCgkJCQkJCQlUID0gMSwKCQkJCQkJCVAgPSAyLAoJCQkJCQkJSSA9IC0yLAoJCQkJCQkJQSA9IC0zLAoJCQkJCQkJcSA9IC00LAoJCQkJCQkJRSA9IC01LAoJCQkJCQkJTyA9IDgsCgkJCQkJCQlMID0gMSwKCQkJCQkJCUQgPSAyLAoJCQkJCQkJTSA9IDMsCgkJCQkJCQlSID0gNCwKCQkJCQkJCUYgPSA1LAoJCQkJCQkJJCA9IDYsCgkJCQkJCQlXID0gNywKCQkJCQkJCUggPSA4LAoJCQkJCQkJVSA9IDksCgkJCQkJCQlZID0gMTAsCgkJCQkJCQlHID0gMTEsCgkJCQkJCQlYID0gMTIsCgkJCQkJCQlKID0gMTMsCgkJCQkJCQlaID0gMTQsCgkJCQkJCQlWID0gMTUsCgkJCQkJCQlLID0gMTYsCgkJCQkJCQlRID0gMTcsCgkJCQkJCQllZSA9IDE4LAoJCQkJCQkJdGUgPSAxOSwKCQkJCQkJCW5lID0gMjAsCgkJCQkJCQlpZSA9IDIxLAoJCQkJCQkJYWUgPSAyMiwKCQkJCQkJCW9lID0gMjMsCgkJCQkJCQlyZSA9IDI0LAoJCQkJCQkJc2UgPSAyNSwKCQkJCQkJCWxlID0gMjYsCgkJCQkJCQljZSA9IDI3LAoJCQkJCQkJZGUgPSAyOCwKCQkJCQkJCXBlID0gMjksCgkJCQkJCQloZSA9IDMwLAoJCQkJCQkJdWUgPSAzMSwKCQkJCQkJCW1lID0gMzIsCgkJCQkJCQlmZSA9IDg1MiwKCQkJCQkJCWdlID0gNTkyLAoJCQkJCQkJX2UgPSAxNSwKCQkJCQkJCXhlID0gX2UsCgkJCQkJCQl3ZSA9ICEwOwoJCQkJCQluLmluZmxhdGVSZXNldCA9IHIsIG4uaW5mbGF0ZVJlc2V0MiA9IHMsIG4uaW5mbGF0ZVJlc2V0S2VlcCA9IG8sIG4uaW5mbGF0ZUluaXQgPSBjLCBuLmluZmxhdGVJbml0MiA9IGwsIG4uaW5mbGF0ZSA9IGgsIG4uaW5mbGF0ZUVuZCA9IHUsIG4uaW5mbGF0ZUdldEhlYWRlciA9IG0sIG4uaW5mbGF0ZVNldERpY3Rpb25hcnkgPSBmLCBuLmluZmxhdGVJbmZvID0gInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCkiCgkJCQkJfSwgewoJCQkJCQkiLi4vdXRpbHMvY29tbW9uIjogMywKCQkJCQkJIi4vYWRsZXIzMiI6IDUsCgkJCQkJCSIuL2NyYzMyIjogNywKCQkJCQkJIi4vaW5mZmFzdCI6IDEwLAoJCQkJCQkiLi9pbmZ0cmVlcyI6IDEyCgkJCQkJfQoJCQkJXSwKCQkJCTEyOiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCXZhciBpID0gZSgiLi4vdXRpbHMvY29tbW9uIiksCgkJCQkJCQlhID0gMTUsCgkJCQkJCQlvID0gODUyLAoJCQkJCQkJciA9IDU5MiwKCQkJCQkJCXMgPSAwLAoJCQkJCQkJbCA9IDEsCgkJCQkJCQljID0gMiwKCQkJCQkJCWQgPSBbMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMywgMTUsIDE3LCAxOSwgMjMsIDI3LCAzMSwgMzUsIDQzLCA1MSwgNTksIDY3LCA4MywgOTksIDExNSwgMTMxLCAxNjMsIDE5NSwgMjI3LCAyNTgsIDAsIDBdLAoJCQkJCQkJcCA9IFsxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTcsIDE3LCAxOCwgMTgsIDE4LCAxOCwgMTksIDE5LCAxOSwgMTksIDIwLCAyMCwgMjAsIDIwLCAyMSwgMjEsIDIxLCAyMSwgMTYsIDcyLCA3OF0sCgkJCQkJCQloID0gWzEsIDIsIDMsIDQsIDUsIDcsIDksIDEzLCAxNywgMjUsIDMzLCA0OSwgNjUsIDk3LCAxMjksIDE5MywgMjU3LCAzODUsIDUxMywgNzY5LCAxMDI1LCAxNTM3LCAyMDQ5LCAzMDczLCA0MDk3LCA2MTQ1LCA4MTkzLCAxMjI4OSwgMTYzODUsIDI0NTc3LCAwLCAwXSwKCQkJCQkJCXUgPSBbMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTgsIDE4LCAxOSwgMTksIDIwLCAyMCwgMjEsIDIxLCAyMiwgMjIsIDIzLCAyMywgMjQsIDI0LCAyNSwgMjUsIDI2LCAyNiwgMjcsIDI3LCAyOCwgMjgsIDI5LCAyOSwgNjQsIDY0XTsKCQkJCQkJdC5leHBvcnRzID0gZnVuY3Rpb24oZSwgdCwgbiwgbSwgZiwgZywgXywgeCkgewoJCQkJCQkJdmFyIHcsIHYsIGIsIHksIGssIHosIEIsIGosIEMsIFMgPSB4LmJpdHMsCgkJCQkJCQkJTiA9IDAsCgkJCQkJCQkJVCA9IDAsCgkJCQkJCQkJUCA9IDAsCgkJCQkJCQkJSSA9IDAsCgkJCQkJCQkJQSA9IDAsCgkJCQkJCQkJcSA9IDAsCgkJCQkJCQkJRSA9IDAsCgkJCQkJCQkJTyA9IDAsCgkJCQkJCQkJTCA9IDAsCgkJCQkJCQkJRCA9IDAsCgkJCQkJCQkJTSA9IG51bGwsCgkJCQkJCQkJUiA9IDAsCgkJCQkJCQkJRiA9IG5ldyBpLkJ1ZjE2KGEgKyAxKSwKCQkJCQkJCQkkID0gbmV3IGkuQnVmMTYoYSArIDEpLAoJCQkJCQkJCVcgPSBudWxsLAoJCQkJCQkJCUggPSAwOwoJCQkJCQkJZm9yIChOID0gMDsgYSA+PSBOOyBOKyspIEZbTl0gPSAwOwoJCQkJCQkJZm9yIChUID0gMDsgbSA+IFQ7IFQrKykgRlt0W24gKyBUXV0gKys7CgkJCQkJCQlmb3IgKEEgPSBTLCBJID0gYTsgSSA+PSAxICYmIDAgPT09IEZbSV07IEktLSk7CgkJCQkJCQlpZiAoQSA+IEkgJiYgKEEgPSBJKSwgMCA9PT0gSSkgcmV0dXJuIGZbZysrXSA9IDIwOTcxNTIwLCBmW2crK10gPSAyMDk3MTUyMCwgeC5iaXRzID0gMSwgMDsKCQkJCQkJCWZvciAoUCA9IDE7IEkgPiBQICYmIDAgPT09IEZbUF07IFArKyk7CgkJCQkJCQlmb3IgKFAgPiBBICYmIChBID0gUCksIE8gPSAxLCBOID0gMTsgYSA+PSBOOyBOKyspCgkJCQkJCQkJaWYgKE8gPDw9IDEsIE8gLT0gRltOXSwgMCA+IE8pIHJldHVybiAtMTsKCQkJCQkJCWlmIChPID4gMCAmJiAoZSA9PT0gcyB8fCAxICE9PSBJKSkgcmV0dXJuIC0xOwoJCQkJCQkJZm9yICgkWzFdID0gMCwgTiA9IDE7IGEgPiBOOyBOKyspICRbTiArIDFdID0gJFtOXSArIEZbTl07CgkJCQkJCQlmb3IgKFQgPSAwOyBtID4gVDsgVCsrKSAwICE9PSB0W24gKyBUXSAmJiAoX1skW3RbbiArIFRdXSArK10gPSBUKTsKCQkJCQkJCWlmIChlID09PSBzID8gKE0gPSBXID0gXywgeiA9IDE5KSA6IGUgPT09IGwgPyAoTSA9IGQsIFIgLT0gMjU3LCBXID0gcCwgSCAtPSAyNTcsIHogPSAyNTYpIDogKE0gPSBoLCBXID0gdSwgeiA9IC0xKSwgRCA9IDAsIFQgPSAwLCBOID0gUCwgayA9IGcsIHEgPSBBLCBFID0gMCwgYiA9IC0xLCBMID0gMSA8PCBBLCB5ID0gTCAtIDEsIGUgPT09IGwgJiYgTCA+IG8gfHwgZSA9PT0gYyAmJiBMID4gcikgcmV0dXJuIDE7CgkJCQkJCQlmb3IgKHZhciBVID0gMDs7KSB7CgkJCQkJCQkJVSsrLCBCID0gTiAtIEUsIF9bVF0gPCB6ID8gKGogPSAwLCBDID0gX1tUXSkgOiBfW1RdID4geiA/IChqID0gV1tIICsgX1tUXV0sIEMgPSBNW1IgKyBfW1RdXSkgOiAoaiA9IDk2LCBDID0gMCksIHcgPSAxIDw8IE4gLSBFLCB2ID0gMSA8PCBxLCBQID0gdjsKCQkJCQkJCQlkbyB2IC09IHcsIGZbayArIChEID4+IEUpICsgdl0gPSBCIDw8IDI0IHwgaiA8PCAxNiB8IEMgfCAwOyB3aGlsZSAoMCAhPT0gdik7CgkJCQkJCQkJZm9yICh3ID0gMSA8PCBOIC0gMTsgRCAmIHc7KSB3ID4+PSAxOwoJCQkJCQkJCWlmICgwICE9PSB3ID8gKEQgJj0gdyAtIDEsIEQgKz0gdykgOiBEID0gMCwgVCsrLCAwID09PSAtLUZbTl0pIHsKCQkJCQkJCQkJaWYgKE4gPT09IEkpIGJyZWFrOwoJCQkJCQkJCQlOID0gdFtuICsgX1tUXV0KCQkJCQkJCQl9CgkJCQkJCQkJaWYgKE4gPiBBICYmIChEICYgeSkgIT09IGIpIHsKCQkJCQkJCQkJZm9yICgwID09PSBFICYmIChFID0gQSksIGsgKz0gUCwgcSA9IE4gLSBFLCBPID0gMSA8PCBxOyBJID4gcSArIEUgJiYgKE8gLT0gRltxICsgRV0sICEoMCA+PSBPKSk7KSBxKyssIE8gPDw9IDE7CgkJCQkJCQkJCWlmIChMICs9IDEgPDwgcSwgZSA9PT0gbCAmJiBMID4gbyB8fCBlID09PSBjICYmIEwgPiByKSByZXR1cm4gMTsKCQkJCQkJCQkJYiA9IEQgJiB5LCBmW2JdID0gQSA8PCAyNCB8IHEgPDwgMTYgfCBrIC0gZyB8IDAKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gMCAhPT0gRCAmJiAoZltrICsgRF0gPSBOIC0gRSA8PCAyNCB8IDY0IDw8IDE2IHwgMCksIHguYml0cyA9IEEsIDAKCQkJCQkJfQoJCQkJCX0sIHsKCQkJCQkJIi4uL3V0aWxzL2NvbW1vbiI6IDMKCQkJCQl9CgkJCQldLAoJCQkJMTM6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCQkJCQkJdC5leHBvcnRzID0gewoJCQkJCQkJMjogIm5lZWQgZGljdGlvbmFyeSIsCgkJCQkJCQkxOiAic3RyZWFtIGVuZCIsCgkJCQkJCQkwOiAiIiwKCQkJCQkJCSItMSI6ICJmaWxlIGVycm9yIiwKCQkJCQkJCSItMiI6ICJzdHJlYW0gZXJyb3IiLAoJCQkJCQkJIi0zIjogImRhdGEgZXJyb3IiLAoJCQkJCQkJIi00IjogImluc3VmZmljaWVudCBtZW1vcnkiLAoJCQkJCQkJIi01IjogImJ1ZmZlciBlcnJvciIsCgkJCQkJCQkiLTYiOiAiaW5jb21wYXRpYmxlIHZlcnNpb24iCgkJCQkJCX0KCQkJCQl9LCB7fQoJCQkJXSwKCQkJCTE0OiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgoJCQkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aDsgLS10ID49IDA7KSBlW3RdID0gMAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBhKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXRoaXMuc3RhdGljX3RyZWUgPSBlLCB0aGlzLmV4dHJhX2JpdHMgPSB0LCB0aGlzLmV4dHJhX2Jhc2UgPSBuLCB0aGlzLmVsZW1zID0gaSwgdGhpcy5tYXhfbGVuZ3RoID0gYSwgdGhpcy5oYXNfc3RyZWUgPSBlICYmIGUubGVuZ3RoCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG8oZSwgdCkgewoJCQkJCQkJdGhpcy5keW5fdHJlZSA9IGUsIHRoaXMubWF4X2NvZGUgPSAwLCB0aGlzLnN0YXRfZGVzYyA9IHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcihlKSB7CgkJCQkJCQlyZXR1cm4gMjU2ID4gZSA/IGxlW2VdIDogbGVbMjU2ICsgKGUgPj4+IDcpXQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBzKGUsIHQpIHsKCQkJCQkJCWUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdID0gMjU1ICYgdCwgZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK10gPSB0ID4+PiA4ICYgMjU1CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGwoZSwgdCwgbikgewoJCQkJCQkJZS5iaV92YWxpZCA+IEogLSBuID8gKGUuYmlfYnVmIHw9IHQgPDwgZS5iaV92YWxpZCAmIDY1NTM1LCBzKGUsIGUuYmlfYnVmKSwgZS5iaV9idWYgPSB0ID4+IEogLSBlLmJpX3ZhbGlkLCBlLmJpX3ZhbGlkICs9IG4gLSBKKSA6IChlLmJpX2J1ZiB8PSB0IDw8IGUuYmlfdmFsaWQgJiA2NTUzNSwgZS5iaV92YWxpZCArPSBuKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBjKGUsIHQsIG4pIHsKCQkJCQkJCWwoZSwgblsyICogdF0sIG5bMiAqIHQgKyAxXSkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gZChlLCB0KSB7CgkJCQkJCQl2YXIgbiA9IDA7CgkJCQkJCQlkbyBuIHw9IDEgJiBlLCBlID4+Pj0gMSwgbiA8PD0gMTsgd2hpbGUgKC0tdCA+IDApOwoJCQkJCQkJcmV0dXJuIG4gPj4+IDEKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcChlKSB7CgkJCQkJCQkxNiA9PT0gZS5iaV92YWxpZCA/IChzKGUsIGUuYmlfYnVmKSwgZS5iaV9idWYgPSAwLCBlLmJpX3ZhbGlkID0gMCkgOiBlLmJpX3ZhbGlkID49IDggJiYgKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdID0gMjU1ICYgZS5iaV9idWYsIGUuYmlfYnVmID4+PSA4LCBlLmJpX3ZhbGlkIC09IDgpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGgoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0LmR5bl90cmVlLAoJCQkJCQkJCWMgPSB0Lm1heF9jb2RlLAoJCQkJCQkJCWQgPSB0LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSwKCQkJCQkJCQlwID0gdC5zdGF0X2Rlc2MuaGFzX3N0cmVlLAoJCQkJCQkJCWggPSB0LnN0YXRfZGVzYy5leHRyYV9iaXRzLAoJCQkJCQkJCXUgPSB0LnN0YXRfZGVzYy5leHRyYV9iYXNlLAoJCQkJCQkJCW0gPSB0LnN0YXRfZGVzYy5tYXhfbGVuZ3RoLAoJCQkJCQkJCWYgPSAwOwoJCQkJCQkJZm9yIChvID0gMDsgWCA+PSBvOyBvKyspIGUuYmxfY291bnRbb10gPSAwOwoJCQkJCQkJZm9yIChsWzIgKiBlLmhlYXBbZS5oZWFwX21heF0gKyAxXSA9IDAsIG4gPSBlLmhlYXBfbWF4ICsgMTsgRyA+IG47IG4rKykgaSA9IGUuaGVhcFtuXSwgbyA9IGxbMiAqIGxbMiAqIGkgKyAxXSArIDFdICsgMSwgbyA+IG0gJiYgKG8gPSBtLCBmKyspLCBsWzIgKiBpICsgMV0gPSBvLCBpID4gYyB8fCAoZS5ibF9jb3VudFtvXSArKywgciA9IDAsIGkgPj0gdSAmJiAociA9IGhbaSAtIHVdKSwgcyA9IGxbMiAqIGldLCBlLm9wdF9sZW4gKz0gcyAqIChvICsgciksIHAgJiYgKGUuc3RhdGljX2xlbiArPSBzICogKGRbMiAqIGkgKyAxXSArIHIpKSk7CgkJCQkJCQlpZiAoMCAhPT0gZikgewoJCQkJCQkJCWRvIHsKCQkJCQkJCQkJZm9yIChvID0gbSAtIDE7IDAgPT09IGUuYmxfY291bnRbb107KSBvLS07CgkJCQkJCQkJCWUuYmxfY291bnRbb10gLS0sIGUuYmxfY291bnRbbyArIDFdICs9IDIsIGUuYmxfY291bnRbbV0gLS0sIGYgLT0gMgoJCQkJCQkJCX0gd2hpbGUgKGYgPiAwKTsKCQkJCQkJCQlmb3IgKG8gPSBtOyAwICE9PSBvOyBvLS0pCgkJCQkJCQkJCWZvciAoaSA9IGUuYmxfY291bnRbb107IDAgIT09IGk7KSBhID0gZS5oZWFwWy0tbl0sIGEgPiBjIHx8IChsWzIgKiBhICsgMV0gIT09IG8gJiYgKGUub3B0X2xlbiArPSAobyAtIGxbMiAqIGEgKyAxXSkgKiBsWzIgKiBhXSwgbFsyICogYSArIDFdID0gbyksIGktLSkKCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gdShlLCB0LCBuKSB7CgkJCQkJCQl2YXIgaSwgYSwgbyA9IG5ldyBBcnJheShYICsgMSksCgkJCQkJCQkJciA9IDA7CgkJCQkJCQlmb3IgKGkgPSAxOyBYID49IGk7IGkrKykgb1tpXSA9IHIgPSByICsgbltpIC0gMV0gPDwgMTsKCQkJCQkJCWZvciAoYSA9IDA7IHQgPj0gYTsgYSsrKSB7CgkJCQkJCQkJdmFyIHMgPSBlWzIgKiBhICsgMV07CgkJCQkJCQkJMCAhPT0gcyAmJiAoZVsyICogYV0gPSBkKG9bc10gKyssIHMpKQoJCQkJCQkJfQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBtKCkgewoJCQkJCQkJdmFyIGUsIHQsIG4sIGksIG8sIHIgPSBuZXcgQXJyYXkoWCArIDEpOwoJCQkJCQkJZm9yIChuID0gMCwgaSA9IDA7ICQgLSAxID4gaTsgaSsrKQoJCQkJCQkJCWZvciAoZGVbaV0gPSBuLCBlID0gMDsgZSA8IDEgPDwgdGVbaV07IGUrKykgY2VbbisrXSA9IGk7CgkJCQkJCQlmb3IgKGNlW24gLSAxXSA9IGksIG8gPSAwLCBpID0gMDsgMTYgPiBpOyBpKyspCgkJCQkJCQkJZm9yIChwZVtpXSA9IG8sIGUgPSAwOyBlIDwgMSA8PCBuZVtpXTsgZSsrKSBsZVtvKytdID0gaTsKCQkJCQkJCWZvciAobyA+Pj0gNzsgVSA+IGk7IGkrKykKCQkJCQkJCQlmb3IgKHBlW2ldID0gbyA8PCA3LCBlID0gMDsgZSA8IDEgPDwgbmVbaV0gLSA3OyBlKyspIGxlWzI1NiArIG8rK10gPSBpOwoJCQkJCQkJZm9yICh0ID0gMDsgWCA+PSB0OyB0KyspIHJbdF0gPSAwOwoJCQkJCQkJZm9yIChlID0gMDsgMTQzID49IGU7KSByZVsyICogZSArIDFdID0gOCwgZSsrLCByWzhdICsrOwoJCQkJCQkJZm9yICg7IDI1NSA+PSBlOykgcmVbMiAqIGUgKyAxXSA9IDksIGUrKywgcls5XSArKzsKCQkJCQkJCWZvciAoOyAyNzkgPj0gZTspIHJlWzIgKiBlICsgMV0gPSA3LCBlKyssIHJbN10gKys7CgkJCQkJCQlmb3IgKDsgMjg3ID49IGU7KSByZVsyICogZSArIDFdID0gOCwgZSsrLCByWzhdICsrOwoJCQkJCQkJZm9yICh1KHJlLCBIICsgMSwgciksIGUgPSAwOyBVID4gZTsgZSsrKSBzZVsyICogZSArIDFdID0gNSwgc2VbMiAqIGVdID0gZChlLCA1KTsKCQkJCQkJCWhlID0gbmV3IGEocmUsIHRlLCBXICsgMSwgSCwgWCksIHVlID0gbmV3IGEoc2UsIG5lLCAwLCBVLCBYKSwgbWUgPSBuZXcgYShuZXcgQXJyYXkoMCksIGllLCAwLCBZLCBaKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBmKGUpIHsKCQkJCQkJCXZhciB0OwoJCQkJCQkJZm9yICh0ID0gMDsgSCA+IHQ7IHQrKykgZS5keW5fbHRyZWVbMiAqIHRdID0gMDsKCQkJCQkJCWZvciAodCA9IDA7IFUgPiB0OyB0KyspIGUuZHluX2R0cmVlWzIgKiB0XSA9IDA7CgkJCQkJCQlmb3IgKHQgPSAwOyBZID4gdDsgdCsrKSBlLmJsX3RyZWVbMiAqIHRdID0gMDsKCQkJCQkJCWUuZHluX2x0cmVlWzIgKiBWXSA9IDEsIGUub3B0X2xlbiA9IGUuc3RhdGljX2xlbiA9IDAsIGUubGFzdF9saXQgPSBlLm1hdGNoZXMgPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGcoZSkgewoJCQkJCQkJZS5iaV92YWxpZCA+IDggPyBzKGUsIGUuYmlfYnVmKSA6IGUuYmlfdmFsaWQgPiAwICYmIChlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXSA9IGUuYmlfYnVmKSwgZS5iaV9idWYgPSAwLCBlLmJpX3ZhbGlkID0gMAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBfKGUsIHQsIG4sIGkpIHsKCQkJCQkJCWcoZSksIGkgJiYgKHMoZSwgbiksIHMoZSwgfm4pKSwgSS5hcnJheVNldChlLnBlbmRpbmdfYnVmLCBlLndpbmRvdywgdCwgbiwgZS5wZW5kaW5nKSwgZS5wZW5kaW5nICs9IG4KCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24geChlLCB0LCBuLCBpKSB7CgkJCQkJCQl2YXIgYSA9IDIgKiB0LAoJCQkJCQkJCW8gPSAyICogbjsKCQkJCQkJCXJldHVybiBlW2FdIDwgZVtvXSB8fCBlW2FdID09PSBlW29dICYmIGlbdF0gPD0gaVtuXQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB3KGUsIHQsIG4pIHsKCQkJCQkJCWZvciAodmFyIGkgPSBlLmhlYXBbbl0sIGEgPSBuIDw8IDE7IGEgPD0gZS5oZWFwX2xlbiAmJiAoYSA8IGUuaGVhcF9sZW4gJiYgeCh0LCBlLmhlYXBbYSArIDFdLCBlLmhlYXBbYV0sIGUuZGVwdGgpICYmIGErKywgIXgodCwgaSwgZS5oZWFwW2FdLCBlLmRlcHRoKSk7KSBlLmhlYXBbbl0gPSBlLmhlYXBbYV0sIG4gPSBhLCBhIDw8PSAxOwoJCQkJCQkJZS5oZWFwW25dID0gaQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB2KGUsIHQsIG4pIHsKCQkJCQkJCXZhciBpLCBhLCBvLCBzLCBkID0gMDsKCQkJCQkJCWlmICgwICE9PSBlLmxhc3RfbGl0KQoJCQkJCQkJCWRvIGkgPSBlLnBlbmRpbmdfYnVmW2UuZF9idWYgKyAyICogZF0gPDwgOCB8IGUucGVuZGluZ19idWZbZS5kX2J1ZiArIDIgKiBkICsgMV0sIGEgPSBlLnBlbmRpbmdfYnVmW2UubF9idWYgKyBkXSwgZCsrLCAwID09PSBpID8gYyhlLCBhLCB0KSA6IChvID0gY2VbYV0sIGMoZSwgbyArIFcgKyAxLCB0KSwgcyA9IHRlW29dLCAwICE9PSBzICYmIChhIC09IGRlW29dLCBsKGUsIGEsIHMpKSwgaS0tLCBvID0gcihpKSwgYyhlLCBvLCBuKSwgcyA9IG5lW29dLCAwICE9PSBzICYmIChpIC09IHBlW29dLCBsKGUsIGksIHMpKSk7IHdoaWxlIChkIDwgZS5sYXN0X2xpdCk7CgkJCQkJCQljKGUsIFYsIHQpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGIoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8gPSB0LmR5bl90cmVlLAoJCQkJCQkJCXIgPSB0LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSwKCQkJCQkJCQlzID0gdC5zdGF0X2Rlc2MuaGFzX3N0cmVlLAoJCQkJCQkJCWwgPSB0LnN0YXRfZGVzYy5lbGVtcywKCQkJCQkJCQljID0gLTE7CgkJCQkJCQlmb3IgKGUuaGVhcF9sZW4gPSAwLCBlLmhlYXBfbWF4ID0gRywgbiA9IDA7IGwgPiBuOyBuKyspIDAgIT09IG9bMiAqIG5dID8gKGUuaGVhcFsrK2UuaGVhcF9sZW5dID0gYyA9IG4sIGUuZGVwdGhbbl0gPSAwKSA6IG9bMiAqIG4gKyAxXSA9IDA7CgkJCQkJCQlmb3IgKDsgZS5oZWFwX2xlbiA8IDI7KSBhID0gZS5oZWFwWysrZS5oZWFwX2xlbl0gPSAyID4gYyA/ICsrYyA6IDAsIG9bMiAqIGFdID0gMSwgZS5kZXB0aFthXSA9IDAsIGUub3B0X2xlbi0tLCBzICYmIChlLnN0YXRpY19sZW4gLT0gclsyICogYSArIDFdKTsKCQkJCQkJCWZvciAodC5tYXhfY29kZSA9IGMsIG4gPSBlLmhlYXBfbGVuID4+IDE7IG4gPj0gMTsgbi0tKSB3KGUsIG8sIG4pOwoJCQkJCQkJYSA9IGw7CgkJCQkJCQlkbyBuID0gZS5oZWFwWzFdLCBlLmhlYXBbMV0gPSBlLmhlYXBbZS5oZWFwX2xlbi0tXSwgdyhlLCBvLCAxKSwgaSA9IGUuaGVhcFsxXSwgZS5oZWFwWy0tZS5oZWFwX21heF0gPSBuLCBlLmhlYXBbLS1lLmhlYXBfbWF4XSA9IGksIG9bMiAqIGFdID0gb1syICogbl0gKyBvWzIgKiBpXSwgZS5kZXB0aFthXSA9IChlLmRlcHRoW25dID49IGUuZGVwdGhbaV0gPyBlLmRlcHRoW25dIDogZS5kZXB0aFtpXSkgKyAxLCBvWzIgKiBuICsgMV0gPSBvWzIgKiBpICsgMV0gPSBhLCBlLmhlYXBbMV0gPSBhKyssIHcoZSwgbywgMSk7IHdoaWxlIChlLmhlYXBfbGVuID49IDIpOwoJCQkJCQkJZS5oZWFwWy0tZS5oZWFwX21heF0gPSBlLmhlYXBbMV0sIGgoZSwgdCksIHUobywgYywgZS5ibF9jb3VudCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24geShlLCB0LCBuKSB7CgkJCQkJCQl2YXIgaSwgYSwgbyA9IC0xLAoJCQkJCQkJCXIgPSB0WzFdLAoJCQkJCQkJCXMgPSAwLAoJCQkJCQkJCWwgPSA3LAoJCQkJCQkJCWMgPSA0OwoJCQkJCQkJZm9yICgwID09PSByICYmIChsID0gMTM4LCBjID0gMyksIHRbMiAqIChuICsgMSkgKyAxXSA9IDY1NTM1LCBpID0gMDsgbiA+PSBpOyBpKyspIGEgPSByLCByID0gdFsyICogKGkgKyAxKSArIDFdLCArK3MgPCBsICYmIGEgPT09IHIgfHwgKGMgPiBzID8gZS5ibF90cmVlWzIgKiBhXSArPSBzIDogMCAhPT0gYSA/IChhICE9PSBvICYmIGUuYmxfdHJlZVsyICogYV0gKyssIGUuYmxfdHJlZVsyICogS10gKyspIDogMTAgPj0gcyA/IGUuYmxfdHJlZVsyICogUV0gKysgOiBlLmJsX3RyZWVbMiAqIGVlXSArKywgcyA9IDAsIG8gPSBhLCAwID09PSByID8gKGwgPSAxMzgsIGMgPSAzKSA6IGEgPT09IHIgPyAobCA9IDYsIGMgPSAzKSA6IChsID0gNywgYyA9IDQpKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBrKGUsIHQsIG4pIHsKCQkJCQkJCXZhciBpLCBhLCBvID0gLTEsCgkJCQkJCQkJciA9IHRbMV0sCgkJCQkJCQkJcyA9IDAsCgkJCQkJCQkJZCA9IDcsCgkJCQkJCQkJcCA9IDQ7CgkJCQkJCQlmb3IgKDAgPT09IHIgJiYgKGQgPSAxMzgsIHAgPSAzKSwgaSA9IDA7IG4gPj0gaTsgaSsrKQoJCQkJCQkJCWlmIChhID0gciwgciA9IHRbMiAqIChpICsgMSkgKyAxXSwgISgrK3MgPCBkICYmIGEgPT09IHIpKSB7CgkJCQkJCQkJCWlmIChwID4gcykgewoJCQkJCQkJCQkJZG8gYyhlLCBhLCBlLmJsX3RyZWUpOyB3aGlsZSAoMCAhPT0gLS1zKQoJCQkJCQkJCQl9IGVsc2UgMCAhPT0gYSA/IChhICE9PSBvICYmIChjKGUsIGEsIGUuYmxfdHJlZSksIHMtLSksIGMoZSwgSywgZS5ibF90cmVlKSwgbChlLCBzIC0gMywgMikpIDogMTAgPj0gcyA/IChjKGUsIFEsIGUuYmxfdHJlZSksIGwoZSwgcyAtIDMsIDMpKSA6IChjKGUsIGVlLCBlLmJsX3RyZWUpLCBsKGUsIHMgLSAxMSwgNykpOwoJCQkJCQkJCQlzID0gMCwgbyA9IGEsIDAgPT09IHIgPyAoZCA9IDEzOCwgcCA9IDMpIDogYSA9PT0gciA/IChkID0gNiwgcCA9IDMpIDogKGQgPSA3LCBwID0gNCkKCQkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHooZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlmb3IgKHkoZSwgZS5keW5fbHRyZWUsIGUubF9kZXNjLm1heF9jb2RlKSwgeShlLCBlLmR5bl9kdHJlZSwgZS5kX2Rlc2MubWF4X2NvZGUpLCBiKGUsIGUuYmxfZGVzYyksIHQgPSBZIC0gMTsgdCA+PSAzICYmIDAgPT09IGUuYmxfdHJlZVsyICogYWVbdF0gKyAxXTsgdC0tKTsKCQkJCQkJCXJldHVybiBlLm9wdF9sZW4gKz0gMyAqICh0ICsgMSkgKyA1ICsgNSArIDQsIHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQihlLCB0LCBuLCBpKSB7CgkJCQkJCQl2YXIgYTsKCQkJCQkJCWZvciAobChlLCB0IC0gMjU3LCA1KSwgbChlLCBuIC0gMSwgNSksIGwoZSwgaSAtIDQsIDQpLCBhID0gMDsgaSA+IGE7IGErKykgbChlLCBlLmJsX3RyZWVbMiAqIGFlW2FdICsgMV0sIDMpOwoJCQkJCQkJayhlLCBlLmR5bl9sdHJlZSwgdCAtIDEpLCBrKGUsIGUuZHluX2R0cmVlLCBuIC0gMSkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gaihlKSB7CgkJCQkJCQl2YXIgdCwgbiA9IDQwOTM2MjQ0NDc7CgkJCQkJCQlmb3IgKHQgPSAwOyAzMSA+PSB0OyB0KyssIG4gPj4+PSAxKQoJCQkJCQkJCWlmICgxICYgbiAmJiAwICE9PSBlLmR5bl9sdHJlZVsyICogdF0pIHJldHVybiBxOwoJCQkJCQkJaWYgKDAgIT09IGUuZHluX2x0cmVlWzE4XSB8fCAwICE9PSBlLmR5bl9sdHJlZVsyMF0gfHwgMCAhPT0gZS5keW5fbHRyZWVbMjZdKSByZXR1cm4gRTsKCQkJCQkJCWZvciAodCA9IDMyOyBXID4gdDsgdCsrKQoJCQkJCQkJCWlmICgwICE9PSBlLmR5bl9sdHJlZVsyICogdF0pIHJldHVybiBFOwoJCQkJCQkJcmV0dXJuIHEKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQyhlKSB7CgkJCQkJCQlmZSB8fCAobSgpLCBmZSA9ICEwKSwgZS5sX2Rlc2MgPSBuZXcgbyhlLmR5bl9sdHJlZSwgaGUpLCBlLmRfZGVzYyA9IG5ldyBvKGUuZHluX2R0cmVlLCB1ZSksIGUuYmxfZGVzYyA9IG5ldyBvKGUuYmxfdHJlZSwgbWUpLCBlLmJpX2J1ZiA9IDAsIGUuYmlfdmFsaWQgPSAwLCBmKGUpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIFMoZSwgdCwgbiwgaSkgewoJCQkJCQkJbChlLCAoTCA8PCAxKSArIChpID8gMSA6IDApLCAzKSwgXyhlLCB0LCBuLCAhMCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gTihlKSB7CgkJCQkJCQlsKGUsIEQgPDwgMSwgMyksIGMoZSwgViwgcmUpLCBwKGUpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIFQoZSwgdCwgbiwgaSkgewoJCQkJCQkJdmFyIGEsIG8sIHIgPSAwOwoJCQkJCQkJZS5sZXZlbCA+IDAgPyAoZS5zdHJtLmRhdGFfdHlwZSA9PT0gTyAmJiAoZS5zdHJtLmRhdGFfdHlwZSA9IGooZSkpLCBiKGUsIGUubF9kZXNjKSwgYihlLCBlLmRfZGVzYyksIHIgPSB6KGUpLCBhID0gZS5vcHRfbGVuICsgMyArIDcgPj4+IDMsIG8gPSBlLnN0YXRpY19sZW4gKyAzICsgNyA+Pj4gMywgYSA+PSBvICYmIChhID0gbykpIDogYSA9IG8gPSBuICsgNSwgYSA+PSBuICsgNCAmJiAtMSAhPT0gdCA/IFMoZSwgdCwgbiwgaSkgOiBlLnN0cmF0ZWd5ID09PSBBIHx8IG8gPT09IGEgPyAobChlLCAoRCA8PCAxKSArIChpID8gMSA6IDApLCAzKSwgdihlLCByZSwgc2UpKSA6IChsKGUsIChNIDw8IDEpICsgKGkgPyAxIDogMCksIDMpLCBCKGUsIGUubF9kZXNjLm1heF9jb2RlICsgMSwgZS5kX2Rlc2MubWF4X2NvZGUgKyAxLCByICsgMSksIHYoZSwgZS5keW5fbHRyZWUsIGUuZHluX2R0cmVlKSksIGYoZSksIGkgJiYgZyhlKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBQKGUsIHQsIG4pIHsKCQkJCQkJCXJldHVybiBlLnBlbmRpbmdfYnVmW2UuZF9idWYgKyAyICogZS5sYXN0X2xpdF0gPSB0ID4+PiA4ICYgMjU1LCBlLnBlbmRpbmdfYnVmW2UuZF9idWYgKyAyICogZS5sYXN0X2xpdCArIDFdID0gMjU1ICYgdCwgZS5wZW5kaW5nX2J1ZltlLmxfYnVmICsgZS5sYXN0X2xpdF0gPSAyNTUgJiBuLCBlLmxhc3RfbGl0KyssIDAgPT09IHQgPyBlLmR5bl9sdHJlZVsyICogbl0gKysgOiAoZS5tYXRjaGVzKyssIHQtLSwgZS5keW5fbHRyZWVbMiAqIChjZVtuXSArIFcgKyAxKV0gKyssIGUuZHluX2R0cmVlWzIgKiByKHQpXSArKyksIGUubGFzdF9saXQgPT09IGUubGl0X2J1ZnNpemUgLSAxCgkJCQkJCX0KCQkJCQkJdmFyIEkgPSBlKCIuLi91dGlscy9jb21tb24iKSwKCQkJCQkJCUEgPSA0LAoJCQkJCQkJcSA9IDAsCgkJCQkJCQlFID0gMSwKCQkJCQkJCU8gPSAyLAoJCQkJCQkJTCA9IDAsCgkJCQkJCQlEID0gMSwKCQkJCQkJCU0gPSAyLAoJCQkJCQkJUiA9IDMsCgkJCQkJCQlGID0gMjU4LAoJCQkJCQkJJCA9IDI5LAoJCQkJCQkJVyA9IDI1NiwKCQkJCQkJCUggPSBXICsgMSArICQsCgkJCQkJCQlVID0gMzAsCgkJCQkJCQlZID0gMTksCgkJCQkJCQlHID0gMiAqIEggKyAxLAoJCQkJCQkJWCA9IDE1LAoJCQkJCQkJSiA9IDE2LAoJCQkJCQkJWiA9IDcsCgkJCQkJCQlWID0gMjU2LAoJCQkJCQkJSyA9IDE2LAoJCQkJCQkJUSA9IDE3LAoJCQkJCQkJZWUgPSAxOCwKCQkJCQkJCXRlID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDIsIDIsIDIsIDIsIDMsIDMsIDMsIDMsIDQsIDQsIDQsIDQsIDUsIDUsIDUsIDUsIDBdLAoJCQkJCQkJbmUgPSBbMCwgMCwgMCwgMCwgMSwgMSwgMiwgMiwgMywgMywgNCwgNCwgNSwgNSwgNiwgNiwgNywgNywgOCwgOCwgOSwgOSwgMTAsIDEwLCAxMSwgMTEsIDEyLCAxMiwgMTMsIDEzXSwKCQkJCQkJCWllID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDMsIDddLAoJCQkJCQkJYWUgPSBbMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNV0sCgkJCQkJCQlvZSA9IDUxMiwKCQkJCQkJCXJlID0gbmV3IEFycmF5KDIgKiAoSCArIDIpKTsKCQkJCQkJaShyZSk7CgkJCQkJCXZhciBzZSA9IG5ldyBBcnJheSgyICogVSk7CgkJCQkJCWkoc2UpOwoJCQkJCQl2YXIgbGUgPSBuZXcgQXJyYXkob2UpOwoJCQkJCQlpKGxlKTsKCQkJCQkJdmFyIGNlID0gbmV3IEFycmF5KEYgLSBSICsgMSk7CgkJCQkJCWkoY2UpOwoJCQkJCQl2YXIgZGUgPSBuZXcgQXJyYXkoJCk7CgkJCQkJCWkoZGUpOwoJCQkJCQl2YXIgcGUgPSBuZXcgQXJyYXkoVSk7CgkJCQkJCWkocGUpOwoJCQkJCQl2YXIgaGUsIHVlLCBtZSwgZmUgPSAhMTsKCQkJCQkJbi5fdHJfaW5pdCA9IEMsIG4uX3RyX3N0b3JlZF9ibG9jayA9IFMsIG4uX3RyX2ZsdXNoX2Jsb2NrID0gVCwgbi5fdHJfdGFsbHkgPSBQLCBuLl90cl9hbGlnbiA9IE4KCQkJCQl9LCB7CgkJCQkJCSIuLi91dGlscy9jb21tb24iOiAzCgkJCQkJfQoJCQkJXSwKCQkJCTE1OiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgoJCQkJCQlmdW5jdGlvbiBpKCkgewoJCQkJCQkJdGhpcy5pbnB1dCA9IG51bGwsIHRoaXMubmV4dF9pbiA9IDAsIHRoaXMuYXZhaWxfaW4gPSAwLCB0aGlzLnRvdGFsX2luID0gMCwgdGhpcy5vdXRwdXQgPSBudWxsLCB0aGlzLm5leHRfb3V0ID0gMCwgdGhpcy5hdmFpbF9vdXQgPSAwLCB0aGlzLnRvdGFsX291dCA9IDAsIHRoaXMubXNnID0gIiIsIHRoaXMuc3RhdGUgPSBudWxsLCB0aGlzLmRhdGFfdHlwZSA9IDIsIHRoaXMuYWRsZXIgPSAwCgkJCQkJCX0KCQkJCQkJdC5leHBvcnRzID0gaQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJIi8iOiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCXZhciBpID0gZSgiLi9saWIvdXRpbHMvY29tbW9uIikuYXNzaWduLAoJCQkJCQkJYSA9IGUoIi4vbGliL2RlZmxhdGUiKSwKCQkJCQkJCW8gPSBlKCIuL2xpYi9pbmZsYXRlIiksCgkJCQkJCQlyID0gZSgiLi9saWIvemxpYi9jb25zdGFudHMiKSwKCQkJCQkJCXMgPSB7fTsKCQkJCQkJaShzLCBhLCBvLCByKSwgdC5leHBvcnRzID0gcwoJCQkJCX0sIHsKCQkJCQkJIi4vbGliL2RlZmxhdGUiOiAxLAoJCQkJCQkiLi9saWIvaW5mbGF0ZSI6IDIsCgkJCQkJCSIuL2xpYi91dGlscy9jb21tb24iOiAzLAoJCQkJCQkiLi9saWIvemxpYi9jb25zdGFudHMiOiA2CgkJCQkJfQoJCQkJXQoJCQl9LCB7fSwgW10pKCIvIikKCQl9KQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIGkgPSB7CgkJCQkiXFwuamRcXC5jb20iOiAiMzYwYnV5IiwKCQkJCSJkYW5nZGFuZ1xcLmNvbSI6ICJkYW5nZGFuZyIsCgkJCQkidm1laVxcLmNvbSI6ICJ2bWVpIiwKCQkJCSJ0b290b29cXC5jbiI6ICJ0b290b28iLAoJCQkJInd3d1xcLnNwaWRlclxcLmNvbVxcLmNuIjogInNwaWRlciIsCgkJCQkiLio/Ym9xaWlcXC5jb20iOiAiYm9xaWkiLAoJCQkJInd3d1xcLjUxZGluXFwuY29tIjogIjUxZGluIiwKCQkJCSJ3d3dcXC5oYWl0dW5jdW5cXC5jb20iOiAiaGFpdHVuY3VuIiwKCQkJCSJ5dW5ob3VcXC5jb20iOiAieXVuaG91IiwKCQkJCSIuKj92aXBcXC5jb20iOiAidmlwIiwKCQkJCSJ3d3dcXC5tYWxsdnZcXC5jb20iOiAiaG9tZXZ2IiwKCQkJCSJyYXlpXFwuY24iOiAicmF5aSIsCgkJCQkid3d3XFwueWFvZmFuZ1xcLmNuIjogInlhb2ZhbmciLAoJCQkJInd3d1xcLmxpa2VmYWNlXFwuY29tIjogImxpa2VmYWNlIiwKCQkJCSJ3d3dcXC5ndW9waVxcLmNvbSI6ICJndW9waSIsCgkJCQkid3d3XFwubWVuZ2x1XFwuY29tIjogIm1lbmdsdSIsCgkJCQkiKC4qPylcXC5tMThcXC5jb20iOiAibTE4IiwKCQkJCSJcXC5lZmVpaHVcXC5jb20iOiAiZWZlaWh1IiwKCQkJCSIvL3d3d1xcLm1laVxcLmNvbS9zaWxvLy4qLWV2ZW50LWV2ZW50XFwuaHRtbCI6ICJtZWkiLAoJCQkJImJlbmxhaVxcLmNvbSI6ICJiZW5sYWkiLAoJCQkJIi8vd3d3XFwua2p0XFwuY29tIjogImtqdCIsCgkJCQkid3d3XFwua2p0XFwuY29tIjogImtqdCIsCgkJCQkiYmVzdGluZm9vZHMuY29tIjogImJlc3RpbmZvb2RzIiwKCQkJCSJcXC5qMVxcLmNvbSI6ICJqMSIsCgkJCQkieXVtbXk3N1xcLmNvbSI6ICJ5dW1teTc3IiwKCQkJCSJcXC4zNjBreHJcXC5jb20iOiAiMzYwa3hyIiwKCQkJCSJpdGVtXFwuZmVpbml1XFwuY29tIjogImZlaW5pdSIsCgkJCQkic2hvcFxcLmxlbm92b21vYmlsZVxcLmNvbSI6ICJsZW5vdm8iLAoJCQkJInN1cHV5XFwuY29tIjogInN1cHV5IiwKCQkJCSJzdXB1bWFsbFxcLmNvbSI6ICJzdXB1bWFsbCIsCgkJCQkieW9ob2J1eVxcLmNvbSI6ICJ5b2hvYnV5IiwKCQkJCSJtZjkxMFxcLmNvbSI6ICJtZjkxMCIsCgkJCQkic3VuZGFuXFwuY29tIjogInN1bmRhbiIsCgkJCQkiXFwudGFvM2NcXC5jb20iOiAidGFvM2MiLAoJCQkJImFpZGFpXFwuY29tIjogImFpZGFpIiwKCQkJCSJ4XFwuY29tXFwuY24iOiAieCIsCgkJCQkiZmVpZmVpXFwuKD86Y258Y29tKSI6ICJmZWlmZWkiLAoJCQkJImxvdm9cXC5jbiI6ICJsb3ZvIiwKCQkJCSJ5aW50YWlcXC5jb20iOiAieWludGFpIiwKCQkJCSJiYW5nZ29cXC5jb20iOiAiYmFuZ2dvIiwKCQkJCSI1bHV4XFwuY29tIjogIjVsdXgiLAoJCQkJImFtYXpvblxcLmRlIjogImFtYXpvbl9kZSIsCgkJCQkiXFwucGFpeGllXFwubmV0IjogInBhaXhpZSIsCgkJCQkiXFwuaGFuZHVcXC5jb20iOiAiaGFuZHUiLAoJCQkJIlxcLmdvdVxcLmNvbSI6ICJtNmdvIiwKCQkJCSJtaW5zaGVuZ2VjXFwuY29tIjogIm1pbnNoZW5nZWMiLAoJCQkJImxlbWFsbFxcLmNvbSI6ICJsZW1hbGwiLAoJCQkJIm9jalxcLmNvbVxcLmNuIjogIm9jaiIsCgkJCQkibmlrZVxcLmNvbSI6ICJuaWtlIiwKCQkJCSJzZmJlc3RcXC4oPzpoa3xjb20pIjogInNmYmVzdCIsCgkJCQkiXFwud2lueHVhblxcLmNvbSI6ICJ3aW54dWFuIiwKCQkJCSJcXC5zaG9waW5cXC5uZXQiOiAic2hvcGluIiwKCQkJCSJcXC5tYmFvYmFvXFwuY29tIjogIm1iYW9iYW8iLAoJCQkJInd3d1xcLnltYXRvdVxcLmNvbSI6ICJ5bWF0b3UiLAoJCQkJImNvb2NhYVxcLmNvbSI6ICJjb29jYWEiLAoJCQkJIjExMVxcLmNvbVxcLmNuIjogIjExMSIsCgkJCQkic2hvcFxcLmxlbm92b1xcLmNvbVxcLmNuIjogImxlbm92byIsCgkJCQkiZnJ1aXRkYXlcXC5jb20iOiAiZnJ1aXRkYXkiLAoJCQkJImFtYXpvblxcLmVzIjogImFtYXpvbiIsCgkJCQkibWVpY2lcXC5jb20iOiAibWVpY2kiLAoJCQkJImJlaWJlaVxcLmNvbSI6ICJiZWliZWkiLAoJCQkJImtlZWRlXFwuY29tIjogImtlZWRlIiwKCQkJCSJrZWRlXFwuY29tIjogImtlZWRlIiwKCQkJCSJ4aWppZS5jb20iOiAieGlqaWUiLAoJCQkJImNhbWVsLmNvbS5jbiI6ICJjYW1lbCIsCgkJCQkibWVpdHVhblxcLmNvbSI6ICJtZWl0dWFuIiwKCQkJCSJcXC5hbWF6b25cXC5jbiI6ICJhbWF6b24iLAoJCQkJIlxcLmFtYXpvblxcLmNvbSI6ICJhbWF6b25fdXMiLAoJCQkJImxlbm92b1xcLmNvbSI6ICJsZW5vdm8iLAoJCQkJImVhc2VleWVzXFwuY29tIjogImVhc2VleWVzIiwKCQkJCSJhaW1lclxcLmNvbVxcLmNuIjogImFpbWVyIiwKCQkJCSJzaG93am95XFwuY29tIjogInNob3dqb3kiLAoJCQkJInllc215d2luZVxcLmNvbSI6ICJ5ZXNteXdpbmUiLAoJCQkJInRpYW50aWFuXFwuY29tIjogInRpYW50aWFuIiwKCQkJCSJcXC5nYXBcXC5jbiI6ICJnYXAiLAoJCQkJIndhbmdmdWppbmdcXC5jb20iOiAid2FuZ2Z1amluZyIsCgkJCQkiXFwubWVpXFwuY29tIjogIm1laSIsCgkJCQkiYW1hem9uXFwuY2EiOiAiYW1hem9uX2NhIiwKCQkJCSJzZWNvb1xcLmNvbSI6ICJzZWNvbyIsCgkJCQkid3d3XFwubWV0YW9cXC5jb20iOiAibWV0YW8iLAoJCQkJIm1ldGFvXFwuY29tIjogIm1ldGFvIiwKCQkJCSJhbWF6b25cXC5jb21cXC5iciI6ICJhbWF6b24iLAoJCQkJImJhaXlhbmd3YW5nLmNvbSI6ICJiYWl5YW5nd2FuZyIsCgkJCQkiYm9va3V1XFwuY29tIjogImJvb2t1dSIsCgkJCQkiMTAweXVlXFwuY29tIjogIjEwMHl1ZSIsCgkJCQkibWVpbGVsZVxcLmNvbSI6ICJtZWlsZWxlIiwKCQkJCSJkMVxcLmNvbVxcLmNuIjogImQxIiwKCQkJCSJtXFwuZDFcXC5jbiI6ICJkMSIsCgkJCQkiLnRhcXUuY24iOiAidGFxdSIsCgkJCQkibGV0YW9cXC5jb20iOiAibGV0YW8iLAoJCQkJInd3d1xcLmthb2xhXFwuY29tIjogImthb2xhIiwKCQkJCSJsYW1pdVxcLmNvbSI6ICJsYW1pdSIsCgkJCQkiXFwudm1hbGxcXC5jb20iOiAidm1hbGwiLAoJCQkJIm1vcmVmb29kXFwuY29tIjogIm1vcmVmb29kIiwKCQkJCSJcXC54aWppLmNvbSI6ICJ4aWppIiwKCQkJCSJzaG9wXFwubGV0dlxcLmNvbSI6ICJsZW1hbGwiLAoJCQkJInZqaWFcXC5jb20iOiAidmppYSIsCgkJCQkic3RhcGxlc1xcLmNuIjogInN0YXBsZXMiLAoJCQkJIlxcLnptN1xcLmNuIjogInptNyIsCgkJCQkiXFwuKD86bW9vbmJhc2F8a29yaXJsfHJ1dGlzaGVyfHN1b3Jhbmd8YWxhdmVzfGluZzJpbmd8MC0xMDBzfHFqaGVyYnxtb250ZWFtb3IpXFwuY29tIjogIm1vb25iYXNhIiwKCQkJCSJmZW5ncXVcXC5jb20iOiAiZmVuZ3F1IiwKCQkJCSJiZXN0a2VlcFxcLmNuIjogImJlc3RrZWVwIiwKCQkJCSJvY2pcXC5rciI6ICJvY2oiLAoJCQkJImFtYXpvblxcLmNvXFwuanAiOiAiYW1hem9uX2pwIiwKCQkJCSJ6aGVuXFwuY29tIjogInpoZW4iLAoJCQkJIlxcLnhpdVxcLmNvbSI6ICJ4aXUiLAoJCQkJIihcXC4pP2hvbWV2dlxcLmNvbSI6ICJob21ldnYiLAoJCQkJImRhbGluZy5jb20iOiAiZGFsaW5nIiwKCQkJCSJhbWF6b25cXC5pbiI6ICJhbWF6b24iLAoJCQkJImZlaW5pdVxcLmNvbSI6ICJmZWluaXUiLAoJCQkJImppdW1laVxcLmNvbSI6ICJqaXVtZWkiLAoJCQkJInRhb3hpZVxcLmNvbSI6ICJ0YW94aWUiLAoJCQkJImFtYXpvblxcLml0IjogImFtYXpvbiIsCgkJCQkiemF6aGlwdVxcLmNvbSI6ICJ6YXpoaXB1IiwKCQkJCSJcXC5ibFxcLmNvbSI6ICJibCIsCgkJCQkiLio/YmxcXC5jb20iOiAiYmwiLAoJCQkJInlvdS4xNjMuY29tIjogInlvdTE2MyIsCgkJCQkibGluZ3NoaVxcLmNvbSI6ICJsaW5nc2hpIiwKCQkJCSJodWFcXC5jb20iOiAiaHVhIiwKCQkJCSJcXC5tNmdvXFwuY29tIjogIm02Z28iLAoJCQkJImxlZmVuZ1xcLmNvbSI6ICJsZWZlbmciLAoJCQkJIjM2MGthZFxcLmNvbSI6ICIzNjBrYWQiLAoJCQkJIlxcLjk5cmVhZFxcLmNvbSI6ICI5OXJlYWQiLAoJCQkJIlxcLm1pcWlcXC5jbiI6ICJtaXFpIiwKCQkJCSJxaW5xaW5iYWJ5XFwuY29tIjogInFpbnFpbmJhYnkiLAoJCQkJInZhbmNsXFwuY29tIjogInZhbmNsIiwKCQkJCSJcXC5qaXV4aWFuXFwuY29tIjogImppdXhpYW4iLAoJCQkJImppYWVcXC5jb20iOiAiamlhZSIsCgkJCQkibWlkZWFcXC5jb20iOiAibWlkZWEiLAoJCQkJImFtYXpvblxcLmNvbVxcLm14IjogImFtYXpvbiIsCgkJCQkieGlmdXF1YW5cXC5jb20iOiAieGlmdXF1YW4iLAoJCQkJImFtYXpvblxcLmNvbSI6ICJhbWF6b25fdXMiLAoJCQkJIndhbmdqaXVcXC5jb20iOiAid2FuZ2ppdSIsCgkJCQkiYW1hem9uXFwubmwiOiAiYW1hem9uIiwKCQkJCSJcXC5va2J1eVxcLmNvbSI6ICJva2J1eSIsCgkJCQkiYW1hem9uXFwuY29tXFwuYXUiOiAiYW1hem9uIiwKCQkJCSJzYXNhXFwuY29tIjogInNhc2EiLAoJCQkJIihcXC4pP3lpZ3VvXFwuY29tIjogInlpZ3VvIiwKCQkJCSJtdXlpbmd6aGlqaWFcXC5jb20iOiAibXV5aW5nemhpamlhIiwKCQkJCSIuKj96dWlwaW5cXC5jbiI6ICJ6dWlwaW4iLAoJCQkJIlxcLnpoaXdvXFwuY29tIjogInpoaXdvIiwKCQkJCSJzdG9yZVxcLmxvZ2l0ZWNoXFwuY29tXFwuY24iOiAibG9naXRlY2giLAoJCQkJIlxcLm5ld2VnZyhcXC5jb20pP1xcLmNuIjogIm5ld2VnZyIsCgkJCQkiZWZvdGlsZVxcLmNvbSI6ICJlZm90aWxlIiwKCQkJCSJcXC5vdWt1XFwuY29tIjogIm91a3UiLAoJCQkJIlxcLm5vNVxcLmNvbVxcLmNuIjogIm5vNSIsCgkJCQkiaGFpZXJqaW5nc2h1aVxcLmNvbSI6ICJoYWllcmppbmdzaHVpIiwKCQkJCSJ3d3dcXC5remozNjVcXC5jb20iOiAia3pqMzY1IiwKCQkJCSJ3Ymlhb1xcLmNuIjogIndiaWFvIiwKCQkJCSJcXC5sdXNlblxcLmNvbSI6ICJsdXNlbiIsCgkJCQkianVtZWlcXC5jb20iOiAianVtZWkiLAoJCQkJInhnZHFcXC5jb20iOiAieGdkcSIsCgkJCQkibWlhXFwuY29tIjogIm1peWFiYW9iZWkiLAoJCQkJIm1peWFiYW9iZWkuaGsiOiAibWl5YWJhb2JlaSIsCgkJCQkidWxlXFwuY29tIjogInVsZSIsCgkJCQkiXFwub2tocWJcXC5jb20iOiAib2tocWIiLAoJCQkJImppYW5rZVxcLmNvbSI6ICJqaWFua2UiLAoJCQkJIlxcLmp4ZHlmXFwuY29tIjogImp4ZHlmIiwKCQkJCSJ4dGVwXFwuY29tXFwuY24iOiAieHRlcCIsCgkJCQkiZ3VvamltYW1pLmNvbSI6ICJndW9qaW1hbWkiLAoJCQkJImVoYWllclxcLmNvbSI6ICJlaGFpZXIiLAoJCQkJImxieGNuXFwuY29tIjogImxieGNuIiwKCQkJCSJcXC5jYW1lbFxcLmNvbVxcLmNuIjogImNhbWVsIiwKCQkJCSIoPzp2aXZpYW58bGlua21hc2F8bWFzYW1hc28pXFwuKD86Y29tfGNuKSI6ICJtYXNhbWFzbyIsCgkJCQkibGlmZXZjLmNvbSI6ICJsaWZldmMiLAoJCQkJImNodW5zaHVpdGFuZ1xcLmNvbSI6ICJjaHVuc2h1aXRhbmciLAoJCQkJIlxcLmJvb2tzY2hpbmFcXC5jb20iOiAiYm9va3NjaGluYSIsCgkJCQkibGV5b3VcXC5jb21cXC5jbiI6ICJsZXlvdSIsCgkJCQkiXFwueW91Z291XFwuY29tIjogInlvdWdvdSIsCgkJCQkiYW1hem9uXFwuY29cXC51ayI6ICJhbWF6b25fdWsiLAoJCQkJImdqd1xcLmNvbSI6ICJnanciLAoJCQkJImxpbmluZ1xcLmNvbSI6ICJsaW5pbmciLAoJCQkJIlxcLnNcXC5jbiI6ICJzY24iLAoJCQkJImhpc2Vuc2VcXC5jb20iOiAiaGlzZW5zZSIsCgkJCQkiXFwuY2hpbmEtcHViXFwuY29tIjogImNoaW5hcHViIiwKCQkJCSJqdW1laWdsb2JhbFxcLmNvbSI6ICJqdW1laSIsCgkJCQkiXFwuKHhpYW8pP21pXFwuY29tIjogIm1pIiwKCQkJCSJcXC5zZXBob3JhXFwuY24iOiAic2VwaG9yYSIsCgkJCQkiamlueGlhbmcuY29tIjogImp4ZHlmIiwKCQkJCSJwdXJjb3R0b24uY29tIjogInB1cmNvdHRvbiIsCgkJCQkid3N0eC5jb20iOiAid3N0eCIsCgkJCQkiemhvbmdqaXUuY24iOiAiemhvbmdqaXUiLAoJCQkJInd3dy5rYWx1bGkuY29tIjogImthbHVsaSIsCgkJCQkibWFsbC50bzh0by5jb20iOiAidG84dG8iLAoJCQkJInd3dy5vcHBvc2hvcC5jbiI6ICJvcHBvc2hvcCIsCgkJCQkiYmFvYmVpZ2V6aS5jb20iOiAiYmFvYmVpZ2V6aSIsCgkJCQkid3d3Lm1hcmttYWxsLmNvbSI6ICJtYXJrbWFsbCIsCgkJCQkiaGFwcGlnb1xcLmNvbSI6ICJoYXBwaWdvIiwKCQkJCSJhb2xhaWdvXFwuY29tIjogImFvbGFpZ28iLAoJCQkJInNrZ1xcLmNvbSI6ICJza2ciLAoJCQkJImNvb2xwYWRcXC5jb20iOiAiY29vbHBhZCIsCgkJCQkiZGl4aW50b25nXFwuY29tIjogImRpeGludG9uZyIsCgkJCQkidml2b1xcLmNvbVxcLmNuIjogInZpdm8iLAoJCQkJImx1b2xhaVxcLmNuIjogImx1b2xhaSIsCgkJCQkiYW9teWdvZFxcLmNvbSI6ICJhb215Z29kIiwKCQkJCSJzdWFuanV6aVxcLmNvbSI6ICJzdWFuanV6aSIsCgkJCQkiZ2lvbmVlXFwuY29tIjogImdpb25lZSIsCgkJCQkieWFvMTIzXFwuY29tIjogInlhbzEyMyIsCgkJCQkidHVodVxcLmNuIjogInR1aHUiLAoJCQkJIndhbG1hcnRcXC5jb20iOiAid2FsbWFydCIsCgkJCQkidnNpZ29cXC5jbiI6ICJ2c2lnbyIsCgkJCQkibG9va2ZhbnRhc3RpY1xcLmNvbSI6ICJsb29rZmFudGFzdGljIiwKCQkJCSJhc2hmb3JkXFwuY29tIjogImFzaGZvcmQiLAoJCQkJInNob3Bib3BcXC5jb20iOiAic2hvcGJvcCIsCgkJCQkiNnBtXFwuY29tIjogIjZwbSIsCgkJCQkiYW1hem9uXFwuZnIiOiAiYW1hem9uX2ZyIiwKCQkJCSJzdW5pbmdcXC5jb20iOiAic3VuaW5nIiwKCQkJCSJnb21lLmNvbS5jbiI6ICJnb21lIiwKCQkJCSJ5aGQuY29tIjogInlpaGFvZGlhbiIKCQkJfSwKCQkJYSA9IHsKCQkJCWFtYXpvbjogMSwKCQkJCWRhbmdkYW5nOiAyLAoJCQkJIjM2MGJ1eSI6IDMsCgkJCQl6b2w6IDQsCgkJCQlmZ2xhZHk6IDUsCgkJCQlvdWt1OiA2LAoJCQkJbmV3ZWdnOiA3LAoJCQkJa2ltaXNzOiA4LAoJCQkJcmVkYmFieTogOSwKCQkJCW0xODogMTAsCgkJCQlzZXBob3JhOiAxMiwKCQkJCWxlZmVuZzogMTMsCgkJCQlzY246IDE0LAoJCQkJIjUxYnV5IjogMTUsCgkJCQltZW5nbHU6IDE2LAoJCQkJbW9vbmJhc2E6IDE3LAoJCQkJa2VlZGU6IDE4LAoJCQkJdmFuY2w6IDE5LAoJCQkJb2tidXk6IDIxLAoJCQkJbGV0YW86IDIyLAoJCQkJYnV5MDA3OiAyMywKCQkJCXRhb3hpZTogMjQsCgkJCQlzdW5pbmc6IDI1LAoJCQkJY29vODogMjYsCgkJCQlsdXNlbjogMjcsCgkJCQlnb21lOiAyOCwKCQkJCWRhemhvbmdkaWFucWk6IDI5LAoJCQkJeWloYW9kaWFuOiAzMSwKCQkJCXdvbWFpOiAzMiwKCQkJCWxleW91OiAzMywKCQkJCXNob3BpbjogMzQsCgkJCQl4aXU6IDM1LAoJCQkJbWJhb2JhbzogMzYsCgkJCQl2amlhOiAzNywKCQkJCSI3Y3YiOiAzOCwKCQkJCXFpbnFpbmJhYnk6IDM5LAoJCQkJY2h1bnNodWl0YW5nOiA0MCwKCQkJCXg6IDQxLAoJCQkJZ3VvcGk6IDQyLAoJCQkJbm81OiA0MywKCQkJCXNhc2E6IDQ1LAoJCQkJIjM2MGt4ciI6IDUwLAoJCQkJbTZnbzogNTEsCgkJCQlsaWtlZmFjZTogNTIsCgkJCQltb3JlZm9vZDogNTQsCgkJCQl5YW9mYW5nOiA1NiwKCQkJCSI5OXJlYWQiOiA1OSwKCQkJCWNoaW5hcHViOiA2MCwKCQkJCWJvb2tzY2hpbmE6IDYxLAoJCQkJd2lueHVhbjogNjIsCgkJCQllZmVpaHU6IDYzLAoJCQkJeWludGFpOiA2NiwKCQkJCWhhcHBpZ286IDcyLAoJCQkJZ2FwOiA3MywKCQkJCSI1bHV4IjogNzUsCgkJCQl0bWFsbDogODMsCgkJCQl0aWFudGlhbjogODQsCgkJCQl4aWppZTogODUsCgkJCQlqdW1laTogODYsCgkJCQl5b3Vnb3U6IDkzLAoJCQkJMTExOiA5NCwKCQkJCWppYW5rZTogOTcsCgkJCQltdXlpbmd6aGlqaWE6IDk4LAoJCQkJbGluZ3NoaTogOTksCgkJCQliYW5nZ286IDEwMCwKCQkJCXllc215d2luZTogMTAxLAoJCQkJaml1bWVpOiAxMDIsCgkJCQlqaXV4aWFuOiAxMDMsCgkJCQlnanc6IDEwOCwKCQkJCW9raHFiOiAxMDksCgkJCQlib29rdXU6IDExMCwKCQkJCXRhbzNjOiAxMTEsCgkJCQlkMTogMTE1LAoJCQkJcmF5aTogMTIwLAoJCQkJcGFpeGllOiAxMjIsCgkJCQl0YW9iYW86IDEyMywKCQkJCWhvbWV2djogMTI0LAoJCQkJanhkeWY6IDEyNSwKCQkJCXNmYmVzdDogMTI2LAoJCQkJYmVubGFpOiAxMjcsCgkJCQl0b290b286IDEyOCwKCQkJCXR1b3R1bzogMTI4LAoJCQkJdmlwOiAxMjksCgkJCQl2bWFsbDogMTM0LAoJCQkJbGVub3ZvOiAxMzUsCgkJCQlhcHBsZTogMTM2LAoJCQkJem03OiAxMzgsCgkJCQltaXFpOiAxMzksCgkJCQl6aGl3bzogMTQwLAoJCQkJajE6IDE0MSwKCQkJCXdhbmdqaXU6IDE0MiwKCQkJCWxhbWl1OiAxNDYsCgkJCQlhaW1lcjogMTQ3LAoJCQkJd2JpYW86IDE1MywKCQkJCWhhbmR1OiAxNTQsCgkJCQllaGFpZXI6IDE1NSwKCQkJCXNlY29vOiAxNTYsCgkJCQljYW1lbDogMTU3LAoJCQkJbWFzYW1hc286IDE1OCwKCQkJCXpoZW46IDE2MiwKCQkJCXhpZnVxdWFuOiAxNjQsCgkJCQltaTogMTY3LAoJCQkJbGVtYWxsOiAxNjgsCgkJCQltZWl0dWFuOiAxNzIsCgkJCQljdHJpcDogMTczLAoJCQkJeWlndW86IDE3NCwKCQkJCXl1bW15Nzc6IDE3NSwKCQkJCWZydWl0ZGF5OiAxNzgsCgkJCQlmZWluaXU6IDE4MCwKCQkJCWZlaWZlaTogMTgxLAoJCQkJenVpcGluOiAxODIsCgkJCQl5b2hvYnV5OiAxODQsCgkJCQlsdm1hbWE6IDE4NSwKCQkJCWJlc3RrZWVwOiAxODgsCgkJCQltZjkxMDogMTk0LAoJCQkJbWFya21hbGw6IDE5NCwKCQkJCW1peWFiYW9iZWk6IDE5NSwKCQkJCXVsZTogMTk2LAoJCQkJbWluc2hlbmdlYzogMTk3LAoJCQkJd2FuZ2Z1amluZzogMTk4LAoJCQkJbnVvbWk6IDE5OSwKCQkJCW1laWxlbGU6IDIwMSwKCQkJCW1vZ3VqaWU6IDIwMywKCQkJCWVsb25nOiAyMDYsCgkJCQlzdXB1bWFsbDogMjEwLAoJCQkJbHk6IDIxMSwKCQkJCWxpbmluZzogMjEzLAoJCQkJc3ByaW5ndG91cjogMjE1LAoJCQkJaGFpZXJqaW5nc2h1aTogMjE3LAoJCQkJY29vY2FhOiAyMTgsCgkJCQlsaWZldmM6IDIyMCwKCQkJCWt6ajM2NTogMjIyLAoJCQkJa2FvbGE6IDIyMywKCQkJCXltYXRvdTogMjI0LAoJCQkJbWV0YW86IDIyNSwKCQkJCWtqdDogMjI2LAoJCQkJbG9naXRlY2g6IDIyNywKCQkJCWFtYXpvbl91czogMjI4LAoJCQkJYW1hem9uX2pwOiAyMjksCgkJCQl4aWppOiAyMzIsCgkJCQluaWtlOiAyMzMsCgkJCQkiMzYwa2FkIjogMjM0LAoJCQkJbGJ4Y246IDIzNSwKCQkJCW1laWNpOiAyMzYsCgkJCQliZWliZWk6IDIzNywKCQkJCSI2cG0iOiAyMzgsCgkJCQlzaG9wYm9wOiAyNDEsCgkJCQlhbWF6b25fZGU6IDI0NiwKCQkJCWFzaGZvcmQ6IDI0NywKCQkJCWxvb2tmYW50YXN0aWM6IDI0OCwKCQkJCXZzaWdvOiAyNTIsCgkJCQkiMTAweXVlIjogMjU2LAoJCQkJYW1hem9uX3VrOiAyNjYsCgkJCQlkYWxpbmc6IDI2NywKCQkJCWZlbmdxdTogMjY4LAoJCQkJbWVpOiAyNjksCgkJCQlzaG93am95OiAyNzAsCgkJCQlvY2o6IDI3MSwKCQkJCXN1bmRhbjogMjcyLAoJCQkJZWFzZWV5ZXM6IDI3MywKCQkJCXl1bmhvdTogMjc0LAoJCQkJaGFpdHVuY3VuOiAyNzUsCgkJCQl3YWxtYXJ0OiAyNzYsCgkJCQl2bWVpOiAyNzcsCgkJCQlqZ2I6IDI3OCwKCQkJCSI1MWRpbiI6IDI3OSwKCQkJCWFpZGFpOiAyODAsCgkJCQlib3FpaTogMjgxLAoJCQkJdG91cnNmb3JmdW46IDI4MiwKCQkJCWx1bHV0cmlwOiAyODMsCgkJCQlzcGlkZXI6IDI4NCwKCQkJCWppYWU6IDI4NiwKCQkJCXphemhpcHU6IDI4NywKCQkJCXhnZHE6IDI4OCwKCQkJCXh0ZXA6IDI4OSwKCQkJCW1pZGVhOiAyOTAsCgkJCQlzdGFwbGVzOiAyOTEsCgkJCQllZm90aWxlOiAyOTIsCgkJCQlsb3ZvOiAyOTQsCgkJCQlodWE6IDI5NSwKCQkJCXpoZTgwMDogMjk2LAoJCQkJdHVodTogMjk5LAoJCQkJdGFxdTogMzEzLAoJCQkJYmw6IDM0NywKCQkJCWJlc3RpbmZvb2RzOiAzNDgsCgkJCQl5b3UxNjM6IDM0OSwKCQkJCWd1b2ppbWFtaTogMzUxLAoJCQkJYmFpeWFuZ3dhbmc6IDM1MiwKCQkJCWp1YW5waTogMzYwLAoJCQkJcHVyY290dG9uOiAzNjQsCgkJCQlhbWF6b25fZnI6IDM2NSwKCQkJCWFtYXpvbl9jYTogMzY2LAoJCQkJd3N0eDogMzY3LAoJCQkJaGlzZW5zZTogMzY4LAoJCQkJemhvbmdqaXU6IDM2OSwKCQkJCWthbHVsaTogMzcwLAoJCQkJdG84dG86IDM3MSwKCQkJCW9wcG9zaG9wOiAzNzIsCgkJCQliYW9iZWlnZXppOiAzNzMsCgkJCQl5YW8xMjM6IDM3NCwKCQkJCWdpb25lZTogMzc2LAoJCQkJc3Vhbmp1emk6IDM3NywKCQkJCWFvbXlnb2Q6IDM3OCwKCQkJCWx1b2xhaTogMzc5LAoJCQkJdml2bzogMzgwLAoJCQkJZGl4aW50b25nOiAzODEsCgkJCQljb29scGFkOiAzODIsCgkJCQlza2c6IDM4MywKCQkJCWFvbGFpZ286IDM4NQoJCQl9LAoJCQlvID0gewoJCQkJMDogIui0reeJqeWFmiIsCgkJCQkxOiAi5Lqa6ams6YCKIiwKCQkJCTI6ICLlvZPlvZPnvZEiLAoJCQkJMzogIuS6rOS4nOWVhuWfjiIsCgkJCQk0OiAi5Lit5YWz5p2R5Zyo57q/IiwKCQkJCTU6ICLpo47lsJrkvIrkurrnvZEiLAoJCQkJNjogIuasp+mFt+e9kSIsCgkJCQk3OiAi5paw6JuL5Lit5Zu9IiwKCQkJCTg6ICLpl7ronJznvZEiLAoJCQkJOTogIue6ouWtqeWtkCIsCgkJCQkxMDogIum6pue9kSIsCgkJCQkxMTogIuWUr+S8iuWVhuWfjiIsCgkJCQkxMjogIuS4neiKmeWFsCIsCgkJCQkxMzogIuS5kOicgue9kSIsCgkJCQkxNDogIuWQjemei+W6kyIsCgkJCQkxNTogIuaYk+i/hee9kSIsCgkJCQkxNjogIuaipumcsuaXtuWwmue9kSIsCgkJCQkxNzogIuaipuiKreiOjiIsCgkJCQkxODogIuWPr+W+l+ecvOmVnOe9kSIsCgkJCQkxOTogIuWHoeWuouivmuWTgSIsCgkJCQkyMDogIua3mOengC3nmb7kuL3pnovkuJoiLAoJCQkJMjE6ICLlpb3kuZDkubAiLAoJCQkJMjI6ICLkuZDmt5giLAoJCQkJMjM6ICLlpaXorq/ov5DliqjllYbln44iLAoJCQkJMjQ6ICLmt5jpnovnvZEiLAoJCQkJMjU6ICLoi4/lroHmmJPotK0iLAoJCQkJMjY6ICLlupPlt7TnvZEo5Zu9576OKSIsCgkJCQkyNzogIue7v+ajruaVsOeggSIsCgkJCQkyODogIuWbvee+juWcqOe6vyIsCgkJCQkyOTogIuWkp+S4reeUteWZqCIsCgkJCQkzMDogIuWbvee+juS9k+iCsiIsCgkJCQkzMTogIuS4gOWPt+W6lyIsCgkJCQkzMjogIuS4reeyruaIkeS5sOe9kSIsCgkJCQkzMzogIuS5kOWPi+WtleWptOerpSIsCgkJCQkzNDogIuS4iuWTgeaKmOaJoyIsCgkJCQkzNTogIui1sOengOe9kSIsCgkJCQkzNjogIum6puWMheWMhSIsCgkJCQkzNzogIlYrKOWHoeWuoikiLAoJCQkJMzg6ICLkuIPlvanosLciLAoJCQkJMzk6ICLkurLkurLlrp3otJ3llYbln44iLAoJCQkJNDA6ICLmmKXmsLTloIIiLAoJCQkJNDE6ICLmoZToibLmiJDkuroiLAoJCQkJNDI6ICLmnpznmq7nvZEiLAoJCQkJNDM6ICJObzXml7blsJrlub/lnLoiLAoJCQkJNDQ6ICJJRFNIRS5DT00iLAoJCQkJNDU6ICLpppnmuK/ojo7ojo4iLAoJCQkJNDY6ICJESEPkuK3lm70iLAoJCQkJNDc6ICLng6fljIXnvZEiLAoJCQkJNDg6ICLml6Xlhajpo58iLAoJCQkJNDk6ICLnrKzkuZ3lpKfpgZMiLAoJCQkJNTA6ICLlvIDlv4PkurrlpKfoja/miL8iLAoJCQkJNTE6ICLpuqbkuZDotK0iLAoJCQkJNTI6ICLmgqbnvo7kuL0iLAoJCQkJNTM6ICLmiqLpspznvZEiLAoJCQkJNTQ6ICLnjKvor5rpo5/lk4EiLAoJCQkJNTU6ICLogIDngrkxMDDnmb7otKfllYbln44iLAoJCQkJNTY6ICLoja/miL/nvZEiLAoJCQkJNTc6ICLkuK3lhbPmnZHlnKjnur/llYbln44iLAoJCQkJNTg6ICLkuL3lrrblrp3otJ0iLAoJCQkJNTk6ICI5Oee9keS4iuS5puWfjiIsCgkJCQk2MDogIuS6kuWKqOWHuueJiOe9kSIsCgkJCQk2MTogIuS4reWbveWbvuS5pue9kSIsCgkJCQk2MjogIuaWh+i9qee9kSIsCgkJCQk2MzogIumjnuiZjuS5kOi0rSIsCgkJCQk2NTogIuiHtOe+jue9kShTa2luU3RvcmUgQ2hpbmEpIiwKCQkJCTY2OiAi6ZO25rOw55m+6LSnIiwKCQkJCTY3OiAi6Laj546pIiwKCQkJCTY4OiAiVXJDb3NtZSIsCgkJCQk2OTogIuiNieiOk+e9kSIsCgkJCQk3MDogIumcsuWAqee9kSIsCgkJCQk3MTogIumFt+i/kOWKqCIsCgkJCQk3MjogIuW/q+S5kOi0rSIsCgkJCQk3MzogIkdBUOS4reWbvSIsCgkJCQk3NDogIuWmmeS5kOS5kOavjeWptOeUqOWTgeWVhuWfjiIsCgkJCQk3NTogIuesrOS6lOWkp+mBk+WlouS+iOWTgee9kSIsCgkJCQk3NjogIuWwj+S4u+S6uue9kSIsCgkJCQk3NzogIuWunOWutuWutuWxheWumOe9kSIsCgkJCQk3ODogIuaWsOS4g+WkqeeUteWZqOe9kSIsCgkJCQk3OTogIui+vuiKmeWmruWumOe9kSIsCgkJCQk4MDogIuWkquW5s+a0i+S6suWtkOe9kSIsCgkJCQk4MTogIuWkquW5s+a0i+WutuWxhee9kSIsCgkJCQk4MjogIue8pOi0ree9kSjnuqLlranlrZApIiwKCQkJCTgzOiAi5aSp54yrIiwKCQkJCTg0OiAi5aSp5aSp572RIiwKCQkJCTg1OiAi6KW/6KGX6L+Q5Yqo572RIiwKCQkJCTg2OiAi6IGa576O5LyY5ZOBIiwKCQkJCTg3OiAi5bCP54aK5Zyo57q/5ZWG5Z+OIiwKCQkJCTg4OiAi6I2J6I6T5rS+5YyW5aaG5ZOB5ZWG5Z+OIiwKCQkJCTg5OiAi5aSn6LSn5qCI572R5LiK6LaF5biCIiwKCQkJCTkwOiAi5ZCN5ZOB5omT5oqYIiwKCQkJCTkxOiAi5rS75Yqb6L6+5L+d5YGl5ZOB572RIiwKCQkJCTkyOiAiMTLngrnpm7bpo58iLAoJCQkJOTM6ICLkvJjotK3nvZEiLAoJCQkJOTQ6ICIx6I2v572RIiwKCQkJCTk1OiAi5a+86I2v572RKOS4iua1t+Wkjee+juWkp+iNr+aIvykiLAoJCQkJOTY6ICLng5/mgqbnvZEiLAoJCQkJOTc6ICLlgaXlrqLnvZEiLAoJCQkJOTg6ICLmr43lqbTkuYvlrrYiLAoJCQkJOTk6ICLkuK3lm73pm7bpo5/nvZEiLAoJCQkJMTAwOiAi6YKm6LSt572RIiwKCQkJCTEwMTogIuS5n+S5sOmFkiIsCgkJCQkxMDI6ICLphZLnvo7nvZEiLAoJCQkJMTAzOiAi6YWS5LuZ572RIiwKCQkJCTEwNDogIuaDoOWBpeW6t+WVhuWfjiIsCgkJCQkxMDU6ICLlt6XotLjlrrbnlLUiLAoJCQkJMTA2OiAi5ZCO546b54m5572R5LiK6LaF5biCIiwKCQkJCTEwNzogIuiZjuaJkeivhui0pyIsCgkJCQkxMDg6ICLotK3phZLnvZEiLAoJCQkJMTA5OiAi5Y2O5by65YyX5ZWG5Z+OIiwKCQkJCTExMDogIuWNmuW6k+S5puWfjiIsCgkJCQkxMTE6ICLpq5jpuL/llYbln44iLAoJCQkJMTEyOiAi6KW/5Y2VaWdvNSIsCgkJCQkxMTM6ICLmlrDkuJbnlYznmb7otKciLAoJCQkJMTE0OiAi5rGJ5YWJ55m+6LSnIiwKCQkJCTExNTogIkQx5LyY5bCaIiwKCQkJCTExNjogIuaYk+aWr+adpeemjyIsCgkJCQkxMTc6ICLkvJjmgqbnlJ/mtLsiLAoJCQkJMTE4OiAi5o+S5bqn572RIiwKCQkJCTExOTogIk9SQklT5Lit5Zu9IiwKCQkJCTEyMDogIumUkOaEj+e9kSIsCgkJCQkxMjE6ICLkvJgx5a6d6LSdIiwKCQkJCTEyMjogIuaLjemei+e9kSIsCgkJCQkxMjM6ICLmt5jlrp3nvZEiLAoJCQkJMTI0OiAi5Li65Li6572RIiwKCQkJCTEyNTogIumHkeixoee9kSIsCgkJCQkxMjY6ICLpobrkuLDkvJjpgIkiLAoJCQkJMTI3OiAi5pys5p2l55Sf5rS7IiwKCQkJCTEyODogIuayseayseW3peekviIsCgkJCQkxMjk6ICLllK/lk4HkvJoiLAoJCQkJMTMwOiAi6IGa5bCa572RIiwKCQkJCTEzMTogIuS/j+eJqeaChOivrSIsCgkJCQkxMzI6ICLlpKnlk4HnvZEiLAoJCQkJMTM0OiAi5Y2O5Li65ZWG5Z+OIiwKCQkJCTEzNTogIuiBlOaDs+WVhuWfjiIsCgkJCQkxMzY6ICLoi7nmnpzlrpjnvZEiLAoJCQkJMTM4OiAi5Y2T576O572RIiwKCQkJCTEzOTogIuexs+Wlh+e9kSIsCgkJCQkxNDA6ICLnn6XmiJHoja/lpoYiLAoJCQkJMTQxOiAi5YGl5LiA572RIiwKCQkJCTE0MjogIue9kemFkue9kSIsCgkJCQkxNDM6ICLmr5TluqblhYsiLAoJCQkJMTQ0OiAi6KOC5bib5pyN6aWwIiwKCQkJCTE0NTogIkVTUFJJVOS4reaWh+WumOe9kSIsCgkJCQkxNDY6ICLlhbDnvKrlhoXooaMiLAoJCQkJMTQ3OiAi54ix5oWV5a6Y572RIiwKCQkJCTE0ODogIuWNoeW9k+e9kSIsCgkJCQkxNDk6ICLkuL3lrZDnvo7lpoYiLAoJCQkJMTUwOiAi6bqm5b636b6ZIiwKCQkJCTE1MTogIlBCQee+juWmhiIsCgkJCQkxNTI6ICLlsJrlk4HnvZEiLAoJCQkJMTUzOiAi5LiH6KGo572RIiwKCQkJCTE1NDogIumfqemDveiho+iIjSIsCgkJCQkxNTU6ICLmtbflsJTllYbln44iLAoJCQkJMTU2OiAi5a+65bqT572RIiwKCQkJCTE1NzogIumqhumpvOWumOaWueWVhuWfjiIsCgkJCQkxNTg6ICLnjpvokKjnjpvntKIiLAoJCQkJMTU5OiAiTk9Q55S36KOFIiwKCQkJCTE2MDogIueJm+WwlOWumOe9kSIsCgkJCQkxNjE6ICLpq5jooZfnvZEiLAoJCQkJMTYyOiAi54+N5ZOB572RIiwKCQkJCTE2MzogIuaWr+azouW4neWNoSIsCgkJCQkxNjQ6ICLnmpnogqTms4kiLAoJCQkJMTY1OiAi57Gz57KS5YS/IiwKCQkJCTE2NzogIuWwj+exs+WVhuWfjiIsCgkJCQkxNjg6ICLkuZDop4bllYbln44iLAoJCQkJMTY5OiAi5aSa55yL6ZiF6K+7IiwKCQkJCTE3MDogIlFR572R6LStIiwKCQkJCTE3MTogIuWkp+S8l+eCueivhCIsCgkJCQkxNzI6ICLnvo7lm6IiLAoJCQkJMTczOiAi5pC656iL572RIiwKCQkJCTE3NDogIuaYk+aenOe9kSIsCgkJCQkxNzU6ICLnvo7lkbPkuIPkuIMiLAoJCQkJMTc4OiAi5aSp5aSp5p6c5ZutIiwKCQkJCTE3OTogIuiBmue+jua1t+Wklui0rSIsCgkJCQkxODA6ICLpo57niZvnvZEiLAoJCQkJMTgxOiAi6aOe6aOe5ZWG5Z+OIiwKCQkJCTE4MjogIumGieWTgeWVhuWfjiIsCgkJCQkxODM6ICLotJ3lpIfnvZEiLAoJCQkJMTg0OiAi5pyJ6LSnIiwKCQkJCTE4NTogIumptOWmiOWmiOaXhea4uOe9kSIsCgkJCQkxODY6ICLpnZLoipLmnpwiLAoJCQkJMTg3OiAi5LyY5b2p572RIiwKCQkJCTE4ODogIui3qOWig+a3mCIsCgkJCQkxODk6ICLljIXljIXmoJEiLAoJCQkJMTkwOiAi5ruh5bqn572RIiwKCQkJCTE5MTogIuS4gOWfjuS4gOWTgSIsCgkJCQkxOTI6ICLkuK3lm73otrPlvannvZEiLAoJCQkJMTkzOiAi5Y+R5b2p572RIiwKCQkJCTE5NDogIumprOWFi+WNjuiPsiIsCgkJCQkxOTU6ICLonJzoir0iLAoJCQkJMTk2OiAi6YKu5LmQ572RIiwKCQkJCTE5NzogIuawkeeUn+WVhuWfjiIsCgkJCQkxOTg6ICLnjovlupzkupXnvZHkuIrllYbln44iLAoJCQkJMTk5OiAi55m+5bqm57Ov57GzIiwKCQkJCTIwMDogIuWOu+WTquWEv+e9kSIsCgkJCQkyMDE6ICLnvo7kuZDkuZAiLAoJCQkJMjAyOiAi576O5Li96K+0IiwKCQkJCTIwMzogIuiYkeiPh+ihlyIsCgkJCQkyMDQ6ICLnqp3nqp3lm6IiLAoJCQkJMjA1OiAi6ZSm5rGf5LmL5pifIiwKCQkJCTIwNjogIuiJuum+meaXheihjOe9kSIsCgkJCQkyMDc6ICLluIPkuIHphZLlupciLAoJCQkJMjA4OiAi6IqS5p6c572RIiwKCQkJCTIwOTogIjUwMOW9qeelqOe9kSIsCgkJCQkyMTA6ICLpgJ/mma7llYbln44iLAoJCQkJMjExOiAi5ZCM56iL572RIiwKCQkJCTIxMzogIuadjuWugeWumOaWueWVhuWfjiIsCgkJCQkyMTQ6ICLmlrDkuJzmlrnlnKjnur8iLAoJCQkJMjE1OiAi5pil56eL5peF5ri4IiwKCQkJCTIxNjogIuawuOS5kOelqOWKoSIsCgkJCQkyMTc6ICLmtbflsJTlh4DmsLTllYbln44iLAoJCQkJMjE4OiAi6YW35byA5ZWG5Z+OIiwKCQkJCTIxOTogIumtheaXj+WcqOe6v+WVhuW6lyIsCgkJCQkyMjA6ICJMaWZlVkMiLAoJCQkJMjIxOiAi5Yqq5q+U5Lqa5a6Y572RIiwKCQkJCTIyMjogIuW6t+S5i+Wutue9keS4iuiNr+W6lyIsCgkJCQkyMjM6ICLogIPmi4nmtbfotK0iLAoJCQkJMjI0OiAi5rSL56CB5aS0IiwKCQkJCTIyNTogIuicnOa3mCIsCgkJCQkyMjY6ICLot6jlooPpgJoiLAoJCQkJMjI3OiAi572X5oqA5a6Y572RIiwKCQkJCTIyODogIuS6mumprOmAiue+juWbvSIsCgkJCQkyMjk6ICLkuprpqazpgIrml6XmnKwiLAoJCQkJMjMwOiAiZUJheSIsCgkJCQkyMzE6ICJBbGlFeHByZXNzIiwKCQkJCTIzMjogIuilv+mbhue9kSIsCgkJCQkyMzM6ICJOaWtlIiwKCQkJCTIzNDogIuW6t+eIseWkmue9keS4iuiNr+W6lyIsCgkJCQkyMzU6ICLogIHnmb7lp5PnvZHkuIroja/lupciLAoJCQkJMjM2OiAi576O6KW/5pe25bCaIiwKCQkJCTIzNzogIui0nei0nee9kSIsCgkJCQkyMzg6ICI2UE0iLAoJCQkJMjM5OiAiR05D576O5Zu95a6Y572RIiwKCQkJCTI0MDogIk1ZSEFCSVQiLAoJCQkJMjQxOiAiU0hPUEJPUCIsCgkJCQkyNDI6ICJXYWxncmVlbnMiLAoJCQkJMjQzOiAiU1RQIiwKCQkJCTI0NDogIue+juWbveaWsOibiyIsCgkJCQkyNDU6ICJKb21hc2hvcCIsCgkJCQkyNDY6ICLkuprpqazpgIrlvrflm70iLAoJCQkJMjQ3OiAiQXNoZm9yZCIsCgkJCQkyNDg6ICJMb29rRmFudGFzdGljIiwKCQkJCTI0OTogIlJFSSIsCgkJCQkyNTA6ICJpSGVyYiIsCgkJCQkyNTE6ICJDYXJ0ZXIncyIsCgkJCQkyNTI6ICLop4blrqLnnLzplZznvZEiLAoJCQkJMjUzOiAiRU5ELiIsCgkJCQkyNTQ6ICJDYW1wU2F2ZXIiLAoJCQkJMjU1OiAi5LmQ5aSp5Zu96ZmFIiwKCQkJCTI1NjogIueZvuaCpue9kSIsCgkJCQkyNTc6ICJXb290IiwKCQkJCTI1ODogIua1t+a3mOWfjiIsCgkJCQkyNTk6ICJKb2UncyBOQiBPdXRsZXQiLAoJCQkJMjYwOiAiRmluaXNoTGluZSIsCgkJCQkyNjE6ICJWaXRhY29zdCIsCgkJCQkyNjI6ICJHcm91cG9uIiwKCQkJCTI2MzogIk1hY3kncyIsCgkJCQkyNjQ6ICJNb29zZWphdyIsCgkJCQkyNjU6ICJHSUxUIiwKCQkJCTI2NjogIuS6mumprOmAiuiLseWbvSIsCgkJCQkyNjc6ICLovr7ku6QiLAoJCQkJMjY4OiAi5Liw6Laj5rW35reYIiwKCQkJCTI2OTogIumtheWKm+aDoCIsCgkJCQkyNzA6ICLlsJrlpobnvZEiLAoJCQkJMjcxOiAi5Lic5pa5Q0oiLAoJCQkJMjcyOiAi6aG655S1572R5LiK5ZWG5Z+OIiwKCQkJCTI3MzogIuaYk+inhue9kSIsCgkJCQkyNzQ6ICLkupHnjLTnvZEiLAoJCQkJMjc1OiAi5rW36LGa5p2RIiwKCQkJCTI3NjogIldhbG1hcnQiLAoJCQkJMjc3OiAi5ZSv576O576O5aaGIiwKCQkJCTI3ODogIumHkeeujeajkua1t+Wklui0rSIsCgkJCQkyNzk6ICLmiJHopoHorqIiLAoJCQkJMjgwOiAi54ix5oi0572RIiwKCQkJCTI4MTogIuazouWlh+WuoOeJqeWVhuWfjiIsCgkJCQkyODI6ICLpgJTpo47nvZEiLAoJCQkJMjgzOiAi6Lev6Lev6KGMIiwKCQkJCTI4NDogIuicmOibm+e9kSIsCgkJCQkyODU6ICLlvq7ova/kuK3lm70iLAoJCQkJMjg2OiAi5Yqg5oSP5paw5ZOBIiwKCQkJCTI4NzogIuadguW/l+mTuiIsCgkJCQkyODg6ICLlsI/ni5fnlLXlmagiLAoJCQkJMjg5OiAi54m55q2l5a6Y5pa55ZWG5Z+OIiwKCQkJCTI5MDogIue+jueahOWVhuWfjiIsCgkJCQkyOTE6ICLlj7Lms7DljZoiLAoJCQkJMjkyOiAi5pa55aSq5ZWG5Z+OIiwKCQkJCTI5MzogIui0neaAneWuoiIsCgkJCQkyOTQ6ICJMT1ZP5a6257q6IiwKCQkJCTI5NTogIuS4reWbvemynOiKseekvOWTgee9kSIsCgkJCQkyOTY6ICLmipg4MDAiLAoJCQkJMjk3OiAi5pq06aOOVFYiLAoJCQkJMjk4OiAi6YCU5a62572RIiwKCQkJCTI5OTogIumAlOiZjuWFu+i9pue9kSIsCgkJCQkzMDA6ICJIVEPlrpjmlrnllYbln44iLAoJCQkJMzAxOiAicm9zZW9ubHnlrpjnvZEiLAoJCQkJMzAyOiAi6J6NMzYwIiwKCQkJCTMwMzogIuS9oOaIkei0tyIsCgkJCQkzMDQ6ICJDb3NtZSBTaG9wcGluZyIsCgkJCQkzMDU6ICJEaWFwZXJzIiwKCQkJCTMwNjogIldpbmRlbG4uZGUiLAoJCQkJMzA3OiAiQmFieW5lby5kZSIsCgkJCQkzMDg6ICJFc2NlbnR1YWwiLAoJCQkJMzA5OiAiVGhlV2F0Y2hlcnkiLAoJCQkJMzEwOiAiU2FrcyBGaWZ0aCBBdmVudWUiLAoJCQkJMzExOiAiRXN0ZWUgTGF1ZGVyIiwKCQkJCTMxMjogIkJpYyBDYW1lcmEiLAoJCQkJMzEzOiAi5LuW6LajIiwKCQkJCTMxNDogIuept+a4uOe9kSIsCgkJCQkzMTU6ICLmvrPmlrDkvJjpgIkiLAoJCQkJMzE2OiAi5peg5Y2w6Imv5ZOBIiwKCQkJCTMxNzogIkdtYXJrZXQiLAoJCQkJMzE4OiAiMTHlj7fooZciLAoJCQkJMzE5OiAiU21hcnRiYXJnYWlucyIsCgkJCQkzMjA6ICLpm4XomY7ml6XmnKzllYbln44iLAoJCQkJMzIxOiAi5biD6bKB5piO5oi05bCUIiwKCQkJCTMyMjogIk1pa2lob3VzZSIsCgkJCQkzMjM6ICJUb3lzUlVz5pel5pys5a6Y572RIiwKCQkJCTMyNDogIkNvbWZvcnRGaXJzdCIsCgkJCQkzMjU6ICLph5Hlrp3otJ0iLAoJCQkJMzI2OiAiQWxiZWUgQmFieSIsCgkJCQkzMjc6ICJCYWJ5bWFya3QiLAoJCQkJMzI4OiAiVUdH5a6Y572RIiwKCQkJCTMyOTogIk5laW1hbiBNYXJjdXMiLAoJCQkJMzMwOiAiU2hvZWJ1eSIsCgkJCQkzMzE6ICJTenVsIiwKCQkJCTMzMjogIlRpbWV4IiwKCQkJCTMzMzogIktheSBKZXdlbGVycyIsCgkJCQkzMzQ6ICJlV2F0Y2hlcyIsCgkJCQkzMzU6ICJTd2Fyb3Zza2nnvo7lm73lrpjnvZEiLAoJCQkJMzM2OiAiV29ybGQgb2YgV2F0Y2hlcyIsCgkJCQkzMzc6ICJEYW5pZWwgV2VsbGluZ3RvbiIsCgkJCQkzMzg6ICJCZWF1dHkgQmF5IiwKCQkJCTMzOTogIkJlYXV0eS5jb20iLAoJCQkJMzQwOiAiQmVhdXR5IEJhciIsCgkJCQkzNDE6ICJTa2luU3RvcmUiLAoJCQkJMzQyOiAi5YWw6Iqd6Z+p5Zu95a6Y572RIiwKCQkJCTM0MzogIkJPU0Xnvo7lm73lrpjnvZEiLAoJCQkJMzQ0OiAiQmVzdCBCdXkiLAoJCQkJMzQ1OiAiQiZIIiwKCQkJCTM0NjogIue0ouWwvOaXpeacrOWumOe9kSIsCgkJCQkzNDc6ICLnmb7ogZQiLAoJCQkJMzQ4OiAi5rqQ5ZOB5LyY6LStIiwKCQkJCTM0OTogIue9keaYk+S4pemAiSIsCgkJCQkzNTA6ICLplKbmsZ/lm73pmYUiLAoJCQkJMzUxOiAi5Zu96ZmF5aaI5ZKqIiwKCQkJCTM1MjogIueZvua0i+WVhuWfjiIsCgkJCQkzNTM6ICLpgajmuLjnvZEiLAoJCQkJMzU0OiAiUm95IFlvdW5n5Lit5paH5a6Y572RIiwKCQkJCTM1NTogIk1lZGloZWFs5Lit5paH5a6Y572RIiwKCQkJCTM1NjogIjEwMDEgcGhhcm1hY2llc+S4reaWh+WumOe9kSIsCgkJCQkzNTc6ICJMb29rZmFudGFzdGlj5Lit5paH5a6Y572RIiwKCQkJCTM1OTogIuW8gOW/g+S/neS/nemZqee9kSIsCgkJCQkzNjA6ICLljbfnmq7nvZEiLAoJCQkJMzYxOiAiQm9va2luZy5jb20iLAoJCQkJMzYyOiAi5r6z5rSyUE/oja/miL/kuK3mloflrpjnvZEiLAoJCQkJMzYzOiAi5b635Zu9QkHkv53plZboja/miL/kuK3mlofnvZEiLAoJCQkJMzY0OiAi5YWo5qOJ5pe25LujIiwKCQkJCTM2NTogIuS6mumprOmAiuazleWbvSIsCgkJCQkzNjY6ICLkuprpqazpgIrliqDmi7/lpKciLAoJCQkJMzY3OiAi5aSW6K6+5aSp5LiLIiwKCQkJCTM2ODogIua1t+S/oeWVhuWfjiIsCgkJCQkzNjk6ICLkuK3phZLnvZEiLAoJCQkJMzcwOiAi5Y2h6Lev6YeMIiwKCQkJCTM3MTogIuWcn+W3tOWFlOWutuWxheWVhuWfjiIsCgkJCQkzNzI6ICJPUFBP5Zyo57q/5ZWG5Z+OIiwKCQkJCTM3MzogIuWunei0neagvOWtkCIsCgkJCQkzNzQ6ICLlm73oja/nvZEiLAoJCQkJMzc1OiAi55m+56iL5peF6KGM572RIiwKCQkJCTM3NjogIumHkeeri+aJi+acuuWumOe9kSIsCgkJCQkzNzc6ICLphbjmqZjlrZAiLAoJCQkJMzc4OiAi5aWl5Lmw5a625YWo55CD6LStIiwKCQkJCTM3OTogIue9l+iOseWumOaWueWVhuWfjiIsCgkJCQkzODA6ICJWSVZP5a6Y5pa55ZWG5Z+OIiwKCQkJCTM4MTogIui/quS/oemAmuWumOaWueWVhuWfjiIsCgkJCQkzODI6ICLphbfmtL7llYbln44iLAoJCQkJMzgzOiAiU0tH5a6Y572RIiwKCQkJCTM4NDogIueIseWlh+iJuiIsCgkJCQkzODU6ICLlpaXojrHotK0iLAoJCQkJMzg2OiAi5q+P5pel5LyY6bKcIiwKCQkJCTM4NzogIuWcg+elnui3qOWigyIsCgkJCQkzODg6ICJGZWVsdW5pcXVl5Lit5paH572RIiwKCQkJCTM4OTogIkNoZW1pc3QgRGlyZWN05Lit5paH572RIiwKCQkJCTM5MDogIk5ldCBQaGFybWFjeeS4reaWh+e9kSIsCgkJCQkzOTE6ICJQaGFybWFjeSA0IExlc3PkuK3mlofnvZEiLAoJCQkJMzkyOiAiUGhhcm1hY3kgRGlyZWN05Lit5paH572RIiwKCQkJCTM5MzogIkFtY2Fs5Lit5paH572RIiwKCQkJCTM5NDogIkxhIFJlZG91dGXkuK3mlofnvZEiLAoJCQkJMzk1OiAi5b635Zu9VUtB5LyY5Y2h5pyJ5py65Lit5paH572RIiwKCQkJCTM5NjogIkVyd2luIE11ZWxsZXLnqYbli5LlrrblsYXkuK3mlofnvZEiLAoJCQkJMzk3OiAiS2l3aSBEaXNjb3ZlcnnkuK3mlofnvZEiLAoJCQkJMzk4OiAiU3ByaW5nbGFuZeS4reaWh+e9kSIsCgkJCQkzOTk6ICLlvrflm71KQUtPLU/lqbTnq6XnlKjlk4HkuK3mlofnvZEiLAoJCQkJNDAwOiAiRWFzeVRveXPkuK3mlofnq5kiLAoJCQkJNDAxOiAi6Iux5Zu9VExD5Lit5paH572RIiwKCQkJCTQwMjogIuazleWbvUJN5b285rSL576O6aOfIiwKCQkJCTQwMzogIkRld2FyZW7lvrflm73ni67lrZDlrrbkuK3mlofnvZEiLAoJCQkJNDA0OiAiREPlvrflvI/lurfnur/kuIroja/miL/kuK3mloflrpjnvZEiLAoJCQkJNDA1OiAi6I235YWw5LmL5a625Lit5paH56uZIiwKCQkJCTQwNjogIumxv+mxvOe9kSIsCgkJCQk0MDc6ICJLaXdpU3RhcmNhcmXlrpjnvZEiLAoJCQkJNDA4OiAiWlVL6IGU5oOz5omL5py65ZWG5Z+OIiwKCQkJCTQwOTogIktpZWhsJ3Pnvo7lm73lrpjnvZEiLAoJCQkJNDEwOiAiWmFwcG9zIiwKCQkJCTQxMTogIkNPQUNI6JS76amw5Lit5Zu95a6Y572RIiwKCQkJCTQxMjogIllPT1jkuK3mloflrpjnvZEiLAoJCQkJNDEzOiAi6Z+p5Zu9MTHooZfkuK3mloflrpjnvZEiLAoJCQkJNDE0OiAi6Iux6LaF5rW35reYIiwKCQkJCTQxNTogIkhRaGFpci5jb20iLAoJCQkJNDE2OiAiS2F0ZSBTcGFkZSIsCgkJCQk0MTc6ICJWaXRhZnnkuK3mloflrpjnvZEiLAoJCQkJNDE4OiAi5LmQ5aSp572R6LStIiwKCQkJCTQxOTogIuWutuS5kOemj+e9keS4iuWVhuWfjiIsCgkJCQk0MjA6ICLojLbkuIPnvZEiLAoJCQkJNDIxOiAi5pmu5rO95aSn6I2v5oi/IiwKCQkJCTQyMjogIktvaGwncyIsCgkJCQk0MjM6ICJCb2R5IEJ1aWxkaW5nIiwKCQkJCTQyNDogIk5vcmRzdHJvbSIsCgkJCQk0MjU6ICJDb3N0Y28iLAoJCQkJNDI2OiAiVGFyZ2V0IiwKCQkJCTQyNzogIkttYXJ0IiwKCQkJCTQyODogIk92ZXJzdG9jayIsCgkJCQk0Mjk6ICJTZWFycyIsCgkJCQk0MzA6ICLogIHmnb/nlLXlmajlrpjmlrnllYbln44iLAoJCQkJNDMxOiAi54uX5rCR572R5ZWG5Z+OIiwKCQkJCTQzMjogIumjnuenkeWVhuWfjiIsCgkJCQk0MzM6ICLmrKfmma7nhafmmI4iLAoJCQkJNDM0OiAi5LiW55WM5am056ul572RIiwKCQkJCTQzNTogIuebiuS4sOWkp+iNr+aIvyIsCgkJCQk0MzY6ICLlpb3orqLnvZEiLAoJCQkJNDM3OiAi54ix5Zue5pS2IiwKCQkJCTQzODogIumHjuWFvea0viIsCgkJCQk0Mzk6ICLkuZ3niafljavmtbTlrpjmlrnllYbln44iLAoJCQkJNDQwOiAi5LiD5Yy554u85a6Y5pa55ZWG5Z+OIiwKCQkJCTQ0MTogIumTvuWutiIsCgkJCQk0NDI6ICLmiJHniLHmiJHlrrYiLAoJCQkJNDQzOiAi5YWt6Ze05oi/56eA5Zy6IiwKCQkJCTQ0NDogIuWFq+eZvuaWuee9keS4iuiNr+W6lyIsCgkJCQk0NDU6ICLkvJjpm4blk4EiLAoJCQkJNDQ2OiAi5Lmw5Y2W5a6dIiwKCQkJCTQ0NzogIuS8mOS8l+e9kSIsCgkJCQk0NDg6ICLniLHlurflm73lrr7lgaXlurfllYbln44iLAoJCQkJNDQ5OiAi57u05Lmf57qz6YWS5bqX5a6Y572RIiwKCQkJCTQ1MDogIk0nQ0FLRSIsCgkJCQk0NTE6ICLnvo7oibLllYbln44iLAoJCQkJNDUyOiAi6K+65b+D6JuL57OV5a6Y572RIiwKCQkJCTQ1MzogIueugOWNleWtpuS5oOe9kSIsCgkJCQk0NTQ6ICLnsr7ljY7lnKjnur8iLAoJCQkJNDU1OiAi5qGD6Iqx5Z2eIiwKCQkJCTQ1NjogIumSu+efs+Wwj+m4n+WumOe9kSIsCgkJCQk0NTc6ICLlurfnvo7lgaXlurfllYbln44iLAoJCQkJNDU4OiAi5L2Q5Y2h5LyK5a6Y572RIiwKCQkJCTQ1OTogIua3mOS5pue9kSIsCgkJCQk0NjA6ICLniLHkuYvosLciLAoJCQkJNDYxOiAi6ZOB5Y+L5peF6KGM572RIiwKCQkJCTQ2MjogIuiOhueUsOe9kSIsCgkJCQk0NjM6ICLlkbPlpJrnvo7lrpjnvZEiLAoJCQkJNDY0OiAi5p6X5riF6L2p5a6Y572RIiwKCQkJCTQ2NzogIue+juWbvei0reeJqee9kSIsCgkJCQk0Njg6ICLlk4HlsJrmsYciLAoJCQkJNDY5OiAi5p+S54mM5a6Y5pa55ZWG5Z+OIiwKCQkJCTQ3MDogIua4uOWkmuWkmuWuouagiCIsCgkJCQk0NzE6ICIxNjg45bmz5Lu357K+6YCJIiwKCQkJCTQ3MjogIuS8mOS4que9kSIsCgkJCQk0NzM6ICLlpKfmnLTnvZEiLAoJCQkJNDc0OiAi6JaH6K+65aic5a6Y572RIiwKCQkJCTQ3NTogIuiUmuiTneWbvuS5pue9kSIsCgkJCQk0NzY6ICLlsbHohInmiLflpJYiLAoJCQkJNDc3OiAi5L2V6YeR5piM5a6Y572RIiwKCQkJCTQ3ODogIuS5sOiMtue9kSIsCgkJCQk0Nzk6ICLkvJhl572RIiwKCQkJCTQ4MDogIjUxWU9V5peF5ri4572RIiwKCQkJCTQ4MTogIuWMl+WPkeWbvuS5pue9kSIsCgkJCQk0ODI6ICLmmbblk4HnvZEiLAoJCQkJNDgzOiAi5Y2O5L2X6I2v5oi/IiwKCQkJCTQ4NDogIuWogemUi+WVhuWfjiIsCgkJCQk0ODU6ICLor7rkuIDoia/lk4EiLAoJCQkJNDg2OiAi5ZKM6Iy2572RIiwKCQkJCTQ4NzogIuWkqeaXtuaxh+WumOe9kSIsCgkJCQk0ODg6ICLotqPnvZHllYbln44iLAoJCQkJNDg5OiAi6Jyc5p+a5peF6KGMIiwKCQkJCTQ5MDogIuWlveiNr+W4iOe9keS4iuiNr+W6lyIsCgkJCQk0OTE6ICJJRFjniLHlrprlrqIiLAoJCQkJNDkyOiAi5LyY6ZuFMTAwIiwKCQkJCTQ5MzogIlMmU+Wls+ijhSIsCgkJCQk0OTQ6ICLlgKnnoqfnvo7lm73lrpjnvZEiLAoJCQkJNDk1OiAi5Y2O5aSPZeW9kyIsCgkJCQk0OTY6ICJCcm9va3MgQnJvdGhlcnMiLAoJCQkJNDk3OiAi5qyn576O5reYIiwKCQkJCTQ5ODogIuWNsOmAmuWkqeS4iyIsCgkJCQk0OTk6ICLlk6XkvKbmr5Tkuprnvo7lm73lrpjnvZEiLAoJCQkJNTAwOiAiQkVTVOWFqOeQg+i0rSIsCgkJCQk1MDE6ICJOZXcgQmFsYW5jZee+juWbveWumOe9kSIsCgkJCQk1MDI6ICLkuIfpm4blrqIiLAoJCQkJNTAzOiAiQmFsbHnoi7Hlm73lrpjnvZEiLAoJCQkJNTA0OiAi5LiA5Zeo56ef6L2mIiwKCQkJCTUwNTogIuWYieWIqeaIkCIsCgkJCQk1MDY6ICLlpJrluoblsYvkuK3mloflrpjnvZEiLAoJCQkJNTA3OiAiRm9yZXZlciAyMSIsCgkJCQk1MDg6ICLmkannmbvlpKfpgZMiLAoJCQkJNTA5OiAi5pyo6bif55+t56efIiwKCQkJCTUxMDogIuacgOS8mua4uCIsCgkJCQk1MTE6ICLkuK3ljp/lnLDkuqciLAoJCQkJNTEyOiAiQm9iYmkgQnJvd27nvo7lm73lrpjnvZEiLAoJCQkJNTEzOiAiU3VwZXItaW4iLAoJCQkJNTE0OiAi5rGJ6LSt572RIiwKCQkJCTUxNTogIkxldmlz5b635Zu95a6Y572RIiwKCQkJCTUxNjogIuaWkOS5kEZJTEHlrpjmlrnllYbln44iLAoJCQkJNTE3OiAi5Yyh5aiB5Lit5Zu95a6Y5pa55ZWG5Z+OIiwKCQkJCTUxODogIk5leHTnvo7lm73lrpjnvZEiLAoJCQkJNTE5OiAiaVRyaXDniLHljrvml4XooYznvZEiLAoJCQkJNTIwOiAi5ouJ5omL572RIiwKCQkJCTUyMTogIuWFreS4sOWVhuWfjiIsCgkJCQk1MjI6ICLlkIzku4HloILlpKnnhLbmt5giLAoJCQkJNTIzOiAi5oiR6K6i6IqxIiwKCQkJCTUyNDogIkZvb2RpIiwKCQkJCTUyNTogIuS4reWbveajruael+mjn+WTgee9kSIsCgkJCQk1MjY6ICLpppnmuK/ljZPmgqbljJblpoblk4EiLAoJCQkJNTI3OiAi57u05LuW6LStIiwKCQkJCTUyODogIumHkea1t+mprOWVhuWfjiIsCgkJCQk1Mjk6ICLkuq7lgaXlpb3oja/miL8iLAoJCQkJNTMwOiAi5ZSx5ZCn55u05pKt6Ze0IiwKCQkJCTUzMTogIk9ha2xleee+juWbveWumOe9kSIsCgkJCQk1MzI6ICLpgLjooYznvZEiLAoJCQkJNTMzOiAiQ2xhcmtz576O5Zu95a6Y572RIiwKCQkJCTUzNDogIlN0YXJ3b29kIEhvdGVscyIsCgkJCQk1MzU6ICJNYXJyaW90dOS4h+ixque+juWbveWumOe9kSIsCgkJCQk1MzY6ICJZZXMgU3R5bGUiLAoJCQkJNTM3OiAiRXZpc3XkuK3mloflrpjnvZEiLAoJCQkJNTM4OiAiTGlmZSdzIEVhc3kiLAoJCQkJNTM5OiAi5a6g5a6g54aK5a6Y5pa55ZWG5Z+OIiwKCQkJCTU0MDogIjAwNjHmvrPmtLLliLbpgKAiLAoJCQkJNTQxOiAiS0vppoblhajnkIPotK0iLAoJCQkJNTQyOiAiU3R5bGUgTydDbG9jayIsCgkJCQk1NDM6ICLphY3lpLjlhajnkIPotK0iLAoJCQkJNTQ0OiAiQWlyIEZyYW5jZSIsCgkJCQk1NDU6ICJBY2NvciBIb3RlbHPkuK3mloflrpjnvZEiLAoJCQkJNTQ2OiAiU3BhY2UuTksiLAoJCQkJNTQ3OiAi5Zeo5Y6o5oi/IiwKCQkJCTU0ODogIlcgQ29uY2VwdCIsCgkJCQk1NDk6ICJHQU5U6Iux5Zu95a6Y572RIiwKCQkJCTU1MDogIkNBVCBGb290d2VhcuiLseWbveWumOe9kSIsCgkJCQk1NTE6ICJTYXVjb2556Iux5Zu95a6Y572RIiwKCQkJCTU1MjogIumAoOS9nOWutuWxhSIsCgkJCQk1NTM6ICLlsI/lpKnpuYXlrpjmlrnllYbln44iLAoJCQkJNTU0OiAiQ0FO55yL5bCa5ZWG5Z+OIiwKCQkJCTU1NTogIuaXtuWwmuaXpeiusCIsCgkJCQk1NTY6ICJHdWVzc+a+s+Wkp+WIqeS6muWumOe9kSIsCgkJCQk1NTc6ICJFdGloYWQgQWlyd2F5cyIsCgkJCQk1NTg6ICJGSUlM5ZWG5Z+OIiwKCQkJCTU1OTogIuWFjeeojuaYk+i0rSIsCgkJCQk1NjA6ICLnibnotK3npL4iLAoJCQkJNTYxOiAiV2lnZ2xl5Lit5paH5a6Y572RIiwKCQkJCTU2MjogIk1lbGlzc2HpppnmuK/lrpjnvZEiLAoJCQkJNTYzOiAi56eR5rKD5pav5a6Y5pa55ZWG5Z+OIiwKCQkJCTU2NDogIkNhbHZpbiBLbGVpbiIsCgkJCQk1NjU6ICJNRU1FQk9Y576O576O566xIiwKCQkJCTU2NjogIkhpbHRvbue+juWbveWumOe9kSIsCgkJCQk1Njc6ICJSZXZvbHZlIENsb3RoaW5nIiwKCQkJCTU2ODogIui1hOeUn+Wggue+juWbveWumOe9kSIsCgkJCQk1Njk6ICLlqIfpn7Xor5fnvo7lm73lrpjnvZEiLAoJCQkJNTcwOiAiU3RhcmJ1Y2tz576O5Zu95a6Y572RIiwKCQkJCTU3MTogIlJheS1CYW7nvo7lm73lrpjnvZEiLAoJCQkJNTcyOiAiUHVtYee+juWbveWumOe9kSIsCgkJCQk1NzM6ICJOYXV0aWNh576O5Zu95a6Y572RIiwKCQkJCTU3NDogIkxhIE1lcue+juWbveWumOe9kSIsCgkJCQk1NzU6ICJLaXBsaW5n576O5Zu95a6Y572RIiwKCQkJCTU3NjogIkp1cmxpcXVl576O5Zu95a6Y572RIiwKCQkJCTU3NzogIkh1c2ggUHVwcGllcyIsCgkJCQk1Nzg6ICJPcmlnaW5z576O5Zu95a6Y572RIiwKCQkJCTU3OTogIkZvbGxpIEZvbGxpZee+juWbveWumOe9kSIsCgkJCQk1ODA6ICJMJ09jY2l0YW5l576O5Zu95a6Y572RIiwKCQkJCTU4MTogIum6pueUsCIsCgkJCQk1ODI6ICLmg6Dmma7lrpjmlrnllYbln44iLAoJCQkJNTgzOiAi5Zu95aSn5Zyw5LqnIiwKCQkJCTU4NDogIummluWutuWVhuWfjiIsCgkJCQk1ODU6ICLpnZLlsptR5oi/572RIiwKCQkJCTU4NjogIuW5v+W3nuWutuWutumhuuaIv+S6p+e9kSIsCgkJCQk1ODc6ICLmna3lt57osarkuJbljY7pgqbmiL/kuqfnvZEiLAoJCQkJNTg4OiAiSGVhbHRoUG9zdCIsCgkJCQk1ODk6ICLmiL/lpKnkuIsiLAoJCQkJNTkwOiAi5qKm5oOz5Lmm5Z+OIiwKCQkJCTU5MTogIua1t+S8mOS4lue6qummhiIsCgkJCQk1OTI6ICLmiavotKfnibnljZYiLAoJCQkJNTkzOiAi54Ot5ouN572RIiwKCQkJCTU5NDogIuiaguiageefreennyIsCgkJCQk1OTU6ICLpk7bnpajnvZEiLAoJCQkJNTk2OiAi54ix6JmO5L+dIiwKCQkJCTU5NzogIkluY2FrZeWumOe9kSIsCgkJCQk1OTg6ICLogZrmmJ/nm7Tmkq0iLAoJCQkJNTk5OiAi6Im6572RIiwKCQkJCTYwMDogIuW6t+i+ieaXheihjOe9kSIsCgkJCQk2MDE6ICLlronpgILotK3mtbflpJbllYbln44iLAoJCQkJNjAyOiAi6Zy56Zuz54i454i45rW35reY5bmz5Y+wIiwKCQkJCTYwMzogIuWwj+eJm+WcqOe6vyIsCgkJCQk2MDQ6ICJBSEFWQSIsCgkJCQk2MDU6ICJGaWZ0aCIsCgkJCQk2MDY6ICJUaGUgV2F0Y2ggSHV0IiwKCQkJCTYwNzogIkJhYnlIYXZlbuS4reaWh+e9kSIsCgkJCQk2MDg6ICLnjqvkuL3nvZEiLAoJCQkJNjA5OiAiR2V0IFRoZSBMYWJlbCDkuK3mlofnvZEiLAoJCQkJNjEwOiAi5p2+5bGL55m+6LSn5Lit5paH572RIiwKCQkJCTYxMTogIlRpbWJlcmxhbmQiLAoJCQkJNjEyOiAiVG9wbWFuIiwKCQkJCTYxMzogIkhvbWVBd2F5IiwKCQkJCTYxNDogIkJlYXV0eSBFeHBlcnQiLAoJCQkJNjE1OiAi5rW36Jyc5Lil6YCJIiwKCQkJCTYxNjogIk1hbmtpbmQiLAoJCQkJNjE3OiAiVGhlIEh1dCIsCgkJCQk2MTg6ICJUb3BzaG9wIiwKCQkJCTYxOTogIk1hbWFsYWRlbiIsCgkJCQk2MjA6ICJUcmF2ZWxlciBzdG9yZSIsCgkJCQk2MjE6ICJUcmF2ZWx6b28iLAoJCQkJNjIyOiAiVU1JIENoaWxkcmVuJ3MgU2hvZXMiLAoJCQkJNjIzOiAi5paw56eA5Li9576O5Zu95a6Y572RIiwKCQkJCTYyNDogIkZlcnJhcmkgU3RvcmUiLAoJCQkJNjI1OiAiV2lsbGVyIFRyYXZlbCIsCgkJCQk2MjY6ICJVbmluZWVkIiwKCQkJCTYyNzogIkFjbmUgU3R1ZGlvc+S4reaWh+e9kSIsCgkJCQk2Mjg6ICJBZXJvcG9zdGFsZSIsCgkJCQk2Mjk6ICJBZ29kYeS4reaWh+ermSIsCgkJCQk2MzA6ICJBbGJhIE1vZGEiLAoJCQkJNjMxOiAiQWxsYmVhdXR5IiwKCQkJCTYzMjogIkFsbFNhaW50cyIsCgkJCQk2MzM6ICJBbGxzb2xlIiwKCQkJCTYzNDogIlVyYmFuIE91dGZpdHRlcnMiLAoJCQkJNjM1OiAiVml0YWJpb3RpY3MiLAoJCQkJNjM2OiAiQmVsbGUgTWFpc29uIiwKCQkJCTYzNzogIui0neeOsuWmg+e+juWbveWumOe9kSIsCgkJCQk2Mzg6ICJCSCBDb3NtZXRpY3MiLAoJCQkJNjM5OiAi576O6I6x5paw6Z2S5bm0IiwKCQkJCTY0MDogIlZpdGFtaW4gQmF5IiwKCQkJCTY0MTogIldhaXRyb3NlIiwKCQkJCTY0MjogIldvbGZvcmQiLAoJCQkJNjQzOiAiQm9vaG9vIiwKCQkJCTY0NDogIkJvb3RzLmNvbSIsCgkJCQk2NDU6ICJCcml0aXNoIENvcm5lciBTaG9wIiwKCQkJCTY0NjogIuWunOS6uui0tyIsCgkJCQk2NDc6ICLokKTnn7PllYbln44iLAoJCQkJNjQ4OiAiQ29nZ2xlcy5jb20iLAoJCQkJNjQ5OiAiQ29yc2V0IERlYWwiLAoJCQkJNjUwOiAiQ09UVE9OIE9OIiwKCQkJCTY1MTogIkNyb2Nz6Iux5Zu95a6Y572RIiwKCQkJCTY1MjogIkNSVUlTRSIsCgkJCQk2NTM6ICJEZWxs576O5Zu95a6Y572RIiwKCQkJCTY1NDogIkRlcm1zdG9yZSIsCgkJCQk2NTU6ICJEaXNuZXkgU3RvcmUiLAoJCQkJNjU2OiAiRG9yb3RoeSBQZXJraW5zIiwKCQkJCTY1NzogIueXmOeXmOW6t+WumOaWueWVhuWfjiIsCgkJCQk2NTg6ICLluqblgYflrqIiLAoJCQkJNjU5OiAiRHVuZSBMb25kb24iLAoJCQkJNjYwOiAiRWFzdGJheSIsCgkJCQk2NjE6ICJFYXN0IERhbmXkuK3mlofnvZEiLAoJCQkJNjYyOiAiWmFmdWwiLAoJCQkJNjYzOiAiWmF2dmkiLAoJCQkJNjY0OiAiRmVpbmtlaXQuZGUiLAoJCQkJNjY1OiAiZWlibWFya3QiLAoJCQkJNjY2OiAiQmVsbHVuYeS4reaWh+e9kSIsCgkJCQk2Njc6ICJFbWlyYXRlc+mYv+iBlOmFi+iIqiIsCgkJCQk2Njg6ICJFYXN0ZXJuIE1vdW50YWluIFNwb3J0cyIsCgkJCQk2Njk6ICJFVEVSTkEiLAoJCQkJNjcwOiAiRXVyYWlsIiwKCQkJCTY3MTogIkV4YW50ZSBEaWV0IiwKCQkJCTY3MjogIkV4cGVkaWEgVUsiLAoJCQkJNjczOiAiRkFMS0UiLAoJCQkJNjc0OiAiRmFtb3VzIEZvb3R3ZWFyIiwKCQkJCTY3NTogIkJvbnBvbnQiLAoJCQkJNjc2OiAiRm9yZW8iLAoJCQkJNjc3OiAi572R5L+hIiwKCQkJCTY3ODogIkZvcmV2ZXIgVW5pcXVlIiwKCQkJCTY3OTogIkZvcnppZXJpIiwKCQkJCTY4MDogIkZyZWUgQ291bnRyeSIsCgkJCQk2ODE6ICJDRVJSVVRJIDE4ODEiLAoJCQkJNjgyOiAiRnJlbmNoIENvbm5lY3Rpb24iLAoJCQkJNjgzOiAiR2lmdCBsYW5kIiwKCQkJCTY4NDogIkN1bHQgQmVhdXR5IiwKCQkJCTY4NTogIkZhbmN5IiwKCQkJCTY4NjogIktlbnQmQ3Vyd2VuIiwKCQkJCTY4NzogIkdyb3cgR29yZ2VvdXPkuK3mlofnvZEiLAoJCQkJNjg4OiAiS29yZWFuTWFsbOS4reaWh+ermSIsCgkJCQk2ODk6ICJTVFlMRUJPUC5jb20iLAoJCQkJNjkwOiAiSE9URUwgSU5GTyIsCgkJCQk2OTE6ICJIb3VzZSBvZiBGcmFzZXIiLAoJCQkJNjkyOiAi5oOg56ef6L2mIiwKCQkJCTY5MzogIlZpdGFtaW4gUGxhbmV0IiwKCQkJCTY5NDogIldvdyBNYWxsIiwKCQkJCTY5NTogIklXT09UIiwKCQkJCTY5NjogIuiusueptuWVhuWfjiIsCgkJCQk2OTc6ICJZQS1NQU4iLAoJCQkJNjk4OiAi5rW35L+d5L+d6ZmpIiwKCQkJCTY5OTogIkp1aWN5IENvdXR1cmUiLAoJCQkJNzAwOiAiS2Vua28iLAoJCQkJNzAxOiAiVGhlIGpld2VsIGh1dCIsCgkJCQk3MDI6ICJLSUtP576O5Zu95a6Y572RIiwKCQkJCTcwMzogIkxhbmNlciBTa2luY2FyZSIsCgkJCQk3MDQ6ICJMRUdPIHNob3AiLAoJCQkJNzA1OiAiTW9zcyBCcm9zIiwKCQkJCTcwNjogIkxvcmQgJiBUYXlsb3IiLAoJCQkJNzA3OiAiU3R5bGVuYW5kYeS4reaWh+e9kSIsCgkJCQk3MDg6ICLkurrljavmmbrnvZEiLAoJCQkJNzA5OiAi5pyJ6YGT57+76K+RIiwKCQkJCTcxMDogIkZpbHRoeSBGcmFncmFuY2UiLAoJCQkJNzExOiAi6bqm55+l572RIiwKCQkJCTcxMjogIk1hdGNoZXNGYXNoaW9uIiwKCQkJCTcxMzogIuadvuacrOa4hSIsCgkJCQk3MTQ6ICLnp7vliqjllYbooZciLAoJCQkJNzE1OiAiTWljcm9zb2Z0IFN0b3JlIiwKCQkJCTcxNjogIk1pbyBTa2luY2FyZeS4reaWh+ermSIsCgkJCQk3MTc6ICJNaXNzIFNlbGZyaWRnZSIsCgkJCQk3MTg6ICJNb3VudGFpbiBHZWFyIiwKCQkJCTcxOTogIjM2MOWlveiNryIsCgkJCQk3MjA6ICJNeSBCYWciLAoJCQkJNzIxOiAiTXlwcm90ZWluIiwKCQkJCTcyMjogIue+jumqkeaYk+i0reWVhuWfjiIsCgkJCQk3MjM6ICJNeXZpdGFtaW5zIiwKCQkJCTcyNDogIk5FVC1BLVBPUlRFUuS4reaWh+e9kSIsCgkJCQk3MjU6ICJOZXcgQmFsYW5jZeiLseWbveWumOe9kSIsCgkJCQk3MjY6ICLlj67lvZPlv6voja8iLAoJCQkJNzI3OiAiTmV3IExvb2siLAoJCQkJNzI4OiAi5Lit5Y2O5Lya6K6h572R5qChIiwKCQkJCTcyOTogIuW/hei/iOWumOe9kSIsCgkJCQk3MzA6ICLogJDlhYvpppnmuK/lrpjnvZEiLAoJCQkJNzMxOiAi6ICQ5YWL5be06KW/5a6Y572RIiwKCQkJCTczMjogIuaYoOWuouebtOaSrSIsCgkJCQk3MzM6ICJOZXcgWW9yayAmIENvbXBhbnkiLAoJCQkJNzM0OiAiT2FzaXPoi7Hlm73lrpjnvZEiLAoJCQkJNzM1OiAiT3JiaXR6IiwKCQkJCTczNjogIk9yY2hpcmEiLAoJCQkJNzM3OiAiT3JpZ2luc+iLseWbveWumOe9kSIsCgkJCQk3Mzg6ICJQZXRTbWFydCIsCgkJCQk3Mzk6ICLlkJvono3otLciLAoJCQkJNzQwOiAi5ZOq5ouN572RIiwKCQkJCTc0MTogIuagvOWKm+WumOaWueWVhuWfjiIsCgkJCQk3NDI6ICJQcm9CaWtlS2l0IiwKCQkJCTc0MzogIlFhdGFyIEFpcndheXPljaHloZTlsJToiKrnqboiLAoJCQkJNzQ0OiAiUmFkbGV56Iux5Zu95a6Y572RIiwKCQkJCTc0NTogIuWuieiBlOS/nemZqSIsCgkJCQk3NDY6ICJSYWxwaCBMYXVyZW4iLAoJCQkJNzQ3OiAiUmViZWNjYSBNaW5rb2ZmIiwKCQkJCTc0ODogIuS8mOexs+e9kSIsCgkJCQk3NDk6ICIyMUNha2UiLAoJCQkJNzUwOiAiUmVudGFsY2FyIiwKCQkJCTc1MTogIkRyLiBQaWVycmUgUmljYXVkIiwKCQkJCTc1MjogIlJvY2twb3J0IiwKCQkJCTc1MzogIlJ1ZWxhbGEiLAoJCQkJNzU0OiAiNTbkurrml4XmuLjnvZEiLAoJCQkJNzU1OiAiU2FrcyBGaWZ0aCBBdmVudWUgT0ZGIDVUSCIsCgkJCQk3NTY6ICLlronnurPloZTmi4kiLAoJCQkJNzU3OiAiU0MyNC5jb20iLAoJCQkJNzU4OiAi6L2m6YCf6YCS56ef6L2mIiwKCQkJCTc1OTogIlNIT0VTLkNPTSIsCgkJCQk3NjA6ICJTcHJpbmciLAoJCQkJNzYxOiAiU2ltcGx5IFN1cHBsZW1lbnRzIiwKCQkJCTc2MjogIuWunOWSjOi0reeJqSIsCgkJCQk3NjM6ICJGYXJmZXRjaOS4reaWh+e9kSIsCgkJCQk3NjQ6ICJTc2Vuc2UiLAoJCQkJNzY1OiAiU3RldmUgTWFkZGVuIiwKCQkJCTc2NjogIkZyZWUgUGVvcGxl5Lit5paH572RIiwKCQkJCTc2NzogIumrmOaQnOaYkyIsCgkJCQk3Njg6ICJpTW9tb2tv5Lit5paH572RIiwKCQkJCTc2OTogIua3mOixhiIsCgkJCQk3NzA6ICJNaWNoYWVsIEtvcnPkuK3mlofnvZEiLAoJCQkJNzcxOiAi5LiJ5L2z6LSt54mpIiwKCQkJCTc3MjogIuiBlOmHkeaJgCIsCgkJCQk3NzM6ICLlroXosYbnvZEiLAoJCQkJNzc0OiAi572R5piT5LqRIiwKCQkJCTc3NTogIuW+t+WbveiNr+aIv2Fwby5jb23kuK3mlofnvZEiLAoJCQkJNzc2OiAi6K+756eSIiwKCQkJCTc3NzogIuWlveS6q+WVhuWfjiIsCgkJCQk3Nzg6ICLopb/ni5flhajnkIPotK0iLAoJCQkJNzc5OiAi546p5ZOq572RIiwKCQkJCTc4MDogIue0q+mprOi0ouihjCIsCgkJCQk3ODE6ICLph5HnjKvpk7bnjKsiLAoJCQkJNzgyOiAi6Leo5aKD572RIiwKCQkJCTc4MzogIk1pbGxlbm5pdW0mQ29wdGhvcm5lIEhvdGVsc+S4reaWh+e9kSIsCgkJCQk3ODQ6ICJSZWVib256IiwKCQkJCTc4NTogIuiWh+e+jumTuiIsCgkJCQk3ODY6ICLkupTmtLLkvJrmtbfotK0iLAoJCQkJNzg3OiAi5oOg5a625pyJIiwKCQkJCTc4ODogIk1lbGkgTWVsb+S4reaWh+e9kSIsCgkJCQk3ODk6ICLlsI/otKLov7ciLAoJCQkJNzkwOiAiQXNoZm9yZOS4reaWh+e9kSIsCgkJCQk3OTE6ICLpn6nlm71DSk9ObWFydOS4reaWh+e9kSIsCgkJCQk3OTI6ICLnm4rpkrHnvZEiLAoJCQkJNzkzOiAiVEhFIEdSQU5E5Lit5paH5YWN56iO5bqXIiwKCQkJCTc5NDogIuasp+i/quWKnuWFrCIsCgkJCQk3OTU6ICLlpKnombnnvZHkuIrllYbln44iLAoJCQkJNzk2OiAi5Lul5bKt5YGl5bq35Z+OIiwKCQkJCTc5NzogIuWuoui3r+aXheihjCIsCgkJCQkxMDAxOiAi5Lqa6ams6YCK56ys5LiJ5pa5IiwKCQkJCTEwMDM6ICLkuqzkuJzmiYvmnLrnq68iLAoJCQkJMTAxNTogIuaYk+i/heWMl+S6rCIsCgkJCQkxMDI1OiAi6IuP5a6B5YyX5LqsIiwKCQkJCTEwMzE6ICLkuIDlj7flupfkuIrmtbciLAoJCQkJMTAzMjogIuS4reeyruaIkeS5sOe9keWNjuS4nCIsCgkJCQkxMTI0OiAi5Li65Li6572R5YyX5LqsIiwKCQkJCTExMjY6ICLpobrkuLDkuIrmtbciLAoJCQkJMjAwMzogIuS6rOS4nOW+ruS/oeerryIsCgkJCQkyMDE1OiAi5piT6L+F5bm/5LicIiwKCQkJCTIwMjU6ICLoi4/lroHlub/lt54iLAoJCQkJMjAzMTogIuS4gOWPt+W6l+W5v+S4nCIsCgkJCQkyMDMyOiAi5Lit57Ku5oiR5Lmw5Y2O5Y2XIiwKCQkJCTIxMjY6ICLpobrkuLDlub/lt54iLAoJCQkJMzAxNTogIuaYk+i/hea5luWMlyIsCgkJCQkzMDI1OiAi6IuP5a6B5oiQ6YO9IiwKCQkJCTMwMzE6ICLkuIDlj7flupfmuZbljJciLAoJCQkJNDAzMTogIuS4gOWPt+W6l+Wbm+W3nSIKCQkJfTsKCQllLmV4cG9ydHMuZ2V0U2l0ZUlkID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gYVtlXQoJCX0sIGUuZXhwb3J0cy5nZXRTaXRlTmFtZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJcmV0dXJuIHQgfHwgKHQgPSBhW2VdKSwgb1t0XQoJCX07CgkJdmFyIHIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCXZhciBpID0gbig2NiksCgkJCQlvID0gLTE7CgkJCWlmICgobyA9IGFbZV0pICYmIGlbb10pIHsKCQkJCXZhciByID0gaVtvXShkb2N1bWVudCk7CgkJCQlyICYmIChyLndhaXQgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5fbGlua3MpLCB0KG8sIHIpCgkJCQl9LCA1NTAwKSA6IHQobywgcikpCgkJCX0KCQl9OwoJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0IGluIGkpCgkJCQlpZiAoZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUubWF0Y2godCkpIHsKCQkJCQlyKGlbdF0sIGUpOwoJCQkJCWJyZWFrCgkJCQl9CgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIG4gPSB7CgkJCXRpbWVvdXQ6IDFlMywKCQkJcHJpY2VGb3JtYXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCXQgPSB0IHx8ICIuIiwgbiA9IG4gfHwgIiwiLCBlID0gIiIgKyBlOwoJCQkJdmFyIGkgPSBlLnJlcGxhY2UobiwgIiIpLnJlcGxhY2UodCwgIi4iKTsKCQkJCWlmIChpID0gaS5tYXRjaCgvWzAtOS5dKy8pKSB0cnkgewoJCQkJCXJldHVybiBwYXJzZUZsb2F0KGkpCgkJCQl9IGNhdGNoIChhKSB7CgkJCQkJcmV0dXJuIC0xCgkJCQl9CgkJCX0sCgkJCXRlbXBsYXRlOiBmdW5jdGlvbihlLCB0LCBpKSB7CgkJCQlmb3IgKHZhciBhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKSwgbyA9IFtdLCByID0gMDsgciA8IGEubGVuZ3RoOyArK3IpIHRyeSB7CgkJCQkJdmFyIHMgPSBhW3JdLnF1ZXJ5U2VsZWN0b3IodCkuaHJlZiwKCQkJCQkJbCA9IGFbcl0ucXVlcnlTZWxlY3RvcihpKS50ZXh0Q29udGVudC50cmltKCk7CgkJCQkJby5wdXNoKHsKCQkJCQkJdXJsOiBzLAoJCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihsKSwKCQkJCQkJY3JjMzI6ICIiCgkJCQkJfSkKCQkJCX0gY2F0Y2ggKGMpIHsKCQkJCQljb250aW51ZQoJCQkJfQoJCQkJcmV0dXJuIG8KCQkJfQoJCX07CgkJblsxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IFtdLCBpID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIucy1yZXN1bHQtaXRlbSIpLCBhID0gMDsgYSA8IGkubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQlmb3IgKHZhciBvID0gaVthXS5xdWVyeVNlbGVjdG9yKCIucy1hY2Nlc3MtaW1hZ2UiKTsgIW8ucGFyZW50Tm9kZS5ocmVmICYmIG8ucGFyZW50Tm9kZSAhPSBlLmJvZHk7KSBvID0gby5wYXJlbnROb2RlOwoJCQkJaWYgKG8ucGFyZW50Tm9kZSA9PSBlLmJvZHkpIGNvbnRpbnVlOwoJCQkJdmFyIHIgPSBvLnBhcmVudE5vZGUuaHJlZiwKCQkJCQlzID0gaVthXS5xdWVyeVNlbGVjdG9yKCJkaXY+LmEtc3BhY2luZy1taW5pPi5hLXNwYWNpbmctbm9uZT5hPnNwYW4iKTsKCQkJCXMgfHwgKHMgPSBpW2FdLnF1ZXJ5U2VsZWN0b3IoInNwYW4uYS1jb2xvci1wcmljZSIpKSwgdC5wdXNoKHsKCQkJCQl1cmw6IHIsCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIocy50ZXh0Q29udGVudCksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChsKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiB0CgkJfSwgblsyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJdmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiNzZWFyY2hfbmF0dXJlX3JnIGxpIik7CgkJCXQubGVuZ3RoIHx8ICh0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudCAuc2hvcF9ib3giKSksIHQubGVuZ3RoIHx8ICh0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIuc2hvcGxpc3Q+dWw+bGkiKSk7CgkJCWZvciAodmFyIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoImEucGljIikuaHJlZiwKCQkJCQlyID0gdFthXS5xdWVyeVNlbGVjdG9yKCIucHJpY2U+c3BhbiIpLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7CgkJCQlpLnB1c2goewoJCQkJCXVybDogbywKCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihyKSwKCQkJCQljcmMzMjogIiIKCQkJCX0pCgkJCX0gY2F0Y2ggKHMpIHsKCQkJCWNvbnRpbnVlCgkJCX0KCQkJcmV0dXJuIGkKCQl9LCBuWzNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLm0tbGlzdCAuZ2wtd2FycD5saSIsICIucC1pbWc+YSIsICIucC1wcmljZSBlbStpIikKCQl9LCBuWzZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLml0ZW0tYmxvY2siLCAiYS5jdHItdHJhY2siLCAiYS5wcmljZSIpCgkJfSwgbls3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5tYWluIC5wcm9saXN0PmxpIiwgImEiLCAic3Bhbi5wcmljZSIpCgkJfSwgblsxMF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuaXRlbSIsICJhLnRobWIiLCAiLnByYz5zdHJvbmciKQoJCX0sIG5bMTJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3NlYXJjaFJlc3VsdExpc3REaXYgbGkiLCAiLnByb1BpYz5hIiwgIi5wcm9QcmljZSIpCgkJfSwgblsxM10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcHJvZHVjdERpdkdyb3VwPi5wcnV3cmFwIiwgImEiLCAic3Bhbi5wcmljZSIpCgkJfSwgblsxNF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdF9saXN0PmRsIiwgImR0PmEiLCAiaS5wcmljZSIpCgkJfSwgblsxNl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuc21MaXN0PnVsPmxpIiwgIi5wcm8xNTUgYSIsICJzcGFuLm9mZiIpCgkJfSwgblsxN10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuY2hhcExpc3QgZGwiLCAiYSIsICJzcGFuPmZvbnQiKQoJCX0sIG5bMThdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dvb2RzUGFuZWwgbGlbY2xhc3NdIiwgImEiLCAiLmNsYXNzaWZ5X3ByaWNlPnNwYW4iKQoJCX0sIG5bMTldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3ZhbmNscHJvZHVjdHM+dWw+bGkiLCAiLnBpYyBhIiwgIi5TcHJpY2UiKQoJCX0sIG5bMjFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdsLWl0ZW0iLCAiLmdsLWltZz5hIiwgIi5va3ByaWNlIikKCQl9LCBuWzIyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9fbGlzdCB1bCBsaSIsICIucHJvX2ltZz5hIiwgIi5wcm9fcHJpY2UiKQoJCX0sIG5bMjRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2xpc3Q+dWw+bGkiLCAiLnBpYz5hIiwgIi5yZWFsLXByaWNlPmVtIikKCQl9LCBuWzI1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoImxpLnByb2R1Y3QiLCAiLnJlcy1vcHQgYTpmaXJzdC1jaGlsZCIsICIucHJpY2UiKQoJCX0sIG5bMjddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnNob3dzIiwgImEiLCAiLm5ldyIpCgkJfSwgblsyOF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcHJvZHVjdC1ib3g+bGkiLCAiYS5pdGVtLWxpbmsiLCAiLnByaWNlIikKCQl9LCBuWzMxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNpdGVtU2VhcmNoTGlzdCAubW9kX3NlYXJjaF9wcm8iLCAiLnByb0ltZyBhIiwgIi5wcm9QcmljZSAubnVtIikKCQl9LCBuWzMzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9waWNMaXN0IC5wcm9kdWN0cyIsICIucGljPmEiLCAiLmRpc1ByaWNlIikKCQl9LCBuWzM0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5jb250ZW50IHVsIGxpIiwgImEiLCAic3Ryb25nLnByaWNlIikKCQl9LCBuWzM1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5pdGVtIiwgIi5waWM+YSIsICJzcGFuLnNob3dwcmljZSIpCgkJfSwgblszNl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjanMtZ29vZHMtbGlzdD51bD5saSIsICJhIiwgInN0cm9uZy5yZWQiKQoJCX0sIG5bMzldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3Byb2FjdGl2ZT5saSIsICIucHJvLWltZyBhIiwgIi5wcmljZSBiLmZvbnRZSGVpIikKCQl9LCBuWzQwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5MX2JveGxpc3QiLCAiZHQ+YSIsICIuTF9ybWJfeHVqIikKCQl9LCBuWzQxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zX3Byb19saXN0IGxpIiwgIi5waWM+YSIsICIucHJpY2UiKQoJCX0sIG5bNDJdID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjbWFpbl90YWJsZT50Ym9keT50ci5pbWcsI21haW5fdGFibGU+dGJvZHk+dHIucHJpY2UiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyBhICs9IDIpIHRyeSB7CgkJCQlmb3IgKHZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZCIpLCByID0gdFthICsgMV0ucXVlcnlTZWxlY3RvckFsbCgidGQiKSwgcyA9IDA7IHMgPCBvLmxlbmd0aDsgKytzKSB7CgkJCQkJdmFyIGwgPSBvW3NdLnF1ZXJ5U2VsZWN0b3IoImEiKS5ocmVmLAoJCQkJCQljID0gcltzXS5xdWVyeVNlbGVjdG9yKCJzcGFuLnByaWNlIikudGV4dENvbnRlbnQ7CgkJCQkJaS5wdXNoKHsKCQkJCQkJdXJsOiBsLAoJCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihjKSwKCQkJCQkJY3JjMzI6ICIiCgkJCQkJfSkKCQkJCX0KCQkJfSBjYXRjaCAoZCkgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bNDNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmNwbGlzdD5kbCIsICJkdCBhIiwgIi5wcm8tcHJpY2U+c3Bhbj5zcGFuIikKCQl9LCBuWzQ1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNnYWxsZXJ5X3Nob3c+dWw+bGkiLCAiLmFycml2YWxzLXBpYyBhIiwgInNwYW4ucHJpY2UiKQoJCX0sIG5bNTFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnJlc3VsdD51bD5saSIsICJhLnBpY2EiLCAiLnByaWNlLWluZm8gc3Ryb25nIikKCQl9LCBuWzUyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoInVsLnRMc3QyIGxpIiwgImEudEltZyIsICJzcGFuLnRQcmMiKQoJCX0sIG5bNTRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzX2xpc3QiLCAiLmltZz5hIiwgJ3NwYW5bZGF0YXR5cGU9InByaWNlIl0nKQoJCX0sIG5bNTldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmxpc3Rfcl9saXN0IiwgImgxIGEiLCAiLmYtUHJpY2U6bGFzdC1jaGlsZCIpCgkJfSwgbls2MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuc2VhcmNoX3Jlc3VsdCB0YWJsZSIsICIucmVzdWx0X25hbWUgYSIsICIuYm9va19kaXMgYiIpCgkJfSwgbls2MV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuYm9va0NvbnRlbnQiLCAiLnRpdGxlaW4iLCAic3Bhbi5yZWQxMiIpCgkJfSwgbls2Ml0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjbGlzdD5saSIsICIuaW1nIGEiLCAiLnByaWNlLW4iKQoJCX0sIG5bNjNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI0psaXN0PmxpIiwgIi51aV9waW1nPmEiLCAiLnVpX3BwcmljZV9lPmVtIikKCQl9LCBuWzY2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wLWxpc3RJbmZvIiwgIi5wLWxpc3RJbWdCaWcgYSIsICIucC1saXN0UHJpY2Ugc3Ryb25nIikKCQl9LCBuWzcyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zbF9saXN0X3VsPmxpIiwgIi5nb29kcy1waWM+YSIsICIuc2xfcHJpY2UxPnNwYW4iKQoJCX0sIG5bNzNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmNhdGVnb3J5UHJvZHVjdEl0ZW0iLCAiLnByb2R1Y3QtaW1hZ2U+YSIsICIuc3BlY2lhbC1wcmljZSAucHJpY2U+LnByaWNlIikKCQl9LCBuWzc1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnN0YmxvY2tfYm9keT5kbD5kZCIpLCBpID0gW10sIGEgPSAwOyBhIDwgdC5sZW5ndGg7ICsrYSkgdHJ5IHsKCQkJCXZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yKCJhIikuaHJlZiwKCQkJCQlyID0gdFthXS5xdWVyeVNlbGVjdG9yKCIuY29jMmE2N2QiKS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50OwoJCQkJaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgbls4NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucmdfc2xfbGlzdD51bD5saSIsICIubGlzdDEiLCAiLmxpc3QzPnNwYW4iKQoJCX0sIG5bODVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzX29uZSIsICIuY29tX2xpbmsiLCAiLnhqX2xpc3RfcHJvX3RleHQyPi54al9saXN0X3Byb190ZXh0MiIpCgkJfSwgbls4Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdHNfd3JhcD51bD5saSIsICIuc19sX3BpYz5hIiwgIi5zZWFyY2hfbGlzdF9wcmljZT5zcGFuIikKCQl9LCBuWzkzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNwcm9MaXN0PmxpIiwgImEiLCAiLnByaWNlX3NjPmVtPmkiKQoJCX0sIG5bOTRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWUuX2xpbmtzID0gbi50ZW1wbGF0ZSgiI2l0ZW1TZWFyY2hMaXN0PmxpIiwgIjpub3QoLm5vbmUpIGEiLCAiOm5vdCgubm9uZSkgLnByaWNlPnNwYW46Zmlyc3QtY2hpbGQiKQoJCQl9LCBuLnRpbWVvdXQpLCB7CgkJCQl3YWl0OiAhMAoJCQl9CgkJfSwgbls5N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvLWNvbj5saSIsICJhLnByby1jaGVjayIsICIucHJvLWJvdHh0IHNwYW4iKQoJCX0sIG5bOThdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWUuX2xpbmtzID0gbi50ZW1wbGF0ZSgiLmdvb2RzX2xpc3Q+bGkiLCAiYSIsICdzcGFuW2RhdGEtdHlwZT0icHJpY2UiXScpCgkJCX0sIG4udGltZW91dCksIHsKCQkJCXdhaXQ6ICEwCgkJCX0KCQl9LCBuWzk5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnNuYWNrX3dyYXA+dWw+bGkiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlIikuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMTAwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5tYnNob3BfbGlzdFBkQ29uIiwgImEiLCAiLm1ic2hvcF9saXN0UGRUZXh0PmIiKQoJCX0sIG5bMTAxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5waWNsaXN0PmxpIiwgImEiLCAiLnByaWNlIHN0cm9uZyIpCgkJfSwgblsxMDJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmduX21fbGlzdF9hIiwgImEiLCAiLmduX21fbGlzdF9wcmljZSAuYj5zcGFuIikKCQl9LCBuWzEwM10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvTGlzdFNlYXJjaD51bD5saSIsICJhIiwgIi5wcmljZSIpCgkJfSwgblsxMDhdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLm1haW5fd3JhcD4ubWluX2luIiwgIi5wcm9kdWN0SW1nLXdyYXAgYSIsICIucHJvZHVjdFByaWNlPmVtPnN0cm9uZyIpCgkJfSwgblsxMDldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnJlc3VsdF9saXN0X2NvbnRhaW5lcj51bD5saSIsICIudGh1bWJfcGljdHVyZSBhIiwgIi5wcmljZV9pPmVtIikKCQl9LCBuWzExMF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuYm9va3MtbGlzdCIsICJhIiwgIi5sbD5iIikKCQl9LCBuWzExNV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcl9saXN0IC5saWJveCIsICIuZ19zaW1nPmEiLCAiLmdfbXByaWNlIGZvbnQiKQoJCX0sIG5bMTIwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5Hb29kc1NlYXJjaFdyYXA+dGFibGU+dGJvZHk+dHI+dGQiLCAiLmdvb2RwaWM+YSIsICIucHJpY2UxIikKCQl9LCBuWzEyMl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvbGlzdD5saSIsICIucHJvYm94PmEiLCAiLmluZm8+YiIpCgkJfSwgblsxMjRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmxpc3RfcGljPi5pdGVtIiwgIi5nb29kcy1waWMgYSIsICIuc2FsZS1wcmljZSIpCgkJfSwgblsxMjVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3NlYXJjaFBMaXN0PnVsPmxpIiwgIi5wSW1nIGEiLCAiLnByaWNlIikKCQl9LCBuWzEyNl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIubGlzdC1hbGw+bGkiLCAiLnBpYyBhIiwgIi5wcmljZSBzdHJvbmciKQoJCX0sIG5bMTI3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNDb250ZW50PmRsIiwgIi5waWMgYSIsICJwLnByaWNlIikKCQl9LCBuWzEyOF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjbGlzdF9nb29kc2xpc3Q+bGkiLCAiLnByb19pbWc+YSIsICIucHJvX3ByaWNlPmIiKQoJCX0sIG5bMTI5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNKX3NlYXJjaENhdExpc3Q+Lmdvb2RzLWxpc3QtaXRlbSIsICIuZ29vZHMtaW1hZ2U+YSIsICIucHJpY2UiKQoJCX0sIG5bMTM0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm8tbGlzdD51bD5saSIsICJhIiwgIi5wLXByaWNlPmIiKQoJCX0sIG5bMTM1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNwcm9kdWN0TGlzdD5saSIsICIuc2VhcmNoX3Byb19pbWciLCAiLnNlYXJjaF9wcm9fcHJpY2UiKQoJCX0sIG5bMTM4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kc190YWJsZV9saXN0PnVsPmxpIiwgIi5nX3RfbGlzdF9tPmEiLCAiLmdvb2RzX3RhYmxlX2xpc3QgLmZsIikKCQl9LCBuWzE0MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjYmZkX3Nob3dfZnU+bGkiLCAiLmdvb2RzX2ltZyBhIiwgIi5wcmljZV9kYXkiKQoJCX0sIG5bMTQxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5saXN0c2VhcmNoLW9uZSIsICIubGlzdHNlYXJjaC16dGltZyBhIiwgIi5saXN0c2VhcmNoLXByaWNlPnNwYW4iKQoJCX0sIG5bMTQyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zaG9wX2xpc3RfaXRlbT51bD5saSIsICIucF9pIGEiLCAiLnBfbSIpCgkJfSwgblsxNDZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dhbGxlcnlfc2hvdyB1bD5saSIsICIuZ29vZHMtcGljIGEiLCAiaW5zLnByaWNlIikKCQl9LCBuWzE0N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuaW5mb1Nob3A+bGkiLCAiZGl2PmEiLCAic3Bhbi50cmFjayIpCgkJfSwgblsxNTNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3NlYXJjaF9nb29kc19saXN0PnVsPmxpIiwgImRkOm5vdChbY2xhc3NdKT5hIiwgImR0IC5zX3ByaWNlIikKCQl9LCBuWzE1NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjdGlsZSBsaSIsICIuYm94Q29udD5hIiwgIi5wcmljZSIpCgkJfSwgblsxNTVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2xpc3QtYm94PnVsPmxpIiwgImEiLCAiLnN0cm9uZy1wcmljZSIpCgkJfSwgblsxNTZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmNvbW1vZGl0eS1saXN0PmRsIiwgImEiLCAiLmRsX3ByaWNlPnNwYW4iKQoJCX0sIG5bMTU3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9fbGlzdF91bD5saSIsICJhIiwgIi5zYWxlUHJpY2UiKQoJCX0sIG5bMTU4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5pbl9tYXNhOm5vdChbaWRdKSB1bD5saSIsICIuaW5fbWFzYV91cCBhIiwgIi5pbl9wcmljZT5lbT5zcGFuOm50aC1vZi10eXBlKDIpIikKCQl9LCBuWzE2NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIudWxsaXN0Y29udD5saSIsICJhIiwgInN0cm9uZyIpCgkJfSwgblsxNjddID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIuZ29vZHMtbGlzdD5kaXYiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlIikuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMTY4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnJlc3VsdF9saXN0PmxpIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoIi5wcm9faW1nIGEiKS5nZXRBdHRyaWJ1dGUoImRhdGEtdXJsIiksCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByb19wcmljZT5zcGFuLnJlZCIpLnRleHRDb250ZW50LnRyaW0oKTsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCX0sIG5bMTc0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQllLl9saW5rcyA9IG4udGVtcGxhdGUoIi5wcm9kdWN0X2l0ZW0iLCAiLnBfaW1nIGEiLCAiLnByaWNlPnN0cm9uZyIpCgkJCX0sIG4udGltZW91dCksIHsKCQkJCXdhaXQ6ICEwCgkJCX0KCQl9LCBuWzE3OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuZi1saXN0IC5sZWZ0cGFydD51bD5saSIsICJhIiwgIi5zLWluZm8+LnMtdW5pdCIpCgkJfSwgblsxODBdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnUtbS1nb29kcz51bD5saSIsICIucC1pbWcuSl9wX2ltZyBhIiwgIi5KX25vd19wcmljZSIpCgkJfSwgblsxODJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnRlYV9wcm9kdWN0cyAucHJvZHVjdHNfYm94IiwgIi5wcm9faW1nPnNwYW4+YSIsICIuenBfcHJpY2U+c3BhbiIpCgkJfSwgblsxODRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzLWNvbnRhaW5lcj5kaXYuZ29vZC1pbmZvIiwgJ2FbaHJlZio9Iml0ZW0iXScsICIucHJpY2U+c3BhbjpsYXN0LWNoaWxkIikKCQl9LCBuWzE4OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIubGlzdFRhYmxlPmxpIiwgImEiLCAiLmdvb2RzLXByaWNlIikKCQl9LCBuWzE5NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjSl9nb29kc0xpc3Q+dWw+bGkiLCAiYSIsICIucC1wcmljZT5zdHJvbmc+aSIpCgkJfSwgblsxOTVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLkxjb24uY29udGVudD5kaXYuYmxvY2siLCAiYSIsICdzcGFuW2lkXj0ic2FsZV9wcmljZSJdJykKCQl9LCBuWzE5Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJZS5fbGlua3MgPSBuLnRlbXBsYXRlKCIuZ29vZHNMaXN0QmxvY2s+dWw+bGkiLCAiLmltZz5hIiwgIi51bGVQcmljZT5zdHJvbmciKQoJCQl9LCBuLnRpbWVvdXQpLCB7CgkJCQl3YWl0OiAhMAoJCQl9CgkJfSwgblsxOTddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLml0ZW1MaXN0PmRpdi5wcm9kdWN0IiwgImEiLCAnZW1bbmFtZT0icHJpY2UiXScpCgkJfSwgblsyMDFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmxpc3QtZ29vZHM6Zmlyc3QtY2hpbGQ+bGkiLCAiYSIsICIuSlNfYXN5bmNfcHJpY2UiKQoJCX0sIG5bMjEwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiN1bF9jb250ZW50PmxpIiwgIi5saXN0X2dvb2RfaW1nPmEiLCAiLmxpc3RfZ29vZF9wcmljZV9uZXciKQoJCX0sIG5bMjEzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5jYXRlX3NlYXJjaF9jb250ZW50IC5zZWxJdGVtIiwgImEiLCAiLmhwcmljZS5wcmljZSIpCgkJfSwgblsyMTddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3RfbGlzdD5saSIsICJhIiwgImRpdj5iIikKCQl9LCBuWzIxOF0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiN0dl9saXN0PnVsPmxpIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoImEiKS5ocmVmLnJlcGxhY2UoImdldCIsICJnb29kc0RldGFpbEJ1eSIpLAoJCQkJCXIgPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoIi5wcm9kdWN0X3Nob3dfcmlnaHRfcHJpY2UiKS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMjIwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0UGljIiwgImEucHJvUGljIiwgIi5wcm9kdWN0UHJpY2UiKQoJCX0sIG5bMjIyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLmdvb2RzSXRlbT5saSIpLCBpID0gW10sIGEgPSAwOyBhIDwgdC5sZW5ndGg7ICsrYSkgdHJ5IHsKCQkJCXZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yKCJhIikuaHJlZiwKCQkJCQlyID0gdFthXS5xdWVyeVNlbGVjdG9yKCIucHJpY2UiKS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50OwoJCQkJaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblsyMjNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3Jlc3VsdD5saSIsICJhIiwgIi5jdXIiKQoJCX0sIG5bMjI0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNwcm9kdWN0LWxpc3QgPmxpIiwgImEucHJvZHVjdC1pbWciLCAiLnByaWNlIikKCQl9LCBuWzIyNV0gPSBmdW5jdGlvbihlKSB7CgkJCWlmIChlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zcGVjaWFsLXVsIikubGVuZ3RoKSByZXR1cm4gbi50ZW1wbGF0ZSgiLnNwZWNpYWwtdWw+bGkiLCAiYSIsICIucy1wcm9kdWN0LXNhbGUtcHJpY2UiKTsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnByb2QtbGlzdC5wcm9kLWNvbHMzLWxpc3Q6Zmlyc3QtY2hpbGQ+bGkiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlIikuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMjI2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9saXN0Lmxpc3Rob3Zlcj5saSIsICIuaW1nIGEiLCAiLnByaWNlLnByaWNlMTYiKQoJCX0sIG5bMjI3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0TGlzdC1saXN0LXVsPmxpIiwgIi5wLWltZyBhIiwgIi5wcmljZT5zdHJvbmciKQoJCX0sIG5bMjI4XSA9IG5bMV0sIG5bMjI5XSA9IG5bMV0sIG5bMjMyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nYWxsZXJ5LWdyaWQgdWw+bGkiLCAiYSIsICIuZ29vZHMtcHJpY2UgaW5zLnByaWNlIikKCQl9LCBuWzIzM10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuZ3JpZC1pdGVtIiwgIi5ncmlkLWl0ZW0taW1hZ2UgYSIsICIucHJpY2VzPi5sb2NhbCIpCgkJfSwgblsyMzRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLlByb2R1Y3RsaXN0PmxpIiwgIi5waWM+YSIsICIucHJpIikKCQl9LCBuWzIzNV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuc2VhcmNoX2Nob2xpc3Q+dWw+bGkiLCAiLnVjb2xfcF9pbWc+YSIsICIudWNvbF9wX3dvZCBzcGFuOm50aC1jaGlsZCgxKSIpCgkJfSwgblsyMzZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3Byb2R1Y3QtbGlzdD51bD5saSIsICJhIiwgIi5wcm9kdWN0X3AgLmNfcHVycGxlLCAucHJvZHVjdF9wIC5wcm9kdWN0X2FjdGl2ZSIpCgkJfSwgblsyMzddID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIudmlldy1JdGVtTGlzdEl0ZW0iKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IFt0W2FdLnF1ZXJ5U2VsZWN0b3IoIi5wcmljZS1pbnQiKS50ZXh0Q29udGVudC50cmltKCksIHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlLWRlY2ltYWwiKS50ZXh0Q29udGVudC50cmltKCldLmpvaW4oIiIpOwoJCQkJaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblsyMzhdID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjc2VhcmNoUmVzdWx0cz5hIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlLTZwbSIpLnRleHRDb250ZW50LnRyaW0oKTsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMjQxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0LWxpc3Q+dWw+bGkiLCAiYS5waG90byIsICIucmV0YWlsLXByaWNlIikKCQl9LCBuWzI0Nl0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBbXSwgaSA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnMtcmVzdWx0LWl0ZW0iKSwgYSA9IDA7IGEgPCBpLmxlbmd0aDsgKythKSB0cnkgewoJCQkJZm9yICh2YXIgbyA9IGlbYV0ucXVlcnlTZWxlY3RvcigiLnMtYWNjZXNzLWltYWdlIik7ICFvLnBhcmVudE5vZGUuaHJlZiAmJiBvLnBhcmVudE5vZGUgIT0gZS5ib2R5OykgbyA9IG8ucGFyZW50Tm9kZTsKCQkJCWlmIChvLnBhcmVudE5vZGUgPT0gZS5ib2R5KSBjb250aW51ZTsKCQkJCXZhciByID0gby5wYXJlbnROb2RlLmhyZWYsCgkJCQkJcyA9IGlbYV0ucXVlcnlTZWxlY3RvcigiZGl2Pi5hLXNwYWNpbmctbWluaT4uYS1zcGFjaW5nLW5vbmU+YT5zcGFuIik7CgkJCQlzIHx8IChzID0gaVthXS5xdWVyeVNlbGVjdG9yKCJzcGFuLmEtY29sb3ItcHJpY2UiKSksIHQucHVzaCh7CgkJCQkJdXJsOiByLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHMudGV4dENvbnRlbnQsICIsIiwgIi4iKSwKCQkJCQljcmMzMjogIiIKCQkJCX0pCgkJCX0gY2F0Y2ggKGwpIHsKCQkJCWNvbnRpbnVlCgkJCX0KCQkJcmV0dXJuIHQKCQl9LCBuWzI0N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuYXV0b21hdGljU2Nyb2xsUHJvZHVjdHNMaXN0PmRpdiIsICJhIiwgIi5wcm9kdWN0LXByaWNlIikKCQl9LCBuWzI0OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjZGl2U2VhcmNoUmVzdWx0cz5kaXY+ZGl2IiwgIi5wcm9kdWN0LWltYWdlPmE6Zmlyc3QtY2hpbGQiLCAiLml0ZW1fcHJpY2UiKQoJCX0sIG5bMjUyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zZWFyY2hfbHN0PnVsPmxpIiwgIi5OcHJvX2ltZz5hIiwgIi5zaWdvcHJpY2UiKQoJCX0sIG5bMjU2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5jb250LWdkPmxpIiwgImEiLCAiLm5ldy1wcmljZT5zcGFuOmZpcnN0LWNoaWxkIikKCQl9LCBuWzI2Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcmVzdWx0c0NvbCB1bC5zLXJlc3VsdC1saXN0PmxpIiwgImEuYS1saW5rLW5vcm1hbCIsICIuYS1jb2xvci1wcmljZSIpCgkJfSwgblsyNjddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnNlYXJjaGxpc3Q+dWw+bGkiLCAiYSIsICIubm93LXByaWNlIikKCQl9LCBuWzI2OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdC0xLWxpc3Q+bGkiLCAiYSIsICJzdHJvbmciKQoJCX0sIG5bMjY5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNjb250ZW50RGl2PmRpdi5saXN0cHJvZHVjdCIsICJhIiwgInNwYW4ucmVkIikKCQl9LCBuWzI3MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIud2lkZ2V0LWJyaWNrLWl0ZW0iLCAiLmJyaWNrLXBpYyIsICIucHJpY2UiKQoJCX0sIG5bMjcxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbCgiLnB2X3Nob3BfbGlzdF9jb250ZW50Lm5vcm1hbF9saXN0IikubGVuZ3RoID8gbi50ZW1wbGF0ZSgiLnB2X3Nob3BfbGlzdF9jb250ZW50PmRpdi5pdGVtMSIsICJhIiwgIi5wcmljZT5lbSIpIDogbi50ZW1wbGF0ZSgiLml0ZW0xIiwgIi5pbWFnZSBhIiwgIi5wcmljZT5lbSIpCgkJfSwgblsyNzJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dhbGxlcnlfc2hvdyB1bD5saSIsICIuZ29vZHMtcGljPmEiLCAiLnByaWNlIikKCQl9LCBuWzI3M10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuaXRlbVNlYXJjaFJlc3VsdC5ib3gtaXRlbXMtcmVzdWx0PnVsPmxpIiwgIi5pbWFnZXMgYSIsICIucHJpY2U+c3Ryb25nIikKCQl9LCBuWzI3NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuZ29vZHMtbGlzdHM+ZGl2IiwgImEuZ29vZHMtaW1nIiwgIi5wLW5vcm1hbCIpCgkJfSwgblsyNzVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3RzLWdyaWQ+bGkiLCAiYS5wcm9kdWN0LWltYWdlIiwgIi5yZWd1bGFyLXByaWNlIikKCQl9LCBuWzI3Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjdGlsZS1jb250YWluZXI+ZGl2IiwgIi5qcy1wcm9kdWN0LXRpdGxlIiwgIi5wcmljZS1kaXNwbGF5IikKCQl9LCBuWzI3N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdF9saXN0LnByb2R1Y3RfbGlzdF92Mj51bD5saSIsICIucGljIiwgIi5wcmljZT5zdHJvbmciKQoJCX0sIG5bMjc5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNyZXN1bHQ+dWwiLCAiYS5pbWdfZmlndXJlIiwgIi5ib3V0aXF1ZV9wcmljZSIpCgkJfSwgblsyODBdID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjcHJvTnVtPmxpIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZl49Ii9Qcm8iXScpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByb3ByaWNlIik7CgkJCQlyID0gci5jaGlsZE5vZGVzW3IuY2hpbGROb2Rlcy5sZW5ndGggLSAxXS50ZXh0Q29udGVudCwgaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblsyODFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3RfbGlzdD5saSIsICJhIiwgJ3N0cm9uZ1tpZF49InByaWNlYXQiXScpCgkJfSwgblsyODRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gZS5xdWVyeVNlbGVjdG9yQWxsKCIucnNsdEFsbCIpLmxlbmd0aCA/IG4udGVtcGxhdGUoIi5yc2x0QWxsPnVsPmxpIiwgImEiLCAiLnJlZDIiKSA6IGUucXVlcnlTZWxlY3RvckFsbCgiLnByb2R1Y2xiX2NwMSIpLmxlbmd0aCA/IG4udGVtcGxhdGUoIi5wcm9kdWNsYl9jcD4ucHJvZHVjbGJfY3AxIiwgImEiLCAiLmZvbnQxNF9yZWQiKSA6IG4udGVtcGxhdGUoIi5wcnN0Z2RsaXN0PmxpIiwgImEiLCAiLmYxOCIpCgkJfSwgblsyODZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmotaXRlbS1saXN0LWxpIiwgIi5hLXBpYyIsICIuaXRlbS1wcmljZSIpCgkJfSwgblsyODddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2l0ZW1MaXN0PmxpIiwgImEiLCAiLm1vZF9wcmljZTpmaXJzdC1jaGlsZCIpCgkJfSwgblsyODhdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dhbGxlcnlfc2hvdyB1bD5saSIsICJhIiwgIi5nb29kcy1wcmljZSBpbnMiKQoJCX0sIG5bMjg5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvcigiaWZyYW1lI20iKS5jb250ZW50V2luZG93LmRvY3VtZW50LCBpID0gdC5xdWVyeVNlbGVjdG9yQWxsKCIucHJvX2xpc3Q+bGkiKSwgYSA9IFtdLCBvID0gMDsgbyA8IGkubGVuZ3RoOyArK28pIHRyeSB7CgkJCQl2YXIgciA9IGlbb10ucXVlcnlTZWxlY3RvcigiLnByb19pbWciKS5ocmVmLAoJCQkJCXMgPSBpW29dLnF1ZXJ5U2VsZWN0b3IoIi5wcm9fcHJpY2U+c3Bhbj5iIikudGV4dENvbnRlbnQudHJpbSgpOwoJCQkJYS5wdXNoKHsKCQkJCQl1cmw6IHIsCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIocyksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChsKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBhCgkJfSwgblsyOTBdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmhwcm9kdWN0IiwgImEiLCAiLnByaWNlPmVtIikKCQl9LCBuWzI5MV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuY2dfbWFpbkNvbnRlbnQ+ZGl2LmNnX3BybyIsICJhIiwgIi5wcm9fcHJpY2U+c3Ryb25nIikKCQl9LCBuWzI5Ml0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucmVzdWx0PnVsPmxpIiwgImEiLCAiLml0ZW0tcHJpY2UiKQoJCX0sIG5bMjk0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9saXN0aXRlbXMiLCAiLmFkLWltYWdlLXdyYXBwZXIgYSIsICJiaWcuamlhY3UiKQoJCX0sIG5bMjk1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5ncmlkLWl0ZW0iLCAiLmltZy1ib3ggYSIsICIucHJpY2UtbnVtIikKCQl9LCBuWzI5OV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuTGlzdCB0ciIsICJhLkRpc3BsYXlOYW1lIiwgIi5wcmljZT5zdHJvbmciKQoJCX0sIG5bMzEzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wLWxpc3Q+bGkucC1pdGVtIiwgIi5wLXBpYyBhIiwgIi5wLXByaWNlLWN1cnJlbnQiKQoJCX0sIG5bMzQ3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm8tY2xhc3M+bGkiLCAiLnByby1pbWc+YSIsICIubW9uZXktZmwiKQoJCX0sIG5bMzQ4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5pdGVtcy1nYWxsZXJ5IiwgImEiLCAiLnByaWNlMSIpCgkJfSwgblszNDldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2otc2VhcmNoTGlzdD5saSIsICIuaGQ+YSIsICIucHJpY2U+c3BhbiIpCgkJfSwgblszNTFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdtZyIsICJhIiwgIi5zaG9wX3ByaWNlcyIpCgkJfSwgblszNTJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmctZC11bD5saSIsICIucGljIiwgJ3NwYW5baWRePSJKZ29vZHNQcmljZSJdJykKCQl9LCBuWzE4MV0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5za3UtdWw+bGkiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLndzbC1wcmljZS5qLXdzbC1wcmljZSIpLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7CgkJCQlpLnB1c2goewoJCQkJCXVybDogbywKCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihyKSwKCQkJCQljcmMzMjogIiIKCQkJCX0pCgkJCX0gY2F0Y2ggKHMpIHsKCQkJCWNvbnRpbnVlCgkJCX0KCQkJcmV0dXJuIGkKCQl9LCBuWzM2NF0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiNwcm9kdWN0UmVzdWx0TGlzdD5saSIpLCBpID0gW10sIGEgPSAiaHR0cDovL3d3dy5wdXJjb3R0b24uY29tIiwgbyA9IDA7IG8gPCB0Lmxlbmd0aDsgKytvKSB0cnkgewoJCQkJdmFyIHIgPSB0W29dLnF1ZXJ5U2VsZWN0b3IoJ2Fbb25jbGlja149InRvRGV0YWlsIl0nKSwKCQkJCQlzID0gci5nZXRBdHRyaWJ1dGUoIm9uY2xpY2siKS5tYXRjaCgvW1xkLV0rLylbMF0sCgkJCQkJbCA9IHMuc3Vic3RyKHMubGVuZ3RoIC0gMyksCgkJCQkJYyA9IGEgKyAiL2RldGFpbC8iICsgbCArICIvIiArIHMgKyAiLmh0bWwiLAoJCQkJCWQgPSB0W29dLnF1ZXJ5U2VsZWN0b3IoIi5hcHJpY2UiKS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBjLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKGQpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocCkgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMzY1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiI3MtcmVzdWx0cy1saXN0LWF0Zj5saSIpLCBpID0gW10sIGEgPSAwOyBhIDwgdC5sZW5ndGg7ICsrYSkgdHJ5IHsKCQkJCXZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yKCIuYS1saW5rLW5vcm1hbCIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLmEtY29sb3ItcHJpY2UiKS50ZXh0Q29udGVudC50cmltKCk7CgkJCQlpLnB1c2goewoJCQkJCXVybDogbywKCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihyLCAiLCIsICIuIiksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblszNjZdID0gblsxXSwgblszNjddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzLWl0ZW0iLCAiLmZpZ3VyZS1pbWc+YSIsICIucHJpY2U+YiIpCgkJfSwgblszNjhdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3QtbGlzdD51bD5saSIsICJhIiwgIi5wcmljZT4ucmVkIikKCQl9LCBuWzM2OV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIubGlzdC1oPmxpIiwgIi5wLWltZz5hIiwgIi5wLXByaWNlPnN0cm9uZyIpCgkJfSwgblszNzBdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnAtbC1ncmlkPnVsPmxpIiwgImEiLCAiLnByaWNlIC5yZWQiKQoJCX0sIG5bMzcxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNnb29kc0xpc3Q6Zmlyc3QtY2hpbGQ+bGkiLCAiYSIsICIuY3VyX3ByaWMgLnByaV9tc2cgLmZfYXJpYWwiKQoJCX0sIG5bMzcyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5ncmlkLXNwZWNpYWw+LmJveCIsICJhIiwgIi5ib3gtcHJpY2Ugc3Ryb25nIikKCQl9LCBuWzM3M10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjbWFpbl9saXN0ID4gLnByb19pdGVtIiwgIi5wcm9faW5mb3JfaW1nIiwgIi5wcm9fcHJpY2UiKQoJCX0sIG5bMzc0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0LWxpc3Q+dWw+bGkiLCAiLml0ZW1zPmE6bnRoLWNoaWxkKDEpIiwgIi5vcHIiKQoJCX0sIG5bMzc2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoInVsI0ptb2JpbGVMaXN0PmxpIiwgImEudWlfcGltZyIsICIudWlfcHByaWNlIikKCQl9LCBuWzM3N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjZ2FsbGVyeV9zaG93IHVsPmxpIiwgIi5nb29kcy1waWM+YSIsICJpbnMucHJpY2UiKQoJCX0sIG5bMzc4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kcy1saXN0cz5kaXYiLCAiYS5nb29kcy1pbWciLCAiLmdvb2RzLXByaWNlPi5wLW5vcm1hbCIpCgkJfSwgblszNzldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdhbGxlcnktZ3JpZD51bD5saSIsICIuZ29vZHMtcGljPmEiLCAiaW5zLnByaWNlIikKCQl9LCBuWzM4MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZC1saXN0PmxpIiwgImEiLCAicCIpCgkJfSwgblszODFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLkdvb2RzTGlzdD5saSIsICJhIiwgIi5nb29kc3ByaWNlPnNwYW4iKQoJCX0sIG5bMzgyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kcy11bC1ib3ggbGkiLCAiYSIsICIucHJpY2UiKQoJCX0sIG5bMzgzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kc19saXN0LmNsZWFyZml4PmxpIiwgImEuZ2ltZyIsICJwLmdwcmljZSIpCgkJfSwgblszODVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnBybz51bD5saSIsICJkbD5kZDpudGgtY2hpbGQoMSk+YSIsICIudmFsYy1uPnNwYW46bnRoLWNoaWxkKDIpIikKCQl9LCBlLmV4cG9ydHMgPSBuCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBbIjM2MGJ1eSIsICJzdW5pbmciLCAiZ29tZSIsICJ5aWhhb2RpYW4iLCAiZGFuZ2RhbmciLCAia2FvbGEiXSwKCQkJCW8gPSBuKDU4KSwKCQkJCXIgPSBuKDI2KSwKCQkJCXMgPSBuKDkpLAoJCQkJbCA9IHsKCQkJCQkiMzYwYnV5IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdCgiLkotbW9yZS1wcm9tLWlucyIpLnRleHQoKSwKCQkJCQkJCW4gPSB0KCIuSi1wcm9tIGVtLmhsX3JlZF9iZyIpLnRleHQoKSwKCQkJCQkJCWkgPSB0KCIuSi1zdW1tYXJ5LXByaWNlIC5wLXByaWNlIikudGV4dCgpLnJlcGxhY2UoL1vvv6XCpVxzXSsvZywgIiIpLAoJCQkJCQkJYSA9IFtdOwoJCQkJCQlpZiAoKGUuaW5kZXhPZigi5ruh5YePIikgPiAtMSB8fCBuLmluZGV4T2YoIua7oeWHjyIpID4gLTEpICYmIGEucHVzaCgi5ruh5YePOiIgKyB0KCcuSi1wcm9tIGVtLmhsX3JlZF9iZzpjb250YWlucygi5ruh5YePIikgKyBlbS5obF9yZWQnKS50ZXh0KCkpLCAoZS5pbmRleE9mKCLlpJrkubDkvJjmg6AiKSA+IC0xIHx8IG4uaW5kZXhPZigi5aSa5Lmw5LyY5oOgIikgPiAtMSkgJiYgYS5wdXNoKCLlpJrkubDkvJjmg6A6IiArIHQoJy5KLXByb20gZW0uaGxfcmVkX2JnOmNvbnRhaW5zKCLlpJrkubDkvJjmg6AiKSArIGVtLmhsX3JlZCcpLnRleHQoKSksIHQoIiNzdW1tYXJ5LXF1YW4gLnF1YW4taXRlbSIpLnRleHQoKS5pbmRleE9mKCLlh48iKSA+IC0xKSB7CgkJCQkJCQl2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0KCIjc3VtbWFyeS1xdWFuIC5xdWFuLWl0ZW0iKSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiB0KGUpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIikKCQkJCQkJCX0pLmpvaW4oIiwiKTsKCQkJCQkJCWEucHVzaCgi6aKG5Yi4OiIgKyBvKQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwcmljZTogaSwKCQkJCQkJCXByb21vOiBhLmpvaW4oIjsiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzdW5pbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHQoIiN2b3VjaGVyVGl0bGUiKSwKCQkJCQkJCW4gPSBlLmZpbmQoImxhYmVsIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwKCQkJCQkJCWkgPSAiIjsKCQkJCQkJaWYgKG4uaW5kZXhPZigi5ruh5YePIikgPiAtMSAmJiBlLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQlpID0gdCgiI3ZvdWNoZXJCb3giKS50ZXh0KCk7CgkJCQkJCQl2YXIgYSA9IHQoIiN2b3VjaGVyQm94IGEiKS50ZXh0KCk7CgkJCQkJCQlpID0gIua7oeWHjzoiICsgaS5yZXBsYWNlKGEsICIiKQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwcm9tbzogaQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnb21lOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0KCIucHJkLXByb21vdGlvbnMtcmVkIiksCgkJCQkJCQluID0gZS5maW5kKCJsYWJlbCIpLnRleHQoKSwKCQkJCQkJCWkgPSBbXTsKCQkJCQkJcmV0dXJuIGUuaXMoIjp2aXNpYmxlIikgJiYgbi5pbmRleE9mKCLmu6Hlh48iKSA+IC0xICYmIGkucHVzaCgi5ruh5YePOiIgKyB0KCcucHJkLXByb21vdGlvbnMtcmVkIGxhYmVsOmNvbnRhaW5zKCLmu6Hlh48iKStzcGFuJykudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSksIGUuaXMoIjp2aXNpYmxlIikgJiYgbi5pbmRleE9mKCLpooblirUiKSA+IC0xICYmIGkucHVzaCgi6aKG5Yq1OiIgKyB0KCcucHJkLXByb21vdGlvbnMtcmVkIGxhYmVsOmNvbnRhaW5zKCLpooblirUiKStiJykudGV4dCgpLnJlcGxhY2UoLyg/OuW3pui+uXzlj7PovrkpL2csICIiKSksIHsKCQkJCQkJCXByb21vOiBpLmpvaW4oIjsiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHQoIiNwcm9tb3Rpb25fdGl0bGUiKSwKCQkJCQkJCW4gPSBbXSwKCQkJCQkJCWkgPSBlLmZpbmQoIi5saXN0IC5mbCBzcGFuLnN1YiIpLnRleHQoKTsKCQkJCQkJaWYgKGkuaW5kZXhPZigi5ruh5YePIikgPiAtMSAmJiBlLmZpbmQoIi5saXN0IC5mbCBzcGFuLnN1YiIpLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQl2YXIgYSA9ICLmu6Hlh48iICsgdCgnI3Byb21vdGlvbl90aXRsZSAubGlzdCAuZmwgc3Bhbi5zdWI6Y29udGFpbnMoIua7oeWHjyIpKyBzcGFuLnRpdCcpLnRleHQoKTsKCQkJCQkJCW4ucHVzaChhKQoJCQkJCQl9CgkJCQkJCWlmIChpLmluZGV4T2YoIuaKmOaJoyIpID4gLTEgJiYgZS5maW5kKCIubGlzdCAuZmwgc3Bhbi5zdWIiKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJdmFyIGEgPSAi5oqY5omjIiArIHQoJyNwcm9tb3Rpb25fdGl0bGUgLmxpc3QgLmZsIHNwYW4uc3ViOmNvbnRhaW5zKCLmipjmiaMiKSsgc3Bhbi50aXQnKS50ZXh0KCk7CgkJCQkJCQluLnB1c2goYSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcHJvbW86IG4uam9pbigiOyIpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWRhbmdkYW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0KCIjcHJvbW8tbGlzdCIpLAoJCQkJCQkJbiA9IFtdOwoJCQkJCQlpZiAoZS5maW5kKCdkaXYuY2xlYXJmaXggYjpjb250YWlucygi5ruh6aKd5YePIiknKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJdmFyIGkgPSAi5ruh6aKd5YePOiIgKyB0KCcjcHJvbW8tbGlzdCBkaXYuY2xlYXJmaXggYjpjb250YWlucygi5ruh6aKd5YePIikrZGl2LnJ1bGUgc3BhbicpLnRleHQoKTsKCQkJCQkJCW4ucHVzaChpKQoJCQkJCQl9CgkJCQkJCWlmIChlLmZpbmQoJ2Rpdi5jbGVhcmZpeCBiOmNvbnRhaW5zKCLlupfpk7rkv4PplIAiKScpLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQl2YXIgaSA9ICLlupfpk7rkv4PplIA6IiArIHQoJyNwcm9tby1saXN0IGRpdi5jbGVhcmZpeCBiOmNvbnRhaW5zKCLlupfpk7rkv4PplIAiKStkaXYucnVsZSBzcGFuJykudGV4dCgpOwoJCQkJCQkJbi5wdXNoKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXByb21vOiBuLmpvaW4oIjsiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlrYW9sYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gW107CgkJCQkJCWlmICh0KCcucHJvbW90aW9ud3JhcCAubS16ZC1wcnQgLm0tZHAtcHJ0LXRpdGxlOmNvbnRhaW5zKCLmu6Hpop3lh48iKScpLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQl2YXIgbiA9ICLmu6Hpop3lh486IiArIHQoJy5wcm9tb3Rpb253cmFwIC5tLXpkLXBydCAubS1kcC1wcnQtdGl0bGU6Y29udGFpbnMoIua7oemineWHjyIpK3NwYW4gYScpLnRleHQoKTsKCQkJCQkJCWUucHVzaChuKQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwcm9tbzogZS5qb2luKCI7IikKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gaS5kcCwKCQkJCQkJbiA9IGkuc2F2ZV9kcF9xdWVyeS5ub3csCgkJCQkJCWEgPSBsW2kuc2l0ZV0oKSwKCQkJCQkJbyA9IG4ucHJpY2UgfHwgdC5wcmljZTsKCQkJCQlvIHx8IChvID0gYS5wcmljZSk7CgkJCQkJdmFyIHIgPSB7CgkJCQkJCWRwX2lkOiBuLm5vd19kcF9pZCwKCQkJCQkJbmFtZTogdC5uYW1lLAoJCQkJCQlwcmljZTogbywKCQkJCQkJcHJvbW86IGEucHJvbW8sCgkJCQkJCXN0b2NrOiBlCgkJCQkJfTsKCQkJCQlyZXR1cm4gcgoJCQkJfSwKCQkJCWQgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBpLmRwLAoJCQkJCQlvID0gaS5zYXZlX2RwX3F1ZXJ5Lm5vdywKCQkJCQkJciA9IG8ucHJpY2UgfHwgYS5wcmljZTsKCQkJCQlyIHx8IChyID0gdCgiLkotc3VtbWFyeS1wcmljZSAucC1wcmljZSIpLnRleHQoKS5yZXBsYWNlKC9b77+lwqVcc10rL2csICIiKSk7CgkJCQkJdmFyIGwgPSB3aW5kb3cucGFnZUNvbmZpZyAmJiB3aW5kb3cucGFnZUNvbmZpZy5wcm9kdWN0OwoJCQkJCWlmIChsKSB7CgkJCQkJCXZhciBjID0gYS5pdGVtSWQsCgkJCQkJCQlkID0gbC5zaG9wSWQsCgkJCQkJCQlwID0gbC52ZW5kZXJJZCwKCQkJCQkJCWggPSBsLmNhdC5qb2luKCIsIiksCgkJCQkJCQl1ID0gW10sCgkJCQkJCQltID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9jZC5qZC5jb20vcHJvbW90aW9uL3YyP3NrdUlkPSIgKyBjICsgIiZhcmVhPTFfNzJfMjc5OV8wJnNob3BJZD0iICsgZCArICImdmVuZGVySWQ9IiArIHAgKyAiJmNhdD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGgpOwoJCQkJCQlzLmdldFB1cmUobSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQlpZiAodC5wcm9tLnBpY2tPbmVUYWcgJiYgdC5wcm9tLnBpY2tPbmVUYWcubGVuZ3RoID4gMCkgewoJCQkJCQkJCXZhciBpID0gdC5wcm9tLnBpY2tPbmVUYWcubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGUuY29udGVudAoJCQkJCQkJCX0pLmpvaW4oIiwiKTsKCQkJCQkJCQl1LnB1c2godC5wcm9tLnBpY2tPbmVUYWdbMF0ubmFtZSArICI6IiArIGkpCgkJCQkJCQl9CgkJCQkJCQl2YXIgcyA9IHsKCQkJCQkJCQlkcF9pZDogby5ub3dfZHBfaWQsCgkJCQkJCQkJbmFtZTogYS5uYW1lLnRyaW0oKSwKCQkJCQkJCQlwcmljZTogciwKCQkJCQkJCQlwcm9tbzogdS5qb2luKCI7IiksCgkJCQkJCQkJc3RvY2s6IGUKCQkJCQkJCX07CgkJCQkJCQlzID0gSlNPTi5zdHJpbmdpZnkocyksIG4ocykKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LAoJCQkJcCA9IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiAic3VuaW5nIiA9PT0gaS5zaXRlICYmIHQoIiN0aW1lUGFuZWwgc3BhbiIpLnRleHQoKS5pbmRleE9mKCLlrprph5Hlm6IiKSA+IC0xICYmIHQoIiNtYWluUHJpY2UgLnByaWNlLXByb21vIHNwYW4iKS50ZXh0KCkuaW5kZXhPZigi5a6a6YeRIikgPiAtMSA/ICEwIDogIjM2MGJ1eSIgPT09IGkuc2l0ZSAmJiB0KCIjcGluZ291IC5zdW1tYXJ5LXByaWNlIikudGV4dCgpLmluZGV4T2YoIuWumumHkSIpID4gLTEgPyAhMCA6ICExCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB0cnkgewoJCQkJCQl2YXIgdCA9IG5ldyBYTUxIdHRwUmVxdWVzdDsKCQkJCQkJdC5vcGVuKCJQT1NUIiwgaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1zZW5kUHJvbW9zJnNpdGVfaWQ9IiArIGkuc2l0ZV9pZCArICImamZyb209aW50IiksIHQuc2VuZChlKSwgcigic2VuZFByb21vX3N1Y2Nlc3MiKQoJCQkJCX0gY2F0Y2ggKG4pIHt9CgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCFpLm5ld19leHRlbnNpb24gJiYgImx1eW91IiAhPSBpLmJ0eXBlICYmICFwKCkpIHsKCQkJCQl2YXIgZSA9IG8uaW5pdChpLnNpdGUpOwoJCQkJCWlmIChhLmluZGV4T2YoaS5zaXRlKSA+IC0xKQoJCQkJCQlpZiAoIjM2MGJ1eSIgPT0gaS5zaXRlKSBkKGUsIGgpOwoJCQkJCQllbHNlIHsKCQkJCQkJCXZhciB0ID0gYyhlKTsKCQkJCQkJCXQgPSBKU09OLnN0cmluZ2lmeSh0KSwgaCh0KQoJCQkJCQl9CgkJCQl9CgkJCX0sIGUuZXhwb3J0cy5zcGVjaWFsRmlsdGVyID0gcAoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gYS5zZXJ2ZXIgKyAiL2Jyd2V4dC92ZXJzaW9uX3JlbWluZD9uZXdfdj0xIjsKCQkJCQlsLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KCJnd2RfdmVyc2lvbiIsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBpID0gbiAmJiBuLmd3ZF92ZXJzaW9uOwoJCQkJCQkJaSA+PSBlLnZlcnNpb24gfHwgMSA9PT0gZS5zaG93dmVyc2lvbiAmJiB0KGUpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiB0KGUpIHsKCQkJCQl2YXIgdCA9IG4oNjkpOwoJCQkJCWEuY2hyb21lX2V4dGVuc2lvbiAmJiAodCA9IHQucmVwbGFjZShuZXcgUmVnRXhwKCJodHRwOi8vczFcXC4iICsgYS5leHROYW1lICsgIlxcLmNvbS9pbWFnZXMiLCAiZyIpLCBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgiaW1hZ2VzIikpKSwgcygiYm9keSIpLmFwcGVuZChjLmNvbXBpbGUodCkoewoJCQkJCQl1cGRhdGU6IGUsCgkJCQkJCXNfc2VydmVyOiBhLnNfc2VydmVyCgkJCQkJfSkpLCBpKCksIG8oZS52ZXJzaW9uKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJInJpZ2h0IiA9PT0gYS5zdHlsZSAmJiBzKCIjZ3dkX3ZlcnNpb24iKS5oaWRlKCksICJib3R0b20iID09PSBhLnN0eWxlICYmIHMoIiNnd2RfdmVyc2lvbiIpLmNzcygiYm90dG9tIiwgIjYwcHgiKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJCXMoIiNnd2RfdXBkYXRlX3RoZW4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsKCQkJCQkJCWd3ZF92ZXJzaW9uOiBlCgkJCQkJCX0pLCBzKCIjZ3dkX3ZlcnNpb24iKS5oaWRlKCkKCQkJCQl9KSwgcygiI2d3ZF91cGRhdGVfbm93Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXMoIiNnd2RfdmVyc2lvbiIpLmhpZGUoKQoJCQkJCX0pLCBzKCIjbmV2ZXJfcmVtaW5kIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7CgkJCQkJCQlnd2RfcmVtaW5kOiAibmV2ZXIiCgkJCQkJCX0pLCBzKCIjZ3dkX3ZlcnNpb24iKS5oaWRlKCkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJCXZhciB0ID0gbigyOCk7CgkJCQkJdC5vbihmdW5jdGlvbih0KSB7CgkJCQkJCSJnZXRfYnR5cGUiID09PSB0LnR5cGUgJiYgZSh0LnZhbHVlKQoJCQkJCX0pLCB0LnRyaWdnZXIoewoJCQkJCQl0eXBlOiAiZ2V0X2J0eXBlIgoJCQkJCX0pCgkJCQl9CgkJCQl2YXIgcyA9IG4oNiksCgkJCQkJbCA9IG4oOSksCgkJCQkJYyA9IG4oMTYpLAoJCQkJCWQgPSB7fTsKCQkJCXJldHVybiBkLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCQlyKGZ1bmN0aW9uKHQpIHsKCQkJCQkJImNocm9tZSIgPT09IHQgJiYgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KCJnd2RfcmVtaW5kIiwgZnVuY3Rpb24odCkgewoJCQkJCQkJdmFyIG4gPSB0ICYmIHQuZ3dkX3JlbWluZDsKCQkJCQkJCSJuZXZlciIgIT09IG4gJiYgZSgpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sIGQKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iZ3dkX3ZlcnNpb24iPlxuICA8cCBjbGFzcz0idmVyc2lvbl9oZWFkIj7otK3nianlhZrlj5HnjrDmlrDniYjmnKw8L3A+XG4gIDxkaXYgY2xhc3M9InZlcnNpb25fY29udGVudCI+XG4gICAgPHAgY2xhc3M9InZlcnNpb25fZGVzIj7or7TmmI7vvJp7e3VwZGF0ZS5kZXNjfX08L3A+XG4gICAgPGEgaWQ9Imd3ZF91cGRhdGVfbm93IiBocmVmPSJ7e3VwZGF0ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT5cbiAgICA8YSBpZD0iZ3dkX3VwZGF0ZV90aGVuIj48L2E+XG4gICAgPGEgaWQ9Im5ldmVyX3JlbWluZCIgdGl0bGU9IueCueWHu+WQjuWwhuS4jeWGjeaPkOekuui0reeJqeWFmuaPkuS7tuWNh+e6pyI+5LiN5YaN5o+Q56S6PC9hPlxuICA8L2Rpdj4gICAgIFxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICNnd2RfdmVyc2lvbntcbiAgICAgIHdpZHRoOiAyOTJweDtcbiAgICAgIGhlaWdodDogMTY4cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMXB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2JhYmFiYTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICByaWdodDogMnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5OTk5OTk5OTtcbiAgICB9XG4gICAgLnZlcnNpb25faGVhZHtcbiAgICAgIGhlaWdodDogMzhweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAzOHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmZiNGYzO1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTFweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMXB4O1xuICAgIH1cbiAgICAudmVyc2lvbl9jb250ZW50IHB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI2FlYWVhZTtcbiAgICAgIG1hcmdpbi10b3A6IDE3cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOXB4O1xuICAgIH1cbiAgICAudmVyc2lvbl9jb250ZW50IGF7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICB3aWR0aDogMTA4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIGEjbmV2ZXJfcmVtaW5kIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZTtcbiAgICAgIHdpZHRoOiAzNHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDlweDtcbiAgICAgIGNvbG9yOiAjYWVhZWFlO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIGEjbmV2ZXJfcmVtaW5kOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC52ZXJzaW9uX251bXtcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICB9XG4gICAgI2d3ZF91cGRhdGVfbm93e1xuICAgICAgbWFyZ2luLWxlZnQ6IDE4cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2d3ZF91cGRhdGVfbm93LnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgICNnd2RfdXBkYXRlX25vdzpob3ZlcntcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9nd2RfdXBkYXRlX25vd19ob3Zlci5wbmdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICAjZ3dkX3VwZGF0ZV90aGVue1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9nd2RfdXBkYXRlX3RoZW4ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgI2d3ZF91cGRhdGVfdGhlbjpob3ZlcntcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZ3dkX3VwZGF0ZV90aGVuX2hvdmVyLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gewoJCQkJdG9wOiAiY3NzLyIgKyB0LmV4dE5hbWUgKyAiLW5vdGlmaWVyLW5ldzQuY3NzIiwKCQkJCWJvdHRvbTogImNzcy8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1ib3R0b20tbmV3NC5jc3MiCgkJCX07CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBlID0gZSB8fCAiIiwKCQkJCQlhID0gbG9jYXRpb24uaHJlZiwKCQkJCQlvID0gdC5zX3NlcnZlciArICIvY3NzL2Jyd2V4dC9pbWFnZXMuY3NzIiwKCQkJCQlyID0gISFhLm1hdGNoKC9eaHR0cCg/OnMpPzpcL1wvKFthLXpBLVowLTktX10rXC4pKih0bWFsbHx0YW9iYW8pXC4vKSAmJiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIm1ldGFbaHR0cC1lcXVpdj1Db250ZW50LVNlY3VyaXR5LVBvbGljeV0iKSwKCQkJCQlzID0gISFhLm1hdGNoKC9eaHR0cCg/OnMpPzpcL1wvd3d3XC52aXBcLmNvbS8pOwoJCQkJdC5uZXdfZXh0ZW5zaW9uID8gKGUgPSB0LnNfc2VydmVyICsgIi9jc3MvYnJ3ZXh0LyIgKyB0LnVfa2V5ICsgIi5taW4uY3NzIiwgbyA9IHQuc19zZXJ2ZXIgKyAiL2Nzcy9icndleHQvaW1hZ2VzXyIgKyB0LmV4dEJyYW5kICsgIi5jc3MiKSA6ICJjaHJvbWUiID09IHQuZnJvbV9kZXZpY2UgPyAoZSA9IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKGlbdC5zdHlsZV0gfHwgaVt0LmRlZmF1bHRfc3R5bGVdKSwgbyA9IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCJjc3MvaW1hZ2VzLmNzcyIpKSA6ICIyMzQ1IiA9PSB0LmZyb21fZGV2aWNlID8gciB8fCBzID8gKGUgPSBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTChpW3Quc3R5bGVdIHx8IGlbdC5kZWZhdWx0X3N0eWxlXSksIG8gPSBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgiY3NzL2ltYWdlcy5jc3MiKSkgOiAoaS50b3AgPSAiY3NzL2Jyd2V4dC8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1uZXc0LmNzcyIsIGkuYm90dG9tID0gImNzcy9icndleHQvIiArIHQuZXh0TmFtZSArICItbm90aWZpZXItYm90dG9tLW5ldzQuY3NzIiwgZSA9IHQuc19zZXJ2ZXIgKyAiLyIgKyBpW3Quc3R5bGVdICsgIj92PSIgKyB0LnZlcnNpb24pIDogImx1eW91IiA9PT0gdC5idHlwZSA/IChpLnRvcCA9ICJjc3MvYnJ3ZXh0LyIgKyB0LmV4dE5hbWUgKyAiLW5vdGlmaWVyLW5ldy5jc3MiLCBpLmJvdHRvbSA9ICJjc3MvYnJ3ZXh0LyIgKyB0LmV4dE5hbWUgKyAiLW5vdGlmaWVyLWJvdHRvbS1uZXcuY3NzIikgOiAoaS50b3AgPSAiY3NzL2Jyd2V4dC8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1uZXc0LmNzcyIsCgkJCQkJaS5ib3R0b20gPSAiY3NzL2Jyd2V4dC8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1ib3R0b20tbmV3NC5jc3MiKSwgdC5uZXdfZXh0ZW5zaW9uID8gZSA9IGUgKyAiP3Y9IiArIHQudmVyc2lvbiA6ICJjaHJvbWUiICE9IHQuZnJvbV9kZXZpY2UgJiYgIjIzNDUiICE9IHQuZnJvbV9kZXZpY2UgJiYgKGUgPSB0LnNfc2VydmVyICsgIi8iICsgaVt0LnN0eWxlXSArICI/dj0iICsgdC52ZXJzaW9uKSwgbigiaGVhZCIpLmFwcGVuZCgnPGxpbmsgdHlwZT0idGV4dC9jc3MiIGhyZWY9IicgKyBlICsgJyIgcmVsPSJzdHlsZXNoZWV0IiAvPicpLCBuKCJoZWFkIikuYXBwZW5kKCc8bGluayB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iJyArIG8gKyAiP3Y9IiArIHQudmVyc2lvbiArICciIHJlbD0ic3R5bGVzaGVldCIgLz4nKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIG4gPSB7fTsKCQllLmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbltlXQoJCX0sIGUuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCW5bZV0gPSB0CgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBuID0gewoJCQkJCWpzZHg6IFsiZmVpbml1IiwgImFwcGxlIl0sCgkJCQkJbmpjazogWyJmZWluaXUiLCAiYXBwbGUiXSwKCQkJCQl0bHhzOiBbImFwcGxlIl0sCgkJCQkJeGRqZjogWyJhcHBsZSJdLAoJCQkJCXpqZHg6IFsiYXBwbGUiXSwKCQkJCQlqeGR4OiBbImFwcGxlIl0sCgkJCQkJc2hjazogWyJhcHBsZSIsICJ2aXBzaG9wIiwgInlpaGFvZGlhbiIsICJmZWluaXUiLCAia2VlZGUiLCAiajEiLCAibGlmZXZjIiwgIm9jaiIsICJ0dWh1IiwgImxvZ2l0ZWNoIiwgInN0YXBsZXMiLCAiYmFuZ2dvIiwgImxvdm8iLCAiYWlkYWkiLCAidG84dG8iLCAiYmwiLCAieWFvMTIzIiwgImx1b2xhaSIsICJzdWFuanV6aSIsICJsdm1hbWEiLCAiZWFzZWV5ZXMiLCAieW9veCIsICJwdXpleWYiLCAiYWlodWlzaG91IiwgInRoZWJlYXN0c2hvcCIsICJtY2FrZSIsICJsZWNha2UiXSwKCQkJCQloYWd3OiBbImFwcGxlIl0sCgkJCQkJc2hsdDogWyJhcHBsZSJdLAoJCQkJCWJqbHQ6IFsiYXBwbGUiXQoJCQkJfSwKCQkJCWkgPSBbImx2bWFtYSIsICIzNjBidXkiLCAiMTYzIiwgImZlZWx1bmlxdWUiXSwKCQkJCWEgPSBbImVmb3RpbGUiXTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmICh0Lm5ld19leHRlbnNpb24gJiYgaS5pbmRleE9mKHQuc2l0ZSkgPiAtMSkgcmV0dXJuICEwOwoJCQkJaWYgKGEuaW5kZXhPZih0LnNpdGUpID4gLTEpIHJldHVybiAhMDsKCQkJCXZhciBlID0gblt0LmZyb21fZGV2aWNlXTsKCQkJCWlmIChlKSB7CgkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBlLmxlbmd0aDsgbysrKQoJCQkJCQlpZiAodC5zaXRlID09PSBlW29dKSByZXR1cm4gITA7CgkJCQkJcmV0dXJuICExCgkJCQl9CgkJCQlyZXR1cm4gITEKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKGUsIHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMjYpLAoJCQkJYSA9IG4oMTMpOwoJCQllLmV4dGVuZCh7CgkJCQl0YWJfb3V0OiBmdW5jdGlvbigpIHsKCQkJCQl0KCIjIiArIGUuZXh0TmFtZSArICItbWFpbiAuIiArIGUuZXh0TmFtZSArICItdGFiIikuY3NzKCJjb2xvciIsICIiKSwgdCgiIyIgKyBlLmV4dE5hbWUgKyAiLW1haW4gLiIgKyBlLmV4dE5hbWUgKyAiLXRhYiIpLmNzcygiaGVpZ2h0IiwgMzYpLCB0KCIjIiArIGUuZXh0TmFtZSArICItbWFpbiAuIiArIGUuZXh0TmFtZSArICItdGFiIikuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgIiIpLCB0KCIjIiArIGUuZXh0TmFtZSArICItbWFpbiAuIiArIGUuZXh0TmFtZSArICItdGFiIikucmVtb3ZlQ2xhc3MoInRhYm1zX2hvdmVyIikKCQkJCX0sCgkJCQl0YWJfaW46IGZ1bmN0aW9uKHQpIHsKCQkJCQl0LmF0dHIoImNsYXNzIikgPT0gZS5leHROYW1lICsgIi10YWIiICYmICh0LmNzcygiY29sb3IiLCAiIzE3N0VFNSIpLCB0LmNzcygiaGVpZ2h0IiwgMzgpLCB0LmNzcygiYmFja2dyb3VuZC1jb2xvciIsICJ3aGl0ZSIpKQoJCQkJfSwKCQkJCWZpeFdpZHRoOiBmdW5jdGlvbigpIHsKCQkJCQl0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLWNvbXBhcmUiKS53aWR0aCgiYXV0byIpOwoJCQkJCXZhciBuID0gcGFyc2VJbnQodCgiIyIgKyBlLmxvZ29OYW1lKS53aWR0aCgpKSwKCQkJCQkJaSA9IHBhcnNlSW50KHQoIiMiICsgZS5leHROYW1lICsgIi1iYXItY29tcGFyZSIpLndpZHRoKCkpOwoJCQkJCShlLklFNiB8fCAiYW1hem9uIiA9PSBlLnNpdGUpICYmIGkgPiA4MDAgJiYgKGkgPSA4MDApOwoJCQkJCXZhciBhID0gcGFyc2VJbnQodCgiIyIgKyBlLmV4dE5hbWUgKyAiLWJhci1pY29ucyIpLndpZHRoKCkpLAoJCQkJCQlvID0gcGFyc2VJbnQodCgiIyIgKyBlLmV4dE5hbWUgKyAiLWZlZWQtY2xvc2UiKS53aWR0aCgpKSArIDEwMCwKCQkJCQkJciA9IHBhcnNlSW50KHQoIiNzZWFyY2hfd2Vic2l0ZSIpLndpZHRoKCkpLAoJCQkJCQlzID0gcGFyc2VGbG9hdCh0KCIjcmlnaHRfaW5mbyIpLndpZHRoKCkpIHx8IDEsCgkJCQkJCWwgPSB0aGlzLndpZHRoIC0gbiAtIGkgLSBhIC0gbyAtIHMsCgkJCQkJCWMgPSBsOwoJCQkJCWwgLT0gNDAsIGwgPiAzMDAgPyBsID0gMzAwIDogMTAwID4gbCAmJiAobCA9IDEwMCksIHQoIiMiICsgZS5leHROYW1lICsgIi1zZWFyY2gtZm9ybSIpLmlzKCI6dmlzaWJsZSIpICYmIGMgLSB0KCIjIiArIGUuZXh0TmFtZSArICItc2VhcmNoLWZvcm0iKS5vdXRlcldpZHRoKCkgLSAxNjAgPiAwICYmIHQoIi5iMmMtaWNvbiwgLnRtYWxsLWljb24sIC50YW9iYW8taWNvbiwgIyIgKyBlLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCAxMDAgPj0gbCAmJiAodCgiLmIyYy1pY29uLCAudG1hbGwtaWNvbiwgLnRhb2Jhby1pY29uLCAjIiArIGUuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24sIC5yZXZpZXctaWNvbiwgIyIgKyBlLmV4dE5hbWUgKyAiLXByb21vdGlvbi1kcCwgIyIgKyBlLmV4dE5hbWUgKyAiLWFsc29fYnV5IikuaGlkZSgpLCBpID0gcGFyc2VJbnQodCgiIyIgKyBlLmV4dE5hbWUgKyAiLWJhci1jb21wYXJlIikud2lkdGgoKSksIGwgPSB0aGlzLndpZHRoIC0gbiAtIGkgLSBhIC0gbyksIGwgLT0gNDAsIGMgPiA0MjEgJiYgIXQoIiNwcm9tb19xdWFuX2J0biIpLmlzKCI6dmlzaWJsZSIpICYmIHQoIiNwcm9tb19xdWFuX2J0biIpLmxlbmd0aCA+IDAgJiYgKHQoIiNwcm9tb19xdWFuX2J0biIpLnNob3coKSwgYyAtPSAxMjEpLCBjID4gNDAwICYmICF0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5pcygiOnZpc2libGUiKSAmJiB0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5sZW5ndGggPiAwICYmICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5zaG93KCksIGMgLT0gMTAwKSwgYyA+IDEzOSAmJiAhdCgiIyIgKyBlLmV4dEJyYW5kICsgIl96aGlkZW1haSIpLmlzKCI6dmlzaWJsZSIpICYmIHQoIiMiICsgZS5leHRCcmFuZCArICJfemhpZGVtYWkiKS5sZW5ndGggPiAwICYmICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikuc2hvdygpLCBjIC09IDEzOSksIGMgPiAxMTIgJiYgIXQoIiMiICsgZS5leHRCcmFuZCArICJfbG93cHJpIikuaXMoIjp2aXNpYmxlIikgJiYgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5sZW5ndGggPiAwICYmICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLnNob3coKSwgYyAtPSAxMTIpLCBjID4gMTgxICYmICF0KCIjemRtX2ltZyIpLmlzKCI6dmlzaWJsZSIpICYmIHQoIiN6ZG1faW1nIikubGVuZ3RoID4gMCAmJiAodCgiI3pkbV9pbWciKS5zaG93KCksIGMgLT0gMTgxKSwgMTAwID4gbCA/IChsID0gMTAwLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLWljb25zIikuaGlkZSgpLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLXNlYXJjaCIpLmhpZGUoKSwgdCgiI3ZpcHNlYXJjaF9yZW1pbmQiKS5oaWRlKCkpIDogKGwgPiAzMDAgJiYgKGwgPSAzMDApLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLXNlYXJjaCIpLmNzcygid2lkdGgiLCBsKS5zaG93KCksIHQoIiMiICsgZS5leHROYW1lICsgIi1iYXItaWNvbnMiKS5zaG93KCksIHQoIiN2aXBzZWFyY2hfcmVtaW5kIikuc2hvdygpKSwgMjYwID4gYyA/ICh0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLXNlYXJjaCIpLmhpZGUoKSwgdCgiIyIgKyBlLmV4dE5hbWUgKyAiLWJhci1pY29ucyIpLmhpZGUoKSwgdCgiI3ZpcHNlYXJjaF9yZW1pbmQiKS5oaWRlKCkpIDogKHQoIiMiICsgZS5leHROYW1lICsgIi1iYXItc2VhcmNoIikuc2hvdygpLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLWljb25zIikuc2hvdygpLCB0KCIjdmlwc2VhcmNoX3JlbWluZCIpLnNob3coKSksIDAgPiBjICYmIHQoIiN6ZG1faW1nIikuaXMoIjp2aXNpYmxlIikgJiYgKHQoIiN6ZG1faW1nIikuaGlkZSgpLCBjICs9IHQoIiN6ZG1faW1nIikub3V0ZXJXaWR0aCgpKSwgMCA+IGMgJiYgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5pcygiOnZpc2libGUiKSAmJiAodCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5oaWRlKCksIGMgKz0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5vdXRlcldpZHRoKCkpLCAwID4gYyAmJiB0KCIjIiArIGUuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikuaXMoIjp2aXNpYmxlIikgJiYgKHQoIiMiICsgZS5leHRCcmFuZCArICJfemhpZGVtYWkiKS5oaWRlKCksIGMgKz0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIl96aGlkZW1haSIpLm91dGVyV2lkdGgoKSksIDMwMCA+IGMgJiYgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9oaXN0b3J5IikuaXMoIjp2aXNpYmxlIikgJiYgKGMgKz0gMTAwLCB0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5oaWRlKCkpLCAzMDAgPiBjICYmIHQoIiNwcm9tb19xdWFuX2J0biIpLmlzKCI6dmlzaWJsZSIpICYmIChjICs9IDEyMSwgdCgiI3Byb21vX3F1YW5fYnRuIikuaGlkZSgpKSwgIm1zaWUiID09IGUuYnJvd3Nlci5hZ2VudCAmJiBlLmJyb3dzZXIudmVyIDw9IDggPyAoZS5JRTggJiYgKCJkYW5nZGFuZyIgPT0gZS5zaXRlID8gdCgiIyIgKyBlLmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikuY3NzKCJ3aWR0aCIsIGwgLSByIC0gOCkgOiB0KCIjIiArIGUuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS5jc3MoIndpZHRoIiwgbCAtIHIgLSAxKSksIGUuSUU3ICYmIHQoIiMiICsgZS5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmNzcygid2lkdGgiLCBsIC0gciAtIDgpKSA6ICJkYW5nZGFuZyIgPT0gZS5zaXRlID8gdCgiIyIgKyBlLmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikuY3NzKCJ3aWR0aCIsIGwgLSByIC0gNikgOiB0KCIjIiArIGUuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS5jc3MoIndpZHRoIiwgbCAtIHIgLSA2KSwgZS5JRTggJiYgInlvdWdvdSIgPT0gZS5zaXRlICYmIHQoIiMiICsgZS5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmNzcygid2lkdGgiLCBsIC0gciAtIDgpLCB0KHdpbmRvdykudHJpZ2dlcigicmVTaG93UHJpY2VUcmVuZCIpCgkJCQl9LAoJCQkJaW5pdF9pdGVtX2xpc3Q6IGZ1bmN0aW9uKG4pIHsKCQkJCQlpZiAobiA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBuID8gImFsbCIgOiBuLCAiYWxsIiAhPSBuKSB7CgkJCQkJCXZhciBpID0gdCgiIyIgKyBuICsgIi1pdGVtLWxpc3QiKS5jaGlsZHJlbigpOwoJCQkJCQllLnRvdGFsX251bVtuXSA9IGkubGVuZ3RoCgkJCQkJfSBlbHNlCgkJCQkJCWZvciAodmFyIGEgPSAwOyBhIDwgZS5tb2R1bGVfbmFtZS5sZW5ndGg7IGErKykgdGhpcy5pbml0X2l0ZW1fbGlzdChlLm1vZHVsZV9uYW1lW2FdKQoJCQkJfSwKCQkJCXNldF9wYWdlX2FyZ3M6IGZ1bmN0aW9uKG4pIHsKCQkJCQlpZiAobiA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBuID8gImFsbCIgOiBuLCAiYWxsIiAhPSBuKSB0KCIjIiArIG4gKyAiLWN1cnJlbnQtcGFnZSIpLmh0bWwoZS5wYWdlX25vd1tuXSksIHQoIiMiICsgbiArICItcGFnZS1udW0iKS5odG1sKGUucGFnZV90b3RhbFtuXSk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGUubW9kdWxlX25hbWUubGVuZ3RoOyBpKyspIHRoaXMuc2V0X3BhZ2VfYXJncyhlLm1vZHVsZV9uYW1lW2ldKQoJCQkJfSwKCQkJCXNldF9pdGVtX2FyZ3M6IGZ1bmN0aW9uKHQpIHsKCQkJCQl2YXIgaSA9IG4oNzQpLmluaXQoKTsKCQkJCQl0ID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIHQgPyAiYWxsIiA6IHQ7CgkJCQkJdmFyIGEgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAwID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKCQkJCQlpZiAoYSA9IDgwMCA+IGEgPyA4MDAgOiBhLCBlLnBhZ2Vfc2l6ZSA9IHBhcnNlSW50KChhIC0gaS50dXJucFcpIC8gMjg2KSwgZS5wYWdlX3NpemVfbWluaSA9IHBhcnNlSW50KChhIC0gMzEwKSAvIDI4NiksICJhbGwiICE9IHQpICJhbHNvX2J1eSIgPT0gdCB8fCAiYjJjX2Z1enp5IiA9PSB0IHx8ICJ0YW9iYW8iID09IHQgfHwgInRtYWxsIiA9PSB0IHx8ICJsb3dwcmkiID09IHQgfHwgInpoaWRlbWFpIiA9PSB0IHx8ICJzZWFyY2hsb3dwcmkiID09IHQgPyAoZS5wYWdlX25vd1t0XSA9IDEsIGUucGFnZV90b3RhbFt0XSA9IGUudG90YWxfbnVtW3RdICUgZS5wYWdlX3NpemUgPT0gMCA/IHBhcnNlSW50KGUudG90YWxfbnVtW3RdIC8gZS5wYWdlX3NpemUpIDogcGFyc2VJbnQoZS50b3RhbF9udW1bdF0gLyBlLnBhZ2Vfc2l6ZSkgKyAxKSA6IChlLnBhZ2Vfbm93W3RdID0gMSwgZS5wYWdlX3RvdGFsW3RdID0gZS50b3RhbF9udW1bdF0gJSBlLnBhZ2Vfc2l6ZV9taW5pID09IDAgPyBwYXJzZUludChlLnRvdGFsX251bVt0XSAvIGUucGFnZV9zaXplX21pbmkpIDogcGFyc2VJbnQoZS50b3RhbF9udW1bdF0gLyBlLnBhZ2Vfc2l6ZV9taW5pKSArIDEpOwoJCQkJCWVsc2UKCQkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBlLm1vZHVsZV9uYW1lLmxlbmd0aDsgbysrKSB0aGlzLnNldF9pdGVtX2FyZ3MoZS5tb2R1bGVfbmFtZVtvXSkKCQkJCX0sCgkJCQljaGFuZ2VfcGFnZTogZnVuY3Rpb24obiwgaSwgYSkgewoJCQkJCXZhciBvID0gZS5wYWdlX3NpemVfbWluaTsKCQkJCQkoImFsc29fYnV5IiA9PSBuIHx8ICJiMmNfZnV6enkiID09IG4gfHwgInRhb2JhbyIgPT0gbiB8fCAidG1hbGwiID09IG4gfHwgImxvd3ByaSIgPT0gbiB8fCAiemhpZGVtYWkiID09IG4gfHwgInNlYXJjaGxvd3ByaSIgPT0gbikgJiYgKG8gPSBlLnBhZ2Vfc2l6ZSksICJ1bmRlZmluZWQiICE9IHR5cGVvZiBhID8gZS5wYWdlX25vd1tuXSA9IGEgPj0gMSAmJiBhIDw9IGUucGFnZV90b3RhbFtuXSA/IGEgOiAxIDogLTEgPT0gaSA/IGUucGFnZV9ub3dbbl0gPSAxID09IGUucGFnZV9ub3dbbl0gPyBlLnBhZ2VfdG90YWxbbl0gOiAtLWUucGFnZV9ub3dbbl0gOiAxID09IGkgJiYgKGUucGFnZV9ub3dbbl0gPSBlLnBhZ2Vfbm93W25dID09IGUucGFnZV90b3RhbFtuXSA/IDEgOiArK2UucGFnZV9ub3dbbl0pLCB0KCIjIiArIG4gKyAiLWN1cnJlbnQtcGFnZSIpLmh0bWwoZS5wYWdlX25vd1tuXSk7CgkJCQkJdmFyIHIgPSAoZS5wYWdlX25vd1tuXSAtIDEpICogbywKCQkJCQkJcyA9IGUucGFnZV9ub3dbbl0gKiBvOwoJCQkJCXMgPSBzID4gZS50b3RhbF9udW1bbl0gPyBlLnRvdGFsX251bVtuXSA6IHMsIHRoaXMubG9hZF9pbWFnZShuLCByLCBzKQoJCQkJfSwKCQkJCWNoZWNrX2FuaW1hdGU6IGZ1bmN0aW9uKCkgewoJCQkJCXRyeSB7CgkJCQkJCWlmICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgdCgiPGRpdj4iKS5hbmltYXRlKSByZXR1cm4gITEKCQkJCQl9IGNhdGNoIChlKSB7CgkJCQkJCXJldHVybiAhMQoJCQkJCX0KCQkJCQlyZXR1cm4gITAKCQkJCX0sCgkJCQljaGVja19pbWFnZTogZnVuY3Rpb24obiwgaSwgYSkgewoJCQkJCXZhciBvID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGEgfHwgIiIgPT0gYSB8fCBudWxsID09IGEgPyAxMDAgOiBhLAoJCQkJCQlyID0gbiwKCQkJCQkJcyA9IG5ldyBJbWFnZSwKCQkJCQkJbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpOwoJCQkJCSJtc2llIiA9PSBlLmJyb3dzZXIuYWdlbnQgJiYgZS5icm93c2VyLnZlciA8IDExID8gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKCJjb21wbGV0ZSIgPT0gcy5yZWFkeVN0YXRlIHx8ICJsb2FkZWQiID09IHMucmVhZHlTdGF0ZSkgewoJCQkJCQkJaWYgKHMud2lkdGggPiAwICYmIHMuaGVpZ2h0ID4gMCkgewoJCQkJCQkJCXZhciBlID0gbyAvIHMud2lkdGggPCBvIC8gcy5oZWlnaHQgPyBvIC8gcy53aWR0aCA6IG8gLyBzLmhlaWdodDsKCQkJCQkJCQkxID49IGUgPyAodCgiIyIgKyBpKS5jc3MoIndpZHRoIiwgcy53aWR0aCAqIGUpLCB0KCIjIiArIGkpLmNzcygiaGVpZ2h0Iiwgcy5oZWlnaHQgKiBlKSkgOiAodCgiIyIgKyBpKS5jc3MoIndpZHRoIiwgcy53aWR0aCksIHQoIiMiICsgaSkuY3NzKCJoZWlnaHQiLCBzLmhlaWdodCkpCgkJCQkJCQl9CgkJCQkJCQl0KCIjIiArIGkpLmF0dHIoInNyYyIsIG4pCgkJCQkJCX0KCQkJCQl9IDogcy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJMSA9PSBzLmNvbXBsZXRlICYmIHQoIiMiICsgaSkuYXR0cigic3JjIiwgbikKCQkJCQl9LCBzLm9uZXJyb3IgPSBmdW5jdGlvbihuKSB7CgkJCQkJCWwuc3JjID0gZS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvZGVmYXVsdF9sb2FkX2ltYWdlLnBuZyIsIHQobCkud2lkdGgobC5nZXRBdHRyaWJ1dGUoImRfd2lkdGgiKSB8fCAiOTBweCIpLCB0KGwpLmhlaWdodChsLmdldEF0dHJpYnV0ZSgiZF93aWR0aCIpIHx8ICI5MHB4IiksIGwuc2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsIiwgZS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvZGVmYXVsdF9sb2FkX2ltYWdlLnBuZyIpCgkJCQkJfSwgcy5zcmMgPSByCgkJCQl9LAoJCQkJZWRpdE9yaWdpbmFsOiBmdW5jdGlvbihuKSB7CgkJCQkJdChuKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IHQodGhpcyksCgkJCQkJCQlpID0gdCh0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCQluLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBuLmF0dHIoInNyYyIpICYmIGUuY2hlY2tfaW1hZ2Uobi5hdHRyKCJkYXRhLW9yaWdpbmFsIiksIGkpCgkJCQkJfSkKCQkJCX0sCgkJCQlsb2FkX2ltYWdlOiBmdW5jdGlvbihuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSB0aGlzLAoJCQkJCQlyID0gbmV3IE9iamVjdDsKCQkJCQlpZiAoci51c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLCByLmllID0gL21zaWUvLnRlc3Qoci51c2VyQWdlbnQpLCByLk1veiA9IC9nZWNrby8udGVzdChyLnVzZXJBZ2VudCksICJ1bmRlZmluZWQiID09IHR5cGVvZiBuKSByZXR1cm4gITE7CgkJCQkJdmFyIHMgPSB0KCIjIiArIG4gKyAiLWl0ZW0tbGlzdCBsaSIpLAoJCQkJCQlsID0gdCgiIyIgKyBuICsgIi1pdGVtLWxpc3QiKTsKCQkJCQlpZiAoci5pZSB8fCAhdGhpcy5jaGVja19hbmltYXRlKCkpIHsKCQkJCQkJdChzKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwoJCQkJCQlmb3IgKHZhciBjID0gaTsgYSA+IGM7IGMrKykgdCgiIyIgKyBuICsgIi1wcm9kLWl0ZW0tIiArIGMpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJCQkJCQlmb3IgKHZhciBjID0gaTsgYSA+IGM7IGMrKykgewoJCQkJCQkJdmFyIGQgPSAiIyIgKyBuICsgIi1wcm9kLWl0ZW0tIiArIGMgKyAoIiAuIiArIGUuZXh0TmFtZSArICItbGF6eSIpOwoJCQkJCQkJby5lZGl0T3JpZ2luYWwoZCkKCQkJCQkJfQoJCQkJCX0gZWxzZSBsLmFuaW1hdGUoewoJCQkJCQlvcGFjaXR5OiAiMCIKCQkJCQl9LCAxMDAsICJzd2luZyIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KHMpLmNzcygiZGlzcGxheSIsICJub25lIik7CgkJCQkJCWZvciAodmFyIHIgPSBpOyBhID4gcjsgcisrKSB0KCIjIiArIG4gKyAiLXByb2QtaXRlbS0iICsgcikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIik7CgkJCQkJCWwuYW5pbWF0ZSh7CgkJCQkJCQlvcGFjaXR5OiAiMSIKCQkJCQkJfSwgMTAwLCAic3dpbmciLCBmdW5jdGlvbigpIHsKCQkJCQkJCWZvciAodmFyIHQgPSBpOyBhID4gdDsgdCsrKSB7CgkJCQkJCQkJdmFyIHIgPSAiIyIgKyBuICsgIi1wcm9kLWl0ZW0tIiArIHQgKyAoIiAuIiArIGUuZXh0TmFtZSArICItbGF6eSIpOwoJCQkJCQkJCW8uZWRpdE9yaWdpbmFsKHIpCgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sCgkJCQlzZXRQYWdlQXJnczogZnVuY3Rpb24obiwgaSkgewoJCQkJCXQoIiMiICsgbiArICI+bGkiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IHQodGhpcykuZmluZCgiLiIgKyBlLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0iKSwKCQkJCQkJCWEgPSBuLmxlbmd0aCwKCQkJCQkJCW8gPSBhICUgaSA9PSAwID8gcGFyc2VJbnQoYSAvIGkpIDogcGFyc2VJbnQoYSAvIGkpICsgMSwKCQkJCQkJCXIgPSAwLAoJCQkJCQkJcyA9IHQodGhpcykuZmluZCgiZW1baWRePXBhZ2Utbm93XSIpOwoJCQkJCQllLmxvYWRJbWFnZShuLCAwLCBpKSwgdCh0aGlzKS5maW5kKCIuIiArIGUuZXh0QnJhbmQgKyAiLWxlZnQiKS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJCWlmIChyID49IDApIHsKCQkJCQkJCQlyLS0sIDAgPiByICYmIChyID0gbyAtIDEpOwoJCQkJCQkJCWZvciAodmFyIHQgPSByICogaSwgbCA9IChyICsgMSkgKiBpLCBjID0gMDsgYSA+IGM7IGMrKykgYyA+PSB0ICYmIGwgPiBjID8gbi5lcShjKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKSA6IG4uZXEoYykuaGlkZSgpOwoJCQkJCQkJCWUubG9hZEltYWdlKG4sIHQsIGwpLCBzLnRleHQociArIDEpCgkJCQkJCQl9CgkJCQkJCX0pLCB0KHRoaXMpLmZpbmQoIi4iICsgZS5leHRCcmFuZCArICItcmlnaHQiKS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJCWlmIChvIC0gMSA+PSByKSB7CgkJCQkJCQkJcisrLCByID09IG8gJiYgKHIgPSAwKTsKCQkJCQkJCQlmb3IgKHZhciB0ID0gMCwgbCA9IHIgKiBpLCBjID0gKHIgKyAxKSAqIGk7IGEgPiB0OyB0KyspIHQgPj0gbCAmJiBjID4gdCA/IG4uZXEodCkuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikgOiBuLmVxKHQpLmhpZGUoKTsKCQkJCQkJCQllLmxvYWRJbWFnZShuLCBsLCBjKSwgcy50ZXh0KHIgKyAxKQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9LAoJCQkJbG9hZEltYWdlOiBmdW5jdGlvbih0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSA5MDsKCQkJCQlhICYmIChvID0gYSk7CgkJCQkJZm9yICh2YXIgciA9IG47IGkgPiByOyByKyspIHsKCQkJCQkJdmFyIHMgPSB0LmVxKHIpLmZpbmQoImltZyIpLmVxKDApOwoJCQkJCQlzLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBzLmF0dHIoInNyYyIpICYmIGUuY2hlY2tJbWFnZShzLmF0dHIoImRhdGEtb3JpZ2luYWwiKSwgcywgbykKCQkJCQl9CgkJCQl9LAoJCQkJY2hlY2tJbWFnZTogZnVuY3Rpb24obiwgaSwgYSwgbykgewoJCQkJCXZhciByID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGEgfHwgIiIgPT0gYSB8fCBudWxsID09IGEgPyA5MCA6IGEsCgkJCQkJCXMgPSBuLAoJCQkJCQlsID0gbmV3IEltYWdlOwoJCQkJCSJtc2llIiA9PSBlLmJyb3dzZXIuYWdlbnQgJiYgZS5icm93c2VyLnZlciA8IDExID8gbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKCJjb21wbGV0ZSIgPT0gbC5yZWFkeVN0YXRlIHx8ICJsb2FkZWQiID09IGwucmVhZHlTdGF0ZSkgewoJCQkJCQkJaWYgKGwud2lkdGggPiAwICYmIGwuaGVpZ2h0ID4gMCkgewoJCQkJCQkJCXZhciBlID0gciAvIGwud2lkdGggPCByIC8gbC5oZWlnaHQgPyByIC8gbC53aWR0aCA6IHIgLyBsLmhlaWdodDsKCQkJCQkJCQkxID49IGUgPyAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCAqIGUpLCBpLmNzcygiaGVpZ2h0IiwgbC5oZWlnaHQgKiBlKSkgOiAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCksIGkuY3NzKCJoZWlnaHQiLCBsLmhlaWdodCkpCgkJCQkJCQl9CgkJCQkJCQlpLmF0dHIoInNyYyIsIG4pCgkJCQkJCX0KCQkJCQl9IDogbC5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKDEgPT0gbC5jb21wbGV0ZSkgewoJCQkJCQkJaWYgKGwud2lkdGggPiAwICYmIGwuaGVpZ2h0ID4gMCkgewoJCQkJCQkJCXZhciBlID0gciAvIGwud2lkdGggPCByIC8gbC5oZWlnaHQgPyByIC8gbC53aWR0aCA6IHIgLyBsLmhlaWdodDsKCQkJCQkJCQkxID49IGUgPyAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCAqIGUpLCBpLmNzcygiaGVpZ2h0IiwgbC5oZWlnaHQgKiBlKSkgOiAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCksIGkuY3NzKCJoZWlnaHQiLCBsLmhlaWdodCkpCgkJCQkJCQl9CgkJCQkJCQlpLmF0dHIoInNyYyIsIG4pLCBvICYmIG8oKQoJCQkJCQl9CgkJCQkJfSwgbC5vbmVycm9yID0gZnVuY3Rpb24oKSB7CgkJCQkJCWkuYXR0cigic3JjIiwgZS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvZGVmYXVsdF9sb2FkX2ltYWdlLnBuZyIpLCBpLmF0dHIoImRhdGEtb3JpZ2luYWwiLCBlLnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9kZWZhdWx0X2xvYWRfaW1hZ2UucG5nIiksIHQoaSkud2lkdGgoaS5hdHRyKCJkX3dpZHRoIikgfHwgIjkwcHgiKSwgdChpKS5oZWlnaHQoaS5hdHRyKCJkX2hlaWdodCIpIHx8ICI5MHB4IikKCQkJCQl9LCBsLnNyYyA9IHMKCQkJCX0sCgkJCQlnZXRGaXhlZFNob3dQcm9kdWN0TnVtOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gcGFyc2VJbnQoKGUud2lkdGggLSA2NikgLyAyMDApCgkJCQl9LAoJCQkJc2V0TW91c2VPdmVySGFuZGxlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIG4gPSAibW91c2VlbnRlciIsCgkJCQkJCW8gPSAibW91c2VsZWF2ZSI7CgkJCQkJdCgiIiArIGUuZHZhbCkuZGVsZWdhdGUoInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSwgZGl2LiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIiwgbiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlLnRpbWVyMik7CgkJCQkJCXZhciBuID0gdCh0aGlzKS5wYXJlbnRzKCkuZXEoMCk7CgkJCQkJCXQodGhpcylbMF0uY2xhc3NOYW1lID09PSBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0iICYmIChpKCJob3ZlcjptYWluOmNvbXBhcmUiKSwgYS5sb2coIuS4u+W3peWFt+agj+avlOS7t+m8oOagh+aCrOa1riIpKSwgdCh0aGlzKVswXS5jbGFzc05hbWUuaW5kZXhPZihlLmV4dEJyYW5kICsgIi10cmVuZCIpID4gLTEgJiYgKGkoImhvdmVyOm1haW46cHJpY2V0cmVuZCIpLCBhLmxvZygi5Li75bel5YW35qCP5Lu35qC86LaL5Yq/6byg5qCH5oKs5rWuIikpLCB0KCJkaXYuIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5oaWRlKCksIHQoInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLCBuLmNoaWxkcmVuKCJzcGFuLiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0iKS5hZGRDbGFzcyhlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKSwgbi5jaGlsZHJlbigiZGl2LiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikKCQkJCQl9KSwgdCgiIiArIGUuZHZhbCkuZGVsZWdhdGUoInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSwgZGl2LiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIiwgbywgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlLnRpbWVyMik7CgkJCQkJCXZhciBuID0gdCh0aGlzKS5wYXJlbnRzKCkuZXEoMCk7CgkJCQkJCWUudGltZXIyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW4uY2hpbGRyZW4oInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLCBuLmNoaWxkcmVuKCJkaXYuIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5oaWRlKCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCB0KCIiICsgZS5kdmFsKS5kZWxlZ2F0ZSgic3Bhbi4iICsgZS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIiwgImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQodGhpcykuYXR0cigiaHJlZiIpICYmIHdpbmRvdy5vcGVuKHQodGhpcykuYXR0cigiaHJlZiIpKQoJCQkJCX0pLCB0KCIiICsgZS5kdmFsKS5kZWxlZ2F0ZSgiIyIgKyBlLmV4dEJyYW5kICsgIl9mYXZvciwjIiArIGUuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCIsIG4sIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCJhLiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0iKS5yZW1vdmVDbGFzcyhlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKSwgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9mYXZvciIpLmFkZENsYXNzKGUuZXh0QnJhbmQgKyAiX2Zhdm9yX2hvdmVyIiksIHQoImRpdi4iICsgZS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbCIpLmhpZGUoKSwgdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwiKS5zaG93KCksIGkoImhvdmVyOm1haW46ZmF2b3IiKSwgYS5sb2coIuS4u+W3peWFt+agj+aUtuiXj+Wkuem8oOagh+aCrOa1riIpCgkJCQkJfSksIHQoIiIgKyBlLmR2YWwpLmRlbGVnYXRlKCIjIiArIGUuZXh0QnJhbmQgKyAiX2Zhdm9yLCMiICsgZS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIiwgbywgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiMiICsgZS5leHRCcmFuZCArICJfZmF2b3IiKS5yZW1vdmVDbGFzcyhlLmV4dEJyYW5kICsgIl9mYXZvcl9ob3ZlciIpLCB0KCIjIiArIGUuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCIpLmhpZGUoKQoJCQkJCX0pCgkJCQl9LAoJCQkJZ2V0Rml4ZWRDb21wYXJlTnVtOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgbiA9IDMyMDsKCQkJCQkiYmxvY2siID09IHQoIiMiICsgZS5leHRCcmFuZCArICItdHJlbmQiKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSAxMjApLCAiYmxvY2siID09IHQoIiMiICsgZS5leHRCcmFuZCArICJfaGlzdG9yeSIpLmNzcygiZGlzcGxheSIpICYmIChuICs9IDExMiksICJibG9jayIgPT0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1zZWFyY2giKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSAyMjApLCAiYmxvY2siID09IHQoIiMiICsgZS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCIpLmNzcygiZGlzcGxheSIpICYmIChuICs9IHQoIiMiICsgZS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCBzcGFuIikuZXEoMCkub3V0ZXJXaWR0aCgpKSwgImJsb2NrIiA9PSB0KCIjIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdGFvYmFvIikuY3NzKCJkaXNwbGF5IikgJiYgKG4gKz0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLXRhb2JhbyBzcGFuIikuZXEoMCkub3V0ZXJXaWR0aCgpKSwgImJsb2NrIiA9PSB0KCIjIiArIGUuZXh0QnJhbmQgKyAiLW1vcmUiKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSA2MCksICJibG9jayIgPT0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1kb3ViYW4iKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSA4MCk7CgkJCQkJdmFyIGkgPSBlLndpZHRoIC0gbiwKCQkJCQkJYSA9IDA7CgkJCQkJcmV0dXJuIHQoIiMiICsgZS5leHRCcmFuZCArICItY29tcGFyZT5saSIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCWUuSUU2IHx8IGUuSUU3IHx8IGUuSUU4IHx8IGUuSUU5IHx8IGUuSUUxMCB8fCBlLklFMTEgPyBpIC0gODAgPj0gdCh0aGlzKS5vdXRlcldpZHRoKCkgJiYgKGkgLT0gdCh0aGlzKS5vdXRlcldpZHRoKCksICsrYSkgOiBpID49IHQodGhpcykub3V0ZXJXaWR0aCgpICYmIChpIC09IHQodGhpcykub3V0ZXJXaWR0aCgpLCArK2EpCgkJCQkJfSksIGEKCQkJCX0sCgkJCQlhdXRvRml4V2lkdGg6IGZ1bmN0aW9uKGkpIHsKCQkJCQl2YXIgYSA9IG4oNzUpLAoJCQkJCQlvID0gbig4NyksCgkJCQkJCXIgPSB0KGUuZHZhbCksCgkJCQkJCXMgPSBpIHx8IHIuYXR0cigiYjJjIikgJiYgImZ1enp5IiA9PSByLmF0dHIoImIyYyIpOwoJCQkJCWlmIChzID0gITEsIDEgIT0gci5hdHRyKCJhdXRvIikpIHsKCQkJCQkJZS53aWR0aCA8IDFlMyA/IHQoIiMiICsgZS5leHRCcmFuZCArICItc2VhcmNoIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKSA6ICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiLXNlYXJjaCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpLCAiYW1hem9uIiA9PSBlLnNpdGUgJiYgdCgiLiIgKyBlLmV4dEJyYW5kICsgIi1zZWFyY2gtaW5wdXQiKS5hZGRDbGFzcygiYW1hem9uX2hhbmsiKSk7CgkJCQkJCXZhciBsID0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlPmxpIiksCgkJCQkJCQljID0gbC5sZW5ndGgsCgkJCQkJCQlkID0gZS5nZXRGaXhlZENvbXBhcmVOdW0oKTsKCQkJCQkJYyAtIGQgPj0gMiA/IHMgfHwgKHQoIiMiICsgZS5leHRCcmFuZCArICItc2VhcmNoIikuYXR0cigic2hvdyIsIDApLmhpZGUoKSwgZCA9IGUuZ2V0Rml4ZWRDb21wYXJlTnVtKCkpIDogZCAtIGMgPj0gMiAmJiAodCgiIyIgKyBlLmV4dEJyYW5kICsgIi1zZWFyY2giKS5hdHRyKCJzaG93IiwgMSkuc2hvdygpLCBkID0gZS5nZXRGaXhlZENvbXBhcmVOdW0oKSk7CgkJCQkJCWZvciAodmFyIHAgPSAwOyBjID4gcDsgcCsrKSBkID4gcCA/IGwuZXEocCkuc2hvdygpIDogbC5lcShwKS5oaWRlKCk7CgkJCQkJCWEuc2V0Qm90dG9tVmlld09mZnNldCgpLCBvLnNldEJvdHRvbVZpZXdPZmZzZXQoKQoJCQkJCX0KCQkJCX0sCgkJCQljaXJjbGVOb3RpY2U6IGZ1bmN0aW9uKG4sIGkpIHsKCQkJCQlpZiAobiB8fCBpKSB7CgkJCQkJCXZhciBhID0gIiI7CgkJCQkJCW4gJiYgKGEgKz0gIi4iICsgZS5leHRCcmFuZCArICItcXVhbiIsIGUuc2hvd19xdWFuID0gMSksIGkgJiYgKGEgKz0gIiIgPT09IGEgPyAiIiA6ICIsIiwgYSArPSAiLiIgKyBlLmV4dEJyYW5kICsgIi1jdSIsIGUuc2hvd19jdSA9IDEpLCAiIiAhPSBhICYmIHQoYSkuY3NzKCJwb3NpdGlvbiIsICJyZWxhdGl2ZSIpLmFwcGVuZCh0KCI8Yj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBlLmV4dEJyYW5kICsgIi1iZyAiICsgZS5leHRCcmFuZCArICItY3UtY2lyY2xlIgoJCQkJCQl9KSkKCQkJCQl9CgkJCQl9CgkJCX0pCgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gdm9pZCAwLAoJCQkJYSA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdCh3aW5kb3cpLndpZHRoKCksCgkJCQkJCW4gPSAyNjgsCgkJCQkJCWkgPSAxMzAsCgkJCQkJCWEgPSAzMDIsCgkJCQkJCW8gPSBlIC0gMiAqIGkgLSBhLAoJCQkJCQlyID0gcGFyc2VJbnQobyAvIG4pOwoJCQkJCXJldHVybiBvIC0gciAqIG4gKyA4MCA+IDI2OCAmJiAocisrLCBpID0gcGFyc2VJbnQoKGUgLSByICogbiAtIGEpIC8gMiksIG8gPSBlIC0gMiAqIGkgLSBhKSwgewoJCQkJCQlwcm9kdWN0VzogbywKCQkJCQkJdHVybnBXOiBpLAoJCQkJCQlzaG93TGlzdE51bTogcgoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQlpZiAoaSkgcmV0dXJuIGk7CgkJCQl2YXIgZSA9IHQod2luZG93KS53aWR0aCgpLAoJCQkJCW8gPSAyNjgsCgkJCQkJciA9IDE0NywKCQkJCQlzID0gZSAtIDIgKiByLAoJCQkJCWwgPSBwYXJzZUludChzIC8gbyk7CgkJCQlzIC0gbCAqIG8gKyA5MiA+IDI2OCAmJiAobCsrLCByID0gcGFyc2VJbnQoKGUgLSBsICogbykgLyAyKSwgcyA9IGUgLSAyICogciksICJhbWF6b24iID09PSBuLnNpdGUgJiYgci0tOwoJCQkJdmFyIGMgPSBhKCk7CgkJCQlyZXR1cm4gaSA9IHsKCQkJCQlhbGxQcm9kdWN0VzogcywKCQkJCQl0dXJucFc6IHIsCgkJCQkJc2hvd0xpc3ROdW06IGwsCgkJCQkJYjJjUHJvZHVjdFc6IGMucHJvZHVjdFcsCgkJCQkJYjJjVHVybnBXOiBjLnR1cm5wVywKCQkJCQliMmNTaG93TGlzdE51bTogYy5zaG93TGlzdE51bQoJCQkJfQoJCQl9LCBlLmV4cG9ydHMuY2FsQm90dG9tQmFyID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHQoIiNiamRfbG9nbyIpLm91dGVyV2lkdGgoKSwKCQkJCQluID0gdCgiLmxlZnQtY29tcGFyZSIpLm91dGVyV2lkdGgoKSwKCQkJCQlpID0gdCgiLm5idC1hZGluZm8iKS5vdXRlcldpZHRoKCksCgkJCQkJYSA9IHQoIi5uYnQtY2xvc2UtYnRuIikub3V0ZXJXaWR0aCgpLAoJCQkJCW8gPSB0KCIucmlnaHQtaW5mbyIpLm91dGVyV2lkdGgoKSwKCQkJCQlyID0gdCh3aW5kb3cpLndpZHRoKCksCgkJCQkJcyA9IHIgLSAoZSArIG4gKyBpICsgYSArIG8gKyAxMTIgKyA5NCk7CgkJCQlyZXR1cm4gcwoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSkgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbig2KSwKCQkJCQl0ID0gbig5KSwKCQkJCQlpID0gbig3NiksCgkJCQkJbyA9IG4oNzcpOwoJCQkJcmV0dXJuIHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCBpKSB7CgkJCQkJCWlmIChudWxsICE9IGEuc2F2ZVRiUmVzRGF0YSkgcmV0dXJuIHZvaWQgdGhpcy5yZW5kZXJUYW9iYW9VSShhLnNhdmVUYlJlc0RhdGEpOwoJCQkJCQl2YXIgciA9IHRoaXMsCgkJCQkJCQlzID0gIjEiLAoJCQkJCQkJbCA9IGVbImNvZGUtc2VydmVyIl0sCgkJCQkJCQljID0gZS5leGFjdF9hcnIsCgkJCQkJCQlkID0gMTAwICogZS5ub3cucHJpY2U7CgkJCQkJCWQgfHwgKGQgPSAxMDAgKiBhLmRwLnByaWNlKSwgbCB8fCAobCA9IHt9LCBzID0gIjAiKTsKCQkJCQkJdmFyIHAgPSBbImFtYXpvbiIsICI2cG0iLCAiZWJheSJdOwoJCQkJCQlpZiAocC5pbmRleE9mKGEuc2l0ZSkgPiAtMSAmJiAoZCA9IDEwMCAqIGEuZHAucHJpY2UpLCAiYW1hem9uIiAhPSBhLnNpdGUgfHwgYy5icmFuZCB8fCAiMSIgPT09IGUubm93LnNpdGVfaWQpIHsKCQkJCQkJCXZhciBoID0gYS5zZXJ2ZXIgKyAiL2Jyd2V4dC90YnJlcz91bmlvbj0iICsgYS51bmlvbiArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYy51cmwpICsgIiZzaXRlPSIgKyBjLnNpdGUgKyAiJmlzYm49IiArIGMuaXNibiArICIma2V5d29yZHM9IiArIGVuY29kZVVSSUNvbXBvbmVudChjLmtleXdvcmRzKSArICImYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChjLmJyYW5kKSArICImdHlwZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGMudHlwZSkgKyAiJnByaWNlPSIgKyBkICsgIiZjbGFzc19pZD0iICsgYy5jbGFzc19pZCArICImbmFtZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEuZHAubmFtZSkgKyAiJmNvZGVfYnJhbmRfaWQ9IiArIGwuYnJhbmRfaWQgKyAiJmNvZGVfY2xlYW5fdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChsLmNsZWFuX3RpdGxlKSArICImY29kZV9jb2RlPSIgKyBsLmNvZGUgKyAiJmNvZGVfZGlzcGxheV9icmFuZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuZGlzcGxheV9icmFuZCkgKyAiJmNvZGVfYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChsLmJyYW5kKSArICImY29kZV9jbGFzc19pZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuY2xhc3NfaWQpICsgIiZjb2RlX3ByaWNlPSIgKyBlbmNvZGVVUklDb21wb25lbnQobC5wcmljZSkgKyAiJmNvZGVfc3BlYz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuc3BlYykgKyAiJmNvZGUtc2VydmVyPSIgKyBzOwoJCQkJCQkJdC5nZXQoaCkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQkJInRhb2JhbyIgPT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT0gYS5zaXRlID8gby5nZXRVbmlxUGlkKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJYS5zYXZlVGJSZXNEYXRhID0gZSwgci5yZW5kZXJUYW9iYW9VSShlKSwgbig4NCkucmVuZGVyQnQoZSkKCQkJCQkJCQl9KSA6IG8uZ2V0SW1nU2VhcmNoKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJYS5zYXZlVGJSZXNEYXRhID0gZSwgci5yZW5kZXJUYW9iYW9VSShlKSwgbig4NCkucmVuZGVyQnQoZSkKCQkJCQkJCQl9KQoJCQkJCQkJfSkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcmVuZGVyVGFvYmFvVUk6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIG4gPSB0aGlzLAoJCQkJCQkJaSA9IGEuZ2V0Rml4ZWRTaG93UHJvZHVjdE51bSgpOwoJCQkJCQluLnNob3dCb3R0b21WaWV3KCJ0bWFsbCIsIHQpLCBuLnNob3dCb3R0b21WaWV3KCJ0YW9iYW8iLCB0KSwgYS5zZXRQYWdlQXJncyhhLmV4dEJyYW5kICsgIi1jb21wYXJlLXRtYWxsIiwgaSksIGEuc2V0UGFnZUFyZ3MoYS5leHRCcmFuZCArICItY29tcGFyZS10YW9iYW8iLCBpKSwgbi5zZXRCb3R0b21WaWV3T2Zmc2V0KCksIGEuYXV0b0ZpeFdpZHRoKCksICIiID09IHQuc2VhcmNoLmtleXdvcmRzICYmICIiICE9IGEuZHAuaXNibiAmJiBlKCIuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1pbnB1dCIpLnZhbChhLmRwLmlzYm4pLCAiIiAhPSB0LnNlYXJjaC5rZXl3b3JkcyAmJiBlKCIuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1pbnB1dCIpLnZhbCh0LnNlYXJjaC5rZXl3b3JkcyksICJ2aXBzaG9wIiA9PT0gYS5zaXRlICYmIGUoIi4iICsgYS5leHRCcmFuZCArICItc2VhcmNoLWlucHV0IikudmFsKGEuZHAuY2F0X25hbWUpLCBlKHdpbmRvdykuYmluZCgicmVEcmF3VGFvYmFvQmFubmVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgZSA9IGEuZ2V0Rml4ZWRTaG93UHJvZHVjdE51bSgpOwoJCQkJCQkJbi5zaG93Qm90dG9tVmlldygidG1hbGwiLCB0KSwgbi5zaG93Qm90dG9tVmlldygidGFvYmFvIiwgdCksIGEuc2V0UGFnZUFyZ3MoYS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCIsIGUpLCBhLnNldFBhZ2VBcmdzKGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdGFvYmFvIiwgZSksIG4uc2V0Qm90dG9tVmlld09mZnNldCgpCgkJCQkJCX0pLCAxID09IGEucF9mb2xkICYmIGUoIi4iICsgYS5leHRCcmFuZCArICItY2xvc2UtbW9kdWxlIikuaGlkZSgpCgkJCQkJfSwKCQkJCQlzaG93Qm90dG9tVmlldzogZnVuY3Rpb24odCwgbikgewoJCQkJCQl2YXIgbyA9IGEuZ2V0Rml4ZWRTaG93UHJvZHVjdE51bSgpLAoJCQkJCQkJciA9ICIiOwoJCQkJCQlpZiAoInRtYWxsIiA9PSB0ID8gciA9ICLlpKnnjKvllYbln44iIDogInRhb2JhbyIgPT0gdCAmJiAociA9ICLmt5jlrp3nvZEiKSwgbi5zaXRlICYmIChyID0gIuWQjOexu+eDreWNliIpLCBuW3RdICYmIG5bdF0ubWluX3ByaWNlKSB7CgkJCQkJCQlpZiAoblt0XS5wcm9kdWN0Lmxlbmd0aCA+IDApIHsKCQkJCQkJCQl2YXIgcyA9IGkudGIoblt0XSk7CgkJCQkJCQkJaWYgKHMgaW5zdGFuY2VvZiBBcnJheSkgcmV0dXJuOwoJCQkJCQkJCWlmICgwID09PSBzLnByb2R1Y3QubGVuZ3RoKSByZXR1cm47CgkJCQkJCQkJdmFyIGwgPSBzLnByb2R1Y3RbMF0sCgkJCQkJCQkJCWMgPSBwYXJzZUludChzLnByb2R1Y3QubGVuZ3RoKSwKCQkJCQkJCQkJZCA9IGMgJSBvID09IDAgPyBwYXJzZUludChjIC8gbykgOiBwYXJzZUludChjIC8gbykgKyAxLAoJCQkJCQkJCQlwID0gZSgiPGxpPiIpOwoJCQkJCQkJCXAuYXBwZW5kKGUoIjxzcGFuPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIiwKCQkJCQkJCQkJaHJlZjogbC51cmwsCgkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPHA+IiwgewoJCQkJCQkJCQlzdHlsZTogImhlaWdodDoxMHB4O2Rpc3BsYXk6bm9uZTsiLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1pc3p3ZiIKCQkJCQkJCQl9KS5odG1sKCImbmJzcCIpKS5hcHBlbmQoZSgiPHA+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcmljZSIKCQkJCQkJCQl9KS5odG1sKCImeWVuOyIgKyBzLm1pbl9wcmljZSArIChzLm1heF9wcmljZSAhPSBzLm1pbl9wcmljZSA/ICJ+IiArIHMubWF4X3ByaWNlIDogIiIpKSkuYXBwZW5kKGUoIjxwPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItc3RvcmUiCgkJCQkJCQkJfSkudGV4dChyKSkuYXBwZW5kKGUoIjxwPiIsIHsKCQkJCQkJCQkJc3R5bGU6ICJoZWlnaHQ6MTBweDtkaXNwbGF5Om5vbmU7IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItaXN6d2YiCgkJCQkJCQkJfSkuaHRtbCgiJm5ic3AiKSkpOwoJCQkJCQkJCXZhciBoID0gZSgiPGRpdj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwgcmUtIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwgIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiLAoJCQkJCQkJCQlzdHlsZTogImRpc3BsYXk6bm9uZTsiCgkJCQkJCQkJfSk7CgkJCQkJCQkJaC5hcHBlbmQoZSgiPHA+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlICIgKyBhLmV4dEJyYW5kICsgIi1oZWlnaHQtYXV0byAiICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1maXhlZCIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPHNwYW4+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWRlc2MiCgkJCQkJCQkJfSkudGV4dChyICsgIu+8muS4jeWQjOWNluWutui/kOi0ueS4jeWQjCIpKSk7CgkJCQkJCQkJZm9yICh2YXIgdSA9IGUoIjx1bD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWl0ZW0tbGlzdCIKCQkJCQkJCQl9KSwgbSA9IDA7IGMgPiBtOyBtKyspIHsKCQkJCQkJCQkJdmFyIGYgPSBzLnByb2R1Y3RbbV07CgkJCQkJCQkJCXUuYXBwZW5kKGUoIjxsaT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0gIiArIChtICUgbyA9PSBvIC0gMSB8fCBtID09IGMgLSAxID8gYS5leHRCcmFuZCArICItbGFzdCIgOiAiIiksCgkJCQkJCQkJCQlzdHlsZTogImRpc3BsYXk6ICIgKyAobSA+PSBvID8gIm5vbmUiIDogImJsb2NrIikKCQkJCQkJCQkJfSkuYXBwZW5kKGUoIjxhPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXBpYyIsCgkJCQkJCQkJCQlocmVmOiBmLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQkJfSkuYXBwZW5kKGUoIjxpbWc+IiwgewoJCQkJCQkJCQkJc3JjOiBhLnNfc2VydmVyICsgIi9pbWFnZXMvZHBfZGVmYXVsdC5qcGciLAoJCQkJCQkJCQkJImRhdGEtb3JpZ2luYWwiOiBmLnBpY191cmwsCgkJCQkJCQkJCQl0aXRsZTogZi50aXRsZQoJCQkJCQkJCQl9KSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcm9kdWN0LXRpdGxlIiwKCQkJCQkJCQkJCWhyZWY6IGYudXJsLAoJCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJCQkJCXRpdGxlOiBmLnRpdGxlCgkJCQkJCQkJCX0pLnRleHQoZi50aXRsZSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcmljZSIsCgkJCQkJCQkJCQlocmVmOiBmLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQkJfSkuaHRtbCgiJnllbjsiICsgZi5wcmljZSkpKQoJCQkJCQkJCX0KCQkJCQkJCQl2YXIgZyA9IGUoIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi10Yi10bS1QYWdlVmlldyAiICsgYS5leHRCcmFuZCArICItYjJjLVBhZ2VWaWV3LWZpeGVkIgoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmIChnLmFwcGVuZChlKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUiLAoJCQkJCQkJCQlzdHlsZTogImhlaWdodDphdXRvOyIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPHNwYW4+IiwgewoJCQkJCQkJCQlzdHlsZTogImZsb2F0Om5vbmU7cGFkZGluZy1sZWZ0OjEwcHg7IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1wYWdlcyIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPGVtPiIsIHsKCQkJCQkJCQkJaWQ6ICJwYWdlLW5vdy0iICsgdCwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2Utbm93IgoJCQkJCQkJCX0pLnRleHQoIjEiKSkuYXBwZW5kKCIvIikuYXBwZW5kKGUoIjxlbT4iLCB7CgkJCQkJCQkJCWlkOiAicGFnZS10b3RhbC0iICsgdCwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2UtdG90YWwiCgkJCQkJCQkJfSkudGV4dCgiMSIpKSkpLCBoLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1wcmV2LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLWxlZnQiCgkJCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1iZyBwYWdlLWFycm93IgoJCQkJCQkJCX0pKSkuYXBwZW5kKHUpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1uZXh0LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLXJpZ2h0IgoJCQkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItYmcgcGFnZS1hcnJvdyIKCQkJCQkJCQl9KSkpLmFwcGVuZChnKSwgcC5hcHBlbmQoaCksIGUoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZS0iICsgdCkuaHRtbCgiIikuYXBwZW5kKHApLCAxID09IGQpIHsKCQkJCQkJCQkJcC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtcHJldi1wYWdlIikuaGlkZSgpLCBwLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1uZXh0LXBhZ2UiKS5oaWRlKCksIHAuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1iMmMtUGFnZVZpZXctZml4ZWQiKS5oaWRlKCksIHAuYXR0cigicGFnZXMiLCAxKSwgcC5hdHRyKCJsZW4iLCBjKTsKCQkJCQkJCQkJdmFyIF8gPSAyMDAgKiBjOwoJCQkJCQkJCQlwLmNoaWxkcmVuKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiKS5jc3MoIndpZHRoIiwgXyArIDIpCgkJCQkJCQkJfSBlbHNlIHAuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygid2lkdGgiLCBhLndpZHRoIC0gMik7CgkJCQkJCQkJZSgiI3BhZ2UtdG90YWwtIiArIHQpLnRleHQoZCkKCQkJCQkJCX0KCQkJCQkJCWUoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZS0iICsgdCkuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikKCQkJCQkJfQoJCQkJCQllKCIjIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdG1hbGwsIyIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLXRhb2JhbyIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCQllKHRoaXMpLmZpbmQoImEuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSxhLiIgKyBhLmV4dEJyYW5kICsgIi1waWMsYS4iICsgYS5leHRCcmFuZCArICItcHJvZHVjdC10aXRsZSxhLiIgKyBhLmV4dEJyYW5kICsgIi1wcmljZSIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCQkJZSh0aGlzKS5hdHRyKCJyZWwiLCAibm9yZWZlcnJlciIpLmF0dHIoImhyZWYiLCBlKHRoaXMpLmF0dHIoImhyZWYiKSArIGEudXQpCgkJCQkJCQl9KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJc2V0Qm90dG9tVmlld09mZnNldDogZnVuY3Rpb24oKSB7CgkJCQkJCWUoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCBsaSwjIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdGFvYmFvIGxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0ID0gZSh0aGlzKTsKCQkJCQkJCWlmICgiMSIgPT0gdC5hdHRyKCJwYWdlcyIpKSB7CgkJCQkJCQkJdmFyIG4gPSB0Lm9mZnNldCgpLmxlZnQsCgkJCQkJCQkJCWkgPSB0LndpZHRoKCksCgkJCQkJCQkJCW8gPSAyMDAgKiBwYXJzZUludCh0LmF0dHIoImxlbiIpKSwKCQkJCQkJCQkJciA9IG4gLSAobyAvIDIgLSBpIC8gMik7CgkJCQkJCQkJMCA+IHIgJiYgKHIgPSAwKTsKCQkJCQkJCQl2YXIgcyA9IGEud2lkdGggLSByOwoJCQkJCQkJCWEuSUU2ID8gKHIgPSBpIC8gMiAtIG8gLyAyLCAwID4gciArIG4gJiYgKHIgPSAtbiksIHQuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5jc3MoImxlZnQiLCByKSwgdC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCAwKSkgOiBzID4gbyA/ICh0LmNoaWxkcmVuKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiKS5jc3MoImxlZnQiLCByKSwgdC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCByKSkgOiAodC5jaGlsZHJlbigiZGl2LiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIikuY3NzKCJsZWZ0IiwgYS53aWR0aCAtIG8pLCB0LmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1maXhlZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSBvKSkKCQkJCQkJCX0gZWxzZSBpZiAoYS5JRTYpIHsKCQkJCQkJCQl2YXIgbiA9IHQub2Zmc2V0KCkubGVmdCwKCQkJCQkJCQkJciA9IDAgLSBuOwoJCQkJCQkJCXQuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5jc3MoImxlZnQiLCByKSwgdC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCAwKQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig0MCk7CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gW10sCgkJCQkJYSA9IHQuZHAucHJpY2UgfHwgMDsKCQkJCWlmICgiMTg5IiA9PT0gdC5zaXRlKSB7CgkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBlLmxlbmd0aDsgbysrKSBpKGVbb10ucHJpY2UpID49IGEgJiYgbi5wdXNoKGVbb10pOwoJCQkJCXJldHVybiBuCgkJCQl9CgkJCQlyZXR1cm4gZQoJCQl9LCBlLmV4cG9ydHMudGIgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoZSBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gZTsKCQkJCWZvciAodmFyIG4gPSBbXSwgYSA9IGUucHJvZHVjdCwgbyA9IHQuZHAucHJpY2UgfHwgMCwgciA9IDA7IHIgPCBhLmxlbmd0aDsgcisrKSBhW3JdLmltZ191cmwgJiYgIWFbcl0uaW1nX3VybC5tYXRjaCgvX1xkK3hcZCsvKSAmJiAoYVtyXS5pbWdfdXJsID0gYVtyXS5pbWdfdXJsICsgIl8xMDB4MTAwIiksIGFbcl0ucGljX3VybCAmJiAhYVtyXS5waWNfdXJsLm1hdGNoKC9fXGQreFxkKy8pICYmIChhW3JdLnBpY191cmwgPSBhW3JdLnBpY191cmwgKyAiXzEwMHgxMDAiKTsKCQkJCWlmICgiMTg5IiA9PT0gdC5zaXRlKSB7CgkJCQkJZm9yICh2YXIgciA9IDA7IHIgPCBhLmxlbmd0aDsgcisrKSBpKGFbcl0ucHJpY2UpID49IG8gJiYgbi5wdXNoKGFbcl0pOwoJCQkJCWUubWluX3ByaWNlID0gblswXSAmJiBuWzBdLnByaWNlLCBlLnByb2R1Y3QgPSBuCgkJCQl9CgkJCQlyZXR1cm4gZQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbig5KSwKCQkJCW8gPSBuKDE2KSwKCQkJCXIgPSBuKDc2KSwKCQkJCXMgPSBuKDc0KSwKCQkJCWwgPSBuKDc4KTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobnVsbCAhPSB0LnNhdmVfdGJyZXNfZGF0YSkgcmV0dXJuIHZvaWQgdGhpcy5yZW5kZXJUYnJlcyh0LnNhdmVfdGJyZXNfZGF0YSk7CgkJCQl2YXIgbiA9IHRoaXMsCgkJCQkJbyA9ICIxIiwKCQkJCQlyID0gZS5leGFjdF9hcnIsCgkJCQkJcyA9IGVbImNvZGUtc2VydmVyIl0sCgkJCQkJbCA9IDEwMCAqIGUubm93LnByaWNlOwoJCQkJbCB8fCAobCA9IDEwMCAqIHQuZHAucHJpY2UpLCBzIHx8IChzID0ge30sIG8gPSAiMCIpOwoJCQkJdmFyIGMgPSBbImFtYXpvbiIsICI2cG0iLCAiZWJheSJdOwoJCQkJaWYgKGMuaW5kZXhPZih0LnNpdGUpID4gLTEgJiYgKGwgPSAxMDAgKiB0LmRwLnByaWNlKSwgImFtYXpvbiIgIT0gdC5zaXRlIHx8IHIuYnJhbmQgfHwgIjEiID09PSBlLm5vdy5zaXRlX2lkKSB7CgkJCQkJdC5kcC5taW5fcHJpY2UgPSBwYXJzZUludCgxMDAgKiB0LmRwLm1pbl9wcmljZSksIHQuZHAubWF4X3ByaWNlID0gcGFyc2VJbnQoMTAwICogdC5kcC5tYXhfcHJpY2UpOwoJCQkJCXZhciBkID0gdC5zZXJ2ZXIgKyAiL2Jyd2V4dC90YnJlcz91bmlvbj0iICsgdC51bmlvbiArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoci51cmwpICsgIiZzaXRlPSIgKyByLnNpdGUgKyAiJmlzYm49IiArIHIuaXNibiArICIma2V5d29yZHM9IiArIGVuY29kZVVSSUNvbXBvbmVudChyLmtleXdvcmRzKSArICImYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChyLmJyYW5kKSArICImdHlwZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHIudHlwZSkgKyAiJnByaWNlPSIgKyBsICsgIiZjbGFzc19pZD0iICsgci5jbGFzc19pZCArICImbmFtZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQuZHAubmFtZSkgKyAiJmNvZGVfYnJhbmRfaWQ9IiArIHMuYnJhbmRfaWQgKyAiJmNvZGVfY2xlYW5fdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChzLmNsZWFuX3RpdGxlKSArICImY29kZV9jb2RlPSIgKyBzLmNvZGUgKyAiJmNvZGVfZGlzcGxheV9icmFuZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuZGlzcGxheV9icmFuZCkgKyAiJmNvZGVfYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChzLmJyYW5kKSArICImY29kZV9jbGFzc19pZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuY2xhc3NfaWQpICsgIiZjb2RlX3ByaWNlPSIgKyBlbmNvZGVVUklDb21wb25lbnQocy5wcmljZSkgKyAiJmNvZGVfc3BlYz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuc3BlYykgKyAiJmNvZGUtc2VydmVyPSIgKyBvOwoJCQkJCWEuZ2V0KGQpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkidGFvYmFvIiA9PSB0LnNpdGUgfHwgInRtYWxsIiA9PSB0LnNpdGUgfHwgImFpLXRhb2JhbyIgPT0gdC5zaXRlID8gbi5nZXRVbmlxUGlkKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXQuc2F2ZV90YnJlc19kYXRhID0gZSwgbi5yZW5kZXJUYnJlcyhlKQoJCQkJCQl9KSA6IG4uZ2V0SW1nU2VhcmNoKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXQuc2F2ZV90YnJlc19kYXRhID0gZSwgbi5yZW5kZXJUYnJlcyhlKQoJCQkJCQl9KQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCSJyaWdodCIgPT0gdC5zdHlsZSAmJiAoaSgiI3BsdC10bWFsbC1ibG9jayIpLmhpZGUoKSwgaSgiI3BsdC10YW9iYW8tYmxvY2siKS5oaWRlKCkpCgkJCQkJfSkKCQkJCX0KCQkJfSwgZS5leHBvcnRzLnJlbmRlclRicmVzID0gZnVuY3Rpb24oZSkgewoJCQkJZS50bWFsbCA9IHIudGIoZS50bWFsbCksIGUudGFvYmFvID0gci50YihlLnRhb2JhbyksICJ0b3AiID09IHQuc3R5bGUgJiYgKHRoaXMuc2hvd190YW9iYW9fcHJvZHVjdHNfdG9wKGUpLCB0LmZpeFdpZHRoKCkpCgkJCX0sIGUuZXhwb3J0cy5zaG93X3Rhb2Jhb19wcm9kdWN0c190b3AgPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgYSA9IHMuaW5pdCgpLAoJCQkJCXIgPSAi5pyA6L+R6ZSA6YePIjsKCQkJCWUuZnJvbV9zZWxmID09PSAhMCAmJiAociA9ICLmgLvplIDph48iKTsKCQkJCXZhciBjID0gbig3OSk7CgkJCQlpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUudG1hbGwubWluX3ByaWNlICYmIG51bGwgIT09IGUudG1hbGwubWluX3ByaWNlKSB7CgkJCQkJaWYgKDAgPT0gZS5zZWFyY2guaXNfZXhhY3QgJiYgdC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID49IDApIHsKCQkJCQkJdmFyIGQgPSBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAiKS5odG1sKCk7CgkJCQkJCWQgPSBkLnJlcGxhY2UoL1x1NTkyOVx1NzMyYi9naSwgIuWkqeeMq+ebuOS8vOasviIpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAiKS5odG1sKGQpCgkJCQkJfQoJCQkJCWwuaW5pdCgidG1hbGwiLCBlLnRtYWxsLnByb2R1Y3QsICImY29sdW1uPWIyYyIpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAgLmd3ZC1wcmljZSIpLmh0bWwoIiZ5ZW47IiArIGUudG1hbGwubWluX3ByaWNlKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRtYWxsLWRwIikuc2hvdygpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAtZGV0YWlsIikuYXBwZW5kKG8uY29tcGlsZShjKSh7CgkJCQkJCWRhdGE6IGUudG1hbGwucHJvZHVjdCwKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCXdpZHRoOiBhLnR1cm5wVywKCQkJCQkJbGluazogZS50bWFsbC5tb3JlX2xpbmssCgkJCQkJCXNhbGVfdGxlOiByLAoJCQkJCQlhbGxQcm9kdWN0VzogYS5hbGxQcm9kdWN0VwoJCQkJCX0pKSwgaSgiI3RtYWxsLXByZXYtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQl0LmNoYW5nZV9wYWdlKCJ0bWFsbCIsIC0xKQoJCQkJCX0pLCBpKCIjdG1hbGwtbmV4dC1wYWdlIikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCXQuY2hhbmdlX3BhZ2UoInRtYWxsIiwgMSkKCQkJCQl9KQoJCQkJfQoJCQkJaWYgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiBlLnRhb2Jhby5taW5fcHJpY2UgJiYgbnVsbCAhPT0gZS50YW9iYW8ubWluX3ByaWNlKSB7CgkJCQkJaWYgKDAgPT0gZS5zZWFyY2guaXNfZXhhY3QgJiYgdC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID49IDApIHsKCQkJCQkJdmFyIGQgPSBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIikuaHRtbCgpOwoJCQkJCQlkID0gZC5yZXBsYWNlKC9cdTZkZDhcdTViOWQvZ2ksICLmt5jlrp3nm7jkvLzmrL4iKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRhb2Jhby1kcCIpLmh0bWwoZCkKCQkJCQl9CgkJCQkJdmFyIHAgPSBuKDgwKTsKCQkJCQlsLmluaXQoInRhb2JhbyIsIGUudGFvYmFvLnByb2R1Y3QsICImY29sdW1uPWIyYyIpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIC5nd2QtcHJpY2UiKS5odG1sKCImeWVuOyIgKyBlLnRhb2Jhby5taW5fcHJpY2UpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIikuc2hvdygpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwLWRldGFpbCIpLmFwcGVuZChvLmNvbXBpbGUocCkoewoJCQkJCQlkYXRhOiBlLnRhb2Jhby5wcm9kdWN0LAoJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlciwKCQkJCQkJd2lkdGg6IGEudHVybnBXLAoJCQkJCQlsaW5rOiBlLnRhb2Jhby5tb3JlX2xpbmssCgkJCQkJCWFsbFByb2R1Y3RXOiBhLmFsbFByb2R1Y3RXCgkJCQkJfSkpLCBpKCIjdGFvYmFvLXByZXYtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQl0LmNoYW5nZV9wYWdlKCJ0YW9iYW8iLCAtMSkKCQkJCQl9KSwgaSgiI3Rhb2Jhby1uZXh0LXBhZ2UiKS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJdC5jaGFuZ2VfcGFnZSgidGFvYmFvIiwgMSkKCQkJCQl9KQoJCQkJfQoJCQkJInZpcHNob3AiID09PSB0LnNpdGUgPyBpKCIjIiArIHQuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS52YWwodC5kcC5jYXRfbmFtZSB8fCB0LnNhdmVfZHBfcXVlcnkubm93LmNvcmV3b3JkKSA6ICgiIiA9PSBlLnNlYXJjaC5rZXl3b3JkcyAmJiAiIiAhPSB0LmRwLmlzYm4gJiYgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikudmFsKHQuZHAuaXNibiksICIiICE9IGUuc2VhcmNoLmtleXdvcmRzICYmIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChlLnNlYXJjaC5rZXl3b3JkcykpLCB0LmluaXRfaXRlbV9saXN0KCJ0bWFsbCIpLCB0LnNldF9pdGVtX2FyZ3MoInRtYWxsIiksIHQuc2V0X3BhZ2VfYXJncygidG1hbGwiKSwgdC5sb2FkX2ltYWdlKCJ0bWFsbCIsIDAsIHQucGFnZV9zaXplKSwgdC5pbml0X2l0ZW1fbGlzdCgidGFvYmFvIiksIHQuc2V0X2l0ZW1fYXJncygidGFvYmFvIiksIHQuc2V0X3BhZ2VfYXJncygidGFvYmFvIiksIHQubG9hZF9pbWFnZSgidGFvYmFvIiwgMCwgdC5wYWdlX3NpemUpCgkJCX0sIGUuZXhwb3J0cy5nZXRJbWdTZWFyY2ggPSBmdW5jdGlvbihlLCBpKSB7CgkJCQl2YXIgYSA9IG4oODEpOwoJCQkJaWYgKGUgPSBhLmJ1aWxkQ29tbW9uKGUpLCAibHV5b3UiID09IHQuYnR5cGUpIHJldHVybiB2b2lkIGkoZSk7CgkJCQl2YXIgbyA9IG4oNzEpLAoJCQkJCXIgPSBvLmdldCgiZHBfZGF0YSIpICYmIG8uZ2V0KCJkcF9kYXRhIikuZXhhY3RfYXJyLmJyYW5kX2lkOwoJCQkJcmV0dXJuICIzNjBidXkiICE9IHQuc2l0ZSB8fCAhciB8fCBlLnRhb2Jhby5zb3J0ICYmIGUudG1hbGwuc29ydCA/IHZvaWQgbig4MikuaW5pdChmdW5jdGlvbih0KSB7CgkJCQkJdCA/IChlLnRtYWxsLnNvcnQgJiYgKGUudG1hbGwgPSB7fSksIHQudG1hbGwubGVuZ3RoID4gMCAmJiAoZS50bWFsbC5taW5fcHJpY2UgPSB0LnRtYWxsWzBdLnByaWNlLCBlLnRtYWxsLm1heF9wcmljZSA9IHQudG1hbGxbdC50bWFsbC5sZW5ndGggLSAxXS5wcmljZSwgZS50bWFsbC5zdG9yZSA9IHQudG1hbGwsIGUudG1hbGwucHJvZHVjdCA9IHQudG1hbGwpLCB0LnRhb2Jhby5sZW5ndGggPiAwICYmIChlLnRhb2Jhby5wcm9kdWN0ID0gdC50YW9iYW8sIGUudGFvYmFvLnN0b3JlID0gdC50YW9iYW8sIGUudGFvYmFvLm1pbl9wcmljZSA9IHQudGFvYmFvWzBdLnByaWNlLCBlLnRhb2Jhby5tYXhfcHJpY2UgPSB0LnRhb2Jhb1t0LnRhb2Jhby5sZW5ndGggLSAxXS5wcmljZSksIGUudG1hbGwubW9yZV9saW5rIHx8IChlLnRtYWxsLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBlLnRhb2Jhby5tb3JlX2xpbmsgfHwgKGUudGFvYmFvLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBpKGUpKSA6IGkoZSkKCQkJCX0pIDogdm9pZCBpKGUpCgkJCX0sIGUuZXhwb3J0cy5nZXRVbmlxUGlkID0gZnVuY3Rpb24oZSwgaSkgewoJCQkJdmFyIGEgPSBuKDgxKTsKCQkJCXJldHVybiBlID0gYS5idWlsZENvbW1vbihlKSwgImx1eW91IiA9PSB0LmJ0eXBlID8gdm9pZCBpKGUpIDogdm9pZCBuKDgzKS5nZXRUYW9iYW91bmlxRGF0YShmdW5jdGlvbih0KSB7CgkJCQkJdCA/IChlLnRtYWxsLnNvcnQgJiYgKGUudG1hbGwgPSB7fSksIHQudG1hbGwubGVuZ3RoID4gMCAmJiAoZS50bWFsbC5taW5fcHJpY2UgPSB0LnRtYWxsWzBdLnByaWNlLCBlLnRtYWxsLm1heF9wcmljZSA9IHQudG1hbGxbdC50bWFsbC5sZW5ndGggLSAxXS5wcmljZSwgZS50bWFsbC5zdG9yZSA9IHQudG1hbGwsIGUudG1hbGwucHJvZHVjdCA9IHQudG1hbGwpLCB0LnRhb2Jhby5sZW5ndGggPiAwICYmIChlLnRhb2Jhby5wcm9kdWN0ID0gdC50YW9iYW8sIGUudGFvYmFvLnN0b3JlID0gdC50YW9iYW8sIGUudGFvYmFvLm1pbl9wcmljZSA9IHQudGFvYmFvWzBdLnByaWNlLCBlLnRhb2Jhby5tYXhfcHJpY2UgPSB0LnRhb2Jhb1t0LnRhb2Jhby5sZW5ndGggLSAxXS5wcmljZSksIGUudG1hbGwubW9yZV9saW5rIHx8IChlLnRtYWxsLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBlLnRhb2Jhby5tb3JlX2xpbmsgfHwgKGUudGFvYmFvLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBpKGUpKSA6IGkoZSkKCQkJCX0pCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIG4gPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHRbaV0ubnVtX2lpZCAmJiAodFtpXS5vbGRVcmwgPSB0W2ldLnVybCwgdFtpXS51cmwgPSAiaHR0cHM6Ly9icm93c2VyLmd3ZGFuZy5jb20vY291cG9uX3JlZGlyZWN0P2lkPSIgKyB0W2ldLm51bV9paWQgKyBuKQoJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUsIGksIGEpIHsKCQkJCWkgJiYgaSBpbnN0YW5jZW9mIEFycmF5ICYmICF0LmFsaVNpdGUgJiYgKGEgPSBhIHx8ICIiLCBuKGUsIGksIGEpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0icGFuZWwtd3JhcCI+XG4gICAgPGRpdiBjbGFzcz0icGFnZXMiPlxuICAgICAg56ysIFxuICAgICAgPHNwYW4gY2xhc3M9ImN1cnJlbnQtcGFnZSIgaWQ9InRtYWxsLWN1cnJlbnQtcGFnZSI+PC9zcGFuPlxuICAgICAgIOmhte+8jOWFsSBcbiAgICAgICA8c3BhbiBjbGFzcz0icGFnZS1udW0iIGlkPSJ0bWFsbC1wYWdlLW51bSI+PC9zcGFuPlxuICAgICAgICDpobVcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJsZWZ0LXBhZ2UgdHVybi1wYWdlIiBzdHlsZT0ibGVmdDoxMHB4OyI+XG4gICAgICA8YSBpZD0idG1hbGwtcHJldi1wYWdlIiB0YXJnZXQ9Il9zZWxmIiB0aXRsZT0i5LiK5LiA6aG1IiBjbGFzcz0ibmV3Yi1iZyIgaHJlZj0iamF2YXNjcmlwdDoiPjwvYT5cbiAgICA8L2Rpdj5cbiAgICA8YSBocmVmPSJ7e2xpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0Yi1tb3JlbGluayI+54K55q2k5p+l55yL5YWo6YOo57uT5p6cPj48L2E+XG4gICAgPGRpdiBjbGFzcz0iYWxsLXByb2R1Y3RzIiBzdHlsZT0id2lkdGg6e3thbGxQcm9kdWN0V319cHgiPlxuICAgICAgPHVsIGlkPSJ0bWFsbC1pdGVtLWxpc3QiPlxuICAgICAgICB7e2VhY2ggZGF0YX19XG4gICAgICAgICAgPGxpIGlkPSJ0bWFsbC1wcm9kLWl0ZW0te3skaW5kZXh9fSIgPlxuICAgICAgICAgICAgPGEgaWQ9ImltZy10bWFsbC17eyR2YWx1ZS5udW1faWlkfX0iIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InNtYWxsLWltZyIgaHJlZj0ie3skdmFsdWUudXJsfX0iPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L3RlbXBsYXRlL2F1Zy9pbWFnZXMvbmV3LzEyMC5naWYiIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLnBpY191cmx9fSIgaWQ9InRtYWxsLWltYWdlLXNtYWxsLXt7JHZhbHVlLm51bV9paWR9fSIgY2xhc3M9Imd3ZGFuZy1sYXp5Ij5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnd2QtcHJpY2UiPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImIyYy1wcmljZS1hIiAgaHJlZj0ie3skdmFsdWUudXJsfX0iPsKle3skdmFsdWUucHJpY2V9fTwvYT5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InN0b3JlLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzdG9yZSI+e3skdmFsdWUubmlja319PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iICBjbGFzcz0iZmVlcy1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmVlcyI+e3tzYWxlX3RsZX19e3skdmFsdWUudm9sdW1lfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InRpdGxlLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuPnt7JHZhbHVlLnRpdGxlfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICB7ey9lYWNofX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icmlnaHQtcGFnZSB0dXJuLXBhZ2UiPlxuICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDoiIGlkPSJ0bWFsbC1uZXh0LXBhZ2UiIGNsYXNzPSJuZXdiLWJnIiB0aXRsZT0i5LiL5LiA6aG1Ij48L2E+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICNnd2RhbmctdG1hbGwtZHAtZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAudGFvYmFvLWNvbXBhcmUgLnR1cm4tcGFnZSB7XG4gICAgd2lkdGg6IHt7d2lkdGh9fXB4O1xuICB9XG4gIDwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0icGFuZWwtd3JhcCI+XG4gICAgPGRpdiBjbGFzcz0icGFnZXMiPlxuICAgICAg56ysIFxuICAgICAgPHNwYW4gY2xhc3M9ImN1cnJlbnQtcGFnZSIgaWQ9InRhb2Jhby1jdXJyZW50LXBhZ2UiPjwvc3Bhbj5cbiAgICAgICDpobXvvIzlhbEgXG4gICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtIiBpZD0idGFvYmFvLXBhZ2UtbnVtIj48L3NwYW4+XG4gICAgICAgIOmhtVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImxlZnQtcGFnZSB0dXJuLXBhZ2UiIHN0eWxlPSJsZWZ0OjEwcHg7Ij5cbiAgICAgIDxhIGlkPSJ0YW9iYW8tcHJldi1wYWdlIiB0YXJnZXQ9Il9zZWxmIiB0aXRsZT0i5LiK5LiA6aG1IiBjbGFzcz0ibmV3Yi1iZyIgaHJlZj0iamF2YXNjcmlwdDoiPjwvYT5cbiAgICA8L2Rpdj5cbiAgICA8YSBocmVmPSJ7e2xpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0Yi1tb3JlbGluayI+54K55q2k5p+l55yL5YWo6YOo57uT5p6cPj48L2E+XG4gICAgPGRpdiBjbGFzcz0iYWxsLXByb2R1Y3RzIiBzdHlsZT0id2lkdGg6e3thbGxQcm9kdWN0V319cHgiPlxuICAgICAgPHVsIGlkPSJ0YW9iYW8taXRlbS1saXN0Ij5cbiAgICAgICAge3tlYWNoIGRhdGF9fVxuICAgICAgICAgIDxsaSBpZD0idGFvYmFvLXByb2QtaXRlbS17eyRpbmRleH19IiA+XG4gICAgICAgICAgICA8YSBpZD0iaW1nLXRhb2Jhby17eyR2YWx1ZS5udW1faWlkfX0iIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InNtYWxsLWltZyIgaHJlZj0ie3skdmFsdWUudXJsfX0iPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L3RlbXBsYXRlL2F1Zy9pbWFnZXMvbmV3LzEyMC5naWYiIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLnBpY191cmx9fSIgaWQ9InRhb2Jhby1pbWFnZS1zbWFsbC17eyR2YWx1ZS5udW1faWlkfX0iIGNsYXNzPSJnd2RhbmctbGF6eSI+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ3dkLXByaWNlIj5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJiMmMtcHJpY2UtYSIgIGhyZWY9Int7JHZhbHVlLnVybH19Ij7CpXt7JHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJzdG9yZS1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3RvcmUiPnt7JHZhbHVlLml0ZW1fbG9jYXRpb259fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIGhyZWY9Int7JHZhbHVlLnVybH19IiAgY2xhc3M9ImZlZXMtYSI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZlZXMiPuacgOi/kemUgOmHj3t7JHZhbHVlLnZvbHVtZX195Lu2PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJ0aXRsZS1hIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57eyR2YWx1ZS50aXRsZX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJpZ2h0LXBhZ2UgdHVybi1wYWdlIj5cbiAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6IiBpZD0idGFvYmFvLW5leHQtcGFnZSIgY2xhc3M9Im5ld2ItYmciIHRpdGxlPSLkuIvkuIDpobUiPjwvYT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgI2d3ZGFuZy10YW9iYW8tZHAtZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAudGFvYmFvLWNvbXBhcmUgLnR1cm4tcGFnZSB7XG4gICAgd2lkdGg6IHt7d2lkdGh9fXB4O1xuICB9XG4gIDwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9ICJiMmMiLAoJCQkJCQlpID0gdC5zYXZlX2RwX3F1ZXJ5ICYmIHQuc2F2ZV9kcF9xdWVyeS5ub3cgJiYgdC5zYXZlX2RwX3F1ZXJ5Lm5vdy5jb3Jld29yZDsKCQkJCQlyZXR1cm4gdC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgdC5zaXRlLmluZGV4T2YoInRtYWxsIikgPiAtMSA/IGUucHVyZVVybCB8fCBlLnVybCA6IHQubmV3X2V4dGVuc2lvbiA/IGUucHVyZVVybCB8fCBlLnVybCA6ICJodHRwOi8vIiArIG4gKyAiLiIgKyB0LmV4dE5hbWUgKyAiLmNvbS9wcm9tb3Rpb24vbWlkZGxlcGFnZT9zb3VyY2U9IiArIGUuc291cmNlICsgIiZpbWdfdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5pbWdfdXJsKSArICImdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnRpdGxlKSArICImcHJpY2U9IiArIGUucHJpY2UgKyAiJnNob3BfbmFtZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuc2hvcF9uYW1lKSArICImc2FsZXM9IiArIGUuc2FsZXMgKyAiJmlkPSIgKyBlLmlkICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnVybCkgKyAiJmRpc2N1c3M9IiArIGUuZGlzY3VzcyArICImaXN0YW9iYW89IiArIGUuaXN0YW9iYW8gKyAiJmRwX2lkPSIgKyBlLmRwX2lkICsgIiZzaXRlX2lkPSIgKyBlLnNpdGVfaWQgKyAiJmtleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChpKQoJCQkJfSwKCQkJCWUuZXhwb3J0cy5idWlsZENvbW1vbiA9IGZ1bmN0aW9uKG4pIHsKCQkJCQlpZiAoIShuLnRtYWxsIGluc3RhbmNlb2YgQXJyYXkpKQoJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IG4udG1hbGwucHJvZHVjdC5sZW5ndGg7IGkrKykgewoJCQkJCQkJdmFyIGEgPSBuLnRtYWxsLnByb2R1Y3RbaV0sCgkJCQkJCQkJbyA9IHsKCQkJCQkJCQkJc291cmNlOiAiY29tbW9uIiwKCQkJCQkJCQkJaW1nX3VybDogYS5waWNfdXJsLAoJCQkJCQkJCQl0aXRsZTogYS50aXRsZSwKCQkJCQkJCQkJcHJpY2U6IGEucHJpY2UsCgkJCQkJCQkJCXNob3BfbmFtZTogYS5uaWNrLAoJCQkJCQkJCQlzYWxlczogYS52b2x1bWUgfHwgIjAiLAoJCQkJCQkJCQlpZDogYS5udW1faWlkLAoJCQkJCQkJCQl1cmw6IGEudXJsLAoJCQkJCQkJCQlkaXNjdXNzOiBhLmNvbW1lbnRfY291bnQgfHwgIjAiLAoJCQkJCQkJCQlpc3Rhb2JhbzogIjAiLAoJCQkJCQkJCQlwdXJlVXJsOiAiaHR0cHM6Ly9kZXRhaWwudG1hbGwuY29tL2l0ZW0uaHRtP2lkPSIgKyBhLm51bV9paWQsCgkJCQkJCQkJCWRwX2lkOiB0Lm5vd19kcF9pZCwKCQkJCQkJCQkJc2l0ZV9pZDogdC5zaXRlX2lkCgkJCQkJCQkJfTsKCQkJCQkJCXQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEgPyBhLnVybCA9IG8ucHVyZVVybCA6IGEudXJsID0gZS5leHBvcnRzKG8pCgkJCQkJCX0KCQkJCQlpZiAoIShuLnRhb2JhbyBpbnN0YW5jZW9mIEFycmF5KSkKCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBuLnRhb2Jhby5wcm9kdWN0Lmxlbmd0aDsgaSsrKSB7CgkJCQkJCQl2YXIgYSA9IG4udGFvYmFvLnByb2R1Y3RbaV0sCgkJCQkJCQkJbyA9IHsKCQkJCQkJCQkJc291cmNlOiAiY29tbW9uIiwKCQkJCQkJCQkJaW1nX3VybDogYS5waWNfdXJsLAoJCQkJCQkJCQl0aXRsZTogYS50aXRsZSwKCQkJCQkJCQkJcHJpY2U6IGEucHJpY2UsCgkJCQkJCQkJCXNob3BfbmFtZTogIiIsCgkJCQkJCQkJCXNhbGVzOiBhLnZvbHVtZSB8fCAiMCIsCgkJCQkJCQkJCWlkOiBhLm51bV9paWQsCgkJCQkJCQkJCXVybDogYS51cmwsCgkJCQkJCQkJCWRpc2N1c3M6IGEuY29tbWVudF9jb3VudCB8fCAiMCIsCgkJCQkJCQkJCWlzdGFvYmFvOiAiMSIsCgkJCQkJCQkJCXB1cmVVcmw6ICJodHRwczovL2l0ZW0udGFvYmFvLmNvbS9pdGVtLmh0bT9pZD0iICsgYS5udW1faWlkLAoJCQkJCQkJCQlkcF9pZDogdC5ub3dfZHBfaWQsCgkJCQkJCQkJCXNpdGVfaWQ6IHQuc2l0ZV9pZAoJCQkJCQkJCX07CgkJCQkJCQl0LnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCB0LnNpdGUuaW5kZXhPZigidG1hbGwiKSA+IC0xID8gYS51cmwgPSBvLnB1cmVVcmwgOiBhLnVybCA9IGUuZXhwb3J0cyhvKQoJCQkJCQl9CgkJCQkJcmV0dXJuIG4KCQkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDI4KSwKCQkJCW8gPSBuKDgxKSwKCQkJCXIgPSBuKDcxKSwKCQkJCXMgPSB2b2lkIDAsCgkJCQlsID0gdm9pZCAwLAoJCQkJYyA9ICExLAoJCQkJZCA9IDRlMywKCQkJCXAgPSAhMSwKCQkJCWggPSBbInZpcHNob3AiLCAibW9ndWppZSIsICJtZWlsaXNodW8iLCAiYW1hem9uIiwgInlvdWdvdSIsICJ5b2hvYnV5IiwgIjZwbSIsICJ5aW50YWkiLCAiYmFuZ2dvIiwgInhpdSIsICJ2YW5jbCIsICJzaG9wYm9wIiwgInNob3BpbiIsICJzIiwgIm1hc2FtYXNvIiwgInNlY29vIiwgIm1laSIsICJnYXAiLCAicGFpeGllIiwgIm1vb25iYXNhIiwgIm1laWNpIiwgIm1hY3lzIiwgIm15aGFiaXQiLCAiemhlbiIsICJnaWx0IiwgIm1iYW9iYW8iLCAid2FuZ2Z1amluZyIsICJsZXRhbyIsICJjYW1lbCIsICJoYW5kdSIsICJtZjkxMCIsICI1bHV4IiwgImQxIiwgInRhb3hpZSIsICJtMTgiLCAidGhld2F0Y2hlcnkiLCAiZXNjZW50dWFsIiwgImJpY2NhbWVyYSIsICJ6aGU4MDAiXTsKCQkJbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IC0xICYmIC0xID09IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiY24iKSAmJiAoZCA9IDFlNCk7CgkJCXZhciB1ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gW10sCgkJCQkJCW4gPSBbXSwKCQkJCQkJaSA9IFtdOwoJCQkJCXRyeSB7CgkJCQkJCXZhciBhID0gSlNPTi5wYXJzZShlKSwKCQkJCQkJCXIgPSBhLm1vZHMuaXRlbWxpc3QuZGF0YS5jb2xsZWN0aW9uczsKCQkJCQkJaWYgKDAgPT0gci5sZW5ndGgpIHJldHVybjsKCQkJCQkJaWYgKDIgPT0gci5sZW5ndGggJiYgIuWkluinguebuOS8vOWunei0nSIgPT0gclswXS50aXRsZSkKCQkJCQkJCWZvciAodmFyIGQgPSByWzBdLmF1Y3Rpb25zLCBwID0gZC5sZW5ndGggPiAyMCA/IDIwIDogZC5sZW5ndGgsIGggPSAwOyBwID4gaDsgaCsrKSB7CgkJCQkJCQkJdmFyIHUgPSB7fSwKCQkJCQkJCQkJZiA9ICIwLjAwIiA9PSBkW2hdLnZpZXdfZmVlID8gIuWMhemCriIgOiAiIjsKCQkJCQkJCQl1Lm5pY2sgPSBkW2hdLm5pY2ssIHUubnVtX2lpZCA9IGRbaF0ubmlkLCB1LnRpdGxlID0gZFtoXS50aXRsZSwgdS5wcmljZSA9IGRbaF0udmlld19wcmljZSwgdS5pdGVtX2xvY2F0aW9uID0gZFtoXS5pdGVtX2xvYywgdS5zdG9yZV9uYW1lID0gZFtoXS5uaWNrICsgZiwgdS5waWNfdXJsID0gImh0dHA6IiArIGRbaF0ucGljX3VybCwgdS52b2x1bWUgPSBkW2hdLnZpZXdfc2FsZXMucmVwbGFjZSgi5Lq65LuY5qy+IiwgIiIpLCB1LnBpY191cmwubWF0Y2goL2pwZ19bMC05XSt4WzAtOV0vKSB8fCAodS5waWNfdXJsID0gdS5waWNfdXJsLnJlcGxhY2UoLyhcLnBuZ3xcLmpwZykvLCAiJDFfMTAweDEwMC5qcGciKSk7CgkJCQkJCQkJdmFyIGcgPSB7CgkJCQkJCQkJCXNvdXJjZTogImltZ19zZWFyY2giLAoJCQkJCQkJCQlpbWdfdXJsOiAiaHR0cDoiICsgZFtoXS5waWNfdXJsLAoJCQkJCQkJCQl0aXRsZTogZFtoXS50aXRsZSwKCQkJCQkJCQkJcHJpY2U6IGRbaF0udmlld19wcmljZSwKCQkJCQkJCQkJc2hvcF9uYW1lOiBkW2hdLm5pY2sgKyBmLAoJCQkJCQkJCQlzYWxlczogZFtoXS52aWV3X3NhbGVzLnJlcGxhY2UoIuS6uuS7mOasviIsICIiKSwKCQkJCQkJCQkJaWQ6IGRbaF0ubmlkLAoJCQkJCQkJCQl1cmw6ICJodHRwczoiICsgZFtoXS5kZXRhaWxfdXJsLAoJCQkJCQkJCQlkaXNjdXNzOiBkW2hdLmNvbW1lbnRfY291bnQsCgkJCQkJCQkJCWlzdGFvYmFvOiBkW2hdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEgPyAiMCIgOiAiMSIsCgkJCQkJCQkJCWRwX2lkOiBkW2hdLm5pZCArICItIiArIChkW2hdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEpID8gIjgzIiA6ICIxMjMiLAoJCQkJCQkJCQlzaXRlX2lkOiBkW2hdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEgPyAiODMiIDogIjEyMyIKCQkJCQkJCQl9OwoJCQkJCQkJCXUudXJsID0gbyhnKSwgZFtoXS5kZXRhaWxfdXJsLmluZGV4T2YoImRldGFpbC50bWFsbC5jb20iKSA+IC0xID8gbi5wdXNoKHUpIDogdC5wdXNoKHUpCgkJCQkJCQl9IGVsc2UgaWYgKDEgPT0gci5sZW5ndGggJiYgIuaCqOWPr+iDveS8muWWnOasoiIgPT0gclswXS50aXRsZSB8fCAyID09IHIubGVuZ3RoICYmICLmgqjlj6/og73kvJrllpzmrKIiID09IHJbMV0udGl0bGUpCgkJCQkJCQkJZm9yICh2YXIgXyA9IHJbci5sZW5ndGggLSAxXS5hdWN0aW9ucywgaCA9IDA7IGggPCBfLmxlbmd0aDsgaCsrKSB7CgkJCQkJCQkJCXZhciB1ID0ge307CgkJCQkJCQkJCXUudXJsID0gImh0dHBzOiIgKyBfW2hdLmRldGFpbF91cmwsIHUucGljX3VybCA9IF9baF0ucGljX3VybCwgdS50aXRsZSA9IF9baF0udGl0bGUsIHUubnVtX2lpZCA9IF9baF0ubmlkLCB1LnByaWNlID0gX1toXS52aWV3X3ByaWNlLCB1LnZvbHVtZSA9IF9baF0udmlld19zYWxlcywgdS5uaWNrID0gX1toXS5uaWNrLCBpLnB1c2godSkKCQkJCQkJCQl9CgkJCQkJCQl0ID0gbSh0KSwgbiA9IG0obiksIHMgPSB7CgkJCQkJCQl0YW9iYW86IHQsCgkJCQkJCQl0bWFsbDogbiwKCQkJCQkJCWd1ZXNzZmF2b3I6IGkKCQkJCQkJfSwgbCAmJiAhYyAmJiAobChzKSwgYyA9ICEwKQoJCQkJCX0gY2F0Y2ggKHgpIHt9CgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZS5zb3J0ID8gZSA9IGUuc29ydChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXJldHVybiBOdW1iZXIoZS5wcmljZSkgPiBOdW1iZXIodC5wcmljZSkgPyAxIDogTnVtYmVyKGUucHJpY2UpID09IE51bWJlcih0LnByaWNlKSA/IDAgOiAtMQoJCQkJCX0pIDogdm9pZCAwCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gewoJCQkJCQkiMzYwYnV5IjogIiNwcmV2aWV3IC5qcXpvb20gaW1nIiwKCQkJCQkJZ29tZTogIi5qcXpvb20gaW1nIiwKCQkJCQkJc3VuaW5nOiAiI2ltZ1pvb20gI2JpZ0ltYWdlIiwKCQkJCQkJeWloYW9kaWFuOiAiI0pfcHJvZEltZyIsCgkJCQkJCXZhbmNsOiAiI21pZGltZyIsCgkJCQkJCXNob3BpbjogIiN6b29tMSBpbWciLAoJCQkJCQlzZWNvbzogIi5qcXpvb20iLAoJCQkJCQltZWk6ICIjYmlnaW1nIiwKCQkJCQkJbWVpY2k6ICIuem9vbVBhZCBpbWciLAoJCQkJCQltYWN5czogIiNtYWluVmlld18xIiwKCQkJCQkJdGFveGllOiAiI3RfUHJldmlld0ltYWdlIGltZyIsCgkJCQkJCWQxOiAiLmdzX3JpZ2h0X3NwaW1nIGltZyIsCgkJCQkJCSI1bHV4IjogIi5jbG91ZHpvb20iLAoJCQkJCQltZjkxMDogIiNvcF9wcm9kdWN0X3pvb20gaW1nIiwKCQkJCQkJaGFuZHU6ICIjbWFzdGVySW1hZ2UiLAoJCQkJCQljYW1lbDogIiNpbWdfanF6b29tIiwKCQkJCQkJbGV0YW86ICIjc2ltZ291dGVyIGltZyIsCgkJCQkJCXdhbmdmdWppbmc6ICIuem9vbVBhZCAubGF6eS1waWMiLAoJCQkJCQl6aGVuOiAiI3pvb20xIC5hX21heF9waWMiLAoJCQkJCQlzaG9wYm9wOiAiI3Byb2R1Y3RJbWFnZSIsCgkJCQkJCXlvaG9idXk6ICIjaW1nLXNob3ciLAoJCQkJCQl0YW9iYW86ICIjSl9JbWdCb290aCIsCgkJCQkJCXRoZXdhdGNoZXJ5OiAiI2RldGFpbGltYWdlIiwKCQkJCQkJYW1hem9uOiAiI2FsdEltYWdlcyB1bCBsaSBpbWciLAoJCQkJCQltb2d1amllOiAiI2JvZHlfd3JhcCAuYmFubmVyX3Nob3cgLmZpbGxfaW1nIiwKCQkJCQkJZXNjZW50dWFsOiAiI3pvb20xIGltZyIsCgkJCQkJCWJpY2NhbWVyYTogIiNQUk9ELUNVUlJFTlQtSU1HIiwKCQkJCQkJemhlODAwOiAiI2RldGFpbCAuZGV0ZWlscGljIHVsIGxpIGltZyIsCgkJCQkJCXRtYWxsOiAiI0pfSW1nQm9vdGgiCgkJCQkJfTsKCQkJCQlpZiAoZVt0LnNpdGVdKSB7CgkJCQkJCXZhciBuID0gaShlW3Quc2l0ZV0pLmVxKDApLmF0dHIoInNyYyIpOwoJCQkJCQlpZiAoInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgbiAmJiBuLm1hdGNoKC9TUlswLTldKyxbMC05XSsvKSkgbiA9IG4ucmVwbGFjZSgvU1IoWzAtOV0rKVwsKFswLTldKykvLCAiU1IkMTAsJDIwIik7CgkJCQkJCWVsc2UgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiYW1hem9uIikgPiAtMSkgcmV0dXJuICExOwoJCQkJCQlyZXR1cm4gbiAmJiAhbi5tYXRjaCgvKD86aHR0cDp8aHR0cHM6KS8pICYmIG4uaW5kZXhPZigiLy8iKSA+IC0xICYmIChuID0gImh0dHA6IiArIG4pLCAiemhlODAwIiA9PT0gdC5zaXRlICYmIChuID0gbi5yZXBsYWNlKCI1OHg1OC5qcGciLCAiMjIweDIyMC5qcGciKSksIG4KCQkJCQl9CgkJCQkJcmV0dXJuICExCgkJCQl9LAoJCQkJZyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IGYoKTsKCQkJCQkoaC5pbmRleE9mKHQuc2l0ZSkgPiAtMSAmJiAid3d3LmFtYXpvbi5jbiIgIT0gbG9jYXRpb24uaG9zdCB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoIjE2ODgiKSA+IC0xIHx8IGUpICYmIChlID0gITAsIGEudHJpZ2dlcih7CgkJCQkJCXR5cGU6ICJnZXRUYW9iYW9JbWdJbmZvIiwKCQkJCQkJc3JjOiBuCgkJCQkJfSksIGEub24oZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoImdldFRhb2Jhb0ltZ0luZm8iID09IGUudHlwZSkgewoJCQkJCQkJdmFyIHQgPSBpKCIjZ3dkX2ltZ19pbmZvIikudGV4dCgpOwoJCQkJCQkJIiIgIT0gdCAmJiB1KHQpCgkJCQkJCX0KCQkJCQl9KSkKCQkJCX07CgkJCWUuZXhwb3J0cy5yZWFkeSA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCEoInRhb2JhbyIgPT0gdC5zaXRlIHx8ICJ0bWFsbCIgPT0gdC5zaXRlIHx8IHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xKSkgewoJCQkJCXZhciBlID0gci5nZXQoImRwX2RhdGEiKSwKCQkJCQkJbiA9IGUgJiYgZS5ub3cuY2xhc3NfaWQsCgkJCQkJCWkgPSBlICYmIGVbImNvZGUtc2VydmVyIl0uY29kZTsKCQkJCQkiYW1hem9uIiA9PT0gdC5zaXRlICYmIGkgfHwgKG4gJiYgKG4gPSBuLnNsaWNlKDAsIDIpKSwgKCIxMyIgPT0gbiB8fCAiMjQiID09IG4gfHwgIjFBIiA9PSBuIHx8ICIyMSIgPT0gbikgJiYgKHAgPSAhMCksIGcocCkpCgkJCQl9CgkJCX0sIGUuZXhwb3J0cy51bmlxUGlkR2V0SW1nID0gZnVuY3Rpb24oZSkgewoJCQkJZyghMCksIGwgPSBlCgkJCX0sIGUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIHAgfHwgLTEgIT0gaC5pbmRleE9mKHQuc2l0ZSkgPyAocyA/IChlKHMpLCBjID0gITApIDogbCA9IGUsIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQlsICYmIGMgPT09ICExICYmIChsKG51bGwpLCBjID0gITApCgkJCQl9LCBkKSkgOiB2b2lkIGUobnVsbCkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOSksCgkJCQlvID0gbigyOCksCgkJCQlyID0gbig4MSksCgkJCQlzID0gdm9pZCAwLAoJCQkJbCA9IHZvaWQgMCwKCQkJCWMgPSAhMSwKCQkJCWQgPSAyNTAwLAoJCQkJcCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoIiIgIT0gZSkgewoJCQkJCQl2YXIgbiA9IHQuc2VydmVyICsgIi9leHRlbnNpb24/YWM9Z2V0dW5pcXBpZCZuaWQ9IiArIGU7CgkJCQkJCWEuZ2V0KG4pLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQkJdCAmJiB0LnVuaXFpZCA/IGgoZSwgdC51bmlxaWQpIDogZigpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB7CgkJCQkJCW5pZDogZSwKCQkJCQkJdW5pcWlkOiB0CgkJCQkJfTsKCQkJCQlvLnRyaWdnZXIoewoJCQkJCQl0eXBlOiAiZ2V0VGFvYmFvdW5pcSIsCgkJCQkJCWluZm86IEpTT04uc3RyaW5naWZ5KG4pCgkJCQkJfSksIG8ub24oZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoImdldFRhb2Jhb3VuaXEiID09IGUudHlwZSkgewoJCQkJCQkJdmFyIHQgPSBpKCIjZ3dkX3VuaXFfaW5mbyIpLnRleHQoKTsKCQkJCQkJCSIiICE9IHQgJiYgbSh0KQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLnNvcnQgPyBlID0gZS5zb3J0KGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIE51bWJlcihlLnByaWNlKSA+IE51bWJlcih0LnByaWNlKSA/IDEgOiBOdW1iZXIoZS5wcmljZSkgPT0gTnVtYmVyKHQucHJpY2UpID8gMCA6IC0xCgkJCQkJfSkgOiB2b2lkIDAKCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oZSkgewoJCQkJCXRyeSB7CgkJCQkJCXZhciB0ID0gSlNPTi5wYXJzZShlKTsKCQkJCQkJdCA9IHQubW9kcy5yZWNpdGVtLmRhdGEuaXRlbXM7CgkJCQkJCXZhciBuID0gW10sCgkJCQkJCQlpID0gW107CgkJCQkJCWlmICghdCkgcmV0dXJuOwoJCQkJCQlmb3IgKHZhciBhID0gMCwgbyA9IHQubGVuZ3RoOyBvID4gYTsgYSsrKSB7CgkJCQkJCQl2YXIgZCA9IHt9LAoJCQkJCQkJCXAgPSAiMC4wMCIgPT0gdFthXS52aWV3X2ZlZSA/ICLljIXpgq4iIDogIiI7CgkJCQkJCQlkLm5pY2sgPSB0W2FdLm5pY2ssIGQubnVtX2lpZCA9IHRbYV0ubmlkLCBkLnRpdGxlID0gdFthXS50aXRsZSwgZC5wcmljZSA9IHRbYV0udmlld19wcmljZSwgZC5pdGVtX2xvY2F0aW9uID0gdFthXS5pdGVtX2xvYywgZC5zdG9yZV9uYW1lID0gdFthXS5uaWNrICsgcCwgZC5waWNfdXJsID0gImh0dHA6IiArIHRbYV0ucGljX3VybCwgZC52b2x1bWUgPSB0W2FdLnZpZXdfc2FsZXMucmVwbGFjZSgi5Lq65LuY5qy+IiwgIiIpOwoJCQkJCQkJdmFyIGggPSB7CgkJCQkJCQkJc291cmNlOiAic2FtZV9zdHlsZSIsCgkJCQkJCQkJaW1nX3VybDogImh0dHA6IiArIHRbYV0ucGljX3VybCwKCQkJCQkJCQl0aXRsZTogdFthXS50aXRsZSwKCQkJCQkJCQlwcmljZTogdFthXS52aWV3X3ByaWNlLAoJCQkJCQkJCXNob3BfbmFtZTogdFthXS5uaWNrICsgcCwKCQkJCQkJCQlzYWxlczogdFthXS52aWV3X3NhbGVzLnJlcGxhY2UoIuS6uuS7mOasviIsICIiKSwKCQkJCQkJCQlpZDogdFthXS5uaWQsCgkJCQkJCQkJdXJsOiAiaHR0cHM6IiArIHRbYV0uZGV0YWlsX3VybCwKCQkJCQkJCQlkaXNjdXNzOiB0W2FdLmNvbW1lbnRfY291bnQsCgkJCQkJCQkJaXN0YW9iYW86IHRbYV0uZGV0YWlsX3VybC5pbmRleE9mKCJkZXRhaWwudG1hbGwuY29tIikgPiAtMSA/ICIwIiA6ICIxIiwKCQkJCQkJCQlkcF9pZDogdFthXS5uaWQgKyAiLSIgKyAodFthXS5kZXRhaWxfdXJsLmluZGV4T2YoImRldGFpbC50bWFsbC5jb20iKSA+IC0xID8gIjgzIiA6ICIxMjMiKSwKCQkJCQkJCQlzaXRlX2lkOiB0W2FdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEgPyAiODMiIDogIjEyMyIKCQkJCQkJCX07CgkJCQkJCQlkLnVybCA9IHIoaCksIHRbYV0uZGV0YWlsX3VybC5pbmRleE9mKCJkZXRhaWwudG1hbGwuY29tIikgPiAtMSA/IGkucHVzaChkKSA6IG4ucHVzaChkKQoJCQkJCQl9CgkJCQkJCW4gPSB1KG4pLCBpID0gdShpKSwgcyA9IHsKCQkJCQkJCXRhb2JhbzogbiwKCQkJCQkJCXRtYWxsOiBpCgkJCQkJCX0sIGwgJiYgIWMgJiYgKGwocyksIGMgPSAhMCkKCQkJCQl9IGNhdGNoIChtKSB7fQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IFsiNTA1MTAwMDIiLCAiNTAwMTIwMjkiLCAiNTAwMTM4NjQiLCAiNTAwMTEzOTciLCAiNTAwMTA0MDQiLCAiMTYyNSIsICI1MDAwNjg0MiIsICI1MDAwNjg0MyIsICIxNiIsICI1MDAxMTc0MCIsICI1MDAxMTY5OSIsICI1MDAwODE2NSIsICI1MDAwODE2MyIsICIzMCIsICI1MDAyMDg1NyIsICI1MDAyMDgwOCJdLAoJCQkJCQlpID0gdC5kcC5yb290X2lkOwoJCQkJCWkgJiYgZS5pbmRleE9mKGkpID4gLTEgPyAobig4MikudW5pcVBpZEdldEltZyhmdW5jdGlvbihlKSB7CgkJCQkJCWwgPyAobChlKSwgYyA9ICEwKSA6IHMgPSBlCgkJCQkJfSksIGQgPSA2ZTMpIDogZCA9IDEKCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoInRtYWxsIikgPiAtMSkgewoJCQkJCQl2YXIgZSA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL1s/Jl1pZD0oWzAtOV0rKS8pOwoJCQkJCQllICYmIGUubGVuZ3RoICYmIChlID0gZVsxXSwgcChlKSkKCQkJCQl9CgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJKHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpICYmIG8udHJpZ2dlcih7CgkJCQkJdHlwZTogImdldF9ldGFvX2luZm8iCgkJCQl9KSwgKCJ0YW9iYW8iID09IHQuc2l0ZSB8fCAidG1hbGwiID09IHQuc2l0ZSkgJiYgZygpCgkJCX0sIGUuZXhwb3J0cy5nZXRUYW9iYW91bmlxRGF0YSA9IGZ1bmN0aW9uKGUpIHsKCQkJCXMgPyAoZShzKSwgYyA9ICEwKSA6IGwgPSBlLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCWwgJiYgYyA9PT0gITEgJiYgKGwobnVsbCksIGMgPSAhMCkKCQkJCX0sIGQpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSBuKDc0KSwKCQkJCXIgPSBuKDc4KSwKCQkJCXMgPSB7fSwKCQkJCWwgPSB7fSwKCQkJCWMgPSB2b2lkIDAsCgkJCQlkID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiLmNvbXBhcmUtbGlzdCIpLm9mZigpLCB0KCIubWFpbi1jb21wYXJlIC50cmlnaHQsIC5tYWluLWNvbXBhcmUgLnRsZWZ0Iikub2ZmKCksIHQoIi5jb21wYXJlLWJveCIpLm9mZigpLCB0KCIubWFpbi1jb21wYXJlIC50cmlnaHQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKHMubm93cGFnZSArIDEgIT09IHMucGFnZXMpIHsKCQkJCQkJCXMubm93cGFnZSsrLCB0KCIuY29tcGFyZS1saXN0PmxpIikuaGlkZSgpOwoJCQkJCQkJZm9yICh2YXIgZSA9IHMucGFnZU51bSAqIHMubm93cGFnZTsgZSA8IHMucGFnZU51bSAqIChzLm5vd3BhZ2UgKyAxKTsgZSsrKSB0KCIuY29tcGFyZS1saXN0PmxpIikuZXEoZSkuc2hvdygpOwoJCQkJCQkJMSA9PT0gcy5ub3dwYWdlICYmIHQoIi5tYWluLWNvbXBhcmUgLnRsZWZ0Iikuc2hvdygpLCBzLm5vd3BhZ2UgKyAxID09PSBzLnBhZ2VzICYmIHQoIi5tYWluLWNvbXBhcmUgLnRyaWdodCIpLmFkZENsYXNzKCJiamQtZ3JheSIpCgkJCQkJCX0KCQkJCQl9KSwgdCgiLm1haW4tY29tcGFyZSAudGxlZnQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJcy5ub3dwYWdlLS0sIHQoIi5jb21wYXJlLWxpc3Q+bGkiKS5oaWRlKCk7CgkJCQkJCWZvciAodmFyIGUgPSBzLnBhZ2VOdW0gKiBzLm5vd3BhZ2U7IGUgPCBzLnBhZ2VOdW0gKiAocy5ub3dwYWdlICsgMSk7IGUrKykgdCgiLmNvbXBhcmUtbGlzdD5saSIpLmVxKGUpLnNob3coKTsKCQkJCQkJcy5ub3dwYWdlICsgMSA8IHMucGFnZXMgJiYgdCgiLm1haW4tY29tcGFyZSAudHJpZ2h0IikucmVtb3ZlQ2xhc3MoImJqZC1ncmF5IiksIDAgPT09IHMubm93cGFnZSAmJiB0KCIubWFpbi1jb21wYXJlIC50bGVmdCIpLmhpZGUoKQoJCQkJCX0pLCB0KCIuY29tcGFyZS1saXN0Iikub24oIm1vdXNlZW50ZXIiLCAibGkiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXQoIi5jb21wYXJlLWxpc3Q+bGkiKS5yZW1vdmVDbGFzcygiYmFyLWl0ZW0taG92ZXIiKTsKCQkJCQkJdmFyIG4gPSB0KHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCQkJdCh0aGlzKS5maW5kKCIuYnRjb20tZGV0YWlsIikubGVuZ3RoID4gMCA/IHQodGhpcykuZmluZCgiLmJ0Y29tLWRldGFpbCIpLnNob3coKSA6IG4gJiYgbShuLCB0KHRoaXMpKSwgdCh0aGlzKS5hZGRDbGFzcygiYmFyLWl0ZW0taG92ZXIiKQoJCQkJCX0pLCB0KCIuY29tcGFyZS1saXN0Iikub24oIm1vdXNlbGVhdmUiLCAibGkiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciBuID0gdGhpczsKCQkJCQkJdChuKS5yZW1vdmVDbGFzcygiYmFyLWl0ZW0taG92ZXIiKSwgdChuKS5maW5kKCIuYnRjb20tZGV0YWlsIikuaGlkZSgpCgkJCQkJfSksIHQoIi5jb21wYXJlLWJveCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdChlLnRhcmdldCkuaGFzQ2xhc3MoInR1cm5sZWZ0IikgPyBwKHQoZS50YXJnZXQpLCAtMSkgOiB0KGUudGFyZ2V0KS5oYXNDbGFzcygidHVybnJpZ2h0IikgJiYgcCh0KGUudGFyZ2V0KSwgMSkKCQkJCQl9KQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGkgPSB0KGUpLnBhcmVudCgpLnBhcmVudCgpLAoJCQkJCQlhID0gaS5maW5kKCIuYWxsLXByb2R1Y3RzIC5idGNvbS1saXN0IGxpIiksCgkJCQkJCW8gPSBhLmxlbmd0aCwKCQkJCQkJciA9IE51bWJlcihpLmZpbmQoIi5iamQtcGFnZXMgLmN1cnJlbnQtcGFnZSIpLnRleHQoKSksCgkJCQkJCXMgPSBOdW1iZXIoaS5maW5kKCIuYmpkLXBhZ2VzIC5wYWdlLW51bSIpLnRleHQoKSk7CgkJCQkJaS5maW5kKCIuYWxsLXByb2R1Y3RzIC5idGNvbS1saXN0IGxpIikuaGlkZSgpLCAxID09PSBuID8gcisrIDogLTEgPT09IG4gJiYgci0tLCAwID09PSByICYmIChyID0gcyksIHIgPT09IHMgKyAxICYmIChyID0gMSk7CgkJCQkJZm9yICh2YXIgbCA9IHIgKiBjLnNob3dMaXN0TnVtID4gbyA/IG8gOiByICogYy5zaG93TGlzdE51bSwgZCA9IChyIC0gMSkgKiBjLnNob3dMaXN0TnVtOyBsID4gZDsgZCsrKSB7CgkJCQkJCWEuZXEoZCkuc2hvdygpOwoJCQkJCQl2YXIgcCA9IGEuZXEoZCkuZmluZCgiLmNvbS1pdGVtLWltZyBpbWciKTsKCQkJCQkJaChwKQoJCQkJCX0KCQkJCQlpLmZpbmQoIi5iamQtcGFnZXMgLmN1cnJlbnQtcGFnZSIpLnRleHQocikKCQkJCX0sCgkJCQloID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gZS5hdHRyKCJkYXRhLXNyYyIpOwoJCQkJCWlmIChuKSB7CgkJCQkJCXZhciBhID0gbmV3IEltYWdlOwoJCQkJCQlhLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJMSA9PSBhLmNvbXBsZXRlICYmIHQoZSkuYXR0cigic3JjIiwgbikuYXR0cigiZGF0YS1zcmMiLCBudWxsKQoJCQkJCQl9LCBhLm9uZXJyb3IgPSBmdW5jdGlvbihuKSB7CgkJCQkJCQl2YXIgYSA9IHQoZSlbMF07CgkJCQkJCQl0KGUpWzBdICYmIChhLnNyYyA9IGkuc19zZXJ2ZXIgKyAiL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci9ub19pbWcucG5nIiwgYS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwgaS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL25vX2ltZy5wbmciKSkKCQkJCQkJfSwgYS5zcmMgPSBuCgkJCQkJfQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKQoJCQkJCQlpZiAoZVtuXS5wcmljZSA9IE51bWJlcihlW25dLnByaWNlLnJlcGxhY2UoIiwiLCAiIikpLnRvRml4ZWQoMiksIGVbbl0uaW1nX3VybCB8fCAoZVtuXS5pbWdfdXJsID0gZVtuXS5waWNfdXJsKSwgZVtuXS5zaXRlX25hbWUgfHwgKGVbbl0uc2l0ZV9uYW1lID0gZVtuXS5uaWNrKSwgdCAmJiBlW25dLmltZ191cmwubWF0Y2goL19cZCt4XGQrLykpIHsKCQkJCQkJCXZhciBpID0gZVtuXS5pbWdfdXJsLm1hdGNoKC9fKFxkKyl4XGQrLyk7CgkJCQkJCQlpICYmIChpID0gTnVtYmVyKGlbMV0pLCBpID4gMjAwICYmIChlW25dLmltZ191cmwgPSBlW25dLmltZ191cmwgKyAiXzEwMHgxMDAiKSkKCQkJCQkJfSBlbHNlIHQgJiYgKGVbbl0uaW1nX3VybCA9IGVbbl0uaW1nX3VybCArICJfMTAweDEwMCIpOwoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKGUsIGkpIHsKCQkJCQl2YXIgbyA9IGxbZV0ubGVuZ3RoLAoJCQkJCQlyID0gdm9pZCAwOwoJCQkJCW8gPiBjLnNob3dMaXN0TnVtICYmIChyID0gITApOwoJCQkJCXZhciBzID0gTWF0aC5jZWlsKG8gLyBjLnNob3dMaXN0TnVtKSwKCQkJCQkJZCA9IG4oODUpLAoJCQkJCQlwID0gYS5jb21waWxlKGQpKHsKCQkJCQkJCWRhdGE6IGxbZV0sCgkJCQkJCQlzaG93cGFnZXM6IHIsCgkJCQkJCQlwcm93aWR0aDogYy5hbGxQcm9kdWN0VywKCQkJCQkJCXR1cm5wVzogYy50dXJucFcsCgkJCQkJCQlwYWdlczogcwoJCQkJCQl9KTsKCQkJCQl0KGkpLmFwcGVuZChwKTsKCQkJCQlmb3IgKHZhciB1ID0gMDsgdSA8IE1hdGgubWluKGMuc2hvd0xpc3ROdW0sIG8pOyB1KyspIHsKCQkJCQkJdmFyIG0gPSB0KGkpLmZpbmQoIi5idGNvbS1kZXRhaWwgbGkgLmNvbS1pdGVtLWltZyBpbWciKS5lcSh1KTsKCQkJCQkJaChtKQoJCQkJCX0KCQkJCQlyIHx8IGcobywgaSkKCQkJCX0sCgkJCQlmID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmICghKGkuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IGkuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpKSB7CgkJCQkJCXZhciByID0gNzI4LAoJCQkJCQkJYyA9IDk4LAoJCQkJCQkJcCA9IFtdLAoJCQkJCQkJaCA9IGUuc3RvcmUubGVuZ3RoLAoJCQkJCQkJbSA9IG8uY2FsQm90dG9tQmFyKCk7CgkJCQkJCW0gPj0gciArIGMgPyAocy5wYWdlTnVtID0gNywgcy5tYmFySXRlbVNob3dOdW0gPSBoID4gNyA/IDcgOiBoKSA6IChzLnBhZ2VOdW0gPSBwYXJzZUludCgobSAtIGMpIC8gMTA0KSwgcy5tYmFySXRlbVNob3dOdW0gPSBoID4gcy5wYWdlTnVtID8gcy5wYWdlTnVtIDogaCk7CgkJCQkJCWZvciAodmFyIGYgPSAwOyBmIDwgZS5zdG9yZS5sZW5ndGg7IGYrKykgcC5wdXNoKGUuc3RvcmVbZl0ucHJvZHVjdFswXSksIGxbZS5zdG9yZVtmXS5wcm9kdWN0WzBdLmRwX2lkXSA9IHUoZS5zdG9yZVtmXS5wcm9kdWN0KTsKCQkJCQkJcy5wYWdlcyA9IE1hdGguY2VpbChoIC8gcy5wYWdlTnVtKTsKCQkJCQkJdmFyIGcgPSBuKDg2KTsKCQkJCQkJdCgiLmNvbXBhcmUtbGlzdCIpLmFwcGVuZChhLmNvbXBpbGUoZykoewoJCQkJCQkJZGF0YTogcCwKCQkJCQkJCXBhZ2VOdW06IHMucGFnZU51bQoJCQkJCQl9KSksIHMubm93cGFnZSA9IDAsIHMudG90YWxTaXplID0gaCwgdCgiLmNvbXBhcmUtYm94IikuY3NzKCJ3aWR0aCIsIDEwNCAqIHMubWJhckl0ZW1TaG93TnVtICsgInB4IiksIDEgPT09IHMucGFnZXMgJiYgdCgiLm1iYXItdHVybnBhZ2UiKS5oaWRlKCksIGQoKQoJCQkJCX0KCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gdCh3aW5kb3cpLndpZHRoKCksCgkJCQkJCWEgPSBuLm9mZnNldCgpLmxlZnQsCgkJCQkJCW8gPSBuLm91dGVyV2lkdGgoKSwKCQkJCQkJciA9IG4uZmluZCgiLmJ0Y29tLWRldGFpbCIpLAoJCQkJCQlzID0gMjY4ICogZSArIDIsCgkJCQkJCWwgPSBhICsgbyAvIDIgLSBzIC8gMjsKCQkJCQkwID4gbCAmJiAobCA9IDApLCBsICsgcyA+IGkgJiYgKGwgPSBpIC0gcyAtIDIpLCByLmNzcygibGVmdCIsIGwgKyAicHgiKQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKCFlLnByb2R1Y3QgfHwgZS5wcm9kdWN0ICYmIDAgPT09IGUucHJvZHVjdC5sZW5ndGgpIHJldHVybiBlOwoJCQkJCWZvciAodmFyIHQgPSBbXSwgbiA9IHt9LCBpID0gMDsgaSA8IGUucHJvZHVjdC5sZW5ndGg7IGkrKykgbltlLnByb2R1Y3RbaV0uc2l0ZV9uYW1lXSA/IG5bZS5wcm9kdWN0W2ldLnNpdGVfbmFtZV0ucHJvZHVjdC5wdXNoKGUucHJvZHVjdFtpXSkgOiBuW2UucHJvZHVjdFtpXS5zaXRlX25hbWVdID0gewoJCQkJCQlwcm9kdWN0OiBbZS5wcm9kdWN0W2ldXQoJCQkJCX07CgkJCQkJZm9yICh2YXIgYSBpbiBuKSBhICYmIHQucHVzaChuW2FdKTsKCQkJCQlyZXR1cm4gewoJCQkJCQlzdG9yZTogdAoJCQkJCX0KCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBpID0gbig4NiksCgkJCQkJCW8gPSAwOwoJCQkJCWlmIChlLnRtYWxsICYmIGUudG1hbGwucHJvZHVjdCkgewoJCQkJCQl2YXIgYyA9IHsKCQkJCQkJCWRwX2lkOiAidG1jb21wYXJlIiwKCQkJCQkJCXNpdGVfbmFtZTogIuWkqeeMq+WVhuWfjiIsCgkJCQkJCQlwcmljZTogZS50bWFsbC5taW5fcHJpY2UKCQkJCQkJfTsKCQkJCQkJci5pbml0KCJ0bWFsbCIsIGUudG1hbGwucHJvZHVjdCwgIiZjb2x1bW49YjJjIiksIGwudG1jb21wYXJlID0gdShlLnRtYWxsLnByb2R1Y3QsICEwKTsKCQkJCQkJdmFyIHAgPSB0KCIuY29tcGFyZS1saXN0PmxpIikuZXEoNSk7CgkJCQkJCTAgPT09IHAubGVuZ3RoICYmIChwID0gdCgiLmNvbXBhcmUtbGlzdD5saTpsYXN0LWNoaWxkIikpLCAwID09PSBwLmxlbmd0aCA/IHQoIi5jb21wYXJlLWxpc3QiKS5hcHBlbmQoYS5jb21waWxlKGkpKHsKCQkJCQkJCWRhdGE6IFtjXQoJCQkJCQl9KSkgOiBwLmFmdGVyKGEuY29tcGlsZShpKSh7CgkJCQkJCQlkYXRhOiBbY10KCQkJCQkJfSkpLCBvKysKCQkJCQl9CgkJCQkJaWYgKGUudGFvYmFvICYmIGUudGFvYmFvLnByb2R1Y3QpIHsKCQkJCQkJdmFyIGMgPSB7CgkJCQkJCQlkcF9pZDogInRiY29tcGFyZSIsCgkJCQkJCQlzaXRlX25hbWU6ICLmt5jlrp0iLAoJCQkJCQkJcHJpY2U6IGUudGFvYmFvLm1pbl9wcmljZQoJCQkJCQl9OwoJCQkJCQlyLmluaXQoInRhb2JhbyIsIGUudGFvYmFvLnByb2R1Y3QsICImY29sdW1uPWIyYyIpLCBsLnRiY29tcGFyZSA9IHUoZS50YW9iYW8ucHJvZHVjdCwgITApLCB0KCIuY29tcGFyZS1saXN0IikuYXBwZW5kKGEuY29tcGlsZShpKSh7CgkJCQkJCQlkYXRhOiBbY10KCQkJCQkJfSkpLCBvKysKCQkJCQl9CgkJCQkJcy50b3RhbFNpemUgPSBzLnRvdGFsU2l6ZSArIG87CgkJCQkJdmFyIGggPSBNYXRoLmNlaWwocy50b3RhbFNpemUgLyBzLnBhZ2VOdW0pOwoJCQkJCTEgIT09IHMucGFnZXMgJiYgcy5wYWdlcyA/IHMucGFnZXMgPSBoIDogKGggPiAxICYmICh0KCIubWJhci10dXJucGFnZS50cmlnaHQiKS5zaG93KCksIHMucGFnZXMgPSBoKSwgcy5tYmFySXRlbVNob3dOdW0gPSBzLnRvdGFsU2l6ZSA+IHMucGFnZU51bSA/IHMucGFnZU51bSA6IHMudG90YWxTaXplLCB0KCIuY29tcGFyZS1ib3giKS5jc3MoIndpZHRoIiwgMTA0ICogcy5tYmFySXRlbVNob3dOdW0gKyAicHgiKSwgdCgiLm1iYXItdHVybnBhZ2UiKS5oaWRlKCkpLCBkKCkKCQkJCX07CgkJCWUuZXhwb3J0cy5yZW5kZXJCdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXgoZSkKCQkJfSwgZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQllLmIyYyAmJiBlLmIyYy5taW5fcHJpY2UgPyBmKGUuYjJjKSA6IGUuYjJjX2Z1enp5ICYmIChlLmIyYzIgPSBfKGUuYjJjX2Z1enp5KSwgZihlLmIyYzIpKSwgYyA9IG8uaW5pdCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJidGNvbS1kZXRhaWwiIHN0eWxlPSJ7e2lmIHNob3dwYWdlc319bGVmdDowcHg7d2lkdGg6MTAwJTt7ey9pZn19Ij5cbiAge3tpZiBzaG93cGFnZXN9fVxuICA8ZGl2IGNsYXNzPSJ0dXJucGFnZS1kaXYgdHVybnBhZ2UtbGVmdCIgc3R5bGU9IndpZHRoOnt7dHVybnBXfX1weDtoZWlnaHQ6IDEwMCU7Ij5cbiAgICA8c3BhbiBjbGFzcz0ibmJ0LWJnIHR1cm5sZWZ0Ij48L3NwYW4+XG4gIDwvZGl2PlxuICB7ey9pZn19XG4gIDxkaXYgY2xhc3M9ImFsbC1wcm9kdWN0cyIgc3R5bGU9Int7aWYgc2hvd3BhZ2VzfX0gd2lkdGg6e3twcm93aWR0aH19cHg7IHt7L2lmfX0iPlxuICAgIDx1bCBjbGFzcz0iYnRjb20tbGlzdCI+XG4gICAgICB7e2VhY2ggZGF0YX19XG4gICAgICAgIDxsaSBjbGFzcz0iZHAtaW5kZXgte3skaW5kZXh9fSI+XG4gICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iY29tLWl0ZW0taW1nIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvMTIwLmdpZiIgZGF0YS1zcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iY29tLXByaWNlIj7vv6V7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNvbS1zdG9yZSI+e3skdmFsdWUuc2l0ZV9uYW1lfX08L3NwYW4+XG4gICAgICAgICAgICA8cCBjbGFzcz0iY29tLXRsZSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAge3svZWFjaH19XG4gICAgPC91bD5cbiAgPC9kaXY+XG4gIHt7aWYgc2hvd3BhZ2VzfX1cbiAgPGRpdiBjbGFzcz0idHVybnBhZ2UtZGl2IHR1cm5wYWdlLXJpZ2h0IiBzdHlsZT0id2lkdGg6e3t0dXJucFd9fXB4O2hlaWdodDogMTAwJTsiPlxuICAgIDxzcGFuIGNsYXNzPSJuYnQtYmcgdHVybnJpZ2h0Ij48L3NwYW4+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJiamQtcGFnZXMiPlxuICAgICAg56ysJm5ic3A7XG4gICAgICA8c3BhbiBjbGFzcz0iY3VycmVudC1wYWdlIj4xPC9zcGFuPlxuICAgICAgJm5ic3A76aG177yM5YWxXG4gICAgICA8c3BhbiBjbGFzcz0icGFnZS1udW0iPnt7cGFnZXN9fTwvc3Bhbj5cbiAgICAgICZuYnNwO+mhtVxuICA8L2Rpdj5cbiAge3svaWZ9fVxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAne3tlYWNoIGRhdGF9fVxuICA8bGkgY2xhc3M9ImluZGV4X3t7JGluZGV4fX0iIGRhdGEtaWQ9Int7JHZhbHVlLmRwX2lkfX0iPlxuICAgIDxkaXYgY2xhc3M9Iml0ZW0tYm94LWRldiI+XG4gICAgICA8c3BhbiBjbGFzcz0iY29tLWl0ZW0tcHJpIj7vv6V7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9ImNvbS1pdGVtLXN0b3JlIj57eyR2YWx1ZS5zaXRlX25hbWV9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9saT5cbnt7L2VhY2h9fScKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKGUpIHsKCQkJCQlmdW5jdGlvbiB0KCkgewoJCQkJCQlmb3IgKHZhciB0ID0gZS5iMmMuc3RvcmUubGVuZ3RoLCBuID0gMDsgbiA8IGUuYjJjLnN0b3JlLmxlbmd0aDsgbisrKSBlLmIyYy5zdG9yZVtuXS5wcmljZSA9IGUuYjJjLnN0b3JlW25dLnByaWNlLnJlcGxhY2UoIiwiLCAiIiksIGUuYjJjLnN0b3JlW25dLnByb21vLmxlbmd0aCA+IDMgJiYgKGUuYjJjLnN0b3JlW25dLnByb21vMiA9IGUuYjJjLnN0b3JlW25dLnByb21vLnNsaWNlKDAsIDMpKTsKCQkJCQkJcmV0dXJuIGUuYjJjLnN0b3JlMiA9IGUuYjJjLnN0b3JlLnNsaWNlKDAsIDYpLCB0CgkJCQkJfQoJCQkJCXZhciBuID0gaC5pbml0KCk7CgkJCQkJaWYgKGUuYjJjLnByb2R1Y3QgPSBwKGUuYjJjLnByb2R1Y3QpLCAwICE9PSBlLmIyYy5wcm9kdWN0Lmxlbmd0aCkgewoJCQkJCQllLmIyYy5wcm9kdWN0WzBdID0gZyhlLmIyYy5wcm9kdWN0WzBdKSwgZS5iMmMubWluX3ByaWNlID0gZS5iMmMucHJvZHVjdFswXS5wcmljZS5yZXBsYWNlKCIsIiwgIiIpOwoJCQkJCQl2YXIgaSA9ICc8YSBocmVmPSJqYXZhc2NyaXB0OiIgaWQ9IicgKyBhLmV4dE5hbWUgKyAnLWIyYy1kcCIgY2xhc3M9IicgKyBhLmV4dE5hbWUgKyAnLXRhYiIgPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImIyYy1pY29uIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj7llYbln448L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibG93ZXN0ICcgKyBhLmV4dEJyYW5kICsgJy1wcmljZSI+JnllbjsnICsgZS5iMmMubWluX3ByaWNlICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+IjsKCQkJCQkJcygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQoaSk7CgkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgZS5iMmMucHJvZHVjdC5sZW5ndGg7IHIrKykgewoJCQkJCQkJdmFyIGwgPSBlLmIyYy5wcm9kdWN0W3JdOwoJCQkJCQkJaWYgKGwgPSBnKGwpLCBsLnByb21vID0gbyhsLnByb21vKSwgbC5wcm9tbyAmJiBsLnByb21vLmxlbmd0aCA+IDApIHsKCQkJCQkJCQlsLnByb21vZG9tID0gIiI7CgkJCQkJCQkJZm9yICh2YXIgdSA9IDAsIG0gPSBsLnByb21vLmxlbmd0aDsgMyA+IHUgJiYgbSA+IHU7IHUrKykgewoJCQkJCQkJCQl2YXIgZiA9IGwucHJvbW9bdV07CgkJCQkJCQkJCWYuaGFzU2FtZSB8fCAobC5wcm9tb2RvbSArPSAnPHNwYW4gIHRpdGxlPSInICsgKGYuaGFzU2FtZVRpdGxlID8gZi5oYXNTYW1lVGl0bGUgOiBmLmRlc2MpICsgJyIgY2xhc3M9InByb21vX2ljb24gcHJvbW9faWNvbl8nICsgZi50eXBlICsgJyI+PC9zcGFuPicpCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXZhciBfID0gdCgpOwoJCQkJCQlzKCIjIiArIGEuZXh0TmFtZSArICItbWFpbiIpLmFwcGVuZChjLmNvbXBpbGUoZCkoewoJCQkJCQkJZGF0YTogZSwKCQkJCQkJCWxlbjogXywKCQkJCQkJCWV4dE5hbWU6IGEuZXh0TmFtZSwKCQkJCQkJCXdpZHRoOiBuLmIyY1R1cm5wVywKCQkJCQkJCXByb2R1Y3RXOiBuLmIyY1Byb2R1Y3RXCgkJCQkJCX0pKSwgcygiIyIgKyBhLmV4dE5hbWUgKyAiLWIyYy1kcC1kZXRhaWwgbGkgaW1nLnN0b3JlIikub24oImVycm9yIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQlhLm5ld19leHRlbnNpb24gfHwgcyh0aGlzKS5hdHRyKCJzcmMiLCBhLmNfc2VydmVyICsgIi9mYXZpY29uLmljbyIpCgkJCQkJCX0pLCBzKCIjYjJjLXByZXYtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJYS5jaGFuZ2VfcGFnZSgiYjJjIiwgLTEpCgkJCQkJCX0pLCBzKCIjYjJjLW5leHQtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJYS5jaGFuZ2VfcGFnZSgiYjJjIiwgMSkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gdChlKSB7CgkJCQkJdmFyIHQgPSBoLmluaXQoKTsKCQkJCQlpZiAoZS5iMmNfZnV6enkucHJvZHVjdCA9IHAoZS5iMmNfZnV6enkucHJvZHVjdCksIDAgIT09IGUuYjJjX2Z1enp5LnByb2R1Y3QubGVuZ3RoKSB7CgkJCQkJCWUuYjJjX2Z1enp5LnByb2R1Y3RbMF0gPSBnKGUuYjJjX2Z1enp5LnByb2R1Y3RbMF0pLCBlLmIyY19mdXp6eS5taW5fcHJpY2UgPSBlLmIyY19mdXp6eS5wcm9kdWN0WzBdLnByaWNlOwoJCQkJCQl2YXIgaSA9ICc8YSBocmVmPSJqYXZhc2NyaXB0OiIgaWQ9IicgKyBhLmV4dE5hbWUgKyAnLWIyY19mdXp6eS1kcCIgY2xhc3M9IicgKyBhLmV4dE5hbWUgKyAnLXRhYiI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiMmMtaWNvbiBnd2RfYmciPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+5ZWG5Z+O55u45Ly85qy+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibG93ZXN0ICcgKyBhLmV4dEJyYW5kICsgJy1wcmljZSI+JnllbjsnICsgZS5iMmNfZnV6enkubWluX3ByaWNlICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYT4iOwoJCQkJCQlzKCIjIiArIGEuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChjLmNvbXBpbGUoaSkoKSk7CgkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgZS5iMmNfZnV6enkucHJvZHVjdC5sZW5ndGg7IHIrKykgewoJCQkJCQkJdmFyIGwgPSBlLmIyY19mdXp6eS5wcm9kdWN0W3JdOwoJCQkJCQkJaWYgKGwgPSBnKGwpLCBsLnByb21vID0gbyhsLnByb21vKSwgbC5wcm9tbyAmJiBsLnByb21vLmxlbmd0aCA+IDApIHsKCQkJCQkJCQlsLnByb21vZG9tID0gIiI7CgkJCQkJCQkJZm9yICh2YXIgZCA9IDAsIHUgPSBsLnByb21vLmxlbmd0aDsgMyA+IGQgJiYgdSA+IGQ7IGQrKykgewoJCQkJCQkJCQl2YXIgbSA9IGwucHJvbW9bZF07CgkJCQkJCQkJCW0uaGFzU2FtZSB8fCAobC5wcm9tb2RvbSArPSAnPHNwYW4gdGl0bGU9IicgKyAobS5oYXNTYW1lVGl0bGUgPyBtLmhhc1NhbWVUaXRsZSA6IG0uZGVzYykgKyAnIiBjbGFzcz0icHJvbW9faWNvbiBwcm9tb19pY29uXycgKyBtLnR5cGUgKyAnIj48L3NwYW4+JykKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJdmFyIGYgPSBuKDg5KTsKCQkJCQkJcygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQoYy5jb21waWxlKGYpKHsKCQkJCQkJCWRhdGE6IGUuYjJjX2Z1enp5LnByb2R1Y3QsCgkJCQkJCQlzX3NlcnZlcjogYS5zX3NlcnZlciwKCQkJCQkJCXdpZHRoOiB0LnR1cm5wVywKCQkJCQkJCXByb2R1Y3RXOiB0LmFsbFByb2R1Y3RXCgkJCQkJCX0pKSwgcygiI2IyY19mdXp6eS1wcmV2LXBhZ2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCWEuY2hhbmdlX3BhZ2UoImIyY19mdXp6eSIsIC0xKQoJCQkJCQl9KSwgcygiI2IyY19mdXp6eS1uZXh0LXBhZ2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCWEuY2hhbmdlX3BhZ2UoImIyY19mdXp6eSIsIDEpCgkJCQkJCX0pLCBzKCIjIiArIGEuZXh0TmFtZSArICItYjJjX2Z1enp5LWRwLWRldGFpbCIpLmFwcGVuZCgnPGRpdiBjbGFzcz0icGFuZWwtc2hhZG93Ij48L2Rpdj4nKQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQl2YXIgdCA9IGUuYjJjOwoJCQkJCWUuYjJjMiAmJiAodCA9IGUuYjJjMik7CgkJCQkJdmFyIG4gPSBhLmdldEZpeGVkU2hvd1Byb2R1Y3ROdW0oKTsKCQkJCQlpZiAodC5zdG9yZS5sZW5ndGggPiAwKSB7CgkJCQkJCXMoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZSIpLmh0bWwoIiIpOwoJCQkJCQl0cnkgewoJCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0LnN0b3JlLmxlbmd0aDsgaSsrKSB7CgkJCQkJCQkJdmFyIHIgPSB0LnN0b3JlW2ldLAoJCQkJCQkJCQlsID0gci5wcm9kdWN0WzBdOwoJCQkJCQkJCWwgPSBnKGwpOwoJCQkJCQkJCXZhciBjID0gcGFyc2VJbnQoci5wcm9kdWN0Lmxlbmd0aCksCgkJCQkJCQkJCWQgPSBjICUgbiA9PSAwID8gcGFyc2VJbnQoYyAvIG4pIDogcGFyc2VJbnQoYyAvIG4pICsgMSwKCQkJCQkJCQkJcCA9IHMoIjxsaT4iKTsKCQkJCQkJCQlwLmFwcGVuZChzKCI8c3Bhbj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIsCgkJCQkJCQkJCWhyZWY6IGwudXJsLAoJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCQkJfSkuYXBwZW5kKHMoIjxwPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJpY2UiCgkJCQkJCQkJfSkuaHRtbCgiJnllbjsiICsgbC5wcmljZSkpLmFwcGVuZChzKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXN0b3JlIgoJCQkJCQkJCX0pLnRleHQobC5zaXRlX25hbWUpKSk7CgkJCQkJCQkJdmFyIGggPSBzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbCByZS0iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbCAiICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIsCgkJCQkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lOyIKCQkJCQkJCQl9KTsKCQkJCQkJCQloLmFwcGVuZChzKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUgIiArIGEuZXh0QnJhbmQgKyAiLWhlaWdodC1hdXRvICIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWZpeGVkIgoJCQkJCQkJCX0pLmFwcGVuZChzKCI8c3Bhbj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZGVzYyIKCQkJCQkJCQl9KS50ZXh0KGwuc2l0ZV9uYW1lICsgIu+8miIgKyByLmZlZSkpKTsKCQkJCQkJCQlmb3IgKHZhciB1ID0gcygiPHVsPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItaXRlbS1saXN0IgoJCQkJCQkJCX0pLCBtID0gMDsgYyA+IG07IG0rKykgewoJCQkJCQkJCQl2YXIgZiA9IHIucHJvZHVjdFttXTsKCQkJCQkJCQkJZiA9IGcoZiksIChmLnNpdGVfbmFtZS5pbmRleE9mKCLlvq7kv6Hnq68iKSA+IC0xIHx8IGYuc2l0ZV9uYW1lLmluZGV4T2YoIuenu+WKqOerryIpID4gLTEpICYmIChmLmlzT3RoZXJDbGllbnQgPSAhMCk7CgkJCQkJCQkJCXZhciBfID0gZi5yZXZfY250ID8gZi5yZXZfY250IDogMCwKCQkJCQkJCQkJCXggPSAiIjsKCQkJCQkJCQkJaWYgKGYucHJvbW8gPSBvKGYucHJvbW8pLCBmLnByb21vICYmIGYucHJvbW8ubGVuZ3RoID4gMCkKCQkJCQkJCQkJCWZvciAodmFyIHcgPSAwLCB2ID0gZi5wcm9tby5sZW5ndGg7IG4gPiB3ICYmIHYgPiB3OyB3KyspCgkJCQkJCQkJCQkJaWYgKCFmLnByb21vW3ddLmhhc1NhbWUpIHsKCQkJCQkJCQkJCQkJdmFyIGIgPSBmLnByb21vW3ddLmhhc1NhbWVUaXRsZSA/IGYucHJvbW9bd10uaGFzU2FtZVRpdGxlIDogZi5wcm9tb1t3XS5kZXNjOwoJCQkJCQkJCQkJCQl4ICs9ICc8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAiLWJnIHByb21vX2ljb24gcHJvbW9faWNvbl8iICsgZi5wcm9tb1t3XS50eXBlICsgJyIgdGl0bGU9IicgKyBiICsgJyI+Jm5ic3A8L3NwYW4+JwoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJdS5hcHBlbmQocygiPGxpPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWxpc3QtaXRlbSAiICsgKG0gJSBuID09IG4gLSAxIHx8IG0gPT0gYyAtIDEgPyBhLmV4dEJyYW5kICsgIi1sYXN0IiA6ICIiKSwKCQkJCQkJCQkJCXN0eWxlOiAiZGlzcGxheTogIiArIChtID49IG4gPyAibm9uZSIgOiAiYmxvY2siKQoJCQkJCQkJCQl9KS5hcHBlbmQocygiPGE+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcGljIiwKCQkJCQkJCQkJCWhyZWY6IGYudXJsLAoJCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQkJCQl9KS5hcHBlbmQocygiPGltZz4iLCB7CgkJCQkJCQkJCQlzcmM6IGEuc19zZXJ2ZXIgKyAiL2ltYWdlcy9kcF9kZWZhdWx0LmpwZyIsCgkJCQkJCQkJCQkiZGF0YS1vcmlnaW5hbCI6IGYuaW1nX3VybCwKCQkJCQkJCQkJCXRpdGxlOiBmLnRpdGxlCgkJCQkJCQkJCX0pKSkuYXBwZW5kKHMoIjxhPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXByb2R1Y3QtdGl0bGUiLAoJCQkJCQkJCQkJaHJlZjogZi51cmwsCgkJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiLAoJCQkJCQkJCQkJdGl0bGU6IGYudGl0bGUKCQkJCQkJCQkJfSkuYXBwZW5kKHMoIjxkaXY+IikudGV4dChmLnRpdGxlKSkpLmFwcGVuZChzKCI8ZGl2PiIpLmFwcGVuZChzKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcmljZSIsCgkJCQkJCQkJCQlocmVmOiBmLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQkJfSkuaHRtbCgiJnllbjsiICsgKGYucHJpY2Vfcm1iID8gZi5wcmljZV9ybWIgOiBmLnByaWNlKSkuYXBwZW5kKHgpKSkuYXBwZW5kKHMoIjxkaXY+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICJfcmV2X2NudCIKCQkJCQkJCQkJfSkuYXBwZW5kKHMoIjxhPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiX3Byb2R1Y3RfY29tbWVudF9hbW91bnQiLAoJCQkJCQkJCQkJaHJlZjogZi51cmwsCgkJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiLAoJCQkJCQkJCQkJdGl0bGU6IGYuaXNPdGhlckNsaWVudCA/IGYuc2l0ZV9uYW1lIDogIuWVhuWTgeivhOiuuuaVsCIKCQkJCQkJCQkJfSkuYXBwZW5kKHMoIjxzcGFuPiIpLnRleHQoZi5pc090aGVyQ2xpZW50ID8gZi5zaXRlX25hbWUgOiAwICE9IF8gPyAi6K+E6K665pWwOiIgKyBmLnJldl9jbnQgOiAiIikpKSkpCgkJCQkJCQkJfQoJCQkJCQkJCXZhciB5ID0gcygiPGRpdj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWIyYy1QYWdlVmlldyAiICsgYS5leHRCcmFuZCArICItYjJjLVBhZ2VWaWV3LWZpeGVkIgoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmICh5LmFwcGVuZChzKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUiLAoJCQkJCQkJCQlzdHlsZTogImhlaWdodDphdXRvOyIKCQkJCQkJCQl9KS5hcHBlbmQocygiPHNwYW4+IiwgewoJCQkJCQkJCQlzdHlsZTogImZsb2F0Om5vbmU7cGFkZGluZy1sZWZ0OjEwcHg7IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1wYWdlcyIKCQkJCQkJCQl9KS5hcHBlbmQocygiPGVtPiIsIHsKCQkJCQkJCQkJaWQ6ICJwYWdlLW5vdy0iICsgaSwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2Utbm93IgoJCQkJCQkJCX0pLnRleHQoIjEiKSkuYXBwZW5kKCIvIikuYXBwZW5kKHMoIjxlbT4iLCB7CgkJCQkJCQkJCWlkOiAicGFnZS10b3RhbC0iICsgaSwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2UtdG90YWwiCgkJCQkJCQkJfSkudGV4dCgiMSIpKSkpLCBoLmFwcGVuZChzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1wcmV2LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLWxlZnQiCgkJCQkJCQkJfSkuYXBwZW5kKHMoIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1iZyBwYWdlLWFycm93IgoJCQkJCQkJCX0pKSkuYXBwZW5kKHUpLmFwcGVuZChzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1uZXh0LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLXJpZ2h0IgoJCQkJCQkJCX0pLmFwcGVuZChzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItYmcgcGFnZS1hcnJvdyIKCQkJCQkJCQl9KSkpLmFwcGVuZCh5KSwgcC5hcHBlbmQoaCksIDEgPT0gZCkgewoJCQkJCQkJCQlwLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1wcmV2LXBhZ2UiKS5oaWRlKCksIHAuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLW5leHQtcGFnZSIpLmhpZGUoKSwgcC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWIyYy1QYWdlVmlldy1maXhlZCIpLmhpZGUoKSwgcC5hdHRyKCJwYWdlcyIsIDEpLCBwLmF0dHIoImxlbiIsIGMpOwoJCQkJCQkJCQl2YXIgayA9IDIwMCAqIGM7CgkJCQkJCQkJCXAuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygid2lkdGgiLCBrICsgMikKCQkJCQkJCQl9IGVsc2UgcC5jaGlsZHJlbigiZGl2LiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIikuY3NzKCJ3aWR0aCIsIGEud2lkdGggLSAyKTsKCQkJCQkJCQlzKCIjIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUiKS5hcHBlbmQocCksIHMoIiNwYWdlLXRvdGFsLSIgKyBpKS50ZXh0KGQpCgkJCQkJCQl9CgkJCQkJCX0gY2F0Y2ggKHopIHsKCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyB6CgkJCQkJCX0KCQkJCQl9CgkJCQkJcygiIyIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlIikuc2hvdygpCgkJCQl9CgoJCQkJZnVuY3Rpb24gbyhlKSB7CgkJCQkJaWYgKCFlIHx8IGUgJiYgIWUubGVuZ3RoKSByZXR1cm4gZTsKCQkJCQlmb3IgKHZhciB0ID0gMCwgbiA9IGUubGVuZ3RoOyBuID4gdDsgdCsrKQoJCQkJCQlpZiAoZVt0XSkKCQkJCQkJCWZvciAodmFyIGkgPSAxOyBuID4gaTsgaSsrKQoJCQkJCQkJCWlmIChlW3QgKyBpXSAmJiBlW3RdLnR5cGUgPT0gZVt0ICsgaV0udHlwZSkgewoJCQkJCQkJCQlpZiAoZVt0XS5oYXNTYW1lKSBjb250aW51ZTsKCQkJCQkJCQkJZVt0XS5oYXNTYW1lVGl0bGUgPSAoZVt0XS5oYXNTYW1lVGl0bGUgPyBlW3RdLmhhc1NhbWVUaXRsZSA6IGVbdF0uZGVzYykgKyAiICIgKyBlW3QgKyBpXS5kZXNjLCBlW3QgKyBpXS5oYXNTYW1lID0gITAKCQkJCQkJCQl9CgkJCQkJcmV0dXJuIGUKCQkJCX0KCgkJCQlmdW5jdGlvbiByKGUpIHsKCQkJCQl2YXIgdCA9IHt9LAoJCQkJCQluID0gZS5wcm9kdWN0OwoJCQkJCW4gPSBwKG4pOwoJCQkJCWZvciAodmFyIGkgaW4gbikKCQkJCQkJaWYgKCIxIiA9PSBuW2ldLm1vcmUpIHsKCQkJCQkJCXZhciBhID0gbltpXS5hbGw7CgkJCQkJCQlmb3IgKHZhciBvIGluIGEpIHsKCQkJCQkJCQl2YXIgciA9IGFbb10uc2l0ZV9uYW1lOwoJCQkJCQkJCW51bGwgPT0gdFtyXSAmJiAodFtyXSA9IFtdKSwgdFtyXS5wdXNoKGFbb10pCgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl2YXIgciA9IG5baV0uc2l0ZV9uYW1lOwoJCQkJCQkJbnVsbCA9PSB0W3JdICYmICh0W3JdID0gW10pLCB0W3JdLnB1c2gobltpXSkKCQkJCQkJfQoJCQkJCXZhciBzID0gewoJCQkJCQlzdG9yZTogW10KCQkJCQl9OwoJCQkJCWZvciAodmFyIGwgaW4gdCkKCQkJCQkJaWYgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiB0W2xdWzBdLmZlZSkgewoJCQkJCQkJdmFyIGMgPSB7CgkJCQkJCQkJcHJvZHVjdDogdFtsXSwKCQkJCQkJCQlmZWU6IHRbbF1bMF0uZmVlCgkJCQkJCQl9OwoJCQkJCQkJcy5zdG9yZS5wdXNoKGMpCgkJCQkJCX0KCQkJCQlyZXR1cm4gcwoJCQkJfQoJCQkJdmFyIHMgPSBuKDYpLAoJCQkJCWwgPSB7fSwKCQkJCQljID0gbigxNiksCgkJCQkJZCA9IG4oODgpLAoJCQkJCXAgPSBuKDc2KSwKCQkJCQloID0gbig3NCksCgkJCQkJdSA9IHsKCQkJCQkJMjI4OiAiVVNEIiwKCQkJCQkJMjI5OiAiSlBZIiwKCQkJCQkJMjM4OiAiVVNEIiwKCQkJCQkJMjQ2OiAiRVVSIgoJCQkJCX0sCgkJCQkJbSA9IHsKCQkJCQkJMjI4OiAiJCIsCgkJCQkJCTIzODogIiQiLAoJCQkJCQkyMjk6ICLml6XlhYMiLAoJCQkJCQkyNDY6ICJFVVIiCgkJCQkJfSwKCQkJCQlmID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoIWUpIHJldHVybiBlOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIHQgPSBlLnNwbGl0KCIuIik7CgkJCQkJCQllID0gdFswXS5yZXBsYWNlKCIsIiwgIiIpLCBlID0gTnVtYmVyKGUpID4gOTk5OTkgPyB0WzBdIDogdFswXSArICIuIiArIHRbMV0KCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJcmV0dXJuIG4oMjYpKCJiMmNDb21wYXJlOmZpeGVkUHJpY2U6ZXJyb3IiKSwgZQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlnID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZS5wcmljZV9ybWIpIHJldHVybiBlOwoJCQkJCQl2YXIgdCA9IG4oNDApOwoJCQkJCQlpZiAoIWUuZHBfaWQpIHJldHVybiBlOwoJCQkJCQl2YXIgaSA9IGUuZHBfaWQuc3BsaXQoIi0iKVsxXSwKCQkJCQkJCWEgPSBpICYmIHVbaV07CgkJCQkJCWlmICghYSkgcmV0dXJuIGU7CgkJCQkJCXZhciBvID0gdChlLnByaWNlLCBhKSwKCQkJCQkJCXIgPSBmKGUucHJpY2UpOwoJCQkJCQlyZXR1cm4gIjIyOSIgPT0gaSA/IGUucHJpY2Vfcm1iID0gbyArICgiKCIgKyByICsgbVtpXSArICIpIikgOiBlLnByaWNlX3JtYiA9IG8gKyAoIigiICsgbVtpXSArIHIgKyAiKSIpLCBlLnByaWNlID0gbywgZQoJCQkJCX07CgkJCQlyZXR1cm4gbC5pbml0ID0gZnVuY3Rpb24obiwgbykgewoJCQkJCWlmICghKGEuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IGEuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpKQoJCQkJCQlpZiAoImJvdHRvbSIgPT0gbykgewoJCQkJCQkJaWYgKG4uYjJjICYmIG4uYjJjLm1pbl9wcmljZSkgaShuKSwgYS5zZXRQYWdlQXJncyhhLmV4dEJyYW5kICsgIi1jb21wYXJlIiwgYS5nZXRGaXhlZFNob3dQcm9kdWN0TnVtKCkpLCB0aGlzLnNldEJvdHRvbVZpZXdPZmZzZXQoKTsKCQkJCQkJCWVsc2UgaWYgKG4uYjJjX2Z1enp5KSB7CgkJCQkJCQkJdmFyIGwgPSB7fTsKCQkJCQkJCQlsLmIyYzIgPSByKG4uYjJjX2Z1enp5KSwgaShsKSwgYS5zZXRQYWdlQXJncyhhLmV4dEJyYW5kICsgIi1jb21wYXJlIiwgYS5nZXRGaXhlZFNob3dQcm9kdWN0TnVtKCkpLCB0aGlzLnNldEJvdHRvbVZpZXdPZmZzZXQoKSwgcygiLiIgKyBhLmV4dEJyYW5kICsgIi1iaSIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLWJpLWJnIikKCQkJCQkJCX0KCQkJCQkJCWEuY2lyY2xlTm90aWNlKG4ucXVhbiwgbi5wcm9tb3Rpb24pCgkJCQkJCX0gZWxzZSBuLmIyYyAmJiBuLmIyYy5taW5fcHJpY2UgPyBlKG4pIDogbi5iMmNfZnV6enkgJiYgdChuKQoJCQkJfSwgbC5zZXRCb3R0b21WaWV3T2Zmc2V0ID0gZnVuY3Rpb24oKSB7CgkJCQkJcygidWwuIiArIGEuZXh0QnJhbmQgKyAiLWl0ZW0tbGlzdCIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcyh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5lcSgwKTsKCQkJCQkJaWYgKCIxIiA9PSBlLmF0dHIoInBhZ2VzIikpIHsKCQkJCQkJCXZhciB0ID0gZS5vZmZzZXQoKS5sZWZ0LAoJCQkJCQkJCW4gPSBlLndpZHRoKCksCgkJCQkJCQkJaSA9IDIwMCAqIHBhcnNlSW50KGUuYXR0cigibGVuIikpLAoJCQkJCQkJCW8gPSB0IC0gKGkgLyAyIC0gbiAvIDIpOwoJCQkJCQkJMCA+IG8gJiYgKG8gPSAwKTsKCQkJCQkJCXZhciByID0gYS53aWR0aCAtIG87CgkJCQkJCQlhLklFNiA/IChvID0gbiAvIDIgLSBpIC8gMiwgMCA+IG8gKyB0ICYmIChvID0gLXQpLCBlLmNoaWxkcmVuKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikuY3NzKCJsZWZ0IiwgbyksIGUuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWZpeGVkIikuY3NzKCJsZWZ0IiwgMCkpIDogciA+IGkgPyAoZS5jaGlsZHJlbigiZGl2LiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIikuY3NzKCJsZWZ0IiwgbyksIGUuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWZpeGVkIikuY3NzKCJsZWZ0IiwgbykpIDogKGUuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSBpKSwgZS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCBhLndpZHRoIC0gaSkpCgkJCQkJCX0gZWxzZSBpZiAoYS5JRTYpIHsKCQkJCQkJCXZhciB0ID0gZS5vZmZzZXQoKS5sZWZ0LAoJCQkJCQkJCW8gPSAwIC0gdDsKCQkJCQkJCWUuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5jc3MoImxlZnQiLCBvKSwgZS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCAwKQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sIGwKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHROYW1lfX0tYjJjLWRwLWRldGFpbCIgY2xhc3M9InBhbmVsIGd3ZF9jb21wYXJlIj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtd3JhcCI+XG4gICAgPGRpdiBjbGFzcz0icGFnZXMiPlxuICAgICAg56ysJm5ic3A7XG4gICAgICA8c3BhbiBjbGFzcz0iY3VycmVudC1wYWdlIiBpZD0iYjJjLWN1cnJlbnQtcGFnZSI+MTwvc3Bhbj5cbiAgICAgICZuYnNwO+mhte+8jOWFsVxuICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtIiBpZD0iYjJjLXBhZ2UtbnVtIj40PC9zcGFuPlxuICAgICAgJm5ic3A76aG1XG4gICAgPC9kaXY+XG4gICAgPHVsIGNsYXNzPSJidXktbGlzdCI+XG4gICAgICA8bGk+PGI+5q2j5ZOB5ZWG5Z+O5Zyo5Y2W77yaPC9iPjwvbGk+XG4gICAgICB7e2VhY2ggZGF0YS5iMmMuc3RvcmUyfX1cbiAgICAgIDxsaT5cbiAgICAgICAgPGltZyBjbGFzcz0ic3RvcmUiIHNyYz0ie3skdmFsdWUuaWNvbl91cmx9fSI+XG4gICAgICAgIDxhIGhyZWY9Imh0dHA6Ly93d3cue3tleHROYW1lfX0uY29tL2Rwe3skdmFsdWUuZHBfaWR9fS93aGVyZV9idXkvP2Zyb209YnJvd3NlciN0YWJzIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9Imd3ZF90aXRsZSI+e3skdmFsdWUuc2l0ZV9uYW1lfX08L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgICAge3tpZiAkdmFsdWUubW9yZT4xfX1cbiAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy57e2V4dE5hbWV9fS5jb20vZHB7eyR2YWx1ZS5kcF9pZH19L3doZXJlX2J1eS8/ZnJvbT1icm93c2VyI3RhYnMiIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9yZSI+KHt7JHZhbHVlLm1vcmV9fSnmrL48L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgICAge3svaWZ9fVxuICAgICAgICB7e2lmICR2YWx1ZS5wcm9tbzJ9fVxuICAgICAgICAgIHt7ZWFjaCAkdmFsdWUucHJvbW8yIGFzIGl0ZW19fVxuICAgICAgICAgICAgPGEgY2xhc3M9InByb21vX2ljb24gcHJvbW9faWNvbl97e2l0ZW0udHlwZX19IiB0aXRsZT0ie3tpdGVtLmRlc2N9fSIgdXJsPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS9kcHt7JHZhbHVlLmRwX2lkfX0vd2hlcmVfYnV5Lz9mcm9tPWJyb3dzZXIjdGFicyI+PC9hPlxuICAgICAgICAgIHt7L2VhY2h9fVxuICAgICAgICB7ey9pZn19XG4gICAgICAgIDxhIGhyZWY9Imh0dHA6Ly93d3cue3tleHROYW1lfX0uY29tL2Rwe3skdmFsdWUuZHBfaWR9fS93aGVyZV9idXkvP2Zyb209YnJvd3NlciN0YWJzIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InByaWNlIj4meWVuOyB7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAge3svZWFjaH19XG4gICAgICA8bGkgY2xhc3M9InNlZS1hbGwtbGlzdCI+XG4gICAgICAgIDxhIGhyZWY9Imh0dHA6Ly93d3cue3tleHROYW1lfX0uY29tL2Rwe3tkYXRhLm5vdy5kcF9pZH19L3doZXJlX2J1eS8/ZnJvbT1icm93c2VyJmNyYzY0PTEmbT1iMmMjdGFicyJ0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InNob3ctYWxsIj7mn6XnnIvlhajpg6jllYblrrYoe3tsZW59fSk8L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgICA8ZGl2IGNsYXNzPSJsZWZ0LXBhZ2UgdHVybi1wYWdlIj5cbiAgICAgIDxhIGlkPSJiMmMtcHJldi1wYWdlIiB0YXJnZXQ9Il9zZWxmIiB0aXRsZT0i5LiK5LiA6aG1IiBocmVmPSJqYXZhc2NyaXB0OiIgY2xhc3M9Im5ld2ItYmciPjwvYT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJhbGwtcHJvZHVjdHMiIHN0eWxlPSJ3aWR0aDp7e3Byb2R1Y3RXfX1weCI+XG4gICAgICA8dWwgaWQ9ImIyYy1pdGVtLWxpc3QiPlxuICAgICAgICB7e2VhY2ggZGF0YS5iMmMucHJvZHVjdH19XG4gICAgICAgICAgPGxpIGlkPSJiMmMtcHJvZC1pdGVtLXt7JGluZGV4fX0iID5cbiAgICAgICAgICAgIDxhIGlkPSJpbWcte3skdmFsdWUuZHBfaWR9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ic21hbGwtaW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUuaW1nX3VybH19IiBpZD0iZHAtaW1hZ2Utc21hbGwte3skdmFsdWUuZHBfaWR9fSIgY2xhc3M9Imd3ZGFuZy1sYXp5Ij5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnd2QtcHJpY2UiPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImIyYy1wcmljZS1hIiAgaHJlZj0ie3skdmFsdWUudXJsfX0iPsKle3skdmFsdWUucHJpY2Vfcm1iID8gJHZhbHVlLnByaWNlX3JtYiA6ICR2YWx1ZS5wcmljZX19PC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIGhyZWY9Int7JHZhbHVlLnVybH19IiBjbGFzcz0ic3RvcmUtYSI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InN0b3JlIj57eyR2YWx1ZS5zaXRlX25hbWV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD0ie3skdmFsdWUuZHBfaWR9fV9wcm9tb3Rpb24iPnt7IyR2YWx1ZS5wcm9tb2RvbX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iICBjbGFzcz0iZmVlcy1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmVlcyI+e3skdmFsdWUucmV2X2NudCA/ICgi6K+E6K665pWwOiIgKyB2YWx1ZS5yZXZfY250KSA6ICR2YWx1ZS5mZWUgfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InRpdGxlLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuPnt7JHZhbHVlLnRpdGxlfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICB7ey9lYWNofX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icmlnaHQtcGFnZSB0dXJuLXBhZ2UiPlxuICAgICAgPGEgaWQ9ImIyYy1uZXh0LXBhZ2UiIHRpdGxlPSLkuIvkuIDpobUiIHRhcmdldD0iX3NlbGYiIGhyZWY9ImphdmFzY3JpcHQ6IiBjbGFzcz0ibmV3Yi1iZyI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuZ3dkX2NvbXBhcmUgLnR1cm4tcGFnZSB7XG4gICAgICB3aWR0aDoge3t3aWR0aH19cHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iZ3dkYW5nLWIyY19mdXp6eS1kcC1kZXRhaWwiIGNsYXNzPSJwYW5lbCBiMmNfZnV6enkiPlxuICA8ZGl2IGNsYXNzPSJwYW5lbC13cmFwIj5cbiAgICA8ZGl2IGNsYXNzPSJwYWdlcyI+XG4gICAgICDnrKwgXG4gICAgICA8c3BhbiBjbGFzcz0iY3VycmVudC1wYWdlIiBpZD0iYjJjX2Z1enp5LWN1cnJlbnQtcGFnZSI+PC9zcGFuPlxuICAgICAgIOmhte+8jOWFsSBcbiAgICAgICA8c3BhbiBjbGFzcz0icGFnZS1udW0iIGlkPSJiMmNfZnV6enktcGFnZS1udW0iPjwvc3Bhbj5cbiAgICAgICAg6aG1XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0ibGVmdC1wYWdlIHR1cm4tcGFnZSIgc3R5bGU9ImxlZnQ6MTBweDsiPlxuICAgICAgPGEgaWQ9ImIyY19mdXp6eS1wcmV2LXBhZ2UiIHRhcmdldD0iX3NlbGYiIHRpdGxlPSLkuIrkuIDpobUiIGNsYXNzPSJuZXdiLWJnIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImFsbC1wcm9kdWN0cyIgc3R5bGU9IndpZHRoOnt7cHJvZHVjdFd9fXB4Ij5cbiAgICAgIDx1bCBpZD0iYjJjX2Z1enp5LWl0ZW0tbGlzdCI+XG4gICAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgICA8bGkgaWQ9ImIyY19mdXp6eS1wcm9kLWl0ZW0te3skaW5kZXh9fSIgPlxuICAgICAgICAgICAgPGEgaWQ9ImltZy17eyR2YWx1ZS5kcF9pZH19IiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJzbWFsbC1pbWciIGhyZWY9Int7JHZhbHVlLnVybH19Ij5cbiAgICAgICAgICAgICAgPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS90ZW1wbGF0ZS9hdWcvaW1hZ2VzL25ldy8xMjAuZ2lmIiBkYXRhLW9yaWdpbmFsPSJ7eyR2YWx1ZS5pbWdfdXJsfX0iIGlkPSJmdXp6eS1pbWFnZS1zbWFsbC17eyR2YWx1ZS5kcF9pZH19IiBjbGFzcz0iZ3dkYW5nLWxhenkiPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imd3ZC1wcmljZSI+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iYjJjLXByaWNlLWEiICBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+wqV7eyR2YWx1ZS5wcmljZV9ybWIgPyAkdmFsdWUucHJpY2Vfcm1iIDogJHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJzdG9yZS1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3RvcmUiPnt7JHZhbHVlLnNpdGVfbmFtZX19PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ7eyR2YWx1ZS5kcF9pZH19X3Byb21vdGlvbiI+e3sjJHZhbHVlLnByb21vZG9tfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgIGNsYXNzPSJmZWVzLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmZWVzIj57eyR2YWx1ZS5yZXZfY250ID8gKCLor4TorrrmlbA6IiArIHZhbHVlLnJldl9jbnQpIDogJHZhbHVlLmZlZSB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIGhyZWY9Int7JHZhbHVlLnVybH19IiBjbGFzcz0idGl0bGUtYSI+XG4gICAgICAgICAgICAgICAgPHNwYW4+e3skdmFsdWUudGl0bGV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIHt7L2VhY2h9fVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJyaWdodC1wYWdlIHR1cm4tcGFnZSI+XG4gICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OiIgaWQ9ImIyY19mdXp6eS1uZXh0LXBhZ2UiIGNsYXNzPSJuZXdiLWJnIiB0aXRsZT0i5LiL5LiA6aG1Ij48L2E+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICNnd2RhbmctYjJjX2Z1enp5LWRwLWRldGFpbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgLmIyY19mdXp6eSAudHVybi1wYWdlIHtcbiAgICB3aWR0aDoge3t3aWR0aH19cHg7XG4gIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQllLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbmV3IEltYWdlOwoJCQkJZS5zcmMgPSB0LnNlcnZlciArICIvdmlzaXQvP3ZlcnNpb249IiArIHQudmVyc2lvbiArICImZnJvbV9kZXZpY2U9IiArIHQuZnJvbV9kZXZpY2UgKyAiJmFjdGlvbj10ZXN0X3RvbmdqaSZyZWZlcj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnJlZmVycmVyKSArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZikKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOSksCgkJCQlvID0gbigxNiksCgkJCQlyID0gbig5MiksCgkJCQlzID0gbigxNyksCgkJCQlsID0gdm9pZCAwLAoJCQkJYyA9IHZvaWQgMCwKCQkJCWQgPSB7fSwKCQkJCXAgPSAhMCwKCQkJCWggPSB7fSwKCQkJCXUgPSB7CgkJCQkJbGlhbmppYTogewoJCQkJCQlsaXN0OiAiLnNlbGxMaXN0Q29udGVudCBsaSIsCgkJCQkJCWhyZWZpdGVtOiAiLmluZm8gLnRpdGxlIGEiLAoJCQkJCQlpbnNlcnRkb206ICIuc2VsbExpc3RDb250ZW50IGxpIgoJCQkJCX0sCgkJCQkJbGlhbmppYTI6IHsKCQkJCQkJbGlzdDogIiNqcy1lcnNob3VmYW5nTGlzdCAubS1saXN0PnVsPmxpIiwKCQkJCQkJaHJlZml0ZW06ICIucHJvcC10aXRsZSBhIiwKCQkJCQkJaW5zZXJ0ZG9tOiAiI2pzLWVyc2hvdWZhbmdMaXN0IC5tLWxpc3Q+dWw+bGkiCgkJCQkJfSwKCQkJCQkiNWk1aiI6IHsKCQkJCQkJbGlzdDogIiNleGNoYW5nZUxpc3QgLmxpc3QtYm9keT5saSIsCgkJCQkJCWhyZWZpdGVtOiAiYSIsCgkJCQkJCWluc2VydGRvbTogIiNleGNoYW5nZUxpc3QgLmxpc3QtYm9keT5saSIKCQkJCQl9LAoJCQkJCWNlbnRhbmV0OiB7CgkJCQkJCWxpc3Q6ICIuc2VjdGlvbi1ob3VzZWxpc3RzIC5ob3VzZS1pdGVtIiwKCQkJCQkJaHJlZml0ZW06ICIuaG91c2UtdGl0bGUgYSIsCgkJCQkJCWluc2VydGRvbTogIi5zZWN0aW9uLWhvdXNlbGlzdHMgLmhvdXNlLWl0ZW0iCgkJCQkJfSwKCQkJCQljZW50YW5ldDI6IHsKCQkJCQkJbGlzdDogIi5yZXN1bHQtbGlzdHMgLmhvdXNlLW1haW4gLmhvdXNlLWl0ZW0iLAoJCQkJCQlocmVmaXRlbTogIi5ob3VzZS10aXRsZSBhIiwKCQkJCQkJaW5zZXJ0ZG9tOiAiLnJlc3VsdC1saXN0cyAuaG91c2UtbWFpbiAuaG91c2UtaXRlbSIKCQkJCQl9CgkJCQl9LAoJCQkJbSA9IHsKCQkJCQlsaWFuamlhOiAiLmNvbnRlbnQ+LnByaWNlIiwKCQkJCQlsaWFuamlhMjogIi5ob3VzZUluZm8iLAoJCQkJCSI1aTVqIjogIi5ob3VzZS1pbmZvPmxpOmZpcnN0LWNoaWxkIiwKCQkJCQljZW50YW5ldDogIiNzaWRlZml4ZWRib3ggLmluZm90b3AiLAoJCQkJCWNlbnRhbmV0MjogIi5yb29tYmFzZS1pbmZvciAucm9vbWJhc2UtcHJpY2UiCgkJCQl9LAoJCQkJZiA9IHsKCQkJCQlsaWFuamlhOiA0NDEsCgkJCQkJIjVpNWoiOiA0NDIsCgkJCQkJY2VudGFuZXQ6IDUxMQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IFMoKSwKCQkJCQkJbiA9IHZvaWQgMDsKCQkJCQlpZiAoMiA9PSBlKSB7CgkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZjsKCQkJCQkJc3dpdGNoICh0LnNpdGUpIHsKCQkJCQkJCWNhc2UgImxpYW5qaWEiOgoJCQkJCQkJCW4gPSBpLm1hdGNoKC9cLyhbYS16MC05QS1aXSspXC5odG1sLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICI1aTVqIjoKCQkJCQkJCQluID0gaS5tYXRjaCgvXC8oW2EtejAtOV0rKSg/OiR8XD8pLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICJjZW50YW5ldCI6CgkJCQkJCQkJbiA9IGkubWF0Y2goL1wvKFthLXowLTldKylcLmh0bWwvKVsxXQoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJdmFyIGEgPSBjOwoJCQkJCQlzd2l0Y2ggKHQuc2l0ZSkgewoJCQkJCQkJY2FzZSAibGlhbmppYSI6CgkJCQkJCQkJbiA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCXJldHVybiBlLm1hdGNoKC9cLyhbYS16MC05QS1aXSspXC5odG1sLylbMV0KCQkJCQkJCQl9KS5qb2luKCIsIik7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICI1aTVqIjoKCQkJCQkJCQluID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGUubWF0Y2goL1wvKFthLXowLTldKykoPzokfFw/KS8pWzFdCgkJCQkJCQkJfSkuam9pbigiLCIpOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAiY2VudGFuZXQiOgoJCQkJCQkJCW4gPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCQlyZXR1cm4gZS5tYXRjaCgvXC8oW2EtejAtOV0rKVwuaHRtbC8pWzFdCgkJCQkJCQkJfSkuam9pbigiLCIpCgkJCQkJCX0KCQkJCQl9CgkJCQkJcmV0dXJuIG4KCQkJCX0sCgkJCQlfID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBmW3Quc2l0ZV07CgkJCQkJaWYgKGUpIHsKCQkJCQkJdmFyIG4gPSBnKCksCgkJCQkJCQlvID0gdC51X2hvdXNlICsgIi9hcGkvaG91c2VfY29sbGVjdGlvbj9hYz1leGlzdCZzaXRlX2lkPSIgKyBlICsgIiZob3VzZV9jb2RlPSIgKyBuOwoJCQkJCQlhLmdldChvKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWlmIChlICYmIGUuZXhpc3QpCgkJCQkJCQkJZm9yICh2YXIgdCA9IGkoIi5odC1wcmljZS1yZW1pbmQiKSwgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7CgkJCQkJCQkJCXZhciBhID0gdC5lcShuKS5hdHRyKCJkYXRhLWlkIik7CgkJCQkJCQkJCWUuZXhpc3RbYV0gJiYgKHQuZXEobikuYWRkQ2xhc3MoImhhc3JlbWluZCIpLCB0LmVxKG4pLmZpbmQoInNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgdC5lcShuKS5hdHRyKCJkYXRhLWNvbGlkIiwgZS5leGlzdFthXSkpCgkJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmICghKGRbZV0gPj0gNCkpIHsKCQkJCQkJZFtlXSB8fCAoZFtlXSA9IDEpLCBkW2VdICsrOwoJCQkJCQl2YXIgaSA9IGZbdC5zaXRlXSwKCQkJCQkJCW8gPSB0LnVfaG91c2UgKyAiL2FwaS9ob3VzZV9jb2xsZWN0aW9uP2FjPWFkZCZzaXRlX2lkPSIgKyBpICsgIiZob3VzZV9jb2RlPSIgKyBlICsgIiZmcm9tX3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYpOwoJCQkJCQlhLmdldChvKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUgJiYgIuaUtuiXj+aIkOWKnyIgPT09IGUubXNnID8gbihlKSA6ICLor7flhYjnmbvlvZUiID09PSBlLm1zZyAmJiAobG9jYXRpb24uaHJlZiA9IGUubG9naW5VcmwpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGkgPSB0LnVfaG91c2UgKyAiL2FwaS9ob3VzZV9jb2xsZWN0aW9uP2FjPWRlbCZjb2xsZWN0aW9uX2lkPSIgKyBlOwoJCQkJCWEuZ2V0KGkpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQllICYmICLliKDpmaTmiJDlip8iID09PSBlLm1zZyAmJiBuKCkKCQkJCQl9KQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMCwKCQkJCQkJdCA9IHZvaWQgMDsKCQkJCQlpKCIuaHQtdHJlbmQtZGVzYywgI2JkZXh0X21pbmliYXIgLmJkZXh0LXRvcHRhYnMiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGkodGhpcykucGFyZW50KCkucGFyZW50KCkuaGFzQ2xhc3MoInRyZW5kLWJveC0xIik7CgkJCQkJCWlmICghZSkgewoJCQkJCQkJdmFyIHQgPSBpKHRoaXMpLnBhcmVudCgpLm5leHQoKS5maW5kKCIuaG91c2UtdHJlbmQtaW1nIiksCgkJCQkJCQkJbiA9IHQuYXR0cigiZGF0YS1zcmMiKSwKCQkJCQkJCQlhID0gdC5hdHRyKCJpZCIpOwoJCQkJCQkJMCA9PT0gdC5jaGlsZHJlbigpLmxlbmd0aCAmJiB5KG4sIGEpLCBpKHRoaXMpLmFkZENsYXNzKCJtc2hvdmVyIiksIGkodGhpcykucGFyZW50KCkubmV4dCgpLnNob3coKQoJCQkJCQl9CgkJCQkJfSksIGkoIi5odC10cmVuZC1kZXNjLCAjYmRleHRfbWluaWJhciAuYmRleHQtdG9wdGFicyIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0ID0gdGhpczsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKHQpLnBhcmVudCgpLm5leHQoKS5oaWRlKCksIGkodCkucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJCQl9LCAzMDApCgkJCQkJfSksIGkoIi5ob3VzZXQtZGV0YWlsIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpCgkJCQkJfSksIGkoIi5ob3VzZXQtZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSh0aGlzKS5oaWRlKCksIGkoIi5odC10cmVuZC1kZXNjLCAjYmRleHRfbWluaWJhciIpLnJlbW92ZUNsYXNzKCJtc2hvdmVyIik7CgkJCQkJfSksIGkoIi5odC1wcmljZS1yZW1pbmQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJdCA9IGkodGhpcykuZmluZCgic3BhbiIpLnRleHQoKSwKCQkJCQkJCW4gPSBpKHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCQkJaWYgKCLpmY3ku7fmj5DphpIiID09PSB0KSB4KG4sIGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWkoZSkuYWRkQ2xhc3MoImhhc3JlbWluZCIpLCBpKGUpLmZpbmQoInNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgaShlKS5hdHRyKCJkYXRhLWNvbGlkIiwgdC5jb2xsZWN0X2lkKQoJCQkJCQl9KTsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgYSA9IGkodGhpcykuYXR0cigiZGF0YS1jb2xpZCIpOwoJCQkJCQkJdyhhLCBmdW5jdGlvbigpIHsKCQkJCQkJCQlpKGUpLmF0dHIoImRhdGEtY29saWQiLCBudWxsKSwgaShlKS5yZW1vdmVDbGFzcygiaGFzcmVtaW5kIiksIGkoZSkuZmluZCgic3BhbiIpLnRleHQoIumZjeS7t+aPkOmGkiIpCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfSksIGkoIi5odC1wcmljZS1yZW1pbmQiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkwICE9IHMuZ2V0KCJzaG93X2xqZnFyY29kZSIpICYmIHAgJiYgaSh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCIuaHQtd3hxcmNvZGUiKS5zaG93KCkKCQkJCQl9KSwgaSgiLmh0LXByaWNlLXJlbWluZCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpczsKCQkJCQkJdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKGUpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5odC13eHFyY29kZSIpLmhpZGUoKQoJCQkJCQl9LCAxNTApCgkJCQkJfSksIGkoIi5odC13eHFyY29kZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dCh0KQoJCQkJCX0pLCBpKCIuaHQtd3hxcmNvZGUiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIuaHQtd3hxcmNvZGUiKS5oaWRlKCkKCQkJCQl9KSwgaSgiLmh0LXd4cXJjb2RlIC5odC13eC1zcDMiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiLmh0LXd4cXJjb2RlIikuaGlkZSgpLCBwID0gITEsIHIuc2V0dGluZ3MoInNldF9zaG93X2xqZnFyY29kZSIsICJzaG93X2xqZnFyY29kZSIsICIwIikKCQkJCQl9KSwgaSgiYm9keSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBpKGUudGFyZ2V0KSwKCQkJCQkJCW4gPSB0LnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5jb21tdW5pdHktcHJpY2UiKTsKCQkJCQkJdC5oYXNDbGFzcygiaG91c2UtdHJlbmQtYiIpID8gKG4uaGlkZSgpLCB0LnBhcmVudCgpLmZpbmQoInNwYW4iKS5yZW1vdmVDbGFzcygidHJlbmQtY2hvb3NlIiksIHQuYWRkQ2xhc3MoInRyZW5kLWNob29zZSIpKSA6IHQuaGFzQ2xhc3MoImNvbW11bml0eS10cmVuZC1iIikgJiYgKDAgPT09IG4uY2hpbGRyZW4oKS5sZW5ndGggPyBrKG4sIGZ1bmN0aW9uKCkgewoJCQkJCQkJdC5wYXJlbnQoKS5maW5kKCJzcGFuIikucmVtb3ZlQ2xhc3MoInRyZW5kLWNob29zZSIpLCB0LmFkZENsYXNzKCJ0cmVuZC1jaG9vc2UiKSwgbi5zaG93KCkKCQkJCQkJfSkgOiAodC5wYXJlbnQoKS5maW5kKCJzcGFuIikucmVtb3ZlQ2xhc3MoInRyZW5kLWNob29zZSIpLCB0LmFkZENsYXNzKCJ0cmVuZC1jaG9vc2UiKSwgbi5zaG93KCkpKQoJCQkJCX0pCgkJCQl9LAoJCQkJYiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IE51bWJlcihlLmhvdXNlX2FyZWEpIHx8IDA7CgkJCQkJaWYgKHQpIHsKCQkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLnByaWNlX2hpc3RvcnkubGVuZ3RoOyBuKyspIGUucHJpY2VfaGlzdG9yeVtuXVsxXSA9IE51bWJlcigoZS5wcmljZV9oaXN0b3J5W25dWzFdIC8gdCkudG9GaXhlZCgyKSk7CgkJCQkJCXJldHVybiBlCgkJCQkJfQoJCQkJfSwKCQkJCXkgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIGkgPSBlICsgIiZiYWNrX2Zvcm1hdD1yYXciOwoJCQkJCUMoaSwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgaSA9IHQucmVwbGFjZSgiaG91c2UtdHJlbmQtIiwgIiIpOwoJCQkJCQloW2ldID0gZSwgbig5MykoewoJCQkJCQkJZWw6IHQsCgkJCQkJCQltYWluVHJlbmQ6ICEwLAoJCQkJCQkJbXNnOiBlCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sCgkJCQlrID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBpID0gZS5hdHRyKCJkYXRhLXUiKSwKCQkJCQkJYSA9IGUuYXR0cigiaWQiKTsKCQkJCQlDKGksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIGkgPSBhLnJlcGxhY2UoImNvbW11bml0eS0iLCAiIik7CgkJCQkJCWlmIChoW2ldKSB7CgkJCQkJCQl2YXIgbyA9IGIoaFtpXSk7CgkJCQkJCQlvICYmIChlLnByaWNlX2hpc3RvcnkgPSBvLnByaWNlX2hpc3RvcnkpCgkJCQkJCX0KCQkJCQkJbig5MykoewoJCQkJCQkJZWw6IGEsCgkJCQkJCQltc2c6IGUKCQkJCQkJfSksIHQgJiYgdCgpCgkJCQkJfSkKCQkJCX0sCgkJCQl6ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBhID0gbig5NSk7CgkJCQkJImJhaWR1IiA9PT0gdC5mcm9tX2RldmljZSAmJiAoYSA9IG4oOTYpKTsKCQkJCQlmb3IgKHZhciByID0gdVtsXSwgcyA9IGkoci5saXN0KSwgYyA9IDA7IGMgPCBzLmxlbmd0aDsgYysrKSB7CgkJCQkJCXZhciBkID0gcy5lcShjKS5maW5kKHIuaHJlZml0ZW0pLAoJCQkJCQkJcCA9IGQuYXR0cigiaHJlZiIpOyAtIDEgPT09IHAuaW5kZXhPZigiaHR0cCIpICYmIChwID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArIHApOwoJCQkJCQl2YXIgaCA9IHZvaWQgMDsKCQkJCQkJc3dpdGNoICh0LnNpdGUpIHsKCQkJCQkJCWNhc2UgImxpYW5qaWEiOgoJCQkJCQkJCWggPSBwLm1hdGNoKC9cLyhbYS16MC05QS1aXSspXC5odG1sLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICI1aTVqIjoKCQkJCQkJCQloID0gcC5tYXRjaCgvXC8oW2EtejAtOV0rKSg/OiR8XD8pLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICJjZW50YW5ldCI6CgkJCQkJCQkJaCA9IHAubWF0Y2goL1wvKFthLXowLTldKylcLmh0bWwvKVsxXQoJCQkJCQl9CgkJCQkJCXAgPSBlbmNvZGVVUklDb21wb25lbnQocCksIGUuZGF0YVtwXSAmJiBzLmVxKGMpLmFwcGVuZChvLmNvbXBpbGUoYSkoewoJCQkJCQkJZGF0YTogZS5kYXRhW3BdLAoJCQkJCQkJc2VydmVyOiB0LnNlcnZlciwKCQkJCQkJCXNfc2VydmVyOiB0LnNfc2VydmVyLAoJCQkJCQkJaG91c2Vjb2RlOiBoCgkJCQkJCX0pKQoJCQkJCX0KCQkJCQlzZXRUaW1lb3V0KF8sIDUwMCksIHYoKQoJCQkJfSwKCQkJCUIgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIGEgPSBnKCksCgkJCQkJCXIgPSBtW2xdLAoJCQkJCQlzID0gbig5NSk7CgkJCQkJImJhaWR1IiA9PT0gdC5mcm9tX2RldmljZSAmJiAocyA9IG4oOTYpKTsKCQkJCQl2YXIgYyA9IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKTsKCQkJCQlpKHIpLmFmdGVyKG8uY29tcGlsZShzKSh7CgkJCQkJCWRhdGE6IGUuZGF0YVtjXSwKCQkJCQkJc2VydmVyOiB0LnNlcnZlciwKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCXBhZ2V0eXBlOiAiZHBwYWdlIiwKCQkJCQkJaG91c2Vjb2RlOiBhCgkJCQkJfSkpLCB2KCksIHNldFRpbWVvdXQoXywgNTAwKQoJCQkJfSwKCQkJCWogPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB1W2xdLAoJCQkJCQluID0gdC5saXN0ICsgIiAiICsgdC5ocmVmaXRlbSwKCQkJCQkJYSA9IGxvY2F0aW9uLmhvc3Q7CgkJCQkJaWYgKGEuaW5kZXhPZigibGlhbmppYSIpID4gLTEgJiYgMiA9PT0gZSkgcmV0dXJuIGxvY2F0aW9uLmhyZWY7CgkJCQkJaWYgKGEuaW5kZXhPZigibGlhbmppYSIpID4gLTEpIHsKCQkJCQkJdmFyIG8gPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoaShuKSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBpKGUpLmF0dHIoImhyZWYiKTsKCQkJCQkJCXJldHVybiAodC5pbmRleE9mKCJodHRwIikgPiAtMSA/ICIiIDogImh0dHA6Ly8iICsgbG9jYXRpb24uaG9zdCkgKyB0CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYyA9IG8sIG8uam9pbigifHwiKQoJCQkJCX0KCQkJCQlpZiAoYS5pbmRleE9mKCI1aTVqIikgPiAtMSAmJiAyID09PSBlKSByZXR1cm4gbG9jYXRpb24uaHJlZjsKCQkJCQlpZiAoYS5pbmRleE9mKCI1aTVqIikgPiAtMSkgewoJCQkJCQl2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChpKCIjZXhjaGFuZ2VMaXN0IC5saXN0LWJvZHk+bGk+YSIpLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArIGkoZSkuYXR0cigiaHJlZiIpCgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYyA9IG8sIG8uam9pbigifHwiKQoJCQkJCX0KCQkJCQlpZiAoYS5pbmRleE9mKCJjZW50YW5ldCIpID4gLTEgJiYgMiA9PT0gZSkgcmV0dXJuIGxvY2F0aW9uLmhyZWY7CgkJCQkJaWYgKGEuaW5kZXhPZigiY2VudGFuZXQiKSA+IC0xKSB7CgkJCQkJCXZhciBvID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGkobiksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgaShlKS5hdHRyKCJocmVmIikKCQkJCQkJfSk7CgkJCQkJCXJldHVybiBjID0gbywgby5qb2luKCJ8fCIpCgkJCQkJfQoJCQkJfSwKCQkJCUMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJYS5nZXQoZSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXQoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCVMgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGxvY2F0aW9uLmhyZWYsCgkJCQkJCXQgPSAwLAoJCQkJCQluID0gbDsKCQkJCQlzd2l0Y2ggKG4pIHsKCQkJCQkJY2FzZSAibGlhbmppYSI6CgkJCQkJCQl0ID0gZS5tYXRjaCgvXGQrXC5odG1sLykgJiYgaSgiI3RvcEltZyIpLmxlbmd0aCA+IDAgPyAyIDogMTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJsaWFuamlhMiI6CgkJCQkJCQl0ID0gZS5tYXRjaCgvXGQrXC5odG1sLykgJiYgaSgiI2FsYnVtQmlnIikubGVuZ3RoID4gMCA/IDIgOiAxOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgIjVpNWoiOgoJCQkJCQkJZS5tYXRjaCgvZXhjaGFuZ2VcL1xkKyg/OiR8XD8pLykgJiYgaSgiLmJpZ0ltZyIpLmxlbmd0aCA+IDAgPyB0ID0gMiA6IGUubWF0Y2goL2V4Y2hhbmdlLykgJiYgKHQgPSAxKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJjZW50YW5ldCI6CgkJCQkJCQllLm1hdGNoKC9lcnNob3VmYW5nXC9bYS16MC05XStcLmh0bWwvKSAmJiBpKCIjcGljQm94IikubGVuZ3RoID4gMCA/IHQgPSAyIDogZS5tYXRjaCgvZXJzaG91ZmFuZy8pICYmICh0ID0gMSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiY2VudGFuZXQyIjoKCQkJCQkJCWUubWF0Y2goL2Vyc2hvdWZhbmdcL1thLXowLTldK1wuaHRtbC8pID8gdCA9IDIgOiBlLm1hdGNoKC9lcnNob3VmYW5nLykgJiYgKHQgPSAxKQoJCQkJCX0KCQkJCQlyZXR1cm4gdAoJCQkJfSwKCQkJCU4gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IG4oOTcpOwoJCQkJCWkoImJvZHkiKS5hcHBlbmQoby5jb21waWxlKGUpKHsKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCWV4dEJyYW5kOiB0LmV4dEJyYW5kCgkJCQkJfSkpLCBpKCJib2R5IikuYWRkQ2xhc3MoImhvdXNlXyIgKyBsKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmIChsID0gdC5zaXRlLCAibGlhbmppYSIgPT0gbCB8fCAiNWk1aiIgPT0gbCB8fCAiY2VudGFuZXQiID09IGwpIHsKCQkJCQkoInNoLmxpYW5qaWEuY29tIiA9PT0gbG9jYXRpb24uaG9zdCB8fCAic3UubGlhbmppYS5jb20iID09PSBsb2NhdGlvbi5ob3N0KSAmJiAobCA9ICJsaWFuamlhMiIpLCAic2guY2VudGFuZXQuY29tIiA9PT0gbG9jYXRpb24uaG9zdCAmJiAobCA9ICJjZW50YW5ldDIiKTsKCQkJCQl2YXIgZSA9IFMoKSwKCQkJCQkJbiA9IGooZSksCgkJCQkJCWkgPSB0LnNlcnZlciArICIvZXh0ZW5zaW9uL2hvdXNlVGlwP3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCTIgPT09IGUgPyBDKGksIEIpIDogQyhpLCB6KSwgTigpCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZShlLCB0LCBuLCBpKSB7CgkJCQkJZnVuY3Rpb24gYSgpIHsKCQkJCQkJbyA+PSBuIHx8IChlKCkgPyB0KCkgOiAobysrLCBzZXRUaW1lb3V0KGEsIGkpKSkKCQkJCQl9CgkJCQkJdmFyIG8gPSAwOwoJCQkJCWEoKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQoZSkgewoJCQkJCXZhciB0ID0gZSwKCQkJCQkJaSA9IG4oOSk7CgkJCQkJaS5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQ/dmVyc2lvbj0yJm9wPXNldF9wX2ZvbGQmcF9mb2xkPSIgKyB0KS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJYS5wX2ZvbGQgPSB0CgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQlyZXR1cm4gby5leHRlbmQoITAsIHt9LCBlKQoJCQkJfQoJCQkJdmFyIHIgPSBmdW5jdGlvbihlLCB0LCBpKSB7CgkJCQkJdmFyIG8gPSBuKDkpOwoJCQkJCW8uZ2V0KGEuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkPyIgKyAoInZlcnNpb249MiZvcD0iICsgZSArICImIiArIHQgKyAiPSIgKyBpKSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCWFbdF0gPSBpCgkJCQkJfSkKCQkJCX07CgkJCQlyZXR1cm4gewoJCQkJCW1haW5iYXJmb2xkOiB0LAoJCQkJCXNldHRpbmdzOiByLAoJCQkJCXJldHJ5OiBlLAoJCQkJCWRlZXBDb3B5OiBpCgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IG5ldyBEYXRlKGUgLSAyODhlNSksCgkJCQkJCWkgPSBuLmdldEZ1bGxZZWFyKCk7CgkJCQkJKHQuSUU3IHx8IHQuSUU4KSAmJiAoaSA9IG4uZ2V0RnVsbFllYXIoKSk7CgkJCQkJdmFyIGEgPSBuLmdldE1vbnRoKCkgKyAxLAoJCQkJCQlvID0gbi5nZXREYXRlKCk7CgkJCQkJMTAgPiBhICYmIChhID0gIjAiICsgYSksIDEwID4gbyAmJiAobyA9ICIwIiArIG8pOwoJCQkJCXZhciByID0gaSArICIvIiArIGEgKyAiLyIgKyBvOwoJCQkJCXJldHVybiByCgkJCQl9LAoJCQkJYSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgZS5sZW5ndGggLSAxOyBuKyspIHsKCQkJCQkJdC5wdXNoKGVbbl0pOwoJCQkJCQl2YXIgaSA9IHBhcnNlSW50KChlW24gKyAxXVswXSAtIGVbbl1bMF0pIC8gODY0ZTUpOwoJCQkJCQlpZiAoaSA+PSAyKQoJCQkJCQkJZm9yICh2YXIgYSA9IDE7IGkgPiBhOyBhKyspIHQucHVzaChbZVtuXVswXSArIDg2NGU1ICogYSwgZVtuXVsxXV0pCgkJCQkJfQoJCQkJCXJldHVybiB0LnB1c2goZVtlLmxlbmd0aCAtIDFdKSwgdAoJCQkJfTsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQkJdHJ5IHsKCQkJCQl2YXIgdCA9IHsKCQkJCQkJY2hhcnQ6IHsKCQkJCQkJCXJlbmRlclRvOiBlLmVsLAoJCQkJCQkJdHlwZTogImxpbmUiLAoJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQltYXJnaW5MZWZ0OiAiNHB4IiwKCQkJCQkJCQlwYWRkaW5nTGVmdDogIjBweCIsCgkJCQkJCQkJbWFyZ2luVG9wOiAiMCIsCgkJCQkJCQkJcGFkZGluZ1RvcDogIjBweCIsCgkJCQkJCQkJbWFyZ2luQm90dG9tOiAiMHB4IiwKCQkJCQkJCQlwYWRkaW5nQm90dG9tOiAiMHB4IgoJCQkJCQkJfSwKCQkJCQkJCWV2ZW50czogewoJCQkJCQkJCWxvYWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQltYXg6IHRoaXMueEF4aXNbMF0ubWF4ICsgODY0ZTYKCQkJCQkJCQkJfSkKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCWNyZWRpdHM6IHsKCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCX0sCgkJCQkJCWNvbG9yczogWyIjZDE1MGYwIiwgIiNmMGI1MDciLCAiIzNlYmRmNyJdLAoJCQkJCQl0aXRsZTogewoJCQkJCQkJdGV4dDogZS50aXRsZSB8fCAiIiwKCQkJCQkJCXg6IC0yMCwKCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJY29sb3I6ICIjMmY3ZWQ4IgoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl4QXhpczogewoJCQkJCQkJdHlwZTogImRhdGV0aW1lIiwKCQkJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CgkJCQkJCQkJZGF5OiAiJVkvJW0iLAoJCQkJCQkJCXdlZWs6ICIlWS8lbSIsCgkJCQkJCQkJbW9udGg6ICIlWS8lbSIKCQkJCQkJCX0sCgkJCQkJCQltaW5UaWNrSW50ZXJ2YWw6IDI1OTJlNiwKCQkJCQkJCXBsb3RMaW5lczogW3sKCQkJCQkJCQljb2xvcjogInJlZCIsCgkJCQkJCQkJZGFzaFN0eWxlOiAibG9uZ2Rhc2hkb3QiLAoJCQkJCQkJCXZhbHVlOiAzLAoJCQkJCQkJCXdpZHRoOiAyCgkJCQkJCQl9XSwKCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJcm90YXRpb246IC0yNSwKCQkJCQkJCQl5OiAzMCwKCQkJCQkJCQlzdHlsZTogewoJCQkJCQkJCQlmb250U2l6ZTogIjEycHgiLAoJCQkJCQkJCQlmb250RmFtaWx5OiAiQXJpYWwiLAoJCQkJCQkJCQljb2xvcjogIiMzMjMzMzMiCgkJCQkJCQkJfSwKCQkJCQkJCQlhbGlnbjogImNlbnRlciIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeUF4aXM6IHsKCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJdGV4dDogIiIsCgkJCQkJCQkJcm90YXRpb246IDAsCgkJCQkJCQkJYWxpZ246ICJoaWdoIiwKCQkJCQkJCQl5OiAtMTYsCgkJCQkJCQkJeDogLTEyLAoJCQkJCQkJCW9mZnNldDogLTU1LAoJCQkJCQkJCW1hcmdpbjogMCwKCQkJCQkJCQlzdHlsZTogewoJCQkJCQkJCQljb2xvcjogIiM1ODU4NTgiCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXBsb3RMaW5lczogW3sKCQkJCQkJCQl2YWx1ZTogMCwKCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQljb2xvcjogIiM4MDgwODAiCgkJCQkJCQl9XSwKCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjYzBkMGUwIiwKCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJdGlja1BpeGVsSW50ZXJ2YWw6IDUwCgkJCQkJCX0sCgkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCXhEYXRlRm9ybWF0OiAiJVktJW0tJWQiLAoJCQkJCQkJc2hhcmVkOiAhMCwKCQkJCQkJCXZhbHVlRGVjaW1hbHM6IDIsCgkJCQkJCQl2YWx1ZVByZWZpeDogIiIsCgkJCQkJCQl1c2VIVE1MOiAhMCwKCQkJCQkJCXZhbHVlU3VmZml4OiAiIOS4hyIsCgkJCQkJCQlib3JkZXJDb2xvcjogIm5vbmUiLAoJCQkJCQkJcGFkZGluZzogMjAsCgkJCQkJCQlmb3JtYXR0ZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCWZvciAodmFyIGUgPSBpKHRoaXMueCksIHQgPSAnPHRhYmxlIHN0eWxlPSJtYXJnaW4tbGVmdDoxMnB4Ij48dHI+PHRkIHdpZHRoPSIxMDAlIiBjb2xzcGFuPSI4IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyO2ZvbnQtd2VpZ2h0OiBib2xkO2ZvbnQtZmFtaWx5OiBBcmlhbDtmb250LXNpemU6MTRweCI+JyArIGUgKyAiPC90ZD48L3RkPjwvdHI+IiwgbiA9IDA7IG4gPCB0aGlzLnBvaW50cy5sZW5ndGg7IG4rKykgewoJCQkJCQkJCQl2YXIgYSA9IHBhcnNlRmxvYXQoTnVtYmVyKHRoaXMucG9pbnRzW25dLnkpLnRvRml4ZWQoMikpICsgIuS4hyI7CgkJCQkJCQkJCXQgKz0gJzx0cj48dGQgc3R5bGU9IndpZHRoOiA4MHB4OyB0ZXh0LWFsaWduOiBsZWZ0Ij48c3BhbiBzdHlsZT0iY29sb3I6ICcgKyB0aGlzLnBvaW50c1tuXS5wb2ludC5zZXJpZXMuY29sb3IgKyAnO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OmFyaWFsO2Zsb2F0Om5vbmU7bWFyZ2luLXJpZ2h0OjVweDsiPuKXjzwvc3Bhbj4nICsgdGhpcy5wb2ludHNbbl0ucG9pbnQuc2VyaWVzLm5hbWUgKyAnPC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmctbGVmdDo0cHg7Ij4nICsgYSArICI8L3RkPjwvdHI+IgoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gdCArPSAiPC90YWJsZT4iCgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCXBsb3RPcHRpb25zOiB7CgkJCQkJCQlzZXJpZXM6IHsKCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJcmFkaXVzOiAxLAoJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQkJcmFkaXVzOiAyCgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCWxpbmVXaWR0aDogMS41LAoJCQkJCQkJCXNoYWRvdzogITEsCgkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQlsaW5lV2lkdGg6IDEKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJbGVnZW5kOiB7CgkJCQkJCQllbmFibGVkOiAhMCwKCQkJCQkJCWJvcmRlcldpZHRoOiAwLAoJCQkJCQkJdmVydGljYWxBbGlnbjogInRvcCIsCgkJCQkJCQl4OiAyMjgsCgkJCQkJCQl5OiAtOCwKCQkJCQkJCWl0ZW1TdHlsZTogewoJCQkJCQkJCWNvbG9yOiAiIzU4NTg1OCIsCgkJCQkJCQkJZm9udFdlaWdodDogIm5vcm1hbCIsCgkJCQkJCQkJZm9udFNpemU6ICIxNHB4IiwKCQkJCQkJCQltYXJnaW5Cb3R0b206ICIwcHgiCgkJCQkJCQl9LAoJCQkJCQkJc3ltYm9sV2lkdGg6IDEyLAoJCQkJCQkJc3ltYm9sSGVpZ2h0OiAzLAoJCQkJCQkJaXRlbU1hcmdpbkJvdHRvbTogMCwKCQkJCQkJCWl0ZW1NYXJnaW5Ub3A6IDAsCgkJCQkJCQltYXJnaW46IDEyCgkJCQkJCX0sCgkJCQkJCXNlcmllczogW10KCQkJCQl9OwoJCQkJCXQudGl0bGUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCQkJCQl2YXIgbyA9IGUubXNnOwoJCQkJCWlmIChlLm1haW5UcmVuZCkgdC5zZXJpZXNbMF0gPSB7CgkJCQkJCXZpc2libGU6ICEwLAoJCQkJCQluYW1lOiAi5oi/5rqQ5Lu35qC86LWw5Yq/IiwKCQkJCQkJbWFya2VyOiB7CgkJCQkJCQlzeW1ib2w6ICJjaXJjbGUiCgkJCQkJCX0sCgkJCQkJCWRhdGE6IFtdCgkJCQkJfSwgdC5zZXJpZXNbMF0uZGF0YSA9IG8ucHJpY2VfaGlzdG9yeSwgdC5zZXJpZXNbMF0uZGF0YSA9IGEodC5zZXJpZXNbMF0uZGF0YSksIHQuY29sb3JzID0gWyIjM2ViZGY3Il0sIHQubGVnZW5kLmVuYWJsZWQgPSAhMTsKCQkJCQllbHNlIHsKCQkJCQkJdmFyIHIgPSAwLAoJCQkJCQkJcyA9IDAsCgkJCQkJCQlsID0gMCwKCQkJCQkJCWMgPSBbXTsKCQkJCQkJaWYgKG8ub25zYWxlLmxlbmd0aCA+IDEpIHsKCQkJCQkJCXQuc2VyaWVzW3JdID0gewoJCQkJCQkJCXZpc2libGU6ICEwLAoJCQkJCQkJCW5hbWU6ICLmjILniYzljZXku7ciLAoJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQlzeW1ib2w6ICJjaXJjbGUiCgkJCQkJCQkJfSwKCQkJCQkJCQlkYXRhOiBbXQoJCQkJCQkJfSwgcysrLCBsKyssIGMucHVzaCgiI2QxNTBmMCIpLCB0LmxlZ2VuZC54ID0gdC5sZWdlbmQueCAtIDQ4OwoJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGQgPCBlLm1zZy5vbnNhbGUubGVuZ3RoOyBkKyspIHsKCQkJCQkJCQl2YXIgcCA9IG5ldyBBcnJheSgyKTsKCQkJCQkJCQlwWzBdID0gMWUzICogZS5tc2cub25zYWxlW2RdWzBdLCBwWzFdID0gTWF0aC5yb3VuZCgxMDAgKiBlLm1zZy5vbnNhbGVbZF1bMV0pIC8gMTAwLCB0LnNlcmllc1tyXS5kYXRhLnB1c2gocCkKCQkJCQkJCX0KCQkJCQkJCXQuc2VyaWVzW3JdLmRhdGEgPSBhKHQuc2VyaWVzW3JdLmRhdGEpCgkJCQkJCX0KCQkJCQkJaWYgKG8uZGVhbHQubGVuZ3RoID4gMSkgewoJCQkJCQkJdC5zZXJpZXNbc10gPSB7CgkJCQkJCQkJdmlzaWJsZTogITAsCgkJCQkJCQkJbmFtZTogIuaIkOS6pOWNleS7tyIsCgkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCXN5bWJvbDogImNpcmNsZSIKCQkJCQkJCQl9LAoJCQkJCQkJCWRhdGE6IFtdCgkJCQkJCQl9LCBsKyssIGMucHVzaCgiI2YwYjUwNyIpLCB0LmxlZ2VuZC54ID0gdC5sZWdlbmQueCAtIDQ4OwoJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGQgPCBlLm1zZy5kZWFsdC5sZW5ndGg7IGQrKykgewoJCQkJCQkJCXZhciBwID0gbmV3IEFycmF5KDIpOwoJCQkJCQkJCXBbMF0gPSAxZTMgKiBlLm1zZy5kZWFsdFtkXVswXSwgcFsxXSA9IE1hdGgucm91bmQoMTAwICogZS5tc2cuZGVhbHRbZF1bMV0pIC8gMTAwLCB0LnNlcmllc1tzXS5kYXRhLnB1c2gocCkKCQkJCQkJCX0KCQkJCQkJCXQuc2VyaWVzW3NdLmRhdGEgPSBhKHQuc2VyaWVzW3NdLmRhdGEpCgkJCQkJCX0KCQkJCQkJby5wcmljZV9oaXN0b3J5Lmxlbmd0aCA+IDEgJiYgKHQuc2VyaWVzW2xdID0gewoJCQkJCQkJdmlzaWJsZTogITAsCgkJCQkJCQluYW1lOiAi5oi/5rqQ5Y2V5Lu3IiwKCQkJCQkJCWRhdGE6IFtdCgkJCQkJCX0sIGMucHVzaCgiIzNlYmRmNyIpLCB0LmxlZ2VuZC54ID0gdC5sZWdlbmQueCAtIDQ4LCB0LnNlcmllc1tsXS5kYXRhID0gYShlLm1zZy5wcmljZV9oaXN0b3J5KSksIHQueUF4aXMudGl0bGUudGV4dCA9ICLljZXkvY0o5LiHKSIsIHQuY29sb3JzID0gYwoJCQkJCX0KCQkJCQluZXcgbi5DaGFydCh0KQoJCQkJfSBjYXRjaCAoaCkge30KCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig5NCkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCSEgZnVuY3Rpb24oKSB7CgkJCWZ1bmN0aW9uIGEoZSwgdCkgewoJCQkJdmFyIG47CgkJCQllIHx8IChlID0ge30pOwoJCQkJZm9yIChuIGluIHQpIGVbbl0gPSB0W25dOwoJCQkJcmV0dXJuIGUKCQkJfQoKCQkJZnVuY3Rpb24gbygpIHsKCQkJCXZhciBlLCB0LCBuID0gYXJndW1lbnRzLAoJCQkJCWkgPSB7fSwKCQkJCQlhID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQl2YXIgbiwgaTsKCQkJCQkJIm9iamVjdCIgIT0gdHlwZW9mIGUgJiYgKGUgPSB7fSk7CgkJCQkJCWZvciAoaSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGkpICYmIChuID0gdFtpXSwgbiAmJiAib2JqZWN0IiA9PSB0eXBlb2YgbiAmJiAiW29iamVjdCBBcnJheV0iICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikgJiYgInJlbmRlclRvIiAhPT0gaSAmJiAibnVtYmVyIiAhPSB0eXBlb2Ygbi5ub2RlVHlwZSA/IGVbaV0gPSBhKGVbaV0gfHwge30sIG4pIDogZVtpXSA9IHRbaV0pOwoJCQkJCQlyZXR1cm4gZQoJCQkJCX07CgkJCQlmb3IgKG5bMF0gPT09ICEwICYmIChpID0gblsxXSwgbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4sIDIpKSwgdCA9IG4ubGVuZ3RoLCBlID0gMDsgdCA+IGU7IGUrKykgaSA9IGEoaSwgbltlXSk7CgkJCQlyZXR1cm4gaQoJCQl9CgoJCQlmdW5jdGlvbiByKGUsIHQpIHsKCQkJCXJldHVybiBwYXJzZUludChlLCB0IHx8IDEwKQoJCQl9CgoJCQlmdW5jdGlvbiBzKGUpIHsKCQkJCXJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZQoJCQl9CgoJCQlmdW5jdGlvbiBsKGUpIHsKCQkJCXJldHVybiBlICYmICJvYmplY3QiID09IHR5cGVvZiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGMoZSkgewoJCQkJcmV0dXJuICJbb2JqZWN0IEFycmF5XSIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKQoJCQl9CgoJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCXJldHVybiAibnVtYmVyIiA9PSB0eXBlb2YgZQoJCQl9CgoJCQlmdW5jdGlvbiBwKGUpIHsKCQkJCXJldHVybiBfZS5sb2coZSkgLyBfZS5MTjEwCgkJCX0KCgkJCWZ1bmN0aW9uIGgoZSkgewoJCQkJcmV0dXJuIF9lLnBvdygxMCwgZSkKCQkJfQoKCQkJZnVuY3Rpb24gdShlLCB0KSB7CgkJCQlmb3IgKHZhciBuID0gZS5sZW5ndGg7IG4tLTspCgkJCQkJaWYgKGVbbl0gPT09IHQpIHsKCQkJCQkJZS5zcGxpY2UobiwgMSk7CgkJCQkJCWJyZWFrCgkJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBtKGUpIHsKCQkJCXJldHVybiBlICE9PSBXICYmIG51bGwgIT09IGUKCQkJfQoKCQkJZnVuY3Rpb24gZihlLCB0LCBuKSB7CgkJCQl2YXIgaSwgYTsKCQkJCWlmIChzKHQpKSBtKG4pID8gZS5zZXRBdHRyaWJ1dGUodCwgbikgOiBlICYmIGUuZ2V0QXR0cmlidXRlICYmIChhID0gZS5nZXRBdHRyaWJ1dGUodCkpOwoJCQkJZWxzZSBpZiAobSh0KSAmJiBsKHQpKQoJCQkJCWZvciAoaSBpbiB0KSBlLnNldEF0dHJpYnV0ZShpLCB0W2ldKTsKCQkJCXJldHVybiBhCgkJCX0KCgkJCWZ1bmN0aW9uIGcoZSkgewoJCQkJcmV0dXJuIGMoZSkgPyBlIDogW2VdCgkJCX0KCgkJCWZ1bmN0aW9uIF8oKSB7CgkJCQl2YXIgZSwgdCwgbiA9IGFyZ3VtZW50cywKCQkJCQlpID0gbi5sZW5ndGg7CgkJCQlmb3IgKGUgPSAwOyBpID4gZTsgZSsrKQoJCQkJCWlmICh0ID0gbltlXSwgdCAhPT0gVyAmJiBudWxsICE9PSB0KSByZXR1cm4gdAoJCQl9CgoJCQlmdW5jdGlvbiB4KGUsIHQpIHsKCQkJCVRlICYmICFPZSAmJiB0ICYmIHQub3BhY2l0eSAhPT0gVyAmJiAodC5maWx0ZXIgPSAiYWxwaGEob3BhY2l0eT0iICsgMTAwICogdC5vcGFjaXR5ICsgIikiKSwgYShlLnN0eWxlLCB0KQoJCQl9CgoJCQlmdW5jdGlvbiB3KGUsIHQsIG4sIGksIG8pIHsKCQkJCXZhciByID0gZmUuY3JlYXRlRWxlbWVudChlKTsKCQkJCXJldHVybiB0ICYmIGEociwgdCksIG8gJiYgeChyLCB7CgkJCQkJcGFkZGluZzogMCwKCQkJCQlib3JkZXI6IFFlLAoJCQkJCW1hcmdpbjogMAoJCQkJfSksIG4gJiYgeChyLCBuKSwgaSAmJiBpLmFwcGVuZENoaWxkKHIpLCByCgkJCX0KCgkJCWZ1bmN0aW9uIHYoZSwgdCkgewoJCQkJdmFyIG4gPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gVwoJCQkJfTsKCQkJCXJldHVybiBuLnByb3RvdHlwZSA9IG5ldyBlLCBhKG4ucHJvdG90eXBlLCB0KSwgbgoJCQl9CgoJCQlmdW5jdGlvbiBiKGUsIHQsIG4sIGkpIHsKCQkJCXZhciBhID0gbHQubnVtYmVyRm9ybWF0LAoJCQkJCW8gPSBHLmxhbmcsCgkJCQkJcyA9ICtlIHx8IDAsCgkJCQkJbCA9IC0xID09PSB0ID8gKHMudG9TdHJpbmcoKS5zcGxpdCgiLiIpWzFdIHx8ICIiKS5sZW5ndGggOiBpc05hTih0ID0ga2UodCkpID8gMiA6IHQsCgkJCQkJYyA9IHZvaWQgMCA9PT0gbiA/IG8uZGVjaW1hbFBvaW50IDogbiwKCQkJCQlkID0gdm9pZCAwID09PSBpID8gby50aG91c2FuZHNTZXAgOiBpLAoJCQkJCXAgPSAwID4gcyA/ICItIiA6ICIiLAoJCQkJCWggPSBTdHJpbmcocihzID0ga2UocykudG9GaXhlZChsKSkpLAoJCQkJCXUgPSBoLmxlbmd0aCA+IDMgPyBoLmxlbmd0aCAlIDMgOiAwOwoJCQkJcmV0dXJuIGEgIT09IGIgPyBhKGUsIHQsIG4sIGkpIDogcCArICh1ID8gaC5zdWJzdHIoMCwgdSkgKyBkIDogIiIpICsgaC5zdWJzdHIodSkucmVwbGFjZSgvKFxkezN9KSg/PVxkKS9nLCAiJDEiICsgZCkgKyAobCA/IGMgKyBrZShzIC0gaCkudG9GaXhlZChsKS5zbGljZSgyKSA6ICIiKQoJCQl9CgoJCQlmdW5jdGlvbiB5KGUsIHQpIHsKCQkJCXJldHVybiBuZXcgQXJyYXkoKHQgfHwgMikgKyAxIC0gU3RyaW5nKGUpLmxlbmd0aCkuam9pbigwKSArIGUKCQkJfQoKCQkJZnVuY3Rpb24gayhlLCB0LCBuKSB7CgkJCQl2YXIgaSA9IGVbdF07CgkJCQllW3RdID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwoJCQkJCXJldHVybiBlLnVuc2hpZnQoaSksIG4uYXBwbHkodGhpcywgZSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24geihlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IC9mJC8sCgkJCQkJYSA9IC9cLihbMC05XSkvLAoJCQkJCW8gPSBHLmxhbmc7CgkJCQlyZXR1cm4gaS50ZXN0KGUpID8gKG4gPSBlLm1hdGNoKGEpLCBuID0gbiA/IG5bMV0gOiAtMSwgbnVsbCAhPT0gdCAmJiAodCA9IGIodCwgbiwgby5kZWNpbWFsUG9pbnQsIGUuaW5kZXhPZigiLCIpID4gLTEgPyBvLnRob3VzYW5kc1NlcCA6ICIiKSkpIDogdCA9IFgoZSwgdCksIHQKCQkJfQoKCQkJZnVuY3Rpb24gQihlLCB0KSB7CgkJCQlmb3IgKHZhciBuLCBpLCBhLCBvLCByLCBzLCBsLCBjID0gInsiLCBkID0gITEsIHAgPSBbXTsgLSAxICE9PSAobCA9IGUuaW5kZXhPZihjKSk7KSB7CgkJCQkJaWYgKG4gPSBlLnNsaWNlKDAsIGwpLCBkKSB7CgkJCQkJCWZvciAoaSA9IG4uc3BsaXQoIjoiKSwgYSA9IGkuc2hpZnQoKS5zcGxpdCgiLiIpLCByID0gYS5sZW5ndGgsIHMgPSB0LCBvID0gMDsgciA+IG87IG8rKykgcyA9IHNbYVtvXV07CgkJCQkJCWkubGVuZ3RoICYmIChzID0geihpLmpvaW4oIjoiKSwgcykpLCBwLnB1c2gocykKCQkJCQl9IGVsc2UgcC5wdXNoKG4pOwoJCQkJCWUgPSBlLnNsaWNlKGwgKyAxKSwgZCA9ICFkLCBjID0gZCA/ICJ9IiA6ICJ7IgoJCQkJfQoJCQkJcmV0dXJuIHAucHVzaChlKSwgcC5qb2luKCIiKQoJCQl9CgoJCQlmdW5jdGlvbiBqKGUpIHsKCQkJCXJldHVybiBfZS5wb3coMTAsIHdlKF9lLmxvZyhlKSAvIF9lLkxOMTApKQoJCQl9CgoJCQlmdW5jdGlvbiBDKGUsIHQsIG4sIGkpIHsKCQkJCXZhciBhLCBvOwoJCQkJZm9yIChuID0gXyhuLCAxKSwgYSA9IGUgLyBuLCB0IHx8ICh0ID0gWzEsIDIsIDIuNSwgNSwgMTBdLCBpID09PSAhMSAmJiAoMSA9PT0gbiA/IHQgPSBbMSwgMiwgNSwgMTBdIDogLjEgPj0gbiAmJiAodCA9IFsxIC8gbl0pKSksIG8gPSAwOyBvIDwgdC5sZW5ndGggJiYgKGUgPSB0W29dLCAhKGEgPD0gKHRbb10gKyAodFtvICsgMV0gfHwgdFtvXSkpIC8gMikpOyBvKyspOwoJCQkJcmV0dXJuIGUgKj0gbgoJCQl9CgoJCQlmdW5jdGlvbiBTKGUsIHQpIHsKCQkJCXZhciBuLCBpLCBhID0gZS5sZW5ndGg7CgkJCQlmb3IgKGkgPSAwOyBhID4gaTsgaSsrKSBlW2ldLnNzX2kgPSBpOwoJCQkJZm9yIChlLnNvcnQoZnVuY3Rpb24oZSwgaSkgewoJCQkJCXJldHVybiBuID0gdChlLCBpKSwgMCA9PT0gbiA/IGUuc3NfaSAtIGkuc3NfaSA6IG4KCQkJCX0pLCBpID0gMDsgYSA+IGk7IGkrKykgZGVsZXRlIGVbaV0uc3NfaQoJCQl9CgoJCQlmdW5jdGlvbiBOKGUpIHsKCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aCwgbiA9IGVbMF07IHQtLTspIGVbdF0gPCBuICYmIChuID0gZVt0XSk7CgkJCQlyZXR1cm4gbgoJCQl9CgoJCQlmdW5jdGlvbiBUKGUpIHsKCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aCwgbiA9IGVbMF07IHQtLTspIGVbdF0gPiBuICYmIChuID0gZVt0XSk7CgkJCQlyZXR1cm4gbgoJCQl9CgoJCQlmdW5jdGlvbiBQKGUsIHQpIHsKCQkJCXZhciBuOwoJCQkJZm9yIChuIGluIGUpIGVbbl0gJiYgZVtuXSAhPT0gdCAmJiBlW25dLmRlc3Ryb3kgJiYgZVtuXS5kZXN0cm95KCksIGRlbGV0ZSBlW25dCgkJCX0KCgkJCWZ1bmN0aW9uIEkoZSkgewoJCQkJWSB8fCAoWSA9IHcoWWUpKSwgZSAmJiBZLmFwcGVuZENoaWxkKGUpLCBZLmlubmVySFRNTCA9ICIiCgkJCX0KCgkJCWZ1bmN0aW9uIEEoZSkgewoJCQkJcmV0dXJuIHBhcnNlRmxvYXQoZS50b1ByZWNpc2lvbigxNCkpCgkJCX0KCgkJCWZ1bmN0aW9uIHEoZSwgdCkgewoJCQkJSiA9IF8oZSwgdC5hbmltYXRpb24pCgkJCX0KCgkJCWZ1bmN0aW9uIEUoKSB7CgkJCQl2YXIgZSA9IEcuZ2xvYmFsLnVzZVVUQywKCQkJCQl0ID0gZSA/ICJnZXRVVEMiIDogImdldCIsCgkJCQkJbiA9IGUgPyAic2V0VVRDIiA6ICJzZXQiOwoJCQkJZWUgPSBHLmdsb2JhbC5EYXRlIHx8IHdpbmRvdy5EYXRlLCBuZSA9IDZlNCAqIChlICYmIEcuZ2xvYmFsLnRpbWV6b25lT2Zmc2V0IHx8IDApLCB0ZSA9IGUgPyBlZS5VVEMgOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvKSB7CgkJCQkJcmV0dXJuIG5ldyBlZShlLCB0LCBfKG4sIDEpLCBfKGksIDApLCBfKGEsIDApLCBfKG8sIDApKS5nZXRUaW1lKCkKCQkJCX0sIGllID0gdCArICJNaW51dGVzIiwgYWUgPSB0ICsgIkhvdXJzIiwgb2UgPSB0ICsgIkRheSIsIHJlID0gdCArICJEYXRlIiwgc2UgPSB0ICsgIk1vbnRoIiwgbGUgPSB0ICsgIkZ1bGxZZWFyIiwgY2UgPSBuICsgIk1pbnV0ZXMiLCBkZSA9IG4gKyAiSG91cnMiLCBwZSA9IG4gKyAiRGF0ZSIsIGhlID0gbiArICJNb250aCIsIHVlID0gbiArICJGdWxsWWVhciIKCQkJfQoKCQkJZnVuY3Rpb24gTyhlKSB7CgkJCQlyZXR1cm4gRyA9IG8oITAsIEcsIGUpLCBFKCksIEcKCQkJfQoKCQkJZnVuY3Rpb24gTCgpIHsKCQkJCXJldHVybiBHCgkJCX0KCgkJCWZ1bmN0aW9uIEQoKSB7fQoKCQkJZnVuY3Rpb24gTShlLCB0LCBuLCBpKSB7CgkJCQl0aGlzLmF4aXMgPSBlLCB0aGlzLnBvcyA9IHQsIHRoaXMudHlwZSA9IG4gfHwgIiIsIHRoaXMuaXNOZXcgPSAhMCwgbiB8fCBpIHx8IHRoaXMuYWRkTGFiZWwoKQoJCQl9CgoJCQlmdW5jdGlvbiBSKCkgewoJCQkJdGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykKCQkJfQoKCQkJZnVuY3Rpb24gRigpIHsKCQkJCXRoaXMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCX0KCgkJCWZ1bmN0aW9uICQoZSwgdCwgbiwgaSwgYSkgewoJCQkJdmFyIG8gPSBlLmNoYXJ0LmludmVydGVkOwoJCQkJdGhpcy5heGlzID0gZSwgdGhpcy5pc05lZ2F0aXZlID0gbiwgdGhpcy5vcHRpb25zID0gdCwgdGhpcy54ID0gaSwgdGhpcy50b3RhbCA9IG51bGwsIHRoaXMucG9pbnRzID0ge30sIHRoaXMuc3RhY2sgPSBhLCB0aGlzLmFsaWduT3B0aW9ucyA9IHsKCQkJCQlhbGlnbjogdC5hbGlnbiB8fCAobyA/IG4gPyAibGVmdCIgOiAicmlnaHQiIDogImNlbnRlciIpLAoJCQkJCXZlcnRpY2FsQWxpZ246IHQudmVydGljYWxBbGlnbiB8fCAobyA/ICJtaWRkbGUiIDogbiA/ICJib3R0b20iIDogInRvcCIpLAoJCQkJCXk6IF8odC55LCBvID8gNCA6IG4gPyAxNCA6IC02KSwKCQkJCQl4OiBfKHQueCwgbyA/IG4gPyAtNiA6IDYgOiAwKQoJCQkJfSwgdGhpcy50ZXh0QWxpZ24gPSB0LnRleHRBbGlnbiB8fCAobyA/IG4gPyAicmlnaHQiIDogImxlZnQiIDogImNlbnRlciIpCgkJCX0KCQkJdmFyIFcsIEgsIFUsIFksIEcsIFgsIEosIFosIFYsIEssIFEsIGVlLCB0ZSwgbmUsIGllLCBhZSwgb2UsIHJlLCBzZSwgbGUsIGNlLCBkZSwgcGUsIGhlLCB1ZSwgbWUgPSBuKDYpLAoJCQkJZmUgPSBkb2N1bWVudCwKCQkJCWdlID0gd2luZG93LAoJCQkJX2UgPSBNYXRoLAoJCQkJeGUgPSBfZS5yb3VuZCwKCQkJCXdlID0gX2UuZmxvb3IsCgkJCQl2ZSA9IF9lLmNlaWwsCgkJCQliZSA9IF9lLm1heCwKCQkJCXllID0gX2UubWluLAoJCQkJa2UgPSBfZS5hYnMsCgkJCQl6ZSA9IF9lLmNvcywKCQkJCUJlID0gX2Uuc2luLAoJCQkJamUgPSBfZS5QSSwKCQkJCUNlID0gMiAqIGplIC8gMzYwLAoJCQkJU2UgPSBuYXZpZ2F0b3IudXNlckFnZW50LAoJCQkJTmUgPSBnZS5vcGVyYSwKCQkJCVRlID0gL21zaWUvaS50ZXN0KFNlKSAmJiAhTmUsCgkJCQlQZSA9IDggPT09IGZlLmRvY3VtZW50TW9kZSwKCQkJCUllID0gL0FwcGxlV2ViS2l0Ly50ZXN0KFNlKSwKCQkJCUFlID0gL0ZpcmVmb3gvLnRlc3QoU2UpLAoJCQkJcWUgPSAvKE1vYmlsZXxBbmRyb2lkfFdpbmRvd3MgUGhvbmUpLy50ZXN0KFNlKSwKCQkJCUVlID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwKCQkJCU9lID0gISFmZS5jcmVhdGVFbGVtZW50TlMgJiYgISFmZS5jcmVhdGVFbGVtZW50TlMoRWUsICJzdmciKS5jcmVhdGVTVkdSZWN0LAoJCQkJTGUgPSBBZSAmJiBwYXJzZUludChTZS5zcGxpdCgiRmlyZWZveC8iKVsxXSwgMTApIDwgNCwKCQkJCURlID0gIU9lICYmICFUZSAmJiAhIWZlLmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQsCgkJCQlNZSA9IHt9LAoJCQkJUmUgPSAwLAoJCQkJRmUgPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gVwoJCQkJfSwKCQkJCSRlID0gW10sCgkJCQlXZSA9IDAsCgkJCQlIZSA9ICJIaWdoY2hhcnRzIiwKCQkJCVVlID0gIjQuMC40IiwKCQkJCVllID0gImRpdiIsCgkJCQlHZSA9ICJhYnNvbHV0ZSIsCgkJCQlYZSA9ICJyZWxhdGl2ZSIsCgkJCQlKZSA9ICJoaWRkZW4iLAoJCQkJWmUgPSAiaGlnaGNoYXJ0cy0iLAoJCQkJVmUgPSAidmlzaWJsZSIsCgkJCQlLZSA9ICJweCIsCgkJCQlRZSA9ICJub25lIiwKCQkJCWV0ID0gIk0iLAoJCQkJdHQgPSAiTCIsCgkJCQludCA9IC9eWzAtOV0rJC8sCgkJCQlpdCA9ICIiLAoJCQkJYXQgPSAiaG92ZXIiLAoJCQkJb3QgPSAic2VsZWN0IiwKCQkJCXJ0ID0gInN0cm9rZS13aWR0aCIsCgkJCQlzdCA9IHt9LAoJCQkJbHQgPSB7fTsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBsdAoJCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpLCBYID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCWlmICghbSh0KSB8fCBpc05hTih0KSkgcmV0dXJuICJJbnZhbGlkIGRhdGUiOwoJCQkJCWUgPSBfKGUsICIlWS0lbS0lZCAlSDolTTolUyIpOwoJCQkJCXZhciBpLCBvID0gbmV3IGVlKHQgLSBuZSksCgkJCQkJCXIgPSBvW2FlXSgpLAoJCQkJCQlzID0gb1tvZV0oKSwKCQkJCQkJbCA9IG9bcmVdKCksCgkJCQkJCWMgPSBvW3NlXSgpLAoJCQkJCQlkID0gb1tsZV0oKSwKCQkJCQkJcCA9IEcubGFuZywKCQkJCQkJaCA9IHAud2Vla2RheXMsCgkJCQkJCXUgPSBhKHsKCQkJCQkJCWE6IGhbc10uc3Vic3RyKDAsIDMpLAoJCQkJCQkJQTogaFtzXSwKCQkJCQkJCWQ6IHkobCksCgkJCQkJCQllOiBsLAoJCQkJCQkJYjogcC5zaG9ydE1vbnRoc1tjXSwKCQkJCQkJCUI6IHAubW9udGhzW2NdLAoJCQkJCQkJbTogeShjICsgMSksCgkJCQkJCQl5OiBkLnRvU3RyaW5nKCkuc3Vic3RyKDIsIDIpLAoJCQkJCQkJWTogZCwKCQkJCQkJCUg6IHkociksCgkJCQkJCQlJOiB5KHIgJSAxMiB8fCAxMiksCgkJCQkJCQlsOiByICUgMTIgfHwgMTIsCgkJCQkJCQlNOiB5KG9baWVdKCkpLAoJCQkJCQkJcDogMTIgPiByID8gIkFNIiA6ICJQTSIsCgkJCQkJCQlQOiAxMiA+IHIgPyAiYW0iIDogInBtIiwKCQkJCQkJCVM6IHkoby5nZXRTZWNvbmRzKCkpLAoJCQkJCQkJTDogeSh4ZSh0ICUgMWUzKSwgMykKCQkJCQkJfSwgbHQuZGF0ZUZvcm1hdHMpOwoJCQkJCWZvciAoaSBpbiB1KQoJCQkJCQlmb3IgKDsgLSAxICE9PSBlLmluZGV4T2YoIiUiICsgaSk7KSBlID0gZS5yZXBsYWNlKCIlIiArIGksICJmdW5jdGlvbiIgPT0gdHlwZW9mIHVbaV0gPyB1W2ldKHQpIDogdVtpXSk7CgkJCQkJcmV0dXJuIG4gPyBlLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgZS5zdWJzdHIoMSkgOiBlCgkJCQl9LCBLID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gIkhpZ2hjaGFydHMgZXJyb3IgIyIgKyBlICsgIjogd3d3LmhpZ2hjaGFydHMuY29tL2Vycm9ycy8iICsgZTsKCQkJCQlpZiAodCkgdGhyb3cgbjsKCQkJCQlnZS5jb25zb2xlICYmIGNvbnNvbGUubG9nKG4pCgkJCQl9LCBWID0gewoJCQkJCW1pbGxpc2Vjb25kOiAxLAoJCQkJCXNlY29uZDogMWUzLAoJCQkJCW1pbnV0ZTogNmU0LAoJCQkJCWhvdXI6IDM2ZTUsCgkJCQkJZGF5OiA4NjRlNSwKCQkJCQl3ZWVrOiA2MDQ4ZTUsCgkJCQkJbW9udGg6IDI2Nzg0ZTUsCgkJCQkJeWVhcjogMzE1NTY5NTJlMwoJCQkJfSwgWiA9IHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXQgPSB0IHx8ICIiOwoJCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCA9IGUuc2hpZnQsCgkJCQkJCQljID0gdC5pbmRleE9mKCJDIikgPiAtMSwKCQkJCQkJCWQgPSBjID8gNyA6IDMsCgkJCQkJCQlwID0gdC5zcGxpdCgiICIpLAoJCQkJCQkJaCA9IFtdLmNvbmNhdChuKSwKCQkJCQkJCXUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJZm9yIChvID0gZS5sZW5ndGg7IG8tLTspIGVbb10gPT09IGV0ICYmIGUuc3BsaWNlKG8gKyAxLCAwLCBlW28gKyAxXSwgZVtvICsgMl0sIGVbbyArIDFdLCBlW28gKyAyXSkKCQkJCQkJCX07CgkJCQkJCWlmIChjICYmICh1KHApLCB1KGgpKSwgZS5pc0FyZWEgJiYgKHIgPSBwLnNwbGljZShwLmxlbmd0aCAtIDYsIDYpLCBzID0gaC5zcGxpY2UoaC5sZW5ndGggLSA2LCA2KSksIGwgPD0gaC5sZW5ndGggLyBkICYmIHAubGVuZ3RoID09PSBoLmxlbmd0aCkKCQkJCQkJCWZvciAoOyBsLS07KSBoID0gW10uY29uY2F0KGgpLnNwbGljZSgwLCBkKS5jb25jYXQoaCk7CgkJCQkJCWlmIChlLnNoaWZ0ID0gMCwgcC5sZW5ndGgpCgkJCQkJCQlmb3IgKGkgPSBoLmxlbmd0aDsgcC5sZW5ndGggPCBpOykgYSA9IFtdLmNvbmNhdChwKS5zcGxpY2UocC5sZW5ndGggLSBkLCBkKSwgYyAmJiAoYVtkIC0gNl0gPSBhW2QgLSAyXSwgYVtkIC0gNV0gPSBhW2QgLSAxXSksIHAgPSBwLmNvbmNhdChhKTsKCQkJCQkJcmV0dXJuIHIgJiYgKHAgPSBwLmNvbmNhdChyKSwgaCA9IGguY29uY2F0KHMpKSwgW3AsIGhdCgkJCQkJfSwKCQkJCQlzdGVwOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBhLCBvID0gW10sCgkJCQkJCQlyID0gZS5sZW5ndGg7CgkJCQkJCWlmICgxID09PSBuKSBvID0gaTsKCQkJCQkJZWxzZSBpZiAociA9PT0gdC5sZW5ndGggJiYgMSA+IG4pCgkJCQkJCQlmb3IgKDsgci0tOykgYSA9IHBhcnNlRmxvYXQoZVtyXSksIG9bcl0gPSBpc05hTihhKSA/IGVbcl0gOiBuICogcGFyc2VGbG9hdCh0W3JdIC0gYSkgKyBhOwoJCQkJCQllbHNlIG8gPSB0OwoJCQkJCQlyZXR1cm4gbwoJCQkJCX0KCQkJCX0sCgkJCQlmdW5jdGlvbihlKSB7CgkJCQkJZ2UuSGlnaGNoYXJ0c0FkYXB0ZXIgPSBnZS5IaWdoY2hhcnRzQWRhcHRlciB8fCBlICYmIHsKCQkJCQkJaW5pdDogZnVuY3Rpb24odCkgewoJCQkJCQkJdmFyIG4gPSBlLmZ4OwoJCQkJCQkJZS5leHRlbmQoZS5lYXNpbmcsIHsKCQkJCQkJCQllYXNlT3V0UXVhZDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQkJCQlyZXR1cm4gLWkgKiAodCAvPSBhKSAqICh0IC0gMikgKyBuCgkJCQkJCQkJfQoJCQkJCQkJfSksIGUuZWFjaChbImN1ciIsICJfZGVmYXVsdCIsICJ3aWR0aCIsICJoZWlnaHQiLCAib3BhY2l0eSJdLCBmdW5jdGlvbih0LCBpKSB7CgkJCQkJCQkJdmFyIGEsIG8gPSBuLnN0ZXA7CgkJCQkJCQkJImN1ciIgPT09IGkgPyBvID0gbi5wcm90b3R5cGUgOiAiX2RlZmF1bHQiID09PSBpICYmIGUuVHdlZW4gJiYgKG8gPSBlLlR3ZWVuLnByb3BIb29rc1tpXSwgaSA9ICJzZXQiKSwgYSA9IG9baV0sIGEgJiYgKG9baV0gPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCXZhciBuOwoJCQkJCQkJCQlyZXR1cm4gZSA9IHQgPyBlIDogdGhpcywgImFsaWduIiAhPT0gZS5wcm9wID8gKG4gPSBlLmVsZW0sIG4uYXR0ciA/IG4uYXR0cihlLnByb3AsICJjdXIiID09PSBpID8gVyA6IGUubm93KSA6IGEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgOiB2b2lkIDAKCQkJCQkJCQl9KQoJCQkJCQkJfSksIGsoZS5jc3NIb29rcy5vcGFjaXR5LCAiZ2V0IiwgZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkJCXJldHVybiB0LmF0dHIgPyB0Lm9wYWNpdHkgfHwgMCA6IGUuY2FsbCh0aGlzLCB0LCBuKQoJCQkJCQkJfSksIHRoaXMuYWRkQW5pbVNldHRlcigiZCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQl2YXIgbiwgaSA9IGUuZWxlbTsKCQkJCQkJCQllLnN0YXJ0ZWQgfHwgKG4gPSB0LmluaXQoaSwgaS5kLCBpLnRvRCksIGUuc3RhcnQgPSBuWzBdLCBlLmVuZCA9IG5bMV0sIGUuc3RhcnRlZCA9ICEwKSwgaS5hdHRyKCJkIiwgdC5zdGVwKGUuc3RhcnQsIGUuZW5kLCBlLnBvcywgaS50b0QpKQoJCQkJCQkJfSksIHRoaXMuZWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID8gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXJldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsIHQpCgkJCQkJCQl9IDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXZhciBuLCBpID0gZS5sZW5ndGg7CgkJCQkJCQkJZm9yIChuID0gMDsgaSA+IG47IG4rKykKCQkJCQkJCQkJaWYgKHQuY2FsbChlW25dLCBlW25dLCBuLCBlKSA9PT0gITEpIHJldHVybiBuCgkJCQkJCQl9LCBlLmZuLmhpZ2hjaGFydHMgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZSwgdCwgbiwgaSA9ICJDaGFydCIsCgkJCQkJCQkJCWEgPSBhcmd1bWVudHM7CgkJCQkJCQkJcmV0dXJuIHRoaXNbMF0gJiYgKHMoYVswXSkgJiYgKGkgPSBhWzBdLCBhID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSwgMSkpLCBlID0gYVswXSwgZSAhPT0gVyAmJiAoZS5jaGFydCA9IGUuY2hhcnQgfHwge30sIGUuY2hhcnQucmVuZGVyVG8gPSB0aGlzWzBdLCBuID0gbmV3IGx0W2ldKGUsIGFbMV0pLCB0ID0gdGhpcyksIGUgPT09IFcgJiYgKHQgPSAkZVtmKHRoaXNbMF0sICJkYXRhLWhpZ2hjaGFydHMtY2hhcnQiKV0pKSwgdAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlhZGRBbmltU2V0dGVyOiBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCQllLlR3ZWVuID8gZS5Ud2Vlbi5wcm9wSG9va3NbdF0gPSB7CgkJCQkJCQkJc2V0OiBuCgkJCQkJCQl9IDogZS5meC5zdGVwW3RdID0gbgoJCQkJCQl9LAoJCQkJCQlnZXRTY3JpcHQ6IGUuZ2V0U2NyaXB0LAoJCQkJCQlpbkFycmF5OiBlLmluQXJyYXksCgkJCQkJCWFkYXB0ZXJSdW46IGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJCXJldHVybiBlKHQpW25dKCkKCQkJCQkJfSwKCQkJCQkJZ3JlcDogZS5ncmVwLAoJCQkJCQltYXA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG4gPSBbXSwgaSA9IDAsIGEgPSBlLmxlbmd0aDsgYSA+IGk7IGkrKykgbltpXSA9IHQuY2FsbChlW2ldLCBlW2ldLCBpLCBlKTsKCQkJCQkJCXJldHVybiBuCgkJCQkJCX0sCgkJCQkJCW9mZnNldDogZnVuY3Rpb24odCkgewoJCQkJCQkJcmV0dXJuIGUodCkub2Zmc2V0KCkKCQkJCQkJfSwKCQkJCQkJYWRkRXZlbnQ6IGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJCWUodCkuYmluZChuLCBpKQoJCQkJCQl9LAoJCQkJCQlyZW1vdmVFdmVudDogZnVuY3Rpb24odCwgbiwgaSkgewoJCQkJCQkJdmFyIGEgPSBmZS5yZW1vdmVFdmVudExpc3RlbmVyID8gInJlbW92ZUV2ZW50TGlzdGVuZXIiIDogImRldGFjaEV2ZW50IjsKCQkJCQkJCWZlW2FdICYmIHQgJiYgIXRbYV0gJiYgKHRbYV0gPSBmdW5jdGlvbigpIHt9KSwgZSh0KS51bmJpbmQobiwgaSkKCQkJCQkJfSwKCQkJCQkJZmlyZUV2ZW50OiBmdW5jdGlvbih0LCBuLCBpLCBvKSB7CgkJCQkJCQl2YXIgciwgcyA9IGUuRXZlbnQobiksCgkJCQkJCQkJbCA9ICJkZXRhY2hlZCIgKyBuOwoJCQkJCQkJIVRlICYmIGkgJiYgKGRlbGV0ZSBpLmxheWVyWCwgZGVsZXRlIGkubGF5ZXJZLCBkZWxldGUgaS5yZXR1cm5WYWx1ZSksIGEocywgaSksIHRbbl0gJiYgKHRbbF0gPSB0W25dLCB0W25dID0gbnVsbCksIGUuZWFjaChbInByZXZlbnREZWZhdWx0IiwgInN0b3BQcm9wYWdhdGlvbiJdLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJdmFyIG4gPSBzW3RdOwoJCQkJCQkJCXNbdF0gPSBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdHJ5IHsKCQkJCQkJCQkJCW4uY2FsbChzKQoJCQkJCQkJCQl9IGNhdGNoIChlKSB7CgkJCQkJCQkJCQkicHJldmVudERlZmF1bHQiID09PSB0ICYmIChyID0gITApCgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9KSwgZSh0KS50cmlnZ2VyKHMpLCB0W2xdICYmICh0W25dID0gdFtsXSwgdFtsXSA9IG51bGwpLCAhbyB8fCBzLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IHIgfHwgbyhzKQoJCQkJCQl9LAoJCQkJCQl3YXNoTW91c2VFdmVudDogZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZTsKCQkJCQkJCXJldHVybiB0LnBhZ2VYID09PSBXICYmICh0LnBhZ2VYID0gZS5wYWdlWCwgdC5wYWdlWSA9IGUucGFnZVkpLCB0CgkJCQkJCX0sCgkJCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhID0gZSh0KTsKCQkJCQkJCXQuc3R5bGUgfHwgKHQuc3R5bGUgPSB7fSksIG4uZCAmJiAodC50b0QgPSBuLmQsIG4uZCA9IDEpLCBhLnN0b3AoKSwgbi5vcGFjaXR5ICE9PSBXICYmIHQuYXR0ciAmJiAobi5vcGFjaXR5ICs9ICJweCIpLCB0Lmhhc0FuaW0gPSAxLCBhLmFuaW1hdGUobiwgaSkKCQkJCQkJfSwKCQkJCQkJc3RvcDogZnVuY3Rpb24odCkgewoJCQkJCQkJdC5oYXNBbmltICYmIGUodCkuc3RvcCgpCgkJCQkJCX0KCQkJCQl9CgkJCQl9KG1lKTsKCQkJdmFyIGN0ID0gZ2UuSGlnaGNoYXJ0c0FkYXB0ZXIsCgkJCQlkdCA9IGN0IHx8IHt9OwoJCQljdCAmJiBjdC5pbml0LmNhbGwoY3QsIFopOwoJCQl2YXIgcHQgPSBkdC5hZGFwdGVyUnVuLAoJCQkJaHQgPSBkdC5nZXRTY3JpcHQsCgkJCQl1dCA9IGR0LmluQXJyYXksCgkJCQltdCA9IGR0LmVhY2gsCgkJCQlmdCA9IGR0LmdyZXAsCgkJCQlndCA9IGR0Lm9mZnNldCwKCQkJCV90ID0gZHQubWFwLAoJCQkJeHQgPSBkdC5hZGRFdmVudCwKCQkJCXd0ID0gZHQucmVtb3ZlRXZlbnQsCgkJCQl2dCA9IGR0LmZpcmVFdmVudCwKCQkJCWJ0ID0gZHQud2FzaE1vdXNlRXZlbnQsCgkJCQl5dCA9IGR0LmFuaW1hdGUsCgkJCQlrdCA9IGR0LnN0b3AsCgkJCQl6dCA9IHsKCQkJCQllbmFibGVkOiAhMCwKCQkJCQl4OiAwLAoJCQkJCXk6IDE1LAoJCQkJCXN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzYwNjA2MCIsCgkJCQkJCWN1cnNvcjogImRlZmF1bHQiLAoJCQkJCQlmb250U2l6ZTogIjExcHgiCgkJCQkJfQoJCQkJfTsKCQkJRyA9IHsKCQkJCWNvbG9yczogWyIjN2NiNWVjIiwgIiM0MzQzNDgiLCAiIzkwZWQ3ZCIsICIjZjdhMzVjIiwgIiM4MDg1ZTkiLCAiI2YxNWM4MCIsICIjZTRkMzU0IiwgIiM4MDg1ZTgiLCAiIzhkNDY1MyIsICIjOTFlOGUxIl0sCgkJCQlzeW1ib2xzOiBbImNpcmNsZSIsICJkaWFtb25kIiwgInNxdWFyZSIsICJ0cmlhbmdsZSIsICJ0cmlhbmdsZS1kb3duIl0sCgkJCQlsYW5nOiB7CgkJCQkJbG9hZGluZzogIkxvYWRpbmcuLi4iLAoJCQkJCW1vbnRoczogWyJKYW51YXJ5IiwgIkZlYnJ1YXJ5IiwgIk1hcmNoIiwgIkFwcmlsIiwgIk1heSIsICJKdW5lIiwgIkp1bHkiLCAiQXVndXN0IiwgIlNlcHRlbWJlciIsICJPY3RvYmVyIiwgIk5vdmVtYmVyIiwgIkRlY2VtYmVyIl0sCgkJCQkJc2hvcnRNb250aHM6IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXSwKCQkJCQl3ZWVrZGF5czogWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdLAoJCQkJCWRlY2ltYWxQb2ludDogIi4iLAoJCQkJCW51bWVyaWNTeW1ib2xzOiBbImsiLCAiTSIsICJHIiwgIlQiLCAiUCIsICJFIl0sCgkJCQkJcmVzZXRab29tOiAiUmVzZXQgem9vbSIsCgkJCQkJcmVzZXRab29tVGl0bGU6ICJSZXNldCB6b29tIGxldmVsIDE6MSIsCgkJCQkJdGhvdXNhbmRzU2VwOiAiLCIKCQkJCX0sCgkJCQlnbG9iYWw6IHsKCQkJCQl1c2VVVEM6ICEwLAoJCQkJCWNhbnZhc1Rvb2xzVVJMOiAiaHR0cDovL2NvZGUuaGlnaGNoYXJ0cy5jb20vNC4wLjQvbW9kdWxlcy9jYW52YXMtdG9vbHMuanMiLAoJCQkJCVZNTFJhZGlhbEdyYWRpZW50VVJMOiAiaHR0cDovL2NvZGUuaGlnaGNoYXJ0cy5jb20vNC4wLjQvZ2Z4L3ZtbC1yYWRpYWwtZ3JhZGllbnQucG5nIgoJCQkJfSwKCQkJCWNoYXJ0OiB7CgkJCQkJYm9yZGVyQ29sb3I6ICIjNDU3MkE3IiwKCQkJCQlib3JkZXJSYWRpdXM6IDAsCgkJCQkJZGVmYXVsdFNlcmllc1R5cGU6ICJsaW5lIiwKCQkJCQlpZ25vcmVIaWRkZW5TZXJpZXM6ICEwLAoJCQkJCXNwYWNpbmc6IFsxMCwgMTAsIDE1LCAxMF0sCgkJCQkJYmFja2dyb3VuZENvbG9yOiAiI0ZGRkZGRiIsCgkJCQkJcGxvdEJvcmRlckNvbG9yOiAiI0MwQzBDMCIsCgkJCQkJcmVzZXRab29tQnV0dG9uOiB7CgkJCQkJCXRoZW1lOiB7CgkJCQkJCQl6SW5kZXg6IDIwCgkJCQkJCX0sCgkJCQkJCXBvc2l0aW9uOiB7CgkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCXg6IC0xMCwKCQkJCQkJCXk6IDEwCgkJCQkJCX0KCQkJCQl9CgkJCQl9LAoJCQkJdGl0bGU6IHsKCQkJCQl0ZXh0OiAiQ2hhcnQgdGl0bGUiLAoJCQkJCWFsaWduOiAiY2VudGVyIiwKCQkJCQltYXJnaW46IDE1LAoJCQkJCXN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzMzMzMzMyIsCgkJCQkJCWZvbnRTaXplOiAiMThweCIKCQkJCQl9CgkJCQl9LAoJCQkJc3VidGl0bGU6IHsKCQkJCQl0ZXh0OiAiIiwKCQkJCQlhbGlnbjogImNlbnRlciIsCgkJCQkJc3R5bGU6IHsKCQkJCQkJY29sb3I6ICIjNTU1NTU1IgoJCQkJCX0KCQkJCX0sCgkJCQlwbG90T3B0aW9uczogewoJCQkJCWxpbmU6IHsKCQkJCQkJYWxsb3dQb2ludFNlbGVjdDogITEsCgkJCQkJCXNob3dDaGVja2JveDogITEsCgkJCQkJCWFuaW1hdGlvbjogewoJCQkJCQkJZHVyYXRpb246IDFlMwoJCQkJCQl9LAoJCQkJCQlldmVudHM6IHt9LAoJCQkJCQlsaW5lV2lkdGg6IDIsCgkJCQkJCW1hcmtlcjogewoJCQkJCQkJbGluZVdpZHRoOiAwLAoJCQkJCQkJcmFkaXVzOiA0LAoJCQkJCQkJbGluZUNvbG9yOiAiI0ZGRkZGRiIsCgkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQllbmFibGVkOiAhMCwKCQkJCQkJCQkJbGluZVdpZHRoUGx1czogMSwKCQkJCQkJCQkJcmFkaXVzUGx1czogMgoJCQkJCQkJCX0sCgkJCQkJCQkJc2VsZWN0OiB7CgkJCQkJCQkJCWZpbGxDb2xvcjogIiNGRkZGRkYiLAoJCQkJCQkJCQlsaW5lQ29sb3I6ICIjMDAwMDAwIiwKCQkJCQkJCQkJbGluZVdpZHRoOiAyCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlwb2ludDogewoJCQkJCQkJZXZlbnRzOiB7fQoJCQkJCQl9LAoJCQkJCQlkYXRhTGFiZWxzOiBvKHp0LCB7CgkJCQkJCQlhbGlnbjogImNlbnRlciIsCgkJCQkJCQllbmFibGVkOiAhMSwKCQkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIG51bGwgPT09IHRoaXMueSA/ICIiIDogYih0aGlzLnksIC0xKQoJCQkJCQkJfSwKCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJib3R0b20iLAoJCQkJCQkJeTogMAoJCQkJCQl9KSwKCQkJCQkJY3JvcFRocmVzaG9sZDogMzAwLAoJCQkJCQlwb2ludFJhbmdlOiAwLAoJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJbGluZVdpZHRoUGx1czogMSwKCQkJCQkJCQltYXJrZXI6IHt9LAoJCQkJCQkJCWhhbG86IHsKCQkJCQkJCQkJc2l6ZTogMTAsCgkJCQkJCQkJCW9wYWNpdHk6IC4yNQoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQlzZWxlY3Q6IHsKCQkJCQkJCQltYXJrZXI6IHt9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCXN0aWNreVRyYWNraW5nOiAhMCwKCQkJCQkJdHVyYm9UaHJlc2hvbGQ6IDFlMwoJCQkJCX0KCQkJCX0sCgkJCQlsYWJlbHM6IHsKCQkJCQlzdHlsZTogewoJCQkJCQlwb3NpdGlvbjogR2UsCgkJCQkJCWNvbG9yOiAiIzNFNTc2RiIKCQkJCQl9CgkJCQl9LAoJCQkJbGVnZW5kOiB7CgkJCQkJZW5hYmxlZDogITAsCgkJCQkJYWxpZ246ICJjZW50ZXIiLAoJCQkJCWxheW91dDogImhvcml6b250YWwiLAoJCQkJCWxhYmVsRm9ybWF0dGVyOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHRoaXMubmFtZQoJCQkJCX0sCgkJCQkJYm9yZGVyQ29sb3I6ICIjOTA5MDkwIiwKCQkJCQlib3JkZXJSYWRpdXM6IDAsCgkJCQkJbmF2aWdhdGlvbjogewoJCQkJCQlhY3RpdmVDb2xvcjogIiMyNzRiNmQiLAoJCQkJCQlpbmFjdGl2ZUNvbG9yOiAiI0NDQyIKCQkJCQl9LAoJCQkJCXNoYWRvdzogITEsCgkJCQkJaXRlbVN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzMzMzMzMyIsCgkJCQkJCWZvbnRTaXplOiAiMTJweCIsCgkJCQkJCWZvbnRXZWlnaHQ6ICJib2xkIgoJCQkJCX0sCgkJCQkJaXRlbUhvdmVyU3R5bGU6IHsKCQkJCQkJY29sb3I6ICIjMDAwIgoJCQkJCX0sCgkJCQkJaXRlbUhpZGRlblN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiI0NDQyIKCQkJCQl9LAoJCQkJCWl0ZW1DaGVja2JveFN0eWxlOiB7CgkJCQkJCXBvc2l0aW9uOiBHZSwKCQkJCQkJd2lkdGg6ICIxM3B4IiwKCQkJCQkJaGVpZ2h0OiAiMTNweCIKCQkJCQl9LAoJCQkJCXN5bWJvbFBhZGRpbmc6IDUsCgkJCQkJdmVydGljYWxBbGlnbjogImJvdHRvbSIsCgkJCQkJeDogMCwKCQkJCQl5OiAwLAoJCQkJCXRpdGxlOiB7CgkJCQkJCXN0eWxlOiB7CgkJCQkJCQlmb250V2VpZ2h0OiAiYm9sZCIKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQlsb2FkaW5nOiB7CgkJCQkJbGFiZWxTdHlsZTogewoJCQkJCQlmb250V2VpZ2h0OiAiYm9sZCIsCgkJCQkJCXBvc2l0aW9uOiBYZSwKCQkJCQkJdG9wOiAiNDUlIgoJCQkJCX0sCgkJCQkJc3R5bGU6IHsKCQkJCQkJcG9zaXRpb246IEdlLAoJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ3aGl0ZSIsCgkJCQkJCW9wYWNpdHk6IC41LAoJCQkJCQl0ZXh0QWxpZ246ICJjZW50ZXIiCgkJCQkJfQoJCQkJfSwKCQkJCXRvb2x0aXA6IHsKCQkJCQllbmFibGVkOiAhMCwKCQkJCQlhbmltYXRpb246IE9lLAoJCQkJCWJhY2tncm91bmRDb2xvcjogInJnYmEoMjQ5LCAyNDksIDI0OSwgLjg1KSIsCgkJCQkJYm9yZGVyV2lkdGg6IDEsCgkJCQkJYm9yZGVyUmFkaXVzOiAzLAoJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CgkJCQkJCW1pbGxpc2Vjb25kOiAiJUEsICViICVlLCAlSDolTTolUy4lTCIsCgkJCQkJCXNlY29uZDogIiVBLCAlYiAlZSwgJUg6JU06JVMiLAoJCQkJCQltaW51dGU6ICIlQSwgJWIgJWUsICVIOiVNIiwKCQkJCQkJaG91cjogIiVBLCAlYiAlZSwgJUg6JU0iLAoJCQkJCQlkYXk6ICIlQSwgJWIgJWUsICVZIiwKCQkJCQkJd2VlazogIldlZWsgZnJvbSAlQSwgJWIgJWUsICVZIiwKCQkJCQkJbW9udGg6ICIlQiAlWSIsCgkJCQkJCXllYXI6ICIlWSIKCQkJCQl9LAoJCQkJCWhlYWRlckZvcm1hdDogJzxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEwcHgiPntwb2ludC5rZXl9PC9zcGFuPjxici8+JywKCQkJCQlwb2ludEZvcm1hdDogJzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiB7c2VyaWVzLm5hbWV9OiA8Yj57cG9pbnQueX08L2I+PGJyLz4nLAoJCQkJCXNoYWRvdzogITAsCgkJCQkJc25hcDogcWUgPyAyNSA6IDEwLAoJCQkJCXN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzMzMzMzMyIsCgkJCQkJCWN1cnNvcjogImRlZmF1bHQiLAoJCQkJCQlmb250U2l6ZTogIjEycHgiLAoJCQkJCQlwYWRkaW5nOiAiOHB4IiwKCQkJCQkJd2hpdGVTcGFjZTogIm5vd3JhcCIKCQkJCQl9CgkJCQl9LAoJCQkJY3JlZGl0czogewoJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCXRleHQ6ICJIaWdoY2hhcnRzLmNvbSIsCgkJCQkJaHJlZjogImh0dHA6Ly93d3cuaGlnaGNoYXJ0cy5jb20iLAoJCQkJCXBvc2l0aW9uOiB7CgkJCQkJCWFsaWduOiAicmlnaHQiLAoJCQkJCQl4OiAtMTAsCgkJCQkJCXZlcnRpY2FsQWxpZ246ICJib3R0b20iLAoJCQkJCQl5OiAtNQoJCQkJCX0sCgkJCQkJc3R5bGU6IHsKCQkJCQkJY3Vyc29yOiAicG9pbnRlciIsCgkJCQkJCWNvbG9yOiAiIzkwOTA5MCIsCgkJCQkJCWZvbnRTaXplOiAiOXB4IgoJCQkJCX0KCQkJCX0KCQkJfTsKCQkJdmFyIEJ0ID0gRy5wbG90T3B0aW9ucywKCQkJCWp0ID0gQnQubGluZTsKCQkJRSgpOwoJCQl2YXIgQ3QgPSAvcmdiYVwoXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldPyg/OlwuWzAtOV0rKT8pXHMqXCkvLAoJCQkJU3QgPSAvIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sCgkJCQlOdCA9IC9yZ2JcKFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqXCkvLAoJCQkJVHQgPSBmdW5jdGlvbihlKSB7CgkJCQkJZnVuY3Rpb24gdChlKSB7CgkJCQkJCWUgJiYgZS5zdG9wcyA/IGwgPSBfdChlLnN0b3BzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gVHQoZVsxXSkKCQkJCQkJfSkgOiAocyA9IEN0LmV4ZWMoZSksIHMgPyBjID0gW3Ioc1sxXSksIHIoc1syXSksIHIoc1szXSksIHBhcnNlRmxvYXQoc1s0XSwgMTApXSA6IChzID0gU3QuZXhlYyhlKSwgcyA/IGMgPSBbcihzWzFdLCAxNiksIHIoc1syXSwgMTYpLCByKHNbM10sIDE2KSwgMV0gOiAocyA9IE50LmV4ZWMoZSksIHMgJiYgKGMgPSBbcihzWzFdKSwgcihzWzJdKSwgcihzWzNdKSwgMV0pKSkpCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiBuKHQpIHsKCQkJCQkJdmFyIG47CgkJCQkJCXJldHVybiBsID8gKG4gPSBvKGUpLCBuLnN0b3BzID0gW10uY29uY2F0KG4uc3RvcHMpLCBtdChsLCBmdW5jdGlvbihlLCBpKSB7CgkJCQkJCQluLnN0b3BzW2ldID0gW24uc3RvcHNbaV1bMF0sIGUuZ2V0KHQpXQoJCQkJCQl9KSkgOiBuID0gYyAmJiAhaXNOYU4oY1swXSkgPyAicmdiIiA9PT0gdCA/ICJyZ2IoIiArIGNbMF0gKyAiLCIgKyBjWzFdICsgIiwiICsgY1syXSArICIpIiA6ICJhIiA9PT0gdCA/IGNbM10gOiAicmdiYSgiICsgYy5qb2luKCIsIikgKyAiKSIgOiBlLCBuCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQkJaWYgKGwpIG10KGwsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQuYnJpZ2h0ZW4oZSkKCQkJCQkJfSk7CgkJCQkJCWVsc2UgaWYgKGQoZSkgJiYgMCAhPT0gZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlmb3IgKHQgPSAwOyAzID4gdDsgdCsrKSBjW3RdICs9IHIoMjU1ICogZSksIGNbdF0gPCAwICYmIChjW3RdID0gMCksIGNbdF0gPiAyNTUgJiYgKGNbdF0gPSAyNTUpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRoaXMKCQkJCQl9CgoJCQkJCWZ1bmN0aW9uIGEoZSkgewoJCQkJCQlyZXR1cm4gY1szXSA9IGUsIHRoaXMKCQkJCQl9CgkJCQkJdmFyIHMsIGwsIGMgPSBbXTsKCQkJCQlyZXR1cm4gdChlKSwgewoJCQkJCQlnZXQ6IG4sCgkJCQkJCWJyaWdodGVuOiBpLAoJCQkJCQlyZ2JhOiBjLAoJCQkJCQlzZXRPcGFjaXR5OiBhCgkJCQkJfQoJCQkJfTsKCQkJRC5wcm90b3R5cGUgPSB7CgkJCQlvcGFjaXR5OiAxLAoJCQkJdGV4dFByb3BzOiBbImZvbnRTaXplIiwgImZvbnRXZWlnaHQiLCAiZm9udEZhbWlseSIsICJjb2xvciIsICJsaW5lSGVpZ2h0IiwgIndpZHRoIiwgInRleHREZWNvcmF0aW9uIiwgInRleHRTaGFkb3ciLCAiSGNUZXh0U3Ryb2tlIl0sCgkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzOwoJCQkJCW4uZWxlbWVudCA9ICJzcGFuIiA9PT0gdCA/IHcodCkgOiBmZS5jcmVhdGVFbGVtZW50TlMoRWUsIHQpLCBuLnJlbmRlcmVyID0gZQoJCQkJfSwKCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IF8odCwgSiwgITApOwoJCQkJCXJldHVybiBrdCh0aGlzKSwgaSA/IChpID0gbyhpLCB7fSksIG4gJiYgKGkuY29tcGxldGUgPSBuKSwgeXQodGhpcywgZSwgaSkpIDogKHRoaXMuYXR0cihlKSwgbiAmJiBuKCkpLCB0aGlzCgkJCQl9LAoJCQkJY29sb3JHcmFkaWVudDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCByLCBzLCBsLCBkLCBwLCBoLCB1LCBmLCBnLCBfID0gdGhpcy5yZW5kZXJlciwKCQkJCQkJeCA9IFtdOwoJCQkJCWlmIChlLmxpbmVhckdyYWRpZW50ID8gYSA9ICJsaW5lYXJHcmFkaWVudCIgOiBlLnJhZGlhbEdyYWRpZW50ICYmIChhID0gInJhZGlhbEdyYWRpZW50IiksIGEpIHsKCQkJCQkJciA9IGVbYV0sIHMgPSBfLmdyYWRpZW50cywgZCA9IGUuc3RvcHMsIHUgPSBuLnJhZGlhbFJlZmVyZW5jZSwgYyhyKSAmJiAoZVthXSA9IHIgPSB7CgkJCQkJCQl4MTogclswXSwKCQkJCQkJCXkxOiByWzFdLAoJCQkJCQkJeDI6IHJbMl0sCgkJCQkJCQl5MjogclszXSwKCQkJCQkJCWdyYWRpZW50VW5pdHM6ICJ1c2VyU3BhY2VPblVzZSIKCQkJCQkJfSksICJyYWRpYWxHcmFkaWVudCIgPT09IGEgJiYgdSAmJiAhbShyLmdyYWRpZW50VW5pdHMpICYmIChyID0gbyhyLCB7CgkJCQkJCQljeDogdVswXSAtIHVbMl0gLyAyICsgci5jeCAqIHVbMl0sCgkJCQkJCQljeTogdVsxXSAtIHVbMl0gLyAyICsgci5jeSAqIHVbMl0sCgkJCQkJCQlyOiByLnIgKiB1WzJdLAoJCQkJCQkJZ3JhZGllbnRVbml0czogInVzZXJTcGFjZU9uVXNlIgoJCQkJCQl9KSk7CgkJCQkJCWZvciAoZiBpbiByKSAiaWQiICE9PSBmICYmIHgucHVzaChmLCByW2ZdKTsKCQkJCQkJZm9yIChmIGluIGQpIHgucHVzaChkW2ZdKTsKCQkJCQkJeCA9IHguam9pbigiLCIpLCBzW3hdID8gZyA9IHNbeF0uYXR0cigiaWQiKSA6IChyLmlkID0gZyA9IFplICsgUmUrKywgc1t4XSA9IGwgPSBfLmNyZWF0ZUVsZW1lbnQoYSkuYXR0cihyKS5hZGQoXy5kZWZzKSwgbC5zdG9wcyA9IFtdLCBtdChkLCBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdDsKCQkJCQkJCTAgPT09IGVbMV0uaW5kZXhPZigicmdiYSIpID8gKGkgPSBUdChlWzFdKSwgcCA9IGkuZ2V0KCJyZ2IiKSwgaCA9IGkuZ2V0KCJhIikpIDogKHAgPSBlWzFdLCBoID0gMSksIHQgPSBfLmNyZWF0ZUVsZW1lbnQoInN0b3AiKS5hdHRyKHsKCQkJCQkJCQlvZmZzZXQ6IGVbMF0sCgkJCQkJCQkJInN0b3AtY29sb3IiOiBwLAoJCQkJCQkJCSJzdG9wLW9wYWNpdHkiOiBoCgkJCQkJCQl9KS5hZGQobCksIGwuc3RvcHMucHVzaCh0KQoJCQkJCQl9KSksIG4uc2V0QXR0cmlidXRlKHQsICJ1cmwoIiArIF8udXJsICsgIiMiICsgZyArICIpIikKCQkJCQl9CgkJCQl9LAoJCQkJYXR0cjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhLCBvLCByID0gdGhpcy5lbGVtZW50LAoJCQkJCQlzID0gdGhpczsKCQkJCQlpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUgJiYgdCAhPT0gVyAmJiAobiA9IGUsIGUgPSB7fSwgZVtuXSA9IHQpLCAic3RyaW5nIiA9PSB0eXBlb2YgZSkgcyA9ICh0aGlzW2UgKyAiR2V0dGVyIl0gfHwgdGhpcy5fZGVmYXVsdEdldHRlcikuY2FsbCh0aGlzLCBlLCByKTsKCQkJCQllbHNlIHsKCQkJCQkJZm9yIChuIGluIGUpIGkgPSBlW25dLCBvID0gITEsIHRoaXMuc3ltYm9sTmFtZSAmJiAvXih4fHl8d2lkdGh8aGVpZ2h0fHJ8c3RhcnR8ZW5kfGlubmVyUnxhbmNob3JYfGFuY2hvclkpLy50ZXN0KG4pICYmIChhIHx8ICh0aGlzLnN5bWJvbEF0dHIoZSksIGEgPSAhMCksIG8gPSAhMCksICF0aGlzLnJvdGF0aW9uIHx8ICJ4IiAhPT0gbiAmJiAieSIgIT09IG4gfHwgKHRoaXMuZG9UcmFuc2Zvcm0gPSAhMCksIG8gfHwgKHRoaXNbbiArICJTZXR0ZXIiXSB8fCB0aGlzLl9kZWZhdWx0U2V0dGVyKS5jYWxsKHRoaXMsIGksIG4sIHIpLCB0aGlzLnNoYWRvd3MgJiYgL14od2lkdGh8aGVpZ2h0fHZpc2liaWxpdHl8eHx5fGR8dHJhbnNmb3JtfGN4fGN5fHIpJC8udGVzdChuKSAmJiB0aGlzLnVwZGF0ZVNoYWRvd3MobiwgaSk7CgkJCQkJCXRoaXMuZG9UcmFuc2Zvcm0gJiYgKHRoaXMudXBkYXRlVHJhbnNmb3JtKCksIHRoaXMuZG9UcmFuc2Zvcm0gPSAhMSkKCQkJCQl9CgkJCQkJcmV0dXJuIHMKCQkJCX0sCgkJCQl1cGRhdGVTaGFkb3dzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbiA9IHRoaXMuc2hhZG93cywgaSA9IG4ubGVuZ3RoOyBpLS07KSBuW2ldLnNldEF0dHJpYnV0ZShlLCAiaGVpZ2h0IiA9PT0gZSA/IGJlKHQgLSAobltpXS5jdXRIZWlnaHQgfHwgMCksIDApIDogImQiID09PSBlID8gdGhpcy5kIDogdCkKCQkJCX0sCgkJCQlhZGRDbGFzczogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5lbGVtZW50LAoJCQkJCQluID0gZih0LCAiY2xhc3MiKSB8fCAiIjsKCQkJCQlyZXR1cm4gLTEgPT09IG4uaW5kZXhPZihlKSAmJiBmKHQsICJjbGFzcyIsIG4gKyAiICIgKyBlKSwgdGhpcwoJCQkJfSwKCQkJCXN5bWJvbEF0dHI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJbXQoWyJ4IiwgInkiLCAiciIsICJzdGFydCIsICJlbmQiLCAid2lkdGgiLCAiaGVpZ2h0IiwgImlubmVyUiIsICJhbmNob3JYIiwgImFuY2hvclkiXSwgZnVuY3Rpb24obikgewoJCQkJCQl0W25dID0gXyhlW25dLCB0W25dKQoJCQkJCX0pLCB0LmF0dHIoewoJCQkJCQlkOiB0LnJlbmRlcmVyLnN5bWJvbHNbdC5zeW1ib2xOYW1lXSh0LngsIHQueSwgdC53aWR0aCwgdC5oZWlnaHQsIHQpCgkJCQkJfSkKCQkJCX0sCgkJCQljbGlwOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMuYXR0cigiY2xpcC1wYXRoIiwgZSA/ICJ1cmwoIiArIHRoaXMucmVuZGVyZXIudXJsICsgIiMiICsgZS5pZCArICIpIiA6IFFlKQoJCQkJfSwKCQkJCWNyaXNwOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0ge30sCgkJCQkJCW8gPSBlLnN0cm9rZVdpZHRoIHx8IGkuc3Ryb2tlV2lkdGggfHwgMDsKCQkJCQluID0geGUobykgJSAyIC8gMiwgZS54ID0gd2UoZS54IHx8IGkueCB8fCAwKSArIG4sIGUueSA9IHdlKGUueSB8fCBpLnkgfHwgMCkgKyBuLCBlLndpZHRoID0gd2UoKGUud2lkdGggfHwgaS53aWR0aCB8fCAwKSAtIDIgKiBuKSwgZS5oZWlnaHQgPSB3ZSgoZS5oZWlnaHQgfHwgaS5oZWlnaHQgfHwgMCkgLSAyICogbiksIGUuc3Ryb2tlV2lkdGggPSBvOwoJCQkJCWZvciAodCBpbiBlKSBpW3RdICE9PSBlW3RdICYmIChpW3RdID0gYVt0XSA9IGVbdF0pOwoJCQkJCXJldHVybiBhCgkJCQl9LAoJCQkJY3NzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlzID0gby5zdHlsZXMsCgkJCQkJCWwgPSB7fSwKCQkJCQkJYyA9IG8uZWxlbWVudCwKCQkJCQkJZCA9ICIiLAoJCQkJCQlwID0gIXM7CgkJCQkJaWYgKGUgJiYgZS5jb2xvciAmJiAoZS5maWxsID0gZS5jb2xvciksIHMpCgkJCQkJCWZvciAobiBpbiBlKSBlW25dICE9PSBzW25dICYmIChsW25dID0gZVtuXSwgcCA9ICEwKTsKCQkJCQlpZiAocCkgewoJCQkJCQlpZiAodCA9IG8udGV4dFdpZHRoID0gZSAmJiBlLndpZHRoICYmICJ0ZXh0IiA9PT0gYy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmIHIoZS53aWR0aCksIHMgJiYgKGUgPSBhKHMsIGwpKSwgby5zdHlsZXMgPSBlLCB0ICYmIChEZSB8fCAhT2UgJiYgby5yZW5kZXJlci5mb3JFeHBvcnQpICYmIGRlbGV0ZSBlLndpZHRoLCBUZSAmJiAhT2UpIHgoby5lbGVtZW50LCBlKTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlpID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXJldHVybiAiLSIgKyB0LnRvTG93ZXJDYXNlKCkKCQkJCQkJCX07CgkJCQkJCQlmb3IgKG4gaW4gZSkgZCArPSBuLnJlcGxhY2UoLyhbQS1aXSkvZywgaSkgKyAiOiIgKyBlW25dICsgIjsiOwoJCQkJCQkJZihjLCAic3R5bGUiLCBkKQoJCQkJCQl9CgkJCQkJCXQgJiYgby5hZGRlZCAmJiBvLnJlbmRlcmVyLmJ1aWxkVGV4dChvKQoJCQkJCX0KCQkJCQlyZXR1cm4gbwoJCQkJfSwKCQkJCW9uOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzLAoJCQkJCQlpID0gbi5lbGVtZW50OwoJCQkJCXJldHVybiBVICYmICJjbGljayIgPT09IGUgPyAoaS5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCW4udG91Y2hFdmVudEZpcmVkID0gZWUubm93KCksIGUucHJldmVudERlZmF1bHQoKSwgdC5jYWxsKGksIGUpCgkJCQkJfSwgaS5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewoJCQkJCQkoLTEgPT09IFNlLmluZGV4T2YoIkFuZHJvaWQiKSB8fCBlZS5ub3coKSAtIChuLnRvdWNoRXZlbnRGaXJlZCB8fCAwKSA+IDExMDApICYmIHQuY2FsbChpLCBlKQoJCQkJCX0pIDogaVsib24iICsgZV0gPSB0LCB0aGlzCgkJCQl9LAoJCQkJc2V0UmFkaWFsUmVmZXJlbmNlOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMuZWxlbWVudC5yYWRpYWxSZWZlcmVuY2UgPSBlLCB0aGlzCgkJCQl9LAoJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMuYXR0cih7CgkJCQkJCXRyYW5zbGF0ZVg6IGUsCgkJCQkJCXRyYW5zbGF0ZVk6IHQKCQkJCQl9KQoJCQkJfSwKCQkJCWludmVydDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCXJldHVybiBlLmludmVydGVkID0gITAsIGUudXBkYXRlVHJhbnNmb3JtKCksIGUKCQkJCX0sCgkJCQl1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQudHJhbnNsYXRlWCB8fCAwLAoJCQkJCQlpID0gdC50cmFuc2xhdGVZIHx8IDAsCgkJCQkJCWEgPSB0LnNjYWxlWCwKCQkJCQkJbyA9IHQuc2NhbGVZLAoJCQkJCQlyID0gdC5pbnZlcnRlZCwKCQkJCQkJcyA9IHQucm90YXRpb24sCgkJCQkJCWwgPSB0LmVsZW1lbnQ7CgkJCQkJciAmJiAobiArPSB0LmF0dHIoIndpZHRoIiksIGkgKz0gdC5hdHRyKCJoZWlnaHQiKSksIGUgPSBbInRyYW5zbGF0ZSgiICsgbiArICIsIiArIGkgKyAiKSJdLCByID8gZS5wdXNoKCJyb3RhdGUoOTApIHNjYWxlKC0xLDEpIikgOiBzICYmIGUucHVzaCgicm90YXRlKCIgKyBzICsgIiAiICsgKGwuZ2V0QXR0cmlidXRlKCJ4IikgfHwgMCkgKyAiICIgKyAobC5nZXRBdHRyaWJ1dGUoInkiKSB8fCAwKSArICIpIiksIChtKGEpIHx8IG0obykpICYmIGUucHVzaCgic2NhbGUoIiArIF8oYSwgMSkgKyAiICIgKyBfKG8sIDEpICsgIikiKSwgZS5sZW5ndGggJiYgbC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIGUuam9pbigiICIpKQoJCQkJfSwKCQkJCXRvRnJvbnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5lbGVtZW50OwoJCQkJCXJldHVybiBlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZSksIHRoaXMKCQkJCX0sCgkJCQlhbGlnbjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBsLCBjID0ge30sCgkJCQkJCWQgPSB0aGlzLnJlbmRlcmVyLAoJCQkJCQlwID0gZC5hbGlnbmVkT2JqZWN0czsKCQkJCQlyZXR1cm4gZSA/ICh0aGlzLmFsaWduT3B0aW9ucyA9IGUsIHRoaXMuYWxpZ25CeVRyYW5zbGF0ZSA9IHQsICghbiB8fCBzKG4pKSAmJiAodGhpcy5hbGlnblRvID0gbCA9IG4gfHwgInJlbmRlcmVyIiwgdShwLCB0aGlzKSwgcC5wdXNoKHRoaXMpLCBuID0gbnVsbCkpIDogKGUgPSB0aGlzLmFsaWduT3B0aW9ucywgdCA9IHRoaXMuYWxpZ25CeVRyYW5zbGF0ZSwgbCA9IHRoaXMuYWxpZ25UbyksIG4gPSBfKG4sIGRbbF0sIGQpLCBpID0gZS5hbGlnbiwgYSA9IGUudmVydGljYWxBbGlnbiwgbyA9IChuLnggfHwgMCkgKyAoZS54IHx8IDApLCByID0gKG4ueSB8fCAwKSArIChlLnkgfHwgMCksICgicmlnaHQiID09PSBpIHx8ICJjZW50ZXIiID09PSBpKSAmJiAobyArPSAobi53aWR0aCAtIChlLndpZHRoIHx8IDApKSAvIHsKCQkJCQkJcmlnaHQ6IDEsCgkJCQkJCWNlbnRlcjogMgoJCQkJCX1baV0pLCBjW3QgPyAidHJhbnNsYXRlWCIgOiAieCJdID0geGUobyksICgiYm90dG9tIiA9PT0gYSB8fCAibWlkZGxlIiA9PT0gYSkgJiYgKHIgKz0gKG4uaGVpZ2h0IC0gKGUuaGVpZ2h0IHx8IDApKSAvICh7CgkJCQkJCWJvdHRvbTogMSwKCQkJCQkJbWlkZGxlOiAyCgkJCQkJfVthXSB8fCAxKSksIGNbdCA/ICJ0cmFuc2xhdGVZIiA6ICJ5Il0gPSB4ZShyKSwgdGhpc1t0aGlzLnBsYWNlZCA/ICJhbmltYXRlIiA6ICJhdHRyIl0oYyksIHRoaXMucGxhY2VkID0gITAsIHRoaXMuYWxpZ25BdHRyID0gYywgdGhpcwoJCQkJfSwKCQkJCWdldEJCb3g6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpID0gdGhpcywKCQkJCQkJbyA9IGkuYkJveCwKCQkJCQkJciA9IGkucmVuZGVyZXIsCgkJCQkJCXMgPSBpLnJvdGF0aW9uLAoJCQkJCQlsID0gaS5lbGVtZW50LAoJCQkJCQljID0gaS5zdHlsZXMsCgkJCQkJCWQgPSBzICogQ2UsCgkJCQkJCXAgPSBpLnRleHRTdHI7CgkJCQkJaWYgKCgiIiA9PT0gcCB8fCBudC50ZXN0KHApKSAmJiAobiA9ICJudW0uIiArIHAudG9TdHJpbmcoKS5sZW5ndGggKyAoYyA/ICJ8IiArIGMuZm9udFNpemUgKyAifCIgKyBjLmZvbnRGYW1pbHkgOiAiIikpLCBuICYmIChvID0gci5jYWNoZVtuXSksICFvKSB7CgkJCQkJCWlmIChsLm5hbWVzcGFjZVVSSSA9PT0gRWUgfHwgci5mb3JFeHBvcnQpIHsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJbyA9IGwuZ2V0QkJveCA/IGEoe30sIGwuZ2V0QkJveCgpKSA6IHsKCQkJCQkJCQkJd2lkdGg6IGwub2Zmc2V0V2lkdGgsCgkJCQkJCQkJCWhlaWdodDogbC5vZmZzZXRIZWlnaHQKCQkJCQkJCQl9CgkJCQkJCQl9IGNhdGNoIChoKSB7fSghbyB8fCBvLndpZHRoIDwgMCkgJiYgKG8gPSB7CgkJCQkJCQkJd2lkdGg6IDAsCgkJCQkJCQkJaGVpZ2h0OiAwCgkJCQkJCQl9KQoJCQkJCQl9IGVsc2UgbyA9IGkuaHRtbEdldEJCb3goKTsKCQkJCQkJci5pc1NWRyAmJiAoZSA9IG8ud2lkdGgsIHQgPSBvLmhlaWdodCwgVGUgJiYgYyAmJiAiMTFweCIgPT09IGMuZm9udFNpemUgJiYgIjE2LjkiID09PSB0LnRvUHJlY2lzaW9uKDMpICYmIChvLmhlaWdodCA9IHQgPSAxNCksIHMgJiYgKG8ud2lkdGggPSBrZSh0ICogQmUoZCkpICsga2UoZSAqIHplKGQpKSwgby5oZWlnaHQgPSBrZSh0ICogemUoZCkpICsga2UoZSAqIEJlKGQpKSkpLCBpLmJCb3ggPSBvLCBuICYmIChyLmNhY2hlW25dID0gbykKCQkJCQl9CgkJCQkJcmV0dXJuIG8KCQkJCX0sCgkJCQlzaG93OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgJiYgdGhpcy5lbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gRWUgPyB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJ2aXNpYmlsaXR5IikgOiB0aGlzLmF0dHIoewoJCQkJCQl2aXNpYmlsaXR5OiBlID8gImluaGVyaXQiIDogVmUKCQkJCQl9KSwgdGhpcwoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLmF0dHIoewoJCQkJCQl2aXNpYmlsaXR5OiBKZQoJCQkJCX0pCgkJCQl9LAoJCQkJZmFkZU91dDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpczsKCQkJCQl0LmFuaW1hdGUoewoJCQkJCQlvcGFjaXR5OiAwCgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogZSB8fCAxNTAsCgkJCQkJCWNvbXBsZXRlOiBmdW5jdGlvbigpIHsKCQkJCQkJCXQuYXR0cih7CgkJCQkJCQkJeTogLTk5OTkKCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWFkZDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBhLCBvLCBzID0gdGhpcy5yZW5kZXJlciwKCQkJCQkJbCA9IGUgfHwgcywKCQkJCQkJYyA9IGwuZWxlbWVudCB8fCBzLmJveCwKCQkJCQkJZCA9IHRoaXMuZWxlbWVudCwKCQkJCQkJcCA9IHRoaXMuekluZGV4OwoJCQkJCWlmIChlICYmICh0aGlzLnBhcmVudEdyb3VwID0gZSksIHRoaXMucGFyZW50SW52ZXJ0ZWQgPSBlICYmIGUuaW52ZXJ0ZWQsIHZvaWQgMCAhPT0gdGhpcy50ZXh0U3RyICYmIHMuYnVpbGRUZXh0KHRoaXMpLCBwICYmIChsLmhhbmRsZVogPSAhMCwgcCA9IHIocCkpLCBsLmhhbmRsZVopCgkJCQkJCWZvciAodCA9IGMuY2hpbGROb2RlcywgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKQoJCQkJCQkJaWYgKG4gPSB0W2FdLCBpID0gZihuLCAiekluZGV4IiksIG4gIT09IGQgJiYgKHIoaSkgPiBwIHx8ICFtKHApICYmIG0oaSkpKSB7CgkJCQkJCQkJYy5pbnNlcnRCZWZvcmUoZCwgbiksIG8gPSAhMDsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCXJldHVybiBvIHx8IGMuYXBwZW5kQ2hpbGQoZCksIHRoaXMuYWRkZWQgPSAhMCwgdGhpcy5vbkFkZCAmJiB0aGlzLm9uQWRkKCksIHRoaXMKCQkJCX0sCgkJCQlzYWZlUmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IGUucGFyZW50Tm9kZTsKCQkJCQl0ICYmIHQucmVtb3ZlQ2hpbGQoZSkKCQkJCX0sCgkJCQlkZXN0cm95OiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmVsZW1lbnQgfHwge30sCgkJCQkJCW8gPSBpLnNoYWRvd3MsCgkJCQkJCXIgPSBpLnJlbmRlcmVyLmlzU1ZHICYmICJTUEFOIiA9PT0gYS5ub2RlTmFtZSAmJiBpLnBhcmVudEdyb3VwOwoJCQkJCWlmIChhLm9uY2xpY2sgPSBhLm9ubW91c2VvdXQgPSBhLm9ubW91c2VvdmVyID0gYS5vbm1vdXNlbW92ZSA9IGEucG9pbnQgPSBudWxsLCBrdChpKSwgaS5jbGlwUGF0aCAmJiAoaS5jbGlwUGF0aCA9IGkuY2xpcFBhdGguZGVzdHJveSgpKSwgaS5zdG9wcykgewoJCQkJCQlmb3IgKG4gPSAwOyBuIDwgaS5zdG9wcy5sZW5ndGg7IG4rKykgaS5zdG9wc1tuXSA9IGkuc3RvcHNbbl0uZGVzdHJveSgpOwoJCQkJCQlpLnN0b3BzID0gbnVsbAoJCQkJCX0KCQkJCQlmb3IgKGkuc2FmZVJlbW92ZUNoaWxkKGEpLCBvICYmIG10KG8sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaS5zYWZlUmVtb3ZlQ2hpbGQoZSkKCQkJCQl9KTsgciAmJiByLmRpdiAmJiAwID09PSByLmRpdi5jaGlsZE5vZGVzLmxlbmd0aDspIGUgPSByLnBhcmVudEdyb3VwLCBpLnNhZmVSZW1vdmVDaGlsZChyLmRpdiksIGRlbGV0ZSByLmRpdiwgciA9IGU7CgkJCQkJaS5hbGlnblRvICYmIHUoaS5yZW5kZXJlci5hbGlnbmVkT2JqZWN0cywgaSk7CgkJCQkJZm9yICh0IGluIGkpIGRlbGV0ZSBpW3RdOwoJCQkJCXJldHVybiBudWxsCgkJCQl9LAoJCQkJc2hhZG93OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIG8sIHIsIHMsIGwsIGMgPSBbXSwKCQkJCQkJZCA9IHRoaXMuZWxlbWVudDsKCQkJCQlpZiAoZSkgewoJCQkJCQlmb3IgKHIgPSBfKGUud2lkdGgsIDMpLCBzID0gKGUub3BhY2l0eSB8fCAuMTUpIC8gciwgbCA9IHRoaXMucGFyZW50SW52ZXJ0ZWQgPyAiKC0xLC0xKSIgOiAiKCIgKyBfKGUub2Zmc2V0WCwgMSkgKyAiLCAiICsgXyhlLm9mZnNldFksIDEpICsgIikiLCBpID0gMTsgciA+PSBpOyBpKyspIGEgPSBkLmNsb25lTm9kZSgwKSwgbyA9IDIgKiByICsgMSAtIDIgKiBpLCBmKGEsIHsKCQkJCQkJCWlzU2hhZG93OiAidHJ1ZSIsCgkJCQkJCQlzdHJva2U6IGUuY29sb3IgfHwgImJsYWNrIiwKCQkJCQkJCSJzdHJva2Utb3BhY2l0eSI6IHMgKiBpLAoJCQkJCQkJInN0cm9rZS13aWR0aCI6IG8sCgkJCQkJCQl0cmFuc2Zvcm06ICJ0cmFuc2xhdGUiICsgbCwKCQkJCQkJCWZpbGw6IFFlCgkJCQkJCX0pLCBuICYmIChmKGEsICJoZWlnaHQiLCBiZShmKGEsICJoZWlnaHQiKSAtIG8sIDApKSwgYS5jdXRIZWlnaHQgPSBvKSwgdCA/IHQuZWxlbWVudC5hcHBlbmRDaGlsZChhKSA6IGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgZCksIGMucHVzaChhKTsKCQkJCQkJdGhpcy5zaGFkb3dzID0gYwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpcwoJCQkJfSwKCQkJCXhHZXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gImNpcmNsZSIgPT09IHRoaXMuZWxlbWVudC5ub2RlTmFtZSAmJiAoZSA9IHsKCQkJCQkJeDogImN4IiwKCQkJCQkJeTogImN5IgoJCQkJCX1bZV0gfHwgZSksIHRoaXMuX2RlZmF1bHRHZXR0ZXIoZSkKCQkJCX0sCgkJCQlfZGVmYXVsdEdldHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gXyh0aGlzW2VdLCB0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGUpIDogbnVsbCwgMCk7CgkJCQkJcmV0dXJuIC9eW1wtMC05XC5dKyQvLnRlc3QodCkgJiYgKHQgPSBwYXJzZUZsb2F0KHQpKSwgdAoJCQkJfSwKCQkJCWRTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQllICYmIGUuam9pbiAmJiAoZSA9IGUuam9pbigiICIpKSwgLyhOYU58IHsyfXxeJCkvLnRlc3QoZSkgJiYgKGUgPSAiTSAwIDAiKSwgbi5zZXRBdHRyaWJ1dGUodCwgZSksIHRoaXNbdF0gPSBlCgkJCQl9LAoJCQkJZGFzaHN0eWxlU2V0dGVyOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQ7CgkJCQkJaWYgKGUgPSBlICYmIGUudG9Mb3dlckNhc2UoKSkgewoJCQkJCQlmb3IgKGUgPSBlLnJlcGxhY2UoInNob3J0ZGFzaGRvdGRvdCIsICIzLDEsMSwxLDEsMSwiKS5yZXBsYWNlKCJzaG9ydGRhc2hkb3QiLCAiMywxLDEsMSIpLnJlcGxhY2UoInNob3J0ZG90IiwgIjEsMSwiKS5yZXBsYWNlKCJzaG9ydGRhc2giLCAiMywxLCIpLnJlcGxhY2UoImxvbmdkYXNoIiwgIjgsMywiKS5yZXBsYWNlKC9kb3QvZywgIjEsMywiKS5yZXBsYWNlKCJkYXNoIiwgIjQsMywiKS5yZXBsYWNlKC8sJC8sICIiKS5zcGxpdCgiLCIpLCB0ID0gZS5sZW5ndGg7IHQtLTspIGVbdF0gPSByKGVbdF0pICogdGhpc1sic3Ryb2tlLXdpZHRoIl07CgkJCQkJCWUgPSBlLmpvaW4oIiwiKS5yZXBsYWNlKCJOYU4iLCAibm9uZSIpLCB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IiwgZSkKCQkJCQl9CgkJCQl9LAoJCQkJYWxpZ25TZXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0ZXh0LWFuY2hvciIsIHsKCQkJCQkJbGVmdDogInN0YXJ0IiwKCQkJCQkJY2VudGVyOiAibWlkZGxlIiwKCQkJCQkJcmlnaHQ6ICJlbmQiCgkJCQkJfVtlXSkKCQkJCX0sCgkJCQlvcGFjaXR5U2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdGhpc1t0XSA9IGUsIG4uc2V0QXR0cmlidXRlKHQsIGUpCgkJCQl9LAoJCQkJdGl0bGVTZXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKVswXTsKCQkJCQl0IHx8ICh0ID0gZmUuY3JlYXRlRWxlbWVudE5TKEVlLCAidGl0bGUiKSwgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHQpKSwgdC50ZXh0Q29udGVudCA9IF8oZSwgIiIpLnJlcGxhY2UoLzxbXj5dKj4vZywgIiIpCgkJCQl9LAoJCQkJdGV4dFNldHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCWUgIT09IHRoaXMudGV4dFN0ciAmJiAoZGVsZXRlIHRoaXMuYkJveCwgdGhpcy50ZXh0U3RyID0gZSwgdGhpcy5hZGRlZCAmJiB0aGlzLnJlbmRlcmVyLmJ1aWxkVGV4dCh0aGlzKSkKCQkJCX0sCgkJCQlmaWxsU2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJInN0cmluZyIgPT0gdHlwZW9mIGUgPyBuLnNldEF0dHJpYnV0ZSh0LCBlKSA6IGUgJiYgdGhpcy5jb2xvckdyYWRpZW50KGUsIHQsIG4pCgkJCQl9LAoJCQkJekluZGV4U2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJbi5zZXRBdHRyaWJ1dGUodCwgZSksIHRoaXNbdF0gPSBlCgkJCQl9LAoJCQkJX2RlZmF1bHRTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQluLnNldEF0dHJpYnV0ZSh0LCBlKQoJCQkJfQoJCQl9LCBELnByb3RvdHlwZS55R2V0dGVyID0gRC5wcm90b3R5cGUueEdldHRlciwgRC5wcm90b3R5cGUudHJhbnNsYXRlWFNldHRlciA9IEQucHJvdG90eXBlLnRyYW5zbGF0ZVlTZXR0ZXIgPSBELnByb3RvdHlwZS5yb3RhdGlvblNldHRlciA9IEQucHJvdG90eXBlLnZlcnRpY2FsQWxpZ25TZXR0ZXIgPSBELnByb3RvdHlwZS5zY2FsZVhTZXR0ZXIgPSBELnByb3RvdHlwZS5zY2FsZVlTZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl0aGlzW3RdID0gZSwgdGhpcy5kb1RyYW5zZm9ybSA9ICEwCgkJCX0sIEQucHJvdG90eXBlWyJzdHJva2Utd2lkdGhTZXR0ZXIiXSA9IEQucHJvdG90eXBlLnN0cm9rZVNldHRlciA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCXRoaXNbdF0gPSBlLCB0aGlzLnN0cm9rZSAmJiB0aGlzWyJzdHJva2Utd2lkdGgiXSA/ICh0aGlzLnN0cm9rZVdpZHRoID0gdGhpc1sic3Ryb2tlLXdpZHRoIl0sIEQucHJvdG90eXBlLmZpbGxTZXR0ZXIuY2FsbCh0aGlzLCB0aGlzLnN0cm9rZSwgInN0cm9rZSIsIG4pLCBuLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIiwgdGhpc1sic3Ryb2tlLXdpZHRoIl0pLCB0aGlzLmhhc1N0cm9rZSA9ICEwKSA6ICJzdHJva2Utd2lkdGgiID09PSB0ICYmIDAgPT09IGUgJiYgdGhpcy5oYXNTdHJva2UgJiYgKG4ucmVtb3ZlQXR0cmlidXRlKCJzdHJva2UiKSwgdGhpcy5oYXNTdHJva2UgPSAhMSkKCQkJfTsKCQkJdmFyIFB0ID0gZnVuY3Rpb24oKSB7CgkJCQl0aGlzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKQoJCQl9OwoJCQlQdC5wcm90b3R5cGUgPSB7CgkJCQlFbGVtZW50OiBELAoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCXZhciBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGxvY2F0aW9uOwoJCQkJCW8gPSBsLmNyZWF0ZUVsZW1lbnQoInN2ZyIpLmF0dHIoewoJCQkJCQl2ZXJzaW9uOiAiMS4xIgoJCQkJCX0pLmNzcyh0aGlzLmdldFN0eWxlKGkpKSwgciA9IG8uZWxlbWVudCwgZS5hcHBlbmRDaGlsZChyKSwgLTEgPT09IGUuaW5uZXJIVE1MLmluZGV4T2YoInhtbG5zIikgJiYgZihyLCAieG1sbnMiLCBFZSksIGwuaXNTVkcgPSAhMCwgbC5ib3ggPSByLCBsLmJveFdyYXBwZXIgPSBvLCBsLmFsaWduZWRPYmplY3RzID0gW10sIGwudXJsID0gKEFlIHx8IEllKSAmJiBmZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFzZSIpLmxlbmd0aCA/IGMuaHJlZi5yZXBsYWNlKC8jLio/JC8sICIiKS5yZXBsYWNlKC8oW1woJ1wpXSkvZywgIlxcJDEiKS5yZXBsYWNlKC8gL2csICIlMjAiKSA6ICIiLCBzID0gdGhpcy5jcmVhdGVFbGVtZW50KCJkZXNjIikuYWRkKCksIHMuZWxlbWVudC5hcHBlbmRDaGlsZChmZS5jcmVhdGVUZXh0Tm9kZSgiQ3JlYXRlZCB3aXRoICIgKyBIZSArICIgIiArIFVlKSksIGwuZGVmcyA9IHRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLmFkZCgpLCBsLmZvckV4cG9ydCA9IGEsIGwuZ3JhZGllbnRzID0ge30sIGwuY2FjaGUgPSB7fSwgbC5zZXRTaXplKHQsIG4sICExKTsKCQkJCQl2YXIgZCwgcDsKCQkJCQlBZSAmJiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiAobC5zdWJQaXhlbEZpeCA9IGQgPSBmdW5jdGlvbigpIHsKCQkJCQkJeChlLCB7CgkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJdG9wOiAwCgkJCQkJCX0pLCBwID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgeChlLCB7CgkJCQkJCQlsZWZ0OiB2ZShwLmxlZnQpIC0gcC5sZWZ0ICsgS2UsCgkJCQkJCQl0b3A6IHZlKHAudG9wKSAtIHAudG9wICsgS2UKCQkJCQkJfSkKCQkJCQl9LCBkKCksIHh0KGdlLCAicmVzaXplIiwgZCkpCgkJCQl9LAoJCQkJZ2V0U3R5bGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5zdHlsZSA9IGEoewoJCQkJCQlmb250RmFtaWx5OiAnIkx1Y2lkYSBHcmFuZGUiLCAiTHVjaWRhIFNhbnMgVW5pY29kZSIsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLAoJCQkJCQlmb250U2l6ZTogIjEycHgiCgkJCQkJfSwgZSkKCQkJCX0sCgkJCQlpc0hpZGRlbjogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuICF0aGlzLmJveFdyYXBwZXIuZ2V0QkJveCgpLndpZHRoCgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5kZWZzOwoJCQkJCXJldHVybiBlLmJveCA9IG51bGwsIGUuYm94V3JhcHBlciA9IGUuYm94V3JhcHBlci5kZXN0cm95KCksIFAoZS5ncmFkaWVudHMgfHwge30pLCBlLmdyYWRpZW50cyA9IG51bGwsIHQgJiYgKGUuZGVmcyA9IHQuZGVzdHJveSgpKSwgZS5zdWJQaXhlbEZpeCAmJiB3dChnZSwgInJlc2l6ZSIsIGUuc3ViUGl4ZWxGaXgpLCBlLmFsaWduZWRPYmplY3RzID0gbnVsbCwgbnVsbAoJCQkJfSwKCQkJCWNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IG5ldyB0aGlzLkVsZW1lbnQ7CgkJCQkJcmV0dXJuIHQuaW5pdCh0aGlzLCBlKSwgdAoJCQkJfSwKCQkJCWRyYXc6IGZ1bmN0aW9uKCkge30sCgkJCQlidWlsZFRleHQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0LCBuLCBpLCBhID0gZS5lbGVtZW50LCBvID0gdGhpcywgcyA9IG8uZm9yRXhwb3J0LCBsID0gXyhlLnRleHRTdHIsICIiKS50b1N0cmluZygpLCBjID0gLTEgIT09IGwuaW5kZXhPZigiPCIpLCBkID0gYS5jaGlsZE5vZGVzLCBwID0gZihhLCAieCIpLCBoID0gZS5zdHlsZXMsIHUgPSBlLnRleHRXaWR0aCwgbSA9IGggJiYgaC5saW5lSGVpZ2h0LCBnID0gaCAmJiBoLkhjVGV4dFN0cm9rZSwgdyA9IGQubGVuZ3RoLCB2ID0gZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gbSA/IHIobSkgOiBvLmZvbnRNZXRyaWNzKC8ocHh8ZW0pJC8udGVzdChlICYmIGUuc3R5bGUuZm9udFNpemUpID8gZS5zdHlsZS5mb250U2l6ZSA6IGggJiYgaC5mb250U2l6ZSB8fCBvLnN0eWxlLmZvbnRTaXplIHx8IDEyLCBlKS5oCgkJCQkJfTsgdy0tOykgYS5yZW1vdmVDaGlsZChkW3ddKTsKCQkJCQlyZXR1cm4gYyB8fCBnIHx8IC0xICE9PSBsLmluZGV4T2YoIiAiKSA/IChuID0gLzwuKnN0eWxlPSIoW14iXSspIi4qPi8sIGkgPSAvPC4qaHJlZj0iKGh0dHBbXiJdKykiLio+LywgdSAmJiAhZS5hZGRlZCAmJiB0aGlzLmJveC5hcHBlbmRDaGlsZChhKSwgdCA9IGMgPyBsLnJlcGxhY2UoLzwoYnxzdHJvbmcpPi9nLCAnPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQiPicpLnJlcGxhY2UoLzwoaXxlbSk+L2csICc8c3BhbiBzdHlsZT0iZm9udC1zdHlsZTppdGFsaWMiPicpLnJlcGxhY2UoLzxhL2csICI8c3BhbiIpLnJlcGxhY2UoLzxcLyhifHN0cm9uZ3xpfGVtfGEpPi9nLCAiPC9zcGFuPiIpLnNwbGl0KC88YnIuKj8+L2cpIDogW2xdLCAiIiA9PT0gdFt0Lmxlbmd0aCAtIDFdICYmIHQucG9wKCksIG10KHQsIGZ1bmN0aW9uKHQsIHIpIHsKCQkJCQkJdmFyIGwsIGMgPSAwOwoJCQkJCQl0ID0gdC5yZXBsYWNlKC88c3Bhbi9nLCAifHx8PHNwYW4iKS5yZXBsYWNlKC88XC9zcGFuPi9nLCAiPC9zcGFuPnx8fCIpLCBsID0gdC5zcGxpdCgifHx8IiksIG10KGwsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmICgiIiAhPT0gdCB8fCAxID09PSBsLmxlbmd0aCkgewoJCQkJCQkJCXZhciBkLCBtID0ge30sCgkJCQkJCQkJCWcgPSBmZS5jcmVhdGVFbGVtZW50TlMoRWUsICJ0c3BhbiIpOwoJCQkJCQkJCWlmIChuLnRlc3QodCkgJiYgKGQgPSB0Lm1hdGNoKG4pWzFdLnJlcGxhY2UoLyg7fCB8Xiljb2xvcihbIDpdKS8sICIkMWZpbGwkMiIpLCBmKGcsICJzdHlsZSIsIGQpKSwgaS50ZXN0KHQpICYmICFzICYmIChmKGcsICJvbmNsaWNrIiwgJ2xvY2F0aW9uLmhyZWY9IicgKyB0Lm1hdGNoKGkpWzFdICsgJyInKSwgeChnLCB7CgkJCQkJCQkJCWN1cnNvcjogInBvaW50ZXIiCgkJCQkJCQkJfSkpLCB0ID0gKHQucmVwbGFjZSgvPCgufFxuKSo/Pi9nLCAiIikgfHwgIiAiKS5yZXBsYWNlKC8mbHQ7L2csICI8IikucmVwbGFjZSgvJmd0Oy9nLCAiPiIpLCAiICIgIT09IHQpIHsKCQkJCQkJCQkJaWYgKGcuYXBwZW5kQ2hpbGQoZmUuY3JlYXRlVGV4dE5vZGUodCkpLCBjID8gbS5keCA9IDAgOiByICYmIG51bGwgIT09IHAgJiYgKG0ueCA9IHApLCBmKGcsIG0pLCBhLmFwcGVuZENoaWxkKGcpLCAhYyAmJiByICYmICghT2UgJiYgcyAmJiB4KGcsIHsKCQkJCQkJCQkJCWRpc3BsYXk6ICJibG9jayIKCQkJCQkJCQkJfSksIGYoZywgImR5IiwgdihnKSkpLCB1KQoJCQkJCQkJCQkJZm9yICh2YXIgXywgdywgYiwgeSA9IHQucmVwbGFjZSgvKFteXF5dKS0vZywgIiQxLSAiKS5zcGxpdCgiICIpLCBrID0gbC5sZW5ndGggPiAxIHx8IHkubGVuZ3RoID4gMSAmJiAibm93cmFwIiAhPT0gaC53aGl0ZVNwYWNlLCB6ID0gaC5IY0hlaWdodCwgQiA9IFtdLCBqID0gdihnKSwgQyA9IDE7IGsgJiYgKHkubGVuZ3RoIHx8IEIubGVuZ3RoKTspIGRlbGV0ZSBlLmJCb3gsIGIgPSBlLmdldEJCb3goKSwgdyA9IGIud2lkdGgsICFPZSAmJiBvLmZvckV4cG9ydCAmJiAodyA9IG8ubWVhc3VyZVNwYW5XaWR0aChnLmZpcnN0Q2hpbGQuZGF0YSwgZS5zdHlsZXMpKSwgXyA9IHcgPiB1LCBfICYmIDEgIT09IHkubGVuZ3RoID8gKGcucmVtb3ZlQ2hpbGQoZy5maXJzdENoaWxkKSwgQi51bnNoaWZ0KHkucG9wKCkpKSA6ICh5ID0gQiwgQiA9IFtdLCB5Lmxlbmd0aCAmJiAoQysrLCB6ICYmIEMgKiBqID4geiA/ICh5ID0gWyIuLi4iXSwgZS5hdHRyKCJ0aXRsZSIsIGUudGV4dFN0cikpIDogKGcgPSBmZS5jcmVhdGVFbGVtZW50TlMoRWUsICJ0c3BhbiIpLCBmKGcsIHsKCQkJCQkJCQkJCQlkeTogaiwKCQkJCQkJCQkJCQl4OiBwCgkJCQkJCQkJCQl9KSwgZCAmJiBmKGcsICJzdHlsZSIsIGQpLCBhLmFwcGVuZENoaWxkKGcpKSksIHcgPiB1ICYmICh1ID0gdykpLCB5Lmxlbmd0aCAmJiBnLmFwcGVuZENoaWxkKGZlLmNyZWF0ZVRleHROb2RlKHkuam9pbigiICIpLnJlcGxhY2UoLy0gL2csICItIikpKTsKCQkJCQkJCQkJYysrCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0pLCB2b2lkIDApIDogdm9pZCBhLmFwcGVuZENoaWxkKGZlLmNyZWF0ZVRleHROb2RlKGwpKQoJCQkJfSwKCQkJCWJ1dHRvbjogZnVuY3Rpb24oZSwgdCwgbiwgaSwgciwgcywgbCwgYywgZCkgewoJCQkJCXZhciBwLCBoLCB1LCBtLCBmLCBnLCBfID0gdGhpcy5sYWJlbChlLCB0LCBuLCBkLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAiYnV0dG9uIiksCgkJCQkJCXggPSAwLAoJCQkJCQl3ID0gewoJCQkJCQkJeDE6IDAsCgkJCQkJCQl5MTogMCwKCQkJCQkJCXgyOiAwLAoJCQkJCQkJeTI6IDEKCQkJCQkJfTsKCQkJCQlyZXR1cm4gciA9IG8oewoJCQkJCQkic3Ryb2tlLXdpZHRoIjogMSwKCQkJCQkJc3Ryb2tlOiAiI0NDQ0NDQyIsCgkJCQkJCWZpbGw6IHsKCQkJCQkJCWxpbmVhckdyYWRpZW50OiB3LAoJCQkJCQkJc3RvcHM6IFsKCQkJCQkJCQlbMCwgIiNGRUZFRkUiXSwKCQkJCQkJCQlbMSwgIiNGNkY2RjYiXQoJCQkJCQkJXQoJCQkJCQl9LAoJCQkJCQlyOiAyLAoJCQkJCQlwYWRkaW5nOiA1LAoJCQkJCQlzdHlsZTogewoJCQkJCQkJY29sb3I6ICJibGFjayIKCQkJCQkJfQoJCQkJCX0sIHIpLCB1ID0gci5zdHlsZSwgZGVsZXRlIHIuc3R5bGUsIHMgPSBvKHIsIHsKCQkJCQkJc3Ryb2tlOiAiIzY4QSIsCgkJCQkJCWZpbGw6IHsKCQkJCQkJCWxpbmVhckdyYWRpZW50OiB3LAoJCQkJCQkJc3RvcHM6IFsKCQkJCQkJCQlbMCwgIiNGRkYiXSwKCQkJCQkJCQlbMSwgIiNBQ0YiXQoJCQkJCQkJXQoJCQkJCQl9CgkJCQkJfSwgcyksIG0gPSBzLnN0eWxlLCBkZWxldGUgcy5zdHlsZSwgbCA9IG8ociwgewoJCQkJCQlzdHJva2U6ICIjNjhBIiwKCQkJCQkJZmlsbDogewoJCQkJCQkJbGluZWFyR3JhZGllbnQ6IHcsCgkJCQkJCQlzdG9wczogWwoJCQkJCQkJCVswLCAiIzlCRCJdLAoJCQkJCQkJCVsxLCAiI0NERiJdCgkJCQkJCQldCgkJCQkJCX0KCQkJCQl9LCBsKSwgZiA9IGwuc3R5bGUsIGRlbGV0ZSBsLnN0eWxlLCBjID0gbyhyLCB7CgkJCQkJCXN0eWxlOiB7CgkJCQkJCQljb2xvcjogIiNDQ0MiCgkJCQkJCX0KCQkJCQl9LCBjKSwgZyA9IGMuc3R5bGUsIGRlbGV0ZSBjLnN0eWxlLCB4dChfLmVsZW1lbnQsIFRlID8gIm1vdXNlb3ZlciIgOiAibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkzICE9PSB4ICYmIF8uYXR0cihzKS5jc3MobSkKCQkJCQl9KSwgeHQoXy5lbGVtZW50LCBUZSA/ICJtb3VzZW91dCIgOiAibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkzICE9PSB4ICYmIChwID0gW3IsIHMsIGxdW3hdLCBoID0gW3UsIG0sIGZdW3hdLCBfLmF0dHIocCkuY3NzKGgpKQoJCQkJCX0pLCBfLnNldFN0YXRlID0gZnVuY3Rpb24oZSkgewoJCQkJCQlfLnN0YXRlID0geCA9IGUsIGUgPyAyID09PSBlID8gXy5hdHRyKGwpLmNzcyhmKSA6IDMgPT09IGUgJiYgXy5hdHRyKGMpLmNzcyhnKSA6IF8uYXR0cihyKS5jc3ModSkKCQkJCQl9LCBfLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkzICE9PSB4ICYmIGkuY2FsbChfKQoJCQkJCX0pLmF0dHIocikuY3NzKGEoewoJCQkJCQljdXJzb3I6ICJkZWZhdWx0IgoJCQkJCX0sIHUpKQoJCQkJfSwKCQkJCWNyaXNwTGluZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBlWzFdID09PSBlWzRdICYmIChlWzFdID0gZVs0XSA9IHhlKGVbMV0pIC0gdCAlIDIgLyAyKSwgZVsyXSA9PT0gZVs1XSAmJiAoZVsyXSA9IGVbNV0gPSB4ZShlWzJdKSArIHQgJSAyIC8gMiksIGUKCQkJCX0sCgkJCQlwYXRoOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB7CgkJCQkJCWZpbGw6IFFlCgkJCQkJfTsKCQkJCQlyZXR1cm4gYyhlKSA/IHQuZCA9IGUgOiBsKGUpICYmIGEodCwgZSksIHRoaXMuY3JlYXRlRWxlbWVudCgicGF0aCIpLmF0dHIodCkKCQkJCX0sCgkJCQljaXJjbGU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IGwoZSkgPyBlIDogewoJCQkJCQkJeDogZSwKCQkJCQkJCXk6IHQsCgkJCQkJCQlyOiBuCgkJCQkJCX0sCgkJCQkJCWEgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoImNpcmNsZSIpOwoJCQkJCXJldHVybiBhLnhTZXR0ZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImN4IiwgZSkKCQkJCQl9LCBhLnlTZXR0ZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImN5IiwgZSkKCQkJCQl9LCBhLmF0dHIoaSkKCQkJCX0sCgkJCQlhcmM6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEsIG8pIHsKCQkJCQl2YXIgcjsKCQkJCQlyZXR1cm4gbChlKSAmJiAodCA9IGUueSwgbiA9IGUuciwgaSA9IGUuaW5uZXJSLCBhID0gZS5zdGFydCwgbyA9IGUuZW5kLCBlID0gZS54KSwgciA9IHRoaXMuc3ltYm9sKCJhcmMiLCBlIHx8IDAsIHQgfHwgMCwgbiB8fCAwLCBuIHx8IDAsIHsKCQkJCQkJaW5uZXJSOiBpIHx8IDAsCgkJCQkJCXN0YXJ0OiBhIHx8IDAsCgkJCQkJCWVuZDogbyB8fCAwCgkJCQkJfSksIHIuciA9IG4sIHIKCQkJCX0sCgkJCQlyZWN0OiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvKSB7CgkJCQkJYSA9IGwoZSkgPyBlLnIgOiBhOwoJCQkJCXZhciByID0gdGhpcy5jcmVhdGVFbGVtZW50KCJyZWN0IiksCgkJCQkJCXMgPSBsKGUpID8gZSA6IGUgPT09IFcgPyB7fSA6IHsKCQkJCQkJCXg6IGUsCgkJCQkJCQl5OiB0LAoJCQkJCQkJd2lkdGg6IGJlKG4sIDApLAoJCQkJCQkJaGVpZ2h0OiBiZShpLCAwKQoJCQkJCQl9OwoJCQkJCXJldHVybiBvICE9PSBXICYmIChzLnN0cm9rZVdpZHRoID0gbywgcyA9IHIuY3Jpc3AocykpLCBhICYmIChzLnIgPSBhKSwgci5yU2V0dGVyID0gZnVuY3Rpb24oZSkgewoJCQkJCQlmKHRoaXMuZWxlbWVudCwgewoJCQkJCQkJcng6IGUsCgkJCQkJCQlyeTogZQoJCQkJCQl9KQoJCQkJCX0sIHIuYXR0cihzKQoJCQkJfSwKCQkJCXNldFNpemU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmFsaWduZWRPYmplY3RzLAoJCQkJCQlvID0gYS5sZW5ndGg7CgkJCQkJZm9yIChpLndpZHRoID0gZSwgaS5oZWlnaHQgPSB0LCBpLmJveFdyYXBwZXJbXyhuLCAhMCkgPyAiYW5pbWF0ZSIgOiAiYXR0ciJdKHsKCQkJCQkJd2lkdGg6IGUsCgkJCQkJCWhlaWdodDogdAoJCQkJCX0pOyBvLS07KSBhW29dLmFsaWduKCkKCQkJCX0sCgkJCQlnOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoImciKTsKCQkJCQlyZXR1cm4gbShlKSA/IHQuYXR0cih7CgkJCQkJCSJjbGFzcyI6IFplICsgZQoJCQkJCX0pIDogdAoJCQkJfSwKCQkJCWltYWdlOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBvKSB7CgkJCQkJdmFyIHIsIHMgPSB7CgkJCQkJCXByZXNlcnZlQXNwZWN0UmF0aW86IFFlCgkJCQkJfTsKCQkJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYShzLCB7CgkJCQkJCXg6IHQsCgkJCQkJCXk6IG4sCgkJCQkJCXdpZHRoOiBpLAoJCQkJCQloZWlnaHQ6IG8KCQkJCQl9KSwgciA9IHRoaXMuY3JlYXRlRWxlbWVudCgiaW1hZ2UiKS5hdHRyKHMpLCByLmVsZW1lbnQuc2V0QXR0cmlidXRlTlMgPyByLmVsZW1lbnQuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCAiaHJlZiIsIGUpIDogci5lbGVtZW50LnNldEF0dHJpYnV0ZSgiaGMtc3ZnLWhyZWYiLCBlKSwgcgoJCQkJfSwKCQkJCXN5bWJvbDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgbywgcikgewoJCQkJCXZhciBzLCBsLCBjLCBkLCBwLCBoID0gdGhpcy5zeW1ib2xzW2VdLAoJCQkJCQl1ID0gaCAmJiBoKHhlKHQpLCB4ZShuKSwgaSwgbywgciksCgkJCQkJCW0gPSAvXnVybFwoKC4qPylcKSQvOwoJCQkJCXJldHVybiB1ID8gKHMgPSB0aGlzLnBhdGgodSksIGEocywgewoJCQkJCQlzeW1ib2xOYW1lOiBlLAoJCQkJCQl4OiB0LAoJCQkJCQl5OiBuLAoJCQkJCQl3aWR0aDogaSwKCQkJCQkJaGVpZ2h0OiBvCgkJCQkJfSksIHIgJiYgYShzLCByKSkgOiBtLnRlc3QoZSkgJiYgKHAgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWUuZWxlbWVudCAmJiAoZS5hdHRyKHsKCQkJCQkJCXdpZHRoOiB0WzBdLAoJCQkJCQkJaGVpZ2h0OiB0WzFdCgkJCQkJCX0pLCBlLmFsaWduQnlUcmFuc2xhdGUgfHwgZS50cmFuc2xhdGUoeGUoKGkgLSB0WzBdKSAvIDIpLCB4ZSgobyAtIHRbMV0pIC8gMikpKQoJCQkJCX0sIGMgPSBlLm1hdGNoKG0pWzFdLCBkID0gTWVbY10gfHwgciAmJiByLndpZHRoICYmIHIuaGVpZ2h0ICYmIFtyLndpZHRoLCByLmhlaWdodF0sIHMgPSB0aGlzLmltYWdlKGMpLmF0dHIoewoJCQkJCQl4OiB0LAoJCQkJCQl5OiBuCgkJCQkJfSksIHMuaXNJbWcgPSAhMCwgZCA/IHAocywgZCkgOiAocy5hdHRyKHsKCQkJCQkJd2lkdGg6IDAsCgkJCQkJCWhlaWdodDogMAoJCQkJCX0pLCBsID0gdygiaW1nIiwgewoJCQkJCQlvbmxvYWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcChzLCBNZVtjXSA9IFt0aGlzLndpZHRoLCB0aGlzLmhlaWdodF0pCgkJCQkJCX0sCgkJCQkJCXNyYzogYwoJCQkJCX0pKSksIHMKCQkJCX0sCgkJCQlzeW1ib2xzOiB7CgkJCQkJY2lyY2xlOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBhID0gLjE2NiAqIG47CgkJCQkJCXJldHVybiBbZXQsIGUgKyBuIC8gMiwgdCwgIkMiLCBlICsgbiArIGEsIHQsIGUgKyBuICsgYSwgdCArIGksIGUgKyBuIC8gMiwgdCArIGksICJDIiwgZSAtIGEsIHQgKyBpLCBlIC0gYSwgdCwgZSArIG4gLyAyLCB0LCAiWiJdCgkJCQkJfSwKCQkJCQlzcXVhcmU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJcmV0dXJuIFtldCwgZSwgdCwgdHQsIGUgKyBuLCB0LCBlICsgbiwgdCArIGksIGUsIHQgKyBpLCAiWiJdCgkJCQkJfSwKCQkJCQl0cmlhbmdsZTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQlyZXR1cm4gW2V0LCBlICsgbiAvIDIsIHQsIHR0LCBlICsgbiwgdCArIGksIGUsIHQgKyBpLCAiWiJdCgkJCQkJfSwKCQkJCQkidHJpYW5nbGUtZG93biI6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJcmV0dXJuIFtldCwgZSwgdCwgdHQsIGUgKyBuLCB0LCBlICsgbiAvIDIsIHQgKyBpLCAiWiJdCgkJCQkJfSwKCQkJCQlkaWFtb25kOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXJldHVybiBbZXQsIGUgKyBuIC8gMiwgdCwgdHQsIGUgKyBuLCB0ICsgaSAvIDIsIGUgKyBuIC8gMiwgdCArIGksIGUsIHQgKyBpIC8gMiwgIloiXQoJCQkJCX0sCgkJCQkJYXJjOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJCXZhciBvID0gYS5zdGFydCwKCQkJCQkJCXIgPSBhLnIgfHwgbiB8fCBpLAoJCQkJCQkJcyA9IGEuZW5kIC0gLjAwMSwKCQkJCQkJCWwgPSBhLmlubmVyUiwKCQkJCQkJCWMgPSBhLm9wZW4sCgkJCQkJCQlkID0gemUobyksCgkJCQkJCQlwID0gQmUobyksCgkJCQkJCQloID0gemUocyksCgkJCQkJCQl1ID0gQmUocyksCgkJCQkJCQltID0gYS5lbmQgLSBvIDwgamUgPyAwIDogMTsKCQkJCQkJcmV0dXJuIFtldCwgZSArIHIgKiBkLCB0ICsgciAqIHAsICJBIiwgciwgciwgMCwgbSwgMSwgZSArIHIgKiBoLCB0ICsgciAqIHUsIGMgPyBldCA6IHR0LCBlICsgbCAqIGgsIHQgKyBsICogdSwgIkEiLCBsLCBsLCAwLCBtLCAwLCBlICsgbCAqIGQsIHQgKyBsICogcCwgYyA/ICIiIDogIloiXQoJCQkJCX0sCgkJCQkJY2FsbG91dDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQl2YXIgbywgciA9IDYsCgkJCQkJCQlzID0gNiwKCQkJCQkJCWwgPSB5ZShhICYmIGEuciB8fCAwLCBuLCBpKSwKCQkJCQkJCWMgPSBsICsgcywKCQkJCQkJCWQgPSBhICYmIGEuYW5jaG9yWCwKCQkJCQkJCXAgPSBhICYmIGEuYW5jaG9yWSwKCQkJCQkJCWggPSB4ZShhLnN0cm9rZVdpZHRoIHx8IDApICUgMiAvIDI7CgkJCQkJCXJldHVybiBlICs9IGgsIHQgKz0gaCwgbyA9IFsiTSIsIGUgKyBsLCB0LCAiTCIsIGUgKyBuIC0gbCwgdCwgIkMiLCBlICsgbiwgdCwgZSArIG4sIHQsIGUgKyBuLCB0ICsgbCwgIkwiLCBlICsgbiwgdCArIGkgLSBsLCAiQyIsIGUgKyBuLCB0ICsgaSwgZSArIG4sIHQgKyBpLCBlICsgbiAtIGwsIHQgKyBpLCAiTCIsIGUgKyBsLCB0ICsgaSwgIkMiLCBlLCB0ICsgaSwgZSwgdCArIGksIGUsIHQgKyBpIC0gbCwgIkwiLCBlLCB0ICsgbCwgIkMiLCBlLCB0LCBlLCB0LCBlICsgbCwgdF0sIGQgJiYgZCA+IG4gJiYgcCA+IHQgKyBjICYmIHQgKyBpIC0gYyA+IHAgPyBvLnNwbGljZSgxMywgMywgIkwiLCBlICsgbiwgcCAtIHMsIGUgKyBuICsgciwgcCwgZSArIG4sIHAgKyBzLCBlICsgbiwgdCArIGkgLSBsKSA6IGQgJiYgMCA+IGQgJiYgcCA+IHQgKyBjICYmIHQgKyBpIC0gYyA+IHAgPyBvLnNwbGljZSgzMywgMywgIkwiLCBlLCBwICsgcywgZSAtIHIsIHAsIGUsIHAgLSBzLCBlLCB0ICsgbCkgOiBwICYmIHAgPiBpICYmIGQgPiBlICsgYyAmJiBlICsgbiAtIGMgPiBkID8gby5zcGxpY2UoMjMsIDMsICJMIiwgZCArIHMsIHQgKyBpLCBkLCB0ICsgaSArIHIsIGQgLSBzLCB0ICsgaSwgZSArIGwsIHQgKyBpKSA6IHAgJiYgMCA+IHAgJiYgZCA+IGUgKyBjICYmIGUgKyBuIC0gYyA+IGQgJiYgby5zcGxpY2UoMywgMywgIkwiLCBkIC0gcywgdCwgZCwgdCAtIHIsIGQgKyBzLCB0LCBuIC0gbCwgdCksIG8KCQkJCQl9CgkJCQl9LAoJCQkJY2xpcFJlY3Q6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbyA9IFplICsgUmUrKywKCQkJCQkJciA9IHRoaXMuY3JlYXRlRWxlbWVudCgiY2xpcFBhdGgiKS5hdHRyKHsKCQkJCQkJCWlkOiBvCgkJCQkJCX0pLmFkZCh0aGlzLmRlZnMpOwoJCQkJCXJldHVybiBhID0gdGhpcy5yZWN0KGUsIHQsIG4sIGksIDApLmFkZChyKSwgYS5pZCA9IG8sIGEuY2xpcFBhdGggPSByLCBhCgkJCQl9LAoJCQkJdGV4dDogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvID0gdGhpcywKCQkJCQkJciA9IERlIHx8ICFPZSAmJiBvLmZvckV4cG9ydCwKCQkJCQkJcyA9IHt9OwoJCQkJCXJldHVybiBpICYmICFvLmZvckV4cG9ydCA/IG8uaHRtbChlLCB0LCBuKSA6IChzLnggPSBNYXRoLnJvdW5kKHQgfHwgMCksIG4gJiYgKHMueSA9IE1hdGgucm91bmQobikpLCAoZSB8fCAwID09PSBlKSAmJiAocy50ZXh0ID0gZSksIGEgPSBvLmNyZWF0ZUVsZW1lbnQoInRleHQiKS5hdHRyKHMpLCByICYmIGEuY3NzKHsKCQkJCQkJcG9zaXRpb246IEdlCgkJCQkJfSksIGkgfHwgKGEueFNldHRlciA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGksIGEsIG8gPSBuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0c3BhbiIpLAoJCQkJCQkJciA9IG4uZ2V0QXR0cmlidXRlKHQpOwoJCQkJCQlmb3IgKGEgPSAwOyBhIDwgby5sZW5ndGg7IGErKykgaSA9IG9bYV0sIGkuZ2V0QXR0cmlidXRlKHQpID09PSByICYmIGkuc2V0QXR0cmlidXRlKHQsIGUpOwoJCQkJCQluLnNldEF0dHJpYnV0ZSh0LCBlKQoJCQkJCX0pLCBhKQoJCQkJfSwKCQkJCWZvbnRNZXRyaWNzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZSA9IGUgfHwgdGhpcy5zdHlsZS5mb250U2l6ZSwgdCAmJiBnZS5nZXRDb21wdXRlZFN0eWxlICYmICh0ID0gdC5lbGVtZW50IHx8IHQsIGUgPSBnZS5nZXRDb21wdXRlZFN0eWxlKHQsICIiKS5mb250U2l6ZSksIGUgPSAvcHgvLnRlc3QoZSkgPyByKGUpIDogL2VtLy50ZXN0KGUpID8gMTIgKiBwYXJzZUZsb2F0KGUpIDogMTI7CgkJCQkJdmFyIG4gPSAyNCA+IGUgPyBlICsgNCA6IHhlKDEuMiAqIGUpLAoJCQkJCQlpID0geGUoLjggKiBuKTsKCQkJCQlyZXR1cm4gewoJCQkJCQloOiBuLAoJCQkJCQliOiBpLAoJCQkJCQlmOiBlCgkJCQkJfQoJCQkJfSwKCQkJCWxhYmVsOiBmdW5jdGlvbihlLCB0LCBuLCBpLCByLCBzLCBsLCBjLCBkKSB7CgkJCQkJZnVuY3Rpb24gcCgpIHsKCQkJCQkJdmFyIGUsIHQsIG4gPSBCLmVsZW1lbnQuc3R5bGU7CgkJCQkJCWcgPSAodm9pZCAwID09PSBfIHx8IHZvaWQgMCA9PT0geCB8fCB6LnN0eWxlcy50ZXh0QWxpZ24pICYmIEIudGV4dFN0ciAmJiBCLmdldEJCb3goKSwgei53aWR0aCA9IChfIHx8IGcud2lkdGggfHwgMCkgKyAyICogQyArIFMsIHouaGVpZ2h0ID0gKHggfHwgZy5oZWlnaHQgfHwgMCkgKyAyICogQywgYiA9IEMgKyBrLmZvbnRNZXRyaWNzKG4gJiYgbi5mb250U2l6ZSwgQikuYiwgeSAmJiAoZiB8fCAoZSA9IHhlKC1qICogQyksIHQgPSBjID8gLWIgOiAwLCB6LmJveCA9IGYgPSBpID8gay5zeW1ib2woaSwgZSwgdCwgei53aWR0aCwgei5oZWlnaHQsIFQpIDogay5yZWN0KGUsIHQsIHoud2lkdGgsIHouaGVpZ2h0LCAwLCBUW3J0XSksIGYuYXR0cigiZmlsbCIsIFFlKS5hZGQoeikpLCBmLmlzSW1nIHx8IGYuYXR0cihhKHsKCQkJCQkJCXdpZHRoOiB4ZSh6LndpZHRoKSwKCQkJCQkJCWhlaWdodDogeGUoei5oZWlnaHQpCgkJCQkJCX0sIFQpKSwgVCA9IG51bGwpCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiBoKCkgewoJCQkJCQl2YXIgZSwgdCA9IHouc3R5bGVzLAoJCQkJCQkJbiA9IHQgJiYgdC50ZXh0QWxpZ24sCgkJCQkJCQlpID0gUyArIEMgKiAoMSAtIGopOwoJCQkJCQllID0gYyA/IDAgOiBiLCBtKF8pICYmIGcgJiYgKCJjZW50ZXIiID09PSBuIHx8ICJyaWdodCIgPT09IG4pICYmIChpICs9IHsKCQkJCQkJCWNlbnRlcjogLjUsCgkJCQkJCQlyaWdodDogMQoJCQkJCQl9W25dICogKF8gLSBnLndpZHRoKSksIChpICE9PSBCLnggfHwgZSAhPT0gQi55KSAmJiAoQi5hdHRyKCJ4IiwgaSksIGUgIT09IFcgJiYgQi5hdHRyKCJ5IiwgZSkpLCBCLnggPSBpLCBCLnkgPSBlCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiB1KGUsIHQpIHsKCQkJCQkJZiA/IGYuYXR0cihlLCB0KSA6IFRbZV0gPSB0CgkJCQkJfQoJCQkJCXZhciBmLCBnLCBfLCB4LCB3LCB2LCBiLCB5LCBrID0gdGhpcywKCQkJCQkJeiA9IGsuZyhkKSwKCQkJCQkJQiA9IGsudGV4dCgiIiwgMCwgMCwgbCkuYXR0cih7CgkJCQkJCQl6SW5kZXg6IDEKCQkJCQkJfSksCgkJCQkJCWogPSAwLAoJCQkJCQlDID0gMywKCQkJCQkJUyA9IDAsCgkJCQkJCU4gPSAwLAoJCQkJCQlUID0ge307CgkJCQkJei5vbkFkZCA9IGZ1bmN0aW9uKCkgewoJCQkJCQlCLmFkZCh6KSwgei5hdHRyKHsKCQkJCQkJCXRleHQ6IGUgfHwgMCA9PT0gZSA/IGUgOiAiIiwKCQkJCQkJCXg6IHQsCgkJCQkJCQl5OiBuCgkJCQkJCX0pLCBmICYmIG0ocikgJiYgei5hdHRyKHsKCQkJCQkJCWFuY2hvclg6IHIsCgkJCQkJCQlhbmNob3JZOiBzCgkJCQkJCX0pCgkJCQkJfSwgei53aWR0aFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJXyA9IGUKCQkJCQl9LCB6LmhlaWdodFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJeCA9IGUKCQkJCQl9LCB6LnBhZGRpbmdTZXR0ZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCW0oZSkgJiYgZSAhPT0gQyAmJiAoQyA9IGUsIGgoKSkKCQkJCQl9LCB6LnBhZGRpbmdMZWZ0U2V0dGVyID0gZnVuY3Rpb24oZSkgewoJCQkJCQltKGUpICYmIGUgIT09IFMgJiYgKFMgPSBlLCBoKCkpCgkJCQkJfSwgei5hbGlnblNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJaiA9IHsKCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQljZW50ZXI6IC41LAoJCQkJCQkJcmlnaHQ6IDEKCQkJCQkJfVtlXQoJCQkJCX0sIHoudGV4dFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAhPT0gVyAmJiBCLnRleHRTZXR0ZXIoZSksIHAoKSwgaCgpCgkJCQkJfSwgelsic3Ryb2tlLXdpZHRoU2V0dGVyIl0gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWUgJiYgKHkgPSAhMCksIE4gPSBlICUgMiAvIDIsIHUodCwgZSkKCQkJCQl9LCB6LnN0cm9rZVNldHRlciA9IHouZmlsbFNldHRlciA9IHouclNldHRlciA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJImZpbGwiID09PSB0ICYmIGUgJiYgKHkgPSAhMCksIHUodCwgZSkKCQkJCQl9LCB6LmFuY2hvclhTZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXIgPSBlLCB1KHQsIGUgKyBOIC0gdykKCQkJCQl9LCB6LmFuY2hvcllTZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXMgPSBlLCB1KHQsIGUgLSB2KQoJCQkJCX0sIHoueFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJei54ID0gZSwgaiAmJiAoZSAtPSBqICogKChfIHx8IGcud2lkdGgpICsgQykpLCB3ID0geGUoZSksIHouYXR0cigidHJhbnNsYXRlWCIsIHcpCgkJCQkJfSwgei55U2V0dGVyID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2ID0gei55ID0geGUoZSksIHouYXR0cigidHJhbnNsYXRlWSIsIHYpCgkJCQkJfTsKCQkJCQl2YXIgUCA9IHouY3NzOwoJCQkJCXJldHVybiBhKHosIHsKCQkJCQkJY3NzOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlpZiAoZSkgewoJCQkJCQkJCXZhciB0ID0ge307CgkJCQkJCQkJZSA9IG8oZSksIG10KHoudGV4dFByb3BzLCBmdW5jdGlvbihuKSB7CgkJCQkJCQkJCWVbbl0gIT09IFcgJiYgKHRbbl0gPSBlW25dLCBkZWxldGUgZVtuXSkKCQkJCQkJCQl9KSwgQi5jc3ModCkKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBQLmNhbGwoeiwgZSkKCQkJCQkJfSwKCQkJCQkJZ2V0QkJveDogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCXdpZHRoOiBnLndpZHRoICsgMiAqIEMsCgkJCQkJCQkJaGVpZ2h0OiBnLmhlaWdodCArIDIgKiBDLAoJCQkJCQkJCXg6IGcueCAtIEMsCgkJCQkJCQkJeTogZy55IC0gQwoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlzaGFkb3c6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBmICYmIGYuc2hhZG93KGUpLCB6CgkJCQkJCX0sCgkJCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCQkJd3Qoei5lbGVtZW50LCAibW91c2VlbnRlciIpLCB3dCh6LmVsZW1lbnQsICJtb3VzZWxlYXZlIiksIEIgJiYgKEIgPSBCLmRlc3Ryb3koKSksIGYgJiYgKGYgPSBmLmRlc3Ryb3koKSksIEQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh6KSwgeiA9IGsgPSBwID0gaCA9IHUgPSBudWxsCgkJCQkJCX0KCQkJCQl9KQoJCQkJfQoJCQl9LCBIID0gUHQsIGEoRC5wcm90b3R5cGUsIHsKCQkJCWh0bWxDc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSB0LmVsZW1lbnQsCgkJCQkJCWkgPSBlICYmICJTUEFOIiA9PT0gbi50YWdOYW1lICYmIGUud2lkdGg7CgkJCQkJcmV0dXJuIGkgJiYgKGRlbGV0ZSBlLndpZHRoLCB0LnRleHRXaWR0aCA9IGksIHQudXBkYXRlVHJhbnNmb3JtKCkpLCB0LnN0eWxlcyA9IGEodC5zdHlsZXMsIGUpLCB4KHQuZWxlbWVudCwgZSksIHQKCQkJCX0sCgkJCQlodG1sR2V0QkJveDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5lbGVtZW50LAoJCQkJCQluID0gZS5iQm94OwoJCQkJCXJldHVybiBuIHx8ICgidGV4dCIgPT09IHQubm9kZU5hbWUgJiYgKHQuc3R5bGUucG9zaXRpb24gPSBHZSksIG4gPSBlLmJCb3ggPSB7CgkJCQkJCXg6IHQub2Zmc2V0TGVmdCwKCQkJCQkJeTogdC5vZmZzZXRUb3AsCgkJCQkJCXdpZHRoOiB0Lm9mZnNldFdpZHRoLAoJCQkJCQloZWlnaHQ6IHQub2Zmc2V0SGVpZ2h0CgkJCQkJfSksIG4KCQkJCX0sCgkJCQlodG1sVXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIXRoaXMuYWRkZWQpIHJldHVybiB2b2lkKHRoaXMuYWxpZ25PbkFkZCA9ICEwKTsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLnJlbmRlcmVyLAoJCQkJCQluID0gZS5lbGVtZW50LAoJCQkJCQlpID0gZS50cmFuc2xhdGVYIHx8IDAsCgkJCQkJCWEgPSBlLnRyYW5zbGF0ZVkgfHwgMCwKCQkJCQkJbyA9IGUueCB8fCAwLAoJCQkJCQlzID0gZS55IHx8IDAsCgkJCQkJCWwgPSBlLnRleHRBbGlnbiB8fCAibGVmdCIsCgkJCQkJCWMgPSB7CgkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJY2VudGVyOiAuNSwKCQkJCQkJCXJpZ2h0OiAxCgkJCQkJCX1bbF0sCgkJCQkJCWQgPSBlLnNoYWRvd3M7CgkJCQkJaWYgKHgobiwgewoJCQkJCQltYXJnaW5MZWZ0OiBpLAoJCQkJCQltYXJnaW5Ub3A6IGEKCQkJCQl9KSwgZCAmJiBtdChkLCBmdW5jdGlvbihlKSB7CgkJCQkJCXgoZSwgewoJCQkJCQkJbWFyZ2luTGVmdDogaSArIDEsCgkJCQkJCQltYXJnaW5Ub3A6IGEgKyAxCgkJCQkJCX0pCgkJCQkJfSksIGUuaW52ZXJ0ZWQgJiYgbXQobi5jaGlsZE5vZGVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXQuaW52ZXJ0Q2hpbGQoZSwgbikKCQkJCQl9KSwgIlNQQU4iID09PSBuLnRhZ05hbWUpIHsKCQkJCQkJdmFyIHAsIGgsIHUgPSBlLnJvdGF0aW9uLAoJCQkJCQkJZiA9IHIoZS50ZXh0V2lkdGgpLAoJCQkJCQkJZyA9IFt1LCBsLCBuLmlubmVySFRNTCwgZS50ZXh0V2lkdGhdLmpvaW4oIiwiKTsKCQkJCQkJZyAhPT0gZS5jVFQgJiYgKGggPSB0LmZvbnRNZXRyaWNzKG4uc3R5bGUuZm9udFNpemUpLmIsIG0odSkgJiYgZS5zZXRTcGFuUm90YXRpb24odSwgYywgaCksIHAgPSBfKGUuZWxlbVdpZHRoLCBuLm9mZnNldFdpZHRoKSwgcCA+IGYgJiYgL1sgXC1dLy50ZXN0KG4udGV4dENvbnRlbnQgfHwgbi5pbm5lclRleHQpICYmICh4KG4sIHsKCQkJCQkJCXdpZHRoOiBmICsgS2UsCgkJCQkJCQlkaXNwbGF5OiAiYmxvY2siLAoJCQkJCQkJd2hpdGVTcGFjZTogIm5vcm1hbCIKCQkJCQkJfSksIHAgPSBmKSwgZS5nZXRTcGFuQ29ycmVjdGlvbihwLCBoLCBjLCB1LCBsKSksIHgobiwgewoJCQkJCQkJbGVmdDogbyArIChlLnhDb3JyIHx8IDApICsgS2UsCgkJCQkJCQl0b3A6IHMgKyAoZS55Q29yciB8fCAwKSArIEtlCgkJCQkJCX0pLCBJZSAmJiAoaCA9IG4ub2Zmc2V0SGVpZ2h0KSwgZS5jVFQgPSBnCgkJCQkJfQoJCQkJfSwKCQkJCXNldFNwYW5Sb3RhdGlvbjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0ge30sCgkJCQkJCWEgPSBUZSA/ICItbXMtdHJhbnNmb3JtIiA6IEllID8gIi13ZWJraXQtdHJhbnNmb3JtIiA6IEFlID8gIk1velRyYW5zZm9ybSIgOiBOZSA/ICItby10cmFuc2Zvcm0iIDogIiI7CgkJCQkJaVthXSA9IGkudHJhbnNmb3JtID0gInJvdGF0ZSgiICsgZSArICJkZWcpIiwgaVthICsgKEFlID8gIk9yaWdpbiIgOiAiLW9yaWdpbiIpXSA9IGkudHJhbnNmb3JtT3JpZ2luID0gMTAwICogdCArICIlICIgKyBuICsgInB4IiwgeCh0aGlzLmVsZW1lbnQsIGkpCgkJCQl9LAoJCQkJZ2V0U3BhbkNvcnJlY3Rpb246IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl0aGlzLnhDb3JyID0gLWUgKiBuLCB0aGlzLnlDb3JyID0gLXQKCQkJCX0KCQkJfSksIGEoUHQucHJvdG90eXBlLCB7CgkJCQlodG1sOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSwKCQkJCQkJbyA9IGkuZWxlbWVudCwKCQkJCQkJciA9IGkucmVuZGVyZXI7CgkJCQkJcmV0dXJuIGkudGV4dFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAhPT0gby5pbm5lckhUTUwgJiYgZGVsZXRlIHRoaXMuYkJveCwgby5pbm5lckhUTUwgPSB0aGlzLnRleHRTdHIgPSBlCgkJCQkJfSwgaS54U2V0dGVyID0gaS55U2V0dGVyID0gaS5hbGlnblNldHRlciA9IGkucm90YXRpb25TZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCSJhbGlnbiIgPT09IHQgJiYgKHQgPSAidGV4dEFsaWduIiksIGlbdF0gPSBlLCBpLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKQoJCQkJCX0sIGkuYXR0cih7CgkJCQkJCXRleHQ6IGUsCgkJCQkJCXg6IHhlKHQpLAoJCQkJCQl5OiB4ZShuKQoJCQkJCX0pLmNzcyh7CgkJCQkJCXBvc2l0aW9uOiBHZSwKCQkJCQkJd2hpdGVTcGFjZTogIm5vd3JhcCIsCgkJCQkJCWZvbnRGYW1pbHk6IHRoaXMuc3R5bGUuZm9udEZhbWlseSwKCQkJCQkJZm9udFNpemU6IHRoaXMuc3R5bGUuZm9udFNpemUKCQkJCQl9KSwgaS5jc3MgPSBpLmh0bWxDc3MsIHIuaXNTVkcgJiYgKGkuYWRkID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCwgbiwgcyA9IHIuYm94LnBhcmVudE5vZGUsCgkJCQkJCQlsID0gW107CgkJCQkJCWlmICh0aGlzLnBhcmVudEdyb3VwID0gZSwgZSkgewoJCQkJCQkJaWYgKHQgPSBlLmRpdiwgIXQpIHsKCQkJCQkJCQlmb3IgKG4gPSBlOyBuOykgbC5wdXNoKG4pLCBuID0gbi5wYXJlbnRHcm91cDsKCQkJCQkJCQltdChsLnJldmVyc2UoKSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCQl2YXIgbjsKCQkJCQkJCQkJdCA9IGUuZGl2ID0gZS5kaXYgfHwgdyhZZSwgewoJCQkJCQkJCQkJY2xhc3NOYW1lOiBmKGUuZWxlbWVudCwgImNsYXNzIikKCQkJCQkJCQkJfSwgewoJCQkJCQkJCQkJcG9zaXRpb246IEdlLAoJCQkJCQkJCQkJbGVmdDogKGUudHJhbnNsYXRlWCB8fCAwKSArIEtlLAoJCQkJCQkJCQkJdG9wOiAoZS50cmFuc2xhdGVZIHx8IDApICsgS2UKCQkJCQkJCQkJfSwgdCB8fCBzKSwgbiA9IHQuc3R5bGUsIGEoZSwgewoJCQkJCQkJCQkJdHJhbnNsYXRlWFNldHRlcjogZnVuY3Rpb24odCwgaSkgewoJCQkJCQkJCQkJCW4ubGVmdCA9IHQgKyBLZSwgZVtpXSA9IHQsIGUuZG9UcmFuc2Zvcm0gPSAhMAoJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCXRyYW5zbGF0ZVlTZXR0ZXI6IGZ1bmN0aW9uKHQsIGkpIHsKCQkJCQkJCQkJCQluLnRvcCA9IHQgKyBLZSwgZVtpXSA9IHQsIGUuZG9UcmFuc2Zvcm0gPSAhMAoJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCXZpc2liaWxpdHlTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQkJCQluW3RdID0gZQoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9KQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB0ID0gczsKCQkJCQkJcmV0dXJuIHQuYXBwZW5kQ2hpbGQobyksIGkuYWRkZWQgPSAhMCwgaS5hbGlnbk9uQWRkICYmIGkuaHRtbFVwZGF0ZVRyYW5zZm9ybSgpLCBpCgkJCQkJfSksIGkKCQkJCX0KCQkJfSk7CgkJCXZhciBJdCwgQXQ7CgkJCWlmICghT2UgJiYgIURlKSB7CgkJCQlBdCA9IHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJCWkgPSBbIjwiLCB0LCAnIGZpbGxlZD0iZiIgc3Ryb2tlZD0iZiInXSwKCQkJCQkJCWEgPSBbInBvc2l0aW9uOiAiLCBHZSwgIjsiXSwKCQkJCQkJCW8gPSB0ID09PSBZZTsKCQkJCQkJKCJzaGFwZSIgPT09IHQgfHwgbykgJiYgYS5wdXNoKCJsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7IiksIGEucHVzaCgidmlzaWJpbGl0eTogIiwgbyA/IEplIDogVmUpLCBpLnB1c2goJyBzdHlsZT0iJywgYS5qb2luKCIiKSwgJyIvPicpLCB0ICYmIChpID0gbyB8fCAic3BhbiIgPT09IHQgfHwgImltZyIgPT09IHQgPyBpLmpvaW4oIiIpIDogZS5wcmVwVk1MKGkpLCBuLmVsZW1lbnQgPSB3KGkpKSwgbi5yZW5kZXJlciA9IGUKCQkJCQl9LAoJCQkJCWFkZDogZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCQluID0gdC5yZW5kZXJlciwKCQkJCQkJCWkgPSB0LmVsZW1lbnQsCgkJCQkJCQlhID0gbi5ib3gsCgkJCQkJCQlvID0gZSAmJiBlLmludmVydGVkLAoJCQkJCQkJciA9IGUgPyBlLmVsZW1lbnQgfHwgZSA6IGE7CgkJCQkJCXJldHVybiBvICYmIG4uaW52ZXJ0Q2hpbGQoaSwgciksIHIuYXBwZW5kQ2hpbGQoaSksIHQuYWRkZWQgPSAhMCwgdC5hbGlnbk9uQWRkICYmICF0LmRlZmVyVXBkYXRlVHJhbnNmb3JtICYmIHQudXBkYXRlVHJhbnNmb3JtKCksIHQub25BZGQgJiYgdC5vbkFkZCgpLCB0CgkJCQkJfSwKCQkJCQl1cGRhdGVUcmFuc2Zvcm06IEQucHJvdG90eXBlLmh0bWxVcGRhdGVUcmFuc2Zvcm0sCgkJCQkJc2V0U3BhblJvdGF0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLnJvdGF0aW9uLAoJCQkJCQkJdCA9IHplKGUgKiBDZSksCgkJCQkJCQluID0gQmUoZSAqIENlKTsKCQkJCQkJeCh0aGlzLmVsZW1lbnQsIHsKCQkJCQkJCWZpbHRlcjogZSA/IFsicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9IiwgdCwgIiwgTTEyPSIsIC1uLCAiLCBNMjE9IiwgbiwgIiwgTTIyPSIsIHQsICIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSJdLmpvaW4oIiIpIDogUWUKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWdldFNwYW5Db3JyZWN0aW9uOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJCXZhciBvLCByID0gaSA/IHplKGkgKiBDZSkgOiAxLAoJCQkJCQkJcyA9IGkgPyBCZShpICogQ2UpIDogMCwKCQkJCQkJCWwgPSBfKHRoaXMuZWxlbUhlaWdodCwgdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCksCgkJCQkJCQljID0gYSAmJiAibGVmdCIgIT09IGE7CgkJCQkJCXRoaXMueENvcnIgPSAwID4gciAmJiAtZSwgdGhpcy55Q29yciA9IDAgPiBzICYmIC1sLCBvID0gMCA+IHIgKiBzLCB0aGlzLnhDb3JyICs9IHMgKiB0ICogKG8gPyAxIC0gbiA6IG4pLCB0aGlzLnlDb3JyIC09IHIgKiB0ICogKGkgPyBvID8gbiA6IDEgLSBuIDogMSksIGMgJiYgKHRoaXMueENvcnIgLT0gZSAqIG4gKiAoMCA+IHIgPyAtMSA6IDEpLCBpICYmICh0aGlzLnlDb3JyIC09IGwgKiBuICogKDAgPiBzID8gLTEgOiAxKSksIHgodGhpcy5lbGVtZW50LCB7CgkJCQkJCQl0ZXh0QWxpZ246IGEKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlwYXRoVG9WTUw6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZm9yICh2YXIgdCA9IGUubGVuZ3RoLCBuID0gW107IHQtLTspIGQoZVt0XSkgPyBuW3RdID0geGUoMTAgKiBlW3RdKSAtIDUgOiAiWiIgPT09IGVbdF0gPyBuW3RdID0gIngiIDogKG5bdF0gPSBlW3RdLCAhZS5pc0FyYyB8fCAid2EiICE9PSBlW3RdICYmICJhdCIgIT09IGVbdF0gfHwgKG5bdCArIDVdID09PSBuW3QgKyA3XSAmJiAoblt0ICsgN10gKz0gZVt0ICsgN10gPiBlW3QgKyA1XSA/IDEgOiAtMSksIG5bdCArIDZdID09PSBuW3QgKyA4XSAmJiAoblt0ICsgOF0gKz0gZVt0ICsgOF0gPiBlW3QgKyA2XSA/IDEgOiAtMSkpKTsKCQkJCQkJcmV0dXJuIG4uam9pbigiICIpIHx8ICJ4IgoJCQkJCX0sCgkJCQkJY2xpcDogZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCwgbiwgaSA9IHRoaXM7CgkJCQkJCXJldHVybiBlID8gKHQgPSBlLm1lbWJlcnMsIHUodCwgaSksIHQucHVzaChpKSwgaS5kZXN0cm95Q2xpcCA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJdSh0LCBpKQoJCQkJCQl9LCBuID0gZS5nZXRDU1MoaSkpIDogKGkuZGVzdHJveUNsaXAgJiYgaS5kZXN0cm95Q2xpcCgpLCBuID0gewoJCQkJCQkJY2xpcDogUGUgPyAiaW5oZXJpdCIgOiAicmVjdChhdXRvKSIKCQkJCQkJfSksIGkuY3NzKG4pCgkJCQkJfSwKCQkJCQljc3M6IEQucHJvdG90eXBlLmh0bWxDc3MsCgkJCQkJc2FmZVJlbW92ZUNoaWxkOiBmdW5jdGlvbihlKSB7CgkJCQkJCWUucGFyZW50Tm9kZSAmJiBJKGUpCgkJCQkJfSwKCQkJCQlkZXN0cm95OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHRoaXMuZGVzdHJveUNsaXAgJiYgdGhpcy5kZXN0cm95Q2xpcCgpLCBELnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpCgkJCQkJfSwKCQkJCQlvbjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gdGhpcy5lbGVtZW50WyJvbiIgKyBlXSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIGUgPSBnZS5ldmVudDsKCQkJCQkJCWUudGFyZ2V0ID0gZS5zcmNFbGVtZW50LCB0KGUpCgkJCQkJCX0sIHRoaXMKCQkJCQl9LAoJCQkJCWN1dE9mZlBhdGg6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIG47CgkJCQkJCXJldHVybiBlID0gZS5zcGxpdCgvWyAsXS8pLCBuID0gZS5sZW5ndGgsICg5ID09PSBuIHx8IDExID09PSBuKSAmJiAoZVtuIC0gNF0gPSBlW24gLSAyXSA9IHIoZVtuIC0gMl0pIC0gMTAgKiB0KSwgZS5qb2luKCIgIikKCQkJCQl9LAoJCQkJCXNoYWRvdzogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl2YXIgaSwgYSwgbywgcywgbCwgYywgZCwgcCA9IFtdLAoJCQkJCQkJaCA9IHRoaXMuZWxlbWVudCwKCQkJCQkJCXUgPSB0aGlzLnJlbmRlcmVyLAoJCQkJCQkJbSA9IGguc3R5bGUsCgkJCQkJCQlmID0gaC5wYXRoOwoJCQkJCQlpZiAoZiAmJiAic3RyaW5nIiAhPSB0eXBlb2YgZi52YWx1ZSAmJiAoZiA9ICJ4IiksIGwgPSBmLCBlKSB7CgkJCQkJCQlmb3IgKGMgPSBfKGUud2lkdGgsIDMpLCBkID0gKGUub3BhY2l0eSB8fCAuMTUpIC8gYywgaSA9IDE7IDMgPj0gaTsgaSsrKSBzID0gMiAqIGMgKyAxIC0gMiAqIGksIG4gJiYgKGwgPSB0aGlzLmN1dE9mZlBhdGgoZi52YWx1ZSwgcyArIC41KSksIG8gPSBbJzxzaGFwZSBpc1NoYWRvdz0idHJ1ZSIgc3Ryb2tld2VpZ2h0PSInLCBzLCAnIiBmaWxsZWQ9ImZhbHNlIiBwYXRoPSInLCBsLCAnIiBjb29yZHNpemU9IjEwIDEwIiBzdHlsZT0iJywgaC5zdHlsZS5jc3NUZXh0LCAnIiAvPiddLCBhID0gdyh1LnByZXBWTUwobyksIG51bGwsIHsKCQkJCQkJCQlsZWZ0OiByKG0ubGVmdCkgKyBfKGUub2Zmc2V0WCwgMSksCgkJCQkJCQkJdG9wOiByKG0udG9wKSArIF8oZS5vZmZzZXRZLCAxKQoJCQkJCQkJfSksIG4gJiYgKGEuY3V0T2ZmID0gcyArIDEpLCBvID0gWyc8c3Ryb2tlIGNvbG9yPSInLCBlLmNvbG9yIHx8ICJibGFjayIsICciIG9wYWNpdHk9IicsIGQgKiBpLCAnIi8+J10sIHcodS5wcmVwVk1MKG8pLCBudWxsLCBudWxsLCBhKSwgdCA/IHQuZWxlbWVudC5hcHBlbmRDaGlsZChhKSA6IGgucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgaCksIHAucHVzaChhKTsKCQkJCQkJCXRoaXMuc2hhZG93cyA9IHAKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCX0sCgkJCQkJdXBkYXRlU2hhZG93czogRmUsCgkJCQkJc2V0QXR0cjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlQZSA/IHRoaXMuZWxlbWVudFtlXSA9IHQgOiB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKGUsIHQpCgkJCQkJfSwKCQkJCQljbGFzc1NldHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCQl0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gZQoJCQkJCX0sCgkJCQkJZGFzaHN0eWxlU2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3Ryb2tlIilbMF0gfHwgdyh0aGlzLnJlbmRlcmVyLnByZXBWTUwoWyI8c3Ryb2tlLz4iXSksIG51bGwsIG51bGwsIG4pOwoJCQkJCQlpW3RdID0gZSB8fCAic29saWQiLCB0aGlzW3RdID0gZQoJCQkJCX0sCgkJCQkJZFNldHRlcjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl2YXIgaSwgYSA9IHRoaXMuc2hhZG93czsKCQkJCQkJaWYgKGUgPSBlIHx8IFtdLCB0aGlzLmQgPSBlLmpvaW4gJiYgZS5qb2luKCIgIiksIG4ucGF0aCA9IGUgPSB0aGlzLnBhdGhUb1ZNTChlKSwgYSkKCQkJCQkJCWZvciAoaSA9IGEubGVuZ3RoOyBpLS07KSBhW2ldLnBhdGggPSBhW2ldLmN1dE9mZiA/IHRoaXMuY3V0T2ZmUGF0aChlLCBhW2ldLmN1dE9mZikgOiBlOwoJCQkJCQl0aGlzLnNldEF0dHIodCwgZSkKCQkJCQl9LAoJCQkJCWZpbGxTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGkgPSBuLm5vZGVOYW1lOwoJCQkJCQkiU1BBTiIgPT09IGkgPyBuLnN0eWxlLmNvbG9yID0gZSA6ICJJTUciICE9PSBpICYmIChuLmZpbGxlZCA9IGUgIT09IFFlLCB0aGlzLnNldEF0dHIoImZpbGxjb2xvciIsIHRoaXMucmVuZGVyZXIuY29sb3IoZSwgbiwgdCwgdGhpcykpKQoJCQkJCX0sCgkJCQkJb3BhY2l0eVNldHRlcjogRmUsCgkJCQkJcm90YXRpb25TZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGkgPSBuLnN0eWxlOwoJCQkJCQl0aGlzW3RdID0gaVt0XSA9IGUsIGkubGVmdCA9IC14ZShCZShlICogQ2UpICsgMSkgKyBLZSwgaS50b3AgPSB4ZSh6ZShlICogQ2UpKSArIEtlCgkJCQkJfSwKCQkJCQlzdHJva2VTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdGhpcy5zZXRBdHRyKCJzdHJva2Vjb2xvciIsIHRoaXMucmVuZGVyZXIuY29sb3IoZSwgbiwgdCkpCgkJCQkJfSwKCQkJCQkic3Ryb2tlLXdpZHRoU2V0dGVyIjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQluLnN0cm9rZWQgPSAhIWUsIHRoaXNbdF0gPSBlLCBkKGUpICYmIChlICs9IEtlKSwgdGhpcy5zZXRBdHRyKCJzdHJva2V3ZWlnaHQiLCBlKQoJCQkJCX0sCgkJCQkJdGl0bGVTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdGhpcy5zZXRBdHRyKHQsIGUpCgkJCQkJfSwKCQkJCQl2aXNpYmlsaXR5U2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJpbmhlcml0IiA9PT0gZSAmJiAoZSA9IFZlKSwgdGhpcy5zaGFkb3dzICYmIG10KHRoaXMuc2hhZG93cywgZnVuY3Rpb24obikgewoJCQkJCQkJbi5zdHlsZVt0XSA9IGUKCQkJCQkJfSksICJESVYiID09PSBuLm5vZGVOYW1lICYmIChlID0gZSA9PT0gSmUgPyAiLTk5OWVtIiA6IDAsIFBlIHx8IChuLnN0eWxlW3RdID0gZSA/IFZlIDogSmUpLCB0ID0gInRvcCIpLCBuLnN0eWxlW3RdID0gZQoJCQkJCX0sCgkJCQkJeFNldHRlcjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl0aGlzW3RdID0gZSwgIngiID09PSB0ID8gdCA9ICJsZWZ0IiA6ICJ5IiA9PT0gdCAmJiAodCA9ICJ0b3AiKSwgdGhpcy51cGRhdGVDbGlwcGluZyA/ICh0aGlzW3RdID0gZSwgdGhpcy51cGRhdGVDbGlwcGluZygpKSA6IG4uc3R5bGVbdF0gPSBlCgkJCQkJfSwKCQkJCQl6SW5kZXhTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJbi5zdHlsZVt0XSA9IGUKCQkJCQl9CgkJCQl9LCBsdC5WTUxFbGVtZW50ID0gQXQgPSB2KEQsIEF0KSwgQXQucHJvdG90eXBlLnlTZXR0ZXIgPSBBdC5wcm90b3R5cGUud2lkdGhTZXR0ZXIgPSBBdC5wcm90b3R5cGUuaGVpZ2h0U2V0dGVyID0gQXQucHJvdG90eXBlLnhTZXR0ZXI7CgkJCQl2YXIgcXQgPSB7CgkJCQkJRWxlbWVudDogQXQsCgkJCQkJaXNJRTg6IFNlLmluZGV4T2YoIk1TSUUgOC4wIikgPiAtMSwKCQkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBvLCByLCBzLCBsID0gdGhpczsKCQkJCQkJaWYgKGwuYWxpZ25lZE9iamVjdHMgPSBbXSwgbyA9IGwuY3JlYXRlRWxlbWVudChZZSkuY3NzKGEodGhpcy5nZXRTdHlsZShpKSwgewoJCQkJCQkJcG9zaXRpb246IFhlCgkJCQkJCX0pKSwgciA9IG8uZWxlbWVudCwgZS5hcHBlbmRDaGlsZChvLmVsZW1lbnQpLCBsLmlzVk1MID0gITAsIGwuYm94ID0gciwgbC5ib3hXcmFwcGVyID0gbywgbC5jYWNoZSA9IHt9LCBsLnNldFNpemUodCwgbiwgITEpLCAhZmUubmFtZXNwYWNlcy5oY3YpIHsKCQkJCQkJCWZlLm5hbWVzcGFjZXMuYWRkKCJoY3YiLCAidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiKSwgcyA9ICJoY3ZcXDpmaWxsLCBoY3ZcXDpwYXRoLCBoY3ZcXDpzaGFwZSwgaGN2XFw6c3Ryb2tleyBiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9ICI7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWZlLmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0ID0gcwoJCQkJCQkJfSBjYXRjaCAoYykgewoJCQkJCQkJCWZlLnN0eWxlU2hlZXRzWzBdLmNzc1RleHQgKz0gcwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlpc0hpZGRlbjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiAhdGhpcy5ib3gub2Zmc2V0V2lkdGgKCQkJCQl9LAoJCQkJCWNsaXBSZWN0OiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBvID0gdGhpcy5jcmVhdGVFbGVtZW50KCksCgkJCQkJCQlyID0gbChlKTsKCQkJCQkJcmV0dXJuIGEobywgewoJCQkJCQkJbWVtYmVyczogW10sCgkJCQkJCQlsZWZ0OiAociA/IGUueCA6IGUpICsgMSwKCQkJCQkJCXRvcDogKHIgPyBlLnkgOiB0KSArIDEsCgkJCQkJCQl3aWR0aDogKHIgPyBlLndpZHRoIDogbikgLSAxLAoJCQkJCQkJaGVpZ2h0OiAociA/IGUuaGVpZ2h0IDogaSkgLSAxLAoJCQkJCQkJZ2V0Q1NTOiBmdW5jdGlvbihlKSB7CgkJCQkJCQkJdmFyIHQgPSBlLmVsZW1lbnQsCgkJCQkJCQkJCW4gPSB0Lm5vZGVOYW1lLAoJCQkJCQkJCQlpID0gInNoYXBlIiA9PT0gbiwKCQkJCQkJCQkJbyA9IGUuaW52ZXJ0ZWQsCgkJCQkJCQkJCXIgPSB0aGlzLAoJCQkJCQkJCQlzID0gci50b3AgLSAoaSA/IHQub2Zmc2V0VG9wIDogMCksCgkJCQkJCQkJCWwgPSByLmxlZnQsCgkJCQkJCQkJCWMgPSBsICsgci53aWR0aCwKCQkJCQkJCQkJZCA9IHMgKyByLmhlaWdodCwKCQkJCQkJCQkJcCA9IHsKCQkJCQkJCQkJCWNsaXA6ICJyZWN0KCIgKyB4ZShvID8gbCA6IHMpICsgInB4LCIgKyB4ZShvID8gZCA6IGMpICsgInB4LCIgKyB4ZShvID8gYyA6IGQpICsgInB4LCIgKyB4ZShvID8gcyA6IGwpICsgInB4KSIKCQkJCQkJCQkJfTsKCQkJCQkJCQlyZXR1cm4gIW8gJiYgUGUgJiYgIkRJViIgPT09IG4gJiYgYShwLCB7CgkJCQkJCQkJCXdpZHRoOiBjICsgS2UsCgkJCQkJCQkJCWhlaWdodDogZCArIEtlCgkJCQkJCQkJfSksIHAKCQkJCQkJCX0sCgkJCQkJCQl1cGRhdGVDbGlwcGluZzogZnVuY3Rpb24oKSB7CgkJCQkJCQkJbXQoby5tZW1iZXJzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCWUuZWxlbWVudCAmJiBlLmNzcyhvLmdldENTUyhlKSkKCQkJCQkJCQl9KQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJY29sb3I6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJdmFyIGEsIG8sIHIsIHMgPSB0aGlzLAoJCQkJCQkJbCA9IC9ecmdiYS8sCgkJCQkJCQljID0gUWU7CgkJCQkJCWlmIChlICYmIGUubGluZWFyR3JhZGllbnQgPyByID0gImdyYWRpZW50IiA6IGUgJiYgZS5yYWRpYWxHcmFkaWVudCAmJiAociA9ICJwYXR0ZXJuIiksIHIpIHsKCQkJCQkJCXZhciBkLCBwLCBoLCB1LCBtLCBmLCBnLCBfLCB4LCB2LCBiLCB5LCBrID0gZS5saW5lYXJHcmFkaWVudCB8fCBlLnJhZGlhbEdyYWRpZW50LAoJCQkJCQkJCXogPSAiIiwKCQkJCQkJCQlCID0gZS5zdG9wcywKCQkJCQkJCQlqID0gW10sCgkJCQkJCQkJQyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvID0gWyc8ZmlsbCBjb2xvcnM9IicgKyBqLmpvaW4oIiwiKSArICciIG9wYWNpdHk9IicsIF8sICciIG86b3BhY2l0eTI9IicsIGcsICciIHR5cGU9IicsIHIsICciICcsIHosICdmb2N1cz0iMTAwJSIgbWV0aG9kPSJhbnkiIC8+J10sIHcocy5wcmVwVk1MKG8pLCBudWxsLCBudWxsLCB0KQoJCQkJCQkJCX07CgkJCQkJCQlpZiAoYiA9IEJbMF0sIHkgPSBCW0IubGVuZ3RoIC0gMV0sIGJbMF0gPiAwICYmIEIudW5zaGlmdChbMCwgYlsxXV0pLCB5WzBdIDwgMSAmJiBCLnB1c2goWzEsIHlbMV1dKSwgbXQoQiwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCWwudGVzdChlWzFdKSA/IChhID0gVHQoZVsxXSksIGQgPSBhLmdldCgicmdiIiksIHAgPSBhLmdldCgiYSIpKSA6IChkID0gZVsxXSwgcCA9IDEpLCBqLnB1c2goMTAwICogZVswXSArICIlICIgKyBkKSwgdCA/IChfID0gcCwgeCA9IGQpIDogKGcgPSBwLCB2ID0gZCkKCQkJCQkJCX0pLCAiZmlsbCIgPT09IG4pCgkJCQkJCQkJaWYgKCJncmFkaWVudCIgPT09IHIpIGggPSBrLngxIHx8IGtbMF0gfHwgMCwgdSA9IGsueTEgfHwga1sxXSB8fCAwLCBtID0gay54MiB8fCBrWzJdIHx8IDAsIGYgPSBrLnkyIHx8IGtbM10gfHwgMCwgeiA9ICdhbmdsZT0iJyArICg5MCAtIDE4MCAqIF9lLmF0YW4oKGYgLSB1KSAvIChtIC0gaCkpIC8gamUpICsgJyInLCBDKCk7CgkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCXZhciBTLCBOID0gay5yLAoJCQkJCQkJCQkJVCA9IDIgKiBOLAoJCQkJCQkJCQkJUCA9IDIgKiBOLAoJCQkJCQkJCQkJSSA9IGsuY3gsCgkJCQkJCQkJCQlBID0gay5jeSwKCQkJCQkJCQkJCXEgPSB0LnJhZGlhbFJlZmVyZW5jZSwKCQkJCQkJCQkJCUUgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQkJCQlxICYmIChTID0gaS5nZXRCQm94KCksIEkgKz0gKHFbMF0gLSBTLngpIC8gUy53aWR0aCAtIC41LCBBICs9IChxWzFdIC0gUy55KSAvIFMuaGVpZ2h0IC0gLjUsIFQgKj0gcVsyXSAvIFMud2lkdGgsIFAgKj0gcVsyXSAvIFMuaGVpZ2h0KSwgeiA9ICdzcmM9IicgKyBHLmdsb2JhbC5WTUxSYWRpYWxHcmFkaWVudFVSTCArICciIHNpemU9IicgKyBUICsgIiwiICsgUCArICciIG9yaWdpbj0iMC41LDAuNSIgcG9zaXRpb249IicgKyBJICsgIiwiICsgQSArICciIGNvbG9yMj0iJyArIHYgKyAnIiAnLCBDKCkKCQkJCQkJCQkJCX07CgkJCQkJCQkJCWkuYWRkZWQgPyBFKCkgOiBpLm9uQWRkID0gRSwgYyA9IHgKCQkJCQkJCQl9IGVsc2UgYyA9IGQKCQkJCQkJfSBlbHNlIGlmIChsLnRlc3QoZSkgJiYgIklNRyIgIT09IHQudGFnTmFtZSkgYSA9IFR0KGUpLCBvID0gWyI8IiwgbiwgJyBvcGFjaXR5PSInLCBhLmdldCgiYSIpLCAnIi8+J10sIHcodGhpcy5wcmVwVk1MKG8pLCBudWxsLCBudWxsLCB0KSwgYyA9IGEuZ2V0KCJyZ2IiKTsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgTyA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik7CgkJCQkJCQlPLmxlbmd0aCAmJiAoT1swXS5vcGFjaXR5ID0gMSwgT1swXS50eXBlID0gInNvbGlkIiksIGMgPSBlCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGMKCQkJCQl9LAoJCQkJCXByZXBWTUw6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSAiZGlzcGxheTppbmxpbmUtYmxvY2s7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7IiwKCQkJCQkJCW4gPSB0aGlzLmlzSUU4OwoJCQkJCQlyZXR1cm4gZSA9IGUuam9pbigiIiksIG4gPyAoZSA9IGUucmVwbGFjZSgiLz4iLCAnIHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIgLz4nKSwgZSA9IC0xID09PSBlLmluZGV4T2YoJ3N0eWxlPSInKSA/IGUucmVwbGFjZSgiLz4iLCAnIHN0eWxlPSInICsgdCArICciIC8+JykgOiBlLnJlcGxhY2UoJ3N0eWxlPSInLCAnc3R5bGU9IicgKyB0KSkgOiBlID0gZS5yZXBsYWNlKCI8IiwgIjxoY3Y6IiksIGUKCQkJCQl9LAoJCQkJCXRleHQ6IFB0LnByb3RvdHlwZS5odG1sLAoJCQkJCXBhdGg6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSB7CgkJCQkJCQljb29yZHNpemU6ICIxMCAxMCIKCQkJCQkJfTsKCQkJCQkJcmV0dXJuIGMoZSkgPyB0LmQgPSBlIDogbChlKSAmJiBhKHQsIGUpLCB0aGlzLmNyZWF0ZUVsZW1lbnQoInNoYXBlIikuYXR0cih0KQoJCQkJCX0sCgkJCQkJY2lyY2xlOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gdGhpcy5zeW1ib2woImNpcmNsZSIpOwoJCQkJCQlyZXR1cm4gbChlKSAmJiAobiA9IGUuciwgdCA9IGUueSwgZSA9IGUueCksIGkuaXNDaXJjbGUgPSAhMCwgaS5yID0gbiwgaS5hdHRyKHsKCQkJCQkJCXg6IGUsCgkJCQkJCQl5OiB0CgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlnOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0LCBuOwoJCQkJCQlyZXR1cm4gZSAmJiAobiA9IHsKCQkJCQkJCWNsYXNzTmFtZTogWmUgKyBlLAoJCQkJCQkJImNsYXNzIjogWmUgKyBlCgkJCQkJCX0pLCB0ID0gdGhpcy5jcmVhdGVFbGVtZW50KFllKS5hdHRyKG4pCgkJCQkJfSwKCQkJCQlpbWFnZTogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQl2YXIgbyA9IHRoaXMuY3JlYXRlRWxlbWVudCgiaW1nIikuYXR0cih7CgkJCQkJCQlzcmM6IGUKCQkJCQkJfSk7CgkJCQkJCXJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBvLmF0dHIoewoJCQkJCQkJeDogdCwKCQkJCQkJCXk6IG4sCgkJCQkJCQl3aWR0aDogaSwKCQkJCQkJCWhlaWdodDogYQoJCQkJCQl9KSwgbwoJCQkJCX0sCgkJCQkJY3JlYXRlRWxlbWVudDogZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gInJlY3QiID09PSBlID8gdGhpcy5zeW1ib2woZSkgOiBQdC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIGUpCgkJCQkJfSwKCQkJCQlpbnZlcnRDaGlsZDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQl2YXIgbiA9IHRoaXMsCgkJCQkJCQlpID0gdC5zdHlsZSwKCQkJCQkJCWEgPSAiSU1HIiA9PT0gZS50YWdOYW1lICYmIGUuc3R5bGU7CgkJCQkJCXgoZSwgewoJCQkJCQkJZmxpcDogIngiLAoJCQkJCQkJbGVmdDogcihpLndpZHRoKSAtIChhID8gcihhLnRvcCkgOiAxKSwKCQkJCQkJCXRvcDogcihpLmhlaWdodCkgLSAoYSA/IHIoYS5sZWZ0KSA6IDEpLAoJCQkJCQkJcm90YXRpb246IC05MAoJCQkJCQl9KSwgbXQoZS5jaGlsZE5vZGVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCQluLmludmVydENoaWxkKHQsIGUpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlzeW1ib2xzOiB7CgkJCQkJCWFyYzogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQkJdmFyIG8sIHIgPSBhLnN0YXJ0LAoJCQkJCQkJCXMgPSBhLmVuZCwKCQkJCQkJCQlsID0gYS5yIHx8IG4gfHwgaSwKCQkJCQkJCQljID0gYS5pbm5lclIsCgkJCQkJCQkJZCA9IHplKHIpLAoJCQkJCQkJCXAgPSBCZShyKSwKCQkJCQkJCQloID0gemUocyksCgkJCQkJCQkJdSA9IEJlKHMpOwoJCQkJCQkJcmV0dXJuIHMgLSByID09PSAwID8gWyJ4Il0gOiAobyA9IFsid2EiLCBlIC0gbCwgdCAtIGwsIGUgKyBsLCB0ICsgbCwgZSArIGwgKiBkLCB0ICsgbCAqIHAsIGUgKyBsICogaCwgdCArIGwgKiB1XSwgYS5vcGVuICYmICFjICYmIG8ucHVzaCgiZSIsIGV0LCBlLCB0KSwgby5wdXNoKCJhdCIsIGUgLSBjLCB0IC0gYywgZSArIGMsIHQgKyBjLCBlICsgYyAqIGgsIHQgKyBjICogdSwgZSArIGMgKiBkLCB0ICsgYyAqIHAsICJ4IiwgImUiKSwgby5pc0FyYyA9ICEwLCBvKQoJCQkJCQl9LAoJCQkJCQljaXJjbGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXJldHVybiBhICYmIChuID0gaSA9IDIgKiBhLnIpLCBhICYmIGEuaXNDaXJjbGUgJiYgKGUgLT0gbiAvIDIsIHQgLT0gaSAvIDIpLCBbIndhIiwgZSwgdCwgZSArIG4sIHQgKyBpLCBlICsgbiwgdCArIGkgLyAyLCBlICsgbiwgdCArIGkgLyAyLCAiZSJdCgkJCQkJCX0sCgkJCQkJCXJlY3Q6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXJldHVybiBQdC5wcm90b3R5cGUuc3ltYm9sc1ttKGEpICYmIGEuciA/ICJjYWxsb3V0IiA6ICJzcXVhcmUiXS5jYWxsKDAsIGUsIHQsIG4sIGksIGEpCgkJCQkJCX0KCQkJCQl9CgkJCQl9OwoJCQkJbHQuVk1MUmVuZGVyZXIgPSBJdCA9IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCQl9LCBJdC5wcm90b3R5cGUgPSBvKFB0LnByb3RvdHlwZSwgcXQpLCBIID0gSXQKCQkJfQoJCQlQdC5wcm90b3R5cGUubWVhc3VyZVNwYW5XaWR0aCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuLCBpID0gZmUuY3JlYXRlRWxlbWVudCgic3BhbiIpLAoJCQkJCWEgPSBmZS5jcmVhdGVUZXh0Tm9kZShlKTsKCQkJCXJldHVybiBpLmFwcGVuZENoaWxkKGEpLCB4KGksIHQpLCB0aGlzLmJveC5hcHBlbmRDaGlsZChpKSwgbiA9IGkub2Zmc2V0V2lkdGgsIEkoaSksIG4KCQkJfTsKCQkJdmFyIEV0LCBPdDsKCQkJRGUgJiYgKGx0LkNhblZHUmVuZGVyZXIgPSBFdCA9IGZ1bmN0aW9uKCkgewoJCQkJRWUgPSAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIKCQkJfSwgRXQucHJvdG90eXBlLnN5bWJvbHMgPSB7fSwgT3QgPSBmdW5jdGlvbigpIHsKCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJdmFyIGUsIG4gPSB0Lmxlbmd0aDsKCQkJCQlmb3IgKGUgPSAwOyBuID4gZTsgZSsrKSB0W2VdKCk7CgkJCQkJdCA9IFtdCgkJCQl9CgkJCQl2YXIgdCA9IFtdOwoJCQkJcmV0dXJuIHsKCQkJCQlwdXNoOiBmdW5jdGlvbihuLCBpKSB7CgkJCQkJCTAgPT09IHQubGVuZ3RoICYmIGh0KGksIGUpLCB0LnB1c2gobikKCQkJCQl9CgkJCQl9CgkJCX0oKSwgSCA9IEV0KSwgTS5wcm90b3R5cGUgPSB7CgkJCQlhZGRMYWJlbDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gby5heGlzLAoJCQkJCQlzID0gci5vcHRpb25zLAoJCQkJCQlsID0gci5jaGFydCwKCQkJCQkJYyA9IHIuaG9yaXosCgkJCQkJCXAgPSByLmNhdGVnb3JpZXMsCgkJCQkJCXUgPSByLm5hbWVzLAoJCQkJCQlmID0gby5wb3MsCgkJCQkJCWcgPSBzLmxhYmVscywKCQkJCQkJeCA9IGcucm90YXRpb24sCgkJCQkJCXcgPSByLnRpY2tQb3NpdGlvbnMsCgkJCQkJCXYgPSBjICYmIHAgJiYgIWcuc3RlcCAmJiAhZy5zdGFnZ2VyTGluZXMgJiYgIWcucm90YXRpb24gJiYgbC5wbG90V2lkdGggLyB3Lmxlbmd0aCB8fCAhYyAmJiAobC5tYXJnaW5bM10gfHwgLjMzICogbC5jaGFydFdpZHRoKSwKCQkJCQkJYiA9IGYgPT09IHdbMF0sCgkJCQkJCXkgPSBmID09PSB3W3cubGVuZ3RoIC0gMV0sCgkJCQkJCWsgPSBwID8gXyhwW2ZdLCB1W2ZdLCBmKSA6IGYsCgkJCQkJCXogPSBvLmxhYmVsLAoJCQkJCQlCID0gdy5pbmZvOwoJCQkJCXIuaXNEYXRldGltZUF4aXMgJiYgQiAmJiAoaSA9IHMuZGF0ZVRpbWVMYWJlbEZvcm1hdHNbQi5oaWdoZXJSYW5rc1tmXSB8fCBCLnVuaXROYW1lXSksIG8uaXNGaXJzdCA9IGIsIG8uaXNMYXN0ID0geSwgZSA9IHIubGFiZWxGb3JtYXR0ZXIuY2FsbCh7CgkJCQkJCWF4aXM6IHIsCgkJCQkJCWNoYXJ0OiBsLAoJCQkJCQlpc0ZpcnN0OiBiLAoJCQkJCQlpc0xhc3Q6IHksCgkJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXQ6IGksCgkJCQkJCXZhbHVlOiByLmlzTG9nID8gQShoKGspKSA6IGsKCQkJCQl9KSwgdCA9IHYgJiYgewoJCQkJCQl3aWR0aDogYmUoMSwgeGUodiAtIDIgKiAoZy5wYWRkaW5nIHx8IDEwKSkpICsgS2UKCQkJCQl9LCBtKHopID8geiAmJiB6LmF0dHIoewoJCQkJCQl0ZXh0OiBlCgkJCQkJfSkuY3NzKHQpIDogKG4gPSB7CgkJCQkJCWFsaWduOiByLmxhYmVsQWxpZ24KCQkJCQl9LCBkKHgpICYmIChuLnJvdGF0aW9uID0geCksIHYgJiYgZy5lbGxpcHNpcyAmJiAodC5IY0hlaWdodCA9IHIubGVuIC8gdy5sZW5ndGgpLCBvLmxhYmVsID0geiA9IG0oZSkgJiYgZy5lbmFibGVkID8gbC5yZW5kZXJlci50ZXh0KGUsIDAsIDAsIGcudXNlSFRNTCkuYXR0cihuKS5jc3MoYSh0LCBnLnN0eWxlKSkuYWRkKHIubGFiZWxHcm91cCkgOiBudWxsLCByLnRpY2tCYXNlbGluZSA9IGwucmVuZGVyZXIuZm9udE1ldHJpY3MoZy5zdHlsZS5mb250U2l6ZSwgeikuYiwgeCAmJiAyID09PSByLnNpZGUgJiYgKHIudGlja0Jhc2VsaW5lICo9IHplKHggKiBDZSkpKSwgby55T2Zmc2V0ID0geiA/IF8oZy55LCByLnRpY2tCYXNlbGluZSArICgyID09PSByLnNpZGUgPyA4IDogLSh6LmdldEJCb3goKS5oZWlnaHQgLyAyKSkpIDogMAoJCQkJfSwKCQkJCWdldExhYmVsU2l6ZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLmxhYmVsLAoJCQkJCQl0ID0gdGhpcy5heGlzOwoJCQkJCXJldHVybiBlID8gZS5nZXRCQm94KClbdC5ob3JpeiA/ICJoZWlnaHQiIDogIndpZHRoIl0gOiAwCgkJCQl9LAoJCQkJZ2V0TGFiZWxTaWRlczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLmxhYmVsLmdldEJCb3goKSwKCQkJCQkJdCA9IHRoaXMuYXhpcywKCQkJCQkJbiA9IHQuaG9yaXosCgkJCQkJCWkgPSB0Lm9wdGlvbnMsCgkJCQkJCWEgPSBpLmxhYmVscywKCQkJCQkJbyA9IG4gPyBlLndpZHRoIDogZS5oZWlnaHQsCgkJCQkJCXIgPSBuID8gYS54IC0gbyAqIHsKCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQljZW50ZXI6IC41LAoJCQkJCQkJcmlnaHQ6IDEKCQkJCQkJfVt0LmxhYmVsQWxpZ25dIDogMCwKCQkJCQkJcyA9IG4gPyBvICsgciA6IG87CgkJCQkJcmV0dXJuIFtyLCBzXQoJCQkJfSwKCQkJCWhhbmRsZU92ZXJmbG93OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIGEsIG8sIHIsIHMgPSAhMCwKCQkJCQkJbCA9IHRoaXMuYXhpcywKCQkJCQkJYyA9IHRoaXMuaXNGaXJzdCwKCQkJCQkJZCA9IHRoaXMuaXNMYXN0LAoJCQkJCQlwID0gbC5ob3JpeiwKCQkJCQkJaCA9IHAgPyB0LnggOiB0LnksCgkJCQkJCXUgPSBsLnJldmVyc2VkLAoJCQkJCQltID0gbC50aWNrUG9zaXRpb25zLAoJCQkJCQlmID0gdGhpcy5nZXRMYWJlbFNpZGVzKCksCgkJCQkJCWcgPSBmWzBdLAoJCQkJCQlfID0gZlsxXSwKCQkJCQkJeCA9IHRoaXMubGFiZWwubGluZSwKCQkJCQkJdyA9IHggfHwgMCwKCQkJCQkJdiA9IGwubGFiZWxFZGdlLAoJCQkJCQliID0gbC5qdXN0aWZ5TGFiZWxzICYmIChjIHx8IGQpOwoJCQkJCWlmICh2W3ddID09PSBXIHx8IGggKyBnID4gdlt3XSA/IHZbd10gPSBoICsgXyA6IGIgfHwgKHMgPSAhMSksIGIpIHsKCQkJCQkJciA9IGwuanVzdGlmeVRvUGxvdCwgbiA9IHIgPyBsLnBvcyA6IDAsIGkgPSByID8gbiArIGwubGVuIDogbC5jaGFydC5jaGFydFdpZHRoOwoJCQkJCQlkbyBlICs9IGMgPyAxIDogLTEsIGEgPSBsLnRpY2tzW21bZV1dOyB3aGlsZSAobVtlXSAmJiAoIWEgfHwgIWEubGFiZWwgfHwgYS5sYWJlbC5saW5lICE9PSB4KSk7CgkJCQkJCW8gPSBhICYmIGEubGFiZWwueHkgJiYgYS5sYWJlbC54eS54ICsgYS5nZXRMYWJlbFNpZGVzKClbYyA/IDAgOiAxXSwgYyAmJiAhdSB8fCBkICYmIHUgPyBuID4gaCArIGcgJiYgKGggPSBuIC0gZywgYSAmJiBoICsgXyA+IG8gJiYgKHMgPSAhMSkpIDogaCArIF8gPiBpICYmIChoID0gaSAtIF8sIGEgJiYgbyA+IGggKyBnICYmIChzID0gITEpKSwgdC54ID0gaAoJCQkJCX0KCQkJCQlyZXR1cm4gcwoJCQkJfSwKCQkJCWdldFBvc2l0aW9uOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJdmFyIGEgPSB0aGlzLmF4aXMsCgkJCQkJCW8gPSBhLmNoYXJ0LAoJCQkJCQlyID0gaSAmJiBvLm9sZENoYXJ0SGVpZ2h0IHx8IG8uY2hhcnRIZWlnaHQ7CgkJCQkJcmV0dXJuIHsKCQkJCQkJeDogZSA/IGEudHJhbnNsYXRlKHQgKyBuLCBudWxsLCBudWxsLCBpKSArIGEudHJhbnNCIDogYS5sZWZ0ICsgYS5vZmZzZXQgKyAoYS5vcHBvc2l0ZSA/IChpICYmIG8ub2xkQ2hhcnRXaWR0aCB8fCBvLmNoYXJ0V2lkdGgpIC0gYS5yaWdodCAtIGEubGVmdCA6IDApLAoJCQkJCQl5OiBlID8gciAtIGEuYm90dG9tICsgYS5vZmZzZXQgLSAoYS5vcHBvc2l0ZSA/IGEuaGVpZ2h0IDogMCkgOiByIC0gYS50cmFuc2xhdGUodCArIG4sIG51bGwsIG51bGwsIGkpIC0gYS50cmFuc0IKCQkJCQl9CgkJCQl9LAoJCQkJZ2V0TGFiZWxQb3NpdGlvbjogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbywgciwgcykgewoJCQkJCXZhciBsID0gdGhpcy5heGlzLAoJCQkJCQljID0gbC50cmFuc0EsCgkJCQkJCWQgPSBsLnJldmVyc2VkLAoJCQkJCQlwID0gbC5zdGFnZ2VyTGluZXM7CgkJCQkJcmV0dXJuIGUgPSBlICsgYS54IC0gKG8gJiYgaSA/IG8gKiBjICogKGQgPyAtMSA6IDEpIDogMCksIHQgPSB0ICsgdGhpcy55T2Zmc2V0IC0gKG8gJiYgIWkgPyBvICogYyAqIChkID8gMSA6IC0xKSA6IDApLCBwICYmIChuLmxpbmUgPSByIC8gKHMgfHwgMSkgJSBwLCB0ICs9IG4ubGluZSAqIChsLmxhYmVsT2Zmc2V0IC8gcCkpLCB7CgkJCQkJCXg6IGUsCgkJCQkJCXk6IHQKCQkJCQl9CgkJCQl9LAoJCQkJZ2V0TWFya1BhdGg6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEsIG8pIHsKCQkJCQlyZXR1cm4gby5jcmlzcExpbmUoW2V0LCBlLCB0LCB0dCwgZSArIChhID8gMCA6IC1uKSwgdCArIChhID8gbiA6IDApXSwgaSkKCQkJCX0sCgkJCQlyZW5kZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciA9IHRoaXMsCgkJCQkJCXMgPSByLmF4aXMsCgkJCQkJCWwgPSBzLm9wdGlvbnMsCgkJCQkJCWMgPSBzLmNoYXJ0LAoJCQkJCQlkID0gYy5yZW5kZXJlciwKCQkJCQkJcCA9IHMuaG9yaXosCgkJCQkJCWggPSByLnR5cGUsCgkJCQkJCXUgPSByLmxhYmVsLAoJCQkJCQltID0gci5wb3MsCgkJCQkJCWYgPSBsLmxhYmVscywKCQkJCQkJZyA9IHIuZ3JpZExpbmUsCgkJCQkJCXggPSBoID8gaCArICJHcmlkIiA6ICJncmlkIiwKCQkJCQkJdyA9IGggPyBoICsgIlRpY2siIDogInRpY2siLAoJCQkJCQl2ID0gbFt4ICsgIkxpbmVXaWR0aCJdLAoJCQkJCQliID0gbFt4ICsgIkxpbmVDb2xvciJdLAoJCQkJCQl5ID0gbFt4ICsgIkxpbmVEYXNoU3R5bGUiXSwKCQkJCQkJayA9IGxbdyArICJMZW5ndGgiXSwKCQkJCQkJeiA9IGxbdyArICJXaWR0aCJdIHx8IDAsCgkJCQkJCUIgPSBsW3cgKyAiQ29sb3IiXSwKCQkJCQkJaiA9IGxbdyArICJQb3NpdGlvbiJdLAoJCQkJCQlDID0gci5tYXJrLAoJCQkJCQlTID0gZi5zdGVwLAoJCQkJCQlOID0gITAsCgkJCQkJCVQgPSBzLnRpY2ttYXJrT2Zmc2V0LAoJCQkJCQlQID0gci5nZXRQb3NpdGlvbihwLCBtLCBULCB0KSwKCQkJCQkJSSA9IFAueCwKCQkJCQkJQSA9IFAueSwKCQkJCQkJcSA9IHAgJiYgSSA9PT0gcy5wb3MgKyBzLmxlbiB8fCAhcCAmJiBBID09PSBzLnBvcyA/IC0xIDogMTsKCQkJCQluID0gXyhuLCAxKSwgdGhpcy5pc0FjdGl2ZSA9ICEwLCB2ICYmIChpID0gcy5nZXRQbG90TGluZVBhdGgobSArIFQsIHYgKiBxLCB0LCAhMCksIGcgPT09IFcgJiYgKG8gPSB7CgkJCQkJCXN0cm9rZTogYiwKCQkJCQkJInN0cm9rZS13aWR0aCI6IHYKCQkJCQl9LCB5ICYmIChvLmRhc2hzdHlsZSA9IHkpLCBoIHx8IChvLnpJbmRleCA9IDEpLCB0ICYmIChvLm9wYWNpdHkgPSAwKSwgci5ncmlkTGluZSA9IGcgPSB2ID8gZC5wYXRoKGkpLmF0dHIobykuYWRkKHMuZ3JpZEdyb3VwKSA6IG51bGwpLCAhdCAmJiBnICYmIGkgJiYgZ1tyLmlzTmV3ID8gImF0dHIiIDogImFuaW1hdGUiXSh7CgkJCQkJCWQ6IGksCgkJCQkJCW9wYWNpdHk6IG4KCQkJCQl9KSksIHogJiYgayAmJiAoImluc2lkZSIgPT09IGogJiYgKGsgPSAtayksIHMub3Bwb3NpdGUgJiYgKGsgPSAtayksIGEgPSByLmdldE1hcmtQYXRoKEksIEEsIGssIHogKiBxLCBwLCBkKSwgQyA/IEMuYW5pbWF0ZSh7CgkJCQkJCWQ6IGEsCgkJCQkJCW9wYWNpdHk6IG4KCQkJCQl9KSA6IHIubWFyayA9IGQucGF0aChhKS5hdHRyKHsKCQkJCQkJc3Ryb2tlOiBCLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogeiwKCQkJCQkJb3BhY2l0eTogbgoJCQkJCX0pLmFkZChzLmF4aXNHcm91cCkpLCB1ICYmICFpc05hTihJKSAmJiAodS54eSA9IFAgPSByLmdldExhYmVsUG9zaXRpb24oSSwgQSwgdSwgcCwgZiwgVCwgZSwgUyksIHIuaXNGaXJzdCAmJiAhci5pc0xhc3QgJiYgIV8obC5zaG93Rmlyc3RMYWJlbCwgMSkgfHwgci5pc0xhc3QgJiYgIXIuaXNGaXJzdCAmJiAhXyhsLnNob3dMYXN0TGFiZWwsIDEpID8gTiA9ICExIDogcy5pc1JhZGlhbCB8fCBmLnN0ZXAgfHwgZi5yb3RhdGlvbiB8fCB0IHx8IDAgPT09IG4gfHwgKE4gPSByLmhhbmRsZU92ZXJmbG93KGUsIFApKSwgUyAmJiBlICUgUyAmJiAoTiA9ICExKSwgTiAmJiAhaXNOYU4oUC55KSA/IChQLm9wYWNpdHkgPSBuLCB1W3IuaXNOZXcgPyAiYXR0ciIgOiAiYW5pbWF0ZSJdKFApLCByLmlzTmV3ID0gITEpIDogdS5hdHRyKCJ5IiwgLTk5OTkpKQoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCVAodGhpcywgdGhpcy5heGlzKQoJCQkJfQoJCQl9LCBsdC5QbG90TGluZU9yQmFuZCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXRoaXMuYXhpcyA9IGUsIHQgJiYgKHRoaXMub3B0aW9ucyA9IHQsIHRoaXMuaWQgPSB0LmlkKQoJCQl9LCBsdC5QbG90TGluZU9yQmFuZC5wcm90b3R5cGUgPSB7CgkJCQlyZW5kZXI6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhLCByLCBzID0gdGhpcywKCQkJCQkJbCA9IHMuYXhpcywKCQkJCQkJYyA9IGwuaG9yaXosCgkJCQkJCWQgPSAobC5wb2ludFJhbmdlIHx8IDApIC8gMiwKCQkJCQkJaCA9IHMub3B0aW9ucywKCQkJCQkJdSA9IGgubGFiZWwsCgkJCQkJCWYgPSBzLmxhYmVsLAoJCQkJCQlnID0gaC53aWR0aCwKCQkJCQkJXyA9IGgudG8sCgkJCQkJCXggPSBoLmZyb20sCgkJCQkJCXcgPSBtKHgpICYmIG0oXyksCgkJCQkJCXYgPSBoLnZhbHVlLAoJCQkJCQliID0gaC5kYXNoU3R5bGUsCgkJCQkJCXkgPSBzLnN2Z0VsZW0sCgkJCQkJCWsgPSBbXSwKCQkJCQkJeiA9IGguY29sb3IsCgkJCQkJCUIgPSBoLnpJbmRleCwKCQkJCQkJaiA9IGguZXZlbnRzLAoJCQkJCQlDID0ge30sCgkJCQkJCVMgPSBsLmNoYXJ0LnJlbmRlcmVyOwoJCQkJCWlmIChsLmlzTG9nICYmICh4ID0gcCh4KSwgXyA9IHAoXyksIHYgPSBwKHYpKSwgZykgayA9IGwuZ2V0UGxvdExpbmVQYXRoKHYsIGcpLCBDID0gewoJCQkJCQlzdHJva2U6IHosCgkJCQkJCSJzdHJva2Utd2lkdGgiOiBnCgkJCQkJfSwgYiAmJiAoQy5kYXNoc3R5bGUgPSBiKTsKCQkJCQllbHNlIHsKCQkJCQkJaWYgKCF3KSByZXR1cm47CgkJCQkJCXggPSBiZSh4LCBsLm1pbiAtIGQpLCBfID0geWUoXywgbC5tYXggKyBkKSwgayA9IGwuZ2V0UGxvdEJhbmRQYXRoKHgsIF8sIGgpLCB6ICYmIChDLmZpbGwgPSB6KSwgaC5ib3JkZXJXaWR0aCAmJiAoQy5zdHJva2UgPSBoLmJvcmRlckNvbG9yLCBDWyJzdHJva2Utd2lkdGgiXSA9IGguYm9yZGVyV2lkdGgpCgkJCQkJfSBpZiAobShCKSAmJiAoQy56SW5kZXggPSBCKSwgeSkgayA/IHkuYW5pbWF0ZSh7CgkJCQkJCWQ6IGsKCQkJCQl9LCBudWxsLCB5Lm9uR2V0UGF0aCkgOiAoeS5oaWRlKCksIHkub25HZXRQYXRoID0gZnVuY3Rpb24oKSB7CgkJCQkJCXkuc2hvdygpCgkJCQkJfSwgZiAmJiAocy5sYWJlbCA9IGYgPSBmLmRlc3Ryb3koKSkpOwoJCQkJCWVsc2UgaWYgKGsgJiYgay5sZW5ndGggJiYgKHMuc3ZnRWxlbSA9IHkgPSBTLnBhdGgoaykuYXR0cihDKS5hZGQoKSwgaikpIHsKCQkJCQkJZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXkub24oZSwgZnVuY3Rpb24odCkgewoJCQkJCQkJCWpbZV0uYXBwbHkocywgW3RdKQoJCQkJCQkJfSkKCQkJCQkJfTsKCQkJCQkJZm9yICh0IGluIGopIGUodCkKCQkJCQl9CgkJCQkJcmV0dXJuIHUgJiYgbSh1LnRleHQpICYmIGsgJiYgay5sZW5ndGggJiYgbC53aWR0aCA+IDAgJiYgbC5oZWlnaHQgPiAwID8gKHUgPSBvKHsKCQkJCQkJYWxpZ246IGMgJiYgdyAmJiAiY2VudGVyIiwKCQkJCQkJeDogYyA/ICF3ICYmIDQgOiAxMCwKCQkJCQkJdmVydGljYWxBbGlnbjogIWMgJiYgdyAmJiAibWlkZGxlIiwKCQkJCQkJeTogYyA/IHcgPyAxNiA6IDEwIDogdyA/IDYgOiAtNCwKCQkJCQkJcm90YXRpb246IGMgJiYgIXcgJiYgOTAKCQkJCQl9LCB1KSwgZiB8fCAoQyA9IHsKCQkJCQkJYWxpZ246IHUudGV4dEFsaWduIHx8IHUuYWxpZ24sCgkJCQkJCXJvdGF0aW9uOiB1LnJvdGF0aW9uCgkJCQkJfSwgbShCKSAmJiAoQy56SW5kZXggPSBCKSwgcy5sYWJlbCA9IGYgPSBTLnRleHQodS50ZXh0LCAwLCAwLCB1LnVzZUhUTUwpLmF0dHIoQykuY3NzKHUuc3R5bGUpLmFkZCgpKSwgbiA9IFtrWzFdLCBrWzRdLCB3ID8ga1s2XSA6IGtbMV1dLCBpID0gW2tbMl0sIGtbNV0sIHcgPyBrWzddIDoga1syXV0sIGEgPSBOKG4pLCByID0gTihpKSwgZi5hbGlnbih1LCAhMSwgewoJCQkJCQl4OiBhLAoJCQkJCQl5OiByLAoJCQkJCQl3aWR0aDogVChuKSAtIGEsCgkJCQkJCWhlaWdodDogVChpKSAtIHIKCQkJCQl9KSwgZi5zaG93KCkpIDogZiAmJiBmLmhpZGUoKSwgcwoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXUodGhpcy5heGlzLnBsb3RMaW5lc0FuZEJhbmRzLCB0aGlzKSwgZGVsZXRlIHRoaXMuYXhpcywgUCh0aGlzKQoJCQkJfQoJCQl9LCBRID0gewoJCQkJZ2V0UGxvdEJhbmRQYXRoOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzLmdldFBsb3RMaW5lUGF0aCh0KSwKCQkJCQkJaSA9IHRoaXMuZ2V0UGxvdExpbmVQYXRoKGUpOwoJCQkJCXJldHVybiBpICYmIG4gPyBpLnB1c2gobls0XSwgbls1XSwgblsxXSwgblsyXSkgOiBpID0gbnVsbCwgaQoJCQkJfSwKCQkJCWFkZFBsb3RCYW5kOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMuYWRkUGxvdEJhbmRPckxpbmUoZSwgInBsb3RCYW5kcyIpCgkJCQl9LAoJCQkJYWRkUGxvdExpbmU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5hZGRQbG90QmFuZE9yTGluZShlLCAicGxvdExpbmVzIikKCQkJCX0sCgkJCQlhZGRQbG90QmFuZE9yTGluZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gbmV3IGx0LlBsb3RMaW5lT3JCYW5kKHRoaXMsIGUpLnJlbmRlcigpLAoJCQkJCQlpID0gdGhpcy51c2VyT3B0aW9uczsKCQkJCQlyZXR1cm4gbiAmJiAodCAmJiAoaVt0XSA9IGlbdF0gfHwgW10sIGlbdF0ucHVzaChlKSksIHRoaXMucGxvdExpbmVzQW5kQmFuZHMucHVzaChuKSksIG4KCQkJCX0sCgkJCQlyZW1vdmVQbG90QmFuZE9yTGluZTogZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSB0aGlzLnBsb3RMaW5lc0FuZEJhbmRzLCBuID0gdGhpcy5vcHRpb25zLCBpID0gdGhpcy51c2VyT3B0aW9ucywgYSA9IHQubGVuZ3RoOyBhLS07KSB0W2FdLmlkID09PSBlICYmIHRbYV0uZGVzdHJveSgpOwoJCQkJCW10KFtuLnBsb3RMaW5lcyB8fCBbXSwgaS5wbG90TGluZXMgfHwgW10sIG4ucGxvdEJhbmRzIHx8IFtdLCBpLnBsb3RCYW5kcyB8fCBbXV0sIGZ1bmN0aW9uKHQpIHsKCQkJCQkJZm9yIChhID0gdC5sZW5ndGg7IGEtLTspIHRbYV0uaWQgPT09IGUgJiYgdSh0LCB0W2FdKQoJCQkJCX0pCgkJCQl9CgkJCX0sIFIucHJvdG90eXBlID0gewoJCQkJZGVmYXVsdE9wdGlvbnM6IHsKCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQltaWxsaXNlY29uZDogIiVIOiVNOiVTLiVMIiwKCQkJCQkJc2Vjb25kOiAiJUg6JU06JVMiLAoJCQkJCQltaW51dGU6ICIlSDolTSIsCgkJCQkJCWhvdXI6ICIlSDolTSIsCgkJCQkJCWRheTogIiVlLiAlYiIsCgkJCQkJCXdlZWs6ICIlZS4gJWIiLAoJCQkJCQltb250aDogIiViICcleSIsCgkJCQkJCXllYXI6ICIlWSIKCQkJCQl9LAoJCQkJCWVuZE9uVGljazogITEsCgkJCQkJZ3JpZExpbmVDb2xvcjogIiNDMEMwQzAiLAoJCQkJCWxhYmVsczogenQsCgkJCQkJbGluZUNvbG9yOiAiI0MwRDBFMCIsCgkJCQkJbGluZVdpZHRoOiAxLAoJCQkJCW1pblBhZGRpbmc6IC4wMSwKCQkJCQltYXhQYWRkaW5nOiAuMDEsCgkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI0UwRTBFMCIsCgkJCQkJbWlub3JHcmlkTGluZVdpZHRoOiAxLAoJCQkJCW1pbm9yVGlja0NvbG9yOiAiI0EwQTBBMCIsCgkJCQkJbWlub3JUaWNrTGVuZ3RoOiAyLAoJCQkJCW1pbm9yVGlja1Bvc2l0aW9uOiAib3V0c2lkZSIsCgkJCQkJc3RhcnRPZldlZWs6IDEsCgkJCQkJc3RhcnRPblRpY2s6ICExLAoJCQkJCXRpY2tDb2xvcjogIiNDMEQwRTAiLAoJCQkJCXRpY2tMZW5ndGg6IDEwLAoJCQkJCXRpY2ttYXJrUGxhY2VtZW50OiAiYmV0d2VlbiIsCgkJCQkJdGlja1BpeGVsSW50ZXJ2YWw6IDEwMCwKCQkJCQl0aWNrUG9zaXRpb246ICJvdXRzaWRlIiwKCQkJCQl0aWNrV2lkdGg6IDEsCgkJCQkJdGl0bGU6IHsKCQkJCQkJYWxpZ246ICJtaWRkbGUiLAoJCQkJCQlzdHlsZTogewoJCQkJCQkJY29sb3I6ICIjNzA3MDcwIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0eXBlOiAibGluZWFyIgoJCQkJfSwKCQkJCWRlZmF1bHRZQXhpc09wdGlvbnM6IHsKCQkJCQllbmRPblRpY2s6ICEwLAoJCQkJCWdyaWRMaW5lV2lkdGg6IDEsCgkJCQkJdGlja1BpeGVsSW50ZXJ2YWw6IDcyLAoJCQkJCXNob3dMYXN0TGFiZWw6ICEwLAoJCQkJCWxhYmVsczogewoJCQkJCQl4OiAtOCwKCQkJCQkJeTogMwoJCQkJCX0sCgkJCQkJbGluZVdpZHRoOiAwLAoJCQkJCW1heFBhZGRpbmc6IC4wNSwKCQkJCQltaW5QYWRkaW5nOiAuMDUsCgkJCQkJc3RhcnRPblRpY2s6ICEwLAoJCQkJCXRpY2tXaWR0aDogMCwKCQkJCQl0aXRsZTogewoJCQkJCQlyb3RhdGlvbjogMjcwLAoJCQkJCQl0ZXh0OiAiVmFsdWVzIgoJCQkJCX0sCgkJCQkJc3RhY2tMYWJlbHM6IHsKCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gYih0aGlzLnRvdGFsLCAtMSkKCQkJCQkJfSwKCQkJCQkJc3R5bGU6IHp0LnN0eWxlCgkJCQkJfQoJCQkJfSwKCQkJCWRlZmF1bHRMZWZ0QXhpc09wdGlvbnM6IHsKCQkJCQlsYWJlbHM6IHsKCQkJCQkJeDogLTE1LAoJCQkJCQl5OiBudWxsCgkJCQkJfSwKCQkJCQl0aXRsZTogewoJCQkJCQlyb3RhdGlvbjogMjcwCgkJCQkJfQoJCQkJfSwKCQkJCWRlZmF1bHRSaWdodEF4aXNPcHRpb25zOiB7CgkJCQkJbGFiZWxzOiB7CgkJCQkJCXg6IDE1LAoJCQkJCQl5OiBudWxsCgkJCQkJfSwKCQkJCQl0aXRsZTogewoJCQkJCQlyb3RhdGlvbjogOTAKCQkJCQl9CgkJCQl9LAoJCQkJZGVmYXVsdEJvdHRvbUF4aXNPcHRpb25zOiB7CgkJCQkJbGFiZWxzOiB7CgkJCQkJCXg6IDAsCgkJCQkJCXk6IG51bGwKCQkJCQl9LAoJCQkJCXRpdGxlOiB7CgkJCQkJCXJvdGF0aW9uOiAwCgkJCQkJfQoJCQkJfSwKCQkJCWRlZmF1bHRUb3BBeGlzT3B0aW9uczogewoJCQkJCWxhYmVsczogewoJCQkJCQl4OiAwLAoJCQkJCQl5OiAtMTUKCQkJCQl9LAoJCQkJCXRpdGxlOiB7CgkJCQkJCXJvdGF0aW9uOiAwCgkJCQkJfQoJCQkJfSwKCQkJCWluaXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHQuaXNYLAoJCQkJCQlpID0gdGhpczsKCQkJCQlpLmhvcml6ID0gZS5pbnZlcnRlZCA/ICFuIDogbiwgaS5pc1hBeGlzID0gbiwgaS5jb2xsID0gbiA/ICJ4QXhpcyIgOiAieUF4aXMiLCBpLm9wcG9zaXRlID0gdC5vcHBvc2l0ZSwgaS5zaWRlID0gdC5zaWRlIHx8IChpLmhvcml6ID8gaS5vcHBvc2l0ZSA/IDAgOiAyIDogaS5vcHBvc2l0ZSA/IDEgOiAzKSwgaS5zZXRPcHRpb25zKHQpOwoJCQkJCXZhciBhID0gdGhpcy5vcHRpb25zLAoJCQkJCQlvID0gYS50eXBlLAoJCQkJCQlyID0gImRhdGV0aW1lIiA9PT0gbzsKCQkJCQlpLmxhYmVsRm9ybWF0dGVyID0gYS5sYWJlbHMuZm9ybWF0dGVyIHx8IGkuZGVmYXVsdExhYmVsRm9ybWF0dGVyLCBpLnVzZXJPcHRpb25zID0gdCwgaS5taW5QaXhlbFBhZGRpbmcgPSAwLCBpLmNoYXJ0ID0gZSwgaS5yZXZlcnNlZCA9IGEucmV2ZXJzZWQsIGkuem9vbUVuYWJsZWQgPSBhLnpvb21FbmFibGVkICE9PSAhMSwgaS5jYXRlZ29yaWVzID0gYS5jYXRlZ29yaWVzIHx8ICJjYXRlZ29yeSIgPT09IG8sIGkubmFtZXMgPSBbXSwgaS5pc0xvZyA9ICJsb2dhcml0aG1pYyIgPT09IG8sIGkuaXNEYXRldGltZUF4aXMgPSByLCBpLmlzTGlua2VkID0gbShhLmxpbmtlZFRvKSwgaS50aWNrbWFya09mZnNldCA9IGkuY2F0ZWdvcmllcyAmJiAiYmV0d2VlbiIgPT09IGEudGlja21hcmtQbGFjZW1lbnQgJiYgMSA9PT0gXyhhLnRpY2tJbnRlcnZhbCwgMSkgPyAuNSA6IDAsIGkudGlja3MgPSB7fSwgaS5sYWJlbEVkZ2UgPSBbXSwgaS5taW5vclRpY2tzID0ge30sIGkucGxvdExpbmVzQW5kQmFuZHMgPSBbXSwgaS5hbHRlcm5hdGVCYW5kcyA9IHt9LCBpLmxlbiA9IDAsIGkubWluUmFuZ2UgPSBpLnVzZXJNaW5SYW5nZSA9IGEubWluUmFuZ2UgfHwgYS5tYXhab29tLCBpLnJhbmdlID0gYS5yYW5nZSwgaS5vZmZzZXQgPSBhLm9mZnNldCB8fCAwLCBpLnN0YWNrcyA9IHt9LCBpLm9sZFN0YWNrcyA9IHt9LCBpLm1heCA9IG51bGwsIGkubWluID0gbnVsbCwgaS5jcm9zc2hhaXIgPSBfKGEuY3Jvc3NoYWlyLCBnKGUub3B0aW9ucy50b29sdGlwLmNyb3NzaGFpcnMpW24gPyAwIDogMV0sICExKTsKCQkJCQl2YXIgcywgbCA9IGkub3B0aW9ucy5ldmVudHM7IC0gMSA9PT0gdXQoaSwgZS5heGVzKSAmJiAobiAmJiAhdGhpcy5pc0NvbG9yQXhpcyA/IGUuYXhlcy5zcGxpY2UoZS54QXhpcy5sZW5ndGgsIDAsIGkpIDogZS5heGVzLnB1c2goaSksIGVbaS5jb2xsXS5wdXNoKGkpKSwgaS5zZXJpZXMgPSBpLnNlcmllcyB8fCBbXSwgZS5pbnZlcnRlZCAmJiBuICYmIGkucmV2ZXJzZWQgPT09IFcgJiYgKGkucmV2ZXJzZWQgPSAhMCksIGkucmVtb3ZlUGxvdEJhbmQgPSBpLnJlbW92ZVBsb3RCYW5kT3JMaW5lLCBpLnJlbW92ZVBsb3RMaW5lID0gaS5yZW1vdmVQbG90QmFuZE9yTGluZTsKCQkJCQlmb3IgKHMgaW4gbCkgeHQoaSwgcywgbFtzXSk7CgkJCQkJaS5pc0xvZyAmJiAoaS52YWwybGluID0gcCwgaS5saW4ydmFsID0gaCkKCQkJCX0sCgkJCQlzZXRPcHRpb25zOiBmdW5jdGlvbihlKSB7CgkJCQkJdGhpcy5vcHRpb25zID0gbyh0aGlzLmRlZmF1bHRPcHRpb25zLCB0aGlzLmlzWEF4aXMgPyB7fSA6IHRoaXMuZGVmYXVsdFlBeGlzT3B0aW9ucywgW3RoaXMuZGVmYXVsdFRvcEF4aXNPcHRpb25zLCB0aGlzLmRlZmF1bHRSaWdodEF4aXNPcHRpb25zLCB0aGlzLmRlZmF1bHRCb3R0b21BeGlzT3B0aW9ucywgdGhpcy5kZWZhdWx0TGVmdEF4aXNPcHRpb25zXVt0aGlzLnNpZGVdLCBvKEdbdGhpcy5jb2xsXSwgZSkpCgkJCQl9LAoJCQkJZGVmYXVsdExhYmVsRm9ybWF0dGVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiA9IHRoaXMuYXhpcywKCQkJCQkJaSA9IHRoaXMudmFsdWUsCgkJCQkJCWEgPSBuLmNhdGVnb3JpZXMsCgkJCQkJCW8gPSB0aGlzLmRhdGVUaW1lTGFiZWxGb3JtYXQsCgkJCQkJCXIgPSBHLmxhbmcubnVtZXJpY1N5bWJvbHMsCgkJCQkJCXMgPSByICYmIHIubGVuZ3RoLAoJCQkJCQlsID0gbi5vcHRpb25zLmxhYmVscy5mb3JtYXQsCgkJCQkJCWMgPSBuLmlzTG9nID8gaSA6IG4udGlja0ludGVydmFsOwoJCQkJCWlmIChsKSB0ID0gQihsLCB0aGlzKTsKCQkJCQllbHNlIGlmIChhKSB0ID0gaTsKCQkJCQllbHNlIGlmIChvKSB0ID0gWChvLCBpKTsKCQkJCQllbHNlIGlmIChzICYmIGMgPj0gMWUzKQoJCQkJCQlmb3IgKDsgcy0tICYmIHQgPT09IFc7KSBlID0gTWF0aC5wb3coMWUzLCBzICsgMSksIGMgPj0gZSAmJiBudWxsICE9PSByW3NdICYmICh0ID0gYihpIC8gZSwgLTEpICsgcltzXSk7CgkJCQkJcmV0dXJuIHQgPT09IFcgJiYgKHQgPSBrZShpKSA+PSAxZTQgPyBiKGksIDApIDogYihpLCAtMSwgVywgIiIpKSwgdAoJCQkJfSwKCQkJCWdldFNlcmllc0V4dHJlbWVzOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmNoYXJ0OwoJCQkJCWUuaGFzVmlzaWJsZVNlcmllcyA9ICExLCBlLmRhdGFNaW4gPSBlLmRhdGFNYXggPSBlLmlnbm9yZU1pblBhZGRpbmcgPSBlLmlnbm9yZU1heFBhZGRpbmcgPSBudWxsLCBlLmJ1aWxkU3RhY2tzICYmIGUuYnVpbGRTdGFja3MoKSwgbXQoZS5zZXJpZXMsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJaWYgKG4udmlzaWJsZSB8fCAhdC5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcykgewoJCQkJCQkJdmFyIGksIGEsIG8sIHIgPSBuLm9wdGlvbnMsCgkJCQkJCQkJcyA9IHIudGhyZXNob2xkOwoJCQkJCQkJZS5oYXNWaXNpYmxlU2VyaWVzID0gITAsIGUuaXNMb2cgJiYgMCA+PSBzICYmIChzID0gbnVsbCksIGUuaXNYQXhpcyA/IChpID0gbi54RGF0YSwgaS5sZW5ndGggJiYgKGUuZGF0YU1pbiA9IHllKF8oZS5kYXRhTWluLCBpWzBdKSwgTihpKSksIGUuZGF0YU1heCA9IGJlKF8oZS5kYXRhTWF4LCBpWzBdKSwgVChpKSkpKSA6IChuLmdldEV4dHJlbWVzKCksIG8gPSBuLmRhdGFNYXgsIGEgPSBuLmRhdGFNaW4sIG0oYSkgJiYgbShvKSAmJiAoZS5kYXRhTWluID0geWUoXyhlLmRhdGFNaW4sIGEpLCBhKSwgZS5kYXRhTWF4ID0gYmUoXyhlLmRhdGFNYXgsIG8pLCBvKSksIG0ocykgJiYgKGUuZGF0YU1pbiA+PSBzID8gKGUuZGF0YU1pbiA9IHMsIGUuaWdub3JlTWluUGFkZGluZyA9ICEwKSA6IGUuZGF0YU1heCA8IHMgJiYgKGUuZGF0YU1heCA9IHMsIGUuaWdub3JlTWF4UGFkZGluZyA9ICEwKSkpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCXRyYW5zbGF0ZTogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbykgewoJCQkJCXZhciByLCBzID0gdGhpcywKCQkJCQkJbCA9IDEsCgkJCQkJCWMgPSAwLAoJCQkJCQlwID0gaSA/IHMub2xkVHJhbnNBIDogcy50cmFuc0EsCgkJCQkJCWggPSBpID8gcy5vbGRNaW4gOiBzLm1pbiwKCQkJCQkJdSA9IHMubWluUGl4ZWxQYWRkaW5nLAoJCQkJCQltID0gKHMub3B0aW9ucy5vcmRpbmFsIHx8IHMuaXNMb2cgJiYgYSkgJiYgcy5saW4ydmFsOwoJCQkJCXJldHVybiBwIHx8IChwID0gcy50cmFuc0EpLCBuICYmIChsICo9IC0xLCBjID0gcy5sZW4pLCBzLnJldmVyc2VkICYmIChsICo9IC0xLCBjIC09IGwgKiAocy5zZWN0b3IgfHwgcy5sZW4pKSwgdCA/IChlID0gZSAqIGwgKyBjLCBlIC09IHUsIHIgPSBlIC8gcCArIGgsIG0gJiYgKHIgPSBzLmxpbjJ2YWwocikpKSA6IChtICYmIChlID0gcy52YWwybGluKGUpKSwgImJldHdlZW4iID09PSBvICYmIChvID0gLjUpLCByID0gbCAqIChlIC0gaCkgKiBwICsgYyArIGwgKiB1ICsgKGQobykgPyBwICogbyAqIHMucG9pbnRSYW5nZSA6IDApKSwgcgoJCQkJfSwKCQkJCXRvUGl4ZWxzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMudHJhbnNsYXRlKGUsICExLCAhdGhpcy5ob3JpeiwgbnVsbCwgITApICsgKHQgPyAwIDogdGhpcy5wb3MpCgkJCQl9LAoJCQkJdG9WYWx1ZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiB0aGlzLnRyYW5zbGF0ZShlIC0gKHQgPyAwIDogdGhpcy5wb3MpLCAhMCwgIXRoaXMuaG9yaXosIG51bGwsICEwKQoJCQkJfSwKCQkJCWdldFBsb3RMaW5lUGF0aDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCXZhciBvLCByLCBzLCBsLCBjLCBkID0gdGhpcywKCQkJCQkJcCA9IGQuY2hhcnQsCgkJCQkJCWggPSBkLmxlZnQsCgkJCQkJCXUgPSBkLnRvcCwKCQkJCQkJbSA9IG4gJiYgcC5vbGRDaGFydEhlaWdodCB8fCBwLmNoYXJ0SGVpZ2h0LAoJCQkJCQlmID0gbiAmJiBwLm9sZENoYXJ0V2lkdGggfHwgcC5jaGFydFdpZHRoLAoJCQkJCQlnID0gZC50cmFuc0I7CgkJCQkJcmV0dXJuIGEgPSBfKGEsIGQudHJhbnNsYXRlKGUsIG51bGwsIG51bGwsIG4pKSwgbyA9IHMgPSB4ZShhICsgZyksIHIgPSBsID0geGUobSAtIGEgLSBnKSwgaXNOYU4oYSkgPyBjID0gITAgOiBkLmhvcml6ID8gKHIgPSB1LAoJCQkJCQlsID0gbSAtIGQuYm90dG9tLCAoaCA+IG8gfHwgbyA+IGggKyBkLndpZHRoKSAmJiAoYyA9ICEwKSkgOiAobyA9IGgsIHMgPSBmIC0gZC5yaWdodCwgKHUgPiByIHx8IHIgPiB1ICsgZC5oZWlnaHQpICYmIChjID0gITApKSwgYyAmJiAhaSA/IG51bGwgOiBwLnJlbmRlcmVyLmNyaXNwTGluZShbZXQsIG8sIHIsIHR0LCBzLCBsXSwgdCB8fCAxKQoJCQkJfSwKCQkJCWdldExpbmVhclRpY2tQb3NpdGlvbnM6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbyA9IEEod2UodCAvIGUpICogZSksCgkJCQkJCXIgPSBBKHZlKG4gLyBlKSAqIGUpLAoJCQkJCQlzID0gW107CgkJCQkJaWYgKHQgPT09IG4gJiYgZCh0KSkgcmV0dXJuIFt0XTsKCQkJCQlmb3IgKGkgPSBvOyByID49IGkgJiYgKHMucHVzaChpKSwgaSA9IEEoaSArIGUpLCBpICE9PSBhKTspIGEgPSBpOwoJCQkJCXJldHVybiBzCgkJCQl9LAoJCQkJZ2V0TWlub3JUaWNrUG9zaXRpb25zOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLm9wdGlvbnMsCgkJCQkJCW8gPSBpLnRpY2tQb3NpdGlvbnMsCgkJCQkJCXIgPSBpLm1pbm9yVGlja0ludGVydmFsLAoJCQkJCQlzID0gW107CgkJCQkJaWYgKGkuaXNMb2cpCgkJCQkJCWZvciAobiA9IG8ubGVuZ3RoLCB0ID0gMTsgbiA+IHQ7IHQrKykgcyA9IHMuY29uY2F0KGkuZ2V0TG9nVGlja1Bvc2l0aW9ucyhyLCBvW3QgLSAxXSwgb1t0XSwgITApKTsKCQkJCQllbHNlIGlmIChpLmlzRGF0ZXRpbWVBeGlzICYmICJhdXRvIiA9PT0gYS5taW5vclRpY2tJbnRlcnZhbCkgcyA9IHMuY29uY2F0KGkuZ2V0VGltZVRpY2tzKGkubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbChyKSwgaS5taW4sIGkubWF4LCBhLnN0YXJ0T2ZXZWVrKSksIHNbMF0gPCBpLm1pbiAmJiBzLnNoaWZ0KCk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKGUgPSBpLm1pbiArIChvWzBdIC0gaS5taW4pICUgcjsgZSA8PSBpLm1heDsgZSArPSByKSBzLnB1c2goZSk7CgkJCQkJcmV0dXJuIHMKCQkJCX0sCgkJCQlhZGp1c3RGb3JNaW5SYW5nZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0aGlzLAoJCQkJCQljID0gbC5vcHRpb25zLAoJCQkJCQlkID0gbC5taW4sCgkJCQkJCXAgPSBsLm1heCwKCQkJCQkJaCA9IGwuZGF0YU1heCAtIGwuZGF0YU1pbiA+PSBsLm1pblJhbmdlOwoJCQkJCWlmIChsLmlzWEF4aXMgJiYgbC5taW5SYW5nZSA9PT0gVyAmJiAhbC5pc0xvZyAmJiAobShjLm1pbikgfHwgbShjLm1heCkgPyBsLm1pblJhbmdlID0gbnVsbCA6IChtdChsLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQlmb3IgKGEgPSBlLnhEYXRhLCBvID0gZS54SW5jcmVtZW50ID8gMSA6IGEubGVuZ3RoIC0gMSwgbiA9IG87IG4gPiAwOyBuLS0pIGkgPSBhW25dIC0gYVtuIC0gMV0sICh0ID09PSBXIHx8IHQgPiBpKSAmJiAodCA9IGkpCgkJCQkJfSksIGwubWluUmFuZ2UgPSB5ZSg1ICogdCwgbC5kYXRhTWF4IC0gbC5kYXRhTWluKSkpLCBwIC0gZCA8IGwubWluUmFuZ2UpIHsKCQkJCQkJdmFyIHUgPSBsLm1pblJhbmdlOwoJCQkJCQllID0gKHUgLSBwICsgZCkgLyAyLCByID0gW2QgLSBlLCBfKGMubWluLCBkIC0gZSldLCBoICYmIChyWzJdID0gbC5kYXRhTWluKSwgZCA9IFQociksIHMgPSBbZCArIHUsIF8oYy5tYXgsIGQgKyB1KV0sIGggJiYgKHNbMl0gPSBsLmRhdGFNYXgpLCBwID0gTihzKSwgdSA+IHAgLSBkICYmIChyWzBdID0gcCAtIHUsIHJbMV0gPSBfKGMubWluLCBwIC0gdSksIGQgPSBUKHIpKQoJCQkJCX0KCQkJCQlsLm1pbiA9IGQsIGwubWF4ID0gcAoJCQkJfSwKCQkJCXNldEF4aXNUcmFuc2xhdGlvbjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcywKCQkJCQkJYSA9IGkubWF4IC0gaS5taW4sCgkJCQkJCW8gPSBpLmF4aXNQb2ludFJhbmdlIHx8IDAsCgkJCQkJCXIgPSAwLAoJCQkJCQlsID0gMCwKCQkJCQkJYyA9IGkubGlua2VkUGFyZW50LAoJCQkJCQlkID0gISFpLmNhdGVnb3JpZXMsCgkJCQkJCXAgPSBpLnRyYW5zQTsKCQkJCQkoaS5pc1hBeGlzIHx8IGQgfHwgbykgJiYgKGMgPyAociA9IGMubWluUG9pbnRPZmZzZXQsIGwgPSBjLnBvaW50UmFuZ2VQYWRkaW5nKSA6IG10KGkuc2VyaWVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciBuID0gZCA/IDEgOiBpLmlzWEF4aXMgPyBlLnBvaW50UmFuZ2UgOiBpLmF4aXNQb2ludFJhbmdlIHx8IDAsCgkJCQkJCQljID0gZS5vcHRpb25zLnBvaW50UGxhY2VtZW50LAoJCQkJCQkJcCA9IGUuY2xvc2VzdFBvaW50UmFuZ2U7CgkJCQkJCW4gPiBhICYmIChuID0gMCksIG8gPSBiZShvLCBuKSwgciA9IGJlKHIsIHMoYykgPyAwIDogbiAvIDIpLCBsID0gYmUobCwgIm9uIiA9PT0gYyA/IDAgOiBuKSwgIWUubm9TaGFyZWRUb29sdGlwICYmIG0ocCkgJiYgKHQgPSBtKHQpID8geWUodCwgcCkgOiBwKQoJCQkJCX0pLCBuID0gaS5vcmRpbmFsU2xvcGUgJiYgdCA/IGkub3JkaW5hbFNsb3BlIC8gdCA6IDEsIGkubWluUG9pbnRPZmZzZXQgPSByICo9IG4sIGkucG9pbnRSYW5nZVBhZGRpbmcgPSBsICo9IG4sIGkucG9pbnRSYW5nZSA9IHllKG8sIGEpLCBpLmNsb3Nlc3RQb2ludFJhbmdlID0gdCksIGUgJiYgKGkub2xkVHJhbnNBID0gcCksIGkudHJhbnNsYXRpb25TbG9wZSA9IGkudHJhbnNBID0gcCA9IGkubGVuIC8gKGEgKyBsIHx8IDEpLCBpLnRyYW5zQiA9IGkuaG9yaXogPyBpLmxlZnQgOiBpLmJvdHRvbSwgaS5taW5QaXhlbFBhZGRpbmcgPSBwICogcgoJCQkJfSwKCQkJCXNldFRpY2tQb3NpdGlvbnM6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSwgbyA9IHRoaXMsCgkJCQkJCXIgPSBvLmNoYXJ0LAoJCQkJCQlzID0gby5vcHRpb25zLAoJCQkJCQlsID0gcy5zdGFydE9uVGljaywKCQkJCQkJYyA9IHMuZW5kT25UaWNrLAoJCQkJCQloID0gby5pc0xvZywKCQkJCQkJdSA9IG8uaXNEYXRldGltZUF4aXMsCgkJCQkJCWYgPSBvLmlzWEF4aXMsCgkJCQkJCWcgPSBvLmlzTGlua2VkLAoJCQkJCQl4ID0gby5vcHRpb25zLnRpY2tQb3NpdGlvbmVyLAoJCQkJCQl3ID0gcy5tYXhQYWRkaW5nLAoJCQkJCQl2ID0gcy5taW5QYWRkaW5nLAoJCQkJCQliID0gcy50aWNrSW50ZXJ2YWwsCgkJCQkJCXkgPSBzLm1pblRpY2tJbnRlcnZhbCwKCQkJCQkJayA9IHMudGlja1BpeGVsSW50ZXJ2YWwsCgkJCQkJCXogPSBvLmNhdGVnb3JpZXM7CgkJCQkJaWYgKGcgPyAoby5saW5rZWRQYXJlbnQgPSByW28uY29sbF1bcy5saW5rZWRUb10sIG4gPSBvLmxpbmtlZFBhcmVudC5nZXRFeHRyZW1lcygpLCBvLm1pbiA9IF8obi5taW4sIG4uZGF0YU1pbiksIG8ubWF4ID0gXyhuLm1heCwgbi5kYXRhTWF4KSwgcy50eXBlICE9PSBvLmxpbmtlZFBhcmVudC5vcHRpb25zLnR5cGUgJiYgSygxMSwgMSkpIDogKG8ubWluID0gXyhvLnVzZXJNaW4sIHMubWluLCBvLmRhdGFNaW4pLCBvLm1heCA9IF8oby51c2VyTWF4LCBzLm1heCwgby5kYXRhTWF4KSksIGggJiYgKCFlICYmIHllKG8ubWluLCBfKG8uZGF0YU1pbiwgby5taW4pKSA8PSAwICYmIEsoMTAsIDEpLCBvLm1pbiA9IEEocChvLm1pbikpLCBvLm1heCA9IEEocChvLm1heCkpKSwgby5yYW5nZSAmJiBtKG8ubWF4KSAmJiAoby51c2VyTWluID0gby5taW4gPSBiZShvLm1pbiwgby5tYXggLSBvLnJhbmdlKSwgby51c2VyTWF4ID0gby5tYXgsIG8ucmFuZ2UgPSBudWxsKSwgby5iZWZvcmVQYWRkaW5nICYmIG8uYmVmb3JlUGFkZGluZygpLCBvLmFkanVzdEZvck1pblJhbmdlKCksIHogfHwgby5heGlzUG9pbnRSYW5nZSB8fCBvLnVzZVBlcmNlbnRhZ2UgfHwgZyB8fCAhbShvLm1pbikgfHwgIW0oby5tYXgpIHx8ICh0ID0gby5tYXggLSBvLm1pbiwgdCAmJiAobShzLm1pbikgfHwgbShvLnVzZXJNaW4pIHx8ICF2IHx8ICEoby5kYXRhTWluIDwgMCkgJiYgby5pZ25vcmVNaW5QYWRkaW5nIHx8IChvLm1pbiAtPSB0ICogdiksIG0ocy5tYXgpIHx8IG0oby51c2VyTWF4KSB8fCAhdyB8fCAhKG8uZGF0YU1heCA+IDApICYmIG8uaWdub3JlTWF4UGFkZGluZyB8fCAoby5tYXggKz0gdCAqIHcpKSksIGQocy5mbG9vcikgJiYgKG8ubWluID0gYmUoby5taW4sIHMuZmxvb3IpKSwgZChzLmNlaWxpbmcpICYmIChvLm1heCA9IHllKG8ubWF4LCBzLmNlaWxpbmcpKSwgby5taW4gPT09IG8ubWF4IHx8IHZvaWQgMCA9PT0gby5taW4gfHwgdm9pZCAwID09PSBvLm1heCA/IG8udGlja0ludGVydmFsID0gMSA6IGcgJiYgIWIgJiYgayA9PT0gby5saW5rZWRQYXJlbnQub3B0aW9ucy50aWNrUGl4ZWxJbnRlcnZhbCA/IG8udGlja0ludGVydmFsID0gby5saW5rZWRQYXJlbnQudGlja0ludGVydmFsIDogKG8udGlja0ludGVydmFsID0gXyhiLCB6ID8gMSA6IChvLm1heCAtIG8ubWluKSAqIGsgLyBiZShvLmxlbiwgaykpLCAhbShiKSAmJiBvLmxlbiA8IGsgJiYgIXRoaXMuaXNSYWRpYWwgJiYgIXRoaXMuaXNMb2cgJiYgIXogJiYgbCAmJiBjICYmIChhID0gITAsIG8udGlja0ludGVydmFsIC89IDQpKSwgZiAmJiAhZSAmJiBtdChvLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLnByb2Nlc3NEYXRhKG8ubWluICE9PSBvLm9sZE1pbiB8fCBvLm1heCAhPT0gby5vbGRNYXgpCgkJCQkJfSksIG8uc2V0QXhpc1RyYW5zbGF0aW9uKCEwKSwgby5iZWZvcmVTZXRUaWNrUG9zaXRpb25zICYmIG8uYmVmb3JlU2V0VGlja1Bvc2l0aW9ucygpLCBvLnBvc3RQcm9jZXNzVGlja0ludGVydmFsICYmIChvLnRpY2tJbnRlcnZhbCA9IG8ucG9zdFByb2Nlc3NUaWNrSW50ZXJ2YWwoby50aWNrSW50ZXJ2YWwpKSwgby5wb2ludFJhbmdlICYmIChvLnRpY2tJbnRlcnZhbCA9IGJlKG8ucG9pbnRSYW5nZSwgby50aWNrSW50ZXJ2YWwpKSwgIWIgJiYgby50aWNrSW50ZXJ2YWwgPCB5ICYmIChvLnRpY2tJbnRlcnZhbCA9IHkpLCB1IHx8IGggfHwgYiB8fCAoby50aWNrSW50ZXJ2YWwgPSBDKG8udGlja0ludGVydmFsLCBudWxsLCBqKG8udGlja0ludGVydmFsKSwgXyhzLmFsbG93RGVjaW1hbHMsICEoby50aWNrSW50ZXJ2YWwgPiAxICYmIG8udGlja0ludGVydmFsIDwgNSAmJiBvLm1heCA+IDFlMyAmJiBvLm1heCA8IDk5OTkpKSkpLCBvLm1pbm9yVGlja0ludGVydmFsID0gImF1dG8iID09PSBzLm1pbm9yVGlja0ludGVydmFsICYmIG8udGlja0ludGVydmFsID8gby50aWNrSW50ZXJ2YWwgLyA1IDogcy5taW5vclRpY2tJbnRlcnZhbCwgby50aWNrUG9zaXRpb25zID0gaSA9IHMudGlja1Bvc2l0aW9ucyA/IFtdLmNvbmNhdChzLnRpY2tQb3NpdGlvbnMpIDogeCAmJiB4LmFwcGx5KG8sIFtvLm1pbiwgby5tYXhdKSwgaSB8fCAoIW8ub3JkaW5hbFBvc2l0aW9ucyAmJiAoby5tYXggLSBvLm1pbikgLyBvLnRpY2tJbnRlcnZhbCA+IGJlKDIgKiBvLmxlbiwgMjAwKSAmJiBLKDE5LCAhMCksIGkgPSB1ID8gby5nZXRUaW1lVGlja3Moby5ub3JtYWxpemVUaW1lVGlja0ludGVydmFsKG8udGlja0ludGVydmFsLCBzLnVuaXRzKSwgby5taW4sIG8ubWF4LCBzLnN0YXJ0T2ZXZWVrLCBvLm9yZGluYWxQb3NpdGlvbnMsIG8uY2xvc2VzdFBvaW50UmFuZ2UsICEwKSA6IGggPyBvLmdldExvZ1RpY2tQb3NpdGlvbnMoby50aWNrSW50ZXJ2YWwsIG8ubWluLCBvLm1heCkgOiBvLmdldExpbmVhclRpY2tQb3NpdGlvbnMoby50aWNrSW50ZXJ2YWwsIG8ubWluLCBvLm1heCksIGEgJiYgaS5zcGxpY2UoMSwgaS5sZW5ndGggLSAyKSwgby50aWNrUG9zaXRpb25zID0gaSksICFnKSB7CgkJCQkJCXZhciBCLCBTID0gaVswXSwKCQkJCQkJCU4gPSBpW2kubGVuZ3RoIC0gMV0sCgkJCQkJCQlUID0gby5taW5Qb2ludE9mZnNldCB8fCAwOwoJCQkJCQlsID8gby5taW4gPSBTIDogby5taW4gLSBUID4gUyAmJiBpLnNoaWZ0KCksIGMgPyBvLm1heCA9IE4gOiBvLm1heCArIFQgPCBOICYmIGkucG9wKCksIDAgPT09IGkubGVuZ3RoICYmIG0oUykgJiYgaS5wdXNoKChOICsgUykgLyAyKSwgMSA9PT0gaS5sZW5ndGggJiYgKEIgPSBrZShvLm1heCkgPiAxZTEzID8gMSA6IC4wMDEsIG8ubWluIC09IEIsIG8ubWF4ICs9IEIpCgkJCQkJfQoJCQkJfSwKCQkJCXNldE1heFRpY2tzOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMuY2hhcnQsCgkJCQkJCXQgPSBlLm1heFRpY2tzIHx8IHt9LAoJCQkJCQluID0gdGhpcy50aWNrUG9zaXRpb25zLAoJCQkJCQlpID0gdGhpcy5fbWF4VGlja3NLZXkgPSBbdGhpcy5jb2xsLCB0aGlzLnBvcywgdGhpcy5sZW5dLmpvaW4oIi0iKTsKCQkJCQkhdGhpcy5pc0xpbmtlZCAmJiAhdGhpcy5pc0RhdGV0aW1lQXhpcyAmJiBuICYmIG4ubGVuZ3RoID4gKHRbaV0gfHwgMCkgJiYgdGhpcy5vcHRpb25zLmFsaWduVGlja3MgIT09ICExICYmICh0W2ldID0gbi5sZW5ndGgpLCBlLm1heFRpY2tzID0gdAoJCQkJfSwKCQkJCWFkanVzdFRpY2tBbW91bnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQsCgkJCQkJCW4gPSBlLl9tYXhUaWNrc0tleSwKCQkJCQkJaSA9IGUudGlja1Bvc2l0aW9ucywKCQkJCQkJYSA9IHQubWF4VGlja3M7CgkJCQkJaWYgKGEgJiYgYVtuXSAmJiAhZS5pc0RhdGV0aW1lQXhpcyAmJiAhZS5jYXRlZ29yaWVzICYmICFlLmlzTGlua2VkICYmIGUub3B0aW9ucy5hbGlnblRpY2tzICE9PSAhMSAmJiB0aGlzLm1pbiAhPT0gVykgewoJCQkJCQl2YXIgbywgciA9IGUudGlja0Ftb3VudCwKCQkJCQkJCXMgPSBpLmxlbmd0aDsKCQkJCQkJaWYgKGUudGlja0Ftb3VudCA9IG8gPSBhW25dLCBvID4gcykgewoJCQkJCQkJZm9yICg7IGkubGVuZ3RoIDwgbzspIGkucHVzaChBKGlbaS5sZW5ndGggLSAxXSArIGUudGlja0ludGVydmFsKSk7CgkJCQkJCQllLnRyYW5zQSAqPSAocyAtIDEpIC8gKG8gLSAxKSwgZS5tYXggPSBpW2kubGVuZ3RoIC0gMV0KCQkJCQkJfQoJCQkJCQltKHIpICYmIG8gIT09IHIgJiYgKGUuaXNEaXJ0eSA9ICEwKQoJCQkJCX0KCQkJCX0sCgkJCQlzZXRTY2FsZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEgPSB0aGlzLAoJCQkJCQlvID0gYS5zdGFja3M7CgkJCQkJaWYgKGEub2xkTWluID0gYS5taW4sIGEub2xkTWF4ID0gYS5tYXgsIGEub2xkQXhpc0xlbmd0aCA9IGEubGVuLCBhLnNldEF4aXNTaXplKCksIGkgPSBhLmxlbiAhPT0gYS5vbGRBeGlzTGVuZ3RoLCBtdChhLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQkoZS5pc0RpcnR5RGF0YSB8fCBlLmlzRGlydHkgfHwgZS54QXhpcy5pc0RpcnR5KSAmJiAobiA9ICEwKQoJCQkJCX0pLCBpIHx8IG4gfHwgYS5pc0xpbmtlZCB8fCBhLmZvcmNlUmVkcmF3IHx8IGEudXNlck1pbiAhPT0gYS5vbGRVc2VyTWluIHx8IGEudXNlck1heCAhPT0gYS5vbGRVc2VyTWF4KSB7CgkJCQkJCWlmICghYS5pc1hBeGlzKQoJCQkJCQkJZm9yIChlIGluIG8pCgkJCQkJCQkJZm9yICh0IGluIG9bZV0pIG9bZV1bdF0udG90YWwgPSBudWxsLCBvW2VdW3RdLmN1bSA9IDA7CgkJCQkJCWEuZm9yY2VSZWRyYXcgPSAhMSwgYS5nZXRTZXJpZXNFeHRyZW1lcygpLCBhLnNldFRpY2tQb3NpdGlvbnMoKSwgYS5vbGRVc2VyTWluID0gYS51c2VyTWluLCBhLm9sZFVzZXJNYXggPSBhLnVzZXJNYXgsIGEuaXNEaXJ0eSB8fCAoYS5pc0RpcnR5ID0gaSB8fCBhLm1pbiAhPT0gYS5vbGRNaW4gfHwgYS5tYXggIT09IGEub2xkTWF4KQoJCQkJCX0gZWxzZSBpZiAoIWEuaXNYQXhpcykgewoJCQkJCQlhLm9sZFN0YWNrcyAmJiAobyA9IGEuc3RhY2tzID0gYS5vbGRTdGFja3MpOwoJCQkJCQlmb3IgKGUgaW4gbykKCQkJCQkJCWZvciAodCBpbiBvW2VdKSBvW2VdW3RdLmN1bSA9IG9bZV1bdF0udG90YWwKCQkJCQl9CgkJCQkJYS5zZXRNYXhUaWNrcygpCgkJCQl9LAoJCQkJc2V0RXh0cmVtZXM6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIG8pIHsKCQkJCQl2YXIgciA9IHRoaXMsCgkJCQkJCXMgPSByLmNoYXJ0OwoJCQkJCW4gPSBfKG4sICEwKSwgbyA9IGEobywgewoJCQkJCQltaW46IGUsCgkJCQkJCW1heDogdAoJCQkJCX0pLCB2dChyLCAic2V0RXh0cmVtZXMiLCBvLCBmdW5jdGlvbigpIHsKCQkJCQkJci51c2VyTWluID0gZSwgci51c2VyTWF4ID0gdCwgci5ldmVudEFyZ3MgPSBvLCByLmlzRGlydHlFeHRyZW1lcyA9ICEwLCBuICYmIHMucmVkcmF3KGkpCgkJCQkJfSkKCQkJCX0sCgkJCQl6b29tOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzLmRhdGFNaW4sCgkJCQkJCWkgPSB0aGlzLmRhdGFNYXgsCgkJCQkJCWEgPSB0aGlzLm9wdGlvbnM7CgkJCQkJcmV0dXJuIHRoaXMuYWxsb3dab29tT3V0c2lkZSB8fCAobShuKSAmJiBlIDw9IHllKG4sIF8oYS5taW4sIG4pKSAmJiAoZSA9IFcpLCBtKGkpICYmIHQgPj0gYmUoaSwgXyhhLm1heCwgaSkpICYmICh0ID0gVykpLCB0aGlzLmRpc3BsYXlCdG4gPSBlICE9PSBXIHx8IHQgIT09IFcsIHRoaXMuc2V0RXh0cmVtZXMoZSwgdCwgITEsIFcsIHsKCQkJCQkJdHJpZ2dlcjogInpvb20iCgkJCQkJfSksICEwCgkJCQl9LAoJCQkJc2V0QXhpc1NpemU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5jaGFydCwKCQkJCQkJdCA9IHRoaXMub3B0aW9ucywKCQkJCQkJbiA9IHQub2Zmc2V0TGVmdCB8fCAwLAoJCQkJCQlpID0gdC5vZmZzZXRSaWdodCB8fCAwLAoJCQkJCQlhID0gdGhpcy5ob3JpeiwKCQkJCQkJbyA9IF8odC53aWR0aCwgZS5wbG90V2lkdGggLSBuICsgaSksCgkJCQkJCXIgPSBfKHQuaGVpZ2h0LCBlLnBsb3RIZWlnaHQpLAoJCQkJCQlzID0gXyh0LnRvcCwgZS5wbG90VG9wKSwKCQkJCQkJbCA9IF8odC5sZWZ0LCBlLnBsb3RMZWZ0ICsgbiksCgkJCQkJCWMgPSAvJSQvOwoJCQkJCWMudGVzdChyKSAmJiAociA9IHBhcnNlSW50KHIsIDEwKSAvIDEwMCAqIGUucGxvdEhlaWdodCksIGMudGVzdChzKSAmJiAocyA9IHBhcnNlSW50KHMsIDEwKSAvIDEwMCAqIGUucGxvdEhlaWdodCArIGUucGxvdFRvcCksIHRoaXMubGVmdCA9IGwsIHRoaXMudG9wID0gcywgdGhpcy53aWR0aCA9IG8sIHRoaXMuaGVpZ2h0ID0gciwgdGhpcy5ib3R0b20gPSBlLmNoYXJ0SGVpZ2h0IC0gciAtIHMsIHRoaXMucmlnaHQgPSBlLmNoYXJ0V2lkdGggLSBvIC0gbCwgdGhpcy5sZW4gPSBiZShhID8gbyA6IHIsIDApLCB0aGlzLnBvcyA9IGEgPyBsIDogcwoJCQkJfSwKCQkJCWdldEV4dHJlbWVzOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmlzTG9nOwoJCQkJCXJldHVybiB7CgkJCQkJCW1pbjogdCA/IEEoaChlLm1pbikpIDogZS5taW4sCgkJCQkJCW1heDogdCA/IEEoaChlLm1heCkpIDogZS5tYXgsCgkJCQkJCWRhdGFNaW46IGUuZGF0YU1pbiwKCQkJCQkJZGF0YU1heDogZS5kYXRhTWF4LAoJCQkJCQl1c2VyTWluOiBlLnVzZXJNaW4sCgkJCQkJCXVzZXJNYXg6IGUudXNlck1heAoJCQkJCX0KCQkJCX0sCgkJCQlnZXRUaHJlc2hvbGQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSB0LmlzTG9nLAoJCQkJCQlpID0gbiA/IGgodC5taW4pIDogdC5taW4sCgkJCQkJCWEgPSBuID8gaCh0Lm1heCkgOiB0Lm1heDsKCQkJCQlyZXR1cm4gaSA+IGUgfHwgbnVsbCA9PT0gZSA/IGUgPSBpIDogZSA+IGEgJiYgKGUgPSBhKSwgdC50cmFuc2xhdGUoZSwgMCwgMSwgMCwgMSkKCQkJCX0sCgkJCQlhdXRvTGFiZWxBbGlnbjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuID0gKF8oZSwgMCkgLSA5MCAqIHRoaXMuc2lkZSArIDcyMCkgJSAzNjA7CgkJCQkJcmV0dXJuIHQgPSBuID4gMTUgJiYgMTY1ID4gbiA/ICJyaWdodCIgOiBuID4gMTk1ICYmIDM0NSA+IG4gPyAibGVmdCIgOiAiY2VudGVyIgoJCQkJfSwKCQkJCWdldE9mZnNldDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUsIGYsIGcgPSB0aGlzLAoJCQkJCQl4ID0gZy5jaGFydCwKCQkJCQkJdyA9IHgucmVuZGVyZXIsCgkJCQkJCXYgPSBnLm9wdGlvbnMsCgkJCQkJCWIgPSBnLnRpY2tQb3NpdGlvbnMsCgkJCQkJCXkgPSBnLnRpY2tzLAoJCQkJCQlrID0gZy5ob3JpeiwKCQkJCQkJeiA9IGcuc2lkZSwKCQkJCQkJQiA9IHguaW52ZXJ0ZWQgPyBbMSwgMCwgMywgMl1bel0gOiB6LAoJCQkJCQlqID0gMCwKCQkJCQkJQyA9IDAsCgkJCQkJCVMgPSB2LnRpdGxlLAoJCQkJCQlOID0gdi5sYWJlbHMsCgkJCQkJCVQgPSAwLAoJCQkJCQlQID0geC5heGlzT2Zmc2V0LAoJCQkJCQlJID0geC5jbGlwT2Zmc2V0LAoJCQkJCQlBID0gWy0xLCAxLCAxLCAtMV1bel0sCgkJCQkJCXEgPSAxLAoJCQkJCQlFID0gXyhOLm1heFN0YWdnZXJMaW5lcywgNSk7CgkJCQkJaWYgKGcuaGFzRGF0YSA9IGUgPSBnLmhhc1Zpc2libGVTZXJpZXMgfHwgbShnLm1pbikgJiYgbShnLm1heCkgJiYgISFiLCBnLnNob3dBeGlzID0gdCA9IGUgfHwgXyh2LnNob3dFbXB0eSwgITApLCBnLnN0YWdnZXJMaW5lcyA9IGcuaG9yaXogJiYgTi5zdGFnZ2VyTGluZXMsIGcuYXhpc0dyb3VwIHx8IChnLmdyaWRHcm91cCA9IHcuZygiZ3JpZCIpLmF0dHIoewoJCQkJCQl6SW5kZXg6IHYuZ3JpZFpJbmRleCB8fCAxCgkJCQkJfSkuYWRkKCksIGcuYXhpc0dyb3VwID0gdy5nKCJheGlzIikuYXR0cih7CgkJCQkJCXpJbmRleDogdi56SW5kZXggfHwgMgoJCQkJCX0pLmFkZCgpLCBnLmxhYmVsR3JvdXAgPSB3LmcoImF4aXMtbGFiZWxzIikuYXR0cih7CgkJCQkJCXpJbmRleDogTi56SW5kZXggfHwgNwoJCQkJCX0pLmFkZENsYXNzKFplICsgZy5jb2xsLnRvTG93ZXJDYXNlKCkgKyAiLWxhYmVscyIpLmFkZCgpKSwgZSB8fCBnLmlzTGlua2VkKSB7CgkJCQkJCWlmIChnLmxhYmVsQWxpZ24gPSBfKE4uYWxpZ24gfHwgZy5hdXRvTGFiZWxBbGlnbihOLnJvdGF0aW9uKSksIG10KGIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXlbZV0gPyB5W2VdLmFkZExhYmVsKCkgOiB5W2VdID0gbmV3IE0oZywgZSkKCQkJCQkJfSksIGcuaG9yaXogJiYgIWcuc3RhZ2dlckxpbmVzICYmIEUgJiYgIU4ucm90YXRpb24pIHsKCQkJCQkJCWZvciAociA9IGcucmV2ZXJzZWQgPyBbXS5jb25jYXQoYikucmV2ZXJzZSgpIDogYjsgRSA+IHE7KSB7CgkJCQkJCQkJZm9yIChzID0gW10sIGwgPSAhMSwgbyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKSBjID0gcltvXSwgZCA9IHlbY10ubGFiZWwgJiYgeVtjXS5sYWJlbC5nZXRCQm94KCksIGggPSBkID8gZC53aWR0aCA6IDAsIHUgPSBvICUgcSwgaCAmJiAocCA9IGcudHJhbnNsYXRlKGMpLCBzW3VdICE9PSBXICYmIHAgPCBzW3VdICYmIChsID0gITApLCBzW3VdID0gcCArIGgpOwoJCQkJCQkJCWlmICghbCkgYnJlYWs7CgkJCQkJCQkJcSsrCgkJCQkJCQl9CgkJCQkJCQlxID4gMSAmJiAoZy5zdGFnZ2VyTGluZXMgPSBxKQoJCQkJCQl9CgkJCQkJCW10KGIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCSgwID09PSB6IHx8IDIgPT09IHogfHwgewoJCQkJCQkJCTE6ICJsZWZ0IiwKCQkJCQkJCQkzOiAicmlnaHQiCgkJCQkJCQl9W3pdID09PSBnLmxhYmVsQWxpZ24pICYmIChUID0gYmUoeVtlXS5nZXRMYWJlbFNpemUoKSwgVCkpCgkJCQkJCX0pLCBnLnN0YWdnZXJMaW5lcyAmJiAoVCAqPSBnLnN0YWdnZXJMaW5lcywgZy5sYWJlbE9mZnNldCA9IFQpCgkJCQkJfSBlbHNlCgkJCQkJCWZvciAoYSBpbiB5KSB5W2FdLmRlc3Ryb3koKSwgZGVsZXRlIHlbYV07CgkJCQkJUyAmJiBTLnRleHQgJiYgUy5lbmFibGVkICE9PSAhMSAmJiAoZy5heGlzVGl0bGUgfHwgKGcuYXhpc1RpdGxlID0gdy50ZXh0KFMudGV4dCwgMCwgMCwgUy51c2VIVE1MKS5hdHRyKHsKCQkJCQkJekluZGV4OiA3LAoJCQkJCQlyb3RhdGlvbjogUy5yb3RhdGlvbiB8fCAwLAoJCQkJCQlhbGlnbjogUy50ZXh0QWxpZ24gfHwgewoJCQkJCQkJbG93OiAibGVmdCIsCgkJCQkJCQltaWRkbGU6ICJjZW50ZXIiLAoJCQkJCQkJaGlnaDogInJpZ2h0IgoJCQkJCQl9W1MuYWxpZ25dCgkJCQkJfSkuYWRkQ2xhc3MoWmUgKyB0aGlzLmNvbGwudG9Mb3dlckNhc2UoKSArICItdGl0bGUiKS5jc3MoUy5zdHlsZSkuYWRkKGcuYXhpc0dyb3VwKSwgZy5heGlzVGl0bGUuaXNOZXcgPSAhMCksIHQgJiYgKGogPSBnLmF4aXNUaXRsZS5nZXRCQm94KClbayA/ICJoZWlnaHQiIDogIndpZHRoIl0sIG4gPSBTLm9mZnNldCwgQyA9IG0obikgPyAwIDogXyhTLm1hcmdpbiwgayA/IDUgOiAxMCkpLCBnLmF4aXNUaXRsZVt0ID8gInNob3ciIDogImhpZGUiXSgpKSwgZy5vZmZzZXQgPSBBICogXyh2Lm9mZnNldCwgUFt6XSksIGYgPSAyID09PSB6ID8gZy50aWNrQmFzZWxpbmUgOiAwLCBpID0gVCArIEMgKyAoVCAmJiBBICogKGsgPyBfKE4ueSwgZy50aWNrQmFzZWxpbmUgKyA4KSA6IE4ueCkgLSBmKSwgZy5heGlzVGl0bGVNYXJnaW4gPSBfKG4sIGkpLCBQW3pdID0gYmUoUFt6XSwgZy5heGlzVGl0bGVNYXJnaW4gKyBqICsgQSAqIGcub2Zmc2V0LCBpKSwgSVtCXSA9IGJlKElbQl0sIDIgKiB3ZSh2LmxpbmVXaWR0aCAvIDIpKQoJCQkJfSwKCQkJCWdldExpbmVQYXRoOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0LAoJCQkJCQluID0gdGhpcy5vcHBvc2l0ZSwKCQkJCQkJaSA9IHRoaXMub2Zmc2V0LAoJCQkJCQlhID0gdGhpcy5ob3JpeiwKCQkJCQkJbyA9IHRoaXMubGVmdCArIChuID8gdGhpcy53aWR0aCA6IDApICsgaSwKCQkJCQkJciA9IHQuY2hhcnRIZWlnaHQgLSB0aGlzLmJvdHRvbSAtIChuID8gdGhpcy5oZWlnaHQgOiAwKSArIGk7CgkJCQkJcmV0dXJuIG4gJiYgKGUgKj0gLTEpLCB0LnJlbmRlcmVyLmNyaXNwTGluZShbZXQsIGEgPyB0aGlzLmxlZnQgOiBvLCBhID8gciA6IHRoaXMudG9wLCB0dCwgYSA/IHQuY2hhcnRXaWR0aCAtIHRoaXMucmlnaHQgOiBvLCBhID8gciA6IHQuY2hhcnRIZWlnaHQgLSB0aGlzLmJvdHRvbV0sIGUpCgkJCQl9LAoJCQkJZ2V0VGl0bGVQb3NpdGlvbjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLmhvcml6LAoJCQkJCQl0ID0gdGhpcy5sZWZ0LAoJCQkJCQluID0gdGhpcy50b3AsCgkJCQkJCWkgPSB0aGlzLmxlbiwKCQkJCQkJYSA9IHRoaXMub3B0aW9ucy50aXRsZSwKCQkJCQkJbyA9IGUgPyB0IDogbiwKCQkJCQkJcyA9IHRoaXMub3Bwb3NpdGUsCgkJCQkJCWwgPSB0aGlzLm9mZnNldCwKCQkJCQkJYyA9IHIoYS5zdHlsZS5mb250U2l6ZSB8fCAxMiksCgkJCQkJCWQgPSB7CgkJCQkJCQlsb3c6IG8gKyAoZSA/IDAgOiBpKSwKCQkJCQkJCW1pZGRsZTogbyArIGkgLyAyLAoJCQkJCQkJaGlnaDogbyArIChlID8gaSA6IDApCgkJCQkJCX1bYS5hbGlnbl0sCgkJCQkJCXAgPSAoZSA/IG4gKyB0aGlzLmhlaWdodCA6IHQpICsgKGUgPyAxIDogLTEpICogKHMgPyAtMSA6IDEpICogdGhpcy5heGlzVGl0bGVNYXJnaW4gKyAoMiA9PT0gdGhpcy5zaWRlID8gYyA6IDApOwoJCQkJCXJldHVybiB7CgkJCQkJCXg6IGUgPyBkIDogcCArIChzID8gdGhpcy53aWR0aCA6IDApICsgbCArIChhLnggfHwgMCksCgkJCQkJCXk6IGUgPyBwIC0gKHMgPyB0aGlzLmhlaWdodCA6IDApICsgbCA6IGQgKyAoYS55IHx8IDApCgkJCQkJfQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEgPSB0aGlzLAoJCQkJCQlvID0gYS5ob3JpeiwKCQkJCQkJciA9IGEucmV2ZXJzZWQsCgkJCQkJCXMgPSBhLmNoYXJ0LAoJCQkJCQlsID0gcy5yZW5kZXJlciwKCQkJCQkJYyA9IGEub3B0aW9ucywKCQkJCQkJZCA9IGEuaXNMb2csCgkJCQkJCXAgPSBhLmlzTGlua2VkLAoJCQkJCQl1ID0gYS50aWNrUG9zaXRpb25zLAoJCQkJCQlmID0gYS5heGlzVGl0bGUsCgkJCQkJCWcgPSBhLnRpY2tzLAoJCQkJCQlfID0gYS5taW5vclRpY2tzLAoJCQkJCQl4ID0gYS5hbHRlcm5hdGVCYW5kcywKCQkJCQkJdyA9IGMuc3RhY2tMYWJlbHMsCgkJCQkJCXYgPSBjLmFsdGVybmF0ZUdyaWRDb2xvciwKCQkJCQkJYiA9IGEudGlja21hcmtPZmZzZXQsCgkJCQkJCXkgPSBjLmxpbmVXaWR0aCwKCQkJCQkJayA9IHMuaGFzUmVuZGVyZWQsCgkJCQkJCXogPSBrICYmIG0oYS5vbGRNaW4pICYmICFpc05hTihhLm9sZE1pbiksCgkJCQkJCUIgPSBhLmhhc0RhdGEsCgkJCQkJCWogPSBhLnNob3dBeGlzLAoJCQkJCQlDID0gYy5sYWJlbHMub3ZlcmZsb3csCgkJCQkJCVMgPSBhLmp1c3RpZnlMYWJlbHMgPSBvICYmIEMgIT09ICExOwoJCQkJCWEubGFiZWxFZGdlLmxlbmd0aCA9IDAsIGEuanVzdGlmeVRvUGxvdCA9ICJqdXN0aWZ5IiA9PT0gQywgbXQoW2csIF8sIHhdLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0OwoJCQkJCQlmb3IgKHQgaW4gZSkgZVt0XS5pc0FjdGl2ZSA9ICExCgkJCQkJfSksIChCIHx8IHApICYmIChhLm1pbm9yVGlja0ludGVydmFsICYmICFhLmNhdGVnb3JpZXMgJiYgbXQoYS5nZXRNaW5vclRpY2tQb3NpdGlvbnMoKSwgZnVuY3Rpb24oZSkgewoJCQkJCQlfW2VdIHx8IChfW2VdID0gbmV3IE0oYSwgZSwgIm1pbm9yIikpLCB6ICYmIF9bZV0uaXNOZXcgJiYgX1tlXS5yZW5kZXIobnVsbCwgITApLCBfW2VdLnJlbmRlcihudWxsLCAhMSwgMSkKCQkJCQl9KSwgdS5sZW5ndGggJiYgKGUgPSB1LnNsaWNlKCksIChvICYmIHIgfHwgIW8gJiYgIXIpICYmIGUucmV2ZXJzZSgpLCBTICYmIChlID0gZS5zbGljZSgxKS5jb25jYXQoW2VbMF1dKSksIG10KGUsIGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJUyAmJiAobiA9IG4gPT09IGUubGVuZ3RoIC0gMSA/IDAgOiBuICsgMSksICghcCB8fCB0ID49IGEubWluICYmIHQgPD0gYS5tYXgpICYmIChnW3RdIHx8IChnW3RdID0gbmV3IE0oYSwgdCkpLCB6ICYmIGdbdF0uaXNOZXcgJiYgZ1t0XS5yZW5kZXIobiwgITAsIC4xKSwgZ1t0XS5yZW5kZXIobikpCgkJCQkJfSksIGIgJiYgMCA9PT0gYS5taW4gJiYgKGdbLTFdIHx8IChnWy0xXSA9IG5ldyBNKGEsIC0xLCBudWxsLCAhMCkpLCBnWy0xXS5yZW5kZXIoLTEpKSksIHYgJiYgbXQodSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQl0ICUgMiA9PT0gMCAmJiBlIDwgYS5tYXggJiYgKHhbZV0gfHwgKHhbZV0gPSBuZXcgbHQuUGxvdExpbmVPckJhbmQoYSkpLCBuID0gZSArIGIsIGkgPSB1W3QgKyAxXSAhPT0gVyA/IHVbdCArIDFdICsgYiA6IGEubWF4LCB4W2VdLm9wdGlvbnMgPSB7CgkJCQkJCQlmcm9tOiBkID8gaChuKSA6IG4sCgkJCQkJCQl0bzogZCA/IGgoaSkgOiBpLAoJCQkJCQkJY29sb3I6IHYKCQkJCQkJfSwgeFtlXS5yZW5kZXIoKSwgeFtlXS5pc0FjdGl2ZSA9ICEwKQoJCQkJCX0pLCBhLl9hZGRlZFBsb3RMQiB8fCAobXQoKGMucGxvdExpbmVzIHx8IFtdKS5jb25jYXQoYy5wbG90QmFuZHMgfHwgW10pLCBmdW5jdGlvbihlKSB7CgkJCQkJCWEuYWRkUGxvdEJhbmRPckxpbmUoZSkKCQkJCQl9KSwgYS5fYWRkZWRQbG90TEIgPSAhMCkpLCBtdChbZywgXywgeF0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQsIG4sIGkgPSBbXSwKCQkJCQkJCWEgPSBKID8gSi5kdXJhdGlvbiB8fCA1MDAgOiAwLAoJCQkJCQkJbyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCWZvciAobiA9IGkubGVuZ3RoOyBuLS07KSBlW2lbbl1dICYmICFlW2lbbl1dLmlzQWN0aXZlICYmIChlW2lbbl1dLmRlc3Ryb3koKSwgZGVsZXRlIGVbaVtuXV0pCgkJCQkJCQl9OwoJCQkJCQlmb3IgKHQgaW4gZSkgZVt0XS5pc0FjdGl2ZSB8fCAoZVt0XS5yZW5kZXIodCwgITEsIDApLCBlW3RdLmlzQWN0aXZlID0gITEsIGkucHVzaCh0KSk7CgkJCQkJCWUgIT09IHggJiYgcy5oYXNSZW5kZXJlZCAmJiBhID8gYSAmJiBzZXRUaW1lb3V0KG8sIGEpIDogbygpCgkJCQkJfSksIHkgJiYgKHQgPSBhLmdldExpbmVQYXRoKHkpLCBhLmF4aXNMaW5lID8gYS5heGlzTGluZS5hbmltYXRlKHsKCQkJCQkJZDogdAoJCQkJCX0pIDogYS5heGlzTGluZSA9IGwucGF0aCh0KS5hdHRyKHsKCQkJCQkJc3Ryb2tlOiBjLmxpbmVDb2xvciwKCQkJCQkJInN0cm9rZS13aWR0aCI6IHksCgkJCQkJCXpJbmRleDogNwoJCQkJCX0pLmFkZChhLmF4aXNHcm91cCksIGEuYXhpc0xpbmVbaiA/ICJzaG93IiA6ICJoaWRlIl0oKSksIGYgJiYgaiAmJiAoZltmLmlzTmV3ID8gImF0dHIiIDogImFuaW1hdGUiXShhLmdldFRpdGxlUG9zaXRpb24oKSksIGYuaXNOZXcgPSAhMSksIHcgJiYgdy5lbmFibGVkICYmIGEucmVuZGVyU3RhY2tUb3RhbHMoKSwgYS5pc0RpcnR5ID0gITEKCQkJCX0sCgkJCQlyZWRyYXc6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMucmVuZGVyKCksIG10KHRoaXMucGxvdExpbmVzQW5kQmFuZHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5yZW5kZXIoKQoJCQkJCX0pLCBtdCh0aGlzLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmlzRGlydHkgPSAhMAoJCQkJCX0pCgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcywKCQkJCQkJYSA9IGkuc3RhY2tzLAoJCQkJCQlvID0gaS5wbG90TGluZXNBbmRCYW5kczsKCQkJCQllIHx8IHd0KGkpOwoJCQkJCWZvciAodCBpbiBhKSBQKGFbdF0pLCBhW3RdID0gbnVsbDsKCQkJCQlmb3IgKG10KFtpLnRpY2tzLCBpLm1pbm9yVGlja3MsIGkuYWx0ZXJuYXRlQmFuZHNdLCBmdW5jdGlvbihlKSB7CgkJCQkJCVAoZSkKCQkJCQl9KSwgbiA9IG8ubGVuZ3RoOyBuLS07KSBvW25dLmRlc3Ryb3koKTsKCQkJCQltdChbInN0YWNrVG90YWxHcm91cCIsICJheGlzTGluZSIsICJheGlzVGl0bGUiLCAiYXhpc0dyb3VwIiwgImNyb3NzIiwgImdyaWRHcm91cCIsICJsYWJlbEdyb3VwIl0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaVtlXSAmJiAoaVtlXSA9IGlbZV0uZGVzdHJveSgpKQoJCQkJCX0pLCB0aGlzLmNyb3NzICYmIHRoaXMuY3Jvc3MuZGVzdHJveSgpCgkJCQl9LAoJCQkJZHJhd0Nyb3NzaGFpcjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCWlmICh0aGlzLmNyb3NzaGFpcikgewoJCQkJCQlpZiAoKG0odCkgfHwgIV8odGhpcy5jcm9zc2hhaXIuc25hcCwgITApKSA9PT0gITEpIHJldHVybiB2b2lkIHRoaXMuaGlkZUNyb3NzaGFpcigpOwoJCQkJCQl2YXIgbiwgaSwgYSA9IHRoaXMuY3Jvc3NoYWlyLAoJCQkJCQkJbyA9IGEuYW5pbWF0aW9uOwoJCQkJCQlpZiAoXyhhLnNuYXAsICEwKSA/IG0odCkgJiYgKGkgPSB0aGlzLmNoYXJ0LmludmVydGVkICE9IHRoaXMuaG9yaXogPyB0LnBsb3RYIDogdGhpcy5sZW4gLSB0LnBsb3RZKSA6IGkgPSB0aGlzLmhvcml6ID8gZS5jaGFydFggLSB0aGlzLnBvcyA6IHRoaXMubGVuIC0gZS5jaGFydFkgKyB0aGlzLnBvcywgbiA9IHRoaXMuaXNSYWRpYWwgPyB0aGlzLmdldFBsb3RMaW5lUGF0aCh0aGlzLmlzWEF4aXMgPyB0LnggOiBfKHQuc3RhY2tZLCB0LnkpKSA6IHRoaXMuZ2V0UGxvdExpbmVQYXRoKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGkpLCBudWxsID09PSBuKSByZXR1cm4gdm9pZCB0aGlzLmhpZGVDcm9zc2hhaXIoKTsKCQkJCQkJaWYgKHRoaXMuY3Jvc3MpIHRoaXMuY3Jvc3MuYXR0cih7CgkJCQkJCQl2aXNpYmlsaXR5OiBWZQoJCQkJCQl9KVtvID8gImFuaW1hdGUiIDogImF0dHIiXSh7CgkJCQkJCQlkOiBuCgkJCQkJCX0sIG8pOwoJCQkJCQllbHNlIHsKCQkJCQkJCXZhciByID0gewoJCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBhLndpZHRoIHx8IDEsCgkJCQkJCQkJc3Ryb2tlOiBhLmNvbG9yIHx8ICIjQzBDMEMwIiwKCQkJCQkJCQl6SW5kZXg6IGEuekluZGV4IHx8IDIKCQkJCQkJCX07CgkJCQkJCQlhLmRhc2hTdHlsZSAmJiAoci5kYXNoc3R5bGUgPSBhLmRhc2hTdHlsZSksIHRoaXMuY3Jvc3MgPSB0aGlzLmNoYXJ0LnJlbmRlcmVyLnBhdGgobikuYXR0cihyKS5hZGQoKQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwKCQkJCWhpZGVDcm9zc2hhaXI6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuY3Jvc3MgJiYgdGhpcy5jcm9zcy5oaWRlKCkKCQkJCX0KCQkJfSwgYShSLnByb3RvdHlwZSwgUSksIFIucHJvdG90eXBlLmdldFRpbWVUaWNrcyA9IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCXZhciBvLCByLCBzID0gW10sCgkJCQkJbCA9IHt9LAoJCQkJCWMgPSBHLmdsb2JhbC51c2VVVEMsCgkJCQkJZCA9IG5ldyBlZSh0IC0gbmUpLAoJCQkJCXAgPSBlLnVuaXRSYW5nZSwKCQkJCQloID0gZS5jb3VudDsKCQkJCWlmIChtKHQpKSB7CgkJCQkJcCA+PSBWLnNlY29uZCAmJiAoZC5zZXRNaWxsaXNlY29uZHMoMCksIGQuc2V0U2Vjb25kcyhwID49IFYubWludXRlID8gMCA6IGggKiB3ZShkLmdldFNlY29uZHMoKSAvIGgpKSksIHAgPj0gVi5taW51dGUgJiYgZFtjZV0ocCA+PSBWLmhvdXIgPyAwIDogaCAqIHdlKGRbaWVdKCkgLyBoKSksIHAgPj0gVi5ob3VyICYmIGRbZGVdKHAgPj0gVi5kYXkgPyAwIDogaCAqIHdlKGRbYWVdKCkgLyBoKSksIHAgPj0gVi5kYXkgJiYgZFtwZV0ocCA+PSBWLm1vbnRoID8gMSA6IGggKiB3ZShkW3JlXSgpIC8gaCkpLCBwID49IFYubW9udGggJiYgKGRbaGVdKHAgPj0gVi55ZWFyID8gMCA6IGggKiB3ZShkW3NlXSgpIC8gaCkpLCByID0gZFtsZV0oKSksIHAgPj0gVi55ZWFyICYmIChyIC09IHIgJSBoLCBkW3VlXShyKSksIHAgPT09IFYud2VlayAmJiBkW3BlXShkW3JlXSgpIC0gZFtvZV0oKSArIF8oaSwgMSkpLCBvID0gMSwgbmUgJiYgKGQgPSBuZXcgZWUoZC5nZXRUaW1lKCkgKyBuZSkpLCByID0gZFtsZV0oKTsKCQkJCQlmb3IgKHZhciB1ID0gZC5nZXRUaW1lKCksIGYgPSBkW3NlXSgpLCBnID0gZFtyZV0oKSwgeCA9IChWLmRheSArIChjID8gbmUgOiA2MCAqIGQuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDFlMykpICUgVi5kYXk7IG4gPiB1Oykgcy5wdXNoKHUpLCBwID09PSBWLnllYXIgPyB1ID0gdGUociArIG8gKiBoLCAwKSA6IHAgPT09IFYubW9udGggPyB1ID0gdGUociwgZiArIG8gKiBoKSA6IGMgfHwgcCAhPT0gVi5kYXkgJiYgcCAhPT0gVi53ZWVrID8gdSArPSBwICogaCA6IHUgPSB0ZShyLCBmLCBnICsgbyAqIGggKiAocCA9PT0gVi5kYXkgPyAxIDogNykpLCBvKys7CgkJCQkJcy5wdXNoKHUpLCBtdChmdChzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBwIDw9IFYuaG91ciAmJiBlICUgVi5kYXkgPT09IHgKCQkJCQl9KSwgZnVuY3Rpb24oZSkgewoJCQkJCQlsW2VdID0gImRheSIKCQkJCQl9KQoJCQkJfQoJCQkJcmV0dXJuIHMuaW5mbyA9IGEoZSwgewoJCQkJCWhpZ2hlclJhbmtzOiBsLAoJCQkJCXRvdGFsUmFuZ2U6IHAgKiBoCgkJCQl9KSwgcwoJCQl9LCBSLnByb3RvdHlwZS5ub3JtYWxpemVUaW1lVGlja0ludGVydmFsID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJdmFyIG4sIGksIGEgPSB0IHx8IFsKCQkJCQkJWyJtaWxsaXNlY29uZCIsIFsxLCAyLCA1LCAxMCwgMjAsIDI1LCA1MCwgMTAwLCAyMDAsIDUwMF1dLAoJCQkJCQlbInNlY29uZCIsIFsxLCAyLCA1LCAxMCwgMTUsIDMwXV0sCgkJCQkJCVsibWludXRlIiwgWzEsIDIsIDUsIDEwLCAxNSwgMzBdXSwKCQkJCQkJWyJob3VyIiwgWzEsIDIsIDMsIDQsIDYsIDgsIDEyXV0sCgkJCQkJCVsiZGF5IiwgWzEsIDJdXSwKCQkJCQkJWyJ3ZWVrIiwgWzEsIDJdXSwKCQkJCQkJWyJtb250aCIsIFsxLCAyLCAzLCA0LCA2XV0sCgkJCQkJCVsieWVhciIsIG51bGxdCgkJCQkJXSwKCQkJCQlvID0gYVthLmxlbmd0aCAtIDFdLAoJCQkJCXIgPSBWW29bMF1dLAoJCQkJCXMgPSBvWzFdOwoJCQkJZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspCgkJCQkJaWYgKG8gPSBhW2ldLCByID0gVltvWzBdXSwgcyA9IG9bMV0sIGFbaSArIDFdKSB7CgkJCQkJCXZhciBsID0gKHIgKiBzW3MubGVuZ3RoIC0gMV0gKyBWW2FbaSArIDFdWzBdXSkgLyAyOwoJCQkJCQlpZiAobCA+PSBlKSBicmVhawoJCQkJCX0KCQkJCXJldHVybiByID09PSBWLnllYXIgJiYgNSAqIHIgPiBlICYmIChzID0gWzEsIDIsIDVdKSwgbiA9IEMoZSAvIHIsIHMsICJ5ZWFyIiA9PT0gb1swXSA/IGJlKGooZSAvIHIpLCAxKSA6IDEpLCB7CgkJCQkJdW5pdFJhbmdlOiByLAoJCQkJCWNvdW50OiBuLAoJCQkJCXVuaXROYW1lOiBvWzBdCgkJCQl9CgkJCX0sIFIucHJvdG90eXBlLmdldExvZ1RpY2tQb3NpdGlvbnMgPSBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQl2YXIgYSA9IHRoaXMsCgkJCQkJbyA9IGEub3B0aW9ucywKCQkJCQlyID0gYS5sZW4sCgkJCQkJcyA9IFtdOwoJCQkJaWYgKGkgfHwgKGEuX21pbm9yQXV0b0ludGVydmFsID0gbnVsbCksIGUgPj0gLjUpIGUgPSB4ZShlKSwgcyA9IGEuZ2V0TGluZWFyVGlja1Bvc2l0aW9ucyhlLCB0LCBuKTsKCQkJCWVsc2UgaWYgKGUgPj0gLjA4KSB7CgkJCQkJdmFyIGwsIGMsIGQsIHUsIG0sIGYsIGcsIHggPSB3ZSh0KTsKCQkJCQlmb3IgKGwgPSBlID4gLjMgPyBbMSwgMiwgNF0gOiBlID4gLjE1ID8gWzEsIDIsIDQsIDYsIDhdIDogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLCBjID0geDsgbiArIDEgPiBjICYmICFnOyBjKyspCgkJCQkJCWZvciAodSA9IGwubGVuZ3RoLCBkID0gMDsgdSA+IGQgJiYgIWc7IGQrKykgbSA9IHAoaChjKSAqIGxbZF0pLCBtID4gdCAmJiAoIWkgfHwgbiA+PSBmKSAmJiBmICE9PSBXICYmIHMucHVzaChmKSwgZiA+IG4gJiYgKGcgPSAhMCksIGYgPSBtCgkJCQl9IGVsc2UgewoJCQkJCXZhciB3ID0gaCh0KSwKCQkJCQkJdiA9IGgobiksCgkJCQkJCWIgPSBvW2kgPyAibWlub3JUaWNrSW50ZXJ2YWwiIDogInRpY2tJbnRlcnZhbCJdLAoJCQkJCQl5ID0gImF1dG8iID09PSBiID8gbnVsbCA6IGIsCgkJCQkJCWsgPSBvLnRpY2tQaXhlbEludGVydmFsIC8gKGkgPyA1IDogMSksCgkJCQkJCXogPSBpID8gciAvIGEudGlja1Bvc2l0aW9ucy5sZW5ndGggOiByOwoJCQkJCWUgPSBfKHksIGEuX21pbm9yQXV0b0ludGVydmFsLCAodiAtIHcpICogayAvICh6IHx8IDEpKSwgZSA9IEMoZSwgbnVsbCwgaihlKSksIHMgPSBfdChhLmdldExpbmVhclRpY2tQb3NpdGlvbnMoZSwgdywgdiksIHApLCBpIHx8IChhLl9taW5vckF1dG9JbnRlcnZhbCA9IGUgLyA1KQoJCQkJfQoJCQkJcmV0dXJuIGkgfHwgKGEudGlja0ludGVydmFsID0gZSksIHMKCQkJfTsKCQkJdmFyIEx0ID0gbHQuVG9vbHRpcCA9IGZ1bmN0aW9uKCkgewoJCQkJdGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykKCQkJfTsKCQkJTHQucHJvdG90eXBlID0gewoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdC5ib3JkZXJXaWR0aCwKCQkJCQkJaSA9IHQuc3R5bGUsCgkJCQkJCWEgPSByKGkucGFkZGluZyk7CgkJCQkJdGhpcy5jaGFydCA9IGUsIHRoaXMub3B0aW9ucyA9IHQsIHRoaXMuY3Jvc3NoYWlycyA9IFtdLCB0aGlzLm5vdyA9IHsKCQkJCQkJeDogMCwKCQkJCQkJeTogMAoJCQkJCX0sIHRoaXMuaXNIaWRkZW4gPSAhMCwgdGhpcy5sYWJlbCA9IGUucmVuZGVyZXIubGFiZWwoIiIsIDAsIDAsIHQuc2hhcGUgfHwgImNhbGxvdXQiLCBudWxsLCBudWxsLCB0LnVzZUhUTUwsIG51bGwsICJ0b29sdGlwIikuYXR0cih7CgkJCQkJCXBhZGRpbmc6IGEsCgkJCQkJCWZpbGw6IHQuYmFja2dyb3VuZENvbG9yLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogbiwKCQkJCQkJcjogdC5ib3JkZXJSYWRpdXMsCgkJCQkJCXpJbmRleDogOAoJCQkJCX0pLmNzcyhpKS5jc3MoewoJCQkJCQlwYWRkaW5nOiAwCgkJCQkJfSkuYWRkKCkuYXR0cih7CgkJCQkJCXk6IC05OTk5CgkJCQkJfSksIERlIHx8IHRoaXMubGFiZWwuc2hhZG93KHQuc2hhZG93KSwgdGhpcy5zaGFyZWQgPSB0LnNoYXJlZAoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMubGFiZWwgJiYgKHRoaXMubGFiZWwgPSB0aGlzLmxhYmVsLmRlc3Ryb3koKSksIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lciksIGNsZWFyVGltZW91dCh0aGlzLnRvb2x0aXBUaW1lb3V0KQoJCQkJfSwKCQkJCW1vdmU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgbyA9IHRoaXMsCgkJCQkJCXIgPSBvLm5vdywKCQkJCQkJcyA9IG8ub3B0aW9ucy5hbmltYXRpb24gIT09ICExICYmICFvLmlzSGlkZGVuICYmIChrZShlIC0gci54KSA+IDEgfHwga2UodCAtIHIueSkgPiAxKSwKCQkJCQkJbCA9IG8uZm9sbG93UG9pbnRlciB8fCBvLmxlbiA+IDE7CgkJCQkJYShyLCB7CgkJCQkJCXg6IHMgPyAoMiAqIHIueCArIGUpIC8gMyA6IGUsCgkJCQkJCXk6IHMgPyAoci55ICsgdCkgLyAyIDogdCwKCQkJCQkJYW5jaG9yWDogbCA/IFcgOiBzID8gKDIgKiByLmFuY2hvclggKyBuKSAvIDMgOiBuLAoJCQkJCQlhbmNob3JZOiBsID8gVyA6IHMgPyAoci5hbmNob3JZICsgaSkgLyAyIDogaQoJCQkJCX0pLCBvLmxhYmVsLmF0dHIociksIHMgJiYgKGNsZWFyVGltZW91dCh0aGlzLnRvb2x0aXBUaW1lb3V0KSwgdGhpcy50b29sdGlwVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCW8gJiYgby5tb3ZlKGUsIHQsIG4sIGkpCgkJCQkJfSwgMzIpKQoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IHRoaXM7CgkJCQkJY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKSwgdGhpcy5pc0hpZGRlbiB8fCAodCA9IHRoaXMuY2hhcnQuaG92ZXJQb2ludHMsIHRoaXMuaGlkZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJbi5sYWJlbC5mYWRlT3V0KCksIG4uaXNIaWRkZW4gPSAhMAoJCQkJCX0sIF8oZSwgdGhpcy5vcHRpb25zLmhpZGVEZWxheSwgNTAwKSksIHQgJiYgbXQodCwgZnVuY3Rpb24oZSkgewoJCQkJCQllLnNldFN0YXRlKCkKCQkJCQl9KSwgdGhpcy5jaGFydC5ob3ZlclBvaW50cyA9IG51bGwpCgkJCQl9LAoJCQkJZ2V0QW5jaG9yOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIGEgPSB0aGlzLmNoYXJ0LAoJCQkJCQlvID0gYS5pbnZlcnRlZCwKCQkJCQkJciA9IGEucGxvdFRvcCwKCQkJCQkJcyA9IDAsCgkJCQkJCWwgPSAwOwoJCQkJCXJldHVybiBlID0gZyhlKSwgbiA9IGVbMF0udG9vbHRpcFBvcywgdGhpcy5mb2xsb3dQb2ludGVyICYmIHQgJiYgKHQuY2hhcnRYID09PSBXICYmICh0ID0gYS5wb2ludGVyLm5vcm1hbGl6ZSh0KSksIG4gPSBbdC5jaGFydFggLSBhLnBsb3RMZWZ0LCB0LmNoYXJ0WSAtIHJdKSwgbiB8fCAobXQoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQlpID0gZS5zZXJpZXMueUF4aXMsIHMgKz0gZS5wbG90WCwgbCArPSAoZS5wbG90TG93ID8gKGUucGxvdExvdyArIGUucGxvdEhpZ2gpIC8gMiA6IGUucGxvdFkpICsgKCFvICYmIGkgPyBpLnRvcCAtIHIgOiAwKQoJCQkJCX0pLCBzIC89IGUubGVuZ3RoLCBsIC89IGUubGVuZ3RoLCBuID0gW28gPyBhLnBsb3RXaWR0aCAtIGwgOiBzLCB0aGlzLnNoYXJlZCAmJiAhbyAmJiBlLmxlbmd0aCA+IDEgJiYgdCA/IHQuY2hhcnRZIC0gciA6IG8gPyBhLnBsb3RIZWlnaHQgLSBzIDogbF0pLCBfdChuLCB4ZSkKCQkJCX0sCgkJCQlnZXRQb3NpdGlvbjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhID0gdGhpcy5jaGFydCwKCQkJCQkJbyA9IHRoaXMuZGlzdGFuY2UsCgkJCQkJCXIgPSB7fSwKCQkJCQkJcyA9IFsieSIsIGEuY2hhcnRIZWlnaHQsIHQsIG4ucGxvdFkgKyBhLnBsb3RUb3BdLAoJCQkJCQlsID0gWyJ4IiwgYS5jaGFydFdpZHRoLCBlLCBuLnBsb3RYICsgYS5wbG90TGVmdF0sCgkJCQkJCWMgPSBuLnR0QmVsb3cgfHwgYS5pbnZlcnRlZCAmJiAhbi5uZWdhdGl2ZSB8fCAhYS5pbnZlcnRlZCAmJiBuLm5lZ2F0aXZlLAoJCQkJCQlkID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQkJdmFyIGEgPSBpIC0gbyA+IG4sCgkJCQkJCQkJcyA9IHQgPiBpICsgbyArIG4sCgkJCQkJCQkJbCA9IGkgLSBvIC0gbiwKCQkJCQkJCQlkID0gaSArIG87CgkJCQkJCQlpZiAoYyAmJiBzKSByW2VdID0gZDsKCQkJCQkJCWVsc2UgaWYgKCFjICYmIGEpIHJbZV0gPSBsOwoJCQkJCQkJZWxzZSBpZiAoYSkgcltlXSA9IGw7CgkJCQkJCQllbHNlIHsKCQkJCQkJCQlpZiAoIXMpIHJldHVybiAhMTsKCQkJCQkJCQlyW2VdID0gZAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlwID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQkJcmV0dXJuIG8gPiBpIHx8IGkgPiB0IC0gbyA/ICExIDogdm9pZChuIC8gMiA+IGkgPyByW2VdID0gMSA6IGkgPiB0IC0gbiAvIDIgPyByW2VdID0gdCAtIG4gLSAyIDogcltlXSA9IGkgLSBuIC8gMikKCQkJCQkJfSwKCQkJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0ID0gczsKCQkJCQkJCXMgPSBsLCBsID0gdCwgaSA9IGUKCQkJCQkJfSwKCQkJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJZC5hcHBseSgwLCBzKSAhPT0gITEgPyBwLmFwcGx5KDAsIGwpICE9PSAhMSB8fCBpIHx8IChoKCEwKSwgdSgpKSA6IGkgPyByLnggPSByLnkgPSAwIDogKGgoITApLCB1KCkpCgkJCQkJCX07CgkJCQkJcmV0dXJuIChhLmludmVydGVkIHx8IHRoaXMubGVuID4gMSkgJiYgaCgpLCB1KCksIHIKCQkJCX0sCgkJCQlkZWZhdWx0Rm9ybWF0dGVyOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLnBvaW50cyB8fCBnKHRoaXMpLAoJCQkJCQlpID0gblswXS5zZXJpZXM7CgkJCQkJcmV0dXJuIHQgPSBbZS50b29sdGlwSGVhZGVyRm9ybWF0dGVyKG5bMF0pXSwgbXQobiwgZnVuY3Rpb24oZSkgewoJCQkJCQlpID0gZS5zZXJpZXMsIHQucHVzaChpLnRvb2x0aXBGb3JtYXR0ZXIgJiYgaS50b29sdGlwRm9ybWF0dGVyKGUpIHx8IGUucG9pbnQudG9vbHRpcEZvcm1hdHRlcihpLnRvb2x0aXBPcHRpb25zLnBvaW50Rm9ybWF0KSkKCQkJCQl9KSwgdC5wdXNoKGUub3B0aW9ucy5mb290ZXJGb3JtYXQgfHwgIiIpLCB0LmpvaW4oIiIpCgkJCQl9LAoJCQkJcmVmcmVzaDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwuY2hhcnQsCgkJCQkJCWQgPSBsLmxhYmVsLAoJCQkJCQlwID0gbC5vcHRpb25zLAoJCQkJCQloID0ge30sCgkJCQkJCXUgPSBbXSwKCQkJCQkJbSA9IHAuZm9ybWF0dGVyIHx8IGwuZGVmYXVsdEZvcm1hdHRlciwKCQkJCQkJZiA9IGMuaG92ZXJQb2ludHMsCgkJCQkJCXggPSBsLnNoYXJlZDsKCQkJCQljbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpLCBsLmZvbGxvd1BvaW50ZXIgPSBnKGUpWzBdLnNlcmllcy50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyLCBhID0gbC5nZXRBbmNob3IoZSwgdCksIG4gPSBhWzBdLCBpID0gYVsxXSwgIXggfHwgZS5zZXJpZXMgJiYgZS5zZXJpZXMubm9TaGFyZWRUb29sdGlwID8gaCA9IGUuZ2V0TGFiZWxDb25maWcoKSA6IChjLmhvdmVyUG9pbnRzID0gZSwgZiAmJiBtdChmLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0U3RhdGUoKQoJCQkJCX0pLCBtdChlLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0U3RhdGUoYXQpLCB1LnB1c2goZS5nZXRMYWJlbENvbmZpZygpKQoJCQkJCX0pLCBoID0gewoJCQkJCQl4OiBlWzBdLmNhdGVnb3J5LAoJCQkJCQl5OiBlWzBdLnkKCQkJCQl9LCBoLnBvaW50cyA9IHUsIHRoaXMubGVuID0gdS5sZW5ndGgsIGUgPSBlWzBdKSwgbyA9IG0uY2FsbChoLCBsKSwgcyA9IGUuc2VyaWVzLCB0aGlzLmRpc3RhbmNlID0gXyhzLnRvb2x0aXBPcHRpb25zLmRpc3RhbmNlLCAxNiksIG8gPT09ICExID8gdGhpcy5oaWRlKCkgOiAobC5pc0hpZGRlbiAmJiAoa3QoZCksIGQuYXR0cigib3BhY2l0eSIsIDEpLnNob3coKSksIGQuYXR0cih7CgkJCQkJCXRleHQ6IG8KCQkJCQl9KSwgciA9IHAuYm9yZGVyQ29sb3IgfHwgZS5jb2xvciB8fCBzLmNvbG9yIHx8ICIjNjA2MDYwIiwgZC5hdHRyKHsKCQkJCQkJc3Ryb2tlOiByCgkJCQkJfSksIGwudXBkYXRlUG9zaXRpb24oewoJCQkJCQlwbG90WDogbiwKCQkJCQkJcGxvdFk6IGksCgkJCQkJCW5lZ2F0aXZlOiBlLm5lZ2F0aXZlLAoJCQkJCQl0dEJlbG93OiBlLnR0QmVsb3cKCQkJCQl9KSwgdGhpcy5pc0hpZGRlbiA9ICExKSwgdnQoYywgInRvb2x0aXBSZWZyZXNoIiwgewoJCQkJCQl0ZXh0OiBvLAoJCQkJCQl4OiBuICsgYy5wbG90TGVmdCwKCQkJCQkJeTogaSArIGMucGxvdFRvcCwKCQkJCQkJYm9yZGVyQ29sb3I6IHIKCQkJCQl9KQoJCQkJfSwKCQkJCXVwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0LAoJCQkJCQluID0gdGhpcy5sYWJlbCwKCQkJCQkJaSA9ICh0aGlzLm9wdGlvbnMucG9zaXRpb25lciB8fCB0aGlzLmdldFBvc2l0aW9uKS5jYWxsKHRoaXMsIG4ud2lkdGgsIG4uaGVpZ2h0LCBlKTsKCQkJCQl0aGlzLm1vdmUoeGUoaS54KSwgeGUoaS55KSwgZS5wbG90WCArIHQucGxvdExlZnQsIGUucGxvdFkgKyB0LnBsb3RUb3ApCgkJCQl9LAoJCQkJdG9vbHRpcEhlYWRlckZvcm1hdHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuID0gZS5zZXJpZXMsCgkJCQkJCWkgPSBuLnRvb2x0aXBPcHRpb25zLAoJCQkJCQlhID0gaS5kYXRlVGltZUxhYmVsRm9ybWF0cywKCQkJCQkJbyA9IGkueERhdGVGb3JtYXQsCgkJCQkJCXIgPSBuLnhBeGlzLAoJCQkJCQlzID0gciAmJiAiZGF0ZXRpbWUiID09PSByLm9wdGlvbnMudHlwZSAmJiBkKGUua2V5KSwKCQkJCQkJbCA9IGkuaGVhZGVyRm9ybWF0LAoJCQkJCQljID0gciAmJiByLmNsb3Nlc3RQb2ludFJhbmdlOwoJCQkJCWlmIChzICYmICFvKSB7CgkJCQkJCWlmIChjKSB7CgkJCQkJCQlmb3IgKHQgaW4gVikKCQkJCQkJCQlpZiAoVlt0XSA+PSBjIHx8IFZbdF0gPD0gVi5kYXkgJiYgZS5rZXkgJSBWW3RdID4gMCkgewoJCQkJCQkJCQlvID0gYVt0XTsKCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQl9CgkJCQkJCX0gZWxzZSBvID0gYS5kYXk7CgkJCQkJCW8gPSBvIHx8IGEueWVhcgoJCQkJCX0KCQkJCQlyZXR1cm4gcyAmJiBvICYmIChsID0gbC5yZXBsYWNlKCJ7cG9pbnQua2V5fSIsICJ7cG9pbnQua2V5OiIgKyBvICsgIn0iKSksIEIobCwgewoJCQkJCQlwb2ludDogZSwKCQkJCQkJc2VyaWVzOiBuCgkJCQkJfSkKCQkJCX0KCQkJfTsKCQkJdmFyIER0OwoJCQlVID0gZmUuZG9jdW1lbnRFbGVtZW50Lm9udG91Y2hzdGFydCAhPT0gVzsKCQkJdmFyIE10ID0gbHQuUG9pbnRlciA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXRoaXMuaW5pdChlLCB0KQoJCQl9OwoJCQlpZiAoTXQucHJvdG90eXBlID0gewoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhID0gdC5jaGFydCwKCQkJCQkJbyA9IGEuZXZlbnRzLAoJCQkJCQlyID0gRGUgPyAiIiA6IGEuem9vbVR5cGUsCgkJCQkJCXMgPSBlLmludmVydGVkOwoJCQkJCXRoaXMub3B0aW9ucyA9IHQsIHRoaXMuY2hhcnQgPSBlLCB0aGlzLnpvb21YID0gbiA9IC94Ly50ZXN0KHIpLCB0aGlzLnpvb21ZID0gaSA9IC95Ly50ZXN0KHIpLCB0aGlzLnpvb21Ib3IgPSBuICYmICFzIHx8IGkgJiYgcywgdGhpcy56b29tVmVydCA9IGkgJiYgIXMgfHwgbiAmJiBzLCB0aGlzLmhhc1pvb20gPSBuIHx8IGksIHRoaXMucnVuQ2hhcnRDbGljayA9IG8gJiYgISFvLmNsaWNrLCB0aGlzLnBpbmNoRG93biA9IFtdLCB0aGlzLmxhc3RWYWxpZFRvdWNoID0ge30sIGx0LlRvb2x0aXAgJiYgdC50b29sdGlwLmVuYWJsZWQgJiYgKGUudG9vbHRpcCA9IG5ldyBMdChlLCB0LnRvb2x0aXApLCB0aGlzLmZvbGxvd1RvdWNoTW92ZSA9IHQudG9vbHRpcC5mb2xsb3dUb3VjaE1vdmUpLCB0aGlzLnNldERPTUV2ZW50cygpCgkJCQl9LAoJCQkJbm9ybWFsaXplOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIG87CgkJCQkJcmV0dXJuIGUgPSBlIHx8IHdpbmRvdy5ldmVudCwgZSA9IGJ0KGUpLCBlLnRhcmdldCB8fCAoZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQpLCBvID0gZS50b3VjaGVzID8gZS50b3VjaGVzLmxlbmd0aCA/IGUudG91Y2hlcy5pdGVtKDApIDogZS5jaGFuZ2VkVG91Y2hlc1swXSA6IGUsIHQgfHwgKHRoaXMuY2hhcnRQb3NpdGlvbiA9IHQgPSBndCh0aGlzLmNoYXJ0LmNvbnRhaW5lcikpLCBvLnBhZ2VYID09PSBXID8gKG4gPSBiZShlLngsIGUuY2xpZW50WCAtIHQubGVmdCksIGkgPSBlLnkpIDogKG4gPSBvLnBhZ2VYIC0gdC5sZWZ0LCBpID0gby5wYWdlWSAtIHQudG9wKSwgYShlLCB7CgkJCQkJCWNoYXJ0WDogeGUobiksCgkJCQkJCWNoYXJ0WTogeGUoaSkKCQkJCQl9KQoJCQkJfSwKCQkJCWdldENvb3JkaW5hdGVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB7CgkJCQkJCXhBeGlzOiBbXSwKCQkJCQkJeUF4aXM6IFtdCgkJCQkJfTsKCQkJCQlyZXR1cm4gbXQodGhpcy5jaGFydC5heGVzLCBmdW5jdGlvbihuKSB7CgkJCQkJCXRbbi5pc1hBeGlzID8gInhBeGlzIiA6ICJ5QXhpcyJdLnB1c2goewoJCQkJCQkJYXhpczogbiwKCQkJCQkJCXZhbHVlOiBuLnRvVmFsdWUoZVtuLmhvcml6ID8gImNoYXJ0WCIgOiAiY2hhcnRZIl0pCgkJCQkJCX0pCgkJCQkJfSksIHQKCQkJCX0sCgkJCQlnZXRJbmRleDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5jaGFydDsKCQkJCQlyZXR1cm4gdC5pbnZlcnRlZCA/IHQucGxvdEhlaWdodCArIHQucGxvdFRvcCAtIGUuY2hhcnRZIDogZS5jaGFydFggLSB0LnBsb3RMZWZ0CgkJCQl9LAoJCQkJcnVuUG9pbnRBY3Rpb25zOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMgPSB0aGlzLAoJCQkJCQlsID0gcy5jaGFydCwKCQkJCQkJYyA9IGwuc2VyaWVzLAoJCQkJCQlkID0gbC50b29sdGlwLAoJCQkJCQlwID0gbC5ob3ZlclBvaW50LAoJCQkJCQloID0gbC5ob3ZlclNlcmllcywKCQkJCQkJdSA9IGwuY2hhcnRXaWR0aCwKCQkJCQkJbSA9IHMuZ2V0SW5kZXgoZSk7CgkJCQkJaWYgKGQgJiYgcy5vcHRpb25zLnRvb2x0aXAuc2hhcmVkICYmICghaCB8fCAhaC5ub1NoYXJlZFRvb2x0aXApKSB7CgkJCQkJCWZvciAoaSA9IFtdLCBhID0gYy5sZW5ndGgsIG8gPSAwOyBhID4gbzsgbysrKSBjW29dLnZpc2libGUgJiYgY1tvXS5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmcgIT09ICExICYmICFjW29dLm5vU2hhcmVkVG9vbHRpcCAmJiBjW29dLnNpbmd1bGFyVG9vbHRpcHMgIT09ICEwICYmIGNbb10udG9vbHRpcFBvaW50cy5sZW5ndGggJiYgKG4gPSBjW29dLnRvb2x0aXBQb2ludHNbbV0sIG4gJiYgbi5zZXJpZXMgJiYgKG4uX2Rpc3QgPSBrZShtIC0gbi5jbGllbnRYKSwgdSA9IHllKHUsIG4uX2Rpc3QpLCBpLnB1c2gobikpKTsKCQkJCQkJZm9yIChhID0gaS5sZW5ndGg7IGEtLTspIGlbYV0uX2Rpc3QgPiB1ICYmIGkuc3BsaWNlKGEsIDEpOwoJCQkJCQlpLmxlbmd0aCAmJiBpWzBdLmNsaWVudFggIT09IHMuaG92ZXJYICYmIChkLnJlZnJlc2goaSwgZSksIHMuaG92ZXJYID0gaVswXS5jbGllbnRYKQoJCQkJCX0KCQkJCQl0ID0gaCAmJiBoLnRvb2x0aXBPcHRpb25zLmZvbGxvd1BvaW50ZXIsIGggJiYgaC50cmFja2VyICYmICF0ID8gKG4gPSBoLnRvb2x0aXBQb2ludHNbbV0sIG4gJiYgbiAhPT0gcCAmJiBuLm9uTW91c2VPdmVyKGUpKSA6IGQgJiYgdCAmJiAhZC5pc0hpZGRlbiAmJiAociA9IGQuZ2V0QW5jaG9yKFt7fV0sIGUpLCBkLnVwZGF0ZVBvc2l0aW9uKHsKCQkJCQkJcGxvdFg6IHJbMF0sCgkJCQkJCXBsb3RZOiByWzFdCgkJCQkJfSkpLCBkICYmICFzLl9vbkRvY3VtZW50TW91c2VNb3ZlICYmIChzLl9vbkRvY3VtZW50TW91c2VNb3ZlID0gZnVuY3Rpb24oZSkgewoJCQkJCQkkZVtEdF0gJiYgJGVbRHRdLnBvaW50ZXIub25Eb2N1bWVudE1vdXNlTW92ZShlKQoJCQkJCX0sIHh0KGZlLCAibW91c2Vtb3ZlIiwgcy5fb25Eb2N1bWVudE1vdXNlTW92ZSkpLCBtdChsLmF4ZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdC5kcmF3Q3Jvc3NoYWlyKGUsIF8obiwgcCkpCgkJCQkJfSkKCQkJCX0sCgkJCQlyZXNldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uY2hhcnQsCgkJCQkJCWEgPSBpLmhvdmVyU2VyaWVzLAoJCQkJCQlvID0gaS5ob3ZlclBvaW50LAoJCQkJCQlyID0gaS50b29sdGlwLAoJCQkJCQlzID0gciAmJiByLnNoYXJlZCA/IGkuaG92ZXJQb2ludHMgOiBvOwoJCQkJCWUgPSBlICYmIHIgJiYgcywgZSAmJiBnKHMpWzBdLnBsb3RYID09PSBXICYmIChlID0gITEpLCBlID8gKHIucmVmcmVzaChzKSwgbyAmJiBvLnNldFN0YXRlKG8uc3RhdGUsICEwKSkgOiAobyAmJiBvLm9uTW91c2VPdXQoKSwgYSAmJiBhLm9uTW91c2VPdXQoKSwgciAmJiByLmhpZGUodCksIG4uX29uRG9jdW1lbnRNb3VzZU1vdmUgJiYgKHd0KGZlLCAibW91c2Vtb3ZlIiwgbi5fb25Eb2N1bWVudE1vdXNlTW92ZSksIG4uX29uRG9jdW1lbnRNb3VzZU1vdmUgPSBudWxsKSwgbXQoaS5heGVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuaGlkZUNyb3NzaGFpcigpCgkJCQkJfSksIG4uaG92ZXJYID0gbnVsbCkKCQkJCX0sCgkJCQlzY2FsZUdyb3VwczogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpID0gdGhpcy5jaGFydDsKCQkJCQltdChpLnNlcmllcywgZnVuY3Rpb24oYSkgewoJCQkJCQluID0gZSB8fCBhLmdldFBsb3RCb3goKSwgYS54QXhpcyAmJiBhLnhBeGlzLnpvb21FbmFibGVkICYmIChhLmdyb3VwLmF0dHIobiksIGEubWFya2VyR3JvdXAgJiYgKGEubWFya2VyR3JvdXAuYXR0cihuKSwgYS5tYXJrZXJHcm91cC5jbGlwKHQgPyBpLmNsaXBSZWN0IDogbnVsbCkpLCBhLmRhdGFMYWJlbHNHcm91cCAmJiBhLmRhdGFMYWJlbHNHcm91cC5hdHRyKG4pKQoJCQkJCX0pLCBpLmNsaXBSZWN0LmF0dHIodCB8fCBpLmNsaXBCb3gpCgkJCQl9LAoJCQkJZHJhZ1N0YXJ0OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0OwoJCQkJCXQubW91c2VJc0Rvd24gPSBlLnR5cGUsIHQuY2FuY2VsQ2xpY2sgPSAhMSwgdC5tb3VzZURvd25YID0gdGhpcy5tb3VzZURvd25YID0gZS5jaGFydFgsIHQubW91c2VEb3duWSA9IHRoaXMubW91c2VEb3duWSA9IGUuY2hhcnRZCgkJCQl9LAoJCQkJZHJhZzogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcy5jaGFydCwKCQkJCQkJYSA9IGkub3B0aW9ucy5jaGFydCwKCQkJCQkJbyA9IGUuY2hhcnRYLAoJCQkJCQlyID0gZS5jaGFydFksCgkJCQkJCXMgPSB0aGlzLnpvb21Ib3IsCgkJCQkJCWwgPSB0aGlzLnpvb21WZXJ0LAoJCQkJCQljID0gaS5wbG90TGVmdCwKCQkJCQkJZCA9IGkucGxvdFRvcCwKCQkJCQkJcCA9IGkucGxvdFdpZHRoLAoJCQkJCQloID0gaS5wbG90SGVpZ2h0LAoJCQkJCQl1ID0gdGhpcy5tb3VzZURvd25YLAoJCQkJCQltID0gdGhpcy5tb3VzZURvd25ZLAoJCQkJCQlmID0gYS5wYW5LZXkgJiYgZVthLnBhbktleSArICJLZXkiXTsKCQkJCQljID4gbyA/IG8gPSBjIDogbyA+IGMgKyBwICYmIChvID0gYyArIHApLCBkID4gciA/IHIgPSBkIDogciA+IGQgKyBoICYmIChyID0gZCArIGgpLCB0aGlzLmhhc0RyYWdnZWQgPSBNYXRoLnNxcnQoTWF0aC5wb3codSAtIG8sIDIpICsgTWF0aC5wb3cobSAtIHIsIDIpKSwgdGhpcy5oYXNEcmFnZ2VkID4gMTAgJiYgKHQgPSBpLmlzSW5zaWRlUGxvdCh1IC0gYywgbSAtIGQpLCBpLmhhc0NhcnRlc2lhblNlcmllcyAmJiAodGhpcy56b29tWCB8fCB0aGlzLnpvb21ZKSAmJiB0ICYmICFmICYmICh0aGlzLnNlbGVjdGlvbk1hcmtlciB8fCAodGhpcy5zZWxlY3Rpb25NYXJrZXIgPSBpLnJlbmRlcmVyLnJlY3QoYywgZCwgcyA/IDEgOiBwLCBsID8gMSA6IGgsIDApLmF0dHIoewoJCQkJCQlmaWxsOiBhLnNlbGVjdGlvbk1hcmtlckZpbGwgfHwgInJnYmEoNjksMTE0LDE2NywwLjI1KSIsCgkJCQkJCXpJbmRleDogNwoJCQkJCX0pLmFkZCgpKSksIHRoaXMuc2VsZWN0aW9uTWFya2VyICYmIHMgJiYgKG4gPSBvIC0gdSwgdGhpcy5zZWxlY3Rpb25NYXJrZXIuYXR0cih7CgkJCQkJCXdpZHRoOiBrZShuKSwKCQkJCQkJeDogKG4gPiAwID8gMCA6IG4pICsgdQoJCQkJCX0pKSwgdGhpcy5zZWxlY3Rpb25NYXJrZXIgJiYgbCAmJiAobiA9IHIgLSBtLCB0aGlzLnNlbGVjdGlvbk1hcmtlci5hdHRyKHsKCQkJCQkJaGVpZ2h0OiBrZShuKSwKCQkJCQkJeTogKG4gPiAwID8gMCA6IG4pICsgbQoJCQkJCX0pKSwgdCAmJiAhdGhpcy5zZWxlY3Rpb25NYXJrZXIgJiYgYS5wYW5uaW5nICYmIGkucGFuKGUsIGEucGFubmluZykpCgkJCQl9LAoJCQkJZHJvcDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5jaGFydCwKCQkJCQkJbiA9IHRoaXMuaGFzUGluY2hlZDsKCQkJCQlpZiAodGhpcy5zZWxlY3Rpb25NYXJrZXIpIHsKCQkJCQkJdmFyIGksIG8gPSB7CgkJCQkJCQkJeEF4aXM6IFtdLAoJCQkJCQkJCXlBeGlzOiBbXSwKCQkJCQkJCQlvcmlnaW5hbEV2ZW50OiBlLm9yaWdpbmFsRXZlbnQgfHwgZQoJCQkJCQkJfSwKCQkJCQkJCXIgPSB0aGlzLnNlbGVjdGlvbk1hcmtlciwKCQkJCQkJCXMgPSByLmF0dHIgPyByLmF0dHIoIngiKSA6IHIueCwKCQkJCQkJCWwgPSByLmF0dHIgPyByLmF0dHIoInkiKSA6IHIueSwKCQkJCQkJCWMgPSByLmF0dHIgPyByLmF0dHIoIndpZHRoIikgOiByLndpZHRoLAoJCQkJCQkJZCA9IHIuYXR0ciA/IHIuYXR0cigiaGVpZ2h0IikgOiByLmhlaWdodDsKCQkJCQkJKHRoaXMuaGFzRHJhZ2dlZCB8fCBuKSAmJiAobXQodC5heGVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCQlpZiAodC56b29tRW5hYmxlZCkgewoJCQkJCQkJCXZhciBuID0gdC5ob3JpeiwKCQkJCQkJCQkJYSA9ICJ0b3VjaGVuZCIgPT09IGUudHlwZSA/IHQubWluUGl4ZWxQYWRkaW5nIDogMCwKCQkJCQkJCQkJciA9IHQudG9WYWx1ZSgobiA/IHMgOiBsKSArIGEpLAoJCQkJCQkJCQlwID0gdC50b1ZhbHVlKChuID8gcyArIGMgOiBsICsgZCkgLSBhKTsKCQkJCQkJCQlpc05hTihyKSB8fCBpc05hTihwKSB8fCAob1t0LmNvbGxdLnB1c2goewoJCQkJCQkJCQlheGlzOiB0LAoJCQkJCQkJCQltaW46IHllKHIsIHApLAoJCQkJCQkJCQltYXg6IGJlKHIsIHApCgkJCQkJCQkJfSksIGkgPSAhMCkKCQkJCQkJCX0KCQkJCQkJfSksIGkgJiYgdnQodCwgInNlbGVjdGlvbiIsIG8sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXQuem9vbShhKGUsIG4gPyB7CgkJCQkJCQkJYW5pbWF0aW9uOiAhMQoJCQkJCQkJfSA6IG51bGwpKQoJCQkJCQl9KSksIHRoaXMuc2VsZWN0aW9uTWFya2VyID0gdGhpcy5zZWxlY3Rpb25NYXJrZXIuZGVzdHJveSgpLCBuICYmIHRoaXMuc2NhbGVHcm91cHMoKQoJCQkJCX0KCQkJCQl0ICYmICh4KHQuY29udGFpbmVyLCB7CgkJCQkJCWN1cnNvcjogdC5fY3Vyc29yCgkJCQkJfSksIHQuY2FuY2VsQ2xpY2sgPSB0aGlzLmhhc0RyYWdnZWQgPiAxMCwgdC5tb3VzZUlzRG93biA9IHRoaXMuaGFzRHJhZ2dlZCA9IHRoaXMuaGFzUGluY2hlZCA9ICExLCB0aGlzLnBpbmNoRG93biA9IFtdKQoJCQkJfSwKCQkJCW9uQ29udGFpbmVyTW91c2VEb3duOiBmdW5jdGlvbihlKSB7CgkJCQkJZSA9IHRoaXMubm9ybWFsaXplKGUpLCBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5kcmFnU3RhcnQoZSkKCQkJCX0sCgkJCQlvbkRvY3VtZW50TW91c2VVcDogZnVuY3Rpb24oZSkgewoJCQkJCSRlW0R0XSAmJiAkZVtEdF0ucG9pbnRlci5kcm9wKGUpCgkJCQl9LAoJCQkJb25Eb2N1bWVudE1vdXNlTW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5jaGFydCwKCQkJCQkJbiA9IHRoaXMuY2hhcnRQb3NpdGlvbiwKCQkJCQkJaSA9IHQuaG92ZXJTZXJpZXM7CgkJCQkJZSA9IHRoaXMubm9ybWFsaXplKGUsIG4pLCBuICYmIGkgJiYgIXRoaXMuaW5DbGFzcyhlLnRhcmdldCwgImhpZ2hjaGFydHMtdHJhY2tlciIpICYmICF0LmlzSW5zaWRlUGxvdChlLmNoYXJ0WCAtIHQucGxvdExlZnQsIGUuY2hhcnRZIC0gdC5wbG90VG9wKSAmJiB0aGlzLnJlc2V0KCkKCQkJCX0sCgkJCQlvbkNvbnRhaW5lck1vdXNlTGVhdmU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gJGVbRHRdOwoJCQkJCWUgJiYgKGUucG9pbnRlci5yZXNldCgpLCBlLnBvaW50ZXIuY2hhcnRQb3NpdGlvbiA9IG51bGwpCgkJCQl9LAoJCQkJb25Db250YWluZXJNb3VzZU1vdmU6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuY2hhcnQ7CgkJCQkJRHQgPSB0LmluZGV4LCBlID0gdGhpcy5ub3JtYWxpemUoZSksIGUucmV0dXJuVmFsdWUgPSAhMSwgIm1vdXNlZG93biIgPT09IHQubW91c2VJc0Rvd24gJiYgdGhpcy5kcmFnKGUpLCAhdGhpcy5pbkNsYXNzKGUudGFyZ2V0LCAiaGlnaGNoYXJ0cy10cmFja2VyIikgJiYgIXQuaXNJbnNpZGVQbG90KGUuY2hhcnRYIC0gdC5wbG90TGVmdCwgZS5jaGFydFkgLSB0LnBsb3RUb3ApIHx8IHQub3Blbk1lbnUgfHwgdGhpcy5ydW5Qb2ludEFjdGlvbnMoZSkKCQkJCX0sCgkJCQlpbkNsYXNzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbjsgZTspIHsKCQkJCQkJaWYgKG4gPSBmKGUsICJjbGFzcyIpKSB7CgkJCQkJCQlpZiAoLTEgIT09IG4uaW5kZXhPZih0KSkgcmV0dXJuICEwOwoJCQkJCQkJaWYgKC0xICE9PSBuLmluZGV4T2YoWmUgKyAiY29udGFpbmVyIikpIHJldHVybiAhMQoJCQkJCQl9CgkJCQkJCWUgPSBlLnBhcmVudE5vZGUKCQkJCQl9CgkJCQl9LAoJCQkJb25UcmFja2VyTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuY2hhcnQuaG92ZXJTZXJpZXMsCgkJCQkJCW4gPSBlLnJlbGF0ZWRUYXJnZXQgfHwgZS50b0VsZW1lbnQsCgkJCQkJCWkgPSBuICYmIG4ucG9pbnQgJiYgbi5wb2ludC5zZXJpZXM7CgkJCQkJIXQgfHwgdC5vcHRpb25zLnN0aWNreVRyYWNraW5nIHx8IHRoaXMuaW5DbGFzcyhuLCBaZSArICJ0b29sdGlwIikgfHwgaSA9PT0gdCB8fCB0Lm9uTW91c2VPdXQoKQoJCQkJfSwKCQkJCW9uQ29udGFpbmVyQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuY2hhcnQsCgkJCQkJCW4gPSB0LmhvdmVyUG9pbnQsCgkJCQkJCWkgPSB0LnBsb3RMZWZ0LAoJCQkJCQlvID0gdC5wbG90VG9wOwoJCQkJCWUgPSB0aGlzLm5vcm1hbGl6ZShlKSwgZS5jYW5jZWxCdWJibGUgPSAhMCwgdC5jYW5jZWxDbGljayB8fCAobiAmJiB0aGlzLmluQ2xhc3MoZS50YXJnZXQsIFplICsgInRyYWNrZXIiKSA/ICh2dChuLnNlcmllcywgImNsaWNrIiwgYShlLCB7CgkJCQkJCXBvaW50OiBuCgkJCQkJfSkpLCB0LmhvdmVyUG9pbnQgJiYgbi5maXJlUG9pbnRFdmVudCgiY2xpY2siLCBlKSkgOiAoYShlLCB0aGlzLmdldENvb3JkaW5hdGVzKGUpKSwgdC5pc0luc2lkZVBsb3QoZS5jaGFydFggLSBpLCBlLmNoYXJ0WSAtIG8pICYmIHZ0KHQsICJjbGljayIsIGUpKSkKCQkJCX0sCgkJCQlzZXRET01FdmVudHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQuY29udGFpbmVyOwoJCQkJCXQub25tb3VzZWRvd24gPSBmdW5jdGlvbih0KSB7CgkJCQkJCWUub25Db250YWluZXJNb3VzZURvd24odCkKCQkJCQl9LCB0Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24odCkgewoJCQkJCQllLm9uQ29udGFpbmVyTW91c2VNb3ZlKHQpCgkJCQkJfSwgdC5vbmNsaWNrID0gZnVuY3Rpb24odCkgewoJCQkJCQllLm9uQ29udGFpbmVyQ2xpY2sodCkKCQkJCQl9LCB4dCh0LCAibW91c2VsZWF2ZSIsIGUub25Db250YWluZXJNb3VzZUxlYXZlKSwgMSA9PT0gV2UgJiYgeHQoZmUsICJtb3VzZXVwIiwgZS5vbkRvY3VtZW50TW91c2VVcCksIFUgJiYgKHQub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24odCkgewoJCQkJCQllLm9uQ29udGFpbmVyVG91Y2hTdGFydCh0KQoJCQkJCX0sIHQub250b3VjaG1vdmUgPSBmdW5jdGlvbih0KSB7CgkJCQkJCWUub25Db250YWluZXJUb3VjaE1vdmUodCkKCQkJCQl9LCAxID09PSBXZSAmJiB4dChmZSwgInRvdWNoZW5kIiwgZS5vbkRvY3VtZW50VG91Y2hFbmQpKQoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlOwoJCQkJCXd0KHRoaXMuY2hhcnQuY29udGFpbmVyLCAibW91c2VsZWF2ZSIsIHRoaXMub25Db250YWluZXJNb3VzZUxlYXZlKSwgV2UgfHwgKHd0KGZlLCAibW91c2V1cCIsIHRoaXMub25Eb2N1bWVudE1vdXNlVXApLCB3dChmZSwgInRvdWNoZW5kIiwgdGhpcy5vbkRvY3VtZW50VG91Y2hFbmQpKSwgY2xlYXJJbnRlcnZhbCh0aGlzLnRvb2x0aXBUaW1lb3V0KTsKCQkJCQlmb3IgKGUgaW4gdGhpcykgdGhpc1tlXSA9IG51bGwKCQkJCX0KCQkJfSwgYShsdC5Qb2ludGVyLnByb3RvdHlwZSwgewoJCQkJcGluY2hUcmFuc2xhdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEsIG8pIHsKCQkJCQkodGhpcy56b29tSG9yIHx8IHRoaXMucGluY2hIb3IpICYmIHRoaXMucGluY2hUcmFuc2xhdGVEaXJlY3Rpb24oITAsIGUsIHQsIG4sIGksIGEsIG8pLCAodGhpcy56b29tVmVydCB8fCB0aGlzLnBpbmNoVmVydCkgJiYgdGhpcy5waW5jaFRyYW5zbGF0ZURpcmVjdGlvbighMSwgZSwgdCwgbiwgaSwgYSwgbykKCQkJCX0sCgkJCQlwaW5jaFRyYW5zbGF0ZURpcmVjdGlvbjogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbywgciwgcykgewoJCQkJCXZhciBsLCBjLCBkLCBwLCBoLCB1LCBtID0gdGhpcy5jaGFydCwKCQkJCQkJZiA9IGUgPyAieCIgOiAieSIsCgkJCQkJCWcgPSBlID8gIlgiIDogIlkiLAoJCQkJCQlfID0gImNoYXJ0IiArIGcsCgkJCQkJCXggPSBlID8gIndpZHRoIiA6ICJoZWlnaHQiLAoJCQkJCQl3ID0gbVsicGxvdCIgKyAoZSA/ICJMZWZ0IiA6ICJUb3AiKV0sCgkJCQkJCXYgPSBzIHx8IDEsCgkJCQkJCWIgPSBtLmludmVydGVkLAoJCQkJCQl5ID0gbS5ib3VuZHNbZSA/ICJoIiA6ICJ2Il0sCgkJCQkJCWsgPSAxID09PSB0Lmxlbmd0aCwKCQkJCQkJeiA9IHRbMF1bX10sCgkJCQkJCUIgPSBuWzBdW19dLAoJCQkJCQlqID0gIWsgJiYgdFsxXVtfXSwKCQkJCQkJQyA9ICFrICYmIG5bMV1bX10sCgkJCQkJCVMgPSBmdW5jdGlvbigpIHsKCQkJCQkJCSFrICYmIGtlKHogLSBqKSA+IDIwICYmICh2ID0gcyB8fCBrZShCIC0gQykgLyBrZSh6IC0gaikpLCBkID0gKHcgLSBCKSAvIHYgKyB6LCBsID0gbVsicGxvdCIgKyAoZSA/ICJXaWR0aCIgOiAiSGVpZ2h0IildIC8gdgoJCQkJCQl9OwoJCQkJCVMoKSwgYyA9IGQsIGMgPCB5Lm1pbiA/IChjID0geS5taW4sIHAgPSAhMCkgOiBjICsgbCA+IHkubWF4ICYmIChjID0geS5tYXggLSBsLCBwID0gITApLCBwID8gKEIgLT0gLjggKiAoQiAtIHJbZl1bMF0pLCBrIHx8IChDIC09IC44ICogKEMgLSByW2ZdWzFdKSksIFMoKSkgOiByW2ZdID0gW0IsIENdLCBiIHx8IChvW2ZdID0gZCAtIHcsIG9beF0gPSBsKSwgdSA9IGIgPyBlID8gInNjYWxlWSIgOiAic2NhbGVYIiA6ICJzY2FsZSIgKyBnLCBoID0gYiA/IDEgLyB2IDogdiwgYVt4XSA9IGwsIGFbZl0gPSBjLCBpW3VdID0gdiwgaVsidHJhbnNsYXRlIiArIGddID0gaCAqIHcgKyAoQiAtIGggKiB6KQoJCQkJfSwKCQkJCXBpbmNoOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQluID0gdC5jaGFydCwKCQkJCQkJaSA9IHQucGluY2hEb3duLAoJCQkJCQlvID0gdC5mb2xsb3dUb3VjaE1vdmUsCgkJCQkJCXIgPSBlLnRvdWNoZXMsCgkJCQkJCXMgPSByLmxlbmd0aCwKCQkJCQkJbCA9IHQubGFzdFZhbGlkVG91Y2gsCgkJCQkJCWMgPSB0Lmhhc1pvb20sCgkJCQkJCWQgPSB0LnNlbGVjdGlvbk1hcmtlciwKCQkJCQkJcCA9IHt9LAoJCQkJCQloID0gMSA9PT0gcyAmJiAodC5pbkNsYXNzKGUudGFyZ2V0LCBaZSArICJ0cmFja2VyIikgJiYgbi5ydW5UcmFja2VyQ2xpY2sgfHwgdC5ydW5DaGFydENsaWNrKSwKCQkJCQkJdSA9IHt9OwoJCQkJCSFjICYmICFvIHx8IGggfHwgZS5wcmV2ZW50RGVmYXVsdCgpLCBfdChyLCBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiB0Lm5vcm1hbGl6ZShlKQoJCQkJCX0pLCAidG91Y2hzdGFydCIgPT09IGUudHlwZSA/IChtdChyLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWlbdF0gPSB7CgkJCQkJCQljaGFydFg6IGUuY2hhcnRYLAoJCQkJCQkJY2hhcnRZOiBlLmNoYXJ0WQoJCQkJCQl9CgkJCQkJfSksIGwueCA9IFtpWzBdLmNoYXJ0WCwgaVsxXSAmJiBpWzFdLmNoYXJ0WF0sIGwueSA9IFtpWzBdLmNoYXJ0WSwgaVsxXSAmJiBpWzFdLmNoYXJ0WV0sIG10KG4uYXhlcywgZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZS56b29tRW5hYmxlZCkgewoJCQkJCQkJdmFyIHQgPSBuLmJvdW5kc1tlLmhvcml6ID8gImgiIDogInYiXSwKCQkJCQkJCQlpID0gZS5taW5QaXhlbFBhZGRpbmcsCgkJCQkJCQkJYSA9IGUudG9QaXhlbHMoXyhlLm9wdGlvbnMubWluLCBlLmRhdGFNaW4pKSwKCQkJCQkJCQlvID0gZS50b1BpeGVscyhfKGUub3B0aW9ucy5tYXgsIGUuZGF0YU1heCkpLAoJCQkJCQkJCXIgPSB5ZShhLCBvKSwKCQkJCQkJCQlzID0gYmUoYSwgbyk7CgkJCQkJCQl0Lm1pbiA9IHllKGUucG9zLCByIC0gaSksIHQubWF4ID0gYmUoZS5wb3MgKyBlLmxlbiwgcyArIGkpCgkJCQkJCX0KCQkJCQl9KSwgdC5yZXMgPSAhMCkgOiBpLmxlbmd0aCAmJiAoZCB8fCAodC5zZWxlY3Rpb25NYXJrZXIgPSBkID0gYSh7CgkJCQkJCWRlc3Ryb3k6IEZlCgkJCQkJfSwgbi5wbG90Qm94KSksIHQucGluY2hUcmFuc2xhdGUoaSwgciwgcCwgZCwgdSwgbCksIHQuaGFzUGluY2hlZCA9IGMsIHQuc2NhbGVHcm91cHMocCwgdSksICFjICYmIG8gJiYgMSA9PT0gcyA/IHRoaXMucnVuUG9pbnRBY3Rpb25zKHQubm9ybWFsaXplKGUpKSA6IHQucmVzICYmICh0LnJlcyA9ICExLCB0aGlzLnJlc2V0KCExLCAwKSkpCgkJCQl9LAoJCQkJb25Db250YWluZXJUb3VjaFN0YXJ0OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0OwoJCQkJCUR0ID0gdC5pbmRleCwgMSA9PT0gZS50b3VjaGVzLmxlbmd0aCA/IChlID0gdGhpcy5ub3JtYWxpemUoZSksIHQuaXNJbnNpZGVQbG90KGUuY2hhcnRYIC0gdC5wbG90TGVmdCwgZS5jaGFydFkgLSB0LnBsb3RUb3ApID8gKHRoaXMucnVuUG9pbnRBY3Rpb25zKGUpLCB0aGlzLnBpbmNoKGUpKSA6IHRoaXMucmVzZXQoKSkgOiAyID09PSBlLnRvdWNoZXMubGVuZ3RoICYmIHRoaXMucGluY2goZSkKCQkJCX0sCgkJCQlvbkNvbnRhaW5lclRvdWNoTW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCSgxID09PSBlLnRvdWNoZXMubGVuZ3RoIHx8IDIgPT09IGUudG91Y2hlcy5sZW5ndGgpICYmIHRoaXMucGluY2goZSkKCQkJCX0sCgkJCQlvbkRvY3VtZW50VG91Y2hFbmQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkkZVtEdF0gJiYgJGVbRHRdLnBvaW50ZXIuZHJvcChlKQoJCQkJfQoJCQl9KSwgZ2UuUG9pbnRlckV2ZW50IHx8IGdlLk1TUG9pbnRlckV2ZW50KSB7CgkJCQl2YXIgUnQgPSB7fSwKCQkJCQlGdCA9ICEhZ2UuUG9pbnRlckV2ZW50LAoJCQkJCSR0ID0gZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlLCB0ID0gW107CgkJCQkJCXQuaXRlbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiB0aGlzW2VdCgkJCQkJCX07CgkJCQkJCWZvciAoZSBpbiBSdCkgUnQuaGFzT3duUHJvcGVydHkoZSkgJiYgdC5wdXNoKHsKCQkJCQkJCXBhZ2VYOiBSdFtlXS5wYWdlWCwKCQkJCQkJCXBhZ2VZOiBSdFtlXS5wYWdlWSwKCQkJCQkJCXRhcmdldDogUnRbZV0udGFyZ2V0CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gdAoJCQkJCX0sCgkJCQkJV3QgPSBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBhOwoJCQkJCQllID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsICJ0b3VjaCIgIT09IGUucG9pbnRlclR5cGUgJiYgZS5wb2ludGVyVHlwZSAhPT0gZS5NU1BPSU5URVJfVFlQRV9UT1VDSCB8fCAhJGVbRHRdIHx8IChpKGUpLCBhID0gJGVbRHRdLnBvaW50ZXIsIGFbdF0oewoJCQkJCQkJdHlwZTogbiwKCQkJCQkJCXRhcmdldDogZS5jdXJyZW50VGFyZ2V0LAoJCQkJCQkJcHJldmVudERlZmF1bHQ6IEZlLAoJCQkJCQkJdG91Y2hlczogJHQoKQoJCQkJCQl9KSkKCQkJCQl9OwoJCQkJYShNdC5wcm90b3R5cGUsIHsKCQkJCQlvbkNvbnRhaW5lclBvaW50ZXJEb3duOiBmdW5jdGlvbihlKSB7CgkJCQkJCVd0KGUsICJvbkNvbnRhaW5lclRvdWNoU3RhcnQiLCAidG91Y2hzdGFydCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCVJ0W2UucG9pbnRlcklkXSA9IHsKCQkJCQkJCQlwYWdlWDogZS5wYWdlWCwKCQkJCQkJCQlwYWdlWTogZS5wYWdlWSwKCQkJCQkJCQl0YXJnZXQ6IGUuY3VycmVudFRhcmdldAoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJb25Db250YWluZXJQb2ludGVyTW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCQlXdChlLCAib25Db250YWluZXJUb3VjaE1vdmUiLCAidG91Y2htb3ZlIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJUnRbZS5wb2ludGVySWRdID0gewoJCQkJCQkJCXBhZ2VYOiBlLnBhZ2VYLAoJCQkJCQkJCXBhZ2VZOiBlLnBhZ2VZCgkJCQkJCQl9LCBSdFtlLnBvaW50ZXJJZF0udGFyZ2V0IHx8IChSdFtlLnBvaW50ZXJJZF0udGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJb25Eb2N1bWVudFBvaW50ZXJVcDogZnVuY3Rpb24oZSkgewoJCQkJCQlXdChlLCAib25Db250YWluZXJUb3VjaEVuZCIsICJ0b3VjaGVuZCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWRlbGV0ZSBSdFtlLnBvaW50ZXJJZF0KCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWJhdGNoTVNFdmVudHM6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSh0aGlzLmNoYXJ0LmNvbnRhaW5lciwgRnQgPyAicG9pbnRlcmRvd24iIDogIk1TUG9pbnRlckRvd24iLCB0aGlzLm9uQ29udGFpbmVyUG9pbnRlckRvd24pLCBlKHRoaXMuY2hhcnQuY29udGFpbmVyLCBGdCA/ICJwb2ludGVybW92ZSIgOiAiTVNQb2ludGVyTW92ZSIsIHRoaXMub25Db250YWluZXJQb2ludGVyTW92ZSksIGUoZmUsIEZ0ID8gInBvaW50ZXJ1cCIgOiAiTVNQb2ludGVyVXAiLCB0aGlzLm9uRG9jdW1lbnRQb2ludGVyVXApCgkJCQkJfQoJCQkJfSksIGsoTXQucHJvdG90eXBlLCAiaW5pdCIsIGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQllLmNhbGwodGhpcywgdCwgbiksICh0aGlzLmhhc1pvb20gfHwgdGhpcy5mb2xsb3dUb3VjaE1vdmUpICYmIHgodC5jb250YWluZXIsIHsKCQkJCQkJIi1tcy10b3VjaC1hY3Rpb24iOiBRZSwKCQkJCQkJInRvdWNoLWFjdGlvbiI6IFFlCgkJCQkJfSkKCQkJCX0pLCBrKE10LnByb3RvdHlwZSwgInNldERPTUV2ZW50cyIsIGZ1bmN0aW9uKGUpIHsKCQkJCQllLmFwcGx5KHRoaXMpLCAodGhpcy5oYXNab29tIHx8IHRoaXMuZm9sbG93VG91Y2hNb3ZlKSAmJiB0aGlzLmJhdGNoTVNFdmVudHMoeHQpCgkJCQl9KSwgayhNdC5wcm90b3R5cGUsICJkZXN0cm95IiwgZnVuY3Rpb24oZSkgewoJCQkJCXRoaXMuYmF0Y2hNU0V2ZW50cyh3dCksIGUuY2FsbCh0aGlzKQoJCQkJfSkKCQkJfQoJCQl2YXIgSHQgPSBsdC5MZWdlbmQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl0aGlzLmluaXQoZSwgdCkKCQkJfTsKCQkJSHQucHJvdG90eXBlID0gewoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IHQuaXRlbVN0eWxlLAoJCQkJCQlhID0gXyh0LnBhZGRpbmcsIDgpLAoJCQkJCQlyID0gdC5pdGVtTWFyZ2luVG9wIHx8IDA7CgkJCQkJdGhpcy5vcHRpb25zID0gdCwgdC5lbmFibGVkICYmIChuLml0ZW1TdHlsZSA9IGksIG4uaXRlbUhpZGRlblN0eWxlID0gbyhpLCB0Lml0ZW1IaWRkZW5TdHlsZSksIG4uaXRlbU1hcmdpblRvcCA9IHIsIG4ucGFkZGluZyA9IGEsIG4uaW5pdGlhbEl0ZW1YID0gYSwgbi5pbml0aWFsSXRlbVkgPSBhIC0gNSwgbi5tYXhJdGVtV2lkdGggPSAwLCBuLmNoYXJ0ID0gZSwgbi5pdGVtSGVpZ2h0ID0gMCwgbi5sYXN0TGluZUhlaWdodCA9IDAsIG4uc3ltYm9sV2lkdGggPSBfKHQuc3ltYm9sV2lkdGgsIDE2KSwgbi5wYWdlcyA9IFtdLCBuLnJlbmRlcigpLCB4dChuLmNoYXJ0LCAiZW5kUmVzaXplIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW4ucG9zaXRpb25DaGVja2JveGVzKCkKCQkJCQl9KSkKCQkJCX0sCgkJCQljb2xvcml6ZUl0ZW06IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSwgYSA9IHRoaXMsCgkJCQkJCW8gPSBhLm9wdGlvbnMsCgkJCQkJCXIgPSBlLmxlZ2VuZEl0ZW0sCgkJCQkJCXMgPSBlLmxlZ2VuZExpbmUsCgkJCQkJCWwgPSBlLmxlZ2VuZFN5bWJvbCwKCQkJCQkJYyA9IGEuaXRlbUhpZGRlblN0eWxlLmNvbG9yLAoJCQkJCQlkID0gdCA/IG8uaXRlbVN0eWxlLmNvbG9yIDogYywKCQkJCQkJcCA9IHQgPyBlLmxlZ2VuZENvbG9yIHx8IGUuY29sb3IgfHwgIiNDQ0MiIDogYywKCQkJCQkJaCA9IGUub3B0aW9ucyAmJiBlLm9wdGlvbnMubWFya2VyLAoJCQkJCQl1ID0gewoJCQkJCQkJZmlsbDogcAoJCQkJCQl9OwoJCQkJCWlmIChyICYmIHIuY3NzKHsKCQkJCQkJZmlsbDogZCwKCQkJCQkJY29sb3I6IGQKCQkJCQl9KSwgcyAmJiBzLmF0dHIoewoJCQkJCQlzdHJva2U6IHAKCQkJCQl9KSwgbCkgewoJCQkJCQlpZiAoaCAmJiBsLmlzTWFya2VyKSB7CgkJCQkJCQl1LnN0cm9rZSA9IHAsIGggPSBlLmNvbnZlcnRBdHRyaWJzKGgpOwoJCQkJCQkJZm9yIChuIGluIGgpIGkgPSBoW25dLCBpICE9PSBXICYmICh1W25dID0gaSkKCQkJCQkJfQoJCQkJCQlsLmF0dHIodSkKCQkJCQl9CgkJCQl9LAoJCQkJcG9zaXRpb25JdGVtOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQluID0gdC5vcHRpb25zLAoJCQkJCQlpID0gbi5zeW1ib2xQYWRkaW5nLAoJCQkJCQlhID0gIW4ucnRsLAoJCQkJCQlvID0gZS5fbGVnZW5kSXRlbVBvcywKCQkJCQkJciA9IG9bMF0sCgkJCQkJCXMgPSBvWzFdLAoJCQkJCQlsID0gZS5jaGVja2JveDsKCQkJCQllLmxlZ2VuZEdyb3VwICYmIGUubGVnZW5kR3JvdXAudHJhbnNsYXRlKGEgPyByIDogdC5sZWdlbmRXaWR0aCAtIHIgLSAyICogaSAtIDQsIHMpLCBsICYmIChsLnggPSByLCBsLnkgPSBzKQoJCQkJfSwKCQkJCWRlc3Ryb3lJdGVtOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBlLmNoZWNrYm94OwoJCQkJCW10KFsibGVnZW5kSXRlbSIsICJsZWdlbmRMaW5lIiwgImxlZ2VuZFN5bWJvbCIsICJsZWdlbmRHcm91cCJdLCBmdW5jdGlvbih0KSB7CgkJCQkJCWVbdF0gJiYgKGVbdF0gPSBlW3RdLmRlc3Ryb3koKSkKCQkJCQl9KSwgdCAmJiBJKGUuY2hlY2tib3gpCgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5ncm91cCwKCQkJCQkJbiA9IGUuYm94OwoJCQkJCW4gJiYgKGUuYm94ID0gbi5kZXN0cm95KCkpLCB0ICYmIChlLmdyb3VwID0gdC5kZXN0cm95KCkpCgkJCQl9LAoJCQkJcG9zaXRpb25DaGVja2JveGVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLmdyb3VwLmFsaWduQXR0ciwKCQkJCQkJaSA9IHRoaXMuY2xpcEhlaWdodCB8fCB0aGlzLmxlZ2VuZEhlaWdodDsKCQkJCQluICYmICh0ID0gbi50cmFuc2xhdGVZLCBtdCh0aGlzLmFsbEl0ZW1zLCBmdW5jdGlvbihhKSB7CgkJCQkJCXZhciBvLCByID0gYS5jaGVja2JveDsKCQkJCQkJciAmJiAobyA9IHQgKyByLnkgKyAoZSB8fCAwKSArIDMsIHgociwgewoJCQkJCQkJbGVmdDogbi50cmFuc2xhdGVYICsgYS5jaGVja2JveE9mZnNldCArIHIueCAtIDIwICsgS2UsCgkJCQkJCQl0b3A6IG8gKyBLZSwKCQkJCQkJCWRpc3BsYXk6IG8gPiB0IC0gNiAmJiB0ICsgaSAtIDYgPiBvID8gIiIgOiBRZQoJCQkJCQl9KSkKCQkJCQl9KSkKCQkJCX0sCgkJCQlyZW5kZXJUaXRsZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLm9wdGlvbnMsCgkJCQkJCW4gPSB0aGlzLnBhZGRpbmcsCgkJCQkJCWkgPSB0LnRpdGxlLAoJCQkJCQlhID0gMDsKCQkJCQlpLnRleHQgJiYgKHRoaXMudGl0bGUgfHwgKHRoaXMudGl0bGUgPSB0aGlzLmNoYXJ0LnJlbmRlcmVyLmxhYmVsKGkudGV4dCwgbiAtIDMsIG4gLSA0LCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAibGVnZW5kLXRpdGxlIikuYXR0cih7CgkJCQkJCXpJbmRleDogMQoJCQkJCX0pLmNzcyhpLnN0eWxlKS5hZGQodGhpcy5ncm91cCkpLCBlID0gdGhpcy50aXRsZS5nZXRCQm94KCksIGEgPSBlLmhlaWdodCwgdGhpcy5vZmZzZXRXaWR0aCA9IGUud2lkdGgsIHRoaXMuY29udGVudEdyb3VwLmF0dHIoewoJCQkJCQl0cmFuc2xhdGVZOiBhCgkJCQkJfSkpLCB0aGlzLnRpdGxlSGVpZ2h0ID0gYQoJCQkJfSwKCQkJCXJlbmRlckl0ZW06IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IHRoaXMsCgkJCQkJCXIgPSBhLmNoYXJ0LAoJCQkJCQlzID0gci5yZW5kZXJlciwKCQkJCQkJbCA9IGEub3B0aW9ucywKCQkJCQkJYyA9ICJob3Jpem9udGFsIiA9PT0gbC5sYXlvdXQsCgkJCQkJCWQgPSBhLnN5bWJvbFdpZHRoLAoJCQkJCQlwID0gbC5zeW1ib2xQYWRkaW5nLAoJCQkJCQloID0gYS5pdGVtU3R5bGUsCgkJCQkJCXUgPSBhLml0ZW1IaWRkZW5TdHlsZSwKCQkJCQkJbSA9IGEucGFkZGluZywKCQkJCQkJZiA9IGMgPyBfKGwuaXRlbURpc3RhbmNlLCAyMCkgOiAwLAoJCQkJCQlnID0gIWwucnRsLAoJCQkJCQl4ID0gbC53aWR0aCwKCQkJCQkJdyA9IGwuaXRlbU1hcmdpbkJvdHRvbSB8fCAwLAoJCQkJCQl2ID0gYS5pdGVtTWFyZ2luVG9wLAoJCQkJCQliID0gYS5pbml0aWFsSXRlbVgsCgkJCQkJCXkgPSBlLmxlZ2VuZEl0ZW0sCgkJCQkJCWsgPSBlLnNlcmllcyAmJiBlLnNlcmllcy5kcmF3TGVnZW5kU3ltYm9sID8gZS5zZXJpZXMgOiBlLAoJCQkJCQl6ID0gay5vcHRpb25zLAoJCQkJCQlqID0gYS5jcmVhdGVDaGVja2JveEZvckl0ZW0gJiYgeiAmJiB6LnNob3dDaGVja2JveCwKCQkJCQkJQyA9IGwudXNlSFRNTDsKCQkJCQl5IHx8IChlLmxlZ2VuZEdyb3VwID0gcy5nKCJsZWdlbmQtaXRlbSIpLmF0dHIoewoJCQkJCQl6SW5kZXg6IDEKCQkJCQl9KS5hZGQoYS5zY3JvbGxHcm91cCksIGUubGVnZW5kSXRlbSA9IHkgPSBzLnRleHQobC5sYWJlbEZvcm1hdCA/IEIobC5sYWJlbEZvcm1hdCwgZSkgOiBsLmxhYmVsRm9ybWF0dGVyLmNhbGwoZSksIGcgPyBkICsgcCA6IC1wLCBhLmJhc2VsaW5lIHx8IDAsIEMpLmNzcyhvKGUudmlzaWJsZSA/IGggOiB1KSkuYXR0cih7CgkJCQkJCWFsaWduOiBnID8gImxlZnQiIDogInJpZ2h0IiwKCQkJCQkJekluZGV4OiAyCgkJCQkJfSkuYWRkKGUubGVnZW5kR3JvdXApLCBhLmJhc2VsaW5lIHx8IChhLmJhc2VsaW5lID0gcy5mb250TWV0cmljcyhoLmZvbnRTaXplLCB5KS5mICsgMyArIHYsIHkuYXR0cigieSIsIGEuYmFzZWxpbmUpKSwgay5kcmF3TGVnZW5kU3ltYm9sKGEsIGUpLCBhLnNldEl0ZW1FdmVudHMgJiYgYS5zZXRJdGVtRXZlbnRzKGUsIHksIEMsIGgsIHUpLCBhLmNvbG9yaXplSXRlbShlLCBlLnZpc2libGUpLCBqICYmIGEuY3JlYXRlQ2hlY2tib3hGb3JJdGVtKGUpKSwgbiA9IHkuZ2V0QkJveCgpLCBpID0gZS5jaGVja2JveE9mZnNldCA9IGwuaXRlbVdpZHRoIHx8IGUubGVnZW5kSXRlbVdpZHRoIHx8IGQgKyBwICsgbi53aWR0aCArIGYgKyAoaiA/IDIwIDogMCksIGEuaXRlbUhlaWdodCA9IHQgPSB4ZShlLmxlZ2VuZEl0ZW1IZWlnaHQgfHwgbi5oZWlnaHQpLCBjICYmIGEuaXRlbVggLSBiICsgaSA+ICh4IHx8IHIuY2hhcnRXaWR0aCAtIDIgKiBtIC0gYiAtIGwueCkgJiYgKGEuaXRlbVggPSBiLCBhLml0ZW1ZICs9IHYgKyBhLmxhc3RMaW5lSGVpZ2h0ICsgdywgYS5sYXN0TGluZUhlaWdodCA9IDApLCBhLm1heEl0ZW1XaWR0aCA9IGJlKGEubWF4SXRlbVdpZHRoLCBpKSwgYS5sYXN0SXRlbVkgPSB2ICsgYS5pdGVtWSArIHcsIGEubGFzdExpbmVIZWlnaHQgPSBiZSh0LCBhLmxhc3RMaW5lSGVpZ2h0KSwgZS5fbGVnZW5kSXRlbVBvcyA9IFthLml0ZW1YLCBhLml0ZW1ZXSwgYyA/IGEuaXRlbVggKz0gaSA6IChhLml0ZW1ZICs9IHYgKyB0ICsgdywgYS5sYXN0TGluZUhlaWdodCA9IHQpLCBhLm9mZnNldFdpZHRoID0geCB8fCBiZSgoYyA/IGEuaXRlbVggLSBiIC0gZiA6IGkpICsgbSwgYS5vZmZzZXRXaWR0aCkKCQkJCX0sCgkJCQlnZXRBbGxJdGVtczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBbXTsKCQkJCQlyZXR1cm4gbXQodGhpcy5jaGFydC5zZXJpZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIG4gPSB0Lm9wdGlvbnM7CgkJCQkJCV8obi5zaG93SW5MZWdlbmQsIG0obi5saW5rZWRUbykgPyAhMSA6IFcsICEwKSAmJiAoZSA9IGUuY29uY2F0KHQubGVnZW5kSXRlbXMgfHwgKCJwb2ludCIgPT09IG4ubGVnZW5kVHlwZSA/IHQuZGF0YSA6IHQpKSkKCQkJCQl9KSwgZQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gby5jaGFydCwKCQkJCQkJcyA9IHIucmVuZGVyZXIsCgkJCQkJCWwgPSBvLmdyb3VwLAoJCQkJCQljID0gby5ib3gsCgkJCQkJCWQgPSBvLm9wdGlvbnMsCgkJCQkJCXAgPSBvLnBhZGRpbmcsCgkJCQkJCWggPSBkLmJvcmRlcldpZHRoLAoJCQkJCQl1ID0gZC5iYWNrZ3JvdW5kQ29sb3I7CgkJCQkJby5pdGVtWCA9IG8uaW5pdGlhbEl0ZW1YLCBvLml0ZW1ZID0gby5pbml0aWFsSXRlbVksIG8ub2Zmc2V0V2lkdGggPSAwLCBvLmxhc3RJdGVtWSA9IDAsIGwgfHwgKG8uZ3JvdXAgPSBsID0gcy5nKCJsZWdlbmQiKS5hdHRyKHsKCQkJCQkJekluZGV4OiA3CgkJCQkJfSkuYWRkKCksIG8uY29udGVudEdyb3VwID0gcy5nKCkuYXR0cih7CgkJCQkJCXpJbmRleDogMQoJCQkJCX0pLmFkZChsKSwgby5zY3JvbGxHcm91cCA9IHMuZygpLmFkZChvLmNvbnRlbnRHcm91cCkpLCBvLnJlbmRlclRpdGxlKCksIGUgPSBvLmdldEFsbEl0ZW1zKCksIFMoZSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gKGUub3B0aW9ucyAmJiBlLm9wdGlvbnMubGVnZW5kSW5kZXggfHwgMCkgLSAodC5vcHRpb25zICYmIHQub3B0aW9ucy5sZWdlbmRJbmRleCB8fCAwKQoJCQkJCX0pLCBkLnJldmVyc2VkICYmIGUucmV2ZXJzZSgpLCBvLmFsbEl0ZW1zID0gZSwgby5kaXNwbGF5ID0gdCA9ICEhZS5sZW5ndGgsIG10KGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJby5yZW5kZXJJdGVtKGUpCgkJCQkJfSksIG4gPSBkLndpZHRoIHx8IG8ub2Zmc2V0V2lkdGgsIGkgPSBvLmxhc3RJdGVtWSArIG8ubGFzdExpbmVIZWlnaHQgKyBvLnRpdGxlSGVpZ2h0LCBpID0gby5oYW5kbGVPdmVyZmxvdyhpKSwgKGggfHwgdSkgJiYgKG4gKz0gcCwgaSArPSBwLCBjID8gbiA+IDAgJiYgaSA+IDAgJiYgKGNbYy5pc05ldyA/ICJhdHRyIiA6ICJhbmltYXRlIl0oYy5jcmlzcCh7CgkJCQkJCXdpZHRoOiBuLAoJCQkJCQloZWlnaHQ6IGkKCQkJCQl9KSksIGMuaXNOZXcgPSAhMSkgOiAoby5ib3ggPSBjID0gcy5yZWN0KDAsIDAsIG4sIGksIGQuYm9yZGVyUmFkaXVzLCBoIHx8IDApLmF0dHIoewoJCQkJCQlzdHJva2U6IGQuYm9yZGVyQ29sb3IsCgkJCQkJCSJzdHJva2Utd2lkdGgiOiBoIHx8IDAsCgkJCQkJCWZpbGw6IHUgfHwgUWUKCQkJCQl9KS5hZGQobCkuc2hhZG93KGQuc2hhZG93KSwgYy5pc05ldyA9ICEwKSwgY1t0ID8gInNob3ciIDogImhpZGUiXSgpKSwgby5sZWdlbmRXaWR0aCA9IG4sIG8ubGVnZW5kSGVpZ2h0ID0gaSwgbXQoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQlvLnBvc2l0aW9uSXRlbShlKQoJCQkJCX0pLCB0ICYmIGwuYWxpZ24oYSh7CgkJCQkJCXdpZHRoOiBuLAoJCQkJCQloZWlnaHQ6IGkKCQkJCQl9LCBkKSwgITAsICJzcGFjaW5nQm94IiksIHIuaXNSZXNpemluZyB8fCB0aGlzLnBvc2l0aW9uQ2hlY2tib3hlcygpCgkJCQl9LAoJCQkJaGFuZGxlT3ZlcmZsb3c6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSB0aGlzLmNoYXJ0LAoJCQkJCQlvID0gYS5yZW5kZXJlciwKCQkJCQkJciA9IHRoaXMub3B0aW9ucywKCQkJCQkJcyA9IHIueSwKCQkJCQkJbCA9ICJ0b3AiID09PSByLnZlcnRpY2FsQWxpZ24sCgkJCQkJCWMgPSBhLnNwYWNpbmdCb3guaGVpZ2h0ICsgKGwgPyAtcyA6IHMpIC0gdGhpcy5wYWRkaW5nLAoJCQkJCQlkID0gci5tYXhIZWlnaHQsCgkJCQkJCXAgPSB0aGlzLmNsaXBSZWN0LAoJCQkJCQloID0gci5uYXZpZ2F0aW9uLAoJCQkJCQl1ID0gXyhoLmFuaW1hdGlvbiwgITApLAoJCQkJCQltID0gaC5hcnJvd1NpemUgfHwgMTIsCgkJCQkJCWYgPSB0aGlzLm5hdiwKCQkJCQkJZyA9IHRoaXMucGFnZXMsCgkJCQkJCXggPSB0aGlzLmFsbEl0ZW1zOwoJCQkJCXJldHVybiAiaG9yaXpvbnRhbCIgPT09IHIubGF5b3V0ICYmIChjIC89IDIpLCBkICYmIChjID0geWUoYywgZCkpLCBnLmxlbmd0aCA9IDAsIGUgPiBjICYmICFyLnVzZUhUTUwgPyAodGhpcy5jbGlwSGVpZ2h0ID0gdCA9IGJlKGMgLSAyMCAtIHRoaXMudGl0bGVIZWlnaHQgLSB0aGlzLnBhZGRpbmcsIDApLCB0aGlzLmN1cnJlbnRQYWdlID0gXyh0aGlzLmN1cnJlbnRQYWdlLCAxKSwgdGhpcy5mdWxsSGVpZ2h0ID0gZSwgbXQoeCwgZnVuY3Rpb24oZSwgaSkgewoJCQkJCQl2YXIgYSA9IGUuX2xlZ2VuZEl0ZW1Qb3NbMV0sCgkJCQkJCQlvID0geGUoZS5sZWdlbmRJdGVtLmdldEJCb3goKS5oZWlnaHQpLAoJCQkJCQkJciA9IGcubGVuZ3RoOwoJCQkJCQkoIXIgfHwgYSAtIGdbciAtIDFdID4gdCAmJiAobiB8fCBhKSAhPT0gZ1tyIC0gMV0pICYmIChnLnB1c2gobiB8fCBhKSwgcisrKSwgaSA9PT0geC5sZW5ndGggLSAxICYmIGEgKyBvIC0gZ1tyIC0gMV0gPiB0ICYmIGcucHVzaChhKSwgYSAhPT0gbiAmJiAobiA9IGEpCgkJCQkJfSksIHAgfHwgKHAgPSBpLmNsaXBSZWN0ID0gby5jbGlwUmVjdCgwLCB0aGlzLnBhZGRpbmcsIDk5OTksIDApLCBpLmNvbnRlbnRHcm91cC5jbGlwKHApKSwgcC5hdHRyKHsKCQkJCQkJaGVpZ2h0OiB0CgkJCQkJfSksIGYgfHwgKHRoaXMubmF2ID0gZiA9IG8uZygpLmF0dHIoewoJCQkJCQl6SW5kZXg6IDEKCQkJCQl9KS5hZGQodGhpcy5ncm91cCksIHRoaXMudXAgPSBvLnN5bWJvbCgidHJpYW5nbGUiLCAwLCAwLCBtLCBtKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaS5zY3JvbGwoLTEsIHUpCgkJCQkJfSkuYWRkKGYpLCB0aGlzLnBhZ2VyID0gby50ZXh0KCIiLCAxNSwgMTApLmNzcyhoLnN0eWxlKS5hZGQoZiksIHRoaXMuZG93biA9IG8uc3ltYm9sKCJ0cmlhbmdsZS1kb3duIiwgMCwgMCwgbSwgbSkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWkuc2Nyb2xsKDEsIHUpCgkJCQkJfSkuYWRkKGYpKSwgaS5zY3JvbGwoMCksIGUgPSBjKSA6IGYgJiYgKHAuYXR0cih7CgkJCQkJCWhlaWdodDogYS5jaGFydEhlaWdodAoJCQkJCX0pLCBmLmhpZGUoKSwgdGhpcy5zY3JvbGxHcm91cC5hdHRyKHsKCQkJCQkJdHJhbnNsYXRlWTogMQoJCQkJCX0pLCB0aGlzLmNsaXBIZWlnaHQgPSAwKSwgZQoJCQkJfSwKCQkJCXNjcm9sbDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpID0gdGhpcy5wYWdlcywKCQkJCQkJYSA9IGkubGVuZ3RoLAoJCQkJCQlvID0gdGhpcy5jdXJyZW50UGFnZSArIGUsCgkJCQkJCXIgPSB0aGlzLmNsaXBIZWlnaHQsCgkJCQkJCXMgPSB0aGlzLm9wdGlvbnMubmF2aWdhdGlvbiwKCQkJCQkJbCA9IHMuYWN0aXZlQ29sb3IsCgkJCQkJCWMgPSBzLmluYWN0aXZlQ29sb3IsCgkJCQkJCWQgPSB0aGlzLnBhZ2VyLAoJCQkJCQlwID0gdGhpcy5wYWRkaW5nOwoJCQkJCW8gPiBhICYmIChvID0gYSksIG8gPiAwICYmICh0ICE9PSBXICYmIHEodCwgdGhpcy5jaGFydCksIHRoaXMubmF2LmF0dHIoewoJCQkJCQl0cmFuc2xhdGVYOiBwLAoJCQkJCQl0cmFuc2xhdGVZOiByICsgdGhpcy5wYWRkaW5nICsgNyArIHRoaXMudGl0bGVIZWlnaHQsCgkJCQkJCXZpc2liaWxpdHk6IFZlCgkJCQkJfSksIHRoaXMudXAuYXR0cih7CgkJCQkJCWZpbGw6IDEgPT09IG8gPyBjIDogbAoJCQkJCX0pLmNzcyh7CgkJCQkJCWN1cnNvcjogMSA9PT0gbyA/ICJkZWZhdWx0IiA6ICJwb2ludGVyIgoJCQkJCX0pLCBkLmF0dHIoewoJCQkJCQl0ZXh0OiBvICsgIi8iICsgYQoJCQkJCX0pLCB0aGlzLmRvd24uYXR0cih7CgkJCQkJCXg6IDE4ICsgdGhpcy5wYWdlci5nZXRCQm94KCkud2lkdGgsCgkJCQkJCWZpbGw6IG8gPT09IGEgPyBjIDogbAoJCQkJCX0pLmNzcyh7CgkJCQkJCWN1cnNvcjogbyA9PT0gYSA/ICJkZWZhdWx0IiA6ICJwb2ludGVyIgoJCQkJCX0pLCBuID0gLWlbbyAtIDFdICsgdGhpcy5pbml0aWFsSXRlbVksIHRoaXMuc2Nyb2xsR3JvdXAuYW5pbWF0ZSh7CgkJCQkJCXRyYW5zbGF0ZVk6IG4KCQkJCQl9KSwgdGhpcy5jdXJyZW50UGFnZSA9IG8sIHRoaXMucG9zaXRpb25DaGVja2JveGVzKG4pKQoJCQkJfQoJCQl9OwoJCQl2YXIgVXQgPSBsdC5MZWdlbmRTeW1ib2xNaXhpbiA9IHsKCQkJCWRyYXdSZWN0YW5nbGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IGUub3B0aW9ucy5zeW1ib2xIZWlnaHQgfHwgMTI7CgkJCQkJdC5sZWdlbmRTeW1ib2wgPSB0aGlzLmNoYXJ0LnJlbmRlcmVyLnJlY3QoMCwgZS5iYXNlbGluZSAtIDUgLSBuIC8gMiwgZS5zeW1ib2xXaWR0aCwgbiwgZS5vcHRpb25zLnN5bWJvbFJhZGl1cyB8fCAwKS5hdHRyKHsKCQkJCQkJekluZGV4OiAzCgkJCQkJfSkuYWRkKHQubGVnZW5kR3JvdXApCgkJCQl9LAoJCQkJZHJhd0xpbmVNYXJrZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IHRoaXMub3B0aW9ucywKCQkJCQkJbyA9IGEubWFya2VyLAoJCQkJCQlyID0gZS5vcHRpb25zLAoJCQkJCQlzID0gZS5zeW1ib2xXaWR0aCwKCQkJCQkJbCA9IHRoaXMuY2hhcnQucmVuZGVyZXIsCgkJCQkJCWMgPSB0aGlzLmxlZ2VuZEdyb3VwLAoJCQkJCQlkID0gZS5iYXNlbGluZSAtIHhlKC4zICogbC5mb250TWV0cmljcyhyLml0ZW1TdHlsZS5mb250U2l6ZSwgdGhpcy5sZWdlbmRJdGVtKS5iKTsKCQkJCQlhLmxpbmVXaWR0aCAmJiAoaSA9IHsKCQkJCQkJInN0cm9rZS13aWR0aCI6IGEubGluZVdpZHRoCgkJCQkJfSwgYS5kYXNoU3R5bGUgJiYgKGkuZGFzaHN0eWxlID0gYS5kYXNoU3R5bGUpLCB0aGlzLmxlZ2VuZExpbmUgPSBsLnBhdGgoW2V0LCAwLCBkLCB0dCwgcywgZF0pLmF0dHIoaSkuYWRkKGMpKSwgbyAmJiBvLmVuYWJsZWQgIT09ICExICYmICh0ID0gby5yYWRpdXMsIHRoaXMubGVnZW5kU3ltYm9sID0gbiA9IGwuc3ltYm9sKHRoaXMuc3ltYm9sLCBzIC8gMiAtIHQsIGQgLSB0LCAyICogdCwgMiAqIHQpLmFkZChjKSwgbi5pc01hcmtlciA9ICEwKQoJCQkJfQoJCQl9OwoJCQkoL1RyaWRlbnRcLzdcLjAvLnRlc3QoU2UpIHx8IEFlKSAmJiBrKEh0LnByb3RvdHlwZSwgInBvc2l0aW9uSXRlbSIsIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuID0gdGhpcywKCQkJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQkJCXQuX2xlZ2VuZEl0ZW1Qb3MgJiYgZS5jYWxsKG4sIHQpCgkJCQkJfTsKCQkJCWkoKSwgc2V0VGltZW91dChpKQoJCQl9KSwgRi5wcm90b3R5cGUgPSB7CgkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSBlLnNlcmllczsKCQkJCQllLnNlcmllcyA9IG51bGwsIG4gPSBvKEcsIGUpLCBuLnNlcmllcyA9IGUuc2VyaWVzID0gaSwgdGhpcy51c2VyT3B0aW9ucyA9IGU7CgkJCQkJdmFyIGEgPSBuLmNoYXJ0OwoJCQkJCXRoaXMubWFyZ2luID0gdGhpcy5zcGxhc2hBcnJheSgibWFyZ2luIiwgYSksIHRoaXMuc3BhY2luZyA9IHRoaXMuc3BsYXNoQXJyYXkoInNwYWNpbmciLCBhKTsKCQkJCQl2YXIgciA9IGEuZXZlbnRzOwoJCQkJCXRoaXMuYm91bmRzID0gewoJCQkJCQloOiB7fSwKCQkJCQkJdjoge30KCQkJCQl9LCB0aGlzLmNhbGxiYWNrID0gdCwgdGhpcy5pc1Jlc2l6aW5nID0gMCwgdGhpcy5vcHRpb25zID0gbiwgdGhpcy5heGVzID0gW10sIHRoaXMuc2VyaWVzID0gW10sIHRoaXMuaGFzQ2FydGVzaWFuU2VyaWVzID0gYS5zaG93QXhlczsKCQkJCQl2YXIgcywgbCA9IHRoaXM7CgkJCQkJaWYgKGwuaW5kZXggPSAkZS5sZW5ndGgsICRlLnB1c2gobCksIFdlKyssIGEucmVmbG93ICE9PSAhMSAmJiB4dChsLCAibG9hZCIsIGZ1bmN0aW9uKCkgewoJCQkJCQlsLmluaXRSZWZsb3coKQoJCQkJCX0pLCByKQoJCQkJCQlmb3IgKHMgaW4gcikgeHQobCwgcywgcltzXSk7CgkJCQkJbC54QXhpcyA9IFtdLCBsLnlBeGlzID0gW10sIGwuYW5pbWF0aW9uID0gRGUgPyAhMSA6IF8oYS5hbmltYXRpb24sICEwKSwgbC5wb2ludENvdW50ID0gbC5jb2xvckNvdW50ZXIgPSBsLnN5bWJvbENvdW50ZXIgPSAwLCBsLmZpcnN0UmVuZGVyKCkKCQkJCX0sCgkJCQlpbml0U2VyaWVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLAoJCQkJCQlpID0gbi5vcHRpb25zLmNoYXJ0LAoJCQkJCQlhID0gZS50eXBlIHx8IGkudHlwZSB8fCBpLmRlZmF1bHRTZXJpZXNUeXBlLAoJCQkJCQlvID0gc3RbYV07CgkJCQkJcmV0dXJuIG8gfHwgSygxNywgITApLCB0ID0gbmV3IG8sIHQuaW5pdCh0aGlzLCBlKSwgdAoJCQkJfSwKCQkJCWlzSW5zaWRlUGxvdDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0gbiA/IHQgOiBlLAoJCQkJCQlhID0gbiA/IGUgOiB0OwoJCQkJCXJldHVybiBpID49IDAgJiYgaSA8PSB0aGlzLnBsb3RXaWR0aCAmJiBhID49IDAgJiYgYSA8PSB0aGlzLnBsb3RIZWlnaHQKCQkJCX0sCgkJCQlhZGp1c3RUaWNrQW1vdW50czogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5vcHRpb25zLmNoYXJ0LmFsaWduVGlja3MgIT09ICExICYmIG10KHRoaXMuYXhlcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmFkanVzdFRpY2tBbW91bnQoKQoJCQkJCX0pLCB0aGlzLm1heFRpY2tzID0gbnVsbAoJCQkJfSwKCQkJCXJlZHJhdzogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBvID0gdGhpcywKCQkJCQkJciA9IG8uYXhlcywKCQkJCQkJcyA9IG8uc2VyaWVzLAoJCQkJCQlsID0gby5wb2ludGVyLAoJCQkJCQljID0gby5sZWdlbmQsCgkJCQkJCWQgPSBvLmlzRGlydHlMZWdlbmQsCgkJCQkJCXAgPSBvLmhhc0NhcnRlc2lhblNlcmllcywKCQkJCQkJaCA9IG8uaXNEaXJ0eUJveCwKCQkJCQkJdSA9IHMubGVuZ3RoLAoJCQkJCQltID0gdSwKCQkJCQkJZiA9IG8ucmVuZGVyZXIsCgkJCQkJCWcgPSBmLmlzSGlkZGVuKCksCgkJCQkJCV8gPSBbXTsKCQkJCQlmb3IgKHEoZSwgbyksIGcgJiYgby5jbG9uZVJlbmRlclRvKCksIG8ubGF5T3V0VGl0bGVzKCk7IG0tLTspCgkJCQkJCWlmIChpID0gc1ttXSwgaS5vcHRpb25zLnN0YWNraW5nICYmICh0ID0gITAsIGkuaXNEaXJ0eSkpIHsKCQkJCQkJCW4gPSAhMDsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQlpZiAobikKCQkJCQkJZm9yIChtID0gdTsgbS0tOykgaSA9IHNbbV0sIGkub3B0aW9ucy5zdGFja2luZyAmJiAoaS5pc0RpcnR5ID0gITApOwoJCQkJCW10KHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5ICYmICJwb2ludCIgPT09IGUub3B0aW9ucy5sZWdlbmRUeXBlICYmIChkID0gITApCgkJCQkJfSksIGQgJiYgYy5vcHRpb25zLmVuYWJsZWQgJiYgKGMucmVuZGVyKCksIG8uaXNEaXJ0eUxlZ2VuZCA9ICExKSwgdCAmJiBvLmdldFN0YWNrcygpLCBwICYmIChvLmlzUmVzaXppbmcgfHwgKG8ubWF4VGlja3MgPSBudWxsLCBtdChyLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0U2NhbGUoKQoJCQkJCX0pKSwgby5hZGp1c3RUaWNrQW1vdW50cygpKSwgby5nZXRNYXJnaW5zKCksIHAgJiYgKG10KHIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5ICYmIChoID0gITApCgkJCQkJfSksIG10KHIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5RXh0cmVtZXMgJiYgKGUuaXNEaXJ0eUV4dHJlbWVzID0gITEsIF8ucHVzaChmdW5jdGlvbigpIHsKCQkJCQkJCXZ0KGUsICJhZnRlclNldEV4dHJlbWVzIiwgYShlLmV2ZW50QXJncywgZS5nZXRFeHRyZW1lcygpKSksIGRlbGV0ZSBlLmV2ZW50QXJncwoJCQkJCQl9KSksIChoIHx8IHQpICYmIGUucmVkcmF3KCkKCQkJCQl9KSksIGggJiYgby5kcmF3Q2hhcnRCb3goKSwgbXQocywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmlzRGlydHkgJiYgZS52aXNpYmxlICYmICghZS5pc0NhcnRlc2lhbiB8fCBlLnhBeGlzKSAmJiBlLnJlZHJhdygpCgkJCQkJfSksIGwgJiYgbC5yZXNldCghMCksIGYuZHJhdygpLCB2dChvLCAicmVkcmF3IiksIGcgJiYgby5jbG9uZVJlbmRlclRvKCEwKSwgbXQoXywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmNhbGwoKQoJCQkJCX0pCgkJCQl9LAoJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEgPSB0aGlzLAoJCQkJCQlvID0gYS5heGVzLAoJCQkJCQlyID0gYS5zZXJpZXM7CgkJCQkJZm9yICh0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0KyspCgkJCQkJCWlmIChvW3RdLm9wdGlvbnMuaWQgPT09IGUpIHJldHVybiBvW3RdOwoJCQkJCWZvciAodCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKQoJCQkJCQlpZiAoclt0XS5vcHRpb25zLmlkID09PSBlKSByZXR1cm4gclt0XTsKCQkJCQlmb3IgKHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykKCQkJCQkJZm9yIChpID0gclt0XS5wb2ludHMgfHwgW10sIG4gPSAwOyBuIDwgaS5sZW5ndGg7IG4rKykKCQkJCQkJCWlmIChpW25dLmlkID09PSBlKSByZXR1cm4gaVtuXTsKCQkJCQlyZXR1cm4gbnVsbAoJCQkJfSwKCQkJCWdldEF4ZXM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IHRoaXMub3B0aW9ucywKCQkJCQkJYSA9IGkueEF4aXMgPSBnKGkueEF4aXMgfHwge30pLAoJCQkJCQlvID0gaS55QXhpcyA9IGcoaS55QXhpcyB8fCB7fSk7CgkJCQkJbXQoYSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQllLmluZGV4ID0gdCwgZS5pc1ggPSAhMAoJCQkJCX0pLCBtdChvLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWUuaW5kZXggPSB0CgkJCQkJfSksIGUgPSBhLmNvbmNhdChvKSwgbXQoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQl0ID0gbmV3IFIobiwgZSkKCQkJCQl9KSwgbi5hZGp1c3RUaWNrQW1vdW50cygpCgkJCQl9LAoJCQkJZ2V0U2VsZWN0ZWRQb2ludHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gW107CgkJCQkJcmV0dXJuIG10KHRoaXMuc2VyaWVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCWUgPSBlLmNvbmNhdChmdCh0LnBvaW50cyB8fCBbXSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUuc2VsZWN0ZWQKCQkJCQkJfSkpCgkJCQkJfSksIGUKCQkJCX0sCgkJCQlnZXRTZWxlY3RlZFNlcmllczogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIGZ0KHRoaXMuc2VyaWVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlLnNlbGVjdGVkCgkJCQkJfSkKCQkJCX0sCgkJCQlnZXRTdGFja3M6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQltdChlLnlBeGlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc3RhY2tzICYmIGUuaGFzVmlzaWJsZVNlcmllcyAmJiAoZS5vbGRTdGFja3MgPSBlLnN0YWNrcykKCQkJCQl9KSwgbXQoZS5zZXJpZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJIXQub3B0aW9ucy5zdGFja2luZyB8fCB0LnZpc2libGUgIT09ICEwICYmIGUub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMgIT09ICExIHx8ICh0LnN0YWNrS2V5ID0gdC50eXBlICsgXyh0Lm9wdGlvbnMuc3RhY2ssICIiKSkKCQkJCQl9KQoJCQkJfSwKCQkJCXNldFRpdGxlOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIHIgPSB0aGlzLAoJCQkJCQlzID0gci5vcHRpb25zOwoJCQkJCWkgPSBzLnRpdGxlID0gbyhzLnRpdGxlLCBlKSwgYSA9IHMuc3VidGl0bGUgPSBvKHMuc3VidGl0bGUsIHQpLCBtdChbCgkJCQkJCVsidGl0bGUiLCBlLCBpXSwKCQkJCQkJWyJzdWJ0aXRsZSIsIHQsIGFdCgkJCQkJXSwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGVbMF0sCgkJCQkJCQluID0gclt0XSwKCQkJCQkJCWkgPSBlWzFdLAoJCQkJCQkJYSA9IGVbMl07CgkJCQkJCW4gJiYgaSAmJiAoclt0XSA9IG4gPSBuLmRlc3Ryb3koKSksIGEgJiYgYS50ZXh0ICYmICFuICYmIChyW3RdID0gci5yZW5kZXJlci50ZXh0KGEudGV4dCwgMCwgMCwgYS51c2VIVE1MKS5hdHRyKHsKCQkJCQkJCWFsaWduOiBhLmFsaWduLAoJCQkJCQkJImNsYXNzIjogWmUgKyB0LAoJCQkJCQkJekluZGV4OiBhLnpJbmRleCB8fCA0CgkJCQkJCX0pLmNzcyhhLnN0eWxlKS5hZGQoKSkKCQkJCQl9KSwgci5sYXlPdXRUaXRsZXMobikKCQkJCX0sCgkJCQlsYXlPdXRUaXRsZXM6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IDAsCgkJCQkJCWkgPSB0aGlzLnRpdGxlLAoJCQkJCQlvID0gdGhpcy5zdWJ0aXRsZSwKCQkJCQkJciA9IHRoaXMub3B0aW9ucywKCQkJCQkJcyA9IHIudGl0bGUsCgkJCQkJCWwgPSByLnN1YnRpdGxlLAoJCQkJCQljID0gdGhpcy5yZW5kZXJlciwKCQkJCQkJZCA9IHRoaXMuc3BhY2luZ0JveC53aWR0aCAtIDQ0OwoJCQkJCWkgJiYgKGkuY3NzKHsKCQkJCQkJd2lkdGg6IChzLndpZHRoIHx8IGQpICsgS2UKCQkJCQl9KS5hbGlnbihhKHsKCQkJCQkJeTogYy5mb250TWV0cmljcyhzLnN0eWxlLmZvbnRTaXplLCBpKS5iIC0gMwoJCQkJCX0sIHMpLCAhMSwgInNwYWNpbmdCb3giKSwgcy5mbG9hdGluZyB8fCBzLnZlcnRpY2FsQWxpZ24gfHwgKG4gPSBpLmdldEJCb3goKS5oZWlnaHQpKSwgbyAmJiAoby5jc3MoewoJCQkJCQl3aWR0aDogKGwud2lkdGggfHwgZCkgKyBLZQoJCQkJCX0pLmFsaWduKGEoewoJCQkJCQl5OiBuICsgKHMubWFyZ2luIC0gMTMpICsgYy5mb250TWV0cmljcyhzLnN0eWxlLmZvbnRTaXplLCBvKS5iCgkJCQkJfSwgbCksICExLCAic3BhY2luZ0JveCIpLCBsLmZsb2F0aW5nIHx8IGwudmVydGljYWxBbGlnbiB8fCAobiA9IHZlKG4gKyBvLmdldEJCb3goKS5oZWlnaHQpKSksIHQgPSB0aGlzLnRpdGxlT2Zmc2V0ICE9PSBuLCB0aGlzLnRpdGxlT2Zmc2V0ID0gbiwgIXRoaXMuaXNEaXJ0eUJveCAmJiB0ICYmICh0aGlzLmlzRGlydHlCb3ggPSB0LCB0aGlzLmhhc1JlbmRlcmVkICYmIF8oZSwgITApICYmIHRoaXMuaXNEaXJ0eUJveCAmJiB0aGlzLnJlZHJhdygpKQoJCQkJfSwKCQkJCWdldENoYXJ0U2l6ZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5vcHRpb25zLmNoYXJ0LAoJCQkJCQluID0gdC53aWR0aCwKCQkJCQkJaSA9IHQuaGVpZ2h0LAoJCQkJCQlhID0gZS5yZW5kZXJUb0Nsb25lIHx8IGUucmVuZGVyVG87CgkJCQkJbShuKSB8fCAoZS5jb250YWluZXJXaWR0aCA9IHB0KGEsICJ3aWR0aCIpKSwgbShpKSB8fCAoZS5jb250YWluZXJIZWlnaHQgPSBwdChhLCAiaGVpZ2h0IikpLCBlLmNoYXJ0V2lkdGggPSBiZSgwLCBuIHx8IGUuY29udGFpbmVyV2lkdGggfHwgNjAwKSwgZS5jaGFydEhlaWdodCA9IGJlKDAsIF8oaSwgZS5jb250YWluZXJIZWlnaHQgPiAxOSA/IGUuY29udGFpbmVySGVpZ2h0IDogNDAwKSkKCQkJCX0sCgkJCQljbG9uZVJlbmRlclRvOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLnJlbmRlclRvQ2xvbmUsCgkJCQkJCW4gPSB0aGlzLmNvbnRhaW5lcjsKCQkJCQllID8gdCAmJiAodGhpcy5yZW5kZXJUby5hcHBlbmRDaGlsZChuKSwgSSh0KSwgZGVsZXRlIHRoaXMucmVuZGVyVG9DbG9uZSkgOiAobiAmJiBuLnBhcmVudE5vZGUgPT09IHRoaXMucmVuZGVyVG8gJiYgdGhpcy5yZW5kZXJUby5yZW1vdmVDaGlsZChuKSwgdGhpcy5yZW5kZXJUb0Nsb25lID0gdCA9IHRoaXMucmVuZGVyVG8uY2xvbmVOb2RlKDApLCB4KHQsIHsKCQkJCQkJcG9zaXRpb246IEdlLAoJCQkJCQl0b3A6ICItOTk5OXB4IiwKCQkJCQkJZGlzcGxheTogImJsb2NrIgoJCQkJCX0pLCB0LnN0eWxlLnNldFByb3BlcnR5ICYmIHQuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCAiYmxvY2siLCAiaW1wb3J0YW50IiksIGZlLmJvZHkuYXBwZW5kQ2hpbGQodCksIG4gJiYgdC5hcHBlbmRDaGlsZChuKSkKCQkJCX0sCgkJCQlnZXRDb250YWluZXI6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBvLCBsLCBjID0gdGhpcywKCQkJCQkJZCA9IGMub3B0aW9ucy5jaGFydCwKCQkJCQkJcCA9ICJkYXRhLWhpZ2hjaGFydHMtY2hhcnQiOwoJCQkJCWMucmVuZGVyVG8gPSBpID0gZC5yZW5kZXJUbywgbCA9IFplICsgUmUrKywgcyhpKSAmJiAoYy5yZW5kZXJUbyA9IGkgPSBmZS5nZXRFbGVtZW50QnlJZChpKSksIGkgfHwgSygxMywgITApLCBvID0gcihmKGksIHApKSwgIWlzTmFOKG8pICYmICRlW29dICYmICRlW29dLmhhc1JlbmRlcmVkICYmICRlW29dLmRlc3Ryb3koKSwgZihpLCBwLCBjLmluZGV4KSwgaS5pbm5lckhUTUwgPSAiIiwgZC5za2lwQ2xvbmUgfHwgaS5vZmZzZXRXaWR0aCB8fCBjLmNsb25lUmVuZGVyVG8oKSwgYy5nZXRDaGFydFNpemUoKSwgdCA9IGMuY2hhcnRXaWR0aCwgbiA9IGMuY2hhcnRIZWlnaHQsIGMuY29udGFpbmVyID0gZSA9IHcoWWUsIHsKCQkJCQkJY2xhc3NOYW1lOiBaZSArICJjb250YWluZXIiICsgKGQuY2xhc3NOYW1lID8gIiAiICsgZC5jbGFzc05hbWUgOiAiIiksCgkJCQkJCWlkOiBsCgkJCQkJfSwgYSh7CgkJCQkJCXBvc2l0aW9uOiBYZSwKCQkJCQkJb3ZlcmZsb3c6IEplLAoJCQkJCQl3aWR0aDogdCArIEtlLAoJCQkJCQloZWlnaHQ6IG4gKyBLZSwKCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCWxpbmVIZWlnaHQ6ICJub3JtYWwiLAoJCQkJCQl6SW5kZXg6IDAsCgkJCQkJCSItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiOiAicmdiYSgwLDAsMCwwKSIKCQkJCQl9LCBkLnN0eWxlKSwgYy5yZW5kZXJUb0Nsb25lIHx8IGkpLCBjLl9jdXJzb3IgPSBlLnN0eWxlLmN1cnNvciwgYy5yZW5kZXJlciA9IGQuZm9yRXhwb3J0ID8gbmV3IFB0KGUsIHQsIG4sIGQuc3R5bGUsICEwKSA6IG5ldyBIKGUsIHQsIG4sIGQuc3R5bGUpLCBEZSAmJiBjLnJlbmRlcmVyLmNyZWF0ZShjLCBlLCB0LCBuKQoJCQkJfSwKCQkJCWdldE1hcmdpbnM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQuc3BhY2luZywKCQkJCQkJaSA9IHQubGVnZW5kLAoJCQkJCQlhID0gdC5tYXJnaW4sCgkJCQkJCW8gPSB0Lm9wdGlvbnMubGVnZW5kLAoJCQkJCQlyID0gXyhvLm1hcmdpbiwgMjApLAoJCQkJCQlzID0gby54LAoJCQkJCQlsID0gby55LAoJCQkJCQljID0gby5hbGlnbiwKCQkJCQkJZCA9IG8udmVydGljYWxBbGlnbiwKCQkJCQkJcCA9IHQudGl0bGVPZmZzZXQ7CgkJCQkJdC5yZXNldE1hcmdpbnMoKSwgZSA9IHQuYXhpc09mZnNldCwgcCAmJiAhbShhWzBdKSAmJiAodC5wbG90VG9wID0gYmUodC5wbG90VG9wLCBwICsgdC5vcHRpb25zLnRpdGxlLm1hcmdpbiArIG5bMF0pKSwgaS5kaXNwbGF5ICYmICFvLmZsb2F0aW5nICYmICgicmlnaHQiID09PSBjID8gbShhWzFdKSB8fCAodC5tYXJnaW5SaWdodCA9IGJlKHQubWFyZ2luUmlnaHQsIGkubGVnZW5kV2lkdGggLSBzICsgciArIG5bMV0pKSA6ICJsZWZ0IiA9PT0gYyA/IG0oYVszXSkgfHwgKHQucGxvdExlZnQgPSBiZSh0LnBsb3RMZWZ0LCBpLmxlZ2VuZFdpZHRoICsgcyArIHIgKyBuWzNdKSkgOiAidG9wIiA9PT0gZCA/IG0oYVswXSkgfHwgKHQucGxvdFRvcCA9IGJlKHQucGxvdFRvcCwgaS5sZWdlbmRIZWlnaHQgKyBsICsgciArIG5bMF0pKSA6ICJib3R0b20iID09PSBkICYmIChtKGFbMl0pIHx8ICh0Lm1hcmdpbkJvdHRvbSA9IGJlKHQubWFyZ2luQm90dG9tLCBpLmxlZ2VuZEhlaWdodCAtIGwgKyByICsgblsyXSkpKSksIHQuZXh0cmFCb3R0b21NYXJnaW4gJiYgKHQubWFyZ2luQm90dG9tICs9IHQuZXh0cmFCb3R0b21NYXJnaW4pLCB0LmV4dHJhVG9wTWFyZ2luICYmICh0LnBsb3RUb3AgKz0gdC5leHRyYVRvcE1hcmdpbiksIHQuaGFzQ2FydGVzaWFuU2VyaWVzICYmIG10KHQuYXhlcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmdldE9mZnNldCgpCgkJCQkJfSksIG0oYVszXSkgfHwgKHQucGxvdExlZnQgKz0gZVszXSksIG0oYVswXSkgfHwgKHQucGxvdFRvcCArPSBlWzBdKSwgbShhWzJdKSB8fCAodC5tYXJnaW5Cb3R0b20gKz0gZVsyXSksIG0oYVsxXSkgfHwgKHQubWFyZ2luUmlnaHQgKz0gZVsxXSksIHQuc2V0Q2hhcnRTaXplKCkKCQkJCX0sCgkJCQlyZWZsb3c6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSB0Lm9wdGlvbnMuY2hhcnQsCgkJCQkJCWkgPSB0LnJlbmRlclRvLAoJCQkJCQlhID0gbi53aWR0aCB8fCBwdChpLCAid2lkdGgiKSwKCQkJCQkJbyA9IG4uaGVpZ2h0IHx8IHB0KGksICJoZWlnaHQiKSwKCQkJCQkJciA9IGUgPyBlLnRhcmdldCA6IGdlLAoJCQkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJCQl0LmNvbnRhaW5lciAmJiAodC5zZXRTaXplKGEsIG8sICExKSwgdC5oYXNVc2VyU2l6ZSA9IG51bGwpCgkJCQkJCX07CgkJCQkJdC5oYXNVc2VyU2l6ZSB8fCAhYSB8fCAhbyB8fCByICE9PSBnZSAmJiByICE9PSBmZSB8fCAoKGEgIT09IHQuY29udGFpbmVyV2lkdGggfHwgbyAhPT0gdC5jb250YWluZXJIZWlnaHQpICYmIChjbGVhclRpbWVvdXQodC5yZWZsb3dUaW1lb3V0KSwgZSA/IHQucmVmbG93VGltZW91dCA9IHNldFRpbWVvdXQocywgMTAwKSA6IHMoKSksIHQuY29udGFpbmVyV2lkdGggPSBhLCB0LmNvbnRhaW5lckhlaWdodCA9IG8pCgkJCQl9LAoJCQkJaW5pdFJlZmxvdzogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZnVuY3Rpb24odCkgewoJCQkJCQkJZS5yZWZsb3codCkKCQkJCQkJfTsKCQkJCQl4dChnZSwgInJlc2l6ZSIsIHQpLCB4dChlLCAiZGVzdHJveSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl3dChnZSwgInJlc2l6ZSIsIHQpCgkJCQkJfSkKCQkJCX0sCgkJCQlzZXRTaXplOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIG8sIHIgPSB0aGlzOwoJCQkJCXIuaXNSZXNpemluZyArPSAxLCBvID0gZnVuY3Rpb24oKSB7CgkJCQkJCXIgJiYgdnQociwgImVuZFJlc2l6ZSIsIG51bGwsIGZ1bmN0aW9uKCkgewoJCQkJCQkJci5pc1Jlc2l6aW5nIC09IDEKCQkJCQkJfSkKCQkJCQl9LCBxKG4sIHIpLCByLm9sZENoYXJ0SGVpZ2h0ID0gci5jaGFydEhlaWdodCwgci5vbGRDaGFydFdpZHRoID0gci5jaGFydFdpZHRoLCBtKGUpICYmIChyLmNoYXJ0V2lkdGggPSBpID0gYmUoMCwgeGUoZSkpLCByLmhhc1VzZXJTaXplID0gISFpKSwgbSh0KSAmJiAoci5jaGFydEhlaWdodCA9IGEgPSBiZSgwLCB4ZSh0KSkpLCAoSiA/IHl0IDogeCkoci5jb250YWluZXIsIHsKCQkJCQkJd2lkdGg6IGkgKyBLZSwKCQkJCQkJaGVpZ2h0OiBhICsgS2UKCQkJCQl9LCBKKSwgci5zZXRDaGFydFNpemUoITApLCByLnJlbmRlcmVyLnNldFNpemUoaSwgYSwgbiksIHIubWF4VGlja3MgPSBudWxsLCBtdChyLmF4ZXMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5ID0gITAsIGUuc2V0U2NhbGUoKQoJCQkJCX0pLCBtdChyLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmlzRGlydHkgPSAhMAoJCQkJCX0pLCByLmlzRGlydHlMZWdlbmQgPSAhMCwgci5pc0RpcnR5Qm94ID0gITAsIHIubGF5T3V0VGl0bGVzKCksIHIuZ2V0TWFyZ2lucygpLCByLnJlZHJhdyhuKSwgci5vbGRDaGFydEhlaWdodCA9IG51bGwsIHZ0KHIsICJyZXNpemUiKSwgSiA9PT0gITEgPyBvKCkgOiBzZXRUaW1lb3V0KG8sIEogJiYgSi5kdXJhdGlvbiB8fCA1MDApCgkJCQl9LAoJCQkJc2V0Q2hhcnRTaXplOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0aGlzLAoJCQkJCQljID0gbC5pbnZlcnRlZCwKCQkJCQkJZCA9IGwucmVuZGVyZXIsCgkJCQkJCXAgPSBsLmNoYXJ0V2lkdGgsCgkJCQkJCWggPSBsLmNoYXJ0SGVpZ2h0LAoJCQkJCQl1ID0gbC5vcHRpb25zLmNoYXJ0LAoJCQkJCQltID0gbC5zcGFjaW5nLAoJCQkJCQlmID0gbC5jbGlwT2Zmc2V0OwoJCQkJCWwucGxvdExlZnQgPSBpID0geGUobC5wbG90TGVmdCksIGwucGxvdFRvcCA9IGEgPSB4ZShsLnBsb3RUb3ApLCBsLnBsb3RXaWR0aCA9IG8gPSBiZSgwLCB4ZShwIC0gaSAtIGwubWFyZ2luUmlnaHQpKSwgbC5wbG90SGVpZ2h0ID0gciA9IGJlKDAsIHhlKGggLSBhIC0gbC5tYXJnaW5Cb3R0b20pKSwgbC5wbG90U2l6ZVggPSBjID8gciA6IG8sIGwucGxvdFNpemVZID0gYyA/IG8gOiByLCBsLnBsb3RCb3JkZXJXaWR0aCA9IHUucGxvdEJvcmRlcldpZHRoIHx8IDAsIGwuc3BhY2luZ0JveCA9IGQuc3BhY2luZ0JveCA9IHsKCQkJCQkJeDogbVszXSwKCQkJCQkJeTogbVswXSwKCQkJCQkJd2lkdGg6IHAgLSBtWzNdIC0gbVsxXSwKCQkJCQkJaGVpZ2h0OiBoIC0gbVswXSAtIG1bMl0KCQkJCQl9LCBsLnBsb3RCb3ggPSBkLnBsb3RCb3ggPSB7CgkJCQkJCXg6IGksCgkJCQkJCXk6IGEsCgkJCQkJCXdpZHRoOiBvLAoJCQkJCQloZWlnaHQ6IHIKCQkJCQl9LCBzID0gMiAqIHdlKGwucGxvdEJvcmRlcldpZHRoIC8gMiksIHQgPSB2ZShiZShzLCBmWzNdKSAvIDIpLCBuID0gdmUoYmUocywgZlswXSkgLyAyKSwgbC5jbGlwQm94ID0gewoJCQkJCQl4OiB0LAoJCQkJCQl5OiBuLAoJCQkJCQl3aWR0aDogd2UobC5wbG90U2l6ZVggLSBiZShzLCBmWzFdKSAvIDIgLSB0KSwKCQkJCQkJaGVpZ2h0OiBiZSgwLCB3ZShsLnBsb3RTaXplWSAtIGJlKHMsIGZbMl0pIC8gMiAtIG4pKQoJCQkJCX0sIGUgfHwgbXQobC5heGVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0QXhpc1NpemUoKSwgZS5zZXRBeGlzVHJhbnNsYXRpb24oKQoJCQkJCX0pCgkJCQl9LAoJCQkJcmVzZXRNYXJnaW5zOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLnNwYWNpbmcsCgkJCQkJCW4gPSBlLm1hcmdpbjsKCQkJCQllLnBsb3RUb3AgPSBfKG5bMF0sIHRbMF0pLCBlLm1hcmdpblJpZ2h0ID0gXyhuWzFdLCB0WzFdKSwgZS5tYXJnaW5Cb3R0b20gPSBfKG5bMl0sIHRbMl0pLCBlLnBsb3RMZWZ0ID0gXyhuWzNdLCB0WzNdKSwgZS5heGlzT2Zmc2V0ID0gWzAsIDAsIDAsIDBdLCBlLmNsaXBPZmZzZXQgPSBbMCwgMCwgMCwgMF0KCQkJCX0sCgkJCQlkcmF3Q2hhcnRCb3g6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IG4ub3B0aW9ucy5jaGFydCwKCQkJCQkJYSA9IG4ucmVuZGVyZXIsCgkJCQkJCW8gPSBuLmNoYXJ0V2lkdGgsCgkJCQkJCXIgPSBuLmNoYXJ0SGVpZ2h0LAoJCQkJCQlzID0gbi5jaGFydEJhY2tncm91bmQsCgkJCQkJCWwgPSBuLnBsb3RCYWNrZ3JvdW5kLAoJCQkJCQljID0gbi5wbG90Qm9yZGVyLAoJCQkJCQlkID0gbi5wbG90QkdJbWFnZSwKCQkJCQkJcCA9IGkuYm9yZGVyV2lkdGggfHwgMCwKCQkJCQkJaCA9IGkuYmFja2dyb3VuZENvbG9yLAoJCQkJCQl1ID0gaS5wbG90QmFja2dyb3VuZENvbG9yLAoJCQkJCQltID0gaS5wbG90QmFja2dyb3VuZEltYWdlLAoJCQkJCQlmID0gaS5wbG90Qm9yZGVyV2lkdGggfHwgMCwKCQkJCQkJZyA9IG4ucGxvdExlZnQsCgkJCQkJCV8gPSBuLnBsb3RUb3AsCgkJCQkJCXggPSBuLnBsb3RXaWR0aCwKCQkJCQkJdyA9IG4ucGxvdEhlaWdodCwKCQkJCQkJdiA9IG4ucGxvdEJveCwKCQkJCQkJYiA9IG4uY2xpcFJlY3QsCgkJCQkJCXkgPSBuLmNsaXBCb3g7CgkJCQkJZSA9IHAgKyAoaS5zaGFkb3cgPyA4IDogMCksIChwIHx8IGgpICYmIChzID8gcy5hbmltYXRlKHMuY3Jpc3AoewoJCQkJCQl3aWR0aDogbyAtIGUsCgkJCQkJCWhlaWdodDogciAtIGUKCQkJCQl9KSkgOiAodCA9IHsKCQkJCQkJZmlsbDogaCB8fCBRZQoJCQkJCX0sIHAgJiYgKHQuc3Ryb2tlID0gaS5ib3JkZXJDb2xvciwgdFsic3Ryb2tlLXdpZHRoIl0gPSBwKSwgbi5jaGFydEJhY2tncm91bmQgPSBhLnJlY3QoZSAvIDIsIGUgLyAyLCBvIC0gZSwgciAtIGUsIGkuYm9yZGVyUmFkaXVzLCBwKS5hdHRyKHQpLmFkZENsYXNzKFplICsgImJhY2tncm91bmQiKS5hZGQoKS5zaGFkb3coaS5zaGFkb3cpKSksIHUgJiYgKGwgPyBsLmFuaW1hdGUodikgOiBuLnBsb3RCYWNrZ3JvdW5kID0gYS5yZWN0KGcsIF8sIHgsIHcsIDApLmF0dHIoewoJCQkJCQlmaWxsOiB1CgkJCQkJfSkuYWRkKCkuc2hhZG93KGkucGxvdFNoYWRvdykpLCBtICYmIChkID8gZC5hbmltYXRlKHYpIDogbi5wbG90QkdJbWFnZSA9IGEuaW1hZ2UobSwgZywgXywgeCwgdykuYWRkKCkpLCBiID8gYi5hbmltYXRlKHsKCQkJCQkJd2lkdGg6IHkud2lkdGgsCgkJCQkJCWhlaWdodDogeS5oZWlnaHQKCQkJCQl9KSA6IG4uY2xpcFJlY3QgPSBhLmNsaXBSZWN0KHkpLCBmICYmIChjID8gYy5hbmltYXRlKGMuY3Jpc3AoewoJCQkJCQl4OiBnLAoJCQkJCQl5OiBfLAoJCQkJCQl3aWR0aDogeCwKCQkJCQkJaGVpZ2h0OiB3LAoJCQkJCQlzdHJva2VXaWR0aDogLWYKCQkJCQl9KSkgOiBuLnBsb3RCb3JkZXIgPSBhLnJlY3QoZywgXywgeCwgdywgMCwgLWYpLmF0dHIoewoJCQkJCQlzdHJva2U6IGkucGxvdEJvcmRlckNvbG9yLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogZiwKCQkJCQkJZmlsbDogUWUsCgkJCQkJCXpJbmRleDogMQoJCQkJCX0pLmFkZCgpKSwgbi5pc0RpcnR5Qm94ID0gITEKCQkJCX0sCgkJCQlwcm9wRnJvbVNlcmllczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0gaS5vcHRpb25zLmNoYXJ0LAoJCQkJCQlvID0gaS5vcHRpb25zLnNlcmllczsKCQkJCQltdChbImludmVydGVkIiwgImFuZ3VsYXIiLCAicG9sYXIiXSwgZnVuY3Rpb24ocikgewoJCQkJCQlmb3IgKGUgPSBzdFthLnR5cGUgfHwgYS5kZWZhdWx0U2VyaWVzVHlwZV0sIG4gPSBpW3JdIHx8IGFbcl0gfHwgZSAmJiBlLnByb3RvdHlwZVtyXSwgdCA9IG8gJiYgby5sZW5ndGg7ICFuICYmIHQtLTspIGUgPSBzdFtvW3RdLnR5cGVdLCBlICYmIGUucHJvdG90eXBlW3JdICYmIChuID0gITApOwoJCQkJCQlpW3JdID0gbgoJCQkJCX0pCgkJCQl9LAoJCQkJbGlua1NlcmllczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5zZXJpZXM7CgkJCQkJbXQodCwgZnVuY3Rpb24oZSkgewoJCQkJCQllLmxpbmtlZFNlcmllcy5sZW5ndGggPSAwCgkJCQkJfSksIG10KHQsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIG4gPSB0Lm9wdGlvbnMubGlua2VkVG87CgkJCQkJCXMobikgJiYgKG4gPSAiOnByZXZpb3VzIiA9PT0gbiA/IGUuc2VyaWVzW3QuaW5kZXggLSAxXSA6IGUuZ2V0KG4pLCBuICYmIChuLmxpbmtlZFNlcmllcy5wdXNoKHQpLCB0LmxpbmtlZFBhcmVudCA9IG4pKQoJCQkJCX0pCgkJCQl9LAoJCQkJcmVuZGVyU2VyaWVzOiBmdW5jdGlvbigpIHsKCQkJCQltdCh0aGlzLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLnRyYW5zbGF0ZSgpLCBlLnNldFRvb2x0aXBQb2ludHMgJiYgZS5zZXRUb29sdGlwUG9pbnRzKCksIGUucmVuZGVyKCkKCQkJCQl9KQoJCQkJfSwKCQkJCXJlbmRlckxhYmVsczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5vcHRpb25zLmxhYmVsczsKCQkJCQl0Lml0ZW1zICYmIG10KHQuaXRlbXMsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJdmFyIGkgPSBhKHQuc3R5bGUsIG4uc3R5bGUpLAoJCQkJCQkJbyA9IHIoaS5sZWZ0KSArIGUucGxvdExlZnQsCgkJCQkJCQlzID0gcihpLnRvcCkgKyBlLnBsb3RUb3AgKyAxMjsKCQkJCQkJZGVsZXRlIGkubGVmdCwgZGVsZXRlIGkudG9wLCBlLnJlbmRlcmVyLnRleHQobi5odG1sLCBvLCBzKS5hdHRyKHsKCQkJCQkJCXpJbmRleDogMgoJCQkJCQl9KS5jc3MoaSkuYWRkKCkKCQkJCQl9KQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5heGVzLAoJCQkJCQluID0gZS5yZW5kZXJlciwKCQkJCQkJaSA9IGUub3B0aW9uczsKCQkJCQllLnNldFRpdGxlKCksIGUubGVnZW5kID0gbmV3IEh0KGUsIGkubGVnZW5kKSwgZS5nZXRTdGFja3MoKSwgbXQodCwgZnVuY3Rpb24oZSkgewoJCQkJCQllLnNldFNjYWxlKCkKCQkJCQl9KSwgZS5nZXRNYXJnaW5zKCksIGUubWF4VGlja3MgPSBudWxsLCBtdCh0LCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0VGlja1Bvc2l0aW9ucyghMCksIGUuc2V0TWF4VGlja3MoKQoJCQkJCX0pLCBlLmFkanVzdFRpY2tBbW91bnRzKCksIGUuZ2V0TWFyZ2lucygpLCBlLmRyYXdDaGFydEJveCgpLCBlLmhhc0NhcnRlc2lhblNlcmllcyAmJiBtdCh0LCBmdW5jdGlvbihlKSB7CgkJCQkJCWUucmVuZGVyKCkKCQkJCQl9KSwgZS5zZXJpZXNHcm91cCB8fCAoZS5zZXJpZXNHcm91cCA9IG4uZygic2VyaWVzLWdyb3VwIikuYXR0cih7CgkJCQkJCXpJbmRleDogMwoJCQkJCX0pLmFkZCgpKSwgZS5yZW5kZXJTZXJpZXMoKSwgZS5yZW5kZXJMYWJlbHMoKSwgZS5zaG93Q3JlZGl0cyhpLmNyZWRpdHMpLCBlLmhhc1JlbmRlcmVkID0gITAKCQkJCX0sCgkJCQlzaG93Q3JlZGl0czogZnVuY3Rpb24oZSkgewoJCQkJCWUuZW5hYmxlZCAmJiAhdGhpcy5jcmVkaXRzICYmICh0aGlzLmNyZWRpdHMgPSB0aGlzLnJlbmRlcmVyLnRleHQoZS50ZXh0LCAwLCAwKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJZS5ocmVmICYmIChsb2NhdGlvbi5ocmVmID0gZS5ocmVmKQoJCQkJCX0pLmF0dHIoewoJCQkJCQlhbGlnbjogZS5wb3NpdGlvbi5hbGlnbiwKCQkJCQkJekluZGV4OiA4CgkJCQkJfSkuY3NzKGUuc3R5bGUpLmFkZCgpLmFsaWduKGUucG9zaXRpb24pKQoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQuYXhlcywKCQkJCQkJaSA9IHQuc2VyaWVzLAoJCQkJCQlhID0gdC5jb250YWluZXIsCgkJCQkJCW8gPSBhICYmIGEucGFyZW50Tm9kZTsKCQkJCQlmb3IgKHZ0KHQsICJkZXN0cm95IiksICRlW3QuaW5kZXhdID0gVywgV2UtLSwgdC5yZW5kZXJUby5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtaGlnaGNoYXJ0cy1jaGFydCIpLCB3dCh0KSwgZSA9IG4ubGVuZ3RoOyBlLS07KSBuW2VdID0gbltlXS5kZXN0cm95KCk7CgkJCQkJZm9yIChlID0gaS5sZW5ndGg7IGUtLTspIGlbZV0gPSBpW2VdLmRlc3Ryb3koKTsKCQkJCQltdChbInRpdGxlIiwgInN1YnRpdGxlIiwgImNoYXJ0QmFja2dyb3VuZCIsICJwbG90QmFja2dyb3VuZCIsICJwbG90QkdJbWFnZSIsICJwbG90Qm9yZGVyIiwgInNlcmllc0dyb3VwIiwgImNsaXBSZWN0IiwgImNyZWRpdHMiLCAicG9pbnRlciIsICJzY3JvbGxlciIsICJyYW5nZVNlbGVjdG9yIiwgImxlZ2VuZCIsICJyZXNldFpvb21CdXR0b24iLCAidG9vbHRpcCIsICJyZW5kZXJlciJdLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciBuID0gdFtlXTsKCQkJCQkJbiAmJiBuLmRlc3Ryb3kgJiYgKHRbZV0gPSBuLmRlc3Ryb3koKSkKCQkJCQl9KSwgYSAmJiAoYS5pbm5lckhUTUwgPSAiIiwgd3QoYSksIG8gJiYgSShhKSk7CgkJCQkJZm9yIChlIGluIHQpIGRlbGV0ZSB0W2VdCgkJCQl9LAoJCQkJaXNSZWFkeVRvUmVuZGVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJcmV0dXJuICFPZSAmJiBnZSA9PSBnZS50b3AgJiYgImNvbXBsZXRlIiAhPT0gZmUucmVhZHlTdGF0ZSB8fCBEZSAmJiAhZ2UuY2FudmcgPyAoRGUgPyBPdC5wdXNoKGZ1bmN0aW9uKCkgewoJCQkJCQllLmZpcnN0UmVuZGVyKCkKCQkJCQl9LCBlLm9wdGlvbnMuZ2xvYmFsLmNhbnZhc1Rvb2xzVVJMKSA6IGZlLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKCQkJCQkJZmUuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGUuZmlyc3RSZW5kZXIpLCAiY29tcGxldGUiID09PSBmZS5yZWFkeVN0YXRlICYmIGUuZmlyc3RSZW5kZXIoKQoJCQkJCX0pLCAhMSkgOiAhMAoJCQkJfSwKCQkJCWZpcnN0UmVuZGVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLm9wdGlvbnMsCgkJCQkJCW4gPSBlLmNhbGxiYWNrOwoJCQkJCWUuaXNSZWFkeVRvUmVuZGVyKCkgJiYgKGUuZ2V0Q29udGFpbmVyKCksIHZ0KGUsICJpbml0IiksIGUucmVzZXRNYXJnaW5zKCksIGUuc2V0Q2hhcnRTaXplKCksIGUucHJvcEZyb21TZXJpZXMoKSwgZS5nZXRBeGVzKCksIG10KHQuc2VyaWVzIHx8IFtdLCBmdW5jdGlvbih0KSB7CgkJCQkJCWUuaW5pdFNlcmllcyh0KQoJCQkJCX0pLCBlLmxpbmtTZXJpZXMoKSwgdnQoZSwgImJlZm9yZVJlbmRlciIpLCBsdC5Qb2ludGVyICYmIChlLnBvaW50ZXIgPSBuZXcgTXQoZSwgdCkpLCBlLnJlbmRlcigpLCBlLnJlbmRlcmVyLmRyYXcoKSwgbiAmJiBuLmFwcGx5KGUsIFtlXSksIG10KGUuY2FsbGJhY2tzLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQuYXBwbHkoZSwgW2VdKQoJCQkJCX0pLCBlLmNsb25lUmVuZGVyVG8oITApLCB2dChlLCAibG9hZCIpKQoJCQkJfSwKCQkJCXNwbGFzaEFycmF5OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0W2VdLAoJCQkJCQlpID0gbChuKSA/IG4gOiBbbiwgbiwgbiwgbl07CgkJCQkJcmV0dXJuIFtfKHRbZSArICJUb3AiXSwgaVswXSksIF8odFtlICsgIlJpZ2h0Il0sIGlbMV0pLCBfKHRbZSArICJCb3R0b20iXSwgaVsyXSksIF8odFtlICsgIkxlZnQiXSwgaVszXSldCgkJCQl9CgkJCX0sIEYucHJvdG90eXBlLmNhbGxiYWNrcyA9IFtdOwoJCQl2YXIgWXQgPSBsdC5DZW50ZXJlZFNlcmllc01peGluID0gewoJCQkJCWdldENlbnRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlLCB0LCBuID0gdGhpcy5vcHRpb25zLAoJCQkJCQkJaSA9IHRoaXMuY2hhcnQsCgkJCQkJCQlhID0gMiAqIChuLnNsaWNlZE9mZnNldCB8fCAwKSwKCQkJCQkJCW8gPSBpLnBsb3RXaWR0aCAtIDIgKiBhLAoJCQkJCQkJcyA9IGkucGxvdEhlaWdodCAtIDIgKiBhLAoJCQkJCQkJbCA9IG4uY2VudGVyLAoJCQkJCQkJYyA9IFtfKGxbMF0sICI1MCUiKSwgXyhsWzFdLCAiNTAlIiksIG4uc2l6ZSB8fCAiMTAwJSIsIG4uaW5uZXJTaXplIHx8IDBdLAoJCQkJCQkJZCA9IHllKG8sIHMpOwoJCQkJCQlyZXR1cm4gX3QoYywgZnVuY3Rpb24obiwgaSkgewoJCQkJCQkJcmV0dXJuIHQgPSAvJSQvLnRlc3QobiksIGUgPSAyID4gaSB8fCAyID09PSBpICYmIHQsICh0ID8gW28sIHMsIGQsIGRdW2ldICogcihuKSAvIDEwMCA6IG4pICsgKGUgPyBhIDogMCkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LAoJCQkJR3QgPSBmdW5jdGlvbigpIHt9OwoJCQlHdC5wcm90b3R5cGUgPSB7CgkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEgPSB0aGlzOwoJCQkJCXJldHVybiBhLnNlcmllcyA9IGUsIGEuYXBwbHlPcHRpb25zKHQsIG4pLCBhLnBvaW50QXR0ciA9IHt9LCBlLm9wdGlvbnMuY29sb3JCeVBvaW50ICYmIChpID0gZS5vcHRpb25zLmNvbG9ycyB8fCBlLmNoYXJ0Lm9wdGlvbnMuY29sb3JzLCBhLmNvbG9yID0gYS5jb2xvciB8fCBpW2UuY29sb3JDb3VudGVyKytdLCBlLmNvbG9yQ291bnRlciA9PT0gaS5sZW5ndGggJiYgKGUuY29sb3JDb3VudGVyID0gMCkpLCBlLmNoYXJ0LnBvaW50Q291bnQrKywgYQoJCQkJfSwKCQkJCWFwcGx5T3B0aW9uczogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uc2VyaWVzLAoJCQkJCQlvID0gaS5vcHRpb25zLnBvaW50VmFsS2V5IHx8IGkucG9pbnRWYWxLZXk7CgkJCQkJcmV0dXJuIGUgPSBHdC5wcm90b3R5cGUub3B0aW9uc1RvT2JqZWN0LmNhbGwodGhpcywgZSksIGEobiwgZSksIG4ub3B0aW9ucyA9IG4ub3B0aW9ucyA/IGEobi5vcHRpb25zLCBlKSA6IGUsIG8gJiYgKG4ueSA9IG5bb10pLCBuLnggPT09IFcgJiYgaSAmJiAobi54ID0gdCA9PT0gVyA/IGkuYXV0b0luY3JlbWVudCgpIDogdCksIG4KCQkJCX0sCgkJCQlvcHRpb25zVG9PYmplY3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IHt9LAoJCQkJCQlpID0gdGhpcy5zZXJpZXMsCgkJCQkJCWEgPSBpLnBvaW50QXJyYXlNYXAgfHwgWyJ5Il0sCgkJCQkJCW8gPSBhLmxlbmd0aCwKCQkJCQkJciA9IDAsCgkJCQkJCXMgPSAwOwoJCQkJCWlmICgibnVtYmVyIiA9PSB0eXBlb2YgZSB8fCBudWxsID09PSBlKSBuW2FbMF1dID0gZTsKCQkJCQllbHNlIGlmIChjKGUpKQoJCQkJCQlmb3IgKGUubGVuZ3RoID4gbyAmJiAodCA9IHR5cGVvZiBlWzBdLCAic3RyaW5nIiA9PT0gdCA/IG4ubmFtZSA9IGVbMF0gOiAibnVtYmVyIiA9PT0gdCAmJiAobi54ID0gZVswXSksIHIrKyk7IG8gPiBzOykgblthW3MrK11dID0gZVtyKytdOwoJCQkJCWVsc2UgIm9iamVjdCIgPT0gdHlwZW9mIGUgJiYgKG4gPSBlLCBlLmRhdGFMYWJlbHMgJiYgKGkuX2hhc1BvaW50TGFiZWxzID0gITApLCBlLm1hcmtlciAmJiAoaS5faGFzUG9pbnRNYXJrZXJzID0gITApKTsKCQkJCQlyZXR1cm4gbgoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQuc2VyaWVzLAoJCQkJCQlpID0gbi5jaGFydCwKCQkJCQkJYSA9IGkuaG92ZXJQb2ludHM7CgkJCQkJaS5wb2ludENvdW50LS0sIGEgJiYgKHQuc2V0U3RhdGUoKSwgdShhLCB0KSwgYS5sZW5ndGggfHwgKGkuaG92ZXJQb2ludHMgPSBudWxsKSksIHQgPT09IGkuaG92ZXJQb2ludCAmJiB0Lm9uTW91c2VPdXQoKSwgKHQuZ3JhcGhpYyB8fCB0LmRhdGFMYWJlbCkgJiYgKHd0KHQpLCB0LmRlc3Ryb3lFbGVtZW50cygpKSwgdC5sZWdlbmRJdGVtICYmIGkubGVnZW5kLmRlc3Ryb3lJdGVtKHQpOwoJCQkJCWZvciAoZSBpbiB0KSB0W2VdID0gbnVsbAoJCQkJfSwKCQkJCWRlc3Ryb3lFbGVtZW50czogZnVuY3Rpb24oKSB7CgkJCQkJZm9yICh2YXIgZSwgdCA9IHRoaXMsIG4gPSBbImdyYXBoaWMiLCAiZGF0YUxhYmVsIiwgImRhdGFMYWJlbFVwcGVyIiwgImdyb3VwIiwgImNvbm5lY3RvciIsICJzaGFkb3dHcm91cCJdLCBpID0gNjsgaS0tOykgZSA9IG5baV0sIHRbZV0gJiYgKHRbZV0gPSB0W2VdLmRlc3Ryb3koKSkKCQkJCX0sCgkJCQlnZXRMYWJlbENvbmZpZzogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCXJldHVybiB7CgkJCQkJCXg6IGUuY2F0ZWdvcnksCgkJCQkJCXk6IGUueSwKCQkJCQkJa2V5OiBlLm5hbWUgfHwgZS5jYXRlZ29yeSwKCQkJCQkJc2VyaWVzOiBlLnNlcmllcywKCQkJCQkJcG9pbnQ6IGUsCgkJCQkJCXBlcmNlbnRhZ2U6IGUucGVyY2VudGFnZSwKCQkJCQkJdG90YWw6IGUudG90YWwgfHwgZS5zdGFja1RvdGFsCgkJCQkJfQoJCQkJfSwKCQkJCXRvb2x0aXBGb3JtYXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuc2VyaWVzLAoJCQkJCQluID0gdC50b29sdGlwT3B0aW9ucywKCQkJCQkJaSA9IF8obi52YWx1ZURlY2ltYWxzLCAiIiksCgkJCQkJCWEgPSBuLnZhbHVlUHJlZml4IHx8ICIiLAoJCQkJCQlvID0gbi52YWx1ZVN1ZmZpeCB8fCAiIjsKCQkJCQlyZXR1cm4gbXQodC5wb2ludEFycmF5TWFwIHx8IFsieSJdLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQgPSAie3BvaW50LiIgKyB0LCAoYSB8fCBvKSAmJiAoZSA9IGUucmVwbGFjZSh0ICsgIn0iLCBhICsgdCArICJ9IiArIG8pKSwgZSA9IGUucmVwbGFjZSh0ICsgIn0iLCB0ICsgIjosLiIgKyBpICsgImZ9IikKCQkJCQl9KSwgQihlLCB7CgkJCQkJCXBvaW50OiB0aGlzLAoJCQkJCQlzZXJpZXM6IHRoaXMuc2VyaWVzCgkJCQkJfSkKCQkJCX0sCgkJCQlmaXJlUG9pbnRFdmVudDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0gdGhpcywKCQkJCQkJYSA9IHRoaXMuc2VyaWVzLAoJCQkJCQlvID0gYS5vcHRpb25zOwoJCQkJCShvLnBvaW50LmV2ZW50c1tlXSB8fCBpLm9wdGlvbnMgJiYgaS5vcHRpb25zLmV2ZW50cyAmJiBpLm9wdGlvbnMuZXZlbnRzW2VdKSAmJiB0aGlzLmltcG9ydEV2ZW50cygpLCAiY2xpY2siID09PSBlICYmIG8uYWxsb3dQb2ludFNlbGVjdCAmJiAobiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJaS5zZWxlY3QobnVsbCwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5KQoJCQkJCX0pLCB2dCh0aGlzLCBlLCB0LCBuKQoJCQkJfQoJCQl9OwoJCQl2YXIgWHQgPSBmdW5jdGlvbigpIHt9OwoJCQlYdC5wcm90b3R5cGUgPSB7CgkJCQlpc0NhcnRlc2lhbjogITAsCgkJCQl0eXBlOiAibGluZSIsCgkJCQlwb2ludENsYXNzOiBHdCwKCQkJCXNvcnRlZDogITAsCgkJCQlyZXF1aXJlU29ydGluZzogITAsCgkJCQlwb2ludEF0dHJUb09wdGlvbnM6IHsKCQkJCQlzdHJva2U6ICJsaW5lQ29sb3IiLAoJCQkJCSJzdHJva2Utd2lkdGgiOiAibGluZVdpZHRoIiwKCQkJCQlmaWxsOiAiZmlsbENvbG9yIiwKCQkJCQlyOiAicmFkaXVzIgoJCQkJfSwKCQkJCWF4aXNUeXBlczogWyJ4QXhpcyIsICJ5QXhpcyJdLAoJCQkJY29sb3JDb3VudGVyOiAwLAoJCQkJcGFyYWxsZWxBcnJheXM6IFsieCIsICJ5Il0sCgkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gZS5zZXJpZXMsCgkJCQkJCXMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gXyhlLm9wdGlvbnMuaW5kZXgsIGUuX2kpIC0gXyh0Lm9wdGlvbnMuaW5kZXgsIHQuX2kpCgkJCQkJCX07CgkJCQkJby5jaGFydCA9IGUsIG8ub3B0aW9ucyA9IHQgPSBvLnNldE9wdGlvbnModCksIG8ubGlua2VkU2VyaWVzID0gW10sIG8uYmluZEF4ZXMoKSwgYShvLCB7CgkJCQkJCW5hbWU6IHQubmFtZSwKCQkJCQkJc3RhdGU6IGl0LAoJCQkJCQlwb2ludEF0dHI6IHt9LAoJCQkJCQl2aXNpYmxlOiB0LnZpc2libGUgIT09ICExLAoJCQkJCQlzZWxlY3RlZDogdC5zZWxlY3RlZCA9PT0gITAKCQkJCQl9KSwgRGUgJiYgKHQuYW5pbWF0aW9uID0gITEpLCBpID0gdC5ldmVudHM7CgkJCQkJZm9yIChuIGluIGkpIHh0KG8sIG4sIGlbbl0pOwoJCQkJCShpICYmIGkuY2xpY2sgfHwgdC5wb2ludCAmJiB0LnBvaW50LmV2ZW50cyAmJiB0LnBvaW50LmV2ZW50cy5jbGljayB8fCB0LmFsbG93UG9pbnRTZWxlY3QpICYmIChlLnJ1blRyYWNrZXJDbGljayA9ICEwKSwgby5nZXRDb2xvcigpLCBvLmdldFN5bWJvbCgpLCBtdChvLnBhcmFsbGVsQXJyYXlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCW9bZSArICJEYXRhIl0gPSBbXQoJCQkJCX0pLCBvLnNldERhdGEodC5kYXRhLCAhMSksIG8uaXNDYXJ0ZXNpYW4gJiYgKGUuaGFzQ2FydGVzaWFuU2VyaWVzID0gITApLCByLnB1c2gobyksIG8uX2kgPSByLmxlbmd0aCAtIDEsIFMociwgcyksIHRoaXMueUF4aXMgJiYgUyh0aGlzLnlBeGlzLnNlcmllcywgcyksIG10KHIsIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZS5pbmRleCA9IHQsIGUubmFtZSA9IGUubmFtZSB8fCAiU2VyaWVzICIgKyAodCArIDEpCgkJCQkJfSkKCQkJCX0sCgkJCQliaW5kQXhlczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQluID0gdC5vcHRpb25zLAoJCQkJCQlpID0gdC5jaGFydDsKCQkJCQltdCh0LmF4aXNUeXBlcyB8fCBbXSwgZnVuY3Rpb24oYSkgewoJCQkJCQltdChpW2FdLCBmdW5jdGlvbihpKSB7CgkJCQkJCQllID0gaS5vcHRpb25zLCAoblthXSA9PT0gZS5pbmRleCB8fCBuW2FdICE9PSBXICYmIG5bYV0gPT09IGUuaWQgfHwgblthXSA9PT0gVyAmJiAwID09PSBlLmluZGV4KSAmJiAoaS5zZXJpZXMucHVzaCh0KSwgdFthXSA9IGksIGkuaXNEaXJ0eSA9ICEwKQoJCQkJCQl9KSwgdFthXSB8fCB0Lm9wdGlvbmFsQXhpcyA9PT0gYSB8fCBLKDE4LCAhMCkKCQkJCQl9KQoJCQkJfSwKCQkJCXVwZGF0ZVBhcmFsbGVsQXJyYXlzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBlLnNlcmllcywKCQkJCQkJaSA9IGFyZ3VtZW50cywKCQkJCQkJYSA9ICJudW1iZXIiID09IHR5cGVvZiB0ID8gZnVuY3Rpb24oaSkgewoJCQkJCQkJdmFyIGEgPSAieSIgPT09IGkgJiYgbi50b1lEYXRhID8gbi50b1lEYXRhKGUpIDogZVtpXTsKCQkJCQkJCW5baSArICJEYXRhIl1bdF0gPSBhCgkJCQkJCX0gOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlBcnJheS5wcm90b3R5cGVbdF0uYXBwbHkobltlICsgIkRhdGEiXSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSwgMikpCgkJCQkJCX07CgkJCQkJbXQobi5wYXJhbGxlbEFycmF5cywgYSkKCQkJCX0sCgkJCQlhdXRvSW5jcmVtZW50OiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLm9wdGlvbnMsCgkJCQkJCW4gPSBlLnhJbmNyZW1lbnQ7CgkJCQkJcmV0dXJuIG4gPSBfKG4sIHQucG9pbnRTdGFydCwgMCksIGUucG9pbnRJbnRlcnZhbCA9IF8oZS5wb2ludEludGVydmFsLCB0LnBvaW50SW50ZXJ2YWwsIDEpLCBlLnhJbmNyZW1lbnQgPSBuICsgZS5wb2ludEludGVydmFsLCBuCgkJCQl9LAoJCQkJZ2V0U2VnbWVudHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IC0xLAoJCQkJCQlpID0gW10sCgkJCQkJCWEgPSB0LnBvaW50cywKCQkJCQkJbyA9IGEubGVuZ3RoOwoJCQkJCWlmIChvKQoJCQkJCQlpZiAodC5vcHRpb25zLmNvbm5lY3ROdWxscykgewoJCQkJCQkJZm9yIChlID0gbzsgZS0tOykgbnVsbCA9PT0gYVtlXS55ICYmIGEuc3BsaWNlKGUsIDEpOwoJCQkJCQkJYS5sZW5ndGggJiYgKGkgPSBbYV0pCgkJCQkJCX0gZWxzZSBtdChhLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQludWxsID09PSBlLnkgPyAodCA+IG4gKyAxICYmIGkucHVzaChhLnNsaWNlKG4gKyAxLCB0KSksIG4gPSB0KSA6IHQgPT09IG8gLSAxICYmIGkucHVzaChhLnNsaWNlKG4gKyAxLCB0ICsgMSkpCgkJCQkJCX0pOwoJCQkJCXQuc2VnbWVudHMgPSBpCgkJCQl9LAoJCQkJc2V0T3B0aW9uczogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuID0gdGhpcy5jaGFydCwKCQkJCQkJaSA9IG4ub3B0aW9ucywKCQkJCQkJYSA9IGkucGxvdE9wdGlvbnMsCgkJCQkJCXIgPSBuLnVzZXJPcHRpb25zIHx8IHt9LAoJCQkJCQlzID0gci5wbG90T3B0aW9ucyB8fCB7fSwKCQkJCQkJbCA9IGFbdGhpcy50eXBlXTsKCQkJCQlyZXR1cm4gdGhpcy51c2VyT3B0aW9ucyA9IGUsIHQgPSBvKGwsIGEuc2VyaWVzLCBlKSwgdGhpcy50b29sdGlwT3B0aW9ucyA9IG8oRy50b29sdGlwLCBHLnBsb3RPcHRpb25zW3RoaXMudHlwZV0udG9vbHRpcCwgci50b29sdGlwLCBzLnNlcmllcyAmJiBzLnNlcmllcy50b29sdGlwLCBzW3RoaXMudHlwZV0gJiYgc1t0aGlzLnR5cGVdLnRvb2x0aXAsIGUudG9vbHRpcCksIG51bGwgPT09IGwubWFya2VyICYmIGRlbGV0ZSB0Lm1hcmtlciwgdAoJCQkJfSwKCQkJCWdldEN5Y2xpYzogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhID0gdGhpcy51c2VyT3B0aW9ucywKCQkJCQkJbyA9ICJfIiArIGUgKyAiSW5kZXgiLAoJCQkJCQlyID0gZSArICJDb3VudGVyIjsKCQkJCQl0IHx8IChtKGFbb10pID8gaSA9IGFbb10gOiAoYVtvXSA9IGkgPSB0aGlzLmNoYXJ0W3JdICUgbi5sZW5ndGgsIHRoaXMuY2hhcnRbcl0gKz0gMSksIHQgPSBuW2ldKSwgdGhpc1tlXSA9IHQKCQkJCX0sCgkJCQlnZXRDb2xvcjogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5vcHRpb25zLmNvbG9yQnlQb2ludCB8fCB0aGlzLmdldEN5Y2xpYygiY29sb3IiLCB0aGlzLm9wdGlvbnMuY29sb3IgfHwgQnRbdGhpcy50eXBlXS5jb2xvciwgdGhpcy5jaGFydC5vcHRpb25zLmNvbG9ycykKCQkJCX0sCgkJCQlnZXRTeW1ib2w6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5vcHRpb25zLm1hcmtlcjsKCQkJCQl0aGlzLmdldEN5Y2xpYygic3ltYm9sIiwgZS5zeW1ib2wsIHRoaXMuY2hhcnQub3B0aW9ucy5zeW1ib2xzKSwgL151cmwvLnRlc3QodGhpcy5zeW1ib2wpICYmIChlLnJhZGl1cyA9IDApCgkJCQl9LAoJCQkJZHJhd0xlZ2VuZFN5bWJvbDogVXQuZHJhd0xpbmVNYXJrZXIsCgkJCQlzZXREYXRhOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJdmFyIGEsIG8sIHIsIGwgPSB0aGlzLAoJCQkJCQlwID0gbC5wb2ludHMsCgkJCQkJCWggPSBwICYmIHAubGVuZ3RoIHx8IDAsCgkJCQkJCXUgPSBsLm9wdGlvbnMsCgkJCQkJCW0gPSBsLmNoYXJ0LAoJCQkJCQlmID0gbnVsbCwKCQkJCQkJZyA9IGwueEF4aXMsCgkJCQkJCXggPSBnICYmICEhZy5jYXRlZ29yaWVzLAoJCQkJCQl3ID0gbC50b29sdGlwUG9pbnRzLAoJCQkJCQl2ID0gdS50dXJib1RocmVzaG9sZCwKCQkJCQkJYiA9IHRoaXMueERhdGEsCgkJCQkJCXkgPSB0aGlzLnlEYXRhLAoJCQkJCQlrID0gbC5wb2ludEFycmF5TWFwLAoJCQkJCQl6ID0gayAmJiBrLmxlbmd0aDsKCQkJCQlpZiAoZSA9IGUgfHwgW10sIGEgPSBlLmxlbmd0aCwgdCA9IF8odCwgITApLCBpID09PSAhMSB8fCAhYSB8fCBoICE9PSBhIHx8IGwuY3JvcHBlZCB8fCBsLmhhc0dyb3VwZWREYXRhKSB7CgkJCQkJCWlmIChsLnhJbmNyZW1lbnQgPSBudWxsLCBsLnBvaW50UmFuZ2UgPSB4ID8gMSA6IHUucG9pbnRSYW5nZSwgbC5jb2xvckNvdW50ZXIgPSAwLCBtdCh0aGlzLnBhcmFsbGVsQXJyYXlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlsW2UgKyAiRGF0YSJdLmxlbmd0aCA9IDAKCQkJCQkJfSksIHYgJiYgYSA+IHYpIHsKCQkJCQkJCWZvciAobyA9IDA7IG51bGwgPT09IGYgJiYgYSA+IG87KSBmID0gZVtvXSwgbysrOwoJCQkJCQkJaWYgKGQoZikpIHsKCQkJCQkJCQl2YXIgQiA9IF8odS5wb2ludFN0YXJ0LCAwKSwKCQkJCQkJCQkJaiA9IF8odS5wb2ludEludGVydmFsLCAxKTsKCQkJCQkJCQlmb3IgKG8gPSAwOyBhID4gbzsgbysrKSBiW29dID0gQiwgeVtvXSA9IGVbb10sIEIgKz0gajsKCQkJCQkJCQlsLnhJbmNyZW1lbnQgPSBCCgkJCQkJCQl9IGVsc2UgaWYgKGMoZikpCgkJCQkJCQkJaWYgKHopCgkJCQkJCQkJCWZvciAobyA9IDA7IGEgPiBvOyBvKyspIHIgPSBlW29dLCBiW29dID0gclswXSwgeVtvXSA9IHIuc2xpY2UoMSwgeiArIDEpOwoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJZm9yIChvID0gMDsgYSA+IG87IG8rKykgciA9IGVbb10sIGJbb10gPSByWzBdLCB5W29dID0gclsxXTsKCQkJCQkJCWVsc2UgSygxMikKCQkJCQkJfSBlbHNlCgkJCQkJCQlmb3IgKG8gPSAwOyBhID4gbzsgbysrKSBlW29dICE9PSBXICYmIChyID0gewoJCQkJCQkJCXNlcmllczogbAoJCQkJCQkJfSwgbC5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkociwgW2Vbb11dKSwgbC51cGRhdGVQYXJhbGxlbEFycmF5cyhyLCBvKSwgeCAmJiByLm5hbWUgJiYgKGcubmFtZXNbci54XSA9IHIubmFtZSkpOwoJCQkJCQlmb3IgKHMoeVswXSkgJiYgSygxNCwgITApLCBsLmRhdGEgPSBbXSwgbC5vcHRpb25zLmRhdGEgPSBlLCBvID0gaDsgby0tOykgcFtvXSAmJiBwW29dLmRlc3Ryb3kgJiYgcFtvXS5kZXN0cm95KCk7CgkJCQkJCXcgJiYgKHcubGVuZ3RoID0gMCksIGcgJiYgKGcubWluUmFuZ2UgPSBnLnVzZXJNaW5SYW5nZSksIGwuaXNEaXJ0eSA9IGwuaXNEaXJ0eURhdGEgPSBtLmlzRGlydHlCb3ggPSAhMCwgbiA9ICExCgkJCQkJfSBlbHNlIG10KGUsIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcFt0XS51cGRhdGUoZSwgITEsIG51bGwsICExKQoJCQkJCX0pOwoJCQkJCXQgJiYgbS5yZWRyYXcobikKCQkJCX0sCgkJCQlwcm9jZXNzRGF0YTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBhLCBvLCByLCBzLCBsLCBjID0gdGhpcywKCQkJCQkJZCA9IGMueERhdGEsCgkJCQkJCXAgPSBjLnlEYXRhLAoJCQkJCQloID0gZC5sZW5ndGgsCgkJCQkJCXUgPSAwLAoJCQkJCQltID0gYy54QXhpcywKCQkJCQkJZiA9IGMub3B0aW9ucywKCQkJCQkJZyA9IGYuY3JvcFRocmVzaG9sZCwKCQkJCQkJXyA9IDAsCgkJCQkJCXggPSBjLmlzQ2FydGVzaWFuOwoJCQkJCWlmICh4ICYmICFjLmlzRGlydHkgJiYgIW0uaXNEaXJ0eSAmJiAhYy55QXhpcy5pc0RpcnR5ICYmICFlKSByZXR1cm4gITE7CgkJCQkJZm9yIChtICYmIChyID0gbS5nZXRFeHRyZW1lcygpLCBzID0gci5taW4sIGwgPSByLm1heCksIHggJiYgYy5zb3J0ZWQgJiYgKCFnIHx8IGggPiBnIHx8IGMuZm9yY2VDcm9wKSAmJiAoZFtoIC0gMV0gPCBzIHx8IGRbMF0gPiBsID8gKGQgPSBbXSwgcCA9IFtdKSA6IChkWzBdIDwgcyB8fCBkW2ggLSAxXSA+IGwpICYmICh0ID0gdGhpcy5jcm9wRGF0YShjLnhEYXRhLCBjLnlEYXRhLCBzLCBsKSwgZCA9IHQueERhdGEsIHAgPSB0LnlEYXRhLCB1ID0gdC5zdGFydCwgbiA9ICEwLCBfID0gZC5sZW5ndGgpKSwgbyA9IGQubGVuZ3RoIC0gMTsgbyA+PSAwOyBvLS0pIGkgPSBkW29dIC0gZFtvIC0gMV0sICFuICYmIGRbb10gPiBzICYmIGRbb10gPCBsICYmIF8rKywgaSA+IDAgJiYgKGEgPT09IFcgfHwgYSA+IGkpID8gYSA9IGkgOiAwID4gaSAmJiBjLnJlcXVpcmVTb3J0aW5nICYmIEsoMTUpOwoJCQkJCWMuY3JvcHBlZCA9IG4sIGMuY3JvcFN0YXJ0ID0gdSwgYy5wcm9jZXNzZWRYRGF0YSA9IGQsIGMucHJvY2Vzc2VkWURhdGEgPSBwLCBjLmFjdGl2ZVBvaW50Q291bnQgPSBfLCBudWxsID09PSBmLnBvaW50UmFuZ2UgJiYgKGMucG9pbnRSYW5nZSA9IGEgfHwgMSksIGMuY2xvc2VzdFBvaW50UmFuZ2UgPSBhCgkJCQl9LAoJCQkJY3JvcERhdGE6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbyA9IGUubGVuZ3RoLAoJCQkJCQlyID0gMCwKCQkJCQkJcyA9IG8sCgkJCQkJCWwgPSBfKHRoaXMuY3JvcFNob3VsZGVyLCAxKTsKCQkJCQlmb3IgKGEgPSAwOyBvID4gYTsgYSsrKQoJCQkJCQlpZiAoZVthXSA+PSBuKSB7CgkJCQkJCQlyID0gYmUoMCwgYSAtIGwpOwoJCQkJCQkJYnJlYWsKCQkJCQkJfQoJCQkJCWZvciAoOyBvID4gYTsgYSsrKQoJCQkJCQlpZiAoZVthXSA+IGkpIHsKCQkJCQkJCXMgPSBhICsgbDsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQlyZXR1cm4gewoJCQkJCQl4RGF0YTogZS5zbGljZShyLCBzKSwKCQkJCQkJeURhdGE6IHQuc2xpY2UociwgcyksCgkJCQkJCXN0YXJ0OiByLAoJCQkJCQllbmQ6IHMKCQkJCQl9CgkJCQl9LAoJCQkJZ2VuZXJhdGVQb2ludHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhID0gdGhpcywKCQkJCQkJbyA9IGEub3B0aW9ucywKCQkJCQkJciA9IG8uZGF0YSwKCQkJCQkJcyA9IGEuZGF0YSwKCQkJCQkJbCA9IGEucHJvY2Vzc2VkWERhdGEsCgkJCQkJCWMgPSBhLnByb2Nlc3NlZFlEYXRhLAoJCQkJCQlkID0gYS5wb2ludENsYXNzLAoJCQkJCQlwID0gbC5sZW5ndGgsCgkJCQkJCWggPSBhLmNyb3BTdGFydCB8fCAwLAoJCQkJCQl1ID0gYS5oYXNHcm91cGVkRGF0YSwKCQkJCQkJbSA9IFtdOwoJCQkJCWlmICghcyAmJiAhdSkgewoJCQkJCQl2YXIgZiA9IFtdOwoJCQkJCQlmLmxlbmd0aCA9IHIubGVuZ3RoLCBzID0gYS5kYXRhID0gZgoJCQkJCX0KCQkJCQlmb3IgKGkgPSAwOyBwID4gaTsgaSsrKSB0ID0gaCArIGksIHUgPyBtW2ldID0gKG5ldyBkKS5pbml0KGEsIFtsW2ldXS5jb25jYXQoZyhjW2ldKSkpIDogKHNbdF0gPyBuID0gc1t0XSA6IHJbdF0gIT09IFcgJiYgKHNbdF0gPSBuID0gKG5ldyBkKS5pbml0KGEsIHJbdF0sIGxbaV0pKSwgbVtpXSA9IG4pLCBtW2ldLmluZGV4ID0gdDsKCQkJCQlpZiAocyAmJiAocCAhPT0gKGUgPSBzLmxlbmd0aCkgfHwgdSkpCgkJCQkJCWZvciAoaSA9IDA7IGUgPiBpOyBpKyspIGkgIT09IGggfHwgdSB8fCAoaSArPSBwKSwgc1tpXSAmJiAoc1tpXS5kZXN0cm95RWxlbWVudHMoKSwgc1tpXS5wbG90WCA9IFcpOwoJCQkJCWEuZGF0YSA9IHMsIGEucG9pbnRzID0gbQoJCQkJfSwKCQkJCWdldEV4dHJlbWVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQgPSB0aGlzLnhBeGlzLAoJCQkJCQlwID0gdGhpcy55QXhpcywKCQkJCQkJaCA9IHRoaXMucHJvY2Vzc2VkWERhdGEsCgkJCQkJCXUgPSBbXSwKCQkJCQkJbSA9IDAsCgkJCQkJCWYgPSBkLmdldEV4dHJlbWVzKCksCgkJCQkJCWcgPSBmLm1pbiwKCQkJCQkJeCA9IGYubWF4OwoJCQkJCWZvciAoZSA9IGUgfHwgdGhpcy5zdGFja2VkWURhdGEgfHwgdGhpcy5wcm9jZXNzZWRZRGF0YSwgdCA9IGUubGVuZ3RoLCBsID0gMDsgdCA+IGw7IGwrKykKCQkJCQkJaWYgKHIgPSBoW2xdLCBzID0gZVtsXSwgbiA9IG51bGwgIT09IHMgJiYgcyAhPT0gVyAmJiAoIXAuaXNMb2cgfHwgcy5sZW5ndGggfHwgcyA+IDApLCBpID0gdGhpcy5nZXRFeHRyZW1lc0Zyb21BbGwgfHwgdGhpcy5jcm9wcGVkIHx8IChoW2wgKyAxXSB8fCByKSA+PSBnICYmIChoW2wgLSAxXSB8fCByKSA8PSB4LCBuICYmIGkpCgkJCQkJCQlpZiAoYyA9IHMubGVuZ3RoKQoJCQkJCQkJCWZvciAoOyBjLS07KSBudWxsICE9PSBzW2NdICYmICh1W20rK10gPSBzW2NdKTsKCQkJCQkJCWVsc2UgdVttKytdID0gczsKCQkJCQl0aGlzLmRhdGFNaW4gPSBfKGEsIE4odSkpLCB0aGlzLmRhdGFNYXggPSBfKG8sIFQodSkpCgkJCQl9LAoJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbigpIHsKCQkJCQl0aGlzLnByb2Nlc3NlZFhEYXRhIHx8IHRoaXMucHJvY2Vzc0RhdGEoKSwgdGhpcy5nZW5lcmF0ZVBvaW50cygpOwoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQub3B0aW9ucywKCQkJCQkJaSA9IG4uc3RhY2tpbmcsCgkJCQkJCWEgPSB0LnhBeGlzLAoJCQkJCQlvID0gYS5jYXRlZ29yaWVzLAoJCQkJCQlyID0gdC55QXhpcywKCQkJCQkJcyA9IHQucG9pbnRzLAoJCQkJCQlsID0gcy5sZW5ndGgsCgkJCQkJCWMgPSAhIXQubW9kaWZ5VmFsdWUsCgkJCQkJCXAgPSBuLnBvaW50UGxhY2VtZW50LAoJCQkJCQloID0gImJldHdlZW4iID09PSBwIHx8IGQocCksCgkJCQkJCXUgPSBuLnRocmVzaG9sZDsKCQkJCQlmb3IgKGUgPSAwOyBsID4gZTsgZSsrKSB7CgkJCQkJCXZhciBmLCBnLCB4ID0gc1tlXSwKCQkJCQkJCXcgPSB4LngsCgkJCQkJCQl2ID0geC55LAoJCQkJCQkJYiA9IHgubG93LAoJCQkJCQkJeSA9IGkgJiYgci5zdGFja3NbKHQubmVnU3RhY2tzICYmIHUgPiB2ID8gIi0iIDogIiIpICsgdC5zdGFja0tleV07CgkJCQkJCXIuaXNMb2cgJiYgMCA+PSB2ICYmICh4LnkgPSB2ID0gbnVsbCwgSygxMCkpLCB4LnBsb3RYID0gYS50cmFuc2xhdGUodywgMCwgMCwgMCwgMSwgcCwgImZsYWdzIiA9PT0gdGhpcy50eXBlKSwgaSAmJiB0LnZpc2libGUgJiYgeSAmJiB5W3ddICYmIChmID0geVt3XSwgZyA9IGYucG9pbnRzW3QuaW5kZXggKyAiLCIgKyBlXSwgYiA9IGdbMF0sIHYgPSBnWzFdLCAwID09PSBiICYmIChiID0gXyh1LCByLm1pbikpLCByLmlzTG9nICYmIDAgPj0gYiAmJiAoYiA9IG51bGwpLCB4LnRvdGFsID0geC5zdGFja1RvdGFsID0gZi50b3RhbCwgeC5wZXJjZW50YWdlID0gZi50b3RhbCAmJiB4LnkgLyBmLnRvdGFsICogMTAwLCB4LnN0YWNrWSA9IHYsIGYuc2V0T2Zmc2V0KHQucG9pbnRYT2Zmc2V0IHx8IDAsIHQuYmFyVyB8fCAwKSksIHgueUJvdHRvbSA9IG0oYikgPyByLnRyYW5zbGF0ZShiLCAwLCAxLCAwLCAxKSA6IG51bGwsIGMgJiYgKHYgPSB0Lm1vZGlmeVZhbHVlKHYsIHgpKSwgeC5wbG90WSA9ICJudW1iZXIiID09IHR5cGVvZiB2ICYmIHYgIT09IDEgLyAwID8gci50cmFuc2xhdGUodiwgMCwgMSwgMCwgMSkgOiBXLCB4LmNsaWVudFggPSBoID8gYS50cmFuc2xhdGUodywgMCwgMCwgMCwgMSkgOiB4LnBsb3RYLCB4Lm5lZ2F0aXZlID0geC55IDwgKHUgfHwgMCksIHguY2F0ZWdvcnkgPSBvICYmIG9beC54XSAhPT0gVyA/IG9beC54XSA6IHgueAoJCQkJCX0KCQkJCQl0LmdldFNlZ21lbnRzKCkKCQkJCX0sCgkJCQlhbmltYXRlOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gby5jaGFydCwKCQkJCQkJcyA9IHIucmVuZGVyZXIsCgkJCQkJCWMgPSBvLm9wdGlvbnMuYW5pbWF0aW9uLAoJCQkJCQlkID0gby5jbGlwQm94IHx8IHIuY2xpcEJveCwKCQkJCQkJcCA9IHIuaW52ZXJ0ZWQ7CgkJCQkJYyAmJiAhbChjKSAmJiAoYyA9IEJ0W28udHlwZV0uYW5pbWF0aW9uKSwgaSA9IFsiX3NoYXJlZENsaXAiLCBjLmR1cmF0aW9uLCBjLmVhc2luZywgZC5oZWlnaHRdLmpvaW4oIiwiKSwgZSA/ICh0ID0gcltpXSwgbiA9IHJbaSArICJtIl0sIHQgfHwgKHJbaV0gPSB0ID0gcy5jbGlwUmVjdChhKGQsIHsKCQkJCQkJd2lkdGg6IDAKCQkJCQl9KSksIHJbaSArICJtIl0gPSBuID0gcy5jbGlwUmVjdCgtOTksIHAgPyAtci5wbG90TGVmdCA6IC1yLnBsb3RUb3AsIDk5LCBwID8gci5jaGFydFdpZHRoIDogci5jaGFydEhlaWdodCkpLCBvLmdyb3VwLmNsaXAodCksIG8ubWFya2VyR3JvdXAuY2xpcChuKSwgby5zaGFyZWRDbGlwS2V5ID0gaSkgOiAodCA9IHJbaV0sIHQgJiYgdC5hbmltYXRlKHsKCQkJCQkJd2lkdGg6IHIucGxvdFNpemVYCgkJCQkJfSwgYyksIHJbaSArICJtIl0gJiYgcltpICsgIm0iXS5hbmltYXRlKHsKCQkJCQkJd2lkdGg6IHIucGxvdFNpemVYICsgOTkKCQkJCQl9LCBjKSwgby5hbmltYXRlID0gbnVsbCkKCQkJCX0sCgkJCQlhZnRlckFuaW1hdGU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5jaGFydCwKCQkJCQkJdCA9IHRoaXMuc2hhcmVkQ2xpcEtleSwKCQkJCQkJbiA9IHRoaXMuZ3JvdXAsCgkJCQkJCWkgPSB0aGlzLmNsaXBCb3g7CgkJCQkJbiAmJiB0aGlzLm9wdGlvbnMuY2xpcCAhPT0gITEgJiYgKHQgJiYgaSB8fCBuLmNsaXAoaSA/IGUucmVuZGVyZXIuY2xpcFJlY3QoaSkgOiBlLmNsaXBSZWN0KSwgdGhpcy5tYXJrZXJHcm91cC5jbGlwKCkpLCB2dCh0aGlzLCAiYWZ0ZXJBbmltYXRlIiksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQgJiYgZVt0XSAmJiAoaSB8fCAoZVt0XSA9IGVbdF0uZGVzdHJveSgpKSwgZVt0ICsgIm0iXSAmJiAoZVt0ICsgIm0iXSA9IGVbdCArICJtIl0uZGVzdHJveSgpKSkKCQkJCQl9LCAxMDApCgkJCQl9LAoJCQkJZHJhd1BvaW50czogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUsIG0gPSB0aGlzLAoJCQkJCQlmID0gbS5wb2ludHMsCgkJCQkJCWcgPSBtLmNoYXJ0LAoJCQkJCQl4ID0gbS5vcHRpb25zLAoJCQkJCQl3ID0geC5tYXJrZXIsCgkJCQkJCXYgPSBtLnBvaW50QXR0clsiIl0sCgkJCQkJCWIgPSBtLm1hcmtlckdyb3VwLAoJCQkJCQl5ID0gXyh3LmVuYWJsZWQsICFtLnJlcXVpcmVTb3J0aW5nIHx8IG0uYWN0aXZlUG9pbnRDb3VudCA8IC41ICogbS54QXhpcy5sZW4gLyB3LnJhZGl1cyk7CgkJCQkJaWYgKHcuZW5hYmxlZCAhPT0gITEgfHwgbS5faGFzUG9pbnRNYXJrZXJzKQoJCQkJCQlmb3IgKGkgPSBmLmxlbmd0aDsgaS0tOykgbyA9IGZbaV0sIHQgPSB3ZShvLnBsb3RYKSwgbiA9IG8ucGxvdFksIGMgPSBvLmdyYXBoaWMsIGQgPSBvLm1hcmtlciB8fCB7fSwgcCA9ICEhby5tYXJrZXIsIGggPSB5ICYmIGQuZW5hYmxlZCA9PT0gVyB8fCBkLmVuYWJsZWQsIHUgPSBnLmlzSW5zaWRlUGxvdCh4ZSh0KSwgbiwgZy5pbnZlcnRlZCksIGggJiYgbiAhPT0gVyAmJiAhaXNOYU4obikgJiYgbnVsbCAhPT0gby55ID8gKGUgPSBvLnBvaW50QXR0cltvLnNlbGVjdGVkID8gb3QgOiBpdF0gfHwgdiwgciA9IGUuciwgcyA9IF8oZC5zeW1ib2wsIG0uc3ltYm9sKSwgbCA9IDAgPT09IHMuaW5kZXhPZigidXJsIiksIGMgPyBjW3UgPyAic2hvdyIgOiAiaGlkZSJdKCEwKS5hbmltYXRlKGEoewoJCQkJCQkJeDogdCAtIHIsCgkJCQkJCQl5OiBuIC0gcgoJCQkJCQl9LCBjLnN5bWJvbE5hbWUgPyB7CgkJCQkJCQl3aWR0aDogMiAqIHIsCgkJCQkJCQloZWlnaHQ6IDIgKiByCgkJCQkJCX0gOiB7fSkpIDogdSAmJiAociA+IDAgfHwgbCkgJiYgKG8uZ3JhcGhpYyA9IGMgPSBnLnJlbmRlcmVyLnN5bWJvbChzLCB0IC0gciwgbiAtIHIsIDIgKiByLCAyICogciwgcCA/IGQgOiB3KS5hdHRyKGUpLmFkZChiKSkpIDogYyAmJiAoby5ncmFwaGljID0gYy5kZXN0cm95KCkpCgkJCQl9LAoJCQkJY29udmVydEF0dHJpYnM6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbywgciA9IHRoaXMucG9pbnRBdHRyVG9PcHRpb25zLAoJCQkJCQlzID0ge307CgkJCQkJZSA9IGUgfHwge30sIHQgPSB0IHx8IHt9LCBuID0gbiB8fCB7fSwgaSA9IGkgfHwge307CgkJCQkJZm9yIChhIGluIHIpIG8gPSByW2FdLCBzW2FdID0gXyhlW29dLCB0W2FdLCBuW2FdLCBpW2FdKTsKCQkJCQlyZXR1cm4gcwoJCQkJfSwKCQkJCWdldEF0dHJpYnM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBvLCByLCBzID0gdGhpcywKCQkJCQkJbCA9IHMub3B0aW9ucywKCQkJCQkJYyA9IEJ0W3MudHlwZV0ubWFya2VyID8gbC5tYXJrZXIgOiBsLAoJCQkJCQlkID0gYy5zdGF0ZXMsCgkJCQkJCXAgPSBkW2F0XSwKCQkJCQkJaCA9IHMuY29sb3IsCgkJCQkJCXUgPSB7CgkJCQkJCQlzdHJva2U6IGgsCgkJCQkJCQlmaWxsOiBoCgkJCQkJCX0sCgkJCQkJCWYgPSBzLnBvaW50cyB8fCBbXSwKCQkJCQkJZyA9IFtdLAoJCQkJCQlfID0gcy5wb2ludEF0dHJUb09wdGlvbnMsCgkJCQkJCXggPSBzLmhhc1BvaW50U3BlY2lmaWNPcHRpb25zLAoJCQkJCQl3ID0gbC5uZWdhdGl2ZUNvbG9yLAoJCQkJCQl2ID0gYy5saW5lQ29sb3IsCgkJCQkJCWIgPSBjLmZpbGxDb2xvciwKCQkJCQkJeSA9IGwudHVyYm9UaHJlc2hvbGQ7CgkJCQkJaWYgKGwubWFya2VyID8gKHAucmFkaXVzID0gcC5yYWRpdXMgfHwgYy5yYWRpdXMgKyBwLnJhZGl1c1BsdXMsIHAubGluZVdpZHRoID0gcC5saW5lV2lkdGggfHwgYy5saW5lV2lkdGggKyBwLmxpbmVXaWR0aFBsdXMpIDogcC5jb2xvciA9IHAuY29sb3IgfHwgVHQocC5jb2xvciB8fCBoKS5icmlnaHRlbihwLmJyaWdodG5lc3MpLmdldCgpLCBnW2l0XSA9IHMuY29udmVydEF0dHJpYnMoYywgdSksIG10KFthdCwgb3RdLCBmdW5jdGlvbihlKSB7CgkJCQkJCWdbZV0gPSBzLmNvbnZlcnRBdHRyaWJzKGRbZV0sIGdbaXRdKQoJCQkJCX0pLCBzLnBvaW50QXR0ciA9IGcsIHQgPSBmLmxlbmd0aCwgIXkgfHwgeSA+IHQgfHwgeCkKCQkJCQkJZm9yICg7IHQtLTspIHsKCQkJCQkJCWlmIChuID0gZlt0XSwgYyA9IG4ub3B0aW9ucyAmJiBuLm9wdGlvbnMubWFya2VyIHx8IG4ub3B0aW9ucywgYyAmJiBjLmVuYWJsZWQgPT09ICExICYmIChjLnJhZGl1cyA9IDApLCBuLm5lZ2F0aXZlICYmIHcgJiYgKG4uY29sb3IgPSBuLmZpbGxDb2xvciA9IHcpLCB4ID0gbC5jb2xvckJ5UG9pbnQgfHwgbi5jb2xvciwgbi5vcHRpb25zKQoJCQkJCQkJCWZvciAociBpbiBfKSBtKGNbX1tyXV0pICYmICh4ID0gITApOwoJCQkJCQkJeCA/IChjID0gYyB8fCB7fSwgaSA9IFtdLCBkID0gYy5zdGF0ZXMgfHwge30sIGUgPSBkW2F0XSA9IGRbYXRdIHx8IHt9LCBsLm1hcmtlciB8fCAoZS5jb2xvciA9IGUuY29sb3IgfHwgIW4ub3B0aW9ucy5jb2xvciAmJiBwLmNvbG9yIHx8IFR0KG4uY29sb3IpLmJyaWdodGVuKGUuYnJpZ2h0bmVzcyB8fCBwLmJyaWdodG5lc3MpLmdldCgpKSwgbyA9IHsKCQkJCQkJCQljb2xvcjogbi5jb2xvcgoJCQkJCQkJfSwgYiB8fCAoby5maWxsQ29sb3IgPSBuLmNvbG9yKSwgdiB8fCAoby5saW5lQ29sb3IgPSBuLmNvbG9yKSwgaVtpdF0gPSBzLmNvbnZlcnRBdHRyaWJzKGEobywgYyksIGdbaXRdKSwgaVthdF0gPSBzLmNvbnZlcnRBdHRyaWJzKGRbYXRdLCBnW2F0XSwgaVtpdF0pLCBpW290XSA9IHMuY29udmVydEF0dHJpYnMoZFtvdF0sIGdbb3RdLCBpW2l0XSkpIDogaSA9IGcsIG4ucG9pbnRBdHRyID0gaQoJCQkJCQl9CgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8gPSB0aGlzLAoJCQkJCQlyID0gby5jaGFydCwKCQkJCQkJcyA9IC9BcHBsZVdlYktpdFwvNTMzLy50ZXN0KFNlKSwKCQkJCQkJbCA9IG8uZGF0YSB8fCBbXTsKCQkJCQlmb3IgKHZ0KG8sICJkZXN0cm95IiksIHd0KG8pLCBtdChvLmF4aXNUeXBlcyB8fCBbXSwgZnVuY3Rpb24oZSkgewoJCQkJCQlhID0gb1tlXSwgYSAmJiAodShhLnNlcmllcywgbyksIGEuaXNEaXJ0eSA9IGEuZm9yY2VSZWRyYXcgPSAhMCkKCQkJCQl9KSwgby5sZWdlbmRJdGVtICYmIG8uY2hhcnQubGVnZW5kLmRlc3Ryb3lJdGVtKG8pLCB0ID0gbC5sZW5ndGg7IHQtLTspIG4gPSBsW3RdLCBuICYmIG4uZGVzdHJveSAmJiBuLmRlc3Ryb3koKTsKCQkJCQlvLnBvaW50cyA9IG51bGwsIGNsZWFyVGltZW91dChvLmFuaW1hdGlvblRpbWVvdXQpLCBtdChbImFyZWEiLCAiZ3JhcGgiLCAiZGF0YUxhYmVsc0dyb3VwIiwgImdyb3VwIiwgIm1hcmtlckdyb3VwIiwgInRyYWNrZXIiLCAiZ3JhcGhOZWciLCAiYXJlYU5lZyIsICJwb3NDbGlwIiwgIm5lZ0NsaXAiXSwgZnVuY3Rpb24odCkgewoJCQkJCQlvW3RdICYmIChlID0gcyAmJiAiZ3JvdXAiID09PSB0ID8gImhpZGUiIDogImRlc3Ryb3kiLCBvW3RdW2VdKCkpCgkJCQkJfSksIHIuaG92ZXJTZXJpZXMgPT09IG8gJiYgKHIuaG92ZXJTZXJpZXMgPSBudWxsKSwgdShyLnNlcmllcywgbyk7CgkJCQkJZm9yIChpIGluIG8pIGRlbGV0ZSBvW2ldCgkJCQl9LAoJCQkJZ2V0U2VnbWVudFBhdGg6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSBbXSwKCQkJCQkJaSA9IHQub3B0aW9ucy5zdGVwOwoJCQkJCXJldHVybiBtdChlLCBmdW5jdGlvbihhLCBvKSB7CgkJCQkJCXZhciByLCBzID0gYS5wbG90WCwKCQkJCQkJCWwgPSBhLnBsb3RZOwoJCQkJCQl0LmdldFBvaW50U3BsaW5lID8gbi5wdXNoLmFwcGx5KG4sIHQuZ2V0UG9pbnRTcGxpbmUoZSwgYSwgbykpIDogKG4ucHVzaChvID8gdHQgOiBldCksIGkgJiYgbyAmJiAociA9IGVbbyAtIDFdLCAicmlnaHQiID09PSBpID8gbi5wdXNoKHIucGxvdFgsIGwpIDogImNlbnRlciIgPT09IGkgPyBuLnB1c2goKHIucGxvdFggKyBzKSAvIDIsIHIucGxvdFksIChyLnBsb3RYICsgcykgLyAyLCBsKSA6IG4ucHVzaChzLCByLnBsb3RZKSksIG4ucHVzaChhLnBsb3RYLCBhLnBsb3RZKSkKCQkJCQl9KSwgbgoJCQkJfSwKCQkJCWdldEdyYXBoUGF0aDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQluID0gW10sCgkJCQkJCWkgPSBbXTsKCQkJCQlyZXR1cm4gbXQodC5zZWdtZW50cywgZnVuY3Rpb24oYSkgewoJCQkJCQllID0gdC5nZXRTZWdtZW50UGF0aChhKSwgYS5sZW5ndGggPiAxID8gbiA9IG4uY29uY2F0KGUpIDogaS5wdXNoKGFbMF0pCgkJCQkJfSksIHQuc2luZ2xlUG9pbnRzID0gaSwgdC5ncmFwaFBhdGggPSBuLCBuCgkJCQl9LAoJCQkJZHJhd0dyYXBoOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSB0aGlzLm9wdGlvbnMsCgkJCQkJCW4gPSBbCgkJCQkJCQlbImdyYXBoIiwgdC5saW5lQ29sb3IgfHwgdGhpcy5jb2xvcl0KCQkJCQkJXSwKCQkJCQkJaSA9IHQubGluZVdpZHRoLAoJCQkJCQlhID0gdC5kYXNoU3R5bGUsCgkJCQkJCW8gPSAic3F1YXJlIiAhPT0gdC5saW5lY2FwLAoJCQkJCQlyID0gdGhpcy5nZXRHcmFwaFBhdGgoKSwKCQkJCQkJcyA9IHQubmVnYXRpdmVDb2xvcjsKCQkJCQlzICYmIG4ucHVzaChbImdyYXBoTmVnIiwgc10pLCBtdChuLCBmdW5jdGlvbihuLCBzKSB7CgkJCQkJCXZhciBsLCBjID0gblswXSwKCQkJCQkJCWQgPSBlW2NdOwoJCQkJCQlkID8gKGt0KGQpLCBkLmFuaW1hdGUoewoJCQkJCQkJZDogcgoJCQkJCQl9KSkgOiBpICYmIHIubGVuZ3RoICYmIChsID0gewoJCQkJCQkJc3Ryb2tlOiBuWzFdLAoJCQkJCQkJInN0cm9rZS13aWR0aCI6IGksCgkJCQkJCQlmaWxsOiBRZSwKCQkJCQkJCXpJbmRleDogMQoJCQkJCQl9LCBhID8gbC5kYXNoc3R5bGUgPSBhIDogbyAmJiAobFsic3Ryb2tlLWxpbmVjYXAiXSA9IGxbInN0cm9rZS1saW5lam9pbiJdID0gInJvdW5kIiksIGVbY10gPSBlLmNoYXJ0LnJlbmRlcmVyLnBhdGgocikuYXR0cihsKS5hZGQoZS5ncm91cCkuc2hhZG93KCFzICYmIHQuc2hhZG93KSkKCQkJCQl9KQoJCQkJfSwKCQkJCWNsaXBOZWc6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhLCBvID0gdGhpcy5vcHRpb25zLAoJCQkJCQlyID0gdGhpcy5jaGFydCwKCQkJCQkJcyA9IHIucmVuZGVyZXIsCgkJCQkJCWwgPSBvLm5lZ2F0aXZlQ29sb3IgfHwgby5uZWdhdGl2ZUZpbGxDb2xvciwKCQkJCQkJYyA9IHRoaXMuZ3JhcGgsCgkJCQkJCWQgPSB0aGlzLmFyZWEsCgkJCQkJCXAgPSB0aGlzLnBvc0NsaXAsCgkJCQkJCWggPSB0aGlzLm5lZ0NsaXAsCgkJCQkJCXUgPSByLmNoYXJ0V2lkdGgsCgkJCQkJCW0gPSByLmNoYXJ0SGVpZ2h0LAoJCQkJCQlmID0gYmUodSwgbSksCgkJCQkJCWcgPSB0aGlzLnlBeGlzOwoJCQkJCWwgJiYgKGMgfHwgZCkgJiYgKGUgPSB4ZShnLnRvUGl4ZWxzKG8udGhyZXNob2xkIHx8IDAsICEwKSksIDAgPiBlICYmIChmIC09IGUpLCBpID0gewoJCQkJCQl4OiAwLAoJCQkJCQl5OiAwLAoJCQkJCQl3aWR0aDogZiwKCQkJCQkJaGVpZ2h0OiBlCgkJCQkJfSwgYSA9IHsKCQkJCQkJeDogMCwKCQkJCQkJeTogZSwKCQkJCQkJd2lkdGg6IGYsCgkJCQkJCWhlaWdodDogZgoJCQkJCX0sIHIuaW52ZXJ0ZWQgJiYgKGkuaGVpZ2h0ID0gYS55ID0gci5wbG90V2lkdGggLSBlLCBzLmlzVk1MICYmIChpID0gewoJCQkJCQl4OiByLnBsb3RXaWR0aCAtIGUgLSByLnBsb3RMZWZ0LAoJCQkJCQl5OiAwLAoJCQkJCQl3aWR0aDogdSwKCQkJCQkJaGVpZ2h0OiBtCgkJCQkJfSwgYSA9IHsKCQkJCQkJeDogZSArIHIucGxvdExlZnQgLSB1LAoJCQkJCQl5OiAwLAoJCQkJCQl3aWR0aDogci5wbG90TGVmdCArIGUsCgkJCQkJCWhlaWdodDogdQoJCQkJCX0pKSwgZy5yZXZlcnNlZCA/ICh0ID0gYSwgbiA9IGkpIDogKHQgPSBpLCBuID0gYSksIHAgPyAocC5hbmltYXRlKHQpLCBoLmFuaW1hdGUobikpIDogKHRoaXMucG9zQ2xpcCA9IHAgPSBzLmNsaXBSZWN0KHQpLCB0aGlzLm5lZ0NsaXAgPSBoID0gcy5jbGlwUmVjdChuKSwgYyAmJiB0aGlzLmdyYXBoTmVnICYmIChjLmNsaXAocCksIHRoaXMuZ3JhcGhOZWcuY2xpcChoKSksIGQgJiYgKGQuY2xpcChwKSwgdGhpcy5hcmVhTmVnLmNsaXAoaCkpKSkKCQkJCX0sCgkJCQlpbnZlcnRHcm91cHM6IGZ1bmN0aW9uKCkgewoJCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJCXZhciBlID0gewoJCQkJCQkJd2lkdGg6IHQueUF4aXMubGVuLAoJCQkJCQkJaGVpZ2h0OiB0LnhBeGlzLmxlbgoJCQkJCQl9OwoJCQkJCQltdChbImdyb3VwIiwgIm1hcmtlckdyb3VwIl0sIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXRbbl0gJiYgdFtuXS5hdHRyKGUpLmludmVydCgpCgkJCQkJCX0pCgkJCQkJfQoJCQkJCXZhciB0ID0gdGhpcywKCQkJCQkJbiA9IHQuY2hhcnQ7CgkJCQkJdC54QXhpcyAmJiAoeHQobiwgInJlc2l6ZSIsIGUpLCB4dCh0LCAiZGVzdHJveSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl3dChuLCAicmVzaXplIiwgZSkKCQkJCQl9KSwgZSgpLCB0LmludmVydEdyb3VwcyA9IGUpCgkJCQl9LAoJCQkJcGxvdEdyb3VwOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSB0aGlzW2VdLAoJCQkJCQlyID0gIW87CgkJCQkJcmV0dXJuIHIgJiYgKHRoaXNbZV0gPSBvID0gdGhpcy5jaGFydC5yZW5kZXJlci5nKHQpLmF0dHIoewoJCQkJCQl2aXNpYmlsaXR5OiBuLAoJCQkJCQl6SW5kZXg6IGkgfHwgLjEKCQkJCQl9KS5hZGQoYSkpLCBvW3IgPyAiYXR0ciIgOiAiYW5pbWF0ZSJdKHRoaXMuZ2V0UGxvdEJveCgpKSwgbwoJCQkJfSwKCQkJCWdldFBsb3RCb3g6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5jaGFydCwKCQkJCQkJdCA9IHRoaXMueEF4aXMsCgkJCQkJCW4gPSB0aGlzLnlBeGlzOwoJCQkJCXJldHVybiBlLmludmVydGVkICYmICh0ID0gbiwgbiA9IHRoaXMueEF4aXMpLCB7CgkJCQkJCXRyYW5zbGF0ZVg6IHQgPyB0LmxlZnQgOiBlLnBsb3RMZWZ0LAoJCQkJCQl0cmFuc2xhdGVZOiBuID8gbi50b3AgOiBlLnBsb3RUb3AsCgkJCQkJCXNjYWxlWDogMSwKCQkJCQkJc2NhbGVZOiAxCgkJCQkJfQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQluID0gdC5jaGFydCwKCQkJCQkJaSA9IHQub3B0aW9ucywKCQkJCQkJYSA9IGkuYW5pbWF0aW9uLAoJCQkJCQlvID0gYSAmJiAhIXQuYW5pbWF0ZSAmJiBuLnJlbmRlcmVyLmlzU1ZHICYmIF8oYS5kdXJhdGlvbiwgNTAwKSB8fCAwLAoJCQkJCQlyID0gdC52aXNpYmxlID8gVmUgOiBKZSwKCQkJCQkJcyA9IGkuekluZGV4LAoJCQkJCQlsID0gdC5oYXNSZW5kZXJlZCwKCQkJCQkJYyA9IG4uc2VyaWVzR3JvdXA7CgkJCQkJZSA9IHQucGxvdEdyb3VwKCJncm91cCIsICJzZXJpZXMiLCByLCBzLCBjKSwgdC5tYXJrZXJHcm91cCA9IHQucGxvdEdyb3VwKCJtYXJrZXJHcm91cCIsICJtYXJrZXJzIiwgciwgcywgYyksIG8gJiYgdC5hbmltYXRlKCEwKSwgdC5nZXRBdHRyaWJzKCksIGUuaW52ZXJ0ZWQgPSB0LmlzQ2FydGVzaWFuID8gbi5pbnZlcnRlZCA6ICExLCB0LmRyYXdHcmFwaCAmJiAodC5kcmF3R3JhcGgoKSwgdC5jbGlwTmVnKCkpLCBtdCh0LnBvaW50cywgZnVuY3Rpb24oZSkgewoJCQkJCQllLnJlZHJhdyAmJiBlLnJlZHJhdygpCgkJCQkJfSksIHQuZHJhd0RhdGFMYWJlbHMgJiYgdC5kcmF3RGF0YUxhYmVscygpLCB0LnZpc2libGUgJiYgdC5kcmF3UG9pbnRzKCksIHQuZHJhd1RyYWNrZXIgJiYgdC5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmcgIT09ICExICYmIHQuZHJhd1RyYWNrZXIoKSwgbi5pbnZlcnRlZCAmJiB0LmludmVydEdyb3VwcygpLCBpLmNsaXAgPT09ICExIHx8IHQuc2hhcmVkQ2xpcEtleSB8fCBsIHx8IGUuY2xpcChuLmNsaXBSZWN0KSwgbyAmJiB0LmFuaW1hdGUoKSwgbCB8fCAobyA/IHQuYW5pbWF0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQuYWZ0ZXJBbmltYXRlKCkKCQkJCQl9LCBvKSA6IHQuYWZ0ZXJBbmltYXRlKCkpLCB0LmlzRGlydHkgPSB0LmlzRGlydHlEYXRhID0gITEsIHQuaGFzUmVuZGVyZWQgPSAhMAoJCQkJfSwKCQkJCXJlZHJhdzogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5jaGFydCwKCQkJCQkJbiA9IGUuaXNEaXJ0eURhdGEsCgkJCQkJCWkgPSBlLmdyb3VwLAoJCQkJCQlhID0gZS54QXhpcywKCQkJCQkJbyA9IGUueUF4aXM7CgkJCQkJaSAmJiAodC5pbnZlcnRlZCAmJiBpLmF0dHIoewoJCQkJCQl3aWR0aDogdC5wbG90V2lkdGgsCgkJCQkJCWhlaWdodDogdC5wbG90SGVpZ2h0CgkJCQkJfSksIGkuYW5pbWF0ZSh7CgkJCQkJCXRyYW5zbGF0ZVg6IF8oYSAmJiBhLmxlZnQsIHQucGxvdExlZnQpLAoJCQkJCQl0cmFuc2xhdGVZOiBfKG8gJiYgby50b3AsIHQucGxvdFRvcCkKCQkJCQl9KSksIGUudHJhbnNsYXRlKCksIGUuc2V0VG9vbHRpcFBvaW50cyAmJiBlLnNldFRvb2x0aXBQb2ludHMoITApLCBlLnJlbmRlcigpLCBuICYmIHZ0KGUsICJ1cGRhdGVkRGF0YSIpCgkJCQl9CgkJCX0sICQucHJvdG90eXBlID0gewoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJUCh0aGlzLCB0aGlzLmF4aXMpCgkJCQl9LAoJCQkJcmVuZGVyOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLm9wdGlvbnMsCgkJCQkJCW4gPSB0LmZvcm1hdCwKCQkJCQkJaSA9IG4gPyBCKG4sIHRoaXMpIDogdC5mb3JtYXR0ZXIuY2FsbCh0aGlzKTsKCQkJCQl0aGlzLmxhYmVsID8gdGhpcy5sYWJlbC5hdHRyKHsKCQkJCQkJdGV4dDogaSwKCQkJCQkJdmlzaWJpbGl0eTogSmUKCQkJCQl9KSA6IHRoaXMubGFiZWwgPSB0aGlzLmF4aXMuY2hhcnQucmVuZGVyZXIudGV4dChpLCBudWxsLCBudWxsLCB0LnVzZUhUTUwpLmNzcyh0LnN0eWxlKS5hdHRyKHsKCQkJCQkJYWxpZ246IHRoaXMudGV4dEFsaWduLAoJCQkJCQlyb3RhdGlvbjogdC5yb3RhdGlvbiwKCQkJCQkJdmlzaWJpbGl0eTogSmUKCQkJCQl9KS5hZGQoZSkKCQkJCX0sCgkJCQlzZXRPZmZzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmF4aXMsCgkJCQkJCW8gPSBhLmNoYXJ0LAoJCQkJCQlyID0gby5pbnZlcnRlZCwKCQkJCQkJcyA9IHRoaXMuaXNOZWdhdGl2ZSwKCQkJCQkJbCA9IGEudHJhbnNsYXRlKGEudXNlUGVyY2VudGFnZSA/IDEwMCA6IHRoaXMudG90YWwsIDAsIDAsIDAsIDEpLAoJCQkJCQljID0gYS50cmFuc2xhdGUoMCksCgkJCQkJCWQgPSBrZShsIC0gYyksCgkJCQkJCXAgPSBvLnhBeGlzWzBdLnRyYW5zbGF0ZSh0aGlzLngpICsgZSwKCQkJCQkJaCA9IG8ucGxvdEhlaWdodCwKCQkJCQkJdSA9IHsKCQkJCQkJCXg6IHIgPyBzID8gbCA6IGwgLSBkIDogcCwKCQkJCQkJCXk6IHIgPyBoIC0gcCAtIHQgOiBzID8gaCAtIGwgLSBkIDogaCAtIGwsCgkJCQkJCQl3aWR0aDogciA/IGQgOiB0LAoJCQkJCQkJaGVpZ2h0OiByID8gdCA6IGQKCQkJCQkJfSwKCQkJCQkJbSA9IHRoaXMubGFiZWw7CgkJCQkJbSAmJiAobS5hbGlnbih0aGlzLmFsaWduT3B0aW9ucywgbnVsbCwgdSksIG4gPSBtLmFsaWduQXR0ciwgbVt0aGlzLm9wdGlvbnMuY3JvcCA9PT0gITEgfHwgby5pc0luc2lkZVBsb3Qobi54LCBuLnkpID8gInNob3ciIDogImhpZGUiXSghMCkpCgkJCQl9CgkJCX0sIFIucHJvdG90eXBlLmJ1aWxkU3RhY2tzID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHRoaXMuc2VyaWVzLAoJCQkJCXQgPSBfKHRoaXMub3B0aW9ucy5yZXZlcnNlZFN0YWNrcywgITApLAoJCQkJCW4gPSBlLmxlbmd0aDsKCQkJCWlmICghdGhpcy5pc1hBeGlzKSB7CgkJCQkJZm9yICh0aGlzLnVzZVBlcmNlbnRhZ2UgPSAhMTsgbi0tOykgZVt0ID8gbiA6IGUubGVuZ3RoIC0gbiAtIDFdLnNldFN0YWNrZWRQb2ludHMoKTsKCQkJCQlpZiAodGhpcy51c2VQZXJjZW50YWdlKQoJCQkJCQlmb3IgKG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgZVtuXS5zZXRQZXJjZW50U3RhY2tzKCkKCQkJCX0KCQkJfSwgUi5wcm90b3R5cGUucmVuZGVyU3RhY2tUb3RhbHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlLCB0LCBuLCBpID0gdGhpcywKCQkJCQlhID0gaS5jaGFydCwKCQkJCQlvID0gYS5yZW5kZXJlciwKCQkJCQlyID0gaS5zdGFja3MsCgkJCQkJcyA9IGkuc3RhY2tUb3RhbEdyb3VwOwoJCQkJcyB8fCAoaS5zdGFja1RvdGFsR3JvdXAgPSBzID0gby5nKCJzdGFjay1sYWJlbHMiKS5hdHRyKHsKCQkJCQl2aXNpYmlsaXR5OiBWZSwKCQkJCQl6SW5kZXg6IDYKCQkJCX0pLmFkZCgpKSwgcy50cmFuc2xhdGUoYS5wbG90TGVmdCwgYS5wbG90VG9wKTsKCQkJCWZvciAoZSBpbiByKSB7CgkJCQkJdCA9IHJbZV07CgkJCQkJZm9yIChuIGluIHQpIHRbbl0ucmVuZGVyKHMpCgkJCQl9CgkJCX0sIFh0LnByb3RvdHlwZS5zZXRTdGFja2VkUG9pbnRzID0gZnVuY3Rpb24oKSB7CgkJCQlpZiAodGhpcy5vcHRpb25zLnN0YWNraW5nICYmICh0aGlzLnZpc2libGUgPT09ICEwIHx8IHRoaXMuY2hhcnQub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMgPT09ICExKSkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwucHJvY2Vzc2VkWERhdGEsCgkJCQkJCWQgPSBsLnByb2Nlc3NlZFlEYXRhLAoJCQkJCQlwID0gW10sCgkJCQkJCWggPSBkLmxlbmd0aCwKCQkJCQkJdSA9IGwub3B0aW9ucywKCQkJCQkJbSA9IHUudGhyZXNob2xkLAoJCQkJCQlmID0gdS5zdGFjaywKCQkJCQkJZyA9IHUuc3RhY2tpbmcsCgkJCQkJCV8gPSBsLnN0YWNrS2V5LAoJCQkJCQl4ID0gIi0iICsgXywKCQkJCQkJdyA9IGwubmVnU3RhY2tzLAoJCQkJCQl2ID0gbC55QXhpcywKCQkJCQkJYiA9IHYuc3RhY2tzLAoJCQkJCQl5ID0gdi5vbGRTdGFja3M7CgkJCQkJZm9yIChvID0gMDsgaCA+IG87IG8rKykgciA9IGNbb10sIHMgPSBkW29dLCBhID0gbC5pbmRleCArICIsIiArIG8sIGUgPSB3ICYmIG0gPiBzLCBpID0gZSA/IHggOiBfLCBiW2ldIHx8IChiW2ldID0ge30pLCBiW2ldW3JdIHx8ICh5W2ldICYmIHlbaV1bcl0gPyAoYltpXVtyXSA9IHlbaV1bcl0sIGJbaV1bcl0udG90YWwgPSBudWxsKSA6IGJbaV1bcl0gPSBuZXcgJCh2LCB2Lm9wdGlvbnMuc3RhY2tMYWJlbHMsIGUsIHIsIGYpKSwgdCA9IGJbaV1bcl0sIHQucG9pbnRzW2FdID0gW3QuY3VtIHx8IDBdLCAicGVyY2VudCIgPT09IGcgPyAobiA9IGUgPyBfIDogeCwgdyAmJiBiW25dICYmIGJbbl1bcl0gPyAobiA9IGJbbl1bcl0sIHQudG90YWwgPSBuLnRvdGFsID0gYmUobi50b3RhbCwgdC50b3RhbCkgKyBrZShzKSB8fCAwKSA6IHQudG90YWwgPSBBKHQudG90YWwgKyAoa2UocykgfHwgMCkpKSA6IHQudG90YWwgPSBBKHQudG90YWwgKyAocyB8fCAwKSksIHQuY3VtID0gKHQuY3VtIHx8IDApICsgKHMgfHwgMCksIHQucG9pbnRzW2FdLnB1c2godC5jdW0pLCBwW29dID0gdC5jdW07CgkJCQkJInBlcmNlbnQiID09PSBnICYmICh2LnVzZVBlcmNlbnRhZ2UgPSAhMCksIHRoaXMuc3RhY2tlZFlEYXRhID0gcCwgdi5vbGRTdGFja3MgPSB7fQoJCQkJfQoJCQl9LCBYdC5wcm90b3R5cGUuc2V0UGVyY2VudFN0YWNrcyA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCXQgPSBlLnN0YWNrS2V5LAoJCQkJCW4gPSBlLnlBeGlzLnN0YWNrcywKCQkJCQlpID0gZS5wcm9jZXNzZWRYRGF0YTsKCQkJCW10KFt0LCAiLSIgKyB0XSwgZnVuY3Rpb24odCkgewoJCQkJCWZvciAodmFyIGEsIG8sIHIsIHMsIGwgPSBpLmxlbmd0aDsgbC0tOykgYSA9IGlbbF0sIG8gPSBuW3RdICYmIG5bdF1bYV0sIHIgPSBvICYmIG8ucG9pbnRzW2UuaW5kZXggKyAiLCIgKyBsXSwgciAmJiAocyA9IG8udG90YWwgPyAxMDAgLyBvLnRvdGFsIDogMCwgclswXSA9IEEoclswXSAqIHMpLCByWzFdID0gQShyWzFdICogcyksIGUuc3RhY2tlZFlEYXRhW2xdID0gclsxXSkKCQkJCX0pCgkJCX0sIGEoRi5wcm90b3R5cGUsIHsKCQkJCWFkZFNlcmllczogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhID0gdGhpczsKCQkJCQlyZXR1cm4gZSAmJiAodCA9IF8odCwgITApLCB2dChhLCAiYWRkU2VyaWVzIiwgewoJCQkJCQlvcHRpb25zOiBlCgkJCQkJfSwgZnVuY3Rpb24oKSB7CgkJCQkJCWkgPSBhLmluaXRTZXJpZXMoZSksIGEuaXNEaXJ0eUxlZ2VuZCA9ICEwLCBhLmxpbmtTZXJpZXMoKSwgdCAmJiBhLnJlZHJhdyhuKQoJCQkJCX0pKSwgaQoJCQkJfSwKCQkJCWFkZEF4aXM6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgciA9IHQgPyAieEF4aXMiIDogInlBeGlzIiwKCQkJCQkJcyA9IHRoaXMub3B0aW9uczsKCQkJCQlhID0gbmV3IFIodGhpcywgbyhlLCB7CgkJCQkJCWluZGV4OiB0aGlzW3JdLmxlbmd0aCwKCQkJCQkJaXNYOiB0CgkJCQkJfSkpLCBzW3JdID0gZyhzW3JdIHx8IHt9KSwgc1tyXS5wdXNoKGUpLCBfKG4sICEwKSAmJiB0aGlzLnJlZHJhdyhpKQoJCQkJfSwKCQkJCXNob3dMb2FkaW5nOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQluID0gdC5vcHRpb25zLAoJCQkJCQlpID0gdC5sb2FkaW5nRGl2LAoJCQkJCQlvID0gbi5sb2FkaW5nLAoJCQkJCQlyID0gZnVuY3Rpb24oKSB7CgkJCQkJCQlpICYmIHgoaSwgewoJCQkJCQkJCWxlZnQ6IHQucGxvdExlZnQgKyBLZSwKCQkJCQkJCQl0b3A6IHQucGxvdFRvcCArIEtlLAoJCQkJCQkJCXdpZHRoOiB0LnBsb3RXaWR0aCArIEtlLAoJCQkJCQkJCWhlaWdodDogdC5wbG90SGVpZ2h0ICsgS2UKCQkJCQkJCX0pCgkJCQkJCX07CgkJCQkJaSB8fCAodC5sb2FkaW5nRGl2ID0gaSA9IHcoWWUsIHsKCQkJCQkJY2xhc3NOYW1lOiBaZSArICJsb2FkaW5nIgoJCQkJCX0sIGEoby5zdHlsZSwgewoJCQkJCQl6SW5kZXg6IDEwLAoJCQkJCQlkaXNwbGF5OiBRZQoJCQkJCX0pLCB0LmNvbnRhaW5lciksIHQubG9hZGluZ1NwYW4gPSB3KCJzcGFuIiwgbnVsbCwgby5sYWJlbFN0eWxlLCBpKSwgeHQodCwgInJlZHJhdyIsIHIpKSwgdC5sb2FkaW5nU3Bhbi5pbm5lckhUTUwgPSBlIHx8IG4ubGFuZy5sb2FkaW5nLCB0LmxvYWRpbmdTaG93biB8fCAoeChpLCB7CgkJCQkJCW9wYWNpdHk6IDAsCgkJCQkJCWRpc3BsYXk6ICIiCgkJCQkJfSksIHl0KGksIHsKCQkJCQkJb3BhY2l0eTogby5zdHlsZS5vcGFjaXR5CgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogby5zaG93RHVyYXRpb24gfHwgMAoJCQkJCX0pLCB0LmxvYWRpbmdTaG93biA9ICEwKSwgcigpCgkJCQl9LAoJCQkJaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5vcHRpb25zLAoJCQkJCQl0ID0gdGhpcy5sb2FkaW5nRGl2OwoJCQkJCXQgJiYgeXQodCwgewoJCQkJCQlvcGFjaXR5OiAwCgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogZS5sb2FkaW5nLmhpZGVEdXJhdGlvbiB8fCAxMDAsCgkJCQkJCWNvbXBsZXRlOiBmdW5jdGlvbigpIHsKCQkJCQkJCXgodCwgewoJCQkJCQkJCWRpc3BsYXk6IFFlCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfSksIHRoaXMubG9hZGluZ1Nob3duID0gITEKCQkJCX0KCQkJfSksIGEoR3QucHJvdG90eXBlLCB7CgkJCQl1cGRhdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQlmdW5jdGlvbiBhKCkgewoJCQkJCQlyLmFwcGx5T3B0aW9ucyhlKSwgbChlKSAmJiAhYyhlKSAmJiAoci5yZWRyYXcgPSBmdW5jdGlvbigpIHsKCQkJCQkJCWQgJiYgKGUgJiYgZS5tYXJrZXIgJiYgZS5tYXJrZXIuc3ltYm9sID8gci5ncmFwaGljID0gZC5kZXN0cm95KCkgOiBkLmF0dHIoci5wb2ludEF0dHJbci5zdGF0ZSB8fCAiIl0pKSwgZSAmJiBlLmRhdGFMYWJlbHMgJiYgci5kYXRhTGFiZWwgJiYgKHIuZGF0YUxhYmVsID0gci5kYXRhTGFiZWwuZGVzdHJveSgpKSwgci5yZWRyYXcgPSBudWxsCgkJCQkJCX0pLCBvID0gci5pbmRleCwgcy51cGRhdGVQYXJhbGxlbEFycmF5cyhyLCBvKSwgaC5kYXRhW29dID0gci5vcHRpb25zLCBzLmlzRGlydHkgPSBzLmlzRGlydHlEYXRhID0gITAsICFzLmZpeGVkQm94ICYmIHMuaGFzQ2FydGVzaWFuU2VyaWVzICYmIChwLmlzRGlydHlCb3ggPSAhMCksICJwb2ludCIgPT09IGgubGVnZW5kVHlwZSAmJiBwLmxlZ2VuZC5kZXN0cm95SXRlbShyKSwgdCAmJiBwLnJlZHJhdyhuKQoJCQkJCX0KCQkJCQl2YXIgbywgciA9IHRoaXMsCgkJCQkJCXMgPSByLnNlcmllcywKCQkJCQkJZCA9IHIuZ3JhcGhpYywKCQkJCQkJcCA9IHMuY2hhcnQsCgkJCQkJCWggPSBzLm9wdGlvbnM7CgkJCQkJdCA9IF8odCwgITApLCBpID09PSAhMSA/IGEoKSA6IHIuZmlyZVBvaW50RXZlbnQoInVwZGF0ZSIsIHsKCQkJCQkJb3B0aW9uczogZQoJCQkJCX0sIGEpCgkJCQl9LAoJCQkJcmVtb3ZlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0gaS5zZXJpZXMsCgkJCQkJCW8gPSBhLnBvaW50cywKCQkJCQkJciA9IGEuY2hhcnQsCgkJCQkJCXMgPSBhLmRhdGE7CgkJCQkJcSh0LCByKSwgZSA9IF8oZSwgITApLCBpLmZpcmVQb2ludEV2ZW50KCJyZW1vdmUiLCBudWxsLCBmdW5jdGlvbigpIHsKCQkJCQkJbiA9IHV0KGksIHMpLCBzLmxlbmd0aCA9PT0gby5sZW5ndGggJiYgby5zcGxpY2UobiwgMSksIHMuc3BsaWNlKG4sIDEpLCBhLm9wdGlvbnMuZGF0YS5zcGxpY2UobiwgMSksIGEudXBkYXRlUGFyYWxsZWxBcnJheXMoaSwgInNwbGljZSIsIG4sIDEpLCBpLmRlc3Ryb3koKSwgYS5pc0RpcnR5ID0gITAsIGEuaXNEaXJ0eURhdGEgPSAhMCwgZSAmJiByLnJlZHJhdygpCgkJCQkJfSkKCQkJCX0KCQkJfSksIGEoWHQucHJvdG90eXBlLCB7CgkJCQlhZGRQb2ludDogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwub3B0aW9ucywKCQkJCQkJZCA9IGwuZGF0YSwKCQkJCQkJcCA9IGwuZ3JhcGgsCgkJCQkJCWggPSBsLmFyZWEsCgkJCQkJCXUgPSBsLmNoYXJ0LAoJCQkJCQltID0gbC54QXhpcyAmJiBsLnhBeGlzLm5hbWVzLAoJCQkJCQlmID0gcCAmJiBwLnNoaWZ0IHx8IDAsCgkJCQkJCWcgPSBjLmRhdGEsCgkJCQkJCXggPSBsLnhEYXRhOwoJCQkJCWlmIChxKGksIHUpLCBuICYmIG10KFtwLCBoLCBsLmdyYXBoTmVnLCBsLmFyZWFOZWddLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUgJiYgKGUuc2hpZnQgPSBmICsgMSkKCQkJCQl9KSwgaCAmJiAoaC5pc0FyZWEgPSAhMCksIHQgPSBfKHQsICEwKSwgYSA9IHsKCQkJCQkJc2VyaWVzOiBsCgkJCQkJfSwgbC5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkoYSwgW2VdKSwgciA9IGEueCwgcyA9IHgubGVuZ3RoLCBsLnJlcXVpcmVTb3J0aW5nICYmIHIgPCB4W3MgLSAxXSkKCQkJCQkJZm9yIChvID0gITA7IHMgJiYgeFtzIC0gMV0gPiByOykgcy0tOwoJCQkJCWwudXBkYXRlUGFyYWxsZWxBcnJheXMoYSwgInNwbGljZSIsIHMsIDAsIDApLCBsLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGEsIHMpLCBtICYmIGEubmFtZSAmJiAobVtyXSA9IGEubmFtZSksIGcuc3BsaWNlKHMsIDAsIGUpLCBvICYmIChsLmRhdGEuc3BsaWNlKHMsIDAsIG51bGwpLCBsLnByb2Nlc3NEYXRhKCkpLCAicG9pbnQiID09PSBjLmxlZ2VuZFR5cGUgJiYgbC5nZW5lcmF0ZVBvaW50cygpLCBuICYmIChkWzBdICYmIGRbMF0ucmVtb3ZlID8gZFswXS5yZW1vdmUoITEpIDogKGQuc2hpZnQoKSwgbC51cGRhdGVQYXJhbGxlbEFycmF5cyhhLCAic2hpZnQiKSwgZy5zaGlmdCgpKSksIGwuaXNEaXJ0eSA9ICEwLCBsLmlzRGlydHlEYXRhID0gITAsIHQgJiYgKGwuZ2V0QXR0cmlicygpLCB1LnJlZHJhdygpKQoJCQkJfSwKCQkJCXJlbW92ZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uY2hhcnQ7CgkJCQkJZSA9IF8oZSwgITApLCBuLmlzUmVtb3ZpbmcgfHwgKG4uaXNSZW1vdmluZyA9ICEwLCB2dChuLCAicmVtb3ZlIiwgbnVsbCwgZnVuY3Rpb24oKSB7CgkJCQkJCW4uZGVzdHJveSgpLCBpLmlzRGlydHlMZWdlbmQgPSBpLmlzRGlydHlCb3ggPSAhMCwgaS5saW5rU2VyaWVzKCksIGUgJiYgaS5yZWRyYXcodCkKCQkJCQl9KSksIG4uaXNSZW1vdmluZyA9ICExCgkJCQl9LAoJCQkJdXBkYXRlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQlyID0gdGhpcy5jaGFydCwKCQkJCQkJcyA9IHRoaXMudXNlck9wdGlvbnMsCgkJCQkJCWwgPSB0aGlzLnR5cGUsCgkJCQkJCWMgPSBzdFtsXS5wcm90b3R5cGUsCgkJCQkJCWQgPSBbImdyb3VwIiwgIm1hcmtlckdyb3VwIiwgImRhdGFMYWJlbHNHcm91cCJdOwoJCQkJCW10KGQsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZFtlXSA9IGlbZV0sIGRlbGV0ZSBpW2VdCgkJCQkJfSksIGUgPSBvKHMsIHsKCQkJCQkJYW5pbWF0aW9uOiAhMSwKCQkJCQkJaW5kZXg6IHRoaXMuaW5kZXgsCgkJCQkJCXBvaW50U3RhcnQ6IHRoaXMueERhdGFbMF0KCQkJCQl9LCB7CgkJCQkJCWRhdGE6IHRoaXMub3B0aW9ucy5kYXRhCgkJCQkJfSwgZSksIHRoaXMucmVtb3ZlKCExKTsKCQkJCQlmb3IgKG4gaW4gYykgYy5oYXNPd25Qcm9wZXJ0eShuKSAmJiAodGhpc1tuXSA9IFcpOwoJCQkJCWEodGhpcywgc3RbZS50eXBlIHx8IGxdLnByb3RvdHlwZSksIG10KGQsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaVtlXSA9IGRbZV0KCQkJCQl9KSwgdGhpcy5pbml0KHIsIGUpLCByLmxpbmtTZXJpZXMoKSwgXyh0LCAhMCkgJiYgci5yZWRyYXcoITEpCgkJCQl9CgkJCX0pLCBhKFIucHJvdG90eXBlLCB7CgkJCQl1cGRhdGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHRoaXMuY2hhcnQ7CgkJCQkJZSA9IG4ub3B0aW9uc1t0aGlzLmNvbGxdW3RoaXMub3B0aW9ucy5pbmRleF0gPSBvKHRoaXMudXNlck9wdGlvbnMsIGUpLCB0aGlzLmRlc3Ryb3koITApLCB0aGlzLl9hZGRlZFBsb3RMQiA9IFcsIHRoaXMuaW5pdChuLCBhKGUsIHsKCQkJCQkJZXZlbnRzOiBXCgkJCQkJfSkpLCBuLmlzRGlydHlCb3ggPSAhMCwgXyh0LCAhMCkgJiYgbi5yZWRyYXcoKQoJCQkJfSwKCQkJCXJlbW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSB0aGlzLmNoYXJ0LCBuID0gdGhpcy5jb2xsLCBpID0gdGhpcy5zZXJpZXMsIGEgPSBpLmxlbmd0aDsgYS0tOykgaVthXSAmJiBpW2FdLnJlbW92ZSghMSk7CgkJCQkJdSh0LmF4ZXMsIHRoaXMpLCB1KHRbbl0sIHRoaXMpLCB0Lm9wdGlvbnNbbl0uc3BsaWNlKHRoaXMub3B0aW9ucy5pbmRleCwgMSksIG10KHRbbl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZS5vcHRpb25zLmluZGV4ID0gdAoJCQkJCX0pLCB0aGlzLmRlc3Ryb3koKSwgdC5pc0RpcnR5Qm94ID0gITAsIF8oZSwgITApICYmIHQucmVkcmF3KCkKCQkJCX0sCgkJCQlzZXRUaXRsZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXRoaXMudXBkYXRlKHsKCQkJCQkJdGl0bGU6IGUKCQkJCQl9LCB0KQoJCQkJfSwKCQkJCXNldENhdGVnb3JpZXM6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl0aGlzLnVwZGF0ZSh7CgkJCQkJCWNhdGVnb3JpZXM6IGUKCQkJCQl9LCB0KQoJCQkJfQoJCQl9KTsKCQkJdmFyIEp0ID0gdihYdCk7CgkJCXN0LmxpbmUgPSBKdCwgQnQuYXJlYSA9IG8oanQsIHsKCQkJCXRocmVzaG9sZDogMAoJCQl9KTsKCQkJdmFyIFp0ID0gdihYdCwgewoJCQkJdHlwZTogImFyZWEiLAoJCQkJZ2V0U2VnbWVudHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhID0gdGhpcywKCQkJCQkJbyA9IFtdLAoJCQkJCQlyID0gW10sCgkJCQkJCXMgPSBbXSwKCQkJCQkJbCA9IHRoaXMueEF4aXMsCgkJCQkJCWMgPSB0aGlzLnlBeGlzLAoJCQkJCQlkID0gYy5zdGFja3NbdGhpcy5zdGFja0tleV0sCgkJCQkJCXAgPSB7fSwKCQkJCQkJaCA9IHRoaXMucG9pbnRzLAoJCQkJCQl1ID0gdGhpcy5vcHRpb25zLmNvbm5lY3ROdWxsczsKCQkJCQlpZiAodGhpcy5vcHRpb25zLnN0YWNraW5nICYmICF0aGlzLmNyb3BwZWQpIHsKCQkJCQkJZm9yIChuID0gMDsgbiA8IGgubGVuZ3RoOyBuKyspIHBbaFtuXS54XSA9IGhbbl07CgkJCQkJCWZvciAoaSBpbiBkKSBudWxsICE9PSBkW2ldLnRvdGFsICYmIHMucHVzaCgraSk7CgkJCQkJCXMuc29ydChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gZSAtIHQKCQkJCQkJfSksIG10KHMsIGZ1bmN0aW9uKGkpIHsKCQkJCQkJCXZhciBvLCBzID0gMDsKCQkJCQkJCWlmICghdSB8fCBwW2ldICYmIG51bGwgIT09IHBbaV0ueSkKCQkJCQkJCQlpZiAocFtpXSkgci5wdXNoKHBbaV0pOwoJCQkJCQkJCWVsc2UgewoJCQkJCQkJCQlmb3IgKG4gPSBhLmluZGV4OyBuIDw9IGMuc2VyaWVzLmxlbmd0aDsgbisrKQoJCQkJCQkJCQkJaWYgKG8gPSBkW2ldLnBvaW50c1tuICsgIiwiICsgaV0pIHsKCQkJCQkJCQkJCQlzID0gb1sxXTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQllID0gbC50cmFuc2xhdGUoaSksIHQgPSBjLnRvUGl4ZWxzKHMsICEwKSwgci5wdXNoKHsKCQkJCQkJCQkJCXk6IG51bGwsCgkJCQkJCQkJCQlwbG90WDogZSwKCQkJCQkJCQkJCWNsaWVudFg6IGUsCgkJCQkJCQkJCQlwbG90WTogdCwKCQkJCQkJCQkJCXlCb3R0b206IHQsCgkJCQkJCQkJCQlvbk1vdXNlT3ZlcjogRmUKCQkJCQkJCQkJfSkKCQkJCQkJCQl9CgkJCQkJCX0pLCByLmxlbmd0aCAmJiBvLnB1c2gocikKCQkJCQl9IGVsc2UgWHQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksIG8gPSB0aGlzLnNlZ21lbnRzOwoJCQkJCXRoaXMuc2VnbWVudHMgPSBvCgkJCQl9LAoJCQkJZ2V0U2VnbWVudFBhdGg6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSA9IFh0LnByb3RvdHlwZS5nZXRTZWdtZW50UGF0aC5jYWxsKHRoaXMsIGUpLAoJCQkJCQlhID0gW10uY29uY2F0KGkpLAoJCQkJCQlvID0gdGhpcy5vcHRpb25zLAoJCQkJCQlyID0gaS5sZW5ndGgsCgkJCQkJCXMgPSB0aGlzLnlBeGlzLmdldFRocmVzaG9sZChvLnRocmVzaG9sZCk7CgkJCQkJaWYgKDMgPT09IHIgJiYgYS5wdXNoKHR0LCBpWzFdLCBpWzJdKSwgby5zdGFja2luZyAmJiAhdGhpcy5jbG9zZWRTdGFja3MpCgkJCQkJCWZvciAodCA9IGUubGVuZ3RoIC0gMTsgdCA+PSAwOyB0LS0pIG4gPSBfKGVbdF0ueUJvdHRvbSwgcyksIHQgPCBlLmxlbmd0aCAtIDEgJiYgby5zdGVwICYmIGEucHVzaChlW3QgKyAxXS5wbG90WCwgbiksIGEucHVzaChlW3RdLnBsb3RYLCBuKTsKCQkJCQllbHNlIHRoaXMuY2xvc2VTZWdtZW50KGEsIGUsIHMpOwoJCQkJCXJldHVybiB0aGlzLmFyZWFQYXRoID0gdGhpcy5hcmVhUGF0aC5jb25jYXQoYSksIGkKCQkJCX0sCgkJCQljbG9zZVNlZ21lbnQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQllLnB1c2godHQsIHRbdC5sZW5ndGggLSAxXS5wbG90WCwgbiwgdHQsIHRbMF0ucGxvdFgsIG4pCgkJCQl9LAoJCQkJZHJhd0dyYXBoOiBmdW5jdGlvbigpIHsKCQkJCQl0aGlzLmFyZWFQYXRoID0gW10sIFh0LnByb3RvdHlwZS5kcmF3R3JhcGguYXBwbHkodGhpcyk7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gdGhpcy5hcmVhUGF0aCwKCQkJCQkJbiA9IHRoaXMub3B0aW9ucywKCQkJCQkJaSA9IG4ubmVnYXRpdmVDb2xvciwKCQkJCQkJYSA9IG4ubmVnYXRpdmVGaWxsQ29sb3IsCgkJCQkJCW8gPSBbCgkJCQkJCQlbImFyZWEiLCB0aGlzLmNvbG9yLCBuLmZpbGxDb2xvcl0KCQkJCQkJXTsKCQkJCQkoaSB8fCBhKSAmJiBvLnB1c2goWyJhcmVhTmVnIiwgaSwgYV0pLCBtdChvLCBmdW5jdGlvbihpKSB7CgkJCQkJCXZhciBhID0gaVswXSwKCQkJCQkJCW8gPSBlW2FdOwoJCQkJCQlvID8gby5hbmltYXRlKHsKCQkJCQkJCWQ6IHQKCQkJCQkJfSkgOiBlW2FdID0gZS5jaGFydC5yZW5kZXJlci5wYXRoKHQpLmF0dHIoewoJCQkJCQkJZmlsbDogXyhpWzJdLCBUdChpWzFdKS5zZXRPcGFjaXR5KF8obi5maWxsT3BhY2l0eSwgLjc1KSkuZ2V0KCkpLAoJCQkJCQkJekluZGV4OiAwCgkJCQkJCX0pLmFkZChlLmdyb3VwKQoJCQkJCX0pCgkJCQl9LAoJCQkJZHJhd0xlZ2VuZFN5bWJvbDogVXQuZHJhd1JlY3RhbmdsZQoJCQl9KTsKCQkJc3QuYXJlYSA9IFp0LCBCdC5zcGxpbmUgPSBvKGp0KTsKCQkJdmFyIFZ0ID0gdihYdCwgewoJCQkJdHlwZTogInNwbGluZSIsCgkJCQlnZXRQb2ludFNwbGluZTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBzLCBsID0gMS41LAoJCQkJCQljID0gbCArIDEsCgkJCQkJCWQgPSB0LnBsb3RYLAoJCQkJCQlwID0gdC5wbG90WSwKCQkJCQkJaCA9IGVbbiAtIDFdLAoJCQkJCQl1ID0gZVtuICsgMV07CgkJCQkJaWYgKGggJiYgdSkgewoJCQkJCQl2YXIgbSwgZiA9IGgucGxvdFgsCgkJCQkJCQlnID0gaC5wbG90WSwKCQkJCQkJCV8gPSB1LnBsb3RYLAoJCQkJCQkJeCA9IHUucGxvdFk7CgkJCQkJCWkgPSAobCAqIGQgKyBmKSAvIGMsIGEgPSAobCAqIHAgKyBnKSAvIGMsIG8gPSAobCAqIGQgKyBfKSAvIGMsIHIgPSAobCAqIHAgKyB4KSAvIGMsIG0gPSAociAtIGEpICogKG8gLSBkKSAvIChvIC0gaSkgKyBwIC0gciwgYSArPSBtLCByICs9IG0sIGEgPiBnICYmIGEgPiBwID8gKGEgPSBiZShnLCBwKSwgciA9IDIgKiBwIC0gYSkgOiBnID4gYSAmJiBwID4gYSAmJiAoYSA9IHllKGcsIHApLCByID0gMiAqIHAgLSBhKSwgciA+IHggJiYgciA+IHAgPyAociA9IGJlKHgsIHApLCBhID0gMiAqIHAgLSByKSA6IHggPiByICYmIHAgPiByICYmIChyID0geWUoeCwgcCksIGEgPSAyICogcCAtIHIpLCB0LnJpZ2h0Q29udFggPSBvLCB0LnJpZ2h0Q29udFkgPSByCgkJCQkJfQoJCQkJCXJldHVybiBuID8gKHMgPSBbIkMiLCBoLnJpZ2h0Q29udFggfHwgaC5wbG90WCwgaC5yaWdodENvbnRZIHx8IGgucGxvdFksIGkgfHwgZCwgYSB8fCBwLCBkLCBwXSwgaC5yaWdodENvbnRYID0gaC5yaWdodENvbnRZID0gbnVsbCkgOiBzID0gW2V0LCBkLCBwXSwgcwoJCQkJfQoJCQl9KTsKCQkJc3Quc3BsaW5lID0gVnQsIEJ0LmFyZWFzcGxpbmUgPSBvKEJ0LmFyZWEpOwoJCQl2YXIgS3QgPSBadC5wcm90b3R5cGUsCgkJCQlRdCA9IHYoVnQsIHsKCQkJCQl0eXBlOiAiYXJlYXNwbGluZSIsCgkJCQkJY2xvc2VkU3RhY2tzOiAhMCwKCQkJCQlnZXRTZWdtZW50UGF0aDogS3QuZ2V0U2VnbWVudFBhdGgsCgkJCQkJY2xvc2VTZWdtZW50OiBLdC5jbG9zZVNlZ21lbnQsCgkJCQkJZHJhd0dyYXBoOiBLdC5kcmF3R3JhcGgsCgkJCQkJZHJhd0xlZ2VuZFN5bWJvbDogVXQuZHJhd1JlY3RhbmdsZQoJCQkJfSk7CgkJCXN0LmFyZWFzcGxpbmUgPSBRdCwgQnQuY29sdW1uID0gbyhqdCwgewoJCQkJYm9yZGVyQ29sb3I6ICIjRkZGRkZGIiwKCQkJCWJvcmRlclJhZGl1czogMCwKCQkJCWdyb3VwUGFkZGluZzogLjIsCgkJCQltYXJrZXI6IG51bGwsCgkJCQlwb2ludFBhZGRpbmc6IC4xLAoJCQkJbWluUG9pbnRMZW5ndGg6IDAsCgkJCQljcm9wVGhyZXNob2xkOiA1MCwKCQkJCXBvaW50UmFuZ2U6IG51bGwsCgkJCQlzdGF0ZXM6IHsKCQkJCQlob3ZlcjogewoJCQkJCQlicmlnaHRuZXNzOiAuMSwKCQkJCQkJc2hhZG93OiAhMSwKCQkJCQkJaGFsbzogITEKCQkJCQl9LAoJCQkJCXNlbGVjdDogewoJCQkJCQljb2xvcjogIiNDMEMwQzAiLAoJCQkJCQlib3JkZXJDb2xvcjogIiMwMDAwMDAiLAoJCQkJCQlzaGFkb3c6ICExCgkJCQkJfQoJCQkJfSwKCQkJCWRhdGFMYWJlbHM6IHsKCQkJCQlhbGlnbjogbnVsbCwKCQkJCQl2ZXJ0aWNhbEFsaWduOiBudWxsLAoJCQkJCXk6IG51bGwKCQkJCX0sCgkJCQlzdGlja3lUcmFja2luZzogITEsCgkJCQl0b29sdGlwOiB7CgkJCQkJZGlzdGFuY2U6IDYKCQkJCX0sCgkJCQl0aHJlc2hvbGQ6IDAKCQkJfSk7CgkJCXZhciBlbiA9IHYoWHQsIHsKCQkJCXR5cGU6ICJjb2x1bW4iLAoJCQkJcG9pbnRBdHRyVG9PcHRpb25zOiB7CgkJCQkJc3Ryb2tlOiAiYm9yZGVyQ29sb3IiLAoJCQkJCWZpbGw6ICJjb2xvciIsCgkJCQkJcjogImJvcmRlclJhZGl1cyIKCQkJCX0sCgkJCQljcm9wU2hvdWxkZXI6IDAsCgkJCQl0cmFja2VyR3JvdXBzOiBbImdyb3VwIiwgImRhdGFMYWJlbHNHcm91cCJdLAoJCQkJbmVnU3RhY2tzOiAhMCwKCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCVh0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5jaGFydDsKCQkJCQl0Lmhhc1JlbmRlcmVkICYmIG10KHQuc2VyaWVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQudHlwZSA9PT0gZS50eXBlICYmICh0LmlzRGlydHkgPSAhMCkKCQkJCQl9KQoJCQkJfSwKCQkJCWdldENvbHVtbk1ldHJpY3M6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IG4ub3B0aW9ucywKCQkJCQkJYSA9IG4ueEF4aXMsCgkJCQkJCW8gPSBuLnlBeGlzLAoJCQkJCQlyID0gYS5yZXZlcnNlZCwKCQkJCQkJcyA9IHt9LAoJCQkJCQlsID0gMDsKCQkJCQlpLmdyb3VwaW5nID09PSAhMSA/IGwgPSAxIDogbXQobi5jaGFydC5zZXJpZXMsIGZ1bmN0aW9uKGkpIHsKCQkJCQkJdmFyIGEgPSBpLm9wdGlvbnMsCgkJCQkJCQlyID0gaS55QXhpczsKCQkJCQkJaS50eXBlID09PSBuLnR5cGUgJiYgaS52aXNpYmxlICYmIG8ubGVuID09PSByLmxlbiAmJiBvLnBvcyA9PT0gci5wb3MgJiYgKGEuc3RhY2tpbmcgPyAoZSA9IGkuc3RhY2tLZXksIHNbZV0gPT09IFcgJiYgKHNbZV0gPSBsKyspLCB0ID0gc1tlXSkgOiBhLmdyb3VwaW5nICE9PSAhMSAmJiAodCA9IGwrKyksIGkuY29sdW1uSW5kZXggPSB0KQoJCQkJCX0pOwoJCQkJCXZhciBjID0geWUoa2UoYS50cmFuc0EpICogKGEub3JkaW5hbFNsb3BlIHx8IGkucG9pbnRSYW5nZSB8fCBhLmNsb3Nlc3RQb2ludFJhbmdlIHx8IGEudGlja0ludGVydmFsIHx8IDEpLCBhLmxlbiksCgkJCQkJCWQgPSBjICogaS5ncm91cFBhZGRpbmcsCgkJCQkJCXAgPSBjIC0gMiAqIGQsCgkJCQkJCWggPSBwIC8gbCwKCQkJCQkJdSA9IGkucG9pbnRXaWR0aCwKCQkJCQkJZiA9IG0odSkgPyAoaCAtIHUpIC8gMiA6IGggKiBpLnBvaW50UGFkZGluZywKCQkJCQkJZyA9IF8odSwgaCAtIDIgKiBmKSwKCQkJCQkJeCA9IChyID8gbCAtIChuLmNvbHVtbkluZGV4IHx8IDApIDogbi5jb2x1bW5JbmRleCkgfHwgMCwKCQkJCQkJdyA9IGYgKyAoZCArIHggKiBoIC0gYyAvIDIpICogKHIgPyAtMSA6IDEpOwoJCQkJCXJldHVybiBuLmNvbHVtbk1ldHJpY3MgPSB7CgkJCQkJCXdpZHRoOiBnLAoJCQkJCQlvZmZzZXQ6IHcKCQkJCQl9CgkJCQl9LAoJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmNoYXJ0LAoJCQkJCQluID0gZS5vcHRpb25zLAoJCQkJCQlpID0gZS5ib3JkZXJXaWR0aCA9IF8obi5ib3JkZXJXaWR0aCwgZS5hY3RpdmVQb2ludENvdW50ID4gLjUgKiBlLnhBeGlzLmxlbiA/IDAgOiAxKSwKCQkJCQkJYSA9IGUueUF4aXMsCgkJCQkJCW8gPSBuLnRocmVzaG9sZCwKCQkJCQkJciA9IGUudHJhbnNsYXRlZFRocmVzaG9sZCA9IGEuZ2V0VGhyZXNob2xkKG8pLAoJCQkJCQlzID0gXyhuLm1pblBvaW50TGVuZ3RoLCA1KSwKCQkJCQkJbCA9IGUuZ2V0Q29sdW1uTWV0cmljcygpLAoJCQkJCQljID0gbC53aWR0aCwKCQkJCQkJZCA9IGUuYmFyVyA9IGJlKGMsIDEgKyAyICogaSksCgkJCQkJCXAgPSBlLnBvaW50WE9mZnNldCA9IGwub2Zmc2V0LAoJCQkJCQloID0gLShpICUgMiA/IC41IDogMCksCgkJCQkJCXUgPSBpICUgMiA/IC41IDogMTsKCQkJCQl0LnJlbmRlcmVyLmlzVk1MICYmIHQuaW52ZXJ0ZWQgJiYgKHUgKz0gMSksIG4ucG9pbnRQYWRkaW5nICYmIChkID0gdmUoZCkpLCBYdC5wcm90b3R5cGUudHJhbnNsYXRlLmFwcGx5KGUpLCBtdChlLnBvaW50cywgZnVuY3Rpb24obikgewoJCQkJCQl2YXIgaSwgbywgbCwgbSA9IF8obi55Qm90dG9tLCByKSwKCQkJCQkJCWYgPSB5ZShiZSgtOTk5IC0gbSwgbi5wbG90WSksIGEubGVuICsgOTk5ICsgbSksCgkJCQkJCQlnID0gbi5wbG90WCArIHAsCgkJCQkJCQl4ID0gZCwKCQkJCQkJCXcgPSB5ZShmLCBtKSwKCQkJCQkJCXYgPSBiZShmLCBtKSAtIHc7CgkJCQkJCWtlKHYpIDwgcyAmJiBzICYmICh2ID0gcywgdyA9IHhlKGtlKHcgLSByKSA+IHMgPyBtIC0gcyA6IHIgLSAoYS50cmFuc2xhdGUobi55LCAwLCAxLCAwLCAxKSA8PSByID8gcyA6IDApKSksIG4uYmFyWCA9IGcsIG4ucG9pbnRXaWR0aCA9IGMsIG4udG9vbHRpcFBvcyA9IHQuaW52ZXJ0ZWQgPyBbYS5sZW4gLSBmLCBlLnhBeGlzLmxlbiAtIGcgLSB4IC8gMl0gOiBbZyArIHggLyAyLCBmICsgYS5wb3MgLSB0LnBsb3RUb3BdLCBpID0geGUoZyArIHgpICsgaCwgZyA9IHhlKGcpICsgaCwgeCA9IGkgLSBnLCBsID0ga2UodykgPCAuNSwgbyA9IHhlKHcgKyB2KSArIHUsIHcgPSB4ZSh3KSArIHUsIHYgPSBvIC0gdywgbCAmJiAodyAtPSAxLCB2ICs9IDEpLCBuLnNoYXBlVHlwZSA9ICJyZWN0Iiwgbi5zaGFwZUFyZ3MgPSB7CgkJCQkJCQl4OiBnLAoJCQkJCQkJeTogdywKCQkJCQkJCXdpZHRoOiB4LAoJCQkJCQkJaGVpZ2h0OiB2CgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWdldFN5bWJvbDogRmUsCgkJCQlkcmF3TGVnZW5kU3ltYm9sOiBVdC5kcmF3UmVjdGFuZ2xlLAoJCQkJZHJhd0dyYXBoOiBGZSwKCQkJCWRyYXdQb2ludHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IHRoaXMuY2hhcnQsCgkJCQkJCWEgPSBuLm9wdGlvbnMsCgkJCQkJCXIgPSBpLnJlbmRlcmVyLAoJCQkJCQlzID0gYS5hbmltYXRpb25MaW1pdCB8fCAyNTA7CgkJCQkJbXQobi5wb2ludHMsIGZ1bmN0aW9uKGwpIHsKCQkJCQkJdmFyIGMsIGQgPSBsLnBsb3RZLAoJCQkJCQkJcCA9IGwuZ3JhcGhpYzsKCQkJCQkJZCA9PT0gVyB8fCBpc05hTihkKSB8fCBudWxsID09PSBsLnkgPyBwICYmIChsLmdyYXBoaWMgPSBwLmRlc3Ryb3koKSkgOiAoZSA9IGwuc2hhcGVBcmdzLCBjID0gbShuLmJvcmRlcldpZHRoKSA/IHsKCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBuLmJvcmRlcldpZHRoCgkJCQkJCX0gOiB7fSwgdCA9IGwucG9pbnRBdHRyW2wuc2VsZWN0ZWQgPyBvdCA6IGl0XSB8fCBuLnBvaW50QXR0cltpdF0sIHAgPyAoa3QocCksIHAuYXR0cihjKVtpLnBvaW50Q291bnQgPCBzID8gImFuaW1hdGUiIDogImF0dHIiXShvKGUpKSkgOiBsLmdyYXBoaWMgPSBwID0gcltsLnNoYXBlVHlwZV0oZSkuYXR0cih0KS5hdHRyKGMpLmFkZChuLmdyb3VwKS5zaGFkb3coYS5zaGFkb3csIG51bGwsIGEuc3RhY2tpbmcgJiYgIWEuYm9yZGVyUmFkaXVzKSkKCQkJCQl9KQoJCQkJfSwKCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IHRoaXMsCgkJCQkJCWkgPSB0aGlzLnlBeGlzLAoJCQkJCQlhID0gbi5vcHRpb25zLAoJCQkJCQlvID0gdGhpcy5jaGFydC5pbnZlcnRlZCwKCQkJCQkJciA9IHt9OwoJCQkJCU9lICYmIChlID8gKHIuc2NhbGVZID0gLjAwMSwgdCA9IHllKGkucG9zICsgaS5sZW4sIGJlKGkucG9zLCBpLnRvUGl4ZWxzKGEudGhyZXNob2xkKSkpLCBvID8gci50cmFuc2xhdGVYID0gdCAtIGkubGVuIDogci50cmFuc2xhdGVZID0gdCwgbi5ncm91cC5hdHRyKHIpKSA6IChyLnNjYWxlWSA9IDEsIHJbbyA/ICJ0cmFuc2xhdGVYIiA6ICJ0cmFuc2xhdGVZIl0gPSBpLnBvcywgbi5ncm91cC5hbmltYXRlKHIsIG4ub3B0aW9ucy5hbmltYXRpb24pLCBuLmFuaW1hdGUgPSBudWxsKSkKCQkJCX0sCgkJCQlyZW1vdmU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQ7CgkJCQkJdC5oYXNSZW5kZXJlZCAmJiBtdCh0LnNlcmllcywgZnVuY3Rpb24odCkgewoJCQkJCQl0LnR5cGUgPT09IGUudHlwZSAmJiAodC5pc0RpcnR5ID0gITApCgkJCQkJfSksIFh0LnByb3RvdHlwZS5yZW1vdmUuYXBwbHkoZSwgYXJndW1lbnRzKQoJCQkJfQoJCQl9KTsKCQkJc3QuY29sdW1uID0gZW4sIEJ0LmJhciA9IG8oQnQuY29sdW1uKTsKCQkJdmFyIHRuID0gdihlbiwgewoJCQkJdHlwZTogImJhciIsCgkJCQlpbnZlcnRlZDogITAKCQkJfSk7CgkJCXN0LmJhciA9IHRuLCBCdC5zY2F0dGVyID0gbyhqdCwgewoJCQkJbGluZVdpZHRoOiAwLAoJCQkJdG9vbHRpcDogewoJCQkJCWhlYWRlckZvcm1hdDogJzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMHB4OyI+IHtzZXJpZXMubmFtZX08L3NwYW4+PGJyLz4nLAoJCQkJCXBvaW50Rm9ybWF0OiAieDogPGI+e3BvaW50Lnh9PC9iPjxici8+eTogPGI+e3BvaW50Lnl9PC9iPjxici8+IgoJCQkJfSwKCQkJCXN0aWNreVRyYWNraW5nOiAhMQoJCQl9KTsKCQkJdmFyIG5uID0gdihYdCwgewoJCQkJdHlwZTogInNjYXR0ZXIiLAoJCQkJc29ydGVkOiAhMSwKCQkJCXJlcXVpcmVTb3J0aW5nOiAhMSwKCQkJCW5vU2hhcmVkVG9vbHRpcDogITAsCgkJCQl0cmFja2VyR3JvdXBzOiBbIm1hcmtlckdyb3VwIiwgImRhdGFMYWJlbHNHcm91cCJdLAoJCQkJdGFrZU9yZGluYWxQb3NpdGlvbjogITEsCgkJCQlzaW5ndWxhclRvb2x0aXBzOiAhMCwKCQkJCWRyYXdHcmFwaDogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5vcHRpb25zLmxpbmVXaWR0aCAmJiBYdC5wcm90b3R5cGUuZHJhd0dyYXBoLmNhbGwodGhpcykKCQkJCX0KCQkJfSk7CgkJCXN0LnNjYXR0ZXIgPSBubiwgQnQucGllID0gbyhqdCwgewoJCQkJYm9yZGVyQ29sb3I6ICIjRkZGRkZGIiwKCQkJCWJvcmRlcldpZHRoOiAxLAoJCQkJY2VudGVyOiBbbnVsbCwgbnVsbF0sCgkJCQljbGlwOiAhMSwKCQkJCWNvbG9yQnlQb2ludDogITAsCgkJCQlkYXRhTGFiZWxzOiB7CgkJCQkJZGlzdGFuY2U6IDMwLAoJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB0aGlzLnBvaW50Lm5hbWUKCQkJCQl9CgkJCQl9LAoJCQkJaWdub3JlSGlkZGVuUG9pbnQ6ICEwLAoJCQkJbGVnZW5kVHlwZTogInBvaW50IiwKCQkJCW1hcmtlcjogbnVsbCwKCQkJCXNpemU6IG51bGwsCgkJCQlzaG93SW5MZWdlbmQ6ICExLAoJCQkJc2xpY2VkT2Zmc2V0OiAxMCwKCQkJCXN0YXRlczogewoJCQkJCWhvdmVyOiB7CgkJCQkJCWJyaWdodG5lc3M6IC4xLAoJCQkJCQlzaGFkb3c6ICExCgkJCQkJfQoJCQkJfSwKCQkJCXN0aWNreVRyYWNraW5nOiAhMSwKCQkJCXRvb2x0aXA6IHsKCQkJCQlmb2xsb3dQb2ludGVyOiAhMAoJCQkJfQoJCQl9KTsKCQkJdmFyIGFuID0gdihHdCwgewoJCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQlHdC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJCQkJCQl2YXIgZSwgdCA9IHRoaXM7CgkJCQkJCXJldHVybiB0LnkgPCAwICYmICh0LnkgPSBudWxsKSwgYSh0LCB7CgkJCQkJCQl2aXNpYmxlOiB0LnZpc2libGUgIT09ICExLAoJCQkJCQkJbmFtZTogXyh0Lm5hbWUsICJTbGljZSIpCgkJCQkJCX0pLCBlID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJdC5zbGljZSgic2VsZWN0IiA9PT0gZS50eXBlKQoJCQkJCQl9LCB4dCh0LCAic2VsZWN0IiwgZSksIHh0KHQsICJ1bnNlbGVjdCIsIGUpLCB0CgkJCQkJfSwKCQkJCQlzZXRWaXNpYmxlOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpcywKCQkJCQkJCW4gPSB0LnNlcmllcywKCQkJCQkJCWkgPSBuLmNoYXJ0OwoJCQkJCQl0LnZpc2libGUgPSB0Lm9wdGlvbnMudmlzaWJsZSA9IGUgPSBlID09PSBXID8gIXQudmlzaWJsZSA6IGUsIG4ub3B0aW9ucy5kYXRhW3V0KHQsIG4uZGF0YSldID0gdC5vcHRpb25zLCBtdChbImdyYXBoaWMiLCAiZGF0YUxhYmVsIiwgImNvbm5lY3RvciIsICJzaGFkb3dHcm91cCJdLCBmdW5jdGlvbihuKSB7CgkJCQkJCQl0W25dICYmIHRbbl1bZSA/ICJzaG93IiA6ICJoaWRlIl0oITApCgkJCQkJCX0pLCB0LmxlZ2VuZEl0ZW0gJiYgaS5sZWdlbmQuY29sb3JpemVJdGVtKHQsIGUpLCAhbi5pc0RpcnR5ICYmIG4ub3B0aW9ucy5pZ25vcmVIaWRkZW5Qb2ludCAmJiAobi5pc0RpcnR5ID0gITAsIGkucmVkcmF3KCkpCgkJCQkJfSwKCQkJCQlzbGljZTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl2YXIgaSwgYSA9IHRoaXMsCgkJCQkJCQlvID0gYS5zZXJpZXMsCgkJCQkJCQlyID0gby5jaGFydDsKCQkJCQkJcShuLCByKSwgdCA9IF8odCwgITApLCBhLnNsaWNlZCA9IGEub3B0aW9ucy5zbGljZWQgPSBlID0gbShlKSA/IGUgOiAhYS5zbGljZWQsIG8ub3B0aW9ucy5kYXRhW3V0KGEsIG8uZGF0YSldID0gYS5vcHRpb25zLCBpID0gZSA/IGEuc2xpY2VkVHJhbnNsYXRpb24gOiB7CgkJCQkJCQl0cmFuc2xhdGVYOiAwLAoJCQkJCQkJdHJhbnNsYXRlWTogMAoJCQkJCQl9LCBhLmdyYXBoaWMuYW5pbWF0ZShpKSwgYS5zaGFkb3dHcm91cCAmJiBhLnNoYWRvd0dyb3VwLmFuaW1hdGUoaSkKCQkJCQl9LAoJCQkJCWhhbG9QYXRoOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpcy5zaGFwZUFyZ3MsCgkJCQkJCQluID0gdGhpcy5zZXJpZXMuY2hhcnQ7CgkJCQkJCXJldHVybiB0aGlzLnNsaWNlZCB8fCAhdGhpcy52aXNpYmxlID8gW10gOiB0aGlzLnNlcmllcy5jaGFydC5yZW5kZXJlci5zeW1ib2xzLmFyYyhuLnBsb3RMZWZ0ICsgdC54LCBuLnBsb3RUb3AgKyB0LnksIHQuciArIGUsIHQuciArIGUsIHsKCQkJCQkJCWlubmVyUjogdGhpcy5zaGFwZUFyZ3MuciwKCQkJCQkJCXN0YXJ0OiB0LnN0YXJ0LAoJCQkJCQkJZW5kOiB0LmVuZAoJCQkJCQl9KQoJCQkJCX0KCQkJCX0pLAoJCQkJb24gPSB7CgkJCQkJdHlwZTogInBpZSIsCgkJCQkJaXNDYXJ0ZXNpYW46ICExLAoJCQkJCXBvaW50Q2xhc3M6IGFuLAoJCQkJCXJlcXVpcmVTb3J0aW5nOiAhMSwKCQkJCQlub1NoYXJlZFRvb2x0aXA6ICEwLAoJCQkJCXRyYWNrZXJHcm91cHM6IFsiZ3JvdXAiLCAiZGF0YUxhYmVsc0dyb3VwIl0sCgkJCQkJYXhpc1R5cGVzOiBbXSwKCQkJCQlwb2ludEF0dHJUb09wdGlvbnM6IHsKCQkJCQkJc3Ryb2tlOiAiYm9yZGVyQ29sb3IiLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogImJvcmRlcldpZHRoIiwKCQkJCQkJZmlsbDogImNvbG9yIgoJCQkJCX0sCgkJCQkJc2luZ3VsYXJUb29sdGlwczogITAsCgkJCQkJZ2V0Q29sb3I6IEZlLAoJCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQkJbiA9IHQucG9pbnRzLAoJCQkJCQkJaSA9IHQuc3RhcnRBbmdsZVJhZDsKCQkJCQkJZSB8fCAobXQobiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIG4gPSBlLmdyYXBoaWMsCgkJCQkJCQkJYSA9IGUuc2hhcGVBcmdzOwoJCQkJCQkJbiAmJiAobi5hdHRyKHsKCQkJCQkJCQlyOiB0LmNlbnRlclszXSAvIDIsCgkJCQkJCQkJc3RhcnQ6IGksCgkJCQkJCQkJZW5kOiBpCgkJCQkJCQl9KSwgbi5hbmltYXRlKHsKCQkJCQkJCQlyOiBhLnIsCgkJCQkJCQkJc3RhcnQ6IGEuc3RhcnQsCgkJCQkJCQkJZW5kOiBhLmVuZAoJCQkJCQkJfSwgdC5vcHRpb25zLmFuaW1hdGlvbikpCgkJCQkJCX0pLCB0LmFuaW1hdGUgPSBudWxsKQoJCQkJCX0sCgkJCQkJc2V0RGF0YTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQlYdC5wcm90b3R5cGUuc2V0RGF0YS5jYWxsKHRoaXMsIGUsICExLCBuLCBpKSwgdGhpcy5wcm9jZXNzRGF0YSgpLCB0aGlzLmdlbmVyYXRlUG9pbnRzKCksIF8odCwgITApICYmIHRoaXMuY2hhcnQucmVkcmF3KG4pCgkJCQkJfSwKCQkJCQlnZW5lcmF0ZVBvaW50czogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlLCB0LCBuLCBpLCBhID0gMCwKCQkJCQkJCW8gPSB0aGlzLm9wdGlvbnMuaWdub3JlSGlkZGVuUG9pbnQ7CgkJCQkJCWZvciAoWHQucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRzLmNhbGwodGhpcyksIHQgPSB0aGlzLnBvaW50cywgbiA9IHQubGVuZ3RoLCBlID0gMDsgbiA+IGU7IGUrKykgaSA9IHRbZV0sIGEgKz0gbyAmJiAhaS52aXNpYmxlID8gMCA6IGkueTsKCQkJCQkJZm9yICh0aGlzLnRvdGFsID0gYSwgZSA9IDA7IG4gPiBlOyBlKyspIGkgPSB0W2VdLCBpLnBlcmNlbnRhZ2UgPSBhID4gMCA/IGkueSAvIGEgKiAxMDAgOiAwLCBpLnRvdGFsID0gYQoJCQkJCX0sCgkJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuZ2VuZXJhdGVQb2ludHMoKTsKCQkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0aGlzLAoJCQkJCQkJYyA9IDAsCgkJCQkJCQlkID0gMWUzLAoJCQkJCQkJcCA9IGwub3B0aW9ucywKCQkJCQkJCWggPSBwLnNsaWNlZE9mZnNldCwKCQkJCQkJCXUgPSBoICsgcC5ib3JkZXJXaWR0aCwKCQkJCQkJCW0gPSBwLnN0YXJ0QW5nbGUgfHwgMCwKCQkJCQkJCWYgPSBsLnN0YXJ0QW5nbGVSYWQgPSBqZSAvIDE4MCAqIChtIC0gOTApLAoJCQkJCQkJZyA9IGwuZW5kQW5nbGVSYWQgPSBqZSAvIDE4MCAqIChfKHAuZW5kQW5nbGUsIG0gKyAzNjApIC0gOTApLAoJCQkJCQkJeCA9IGcgLSBmLAoJCQkJCQkJdyA9IGwucG9pbnRzLAoJCQkJCQkJdiA9IHAuZGF0YUxhYmVscy5kaXN0YW5jZSwKCQkJCQkJCWIgPSBwLmlnbm9yZUhpZGRlblBvaW50LAoJCQkJCQkJeSA9IHcubGVuZ3RoOwoJCQkJCQlmb3IgKGUgfHwgKGwuY2VudGVyID0gZSA9IGwuZ2V0Q2VudGVyKCkpLCBsLmdldFggPSBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCQlyZXR1cm4gaSA9IF9lLmFzaW4oeWUoKHQgLSBlWzFdKSAvIChlWzJdIC8gMiArIHYpLCAxKSksIGVbMF0gKyAobiA/IC0xIDogMSkgKiAoemUoaSkgKiAoZVsyXSAvIDIgKyB2KSkKCQkJCQkJfSwgciA9IDA7IHkgPiByOyByKyspIHMgPSB3W3JdLCB0ID0gZiArIGMgKiB4LCAoIWIgfHwgcy52aXNpYmxlKSAmJiAoYyArPSBzLnBlcmNlbnRhZ2UgLyAxMDApLCBuID0gZiArIGMgKiB4LCBzLnNoYXBlVHlwZSA9ICJhcmMiLCBzLnNoYXBlQXJncyA9IHsKCQkJCQkJCXg6IGVbMF0sCgkJCQkJCQl5OiBlWzFdLAoJCQkJCQkJcjogZVsyXSAvIDIsCgkJCQkJCQlpbm5lclI6IGVbM10gLyAyLAoJCQkJCQkJc3RhcnQ6IHhlKHQgKiBkKSAvIGQsCgkJCQkJCQllbmQ6IHhlKG4gKiBkKSAvIGQKCQkJCQkJfSwgaSA9IChuICsgdCkgLyAyLCBpID4gMS41ICogamUgPyBpIC09IDIgKiBqZSA6IC1qZSAvIDIgPiBpICYmIChpICs9IDIgKiBqZSksIHMuc2xpY2VkVHJhbnNsYXRpb24gPSB7CgkJCQkJCQl0cmFuc2xhdGVYOiB4ZSh6ZShpKSAqIGgpLAoJCQkJCQkJdHJhbnNsYXRlWTogeGUoQmUoaSkgKiBoKQoJCQkJCQl9LCBhID0gemUoaSkgKiBlWzJdIC8gMiwgbyA9IEJlKGkpICogZVsyXSAvIDIsIHMudG9vbHRpcFBvcyA9IFtlWzBdICsgLjcgKiBhLCBlWzFdICsgLjcgKiBvXSwgcy5oYWxmID0gLWplIC8gMiA+IGkgfHwgaSA+IGplIC8gMiA/IDEgOiAwLCBzLmFuZ2xlID0gaSwgdSA9IHllKHUsIHYgLyAyKSwgcy5sYWJlbFBvcyA9IFtlWzBdICsgYSArIHplKGkpICogdiwgZVsxXSArIG8gKyBCZShpKSAqIHYsIGVbMF0gKyBhICsgemUoaSkgKiB1LCBlWzFdICsgbyArIEJlKGkpICogdSwgZVswXSArIGEsIGVbMV0gKyBvLCAwID4gdiA/ICJjZW50ZXIiIDogcy5oYWxmID8gInJpZ2h0IiA6ICJsZWZ0IiwgaV0KCQkJCQl9LAoJCQkJCWRyYXdHcmFwaDogbnVsbCwKCQkJCQlkcmF3UG9pbnRzOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUsIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQkJciA9IG8uY2hhcnQsCgkJCQkJCQlzID0gci5yZW5kZXJlciwKCQkJCQkJCWwgPSBvLm9wdGlvbnMuc2hhZG93OwoJCQkJCQlsICYmICFvLnNoYWRvd0dyb3VwICYmIChvLnNoYWRvd0dyb3VwID0gcy5nKCJzaGFkb3ciKS5hZGQoby5ncm91cCkpLCBtdChvLnBvaW50cywgZnVuY3Rpb24ocikgewoJCQkJCQkJdCA9IHIuZ3JhcGhpYywgaSA9IHIuc2hhcGVBcmdzLCBuID0gci5zaGFkb3dHcm91cCwgbCAmJiAhbiAmJiAobiA9IHIuc2hhZG93R3JvdXAgPSBzLmcoInNoYWRvdyIpLmFkZChvLnNoYWRvd0dyb3VwKSksIGUgPSByLnNsaWNlZCA/IHIuc2xpY2VkVHJhbnNsYXRpb24gOiB7CgkJCQkJCQkJdHJhbnNsYXRlWDogMCwKCQkJCQkJCQl0cmFuc2xhdGVZOiAwCgkJCQkJCQl9LCBuICYmIG4uYXR0cihlKSwgdCA/IHQuYW5pbWF0ZShhKGksIGUpKSA6IHIuZ3JhcGhpYyA9IHQgPSBzW3Iuc2hhcGVUeXBlXShpKS5zZXRSYWRpYWxSZWZlcmVuY2Uoby5jZW50ZXIpLmF0dHIoci5wb2ludEF0dHJbci5zZWxlY3RlZCA/IG90IDogaXRdKS5hdHRyKHsKCQkJCQkJCQkic3Ryb2tlLWxpbmVqb2luIjogInJvdW5kIgoJCQkJCQkJfSkuYXR0cihlKS5hZGQoby5ncm91cCkuc2hhZG93KGwsIG4pLCB2b2lkIDAgIT09IHIudmlzaWJsZSAmJiByLnNldFZpc2libGUoci52aXNpYmxlKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJc29ydEJ5QW5nbGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZS5zb3J0KGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQkJCXJldHVybiB2b2lkIDAgIT09IGUuYW5nbGUgJiYgKG4uYW5nbGUgLSBlLmFuZ2xlKSAqIHQKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWRyYXdMZWdlbmRTeW1ib2w6IFV0LmRyYXdSZWN0YW5nbGUsCgkJCQkJZ2V0Q2VudGVyOiBZdC5nZXRDZW50ZXIsCgkJCQkJZ2V0U3ltYm9sOiBGZQoJCQkJfTsKCQkJb24gPSB2KFh0LCBvbiksIHN0LnBpZSA9IG9uLCBYdC5wcm90b3R5cGUuZHJhd0RhdGFMYWJlbHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlLCB0LCBuLCBpLCByID0gdGhpcywKCQkJCQlzID0gci5vcHRpb25zLAoJCQkJCWwgPSBzLmN1cnNvciwKCQkJCQljID0gcy5kYXRhTGFiZWxzLAoJCQkJCWQgPSByLnBvaW50cywKCQkJCQlwID0gci5oYXNSZW5kZXJlZCB8fCAwOwoJCQkJKGMuZW5hYmxlZCB8fCByLl9oYXNQb2ludExhYmVscykgJiYgKHIuZGxQcm9jZXNzT3B0aW9ucyAmJiByLmRsUHJvY2Vzc09wdGlvbnMoYyksIGkgPSByLnBsb3RHcm91cCgiZGF0YUxhYmVsc0dyb3VwIiwgImRhdGEtbGFiZWxzIiwgYy5kZWZlciA/IEplIDogVmUsIGMuekluZGV4IHx8IDYpLCBfKGMuZGVmZXIsICEwKSAmJiAoaS5hdHRyKHsKCQkJCQlvcGFjaXR5OiArcAoJCQkJfSksIHAgfHwgeHQociwgImFmdGVyQW5pbWF0ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXIudmlzaWJsZSAmJiBpLnNob3coKSwgaVtzLmFuaW1hdGlvbiA/ICJhbmltYXRlIiA6ICJhdHRyIl0oewoJCQkJCQlvcGFjaXR5OiAxCgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogMjAwCgkJCQkJfSkKCQkJCX0pKSwgdCA9IGMsIG10KGQsIGZ1bmN0aW9uKHMpIHsKCQkJCQl2YXIgZCwgcCwgaCwgdSwgZiwgZyA9IHMuZGF0YUxhYmVsLAoJCQkJCQl4ID0gcy5jb25uZWN0b3IsCgkJCQkJCXcgPSAhMDsKCQkJCQlpZiAoZSA9IHMub3B0aW9ucyAmJiBzLm9wdGlvbnMuZGF0YUxhYmVscywgZCA9IF8oZSAmJiBlLmVuYWJsZWQsIHQuZW5hYmxlZCksIGcgJiYgIWQpIHMuZGF0YUxhYmVsID0gZy5kZXN0cm95KCk7CgkJCQkJZWxzZSBpZiAoZCkgewoJCQkJCQlpZiAoYyA9IG8odCwgZSksIGYgPSBjLnJvdGF0aW9uLCBwID0gcy5nZXRMYWJlbENvbmZpZygpLCBuID0gYy5mb3JtYXQgPyBCKGMuZm9ybWF0LCBwKSA6IGMuZm9ybWF0dGVyLmNhbGwocCwgYyksIGMuc3R5bGUuY29sb3IgPSBfKGMuY29sb3IsIGMuc3R5bGUuY29sb3IsIHIuY29sb3IsICJibGFjayIpLCBnKSBtKG4pID8gKGcuYXR0cih7CgkJCQkJCQl0ZXh0OiBuCgkJCQkJCX0pLCB3ID0gITEpIDogKHMuZGF0YUxhYmVsID0gZyA9IGcuZGVzdHJveSgpLCB4ICYmIChzLmNvbm5lY3RvciA9IHguZGVzdHJveSgpKSk7CgkJCQkJCWVsc2UgaWYgKG0obikpIHsKCQkJCQkJCWggPSB7CgkJCQkJCQkJZmlsbDogYy5iYWNrZ3JvdW5kQ29sb3IsCgkJCQkJCQkJc3Ryb2tlOiBjLmJvcmRlckNvbG9yLAoJCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBjLmJvcmRlcldpZHRoLAoJCQkJCQkJCXI6IGMuYm9yZGVyUmFkaXVzIHx8IDAsCgkJCQkJCQkJcm90YXRpb246IGYsCgkJCQkJCQkJcGFkZGluZzogYy5wYWRkaW5nLAoJCQkJCQkJCXpJbmRleDogMQoJCQkJCQkJfTsKCQkJCQkJCWZvciAodSBpbiBoKSBoW3VdID09PSBXICYmIGRlbGV0ZSBoW3VdOwoJCQkJCQkJZyA9IHMuZGF0YUxhYmVsID0gci5jaGFydC5yZW5kZXJlcltmID8gInRleHQiIDogImxhYmVsIl0obiwgMCwgLTk5OSwgbnVsbCwgbnVsbCwgbnVsbCwgYy51c2VIVE1MKS5hdHRyKGgpLmNzcyhhKGMuc3R5bGUsIGwgJiYgewoJCQkJCQkJCWN1cnNvcjogbAoJCQkJCQkJfSkpLmFkZChpKS5zaGFkb3coYy5zaGFkb3cpCgkJCQkJCX0KCQkJCQkJZyAmJiByLmFsaWduRGF0YUxhYmVsKHMsIGcsIGMsIG51bGwsIHcpCgkJCQkJfQoJCQkJfSkpCgkJCX0sIFh0LnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbCA9IGZ1bmN0aW9uKGUsIHQsIG4sIGksIG8pIHsKCQkJCXZhciByLCBzID0gdGhpcy5jaGFydCwKCQkJCQlsID0gcy5pbnZlcnRlZCwKCQkJCQljID0gXyhlLnBsb3RYLCAtOTk5KSwKCQkJCQlkID0gXyhlLnBsb3RZLCAtOTk5KSwKCQkJCQlwID0gdC5nZXRCQm94KCksCgkJCQkJaCA9IHRoaXMudmlzaWJsZSAmJiAoZS5zZXJpZXMuZm9yY2VETCB8fCBzLmlzSW5zaWRlUGxvdChjLCB4ZShkKSwgbCkgfHwgaSAmJiBzLmlzSW5zaWRlUGxvdChjLCBsID8gaS54ICsgMSA6IGkueSArIGkuaGVpZ2h0IC0gMSwgbCkpOwoJCQkJaCAmJiAoaSA9IGEoewoJCQkJCXg6IGwgPyBzLnBsb3RXaWR0aCAtIGQgOiBjLAoJCQkJCXk6IHhlKGwgPyBzLnBsb3RIZWlnaHQgLSBjIDogZCksCgkJCQkJd2lkdGg6IDAsCgkJCQkJaGVpZ2h0OiAwCgkJCQl9LCBpKSwgYShuLCB7CgkJCQkJd2lkdGg6IHAud2lkdGgsCgkJCQkJaGVpZ2h0OiBwLmhlaWdodAoJCQkJfSksIG4ucm90YXRpb24gPyB0W28gPyAiYXR0ciIgOiAiYW5pbWF0ZSJdKHsKCQkJCQl4OiBpLnggKyBuLnggKyBpLndpZHRoIC8gMiwKCQkJCQl5OiBpLnkgKyBuLnkgKyBpLmhlaWdodCAvIDIKCQkJCX0pLmF0dHIoewoJCQkJCWFsaWduOiBuLmFsaWduCgkJCQl9KSA6ICh0LmFsaWduKG4sIG51bGwsIGkpLCByID0gdC5hbGlnbkF0dHIsICJqdXN0aWZ5IiA9PT0gXyhuLm92ZXJmbG93LCAianVzdGlmeSIpID8gdGhpcy5qdXN0aWZ5RGF0YUxhYmVsKHQsIG4sIHIsIHAsIGksIG8pIDogXyhuLmNyb3AsICEwKSAmJiAoaCA9IHMuaXNJbnNpZGVQbG90KHIueCwgci55KSAmJiBzLmlzSW5zaWRlUGxvdChyLnggKyBwLndpZHRoLCByLnkgKyBwLmhlaWdodCkpKSksIGggfHwgKHQuYXR0cih7CgkJCQkJeTogLTk5OQoJCQkJfSksIHQucGxhY2VkID0gITEpCgkJCX0sIFh0LnByb3RvdHlwZS5qdXN0aWZ5RGF0YUxhYmVsID0gZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbykgewoJCQkJdmFyIHIsIHMsIGwgPSB0aGlzLmNoYXJ0LAoJCQkJCWMgPSB0LmFsaWduLAoJCQkJCWQgPSB0LnZlcnRpY2FsQWxpZ247CgkJCQlyID0gbi54LCAwID4gciAmJiAoInJpZ2h0IiA9PT0gYyA/IHQuYWxpZ24gPSAibGVmdCIgOiB0LnggPSAtciwgcyA9ICEwKSwgciA9IG4ueCArIGkud2lkdGgsIHIgPiBsLnBsb3RXaWR0aCAmJiAoImxlZnQiID09PSBjID8gdC5hbGlnbiA9ICJyaWdodCIgOiB0LnggPSBsLnBsb3RXaWR0aCAtIHIsIHMgPSAhMCksIHIgPSBuLnksIDAgPiByICYmICgiYm90dG9tIiA9PT0gZCA/IHQudmVydGljYWxBbGlnbiA9ICJ0b3AiIDogdC55ID0gLXIsIHMgPSAhMCksIHIgPSBuLnkgKyBpLmhlaWdodCwgciA+IGwucGxvdEhlaWdodCAmJiAoInRvcCIgPT09IGQgPyB0LnZlcnRpY2FsQWxpZ24gPSAiYm90dG9tIiA6IHQueSA9IGwucGxvdEhlaWdodCAtIHIsIHMgPSAhMCksIHMgJiYgKGUucGxhY2VkID0gIW8sIGUuYWxpZ24odCwgbnVsbCwgYSkpCgkJCX0sIHN0LnBpZSAmJiAoc3QucGllLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscyA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUgPSB0aGlzLAoJCQkJCW0gPSB1LmRhdGEsCgkJCQkJZiA9IHUuY2hhcnQsCgkJCQkJZyA9IHUub3B0aW9ucy5kYXRhTGFiZWxzLAoJCQkJCXggPSBfKGcuY29ubmVjdG9yUGFkZGluZywgMTApLAoJCQkJCXcgPSBfKGcuY29ubmVjdG9yV2lkdGgsIDEpLAoJCQkJCXYgPSBmLnBsb3RXaWR0aCwKCQkJCQliID0gZi5wbG90SGVpZ2h0LAoJCQkJCXkgPSBfKGcuc29mdENvbm5lY3RvciwgITApLAoJCQkJCWsgPSBnLmRpc3RhbmNlLAoJCQkJCXogPSB1LmNlbnRlciwKCQkJCQlCID0gelsyXSAvIDIsCgkJCQkJaiA9IHpbMV0sCgkJCQkJQyA9IGsgPiAwLAoJCQkJCVMgPSBbCgkJCQkJCVtdLAoJCQkJCQlbXQoJCQkJCV0sCgkJCQkJTiA9IFswLCAwLCAwLCAwXSwKCQkJCQlQID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gdC55IC0gZS55CgkJCQkJfTsKCQkJCWlmICh1LnZpc2libGUgJiYgKGcuZW5hYmxlZCB8fCB1Ll9oYXNQb2ludExhYmVscykpIHsKCQkJCQlmb3IgKFh0LnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscy5hcHBseSh1KSwgbXQobSwgZnVuY3Rpb24oZSkgewoJCQkJCQllLmRhdGFMYWJlbCAmJiBlLnZpc2libGUgJiYgU1tlLmhhbGZdLnB1c2goZSkKCQkJCQl9KSwgcCA9IDI7IHAtLTspIHsKCQkJCQkJdmFyIEksIEEsIHEsIEUsIE8gPSBbXSwKCQkJCQkJCUwgPSBbXSwKCQkJCQkJCUQgPSBTW3BdLAoJCQkJCQkJTSA9IEQubGVuZ3RoOwoJCQkJCQlpZiAoTSkgewoJCQkJCQkJZm9yICh1LnNvcnRCeUFuZ2xlKEQsIHAgLSAuNSksIGggPSByID0gMDsgIXIgJiYgRFtoXTspIHIgPSBEW2hdICYmIERbaF0uZGF0YUxhYmVsICYmIChEW2hdLmRhdGFMYWJlbC5nZXRCQm94KCkuaGVpZ2h0IHx8IDIxKSwgaCsrOwoJCQkJCQkJaWYgKGsgPiAwKSB7CgkJCQkJCQkJZm9yIChxID0geWUoaiArIEIgKyBrLCBmLnBsb3RIZWlnaHQpLCBBID0gYmUoMCwgaiAtIEIgLSBrKTsgcSA+PSBBOyBBICs9IHIpIE8ucHVzaChBKTsKCQkJCQkJCQlpZiAoSSA9IE8ubGVuZ3RoLCBNID4gSSkgewoJCQkJCQkJCQlmb3IgKGQgPSBbXS5jb25jYXQoRCksIGQuc29ydChQKSwgaCA9IE07IGgtLTspIGRbaF0ucmFuayA9IGg7CgkJCQkJCQkJCWZvciAoaCA9IE07IGgtLTspIERbaF0ucmFuayA+PSBJICYmIEQuc3BsaWNlKGgsIDEpOwoJCQkJCQkJCQlNID0gRC5sZW5ndGgKCQkJCQkJCQl9CgkJCQkJCQkJZm9yIChoID0gMDsgTSA+IGg7IGgrKykgewoJCQkJCQkJCQllID0gRFtoXSwgbyA9IGUubGFiZWxQb3M7CgkJCQkJCQkJCXZhciBSLCBGLCAkID0gOTk5OTsKCQkJCQkJCQkJZm9yIChGID0gMDsgSSA+IEY7IEYrKykgUiA9IGtlKE9bRl0gLSBvWzFdKSwgJCA+IFIgJiYgKCQgPSBSLCBFID0gRik7CgkJCQkJCQkJCWlmIChoID4gRSAmJiBudWxsICE9PSBPW2hdKSBFID0gaDsKCQkJCQkJCQkJZWxzZSBpZiAoTSAtIGggKyBFID4gSSAmJiBudWxsICE9PSBPW2hdKQoJCQkJCQkJCQkJZm9yIChFID0gSSAtIE0gKyBoOyBudWxsID09PSBPW0VdOykgRSsrOwoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlmb3IgKDsgbnVsbCA9PT0gT1tFXTspIEUrKzsKCQkJCQkJCQkJTC5wdXNoKHsKCQkJCQkJCQkJCWk6IEUsCgkJCQkJCQkJCQl5OiBPW0VdCgkJCQkJCQkJCX0pLCBPW0VdID0gbnVsbAoJCQkJCQkJCX0KCQkJCQkJCQlMLnNvcnQoUCkKCQkJCQkJCX0KCQkJCQkJCWZvciAoaCA9IDA7IE0gPiBoOyBoKyspIHsKCQkJCQkJCQl2YXIgVywgSDsKCQkJCQkJCQllID0gRFtoXSwgbyA9IGUubGFiZWxQb3MsIGkgPSBlLmRhdGFMYWJlbCwgYyA9IGUudmlzaWJsZSA9PT0gITEgPyBKZSA6IFZlLCBIID0gb1sxXSwgayA+IDAgPyAoVyA9IEwucG9wKCksIEUgPSBXLmksIGwgPSBXLnksIChIID4gbCAmJiBudWxsICE9PSBPW0UgKyAxXSB8fCBsID4gSCAmJiBudWxsICE9PSBPW0UgLSAxXSkgJiYgKGwgPSB5ZShiZSgwLCBIKSwgZi5wbG90SGVpZ2h0KSkpIDogbCA9IEgsIHMgPSBnLmp1c3RpZnkgPyB6WzBdICsgKHAgPyAtMSA6IDEpICogKEIgKyBrKSA6IHUuZ2V0WChsID09PSBqIC0gQiAtIGsgfHwgbCA9PT0gaiArIEIgKyBrID8gSCA6IGwsIHApLCBpLl9hdHRyID0gewoJCQkJCQkJCQl2aXNpYmlsaXR5OiBjLAoJCQkJCQkJCQlhbGlnbjogb1s2XQoJCQkJCQkJCX0sIGkuX3BvcyA9IHsKCQkJCQkJCQkJeDogcyArIGcueCArICh7CgkJCQkJCQkJCQlsZWZ0OiB4LAoJCQkJCQkJCQkJcmlnaHQ6IC14CgkJCQkJCQkJCX1bb1s2XV0gfHwgMCksCgkJCQkJCQkJCXk6IGwgKyBnLnkgLSAxMAoJCQkJCQkJCX0sIGkuY29ublggPSBzLCBpLmNvbm5ZID0gbCwgbnVsbCA9PT0gdGhpcy5vcHRpb25zLnNpemUgJiYgKGEgPSBpLndpZHRoLCB4ID4gcyAtIGEgPyBOWzNdID0gYmUoeGUoYSAtIHMgKyB4KSwgTlszXSkgOiBzICsgYSA+IHYgLSB4ICYmIChOWzFdID0gYmUoeGUocyArIGEgLSB2ICsgeCksIE5bMV0pKSwgMCA+IGwgLSByIC8gMiA/IE5bMF0gPSBiZSh4ZSgtbCArIHIgLyAyKSwgTlswXSkgOiBsICsgciAvIDIgPiBiICYmIChOWzJdID0gYmUoeGUobCArIHIgLyAyIC0gYiksIE5bMl0pKSkKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0oMCA9PT0gVChOKSB8fCB0aGlzLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93KE4pKSAmJiAodGhpcy5wbGFjZURhdGFMYWJlbHMoKSwgQyAmJiB3ICYmIG10KHRoaXMucG9pbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXQgPSBlLmNvbm5lY3RvciwgbyA9IGUubGFiZWxQb3MsIGkgPSBlLmRhdGFMYWJlbCwgaSAmJiBpLl9wb3MgPyAoYyA9IGkuX2F0dHIudmlzaWJpbGl0eSwgcyA9IGkuY29ublgsIGwgPSBpLmNvbm5ZLCBuID0geSA/IFtldCwgcyArICgibGVmdCIgPT09IG9bNl0gPyA1IDogLTUpLCBsLCAiQyIsIHMsIGwsIDIgKiBvWzJdIC0gb1s0XSwgMiAqIG9bM10gLSBvWzVdLCBvWzJdLCBvWzNdLCB0dCwgb1s0XSwgb1s1XV0gOiBbZXQsIHMgKyAoImxlZnQiID09PSBvWzZdID8gNSA6IC01KSwgbCwgdHQsIG9bMl0sIG9bM10sIHR0LCBvWzRdLCBvWzVdXSwgdCA/ICh0LmFuaW1hdGUoewoJCQkJCQkJZDogbgoJCQkJCQl9KSwgdC5hdHRyKCJ2aXNpYmlsaXR5IiwgYykpIDogZS5jb25uZWN0b3IgPSB0ID0gdS5jaGFydC5yZW5kZXJlci5wYXRoKG4pLmF0dHIoewoJCQkJCQkJInN0cm9rZS13aWR0aCI6IHcsCgkJCQkJCQlzdHJva2U6IGcuY29ubmVjdG9yQ29sb3IgfHwgZS5jb2xvciB8fCAiIzYwNjA2MCIsCgkJCQkJCQl2aXNpYmlsaXR5OiBjCgkJCQkJCX0pLmFkZCh1LmRhdGFMYWJlbHNHcm91cCkpIDogdCAmJiAoZS5jb25uZWN0b3IgPSB0LmRlc3Ryb3koKSkKCQkJCQl9KSkKCQkJCX0KCQkJfSwgc3QucGllLnByb3RvdHlwZS5wbGFjZURhdGFMYWJlbHMgPSBmdW5jdGlvbigpIHsKCQkJCW10KHRoaXMucG9pbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSBlLmRhdGFMYWJlbDsKCQkJCQluICYmICh0ID0gbi5fcG9zLCB0ID8gKG4uYXR0cihuLl9hdHRyKSwgbltuLm1vdmVkID8gImFuaW1hdGUiIDogImF0dHIiXSh0KSwgbi5tb3ZlZCA9ICEwKSA6IG4gJiYgbi5hdHRyKHsKCQkJCQkJeTogLTk5OQoJCQkJCX0pKQoJCQkJfSkKCQkJfSwgc3QucGllLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbCA9IEZlLCBzdC5waWUucHJvdG90eXBlLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93ID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQsIG4gPSB0aGlzLmNlbnRlciwKCQkJCQlpID0gdGhpcy5vcHRpb25zLAoJCQkJCWEgPSBpLmNlbnRlciwKCQkJCQlvID0gaS5taW5TaXplIHx8IDgwLAoJCQkJCXIgPSBvOwoJCQkJcmV0dXJuIG51bGwgIT09IGFbMF0gPyByID0gYmUoblsyXSAtIGJlKGVbMV0sIGVbM10pLCBvKSA6IChyID0gYmUoblsyXSAtIGVbMV0gLSBlWzNdLCBvKSwgblswXSArPSAoZVszXSAtIGVbMV0pIC8gMiksIG51bGwgIT09IGFbMV0gPyByID0gYmUoeWUociwgblsyXSAtIGJlKGVbMF0sIGVbMl0pKSwgbykgOiAociA9IGJlKHllKHIsIG5bMl0gLSBlWzBdIC0gZVsyXSksIG8pLCBuWzFdICs9IChlWzBdIC0gZVsyXSkgLyAyKSwgciA8IG5bMl0gPyAoblsyXSA9IHIsIHRoaXMudHJhbnNsYXRlKG4pLCBtdCh0aGlzLnBvaW50cywgZnVuY3Rpb24oZSkgewoJCQkJCWUuZGF0YUxhYmVsICYmIChlLmRhdGFMYWJlbC5fcG9zID0gbnVsbCkKCQkJCX0pLCB0aGlzLmRyYXdEYXRhTGFiZWxzICYmIHRoaXMuZHJhd0RhdGFMYWJlbHMoKSkgOiB0ID0gITAsIHQKCQkJfSksIHN0LmNvbHVtbiAmJiAoc3QuY29sdW1uLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbCA9IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCXZhciByID0gdGhpcy5jaGFydCwKCQkJCQlzID0gci5pbnZlcnRlZCwKCQkJCQlsID0gZS5kbEJveCB8fCBlLnNoYXBlQXJncywKCQkJCQljID0gZS5iZWxvdyB8fCBlLnBsb3RZID4gXyh0aGlzLnRyYW5zbGF0ZWRUaHJlc2hvbGQsIHIucGxvdFNpemVZKSwKCQkJCQlkID0gXyhuLmluc2lkZSwgISF0aGlzLm9wdGlvbnMuc3RhY2tpbmcpOwoJCQkJbCAmJiAoaSA9IG8obCksIHMgJiYgKGkgPSB7CgkJCQkJeDogci5wbG90V2lkdGggLSBpLnkgLSBpLmhlaWdodCwKCQkJCQl5OiByLnBsb3RIZWlnaHQgLSBpLnggLSBpLndpZHRoLAoJCQkJCXdpZHRoOiBpLmhlaWdodCwKCQkJCQloZWlnaHQ6IGkud2lkdGgKCQkJCX0pLCBkIHx8IChzID8gKGkueCArPSBjID8gMCA6IGkud2lkdGgsIGkud2lkdGggPSAwKSA6IChpLnkgKz0gYyA/IGkuaGVpZ2h0IDogMCwgaS5oZWlnaHQgPSAwKSkpLCBuLmFsaWduID0gXyhuLmFsaWduLCAhcyB8fCBkID8gImNlbnRlciIgOiBjID8gInJpZ2h0IiA6ICJsZWZ0IiksIG4udmVydGljYWxBbGlnbiA9IF8obi52ZXJ0aWNhbEFsaWduLCBzIHx8IGQgPyAibWlkZGxlIiA6IGMgPyAidG9wIiA6ICJib3R0b20iKSwgWHQucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsLmNhbGwodGhpcywgZSwgdCwgbiwgaSwgYSkKCQkJfSk7CgkJCXZhciBybiA9IGx0LlRyYWNrZXJNaXhpbiA9IHsKCQkJCWRyYXdUcmFja2VyUG9pbnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQsCgkJCQkJCW4gPSB0LnBvaW50ZXIsCgkJCQkJCWkgPSBlLm9wdGlvbnMuY3Vyc29yLAoJCQkJCQlhID0gaSAmJiB7CgkJCQkJCQljdXJzb3I6IGkKCQkJCQkJfSwKCQkJCQkJbyA9IGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBpLCBhID0gbi50YXJnZXQ7CgkJCQkJCQlmb3IgKHQuaG92ZXJTZXJpZXMgIT09IGUgJiYgZS5vbk1vdXNlT3ZlcigpOyBhICYmICFpOykgaSA9IGEucG9pbnQsIGEgPSBhLnBhcmVudE5vZGU7CgkJCQkJCQlpICE9PSBXICYmIGkgIT09IHQuaG92ZXJQb2ludCAmJiBpLm9uTW91c2VPdmVyKG4pCgkJCQkJCX07CgkJCQkJbXQoZS5wb2ludHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5ncmFwaGljICYmIChlLmdyYXBoaWMuZWxlbWVudC5wb2ludCA9IGUpLCBlLmRhdGFMYWJlbCAmJiAoZS5kYXRhTGFiZWwuZWxlbWVudC5wb2ludCA9IGUpCgkJCQkJfSksIGUuX2hhc1RyYWNraW5nIHx8IChtdChlLnRyYWNrZXJHcm91cHMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJZVt0XSAmJiAoZVt0XS5hZGRDbGFzcyhaZSArICJ0cmFja2VyIikub24oIm1vdXNlb3ZlciIsIG8pLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCW4ub25UcmFja2VyTW91c2VPdXQoZSkKCQkJCQkJfSkuY3NzKGEpLCBVICYmIGVbdF0ub24oInRvdWNoc3RhcnQiLCBvKSkKCQkJCQl9KSwgZS5faGFzVHJhY2tpbmcgPSAhMCkKCQkJCX0sCgkJCQlkcmF3VHJhY2tlckdyYXBoOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiA9IHRoaXMsCgkJCQkJCWkgPSBuLm9wdGlvbnMsCgkJCQkJCWEgPSBpLnRyYWNrQnlBcmVhLAoJCQkJCQlvID0gW10uY29uY2F0KGEgPyBuLmFyZWFQYXRoIDogbi5ncmFwaFBhdGgpLAoJCQkJCQlyID0gby5sZW5ndGgsCgkJCQkJCXMgPSBuLmNoYXJ0LAoJCQkJCQlsID0gcy5wb2ludGVyLAoJCQkJCQljID0gcy5yZW5kZXJlciwKCQkJCQkJZCA9IHMub3B0aW9ucy50b29sdGlwLnNuYXAsCgkJCQkJCXAgPSBuLnRyYWNrZXIsCgkJCQkJCWggPSBpLmN1cnNvciwKCQkJCQkJdSA9IGggJiYgewoJCQkJCQkJY3Vyc29yOiBoCgkJCQkJCX0sCgkJCQkJCW0gPSBuLnNpbmdsZVBvaW50cywKCQkJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJcy5ob3ZlclNlcmllcyAhPT0gbiAmJiBuLm9uTW91c2VPdmVyKCkKCQkJCQkJfSwKCQkJCQkJZyA9ICJyZ2JhKDE5MiwxOTIsMTkyLCIgKyAoT2UgPyAxZS00IDogLjAwMikgKyAiKSI7CgkJCQkJaWYgKHIgJiYgIWEpCgkJCQkJCWZvciAodCA9IHIgKyAxOyB0LS07KSBvW3RdID09PSBldCAmJiBvLnNwbGljZSh0ICsgMSwgMCwgb1t0ICsgMV0gLSBkLCBvW3QgKyAyXSwgdHQpLCAodCAmJiBvW3RdID09PSBldCB8fCB0ID09PSByKSAmJiBvLnNwbGljZSh0LCAwLCB0dCwgb1t0IC0gMl0gKyBkLCBvW3QgLSAxXSk7CgkJCQkJZm9yICh0ID0gMDsgdCA8IG0ubGVuZ3RoOyB0KyspIGUgPSBtW3RdLCBvLnB1c2goZXQsIGUucGxvdFggLSBkLCBlLnBsb3RZLCB0dCwgZS5wbG90WCArIGQsIGUucGxvdFkpOwoJCQkJCXAgPyBwLmF0dHIoewoJCQkJCQlkOiBvCgkJCQkJfSkgOiAobi50cmFja2VyID0gYy5wYXRoKG8pLmF0dHIoewoJCQkJCQkic3Ryb2tlLWxpbmVqb2luIjogInJvdW5kIiwKCQkJCQkJdmlzaWJpbGl0eTogbi52aXNpYmxlID8gVmUgOiBKZSwKCQkJCQkJc3Ryb2tlOiBnLAoJCQkJCQlmaWxsOiBhID8gZyA6IFFlLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogaS5saW5lV2lkdGggKyAoYSA/IDAgOiAyICogZCksCgkJCQkJCXpJbmRleDogMgoJCQkJCX0pLmFkZChuLmdyb3VwKSwgbXQoW24udHJhY2tlciwgbi5tYXJrZXJHcm91cF0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5hZGRDbGFzcyhaZSArICJ0cmFja2VyIikub24oIm1vdXNlb3ZlciIsIGYpLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWwub25UcmFja2VyTW91c2VPdXQoZSkKCQkJCQkJfSkuY3NzKHUpLCBVICYmIGUub24oInRvdWNoc3RhcnQiLCBmKQoJCQkJCX0pKQoJCQkJfQoJCQl9OwoJCQlzdC5jb2x1bW4gJiYgKGVuLnByb3RvdHlwZS5kcmF3VHJhY2tlciA9IHJuLmRyYXdUcmFja2VyUG9pbnQpLCBzdC5waWUgJiYgKHN0LnBpZS5wcm90b3R5cGUuZHJhd1RyYWNrZXIgPSBybi5kcmF3VHJhY2tlclBvaW50KSwgc3Quc2NhdHRlciAmJiAobm4ucHJvdG90eXBlLmRyYXdUcmFja2VyID0gcm4uZHJhd1RyYWNrZXJQb2ludCksIGEoSHQucHJvdG90eXBlLCB7CgkJCQlzZXRJdGVtRXZlbnRzOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSB0aGlzOwoJCQkJCShuID8gdCA6IGUubGVnZW5kR3JvdXApLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJZS5zZXRTdGF0ZShhdCksIHQuY3NzKG8ub3B0aW9ucy5pdGVtSG92ZXJTdHlsZSkKCQkJCQl9KS5vbigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKCQkJCQkJdC5jc3MoZS52aXNpYmxlID8gaSA6IGEpLCBlLnNldFN0YXRlKCkKCQkJCQl9KS5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gImxlZ2VuZEl0ZW1DbGljayIsCgkJCQkJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJZS5zZXRWaXNpYmxlKCkKCQkJCQkJCX07CgkJCQkJCXQgPSB7CgkJCQkJCQlicm93c2VyRXZlbnQ6IHQKCQkJCQkJfSwgZS5maXJlUG9pbnRFdmVudCA/IGUuZmlyZVBvaW50RXZlbnQobiwgdCwgaSkgOiB2dChlLCBuLCB0LCBpKQoJCQkJCX0pCgkJCQl9LAoJCQkJY3JlYXRlQ2hlY2tib3hGb3JJdGVtOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzOwoJCQkJCWUuY2hlY2tib3ggPSB3KCJpbnB1dCIsIHsKCQkJCQkJdHlwZTogImNoZWNrYm94IiwKCQkJCQkJY2hlY2tlZDogZS5zZWxlY3RlZCwKCQkJCQkJZGVmYXVsdENoZWNrZWQ6IGUuc2VsZWN0ZWQKCQkJCQl9LCB0Lm9wdGlvbnMuaXRlbUNoZWNrYm94U3R5bGUsIHQuY2hhcnQuY29udGFpbmVyKSwgeHQoZS5jaGVja2JveCwgImNsaWNrIiwgZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgbiA9IHQudGFyZ2V0OwoJCQkJCQl2dChlLCAiY2hlY2tib3hDbGljayIsIHsKCQkJCQkJCWNoZWNrZWQ6IG4uY2hlY2tlZAoJCQkJCQl9LCBmdW5jdGlvbigpIHsKCQkJCQkJCWUuc2VsZWN0KCkKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfQoJCQl9KSwgRy5sZWdlbmQuaXRlbVN0eWxlLmN1cnNvciA9ICJwb2ludGVyIiwgYShGLnByb3RvdHlwZSwgewoJCQkJc2hvd1Jlc2V0Wm9vbTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gRy5sYW5nLAoJCQkJCQluID0gZS5vcHRpb25zLmNoYXJ0LnJlc2V0Wm9vbUJ1dHRvbiwKCQkJCQkJaSA9IG4udGhlbWUsCgkJCQkJCWEgPSBpLnN0YXRlcywKCQkJCQkJbyA9ICJjaGFydCIgPT09IG4ucmVsYXRpdmVUbyA/IG51bGwgOiAicGxvdEJveCI7CgkJCQkJdGhpcy5yZXNldFpvb21CdXR0b24gPSBlLnJlbmRlcmVyLmJ1dHRvbih0LnJlc2V0Wm9vbSwgbnVsbCwgbnVsbCwgZnVuY3Rpb24oKSB7CgkJCQkJCWUuem9vbU91dCgpCgkJCQkJfSwgaSwgYSAmJiBhLmhvdmVyKS5hdHRyKHsKCQkJCQkJYWxpZ246IG4ucG9zaXRpb24uYWxpZ24sCgkJCQkJCXRpdGxlOiB0LnJlc2V0Wm9vbVRpdGxlCgkJCQkJfSkuYWRkKCkuYWxpZ24obi5wb3NpdGlvbiwgITEsIG8pCgkJCQl9LAoJCQkJem9vbU91dDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCXZ0KGUsICJzZWxlY3Rpb24iLCB7CgkJCQkJCXJlc2V0U2VsZWN0aW9uOiAhMAoJCQkJCX0sIGZ1bmN0aW9uKCkgewoJCQkJCQllLnpvb20oKQoJCQkJCX0pCgkJCQl9LAoJCQkJem9vbTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcywKCQkJCQkJYSA9IGkucG9pbnRlciwKCQkJCQkJbyA9ICExOwoJCQkJCSFlIHx8IGUucmVzZXRTZWxlY3Rpb24gPyBtdChpLmF4ZXMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdCA9IGUuem9vbSgpCgkJCQkJfSkgOiBtdChlLnhBeGlzLmNvbmNhdChlLnlBeGlzKSwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgbiA9IGUuYXhpcywKCQkJCQkJCWkgPSBuLmlzWEF4aXM7CgkJCQkJCShhW2kgPyAiem9vbVgiIDogInpvb21ZIl0gfHwgYVtpID8gInBpbmNoWCIgOiAicGluY2hZIl0pICYmICh0ID0gbi56b29tKGUubWluLCBlLm1heCksIG4uZGlzcGxheUJ0biAmJiAobyA9ICEwKSkKCQkJCQl9KSwgbiA9IGkucmVzZXRab29tQnV0dG9uLCBvICYmICFuID8gaS5zaG93UmVzZXRab29tKCkgOiAhbyAmJiBsKG4pICYmIChpLnJlc2V0Wm9vbUJ1dHRvbiA9IG4uZGVzdHJveSgpKSwgdCAmJiBpLnJlZHJhdyhfKGkub3B0aW9ucy5jaGFydC5hbmltYXRpb24sIGUgJiYgZS5hbmltYXRpb24sIGkucG9pbnRDb3VudCA8IDEwMCkpCgkJCQl9LAoJCQkJcGFuOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0gaS5ob3ZlclBvaW50czsKCQkJCQlhICYmIG10KGEsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5zZXRTdGF0ZSgpCgkJCQkJfSksIG10KCJ4eSIgPT09IHQgPyBbMSwgMF0gOiBbMV0sIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIGEgPSBlW3QgPyAiY2hhcnRYIiA6ICJjaGFydFkiXSwKCQkJCQkJCW8gPSBpW3QgPyAieEF4aXMiIDogInlBeGlzIl1bMF0sCgkJCQkJCQlyID0gaVt0ID8gIm1vdXNlRG93blgiIDogIm1vdXNlRG93blkiXSwKCQkJCQkJCXMgPSAoby5wb2ludFJhbmdlIHx8IDApIC8gMiwKCQkJCQkJCWwgPSBvLmdldEV4dHJlbWVzKCksCgkJCQkJCQljID0gby50b1ZhbHVlKHIgLSBhLCAhMCkgKyBzLAoJCQkJCQkJZCA9IG8udG9WYWx1ZShyICsgaVt0ID8gInBsb3RXaWR0aCIgOiAicGxvdEhlaWdodCJdIC0gYSwgITApIC0gczsKCQkJCQkJby5zZXJpZXMubGVuZ3RoICYmIGMgPiB5ZShsLmRhdGFNaW4sIGwubWluKSAmJiBkIDwgYmUobC5kYXRhTWF4LCBsLm1heCkgJiYgKG8uc2V0RXh0cmVtZXMoYywgZCwgITEsICExLCB7CgkJCQkJCQl0cmlnZ2VyOiAicGFuIgoJCQkJCQl9KSwgbiA9ICEwKSwgaVt0ID8gIm1vdXNlRG93blgiIDogIm1vdXNlRG93blkiXSA9IGEKCQkJCQl9KSwgbiAmJiBpLnJlZHJhdyghMSksIHgoaS5jb250YWluZXIsIHsKCQkJCQkJY3Vyc29yOiAibW92ZSIKCQkJCQl9KQoJCQkJfQoJCQl9KSwgYShHdC5wcm90b3R5cGUsIHsKCQkJCXNlbGVjdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uc2VyaWVzLAoJCQkJCQlhID0gaS5jaGFydDsKCQkJCQllID0gXyhlLCAhbi5zZWxlY3RlZCksIG4uZmlyZVBvaW50RXZlbnQoZSA/ICJzZWxlY3QiIDogInVuc2VsZWN0IiwgewoJCQkJCQlhY2N1bXVsYXRlOiB0CgkJCQkJfSwgZnVuY3Rpb24oKSB7CgkJCQkJCW4uc2VsZWN0ZWQgPSBuLm9wdGlvbnMuc2VsZWN0ZWQgPSBlLCBpLm9wdGlvbnMuZGF0YVt1dChuLCBpLmRhdGEpXSA9IG4ub3B0aW9ucywgbi5zZXRTdGF0ZShlICYmIG90KSwgdCB8fCBtdChhLmdldFNlbGVjdGVkUG9pbnRzKCksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUuc2VsZWN0ZWQgJiYgZSAhPT0gbiAmJiAoZS5zZWxlY3RlZCA9IGUub3B0aW9ucy5zZWxlY3RlZCA9ICExLCBpLm9wdGlvbnMuZGF0YVt1dChlLCBpLmRhdGEpXSA9IGUub3B0aW9ucywgZS5zZXRTdGF0ZShpdCksIGUuZmlyZVBvaW50RXZlbnQoInVuc2VsZWN0IikpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sCgkJCQlvbk1vdXNlT3ZlcjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcywKCQkJCQkJbiA9IHQuc2VyaWVzLAoJCQkJCQlpID0gbi5jaGFydCwKCQkJCQkJYSA9IGkudG9vbHRpcCwKCQkJCQkJbyA9IGkuaG92ZXJQb2ludDsKCQkJCQlvICYmIG8gIT09IHQgJiYgby5vbk1vdXNlT3V0KCksIHQuZmlyZVBvaW50RXZlbnQoIm1vdXNlT3ZlciIpLCAhYSB8fCBhLnNoYXJlZCAmJiAhbi5ub1NoYXJlZFRvb2x0aXAgfHwgYS5yZWZyZXNoKHQsIGUpLCB0LnNldFN0YXRlKGF0KSwgaS5ob3ZlclBvaW50ID0gdAoJCQkJfSwKCQkJCW9uTW91c2VPdXQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5zZXJpZXMuY2hhcnQsCgkJCQkJCXQgPSBlLmhvdmVyUG9pbnRzOwoJCQkJCXRoaXMuZmlyZVBvaW50RXZlbnQoIm1vdXNlT3V0IiksIHQgJiYgLTEgIT09IHV0KHRoaXMsIHQpIHx8ICh0aGlzLnNldFN0YXRlKCksIGUuaG92ZXJQb2ludCA9IG51bGwpCgkJCQl9LAoJCQkJaW1wb3J0RXZlbnRzOiBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIXRoaXMuaGFzSW1wb3J0ZWRFdmVudHMpIHsKCQkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQkJbiA9IG8odC5zZXJpZXMub3B0aW9ucy5wb2ludCwgdC5vcHRpb25zKSwKCQkJCQkJCWkgPSBuLmV2ZW50czsKCQkJCQkJdC5ldmVudHMgPSBpOwoJCQkJCQlmb3IgKGUgaW4gaSkgeHQodCwgZSwgaVtlXSk7CgkJCQkJCXRoaXMuaGFzSW1wb3J0ZWRFdmVudHMgPSAhMAoJCQkJCX0KCQkJCX0sCgkJCQlzZXRTdGF0ZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwucGxvdFgsCgkJCQkJCWQgPSBsLnBsb3RZLAoJCQkJCQlwID0gbC5zZXJpZXMsCgkJCQkJCWggPSBwLm9wdGlvbnMuc3RhdGVzLAoJCQkJCQl1ID0gQnRbcC50eXBlXS5tYXJrZXIgJiYgcC5vcHRpb25zLm1hcmtlciwKCQkJCQkJbSA9IHUgJiYgIXUuZW5hYmxlZCwKCQkJCQkJZiA9IHUgJiYgdS5zdGF0ZXNbZV0sCgkJCQkJCWcgPSBmICYmIGYuZW5hYmxlZCA9PT0gITEsCgkJCQkJCV8gPSBwLnN0YXRlTWFya2VyR3JhcGhpYywKCQkJCQkJeCA9IGwubWFya2VyIHx8IHt9LAoJCQkJCQl3ID0gcC5jaGFydCwKCQkJCQkJdiA9IHAuaGFsbzsKCQkJCQllID0gZSB8fCBpdCwgcyA9IGwucG9pbnRBdHRyW2VdIHx8IHAucG9pbnRBdHRyW2VdLCBlID09PSBsLnN0YXRlICYmICF0IHx8IGwuc2VsZWN0ZWQgJiYgZSAhPT0gb3QgfHwgaFtlXSAmJiBoW2VdLmVuYWJsZWQgPT09ICExIHx8IGUgJiYgKGcgfHwgbSAmJiBmLmVuYWJsZWQgPT09ICExKSB8fCBlICYmIHguc3RhdGVzICYmIHguc3RhdGVzW2VdICYmIHguc3RhdGVzW2VdLmVuYWJsZWQgPT09ICExIHx8IChsLmdyYXBoaWMgPyAobiA9IHUgJiYgbC5ncmFwaGljLnN5bWJvbE5hbWUgJiYgcy5yLCBsLmdyYXBoaWMuYXR0cihvKHMsIG4gPyB7CgkJCQkJCXg6IGMgLSBuLAoJCQkJCQl5OiBkIC0gbiwKCQkJCQkJd2lkdGg6IDIgKiBuLAoJCQkJCQloZWlnaHQ6IDIgKiBuCgkJCQkJfSA6IHt9KSksIF8gJiYgXy5oaWRlKCkpIDogKGUgJiYgZiAmJiAobiA9IGYucmFkaXVzLCByID0geC5zeW1ib2wgfHwgcC5zeW1ib2wsIF8gJiYgXy5jdXJyZW50U3ltYm9sICE9PSByICYmIChfID0gXy5kZXN0cm95KCkpLCBfID8gX1t0ID8gImFuaW1hdGUiIDogImF0dHIiXSh7CgkJCQkJCXg6IGMgLSBuLAoJCQkJCQl5OiBkIC0gbgoJCQkJCX0pIDogciAmJiAocC5zdGF0ZU1hcmtlckdyYXBoaWMgPSBfID0gdy5yZW5kZXJlci5zeW1ib2wociwgYyAtIG4sIGQgLSBuLCAyICogbiwgMiAqIG4pLmF0dHIocykuYWRkKHAubWFya2VyR3JvdXApLCBfLmN1cnJlbnRTeW1ib2wgPSByKSksIF8gJiYgX1tlICYmIHcuaXNJbnNpZGVQbG90KGMsIGQsIHcuaW52ZXJ0ZWQpID8gInNob3ciIDogImhpZGUiXSgpKSwgaSA9IGhbZV0gJiYgaFtlXS5oYWxvLCBpICYmIGkuc2l6ZSA/ICh2IHx8IChwLmhhbG8gPSB2ID0gdy5yZW5kZXJlci5wYXRoKCkuYWRkKHAuc2VyaWVzR3JvdXApKSwgdi5hdHRyKGEoewoJCQkJCQlmaWxsOiBUdChsLmNvbG9yIHx8IHAuY29sb3IpLnNldE9wYWNpdHkoaS5vcGFjaXR5KS5nZXQoKQoJCQkJCX0sIGkuYXR0cmlidXRlcykpW3QgPyAiYW5pbWF0ZSIgOiAiYXR0ciJdKHsKCQkJCQkJZDogbC5oYWxvUGF0aChpLnNpemUpCgkJCQkJfSkpIDogdiAmJiB2LmF0dHIoewoJCQkJCQlkOiBbXQoJCQkJCX0pLCBsLnN0YXRlID0gZSkKCQkJCX0sCgkJCQloYWxvUGF0aDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5zZXJpZXMsCgkJCQkJCW4gPSB0LmNoYXJ0LAoJCQkJCQlpID0gdC5nZXRQbG90Qm94KCksCgkJCQkJCWEgPSBuLmludmVydGVkOwoJCQkJCXJldHVybiBuLnJlbmRlcmVyLnN5bWJvbHMuY2lyY2xlKGkudHJhbnNsYXRlWCArIChhID8gdC55QXhpcy5sZW4gLSB0aGlzLnBsb3RZIDogdGhpcy5wbG90WCkgLSBlLCBpLnRyYW5zbGF0ZVkgKyAoYSA/IHQueEF4aXMubGVuIC0gdGhpcy5wbG90WCA6IHRoaXMucGxvdFkpIC0gZSwgMiAqIGUsIDIgKiBlKQoJCQkJfQoJCQl9KSwgYShYdC5wcm90b3R5cGUsIHsKCQkJCW9uTW91c2VPdmVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmNoYXJ0LAoJCQkJCQluID0gdC5ob3ZlclNlcmllczsKCQkJCQluICYmIG4gIT09IGUgJiYgbi5vbk1vdXNlT3V0KCksIGUub3B0aW9ucy5ldmVudHMubW91c2VPdmVyICYmIHZ0KGUsICJtb3VzZU92ZXIiKSwgZS5zZXRTdGF0ZShhdCksIHQuaG92ZXJTZXJpZXMgPSBlCgkJCQl9LAoJCQkJb25Nb3VzZU91dDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5vcHRpb25zLAoJCQkJCQluID0gZS5jaGFydCwKCQkJCQkJaSA9IG4udG9vbHRpcCwKCQkJCQkJYSA9IG4uaG92ZXJQb2ludDsKCQkJCQlhICYmIGEub25Nb3VzZU91dCgpLCBlICYmIHQuZXZlbnRzLm1vdXNlT3V0ICYmIHZ0KGUsICJtb3VzZU91dCIpLCAhaSB8fCB0LnN0aWNreVRyYWNraW5nIHx8IGkuc2hhcmVkICYmICFlLm5vU2hhcmVkVG9vbHRpcCB8fCBpLmhpZGUoKSwgZS5zZXRTdGF0ZSgpLCBuLmhvdmVyU2VyaWVzID0gbnVsbAoJCQkJfSwKCQkJCXNldFN0YXRlOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLAoJCQkJCQlpID0gbi5vcHRpb25zLAoJCQkJCQlhID0gbi5ncmFwaCwKCQkJCQkJbyA9IG4uZ3JhcGhOZWcsCgkJCQkJCXIgPSBpLnN0YXRlcywKCQkJCQkJcyA9IGkubGluZVdpZHRoOwoJCQkJCWlmIChlID0gZSB8fCBpdCwgbi5zdGF0ZSAhPT0gZSkgewoJCQkJCQlpZiAobi5zdGF0ZSA9IGUsIHJbZV0gJiYgcltlXS5lbmFibGVkID09PSAhMSkgcmV0dXJuOwoJCQkJCQllICYmIChzID0gcltlXS5saW5lV2lkdGggfHwgcyArIChyW2VdLmxpbmVXaWR0aFBsdXMgfHwgMCkpLCBhICYmICFhLmRhc2hzdHlsZSAmJiAodCA9IHsKCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBzCgkJCQkJCX0sIGEuYXR0cih0KSwgbyAmJiBvLmF0dHIodCkpCgkJCQkJfQoJCQkJfSwKCQkJCXNldFZpc2libGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmNoYXJ0LAoJCQkJCQlvID0gaS5sZWdlbmRJdGVtLAoJCQkJCQlyID0gYS5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcywKCQkJCQkJcyA9IGkudmlzaWJsZTsKCQkJCQlpLnZpc2libGUgPSBlID0gaS51c2VyT3B0aW9ucy52aXNpYmxlID0gZSA9PT0gVyA/ICFzIDogZSwgbiA9IGUgPyAic2hvdyIgOiAiaGlkZSIsIG10KFsiZ3JvdXAiLCAiZGF0YUxhYmVsc0dyb3VwIiwgIm1hcmtlckdyb3VwIiwgInRyYWNrZXIiXSwgZnVuY3Rpb24oZSkgewoJCQkJCQlpW2VdICYmIGlbZV1bbl0oKQoJCQkJCX0pLCBhLmhvdmVyU2VyaWVzID09PSBpICYmIGkub25Nb3VzZU91dCgpLCBvICYmIGEubGVnZW5kLmNvbG9yaXplSXRlbShpLCBlKSwgaS5pc0RpcnR5ID0gITAsIGkub3B0aW9ucy5zdGFja2luZyAmJiBtdChhLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLm9wdGlvbnMuc3RhY2tpbmcgJiYgZS52aXNpYmxlICYmIChlLmlzRGlydHkgPSAhMCkKCQkJCQl9KSwgbXQoaS5saW5rZWRTZXJpZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdC5zZXRWaXNpYmxlKGUsICExKQoJCQkJCX0pLCByICYmIChhLmlzRGlydHlCb3ggPSAhMCksIHQgIT09ICExICYmIGEucmVkcmF3KCksIHZ0KGksIG4pCgkJCQl9LAoJCQkJc2V0VG9vbHRpcFBvaW50czogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IFtdLAoJCQkJCQlkID0gbC54QXhpcywKCQkJCQkJcCA9IGQgJiYgZC5nZXRFeHRyZW1lcygpLAoJCQkJCQloID0gZCA/IGQudG9vbHRpcExlbiB8fCBkLmxlbiA6IGwuY2hhcnQucGxvdFNpemVYLAoJCQkJCQl1ID0gW107CgkJCQkJaWYgKGwub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nICE9PSAhMSAmJiAhbC5zaW5ndWxhclRvb2x0aXBzKSB7CgkJCQkJCWZvciAoZSAmJiAobC50b29sdGlwUG9pbnRzID0gbnVsbCksIG10KGwuc2VnbWVudHMgfHwgbC5wb2ludHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWMgPSBjLmNvbmNhdChlKQoJCQkJCQl9KSwgZCAmJiBkLnJldmVyc2VkICYmIChjID0gYy5yZXZlcnNlKCkpLCBsLm9yZGVyVG9vbHRpcFBvaW50cyAmJiBsLm9yZGVyVG9vbHRpcFBvaW50cyhjKSwgdCA9IGMubGVuZ3RoLCBzID0gMDsgdCA+IHM7IHMrKykKCQkJCQkJCWlmIChhID0gY1tzXSwgbyA9IGEueCwgbyA+PSBwLm1pbiAmJiBvIDw9IHAubWF4KQoJCQkJCQkJCWZvciAociA9IGNbcyArIDFdLCBuID0gaSA9PT0gVyA/IDAgOiBpICsgMSwgaSA9IGNbcyArIDFdID8geWUoYmUoMCwgd2UoKGEuY2xpZW50WCArIChyID8gci53cmFwcGVkQ2xpZW50WCB8fCByLmNsaWVudFggOiBoKSkgLyAyKSksIGgpIDogaDsgbiA+PSAwICYmIGkgPj0gbjspIHVbbisrXSA9IGE7CgkJCQkJCWwudG9vbHRpcFBvaW50cyA9IHUKCQkJCQl9CgkJCQl9LAoJCQkJc2hvdzogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5zZXRWaXNpYmxlKCEwKQoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuc2V0VmlzaWJsZSghMSkKCQkJCX0sCgkJCQlzZWxlY3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJdC5zZWxlY3RlZCA9IGUgPSBlID09PSBXID8gIXQuc2VsZWN0ZWQgOiBlLCB0LmNoZWNrYm94ICYmICh0LmNoZWNrYm94LmNoZWNrZWQgPSBlKSwgdnQodCwgZSA/ICJzZWxlY3QiIDogInVuc2VsZWN0IikKCQkJCX0sCgkJCQlkcmF3VHJhY2tlcjogcm4uZHJhd1RyYWNrZXJHcmFwaAoJCQl9KSwgYShsdCwgewoJCQkJQXhpczogUiwKCQkJCUNoYXJ0OiBGLAoJCQkJQ29sb3I6IFR0LAoJCQkJUG9pbnQ6IEd0LAoJCQkJVGljazogTSwKCQkJCVJlbmRlcmVyOiBILAoJCQkJU2VyaWVzOiBYdCwKCQkJCVNWR0VsZW1lbnQ6IEQsCgkJCQlTVkdSZW5kZXJlcjogUHQsCgkJCQlhcnJheU1pbjogTiwKCQkJCWFycmF5TWF4OiBULAoJCQkJY2hhcnRzOiAkZSwKCQkJCWRhdGVGb3JtYXQ6IFgsCgkJCQlmb3JtYXQ6IEIsCgkJCQlwYXRoQW5pbTogWiwKCQkJCWdldE9wdGlvbnM6IEwsCgkJCQloYXNCaWRpQnVnOiBMZSwKCQkJCWlzVG91Y2hEZXZpY2U6IHFlLAoJCQkJbnVtYmVyRm9ybWF0OiBiLAoJCQkJc2VyaWVzVHlwZXM6IHN0LAoJCQkJc2V0T3B0aW9uczogTywKCQkJCWFkZEV2ZW50OiB4dCwKCQkJCXJlbW92ZUV2ZW50OiB3dCwKCQkJCWNyZWF0ZUVsZW1lbnQ6IHcsCgkJCQlkaXNjYXJkRWxlbWVudDogSSwKCQkJCWNzczogeCwKCQkJCWVhY2g6IG10LAoJCQkJZXh0ZW5kOiBhLAoJCQkJbWFwOiBfdCwKCQkJCW1lcmdlOiBvLAoJCQkJcGljazogXywKCQkJCXNwbGF0OiBnLAoJCQkJZXh0ZW5kQ2xhc3M6IHYsCgkJCQlwSW50OiByLAoJCQkJd3JhcDogaywKCQkJCXN2ZzogT2UsCgkJCQljYW52YXM6IERlLAoJCQkJdm1sOiAhT2UgJiYgIURlLAoJCQkJcHJvZHVjdDogSGUsCgkJCQl2ZXJzaW9uOiBVZQoJCQl9KQoJCX0oKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iaG91c2UtdHJlbmQtYm94IHt7cGFnZXR5cGV9fSB0cmVuZC1ib3h7e2RhdGEudHJlbmR9fSI+XG4gIDxkaXYgY2xhc3M9ImhvdXNldC1idG4iPlxuICAgIDxhIGNsYXNzPSJob3VzZS10cmVuZC1iZyIgdGl0bGU9IuaSuOaIv+S7tyI+PC9hPlxuICAgIDxkaXYgY2xhc3M9Imh0LXRyZW5kLWRlc2MiPlxuICAgICAgPHNwYW4gY2xhc3M9ImgtY29sb3J7e2RhdGEudHJlbmR9fSI+e3tkYXRhLnRyZW5kTXNnfX08L3NwYW4+XG4gICAgICA8ZW0gY2xhc3M9InRyZW5kLWljb257e2RhdGEudHJlbmR9fSBob3VzZS10cmVuZC1iZyI+PC9lbT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJodC1wcmljZS1yZW1pbmQiIGRhdGEtaWQ9Int7aG91c2Vjb2RlfX0iPlxuICAgICAgPGVtIGNsYXNzPSJob3VzZS10cmVuZC1iZyI+PC9lbT5cbiAgICAgIDxzcGFuPumZjeS7t+aPkOmGkjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9ImhvdXNldC1kZXRhaWwiPlxuICAgIDxkaXYgY2xhc3M9ImhvdXNlLXRyZW5kLWltZyIgaWQ9ImhvdXNlLXRyZW5kLXt7aG91c2Vjb2RlfX0iIGRhdGEtc3JjPSJ7e3NlcnZlcn19e3tkYXRhLnRyZW5kSW1nfX0md2lkdGg9NDYwJmhlaWdodD0yMTAmcGxvdEZvbnRTaXplPTEwIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJob3VzZS1wcmljZS1xcmNvZGUiPlxuICAgICAgPHNwYW4gY2xhc3M9Im1ndG9wIj7mr4/ml6XmiJDkuqTooYzmg4U8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0icmVkLXByaSI+5pyA5paw6ZmN5Lu35oi/5rqQPC9zcGFuPlxuICAgICAgPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvaG91c2VwcmktcXJjb2RlMi5wbmciPlxuICAgICAgPHA+5omr56CB5YWz5rOo5pK45oi/5Lu3PC9wPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InByaWNlLXJhbmdlIj5cbiAgICAgIHt7aWYgZGF0YS5tYXhQcmljZSA9PSBkYXRhLm1pblByaWNlfX1cbiAgICAgICAgPHNwYW4gPueOsOS7t++8mnt7ZGF0YS5tYXhQcmljZX195LiHPC9zcGFuPlxuICAgICAge3tlbHNlfX1cbiAgICAgICAgPHNwYW4gY2xhc3M9InRvcHByaSI+5pyA6auY5Lu3Ont7ZGF0YS5tYXhQcmljZX195LiHPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0ibG93cHJpIj7mnIDkvY7ku7c6e3tkYXRhLm1pblByaWNlfX3kuIc8L3NwYW4+XG4gICAgICB7ey9pZn19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0idHJlbmQteUF4aXMtdGxlIj7ljZXkvY0o5LiHKTwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImNoYW5nZV90cmVuZF9idG4iPlxuICAgICAgPGRpdj5cbiAgICAgICAgPHNwYW4gY2xhc3M9ImhvdXNlLXRyZW5kLWIgdHJlbmQtY2hvb3NlIj7miL/mupDooYzmg4U8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjb21tdW5pdHktdHJlbmQtYiI+5bCP5Yy66KGM5oOFPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJjb21tdW5pdHktcHJpY2UiIGlkPSJjb21tdW5pdHkte3tob3VzZWNvZGV9fSIgZGF0YS11PSJ7e3NlcnZlcn19e3tkYXRhLmNvbW11bml0eVByaWNlfX0iIGRhdGEtYz0ie3tkYXRhLmNvbW11bml0eX19Ij48L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Imh0LXd4cXJjb2RlIj5cbiAgICA8c3BhbiBjbGFzcz0iaHQtd3gtc3AxIj7lhbPms6jlhazkvJflj7c8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9Imh0LXd4LXNwMiI+5oi/5rqQ6ZmN5Lu35a6e5pe25o+Q6YaSPC9zcGFuPlxuICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL2hvdXNlcHJpLXFyY29kZTIucG5nIj5cbiAgICA8c3BhbiBjbGFzcz0iaHQtd3gtc3AzIj7kuI3lho3mj5DnpLo8L3NwYW4+XG4gIDwvZGl2PlxuXG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJiZGV4dF9tYl9iZyIgY2xhc3M9Int7cGFnZXR5cGV9fSB0cmVuZC1ib3h7e2RhdGEudHJlbmR9fSI+XG4gIDxkaXYgaWQ9ImJkZXh0X21pbmliYXIiID5cbiAgICA8ZGl2IGNsYXNzPSJiZGV4dC10b3B0YWJzIj5cbiAgICAgIDxkaXYgY2xhc3M9ImJkZXh0LW1pbmktbG9nbyI+XG4gICAgICAgIDxhID5cbiAgICAgICAgICA8ZW0gY2xhc3M9ImJkZXh0LWJnIj48L2VtPlxuICAgICAgICA8L2E+XG4gICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSJiZGV4dC1taW5pLXRyZW5kIj5cbiAgICAgICAgPGVtIGNsYXNzPSJiZGV4dC1iZyB0cmVuZC1pY29ue3tkYXRhLnRyZW5kfX0iPjwvZW0+XG4gICAgICAgIDxzcGFuID57e2RhdGEudHJlbmRNc2d9fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iaG91c2V0LWRldGFpbCI+XG4gICAgPGRpdiBjbGFzcz0iaG91c2UtdHJlbmQtaW1nIj5cbiAgICAgIDxpbWcgc3JjPSIiIGRhdGEtc3JjPSJ7e3NlcnZlcn19e3tkYXRhLnRyZW5kSW1nfX0md2lkdGg9NDYwJmhlaWdodD0yMTAmcGxvdEZvbnRTaXplPTEwIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJob3VzZS1wcmljZS1xcmNvZGUiPlxuICAgICAgPHNwYW4gY2xhc3M9Im1ndG9wIj7mr4/ml6XmiJDkuqTooYzmg4U8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0icmVkLXByaSI+5oi/5rqQ5Y6G5Y+y5oql5Lu3PC9zcGFuPlxuICAgICAgPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvaG91c2VwcmktcXJjb2RlLmpwZyI+XG4gICAgICA8cD7miavnoIHlhbPms6jmkrjmiL/ku7c8L3A+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icHJpY2UtcmFuZ2UiPlxuICAgICAge3tpZiBkYXRhLm1heFByaWNlID09IGRhdGEubWluUHJpY2V9fVxuICAgICAgICA8c3BhbiA+546w5Lu377yae3tkYXRhLm1heFByaWNlfX3kuIc8L3NwYW4+XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICA8c3BhbiBjbGFzcz0idG9wcHJpIj7mnIDpq5jku7fvvJp7e2RhdGEubWF4UHJpY2V9feS4hzwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Imxvd3ByaSI+5pyA5L2O5Lu377yae3tkYXRhLm1pblByaWNlfX3kuIc8L3NwYW4+XG4gICAgICB7ey9pZn19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmhvdXNlX2NlbnRhbmV0MiAuaG91c2UtaXRlbSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICB9XG4gIC5ob3VzZV81aTVqICNiZGV4dF9tYl9iZy5kcHBhZ2UsIC5ob3VzZV9jZW50YW5ldDIgI2JkZXh0X21iX2JnLmRwcGFnZSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gICNiZGV4dF9tYl9iZy5kcHBhZ2Uge1xuICAgIGhlaWdodDogNDBweDtcbiAgfVxuICAuaG91c2UtdHJlbmQtYmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMveGJ0L2hvdXNlLXRyZW5kLWljb24yLnBuZyIpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmhvdXNlLXRyZW5kLWJveCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgYm90dG9tOiA1NnB4O1xuICAgICAgd2lkdGg6IDI4MnB4O1xuICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XG4gICAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgICAgIGZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiwi5b6u6L2v6ZuF6buRIlxuICAgIH1cbiAgICAjYmRleHRfbWJfYmcgI2JkZXh0X21pbmliYXIge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDBweDtcbiAgICAgIGJvdHRvbTogNTZweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQyICNiZGV4dF9tYl9iZyAjYmRleHRfbWluaWJhciB7XG4gICAgICByaWdodDogNnB4O1xuICAgICAgYm90dG9tOiAyOXB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQyICNiZGV4dF9tYl9iZy5kcHBhZ2UgI2JkZXh0X21pbmliYXIge1xuICAgICAgcmlnaHQ6IC0zMnB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQgI2JkZXh0X21iX2JnLmRwcGFnZSAjYmRleHRfbWluaWJhciB7XG4gICAgICByaWdodDogLTE4cHg7XG4gICAgfVxuICAgIC5ob3VzZV81aTVqICNiZGV4dF9tYl9iZyAjYmRleHRfbWluaWJhciB7XG4gICAgICBib3R0b206IDMwcHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldCAjYmRleHRfbWJfYmcgI2JkZXh0X21pbmliYXIge1xuICAgICAgYm90dG9tOiAyMHB4O1xuICAgIH1cbiAgICAjYmRleHRfbWJfYmcuZHBwYWdlICNiZGV4dF9taW5pYmFyIHtcbiAgICAgIGJvdHRvbTogLThweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuaG91c2UtdHJlbmQtYm94ICoge1xuICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgfVxuICAgIC5ob3VzZS10cmVuZC1ib3gudHJlbmQtYm94LTEgLmh0LXRyZW5kLWRlc2Mge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgICB9XG4gICAgLmhvdXNlX2xpYW5qaWEyIC5ob3VzZS10cmVuZC1ib3gge1xuICAgICAgYm90dG9tOiAzMnB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQgLmhvdXNlLXRyZW5kLWJveCB7XG4gICAgICByaWdodDogNDBweDtcbiAgICAgIGJvdHRvbTogMjJweDtcbiAgICB9XG4gICAgLmhvdXNlX2NlbnRhbmV0MiAuaG91c2UtdHJlbmQtYm94IHtcbiAgICAgIHJpZ2h0OiA1MnB4O1xuICAgICAgYm90dG9tOiAzMnB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQgLmhvdXNlLXRyZW5kLWJveC5kcHBhZ2Uge1xuICAgICAgcmlnaHQ6IC0xNnB4O1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldDIgLmhvdXNlLXRyZW5kLWJveC5kcHBhZ2Uge1xuICAgICAgcmlnaHQ6IC0zOHB4O1xuICAgICAgYm90dG9tOiAtMTVweDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV81aTVqIC5ob3VzZS10cmVuZC1ib3gge1xuICAgICAgYm90dG9tOiAzMHB4O1xuICAgIH1cbiAgICAuaG91c2UtdHJlbmQtYm94LmRwcGFnZSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBib3R0b206IDBweDtcbiAgICB9XG4gICAgLmhvdXNlX2xpYW5qaWEyIC5ob3VzZS10cmVuZC1ib3guZHBwYWdlIHtcbiAgICAgIGJvdHRvbTogMXB4O1xuICAgIH1cbiAgICAuaG91c2V0LWJ0biB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG4gICAgLmhvdXNldC1idG46YWZ0ZXIge1xuICAgICAgY29udGVudDogIiI7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNsZWFyOiBib3RoO1xuICAgIH1cbiAgICAuaG91c2V0LWRldGFpbCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDMycHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgaGVpZ2h0OiAyODVweDtcbiAgICAgIHdpZHRoOiA1ODBweDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5OTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgICBib3gtc2hhZG93OiAwcHggNXB4IDE1cHggMCByZ2JhKDIzLDI1LDI3LDAuMTUpO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2JkZXh0X21iX2JnIC5ob3VzZXQtZGV0YWlsIHtcbiAgICAgIHRvcDogMTg4cHg7XG4gICAgICByaWdodDogMHB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQyICNiZGV4dF9tYl9iZyAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDE5NnB4O1xuICAgICAgcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgLmhvdXNlXzVpNWogI2JkZXh0X21iX2JnIC5ob3VzZXQtZGV0YWlsIHtcbiAgICAgIHRvcDogMTMzcHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldCAjYmRleHRfbWJfYmcgLmhvdXNldC1kZXRhaWwge1xuICAgICAgdG9wOiAyMzBweDtcbiAgICB9XG4gICAgI2JkZXh0X21iX2JnLmRwcGFnZSAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDk3cHg7XG4gICAgICByaWdodDogMTQ5cHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldDIgI2JkZXh0X21iX2JnLmRwcGFnZSAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDQ4cHg7XG4gICAgICByaWdodDogMjM1cHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldCAjYmRleHRfbWJfYmcuZHBwYWdlIC5ob3VzZXQtZGV0YWlsIHtcbiAgICAgIHRvcDogMTUycHg7XG4gICAgICByaWdodDogNTFweDtcbiAgICB9XG4gICAgLmhvdXNlXzVpNWogI2JkZXh0X21iX2JnLmRwcGFnZSAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDQ2cHg7XG4gICAgICByaWdodDogNzhweDtcbiAgICB9XG4gICAgLmhvdXNlLXRyZW5kLWltZyB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHdpZHRoOiA0NTJweDtcbiAgICAgIGhlaWdodDogMjE3cHg7XG4gICAgICBtYXJnaW4tdG9wOiAyOHB4O1xuICAgIH1cbiAgICAuaG91c2V0LWJ0biBhIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDMycHg7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZTZlNmU2O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTZweCAtNDhweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2Mge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB3aWR0aDogMTI0cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogMTI0cHg7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlNmU2ZTY7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQ6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjVmNjtcbiAgICB9XG4gICAgLmh0LXByaWNlLXJlbWluZCBzcGFuIHtcbiAgICAgIGNvbG9yOiAjZjc3MDViO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgIH1cbiAgICAuaHQtcHJpY2UtcmVtaW5kIGVtIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0zMHB4IC0yMnB4O1xuICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDIycHg7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQuaGFzcmVtaW5kIHNwYW4ge1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQuaGFzcmVtaW5kIGVtIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC01N3B4IC0yMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICAgIH1cbiAgICAuYmRleHQtbWluaS10cmVuZC5tc2hvdmVye1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgIzQyNTc2NjtcbiAgICAgIHotaW5kZXg6IDI7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjLm1zaG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjVmNjtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2Mgc3BhbiB7XG4gICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbWFyZ2luLWxlZnQ6IDIycHg7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjAge1xuICAgICAgY29sb3I6ICNmN2E4MmI7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjEge1xuICAgICAgY29sb3I6ICNmZjFlMWU7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjIsIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjMge1xuICAgICAgY29sb3I6ICMwYmFhNzQ7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjMge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvci0xIHtcbiAgICAgIGNvbG9yOiAjODg4O1xuICAgIH1cbiAgICAuaHQtdHJlbmQtZGVzYyBlbSB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyNnB4O1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2MgLnRyZW5kLWljb24wIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTJweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2MgLnRyZW5kLWljb24xIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY2cHggLTJweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2MgLnRyZW5kLWljb24yIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTVweCAtMnB4O1xuICAgIH1cbiAgICAuaHQtdHJlbmQtZGVzYyAudHJlbmQtaWNvbjMge1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNHB4IC0yMHB4O1xuICAgIH1cbiAgICAuaHQtdHJlbmQtZGVzYyAudHJlbmQtaWNvbi0xIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICNiZGV4dF9tYl9iZyAudHJlbmQtaWNvbjIsICNiZGV4dF9tYl9iZyAudHJlbmQtaWNvbjMge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IC0xMDlweDtcbiAgICB9XG4gICAgI2JkZXh0X21iX2JnIC50cmVuZC1pY29uMCB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggLTg0cHg7XG4gICAgfVxuICAgICNiZGV4dF9tYl9iZyAudHJlbmQtaWNvbjEge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IC01N3B4O1xuICAgIH1cbiAgICAjYmRleHRfbWJfYmcgLnRyZW5kLWljb24tMSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAudHJlbmQteUF4aXMtdGxlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMTFweDtcbiAgICAgIGxlZnQ6IDU3cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzU4NTg1ODtcbiAgICB9XG4gICAgLnByaWNlLXJhbmdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogOHB4O1xuICAgICAgcmlnaHQ6IDEyOXB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICB9XG4gICAgLnByaWNlLXJhbmdlIHNwYW4ge1xuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzUwNTA1MDtcbiAgICB9XG4gICAgLnByaWNlLXJhbmdlIC50b3Bwcmkge1xuICAgICAgY29sb3I6ICNlNjQzNDA7XG4gICAgfVxuICAgIC5wcmljZS1yYW5nZSAubG93cHJpIHtcbiAgICAgIGNvbG9yOiAjMGJhYTc0O1xuICAgICAgbWFyZ2luLWxlZnQ6IDE0cHg7XG4gICAgfVxuICAgIC5ob3VzZS1wcmljZS1xcmNvZGUge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgd2lkdGg6IDEyM3B4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZjBmMGYwO1xuICAgIH1cbiAgICAuaG91c2UtcHJpY2UtcXJjb2RlIHNwYW4ge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTRweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4IWltcG9ydGFudDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjMzUzNTM1O1xuICAgIH1cbiAgICAuaG91c2UtcHJpY2UtcXJjb2RlIC5tZ3RvcCB7XG4gICAgICBtYXJnaW4tdG9wOiA1OXB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB9XG4gICAgLmhvdXNlLXByaWNlLXFyY29kZSBpbWcge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrIWltcG9ydGFudDtcbiAgICAgIHdpZHRoOiAxMDBweCFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IGF1dG8haW1wb3J0YW50O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTFweDtcbiAgICB9XG4gICAgLmhvdXNlLXByaWNlLXFyY29kZSBwIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICB9XG4gICAgI2V4Y2hhbmdlTGlzdCAubGlzdC1ib2R5PmxpIHtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgaGVpZ2h0OiAxNjZweDtcbiAgICB9XG4gICAgLmhvdXNlLWJhc2ljLW1haW4ge1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBoZWlnaHQ6IDM3OHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2xpYW5qaWEgLmNvbnRlbnQgIHtcbiAgICAgIHBhZGRpbmctYm90dG9tOiA3MHB4O1xuICAgIH1cbiAgICAuaG91c2VfbGlhbmppYTIgLm0tbGlzdCBsaSB7XG4gICAgICBoZWlnaHQ6IDIxNHB4O1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5odC13eHFyY29kZSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDMycHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgd2lkdGg6IDEyNHB4O1xuICAgICAgaGVpZ2h0OiAxNzZweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkYWRlZTE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgei1pbmRleDogOTk5OTk5OTk5OTk5O1xuICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAxNXB4IDAgcmdiYSgyMywyNSwyNywwLjE1KTtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5odC13eHFyY29kZSAqIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAuaHQtd3hxcmNvZGUgc3BhbiB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAuaHQtd3hxcmNvZGUgaW1nIHtcbiAgICAgIHdpZHRoOiAxMDBweCFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IDEwMHB4IWltcG9ydGFudDtcbiAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMXB4O1xuICAgIH1cbiAgICAuaHQtd3gtc3AxIHtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBjb2xvcjogIzU4NTg1ODtcbiAgICB9XG4gICAgLmh0LXd4LXNwMiB7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICBjb2xvcjogI2ViNjg2MjtcbiAgICB9XG4gICAgLmh0LXd4LXNwMyB7XG4gICAgICBjb2xvcjogI2IyYjJiMjtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lIWltcG9ydGFudDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweCFpbXBvcnRhbnQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgLmNvbW11bml0eS1wcmljZSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBoZWlnaHQ6IDI0N3B4O1xuICAgICAgd2lkdGg6IDQ1MnB4O1xuICAgICAgdG9wOiAwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICB9XG4gICAgLmNoYW5nZV90cmVuZF9idG4ge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAxNnB4O1xuICAgICAgd2lkdGg6IDQ2MnB4O1xuICAgICAgei1pbmRleDogOTk7XG4gICAgfVxuICAgIC5jaGFuZ2VfdHJlbmRfYnRuIGRpdiB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgIH1cbiAgICAuY2hhbmdlX3RyZW5kX2J0biBzcGFuIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjM2ViZGVmO1xuICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICAgIGNvbG9yOiAjM2ViZGVmO1xuICAgICAgbWFyZ2luLWxlZnQ6IDcwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgLmNoYW5nZV90cmVuZF9idG4gc3Bhbi50cmVuZC1jaG9vc2Uge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzNlYmRlZjtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgIH1cbiAgICAuY2hhbmdlX3RyZW5kX2J0biAuaG91c2UtdHJlbmQtYiB7XG4gICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gbig5MiksCgkJCQlyID0gbigyNiksCgkJCQlzID0gdm9pZCAwLAoJCQkJbCA9IDAsCgkJCQljID0gewoJCQkJCWFkZENhcnQ6IG4oOTkpLAoJCQkJCWNoZWNrb3V0OiBuKDEwMCksCgkJCQkJc2hpcHBpbmcxOiBuKDEwMSksCgkJCQkJc2hpcHBpbmcyOiBuKDEwMiksCgkJCQkJY29udGludWUxOiBuKDEwMyksCgkJCQkJY29udGludWUyOiBuKDEwNCksCgkJCQkJY3JlZGl0aW5mbzogbigxMDUpLAoJCQkJCWFkZGNyZWRpdDogbigxMDYpLAoJCQkJCXByb21vY29kZTogbigxMDcpLAoJCQkJCWNob29zZUNyZWRpdDogbigxMDgpLAoJCQkJCWZpbmlzaGVkOiBuKDEwOSkKCQkJCX0sCgkJCQlkID0gewoJCQkJCWFkZENhcnQ6ICIjYnV5Ym94X2ZlYXR1cmVfZGl2ICNhZGRUb0NhcnQgLmEtYnV0dG9uLXN0YWNrIC5hLWJ1dHRvbi1pbnB1dCIsCgkJCQkJY2hlY2tvdXQ6ICIjaGxiLXB0Yy1idG4tbmF0aXZlIiwKCQkJCQlzaGlwcGluZzE6ICIjaWRlbnRpdHktYWRkLW5ldy1hZGRyZXNzICNlbnRlckFkZHJlc3NGdWxsTmFtZUNvbnRhaW5lciIsCgkJCQkJc2hpcHBpbmcyOiAiI2lkZW50aXR5LWFkZC1uZXctYWRkcmVzcyAjZW50ZXJBZGRyZXNzRnVsbE5hbWVDb250YWluZXIiLAoJCQkJCWNvbnRpbnVlMTogIiNzaGlwcGluZ09wdGlvbkZvcm1JZCAuYS1zcGFjaW5nLW1lZGl1bSAuY29udGludWUtYnV0dG9uIC5hLWJ1dHRvbi1pbm5lciIsCgkJCQkJY29udGludWUyOiAiI29yZGVyLXN1bW1hcnkgI29yZGVyLXN1bW1hcnktY29udGFpbmVyIC5jb250aW51ZS1idXR0b25zIC5hLWJ1dHRvbi1pbm5lciAjY29udGludWUtdG9wIiwKCQkJCQljcmVkaXRpbmZvOiAiI3dyYXBwZXItbmV3LWNjIiwKCQkJCQlhZGRjcmVkaXQ6ICIjd3JhcHBlci1uZXctY2MiLAoJCQkJCXByb21vY29kZTogIi5wbXRzLXJlZGVlbS1jbGFpbS1jb2RlLWZvcm0iLAoJCQkJCWNob29zZUNyZWRpdDogIiNuYXYtYmFyKy5hLWNvbnRhaW5lciAuYS1zcGFjaW5nLWJhc2UiLAoJCQkJCWZpbmlzaGVkOiAiI29yZGVyLXN1bW1hcnktYm94IgoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQoImJvZHkiKVswXTsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgbiA9IGZ1bmN0aW9uIGkoKSB7CgkJCQkJCQljbGVhclRpbWVvdXQocyksIHMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiBsKyssIDQ1ID09PSBsID8gdm9pZCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTVN1YnRyZWVNb2RpZmllZCIsIGksICExKSA6IHZvaWQgbSgpCgkJCQkJCQl9LCAyZTMpCgkJCQkJCX07CgkJCQkJCWUuYWRkRXZlbnRMaXN0ZW5lciAmJiBlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTVN1YnRyZWVNb2RpZmllZCIsIG4sICExKQoJCQkJCX0KCQkJCX0sCgkJCQloID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmICghKHQoIi5nd2RfIiArIGUpLmxlbmd0aCA+IDApKSB7CgkJCQkJCXIoImhhaXRhb19yZW1pbmRfIiArIGUpOwoJCQkJCQl2YXIgbyA9IGNbZV07CgkJCQkJCSJhZnRlciIgPT0gbiA/IHQoZFtlXSkuZXEoMCkuYWZ0ZXIoYS5jb21waWxlKG8pKHsKCQkJCQkJCWNfc2VydmVyOiBpLmNfc2VydmVyLAoJCQkJCQkJc19zZXJ2ZXI6IGkuc19zZXJ2ZXIKCQkJCQkJfSkpIDogImFwcGVuZCIgPT0gbiAmJiB0KGRbZV0pLmVxKDApLmFwcGVuZChhLmNvbXBpbGUobykoewoJCQkJCQkJY19zZXJ2ZXI6IGkuY19zZXJ2ZXIsCgkJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlcgoJCQkJCQl9KSkKCQkJCQl9CgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCXQoIi5iamRfYnRuX2JveCAuYmpkX2Nsb3NlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB0KCIuYmpkX2J0bl9ib3giKS5oaWRlKCksIG8uc2V0dGluZ3MoInNldF9oaWRlX3Nob3B0aXAiLCAiaGlkZV9zaG9wdGlwIiwgIjEiKSwgITEKCQkJCQl9KQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbigpIHsKCQkJCQkyID09IGkucGFnZUluZm8udHlwZSA/IGgoImFkZENhcnQiLCAiYWZ0ZXIiKSA6IHQoIiNobGItcHRjLWJ0bi1uYXRpdmUiKS5sZW5ndGggPiAwID8gaCgiY2hlY2tvdXQiLCAiYWZ0ZXIiKSA6IHQoIiNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MiKS5sZW5ndGggPiAwID8gaCgic2hpcHBpbmcxIiwgImFwcGVuZCIpIDogdCgiI3NoaXBwaW5nT3B0aW9uRm9ybUlkIC5hLXNwYWNpbmctbWVkaXVtIC5jb250aW51ZS1idXR0b24gLmEtYnV0dG9uLWlubmVyIikubGVuZ3RoID4gMCA/IChoKCJjb250aW51ZTEiLCAiYXBwZW5kIiksIHQoIiNzaGlwcGluZ09wdGlvbkZvcm1JZCAuYS1zcGFjaW5nLW1lZGl1bSAuY29udGludWUtYnV0dG9uIC5hLWJ1dHRvbi1pbm5lciAuYS1idXR0b24tdGV4dCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJdCgiI3dyYXBwZXItbmV3LWNjIikubGVuZ3RoID4gMCAmJiAoaCgiY3JlZGl0aW5mbyIsICJhcHBlbmQiKSwgaCgiYWRkY3JlZGl0IiwgImFwcGVuZCIpLCBoKCJjaG9vc2VDcmVkaXQiLCAiYXBwZW5kIikpCgkJCQkJCX0sIDE1MDApCgkJCQkJfSkpIDogdCgiI2NvbnRpbnVlLXRvcCIpLmxlbmd0aCA+IDAgPyAoaCgiY29udGludWUyIiwgImFmdGVyIiksIHQoIiN3cmFwcGVyLW5ldy1jYyIpLmxlbmd0aCA+IDAgJiYgKGgoImNyZWRpdGluZm8iLCAiYXBwZW5kIiksIGgoImFkZGNyZWRpdCIsICJhcHBlbmQiKSwgaCgiY2hvb3NlQ3JlZGl0IiwgImFwcGVuZCIpLCB0KCIjb3JkZXItc3VtbWFyeS1jb250YWluZXIgI2NvbnRpbnVlLXRvcCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaCgicHJvbW9jb2RlIiwgImFwcGVuZCIpLCBoKCJmaW5pc2hlZCIsICJhcHBlbmQiKSwgdCgiI29yZGVyLXN1bW1hcnktYm94IC5hLWJ1dHRvbi10ZXh0LnBsYWNlLXlvdXItb3JkZXItYnV0dG9uIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJcigiaGFpdGFvX3JlbWluZF9maW5pc2hvcmRlcnN1Y2Nlc3MiKQoJCQkJCQkJfSkKCQkJCQkJfSwgMWUzKQoJCQkJCX0pKSkgOiB0KCIucG10cy1yZWRlZW0tY2xhaW0tY29kZS1mb3JtIikubGVuZ3RoID4gMCA/IChoKCJwcm9tb2NvZGUiLCAiYXBwZW5kIiksIGgoImZpbmlzaGVkIiwgImFwcGVuZCIpLCB0KCIjb3JkZXItc3VtbWFyeS1ib3ggLmEtYnV0dG9uLXRleHQucGxhY2UteW91ci1vcmRlci1idXR0b24iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJcigiaGFpdGFvX3JlbWluZF9maW5pc2hvcmRlcnN1Y2Nlc3MiKQoJCQkJCX0pKSA6IHQoIiNvcmRlci1zdW1tYXJ5LWJveCAuYS1idXR0b24tdGV4dC5wbGFjZS15b3VyLW9yZGVyLWJ1dHRvbiIpLmxlbmd0aCA+IDAgJiYgKGgoInByb21vY29kZSIsICJhcHBlbmQiKSwgaCgiZmluaXNoZWQiLCAiYXBwZW5kIiksIHQoIiNvcmRlci1zdW1tYXJ5LWJveCAuYS1idXR0b24tdGV4dC5wbGFjZS15b3VyLW9yZGVyLWJ1dHRvbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlyKCJoYWl0YW9fcmVtaW5kX2ZpbmlzaG9yZGVyc3VjY2VzcyIpCgkJCQkJfSkpLCB0KCIjd3JhcHBlci1uZXctY2MiKS5sZW5ndGggPiAwICYmIChoKCJjcmVkaXRpbmZvIiwgImFwcGVuZCIpLCBoKCJhZGRjcmVkaXQiLCAiYXBwZW5kIiksIGgoImNob29zZUNyZWRpdCIsICJhcHBlbmQiKSksIHQoIiNjY0FkZENhcmQiKS5sZW5ndGggJiYgdCgiI2NjQWRkQ2FyZCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaCgiY3JlZGl0aW5mbyIsICJhcHBlbmQiKSwgaCgiYWRkY3JlZGl0IiwgImFwcGVuZCIpLCBoKCJjaG9vc2VDcmVkaXQiLCAiYXBwZW5kIikKCQkJCQkJfSwgMTUwMCkKCQkJCQl9KSwgdSgpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaS5JRTYgfHwgaS5JRTcgfHwgaS5JRTggfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IC0xICYmICJ3d3cuYW1hem9uLmNuIiAhPSBsb2NhdGlvbi5ob3N0ICYmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoIi5jby5qcCIpID4gLTEgJiYgdCgiaHRtbCIpLmFkZENsYXNzKCJhbWF6b24tanAiKSwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCIuZGUiKSA+IC0xIHx8IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJbSgpLCBwKCkKCQkJCX0sIDE1MDApKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iZ3dkX2FkZENhcnQgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+5LiA6ZSu5rW35reYPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfYWRkQ2FydCB7XG4gICAgd2lkdGg6IDE4MHB4O1xuICAgIGhlaWdodDogMzZweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMjE2cHg7XG4gICAgdG9wOiAzNnB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9hZGRDYXJ0IGEsIC5nd2RfYWRkQ2FydCBzcGFuIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgfVxuICAuZ3dkX2FkZENhcnQgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9hZGRDYXJ0IGEge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nXCcpIDBweCA2cHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICB3aWR0aDogMjZweDtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9hZGRDYXJ0OmJlZm9yZXtcbiAgICBib3JkZXI6IDE4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6ICM0N2JlZmU7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDE3OHB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAtMXB4O1xuICB9XG4gIC5nd2RfYWRkQ2FydDphZnRlcntcbiAgICBib3JkZXI6IDE3cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDE3OHB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiAgI2J1eWJveF9mZWF0dXJlX2RpdiAjYWRkVG9DYXJ0IC5hLWJ1dHRvbi1zdGFjayBzcGFuLmEtYnV0dG9uLWlubmVyIHtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgfVxuICAjcmJiQ29udGFpbmVyIGRpdi5yYmJTZWN0aW9uIHtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2RfY2hlY2tvdXQgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+5Y6757uT566XPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfY2hlY2tvdXQge1xuICAgIHdpZHRoOiAxNDhweDtcbiAgICBoZWlnaHQ6IDM2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogIzQ5NGI0ZDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDI4cHg7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gICAgdG9wOiAycHg7XG4gICAgei1pbmRleDogOTk7XG4gICAgcmlnaHQ6IC0yMTFweDtcbiAgfVxuICAuZ3dkX2NoZWNrb3V0IGEsIC5nd2RfY2hlY2tvdXQgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9jaGVja291dCAuYmpkX2FkZGNhcnQge1xuICAgIGN1cnNvcjogdGV4dDtcbiAgfVxuICAuZ3dkX2NoZWNrb3V0IGEge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nXCcpIDBweCA2cHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICB3aWR0aDogMjZweDtcbiAgICBtYXJnaW4tbGVmdDogN3B4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggMTJweDtcbiAgfVxuICAuZ3dkX2NoZWNrb3V0OmJlZm9yZXtcbiAgICBib3JkZXI6IDI5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDE4cHg7XG4gICAgYm9yZGVyLXRvcC13aWR0aDogMThweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLTU4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IC0xcHg7XG4gIH1cbiAgLmd3ZF9jaGVja291dDphZnRlciB7XG4gICAgYm9yZGVyOiAyN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1yaWdodC1jb2xvcjogI2ZmZjtcbiAgICBjb250ZW50OiAiIjtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAxN3B4O1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDE3cHg7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDMwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC01N3B4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiNobGItcHRjLWJ0biBzcGFuLmEtYnV0dG9uLWlubmVye1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbn1cblxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2Rfc2hpcHBpbmcxIGJqZF9idG5fYm94Ij5cbiAgPHA+5rip6aao5o+Q56S6PC9wPlxuICA8c3Bhbj7lpoLpgInmi6nnm7Tpgq7vvIzor7fnm7TmjqXloavlhpnlm73lhoXmlLbotKflnLDlnYDvvJs8L3NwYW4+XG4gIDxzcGFuPuWmguS9v+eUqOi9rOi/kO+8jOivt+WcqOatpOmhtemdouWhq+WGmei9rOi/kOWFrOWPuOWcsOWdgO+8mzwvc3Bhbj5cbiAgPGEgaHJlZj0ie3tjX3NlcnZlcn19L2FwcC9oYWl0YW9faW50ciIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0cmFuc19hIj7ovazov5DmlLvnlaU8L2E+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiIGNsYXNzPSJiamRfc2l0ZV9pY29uIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9zaGlwcGluZzEge1xuICAgIHdpZHRoOiAzNDBweDtcbiAgICBoZWlnaHQ6IDE2MHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogLTM2NXB4O1xuICAgIHRvcDogODdweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ3YmVmZTtcbiAgICBmb250LWZhbWlseTogXCdNaWNyb3NvZnQgWWFoZWlcJztcbiAgfVxuICAuYW1hem9uLWRlIC5nd2Rfc2hpcHBpbmcxIHtcbiAgICB0b3A6IDM1MHB4O1xuICB9XG4gIC5nd2Rfc2hpcHBpbmcxIHAge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBjb2xvcjogIzNGNDE0MjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW46IDE3cHggMCAxNnB4IDYwcHg7XG4gIH1cbiAgLmd3ZF9zaGlwcGluZzEgc3BhbiB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgIHBhZGRpbmctbGVmdDogMzJweDtcbiAgfVxuICAuYmpkX3NpdGVfaWNvbiB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbjIucG5nXCcpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogNDdweCA0NXB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogNDhweDtcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogLTFweDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMjBweDtcbiAgfVxuICAuZ3dkX3NoaXBwaW5nMSAudHJhbnNfYXtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW46IDE3cHggMzJweDtcbiAgICBjb2xvcjogIzQwQUNFNjtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4gIC5nd2Rfc2hpcHBpbmcxIC5iamRfY2xvc2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MgI2VudGVyQWRkcmVzc0Z1bGxOYW1lQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2Rfc2hpcHBpbmdfcmVtaW5kIj5cbiAgPHA+6K+l5ZWG5ZOB5pSv5oyB55u06YKu5Lit5Zu9PC9wPlxuICA8cD7nm7Tpgq7vvIzor7floavlhpnlm73lhoXmlLbotKflnLDlnYDvvJs8L3A+XG4gIDxwPui9rOi/kO+8jOivt+Whq+WGmei9rOi/kOWFrOWPuOWcsOWdgOOAgjwvcD5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9zaGlwcGluZ19yZW1pbmQge1xuICAgIHdpZHRoOiAxNzJweDtcbiAgICBoZWlnaHQ6IDEyNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxNzkxZGU7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAtMTk1cHg7XG4gICAgdG9wOiAwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9zaGlwcGluZ19yZW1pbmQ6YWZ0ZXJ7XG4gICAgYm9yZGVyOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjMTc5MWRlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMTZweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogMTBweDtcbiAgfVxuICAjaWRlbnRpdHktYWRkLW5ldy1hZGRyZXNzICNlbnRlckFkZHJlc3NGdWxsTmFtZUNvbnRhaW5lcntcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iZ3dkX2NvbnRpbnVlMSBiamRfYnRuX2JveCI+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9hZGRjYXJ0Ij7ngrnmraTov5vlhaXkuIvkuIDmraU8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9jb250aW51ZTEge1xuICAgIHdpZHRoOiAyMTBweDtcbiAgICBoZWlnaHQ6IDM2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogIzQ5NGI0ZDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLTI1M3B4O1xuICAgIHRvcDogLTRweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMjhweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICB9XG4gIC5nd2RfY29udGludWUxIGEsIC5nd2RfY29udGludWUxIHNwYW4ge1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIG1hcmdpbi1sZWZ0OiAxOXB4O1xuICB9XG4gIC5nd2RfY29udGludWUxIC5iamRfYWRkY2FydCB7XG4gICAgY3Vyc29yOiB0ZXh0O1xuICB9XG4gIC5nd2RfY29udGludWUxIGEge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nXCcpIDBweCA2cHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICB3aWR0aDogMjZweDtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTE6YmVmb3Jle1xuICAgIGJvcmRlcjogMThweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItbGVmdC1jb2xvcjogIzQ3YmVmZTtcbiAgICBjb250ZW50OiAiIjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMjA4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IC0xcHg7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTE6YWZ0ZXJ7XG4gICAgYm9yZGVyOiAxN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZmZmO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAyMDhweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNzaGlwcGluZ09wdGlvbkZvcm1JZCAuYS1ib3gtaW5uZXIgc3Bhbi5hLWJ1dHRvbi1pbm5lciwgI3NoaXBwaW5nT3B0aW9uRm9ybUlkIC5hLWJveC1pbm5lciAuY29udGludWUtYnV0dG9ue1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICB9XG48L3N0eWxlPicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF9jb250aW51ZTIgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+54K55q2k6L+b5YWl5LiL5LiA5q2lPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfY29udGludWUyIHtcbiAgICB3aWR0aDogMjEwcHg7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC0yNTNweDtcbiAgICB0b3A6IC0zM3B4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTIgYSwgLmd3ZF9jb250aW51ZTIgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTIgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTIgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggMTJweDtcbiAgfVxuICAuZ3dkX2NvbnRpbnVlMjpiZWZvcmV7XG4gICAgYm9yZGVyOiAxOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAyMDhweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTFweDtcbiAgfVxuICAuZ3dkX2NvbnRpbnVlMjphZnRlcntcbiAgICBib3JkZXI6IDE3cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDIwOHB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiAgI29yZGVyLXN1bW1hcnktY29udGFpbmVyIC5hLWJveC1pbm5lciBzcGFuLCAjc2hpcHBpbmdPcHRpb25Gb3JtSWQgLmEtYm94LWlubmVyIC5jb250aW51ZS1idXR0b24gLmEtYnV0dG9uLXByaW1hcnl7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iZ3dkX2NyZWRpdGluZm8gYmpkX2J0bl9ib3giPlxuICA8cD7kv6HnlKjljaHor4bliKs8L3A+XG4gIDxzcGFuPuWNleW4geS/oeeUqOWNoe+8muS/oeeUqOWNoeS4iuWPquaciemTtuiBlOagh+W/l++8mzwvc3Bhbj5cbiAgPHNwYW4+5Y+M5biB5L+h55So5Y2h77ya5L+h55So5Y2h5LiK5pyJPGI+VmlzdGE8L2I+44CBPGI+TWFzdGVyQ2FyZDwvYj7jgIE8Yj5KQ0I8L2I+44CBPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX3NwYW5fMiI+PGI+QW1lcmljYW5FeHByZXNzPC9iPuagh+W/l+eahO+8jOS4gOiIrOmDveaYr+WPjOW4geS/oeeUqOWNoTwvc3Bhbj5cbiAgPGEgaHJlZj0ie3tjX3NlcnZlcn19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Iui0reeJqeWFmiIgY2xhc3M9ImJqZF9zaXRlX2ljb24iPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9jbG9zZSI+PC9zcGFuPlxuPC9kaXY+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAuZ3dkX2NyZWRpdGluZm8ge1xuICAgIHdpZHRoOiA0NTRweDtcbiAgICBoZWlnaHQ6IDE0MHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogLTQ2OXB4O1xuICAgIHRvcDogMzBweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ3YmVmZTtcbiAgICBmb250LWZhbWlseTogXCdNaWNyb3NvZnQgWWFoZWlcJztcbiAgfVxuICAuYW1hem9uLWpwIC5nd2RfY3JlZGl0aW5mbyB7XG4gICAgdG9wOiAtNjBweDtcbiAgfVxuICAuYW1hem9uLWRlIC5nd2RfY3JlZGl0aW5mbyB7XG4gICAgdG9wOiAtNzVweDtcbiAgICB6LWluZGV4OiA5OTk7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIHAge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBjb2xvcjogIzNGNDE0MjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW46IDE3cHggMCAxNnB4IDYwcHg7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIHNwYW4ge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogIzQ5NGI0ZDtcbiAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDMycHg7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIC5iamRfc3Bhbl8yIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDExOHB4O1xuICB9XG4gIC5iamRfc2l0ZV9pY29uIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpdGVpY29uMi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiA0N3B4IDQ1cHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiA0OHB4O1xuICAgIGhlaWdodDogNDhweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtMXB4O1xuICAgIGxlZnQ6IDBweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyMHB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIC5iamRfY2xvc2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MgI2VudGVyQWRkcmVzc0Z1bGxOYW1lQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2RfYWRkY3JlZGl0IGJqZF9idG5fYm94IiBpZD0iYWRkY3JlZGl0X2J0biI+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9hZGRjYXJ0Ij7mt7vliqDkv6HnlKjljaE8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbiAgPGRpdiBjbGFzcz0iY3JlZGl0X2RldGFpbCI+PC9kaXY+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfYWRkY3JlZGl0IHtcbiAgICB3aWR0aDogMTgwcHg7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICAgIHRvcDogNDdweDtcbiAgICB6LWluZGV4OiA5OTtcbiAgICBsZWZ0OiAxMjJweDtcbiAgfVxuICAuYW1hem9uLWpwIC5nd2RfYWRkY3JlZGl0IHtcbiAgICB0b3A6IDU0cHg7XG4gICAgbGVmdDogMTMwcHg7XG4gIH1cbiAgLmFtYXpvbi1kZSAuZ3dkX2FkZGNyZWRpdCB7XG4gICAgdG9wOiA1M3B4O1xuICAgIGxlZnQ6IDE4MHB4O1xuICB9XG4gIC5jcmVkaXRfZGV0YWlsIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgdG9wOiAtNTNweDtcbiAgICBsZWZ0OiAxOTZweDtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvL2FtYXpvbl9yZW1pbmRfY3JlZGl0X2luZm8ucG5nXCcpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIHdpZHRoOiAzNDJweDtcbiAgICBoZWlnaHQ6IDE0MHB4O1xuICB9XG4gIC5hbWF6b24tZGUgLmNyZWRpdF9kZXRhaWwge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW8vYW1hem9uX3JlbWluZF9jcmVkaXRfaW5mb19kZS5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gIH1cbiAgLmFtYXpvbi1qcCAuY3JlZGl0X2RldGFpbCB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhby9hbWF6b25fcmVtaW5kX2NyZWRpdF9pbmZvX2pwLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgfVxuICAjYWRkY3JlZGl0X2J0bjpob3ZlciAuY3JlZGl0X2RldGFpbCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQgYSwgLmd3ZF9hZGRjcmVkaXQgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICAgIG1hcmdpbi1sZWZ0OiA3cHg7XG4gIH1cbiAgLmJqZF9jbG9zZSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19jbG9zZWljb24ucG5nXCcpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGhlaWdodDogMjBweDtcbiAgICBtYXJnaW4tdG9wOiAxMnB4O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMTJweCAxMnB4O1xuICB9XG4gIC5nd2RfYWRkY3JlZGl0OmJlZm9yZXtcbiAgICBib3JkZXI6IDI5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDE4cHg7XG4gICAgYm9yZGVyLXRvcC13aWR0aDogMThweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLTU4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IC0xcHg7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQ6YWZ0ZXIge1xuICAgIGJvcmRlcjogMjdweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmlnaHQtY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMTdweDtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAxN3B4O1xuICAgIGJvcmRlci1sZWZ0LXdpZHRoOiAzMHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtNTdweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MgI2VudGVyQWRkcmVzc0Z1bGxOYW1lQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2RfcHJvbW9jb2RlIGJqZF9idG5fYm94Ij5cbiAgPGEgaHJlZj0ie3tjX3NlcnZlcn19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Iui0reeJqeWFmiI+PC9hPlxuICA8c3BhbiBjbGFzcz0iYmpkX2FkZGNhcnQiPuWmguacieS8mOaDoOegge+8jOatpOWkhOa3u+WKoOS8mOaDoOeggTwvc3Bhbj5cbiAgPHNwYW4gY2xhc3M9ImJqZF9jbG9zZSI+PC9zcGFuPlxuPC9kaXY+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAuZ3dkX3Byb21vY29kZSB7XG4gICAgd2lkdGg6IDI5M3B4O1xuICAgIGhlaWdodDogMzZweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtNjlweDtcbiAgICB0b3A6IDQ1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGUgYSwgLmd3ZF9wcm9tb2NvZGUgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGUgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGUgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGU6YmVmb3Jle1xuICAgIGJvcmRlcjogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAxNDlweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTIxcHg7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGU6YWZ0ZXJ7XG4gICAgYm9yZGVyOiAxMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDE0OXB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAtMjBweDtcbiAgfVxuICAucG10cy1yZWRlZW0tY2xhaW0tY29kZS1mb3JtIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbjwvc3R5bGU+JzsKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF9jaG9vc2VDcmVkaXQgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+5pSv5oyB5Y2V5biBIC8g5Y+M5biB5L+h55So5Y2hPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfY2hvb3NlQ3JlZGl0IHtcbiAgICB3aWR0aDogMjQ5cHg7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICAgIHRvcDogMHB4O1xuICAgIHotaW5kZXg6IDk5O1xuICAgIGxlZnQ6IDM2NXB4O1xuICB9XG4gIC5hbWF6b24tZGUgLmd3ZF9jaG9vc2VDcmVkaXQge1xuICAgIHRvcDogLTNweDtcbiAgICBsZWZ0OiA1MDdweDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdCBhLCAuZ3dkX2Nob29zZUNyZWRpdCBzcGFuIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdCAuYmpkX2FkZGNhcnQge1xuICAgIGN1cnNvcjogdGV4dDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdCBhIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpdGVpY29uLnBuZ1wnKSAwcHggNnB4IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDI0cHggMjJweDtcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgd2lkdGg6IDI2cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDdweDtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9jaG9vc2VDcmVkaXQ6YmVmb3Jle1xuICAgIGJvcmRlcjogMjlweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmlnaHQtY29sb3I6ICM0N2JlZmU7XG4gICAgY29udGVudDogIiI7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMThweDtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAxOHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtNThweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTFweDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdDphZnRlciB7XG4gICAgYm9yZGVyOiAyN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1yaWdodC1jb2xvcjogI2ZmZjtcbiAgICBjb250ZW50OiAiIjtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAxN3B4O1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDE3cHg7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDMwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC01N3B4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiAgI25hdi1iYXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAuYS1zcGFjaW5nLWJhc2Uge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfScKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF9maW5pc2hlZCBiamRfYnRuX2JveCI+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9hZGRjYXJ0Ij7ngrnmraTlrozmiJDorqLljZU8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9maW5pc2hlZCB7XG4gICAgd2lkdGg6IDE5MHB4O1xuICAgIGhlaWdodDogMzZweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMjI4cHg7XG4gICAgdG9wOiAtMzJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMjhweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICB9XG4gIC5nd2RfZmluaXNoZWQgYSwgLmd3ZF9maW5pc2hlZCBzcGFuIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgfVxuICAuZ3dkX2ZpbmlzaGVkIC5iamRfYWRkY2FydCB7XG4gICAgY3Vyc29yOiB0ZXh0O1xuICB9XG4gIC5nd2RfZmluaXNoZWQgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9maW5pc2hlZDpiZWZvcmV7XG4gICAgYm9yZGVyOiAxOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAxODhweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTFweDtcbiAgfVxuICAuZ3dkX2ZpbmlzaGVkOmFmdGVye1xuICAgIGJvcmRlcjogMTdweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItbGVmdC1jb2xvcjogI2ZmZjtcbiAgICBjb250ZW50OiAiIjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMTg4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IDBweDtcbiAgfVxuICAjb3JkZXItc3VtbWFyeS1ib3h7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cbiAgPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBuKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCgkJCWZ1bmN0aW9uIGkoZSwgdCkgewoJCQkJaWYgKDAgIT0gdC5pbmRleE9mKCJodHRwIikpIHsKCQkJCQlpZiAoMCA9PSB0LmluZGV4T2YoImphdmFzY3JpcHQiKSkgZSA9ICIiLCB0ID0gIiI7CgkJCQkJZWxzZSBpZiAoMCA9PSB0LmluZGV4T2YoIi8vIikpIGUgPSAiaHR0cDoiOwoJCQkJCWVsc2UgaWYgKDAgPT0gdC5pbmRleE9mKCIvIikpIGUgPSBlLnJlcGxhY2UoLyhodHRwOlwvXC9bXlwvXSspLiovZ2ksICIkMSIpOwoJCQkJCWVsc2UgewoJCQkJCQl2YXIgbiA9IGUuc3Vic3RyKDAsIGUuaW5kZXhPZigiLy8iKSArIDIpOwoJCQkJCQllID0gZS5zdWJzdHIoZS5pbmRleE9mKCIvLyIpICsgMik7CgkJCQkJCXZhciBpID0gZS5zcGxpdCgiLyIpLAoJCQkJCQkJYSA9IGkubGVuZ3RoIC0gMTsKCQkJCQkJaWYgKDAgPT0gdC5pbmRleE9mKCIuLyIpKSB0ID0gdC5zdWJzdHIoMik7CgkJCQkJCWVsc2UgaWYgKDAgPT0gdC5pbmRleE9mKCIuLi8iKSkKCQkJCQkJCWZvciAoOyAwID09IHQuaW5kZXhPZigiLi4vIik7KSB0ID0gdC5zdWJzdHIoMyksIGEtLTsKCQkJCQkJZSA9IG47CgkJCQkJCWZvciAodmFyIG8gPSAwOyBhID4gbzsgbysrKSBlICs9IGlbb10gKyAiLyIKCQkJCQl9CgkJCQkJdCA9IGUgKyB0CgkJCQl9CgkJCQlyZXR1cm4gdAoJCQl9CgoJCQlmdW5jdGlvbiBhKCkgewoJCQkJdmFyIGUgPSB0LnNpdGU7CgkJCQlyZXR1cm4gInloZCIgPT0gdC5zaXRlICYmIChlID0gInlpaGFvZGlhbiIpLCAidmlwIiA9PSB0LnNpdGUgJiYgKGUgPSAidmlwc2hvcCIpLCBlCgkJCX0KCgkJCWZ1bmN0aW9uIG8oKSB7CgkJCQkoImJhaWR1IiA9PSB0LmZyb21fZGV2aWNlIHx8ICJtaV9uZXciID09IHQuZnJvbV9kZXZpY2UgfHwgIm5qY2siID09IHQuZnJvbV9kZXZpY2UgfHwgImJqbHQiID09IHQuZnJvbV9kZXZpY2UgfHwgdC5uZXdfZXh0ZW5zaW9uKSAmJiAoZFsiMzYwYnV5Il0gPSAzKQoJCQl9CgkJCXZhciByID0gdC51X3NlcnZlciArICIvdW5pb24vZ28iLAoJCQkJcyA9IFsianNkeCIsICJ0bHhzIiwgImhuZHgiLCAieGRqZiIsICJoYWd3IiwgImJhaWR1IiwgIm1pX25ldyJdOwoJCQkhdC5pc01vYmlsZSAmJiBzLmluZGV4T2YgJiYgcy5pbmRleE9mKHQuZnJvbV9kZXZpY2UpID4gLTEgJiYgKHIgPSB0LnNwZWNpYWxVbmlvbik7CgkJCXZhciBsLCBjID0gITAsCgkJCQlkID0gewoJCQkJCWRhbmdkYW5nOiAyLAoJCQkJCW5ld2VnZzogNywKCQkJCQltMTg6IDEwLAoJCQkJCXNlcGhvcmFjcHM6IDEyLAoJCQkJCWxlZmVuZzogMTMsCgkJCQkJczogMTQsCgkJCQkJIjUxYnV5IjogMTUsCgkJCQkJbW9vbmJhc2E6IDE3LAoJCQkJCWtlZWRlOiAxOCwKCQkJCQlrZWRlOiAxOCwKCQkJCQl2YW5jbDogMTksCgkJCQkJbGV0YW86IDIyLAoJCQkJCXRhb3hpZTogMjQsCgkJCQkJc3VuaW5nOiAyNSwKCQkJCQljb284OiAyNiwKCQkJCQlnb21lOiAyOCwKCQkJCQkiZ29tZS1ydXNoYnV5IjogMjgsCgkJCQkJZ29tZWhpZ286IDI4LAoJCQkJCXlpaGFvZGlhbjogMzEsCgkJCQkJInlpaGFvZGlhbi10dWFuIjogMzEsCgkJCQkJd29tYWk6IDMyLAoJCQkJCWxleW91OiAzMywKCQkJCQlzaG9waW46IDM0LAoJCQkJCXhpdTogMzUsCgkJCQkJbWJhb2JhbzogMzYsCgkJCQkJY2h1bnNodWl0YW5nOiA0MCwKCQkJCQl4OiA0MSwKCQkJCQlubzU6IDQzLAoJCQkJCXNhc2E6IDQ1LAoJCQkJCSIzNjBreHIiOiA1MCwKCQkJCQltNmdvOiA1MSwKCQkJCQltb3JlZm9vZDogNTQsCgkJCQkJIjk5cmVhZCI6IDU5LAoJCQkJCSJjaGluYS1wdWIiOiA2MCwKCQkJCQlib29rc2NoaW5hOiA2MSwKCQkJCQl3aW54dWFuOiA2MiwKCQkJCQllZmVpaHU6IDYzLAoJCQkJCXlpbnRhaTogNjYsCgkJCQkJc3RyYXdiZXJyeW5ldDogNjksCgkJCQkJaGFwcGlnbzogNzIsCgkJCQkJZ2FwOiA3MywKCQkJCQl0bWFsbDogODMsCgkJCQkJdGlhbnRpYW46IDg0LAoJCQkJCWp1bWVpOiA4NiwKCQkJCQl5b3Vnb3U6IDkzLAoJCQkJCTExMTogOTQsCgkJCQkJamlhbmtlOiA5NywKCQkJCQltdXlpbmd6aGlqaWE6IDk4LAoJCQkJCWxpbmdzaGk6IDk5LAoJCQkJCWJhbmdnbzogMTAwLAoJCQkJCXllc215d2luZTogMTAxLAoJCQkJCWppdW1laTogMTAyLAoJCQkJCXdpbmVuaWNlOiAxMDIsCgkJCQkJaml1eGlhbjogMTAzLAoJCQkJCWdvdWppdXdhbmc6IDEwOCwKCQkJCQlva2hxYjogMTA5LAoJCQkJCWJvb2t1dTogMTEwLAoJCQkJCWQxOiAxMTUsCgkJCQkJcGFpeGllOiAxMjIsCgkJCQkJczg6IDEyMywKCQkJCQlob21ldnY6IDEyNCwKCQkJCQlqeGR5ZjogMTI1LAoJCQkJCWppbnhpYW5nOiAxMjUsCgkJCQkJc2ZiZXN0OiAxMjYsCgkJCQkJYmVubGFpOiAxMjcsCgkJCQkJdG9vdG9vOiAxMjgsCgkJCQkJdmlwc2hvcDogMTI5LAoJCQkJCWZjbHViOiAxMzAsCgkJCQkJaWh1c2g6IDEzMSwKCQkJCQl2bWFsbDogMTM0LAoJCQkJCWxlbm92bzogMTM1LAoJCQkJCWFwcGxlOiAxMzYsCgkJCQkJem03OiAxMzgsCgkJCQkJbWlxaTogMTM5LAoJCQkJCXpoaXdvOiAxNDAsCgkJCQkJajE6IDE0MSwKCQkJCQl3YW5naml1OiAxNDIsCgkJCQkJbGllYm86IDE0NCwKCQkJCQllc3ByaXQ6IDE0NSwKCQkJCQlsYW1pdTogMTQ2LAoJCQkJCWFpbWVyOiAxNDcsCgkJCQkJa2FkYW5nOiAxNDgsCgkJCQkJbGl6aTogMTQ5LAoJCQkJCW1ldHJvbWFsbDogMTUwLAoJCQkJCXBiYTogMTUxLAoJCQkJCXNoYW5ncGluOiAxNTIsCgkJCQkJd2JpYW86IDE1MywKCQkJCQloYW5kdXlpc2hlOiAxNTQsCgkJCQkJZWhhaWVyOiAxNTUsCgkJCQkJc2Vjb286IDE1NiwKCQkJCQljYW1lbDogMTU3LAoJCQkJCW1hc2FtYXNvOiAxNTgsCgkJCQkJbm9wOiAxNTksCgkJCQkJbmFydWt1OiAxNjAsCgkJCQkJZ2FvamllOiAxNjEsCgkJCQkJemhlbnBpbjogMTYyLAoJCQkJCXNwb3J0aWNhOiAxNjMsCgkJCQkJeGlmdXF1YW46IDE2NCwKCQkJCQltaWxpZXI6IDE2NSwKCQkJCQlsZW1hbGw6IDE2OCwKCQkJCQlkaWFucGluZzogMTcxLAoJCQkJCWN0cmlwOiAxNzMsCgkJCQkJeWlndW86IDE3NCwKCQkJCQl5dW1teTc3OiAxNzUsCgkJCQkJZnJ1aXRkYXk6IDE3OCwKCQkJCQlqdW1laWdsb2JhbDogMTc5LAoJCQkJCWZlaW5pdTogMTgwLAoJCQkJCWZlaWZlaTogMTgxLAoJCQkJCXp1aXBpbjogMTgyLAoJCQkJCXlvaG9idXk6IDE4NCwKCQkJCQlsdm1hbWE6IDE4NSwKCQkJCQlpa2p0YW86IDE4OCwKCQkJCQltZjkxMDogMTk0LAoJCQkJCW1hcmttYWxsOiAxOTQsCgkJCQkJbWl5YWJhb2JlaTogMTk1LAoJCQkJCXVsZTogMTk2LAoJCQkJCW1pbmdzaGVuZ2VjOiAxOTcsCgkJCQkJd2FuZ2Z1amluZzogMTk4LAoJCQkJCW51b21pOiAxOTksCgkJCQkJcXVuYXI6IDIwMCwKCQkJCQltZWlsaXNodW86IDIwMiwKCQkJCQltb2d1amllOiAyMDMsCgkJCQkJIjU1dHVhbiI6IDIwNCwKCQkJCQlqaW5qaWFuZ2lubnM6IDIwNSwKCQkJCQllbG9uZzogMjA2LAoJCQkJCTUwMDogMjA5LAoJCQkJCXN1cHV5OiAyMTAsCgkJCQkJbHY6IDIxMSwKCQkJCQljYWlwaWFvOiAyMTIsCgkJCQkJbGluaW5nOiAyMTMsCgkJCQkJa29vbGVhcm46IDIxNCwKCQkJCQlzcHJpbmd0b3VyOiAyMTUsCgkJCQkJMjI4OiAyMTYsCgkJCQkJcnJzOiAyMTcsCgkJCQkJY29vY2FhOiAyMTgsCgkJCQkJbGlmZXZjOiAyMjAsCgkJCQkJbml1YmlhOiAyMjEsCgkJCQkJa3pqMzY1OiAyMjIsCgkJCQkJa2FvbGE6IDIyMywKCQkJCQl5bWF0b3U6IDIyNCwKCQkJCQltZXRhbzogMjI1LAoJCQkJCWtqdDogMjI2LAoJCQkJCWxvZ2l0ZWNoOiAyMjcsCgkJCQkJZWJheTogMjMwLAoJCQkJCXhpamk6IDIzMiwKCQkJCQluaWtlOiAyMzMsCgkJCQkJIjM2MGthZCI6IDIzNCwKCQkJCQlsYnhjbjogMjM1LAoJCQkJCW1laWNpOiAyMzYsCgkJCQkJYmVpYmVpOiAyMzcsCgkJCQkJIjZwbSI6IDIzOCwKCQkJCQlzaG9wYm9wOiAyNDEsCgkJCQkJc2llcnJhdHJhZGluZ3Bvc3Q6IDI0MywKCQkJCQlhc2hmb3JkOiAyNDMsCgkJCQkJImxvb2tmYW50YXN0aWMtY29tIjogMjQ4LAoJCQkJCXZzaWdvOiAyNTIsCgkJCQkJIjEwMHl1ZSI6IDI1NiwKCQkJCQloYWl0YW9jaGVuZzogMjU4LAoJCQkJCWpvZXNuZXdiYWxhbmNlb3V0bGV0OiAyNTksCgkJCQkJZGFsaW5nOiAyNjcsCgkJCQkJc2ZodDogMjY4LAoJCQkJCWZlbmdxdTogMjY4LAoJCQkJCW1laTogMjY5LAoJCQkJCXNob3dqb3k6IDI3MCwKCQkJCQlvY2o6IDI3MSwKCQkJCQlzdW5kYW46IDI3MiwKCQkJCQllYXNlZXllczogMjczLAoJCQkJCXl1bmhvdTogMjc0LAoJCQkJCWhhaXR1bmN1bjogMjc1LAoJCQkJCXdhbG1hcnQ6IDI3NiwKCQkJCQl2bWVpOiAyNzcsCgkJCQkJamdiOiAyNzgsCgkJCQkJIjUxZGluIjogMjc5LAoJCQkJCWFpZGFpOiAyODAsCgkJCQkJYm9xaWk6IDI4MSwKCQkJCQl0b3Vyc2ZvcmZ1bjogMjgyLAoJCQkJCWx1bHV0cmlwOiAyODMsCgkJCQkJc3BpZGVyOiAyODQsCgkJCQkJbWljcm9zb2Z0c3RvcmU6IDI4NSwKCQkJCQlqaWFlOiAyODYsCgkJCQkJemF6aGlwdTogMjg3LAoJCQkJCXhnZHE6IDI4OCwKCQkJCQl4dGVwOiAyODksCgkJCQkJbWlkZWE6IDI5MCwKCQkJCQlzdGFwbGVzOiAyOTEsCgkJCQkJZWZvdGlsZTogMjkyLAoJCQkJCWJlc3RjYWtlOiAyOTMsCgkJCQkJbG92bzogMjk0LAoJCQkJCWh1YTogMjk1LAoJCQkJCXpoZTgwMDogMjk2LAoJCQkJCWJmdHY6IDI5NywKCQkJCQl0dWppYTogMjk4LAoJCQkJCXR1aHU6IDI5OSwKCQkJCQlodGM6IDMwMCwKCQkJCQlyb3Nlb25seTogMzAxLAoJCQkJCXJvbmczNjA6IDMwMiwKCQkJCQluaXdvZGFpOiAzMDMsCgkJCQkJY29zbWU6IDMwNCwKCQkJCQlkaWFwZXJzOiAzMDUsCgkJCQkJd2luZGVsbjogMzA2LAoJCQkJCWJhYnluZW86IDMwNywKCQkJCQllc2NlbnR1YWw6IDMwOCwKCQkJCQl0aGV3YXRjaGVyeTogMzA5LAoJCQkJCXNha3NmaWZ0aGF2ZW51ZTogMzEwLAoJCQkJCWVzdGVlbGF1ZGVyOiAzMTEsCgkJCQkJYmljY2FtZXJhOiAzMTIsCgkJCQkJdGFxdTogMzEzLAoJCQkJCXF5ZXI6IDMxNCwKCQkJCQkiYXhtYWxsICI6IDMxNSwKCQkJCQltdWppOiAzMTYsCgkJCQkJZ21hcmtldDogMzE3LAoJCQkJCSIxMXN0IjogMzE4LAoJCQkJCXNtYXJ0YmFyZ2FpbnM6IDMxOSwKCQkJCQl5YWhvb3Nob3A6IDMyMCwKCQkJCQlibG9vbWluZ2RhbGVzOiAzMjEsCgkJCQkJbWlraWhvdXNlOiAzMjIsCgkJCQkJdG95c3J1czogMzIzLAoJCQkJCWNvbWZvcnRmaXJzdDogMzI0LAoJCQkJCWd5bWJvcmVlOiAzMjUsCgkJCQkJYWxiZWViYWJ5OiAzMjYsCgkJCQkJYmFieW1hcmt0OiAzMjcsCgkJCQkJdWdnYXVzdHJhbGlhOiAzMjgsCgkJCQkJbmVpbWFubWFyY3VzOiAzMjksCgkJCQkJc2hvZWJ1eTogMzMwLAoJCQkJCXN6dWw6IDMzMSwKCQkJCQl0aW1leDogMzMyLAoJCQkJCWtheTogMzMzLAoJCQkJCWV3YXRjaGVzOiAzMzQsCgkJCQkJc3dhcm92c2tpOiAzMzUsCgkJCQkJd29ybGRvZndhdGNoZXM6IDMzNiwKCQkJCQlkYW5pZWx3ZWxsaW5ndG9uOiAzMzcsCgkJCQkJYmVhdXR5YmF5OiAzMzgsCgkJCQkJYmVhdXR5OiAzMzksCgkJCQkJYmVhdXR5YmFyOiAzNDAsCgkJCQkJc2tpbnN0b3JlOiAzNDEsCgkJCQkJbGFuZWlnZTogMzQyLAoJCQkJCWJvc2U6IDM0MywKCQkJCQliZXN0YnV5OiAzNDQsCgkJCQkJYmhwaG90b3ZpZGVvOiAzNDUsCgkJCQkJc29ueTogMzQ2LAoJCQkJCWJsOiAzNDcsCgkJCQkJYmVzdGluZm9vZHM6IDM0OCwKCQkJCQl5b3UxNjM6IDM0OSwKCQkJCQlqaW5qaWFuZzogMzUwLAoJCQkJCWd1b2ppbWFtaTogMzUxLAoJCQkJCWJhaXlhbmd3YW5nOiAzNTIsCgkJCQkJcm95eW91bmdjaGVtaXN0OiAzNTQsCgkJCQkJbWVkaWhlYWxzaG9wOiAzNTUsCgkJCQkJIjEwMDFwaGFybWFjaWVzIjogMzU2LAoJCQkJCSJsb29rZmFudGFzdGljLWNuIjogMzU3LAoJCQkJCSIxLTE2MyI6IDM1OCwKCQkJCQlrYWl4aW5iYW86IDM1OSwKCQkJCQlqdWFucGk6IDM2MCwKCQkJCQlib29raW5nOiAzNjEsCgkJCQkJcGhhcm1hY3lvbmxpbmU6IDM2MiwKCQkJCQlib2R5Z3VhcmRhcG90aGVrZTogMzYzLAoJCQkJCXB1cmNvdHRvbjogMzY0LAoJCQkJCXdzdHg6IDM2NywKCQkJCQloaXNlbnNlOiAzNjgsCgkJCQkJemhvbmdqaXU6IDM2OSwKCQkJCQlrYWx1bGk6IDM3MCwKCQkJCQl0bzh0bzogMzcxLAoJCQkJCW9wcG9zaG9wOiAzNzIsCgkJCQkJYmFvYmVpZ2V6aTogMzczLAoJCQkJCXlhbzEyMzogMzc0LAoJCQkJCWJhaWNoZW5nOiAzNzUsCgkJCQkJZ2lvbmVlOiAzNzYsCgkJCQkJc3Vhbmp1emk6IDM3NywKCQkJCQlhb215Z29kOiAzNzgsCgkJCQkJbHVvbGFpOiAzNzksCgkJCQkJdml2bzogMzgwLAoJCQkJCWRpeGludG9uZzogMzgxLAoJCQkJCWNvb2xwYWQ6IDM4MiwKCQkJCQlza2c6IDM4MywKCQkJCQlpcWl5aTogMzg0LAoJCQkJCWFvbGFpZ286IDM4NSwKCQkJCQltaXNzZnJlc2g6IDM4NiwKCQkJCQlwdXNoZW5rdWFqaW5nOiAzODcsCgkJCQkJZmVlbHVuaXF1ZTogMzg4LAoJCQkJCWNoZW1pc3RkaXJlY3Q6IDM4OSwKCQkJCQluZXRwaGFybWFjeTogMzkwLAoJCQkJCXBoYXJtYWN5NGxlc3M6IDM5MSwKCQkJCQlwaGFybWFjeWRpcmVjdDogMzkyLAoJCQkJCWFtY2FsOiAzOTMsCgkJCQkJbGFyZWRvdXRlOiAzOTQsCgkJCQkJdW5zZXJla2xlaW5lYXBvdGhla2U6IDM5NSwKCQkJCQllcndpbm11ZWxsZXI6IDM5NiwKCQkJCQlraXdpZGlzY292ZXJ5OiAzOTcsCgkJCQkJc3ByaW5nbGFuZTogMzk4LAoJCQkJCSJqYWtvLW8iOiAzOTksCgkJCQkJZWFzeXRveXM6IDQwMCwKCQkJCQl0bGNwaGFybWFjeTogNDAxLAoJCQkJCWJpZW5tYW5nZXI6IDQwMiwKCQkJCQlkZXdhcmVuOiA0MDMsCgkJCQkJImRpc2NvdW50LWFwb3RoZWtlIjogNDA0LAoJCQkJCSJob2xsYW5kLWF0LWhvbWUiOiA0MDUsCgkJCQkJeW91eXU6IDQwNiwKCQkJCQlraXdpc3RhcmNhcmU6IDQwNywKCQkJCQlsZW5vdm9tb2JpbGU6IDQwOCwKCQkJCQlraWVobHM6IDQwOSwKCQkJCQl6YXBwb3M6IDQxMCwKCQkJCQljb2FjaDogNDExLAoJCQkJCXlvb3g6IDQxMiwKCQkJCQkiMTFzdHJlZXQiOiA0MTMsCgkJCQkJIjUxdGFvdWsiOiA0MTQsCgkJCQkJaHFoYWlyOiA0MTUsCgkJCQkJa2F0ZXNwYWRlOiA0MTYsCgkJCQkJdml0YWZ5OiA0MTcsCgkJCQkJbG90dGU6IDQxOCwKCQkJCQljYXJyZWZvdXI6IDQxOSwKCQkJCQl0ZWE3OiA0MjAsCgkJCQkJcHV6ZXlmOiA0MjEsCgkJCQkJa29obHM6IDQyMiwKCQkJCQlib2R5YnVpbGRpbmc6IDQyMywKCQkJCQlub3Jkc3Ryb206IDQyNCwKCQkJCQljb3N0Y286IDQyNSwKCQkJCQl0YXJnZXQ6IDQyNiwKCQkJCQlrbWFydDogNDI3LAoJCQkJCW92ZXJzdG9jazogNDI4LAoJCQkJCXNlYXJzOiA0MjksCgkJCQkJc2hvcHJvYmFtOiA0MzAsCgkJCQkJZ291bWluOiA0MzEsCgkJCQkJZmx5Y286IDQzMiwKCQkJCQlvcHBsZXN0b3JlOiA0MzMsCgkJCQkJc3lzaG9wOiA0MzQsCgkJCQkJeWZkeWY6IDQzNSwKCQkJCQlob3RlbHM6IDQzNiwKCQkJCQlhaWh1aXNob3U6IDQzNywKCQkJCQl0aGViZWFzdHNob3A6IDQzOCwKCQkJCQlqb21vb3Nob3A6IDQzOSwKCQkJCQlzZXB0d29sdmVzOiA0NDAsCgkJCQkJbGlhbmppYTogNDQxLAoJCQkJCSI1aTVqIjogNDQyLAoJCQkJCWhvbWU2OiA0NDMsCgkJCQkJIjgwMHBoYXJtIjogNDQ0LAoJCQkJCXVqaXBpbjogNDQ1LAoJCQkJCW1tYjogNDQ2LAoJCQkJCWloYXZldTogNDQ3LAoJCQkJCWlrYW5nOiA0NDgsCgkJCQkJd3luODg6IDQ0OSwKCQkJCQltY2FrZTogNDUwLAoJCQkJCXhtZWlzZTogNDUxLAoJCQkJCWxlY2FrZTogNDUyLAoJCQkJCWpkMTAwOiA0NTMsCgkJCQkJamluZ2h1YTogNDU0LAoJCQkJCXRhb2h3dTogNDU1LAoJCQkJCXpiaXJkOiA0NTYsCgkJCQkJa20xODE4OiA0NTcsCgkJCQkJem9jYWk6IDQ1OCwKCQkJCQl0YW9zaHU6IDQ1OSwKCQkJCQlhaXpoaWd1OiA0NjAsCgkJCQkJdGlleW91OiA0NjEsCgkJCQkJZmllbGRzY2hpbmE6IDQ2MiwKCQkJCQl3ZG1jYWtlOiA0NjMsCgkJCQkJbHF4c2hvcDogNDY0LAoJCQkJCXVzYXNob3BjbjogNDY3LAoJCQkJCXdpbmU5OiA0NjgsCgkJCQkJcWlwYWltYWxsOiA0NjksCgkJCQkJeW9kb2RvOiA0NzAsCgkJCQkJMTY4ODogNDcxLAoJCQkJCXlvZ2VyOiA0NzIsCgkJCQkJZGFwdTogNDczLAoJCQkJCXdpbm9uYTogNDc0LAoJCQkJCXdsOiA0NzUsCgkJCQkJc2hhbm1haTogNDc2LAoJCQkJCXpnc2hvZXM6IDQ3NywKCQkJCQltYWljaGF3YW5nOiA0NzgsCgkJCQkJdWVtYWxsOiA0ODksCgkJCQkJIjUxeW91IjogNDgwLAoJCQkJCWJlaWZhYm9vazogNDgxLAoJCQkJCWpwZWVuOiA0ODIsCgkJCQkJaHVhdHVveWY6IDQ4MywKCQkJCQlmZW5nYnV5OiA0ODQsCgkJCQkJdWl5aTogNDg1LAoJCQkJCWhlY2hhOiA0ODYsCgkJCQkJdDEwOiA0ODcsCgkJCQkJcXc6IDQ4OCwKCQkJCQltaXV0b3VyOiA0ODksCgkJCQkJZWhhb3lhbzogNDkwLAoJCQkJCWlkeDogNDkxLAoJCQkJCXV5YTEwMDogNDkyLAoJCQkJCXNzbmV3eW9yazogNDkzLAoJCQkJCWNsaW5pcXVlOiA0OTQsCgkJCQkJaHhlcGF3bjogNDk1LAoJCQkJCWJyb29rc2Jyb3RoZXJzOiA0OTYsCgkJCQkJb210YW86IDQ5NywKCQkJCQllcDM2NTogNDk4LAoJCQkJCWNvbHVtYmlhc3BvcnRzOiA0OTksCgkJCQkJYnN0YXBwOiA1MDAsCgkJCQkJbmV3YmFsYW5jZTogNTAxLAoJCQkJCXdqaWtlOiA1MDIsCgkJCQkJYmFsbHk6IDUwMywKCQkJCQkiMWhhaSI6IDUwNCwKCQkJCQlqaWFsaWNoOiA1MDUsCgkJCQkJdGFrZXlhOiA1MDYsCgkJCQkJZm9yZXZlcjIxOiA1MDcsCgkJCQkJbW9kZXJuYXZlbnVlOiA1MDgsCgkJCQkJbXVuaWFvOiA1MDksCgkJCQkJenVpaHVpeW91OiA1MTAsCgkJCQkJY2VudGFuZXQ6IDUxMSwKCQkJCQlib2JiaWJyb3duY29zbWV0aWNzOiA1MTIsCgkJCQkJInN1cGVyLWluIjogNTEzLAoJCQkJCWhhbmdvd2E6IDUxNCwKCQkJCQlsZXZpOiA1MTUsCgkJCQkJZmlsYTogNTE2LAoJCQkJCWNvbnZlcnNlOiA1MTcsCgkJCQkJbmV4dGRpcmVjdDogNTE4LAoJCQkJCWl0cmlwOiA1MTksCgkJCQkJbGFzaG91OiA1MjAsCgkJCQkJbGl1ZmVuZzogNTIxLAoJCQkJCXRydDogNTIyLAoJCQkJCXdvZGluZ2h1YTogNTIzLAoJCQkJCXd1bGl3dWxpOiA1MjQsCgkJCQkJZm9yZXN0Zm9vZDogNTI1LAoJCQkJCWJvbmpvdXJoazogNTI2LAoJCQkJCXZpdGFnb3U6IDUyNywKCQkJCQlraW5ob206IDUyOCwKCQkJCQkiMzYwbGoiOiA1MjksCgkJCQkJY2hhbmdiYTogNTMwLAoJCQkJCW9ha2xleTogNTMxLAoJCQkJCWpweW9vOiA1MzIsCgkJCQkJY2xhcmtzdXNhOiA1MzMsCgkJCQkJc3Rhcndvb2Rob3RlbHM6IDUzNCwKCQkJCQltYXJyaW90dDogNTM1LAoJCQkJCXllc3N0eWxlOiA1MzYsCgkJCQkJZXZpc3U6IDUzNywKCQkJCQlsaWZlc2Vhc3k6IDUzOCwKCQkJCQljY3hwZXQ6IDUzOSwKCQkJCQl4MDA2MTogNTQwLAoJCQkJCWtrZ3VhbjogNTQxLAoJCQkJCSJzdHlsZS1vY2xvY2siOiA1NDIsCgkJCQkJcGVpa3VhOiA1NDMsCgkJCQkJYWlyZnJhbmNlOiA1NDQsCgkJCQkJYWNjb3Job3RlbHM6IDU0NSwKCQkJCQlzcGFjZW5rOiA1NDYsCgkJCQkJaGFpY2h1ZmFuZzogNTQ3LAoJCQkJCXdjb25jZXB0OiA1NDgsCgkJCQkJZ2FudDogNTQ5LAoJCQkJCWNhdGZvb3R3ZWFyOiA1NTAsCgkJCQkJc2F1Y29ueTogNTUxLAoJCQkJCXphb3p1bzogNTUyLAoJCQkJCWxpdHRsZXN3YW46IDU1MywKCQkJCQljYW46IDU1NCwKCQkJCQlzc3JqOiA1NTUsCgkJCQkJZ3Vlc3M6IDU1NiwKCQkJCQlldGloYWQ6IDU1NywKCQkJCQlmaWlsOiA1NTgsCgkJCQkJbWlhbnNodWkzNjU6IDU1OSwKCQkJCQl0ZWdvdXNoZTogNTYwLAoJCQkJCXdpZ2dsZTogNTYxLAoJCQkJCW1kcmVhbXM6IDU2MiwKCQkJCQllY292YWNzOiA1NjMsCgkJCQkJY2Fsdmlua2xlaW46IDU2NCwKCQkJCQltZW1lYm94OiA1NjUsCgkJCQkJaGlsdG9uOiA1NjYsCgkJCQkJcmV2b2x2ZTogNTY3LAoJCQkJCXNoaXNlaWRvOiA1NjgsCgkJCQkJY2xhcmluc3VzYTogNTY5LAoJCQkJCXN0YXJidWNrczogNTcwLAoJCQkJCSJyYXktYmFuIjogNTcxLAoJCQkJCXB1bWE6IDU3MiwKCQkJCQluYXV0aWNhOiA1NzMsCgkJCQkJY3JlbWVkZWxhbWVyOiA1NzQsCgkJCQkJImtpcGxpbmctdXNhIjogNTc1LAoJCQkJCWp1cmxpcXVlOiA1NzYsCgkJCQkJaHVzaHB1cHBpZXM6IDU3NywKCQkJCQlvcmlnaW5zOiA1NzgsCgkJCQkJZm9sbGlmb2xsaWU6IDc3OSwKCQkJCQlsb2NjaXRhbmU6IDU4MCwKCQkJCQlocHN0b3JlOiA1ODIsCgkJCQkJIjAxaG9tZSI6IDU4NCwKCQkJCQloZWFsdGhwb3N0OiA1ODgsCgkJCQkJaW1lbmd4aWFuZzogNTkwLAoJCQkJCWh5c2o6IDU5MSwKCQkJCQlzYW9odW83OiA1OTIsCgkJCQkJcmVwYWk6IDU5MywKCQkJCQltYXlpOiA1OTQsCgkJCQkJeWlucGlhbzogNTk1LAoJCQkJCSJpaG9tZS1pbnMiOiA1OTYsCgkJCQkJaW5jYWtlOiA1OTcsCgkJCQkJa3V3bzogNTk4LAoJCQkJCXl3YXJ0OiA1OTksCgkJCQkJY2N0OiA2MDAsCgkJCQkJYW5zZ286IDYwMSwKCQkJCQlwaWxpYmFiYTogNjAyLAoJCQkJCXhpYW9uaXU4ODogNjAzLAoJCQkJCWFoYXZhOiA2MDQsCgkJCQkJIjUtZmlmdGgiOiA2MDUsCgkJCQkJdGhld2F0Y2hodXQ6IDYwNiwKCQkJCQliYWJ5aGF2ZW46IDYwNywKCQkJCQkiY29zbWUtZGUiOiA2MDgsCgkJCQkJZ2V0dGhlbGFiZWw6IDYwOSwKCQkJCQltYXRzdXlhOiA2MTAsCgkJCQkJdGltYmVybGFuZDogNjExLAoJCQkJCXRvcG1hbjogNjEyLAoJCQkJCWhvbWVhd2F5OiA2MTMsCgkJCQkJYmVhdXR5ZXhwZXJ0OiA2MTQsCgkJCQkJaGFpbWk6IDYxNSwKCQkJCQltYW5raW5kOiA2MTYsCgkJCQkJdGhlaHV0OiA2MTcsCgkJCQkJdG9wc2hvcDogNjE4LAoJCQkJCW1hbWFsYWRlbjogNjE5LAoJCQkJCSJ0cmF2ZWxlci1zdG9yZSI6IDYyMCwKCQkJCQl0cmF2ZWx6b286IDYyMSwKCQkJCQl1bWlzaG9lczogNjIyLAoJCQkJCXBlcnJpY29uZW1kOiA2MjMsCgkJCQkJZmVycmFyaTogNjI0LAoJCQkJCXdpbGxlcmV4cHJlc3M6IDYyNSwKCQkJCQl1bmluZWVkOiA2MjYsCgkJCQkJYWNuZXN0dWRpb3M6IDYyNywKCQkJCQlhZXJvcG9zdGFsZTogNjI4LAoJCQkJCWFnb2RhOiA2MjksCgkJCQkJYWxiYW1vZGE6IDYzMCwKCQkJCQlhbGxiZWF1dHk6IDYzMSwKCQkJCQlhbGxzYWludHM6IDYzMiwKCQkJCQlhbGxzb2xlOiA2MzMsCgkJCQkJdXJiYW5vdXRmaXR0ZXJzOiA2MzQsCgkJCQkJdml0YWJpb3RpY3M6IDYzNSwKCQkJCQliZWxsZW1haXNvbjogNjM2LAoJCQkJCWJlbmVmaXRjb3NtZXRpY3M6IDYzNywKCQkJCQliaGNvc21ldGljczogNjM4LAoJCQkJCWJqbXlsaWtlczogNjM5LAoJCQkJCXZpdGFtaW5iYXk6IDY0MCwKCQkJCQl3YWl0cm9zZTogNjQxLAoJCQkJCXdvbGZvcmRzaG9wOiA2NDIsCgkJCQkJYm9vaG9vOiA2NDMsCgkJCQkJYm9vdHM6IDY0NCwKCQkJCQlicml0aXNoY29ybmVyc2hvcDogNjQ1LAoJCQkJCXlpcmVuZGFpOiA2NDYsCgkJCQkJeXM3OiA2NDcsCgkJCQkJY29nZ2xlczogNjQ4LAoJCQkJCWNvcnNldGRlYWw6IDY0OSwKCQkJCQljb3R0b25vbjogNjUwLAoJCQkJCWNyb2NzOiA2NTEsCgkJCQkJY3J1aXNlZmFzaGlvbjogNjUyLAoJCQkJCWRlbGw6IDY1MywKCQkJCQlkZXJtc3RvcmU6IDY1NCwKCQkJCQlkaXNuZXlzdG9yZTogNjU1LAoJCQkJCWRvcm90aHlwZXJraW5zOiA2NTYsCgkJCQkJZG91ZG91a2FuZzogNjU3LAoJCQkJCWR1amlha2U6IDY1OCwKCQkJCQlkdW5lbG9uZG9uOiA2NTksCgkJCQkJZWFzdGJheTogNjYwLAoJCQkJCWVhc3RkYW5lOiA2NjEsCgkJCQkJemFmdWw6IDY2MiwKCQkJCQl6YXZ2aTogNjYzLAoJCQkJCWZlaW5rZWl0OiA2NjQsCgkJCQkJZWlibWFya3Q6IDY2NSwKCQkJCQliZWxsdW5hOiA2NjYsCgkJCQkJZW1pcmF0ZXM6IDY2NywKCQkJCQllbXM6IDY2OCwKCQkJCQlldGVybmE6IDY2OSwKCQkJCQlldXJhaWw6IDY3MCwKCQkJCQlleGFudGVkaWV0OiA2NzEsCgkJCQkJZXhwZWRpYTogNjcyLAoJCQkJCWZhbGtlOiA2NzMsCgkJCQkJZmFtb3VzZm9vdHdlYXI6IDY3NCwKCQkJCQlmb3JlbzogNjc2LAoJCQkJCXdhbmd4aW5saWNhaTogNjc3LAoJCQkJCWZvcmV2ZXJ1bmlxdWU6IDY3OCwKCQkJCQlmb3J6aWVyaTogNjc5LAoJCQkJCWZyZWVjb3VudHJ5OiA2ODAsCgkJCQkJZnJlbmNoY29ubmVjdGlvbjogNjgyLAoJCQkJCSJnaWZ0LWxhbmQiOiA2ODMsCgkJCQkJZ3Jvd2dvcmdlb3VzOiA2ODcsCgkJCQkJaG90ZWw6IDY5MCwKCQkJCQlob3VzZW9mZnJhc2VyOiA2OTEsCgkJCQkJaHVpenVjaGU6IDY5MiwKCQkJCQlpd2FudG9uZW9mdGhvc2U6IDY5NSwKCQkJCQlqamdsb2JhbDogNjk2LAoJCQkJCWp1aWN5Y291dHVyZTogNjk5LAoJCQkJCWtlbmtvOiA3MDAsCgkJCQkJa2lrb2Nvc21ldGljczogNzAyLAoJCQkJCWxhbmNlcnNraW5jYXJlOiA3MDMsCgkJCQkJbGVnbzogNzA0LAoJCQkJCWxvcmRhbmR0YXlsb3I6IDcwNiwKCQkJCQltYWl6aGk6IDcxMSwKCQkJCQltYXRjaGVzZmFzaGlvbjogNzEyLAoJCQkJCW1hdHN1a2l5bzogNzEzLAoJCQkJCW1pY3Jvc29mdDogNzE1LAoJCQkJCW1pb3NraW5jYXJlOiA3MTYsCgkJCQkJbWlzc3NlbGZyaWRnZTogNzE3LAoJCQkJCW1vdW50YWluZ2VhcjogNzE4LAoJCQkJCW15YmFnOiA3MjAsCgkJCQkJbXlwcm90ZWluOiA3MjEsCgkJCQkJbXl2aXRhbWluczogNzIzLAoJCQkJCSJuZXQtYS1wb3J0ZXIiOiA3MjQsCgkJCQkJIm5ld2JhbGFuY2UtdWsiOiA3MjUsCgkJCQkJZGRreTogNzI2LAoJCQkJCW5ld2xvb2s6IDcyNywKCQkJCQljaGluYWFjYzogNzI4LAoJCQkJCWJtYWk6IDcyOSwKCQkJCQkibmlrZS1oayI6IDczMCwKCQkJCQkibmlrZS1iciI6IDczMSwKCQkJCQlpbmtlOiA3MzIsCgkJCQkJbnlhbmRjb21wYW55OiA3MzMsCgkJCQkJIm9hc2lzLXN0b3JlcyI6IDczNCwKCQkJCQlvcmJpdHo6IDczNSwKCQkJCQlvcmNoaXJhOiA3MzYsCgkJCQkJIm9yaWdpbnMtdWsiOiA3MzcsCgkJCQkJcGV0c21hcnQ6IDczOCwKCQkJCQlqdW5yb25nZGFpOiA3MzksCgkJCQkJbmFwYWk6IDc0MCwKCQkJCQlncmVlOiA3NDEsCgkJCQkJcHJvYmlrZWtpdDogNzQyLAoJCQkJCXFhdGFyYWlyd2F5czogNzQzLAoJCQkJCXJhZGxleTogNzQ0LAoJCQkJCWFsbGlhbno6IDc0NSwKCQkJCQlyYWxwaGxhdXJlbjogNzQ2LAoJCQkJCXJlYmVjY2FtaW5rb2ZmOiA3NDcsCgkJCQkJeW91bWk6IDc0OCwKCQkJCQkiMjFjYWtlIjogNzQ5LAoJCQkJCXJlbnRhbGNhcnM6IDc1MCwKCQkJCQlyaWNhdWQ6IDc1MSwKCQkJCQlyb2NrcG9ydDogNzUyLAoJCQkJCXJ1ZWxhbGE6IDc1MywKCQkJCQkiNTZyZW4iOiA3NTQsCgkJCQkJc2Frc29mZjV0aDogNzU1LAoJCQkJCWFuYW50YXJhOiA3NTYsCgkJCQkJc2MyNDogNzU3LAoJCQkJCWNoZXN1ZGk6IDc1OCwKCQkJCQlzaG9lczogNzU5LAoJCQkJCXNob3BzcHJpbmc6IDc2MCwKCQkJCQlzaW1wbHlzdXBwbGVtZW50czogNzYxLAoJCQkJCWVobWFsbDogNzYyLAoJCQkJCWZhcmZldGNoOiA3NjMsCgkJCQkJc3NlbnNlOiA3NjQsCgkJCQkJc3RldmVtYWRkZW46IDc2NSwKCQkJCQlmcmVlcGVvcGxlOiA3NjYsCgkJCQkJZ2Fvc291eWk6IDc2NywKCQkJCQlpbW9tb2tvOiA3NjgsCgkJCQkJdGFvZG86IDc2OSwKCQkJCQltaWNoYWVsa29yczogNzcwLAoJCQkJCXR0Y2o6IDc3MSwKCQkJCQkidWYtY2x1YiI6IDc3MiwKCQkJCQl6aGFpZG91OiA3NzMsCgkJCQkJIjE2M3l1biI6IDc3NCwKCQkJCQlhcG86IDc3NSwKCQkJCQlqaW11OiA3NzYsCgkJCQkJaGFvMjQ6IDc3NywKCQkJCQlzZWFnb29yOiA3NzgsCgkJCQkJd2FubmFyOiA3NzksCgkJCQkJY2FpaGFuZzogNzgwLAoJCQkJCWNzbWFsbDogNzgxLAoJCQkJCWt1YWppbmc6IDc4MiwKCQkJCQltaWxsZW5uaXVtaG90ZWxzOiA3ODMsCgkJCQkJcmVlYm9uejogNzg0LAoJCQkJCXdlbWFrZXByaWNlOiA3ODUsCgkJCQkJd3pob3VodWk6IDc4NiwKCQkJCQlodWlqaWF5b3U6IDc4NywKCQkJCQltZWxpbWVsbzogNzg4LAoJCQkJCSI5MXhjbSI6IDc4OSwKCQkJCQkiYXNoZm9yZC16aCI6IDc5MCwKCQkJCQljam9ubWFydDogNzkxLAoJCQkJCWNueXRvOiA3OTIsCgkJCQkJZ3JhbmRkZnM6IDc5MywKCQkJCQlvZmZpY2VkZXBvdDogNzk0LAoJCQkJCXRpYW5ob25nOiA3OTUsCgkJCQkJeWlsaW5nc2hvcDogNzk2LAoJCQkJCWtsb29rOiA3OTcsCgkJCQkJImNoYXJtLWNvbG9yIjogNzk4LAoJCQkJCWZlbGlzc2ltbzogNzk5LAoJCQkJCXN1cmZzdGl0Y2g6IDgwMCwKCQkJCQlsb3JuYWphbmU6IDgwMSwKCQkJCQlyZWlzczogODAyLAoJCQkJCWd6bDogODAzLAoJCQkJCSI5ZHJ1ZyI6IDgwNCwKCQkJCQl5dW5nb3ViczogODA1CgkJCQl9OwoJCQllLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gYSgpOwoJCQkJbygpOwoJCQkJdmFyIHMgPSBsb2NhdGlvbi5ocmVmOwoJCQkJaWYgKCEocy5pbmRleE9mKCJvcmRlciIpID4gLTEgfHwgcy5pbmRleE9mKCJjYXJ0IikgPiAtMSkgJiYgdC5zZXRfZm9yY2UpIHRyeSB7CgkJCQkJaWYgKGRbZV0gJiYgbi5pbkFycmF5KCIiICsgZFtlXSwgdC5mb3JjZSkgPj0gMCkgcmV0dXJuOwoJCQkJCW4oImJvZHkiKS5kZWxlZ2F0ZSgiYSIsICJtb3VzZWVudGVyIG1vdXNlbGVhdmUgbW91c2VvdmVyIiwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IG4odGhpcykuYXR0cigiY3QiKTsKCQkJCQkJIm1vdXNlb3ZlciIgIT0gZS50eXBlICYmIHQgJiYgbih0aGlzKS5hdHRyKCJocmVmIiwgdCkucmVtb3ZlQXR0cigiY3QiKS5hdHRyKCJjdGVkIiwgIjEiKQoJCQkJCX0pLCAiczgiICE9IGUgPyBuKCJib2R5IikuZGVsZWdhdGUoImEiLCAiY2xpY2siLCBmdW5jdGlvbihhKSB7CgkJCQkJCWlmICghKG4uaW5BcnJheSgiIiArIGRbZV0sIHQuZm9yY2UpID49IDApICYmICFsICYmICgiMSIgIT09IG4odGhpcykuYXR0cigiY3RlZCIpIHx8IHQuaXNNb2JpbGUpKSB7CgkJCQkJCQlpZiAoYyAmJiAhdC5pc01vYmlsZSAmJiAoImpzZHgiID09IHQuZnJvbV9kZXZpY2UgJiYgdC5zZWNvbmRTaG93IHx8ICJ0bHhzIiA9PSB0LmZyb21fZGV2aWNlICYmIHQuc2Vjb25kU2hvdyB8fCAiaG5keCIgPT0gdC5mcm9tX2RldmljZSB8fCAieGRqZiIgPT0gdC5mcm9tX2RldmljZSAmJiB0LnNlY29uZFNob3cgfHwgImhhZ3ciID09IHQuZnJvbV9kZXZpY2UgJiYgdC5zZWNvbmRTaG93IHx8ICJtaV9uZXciID09IHQuZnJvbV9kZXZpY2UpKSByZXR1cm4gdm9pZChjID0gITEpOwoJCQkJCQkJaWYgKGRbZV0pIHsKCQkJCQkJCQl2YXIgbyA9IG4odGhpcykuYXR0cigiaHJlZiIpOwoJCQkJCQkJCWlmICghbyB8fCBvLmluZGV4T2YoIm9yZGVyIikgPiAtMSB8fCBvLmluZGV4T2YoImNhcnQiKSA+IC0xKSByZXR1cm47CgkJCQkJCQkJdmFyIHMgPSBuKHRoaXMpLmF0dHIoImNsYXNzIikgfHwgIiI7CgkJCQkJCQkJbyA9IGkodC5ocmVmLCBvKSwgMCA9PSBvLmluZGV4T2YoImh0dHAiKSAmJiBvLmluZGV4T2YoIiIgKyB0LmV4dE5hbWUpIDwgMCAmJiAtMSA9PSBzLmluZGV4T2YodC5leHROYW1lICsgIl9saW5rIikgJiYgKG8gPSByICsgIj9zaXRlX2lkPSIgKyBkW2VdICsgIiZ0YXJnZXRfdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobykgKyAiJmZyb209Y3QmY29sdW1uPWRpY3RzJnVuaW9uPSIgKyB0LnVuaW9uLnJlcGxhY2UoInVuaW9uXyIsICIiKSwgbih0aGlzKS5hdHRyKCJjdCIsIG4odGhpcykuYXR0cigiaHJlZiIpKSwgbih0aGlzKS5hdHRyKCJocmVmIiwgbyksIGwgPSAhMCwgbi5hamF4KHsKCQkJCQkJCQkJdXJsOiB0LnNlcnZlciArICIvYnJ3ZXh0L3Blcm1hbmVudF9pZC8iLAoJCQkJCQkJCQlkYXRhVHlwZTogImpzb25wIiwKCQkJCQkJCQkJanNvbnA6ICJjYWxsYmFjayIsCgkJCQkJCQkJCWFzeW5jOiAhMCwKCQkJCQkJCQkJZGF0YTogInZlcnNpb249MiZvcD1zZXRfZm9yY2UmdHlwZT0iICsgZFtlXSArICImdW5pb249IiArIHQudW5pb24sCgkJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXQuZm9yY2UgPSBlLmZvcmNlCgkJCQkJCQkJCX0sCgkJCQkJCQkJCWVycm9yOiBmdW5jdGlvbihlLCB0LCBuKSB7fQoJCQkJCQkJCX0pKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSkgOiBuKCJib2R5IikuZGVsZWdhdGUoImEiLCAiY2xpY2siLCBmdW5jdGlvbihhKSB7CgkJCQkJCWlmICghKG4uaW5BcnJheSgiIiArIGRbZV0sIHQuZm9yY2UpID49IDApKSB7CgkJCQkJCQlpZiAoYykgcmV0dXJuIHZvaWQoYyA9ICExKTsKCQkJCQkJCWlmIChkW2VdKSB7CgkJCQkJCQkJdmFyIG8gPSBuKHRoaXMpLmF0dHIoImhyZWYiKTsKCQkJCQkJCQlvID0gaSh0LmhyZWYsIG8pLCAwID09IG8uaW5kZXhPZigiaHR0cCIpICYmIG8uaW5kZXhPZigiIiArIHQuZXh0TmFtZSkgPCAwICYmIChvLmluZGV4T2YoIml0ZW0iKSA+IDAgfHwgby5pbmRleE9mKCJkZXRhaWwiKSA+IDApICYmIChvID0gciArICI/c2l0ZV9pZD0iICsgZFtlXSArICImdGFyZ2V0X3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG8pICsgIiZmcm9tPWN0Iiwgbih0aGlzKS5hdHRyKCJjdCIsIG4odGhpcykuYXR0cigiaHJlZiIpKSwgbih0aGlzKS5hdHRyKCJocmVmIiwgbyksIG4uYWpheCh7CgkJCQkJCQkJCXVybDogdC5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQvIiwKCQkJCQkJCQkJZGF0YVR5cGU6ICJqc29ucCIsCgkJCQkJCQkJCWpzb25wOiAiY2FsbGJhY2siLAoJCQkJCQkJCQlhc3luYzogITAsCgkJCQkJCQkJCWRhdGE6ICJ2ZXJzaW9uPTImb3A9c2V0X2ZvcmNlJnR5cGU9IiArIGRbZV0sCgkJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXQuZm9yY2UgPSBlLmZvcmNlCgkJCQkJCQkJCX0sCgkJCQkJCQkJCWVycm9yOiBmdW5jdGlvbihlLCB0LCBuKSB7fQoJCQkJCQkJCX0pKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0gY2F0Y2ggKHApIHsKCQkJCQlpZiAodC5kZWJ1ZykgdGhyb3cgcAoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gbigyOSksCgkJCQlyID0gby5nZXRCcm93c2VyKCksCgkJCQlzID0gbigxMTIpLAoJCQkJbCA9IG4oMTcpLAoJCQkJYyA9IG4oOSksCgkJCQlkID0gbigyNiksCgkJCQlwID0gbigxMyksCgkJCQloID0gZnVuY3Rpb24oKSB7CgkJCQkJci51dGl0bGUuaW5kZXhPZigiMzYwIikgPiAtMSAmJiAoci51dGl0bGUgPSAzNjApLCB0KCJib2R5IikuYXBwZW5kKGEuY29tcGlsZShzKSh7CgkJCQkJCWRhdGE6IHIsCgkJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUKCQkJCQl9KSksIHQoImh0bWwiKS5hZGRDbGFzcygicmVtaW5kIiksIGQoInRyYWNrOnVwZGF0ZV9yZW1pbmQiKSwgcC5sb2coIuaPkuS7tuaOqOW5v+WxleeOsCIpLCBmKCksIHUoKQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbigpIHsKCQkJCQl0KCIjcmVtaW5kX2Nsb3NlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiN1cGRhdGVfcmVtaW5kIikucmVtb3ZlKCksIGQoImNsaWNrOnVwZGF0ZV9yZW1pbmRfY2xvc2UiKSwgcC5sb2coIuaPkuS7tuaOqOW5v+WFs+mXrSIpLCBtKCkKCQkJCQl9KSwgdCgiI3VwZGF0ZV9yZW1pbmQgYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlkKCJjbGljazp1cGRhdGVfcmVtaW5kX2luc3RhbGwiKSwgcC5sb2coIuaPkuS7tuaOqOW5v+eCueWHu+WuieijhSIpLCBtKCkKCQkJCQl9KQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfY2xvc2VfdXBkYXRlJmNsb3NlX3VwZGF0ZT0xIjsKCQkJCQljLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJbC5zZXQoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfY2xvc2VfdXBkYXRlX2hvdXImY2xvc2VfdXBkYXRlX2hvdXI9MSI7CgkJCQkJYy5nZXQoZSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCWwuc2V0KGUpCgkJCQkJfSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHQoIiNCSUpJQV9IQVNfQlVJTFQiKS5hdHRyKCJjbGFzcyIpIHx8ICIiLAoJCQkJCW4gPSBbXSwKCQkJCQlhID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnJhbmRvbSgpKSA+IDgwOwoJCQkJZSA9IGUuc3BsaXQoIiAiKS5sZW5ndGgsIG4uaW5kZXhPZihpLmZyb21fZGV2aWNlKSA+IC0xICYmICIxIiAhPSBsLmdldCgiY2xvc2VfdXBkYXRlIikgJiYgIjEiICE9IGwuZ2V0KCJjbG9zZV91cGRhdGVfaG91ciIpICYmIDIgPiBlICYmIGEgJiYgaCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ1cGRhdGVfcmVtaW5kIj5cbiAgPGRpdiBjbGFzcz0idV9jb250ZW50Ij5cbiAgICA8c3BhbiBjbGFzcz0idXBkYXRlX2ljb24iPjwvc3Bhbj5cbiAgICA8YSBjbGFzcz0idXBkYXRlX3R4dCB7e2V4dE5hbWV9fV9saW5rIiBocmVmPSJ7e2RhdGEudXJsfX0iIHRhcmdldD0iX2JsYW5rIj7ojrflj5Z7e2RhdGEudXRpdGxlfX3mtY/op4jlmajoh6rliqjmr5Tku7flt6XlhbfvvIzov5npobnlronoo4XmnInliqnkuo7mlLnov5vkvaDnmoTnvZHotK3kvZPpqozvvIzlnKjmtY/op4jllYblk4HpobXpnaLml7boh6rliqjlsZXnpLoxODDlpKnku7fmoLzljoblj7Llkozlhbbku5bnvZHnq5nmiqXku7c8L2E+XG4gICAgPGEgY2xhc3M9InVwZGF0ZV9idG4ge3tleHROYW1lfX1fbGluayIgaHJlZj0ie3tkYXRhLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+56uL5Y2z5a6J6KOFPC9hPlxuICA8L2Rpdj5cbiAgPHNwYW4gaWQ9InJlbWluZF9jbG9zZSI+PC9zcGFuPlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICN1cGRhdGVfcmVtaW5kIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkVFRTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFNEU0RTQ7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDc7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC51X2NvbnRlbnQge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuICAgIC51cGRhdGVfaWNvbiB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZ3dkX3VwZGF0ZV9yZW1pbmQucG5nXCcpO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICB3aWR0aDogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICB9XG4gICAgI3VwZGF0ZV9yZW1pbmQgLnVwZGF0ZV90eHQge1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgY29sb3I6ICMwMDAwNjY7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAjdXBkYXRlX3JlbWluZCAudXBkYXRlX3R4dDpob3ZlciB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIGNvbG9yOiAjRkYzMzMzO1xuICAgIH1cbiAgICAjdXBkYXRlX3JlbWluZCAudXBkYXRlX2J0biB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjJGMkYyO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI0NDQztcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBsaW5lLWhlaWdodDogMjZweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIH1cbiAgICAjdXBkYXRlX3JlbWluZCAudXBkYXRlX2J0bjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTRFNEU0O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAjcmVtaW5kX2Nsb3Nle1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDE2cHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB0b3A6IDEzcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZ3dkX3VwZGF0ZV9yZW1pbmRfY2xvc2UucG5nXCcpIG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTJweDtcbiAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gbigxMyksCgkJCQlyID0gbigyNiksCgkJCQlzID0gbig5MiksCgkJCQlsID0gewoJCQkJCXRtYWxsOiB7CgkJCQkJCWltZzogImh0dHA6Ly9yZWFkaW5kZXguYmpjbmMuc2NzLnNvaHVjcy5jb20vYmFubmVyL3F1YW5sb2dvMi5wbmciLAoJCQkJCQl1cmx0YjogImh0dHBzOi8vcy5jbGljay50YW9iYW8uY29tL1kzaXU3aXciLAoJCQkJCQl1cmw6ICJodHRwczovL3MuY2xpY2sudGFvYmFvLmNvbS9aR05hbWh3IgoJCQkJCX0KCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oZSkgewoJCQkJCXQoIiNxdWFubG9nbyAuY2xvc2VfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiNxdWFubG9nbyIpLnJlbW92ZSgpLCBvLmxvZygiaW1hZ2VhZDpjbG9zZToiICsgZSksIHIoImltYWdlYWQ6Y2xvc2U6IiArIGUpLCBzLnNldHRpbmdzKCJzZXRfaW1hZ2VBZCIsICJpbWFnZUFkIiwgIjAiKQoJCQkJCX0pLCB0KCIjcXVhbmxvZ28gYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlvLmxvZygiaW1hZ2VhZDpjbGljazoiICsgZSksIHIoImltYWdlYWQ6Y2xpY2s6IiArIGUpCgkJCQkJfSkKCQkJCX0sCgkJCQlkID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAidG1hbGwiLAoJCQkJCQlzID0gbFtlXSwKCQkJCQkJZCA9IG4oMTE0KTsKCQkJCQl0KCJib2R5IikuYXBwZW5kKGEuY29tcGlsZShkKSh7CgkJCQkJCXNyYzogcy5pbWcsCgkJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCQl1cmw6IHMudXJsCgkJCQkJfSkpLCBvLmxvZygiaW1hZ2VhZDp0cmFjazoiICsgZSksIHIoImltYWdlYWQ6dHJhY2s6IiArIGUpLCBjKGUpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaS5uZXdfZXh0ZW5zaW9uICYmICgiMCIgPT09IGkuaW1hZ2VBZCB8fCBpLmZvcmJpZEFkIHx8IGQoKSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InF1YW5sb2dvIj5cbiAgPGEgaHJlZj0ie3t1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgIDxpbWcgc3JjPSJ7e3NyY319Ij5cbiAgPC9hPlxuICA8c3BhbiBjbGFzcz0iY2xvc2VfYnRuIj48L3NwYW4+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgI3F1YW5sb2dvIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgcmlnaHQ6IDQwcHg7XG4gICAgICB0b3A6IDI5MHB4O1xuICAgICAgei1pbmRleDogOTk5OTk5OTk5OTk5OTk5OTk5OTk5O1xuICAgIH1cbiAgICAjcXVhbmxvZ28gaW1nIHtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgIH1cbiAgICAjcXVhbmxvZ28gLmNsb3NlX2J0biB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IC0xNXB4O1xuICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL3F1YW5sb2dvX2Nsb3NlLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMjgpOwoJCQllLmV4cG9ydHMucmVhZHkgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gWyJ3d3cuYW1hem9uLmNvbSIsICJ3d3cuYW1hem9uLmRlIiwgInd3dy5hbWF6b24uY28uanAiXTsKCQkJCWlmICgtMSAhPSBlLmluZGV4T2YobG9jYXRpb24uaG9zdCkpIHsKCQkJCQl2YXIgbiA9IHsKCQkJCQkJbmFtZTogdC5kcC5uYW1lIHx8ICIiLAoJCQkJCQlwcmljZTogdC5kcC5vbGRQcmljZSB8fCAiMCIKCQkJCQl9OwoJCQkJCWkudHJpZ2dlcih7CgkJCQkJCXR5cGU6ICJnZXRBbWF6b25QcmljZVRyZW5kIiwKCQkJCQkJaW5mbzogSlNPTi5zdHJpbmdpZnkobikKCQkJCQl9KQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIGkgPSBuKDExNyksCgkJCWEgPSBuKDI4KSwKCQkJbyA9IHZvaWQgMCwKCQkJciA9IHZvaWQgMCwKCQkJcyA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSB7CgkJCQkJCXR5cGU6ICJqc29uIiwKCQkJCQkJYnJvd3NlcjogImNocm9tZSIsCgkJCQkJCXZlcjogIjYuMSIsCgkJCQkJCXN0eWxlX3Nob3dfdHlwZTogbnVsbCwKCQkJCQkJc3R5bGVfQURJRDogbnVsbCwKCQkJCQkJY3VycmVuY3k6IG51bGwsCgkJCQkJCWxhbmd1YWdlOiAiZW5nbGlzaCIsCgkJCQkJCXI6IC43MTk2OTU5MTM5ODE3NTMxLAoJCQkJCQl1cmw6IGxvY2F0aW9uLmhyZWYKCQkJCQl9LAoJCQkJCXQgPSAidHlwZT0iICsgZS50eXBlICsgIiZicm93c2VyPSIgKyBlLmJyb3dzZXIgKyAiJnZlcj0iICsgZS52ZXIgKyAiJnN0eWxlX3Nob3dfdHlwZT11bmRlZmluZWQmc3R5bGVfQURJRD11bmRlZmluZWQmY3VycmVuY3k9dW5kZWZpbmVkJmxhbmd1YWdlPSIgKyBlLmxhbmd1YWdlICsgIiZyPSIgKyBlLnIgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYpOwoJCQkJcmV0dXJuIHQKCQkJfSwKCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWZvciAodmFyIHQgPSBmdW5jdGlvbih0KSB7CgkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aCAtIDE7IG4rKykKCQkJCQkJaWYgKHQgPj0gMWUzICogTnVtYmVyKGVbbl0udGltZV91cGRhdGUpICYmIHQgPCAxZTMgKiBOdW1iZXIoZVtuICsgMV0udGltZV91cGRhdGUpKSByZXR1cm4gZVtuXS5wcmljZTsKCQkJCQlyZXR1cm4gZVtlLmxlbmd0aCAtIDFdLnByaWNlCgkJCQl9LCBuID0gMzZlNSwgYSA9IDI0ICogbiwgciA9IE51bWJlcihvLmxvd2VzdF9waWNlLnByaWNlKSwgcyA9IHIsIGwgPSAxZTMgKiBOdW1iZXIoZVswXS50aW1lX3VwZGF0ZSksIGMgPSBuZXcgRGF0ZShsKS5nZXREYXRlKCksIGQgPSBuZXcgRGF0ZShsKS5nZXRNb250aCgpLCBwID0gbmV3IERhdGUobCkuZ2V0RnVsbFllYXIoKSwgaCA9IFtdLCB1ID0gbmV3IERhdGUsIG0gPSBlW2UubGVuZ3RoIC0gMV0ucHJpY2UsIGYgPSAwOyBmIDwgZS5sZW5ndGg7IGYrKykgTnVtYmVyKGVbZl0ucHJpY2UpID4gcyAmJiAocyA9IE51bWJlcihlW2ZdLnByaWNlKSk7CgkJCQlmb3IgKHZhciBnID0gciArICItIiArIHMsIF8gPSBsOyBfIDw9IHUuZ2V0VGltZSgpOykgewoJCQkJCXZhciB4ID0gdChfKTsKCQkJCQloLnB1c2gocGFyc2VGbG9hdCh4KSksIF8gKz0gYQoJCQkJfQoJCQkJdmFyIHcgPSBpLmdldFByaWNlU3RhdHVzTmV3KGgpLAoJCQkJCXYgPSB3LnByaWNlX3N0YXR1cywKCQkJCQliID0gbnVsbDsKCQkJCWgubGVuZ3RoID49IDM2NSAmJiAoYiA9IGguc2xpY2UoaC5sZW5ndGggLSAzNjUpKTsKCQkJCXZhciB5ID0gbnVsbDsKCQkJCWgubGVuZ3RoID49IDMxICYmICh5ID0gaC5zbGljZShoLmxlbmd0aCAtIDMxKSk7CgkJCQl2YXIgayA9IG51bGw7CgkJCQlpZiAoaC5sZW5ndGggPj0gNikgewoJCQkJCXZhciB6ID0gaC5zbGljZShoLmxlbmd0aCAtIDYpOwoJCQkJCWsgPSBbXTsKCQkJCQlmb3IgKHZhciBmID0gMDsgZiA8IHoubGVuZ3RoIC0gMTsgZisrKSB7CgkJCQkJCWZvciAodmFyIEIgPSBbXSwgaiA9IDA7IDI0ID4gajsgaisrKSBCLnB1c2goeltmXSk7CgkJCQkJCWsgPSBrLmNvbmNhdChCKQoJCQkJCX0KCQkJCQlrLnB1c2goelt6Lmxlbmd0aCAtIDFdKQoJCQkJfQoJCQkJdmFyIEMgPSB7CgkJCQkJcHJpY2Vfc3RhdHVzOiB2LAoJCQkJCXN0YXJ0RDogYywKCQkJCQlzdGFydE06IGQsCgkJCQkJc3RhcnRZOiBwLAoJCQkJCW5vd19kYXk6IHUuZ2V0VGltZSgpLAoJCQkJCWV4dHJhOiAic3RhcnQgZnJvbSBhbm90aGVyIiwKCQkJCQlzdG9yZTogW3sKCQkJCQkJY3VycmVudF9wcmljZTogbSwKCQkJCQkJYWxsX2xpbmU6IGgsCgkJCQkJCWFsbF9saW5lX2JlZ2luX3RpbWU6IGwgKyA4ICogbiwKCQkJCQkJeWVhcl9saW5lOiBiLAoJCQkJCQl5ZWFyX2xpbmVfdGltZTogdS5nZXRUaW1lKCkgLSAzNjUgKiBhLAoJCQkJCQltb250aF9saW5lOiB5LAoJCQkJCQltb250aF9saW5lX3RpbWU6IHUuZ2V0VGltZSgpIC0gMzAgKiBhLAoJCQkJCQlzaG9ydF9kYXlfbGluZTogaywKCQkJCQkJc2hvcnRfZGF5X2xpbmVfYmVnaW5fdGltZTogdS5nZXRUaW1lKCkgKyA4ICogbiAtIDUgKiBhLAoJCQkJCQltaW5fc3RhbXA6ICIwIiwKCQkJCQkJaXNsb3dlc3Q6IDAsCgkJCQkJCW5hbWU6ICJhbGlleHByZXNzIiwKCQkJCQkJcHJpY2VfcmFuZ2U6IGcsCgkJCQkJCXByb21vOiBbXSwKCQkJCQkJYWxsX2VxdWFsX3Nob3J0OiAhMQoJCQkJCX1dCgkJCQl9OwoJCQkJcmV0dXJuIEMKCQkJfTsKCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQl2YXIgZSA9IHMoKTsKCQkJYS5vbihmdW5jdGlvbihlKSB7CgkJCQkiYWxpZXhwcmVzcyIgPT09IGUudHlwZSAmJiAobyA9IEpTT04ucGFyc2UoZS52YWx1ZSksIG8ucHJpY2VfdHJhY2tpbmcgJiYgKG8ucHJpY2VfdHJhY2tpbmcgPSBsKG8ucHJpY2VfdHJhY2tpbmcpLCByICYmIHIoby5wcmljZV90cmFja2luZykpKQoJCQl9KSwgYS50cmlnZ2VyKHsKCQkJCXR5cGU6ICJhbGlleHByZXNzIiwKCQkJCXVybDogImh0dHBzOi8vcGx1Z2luLmFsaXByaWNlLmNvbS9wbHVnaW4vY2hyb21lX3YwNy5waHA/IiArIGUKCQkJfSkKCQl9LCBlLmV4cG9ydHMuZ2V0VHJlbmREYXRhID0gZnVuY3Rpb24oZSkgewoJCQlvID8gZShvKSA6IHIgPSBlCgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSwgbykgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJdmFyIGUgPSAiIiwKCQkJCQkJdCA9IHsKCQkJCQkJCXRhb2JhbzogIua3mOWunSIsCgkJCQkJCQl0bWFsbDogIuWkqeeMqyIsCgkJCQkJCQkiMzYwYnV5IjogIuS6rOS4nOWVhuWfjiIsCgkJCQkJCQkiNTFidXkiOiAi5piT6L+F572RIiwKCQkJCQkJCXN1bmluZzogIuiLj+WugeaYk+i0rSIsCgkJCQkJCQl5aWhhb2RpYW46ICLkuIDlj7flupciLAoJCQkJCQkJZGFuZ2Rhbmc6ICLlvZPlvZPnvZEiLAoJCQkJCQkJZ29tZTogIuWbvee+juWcqOe6vyIsCgkJCQkJCQlsZWZlbmc6ICLkuZDonILnvZEiLAoJCQkJCQkJeGl1OiAi6LWw56eA572RIiwKCQkJCQkJCXBoaWxpcHM6ICLpo57liKnmtaYiLAoJCQkJCQkJdGNsOiAiVENM5ZWG5Z+OIiwKCQkJCQkJCSJlLWNoYW5naG9uZyI6ICLplb/ombnllYbln44iLAoJCQkJCQkJa29ua2E6ICLlurfkvbPllYbln44iLAoJCQkJCQkJaGlzZW5zZTogIua1t+S/oeWVhuWfjiIsCgkJCQkJCQlpbmVpZ286ICLniLHlhoXotK0iLAoJCQkJCQkJc2tnOiAiU0tH5ZWG5Z+OIiwKCQkJCQkJCSJrLXRvdWNoIjogIuWkqeivreaJi+acuuWumOe9kSIsCgkJCQkJCQlnaW9uZWU6ICLph5Hnq4siLAoJCQkJCQkJb3BwbzogIk9QUE8iLAoJCQkJCQkJZ2ZpdmU6ICLln7rkvI3lrpjmlrnllYbln44iLAoJCQkJCQkJdml2bzogInZpdm8iLAoJCQkJCQkJbWVpbGlzaHVvOiAi576O5Li96K+0IiwKCQkJCQkJCW1vZ3VqaWU6ICLomJHoj4fooZciLAoJCQkJCQkJeGlhb21pOiAi5bCP57Gz5a6Y572RIiwKCQkJCQkJCWxlbWFsbDogIuS5kOinhuWVhuWfjiIsCgkJCQkJCQlncmFpbmdlcjogIuWbuuWuieaNt+WumOe9kSIsCgkJCQkJCQlwaWFvOiAi572R5piT55S15b2x56WoIiwKCQkJCQkJCTE2MzogIue9keaYk+WVhuWfjiIsCgkJCQkJCQlkaWFucGluZzogIueCueivhOWboiIsCgkJCQkJCQludW9taTogIueZvuW6puezr+exsyIsCgkJCQkJCQltZWl0dWFuOiAi576O5ZuiIiwKCQkJCQkJCWJvb2t1dTogIuWNmuW6k+aWh+WFtyIsCgkJCQkJCQlib29rc2NoaW5hOiAi5Lit5Zu95Zu+5Lmm572RIiwKCQkJCQkJCTE2ODg6ICLpmL/ph4zlt7Tlt7QiLAoJCQkJCQkJem9sOiAi5Lit5YWz5p2R5ZWG5Z+OIiwKCQkJCQkJCWFtYXpvbjogIuS6mumprOmAiiIsCgkJCQkJCQl0aWFudGlhbjogIuWkqeWkqee9kSIsCgkJCQkJCQl3b21haTogIuaIkeS5sOe9kSIsCgkJCQkJCQl5b3Vnb3U6ICLkvJjotK3nvZEiLAoJCQkJCQkJdm1hbGw6ICLljY7kuLrllYbln44iLAoJCQkJCQkJcGFpeGllOiAi5ouN6Z6L572RIiwKCQkJCQkJCW5ld2VnZzogIuaWsOibi+WVhuWfjiIsCgkJCQkJCQl2YW5jbDogIuWHoeWuouivmuWTgSIKCQkJCQkJfTsKCQkJCQl0cnkgewoJCQkJCQlmb3IgKHZhciBuID0gYS5zaXRlLCBpID0gWyIzNjBidXkiLCAiZ29tZSIsICJzdW5pbmciLCAidGFvYmFvIiwgInlpaGFvZGlhbiIsICJ3b21haSIsICJib29rc2NoaW5hIiwgInBhaXhpZSIsICJib29rdXUiLCAidGlhbnRpYW4iXSwgbyA9IDA7IG8gPCBpLmxlbmd0aDsgbysrKQoJCQkJCQkJaWYgKG4uaW5kZXhPZihpW29dKSA+IC0xKSB7CgkJCQkJCQkJbiA9IGlbb107CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJZSA9IHRbbl0KCQkJCQl9IGNhdGNoIChyKSB7CgkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyByCgkJCQkJfQoJCQkJCXJldHVybiAidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSAmJiAoZSA9ICIiKSwgIua3mOWunSIgPT0gZSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdC50b1N0cmluZygpLmluZGV4T2YoInRtYWxsIikgPiAtMSAmJiAoZSA9ICLlpKnnjKsiKSwgZQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQoZSkgewoJCQkJCXZhciB0ID0gYS5zaXRlLAoJCQkJCQluID0gJChhLnNpdGUpLAoJCQkJCQlpID0gIiI7CgkJCQkJKCJ0YW9iYW8iID09IGEuc2l0ZSB8fCAidG1hbGwiID09IGEuc2l0ZSB8fCBhLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSkgJiYgKGkgPSAiMSIpOwoJCQkJCXRyeSB7CgkJCQkJCVMuZ2V0KGEuc2VydmVyICsgIi9hcHAvcHJpY2VfdHJlbmQ/ZHBfaWRzPSIgKyB1ICsgIiZkcF9pZD0iICsgbSArICImc2l0ZT0iICsgdCArICImZGF5cz0iICsgQyArICImaXNfbGlnaHQ9JmlzdGFvYmFvPSIgKyBpICsgIiZwcmljZT0iICsgbikuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQllKHQpCgkJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCQllKCExKQoJCQkJCQl9KQoJCQkJCX0gY2F0Y2ggKG8pIHt9CgkJCQl9CgoJCQkJZnVuY3Rpb24gaSh0KSB7CgkJCQkJaWYgKHQgJiYgdC5saXN0KSB7CgkJCQkJCXZhciBuID0gdm9pZCAwLAoJCQkJCQkJaSA9IHZvaWQgMCwKCQkJCQkJCW8gPSB2b2lkIDAsCgkJCQkJCQlyID0gdm9pZCAwLAoJCQkJCQkJcyA9IHZvaWQgMCwKCQkJCQkJCWwgPSB0Lmxpc3QubGVuZ3RoLAoJCQkJCQkJYyA9IFtdOwoJCQkJCQlyID0gbmV3IERhdGUodC5jdXJUaW1lKS5nZXRUaW1lKCksIGkgPSBvID0gdC5saXN0WzBdLnByaWNlOwoJCQkJCQl0cnkgewoJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGwgPiBkOyBkKyspIHsKCQkJCQkJCQl2YXIgcCA9IHQubGlzdFtkXTsKCQkJCQkJCQljLnB1c2goW25ldyBEYXRlKHAudGltZSkuZ2V0VGltZSgpLCBwLnByaWNlXSksIHAucHJpY2UgPiBvICYmIChvID0gcC5wcmljZSksIHAucHJpY2UgPCBpICYmIChpID0gcC5wcmljZSkKCQkJCQkJCX0KCQkJCQkJCWZvciAodmFyIGQgPSBsIC0gMTsgZCA+IDA7IGQtLSkKCQkJCQkJCQlpZiAoY1tkXVswXSAtIGNbZCAtIDFdWzBdID4gODY0ZTUpIHsKCQkJCQkJCQkJdmFyIGggPSBbY1tkXVswXSAtIDg2NGU1LCBjW2QgLSAxXVsxXV07CgkJCQkJCQkJCWMuc3BsaWNlKGQsIDAsIGgpCgkJCQkJCQkJfQoJCQkJCQkJdmFyIHUgPSBjW2MubGVuZ3RoIC0gMV07CgkJCQkJCQlpZiAodVswXSA8IHIpIHsKCQkJCQkJCQl2YXIgbSA9IHVbMV0sCgkJCQkJCQkJCWYgPSAkKGEuc2l0ZSk7CgkJCQkJCQkJciAtIHVbMF0gPiA4NjRlNSAmJiBjLnB1c2goW3IgLSA4NjRlNSwgbV0pLCBmICYmIG0gIT0gZiAmJiAoZiA+IG8gJiYgKG8gPSBmKSwgaSA+IGYgJiYgKGkgPSBmKSwgYy5wdXNoKFtyLCBmXSkpCgkJCQkJCQl9CgkJCQkJCQl2YXIgZyA9IFIoYyksCgkJCQkJCQkJXyA9IGcucHJpY2Vfc3RhdHVzLAoJCQkJCQkJCXggPSBnLnByaWNlX2xhc3Q7CgkJCQkJCQluID0gZy5pc2xvd2VzdDsKCQkJCQkJCXZhciB3ID0gaSArICItIiArIG8sCgkJCQkJCQkJdiA9IG5ldyBEYXRlKHQuc3RhcnRUaW1lKS5nZXREYXRlKCksCgkJCQkJCQkJYiA9IG5ldyBEYXRlKHQuc3RhcnRUaW1lKS5nZXRNb250aCgpLAoJCQkJCQkJCXkgPSBuZXcgRGF0ZSh0LnN0YXJ0VGltZSkuZ2V0RnVsbFllYXIoKTsKCQkJCQkJCXMgPSB7CgkJCQkJCQkJcHJpY2Vfc3RhdHVzOiBfLAoJCQkJCQkJCXN0YXJ0RDogdiwKCQkJCQkJCQlzdGFydE06IGIsCgkJCQkJCQkJc3RhcnRZOiB5LAoJCQkJCQkJCXN0b3JlOiBbewoJCQkJCQkJCQljdXJyZW50X3ByaWNlOiB4LAoJCQkJCQkJCQlkYXRhOiBjLAoJCQkJCQkJCQltaW5fc3RhbXA6ICIwIiwKCQkJCQkJCQkJaXNsb3dlc3Q6IG4sCgkJCQkJCQkJCW5hbWU6IGUoKSwKCQkJCQkJCQkJcHJpY2VfcmFuZ2U6IHcKCQkJCQkJCQl9XQoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChrKSB7fQoJCQkJCQlyZXR1cm4gcwoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiByKGUpIHsKCQkJCQlyZXR1cm4gcGFyc2VJbnQoZSkgPiA5OTk5OTkgPyBwYXJzZUludChlKSA6IHBhcnNlRmxvYXQoZSkudG9GaXhlZCgxKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHMoZSkgewoJCQkJCWlmICgidGFvYmFvIiAhPSBhLnNpdGUgJiYgMCA9PSBlLnN0b3JlLmxlbmd0aCwgZS5zdG9yZS5sZW5ndGggPiAwKSB7CgkJCQkJCVcoZSksICJib3R0b20iID09PSBhLnN0eWxlID8gSChlKSA6IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5zaG93KCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5zaG93KCksIDAgPT0gZS5wcmljZV9zdGF0dXMgPyAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJtYXJnaW4tdG9wIiwgIjdweCIpLCBrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiLTE4OXB4IC0zMXB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC10ZXh0IikuY3NzKCJjb2xvciIsICIjZmY5MDAwIikuaHRtbCgi5Lu35qC85bmz56izIikpIDogMSA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoIm1hcmdpbi10b3AiLCAiNnB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCAucHJpY2UtdHJlbmQtaWNvbiIpLmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIsICItMjIycHggLTMxcHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXRleHQiKS5jc3MoImNvbG9yIiwgIiNkODAwMDEiKS5odG1sKCLku7fmoLzkuIrmtqgiKSkgOiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJtYXJnaW4tdG9wIiwgIjRweCIpLCBBKGUpIHx8IGUuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0yNTRweCAtMzFweCIpLCBrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQtdGV4dCIpLmNzcygiY29sb3IiLCAiIzAwQTY2QyIpLmh0bWwoIuWOhuWPsuacgOS9jiIpKSA6IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiLTI1NHB4IC0zMXB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC10ZXh0IikuY3NzKCJjb2xvciIsICIjMDBBNjZDIikuaHRtbCgi5Lu35qC85LiL6ZmNIikpKSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCIpLnNob3coKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWN1cnJlbnQtcHJpY2UiKS5odG1sKGIocGFyc2VGbG9hdChlLnN0b3JlWzBdLmN1cnJlbnRfcHJpY2UpKSksIHcgJiYgKGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1jdXJyZW50LXByaWNlIikuaHRtbChiKHBhcnNlRmxvYXQoei5nZXRQcmljZUJlZm9yZUV4Y2hhbmdlUmF0ZShhLmRwLm9sZFByaWNlKSkpKSwgInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWN1cnJlbnQtcHJpY2UiKS5odG1sKGIocGFyc2VGbG9hdCh6LmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlKGEuZHAub2xkUHJpY2UpKSkgKyAi5pel5YWDIikpOwoJCQkJCQl2YXIgdCA9IGUuc3RvcmVbMF0ucHJpY2VfcmFuZ2Uuc3BsaXQoIi0iKSwKCQkJCQkJCW4gPSBiKHBhcnNlRmxvYXQodFswXSkpICsgIi0iICsgYihwYXJzZUZsb2F0KHRbMV0pKTsKCQkJCQkJaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXByaS1yYW5nZSIpLmh0bWwobiksICJ3d3cuYW1hem9uLmNvLmpwIiA9PSBsb2NhdGlvbi5ob3N0ICYmIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1wcmktcmFuZ2UiKS5odG1sKG4gKyAi5pel5YWDIiksIGsoIiMiICsgYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiKS5jc3MoIndpZHRoIiwgYS53aWR0aCAtIDQwMCksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwgLnJlbWluZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSAzNzkpLCBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWJ0biIpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUucHJldmVudERlZmF1bHQoKSwgaygiLnJlbWluZC1lcnJvciIpLmhpZGUoKTsKCQkJCQkJCXZhciB0ID0gL15bXHctXSsoXC5bXHctXSspKkBbXHctXSsoXC5bXHctXSspKyQvLAoJCQkJCQkJCW4gPSAxLAoJCQkJCQkJCWkgPSAwLAoJCQkJCQkJCW8gPSBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVtYWlsIikudmFsKCksCgkJCQkJCQkJciA9IGEubm93X2RwX2lkOwoJCQkJCQkJaygiIyIgKyBhLmV4dE5hbWUgKyAiLXByaS1ub3RpY2UtaW0iKS5hdHRyKCJjaGVja2VkIikgPyBuID0gMSA6IGsoIiMiICsgYS5leHROYW1lICsgIi1wcmktbm90aWNlLWxpIikuYXR0cigiY2hlY2tlZCIpICYmIChuID0gMiwgaSA9IHBhcnNlRmxvYXQoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXByaS1saW1pdCIpLnZhbCgpKSksIHQudGVzdChvKSA/IFMuZ2V0KGEuc2VydmVyICsgIi9icndleHQvcmVtaW5kP2FjdGlvbj1hZGQmZHBfaWQ9IiArIHIgKyAiJmVtYWlsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobykgKyAiJnR5cGU9IiArIG4gKyAiJnByaWNlPSIgKyBpKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkxID09IGUuY29kZSA/IGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZXJyb3IyIikuc2hvdygpIDogMiA9PSBlLmNvZGUgPyBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMyIpLnNob3coKSA6IGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZXJyb3IxIikuc2hvdygpCgkJCQkJCQl9KSA6IGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZXJyb3IwIikuc2hvdygpCgkJCQkJCX0pLCAiIiAhPSBhLmVtYWlsICYmIGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZW1haWwiKS52YWwoYS5lbWFpbCksIChhLklFNiB8fCBhLklFNykgJiYgImFtYXpvbiIgPT0gYS5zaXRlICYmIGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZW1haWwiKS5oZWlnaHQoMjgpCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGwoZSkgewoJCQkJCWlmICgidGFvYmFvIiAhPSBhLnNpdGUgJiYgMCA9PSBlLnN0b3JlLmxlbmd0aCwgZS5zdG9yZS5sZW5ndGggPiAwKSB7CgkJCQkJCVcoZSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCAucHJpY2UtdHJlbmQtaWNvbiIpLmNzcygibWFyZ2luLXRvcCIsICI0cHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIC5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCAwID09IGUucHJpY2Vfc3RhdHVzID8gKGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCAucHJpY2UtdHJlbmQtaWNvbiIpLmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIsICItMTUxcHggMXB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC10ZXh0IikuY3NzKCJjb2xvciIsICIjZmY5MDAwIikuaHRtbCgi5Lu35qC85bmz56izIikpIDogMSA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiLTEyOHB4IDFweCIpLCBrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQtdGV4dCIpLmNzcygiY29sb3IiLCAiI2Q4MDAwMSIpLmh0bWwoIuS7t+agvOS4iua2qCIpKSA6IEEoZSwgITApIHx8IGUuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0xMDVweCAxcHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXRleHQiKS5jc3MoImNvbG9yIiwgIiMwMEE2NkMiKS5odG1sKCLljoblj7LmnIDkvY4iKSkgOiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0xMDVweCAxcHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXRleHQiKS5jc3MoImNvbG9yIiwgIiMwMEE2NkMiKS5odG1sKCLku7fmoLzkuIvpmY0iKSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCIpLnNob3coKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWN1cnJlbnQtcHJpY2UiKS5odG1sKGUuc3RvcmVbMF0uY3VycmVudF9wcmljZSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1wcmktcmFuZ2UiKS5odG1sKGUuc3RvcmVbMF0ucHJpY2VfcmFuZ2UpOwoJCQkJCQlmb3IgKHZhciB0ID0gewoJCQkJCQkJY2hhcnQ6IHsKCQkJCQkJCQlyZW5kZXJUbzogYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiLAoJCQkJCQkJCXR5cGU6ICJsaW5lIiwKCQkJCQkJCQltYXJnaW5SaWdodDogMTMwLAoJCQkJCQkJCW1hcmdpbkJvdHRvbTogMjUKCQkJCQkJCX0sCgkJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCX0sCgkJCQkJCQljb2xvcnM6IFsiIzdjYjVlYyIsICIjNDM0MzQ4IiwgIiM5MGVkN2QiLCAiI2Y3YTM1YyIsICIjODA4NWU5IiwgIiNmMTVjODAiLCAiI2U0ZDM1NCIsICIjODA4NWU4IiwgIiM4ZDQ2NTMiLCAiIzkxZThlMSJdLAoJCQkJCQkJdGl0bGU6IHsKCQkJCQkJCQl0ZXh0OiAi5ZWG5Z+O5pyA6L+RIiArIEMgKyAi5aSp5Lu35qC86LaL5Yq/IiwKCQkJCQkJCQl4OiAtMjAsCgkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJY29sb3I6ICIjNjY2IgoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl4QXhpczogewoJCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQkJZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHsKCQkJCQkJCQkJZGF5OiAiJW0tJWQiLAoJCQkJCQkJCQl3ZWVrOiAiJW0tJWQiLAoJCQkJCQkJCQltb250aDogIiVtLSVkIgoJCQkJCQkJCX0sCgkJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIKCQkJCQkJCX0sCgkJCQkJCQl5QXhpczogewoJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCXRleHQ6ICIiCgkJCQkJCQkJfSwKCQkJCQkJCQlwbG90TGluZXM6IFt7CgkJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQkJY29sb3I6ICIjODA4MDgwIgoJCQkJCQkJCX1dLAoJCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjYzBkMGUwIiwKCQkJCQkJCQltaW5vckdyaWRMaW5lQ29sb3I6ICIjZGZkZmRmIiwKCQkJCQkJCQl0aWNrUGl4ZWxJbnRlcnZhbDogNTAKCQkJCQkJCX0sCgkJCQkJCQl0b29sdGlwOiB7CgkJCQkJCQkJeERhdGVGb3JtYXQ6ICIlWS0lbS0lZCAlSDolTTolUyIsCgkJCQkJCQkJc2hhcmVkOiAhMAoJCQkJCQkJfSwKCQkJCQkJCXBsb3RPcHRpb25zOiB7CgkJCQkJCQkJc2VyaWVzOiB7CgkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJcmFkaXVzOiAzCgkJCQkJCQkJCX0sCgkJCQkJCQkJCXNoYWRvdzogITEKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJbGVnZW5kOiB7CgkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJbGF5b3V0OiAidmVydGljYWwiLAoJCQkJCQkJCWFsaWduOiAicmlnaHQiLAoJCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJ0b3AiLAoJCQkJCQkJCXdpZHRoOiAxMDAsCgkJCQkJCQkJYm9yZGVyV2lkdGg6IDAsCgkJCQkJCQkJeDogLTIwLAoJCQkJCQkJCXk6IDIwCgkJCQkJCQl9LAoJCQkJCQkJc2VyaWVzOiBbXQoJCQkJCQl9LCBuID0gZS5zdG9yZS5sZW5ndGgsIGkgPSAwOyBuID4gaTsgaSsrKSB7CgkJCQkJCQl2YXIgciA9IGUuc3RvcmVbaV07CgkJCQkJCQlpZiAodC5zZXJpZXNbaV0gPSB7CgkJCQkJCQkJdmlzaWJsZTogITEsCgkJCQkJCQkJbmFtZTogci5uYW1lLAoJCQkJCQkJCXBvaW50U3RhcnQ6IERhdGUuVVRDKGUuc3RhcnRZLCBlLnN0YXJ0TSwgZS5zdGFydEQpLAoJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IDg2NGU1LAoJCQkJCQkJCWRhdGE6IFtdCgkJCQkJCQl9LCAwID09IGkgJiYgKHQuc2VyaWVzW2ldLnZpc2libGUgPSAhMCksIHIuZGF0YS5sZW5ndGggPiAwKQoJCQkJCQkJCWZvciAodmFyIHMgPSByLmRhdGEubGVuZ3RoLCBsID0gci5kYXRhLCBjID0gMDsgcyA+IGM7IGMrKykgewoJCQkJCQkJCQl2YXIgZCA9IG5ldyBBcnJheSgyKTsKCQkJCQkJCQkJZFswXSA9IHBhcnNlSW50KGxbY11bMF0pLCBkWzFdID0gcGFyc2VGbG9hdChsW2NdWzFdKSwgdC5zZXJpZXNbaV0uZGF0YS5wdXNoKGQpCgkJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWsoIiMiICsgYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiKS5jc3MoIndpZHRoIiwgYS53aWR0aCAtIDMwMCksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwgLnJlbWluZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSAyNzkpLCBrKCIjIiArIHQuY2hhcnQucmVuZGVyVG8pLmxlbmd0aCAmJiBuZXcgby5DaGFydCh0KSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXJlbWluZC1idG4iKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQllLnByZXZlbnREZWZhdWx0KCksIGsoIi5yZW1pbmQtZXJyb3IiKS5oaWRlKCk7CgkJCQkJCQl2YXIgdCA9IC9eW1x3LV0rKFwuW1x3LV0rKSpAW1x3LV0rKFwuW1x3LV0rKSskLywKCQkJCQkJCQluID0gMSwKCQkJCQkJCQlpID0gMCwKCQkJCQkJCQlvID0gaygiIyIgKyBhLmV4dE5hbWUgKyAiLXJlbWluZC1lbWFpbCIpLnZhbCgpLAoJCQkJCQkJCXIgPSBhLm5vd19kcF9pZDsKCQkJCQkJCWsoIiMiICsgYS5leHROYW1lICsgIi1wcmktbm90aWNlLWltIikuYXR0cigiY2hlY2tlZCIpID8gbiA9IDEgOiBrKCIjIiArIGEuZXh0TmFtZSArICItcHJpLW5vdGljZS1saSIpLmF0dHIoImNoZWNrZWQiKSAmJiAobiA9IDIsIGkgPSBwYXJzZUZsb2F0KGsoIiMiICsgYS5leHROYW1lICsgIi1wcmktbGltaXQiKS52YWwoKSkpLCB0LnRlc3QobykgPyBTLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L3JlbWluZD9hY3Rpb249YWRkJmRwX2lkPSIgKyByICsgIiZlbWFpbD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG8pICsgIiZ0eXBlPSIgKyBuICsgIiZwcmljZT0iICsgaSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQkJMSA9PSBlLmNvZGUgPyBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMiIpLnNob3coKSA6IDIgPT0gZS5jb2RlID8gaygiIyIgKyBhLmV4dE5hbWUgKyAiLXJlbWluZC1lcnJvcjMiKS5zaG93KCkgOiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMSIpLnNob3coKQoJCQkJCQkJfSkgOiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMCIpLnNob3coKQoJCQkJCQl9KSwgIiIgIT0gYS5lbWFpbCAmJiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVtYWlsIikudmFsKGEuZW1haWwpLCAoYS5JRTYgfHwgYS5JRTcpICYmICJhbWF6b24iID09IGEuc2l0ZSAmJiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVtYWlsIikuaGVpZ2h0KDI4KQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUsIHQpIHsKCQkJCQlpZiAoIShhLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCBhLnNpdGUuaW5kZXhPZigidG1hbGwiKSA+IC0xKSkgewoJCQkJCQl2YXIgaSA9IG4oMTQ1KSwKCQkJCQkJCW8gPSBuKDE0NiksCgkJCQkJCQlzID0gW107CgkJCQkJCWEuc2F2ZV9kcF9xdWVyeSAmJiBhLnNhdmVfZHBfcXVlcnkuYjJjICYmIGEuc2F2ZV9kcF9xdWVyeS5iMmMuc3RvcmUgJiYgKHMgPSBhLnNhdmVfZHBfcXVlcnkuYjJjLnN0b3JlKTsKCQkJCQkJZm9yICh2YXIgbCA9IGsoIiN0cmVuZF9kZXRhaWxfYm9keV91bCIpLCBjID0gW10sIGQgPSBzLmxlbmd0aCwgcCA9IFsxLCAxMDMsIDEwOCwgMTIzLCAxMjQsIDEyNiwgMTI5LCAxMzQsIDEzNiwgMTQsIDE0MSwgMTUsIDE2NywgMTY4LCAxOSwgMiwgMjEsIDI1LCAyNiwgMjgsIDMsIDMxLCAzNCwgMzUsIDQxLCA2LCA2NiwgNywgODYsIDkzLCA5XSwgaCA9IDA7IGggPCBzLmxlbmd0aCAmJiA2ID4gaDsgaCsrKSB7CgkJCQkJCQl2YXIgdSA9IHNbaF0ucHJvZHVjdCAmJiBzW2hdLnByb2R1Y3RbMF0gfHwgc1toXSwKCQkJCQkJCQltID0gdS5kcF9pZCB8fCAiIiwKCQkJCQkJCQlmID0gbS5tYXRjaCgvWzAtOV0rLShbMC05XSspLyk7CgkJCQkJCQlmID0gZiAmJiBmWzFdOwoJCQkJCQkJdmFyIGcgPSBwLmluZGV4T2YoTnVtYmVyKGYpKSA+IC0xID8gIi5wbmciIDogIi5pY28iOwoJCQkJCQkJZiAmJiAodS5wcmljZSA9IHIodS5wcmljZS5yZXBsYWNlKC8sL2csICIiKSksIHUuaWNvdXJsID0gYS5zX3NlcnZlciArICIvaW1hZ2VzL2Zhdmljb24vIiArIGYgKyBnLCBjLnB1c2godSkpCgkJCQkJCX0KCQkJCQkJdmFyIF8gPSAi5YW25LuWIiArIGQgKyAi5a625oql5Lu3IjsKCQkJCQkJMCA9PT0gYy5sZW5ndGggPyBfID0gIuaaguaXoOWVhuWfjuavlOS7tyIgOiBjWzBdLnByaWNlIDwgTnVtYmVyKGUuc3RvcmVbMF0uY3VycmVudF9wcmljZSkgJiYgKF8gPSAi5pu05L2O5Lu377yaIiArIGNbMF0ucHJpY2UpLCBsLmFwcGVuZChqLmNvbXBpbGUoaSkoewoJCQkJCQkJZGF0YTogYywKCQkJCQkJCWFsbExpbms6IGEuY19zZXJ2ZXIgKyAiL2RwIiArIGEubm93X2RwX2lkLAoJCQkJCQkJc3RvcmVTaXplOiBkCgkJCQkJCX0pKSwgaygiLnRyZW5kLWNvbS1taW5pIikuYXBwZW5kKGouY29tcGlsZShvKSh7CgkJCQkJCQlkYXRhOiBjLAoJCQkJCQkJYWxsTGluazogYS5jX3NlcnZlciArICIvZHAiICsgYS5ub3dfZHBfaWQsCgkJCQkJCQlzdG9yZVNpemU6IGQKCQkJCQkJfSkpLCBrKCIjZ3dkX21pbmlfY29tcGFyZSIpLnNob3coKSwgMCA9PT0gYy5sZW5ndGggJiYgaygiI2d3ZF9taW5pX2NvbXBhcmUiKS5hZGRDbGFzcygibm8tY29tLWluZm8iKS5vZmYoKSwgaygiI2d3ZF9taW5pX2NvbXBhcmUgLm1pbi1jb20tYm94IHNwYW4iKS50ZXh0KF8pCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGQodCwgbiwgaSkgewoJCQkJCWlmICh0LnN0b3JlLmxlbmd0aCA+IDAgJiYgaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5sZW5ndGggPiAwKSB7CgkJCQkJCWEuc2hvd01pbmlUcmVuZCA9ICEwLCAwID09IHQucHJpY2Vfc3RhdHVzID8gKGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5hZGRDbGFzcygicHJpY2UtdHJlbmQtaWNvbi1zb2x3IiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmNzcygiY29sb3IiLCAiI2ZmOTAwMCIpLmh0bWwoIuS7t+agvOW5s+eosyIpKSA6IDEgPT0gdC5wcmljZV9zdGF0dXMgPyAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biAucHJpY2UtdHJlbmQtaWNvbiIpLmFkZENsYXNzKCJwcmljZS10cmVuZC1pY29uLXVwIiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmNzcygiY29sb3IiLCAiI2Q4MDAwMSIpLmh0bWwoIuS7t+agvOS4iua2qCIpKSA6IEEodCwgITApIHx8IHQuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biAucHJpY2UtdHJlbmQtaWNvbiIpLmFkZENsYXNzKCJwcmljZS10cmVuZC1pY29uLWRvd24iKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biBzcGFuIikuY3NzKCJjb2xvciIsICIjMDBBNjZDIikuaHRtbCgi5Y6G5Y+y5pyA5L2OIikpIDogKGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5hZGRDbGFzcygicHJpY2UtdHJlbmQtaWNvbi1kb3duIiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmNzcygiY29sb3IiLCAiIzAwQTY2QyIpLmh0bWwoIuS7t+agvOS4i+mZjSIpKSwgaygiLnByaWNlLXRyZW5kLWljb24iKS5zaG93KCk7CgkJCQkJCXZhciByID0gewoJCQkJCQkJCWNoYXJ0OiB7CgkJCQkJCQkJCXJlbmRlclRvOiBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiLAoJCQkJCQkJCQl3aWR0aDogaS53aWR0aCwKCQkJCQkJCQkJaGVpZ2h0OiBpLmhlaWdodCwKCQkJCQkJCQkJdHlwZTogImxpbmUiCgkJCQkJCQkJfSwKCQkJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJfSwKCQkJCQkJCQljb2xvcnM6IFsiIzU3YjJlYyJdLAoJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCXRleHQ6IGUoKSArICIg6L+RMTgw5aSp5Lu35qC86LaL5Yq/IiwKCQkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJCWNvbG9yOiAiIzY2NiIsCgkJCQkJCQkJCQlmb250U2l6ZTogbgoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQl4QXhpczogewoJCQkJCQkJCQl0eXBlOiAiZGF0ZXRpbWUiLAoJCQkJCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQkJCQkJZGF5OiAiJW0tJWQiLAoJCQkJCQkJCQkJd2VlazogIiVtLSVkIiwKCQkJCQkJCQkJCW1vbnRoOiAiJW0tJWQiCgkJCQkJCQkJCX0sCgkJCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJCQlsYWJlbHM6IHsKCQkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQkJY29sb3I6ICIjOTk5IgoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQl5QXhpczogewoJCQkJCQkJCQl0aXRsZTogewoJCQkJCQkJCQkJdGV4dDogIiIKCQkJCQkJCQkJfSwKCQkJCQkJCQkJcGxvdExpbmVzOiBbewoJCQkJCQkJCQkJdmFsdWU6IDAsCgkJCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQkJCWNvbG9yOiAiIzgwODA4MCIKCQkJCQkJCQkJfV0sCgkJCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjYzBkMGUwIiwKCQkJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQkJCXRpY2tQaXhlbEludGVydmFsOiA1MCwKCQkJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJCQlzdHlsZTogewoJCQkJCQkJCQkJCWNvbG9yOiAiIzk5OSIKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgkJCQkJCQkJdG9vbHRpcDogewoJCQkJCQkJCQl4RGF0ZUZvcm1hdDogIiVZLSVtLSVkIiwKCQkJCQkJCQkJc2hhcmVkOiAhMAoJCQkJCQkJCX0sCgkJCQkJCQkJcGxvdE9wdGlvbnM6IHsKCQkJCQkJCQkJc2VyaWVzOiB7CgkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQlyYWRpdXM6IDEKCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQlzaGFkb3c6ICExLAoJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCQkJbGluZVdpZHRoOiAyCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQlsZWdlbmQ6IHsKCQkJCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCQkJCWxheW91dDogInZlcnRpY2FsIiwKCQkJCQkJCQkJYWxpZ246ICJyaWdodCIsCgkJCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJ0b3AiLAoJCQkJCQkJCQlib3JkZXJXaWR0aDogMCwKCQkJCQkJCQkJeTogMjAKCQkJCQkJCQl9LAoJCQkJCQkJCXNlcmllczogW3sKCQkJCQkJCQkJdmlzaWJsZTogITAsCgkJCQkJCQkJCXBvaW50U3RhcnQ6IERhdGUuVVRDKHQuc3RhcnRZLCB0LnN0YXJ0TSwgdC5zdGFydEQpLAoJCQkJCQkJCQlwb2ludEludGVydmFsOiA4NjRlNSwKCQkJCQkJCQkJZGF0YTogW10KCQkJCQkJCQl9XQoJCQkJCQkJfSwKCQkJCQkJCXMgPSB0LnN0b3JlWzBdOwoJCQkJCQlpZiAoci5zZXJpZXNbMF0ubmFtZSA9IHMubmFtZSwgcy5kYXRhLmxlbmd0aCA+IDApIHsKCQkJCQkJCWZvciAodmFyIGwsIGMsIGQgPSBzLnByaWNlX3JhbmdlLnNwbGl0KCItIiksIHAgPSBwYXJzZUZsb2F0KGRbMF0ucmVwbGFjZSgvLC9nLCAiIikpLCBoID0gcGFyc2VGbG9hdChkWzFdLnJlcGxhY2UoLywvZywgIiIpKSwgdSA9IHMuZGF0YS5sZW5ndGgsIG0gPSBzLmRhdGEsIGYgPSAwOyB1ID4gZjsgZisrKSB7CgkJCQkJCQkJdmFyIGcgPSB7fTsKCQkJCQkJCQlnLnggPSBwYXJzZUludChtW2ZdWzBdKSwgZy55ID0gcGFyc2VGbG9hdChtW2ZdWzFdKSwgZy55ID09PSBoICYmIChsID0gZiksIGcueSA9PT0gcCAmJiAoYyA9IGYpLCByLnNlcmllc1swXS5kYXRhLnB1c2goZykKCQkJCQkJCX0obCB8fCAwID09PSBsKSAmJiAoci5zZXJpZXNbMF0uZGF0YVtsXS5tYXJrZXIgPSB7CgkJCQkJCQkJZmlsbENvbG9yOiAiI0U0MzkzQyIsCgkJCQkJCQkJbGluZVdpZHRoOiA0LAoJCQkJCQkJCWxpbmVDb2xvcjogIiNFNDM5M0MiCgkJCQkJCQl9KSwgKGMgfHwgMCA9PT0gYykgJiYgKHIuc2VyaWVzWzBdLmRhdGFbY10ubWFya2VyID0gewoJCQkJCQkJCWZpbGxDb2xvcjogIiMwMEE2NkMiLAoJCQkJCQkJCWxpbmVXaWR0aDogNCwKCQkJCQkJCQlsaW5lQ29sb3I6ICIjMDBBNjZDIgoJCQkJCQkJfSkKCQkJCQkJfQoJCQkJCQlrKCIjIiArIHIuY2hhcnQucmVuZGVyVG8pLmxlbmd0aCAmJiBuZXcgby5DaGFydChyKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWxfaW5mbyIpLmh0bWwoJzxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICdfbWluX3ByaWNlIj7mnIDkvY7ku7fvvJo8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnX3ByaWNlIj7vv6UnICsgcCArICI8L3NwYW4+PC9zcGFuPiIgKyAoJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICdfbWF4X3ByaWNlIj7mnIDpq5jku7fvvJo8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnX3ByaWNlIj7vv6UnKSArIGggKyAiPC9zcGFuPjwvc3Bhbj4iKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLnNob3coKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biArIGRpdi5zaHV4aWFuIikuc2hvdygpCgkJCQkJfSBlbHNlICJsdXlvdSIgPT0gYS5idHlwZSA/IChrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLmhpZGUoKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLmhpZGUoKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biArIGRpdiIpLmhpZGUoKSkgOiAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLnRleHQoIuaaguaXoOS7t+agvOi1sOWKvyIpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikub2ZmKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4iKS5hZGRDbGFzcygiX25vcHJpY2UiKS5zaG93KCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gZW0iKS5oaWRlKCkpCgkJCQl9CgoJCQkJZnVuY3Rpb24gcChlKSB7CgkJCQkJdmFyIHQgPSB7CgkJCQkJCXdpZHRoOiA0MDAsCgkJCQkJCWhlaWdodDogMjAwCgkJCQkJfTsKCQkJCQkibHV5b3UiICE9IGEuYnR5cGUgJiYgKHQud2lkdGggPSAzNjAsIHQuaGVpZ2h0ID0gMTgwKSwgaCB8fCAoaCA9ICEwLCBjKGUsIDQpLCBHKGUsICIxOHB4IiwgdCksIG4oMTQ3KS5pbml0KCkpCgkJCQl9CgkJCQl2YXIgaCwgdSwgbSwgZiwgZyA9IHRoaXMsCgkJCQkJXyA9IDM2ZTUsCgkJCQkJeCA9IDI0ICogXywKCQkJCQl3ID0gITEsCgkJCQkJdiA9IHZvaWQgMCwKCQkJCQliID0gbigxMTgpLAoJCQkJCXkgPSB7fSwKCQkJCQlrID0gbig2KSwKCQkJCQl6ID0gbig0MCksCgkJCQkJQiA9IG4oMTE5KSwKCQkJCQlqID0gbigxNiksCgkJCQkJQyA9IDE4MCwKCQkJCQlTID0gbig5KSwKCQkJCQlOID0gWyJ3YW5nZ291LmNvbSIsICJsdnlvdW1hbGwuY29tIiwgImRvdWJhbi5jb20iLCAic2hhbmdwaW4uY29tIiwgInNoYW5ncGluLmNvbS5oayJdLAoJCQkJCVQgPSBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB3aW5kb3cubG9jYXRpb24uaG9zdC50b1N0cmluZygpOwoJCQkJCQlmb3IgKHZhciB0IGluIE4pCgkJCQkJCQlpZiAoZS5pbmRleE9mKE5bdF0pID4gMCkgcmV0dXJuIGsoIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0biIpLmNzcygiYm9yZGVyLWxlZnQiLCAiMXB4IHNvbGlkICNkZGQiKSwgITA7CgkJCQkJCXJldHVybiAhMQoJCQkJCX0sCgkJCQkJUCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJbigxMzgpLmluaXQoZSwgImRwUGFnZSIsICExLCB7CgkJCQkJCQl0b3A6ICExLAoJCQkJCQkJbWlkZGxlOiAhMSwKCQkJCQkJCWJvdHRvbTogITEsCgkJCQkJCQliYWlkdTogITEKCQkJCQkJfSksICghZSB8fCBlICYmIDAgPT09IGUuc3RvcmUubGVuZ3RoKSAmJiBhLm5ld19leHRlbnNpb24gJiYgKGsoIiMiICsgYS53aXNoZG9tMikuaGlkZSgpLCBrKCIuIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dCIpLmNzcygicGFkZGluZyIsICIwcHgiKSk7CgkJCQkJCXRyeSB7CgkJCQkJCQkoInRvcCIgPT0gZiB8fCAicmlnaHQiID09IGYpICYmICgidG9wIiA9PSBmICYmIChzKGUpLCBhLmZpeFdpZHRoKCkpLCBwKGUpKSwgImJvdHRvbSIgPT0gZiAmJiAocyhlKSwgcChlKSwgYS5hdXRvRml4V2lkdGgoKSksIChhLklFNyB8fCBhLklFOCkgJiYgbigxNDIpLnRyZW5kVXBkYXRlKCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJSSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJKCFlIHx8IGUgJiYgMCA9PT0gZS5zdG9yZS5sZW5ndGgpICYmIGEubmV3X2V4dGVuc2lvbiAmJiAoaygiIyIgKyBhLndpc2hkb20yKS5oaWRlKCksIGsoIi4iICsgYS5leHRCcmFuZCArICJfcHJvbW9fYnJhbmRfbGF5b3V0IikuY3NzKCJwYWRkaW5nIiwgIjBweCIpKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCSgidG9wIiA9PSBmIHx8ICJyaWdodCIgPT0gZikgJiYgKCJ0b3AiID09IGYgJiYgKHMoZSksIGEuZml4V2lkdGgoKSksIHAoZSkpLCAiYm90dG9tIiA9PSBmICYmIChIKGUpLCBwKGUpLCBhLmF1dG9GaXhXaWR0aCgpKSwgbigxNDIpLnRyZW5kVXBkYXRlKCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJQSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaWYgKHQpIHsKCQkJCQkJCXZhciBuID0gcGFyc2VGbG9hdChlLnN0b3JlWzBdLmN1cnJlbnRfcHJpY2UucmVwbGFjZSgiLCIsICIiKSksCgkJCQkJCQkJaSA9IHBhcnNlRmxvYXQoZS5zdG9yZVswXS5wcmljZV9yYW5nZS5zcGxpdCgiLSIsIDEpWzBdLnJlcGxhY2UoIiwiLCAiIikpOwoJCQkJCQkJcmV0dXJuIG4gPT0gaSA/ICEwIDogITEKCQkJCQkJfQoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIG4gPSBwYXJzZUludChlLnN0b3JlWzBdLmN1cnJlbnRfcHJpY2UucmVwbGFjZSgiLCIsICIiKSksCgkJCQkJCQkJYSA9IGUuc3RvcmVbMF0uYWxsX2xpbmU7CgkJCQkJCQluID0gYVthLmxlbmd0aCAtIDFdOwoJCQkJCQkJdmFyIG8gPSBNYXRoLm1pbi5hcHBseShudWxsLCBlLnN0b3JlWzBdLmFsbF9saW5lKTsKCQkJCQkJCXJldHVybiBuID09IG8gPyAhMCA6ICExCgkJCQkJCX0gY2F0Y2ggKHIpIHt9CgkJCQkJfSwKCQkJCQlxID0gZnVuY3Rpb24oZSkgewoJCQkJCQlmdW5jdGlvbiB0KGUpIHsKCQkJCQkJCWlmIChpID49IDkgJiYgImFtYXpvbiIgPT0gYS5zaXRlICYmIC0xICE9IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiY24iKSkgcmV0dXJuIGUoITEpOwoJCQkJCQkJaWYgKGkgPj0gNikgcmV0dXJuIGUoITEpOwoJCQkJCQkJdmFyIG4gPSBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX215RGl2IikudGV4dCgpOwoJCQkJCQkJbiA/IGUobikgOiAoaSsrLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCXQoZSkKCQkJCQkJCX0sIDFlMykpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSAwOwoJCQkJCQkiNnBtIiA9PT0gYS5zaXRlICYmICh3ID0gITAsIHYgPSAiVVNEIiksICJhbWF6b24iID09PSBhLnNpdGUgJiYgInd3dy5hbWF6b24uY24iICE9IGxvY2F0aW9uLmhvc3QgPyAodyA9ICEwLCB2ID0gIlVTRCIsICJ3d3cuYW1hem9uLmNvLmpwIiA9PSBsb2NhdGlvbi5ob3N0ICYmICh2ID0gIkpQWSIpLCBbInd3dy5hbWF6b24uZnIiLCAid3d3LmFtYXpvbi5kZSIsICJ3d3cuYW1hem9uLmVzIiwgInd3dy5hbWF6b24ubmwiLCAid3d3LmFtYXpvbi5pdCJdLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSAmJiAodiA9ICJFVVIiKSwgInd3dy5hbWF6b24uY2EiID09IGxvY2F0aW9uLmhvc3QgJiYgKHYgPSAiQ0FEIiksICJ3d3cuYW1hem9uLmNvLnVrIiA9PSBsb2NhdGlvbi5ob3N0ICYmICh2ID0gIkdCUCIpLCB0KGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmICh0KSB7CgkJCQkJCQkJaWYgKCJhbWF6b24iID09PSBhLnNpdGUpIHsKCQkJCQkJCQkJdmFyIG4gPSBMKHQpOwoJCQkJCQkJCQluID8gZShuKSA6IE8oZnVuY3Rpb24odCkgewoJCQkJCQkJCQkJZSh0KQoJCQkJCQkJCQl9KQoJCQkJCQkJCX0KCQkJCQkJCX0gZWxzZSBPKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQllKHQpCgkJCQkJCQl9KQoJCQkJCQl9KSkgOiAidG1hbGwiID09PSBhLnNpdGUgfHwgInRhb2Jhby05NTA5NSIgPT09IGEuc2l0ZSB8fCAiYWktdGFvYmFvIiA9PT0gYS5zaXRlIHx8ICJ0YW9iYW8iID09PSBhLnNpdGUgPyBPKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQuc3RvcmUubGVuZ3RoID4gMCA/IGUodCkgOiBuKDQ4KS5nZXRUcmVuZChmdW5jdGlvbihuKSB7CgkJCQkJCQkJbiA/IEYobiwgZnVuY3Rpb24obikgewoJCQkJCQkJCQllKG4gPyBuIDogdCkKCQkJCQkJCQl9KSA6IGUodCkKCQkJCQkJCX0pCgkJCQkJCX0pIDogImFsaWV4cHJlc3MiID09PSBhLnNpdGUgPyBuKDExNikuZ2V0VHJlbmREYXRhKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQgJiYgZSh0KQoJCQkJCQl9KSA6IE8oZnVuY3Rpb24odCkgewoJCQkJCQkJZSh0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJRSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZnVuY3Rpb24gbyhlKSB7CgkJCQkJCQlpZiAociA+PSA5ICYmICJhbWF6b24iID09IGEuc2l0ZSAmJiAtMSAhPSBsb2NhdGlvbi5ob3N0LmluZGV4T2YoImNuIikpIHJldHVybiBlKCExKTsKCQkJCQkJCWlmIChyID49IDYpIHJldHVybiBlKCExKTsKCQkJCQkJCXZhciB0ID0gaygiIyIgKyBhLmV4dEJyYW5kICsgIl9teURpdiIpLnRleHQoKTsKCQkJCQkJCXQgPyBlKHQpIDogKHIrKywgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKGUpCgkJCQkJCQl9LCAxZTMpKQoJCQkJCQl9CgkJCQkJCXZhciByID0gMDsKCQkJCQkJImFtYXpvbiIgPT09IGEuc2l0ZSAmJiAid3d3LmFtYXpvbi5jbiIgIT0gbG9jYXRpb24uaG9zdCA/IG8oZnVuY3Rpb24obikgewoJCQkJCQkJaWYgKG4pIHsKCQkJCQkJCQlpZiAoImFtYXpvbiIgPT09IGEuc2l0ZSkgewoJCQkJCQkJCQl2YXIgaSA9IEQobik7CgkJCQkJCQkJCWkgPyBlKGkpIDogdChmdW5jdGlvbih0KSB7CgkJCQkJCQkJCQllKHQpCgkJCQkJCQkJCX0pCgkJCQkJCQkJfQoJCQkJCQkJfSBlbHNlIHQoZnVuY3Rpb24odCkgewoJCQkJCQkJCWUodCkKCQkJCQkJCX0pCgkJCQkJCX0pIDogImFpLXRhb2JhbyIgPT09IGEuc2l0ZSB8fCAidGFvYmFvIiA9PT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT09IGEuc2l0ZSB8fCAidGFvYmFvLTk1MDk1IiA9PT0gYS5zaXRlID8gbig0OCkuZ2V0VHJlbmQoZnVuY3Rpb24obikgewoJCQkJCQkJdmFyIGEgPSBpKG4pOwoJCQkJCQkJYSA/IGUoYSkgOiB0KGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQllKHQpCgkJCQkJCQl9KQoJCQkJCQl9KSA6IHQoZnVuY3Rpb24odCkgewoJCQkJCQkJZSh0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJTyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0ID0gJChhLnNpdGUpOwoJCQkJCQkJaWYgKHQgfHwgKHQgPSBhLmRwLnByaWNlKSwgInN1bmluZyIgPT09IGEuc2l0ZSkgewoJCQkJCQkJCXZhciBuID0gdm9pZCAwLAoJCQkJCQkJCQlpID0gaygiLnczIikudG9BcnJheSgpOwoJCQkJCQkJCWkgPSBpLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCXJldHVybiBlLmlubmVySFRNTAoJCQkJCQkJCX0pLCBpLmluZGV4T2YoIuWboui0reS7tyIpID4gLTEgJiYgKG4gPSBrKCJzcGFuLnNtYWxsLXByaWNlIikudGV4dCgpKTsKCQkJCQkJCQl2YXIgbyA9IGsoIiNwcm9tb3Rpb25QcmljZS5tYWlucHJpY2UiKS50ZXh0KCksCgkJCQkJCQkJCXIgPSBrKCIubWFpbnByaWNlIikudGV4dCgpOwoJCQkJCQkJCXIgJiYgKHQgPSByKSwgbyAmJiAodCA9IG8pLCBuICYmICh0ID0gbiksIHQgPSB6KHQpLCBhLmRwLnByaWNlID0gdAoJCQkJCQkJfQoJCQkJCQkJdCA9IHBhcnNlRmxvYXQodCksIHQgPyAodyAmJiAodCA9IHouZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5vbGRQcmljZSkpLCB0ID0gcGFyc2VJbnQocGFyc2VGbG9hdCgxMDAgKiB0KS50b0ZpeGVkKDIpKSwgdCA9IHQudG9GaXhlZCgyKSkgOiB0ID0gIiIsIFMuZ2V0KGEuc2VydmVyICsgIi9leHRlbnNpb24/YWM9cHJpY2VfdHJlbmQmZHBfaWRzPSIgKyB1ICsgIiZkcF9pZD0iICsgbSArICImcHJpY2U9IiArIHQpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQkJCWlmICh3ICYmIHQuc3RvcmVbMF0pIHsKCQkJCQkJCQkJdC5zdG9yZSA9IFt0LnN0b3JlWzBdXSwgdC5zdG9yZVswXS5jdXJyZW5jeSA9IHY7CgkJCQkJCQkJCXZhciBuID0gdC5zdG9yZVswXS5uYW1lOwoJCQkJCQkJCQlzd2l0Y2ggKGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uY28uanAiOgoJCQkJCQkJCQkJCW4gPSAi5Lqa6ams6YCK5pel5pysKOW9k+WJjSkiOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAid3d3LmFtYXpvbi5jb20iOgoJCQkJCQkJCQkJCW4gPSAi5Lqa6ams6YCK576O5Zu9KOW9k+WJjSkiOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAid3d3LmFtYW96bi5mciI6CgkJCQkJCQkJCQkJbiA9ICLkuprpqazpgIrms5Xlm70o5b2T5YmNKSI7CgkJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmNvLnVrIjoKCQkJCQkJCQkJCQluID0gIuS6mumprOmAiuiLseWbvSjlvZPliY0pIjsKCQkJCQkJCQkJCQlicmVhazsKCQkJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uZGUiOgoJCQkJCQkJCQkJCW4gPSAi5Lqa6ams6YCK5b635Zu9KOW9k+WJjSkiOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAid3d3LmFtYXpvbi5jYSI6CgkJCQkJCQkJCQkJbiA9ICLkuprpqazpgIrliqDmi7/lpKco5b2T5YmNKSIKCQkJCQkJCQkJfQoJCQkJCQkJCQl0LnN0b3JlWzBdLm5hbWUgPSBuCgkJCQkJCQkJfQoJCQkJCQkJCWUodCkKCQkJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCQkJZSghMSkKCQkJCQkJCX0pCgkJCQkJCX07CgkJCQkJCVsic3VuaW5nIiwgImZlaW5pdSIsICJqdW1laWdsb2JhbCIsICJ5b3Vnb3UiXS5pbmRleE9mKGEuc2l0ZSkgPiAtMSA/IHNldFRpbWVvdXQodCwgMWUzKSA6IHQoKQoJCQkJCX0sCgkJCQkJTCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSAxMDA7CgkJCQkJCWlmICh3ID0gITAsIHYgPSAiVVNEIiwgInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgKHQgPSAxLCB2ID0gIkpQWSIpLCBbInd3dy5hbWF6b24uZnIiLCAid3d3LmFtYXpvbi5kZSIsICJ3d3cuYW1hem9uLmVzIiwgInd3dy5hbWF6b24ubmwiLCAid3d3LmFtYXpvbi5pdCIsICJ3d3cuYW1hem9uLmNvLnVrIl0uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xICYmICh0ID0gMTAwLCB2ID0gIkVVUiIpLCAid3d3LmFtYXpvbi5jYSIgPT0gbG9jYXRpb24uaG9zdCAmJiAodiA9ICJDQUQiKSwgZSAmJiAiIiAhPSBlKSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCXZhciBpID0gSlNPTi5wYXJzZShlKQoJCQkJCQkJfSBjYXRjaCAobykgewoJCQkJCQkJCXJldHVybgoJCQkJCQkJfQoJCQkJCQkJdmFyIHIgPSAi5Lqa6ams6YCKIjsKCQkJCQkJCXN3aXRjaCAobG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uY28uanAiOgoJCQkJCQkJCQlyID0gIuS6mumprOmAiuaXpeacrCI7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uY29tIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrnvo7lm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hb3puLmZyIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrms5Xlm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmNvLnVrIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIroi7Hlm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmRlIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrlvrflm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmNhIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrliqDmi7/lpKciCgkJCQkJCQl9CgkJCQkJCQl2YXIgcyA9IGkuc2VsZl9jdXJ2ZSwKCQkJCQkJCQlsID0gaS5vdGhlcl9jdXJ2ZTsKCQkJCQkJCWlmICgocyB8fCBsKSAmJiAoMCAhPSBzLmxlbmd0aCB8fCAwICE9IGwubGVuZ3RoKSkgewoJCQkJCQkJCXMgJiYgMCAhPSBzLmxlbmd0aCB8fCAocyA9IGwsIHIgPSAi5Lqa6ams6YCK56ys5LiJ5pa5Iik7CgkJCQkJCQkJdmFyIGMgPSB2b2lkIDAsCgkJCQkJCQkJCWQgPSB2b2lkIDAsCgkJCQkJCQkJCXAgPSB2b2lkIDAsCgkJCQkJCQkJCWggPSB2b2lkIDAsCgkJCQkJCQkJCXUgPSB2b2lkIDAsCgkJCQkJCQkJCW0gPSB2b2lkIDAsCgkJCQkJCQkJCWYgPSBbXTsKCQkJCQkJCQljID0gMWUzICogKDM2MDAgKiBzWzBdLnRtICsgMTQxNzYwNTEwNyksIGQgPSBwID0gc1swXS5waSAvIHQ7CgkJCQkJCQkJZm9yICh2YXIgZyA9IDAsIGIgPSBzLmxlbmd0aDsgYiA+IGc7IGcrKykgewoJCQkJCQkJCQl2YXIgeSA9IHNbZ107CgkJCQkJCQkJCTAgIT0geS5waSAmJiAoeS5waSA9IHkucGkgLyB0LCB5LnRtID0gMWUzICogKDM2MDAgKiB5LnRtICsgMTQxNzYwNTEwNyksIGYucHVzaChbeS50bSwgeS5waV0pKQoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoMCA9PSBmLmxlbmd0aCkgcmV0dXJuICExOwoJCQkJCQkJCWggPSBuZXcgRGF0ZShwYXJzZUludChjKSkuZ2V0RnVsbFllYXIoKSwgdSA9IG5ldyBEYXRlKHBhcnNlSW50KGMpKS5nZXRNb250aCgpLCBtID0gbmV3IERhdGUocGFyc2VJbnQoYykpLmdldERhdGUoKTsKCQkJCQkJCQlmb3IgKHZhciBrID0gZi5sZW5ndGgsIEIgPSBrIC0gMTsgQiA+IDA7IEItLSkKCQkJCQkJCQkJaWYgKCEoZltCXVswXSA8PSBmW0IgLSAxXVswXSArIDg2NGU1IHx8IGZbQl1bMV0gPT0gZltCIC0gMV1bMV0pKSB7CgkJCQkJCQkJCQl2YXIgaiA9IFtmW0JdWzBdIC0gODY0ZTUsIGZbQiAtIDFdWzFdXTsKCQkJCQkJCQkJCWYuc3BsaWNlKEIsIDAsIGopCgkJCQkJCQkJCX0KCQkJCQkJCQlpZiAoRGF0ZS5wYXJzZShuZXcgRGF0ZSkgLSBmW2YubGVuZ3RoIC0gMV1bMF0gPiA4NjRlNSkgZi5wdXNoKFtEYXRlLnBhcnNlKG5ldyBEYXRlKSAtIDg2NGU1LCBwYXJzZUZsb2F0KHouZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5vbGRQcmljZSkpXSk7CgkJCQkJCQkJZWxzZSB0cnkgewoJCQkJCQkJCQlmW2YubGVuZ3RoIC0gMV1bMV0gPSBwYXJzZUZsb2F0KHouZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5vbGRQcmljZSkpCgkJCQkJCQkJfSBjYXRjaCAoQykge30KCQkJCQkJCQlmb3IgKHZhciBTID0gdm9pZCAwLCBOID0gdm9pZCAwLCBUID0gdm9pZCAwLCBQID0gdm9pZCAwLCBJID0gZiwgQSA9IFtdLCBxID0gbmV3IERhdGUsIEUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCWZvciAodmFyIHQgPSAwOyB0IDwgSS5sZW5ndGggLSAxOyB0KyspCgkJCQkJCQkJCQlpZiAoZSA+PSBJW3RdWzBdICYmIGUgPCBJW3QgKyAxXVswXSkgcmV0dXJuIElbdF1bMV07CgkJCQkJCQkJCXJldHVybiBJW0kubGVuZ3RoIC0gMV1bMV0KCQkJCQkJCQl9LCBPID0gSVswXVswXTsgTyA8PSBxLmdldFRpbWUoKTspIHsKCQkJCQkJCQkJdmFyIEwgPSBFKE8pOwoJCQkJCQkJCQlBLnB1c2gocGFyc2VGbG9hdChMLnRvRml4ZWQoMikpKSwgTyArPSB4CgkJCQkJCQkJfQoJCQkJCQkJCWlmIChBW0EubGVuZ3RoIC0gMV0pIHsKCQkJCQkJCQkJdmFyIEQgPSBuKDQwKS5nZXRQcmljZUJlZm9yZUV4Y2hhbmdlUmF0ZShhLmRwLm9sZFByaWNlKTsKCQkJCQkJCQkJQVtBLmxlbmd0aCAtIDFdID0gcGFyc2VGbG9hdChEKQoJCQkJCQkJCX0gZWxzZSBBW0EubGVuZ3RoIC0gMV0gPSBBW0EubGVuZ3RoIC0gMl0sIGEuZHAub2xkUHJpY2UgPSBBW0EubGVuZ3RoIC0gMV0sIGEuZHAucHJpY2UgPSBuKDQwKShhLmRwLm9sZFByaWNlKTsKCQkJCQkJCQl0cnkgewoJCQkJCQkJCQlTID0gTShBKSwgTiA9IFMucHJpY2Vfc3RhdHVzLCBUID0gUy5wcmljZV9sYXN0LCBQID0gUy5pc2xvd2VzdAoJCQkJCQkJCX0gY2F0Y2ggKEMpIHt9CgkJCQkJCQkJdmFyIFIgPSBudWxsOwoJCQkJCQkJCUEubGVuZ3RoID49IDM2NSAmJiAoUiA9IEEuc2xpY2UoQS5sZW5ndGggLSAzNjUpKTsKCQkJCQkJCQl2YXIgRiA9IG51bGw7CgkJCQkJCQkJQS5sZW5ndGggPj0gMzEgJiYgKEYgPSBBLnNsaWNlKEEubGVuZ3RoIC0gMzEpKTsKCQkJCQkJCQl2YXIgJCA9IG51bGw7CgkJCQkJCQkJaWYgKEEubGVuZ3RoID49IDYpIHsKCQkJCQkJCQkJdmFyIFcgPSBBLnNsaWNlKEEubGVuZ3RoIC0gNik7CgkJCQkJCQkJCSQgPSBbXTsKCQkJCQkJCQkJZm9yICh2YXIgSCA9IDA7IEggPCBXLmxlbmd0aCAtIDE7IEgrKykgewoJCQkJCQkJCQkJZm9yICh2YXIgVSA9IFtdLCBZID0gMDsgMjQgPiBZOyBZKyspIFUucHVzaChXW0hdKTsKCQkJCQkJCQkJCSQgPSAkLmNvbmNhdChVKQoJCQkJCQkJCQl9CgkJCQkJCQkJCSQucHVzaChXW1cubGVuZ3RoIC0gMV0pCgkJCQkJCQkJfQoJCQkJCQkJCWQgPSBBWzBdOwoJCQkJCQkJCWZvciAodmFyIEcgPSAwOyBHIDwgQS5sZW5ndGg7IEcrKykgZCA+IEFbR10gJiYgKGQgPSBBW0ddKSwgcCA8IEFbR10gJiYgKHAgPSBBW0ddKTsKCQkJCQkJCQl2YXIgWCA9IGQgKyAiLSIgKyBwLAoJCQkJCQkJCQlKID0gewoJCQkJCQkJCQkJcHJpY2Vfc3RhdHVzOiBOLAoJCQkJCQkJCQkJc3RhcnREOiBtLAoJCQkJCQkJCQkJc3RhcnRNOiB1LAoJCQkJCQkJCQkJbm93X2RheTogcSwKCQkJCQkJCQkJCXN0YXJ0WTogaCwKCQkJCQkJCQkJCXN0b3JlOiBbewoJCQkJCQkJCQkJCWN1cnJlbnRfcHJpY2U6IFQsCgkJCQkJCQkJCQkJYWxsX2xpbmU6IEEsCgkJCQkJCQkJCQkJYWxsX2xpbmVfYmVnaW5fdGltZTogSVswXVswXSwKCQkJCQkJCQkJCQl5ZWFyX2xpbmU6IFIsCgkJCQkJCQkJCQkJeWVhcl9saW5lX3RpbWU6IHEuZ2V0VGltZSgpIC0gMzY1ICogeCwKCQkJCQkJCQkJCQltb250aF9saW5lOiBGLAoJCQkJCQkJCQkJCW1vbnRoX2xpbmVfdGltZTogcS5nZXRUaW1lKCkgLSAzMCAqIHgsCgkJCQkJCQkJCQkJc2hvcnRfZGF5X2xpbmU6ICQsCgkJCQkJCQkJCQkJc2hvcnRfZGF5X2xpbmVfYmVnaW5fdGltZTogcS5nZXRUaW1lKCkgKyA4ICogXyAtIDUgKiB4LAoJCQkJCQkJCQkJCW1pbl9zdGFtcDogIjAiLAoJCQkJCQkJCQkJCWlzbG93ZXN0OiBQLAoJCQkJCQkJCQkJCW5hbWU6IHIgKyAiKOW9k+WJjSkiLAoJCQkJCQkJCQkJCXByaWNlX3JhbmdlOiBYLAoJCQkJCQkJCQkJCXByb21vOiBbXSwKCQkJCQkJCQkJCQlhbGxfZXF1YWxfc2hvcnQ6ICExLAoJCQkJCQkJCQkJCWN1cnJlbmN5OiB2CgkJCQkJCQkJCQl9XQoJCQkJCQkJCQl9OwoJCQkJCQkJCXJldHVybiBKCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LAoJCQkJCUQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gMTAwOwoJCQkJCQlpZiAoInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgKHQgPSAxKSwgZSAmJiAiIiAhPSBlKSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCXZhciBuID0gSlNPTi5wYXJzZShlKQoJCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJCXJldHVybgoJCQkJCQkJfQoJCQkJCQkJdmFyIGEgPSAi5Lqa6ams6YCKIiwKCQkJCQkJCQlvID0gbi5zZWxmX2N1cnZlLAoJCQkJCQkJCXIgPSBuLm90aGVyX2N1cnZlOwoJCQkJCQkJaWYgKChvIHx8IHIpICYmICgwICE9IG8ubGVuZ3RoIHx8IDAgIT0gci5sZW5ndGgpKSB7CgkJCQkJCQkJbyAmJiAwICE9IG8ubGVuZ3RoIHx8IChvID0gciwgYSA9ICLkuprpqazpgIrnrKzkuInmlrkiKTsKCQkJCQkJCQl2YXIgcyA9IHZvaWQgMCwKCQkJCQkJCQkJbCA9IHZvaWQgMCwKCQkJCQkJCQkJYyA9IHZvaWQgMCwKCQkJCQkJCQkJZCA9IHZvaWQgMCwKCQkJCQkJCQkJcCA9IHZvaWQgMCwKCQkJCQkJCQkJaCA9IHZvaWQgMCwKCQkJCQkJCQkJdSA9IFtdOwoJCQkJCQkJCXMgPSAxZTMgKiAoMzYwMCAqIG9bMF0udG0gKyAxNDE3NjA1MTA3KSwgbCA9IGMgPSBvWzBdLnBpIC8gdDsKCQkJCQkJCQlmb3IgKHZhciBtID0gMCwgZiA9IG8ubGVuZ3RoOyBmID4gbTsgbSsrKSB7CgkJCQkJCQkJCXZhciBnID0gb1ttXTsKCQkJCQkJCQkJMCAhPSBnLnBpICYmIChnLnBpID0gZy5waSAvIHQsIGcudG0gPSAxZTMgKiAoMzYwMCAqIGcudG0gKyAxNDE3NjA1MTA3KSwgZy5waSA8IGwgJiYgKGwgPSBnLnBpKSwgZy5waSA+IGMgJiYgKGMgPSBnLnBpKSwgdS5wdXNoKFtnLnRtLCBnLnBpXSkpCgkJCQkJCQkJfQoJCQkJCQkJCWlmICgwID09IHUubGVuZ3RoKSByZXR1cm4gITE7CgkJCQkJCQkJZCA9IG5ldyBEYXRlKHBhcnNlSW50KHMpKS5nZXRGdWxsWWVhcigpLCBwID0gbmV3IERhdGUocGFyc2VJbnQocykpLmdldE1vbnRoKCksIGggPSBuZXcgRGF0ZShwYXJzZUludChzKSkuZ2V0RGF0ZSgpOwoJCQkJCQkJCWZvciAodmFyIF8gPSB1Lmxlbmd0aCwgeCA9IF8gLSAxOyB4ID4gMDsgeC0tKQoJCQkJCQkJCQlpZiAoISh1W3hdWzBdIDw9IHVbeCAtIDFdWzBdICsgODY0ZTUgfHwgdVt4XVsxXSA9PSB1W3ggLSAxXVsxXSkpIHsKCQkJCQkJCQkJCXZhciB3ID0gW3VbeF1bMF0gLSA4NjRlNSwgdVt4IC0gMV1bMV1dOwoJCQkJCQkJCQkJdS5zcGxpY2UoeCwgMCwgdykKCQkJCQkJCQkJfQoJCQkJCQkJCURhdGUucGFyc2UobmV3IERhdGUpIC0gdVt1Lmxlbmd0aCAtIDFdWzBdID4gODY0ZTUgJiYgdS5wdXNoKFtEYXRlLnBhcnNlKG5ldyBEYXRlKSAtIDg2NGU1LCB1W3UubGVuZ3RoIC0gMV1bMV1dKTsKCQkJCQkJCQlmb3IgKHZhciB2ID0gMCwgYiA9IHUubGVuZ3RoLCB5ID0gcGFyc2VGbG9hdCh1W2IgLSAxXVsxXSksIGsgPSAyMCwgeCA9IGIgLSAxOyB4ID4gMDsgeC0tKSB7CgkJCQkJCQkJCXZhciB6ID0gcGFyc2VGbG9hdCh1W3hdWzFdKSwKCQkJCQkJCQkJCUIgPSAocGFyc2VGbG9hdCh1W3hdWzBdKSAtIHBhcnNlRmxvYXQodVt4IC0gMV1bMF0pKSAvIDg2NGU1OwoJCQkJCQkJCQlpZiAoMCAhPT0geikKCQkJCQkJCQkJCWlmICh5ICE9IHopIHsKCQkJCQkJCQkJCQlpZiAocGFyc2VGbG9hdCh5KSA+IHBhcnNlRmxvYXQoeikgJiYgeCA+PSBiIC0gayAtIDEpIHsKCQkJCQkJCQkJCQkJdiA9IDE7CgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWlmIChwYXJzZUZsb2F0KHkpIDwgcGFyc2VGbG9hdCh6KSkgewoJCQkJCQkJCQkJCQl2ID0gLTE7CgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSBlbHNlIGlmIChCID4gNCkgYnJlYWsKCQkJCQkJCQl9CgkJCQkJCQkJdmFyIGogPSBsICsgIi0iICsgYywKCQkJCQkJCQkJQyA9IHsKCQkJCQkJCQkJCXByaWNlX3N0YXR1czogdiwKCQkJCQkJCQkJCXN0YXJ0RDogaCwKCQkJCQkJCQkJCXN0YXJ0TTogcCwKCQkJCQkJCQkJCXN0YXJ0WTogZCwKCQkJCQkJCQkJCXN0b3JlOiBbewoJCQkJCQkJCQkJCWN1cnJlbnRfcHJpY2U6IHksCgkJCQkJCQkJCQkJZGF0YTogdSwKCQkJCQkJCQkJCQlsYXN0X3ByaWNlOiBsLAoJCQkJCQkJCQkJCW1pbl9zdGFtcDogIjAiLAoJCQkJCQkJCQkJCW5hbWU6IGEsCgkJCQkJCQkJCQkJcHJpY2VfcmFuZ2U6IGoKCQkJCQkJCQkJCX1dCgkJCQkJCQkJCX07CgkJCQkJCQkJcmV0dXJuIEMKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0sCgkJCQkJTSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZm9yICh2YXIgdCA9IDAsIG4gPSBlLmxlbmd0aCwgaSA9IE1hdGgubWluLmFwcGx5KGcsIGUpLCBhID0gZVtuIC0gMV0sIG8gPSAhMSwgciA9IDE4MCwgcyA9IDAsIGwgPSBlLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7CgkJCQkJCQl2YXIgYyA9IGVbbF07CgkJCQkJCQlpZiAobCA+IDAgJiYgKHMgKz0gMSksIDAgIT0gYykKCQkJCQkJCQlpZiAoYSAhPSBjKSB7CgkJCQkJCQkJCWlmIChwYXJzZUZsb2F0KGEpID4gcGFyc2VGbG9hdChjKSAmJiBsID49IG4gLSByIC0gMSkgewoJCQkJCQkJCQkJdCA9IDE7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChwYXJzZUZsb2F0KGEpIDwgcGFyc2VGbG9hdChjKSkgewoJCQkJCQkJCQkJdCA9IC0xLCBhID09PSBpICYmIChvID0gITApOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCX0gZWxzZSBpZiAocyA+IDE4MCkgYnJlYWsKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcHJpY2Vfc3RhdHVzOiB0LAoJCQkJCQkJaXNsb3dlc3Q6IG8sCgkJCQkJCQlwcmljZV9sYXN0OiBhCgkJCQkJCX0KCQkJCQl9LAoJCQkJCVIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCWZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGgsIGkgPSBlLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZVsxXQoJCQkJCQl9KSwgYSA9IE1hdGgubWluLmFwcGx5KGcsIGkpLCBvID0gZVtuIC0gMV1bMV0sIHIgPSAhMSwgcyA9IDIwLCBsID0gMCwgYyA9IG4gLSAxOyBjID49IDA7IGMtLSkgewoJCQkJCQkJdmFyIGQgPSBlW2NdWzFdOwoJCQkJCQkJaWYgKGMgPiAwICYmIChsICs9IChlW2NdWzBdIC0gZVtjIC0gMV1bMF0pIC8gODY0ZTUpLCAwICE9IGQpCgkJCQkJCQkJaWYgKG8gIT0gZCkgewoJCQkJCQkJCQlpZiAocGFyc2VGbG9hdChvKSA+IHBhcnNlRmxvYXQoZCkgJiYgYyA+PSBuIC0gcyAtIDEpIHsKCQkJCQkJCQkJCXQgPSAxOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAocGFyc2VGbG9hdChvKSA8IHBhcnNlRmxvYXQoZCkpIHsKCQkJCQkJCQkJCXQgPSAtMSwgbyA9PT0gYSAmJiAociA9ICEwKTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQl9IGVsc2UgaWYgKGwgPiAxODApIGJyZWFrCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXByaWNlX3N0YXR1czogdCwKCQkJCQkJCWlzbG93ZXN0OiByLAoJCQkJCQkJcHJpY2VfbGFzdDogbwoJCQkJCQl9CgkJCQkJfSwKCQkJCQlGID0gZnVuY3Rpb24odCwgbikgewoJCQkJCQlpZiAodCAmJiB0Lmxpc3QpIHsKCQkJCQkJCXZhciBpID0gdm9pZCAwLAoJCQkJCQkJCW8gPSB2b2lkIDAsCgkJCQkJCQkJciA9IHZvaWQgMCwKCQkJCQkJCQlzID0gdm9pZCAwLAoJCQkJCQkJCWwgPSB2b2lkIDAsCgkJCQkJCQkJYyA9IHQubGlzdC5sZW5ndGgsCgkJCQkJCQkJZCA9IFtdOwoJCQkJCQkJcyA9IG5ldyBEYXRlKHQuY3VyVGltZSkuZ2V0VGltZSgpLCBvID0gciA9IHQubGlzdFswXS5wcmljZTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJZm9yICh2YXIgcCA9IDA7IGMgPiBwOyBwKyspIHsKCQkJCQkJCQkJdmFyIGggPSB0Lmxpc3RbcF07CgkJCQkJCQkJCWQucHVzaChbbmV3IERhdGUoaC50aW1lKS5nZXRUaW1lKCksIGgucHJpY2VdKSwgaC5wcmljZSA+IHIgJiYgKHIgPSBoLnByaWNlKSwgaC5wcmljZSA8IG8gJiYgKG8gPSBoLnByaWNlKQoJCQkJCQkJCX0KCQkJCQkJCQlmb3IgKHZhciBwID0gYyAtIDE7IHAgPiAwOyBwLS0pCgkJCQkJCQkJCWlmIChkW3BdWzBdIC0gZFtwIC0gMV1bMF0gPiA4NjRlNSkgewoJCQkJCQkJCQkJdmFyIHUgPSBbZFtwXVswXSAtIDg2NGU1LCBkW3AgLSAxXVsxXV07CgkJCQkJCQkJCQlkLnNwbGljZShwLCAwLCB1KQoJCQkJCQkJCQl9CgkJCQkJCQkJdmFyIG0gPSBkW2QubGVuZ3RoIC0gMV07CgkJCQkJCQkJaWYgKG1bMF0gPCBzKSB7CgkJCQkJCQkJCXZhciBmID0gbVsxXSwKCQkJCQkJCQkJCWcgPSAkKGEuc2l0ZSk7CgkJCQkJCQkJCXMgLSBtWzBdID4gODY0ZTUgJiYgZC5wdXNoKFtzIC0gODY0ZTUsIGZdKSwgZyAmJiBmICE9IGcgJiYgKGcgPiByICYmIChyID0gZyksIG8gPiBnICYmIChvID0gZyksIGQucHVzaChbcywgZ10pKQoJCQkJCQkJCX0KCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl2YXIgcyA9ICQoYS5zaXRlKTsKCQkJCQkJCQkJcyAmJiAoZFtkLmxlbmd0aCAtIDFdWzFdID0gcyk7CgkJCQkJCQkJCXZhciBjID0gUihkKSwKCQkJCQkJCQkJCXAgPSBjLnByaWNlX3N0YXR1cywKCQkJCQkJCQkJCWggPSBjLnByaWNlX2xhc3Q7CgkJCQkJCQkJCWkgPSBjLmlzbG93ZXN0OwoJCQkJCQkJCQlmb3IgKHZhciB1ID0gbyArICItIiArIHIsIG0gPSBuZXcgRGF0ZSh0LnN0YXJ0VGltZSkuZ2V0RGF0ZSgpLCBmID0gbmV3IERhdGUodC5zdGFydFRpbWUpLmdldE1vbnRoKCksIGcgPSBuZXcgRGF0ZSh0LnN0YXJ0VGltZSkuZ2V0RnVsbFllYXIoKSwgdyA9IFtdLCB2ID0gbmV3IERhdGUsIGIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlmb3IgKHZhciB0ID0gMDsgdCA8IGQubGVuZ3RoIC0gMTsgdCsrKQoJCQkJCQkJCQkJCWlmIChlID49IGRbdF1bMF0gJiYgZSA8IGRbdCArIDFdWzBdKSByZXR1cm4gZFt0XVsxXTsKCQkJCQkJCQkJCXJldHVybiBkW2QubGVuZ3RoIC0gMV1bMV0KCQkJCQkJCQkJfSwgeSA9IGRbMF1bMF07IHkgPD0gdi5nZXRUaW1lKCk7KSB7CgkJCQkJCQkJCQl2YXIgayA9IGIoeSk7CgkJCQkJCQkJCQl3LnB1c2gocGFyc2VGbG9hdChrLnRvRml4ZWQoMikpKSwgeSArPSB4CgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIHogPSBudWxsOwoJCQkJCQkJCQl3Lmxlbmd0aCA+PSAzNjUgJiYgKHogPSB3LnNsaWNlKHcubGVuZ3RoIC0gMzY1KSk7CgkJCQkJCQkJCXZhciBCID0gbnVsbDsKCQkJCQkJCQkJdy5sZW5ndGggPj0gMzEgJiYgKEIgPSB3LnNsaWNlKHcubGVuZ3RoIC0gMzEpKTsKCQkJCQkJCQkJdmFyIGogPSBudWxsOwoJCQkJCQkJCQlpZiAody5sZW5ndGggPj0gNikgewoJCQkJCQkJCQkJdmFyIEMgPSB3LnNsaWNlKHcubGVuZ3RoIC0gNik7CgkJCQkJCQkJCQlqID0gW107CgkJCQkJCQkJCQlmb3IgKHZhciBTID0gMDsgUyA8IEMubGVuZ3RoIC0gMTsgUysrKSB7CgkJCQkJCQkJCQkJZm9yICh2YXIgTiA9IFtdLCBUID0gMDsgMjQgPiBUOyBUKyspIE4ucHVzaChDW1NdKTsKCQkJCQkJCQkJCQlqID0gai5jb25jYXQoTikKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCWoucHVzaChDW0MubGVuZ3RoIC0gMV0pCgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIFAgPSBuZXcgRGF0ZTsKCQkJCQkJCQkJbCA9IHsKCQkJCQkJCQkJCXByaWNlX3N0YXR1czogcCwKCQkJCQkJCQkJCXN0YXJ0RDogbSwKCQkJCQkJCQkJCXN0YXJ0TTogZiwKCQkJCQkJCQkJCXN0YXJ0WTogZywKCQkJCQkJCQkJCW5vd19kYXk6IHYuZ2V0VGltZSgpLAoJCQkJCQkJCQkJZXh0cmE6ICJzdGFydCBmcm9tIGFub3RoZXIiLAoJCQkJCQkJCQkJc3RvcmU6IFt7CgkJCQkJCQkJCQkJY3VycmVudF9wcmljZTogaCwKCQkJCQkJCQkJCQlhbGxfbGluZTogdywKCQkJCQkJCQkJCQlhbGxfbGluZV9iZWdpbl90aW1lOiBkWzBdWzBdICsgOCAqIF8sCgkJCQkJCQkJCQkJeWVhcl9saW5lOiB6LAoJCQkJCQkJCQkJCXllYXJfbGluZV90aW1lOiB2LmdldFRpbWUoKSAtIDM2NSAqIHgsCgkJCQkJCQkJCQkJbW9udGhfbGluZTogQiwKCQkJCQkJCQkJCQltb250aF9saW5lX3RpbWU6IHYuZ2V0VGltZSgpIC0gMzAgKiB4LAoJCQkJCQkJCQkJCXNob3J0X2RheV9saW5lOiBqLAoJCQkJCQkJCQkJCXNob3J0X2RheV9saW5lX2JlZ2luX3RpbWU6IFAuZ2V0VGltZSgpICsgOCAqIF8gLSA1ICogeCwKCQkJCQkJCQkJCQltaW5fc3RhbXA6ICIwIiwKCQkJCQkJCQkJCQlpc2xvd2VzdDogaSwKCQkJCQkJCQkJCQluYW1lOiBlKCksCgkJCQkJCQkJCQkJcHJpY2VfcmFuZ2U6IHUsCgkJCQkJCQkJCQkJcHJvbW86IFtdLAoJCQkJCQkJCQkJCWFsbF9lcXVhbF9zaG9ydDogITEKCQkJCQkJCQkJCX1dCgkJCQkJCQkJCX0sIG4obCkKCQkJCQkJCQl9LCAxZTMpCgkJCQkJCQl9IGNhdGNoICh3KSB7fQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkkID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9ICIiOwoJCQkJCQlpZiAoInRhb2JhbyIgPT0gZSAmJiAodCA9IGsoIiNKX1Byb21vUHJpY2VOdW0iKS50ZXh0KCksICIiID09IHQgJiYgMCA9PSBrKCIjSl9Qcm9tb1ByaWNlTnVtIikubGVuZ3RoICYmICh0ID0gaygiI0pfU3RyUHJpY2UgLnRiLXJtYi1udW0iKS50ZXh0KCkpKSwgInRtYWxsIiA9PSBlICYmICgiIiA9PSB0ICYmICh0ID0gaygiI0pfRGV0YWlsTWV0YSAjSl9Qcm9tb1ByaWNlIHNwYW4udG0tcHJpY2UiKS50ZXh0KCkpLCAiIiA9PSB0ICYmICh0ID0gaygic3Bhbi50bS1wcmljZSIpLnRleHQoKSksICJkZXRhaWwudG1hbGwuaGsiID09PSBsb2NhdGlvbi5ob3N0ICYmICh0ID0gaygic3Bhbi50bS1wcmljZTplcSgxKSIpLnRleHQoKSksIGsoIi50Yi13clR1YW4tbnVtIikudGV4dCgpICYmICh0ID0gaygiLnRiLXdyVHVhbi1udW0iKS50ZXh0KCkpKSwgInRhb2Jhby05NTA5NSIgPT0gZSAmJiAodCA9IGsoIiNKX1Byb21vUHJpY2UgLnRtLXByaWNlIikudGV4dCgpLCAiIiA9PSB0ICYmICh0ID0gaygiI0pfU3RyUHJpY2VNb2RCb3ggLnRtLXByaWNlIikudGV4dCgpKSksICJhaS10YW9iYW8iID09IGUpIHsKCQkJCQkJCWlmIChhLmNocm9tZV9leHRlbnNpb24pIHsKCQkJCQkJCQl2YXIgbiA9IGsoIi5haXRhb2Jhby1lZGV0YWlsLWhlYWRlciBzY3JpcHQiKS50ZXh0KCk7CgkJCQkJCQkJdCA9IC9wcm9tb1ByaWNlIjoiKFtcZFwuXSspIi8uZXhlYyhuKSwgdCAmJiAodCA9IHRbMV0pCgkJCQkJCQl9IGVsc2UgdCA9IHdpbmRvdy5wYWdlY29uZmlnLnByb21vUHJpY2U7CgkJCQkJCQkiIiAhPSB0ICYmIHQgfHwgKHQgPSBrKCIucHJpY2Utd3JhcCAucHJpY2Utc2luZ2xlIC5wcmljZS1wcm9tbyBzdHJvbmciKS50ZXh0KCkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHQuaW5kZXhPZigiLSIpID4gLTEgJiYgKHQgPSB0LnNwbGl0KCItIilbMF0pLCB6KHQpCgkJCQkJfSwKCQkJCQlXID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGRvY3VtZW50LmxvY2F0aW9uLmhvc3QsCgkJCQkJCQlpID0gIiZ5ZW47IiwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJY29tOiAiJCIsCgkJCQkJCQkJImNvLnVrIjogIsKjIiwKCQkJCQkJCQlkZTogIkVVUiIsCgkJCQkJCQkJImNvLmpwIjogIiIsCgkJCQkJCQkJZnI6ICJFVVIiLAoJCQkJCQkJCWNhOiAiQ0ROJCIsCgkJCQkJCQkJY246ICImeWVuOyIsCgkJCQkJCQkJaXQ6ICJFVVIiLAoJCQkJCQkJCWVzOiAiRVVSIiwKCQkJCQkJCQkiNnBtIjogIiQiCgkJCQkJCQl9OwoJCQkJCQlmb3IgKHZhciByIGluIG8pCgkJCQkJCQlpZiAodC5pbmRleE9mKHIpID4gLTEgJiYgKCJhbWF6b24iID09PSBhLnNpdGUgfHwgIjZwbSIgPT09IGEuc2l0ZSB8fCAiYWxpZXhwcmVzcyIgPT09IGEuc2l0ZSkpIHsKCQkJCQkJCQlpID0gb1tyXTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQlpZiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWRldGFpbCIpLmVtcHR5KCkuYXBwZW5kKGsoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogInBhbmVsLXdyYXAiCgkJCQkJCX0pLmFwcGVuZChrKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJjaGFydCIsCgkJCQkJCQlpZDogYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiLAoJCQkJCQkJc3R5bGU6ICJ3aWR0aDo3MDBweDsgaGVpZ2h0OjI0MHB4IgoJCQkJCQl9KSkpLmFwcGVuZChrKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJwYW5lbC1zaGFkb3ciCgkJCQkJCX0pKSwgbigxMzUpLmluaXQoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwgLnBhbmVsLXdyYXAiLCBpLCBlKSwgImFtYXpvbiIgPT0gYS5zaXRlKSB7CgkJCQkJCQl2YXIgcyA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdCAmJiB3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24uY29tIikgPj0gMCB8fCAhMTsKCQkJCQkJCXMgJiYgaygiI3Ric2Itbm90aWZpZXJzIC5yZW1pbmQsI3Ric2Itbm90aWZpZXJzIC5wYW5lbC13cmFwLCN0YnNiLW5vdGlmaWVycyAuY2hhcnQiKS5hZGRDbGFzcygiZml4LWFtYXpvbi1jb20iKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlIID0gZnVuY3Rpb24oZSkgewoJCQkJCQkwID09IGUucHJpY2Vfc3RhdHVzID8gKGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgZW0iKS5hZGRDbGFzcygidHJlbmQtc3RhYmxlIiksIGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgc3BhbiIpLmFkZENsYXNzKCJ0cmVuZC1zdGFibGUiKS50ZXh0KCLku7fmoLzlubPnqLMiKSkgOiAxID09IGUucHJpY2Vfc3RhdHVzID8gKGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgZW0iKS5hZGRDbGFzcygidHJlbmQtdXAiKSwgaygiLnByaWNlLXRyZW5kLWJ0biAudHJlbmQtYm94LWRldiBzcGFuIikuYWRkQ2xhc3MoInRyZW5kLXJlZCIpLnRleHQoIuS7t+agvOS4iua2qCIpKSA6IEEoZSkgfHwgZS5zdG9yZVswXS5pc2xvd2VzdCA/IChrKCIucHJpY2UtdHJlbmQtYnRuIC50cmVuZC1ib3gtZGV2IGVtIikuYWRkQ2xhc3MoInRyZW5kLWRvd24iKSwgaygiLnByaWNlLXRyZW5kLWJ0biAudHJlbmQtYm94LWRldiBzcGFuIikuYWRkQ2xhc3MoInRyZW5kLWdyZWVuIikudGV4dCgi5Y6G5Y+y5pyA5L2OIikpIDogKGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgZW0iKS5hZGRDbGFzcygidHJlbmQtZG93biIpLCBrKCIucHJpY2UtdHJlbmQtYnRuIC50cmVuZC1ib3gtZGV2IHNwYW4iKS5hZGRDbGFzcygidHJlbmQtZ3JlZW4iKS50ZXh0KCLku7fmoLzkuIvpmY0iKSkKCQkJCQl9LAoJCQkJCVUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCWlmIChlICYmIGUuc3RvcmUubGVuZ3RoID4gMCkgewoJCQkJCQkJMCA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kLWljb24iKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi10cmVuZC1zdGFibGUiKSwgaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZCBwIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItc3RhYmxlIikuZmluZCgiYiIpLnRleHQoIuS7t+agvOW5s+eosyIpKSA6IDEgPT0gZS5wcmljZV9zdGF0dXMgPyAoaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1pY29uIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItdHJlbmQtdXAiKSwgaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZCBwIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItcmVkIikuZmluZCgiYiIpLnRleHQoIuS7t+agvOS4iua2qCIpKSA6IEEoZSwgITApIHx8IGUuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1pY29uIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItdHJlbmQtZG93biIpLCBrKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kIHAiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1ncmVlbiIpLmZpbmQoImIiKS50ZXh0KCLljoblj7LmnIDkvY4iKSkgOiAoaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1pY29uIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItdHJlbmQtZG93biIpLCBrKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kIHAiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1ncmVlbiIpLmZpbmQoImIiKS50ZXh0KCLku7fmoLzkuIvpmY0iKSk7CgkJCQkJCQlmb3IgKHZhciB0ID0gewoJCQkJCQkJCWNoYXJ0OiB7CgkJCQkJCQkJCXJlbmRlclRvOiBhLmV4dEJyYW5kICsgIi10cmVuZC1jaGFydCIsCgkJCQkJCQkJCXR5cGU6ICJsaW5lIiwKCQkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJCW1hcmdpbjogIjFweCIsCgkJCQkJCQkJCQloZWlnaHQ6ICIyNTBweCIsCgkJCQkJCQkJCQl3aWR0aDogIjgwMHB4IgoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJfSwKCQkJCQkJCQljb2xvcnM6IFsiIzJmN2VkOCJdLAoJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCXRleHQ6ICLllYbln47mnIDov5EiICsgQyArICLlpKnku7fmoLzotovlir8iLAoJCQkJCQkJCQl4OiAtMjAsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiM2NjYiCgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCXhBeGlzOiB7CgkJCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CgkJCQkJCQkJCQlkYXk6ICIlbS0lZCIsCgkJCQkJCQkJCQl3ZWVrOiAiJW0tJWQiLAoJCQkJCQkJCQkJbW9udGg6ICIlbS0lZCIKCQkJCQkJCQkJfSwKCQkJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIKCQkJCQkJCQl9LAoJCQkJCQkJCXlBeGlzOiB7CgkJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCQl0ZXh0OiAi5Lu35qC8KOWFgykiCgkJCQkJCQkJCX0sCgkJCQkJCQkJCXBsb3RMaW5lczogW3sKCQkJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCQkJd2lkdGg6IDEsCgkJCQkJCQkJCQljb2xvcjogIiM4MDgwODAiCgkJCQkJCQkJCX1dLAoJCQkJCQkJCQlncmlkTGluZUNvbG9yOiAiI2MwZDBlMCIsCgkJCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJCQl0aWNrUGl4ZWxJbnRlcnZhbDogNTAKCQkJCQkJCQl9LAoJCQkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCQkJeERhdGVGb3JtYXQ6ICIlWS0lbS0lZCIsCgkJCQkJCQkJCXNoYXJlZDogITAKCQkJCQkJCQl9LAoJCQkJCQkJCXBsb3RPcHRpb25zOiB7CgkJCQkJCQkJCXNlcmllczogewoJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJcmFkaXVzOiAzCgkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJc2hhZG93OiAhMQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQlsZWdlbmQ6IHsKCQkJCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCQkJCWJvcmRlcldpZHRoOiAwCgkJCQkJCQkJfSwKCQkJCQkJCQlzZXJpZXM6IFtdCgkJCQkJCQl9LCBuID0gZS5zdG9yZS5sZW5ndGgsIGkgPSAwOyBuID4gaTsgaSsrKSB7CgkJCQkJCQkJdmFyIHIgPSBlLnN0b3JlW2ldOwoJCQkJCQkJCWlmICh0LnNlcmllc1tpXSA9IHsKCQkJCQkJCQkJdmlzaWJsZTogITEsCgkJCQkJCQkJCW5hbWU6IHIubmFtZSwKCQkJCQkJCQkJcG9pbnRTdGFydDogRGF0ZS5VVEMoZS5zdGFydFksIGUuc3RhcnRNLCBlLnN0YXJ0RCksCgkJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IDg2NGU1LAoJCQkJCQkJCQlkYXRhOiBbXQoJCQkJCQkJCX0sIDAgPT0gaSAmJiAodC5zZXJpZXNbaV0udmlzaWJsZSA9ICEwKSwgci5kYXRhLmxlbmd0aCA+IDApCgkJCQkJCQkJCWZvciAodmFyIHMgPSByLmRhdGEubGVuZ3RoLCBsID0gci5kYXRhLCBjID0gMDsgcyA+IGM7IGMrKykgewoJCQkJCQkJCQkJdmFyIGQgPSBuZXcgQXJyYXkoMik7CgkJCQkJCQkJCQlkWzBdID0gcGFyc2VJbnQobFtjXVswXSksIGRbMV0gPSBwYXJzZUZsb2F0KGxbY11bMV0pLCB0LnNlcmllc1tpXS5kYXRhLnB1c2goZCkKCQkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJaygiIyIgKyB0LmNoYXJ0LnJlbmRlclRvKS5sZW5ndGggJiYgbmV3IG8uQ2hhcnQodCksIGsoIiMiICsgYS5leHRCcmFuZCArICItdHJlbmQiKS5hdHRyKCJzaG93IiwgMSkuc2hvdygpLCBhLm5ld19leHRlbnNpb24gfHwgaygiIyIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1jaGFydCIpLmFwcGVuZChrKCI8YT4iLCB7CgkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuICIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IiwKCQkJCQkJCQlocmVmOiAiamF2YXNjcmlwdDoiLAoJCQkJCQkJCXRhcmdldDogIl9zZWxmIgoJCQkJCQkJfSkuY2xpY2soZnVuY3Rpb24oZSkgewoJCQkJCQkJCWUucHJldmVudERlZmF1bHQoKSwgQi5hZGRNaW5pKCkKCQkJCQkJCX0pLmFwcGVuZChrKCI8c3Bhbj4iKS50ZXh0KCLpmY3ku7fmj5DphpIiKSkpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCVkgPSBmdW5jdGlvbigpIHsKCQkJCQkJaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLnRleHQoIuaaguaXoOS7t+agvOi1sOWKvyIpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikub2ZmKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4iKS5hZGRDbGFzcygiX25vcHJpY2UiKS5zaG93KCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gZW0iKS5oaWRlKCkKCQkJCQl9LAoJCQkJCUcgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCWUuc3RvcmVbMF0uYWxsX2xpbmUubGVuZ3RoID4gMCAmJiBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLmxlbmd0aCA+IDAgPyAoYS5zaG93TWluaVRyZW5kID0gITAsIDAgPT0gZS5wcmljZV9zdGF0dXMgPyAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biAucHJpY2UtdHJlbmQtaWNvbiIpLmFkZENsYXNzKCJwcmljZS10cmVuZC1pY29uLXNvbHciKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biBzcGFuIikuaHRtbCgi5Lu35qC85bmz56izIikpIDogMSA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIC5wcmljZS10cmVuZC1pY29uIikuYWRkQ2xhc3MoInByaWNlLXRyZW5kLWljb24tdXAiKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biBzcGFuIikuaHRtbCgi5Lu35qC85LiK5raoIikpIDogQShlKSB8fCBlLnN0b3JlWzBdLmlzbG93ZXN0ID8gKGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5hZGRDbGFzcygicHJpY2UtdHJlbmQtaWNvbi1kb3duIiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmh0bWwoIuWOhuWPsuacgOS9jiIpKSA6IChrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIC5wcmljZS10cmVuZC1pY29uIikuYWRkQ2xhc3MoInByaWNlLXRyZW5kLWljb24tZG93biIpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIHNwYW4iKS5odG1sKCLku7fmoLzkuIvpmY0iKSksIGsoIi5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuc2hvdygpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuICsgZGl2LnNodXhpYW4iKS5zaG93KCkpIDogImx1eW91IiA9PSBhLmJ0eXBlID8gKGsoIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuICsgZGl2IikuaGlkZSgpKSA6ICgwID09PSBlLnN0b3JlWzBdLmFsbF9saW5lLmxlbmd0aCAmJiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kIikuaGlkZSgpKSwgWSgpKQoJCQkJCX07CgkJCQlyZXR1cm4geS5nZXRQcmljZVN0YXR1c05ldyA9IE0sIHkuaW5pdCA9IGZ1bmN0aW9uKGUsIG8sIHIpIHsKCQkJCQlpZiAoIShhLklFOSAmJiAiYW1hem9uIiA9PT0gYS5zaXRlIHx8IChuKDE0OCksICJrZWVkZSIgPT09IGEuc2l0ZSAmJiBuKDE0OSkoKSwgVCgpKSkpIHsKCQkJCQkJaWYgKG8ubWF0Y2goL14wLVswLTldKy8pKSByZXR1cm4gdm9pZCBZKCk7CgkJCQkJCWlmIChlIHx8IChlID0gIiIpLCBvICYmIChlICs9ICIsIiArIG8pLCBlIHx8ICJhbWF6b24iID09IGEuc2l0ZSB8fCAiYWktdGFvYmFvIiA9PSBhLnNpdGUgfHwgInRhb2JhbyIgPT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT0gYS5zaXRlIHx8ICJ0YW9iYW8tOTUwOTUiID09IGEuc2l0ZSkgewoJCQkJCQkJdSA9IGUsIG0gPSBvLCBmID0gciwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQoaygiPGE+IiwgewoJCQkJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICItdHJlbmQiLAoJCQkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lOyIsCgkJCQkJCQkJImNsYXNzIjogYS5leHROYW1lICsgIi10YWIiCgkJCQkJCQl9KS5hcHBlbmQoaygiPHNwYW4+IiwgewoJCQkJCQkJCSJjbGFzcyI6ICJzZXR0aW5nLWJnIHByaWNlLXRyZW5kLWljb24iCgkJCQkJCQl9KSkuYXBwZW5kKGsoIjxzcGFuPiIsIHsKCQkJCQkJCQlpZDogYS5leHROYW1lICsgIi10cmVuZC10ZXh0IgoJCQkJCQkJfSkudGV4dCgi5Lu35qC85Y6G5Y+yIikpKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQoaygiPGRpdj4iLCB7CgkJCQkJCQkJImNsYXNzIjogInBhbmVsIHByaWNlLXRyZW5kIiwKCQkJCQkJCQlpZDogYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwiCgkJCQkJCQl9KSk7CgkJCQkJCQl2YXIgYyA9IG4oMjkpLmdldENocm9tZVZlcnNpb24oKTsKCQkJCQkJCShhLklFNyB8fCBhLklFOCB8fCBjICYmIDMwID4gYyB8fCAibHV5b3UiID09PSBhLmJ0eXBlKSAmJiAocSA9IEUsIEwgPSBELCBGID0gaSwgTyA9IHQsIHMgPSBsLCBIID0gVSwgRyA9IGQsIFAgPSBJKSwgcShmdW5jdGlvbihlKSB7CgkJCQkJCQkJbigxNTApLCBuKDE1MSkuaW5pdChlLnJldmlld190cmVuZCksIFAoZSkKCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9CgkJCQl9LCB5CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig5NCkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCWkgPSBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChlID0gcGFyc2VGbG9hdChlKSwgZSA+IDFlNCkgewoJCQkJCXZhciB0ID0gKGUgLyAxZTQpLnRvRml4ZWQoMik7CgkJCQkJcmV0dXJuIHQgPSB0LnJlcGxhY2UoIi4wMCIsICIiKSwgdCArICLkuIciCgkJCQl9CgkJCQlyZXR1cm4gZS50b0ZpeGVkKDIpLnJlcGxhY2UoIi4wMCIsICIiKQoJCQl9CgkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDEyMCksCgkJCQkJdCA9IG4oMjYpLAoJCQkJCWkgPSBuKDEzKSwKCQkJCQlyID0gbigxNiksCgkJCQkJcyA9IG4oNDApLAoJCQkJCWwgPSBuKDkpLAoJCQkJCWMgPSB2b2lkIDAsCgkJCQkJZCA9IHt9LAoJCQkJCXAgPSBbXSwKCQkJCQloID0gdm9pZCAwOwoJCQkJcmV0dXJuIHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCBuKSB7CgkJCQkJCWlmICghYS5mb3JiaWRXaXNobGl0KSB7CgkJCQkJCQl2YXIgciwgcyA9IGEuc2l0ZSwKCQkJCQkJCQlsID0gW107CgkJCQkJCQlmb3IgKHZhciBjIGluIHRoaXMuc2l0ZVBhdHRlcm4pIGMgPT0gcyAmJiAobCA9IHRoaXMuc2l0ZVBhdHRlcm5bY10pOwoJCQkJCQkJaWYgKGwubGVuZ3RoID4gMCkgewoJCQkJCQkJCWZvciAodmFyIGQgPSAwOyBkIDwgbC5sZW5ndGg7IGQrKykKCQkJCQkJCQkJaWYgKG8obFtkXSkubGVuZ3RoID4gMCAmJiAociA9IG8obFtkXSkuZXEoMCkpKSB7CgkJCQkJCQkJCQkwICE9IGEuc2hvd19wcm9tbyAmJiAibHV5b3UiID09IGEuYnR5cGUgJiYgIjM2MGJ1eS1yZSIgIT09IGEuc2l0ZSAmJiAodGhpcy5pbnNlcnRQcm9tbyhyKSwgdGhpcy5pbnNlcnRQcm9tb0FjdGl2ZShyKSksIDAgIT0gYS5zaG93X3dpc2hsaXN0ICYmIHRoaXMuaW5zZXJ0KHIsIG4pLCB0aGlzLmluc2VydERvdWJhbihsW2RdKTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQlvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl0KCJjbGljazptaW5pOnByb21vLWFkIiksIGkubG9nKCLltYzlhaXkv4PplIDlub/lkYrngrnlh7siKQoJCQkJCQkJCX0pLCBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlpLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo54K55Ye7IikKCQkJCQkJCQl9KSwgInN1bmluZyIgPT0gYS5zaXRlICYmIG8oIi5wcm9pbmZvLW1haW4iKS5jc3MoImhlaWdodCIsICJhdXRvIikKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0sCgkJCQkJYXV0b0FkZEZhdm9yOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIG4gPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpOwoJCQkJCQluLmluZGV4T2YoYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yX3VuaXF1ZSIpID4gLTEgJiYgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4iKS5jbGljayhmdW5jdGlvbihuKSB7CgkJCQkJCQluLnByZXZlbnREZWZhdWx0KCksIHQoIm1pbmktZmF2b3ItYnRuLWNsaWNrIiksIGkubG9nKCJtaW5pLWZhdm9yLWJ0bi1jbGljayIpLCBlLnRvZ2dsZV9mYXZvcigpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlpbnNlcnRQcm9tbzogZnVuY3Rpb24oZSkgewoJCQkJCQlvKGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dF8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSkubGVuZ3RoID4gMCB8fCBvKGUpLmVxKDApLmFmdGVyKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dF8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dCIKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlpbnNlcnRQcm9tb0FjdGl2ZTogZnVuY3Rpb24oZSkgewoJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZV8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSkubGVuZ3RoID4gMCB8fCBvKGUpLmVxKDApLmFmdGVyKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZV8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZSIKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlpbnNlcnREb3ViYW46IGZ1bmN0aW9uKGUpIHsKCQkJCQkJbygiIyIgKyBhLmV4dE5hbWUgKyAiX2RvdWJhbl9kaXYiKS5sZW5ndGggPiAwIHx8IChvKGUpLmVxKDApLmFmdGVyKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICJfZG91YmFuX2RpdiIKCQkJCQkJfSkpLCAieWloYW9kaWFuIiA9PSBhLnNpdGUgJiYgbygiIyIgKyBhLmV4dE5hbWUgKyAiX2RvdWJhbl9kaXYiKS5wcmV2KCkuZmluZCgiLmNvbXBhcmVfY29uIikuY3NzKCJ6LWluZGV4IiwgIjEiKSkKCQkJCQl9LAoJCQkJCWluc2VydDogZnVuY3Rpb24oZSwgcykgewoJCQkJCQlhLnRpbWVyNyA9IG51bGw7CgkJCQkJCXZhciBsID0gdGhpcywKCQkJCQkJCWQgPSAiIyIgKyBhLndpc2hkb20yLAoJCQkJCQkJcCA9IG4oMTIyKTsKCQkJCQkJaWYgKCEobyhkKS5sZW5ndGggPiAwKSkgewoJCQkJCQkJaWYgKCJsdXlvdSIgPT0gYS5idHlwZSkgdmFyIGggPSBuKDEyMyksCgkJCQkJCQkJdSA9IHIuY29tcGlsZShoKSh7CgkJCQkJCQkJCW5ld19leHRlbnNpb246IGEubmV3X2V4dGVuc2lvbiwKCQkJCQkJCQkJZXh0TmFtZTogYS5leHROYW1lLAoJCQkJCQkJCQlleHRCcmFuZDogYS5leHRCcmFuZCwKCQkJCQkJCQkJbWluaWRvbTogYS53aXNoZG9tMiwKCQkJCQkJCQkJYmpkX3NpdGU6IGEuc2l0ZQoJCQkJCQkJCX0pOwoJCQkJCQkJZWxzZSB7CgkJCQkJCQkJdmFyIG0gPSAiIjsKCQkJCQkJCQkoYS5JRTcgfHwgYS5JRTgpICYmIChtID0gImllaGFjayIpOwoJCQkJCQkJCXZhciBoID0gbigxMjQpLAoJCQkJCQkJCQlmID0gbigxMjUpLAoJCQkJCQkJCQlnID0gZi5nZXRVcmwoKSwKCQkJCQkJCQkJXyA9IGEuc2VydmVyICsgIi9icndleHQvc2V0dGluZz9mcm9tPSIgKyBwKGEuZnJvbV9kZXZpY2UpICsgIiZidHlwZT0iICsgKGEuYnR5cGUgPyBhLmJ0eXBlIDogIiIpLAoJCQkJCQkJCQl4ID0gImh0dHA6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL2Jyd2V4dC9zdWdnZXN0P3JlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikgKyAiJmZyb21fZGV2aWNlPSIgKyBhLmZyb21fZGV2aWNlICsgIiZidHlwZT0iICsgKGEuYnR5cGUgPyBhLmJ0eXBlIDogIiIpLAoJCQkJCQkJCQl1ID0gci5jb21waWxlKGgpKHsKCQkJCQkJCQkJCXVybDogZywKCQkJCQkJCQkJCXNldFVybDogXywKCQkJCQkJCQkJCWllaGFjazogbSwKCQkJCQkJCQkJCXNfc2VydmVyOiBhLnNfc2VydmVyLAoJCQkJCQkJCQkJYWxpU2l0ZTogYS5hbGlTaXRlLAoJCQkJCQkJCQkJZmVlZGJhY2tVcmw6IHgsCgkJCQkJCQkJCQltaW5pZG9tOiBhLndpc2hkb20yLAoJCQkJCQkJCQkJY19zZXJ2ZXI6IGEuY19zZXJ2ZXIsCgkJCQkJCQkJCQl3aXNoZG9tOiBhLndpc2hkb20KCQkJCQkJCQkJfSkKCQkJCQkJCX0gaWYgKGUuYWZ0ZXIodSksIG4oMTI4KS5yZW5kZXJXaXNobGlzdEFkKHMuY2xhc3NfaWQsIHMuY29yZXdvcmQpLCAibHV5b3UiICE9IGEuYnR5cGUgJiYgKG4oMTMxKS5pbml0KCksIGEuc2F2ZV9kcF9xdWVyeS5vdGhlcl9jbGllbnQgJiYgIjM2MGJ1eSIgPT09IGEuc2l0ZSAmJiBuKDEzMykuaW5pdChhLnNhdmVfZHBfcXVlcnkub3RoZXJfY2xpZW50LCBzLm5vd19kcF9pZCksIGwucmVuZGVyTWluaUZhdm9yKCkpLCAibHV5b3UiICE9IGEuYnR5cGUpIHsKCQkJCQkJCQlsLmNoZWNrX2Zhdm9yKHMuZHBfaWQpOwoJCQkJCQkJCXZhciB3ID0gbygiLiIgKyBhLmV4dEJyYW5kICsgIl9iZ19kaXYiKS5uZXh0KCk7CgkJCQkJCQkJIm5vbmUiICE9IG8odykuY3NzKCJkaXNwbGF5IikgJiYgbygiLiIgKyBhLmV4dEJyYW5kICsgIl9iZ19kaXYiKS5jc3MoImJhY2tncm91bmQtY29sb3IiLCBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX2JnX2RpdiIpLm5leHQoKS5jc3MoImJhY2tncm91bmQtY29sb3IiKSkKCQkJCQkJCX0KCQkJCQkJCWlmIChvKCIjdHJlbmRfZGV0YWlsX3JlbWFpbmVkX21lIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIHNwYW4iKS5hZGRDbGFzcygibGlua2VkIiksIGUucHJldmVudERlZmF1bHQoKSwgbC5hZGRNaW5pKCkKCQkJCQkJCX0pLCAibHV5b3UiICE9IGEuYnR5cGUpIHsKCQkJCQkJCQl2YXIgdiA9ICJjbGljayI7CgkJCQkJCQkJYS5lbWFpbCAmJiAodiA9ICJtb3VzZWVudGVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIikub24odiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIikuYWRkQ2xhc3MoIm1zaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4gZW0iKS5hZGRDbGFzcygiY29sbGVjdF9ob3ZlciIpLCBvKCJodG1sIikuYWRkQ2xhc3MoImJqZC1mYXZvci1zaG93IiksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5zaG93KCkKCQkJCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQljID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIikucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4gZW0iKS5yZW1vdmVDbGFzcygiY29sbGVjdF9ob3ZlciIpLCBvKCJodG1sIikucmVtb3ZlQ2xhc3MoImJqZC1mYXZvci1zaG93IiksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5oaWRlKCkKCQkJCQkJCQkJfSwgMTAwKQoJCQkJCQkJCX0pLCAoYS5JRTcgfHwgYS5JRTgpICYmIG8oZCkub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJCQkJbyh0aGlzKS5hZGRDbGFzcygiaWVoYWNrIikKCQkJCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvKHRoaXMpLnJlbW92ZUNsYXNzKCJpZWhhY2siKQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dlYnNpdGVfaWNvbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCXQoImNsaWNrOm1haW46bG9nbyIpLCBpLmxvZygi5bWM5YWl5q+U5Lu35Yy6bG9nb+eCueWHuyIpCgkJCQkJCQl9KTsKCQkJCQkJCXZhciBiID0gIm1vdXNlbGVhdmUiLAoJCQkJCQkJCXkgPSAibW91c2VlbnRlciI7CgkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuYmluZCh5LCBmdW5jdGlvbigpIHsKCQkJCQkJCQlyZXR1cm4gYS5zaG93TWluaVRyZW5kID8gKGNsZWFyVGltZW91dChhLnRpbWVyNCksIG8oZCkuYWRkQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4iKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9ob3ZlciIpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLnNob3coKSwgdCgiaG92ZXI6bWluaTpwcmljZXRyZW5kIiksIHZvaWQgaS5sb2coIuW1jOWFpeS7t+agvOi2i+WKv+m8oOagh+aCrOa1riIpKSA6ICExCgkJCQkJCQl9KS5iaW5kKGIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWNsZWFyVGltZW91dChhLnRpbWVyNCksIGEudGltZXI0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2hvdmVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuaGlkZSgpLCAibHV5b3UiID09IGEuYnR5cGUgJiYgbygiLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXYiKS5jc3MoImhlaWdodCIsICIzMHB4IikKCQkJCQkJCQl9LCAxMDApCgkJCQkJCQl9KS5iaW5kKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWNsZWFyVGltZW91dChhLnRpbWVyNCksICJibG9jayIgPT0gbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5jc3MoImRpc3BsYXkiKSA/IChvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfaG92ZXIiKSwgbyhkKS5yZW1vdmVDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksICJsdXlvdSIgPT0gYS5idHlwZSAmJiBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2RpdiIpLmNzcygiaGVpZ2h0IiwgIjMwcHgiKSkgOiAobyhkKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2hvdmVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuc2hvdygpKQoJCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuYmluZCh5LCBmdW5jdGlvbigpIHsKCQkJCQkJCQljbGVhclRpbWVvdXQoYS50aW1lcjQpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfaG92ZXIiKSwgbyhkKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5zaG93KCkKCQkJCQkJCX0pLmJpbmQoYiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJY2xlYXJUaW1lb3V0KGEudGltZXI0KSwgYS50aW1lcjQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksICJsdXlvdSIgPT0gYS5idHlwZSAmJiBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2RpdiIpLmNzcygiaGVpZ2h0IiwgIjMwcHgiKQoJCQkJCQkJCX0sIDMwMCkKCQkJCQkJCX0pLCBvKCIjZ3dkX21pbmlfY29tcGFyZSIpLm9uKHksIGZ1bmN0aW9uKCkgewoJCQkJCQkJCW8oIiNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSIpLnNob3coKSwgbyhkKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiI2d3ZF9taW5pX2NvbXBhcmUiKS5hZGRDbGFzcygiZ3dkX3dpc2hsaXN0X2NvbXBhcmVfaG92ZXIiKQoJCQkJCQkJfSkub24oYiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJYS50aW1lcjYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2NvbXBhcmUiKS5oaWRlKCksIG8oIiNnd2RfbWluaV9jb21wYXJlIikucmVtb3ZlQ2xhc3MoImd3ZF93aXNobGlzdF9jb21wYXJlX2hvdmVyIiksIG8oZCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIikKCQkJCQkJCQl9LCAxMDApCgkJCQkJCQl9KSwgbygiI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIikub24oeSwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJY2xlYXJUaW1lb3V0KGEudGltZXI2KQoJCQkJCQkJfSksIG8oIiNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSIpLm9uKGIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCW8oIiNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSIpLmhpZGUoKSwgbyhkKS5yZW1vdmVDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiI2d3ZF9taW5pX2NvbXBhcmUiKS5yZW1vdmVDbGFzcygiZ3dkX3dpc2hsaXN0X2NvbXBhcmVfaG92ZXIiKQoJCQkJCQkJfSksICJsdXlvdSIgIT0gYS5idHlwZSAmJiAobygiIyIgKyBhLmV4dEJyYW5kICsgIl93ZWJzaXRlX2ljb24iKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCW8oIiN3aXNobGlzdC1zZXR0aW5nIikuc2hvdygpLCBvKGQpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2Rpdl9ob3ZlciIpCgkJCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWEudGltZXI3ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJbygiI3dpc2hsaXN0LXNldHRpbmciKS5oaWRlKCksIG8oZCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIikKCQkJCQkJCQl9LCAyMDApCgkJCQkJCQl9KSwgbygiI3dpc2hsaXN0LXNldHRpbmciKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWNsZWFyVGltZW91dChhLnRpbWVyNykKCQkJCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJbygiI3dpc2hsaXN0LXNldHRpbmciKS5oaWRlKCksIG8oZCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIikKCQkJCQkJCX0pKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnZXRSZW1pbmRTdHlsZTogZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoYS5yZW1pbmRJbmZvKSByZXR1cm4gdm9pZCBlKGEucmVtaW5kSW5mbyk7CgkJCQkJCWlmIChoKSByZXR1cm4gdm9pZCBwLnB1c2goZSk7CgkJCQkJCWggPSAhMDsKCQkJCQkJdmFyIHQgPSBhLm5vd19kcF9pZDsgLSAxID09PSB0LmluZGV4T2YoIi0iKSAmJiAodCA9IHQgKyAiLSIgKyBhLnNpdGVfaWQpOwoJCQkJCQl2YXIgbiA9IGEuY19zZXJ2ZXIgKyAiL2FwaS9yZW1pbmRfc2V0dGluZz9hY3Rpb249Z2V0JmVtYWlsPSIgKyBhLmVtYWlsICsgIiZkcF9pZD0iICsgdDsKCQkJCQkJbC5nZXQobikuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQlpZiAoYS5yZW1pbmRJbmZvID0gdCwgZSh0KSwgcC5sZW5ndGggPiAwKQoJCQkJCQkJCWZvciAodmFyIG4gPSAwOyBuIDwgcC5sZW5ndGg7IG4rKykgcFtuXSh0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJcmVuZGVyTWluaUZhdm9yOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJcyA9ICIjIiArIGEud2lzaGRvbTI7CgkJCQkJCWlmICghYS5JRTcgJiYgIWEuSUU4KSB7CgkJCQkJCQl2YXIgbCA9IHZvaWQgMCwKCQkJCQkJCQljID0gdm9pZCAwLAoJCQkJCQkJCXAgPSB2b2lkIDAsCgkJCQkJCQkJaCA9IGEuZW1haWwsCgkJCQkJCQkJdSA9IGEuc2F2ZV9kcF9xdWVyeTsKCQkJCQkJCWlmICh1Lm5vdy5ub3dfZHBfaWQpIHsKCQkJCQkJCQl2YXIgbSA9IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSwKCQkJCQkJCQkJZiA9IHUubm93LnByaWNlIHx8IGEuZHAucHJpY2U7CgkJCQkJCQkJYS5hbGlTaXRlICYmIChmID0gYS5kcC5wcmljZSk7CgkJCQkJCQkJdmFyIGcgPSB1LmIyYy5taW5fcHJpY2UgfHwgZjsKCQkJCQkJCQlmID0gTnVtYmVyKGYudG9TdHJpbmcoKS5yZXBsYWNlKCIsIiwgIiIpKSwgZyA9IE51bWJlcihnLnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsICIiKSksIHUuYjJjLnByb2R1Y3QgJiYgKHAgPSB1LmIyYy5wcm9kdWN0WzBdLnVybCwgdCgiYWxsc2l0ZS1sb3dwcmktc2hvdyIpLCBpLmxvZygiYWxsc2l0ZS1sb3dwcmktc2hvdyIpKSwgZC5ub3dwcmljZSA9IGY7CgkJCQkJCQkJdmFyIF8gPSBuKDEzNCk7CgkJCQkJCQkJaWYgKGEuZW1haWwpIHRoaXMuZ2V0UmVtaW5kU3R5bGUoZnVuY3Rpb24odCkgewoJCQkJCQkJCQl0Lmhhc19yZW1pbmRfdHlwZSAmJiAobCA9ICEwKSwgdC5pc19jb2xsZWN0ZWQgJiYgKGQuaXNfY29sbGVjdGVkID0gdC5pc19jb2xsZWN0ZWQsICIxIiA9PT0gdC5ub3RpZnlfc2l0ZSA/IGYgPSB0LnJlbWluZF9wcmljZSA6IGcgPSB0LnJlbWluZF9wcmljZSksIGQubm90aWZ5X3NpdGUgPSB0Lm5vdGlmeV9zaXRlIHx8ICIxIiwgYyA9IHQucmVtaW5kX3R5cGUgfHwgIjAiLCBhLmVtYWlsLmluZGV4T2YoYS5leHROYW1lICsgIi5jb20iKSA+IC0xICYmIChoID0gIiIpOwoJCQkJCQkJCQl2YXIgbiA9IHIuY29tcGlsZShfKSh7CgkJCQkJCQkJCQljaG9vc2VkOiBsLAoJCQkJCQkJCQkJZW1haWw6IGEuZW1haWwsCgkJCQkJCQkJCQllbWFpbHZhbHVlOiBoLAoJCQkJCQkJCQkJdXJsOiBtLAoJCQkJCQkJCQkJbG93ZXN0VXJsOiBwLAoJCQkJCQkJCQkJbm90aWZ5X3NpdGU6IGQubm90aWZ5X3NpdGUsCgkJCQkJCQkJCQlub3dwcmljZTogZiwKCQkJCQkJCQkJCWFsbHByaWNlOiBnLAoJCQkJCQkJCQkJcmVtaW5kX3R5cGU6IGMsCgkJCQkJCQkJCQlleHROYW1lOiBhLmV4dE5hbWUKCQkJCQkJCQkJfSk7CgkJCQkJCQkJCW8ocykuYXBwZW5kKG4pLCBlLm1pbmlGYXZvckV2ZW50KCkKCQkJCQkJCQl9KTsKCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJdmFyIHggPSByLmNvbXBpbGUoXykoewoJCQkJCQkJCQkJY2hvb3NlZDogbCwKCQkJCQkJCQkJCWVtYWlsOiBhLmVtYWlsLAoJCQkJCQkJCQkJZW1haWx2YWx1ZTogaCwKCQkJCQkJCQkJCXVybDogbSwKCQkJCQkJCQkJCWxvd2VzdFVybDogcCwKCQkJCQkJCQkJCW5vdGlmeV9zaXRlOiBkLm5vdGlmeV9zaXRlLAoJCQkJCQkJCQkJbm93cHJpY2U6IGYsCgkJCQkJCQkJCQlhbGxwcmljZTogZywKCQkJCQkJCQkJCXJlbWluZF90eXBlOiBjLAoJCQkJCQkJCQkJZXh0TmFtZTogYS5leHROYW1lCgkJCQkJCQkJCX0pOwoJCQkJCQkJCQlvKHMpLmFwcGVuZCh4KSwgdGhpcy5taW5pRmF2b3JFdmVudCgpCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSwKCQkJCQltaW5pRmF2b3JFdmVudDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJCXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJdmFyIG4gPSBlLAoJCQkJCQkJCQlpID0gdCB8fCAiIiwKCQkJCQkJCQkJbyA9IGEuY19zZXJ2ZXIgKyAiL2FwaS9yZW1pbmRfc2V0dGluZz9hY3Rpb249c2V0JmVtYWlsPSIgKyBhLmVtYWlsICsgIiZzZXR0aW5nX3R5cGU9IiArIG4gKyAiJnJlbWluZF9lbWFpbD0iICsgaTsKCQkJCQkJCQlsLmdldChvKQoJCQkJCQkJfTsKCQkJCQkJbygiI2JqZF9taW5pZmF2b3JfY29udGVudCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQljbGVhclRpbWVvdXQoYykKCQkJCQkJfSksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4iKS5yZW1vdmVDbGFzcygibXNob3ZlciIpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0biBlbSIpLnJlbW92ZUNsYXNzKCJjb2xsZWN0X2hvdmVyIiksIG8oImh0bWwiKS5yZW1vdmVDbGFzcygiYmpkLWZhdm9yLXNob3ciKSwgbygiI2JqZF9taW5pZmF2b3JfY29udGVudCIpLmhpZGUoKQoJCQkJCQl9KSwgbygiLmppYW5namlhLWxlZnQgLnNlbGVjdC1pdGVtIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQlvKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5zZWxlY3QtaXRlbSIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBvKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpCgkJCQkJCX0pLCBvKCIjZWRpdF9yZV9zdHlsZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiI2JqZF9taW5pZmF2b3JfY29udGVudCIpLnJlbW92ZUNsYXNzKCJiamRfY2hvb3NlZCIpCgkJCQkJCX0pLCBvKCIjbG9naW5DbGlja0J0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIHQgPSBvKCIjYmpkX21pbmlmYXZvcl9jb250ZW50ICN1c2VybmFtZSIpLnZhbCgpLAoJCQkJCQkJCWkgPSBvKCIjYmpkX21pbmlmYXZvcl9jb250ZW50ICNwYXNzd29yZCIpLnZhbCgpOwoJCQkJCQkJcmV0dXJuIHQgJiYgaSA/IChuKDEzNSkubG9naW5SZW5kZXJUb3AoKSwgdm9pZCBlLnVzZXJMb2dpbih0LCBpKSkgOiB2b2lkIG8oIiNsb2dpbl9yZW1pbmRfdGxlIikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikuZmFkZU91dCg1ZTMpCgkJCQkJCX0pLCBvKCIjc3ViYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgbiA9IG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5oYXNDbGFzcygiYmpkX2Nob29zZWQiKTsKCQkJCQkJCWlmICghbikgewoJCQkJCQkJCXZhciBhID0gdm9pZCAwLAoJCQkJCQkJCQlzID0gbygiLmpqLXN0eWxlIC5zZWxlY3QtaXRlbS5zZWxlY3RlZCIpLmF0dHIoImRhdGEtdHlwZSIpOwoJCQkJCQkJCWlmICgiMSIgPT09IHMgJiYgKGEgPSBvKCIuamotc3R5bGUgLnJlLW1haWwiKS52YWwoKSwgIWEpKSByZXR1cm4gdm9pZCBvKCIjZXJyb3JfcmVtaW5kX3RsZSIpLnRleHQoIuivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpLmZhZGVPdXQoNWUzKTsKCQkJCQkJCQlyKHMsIGEpCgkJCQkJCQl9CgkJCQkJCQl2YXIgbCA9IG8oIi5qai1yZW1pbmQgLnNlbGVjdC1pdGVtLnNlbGVjdGVkIiksCgkJCQkJCQkJYyA9IGwuYXR0cigiZGF0YS10eXBlIiksCgkJCQkJCQkJcCA9IGwucGFyZW50KCkuZmluZCgiaW5wdXQiKS52YWwoKTsKCQkJCQkJCXJldHVybiAiIiA9PT0gcCA/IHZvaWQgbygiI2Vycm9yX3JlbWluZF90bGUiKS50ZXh0KCLor7fovpPlhaXllYblk4HmnJ/mnJvku7fmoLwiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKS5mYWRlT3V0KDVlMykgOiBOdW1iZXIocCkgPD0gMCB8fCAhcC5tYXRjaCgvKD86XlxkKyR8XlxkK1wuXGR7MSwyfSQpLykgPyB2b2lkIG8oIiNlcnJvcl9yZW1pbmRfdGxlIikudGV4dCgi6K+36L6T5YWl5q2j56Gu5qC85byP55qE5Lu35qC8IikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikuZmFkZU91dCg1ZTMpIDogTnVtYmVyKHApID4gZC5ub3dwcmljZSAmJiAiMSIgPT09IGMgPyB2b2lkIG8oIiNlcnJvcl9yZW1pbmRfdGxlIikudGV4dCgi5Lu35qC85LiN6IO96auY5LqO5b2T5YmN5ZWG5ZOB5Lu35qC8IikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikuZmFkZU91dCg1ZTMpIDogKHQoIm1pbmktZmF2b3ItZGV0YWlsLWJ0bi1jbGljayIpLCBpLmxvZygibWluaS1mYXZvci1kZXRhaWwtYnRuLWNsaWNrIiksIGUuYWRkX2Zhdm9yKGMsIHApLCB2b2lkIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5oaWRlKCkuYWRkQ2xhc3MoImJqZF9jaG9vc2VkIikpCgkJCQkJCX0pLCBvKCIuamotcmVtaW5kLWxvZ28iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCXQoImFsbHNpdGUtbG93cHJpLWNsaWNrIiksIGkubG9nKCJhbGxzaXRlLWxvd3ByaS1jbGljayIpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQl1c2VyTG9naW46IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGkgPSB0aGlzOwoJCQkJCQlvLmFqYXgoewoJCQkJCQkJdHlwZTogInBvc3QiLAoJCQkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL3VzZXIvYWpfbG9naW4iLAoJCQkJCQkJeGhyRmllbGRzOiB7CgkJCQkJCQkJd2l0aENyZWRlbnRpYWxzOiAhMAoJCQkJCQkJfSwKCQkJCQkJCWNyb3NzRG9tYWluOiAhMCwKCQkJCQkJCWRhdGE6IHsKCQkJCQkJCQllbWFpbDogZSwKCQkJCQkJCQlwYXNzd29yZDogdCwKCQkJCQkJCQl0OiAiY2hlY2siLAoJCQkJCQkJCWhvc3Q6IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QKCQkJCQkJCX0sCgkJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbih0KSB7CgkJCQkJCQkJcmV0dXJuICIxIiAhPT0gdCA/IHZvaWQgbygiI2xvZ2luX3JlbWluZF90bGUiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKS5mYWRlT3V0KDVlMykgOiAoYS5lbWFpbCA9IGUsIG4gJiYgbigpLCBvKCIuYmpkLWxvZ2luLWJveCwgLmxvZ2luLWNvbnRlbnQiKS5oaWRlKCksIG8oIi5iamQtamlhbmdqaWEtcmUiKS5zaG93KCksIGkuY2hlY2tfZmF2b3IoYS5ub3dfZHBfaWQpLCBpLmdldFJlbWluZFN0eWxlKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJZSAmJiAoZC5pc19jb2xsZWN0ZWQgPSBlLmlzX2NvbGxlY3RlZCwgZS5oYXNfcmVtaW5kX3R5cGUgPyAobygiLnNlbGVjdC1pdGVtIikucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5hZGRDbGFzcygiYmpkX2Nob29zZWQiKSwgbygiI2Zhdm9yX2JveCIpLmFkZENsYXNzKCJmYXZvcl9jaG9vc2VkIiksIG8oJy5qai1zdHlsZSAuc2VsZWN0LWl0ZW1bZGF0YS10eXBlPSInICsgZS5yZW1pbmRfdHlwZSArICciXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpKSA6IG8oJy5qai1zdHlsZSAuc2VsZWN0LWl0ZW1bZGF0YS10eXBlPSIxIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgZS5ub3RpZnlfc2l0ZSA9IGUubm90aWZ5X3NpdGUgfHwgIjEiLCBvKCcuamotcmVtaW5kIC5zZWxlY3QtaXRlbVtkYXRhLXR5cGU9IicgKyBlLm5vdGlmeV9zaXRlICsgJyJdJykuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGUucmVtaW5kX3ByaWNlICYmIG8oJy5qai1yZW1pbmQgLnNlbGVjdC1pdGVtW2RhdGEtdHlwZT0iJyArIGUubm90aWZ5X3NpdGUgKyAnIl0nKS5wYXJlbnQoKS5maW5kKCJpbnB1dCIpLnZhbChlLnJlbWluZF9wcmljZSksIG8oIi5qai1zdHlsZSAucmUtbWFpbCIpLnZhbChhLmVtYWlsKSkKCQkJCQkJCQl9KSwgdm9pZCAwKQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJYWRkTWluaTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gYS5jb2xsZWN0SW5mbzsKCQkJCQkJcmV0dXJuIGUucHJpY2UgPSBhLnNhdmVfZHBfcXVlcnkubm93LnByaWNlLCAiIiA9PSBlLmRwX2lkID8gKG8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuaaguS4jeaUr+aMgSIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLmmoLkuI3mlK/mjIEiKSwgdm9pZCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpKSA6IChvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IHNwYW4iKS50ZXh0KCLmraPlnKjmt7vliqAiKSwgbygiZGl2LiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudGV4dCgi5q2j5Zyo5re75YqgIiksICIiID09IGUudGl0bGUgPyBlLnRpdGxlID0gbygidGl0bGUiKS50ZXh0KCkgOiAoIiIgPT0gZS5wcmljZSB8fCBwYXJzZUZsb2F0KGUucHJpY2UpICE9IGUucHJpY2UpICYmIChlLnByaWNlID0gMCksIGUucHJpY2UgfHwgKGUucHJpY2UgPSBhLmRwLnByaWNlKSwgdm9pZCBsLmdldChhLmNfc2VydmVyICsgIi9jb2xsZWN0L2FqX2FkZD9kcF9pZD0iICsgZS5kcF9pZCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS51cmwgfHwgYS5kcC51cmwpICsgIiZpbWc9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLmltZyB8fCBhLmRwLmltZykgKyAiJnRpdGxlPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS50aXRsZSB8fCBhLmRwLm5hbWUpICsgIiZwcmljZT0iICsgZS5wcmljZSArICImc2l0ZV9pZD0iICsgZS5zaXRlX2lkICsgIiZjYXRfaWQ9IiArIGEuZHAuY2F0X2lkKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWlmICgxMDAgPT0gZS5jb2RlIHx8IGUuY29kZSA8PSAwKSB7CgkJCQkJCQkJdmFyIHQgPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpOwoJCQkJCQkJCXQgKz0gdC5pbmRleE9mKCI/IikgPiAtMSA/ICImIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvcl91bmlxdWU9dHJ1ZSIgOiAiPyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3JfdW5pcXVlPXRydWUiLCB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGEuY19zZXJ2ZXIgKyAiL3VzZXIvbG9naW4/ZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh0KTsKCQkJCQkJCX0gZWxzZSAxID09IGUuY29kZSA/ICgibHV5b3UiID09IGEuYnR5cGUgJiYgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLmF0dHIoImNsYXNzIiwgImNvbGxlY3QtbWFpbGluLWljb24iKSwgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBzcGFuIikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksIG8oImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnRleHQoIuW3sua3u+WKoOaPkOmGkiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIikpIDogMiA9PSBlLmNvZGUgJiYgKCJsdXlvdSIgPT0gYS5idHlwZSAmJiBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYXR0cigiY2xhc3MiLCAiY29sbGVjdC1tYWlsaW4taWNvbiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IHNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgbygiZGl2LiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksIG8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIiksIG8oImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSkKCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCW8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuaUtuiXj+Wksei0pSIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLmlLbol4/lpLHotKUiKQoJCQkJCQl9KSkKCQkJCQl9LAoJCQkJCWZhdm9yOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCWlmIChvKGUpKSB7CgkJCQkJCQl2YXIgaSA9IHRoaXMsCgkJCQkJCQkJciA9IG8oIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1mYXZvci1tb2R1bGUgIiArIGEuZXh0QnJhbmQgKyAiLWNsb3NlLW1vZHVsZSIKCQkJCQkJCQl9KS5tb3VzZWVudGVyKGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlpLmJvdHRvbV9saXN0X2Zhdm9yKCkKCQkJCQkJCQl9KS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfZmF2b3IiLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi10YWIgIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yIiwKCQkJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvbWluZS9jb2xsZWN0aW9uIiwKCQkJCQkJCQkJdGl0bGU6ICLmn6XnnIvmiJHnmoTlhajnvZHmlLbol4/lpLkiLAoJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCQkJfSkuYXBwZW5kKG8oIjxlbT4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWZhdm9yLWJnIgoJCQkJCQkJCX0pKSkuYXBwZW5kKG8oIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1kZXRhaWwgIiArIGEuZXh0QnJhbmQgKyAiLW5vdC1sb2dpbiAiICsgYS5leHRCcmFuZCArICItbG9hZGluZyIsCgkJCQkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwiCgkJCQkJCQkJfSkuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZSAiICsgYS5leHRCcmFuZCArICItaGVpZ2h0LWF1dG8iCgkJCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZGV0YWlsLXRpdGxlLWRlc2MiCgkJCQkJCQkJfSkuaHRtbCgn5oiR55qE5pS26JePKDxlbSBpZD0iJyArIGEuZXh0QnJhbmQgKyAnX2Zhdm9yX251bSI+MDwvZW0+5LiqKScpKS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1ibHVlIiwKCQkJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvbWluZS9jb2xsZWN0aW9uIiwKCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQkJCX0pLmh0bWwoIuafpeeci+WFqOmDqCIpKSkuYXBwZW5kKG8oIjxpbWc+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1sb2FkaW5nLWltZyIsCgkJCQkJCQkJCXNyYzogYS5zX3NlcnZlciArICIvaW1hZ2VzL2xvYWRpbmcuZ2lmIgoJCQkJCQkJCX0pKS5hcHBlbmQobygiPHA+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1sb2dpbi1pbmZvIiwKCQkJCQkJCQkJc3R5bGU6ICJwYWRkaW5nOiAxMnB4IDBweCA1cHg7IgoJCQkJCQkJCX0pLmh0bWwoJ+ivt+WFiCA8YSBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLWJsdWUiIGhyZWY9IicgKyBhLmNfc2VydmVyICsgIi91c2VyL2xvZ2luP2Zyb21fdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmKSArICciIHRhcmdldD0iX3NlbGYiPueZu+W9lTwvYT4g6LSt54mp5YWa77yM5oiW5L2/55So56ys5LiJ5pa56LSm5Y+377yaJykpLmFwcGVuZChvKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWxvZ2luLWluZm8iLAoJCQkJCQkJCQlzdHlsZTogImhlaWdodDo3NXB4OyIKCQkJCQkJCQl9KS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJCQlocmVmOiBhLmNfc2VydmVyICsgIi91c2VyL29hdXRoaC8/cGw9MiZvcD1sb2dpbiZmcm9tX3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiksCgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXNpbmEgIiArIGEuZXh0QnJhbmQgKyAiLWJnIiwKCQkJCQkJCQkJdGFyZ2V0OiAiX3NlbGYiCgkJCQkJCQkJfSkpLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCQkJCWhyZWY6IGEuY19zZXJ2ZXIgKyAiL3VzZXIvb2F1dGgvP3BsPTcmb3A9bG9naW4mZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhyZWYpLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1xcSAiICsgYS5leHRCcmFuZCArICItYmciLAoJCQkJCQkJCQl0YXJnZXQ6ICJfc2VsZiIKCQkJCQkJCQl9KSkpLmFwcGVuZChvKCI8dWw+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItaXRlbS1saXN0IgoJCQkJCQkJCX0pKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICItZmF2b3Itbm90aWNlIgoJCQkJCQkJCX0pLmhpZGUoKSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIsCgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWFkZC1mYXZvciAiICsgYS5leHRCcmFuZCArICItYmciLAoJCQkJCQkJCQlocmVmOiAiamF2YXNjcmlwdDp2b2lkKDApIgoJCQkJCQkJCX0pLnRleHQoIuaUtuiXj+ivpeWVhuWTgSIpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpLCBpLmFkZF9mYXZvcigpCgkJCQkJCQkJfSkpKTsKCQkJCQkJCXN3aXRjaCAodCkgewoJCQkJCQkJCWNhc2UgImFwcGVuZCI6CgkJCQkJCQkJCW8oZSkuYXBwZW5kKHIpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJhZnRlciI6CgkJCQkJCQkJCW8oZSkuYWZ0ZXIocik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCW8oZSkuYWZ0ZXIocikKCQkJCQkJCX0KCQkJCQkJCXRyeSB7CgkJCQkJCQkJInRhb2JhbyIgPT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT0gYS5zaXRlIHx8IGEuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xID8gbi5jb2xsZWN0SW5mby5kcF9pZCAmJiBuLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCAmJiBuLmNvbGxlY3RJbmZvLmRwX2lkID09IG4uZXhhY3RfYXJyLnRhb2Jhb19zYW1lX2lkICYmIG4uY29sbGVjdEluZm8ucHJpY2UgJiYgcGFyc2VJbnQobi5jb2xsZWN0SW5mby5wcmljZSkgPiAwIHx8IG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikucmVtb3ZlKCkgOiBuLm5vdyAmJiAiIiA9PSBuLm5vdy5ub3dfZHBfaWQgJiYgbygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwgLiIgKyBhLmV4dEJyYW5kICsgIi1hZGQtZmF2b3IiKS5yZW1vdmUoKQoJCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBzCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LAoJCQkJCWFkZF9mYXZvcjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQllID0gZSB8fCAiIiwgdCA9IHQgfHwgIiI7CgkJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJCWkgPSBhLmNvbGxlY3RJbmZvOwoJCQkJCQlpZiAoaS5wcmljZSA9IGEuZHAub2xkUHJpY2UsIG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikudGV4dCgi5q2j5Zyo5pS26JePIiksICIiICE9IGkudGl0bGUgJiYgaS50aXRsZSA/ICgiIiA9PSBpLnByaWNlIHx8IHBhcnNlRmxvYXQoaS5wcmljZSkgIT0gaS5wcmljZSkgJiYgKGkucHJpY2UgPSAwKSA6IGkudGl0bGUgPSBhLmRwLm5hbWUgfHwgbygidGl0bGUiKS5odG1sKCksICIiID09IGkucHJpY2UgfHwgaS5wcmljZSA8PSAwKSB7CgkJCQkJCQl2YXIgciA9IHMuZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5wcmljZSk7CgkJCQkJCQlpLnByaWNlID0gcgoJCQkJCQl9CgkJCQkJCXZhciBjID0gIjAiOwoJCQkJCQlkLmlzX2NvbGxlY3RlZCAmJiAoYyA9ICIxIiksICgiODMiID09IGEuc2l0ZV9pZCB8fCAiMTIzIiA9PT0gYS5zaXRlX2lkKSAmJiAoaS5kcF9pZCA9IGkuZHBfaWQgKyAiLSIgKyBhLnNpdGVfaWQpOwoJCQkJCQl2YXIgcCA9IGEuY19zZXJ2ZXIgKyAiL2NvbGxlY3QvYWpfYWRkP2RwX2lkPSIgKyBpLmRwX2lkICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChpLnVybCB8fCBsb2NhdGlvbi5ocmVmKSArICImaW1nPSIgKyBlbmNvZGVVUklDb21wb25lbnQoaS5pbWcgfHwgYS5kcC5pbWcpICsgIiZ0aXRsZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGkudGl0bGUpICsgIiZwcmljZT0iICsgaS5wcmljZSArICImc2l0ZV9pZD0iICsgaS5zaXRlX2lkICsgIiZjYXRfaWQ9IiArIGEuZHAuY2F0X2lkICsgIiZub3RpZnlfc2l0ZT0iICsgZSArICImbm90aWZ5X3ByaWNlPSIgKyB0ICsgIiZpc19jb2xsZWN0ZWQ9IiArIGM7CgkJCQkJCWwuZ2V0KHApLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS50ZXh0KCLmlLbol4/or6XllYblk4EiKSwgMTAwID09IGUuY29kZSB8fCBlLmNvZGUgPD0gMCA/IChvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIpLmhpZGUoKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QiKS5lbXB0eSgpLmhpZGUoKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwgLiIgKyBhLmV4dEJyYW5kICsgIi1sb2dpbi1pbmZvIikuc2hvdygpKSA6IDEgPT0gZS5jb2RlID8gKGEuY29sbGVjdGlvbkNoYW5nZWQgPSAhMCwgbi5ib3R0b21fbGlzdF9mYXZvcigpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIpLnRleHQoIuaUtuiXj+aIkOWKnyIpLCBvKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQtZGV0YWlsIikuaGlkZSgpLCAibHV5b3UiID09IGEuYnR5cGUgPyAobygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLnJlbW92ZUNsYXNzKCJjb2xsZWN0LW1haWxvdXQtaWNvbiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYWRkQ2xhc3MoImNvbGxlY3QtbWFpbGluLWljb24iKSkgOiBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYWRkQ2xhc3MoImFkZHN1Y2Nlc3MiKSwgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBzcGFuIikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksIG8oImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnRleHQoIuW3sua3u+WKoOaPkOmGkiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIikpIDogMiA9PSBlLmNvZGUgJiYgKG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksICJsdXlvdSIgPT0gYS5idHlwZSAmJiAobygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLnJlbW92ZUNsYXNzKCJjb2xsZWN0LW1haWxvdXQtaWNvbiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYWRkQ2xhc3MoImNvbGxlY3QtbWFpbGluLWljb24iKSksIG8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuW3sua3u+WKoOaPkOmGkiIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSwgbygiZGl2LiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpLCBhLmJyb3dzZXIuYWdlbnQgJiYgInRtYWxsIiA9PSBhLnNpdGUgJiYgbi5ib3R0b21fbGlzdF9mYXZvcigpKQoJCQkJCQl9KS5mYWlsKGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS50ZXh0KCLmlLbol4/llYblk4EiKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJYm90dG9tX2xpc3RfZmF2b3I6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCQl0ID0gbigxMjApLAoJCQkJCQkJaSA9IHQuc2hvd0xpc3RQcmljZSwKCQkJCQkJCXMgPSBuKDEzNyk7CgkJCQkJCShhLmNvbGxlY3Rpb25DaGFuZ2VkIHx8ICJ0bWFsbCIgPT0gYS5zaXRlIHx8ICFhLmJyb3dzZXIuYWdlbnQpICYmIChhLmNvbGxlY3Rpb25DaGFuZ2VkID0gITEsIG8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIC4iICsgYS5leHRCcmFuZCArICItbG9hZGluZy1pbWciKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpLCBsLmdldChhLmNfc2VydmVyICsgIi9hcHAvY29sbGVjdGlvbj8iKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCAuIiArIGEuZXh0QnJhbmQgKyAiLWxvYWRpbmctaW1nIikuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpLCAxID09IHQuZXJyb3JfY29kZSkKCQkJCQkJCQlpZiAobygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwgLiIgKyBhLmV4dEJyYW5kICsgIi1sb2dpbi1pbmZvIikuaGlkZSgpLCAiIiA9PSBhLmNvbGxlY3RJbmZvLmRwX2lkID8gbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS5oaWRlKCkgOiBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIpLnNob3coKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QiKS5lbXB0eSgpLnNob3coKSwgdC5wcm9kdWN0cy5sZW5ndGggPiAwKSB7CgkJCQkJCQkJCWZvciAodmFyIG4gPSAwOyAzID4gbiAmJiBuIDwgdC5wcm9kdWN0cy5sZW5ndGg7IG4rKykgewoJCQkJCQkJCQkJdmFyIGwgPSB0LnByb2R1Y3RzW25dOwoJCQkJCQkJCQkJbC5uZXdQcmljZSA9IGkobC5ub3dfcHJpY2UsIGwuZHBfaWQpLCAi5pqC5pe257y66LSnIiAhPSBsLm5ld1ByaWNlICYmIChsLmhhc3ByaWNlID0gITApCgkJCQkJCQkJCX0KCQkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QiKS5hcHBlbmQoci5jb21waWxlKHMpKHsKCQkJCQkJCQkJCWRhdGE6IHQucHJvZHVjdHMuc2xpY2UoMCwgMyksCgkJCQkJCQkJCQlleHROYW1lOiBhLmV4dE5hbWUsCgkJCQkJCQkJCQlleHRCcmFuZDogYS5leHRCcmFuZAoJCQkJCQkJCQl9KSksIG8oIi4iICsgYS5leHRCcmFuZCArICItZGVsIikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQllLmJvdHRvbV9kZWxfZmF2b3Iobyh0aGlzKS5hdHRyKCJkcF9pZCIpKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS50ZXh0KCLmlLbol4/llYblk4EiKQoJCQkJCQkJCQl9KSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9udW0iKS50ZXh0KHQudG90YWxfY250KSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QgaW1nIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCQkJCXZhciBlID0gbyh0aGlzKTsKCQkJCQkJCQkJCWUuYXR0cigiZGF0YS1vcmlnaW5hbCIpICE9IGUuYXR0cigic3JjIikgJiYgYS5jaGVja0ltYWdlKGUuYXR0cigiZGF0YS1vcmlnaW5hbCIpLCBlLCA5MCwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQkJZS5oZWlnaHQoKSA8IDYwICYmIGUuY3NzKCJtYXJnaW5Ub3AiLCAzMCAtIGUuaGVpZ2h0KCkgLyAyKQoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfSkKCQkJCQkJCQl9IGVsc2UgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9udW0iKS50ZXh0KCIwIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IikuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJCQkJc3R5bGU6ICJ0ZXh0LWluZGVudDogMmVtO2xpbmUtaGVpZ2h0OiAyMHB4O3BhZGRpbmc6IDI2cHghaW1wb3J0YW50OyIKCQkJCQkJCQl9KS50ZXh0KCLmgqjov5jmsqHmnInmlLbol4/llYblk4HjgILmlLbol4/lkI7lj6/ojrflvpfllYblk4HpmY3ku7cv5Yiw6LSn5o+Q6YaS77yM5biu5Yqp5oKo5Y+K5pe25YWl5omL5oOz6KaB55qE5ZWG5ZOB44CCIikpOwoJCQkJCQkJZWxzZSAwID09IHQuZXJyb3JfY29kZSAmJiAobygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IikuZW1wdHkoKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIC4iICsgYS5leHRCcmFuZCArICItbG9naW4taW5mbyIpLnNob3coKSkKCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IikuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJCQlzdHlsZTogInRleHQtaW5kZW50OiAyZW07bGluZS1oZWlnaHQ6IDIwcHg7cGFkZGluZzogMjZweCFpbXBvcnRhbnQ7IgoJCQkJCQkJfSkuaHRtbCgn5Lqy77yM5LiN5aW95oSP5oCd5pyN5Yqh5Zmo5byA5bCP5beu5LqG77yM5ouJ5Y+W5pWw5o2u5aSx6LSl77yM54K55Ye7IDxhIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctYmx1ZSIgaHJlZj0iaHR0cDovL3d3dy4nICsgYS5leHROYW1lICsgJy5jb20vbWluZS9jb2xsZWN0aW9uP2Zyb209aGFvMTIzIiB0YXJnZXQ9Il9ibGFuayI+5pS26JeP5aS5PC9hPiDmn6XnnIvmm7TlpJouLicpKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIC4iICsgYS5leHRCcmFuZCArICItbG9hZGluZy1pbWciKS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIikKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlib3R0b21fZGVsX2Zhdm9yOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpczsKCQkJCQkJbC5nZXQoYS5jX3NlcnZlciArICIvY29sbGVjdC9hal9kZWw/ZHBfaWQ9IiArIGUpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJMSA9PSBlLmNvZGUgPyAobygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1ub3RpY2UiKS5zaG93KCkudGV4dCgi5Yig6Zmk5oiQ5YqfIikuZmFkZU91dCgzZTMpLCBhLmNvbGxlY3Rpb25DaGFuZ2VkID0gITAsIHQuYm90dG9tX2xpc3RfZmF2b3IoKSkgOiAxMDAgPT0gZS5jb2RlID8gKG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2Zhdm9yX2l0ZW1fbGlzdCIpLmVtcHR5KCkuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCAuIiArIGEuZXh0QnJhbmQgKyAiLWxvZ2luLWluZm8iKS5zaG93KCkpIDogYS5icm93c2VyLmFnZW50ICYmICJ0bWFsbCIgPT0gYS5zaXRlICYmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLliKDpmaTmiJDlip8iKS5mYWRlT3V0KDNlMyksIHQuYm90dG9tX2xpc3RfZmF2b3IoKSkKCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3Itbm90aWNlIikuc2hvdygpLnRleHQoIuWIoOmZpOaIkOWKnyIpLmZhZGVPdXQoM2UzKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJY2hlY2tfZmF2b3I6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGEuZW1haWwgJiYgZSkgewoJCQkJCQkJdmFyIHQgPSBhLmNfc2VydmVyICsgIi9icndleHQvY2hlY2tfY29sbGVjdGVkP2VtYWlsPSIgKyBhLmVtYWlsICsgIiZkcF9pZD0iICsgZTsKCQkJCQkJCWwuZ2V0KHQpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJCWUgJiYgZS5tc2cgPT09ICEwICYmIG8oIiNnd2Rfd2lzaGxpc3RfYnRuIHNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKQoJCQkJCQkJfSkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc2l0ZVBhdHRlcm46IHsKCQkJCQkJdm1hbGw6IFsiLnByby1yaWdodCAucHJvLW1ldGEtYXJlYSIsICIucHJvLXByaWNlIl0sCgkJCQkJCXlvdWdvdTogWyIjeWdwcmljZV9hcmVhIl0sCgkJCQkJCWdvbWU6IFsiLnByZHByaWNlIiwgIiNiYXJnYWluIiwgIi5wcmQtcHJpY2UtMSJdLAoJCQkJCQl2aXBzaG9wOiBbIi5waS1wcmljZS1ib3giXSwKCQkJCQkJIjM2MGJ1eSI6IFsiI3N1bW1hcnktcHJpY2UiLCAiLnN1bW1hcnktcHJpY2UiLCAiI3N1cnBsdXMtdGltZSIsICIjcHJvZHVjdC1pbnRybyAjcHJpY2UiXSwKCQkJCQkJIjM2MGJ1eS1ib29rIjogWyIjc3VtbWFyeS1wcmljZSJdLAoJCQkJCQkiMzYwYnV5LXJlIjogWyIuc2hvcF9pbnRybyAuc2hvcF9pbnRyb19hIl0sCgkJCQkJCXRhb2JhbzogWyIudG0tZmNzLXBhbmVsIiwgIiNKX1Byb21vUHJpY2UiLCAiI0pfU3RyUHJpY2VNb2RCb3giXSwKCQkJCQkJInRhb2Jhby05NTA5NSI6IFsiLnRtLWZjcy1wYW5lbCIsICIjSl9Qcm9tb1ByaWNlIiwgIiNKX1N0clByaWNlTW9kQm94Il0sCgkJCQkJCXRtYWxsOiBbIi50bS1mY3MtcGFuZWwiLCAiI0pfUHJvbW9QcmljZSIsICIjSl9TdHJQcmljZU1vZEJveCJdLAoJCQkJCQkiNTFidXkiOiBbJy54YmFzZV9pdGVtOmNvbnRhaW5zKCLkv4PplIDku7ciKScsICcueGJhc2VfaXRlbTpjb250YWlucygi5piT6L+F5Lu3IiknLCAiI2dvb2RzX2RldGFpbF9tYXRlIC5pdGVtX2ljc29uIiwgIi54YmFzZV9yb3cyIiwgIiNwcm9tb3RlUHJpY2UiLCAiI3Nob3BwcmljZSIsICIjcHJvbW90ZVByaWNlQXJlYSJdLAoJCQkJCQlzdW5pbmc6IFsiI25vUHJpY2UiLCAiI19tYWluX3ByaWNlIiwgIiNleGlzdFByaWNlIiwgIiNuZXRQcmljZUJveCIsICIjaGFzUHJpY2UiLCAiI3ByaWNlRG9tIl0sCgkJCQkJCWRhbmdkYW5nOiBbIi5kMTVfcHJpY2VfaW5mbyIsICIucHJpY2VfcWlhbmciLCAiLnByaWNlX2luZm8iLCAiLnNob3dfaW5mbyAuc2FsZT5wIiwgIi5zYWxlX2JveDpmaXJzdCJdLAoJCQkJCQl5aWhhb2RpYW46IFsiI3BvaW50X3Byb2R1Y3RQcmljZSIsICIucHJpY2VfYXJyYXkiLCAiI2N1cnJlbnRQcmljZUFyZWEiXSwKCQkJCQkJdmFuY2w6IFsiI3ByaWNlYXJlYSAuY3V4aWFvUHJpY2UiXSwKCQkJCQkJbmV3ZWdnOiBbIi5uZXdlZ2dQcmljZSIsICIuZ29vZHNfcHJpY2Vfbm93Il0sCgkJCQkJCWthb2xhOiBbIi5tLXByaWNlIl0KCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gdVtsb2NhdGlvbi5ob3N0XSB8fCAi77+lIiwKCQkJCQkJbiA9IGEuY29sbGVjdEluZm87CgkJCQkJaWYgKG4ucHJpY2UgPSBhLmRwLm9sZFByaWNlLCBuLmltZyA9IG4uaW1nIHx8IGEuZHAuaW1nIHx8ICIiLCAiIiA9PSBuLmltZykKCQkJCQkJZm9yICh2YXIgaSBpbiByKCJpbWciKSkgewoJCQkJCQkJdmFyIG8gPSByKCJpbWciKS5lcShpKSwKCQkJCQkJCQlzID0gcGFyc2VJbnQocihvKS53aWR0aCgpKSwKCQkJCQkJCQlsID0gcGFyc2VJbnQocihvKS5oZWlnaHQoKSk7CgkJCQkJCQlpZiAocyA+PSAyMDAgJiYgODAwID49IHMgJiYgbCA+PSAyMDAgJiYgODAwID49IGwgJiYgcyAvIGwgPj0gLjUgJiYgMS41ID49IHMgLyBsKSB7CgkJCQkJCQkJbi5pbWcgPSByKG8pLmF0dHIoInNyYyIpOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQlpZiAobi50aXRsZSB8fCAobi50aXRsZSA9IGEuZHAubmFtZSksIG4uaW1nIHx8IChuLmltZyA9IGEuZHAuaW1nKSwgIiIgPT0gbi51cmwpIHsKCQkJCQkJdmFyIGMgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmOwoJCQkJCQluLnVybCA9IGMKCQkJCQl9CgkJCQkJaWYgKCIiID09IG4ucHJpY2UgfHwgbi5wcmljZSA8IDApIHsKCQkJCQkJdmFyIHAgPSBkLmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlKGEuZHAub2xkUHJpY2UpOwoJCQkJCQluLnByaWNlID0gcAoJCQkJCX0KCQkJCQlhLmNvbGxlY3RJbmZvID0gbjsKCQkJCQl2YXIgaCA9ICIiOwoJCQkJCWEuSUU2ICYmIGEuSUU3ICYmIChoID0gIm1hcmdpbi10b3A6LTI1cHg7IiksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IikucHJlcGVuZChyKCI8bGk+IiwgewoJCQkJCQkiY2xhc3MiOiAicG9wIiwKCQkJCQkJc3R5bGU6ICJoZWlnaHQ6MCIKCQkJCQl9KS5hcHBlbmQocigiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6ICJwaWMiCgkJCQkJfSkuYXBwZW5kKHIoIjxhPiIsIHsKCQkJCQkJaHJlZjogImphdmFzY3JpcHQ6IgoJCQkJCX0pLmFwcGVuZChyKCI8aW1nPiIsIHsKCQkJCQkJc3JjOiBhLnNlcnZlciArICIvdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIsCgkJCQkJCSJkYXRhLW9yaWdpbmFsIjogbi5pbWcsCgkJCQkJCWRfd2lkdGg6IDYwLAoJCQkJCQlkX2hlaWdodDogNjAsCgkJCQkJCWlkOiBhLmV4dE5hbWUgKyAiLWFkZC1mYXZvci1kcCIKCQkJCQl9KS5sb2FkKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIodGhpcyksCgkJCQkJCQl0ID0gcih0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCQllLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBlLmF0dHIoInNyYyIpICYmIGEuY2hlY2tfaW1hZ2UoZS5hdHRyKCJkYXRhLW9yaWdpbmFsIiksIHQsIDYwKQoJCQkJCX0pKSkpLmFwcGVuZChyKCI8dWw+IiwgewoJCQkJCQkiY2xhc3MiOiAiaXRlbS1pbmZvIgoJCQkJCX0pLmFwcGVuZChyKCI8bGk+IiwgewoJCQkJCQkiY2xhc3MiOiAidGxlIgoJCQkJCX0pLmFwcGVuZChyKCI8aW5wdXQ+IikudmFsKG4udGl0bGUpLmtleXVwKGZ1bmN0aW9uKCkgewoJCQkJCQlhLmNvbGxlY3RJbmZvLnRpdGxlID0gcih0aGlzKS52YWwoKQoJCQkJCX0pKSkuYXBwZW5kKHIoIjxsaT4iLCB7CgkJCQkJCSJjbGFzcyI6ICJwcmkiCgkJCQkJfSkuYXBwZW5kKGUpLmFwcGVuZChyKCI8aW5wdXQ+IikudmFsKG4ucHJpY2UpLmtleXVwKGZ1bmN0aW9uKCkgewoJCQkJCQlhLmNvbGxlY3RJbmZvLm5ld3ByaWNlID0gcih0aGlzKS52YWwoKQoJCQkJCX0pKS5hcHBlbmQocigiPGJ1dHRvbj4iLCB7CgkJCQkJCXN0eWxlOiBoCgkJCQkJfSkudGV4dCgi56Gu6K6kIikuY2xpY2soZnVuY3Rpb24oZSkgewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCksIHQoKQoJCQkJCX0pKSkpKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQoKSB7CgkJCQkJdmFyIGUgPSBhLmNvbGxlY3RJbmZvOwoJCQkJCWlmIChlLnByaWNlID0gYS5kcC5vbGRQcmljZSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuYWRkIikudGV4dCgi5q2j5Zyo5pS26JePIiksICIiICE9IGUudGl0bGUgJiYgZS50aXRsZSA/ICgiIiA9PSBlLnByaWNlIHx8IHBhcnNlRmxvYXQoZS5wcmljZSkgIT0gZS5wcmljZSkgJiYgKGUucHJpY2UgPSAwKSA6IGUudGl0bGUgPSBhLmRwLm5hbWUgfHwgcigidGl0bGUiKS5odG1sKCksICFlLnByaWNlIHx8IGUucHJpY2UgPCAwKSB7CgkJCQkJCXZhciB0ID0gZC5nZXRQcmljZUJlZm9yZUV4Y2hhbmdlUmF0ZShhLmRwLm9sZFByaWNlKTsKCQkJCQkJZS5wcmljZSA9IHQKCQkJCQl9CgkJCQkJYS5jb2xsZWN0SW5mby5uZXdwcmljZSAmJiAoZS5wcmljZSA9IGEuY29sbGVjdEluZm8ubmV3cHJpY2UpLCBsLmdldChhLmNfc2VydmVyICsgIi9jb2xsZWN0L2FqX2FkZD9kcF9pZD0iICsgZS5kcF9pZCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS51cmwgfHwgbG9jYXRpb24uaHJlZikgKyAiJmltZz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuaW1nIHx8IGEuZHAuaW1nKSArICImdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnRpdGxlKSArICImcHJpY2U9IiArIGUucHJpY2UgKyAiJnNpdGVfaWQ9IiArIGUuc2l0ZV9pZCArICImY2F0X2lkPSIgKyBhLmRwLmNhdF9pZCkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLnRleHQoIuaUtuiXj+WVhuWTgSIpLCAxMDAgPT0gZS5jb2RlIHx8IGUuY29kZSA8PSAwID8gKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0PmxpW2NsYXNzIT1wb3BdIikucmVtb3ZlKCksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLmhpZGUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAucG9wLWxvZ2luIikuc2hvdygpKSA6IDEgPT0gZS5jb2RlID8gKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLmlLbol4/miJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpLCAibHV5b3UiID09IGEuYnR5cGUgJiYgcigiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLmF0dHIoImNsYXNzIiwgImNvbGxlY3QtbWFpbGluLWljb24iKSwgcigiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBzcGFuIikudGV4dCgi5re75Yqg5oiQ5YqfIiksIHIoImRpdi4ke0cuZXh0QnJhbmR9X3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLmt7vliqDmiJDlip8iKSwgcigiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSwgcigiZGl2LiR7Ry5leHRCcmFuZH1fd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSkgOiAyID09IGUuY29kZSAmJiAocigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuZmF2b3Itbm90aWNlIikuc2hvdygpLnRleHQoIuaUtuiXj+i/h+S6hiIpLmZhZGVPdXQoM2UzKSwgImx1eW91IiA9PSBhLmJ0eXBlICYmIHIoImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgZW0iKS5hdHRyKCJjbGFzcyIsICJjb2xsZWN0LW1haWxpbi1pY29uIiksIHIoImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuaUtuiXj+i/h+S6hiIpLCByKCJkaXYuJHtHLmV4dEJyYW5kfV93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudGV4dCgi5pS26JeP6L+H5LqGIiksIHIoImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIiksIHIoImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSwgYS5icm93c2VyLmFnZW50ICYmICJ0bWFsbCIgPT0gYS5zaXRlICYmIHMubGlzdF9mYXZvcigpKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QgLnBvcCIpLmFuaW1hdGUoewoJCQkJCQkJaGVpZ2h0OiAwCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuaGlkZSgpCgkJCQkJCX0pCgkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuYWRkIikudGV4dCgi5pS26JeP5ZWG5ZOBIiksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLmlLbol4/miJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuYW5pbWF0ZSh7CgkJCQkJCQloZWlnaHQ6IDAKCQkJCQkJfSwgNTAwLCBmdW5jdGlvbigpIHsKCQkJCQkJCXIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IC5wb3AiKS5oaWRlKCkKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoZSkgewoJCQkJCWwuZ2V0KGEuY19zZXJ2ZXIgKyAiL2NvbGxlY3QvYWpfZGVsP2RwX2lkPSIgKyBlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJMSA9PSBlLmNvZGUgPyAocigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuZmF2b3Itbm90aWNlIikuc2hvdygpLnRleHQoIuWIoOmZpOaIkOWKnyIpLmZhZGVPdXQoM2UzKSwgcy5saXN0X2Zhdm9yKCkpIDogMTAwID09IGUuY29kZSA/IChyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdD5saVtjbGFzcyE9cG9wXSIpLnJlbW92ZSgpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIC5hZGQiKS5oaWRlKCksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLnBvcC1sb2dpbiIpLnNob3coKSkgOiBhLmJyb3dzZXIuYWdlbnQgJiYgInRtYWxsIiA9PSBhLnNpdGUgJiYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLliKDpmaTmiJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCXIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLliKDpmaTmiJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBvKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHQuc3BsaXQoIi0iKSwKCQkJCQkJaSA9IG5bbi5sZW5ndGggLSAxXTsKCQkJCQlpZiAoMCA+IGUpIHJldHVybiAi5pqC5pe257y66LSnIjsKCQkJCQlpZiAocC5pbmRleE9mKGkpID4gLTEpIHsKCQkJCQkJdmFyIGEgPSAiMjI5IiA9PSBpID8gIijml6XlhYMpIiA6ICIiOwoJCQkJCQlyZXR1cm4gaFtpXSArIGUudG9TdHJpbmcoKSArIGEKCQkJCQl9CgkJCQkJcmV0dXJuICLCpSIgKyBlLnRvU3RyaW5nKCkKCQkJCX0KCQkJCXZhciByID0gbig2KSwKCQkJCQlzID0ge30sCgkJCQkJbCA9IG4oOSksCgkJCQkJYyA9IG4oMTYpLAoJCQkJCWQgPSBuKDQwKSwKCQkJCQlwID0gWyIyMjgiLCAiMjY2IiwgIjI0NiIsICIyMjkiLCAiMzY1IiwgIjM2NiIsICIxIiwgIjIzOCIsICIyMzAiXSwKCQkJCQloID0gewoJCQkJCQkyMjg6ICIkIiwKCQkJCQkJMjMwOiAiJCIsCgkJCQkJCTIzODogIiQiLAoJCQkJCQkyNjY6ICLCoyIsCgkJCQkJCTI0NjogIkVVUiIsCgkJCQkJCTIyOTogIsKlIiwKCQkJCQkJMzY1OiAiRVVSIiwKCQkJCQkJMzY2OiAiQ0ROJCIsCgkJCQkJCTE6ICLCpSIKCQkJCQl9LAoJCQkJCXUgPSB7CgkJCQkJCSJ3d3cuYW1hem9uLmNvbSI6ICIkIiwKCQkJCQkJInd3dy5lYmF5LmNvbSI6ICIkIiwKCQkJCQkJInd3dy42cG0uY29tIjogIiQiLAoJCQkJCQkid3d3LmFtYXpvbi5jby51ayI6ICLCoyIsCgkJCQkJCSJ3d3cuYW1hem9uLmRlIjogIkVVUiIsCgkJCQkJCSJ3d3cuYW1hem9uLmNvLmpwIjogIsKlIiwKCQkJCQkJInd3dy5hbWF6b24uZnIiOiAiRVVSIiwKCQkJCQkJInd3dy5hbWF6b24uY2EiOiAiQ0ROJCIsCgkJCQkJCSJ3d3cuYW1hem9uLmNuIjogIsKlIgoJCQkJCX07CgkJCQlyZXR1cm4gcy5saXN0X2Zhdm9yID0gZnVuY3Rpb24oKSB7CgkJCQkJbC5nZXQoYS5jX3NlcnZlciArICIvYXBwL2NvbGxlY3Rpb24iKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmxvYWRpbmciKS5oaWRlKCksIDEgPT0gZS5lcnJvcl9jb2RlKQoJCQkJCQkJaWYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLnBvcC1sb2dpbiIpLmhpZGUoKSwgIiIgPT0gYS5jb2xsZWN0SW5mby5kcF9pZCA/IHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLmhpZGUoKSA6IHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLnNob3coKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3Q+bGlbY2xhc3MhPXBvcF0iKS5yZW1vdmUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QiKS5odG1sKCIiKS5zaG93KCksIGUucHJvZHVjdHMubGVuZ3RoID4gMCkgewoJCQkJCQkJCWZvciAodmFyIHQgPSAwOyAzID4gdCAmJiB0IDwgZS5wcm9kdWN0cy5sZW5ndGg7IHQrKykgewoJCQkJCQkJCQl2YXIgcyA9IGUucHJvZHVjdHNbdF07CgkJCQkJCQkJCXMubmV3UHJpY2UgPSBvKHMubm93X3ByaWNlLCBzLmRwX2lkKSwgIuaaguaXtue8uui0pyIgIT0gcy5uZXdQcmljZSAmJiAocy5oYXNwcmljZSA9ICEwKQoJCQkJCQkJCX0KCQkJCQkJCQl2YXIgbCA9IG4oMTIxKTsKCQkJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCIpLmFwcGVuZChjLmNvbXBpbGUobCkoewoJCQkJCQkJCQlkYXRhOiBlLnByb2R1Y3RzLnNsaWNlKDAsIDMpLAoJCQkJCQkJCQlleHROYW1lOiBhLmV4dE5hbWUsCgkJCQkJCQkJCXNlcnZlcjogYS5zZXJ2ZXIKCQkJCQkJCQl9KSksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmRlbCIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlpKHIodGhpcykuYXR0cigiZHBfaWQiKSksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgYS5hZGQiKS50ZXh0KCLmlLbol4/llYblk4EiKQoJCQkJCQkJCX0pLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCIpLmFwcGVuZChyKCI8bGk+IiwgewoJCQkJCQkJCQlzdHlsZTogImZsb2F0OnJpZ2h0O2hlaWdodDoyMHB4O2NvbG9yOiMxNzdFRTU7Ym9yZGVyOjA7IgoJCQkJCQkJCX0pLmFwcGVuZChyKCI8YT4iLCB7CgkJCQkJCQkJCWhyZWY6ICJodHRwczovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vbWluZT9tZXRob2Q9bXlDb2xsZWN0aW9uJmZyb209YnJvd3NlciZtPWZhdm9yJm9yZGVyYnk9Y29sbGVjdGlvbl90aW1lJm9yZGVyPWRlc2MmcHJpY2Vkb3duPTEiLAoJCQkJCQkJCQlzdHlsZTogImNvbG9yOiMxNzdFRTU7IiwKCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQkJCX0pLnRleHQoIuafpeeci+WFqOmDqO+8iCIgKyBlLnRvdGFsX2NudCArICLvvIkiKSkpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCBpbWciKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl2YXIgZSA9IHIodGhpcyksCgkJCQkJCQkJCQl0ID0gcih0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCQkJCQllLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBlLmF0dHIoInNyYyIpICYmIGEuY2hlY2tfaW1hZ2UoZS5hdHRyKCJkYXRhLW9yaWdpbmFsIiksIHQsIDYwKQoJCQkJCQkJCX0pCgkJCQkJCQl9IGVsc2UgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QiKS50ZXh0KCLmgqjov5jmsqHmnInmlLbol4/llYblk4HjgILmlLbol4/lkI7lj6/ojrflvpfllYblk4HpmY3ku7cv5Yiw6LSn5o+Q6YaS77yM5biu5Yqp5oKo5Y+K5pe25YWl5omL5oOz6KaB55qE5ZWG5ZOB44CCIik7CgkJCQkJCWVsc2UgMCA9PSBlLmVycm9yX2NvZGUgJiYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IikuaHRtbCgiIiksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLmhpZGUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAucG9wLWxvZ2luIikuc2hvdygpKTsKCQkJCQkJYS5oaWRkZW5GYXZvckJ1dHRvbiAmJiByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIGEuYWRkIikuaGlkZSgpCgkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAubG9hZGluZyIpLmhpZGUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QiKS5odG1sKCIiKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuYWRkIikuaGlkZSgpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIC5wYW5lbC1tYWluIikuaHRtbCgi5b6I5oqx5q2J77yM5b+D5oS/5Y2V5pqC5pe25LiN5pSv5oyBSUU244CBSUU3PGJyPuW7uuiuruaCqOabtOaWsOWIsElFOOS7peS4iuWGjeivleOAgiIpLmNzcygiY29sb3IiLCAiIzY2NiIpLmNzcygicGFkZGluZyIsICI1cHggMTBweCIpCgkJCQkJfSkKCQkJCX0sIHMudG9nZ2xlX2Zhdm9yID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIG4gPSBhLmNvbGxlY3RJbmZvOwoJCQkJCWlmICgiIiAhPSBuLmRwX2lkICYmICIiICE9IG4uaW1nICYmICIiICE9IG4udGl0bGUgJiYgIiIgIT0gbi5wcmljZSAmJiAiIiAhPSBuLnVybCkgdCgpOwoJCQkJCWVsc2UgewoJCQkJCQlpZiAoMCA9PSByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikubGVuZ3RoKSByZXR1cm4gZSgpLCB2b2lkIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IC5wb3AiKS5zaG93KCkuYW5pbWF0ZSh7CgkJCQkJCQloZWlnaHQ6IDgyCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7fSk7CgkJCQkJCWlmICgwICE9IHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IC5wb3AiKS5oZWlnaHQoKSkgcmV0dXJuIHZvaWQgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QgLnBvcCIpLmFuaW1hdGUoewoJCQkJCQkJaGVpZ2h0OiAwCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuaGlkZSgpCgkJCQkJCX0pOwoJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuc2hvdygpLmFuaW1hdGUoewoJCQkJCQkJaGVpZ2h0OiA4MgoJCQkJCQl9LCA1MDAsIGZ1bmN0aW9uKCkge30pCgkJCQkJfQoJCQkJfSwgcy5tb25leVNpZ24gPSBoLCBzLnNob3dMaXN0UHJpY2UgPSBvLCBzCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbjxsaT5cbiAgPGRpdiBjbGFzcz0icGljIj5cbiAgICA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0ie3skdmFsdWUudXJsfX0iPlxuICAgICAgPGltZyBzcmM9Int7c2VydmVyfX0vdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUucGljX3VybH19IiBkX3dpZHRoPSI2MCIgZF9oZWlnaHQ9IjYwIiBpZD0ie3tleHROYW1lfX0tZmF2b3ItZHB7eyR2YWx1ZS5kcF9pZH19IiA+XG4gICAgPC9hPlxuICA8L2Rpdj5cbiAgPHVsIGNsYXNzPSJpdGVtLWluZm8iPlxuICAgIDxsaSBjbGFzcz0idGxlIj5cbiAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+e3skdmFsdWUudGl0bGV9fTwvYT5cbiAgICA8L2xpPlxuICAgIDxsaSBjbGFzcz0icHJpIj5cbiAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InByaWNlIj5cbiAgICAgICAge3skdmFsdWUubmV3UHJpY2V9fVxuICAgICAgICB7e2lmICR2YWx1ZS5oYXNwcmljZX19XG4gICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojMzMzIj4g6LW3PC9zcGFuPlxuICAgICAgICB7ey9pZn19XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0iZGVsIiBocmVmPSJqYXZhc2NyaXB0OiIgZHBfaWQ9Int7JHZhbHVlLmRwX2lkfX0iPuWIoOmZpDwvYT5cbiAgICA8L2xpPlxuICA8L3VsPlxuPC9saT5cbnt7L2VhY2h9fScKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJInVzZSBzdHJpY3QiOwoJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9ICIiLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHQgPSB0ICsgIl8iICsgZS5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKDgpOwoJCQlyZXR1cm4gdAoJCX0KCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7aWYgYmpkX3NpdGUgPT0gXCczNjBidXlcJ319XG48ZGl2IGNsYXNzPSJiamRfcHJpY2VfNjE4X2RpdiI+PHNwYW4gY2xhc3M9ImJqZF9wcmljZV82MTgiPuWOu+W5tCA8c3Ryb25nPjYxOCA8L3N0cm9uZz7ku7fmoLzvvJo8c3Ryb25nPjxlbT48L2VtPjwvc3Ryb25nPjwvc3Bhbj48L2Rpdj5cbnt7L2lmfX1cbjxkaXYgaWQ9Int7bWluaWRvbX19IiBjbGFzcz0ie3ttaW5pZG9tfX0gIj5cbiAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV93ZWJzaXRlX2ljb24iIGlkPSJ7e2V4dEJyYW5kfX1fd2Vic2l0ZV9pY29uIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX0gdGl0bGU9Iui0reeJqeWFmiIgIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbSIge3svaWZ9fT5cbiAgICA8ZW0gY2xhc3M9Int7ZXh0QnJhbmR9fV9iZyI+PC9lbT5cbiAgPC9hPlxuICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X3dpc2hsaXN0X2J0biB7e2V4dEJyYW5kfX1fd2lzaGxpc3RfdHJlbmQiIGlkPSJ7e2V4dEJyYW5kfX1fcHJpY2VfaGlzdG9yeV9idG4iIHRhcmdldD0iX3NlbGYiIHRpdGxlPSLmn6XnnIvor6XllYblk4HnmoQxODDku7fmoLzljoblj7IiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPlxuICAgIDxlbSBjbGFzcz0ie3tleHRCcmFuZH19X2JnIHByaWNlLXRyZW5kLWljb24iPjwvZW0+XG4gICAgPHNwYW4+5Lu35qC85Y6G5Y+yPC9zcGFuPlxuICA8L2E+XG4gIHt7aWYgIW5ld19leHRlbnNpb259fVxuICA8ZGl2IGNsYXNzPSJzaHV4aWFuIiBzdHlsZT0iZGlzcGxheTpub25lIj58PC9kaXY+XG4gIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1fd2lzaGxpc3RfYnRuIHt7ZXh0QnJhbmR9fV93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IiBpZD0ie3tleHRCcmFuZH19X3dpc2hsaXN0X2J0biIgdGFyZ2V0PSJfc2VsZiIgdGl0bGU9IuaUtuiXj+WIsOi0reeJqeWFmuWFqOe9keaUtuiXj+Wkue+8jOW5tuiOt+W+l+mZjeS7t+aPkOmGkiI+XG4gICAgPGVtIGNsYXNzPSJ7e2V4dEJyYW5kfX1fYmcgY29sbGVjdC1tYWlsb3V0LWljb24iPjwvZW0+XG4gICAgPHNwYW4+6ZmN5Lu35o+Q6YaSPC9zcGFuPlxuICA8L2E+XG4gIDxkaXYgY2xhc3M9InNodXhpYW4gc3Vic2NyaWJlX3NodXhpYW4iPnw8L2Rpdj5cbiAgPGRpdiBpZD0ie3tleHRCcmFuZH19LWJyYW5kLXN1YnNjcmliZS1ib3giPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tYnJhbmQtc3Vic2NyaWJlIiBpZD0ie3tleHRCcmFuZH19LWJyYW5kLXN1YnNjcmliZS1idG4iIHRpdGxlPSLlk4HniYznibnljZbmj5DliY3nn6XpgZMiID5cbiAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tYmcge3tleHRCcmFuZH19LWJyYW5kLXN1YnNjcmliZS1pY29uLWJsdWUiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tYnJhbmQtc3Vic2NyaWJlLXRleHQiPuWFs+azqOatpOWTgeeJjDwvc3Bhbj5cbiAgICA8L2E+XG4gIDwvZGl2PlxuICB7ey9pZn19XG4gIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9kZXRhaWwiPlxuICAgIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9jb21wYXJlIj5cbiAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF90b3AiPuWVhuWfjuavlOS7tzo8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF9ib2R5Ij5cbiAgICAgICAgPGRpdiBpZD0idHJlbmRfZGV0YWlsX2JvZHlfdWwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPSJ0cmVuZF9kZXRhaWxfYm90dG9tIj5cbiAgICAgICAge3tpZiAhbmV3X2V4dGVuc2lvbn19XG4gICAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF9yZW1haW5lZF9tZSIgdGl0bGU9IuaUtuiXj+W5tumZjeS7t+aPkOmGkiIgY2xhc3M9Int7ZXh0QnJhbmR9fV93aXNobGlzdF9idG4ge3tleHRCcmFuZH19X3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiPumZjeS7t+aPkOmGkjwvZGl2PlxuICAgICAgICB7ey9pZn19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXIiIHN0eWxlPSJmbG9hdDpsZWZ0Ij5cbiAgICAgIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiPjwvZGl2PlxuICAgICAgPGRpdiBpZD0ie3tleHRCcmFuZH19X3dpc2hsaXN0X3RyZW5kX2RldGFpbF9pbmZvIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGgiPjwvZGl2PlxuPC9kaXY+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAuYmpkX3ByaWNlXzYxOF9kaXYge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XG4gIH1cbiAgZGl2LmZpcnN0X2FyZWFfbWQge1xuICAgIGhlaWdodDogNTAwcHg7XG4gIH1cbiAgLmJqZF9wcmljZV82MTgge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDEycHg7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTJweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM3OTdEODA7XG4gICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgIHBhZGRpbmc6IDAgMTJweCAwIDEwcHg7XG4gICAgfVxuICAgIC5iamRfcHJpY2VfNjE4IGVtIHtcbiAgICAgIGNvbG9yOiAjRUM0OTY2O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0ie3t3aXNoZG9tfX0iIHN0eWxlPSJmb250LXNpemU6IDEycHgiPlxuPGRpdiBpZD0ie3ttaW5pZG9tfX0iIGNsYXNzPSJnd2Rfd2lzaGxpc3RfZGl2IHt7aWYgYWxpU2l0ZX19IGFsaXNpdGVfcGFnZSB7ey9pZn19Ij5cbiAgPGEgY2xhc3M9Imd3ZF93ZWJzaXRlIiB0aXRsZT0i6LSt54mp5YWaIiBpZD0iZ3dkX3dlYnNpdGVfaWNvbiIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Int7Y19zZXJ2ZXJ9fSI+XG4gICAgPGVtIGNsYXNzPSJzZXR0aW5nLWJnIHdlYnNpdGVfaWNvbiI+PC9lbT5cbiAgPC9hPlxuICA8YSBjbGFzcz0iZ3dkX3dpc2hsaXN0X2J0biBnd2Rfd2lzaGxpc3RfdHJlbmQiIGlkPSJnd2RfcHJpY2VfaGlzdG9yeV9idG4iICBzdHlsZT0iIj5cbiAgICA8ZW0gY2xhc3M9InNldHRpbmctYmcgcHJpY2UtdHJlbmQtaWNvbiI+PC9lbT5cbiAgICA8c3BhbiBzdHlsZT0iZmxvYXQ6IG5vbmUiPuS7t+agvOWOhuWPsjwvc3Bhbj5cbiAgPC9hPlxuICB7e2lmICFhbGlTaXRlfX1cbiAgPGEgY2xhc3M9Imd3ZF93aXNobGlzdF9idG4gZ3dkX3dpc2hsaXN0X2NvbXBhcmUiIGlkPSJnd2RfbWluaV9jb21wYXJlIj5cbiAgICA8c3BhbiBjbGFzcz0ibWluLWNvbS1ib3giPlxuICAgICAgPGVtIGNsYXNzPSJzZXR0aW5nLWJnIG1pbmktY29tcGFyZS1pY29uIj48L2VtPlxuICAgICAgPHNwYW4gPjwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIDwvYT5cbiAge3svaWZ9fVxuICA8YSBjbGFzcz0iZ3dkX3dpc2hsaXN0X2J0biBnd2Rfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIgaWQ9Imd3ZF93aXNobGlzdF9idG4iICB0aXRsZT0i5pS26JeP5Yiw6LSt54mp5YWa5YWo572R5pS26JeP5aS577yM5bm26I635b6X6ZmN5Lu35o+Q6YaSIj5cbiAgICA8ZGl2IGNsYXNzPSJ3aXNobGlzdC1idG4tYm94Ij5cbiAgICAgIDxlbSBjbGFzcz0ic2V0dGluZy1iZyBjb2xsZWN0X21haWxvdXRfaWNvbiI+PC9lbT5cbiAgICAgIDxzcGFuPumZjeS7t+aPkOmGkjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgPC9hPlxuICA8ZGl2IGlkPSJnd2RfcHJvbW9fYm94Ij5cbiAgICA8ZGl2IGNsYXNzPSJwcm9tb19ib3hfbGVmdCI+XG4gICAgICA8dWw+XG4gICAgICAgIFxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8ZW0gY2xhc3M9InByb21vX3NodXhpYW4iPjwvZW0+XG4gIDwvZGl2PlxuICA8ZGl2IGlkPSJnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIj5cbiAgICA8ZGl2IGNsYXNzPSJnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXIiIHN0eWxlPSJmbG9hdDpsZWZ0Ij5cbiAgICAgIDxkaXYgaWQ9Imd3ZF93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiPjwvZGl2PlxuICAgICAgPGRpdiBpZD0iZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9pbmZvIj48L2Rpdj5cbiAgICAgIDxkaXYgaWQ9Imd3ZF93aXNobGlzdF90cmVuZF9kZXRhaWxfYnRuIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InByaWNlLXRyZW5kLXNwIHB0LXNwMSByZXZpZXctYmciIGRhdGEtaWQ9InBsb3RBbGwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InJldmlldy10cmVuZC1zcCByZXZpZXctYmciIGRhdGEtaWQ9InBsb3RTcGVjaWFsIj48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAgIHt7aWYgIWFsaVNpdGV9fVxuICAgIDxkaXYgY2xhc3M9InRyZW5kLWNvbS1taW5pIj5cbiAgICAgIFxuICAgIDwvZGl2PlxuICAgIHt7L2lmfX1cbiAgICA8ZGl2IGNsYXNzPSJ0cmVuZC1tYXgtbWluLXByaWNlIj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ0LW1heC1wcmkiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ0LW1pbi1wcmkiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9Imd3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIj5cbiAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF9ib2R5X3VsIj48L2Rpdj5cbiAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGlkPSJ3aXNobGlzdC1zZXR0aW5nIj5cbiAgICAgIDxhIGNsYXNzPSJzZXR0aW5nLWl0ZW0iIGhyZWY9Int7c2V0VXJsfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctYmcgZnVuY3Rpb24tc2V0dGluZyI+PC9zcGFuPlxuICAgICAgICA8c3BhbiAgY2xhc3M9Iml0ZW0tdGxlIj7lip/og73orr7nva48L3NwYW4+XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0ic2V0dGluZy1pdGVtIiBocmVmPSJ7e2ZlZWRiYWNrVXJsfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctYmcgb3Bpbmlvbi1mZWVkYmFjayI+PC9zcGFuPlxuICAgICAgICA8c3BhbiAgY2xhc3M9Iml0ZW0tdGxlIj7mhI/op4Hlj43ppog8L3NwYW4+XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0ic2V0dGluZy1pdGVtIiBocmVmPSJ7e2Nfc2VydmVyfX0vIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzZXR0aW5nLWJnIGhvbWVwYWdlIj48L3NwYW4+XG4gICAgICAgIDxzcGFuICBjbGFzcz0iaXRlbS10bGUiPui0reeJqeWFmummlumhtTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgPC9kaXY+XG4gIFxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC5yZXZpZXctYmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3hidC9yZXZpZXctYmcucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9kZXRhaWwgLnNlcnZlcl9udW0ge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogOXB4O1xuICAgIH1cbiAgICAue3t3aXNoZG9tfX0gc3BhbiB7XG4gICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICB9XG4gICAgZGl2LmZpcnN0X2FyZWFfbWQge1xuICAgICAgaGVpZ2h0OiA1MDBweDtcbiAgICB9XG4gICAgI3dpc2hsaXN0LXNldHRpbmcge1xuICAgICAgaGVpZ2h0OiA5MHB4O1xuICAgICAgd2lkdGg6IDEwNHB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHRvcDogMzZweDtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTZlOWViO1xuICAgIH1cbiAgICBcbiAgICAuZnVuY3Rpb24tc2V0dGluZyB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODVweCAtOHB4O1xuICAgIH1cbiAgICAuc2V0dGluZy1pdGVtOmhvdmVyIC5mdW5jdGlvbi1zZXR0aW5nIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMTFweCAtOHB4O1xuICAgIH1cbiAgICAub3Bpbmlvbi1mZWVkYmFjayB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTg4cHggLThweDtcbiAgICB9XG4gICAgLnNldHRpbmctaXRlbTpob3ZlciAub3Bpbmlvbi1mZWVkYmFjayB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjE0cHggLThweDtcbiAgICB9XG4gICAgLmhvbWVwYWdlIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMzdweCAtOHB4O1xuICAgIH1cbiAgICAuc2V0dGluZy1pdGVtOmhvdmVyIC5ob21lcGFnZSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYzcHggLThweDtcbiAgICB9XG4gICAgI3dpc2hsaXN0LXNldHRpbmcgLnNldHRpbmctaXRlbSB7XG4gICAgICB3aWR0aDogMTA0cHg7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAjd2lzaGxpc3Qtc2V0dGluZyAuc2V0dGluZy1pdGVtOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU5ZWI7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgIC5zZXR0aW5nLWl0ZW0gLnNldHRpbmctYmcge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgfVxuICAgIC5zZXR0aW5nLWl0ZW0gLml0ZW0tdGxlIHtcbiAgICAgIGNvbG9yOiAjOTY5Njk5O1xuICAgIH1cbiAgICAuc2V0dGluZy1pdGVtOmhvdmVyIC5pdGVtLXRsZSB7XG4gICAgICBjb2xvcjogIzRlNGU2MTtcbiAgICB9IFxuICAgICNnd2Rfc2V0dGluZ19jb250ZW50IC5nd2Rfc2V0dGluZ19pdGVtIGEge1xuICAgICAgZm9udC1mYW1pbHk6ICJNaWNyb3NvZnQgWWFoZWkiIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAuZ3dkX3dpc2hsaXN0X2J0biB7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlNmU5ZWIhaW1wb3J0YW50O1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X2J0biB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC53aXNobGlzdC1idG4tYm94IHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cblxuICAgIC5nd2Rfd2lzaGxpc3RfYnRuLm1zaG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogI2U2ZTllYjtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuICAgIC5nd2Rfd2lzaGxpc3RfZGl2ICNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIHtcbiAgICAgIGJveC1zaGFkb3c6IDBweCA1cHggMTVweCAwIHJnYmEoMjMsMjUsMjcsMC4xNSk7XG4gICAgICB3aWR0aDogNTc0cHg7XG4gICAgfVxuICAgIC5hbGlzaXRlX3BhZ2UuZ3dkX3dpc2hsaXN0X2RpdiAjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbCB7XG4gICAgICB3aWR0aDogNDYwcHg7XG4gICAgfVxuICAgIC5nd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXIge1xuICAgICAgaGVpZ2h0OiAyODVweDtcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZXtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIG1hcmdpbjogMHB4IDAgMTJweCAwcHg7XG4gICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB3aWR0aDogMjc4cHg7XG4gICAgICB0b3A6IDM2cHg7XG4gICAgICBsZWZ0OiAxMTVweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI0U2RTlFQjtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCAwIHJnYmEoMCwwLDAsMC4xMSk7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaSB7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaSBhIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMzlweDtcbiAgICAgIHdpZHRoOiAyNDhweDtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWRmMWYxO1xuICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWRmMWYxO1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X3RyZW5kX2NvbXBhcmUgbGkgKiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIGxpIGltZyB7XG4gICAgICB3aWR0aDogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaSAubS1pdGVtLXNpdGVuYW1lIHtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzQwNDU0NztcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIGxpIC5tLWl0ZW0tcHJpY2Uge1xuICAgICAgY29sb3I6ICNEMTA4MzE7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIC5tLWFsbC1saW5rIHtcbiAgICAgIGNvbG9yOiAjNWViZWZmIWltcG9ydGFudDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZSFpbXBvcnRhbnQ7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fS5nd2Rfd2lzaGxpc3RfZGl2IHtcbiAgICAgIHdpZHRoOiA0NjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAgLmd3ZF93aXNobGlzdF90cmVuZCB7XG4gICAgICB3aWR0aDogMTI3cHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0gI2d3ZF9taW5pX2NvbXBhcmUuZ3dkX3dpc2hsaXN0X2NvbXBhcmUge1xuICAgICAgd2lkdGg6IDE1NXB4O1xuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmd3ZF93aXNobGlzdF9jb21wYXJlLm5vLWNvbS1pbmZvIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU5ZWI7XG4gICAgfVxuICAgIC5nd2Rfd2lzaGxpc3RfY29tcGFyZS5nd2Rfd2lzaGxpc3RfY29tcGFyZV9ob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlOWViO1xuICAgIH1cbiAgICAuZ3dkX3dpc2hsaXN0X2NvbXBhcmUubm8tY29tLWluZm8gLm1pbi1jb20tYm94IHNwYW4ge1xuICAgICAgY29sb3I6ICM5OTkhaW1wb3J0YW50O1xuICAgIH1cblxuICAgICN7e21pbmlkb219fS5hbGlzaXRlX3BhZ2UgLmd3ZF93aXNobGlzdF90cmVuZCB7XG4gICAgICB3aWR0aDogMjA1cHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fS5pZWhhY2sge1xuICAgICAgei1pbmRleDogOTk5OTk5OTk5OTtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19ICNnd2RfcHJpY2VfaGlzdG9yeV9idG4uX25vcHJpY2Uge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgY29sb3I6ICM5OTk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICAgIH1cbiAgICAjZ3dkX3ByaWNlX2hpc3RvcnlfYnRuLl9ub3ByaWNlIGVtIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAuc2h1eGlhbiB7XG4gICAgICB3aWR0aDogMnB4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uZ3dkX3dpc2hsaXN0X2RpdiBhI2d3ZF93aXNobGlzdF9idG4ge1xuICAgICAgd2lkdGg6IDEyN3B4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uZ3dkX3dpc2hsaXN0X2Rpdi5hbGlzaXRlX3BhZ2UgYSNnd2Rfd2lzaGxpc3RfYnRuIHtcbiAgICAgIHdpZHRoOiAyMDVweDtcbiAgICB9XG4gICAgLm1pbi1jb20tYm94IHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbiAgICAubWluaS1jb21wYXJlLWljb24ge1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAgIG1hcmdpbi10b3A6IDdweDtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC05cHggLTEwOXB4O1xuICAgIH1cbiAgICAuZ3dkX3dpc2hsaXN0X2NvbXBhcmVfaG92ZXIgLm1pbmktY29tcGFyZS1pY29uIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xMDlweDtcbiAgICB9XG4gICAgLmd3ZF93aXNobGlzdF9jb21wYXJlLm5vLWNvbS1pbmZvIC5taW5pLWNvbXBhcmUtaWNvbiB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzJweCAtMTA5cHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAuZ3dkX3dpc2hsaXN0X2J0biAucHJpY2UtdHJlbmQtaWNvbiB7XG4gICAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uYWxpc2l0ZV9wYWdlIC5nd2Rfd2lzaGxpc3RfYnRuIC5wcmljZS10cmVuZC1pY29uIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1N3B4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uZ3dkX3dpc2hsaXN0X2RpdiBhLmd3ZF93aXNobGlzdF9idG4ge1xuICAgICAgcGFkZGluZzogMHB4O1xuICAgIH1cbiAgICBhI2d3ZF93aXNobGlzdF9idG4gc3BhbiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLndlYnNpdGVfaWNvbiwgLmNvbGxlY3RfbWFpbG91dF9pY29uIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgXG4gICAgI3t7bWluaWRvbX19IC5nd2Rfd2Vic2l0ZXtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDQ4cHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAuZ3dkX3dlYnNpdGUgLndlYnNpdGVfaWNvbiB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTBweCAtMjhweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgLmNvbGxlY3RfbWFpbG91dF9pY29uIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMjRweCAtMzBweDtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgLmNvbGxlY3RfbWFpbG91dF9pY29uLmFkZHN1Y2Nlc3Mge1xuICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgfVxuICAgIC5jb2xsZWN0X21haWxvdXRfaWNvbi5jb2xsZWN0X2hvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNTVweCAtMzBweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19IGEuZ3dkX3dpc2hsaXN0X3RyZW5kX2hvdmVyIHtcbiAgICAgIC8qYm9yZGVyOiAxcHggc29saWQgIzE3OTBkZDsqL1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBiYWNrZ3JvdW5kOiAjZTZlOWViO1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0gI3RyZW5kX2RldGFpbF9yZW1haW5lZF9tZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fS5vbmVsaW5le1xuICAgICAgaGVpZ2h0OiA3NnB4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0udHdvbGluZXN7XG4gICAgICBoZWlnaHQ6IDEwNnB4O1xuICAgIH1cbiAgICAuZ3dkX3dpc2hsaXN0X2JveCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTYwcHg7XG4gICAgfVxuICAgIC5nd2RfbmV3ZWdnIC5nd2Rfd2lzaGxpc3RfYm94e1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMzZweDtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZThlOGU4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19Lm9uZWxpbmUgI2d3ZF9wcm9tb19ib3gge1xuICAgICAgaGVpZ2h0OiAzOXB4O1xuICAgIH1cbiAgICBcbiAgICAjZ3dkX3Byb21vX2JveCA+ZGl2IHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA0ODBweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgaGVpZ2h0OiA2OXB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19Lm9uZWxpbmUgI2d3ZF9wcm9tb19ib3ggZGl2IHtcbiAgICAgIGhlaWdodDogMzlweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19LnRpcmRsaW5lcyAjZ3dkX3Byb21vX2JveCBkaXYge1xuICAgICAgaGVpZ2h0OiA3NXB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCAucHJvbW9fYm94X2xlZnQgdWwge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogNDgwcHg7XG4gICAgICBoZWlnaHQ6IDY5cHg7XG4gICAgfVxuICAgIC5vbmVsaW5lICNnd2RfcHJvbW9fYm94IC5wcm9tb19ib3hfbGVmdCB1bCB7XG4gICAgICBoZWlnaHQ6IDM5cHg7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IGRpdiBsaSB7XG4gICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgIHdpZHRoOiAyMDJweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpLmxpXzAsICNnd2RfcHJvbW9fYm94IGRpdiBsaS5saV8xIHtcbiAgICAgIG1hcmdpbi10b3A6IDEzcHg7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IGRpdiBsaS5saV8wLCAjZ3dkX3Byb21vX2JveCBkaXYgbGkubGlfMiB7XG4gICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpLmxpXzEsICNnd2RfcHJvbW9fYm94IGRpdiBsaS5saV8zIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyOXB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCBkaXYgbGkubGlfMiwgI2d3ZF9wcm9tb19ib3ggZGl2IGxpLmxpXzN7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxM3B4O1xuICAgIH1cbiAgICAucHJvbW9fc2h1eGlhbiB7XG4gICAgICB3aWR0aDogMXB4O1xuICAgICAgbGVmdDogMjMwcHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlOGU4ZTg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuICAgIC5wcm9tb19zaHV4aWFuIHtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpIGEge1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgIGNvbG9yOiAjN2Q3ZTgwO1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCBkaXYgbGkgYS5wcm9tb19hZF9hIHtcbiAgICAgIHdpZHRoOiAxNTlweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpIGE6aG92ZXIge1xuICAgICAgY29sb3I6ICNlYzQ5NjY7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94ID5zcGFuIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZThlOGU4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgbWFyZ2luLXRvcDogMTNweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19Lm9uZWxpbmUgI2d3ZF9wcm9tb19ib3ggPnNwYW4ge1xuICAgICAgIGhlaWdodDogMTJweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggdWwgbGkgc3BhbntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VjNDk2NjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIG1hcmdpbi1yaWdodDogMTFweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggdWwgbGkgc3Bhbi5wcm9tb19hZF9zcGFuIHtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCB1bCBsaSAjZ3dkX21vYmlsZV9wcmljZSAubW9iaWxlX3RpdGxlLCAjZ3dkX3Byb21vX2JveCB1bCBsaSAjZ3dkX3dlaXhpbl9wcmljZSAud2VpeGluX3RpdGxle1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRhYWJlODtcbiAgICAgIHdpZHRoOiA2NnB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCB1bCBsaSAjZ3dkX21vYmlsZV9wcmljZSAubW9iaWxlX251bSwgI2d3ZF9wcm9tb19ib3ggdWwgbGkgI2d3ZF93ZWl4aW5fcHJpY2UgLndlaXhpbl9udW17XG4gICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgY29sb3I6ICNkODAwMDA7XG4gICAgICB3aWR0aDogYXV0bztcbiAgICAgIG1hcmdpbi1sZWZ0OiA2cHg7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IHVsIGxpICNnd2RfbW9iaWxlX3ByaWNlIC5tb2JpbGVfbnVtOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4ge1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgIH1cbiAgICAudHJlbmQtbWF4LW1pbi1wcmljZSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDMwcHg7XG4gICAgICBsZWZ0OiA3MHB4O1xuICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgfVxuICAgIC50cmVuZC1tYXgtbWluLXByaWNlLnJldmlld1Qge1xuICAgICAgdG9wOiA0MHB4O1xuICAgIH1cbiAgICAudHJlbmQtbWF4LW1pbi1wcmljZSBzcGFuIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICAgIC50LW1heC1wcmkge1xuICAgICAgY29sb3I6ICNlNDM5M2M7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIC50LW1pbi1wcmkge1xuICAgICAgY29sb3I6ICMzNWJkNjc7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9kZXRhaWxfYnRuIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogNzdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA3MHB4O1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4gc3Bhbi5wdC1zcDEge1xuICAgICAgbWFyZ2luLWxlZnQ6IDExMnB4O1xuICAgIH1cbiAgICBzcGFuLnByaWNlLXRyZW5kLXNwIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0zOHB4IC0zOHB4O1xuICAgIH1cbiAgICBzcGFuLnJldmlldy10cmVuZC1zcCB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzhweCAtNjJweDtcbiAgICB9XG4gICAgc3Bhbi5yZXZpZXctdHJlbmQtc3AubXNjbGljayB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzhweCAtODZweDtcbiAgICB9XG4gICAgLmJqZF9wbHRfYmcgdGQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgLmJqZF9wbHRfYmcgdGFibGUge1xuICAgICAgbWFyZ2luLXRvcDogMHB4O1xuICAgIH1cbiAgICAubm8tcmV2aWV3IHNwYW4ucmV2aWV3LXRyZW5kLXNwIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX2J0bi5uby1yZXZpZXcgc3Bhbi5wdC1zcDEge1xuICAgICAgbWFyZ2luLWxlZnQ6IDE4OHB4O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PlxuPC9kaXY+JzsKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoKCQkJZnVuY3Rpb24gYShlKSB7CgkJCQl2YXIgYSA9IG4oMTI2KTsKCQkJCXQoIiMiICsgaS5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKGYuY29tcGlsZShhKSh7CgkJCQkJcmVtbzogIueCueWHu+afpeeci+WFqOmDqOWAvOW+l+S5sOWVhuWTgSIsCgkJCQkJZGF0YTogZS5zbGljZSgwLCAzKSwKCQkJCQlzaXRlX2lkOiBoLAoJCQkJCXpoaVVybDogdSwKCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlciwKCQkJCQlpbWdfc2VydmVyOiBpLmNyYzY0ID8gaS5pbWc2NF9zZXJ2ZXIgOiBpLmltZ19zZXJ2ZXIsCgkJCQkJZXh0TmFtZTogaS5leHROYW1lLAoJCQkJCWFsaXNpdGU6IGkuYWxpU2l0ZSwKCQkJCQlleHRCcmFuZDogaS5leHRCcmFuZAoJCQkJfSkpLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikuc2hvdygpLCBpLmVkaXRPcmlnaW5hbCgiI3poaWRlbWFpLWl0ZW0tbGlzdCAuc21hbGwtaW1nIGltZyIpCgkJCX0KCgkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJdmFyIGEgPSBuKDEyNik7CgkJCQl0KCIjYmpkX2JvdHRvbV9kZXRhaWwiKS5hcHBlbmQoZi5jb21waWxlKGEpKHsKCQkJCQlyZW1vOiAi54K55Ye75p+l55yL5YWo6YOo5YC85b6X5Lmw5ZWG5ZOBIiwKCQkJCQlkYXRhOiBlLnNsaWNlKDAsIDMpLAoJCQkJCXNpdGVfaWQ6IGgsCgkJCQkJemhpVXJsOiB1LAoJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCWltZ19zZXJ2ZXI6IGkuY3JjNjQgPyBpLmltZzY0X3NlcnZlciA6IGkuaW1nX3NlcnZlciwKCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJYWxpc2l0ZTogaS5hbGlTaXRlLAoJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kCgkJCQl9KSksIHQoIi5jb20temRtIikuc2hvdygpLCBpLmVkaXRPcmlnaW5hbCgiI3poaWRlbWFpLWl0ZW0tbGlzdCAuc21hbGwtaW1nIGltZyIpCgkJCX0KCgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJMCAhPSBlICYmICh0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpLCAuY29tLXpkbSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaWYgKCJ0b3AiID09PSBpLnN0eWxlKSB7CgkJCQkJCXZhciBlID0gdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haSIpLm9mZnNldCgpLmxlZnQ7CgkJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikuY3NzKCJsZWZ0IiwgZSArICJweCIpLmNzcygicmlnaHQiLCAiYXV0byIpLCB0KHRoaXMpLmFkZENsYXNzKGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpX2hvdmVyIikKCQkJCQl9IGVsc2UgewoJCQkJCQl0KHRoaXMpLmFkZENsYXNzKCJ6ZG1fbXNfaG92ZXIiKTsKCQkJCQkJdmFyIGUgPSB0KCIuY29tLXpkbSIpLm9mZnNldCgpLmxlZnQ7CgkJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikuY3NzKCJsZWZ0IiwgZSAtIDIgKyAicHgiKQoJCQkJCX0KCQkJCQl0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpX2RldGFpbCAuYWxsLXByb2R1Y3RzIikuY3NzKCJ3aWR0aCIsIHQod2luZG93KS53aWR0aCgpIC0gODApLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpX2RldGFpbCIpLnNob3coKSwgZygicHJvZHVjdF9wYWdlX3poaWRlbWFpX3Nob3ciKSwgInRvcCIgPT09IGkuc3R5bGUgJiYgdCh3aW5kb3cpLndpZHRoKCkgLSAodCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vZmZzZXQoKS5sZWZ0ICsgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vdXRlcldpZHRoKCkgKyAyKSA8IDAgJiYgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5jc3MoInJpZ2h0IiwgIjBweCIpLmNzcygibGVmdCIsICJhdXRvIiksIChpLklFNyB8fCBpLklFOCkgJiYgdCh3aW5kb3cpLndpZHRoKCkgPCAxNTAwICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikuY3NzKCJyaWdodCIsICIwcHgiKS5jc3MoImxlZnQiLCAiYXV0byIpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haSwgLmNvbS16ZG0iKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQltID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJdChlKS5yZW1vdmVDbGFzcyhpLmV4dEJyYW5kICsgIl96aGlkZW1haV9ob3ZlciIpLnJlbW92ZUNsYXNzKCJ6ZG1fbXNfaG92ZXIiKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5oaWRlKCkKCQkJCQl9LCAyMDApCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChtKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQl0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikucmVtb3ZlQ2xhc3MoaS5leHRCcmFuZCArICJfemhpZGVtYWlfaG92ZXIiKSwgdCgiLmNvbS16ZG0iKS5yZW1vdmVDbGFzcygiemRtX21zX2hvdmVyIiksIHQodGhpcykuaGlkZSgpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlnKCJwcm9kdWN0X3BhZ2VfemhpZGVtYWlfY2xpY2siKQoJCQkJfSkpCgkJCX0KCgkJCWZ1bmN0aW9uIHMoZSkgewoJCQkJaS5hbGlTaXRlICYmIChlID0gImphdmFzY3JpcHQ6Iik7CgkJCQl2YXIgbiA9ICc8YSBpZD0iJyArIGkuZXh0QnJhbmQgKyAnX3poaWRlbWFpIiBzdHlsZT0iZGlzcGxheTpub25lIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIGUgKyAnIiB0aXRsZT0i54K55Ye75p+l55yL5YWo6YOo5YC85b6X5Lmw5ZWG5ZOBIj48c3BhbiBjbGFzcz0iemhpZGVtYWlfaWNvbiBuZXdiLWJnIj48L3NwYW4+PHNwYW4gY2xhc3M9InpoaWRlbWFpX3RleHQiPuWAvOW+l+S5sDwvc3Bhbj48L2E+JzsKCQkJCXQoIiNyaWdodF9pbmZvIikuYXBwZW5kKGYuY29tcGlsZShuKSh7fSkpCgkJCX0KCgkJCWZ1bmN0aW9uIGwoZSkgewoJCQkJInRvcCIgPT0gaS5zdHlsZSAmJiAidmlwc2hvcCIgIT0gaS5zaXRlICYmIHMoZSkKCQkJfQoKCQkJZnVuY3Rpb24gYyhlKSB7CgkJCQl1ID0gZS5saW5rLCBsKGUubGluayk7CgkJCQl2YXIgdCA9IGUuZGF0YSwKCQkJCQluID0gdC5sZW5ndGg7CgkJCQkidG9wIiA9PSBpLnN0eWxlICYmICJ2aXBzaG9wIiAhPSBpLnNpdGUgJiYgKGEodCksIHIobikpLCAiYm90dG9tIiA9PSBpLnN0eWxlICYmIChvKHQpLCByKG4pKSwgImx1eW91IiAhPSBpLmJ0eXBlICYmIGQodC5zbGljZSgwLCA0KSkKCQkJfQoKCQkJZnVuY3Rpb24gZChlKSB7CgkJCQlpZiAoZS5sZW5ndGggPSAwLCAwICE9IHQoIiMiICsgaS53aXNoZG9tMikubGVuZ3RoKSB7CgkJCQkJaWYgKDAgPT0gZS5sZW5ndGgpIHJldHVybiB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3pkbV9idG4iKS5vZmYoKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl93aXNobGlzdF96ZG1fYnRuIikuYXR0cigiaHJlZiIsIHUpLmF0dHIoInRpdGxlIiwgIueCueWHu+afpeeci+abtOWkmuWAvOW+l+S5sOWVhuWTgSIpLCB2b2lkIHQoIiMiICsgaS5leHRCcmFuZCArICJfd2lzaGxpc3RfemRtX2RldGFpbCIpLnJlbW92ZSgpOwoJCQkJCXZhciBhID0gbigxMjcpOwoJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfd2lzaGxpc3RfemRtX2RldGFpbCB1bCIpLmFwcGVuZChmLmNvbXBpbGUoYSkoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQlpbWdfc2VydmVyOiBpLmltZ19zZXJ2ZXIsCgkJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kCgkJCQkJfSkpLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3pkbV9idG4sIC4iICsgaS5leHRCcmFuZCArICJfemRtX21vcmVfbGluayIpLmF0dHIoImhyZWYiLCB1KQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBwKGUpIHsKCQkJCXZhciB0ID0geC5nZXQoImRwX2RhdGEiKSwKCQkJCQluID0gIjAiOwoJCQkJaS5hbGlTaXRlICYmIChuID0gIjEiKTsKCQkJCXZhciBhID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz16ZG0mc2l0ZV9pZD0iICsgaCArICImcHJpY2U9IiArIChpLmRwLnByaWNlIHx8IHQubm93LnByaWNlKSArICImbm9fYnJhbmQ9MSZjb3Jld29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQubm93LmNvcmV3b3JkKSArICImY2xhc3NfaWQ9IiArIHQubm93LmNsYXNzX2lkICsgIiZhbGlzaXRlPSIgKyBuOwoJCQkJXy5nZXQoYSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJdCAmJiB0LmRhdGEgJiYgZSh0KQoJCQkJfSkKCQkJfQoJCQl2YXIgaCwgdSwgbSwgZiA9IG4oMTYpLAoJCQkJZyA9IG4oMjYpLAoJCQkJXyA9IG4oOSksCgkJCQl4ID0gbig3MSk7CgkJCWUuZXhwb3J0cy5nZXRVcmwgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiB1CgkJCX0sIGUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHguZ2V0KCJkcF9kYXRhIik7CgkJCQlpLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCAidG1hbGwiID09IGkuc2l0ZSB8fCAoaCA9IGUubm93LnNpdGVfaWQsIHAoYykpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ7e2V4dEJyYW5kfX1femhpZGVtYWlfZGV0YWlsIiBjbGFzcz0iYmpkLXByb2R1Y3QtZGV0YWlsIj5cbiAgPHVsIGlkPSJ6aGlkZW1haS1pdGVtLWxpc3QiPlxuICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgIDxsaSBpZD0iemhpZGVtYWktcHJvZC1pdGVtLXt7JGluZGV4fX0iPlxuICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBjbGFzcz0ic21hbGwtaW1nIj5cbiAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2RlZmF1bHRfbG9hZF9pbWFnZS5wbmciIGlkPSJ6bWRfaW1nX3t7JGluZGV4fX0iIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgIDwvYT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ6ZG0tc3RvcmUtYm94Ij5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNpdGVfaWNvbiIgdGl0bGU9Int7JHZhbHVlLnNpdGVfbmFtZX19Ij48aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9mYXZpY29uL3t7JHZhbHVlLnNpdGVfaWR9fS5pY28iPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InpkbS1zdG9yZS10bGUiPnt7JHZhbHVlLnByaWNlX2luZm99fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxwIGNsYXNzPSJkcCI+XG4gICAgICAgICAgPCEtLSA8YSBocmVmPSIjIiBjbGFzcz0iemRtX3F1YW4iIHN0eWxlPSJ7eygkdmFsdWUuZGlzY291bnRfY29kZSAhPSBcJ1wnIHx8ICR2YWx1ZS5jb3Vwb25fdXJsID09IFwnXCcpP1wnZGlzcGxheTpub25lXCc6XCdcJ319Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJyZWRfYmciPumcgOeUqOWIuDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJxdWFuX2IiPueCueatpOmihuWIuDwvc3Bhbj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InpkbV9tYSIgc3R5bGU9Int7aWYgISR2YWx1ZS5kaXNjb3VudF9jb2RlfX1kaXNwbGF5Om5vbmU7e3svaWZ9fSI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0icmVkX2JnIj7pnIDnlKjnoIE8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0ibWFfbnVtIj57eyR2YWx1ZS5kaXNjb3VudF9jb2RlfX08L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPiAtLT5cbiAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fdGl0bGUiPnt7JHZhbHVlLnRpdGxlfX08L3NwYW4+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgPC9saT5cbiAgICB7ey9lYWNofX1cbiAgPC91bD5cbiAge3tpZiAhYWxpc2l0ZX19XG4gIDxhIGhyZWY9Int7emhpVXJsfX0iIGlkPSJ7e2V4dEJyYW5kfX1femRtX21vcmVsaW5rIiB0YXJnZXQ9Il9ibGFuayI+5p+l55yL5YWo6YOoPj48L2E+XG4gIHt7L2lmfX1cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAje3tleHRCcmFuZH19X3poaWRlbWFpX2RldGFpbCBzcGFuLnNpdGVfaWNvbiB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgICB9XG4gICAgLmJqZC1wcm9kdWN0LWRldGFpbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICBhI2d3ZF96ZG1fbW9yZWxpbmsge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAxMHB4O1xuICAgICAgcmlnaHQ6IDEzcHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzliOWI5YjtcbiAgICB9XG4gICAgYSNnd2RfemRtX21vcmVsaW5rOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjNWViZWZmO1xuICAgIH1cbiAgICAuemRtLXN0b3JlLWJveCB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2shaW1wb3J0YW50O1xuICAgIH1cbiAgICBzcGFuLnpkbS1zdG9yZS1ib3ggc3BhbiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnNpdGVfaWNvbiBpbWcge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC56ZG0tc3RvcmUtdGxlIHtcbiAgICAgIG1heC13aWR0aDogMTgwcHg7XG4gICAgICBoZWlnaHQ6IDE3cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgY29sb3I6ICNkMTA4MzEhaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbiAgPGxpIGNsYXNzPSJ7e2V4dEJyYW5kfX0tbGlzdC1pdGVtIGxpX3t7JGluZGV4fX0iPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcGljIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgPGltZyBzcmM9Imh0dHA6Ly97e2ltZ19zZXJ2ZXJ9fS9jX3pvb20sd185MC96aGlfe3skdmFsdWUuZHBfaWR9fS5wbmciID5cbiAgICA8L2E+XG4gICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fS1wcm9kdWN0LXRpdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiByZWw9Im5vcmVmZXJyZXIiPlxuICAgICAge3skdmFsdWUudGl0bGV9fVxuICAgIDwvYT5cbiAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIiA+XG4gICAgICB7eyR2YWx1ZS5wcmljZV9pbmZvfX1cbiAgICA8L3NwYW4+XG4gICAgXG4gIDwvbGk+XG57ey9lYWNofX1cbicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMTI5KSwKCQkJCXIgPSBuKDEzMCksCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmIChlICYmIDAgIT09IGUuYWQubGVuZ3RoKSB7CgkJCQkJCXZhciBuID0gdCgiPGxpPjwvbGk+Iik7CgkJCQkJCXQobikuYXBwZW5kKGEuY29tcGlsZShvKSh7CgkJCQkJCQlwcm9kdWN0OiBlLmFkWzBdCgkJCQkJCX0pKSwgdCgiI2d3ZF9sb3dwcmlfZGV0YWlsICNsb3dwcmktaXRlbS1saXN0IikuYXBwZW5kKHQobikpCgkJCQkJfQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUgJiYgMCAhPT0gZS5wcm9tby5sZW5ndGgpIHsKCQkJCQkJdmFyIG4gPSBlLnByb21vWzBdLAoJCQkJCQkJYSA9ICc8bGkgY2xhc3M9ImxpXzAiID48c3BhbiBjbGFzcz0icHJvbW9fYWRfc3BhbiI+54Ot5Y2WPC9zcGFuPiA8YSBjbGFzcz0icHJvbW9fYWRfYSIgaHJlZj0iJyArIG4udXJsICsgJyIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSInICsgbi50aXRsZSArICciPicgKyBuLnRpdGxlICsgIjwvYT48L2xpPiIsCgkJCQkJCQlvID0gdCgiLnByb21vX2JveF9sZWZ0IHVsIiksCgkJCQkJCQlyID0gdCgiLnByb21vX2JveF9sZWZ0IHVsIGxpW2RhdGEtdHlwZV0iKSwKCQkJCQkJCXMgPSByLmxlbmd0aDsKCQkJCQkJMCA9PT0gcyA/IChvLnByZXBlbmQodChhKSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCB0KCIjIiArIGkud2lzaGRvbTIpLmFkZENsYXNzKCJvbmVsaW5lIikpIDogci5hZnRlcih0KGEpKTsKCQkJCQkJZm9yICh2YXIgbCA9IG8uZmluZCgibGkiKSwgYyA9IDA7IGMgPiBsLmxlbmd0aDsgYysrKSBsLmVxKGMpLmF0dHIoImNsYXNzIiwgImxpXyIgKyBjKQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5yZW5kZXJMb3dlc3RBZCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXIuaW5pdCh7CgkJCQkJa2V5d29yZDogdCwKCQkJCQljbGFzc19pZDogZQoJCQkJfSwgcykKCQkJfSwgZS5leHBvcnRzLnJlbmRlcldpc2hsaXN0QWQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQlyLmluaXQoewoJCQkJCWtleXdvcmQ6IHQsCgkJCQkJY2xhc3NfaWQ6IGUKCQkJCX0sIGwpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICdcbiAgPGRpdiBpZD0icHJvZHVjdF9hZF9pdGVtIj5cbiAgICA8YSBjbGFzcz0iYWRfaXRlbV9pbWciIGhyZWY9Int7cHJvZHVjdC51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgPGltZyBzcmM9Int7cHJvZHVjdC5pbWd9fSI+XG4gICAgPC9hPlxuICAgIDxzcGFuIGNsYXNzPSJhZF9wcmljZWluZm8iPlxuICAgICAgPHNwYW4gY2xhc3M9Im5vd19wcmljZSI+wqUge3twcm9kdWN0LmRwX3ByaWNlfX08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0ib2xkX3ByaWNlIj7CpSB7e3Byb2R1Y3Qub3JpX3ByaWNlfX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICAgIDxhIGhyZWY9Int7cHJvZHVjdC51cmx9fSIgY2xhc3M9ImFkX3RsZSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7e3Byb2R1Y3QudGl0bGV9fSI+e3twcm9kdWN0LnRpdGxlfX08L2E+XG4gICAgPGEgaHJlZj0ie3twcm9kdWN0LnN0b3JlX3VybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImFkX3Nob3BfbmFtZSI+e3tpZiBwcm9kdWN0LnBsYXRmb3JtfX0ge3twcm9kdWN0LnBsYXRmb3JtICsgIu+8miJ9fSB7ey9pZn19e3twcm9kdWN0LnN0b3JlX25hbWV9fTwvYT5cbiAgICA8c3BhbiBjbGFzcz0ib3RoZXJfZGVzYyI+XG4gICAgICA8c3BhbiBjbGFzcz0iYWRfZGlzY291bnQiPnt7cHJvZHVjdC5kaXNjb3VudH195oqYPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9ImFkX2ZvcmVpZ2giPnt7cHJvZHVjdC5mcmVpZ2h0dGxlfX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJ0dWlndWFuZ19saW5rIiA+5o6o5bm/PC9zcGFuPlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjcHJvZHVjdF9hZF9pdGVtIHtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAjcHJvZHVjdF9hZF9pdGVtID4gKiAsICNwcm9kdWN0X2FkX2l0ZW0gLmFkX2l0ZW1faW1ne1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIC5hZF9pdGVtX2ltZyB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHdpZHRoOiAxODBweDtcbiAgICAgIGhlaWdodDogOTBweDtcblxuICAgIH1cbiAgICAjcHJvZHVjdF9hZF9pdGVtIC5hZF9wcmljZWluZm8ge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgbWFyZ2luLXRvcDogM3B4O1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgICNwcm9kdWN0X2FkX2l0ZW0gLmFkX3RsZXtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIGRpdiNwcm9kdWN0X2FkX2l0ZW0gLmFkX3Nob3BfbmFtZSB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjpsZWZ0O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgICAjcHJvZHVjdF9hZF9pdGVtIC5hZF9wcmljZWluZm8gLm5vd19wcmljZSB7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG4gICAgI3Byb2R1Y3RfYWRfaXRlbSAuYWRfcHJpY2VpbmZvIC5vbGRfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM5OTk7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICB9XG4gICAgI3Byb2R1Y3RfYWRfaXRlbSAub3RoZXJfZGVzYyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICB9XG4gICAgI3Byb2R1Y3RfYWRfaXRlbSAuYWRfZGlzY291bnQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0U1MjYwMDtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gICAgfVxuICAgICNwcm9kdWN0X2FkX2l0ZW0gLmFkX2ZvcmVpZ2gge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFNTI2MDA7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICB9XG4gICAgZGl2I3Byb2R1Y3RfYWRfaXRlbSBzcGFuLnR1aWd1YW5nX2xpbmsge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgY29sb3I6ICNiYmI7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgdG9wOiAwcHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICA8L3N0eWxlPlxuJwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig5KSwKCQkJCWEgPSB2b2lkIDAsCgkJCQlvID0gdm9pZCAwLAoJCQkJciA9IHZvaWQgMCwKCQkJCXMgPSBbXSwKCQkJCWwgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJZSA9IGUgfHwge307CgkJCQkJdmFyIGwgPSBlLmtleXdvcmQgfHwgIiIsCgkJCQkJCWQgPSBlLmNsYXNzX2lkIHx8ICIiLAoJCQkJCQlwID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9hLiIgKyB0LmV4dE5hbWUgKyAiLmNvbS9jZ2kvZ2V0P2NhdGVnb3J5PSIgKyBkICsgIiZrZXl3b3JkPSIgKyBlbmNvZGVVUklDb21wb25lbnQobCkgKyAiJmxvY2F0ZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYpOwoJCQkJCWkuZ2V0KHApLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZSAmJiAoZS5hZC5sZW5ndGggPiAwIHx8IGUucHJvbW8ubGVuZ3RoID4gMCkpIHsKCQkJCQkJCWlmIChlID0gYyhlKSwgbihlKSwgbyA9IGUsIHMubGVuZ3RoID4gMCkKCQkJCQkJCQlmb3IgKHZhciB0ID0gMDsgdCA8IHMubGVuZ3RoOyB0KyspIHNbdF0oZSk7CgkJCQkJCQlyID0gITAKCQkJCQkJfQoJCQkJCX0pLCBhID0gITAKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmIChlLmFkLmxlbmd0aCA+IDApCgkJCQkJCWZvciAodmFyIHQgPSAwOyB0IDwgZS5hZC5sZW5ndGg7IHQrKykgIjEiID09IGUuYWRbdF0uZnJlaWdodCAmJiAoZS5hZFt0XS5mcmVpZ2h0dGxlID0gIuWMhemCriIpLCAiMCIgPT0gZS5hZFt0XS5kaXNjb3VudCAmJiAoZS5hZFt0XS5kaXNjb3VudCA9IChlLmFkW3RdLmRwX3ByaWNlIC8gZS5hZFt0XS5vcmlfcHJpY2UgKiAxMCkudG9GaXhlZCgxKSksIGUuYWRbdF0uZHBfcHJpY2UgPSAoTnVtYmVyKGUuYWRbdF0uZHBfcHJpY2UpIC8gMTAwKS50b0ZpeGVkKDIpLCBlLmFkW3RdLm9yaV9wcmljZSA9IChOdW1iZXIoZS5hZFt0XS5vcmlfcHJpY2UpIC8gMTAwKS50b0ZpeGVkKDIpOwoJCQkJCXJldHVybiBlCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWlmICh0KSB7CgkJCQkJaWYgKG8pIHJldHVybiB2b2lkIHQobyk7CgkJCQkJYSA/IHMucHVzaCh0KSA6IGwoZSwgdCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWlmICghciAmJiAodCAmJiB0KCksIHMpKQoJCQkJCQkJZm9yICh2YXIgZSA9IDA7IGUgPCBzLmxlbmd0aDsgZSsrKSBzW2VdKCkKCQkJCQl9LCA0ZTMpCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSBuKDkpLAoJCQkJciA9IG4oMTgpLAoJCQkJcyA9IG4oODEpLAoJCQkJbCA9IHZvaWQgMCwKCQkJCWMgPSB2b2lkIDAsCgkJCQlkID0gdm9pZCAwLAoJCQkJcCA9IHZvaWQgMCwKCQkJCWggPSB2b2lkIDAsCgkJCQl1ID0gdm9pZCAwLAoJCQkJbSA9ICJ0YW9iYW8iID09IHQuc2l0ZSB8fCAidG1hbGwiID09IHQuc2l0ZSB8fCB0LnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSwKCQkJCWYgPSB7CgkJCQkJMTogIuS6mumprOmAiiIsCgkJCQkJMzogIuS6rOS4nOWVhuWfjiIsCgkJCQkJMjogIuW9k+W9k+e9kSIsCgkJCQkJMzE6ICLkuIDlj7flupciLAoJCQkJCTI1OiAi6IuP5a6B5piT6LStIgoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIG8gPSBuKDEzMiksCgkJCQkJCXIgPSBhLmNvbXBpbGUobykoewoJCQkJCQkJZGF0YTogZSwKCQkJCQkJCWFsaXNpdGU6IG0sCgkJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlciwKCQkJCQkJCWNfc2VydmVyOiB0LmNfc2VydmVyLAoJCQkJCQkJZXh0TmFtZTogdC5leHROYW1lCgkJCQkJCX0pOwoJCQkJCXUgPSBlLmxlbmd0aCwgaSgiIyIgKyB0Lndpc2hkb20yKS5hZnRlcihyKSwgaSgiLmJqZC15aWZlbnFpYW4tYm94IikuYWRkQ2xhc3MoInlpZmVucWlhbnNob3ciKSwgdSA+IDEgJiYgKGMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJdihlLmxlbmd0aCkKCQkJCQl9LCA2ZTMpLCBoID0gITAsIHcoKSksICJrYW9sYSIgPT09IHQuc2l0ZSAmJiBpKCIjYmpkX3lpZmVucWlhbl9kZXRhaWwgLnlmcS1wcmkiKS5jc3MoewoJCQkJCQlwb3NpdGlvbjogInJlbGF0aXZlIiwKCQkJCQkJdG9wOiAiLTJweCIKCQkJCQl9KQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbihlKSB7CgkJCQkJbCA9ICF0LnNpdGVfaWQgJiYgKHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpID8gIjgzIiA6IHQuc2l0ZV9pZDsKCQkJCQlmb3IgKHZhciBuID0gW10sIGkgPSBbXSwgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7CgkJCQkJCWlmIChlW2FdLnByaWNlID0gKE51bWJlcihlW2FdLnByaWNlKSAvIDEwMCkudG9GaXhlZCgyKSwgIjgzIiA9PT0gZVthXS5zaXRlX2lkKSB7CgkJCQkJCQl2YXIgbyA9IHsKCQkJCQkJCQlzb3VyY2U6ICJ5aWZlbnFpYW4iLAoJCQkJCQkJCWltZ191cmw6IGVbYV0uaW1nX3VybCwKCQkJCQkJCQl0aXRsZTogZVthXS50aXRsZSwKCQkJCQkJCQlwcmljZTogZVthXS5wcmljZSwKCQkJCQkJCQlzaG9wX25hbWU6ICIiLAoJCQkJCQkJCXNhbGVzOiAiIiwKCQkJCQkJCQlpZDogZVthXS51cmxfY3JjLAoJCQkJCQkJCXVybDogZVthXS51cmwsCgkJCQkJCQkJZGlzY3VzczogIiIsCgkJCQkJCQkJaXN0YW9iYW86ICIwIiwKCQkJCQkJCQlkcF9pZDogZVthXS51cmxfY3JjICsgIi0iICsgZVthXS5zaXRlX2lkLAoJCQkJCQkJCXNpdGVfaWQ6ICI4MyIKCQkJCQkJCX07CgkJCQkJCQltIHx8IChlW2FdLnVybCA9IHMobykpCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl2YXIgbyA9IHsKCQkJCQkJCQlzaXRlX2lkOiBlW2FdLnNpdGVfaWQsCgkJCQkJCQkJdXJsOiBlW2FdLnVybCwKCQkJCQkJCQltb2Q6ICJ5aWZlbnFpYW4iLAoJCQkJCQkJCXVuaW9uOiB0LnVuaW9uLnNwbGl0KCJfIilbMV0sCgkJCQkJCQkJZHBfaWQ6IGVbYV0udXJsX2NyYyArICItIiArIGVbYV0uc2l0ZV9pZAoJCQkJCQkJfTsKCQkJCQkJCWVbYV0udXJsID0gci5pbml0KG8pLCBlW2FdLnRpdGxlID0gZltlW2FdLnNpdGVfaWRdICsgIiZuYnNwOyZuYnNwOyIgKyBlW2FdLnRpdGxlCgkJCQkJCX0KCQkJCQkJZVthXS5zaXRlX2lkID09IGwgPyBuLnB1c2goZVthXSkgOiBpLnB1c2goZVthXSkKCQkJCQl9CgkJCQkJcmV0dXJuIG4uY29uY2F0KGkpCgkJCQl9LAoJCQkJeCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9ICIwIjsKCQkJCQkodC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgdC5zaXRlLmluZGV4T2YoInRtYWxsIikgPiAtMSkgJiYgKG4gPSAiMSIpOwoJCQkJCXZhciBpID0gdC5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz15aWZlbnFpYW4mYWxpc2l0ZT0iICsgbjsKCQkJCQlvLmdldChpKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJdCAmJiB0Lmxlbmd0aCA+IDAgJiYgKHQgPSBfKHQpLCBlKHQpKQoJCQkJCX0pCgkJCQl9LAoJCQkJdyA9IGZ1bmN0aW9uKCkgewoJCQkJCWkoIi5iamQteWlmZW5xaWFuLWJveCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbChjKSwgaCA9ICExCgkJCQkJCX0sIDIwMCkKCQkJCQl9KSwgaSgiLmJqZC15aWZlbnFpYW4tYm94Iikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGQpLCBjbGVhclRpbWVvdXQocCksIGggfHwgKGggPSAhMCwgcCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl2KHUpCgkJCQkJCX0sIDUwMCksIGMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXYodSkKCQkJCQkJfSwgNmUzKSkKCQkJCQl9KQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbihlKSB7CgkJCQkJMSAhPT0gZSAmJiBpKCIuYmpkLXlpZmVucWlhbi1ib3ggbGkiKS5lYWNoKGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJdmFyIGEgPSBpKG4pLmNzcygidG9wIikubWF0Y2goLyg/Oi18KVxkKy8pOwoJCQkJCQlhICYmIChhID0gcGFyc2VJbnQoYVswXSkpLCAwID4gYSA/IChhID0gMzQgKiAoZSAtIDEpLCBhIC09IDM0LCBpKG4pLmNzcygidG9wIiwgYSArICJweCIpKSA6IChhICUgMzQgIT09IDAgPyBhID0gMzQgKiBNYXRoLmZsb29yKGEgLyAzNCkgOiBhIC09IDM0LCBpKG4pLmFuaW1hdGUoewoJCQkJCQkJdG9wOiBhICsgInB4IgoJCQkJCQl9LCA1MDApKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJIjM2MGJ1eS1yZSIgIT09IHQuc2l0ZSAmJiAodC5mb3JiaWRZRlEgfHwgdC5JRTcgfHwgeChnKSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImJqZF95aWZlbnFpYW5fZGV0YWlsIiBjbGFzcz0iYmpkLXlpZmVucWlhbi1ib3giPlxuICA8dWw+XG4gICAge3tlYWNoIGRhdGF9fVxuICAgIDxsaSBzdHlsZT0idG9wOiB7eyRpbmRleCozNH19cHg7Ij5cbiAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2Zhdmljb24ve3skdmFsdWUuc2l0ZV9pZH19LmljbyIgPlxuICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJ5ZnEtdGxlIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gICAgICA8c3BhbiBjbGFzcz0ieWZxLXByaSI+77+le3skdmFsdWUucHJpY2V9fTwvc3Bhbj5cbiAgICAgIFxuICAgIDwvbGk+XG4gICAge3svZWFjaH19XG4gIDwvdWw+XG4gIHt7aWYgIWFsaXNpdGV9fVxuICA8YSBocmVmPSJodHRwczovL3d3dy57e2V4dE5hbWV9fS5jb20vcHJvbW90aW9uL3poaT9pc190ZWppYT0xIiBjbGFzcz0ieWZxLW1vcmUiIHRhcmdldD0iX2JsYW5rIj7mm7TlpJo+IDwvYT5cbiAge3svaWZ9fVxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC5iamQteWlmZW5xaWFuLWJveCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICB7e2lmIGFsaXNpdGV9fVxuICAgICNiamRfeWlmZW5xaWFuX2RldGFpbCB1bCBsaSAueWZxLXRsZSB7XG4gICAgICB3aWR0aDogMzU0cHg7XG4gICAgfVxuICAgIHt7L2lmfX1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IGZ1bmN0aW9uKGUsIG4sIGkpIHsKCQkJCQl2YXIgYSA9ICc8bGkgY2xhc3M9ImxpXzAiIGRhdGEtdHlwZT0ibW9iIj48YSBocmVmPSInICsgZSArICciIHRpdGxlPSLotK3nianlhZrlsIbluKbmgqjliY3lvoDnp7vliqjniYjpobXpnaLvvIzku6XkuJPkuqvku7fotK3kubDllYblk4EiIHRhcmdldD0iX2JsYW5rIiBpZD0iJyArIHQuZXh0QnJhbmQgKyAnX21vYmlsZV9wcmljZSIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBjbGFzcz0ibW9iaWxlX3RpdGxlIiA+56e75Yqo5LiT5LqrPC9zcGFuPjxzcGFuIGNsYXNzPSJtb2JpbGVfbnVtIj7vv6UnICsgbiArICI8L3NwYW4+PC9hPjwvbGk+IjsKCQkJCQlyKGEpCgkJCQl9LAoJCQkJYSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9ICc8bGkgY2xhc3M9ImxpXzAiIGRhdGEtdHlwZT0ibW9iIj48YSBpZD0iJyArIHQuZXh0QnJhbmQgKyAnX3dlaXhpbl9wcmljZSIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBjbGFzcz0id2VpeGluX3RpdGxlIiA+5b6u5L+h5omr56CBPC9zcGFuPjxzcGFuIGNsYXNzPSJ3ZWl4aW5fbnVtIj7vv6UnICsgZSArICI8L3NwYW4+PC9hPjwvbGk+IjsKCQkJCQlyKG4pCgkJCQl9LAoJCQkJbyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgaSA9ICc8ZGl2IGlkPSJ3eF9xcmNvZGUiPlxuICAgICAgICAgICAgICAgIDxzcGFuPuaJk+W8gOW+ruS/oeaJq+S4gOaJqzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJyArIGUgKyAnIiBhbHQ9IuW+ruS/oeS7t+agvOS6jOe7tOeggSIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+JzsKCQkJCQluKCIjIiArIHQud2lzaGRvbTIpLmFwcGVuZChuKGkpKQoJCQkJfSwKCQkJCXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIGkgPSAiIyIgKyB0Lndpc2hkb20yOwoJCQkJCW4oIi5wcm9tb19ib3hfbGVmdCB1bCIpLnByZXBlbmQobihlKSk7CgkJCQkJZm9yICh2YXIgYSA9IG4oIi5wcm9tb19ib3hfbGVmdCB1bCBsaSIpLCBvID0gYS5sZW5ndGgsIHIgPSAwOyBvID4gcjsgcisrKSBhLmVxKHIpLmF0dHIoImNsYXNzIiwgImxpXyIgKyByKTsKCQkJCQkzID4gbyA/IChuKGkpLmFkZENsYXNzKCJvbmVsaW5lIiksIG4oIiMiICsgdC5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCAxID09IG8gJiYgbigiLnByb21vX3NodXhpYW4iKS5oaWRlKCkpIDogbihpKS5yZW1vdmVDbGFzcygib25lbGluZSIpLmFkZENsYXNzKCJ0d29saW5lcyIpCgkJCQl9LAoJCQkJcyA9IGZ1bmN0aW9uKCkgewoJCQkJCW4oIiNnd2Rfd2VpeGluX3ByaWNlIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJbigiI3d4X3FyY29kZSIpLnNob3coKQoJCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW4oIiN3eF9xcmNvZGUiKS5oaWRlKCkKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQlpZiAoZS5tb2JpbGUpIHsKCQkJCQlpZiAodC5JRTcgfHwgdC5JRTggfHwgdC5JRTkgfHwgdC5JRTEwKSByZXR1cm47CgkJCQkJaShlLm1vYmlsZS5saW5rLCBlLm1vYmlsZS5wcmljZSwgbikKCQkJCX0gZWxzZSBlLndlaXhpbiAmJiAoYShlLndlaXhpbi5wcmljZSksIG8oZS53ZWl4aW4ucXJfY29kZV9saW5rKSwgcygpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iYmpkX21pbmlmYXZvcl9jb250ZW50IiAge3tpZiBjaG9vc2VkIH19Y2xhc3M9ImJqZF9jaG9vc2VkIiB7ey9pZn19PlxuICA8ZGl2IGNsYXNzPSJiamQtbG9naW4tYm94Ij5cbiAgICA8ZGl2IGNsYXNzPSJsb2dpbi1sZWZ0Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWlucHV0Ij5cbiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiICBpZD0idXNlcm5hbWUiIGF1dG9jb21wbGV0ZT0ib2ZmIiBwbGFjZWhvbGRlcj0i6YKu566xIj5cbiAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzc3dvcmQiIHBsYWNlaG9sZGVyPSLlr4bnoIEiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL2ZvcmdvdF9wd2QvIiB0YXJnZXQ9Il9ibGFuayI+5b+Y6K6w5a+G56CBPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICA8L2Rpdj5cbiAgICAgIDxzcGFuIGlkPSJsb2dpbkNsaWNrQnRuIiBzZT7nmbvlvZU8L3NwYW4+XG4gICAgICA8YSBocmVmPSJodHRwczovL3d3dy57e2V4dE5hbWV9fS5jb20vdXNlci9yZWdpc3RlciIgY2xhc3M9InF1aWNrLXJlZyIgdGFyZ2V0PSJfYmxhbmsiPuW/q+mAn+azqOWGjDwvYT5cbiAgICAgIDxzcGFuIGlkPSJsb2dpbl9yZW1pbmRfdGxlIj7otKblj7fmiJblr4bnoIHplJnor6/vvIzor7fph43mlrDovpPlhaXvvIE8L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0ibG9naW4tcmlnaHQiPlxuICAgICAgPGRpdiBjbGFzcz0ic3AtYm9yZGVyIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9Im90aGVyLWxvZ2luLXN0eWxlIj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cue3tleHROYW1lfX0uY29tL3VzZXIvb2F1dGgvP3BsPTcmb3A9bG9naW4mZnJvbV91cmw9e3t1cmx9fSIgY2xhc3M9InFxbG9naW4iID48L2E+XG4gICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL29hdXRoaC8/cGw9MiZvcD1sb2dpbiZmcm9tX3VybD17e3VybH19IiBjbGFzcz0ic2luYWxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgICA8YSBocmVmPSJodHRwczovL29wZW4ud2VpeGluLnFxLmNvbS9jb25uZWN0L3FyY29ubmVjdD9hcHBpZD13eDM0MDA2YzE0MWY5ZGFhM2EmcmVzcG9uc2VfdHlwZT1jb2RlJnNjb3BlPXNuc2FwaV9sb2dpbiZzdGF0ZT0yY2VkOTcwZDViOTc2ODBlOTU2NzBhNDhkMTEwMjYxMSZyZWRpcmVjdF91cmk9aHR0cCUzQSUyRiUyRnd3dy57e2V4dE5hbWV9fS5jb20lMkZ1c2VyJTJGd2VjaGF0X29hdXRoJTJGJTNGcGwlM0Q5JTI2b3AlM0Rsb2dpbiUyNmZyb21fdXJsJTNEe3t1cmx9fSIgY2xhc3M9IndlaXhpbmxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJiamQtamlhbmdqaWEtcmUiPlxuICAgIDxkaXYgY2xhc3M9ImppYW5namlhLWxlZnQiPlxuICAgICAgPGRpdiBjbGFzcz0iamotcmVtaW5kIj5cbiAgICAgICAgPHA+6ZmN5Lu35o+Q6YaSPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InNlbGVjdC1pdGVtIG1pbmktYmcge3tpZiBub3RpZnlfc2l0ZSA9PSBcJzBcJ319c2VsZWN0ZWQge3svaWZ9fSIgIGRhdGEtdHlwZT0iMCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPuWFqOe9keWVhuWutuS9juS6jjwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9Int7YWxscHJpY2V9fSI+XG4gICAgICAgICAgPHNwYW4+5YWD5pe25o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gcmVtaW5kLWl0ZW0tc25kIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ic2VsZWN0LWl0ZW0gbWluaS1iZyB7e2lmIG5vdGlmeV9zaXRlID09IFwnMVwnfX1zZWxlY3RlZCB7ey9pZn19IiBkYXRhLXR5cGU9IjEiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj7lvZPliY3llYblrrbkvY7kuo48L3NwYW4+XG4gICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSJ7e25vd3ByaWNlfX0iPlxuICAgICAgICAgIDxzcGFuPuWFg+aXtuaPkOmGkjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt7aWYgbG93ZXN0VXJsfX1cbiAgICAgICAgPGEgY2xhc3M9ImpqLXJlbWluZC1sb2dvIG1pbmktYmciIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7e2xvd2VzdFVybH19Ij48L2E+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0iamotc3R5bGUiPlxuICAgICAgICA8cD7mj5DphpLmlrnlvI88L3A+XG4gICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InNlbGVjdC1pdGVtIG1pbmktYmcge3tpZiByZW1pbmRfdHlwZSA9PSBcJzBcJ319c2VsZWN0ZWQge3svaWZ9fSIgZGF0YS10eXBlPSIwIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+5YWz5rOo5b6u5L+h6K6i6ZiF5Y+377yM5b6u5L+h5o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gamotcmVtaW5kLWl0ZW0tc25kIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ic2VsZWN0LWl0ZW0gbWluaS1iZyB7e2lmIHJlbWluZF90eXBlID09IFwnMVwnfX1zZWxlY3RlZCB7ey9pZn19IiBkYXRhLXR5cGU9IjEiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj7pgq7nrrHmj5DphpI8L3NwYW4+XG4gICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSJ7e2VtYWlsdmFsdWV9fSIgY2xhc3M9InJlLW1haWwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHNwYW4gaWQ9ImVycm9yX3JlbWluZF90bGUiPuivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgDwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJzdWJidG4iIGNsYXNzPSJzdWJidG4iPuaPkOS6pDwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJlZGl0X3JlX3N0eWxlIj7mm7TmlLnku7fmoLzmj5DphpLmlrnlvI88L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iamlhbmdqaWEtcmlnaHQiPlxuICAgICAgPHNwYW4gY2xhc3M9Im1ndG9wIj7lvq7kv6Hmn6Xor6I8L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPSJxcmNvZGUtamoiPlxuICAgICAgICA8aW1nIHNyYz0iaHR0cDovL2Nkbi57e2V4dE5hbWV9fS5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL21pbmlfZmF2b3Jfd3hfcXJjb2RlLmpwZyI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwIGNsYXNzPSJmaXJzdC1wIj7miavnoIHlhbPms6jlvq7kv6Hlj7c8L3A+XG4gICAgICA8cD7llYblk4HpmY3ku7flrp7ml7bmj5DphpI8L3A+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC5iamQtamlhbmdqaWEtcmUge1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAge3tpZiAhZW1haWx9fVxuICAgICAgZGlzcGxheTpub25lOyBcbiAgICAgIHt7L2lmfX1cbiAgICB9XG4gICAgLmJqZC1sb2dpbi1ib3gge1xuICAgICAge3tpZiBlbWFpbH19XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAge3svaWZ9fVxuICAgIH1cbiAgICAuamlhbmdqaWEtcmlnaHQgLm1ndG9wIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxOHB4O1xuICAgIH1cbiAgICAjYmpkX21pbmlmYXZvcl9jb250ZW50ICN1c2VybmFtZSB7XG4gICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDM2cHg7XG4gICAgfVxuICAgICNiamRfbWluaWZhdm9yX2NvbnRlbnQgI3Bhc3N3b3JkIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzNnB4O1xuICAgICAgbWFyZ2luLXRvcDogMjJweDtcbiAgICB9XG4gICAgI2JqZF9taW5pZmF2b3JfY29udGVudCAubG9naW4taW5wdXQge1xuICAgICAgbWFyZ2luLXRvcDogMTZweDtcbiAgICB9XG4gICAgI2JqZF9taW5pZmF2b3JfY29udGVudCAubG9naW4taW5wdXQsICNiamRfbWluaWZhdm9yX2NvbnRlbnQgI2xvZ2luQ2xpY2tCdG4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNiamRfbWluaWZhdm9yX2NvbnRlbnQgLmxvZ2luLWlucHV0IGRpdiB7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICB9XG4gICAgI2JqZF9taW5pZmF2b3JfY29udGVudCAucXVpY2stcmVnIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgIH1cbiAgICAjYmpkX21pbmlmYXZvcl9jb250ZW50IC5vdGhlci1sb2dpbi1zdHlsZSB7XG4gICAgICBwYWRkaW5nOiA1OXB4IDA7XG4gICAgfVxuICAgICNsb2dpbkNsaWNrQnRuIHtcbiAgICAgIG1vei11c2VyLXNlbGVjdDogLW1vei1ub25lO1xuICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1vLXVzZXItc2VsZWN0Om5vbmU7XG4gICAgICAta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTtcbiAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDpub25lO1xuICAgICAgdXNlci1zZWxlY3Q6bm9uZTtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDEzNiksCgkJCQlvID0gbigxNiksCgkJCQlyID0gbigxMTkpLAoJCQkJcyA9IG4oOSksCgkJCQlsID0ge30sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI2xvZ2luLXJlbWluZCBwIikuY3NzKCJjb2xvciIsICIjRDEwODMxIikKCQkJCX0sCgkJCQlkID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gZSwKCQkJCQkJYSA9IHQgfHwgIiIsCgkJCQkJCW8gPSBpLmNfc2VydmVyICsgIi9hcGkvcmVtaW5kX3NldHRpbmc/YWN0aW9uPXNldCZlbWFpbD0iICsgaS5lbWFpbCArICImc2V0dGluZ190eXBlPSIgKyBuICsgIiZyZW1pbmRfZW1haWw9IiArIGE7CgkJCQkJcy5nZXQobykKCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJdCgiI2Zhdm9yX2JveCAuYmFyLWppYW5namlhLXJlIC5zZWxlY3QtaXRlbSIpLm9mZigiY2xpY2siLCBjKSwgdCgiI2Zhdm9yX2JveCAuYmFyLWppYW5namlhLXJlIC5zZWxlY3QtaXRlbSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5zZWxlY3QtaXRlbSIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCB0KHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCB0KHRoaXMpLmhhc0NsYXNzKCJxcmNvZGUtaXRlbSIpID8gdCgiI3JlbWluZF9xcmNvZGVfaW1nIikuc2hvdygpIDogdCh0aGlzKS5oYXNDbGFzcygiZW1haWwtaXRlbSIpICYmIHQoIiNyZW1pbmRfcXJjb2RlX2ltZyIpLmhpZGUoKQoJCQkJCX0pLCB0KCIjYmFyX3N1YmJ0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IHQoIiNmYXZvcl9ib3giKS5oYXNDbGFzcygiZmF2b3JfY2hvb3NlZCIpLAoJCQkJCQkJYSA9IHQoIiNmYXZvcl9ib3ggLmpqLXJlbWluZCAuc2VsZWN0LWl0ZW0uc2VsZWN0ZWQiKSwKCQkJCQkJCW8gPSBhLmF0dHIoImRhdGEtdHlwZSIpLAoJCQkJCQkJcyA9IGEucGFyZW50KCkuZmluZCgiaW5wdXQiKS52YWwoKTsKCQkJCQkJaWYgKCFzIHx8ICIwIiA9PT0gcykgcmV0dXJuIHZvaWQgdCgiLmVycm9yX3JlbWluZCIpLnNob3coKS5mYWRlT3V0KDJlMyk7CgkJCQkJCWlmICghbikgewoJCQkJCQkJdmFyIGwgPSB2b2lkIDAsCgkJCQkJCQkJYyA9IHQoIiNmYXZvcl9ib3ggLmpqLXN0eWxlIC5zZWxlY3QtaXRlbS5zZWxlY3RlZCIpLmF0dHIoImRhdGEtdHlwZSIpOwoJCQkJCQkJIjEiID09PSBjICYmIChsID0gdCgiI2Zhdm9yX2JveCAuamotc3R5bGUgLnJlLW1haWwiKS52YWwoKSksIGQoYywgbCksIHQoIiNmYXZvcl9ib3giKS5hZGRDbGFzcygiZmF2b3JfY2hvb3NlZCIpLCB0KCIjZWRpdF9yZW1pbmRfc3R5bGUsICNyZW1pbmRfcXJjb2RlIikuc2hvdygpCgkJCQkJCX0KCQkJCQkJdCgiIyIgKyBpLmV4dE5hbWUgKyAiLXRyZW5kLWRldGFpbCIpLmhpZGUoKSwgdCgiI3JlbWluZF9xcmNvZGVfaW1nIikuaGlkZSgpLCBlID0gITEsIHIuYWRkX2Zhdm9yKG8sIHMpCgkJCQkJfSksIHQoIiNyZW1pbmRfcXJjb2RlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPyAodCgiI3JlbWluZF9xcmNvZGVfaW1nIikuaGlkZSgpLCBlID0gITEpIDogKHQoIiNyZW1pbmRfcXJjb2RlX2ltZyIpLnNob3coKSwgZSA9ICEwKQoJCQkJCX0pLCB0KCIjZWRpdF9yZW1pbmRfc3R5bGUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdCgiI2Zhdm9yX2JveCIpLnJlbW92ZUNsYXNzKCJmYXZvcl9jaG9vc2VkIiksIHQoIiNlZGl0X3JlbWluZF9zdHlsZSIpLmhpZGUoKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMubG9naW5SZW5kZXJUb3AgPSBmdW5jdGlvbigpIHsKCQkJCXQoIiNsb2dpbi1yZW1pbmQiKS5oaWRlKCksIHAoKSwgdSgpCgkJCX07CgkJCXZhciBoID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI2xvZ2luLXJlbWluZCAuZ29fbG9naW5fYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiNsb2dpbi1yZW1pbmQgcCIpLmNzcygiY29sb3IiLCAiIzliOWI5YiIpLCB0KCIjbG9naW4tcmVtaW5kIikuaGlkZSgpLCB0KCIubG9naW4tY29udGVudCIpLnNob3coKS5hbmltYXRlKHsKCQkJCQkJCXJpZ2h0OiAiMHB4IgoJCQkJCQl9LCA1MDApCgkJCQkJfSksIHQoIiNsb2dpbkNsaWNrQnRuQmFyIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdCgiI2JhcnVzZXJuYW1lIikudmFsKCksCgkJCQkJCQluID0gdCgiI2JhcnBhc3N3b3JkIikudmFsKCk7CgkJCQkJCXJldHVybiBlICYmIG4gPyB2b2lkIHIudXNlckxvZ2luKGUsIG4sIGZ1bmN0aW9uKCkgewoJCQkJCQkJcCgpLCB1KCkKCQkJCQkJfSkgOiB2b2lkIHQoIiNsb2dpbl9yZW1pbmRfdGxlLCAjbG9naW5fcmVtaW5kX3RsZV9iYXIiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKS5mYWRlT3V0KDVlMykKCQkJCQl9KSwgdCgiI2xvZ19iYWNrX2J0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCIjbG9naW4tcmVtaW5kIikuc2hvdygpLCB0KCIubG9naW4tY29udGVudCIpLmFuaW1hdGUoewoJCQkJCQkJcmlnaHQ6ICItMjkycHgiCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQl0KCIubG9naW4tY29udGVudCIpLmhpZGUoKQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gImh0dHBzOi8vd3d3Lmd3ZGFuZy5jb20vY29sbGVjdC9nZXRfcXJjb2RlLz9lbWFpbD0iICsgaS5lbWFpbDsKCQkJCQlzLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdCgiI3JlbWluZF9xcmNvZGVfaW1nIGltZyIpLmF0dHIoInNyYyIsIGUuaW1nX3VybCksIHQoIi5xcmNvZGUtamogaW1nIikuYXR0cigic3JjIiwgZS5pbWdfdXJsKSwgdCgiI3JlbWluZF9xcmNvZGUiKS5zaG93KCkKCQkJCQl9KQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIG4gPSB2b2lkIDAsCgkJCQkJCXIgPSB2b2lkIDAsCgkJCQkJCXMgPSB2b2lkIDAsCgkJCQkJCWMgPSBpLmVtYWlsLAoJCQkJCQlkID0gaS5zYXZlX2RwX3F1ZXJ5OwoJCQkJCWlmIChkLm5vdy5ub3dfZHBfaWQpIHsKCQkJCQkJdmFyIGggPSBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZiksCgkJCQkJCQltID0gaS5kcC5vbGRQcmljZSB8fCBkLm5vdy5wcmljZSB8fCBpLmRwLnByaWNlOwoJCQkJCQlpLmFsaVNpdGUgJiYgKG0gPSBpLmRwLnByaWNlKTsKCQkJCQkJdmFyIGYgPSBkLmIyYy5taW5fcHJpY2UgfHwgbTsKCQkJCQkJbSA9IE51bWJlcihtLnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsICIiKSksIGYgPSBOdW1iZXIoZi50b1N0cmluZygpLnJlcGxhY2UoIiwiLCAiIikpLCBkLmIyYy5wcm9kdWN0ICYmIChzID0gZC5iMmMucHJvZHVjdFswXS51cmwpLCBpLmFsaVNpdGUgJiYgKHMgPSAiamF2YXNjcmlwdDoiKSwgZS5oYXNfcmVtaW5kX3R5cGUgJiYgKG4gPSAhMCksIGUuaXNfY29sbGVjdGVkICYmIChsLmlzX2NvbGxlY3RlZCA9IGUuaXNfY29sbGVjdGVkLCAiMSIgPT09IGUubm90aWZ5X3NpdGUgPyBtID0gZS5yZW1pbmRfcHJpY2UgOiBmID0gZS5yZW1pbmRfcHJpY2UpLCBsLm5vdGlmeV9zaXRlID0gZS5ub3RpZnlfc2l0ZSB8fCAiMSIsIHIgPSBlLnJlbWluZF90eXBlIHx8ICIwIiwgaS5lbWFpbC5pbmRleE9mKGkuZXh0TmFtZSArICIuY29tIikgPiAtMSAmJiAoYyA9ICIiKTsKCQkJCQkJdmFyIGcgPSBvLmNvbXBpbGUoYSkoewoJCQkJCQkJY2hvb3NlZDogbiwKCQkJCQkJCWlzbG9naW46ICEwLAoJCQkJCQkJZW1haWw6IGkuZW1haWwsCgkJCQkJCQllbWFpbHZhbHVlOiBjLAoJCQkJCQkJdXJsOiBoLAoJCQkJCQkJYWxpU2l0ZTogaS5hbGlTaXRlLAoJCQkJCQkJbG93ZXN0VXJsOiBzLAoJCQkJCQkJbm90aWZ5X3NpdGU6IGwubm90aWZ5X3NpdGUsCgkJCQkJCQlub3dwcmljZTogbSwKCQkJCQkJCWFsbHByaWNlOiBmLAoJCQkJCQkJcmVtaW5kX3R5cGU6IHIsCgkJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJCQltb25leTogbC5tb25leSwKCQkJCQkJCWxhc3RwcmljZTogbC5ub3dwcmljZSwKCQkJCQkJCXByaWNlX3JhbmdlOiBsLnByaWNlX3JhbmdlCgkJCQkJCX0pOwoJCQkJCQl0KGwuZG9tKS5hcHBlbmQoZyksIHAoKSwgdSgpCgkJCQkJfQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIHIgPSB2b2lkIDAsCgkJCQkJCXMgPSBpLmRwLnByaWNlLAoJCQkJCQlkID0gaS5zYXZlX2RwX3F1ZXJ5OwoJCQkJCWQuYjJjLnByb2R1Y3QgJiYgKHIgPSBkLmIyYy5wcm9kdWN0WzBdLnVybCk7CgkJCQkJdmFyIHAgPSBvLmNvbXBpbGUoYSkoewoJCQkJCQllbWFpbDogaS5lbWFpbCwKCQkJCQkJZW1haWx2YWx1ZTogIiIsCgkJCQkJCWxvd2VzdFVybDogciwKCQkJCQkJbm90aWZ5X3NpdGU6ICIwIiwKCQkJCQkJbm93cHJpY2U6IGwubm93cHJpY2UsCgkJCQkJCWFsbHByaWNlOiBzLAoJCQkJCQlyZW1pbmRfdHlwZTogIjAiLAoJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJCW1vbmV5OiBuLAoJCQkJCQlhbGlTaXRlOiBpLmFsaVNpdGUsCgkJCQkJCWxhc3RwcmljZTogbC5ub3dwcmljZSwKCQkJCQkJcHJpY2VfcmFuZ2U6IGwucHJpY2VfcmFuZ2UKCQkJCQl9KTsKCQkJCQl0KGUpLmFwcGVuZChwKSwgdCgiI2Zhdm9yX2JveCAuYmFyLWppYW5namlhLXJlIC5zZWxlY3QtaXRlbSIpLm9uKCJjbGljayIsIGMpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUsIHQsIGEpIHsKCQkJCWlmIChsLm5vd3ByaWNlID0gTnVtYmVyKGEuc3RvcmVbMF0uY3VycmVudF9wcmljZSksIGwucHJpY2VfcmFuZ2UgPSBhLnN0b3JlWzBdLnByaWNlX3JhbmdlLnJlcGxhY2UoIi0iLCAiIH4gIiksIGwuZG9tID0gZSwgbC5tb25leSA9IHQsIGkuZW1haWwpIHRyeSB7CgkJCQkJbigxMTkpLmdldFJlbWluZFN0eWxlKG0pCgkJCQl9IGNhdGNoIChvKSB7fSBlbHNlIGYoZSwgdCk7CgkJCQloKCkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImZhdm9yX2JveCIge3tpZiBjaG9vc2VkIH19Y2xhc3M9ImZhdm9yX2Nob29zZWQiIHt7L2lmfX0+XG4gIDxkaXYgY2xhc3M9ImxvZ2luLWNvbnRlbnQgIj5cbiAgICA8ZGl2IGNsYXNzPSJiamQtbG9naW4tYm94Ij5cbiAgICA8ZGl2IGNsYXNzPSJsb2dpbi1sZWZ0Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWlucHV0Ij5cbiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiICBpZD0iYmFydXNlcm5hbWUiIHBsYWNlaG9sZGVyPSLpgq7nrrEiPlxuICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJiYXJwYXNzd29yZCIgcGxhY2Vob2xkZXI9IuWvhueggSI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cue3tleHROYW1lfX0uY29tL3VzZXIvZm9yZ290X3B3ZC8iIHRhcmdldD0iX2JsYW5rIj7lv5jorrDlr4bnoIE8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgIDwvZGl2PlxuICAgICAgPHNwYW4gaWQ9ImxvZ2luQ2xpY2tCdG5CYXIiPueZu+W9lTwvc3Bhbj5cbiAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL3JlZ2lzdGVyIiBjbGFzcz0icXVpY2stcmVnIiB0YXJnZXQ9Il9ibGFuayI+5b+r6YCf5rOo5YaMPC9hPlxuICAgICAgPHNwYW4gaWQ9ImxvZ2luX3JlbWluZF90bGVfYmFyIj7otKblj7fmiJblr4bnoIHplJnor6/vvIzor7fph43mlrDovpPlhaXvvIE8L3NwYW4+XG4gICAgICA8c3BhbiBpZD0ibG9nX2JhY2tfYnRuIj48L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0ibG9naW4tcmlnaHQiPlxuICAgICAgPGRpdiBjbGFzcz0ic3AtYm9yZGVyIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9Im90aGVyLWxvZ2luLXN0eWxlIj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cue3tleHROYW1lfX0uY29tL3VzZXIvb2F1dGgvP3BsPTcmb3A9bG9naW4mZnJvbV91cmw9e3t1cmx9fSIgY2xhc3M9InFxbG9naW4iID48L2E+XG4gICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL29hdXRoaC8/cGw9MiZvcD1sb2dpbiZmcm9tX3VybD17e3VybH19IiBjbGFzcz0ic2luYWxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgICA8YSBocmVmPSJodHRwczovL29wZW4ud2VpeGluLnFxLmNvbS9jb25uZWN0L3FyY29ubmVjdD9hcHBpZD13eDM0MDA2YzE0MWY5ZGFhM2EmcmVzcG9uc2VfdHlwZT1jb2RlJnNjb3BlPXNuc2FwaV9sb2dpbiZzdGF0ZT0yY2VkOTcwZDViOTc2ODBlOTU2NzBhNDhkMTEwMjYxMSZyZWRpcmVjdF91cmk9aHR0cCUzQSUyRiUyRnd3dy57e2V4dE5hbWV9fS5jb20lMkZ1c2VyJTJGd2VjaGF0X29hdXRoJTJGJTNGcGwlM0Q5JTI2b3AlM0Rsb2dpbiUyNmZyb21fdXJsJTNEe3t1cmx9fSIgY2xhc3M9IndlaXhpbmxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iYmFyLWppYW5namlhLXJlIj5cbiAgICA8ZGl2IGNsYXNzPSJwcmljZS1oZWFkIj5cbiAgICAgIDxkaXYgY2xhc3M9ImhlYWQtaXRlbSBub3ctcHJpLWRpdiI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJyZS1zdHJvbmciPuW9k+WJjeS7t+agvO+8mjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InJlLXByaWNlIj57e21vbmV5fX17e2xhc3RwcmljZX19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSJoZWFkLWl0ZW0gaGlzLXByaS1kaXYiPlxuICAgICAgICA8c3BhbiBjbGFzcz0icmUtc3Ryb25nIj7ljoblj7Lku7fmoLzvvJo8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJyZS1wcmljZS1udW0iPnt7bW9uZXl9fXt7cHJpY2VfcmFuZ2V9fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImpqLXJlbWluZCI+XG4gICAgICAgIDxwPumZjeS7t+aPkOmGkjwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gcmVtaW5kLWl0ZW0tZnN0Ij5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ic2VsZWN0LWl0ZW0gbWluaS1iZyB7e2lmIG5vdGlmeV9zaXRlID09IFwnMFwnfX1zZWxlY3RlZCB7ey9pZn19IiAgZGF0YS10eXBlPSIwIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+5YWo572R5ZWG5a625L2O5LqOe3ttb25leX19PC9zcGFuPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0ie3thbGxwcmljZX19Ij5cbiAgICAgICAgICA8c3Bhbj7ml7bmj5DphpI8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSByZW1pbmQtaXRlbS1zbmQiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJzZWxlY3QtaXRlbSBtaW5pLWJnIHt7aWYgbm90aWZ5X3NpdGUgPT0gXCcxXCd9fXNlbGVjdGVkIHt7L2lmfX0iIGRhdGEtdHlwZT0iMSI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPuW9k+WJjeWVhuWutuS9juS6jnt7bW9uZXl9fTwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9Int7bm93cHJpY2V9fSI+XG4gICAgICAgICAgPHNwYW4+5pe25o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3tpZiBhbGxwcmljZSAmJiAhYWxpU2l0ZSAmJiBsb3dlc3RVcmx9fVxuICAgICAgICA8YSBjbGFzcz0iamotcmVtaW5kLWxvZ28yIGhhc3VybCBtaW5pLWJnIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0ie3tsb3dlc3RVcmx9fSI+PC9hPlxuICAgICAgICB7e2Vsc2UgaWYgIWFsaVNpdGUgJiYgIWFsbHByaWNlfX1cbiAgICAgICAgICA8YSBjbGFzcz0iamotcmVtaW5kLWxvZ28iID48L2E+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0iamotc3R5bGUiPlxuICAgICAgICA8cD7mj5DphpLmlrnlvI88L3A+XG4gICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InFyY29kZS1pdGVtIHNlbGVjdC1pdGVtIG1pbmktYmcge3tpZiByZW1pbmRfdHlwZSA9PSBcJzBcJ319c2VsZWN0ZWQge3svaWZ9fSIgZGF0YS10eXBlPSIwIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+5YWz5rOo5b6u5L+h6K6i6ZiF5Y+377yM5b6u5L+h5o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gcmVtaW5kLWl0ZW0tc25kIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0iZW1haWwtaXRlbSBzZWxlY3QtaXRlbSBtaW5pLWJnIHt7aWYgcmVtaW5kX3R5cGUgPT0gXCcxXCd9fXNlbGVjdGVkIHt7L2lmfX0iIGRhdGEtdHlwZT0iMSI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPumCrueuseaPkOmGkjwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9Int7ZW1haWx2YWx1ZX19IiBjbGFzcz0icmUtbWFpbCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICAgPHNwYW4gaWQ9ImJhcl9zdWJidG4iIGNsYXNzPSJzdWJidG4iPuaPkOS6pDwvc3Bhbj5cbiAgICAgIDxkaXYgaWQ9ImxvZ2luLXJlbWluZCIgY2xhc3M9Int7aWYgaXNsb2dpbn19IGxvZ2luZWQge3svaWZ9fSI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJnb19sb2dpbl9idG4iPuWOu+eZu+W9lTwvc3Bhbj5cbiAgICAgICAgPHA+55m75b2V6LSm5oi377yM5Y+K5pe26I635Y+W5ZWG5ZOB6ZmN5Lu35L+h5oGv5o+Q6YaSPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiBjbGFzcz0iZXJyb3JfcmVtaW5kIj7or7fovpPlhaXmraPnoa7moLzlvI/llYblk4Hku7fmoLw8L3NwYW4+XG4gICAgICA8c3BhbiBpZD0iZWRpdF9yZW1pbmRfc3R5bGUiPuabtOaUueS7t+agvOaPkOmGkuaWueW8jzwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJyZW1pbmRfcXJjb2RlIiBjbGFzcz0ie3tpZiBpc2xvZ2lufX0gbG9naW5lZCB7ey9pZn19IiBub3M+5b6u5L+h5LqM57u056CBPC9zcGFuPlxuICAgICAgPGRpdiBpZD0icmVtaW5kX3FyY29kZV9pbWciPlxuICAgICAgICA8aW1nIHNyYz0iIiBhbHQ9IuS6jOe7tOeggSI+XG4gICAgICAgIDxwPui0reeJqeWFmuavlOS7tzwvcD5cbiAgICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjZmF2b3JfYm94IC5lcnJvcl9yZW1pbmQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiA5N3B4O1xuICAgICAgbGVmdDogMTAycHg7XG4gICAgICBmb250LXNpemU6IDEycHghaW1wb3J0YW50O1xuICAgICAgY29sb3I6ICNFRjExMzchaW1wb3J0YW50O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2Zhdm9yX2JveC5mYXZvcl9jaG9vc2VkIC5lcnJvcl9yZW1pbmQge1xuICAgICAgYm90dG9tOiA2OXB4O1xuICAgICAgbGVmdDogOTVweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICB3aWR0aDogMzIwcHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlYWVhZWE7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5sb2dpbi1jb250ZW50IHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBoZWlnaHQ6IDI2MHB4O1xuICAgICAgd2lkdGg6IDMyMHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMHB4O1xuICAgICAgcmlnaHQ6IC0yOTJweDtcbiAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5sb2dpbi1jb250ZW50IC5sb2dpbi1yaWdodCB7XG4gICAgICB3aWR0aDogODZweDtcbiAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgfVxuICAgIC5sb2dpbi1jb250ZW50IC5vdGhlci1sb2dpbi1zdHlsZSB7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIHBhZGRpbmc6IDM0cHggMDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgIH1cbiAgICAubG9naW4tY29udGVudCAubG9naW4tbGVmdCB7XG4gICAgICB3aWR0aDogMjI2cHg7XG4gICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgIH1cbiAgICAubG9naW4tY29udGVudCAub3RoZXItbG9naW4tc3R5bGUgYSB7XG4gICAgICBtYXJnaW46IDEwcHggMHB4O1xuICAgIH1cbiAgICAubG9naW4tY29udGVudCAubG9naW4taW5wdXQgaW5wdXQge1xuICAgICAgd2lkdGg6IDE0OHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIzcHg7XG4gICAgICBtYXJnaW4tdG9wOiAyMnB4O1xuICAgIH1cbiAgICAjYmpkLW5vdGlmaWVyIC5wcmljZS10cmVuZCBkaXYuY2hhcnQge1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lIWltcG9ydGFudDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAucHJpY2UtaGVhZCB7XG4gICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5oZWFkLWl0ZW0ge1xuICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICBoZWlnaHQ6IDE0cHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAuaGVhZC1pdGVtIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmhlYWQtaXRlbTphZnRlciB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNvbnRlbnQ6ICIiO1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmhpcy1wcmktZGl2IHtcbiAgICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAubG9naW4taW5wdXQgZGl2IGEge1xuICAgICAgY29sb3I6ICM4MmMwZTA7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmxvZ2luLWlucHV0IGRpdiB7XG4gICAgICBwYWRkaW5nLXRvcDogM3B4O1xuICAgICAgcGFkZGluZy1yaWdodDogMjdweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCBhLnF1aWNrLXJlZyB7XG4gICAgICBjb2xvcjogIzVjYzJmYjtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDkwcHg7XG4gICAgfVxuICAgICNsb2dfYmFja19idG4ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxMHB4O1xuICAgICAgbGVmdDogMTBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMThweDtcbiAgICAgIHdpZHRoOiAxOHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwnaHR0cHM6Ly9jZG4uZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvbG9naW4tZGVsZXRlLnBuZ1wnKSBuby1yZXBlYXQgMHB4IDBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI2xvZ2luQ2xpY2tCdG5CYXIge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICB3aWR0aDogODBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQ3QkVGRTtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA3MnB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbWFyZ2luLXRvcDogMjNweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAubG9naW4taW5wdXQge1xuICAgICAgbWFyZ2luLXRvcDogMTdweDtcbiAgICB9XG5cbiAgICAjZmF2b3JfYm94IHNwYW4ucmUtc3Ryb25nIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjMmYzNzM1O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTNweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAucmUtcHJpY2UtbnVtIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICM0NTRBNEQ7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggc3Bhbi5yZS1wcmljZSB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI0QxMDgzMTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5zZWxlY3QtaXRlbSB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0M3B4IC0xMHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLnNlbGVjdC1pdGVtLnNlbGVjdGVkIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0yNjlweCAtMTBweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAuamotcmVtaW5kPnAsICNmYXZvcl9ib3ggLmpqLXN0eWxlPnAge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEzcHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmpqLXN0eWxlPnAge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICB9XG4gICAgLmpqLXN0eWxlIC5yZW1pbmQtaXRlbS1zbmQge1xuICAgICAgbWFyZ2luLXRvcDogMTFweDtcbiAgICB9XG4gICAgLmZhdm9yX2Nob29zZWQgIC5qai1yZW1pbmQge1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgIGhlaWdodDogMTAycHg7XG4gICAgfVxuICAgIC5mYXZvcl9jaG9vc2VkIC5yZW1pbmQtaXRlbS1mc3Qge1xuICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIycHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLnJlbWluZC1pdGVtIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgIH1cbiAgICAucmVtaW5kLWl0ZW0tc25kIHtcbiAgICAgIG1hcmdpbi10b3A6IDExcHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3guZmF2b3JfY2hvb3NlZCAuamotcmVtaW5kIC5qai1yZW1pbmQtbG9nbyB7XG4gICAgICB0b3A6IDE2cHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3guZmF2b3JfY2hvb3NlZCAuamotcmVtaW5kIC5qai1yZW1pbmQtbG9nbzIge1xuICAgICAgdG9wOiAxMnB4O1xuICAgIH1cbiAgICAuZmF2b3JfY2hvb3NlZCBzcGFuLnN1YmJ0biB7XG4gICAgICBtYXJnaW4tdG9wOiAyNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDEzNnB4O1xuICAgIH1cbiAgICAuamotc3R5bGUge1xuICAgICAgaGVpZ2h0OiA3M3B4O1xuICAgIH1cbiAgICAuZmF2b3JfY2hvb3NlZCAuamotc3R5bGUge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAuamotcmVtaW5kIC5qai1yZW1pbmQtbG9nbyB7XG4gICAgICB0b3A6IC00cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCdodHRwczovL2Nkbi5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci9yZW1pbmRfcHJpY2UucG5nXCcpIG5vLXJlcGVhdCAwcHggMHB4O1xuICAgICAgd2lkdGg6IDEyNXB4O1xuICAgICAgbGVmdDogMTEzcHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmpqLXJlbWluZCAuamotcmVtaW5kLWxvZ28yIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjVweDtcbiAgICAgIHdpZHRoOiAxMTBweDtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMjJweCAtNzRweDtcbiAgICAgIGxlZnQ6IDExNnB4O1xuICAgICAgdG9wOiAtMnB4O1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5qai1yZW1pbmQgLmpqLXJlbWluZC1sb2dvMjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOHB4IC03NHB4O1xuICAgIH1cbiAgICAucmVtaW5kLWl0ZW0tZnN0IHtcbiAgICAgIG1hcmdpbi10b3A6IDEzcHg7XG4gICAgfVxuICAgICNsb2dpbi1yZW1pbmQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7XG4gICAgICBoZWlnaHQ6IDExMXB4O1xuICAgICAgd2lkdGg6IDMxOXB4O1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICByaWdodDogMHB4O1xuICAgIH1cbiAgICAjbG9naW4tcmVtaW5kLmxvZ2luZWQge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2xvZ2luLXJlbWluZCAuZ29fbG9naW5fYnRuIHtcbiAgICAgIHdpZHRoOiA3MHB4O1xuICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI2cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWViZWZmO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIG1hcmdpbjogMzBweCAwcHggMHB4IDEzMHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAjbG9naW4tcmVtaW5kIC5nb19sb2dpbl9idG46aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM3OTBlMTtcbiAgICB9XG4gICAgI2xvZ2luLXJlbWluZCBwIHtcbiAgICAgIGNvbG9yOiAjOWI5YjliO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgbWFyZ2luLXRvcDogNjhweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHdpZHRoOiAzMjBweDtcbiAgICB9XG4gICAgLmxvZ2luLWNvbnRlbnQgLnNwLWJvcmRlciB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggMTZweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgIH1cbiAgICAjZWRpdF9yZW1pbmRfc3R5bGUsICNyZW1pbmRfcXJjb2Rle1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmZhdm9yX2Nob29zZWQgI2VkaXRfcmVtaW5kX3N0eWxlIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGUubG9naW5lZHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgI2VkaXRfcmVtaW5kX3N0eWxlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJvdHRvbTogMTFweDtcbiAgICAgIGxlZnQ6IDE0cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzVlYmVmZjtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGUge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiA3cHg7XG4gICAgICByaWdodDogMzhweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjNWViZWZmO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgLW1vei11c2VyLXNlbGVjdDogLW1vei1ub25lO1xuICAgICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cbiAgICAuZmF2b3JfY2hvb3NlZCAjcmVtaW5kX3FyY29kZSB7XG4gICAgICBib3R0b206IDExcHg7XG4gICAgICByaWdodDogMTRweDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5O1xuICAgIH1cbiAgICAjcmVtaW5kX3FyY29kZV9pbWcge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICBoZWlnaHQ6IDEzNHB4O1xuICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgYm90dG9tOiAzNnB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMWUxZTE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAxNXB4IDAgcmdiYSgyMywyNSwyNywwLjE1KTtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGVfaW1nIGltZyB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGVfaW1nOmJlZm9yZSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNvbnRlbnQ6ICIiO1xuICAgICAgaGVpZ2h0OiAwcHg7XG4gICAgICB3aWR0aDogMHB4O1xuICAgICAgYm9yZGVyOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItdG9wLWNvbG9yOiAjOTk5O1xuICAgICAgYm9yZGVyLXJpZ2h0LXdpZHRoOiA3cHg7XG4gICAgICBib3JkZXItbGVmdC13aWR0aDogN3B4O1xuICAgICAgdG9wOiAxMzVweDtcbiAgICAgIHJpZ2h0OiA1MnB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIH1cbiAgICAjcmVtaW5kX3FyY29kZV9pbWc6YWZ0ZXIge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBjb250ZW50OiAiIjtcbiAgICAgIGhlaWdodDogMHB4O1xuICAgICAgd2lkdGg6IDBweDtcbiAgICAgIGJvcmRlcjogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlci1yaWdodC13aWR0aDogOHB4O1xuICAgICAgYm9yZGVyLWxlZnQtd2lkdGg6IDhweDtcbiAgICAgIHRvcDogMTM0cHg7XG4gICAgICByaWdodDogNTFweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGVfaW1nIHAge1xuICAgICAgdGV4dC1hbGlnbjoganVzdGlmeTtcbiAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgcGFkZGluZzogMHB4IDZweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjOGQ4ZDhkO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiAtOHB4O1xuICAgIH1cbiAgICAjcmVtaW5kX3FyY29kZV9pbWcgcDphZnRlcntcbiAgICAgIGNvbnRlbnQ6Ii4iO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6MTAwJTtcbiAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIGhlaWdodDowO1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5xcWxvZ2luIHtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHghaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2Pic7Cgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICd7e2VhY2ggZGF0YX19XG48bGkgY2xhc3M9Int7ZXh0QnJhbmR9fS1saXN0LWl0ZW0iIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj5cbiAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fS1mYXZvci1waWMiIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+XG4gICAgPGltZyBzcmM9Imh0dHA6Ly9icm93c2VyLnt7ZXh0TmFtZX19LmNvbS90ZW1wbGF0ZS9hdWcvaW1hZ2VzL25ldy8xMjAuZ2lmIiBkYXRhLW9yaWdpbmFsPSJ7eyR2YWx1ZS5waWNfdXJsfX0iIGRfd2lkdGg9IjYwIiBkX2hlaWdodD0iNjAiIGlkPSJ7e2V4dE5hbWV9fS1mYXZvci1kcHt7JHZhbHVlLmRwX2lkfX0iPjwvYT5cbiAgICA8cCBjbGFzcz0ie3tleHRCcmFuZH19LWZhdm9yLXByb2R1Y3QtdGl0bGUiPlxuICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIj57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgIDwvcD5cbiAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIHt7ZXh0QnJhbmR9fS1mYXZvci1wcmljZSI+XG4gICAgICB7eyR2YWx1ZS5uZXdQcmljZX19XG4gICAgICB7e2lmICR2YWx1ZS5oYXNwcmljZX19XG4gICAgICA8ZW0+ICZuYnNwO+i1tzwvZW0+XG4gICAgICB7ey9pZn19XG4gICAgPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tZGVsIHt7ZXh0QnJhbmR9fS1ncmF5IiBkcF9pZD0ie3skdmFsdWUuZHBfaWR9fSI+5YigJm5ic3A76ZmkPC9zcGFuPlxuICA8L2xpPlxuICB7ey9lYWNofX0nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuZXcgRGF0ZSwKCQkJCQlpID0gdm9pZCAwLAoJCQkJCXIgPSBuKDEzOSksCgkJCQkJcyA9IG4oNDApLAoJCQkJCWwgPSBuKDE0MCksCgkJCQkJYyA9IG4oNiksCgkJCQkJZCA9IG4oMTE4KSwKCQkJCQlwID0gbigxNiksCgkJCQkJaCA9IG4oMTMpLAoJCQkJCXUgPSBuKDI2KSwKCQkJCQltID0gbig5MiksCgkJCQkJZiA9ICExLAoJCQkJCWcgPSAi576O5YWDIiwKCQkJCQlfID0gMSwKCQkJCQl4ID0gMCwKCQkJCQl3ID0gODY0ZTUsCgkJCQkJdiA9IDEwLAoJCQkJCWIgPSAzLAoJCQkJCXkgPSAhMSwKCQkJCQlrID0gdm9pZCAwLAoJCQkJCXogPSB2b2lkIDAsCgkJCQkJQiA9ICExLAoJCQkJCWogPSB2b2lkIDAsCgkJCQkJQyA9IHZvaWQgMDsKCQkJCWEuU1ZHUmVuZGVyZXIucHJvdG90eXBlLnN5bWJvbHMucmVjdCA9IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQlyZXR1cm4gWyJNIiwgZSAtIDIsIHQsICJMIiwgZSArIDksIHQsICJMIiwgZSArIDksIHQgKyA1LCAiTCIsIGUgLSAyLCB0ICsgNSwgIloiXQoJCQkJfSwgYS5TVkdSZW5kZXJlci5wcm90b3R5cGUuc3ltYm9scy5zbWFsbFJlY3QgPSBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJcmV0dXJuIFsiTSIsIGUgLSAyLCB0LCAiTCIsIGUgKyA5LCB0LCAiWiJdCgkJCQl9LCBhLndyYXAoYS5Ub29sdGlwLnByb3RvdHlwZSwgImhpZGUiLCBmdW5jdGlvbihlKSB7CgkJCQkJZS5hcHBseSh0aGlzKSwgdGhpcy5jaGFydC50b29sdGlwLm9wdGlvbnMub25IaWRlLmFwcGx5KHRoaXMpCgkJCQl9KTsKCQkJCXZhciBTID0gewoJCQkJCWZvbGRlZDogInNtYWxsUmVjdCIsCgkJCQkJZXh0ZW5kZWQ6ICJyZWN0IgoJCQkJfTsKCQkJCShvLklFNyB8fCBvLklFOCkgJiYgKFMuZm9sZGVkID0gImNpcmNsZSIsIFMuZXh0ZW5kZWQgPSAiY2lyY2xlIik7CgkJCQl2YXIgTiA9ICJwbG90QWxsIiwKCQkJCQlUID0gITEsCgkJCQkJUCA9IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IFtdLAoJCQkJCQkJdCA9IHsKCQkJCQkJCQlpbkxpc3Q6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQkJcmV0dXJuIGUuaW5kZXhPZih0KSA+IC0xCgkJCQkJCQkJfSwKCQkJCQkJCQlhZGQ6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQkJQiAmJiBUIHx8IGUuaW5kZXhPZih0KSA+IC0xIHx8IGUucHVzaCh0KQoJCQkJCQkJCX0sCgkJCQkJCQkJcmVtb3ZlOiBmdW5jdGlvbih0KSB7CgkJCQkJCQkJCXZhciBuID0gZS5pbmRleE9mKHQpOwoJCQkJCQkJCQluID4gLTEgJiYgZS5zcGxpY2UobiwgMSkKCQkJCQkJCQl9CgkJCQkJCQl9OwoJCQkJCQlyZXR1cm4gdAoJCQkJCX0oKSwKCQkJCQlJID0gZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0ge307CgkJCQkJCWVbIuivhOiuuuaVsCJdID0gIiNjYTYwYTYiOwoJCQkJCQl2YXIgdCA9IFsiIzQ1YjdmNSIsICIjZWI0NmViIiwgIiNmZmFkMDYiLCAiIzIxYzFkYiIsICIjYjg4YWU2IiwgIiNiMzcwMzYiLCAiI2I5ZGIwZiIsICIjZmZkOTFjIl0sCgkJCQkJCQluID0gMDsKCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKGkpIHsKCQkJCQkJCXJldHVybiBlW2ldID8gZVtpXSA6IG4gPCB0Lmxlbmd0aCA/IChlW2ldID0gdFtuKytdLCBlW2ldKSA6IChlW2ldID0gIiMiICsgcGFyc2VJbnQoMjU2ICogTWF0aC5yYW5kb20oKSAqIDI1NiAqIDI1NikudG9TdHJpbmcoMTYpLCBlW2ldKQoJCQkJCQl9CgkJCQkJfSgpLAoJCQkJCUEgPSBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAhMTsKCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCQkJZSB8fCAoZSA9ICEwLCBoLmxvZygidHJlbmQtcXJjb2RlLXNob3ciKSwgdSgidHJlbmQtcXJjb2RlLXNob3ciKSkKCQkJCQkJfQoJCQkJCX0oKSwKCQkJCQlxID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gTWF0aC5hYnMoZSAtIHQpIDwgMWUtNAoJCQkJCX0sCgkJCQkJRSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpCgkJCQkJfSwKCQkJCQlPID0gITAsCgkJCQkJTCA9IDAsCgkJCQkJRCA9ICExLAoJCQkJCU0gPSB2b2lkIDAsCgkJCQkJUiA9IHZvaWQgMCwKCQkJCQlGID0gdm9pZCAwLAoJCQkJCSQgPSB2b2lkIDAsCgkJCQkJVyA9IHZvaWQgMCwKCQkJCQlIID0gdm9pZCAwOwoJCQkJTCA9IG4oMTQxKTsKCQkJCXZhciBVID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQl2YXIgYSA9ICQuc3RvcmUuZmlsdGVyKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXJldHVybiB0Lm5hbWUgPT09IGUKCQkJCQkJfSlbMF07CgkJCQkJCWlmICh2b2lkIDAgPT0gYSkgcmV0dXJuIHQ7CgkJCQkJCXZhciBvID0gYVtXXTsKCQkJCQkJaWYgKCFvKSByZXR1cm4gdDsKCQkJCQkJaWYgKCFhLmFsbF9lcXVhbF9zaG9ydCAmJiAic2hvcnRfZGF5X2xpbmUiICE9PSBXICYmIGkpIHsKCQkJCQkJCXZhciByID0gdm9pZCAwLAoJCQkJCQkJCXMgPSB2b2lkIDA7CgkJCQkJCQlzd2l0Y2ggKFcpIHsKCQkJCQkJCQljYXNlICJhbGxfbGluZSI6CgkJCQkJCQkJCXIgPSBhLmFsbF9saW5lX2JlZ2luX3RpbWU7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInllYXJfbGluZSI6CgkJCQkJCQkJCXIgPSBhLnllYXJfbGluZV90aW1lOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJtb250aF9saW5lIjoKCQkJCQkJCQkJciA9IGEubW9udGhfbGluZV90aW1lCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gciA9IG5ldyBEYXRlKHIgLSAyODhlNSksIHIgPSBuZXcgRGF0ZShyLmdldFllYXIoKSArIDE5MDAsIHIuZ2V0TW9udGgoKSwgci5nZXREYXRlKCkpLCBzID0gaSAtIHIuZ2V0VGltZSgpLCBvW3BhcnNlSW50KHMgLyB3KV0KCQkJCQkJfQoJCQkJCQl2YXIgbCA9IHBhcnNlSW50KG8ubGVuZ3RoICogbiAtIDEpOwoJCQkJCQkwID4gbCAmJiAobCArPSAxKTsKCQkJCQkJdmFyIGMgPSB2b2lkIDA7CgkJCQkJCWMgPSBsID49IDEgPyBbb1tsIC0gMV0sIG9bbF0sIG9bbCArIDFdXSA6IFtvW2xdLCBvW2wgKyAxXV0sIGMgPSBjLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gdm9pZCAwICE9PSBlCgkJCQkJCX0pOwoJCQkJCQl2YXIgZCA9IGMubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gTWF0aC5hYnMoZSAtIHQpCgkJCQkJCQl9KSwKCQkJCQkJCXAgPSBkLmluZGV4T2YoTWF0aC5taW4uYXBwbHkobnVsbCwgZCkpOwoJCQkJCQlyZXR1cm4gY1twXQoJCQkJCX0sCgkJCQkJWSA9IG51bGwsCgkJCQkJRyA9IHt9LAoJCQkJCVggPSB7CgkJCQkJCXg6IDAsCgkJCQkJCXk6IDAKCQkJCQl9OwoJCQkJYS5zZXRPcHRpb25zKHsKCQkJCQlnbG9iYWw6IHsKCQkJCQkJdGltZXpvbmVPZmZzZXQ6IDgKCQkJCQl9CgkJCQl9KTsKCQkJCXZhciBKID0gewoJCQkJCQloaWdoTGluZTogbnVsbCwKCQkJCQkJbG93TGluZTogbnVsbAoJCQkJCX0sCgkJCQkJWiA9ICExLAoJCQkJCVYgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IHZvaWQgMCA9PT0gYXJndW1lbnRzWzFdID8gITEgOiBhcmd1bWVudHNbMV0sCgkJCQkJCQluID0gZS55QXhpcyBpbnN0YW5jZW9mIEFycmF5ID8gZS55QXhpc1swXSA6IGUueUF4aXMsCgkJCQkJCQlpID0gbi5wbG90TGluZXNBbmRCYW5kcywKCQkJCQkJCXIgPSBlLmNoYXJ0ID8gZS5jaGFydCA6IGUsCgkJCQkJCQlzID0gci5zZXJpZXM7CgkJCQkJCXMuZm9yRWFjaChmdW5jdGlvbihlKSB7CgkJCQkJCQkoIm1heCIgPT09IGUubmFtZSB8fCAibWluIiA9PT0gZS5uYW1lKSAmJiBlLnJlbW92ZSghMCkKCQkJCQkJfSksIEwgfHwgKEwgPSAwKTsKCQkJCQkJdmFyIGwgPSBpZShzKSwKCQkJCQkJCWMgPSBpLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuICJoaWdoUHJpY2UiID09PSBlLmlkCgkJCQkJCQl9KSwKCQkJCQkJCXAgPSBpLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuICJsb3dQcmljZSIgPT09IGUuaWQKCQkJCQkJCX0pLAoJCQkJCQkJaCA9IGkuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gIm9yaWdpblByaWNlIiA9PT0gZS5pZAoJCQkJCQkJfSk7CgkJCQkJCWlmIChjID0gYy5sZW5ndGggPyBjWzBdLm9wdGlvbnMgOiBKLmhpZ2hMaW5lLCBwID0gcC5sZW5ndGggPyBwWzBdLm9wdGlvbnMgOiBKLmxvd0xpbmUsIGgubGVuZ3RoICYmIChoID0gaFswXS5vcHRpb25zKSwgSi5oaWdoTGluZSA9IGMsIEoubG93TGluZSA9IHAsIG4ucmVtb3ZlUGxvdExpbmUoImhpZ2hQcmljZSIpLCBuLnJlbW92ZVBsb3RMaW5lKCJsb3dQcmljZSIpLCBoICYmIChuLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBuLmFkZFBsb3RMaW5lKGgpKSwgbCkgewoJCQkJCQkJbC5tYXggPSBwYXJzZUZsb2F0KGEubnVtYmVyRm9ybWF0KGwubWF4LCAyLCAiLiIsICIiKSksIGwubWluID0gcGFyc2VGbG9hdChhLm51bWJlckZvcm1hdChsLm1pbiwgMiwgIi4iLCAiIikpLCBjLnZhbHVlID0gbC5tYXgsIHAudmFsdWUgPSBsLm1pbjsKCQkJCQkJCXZhciB1ID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiAiIgoJCQkJCQkJfTsKCQkJCQkJCWYgJiYgKHUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJdmFyIHQgPSB7CgkJCQkJCQkJCQljb206ICIkIiwKCQkJCQkJCQkJCSJjby51ayI6ICLCoyIsCgkJCQkJCQkJCQlkZTogIkVVUiIsCgkJCQkJCQkJCQkiY28uanAiOiAiwqUiLAoJCQkJCQkJCQkJZnI6ICJFVVIiLAoJCQkJCQkJCQkJY2E6ICJDRE4kIiwKCQkJCQkJCQkJCWNuOiAiwqUiLAoJCQkJCQkJCQkJaXQ6ICJFVVIiLAoJCQkJCQkJCQkJZXM6ICJFVVIiLAoJCQkJCQkJCQkJIjZwbSI6ICIkIgoJCQkJCQkJCQl9LAoJCQkJCQkJCQluID0gIiI7CgkJCQkJCQkJZm9yICh2YXIgaSBpbiB0KSBsb2NhdGlvbi5ob3N0LmluZGV4T2YoaSkgPiAtMSAmJiAoImFtYXpvbiIgPT09IG8uc2l0ZSB8fCAiNnBtIiA9PSBvLnNpdGUpICYmIChuID0gdFtpXSk7CgkJCQkJCQkJcmV0dXJuIG4KCQkJCQkJCX0pOwoJCQkJCQkJdmFyIG0gPSB1KCk7CgkJCQkJCQljLmxhYmVsLnRleHQgPSAi5pyA6auYOiIgKyBtICsgZChsLm1heCksIHAubGFiZWwudGV4dCA9ICLmnIDkvY46IiArIG0gKyBkKGwubWluKSwgInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgKGMubGFiZWwudGV4dCA9ICLmnIDpq5g6IiArIGQobC5tYXgpICsgIuaXpeWFgyIsIHAubGFiZWwudGV4dCA9ICLmnIDkvY46IiArIGQobC5taW4pICsgIuaXpeWFgyIpLCBjLmxhYmVsLnkgPSBiLCBwLmxhYmVsLnkgPSBiLCBoLmxhYmVsICYmIChoLmxhYmVsLnkgPSBiKTsKCQkJCQkJCXZhciBnID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXJldHVybiBNYXRoLmFicyhlIC0gdCkgPCAuMDUKCQkJCQkJCX07CgkJCQkJCQlxKGMudmFsdWUsIHAudmFsdWUpICYmIChjLmxhYmVsLnRleHQgPSAiIiwgcC5sYWJlbC50ZXh0ID0gIueOsOS7tzoiICsgbSArIGQobC5taW4pLCAid3d3LmFtYXpvbi5jby5qcCIgPT0gbG9jYXRpb24uaG9zdCAmJiAocC5sYWJlbC50ZXh0ID0gIueOsOS7tzoiICsgZChsLm1pbikgKyAi5pel5YWDIiksIGwubWluU3RhcnQgPSBNYXRoLm1heChsLm1pblN0YXJ0LCBsLm1heFN0YXJ0KSwgbC5tYXhTdGFydCA9IGwubWluU3RhcnQpLCAoZyhjLnZhbHVlLCBMKSB8fCBnKHAudmFsdWUsIEwpKSAmJiAoTyB8fCBUKSAmJiBoLmxhYmVsID8gKGgubGFiZWwudGV4dCA9ICIiLCBuLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBuLmFkZFBsb3RMaW5lKGgpKSA6IE8gJiYgaC5sYWJlbCAmJiAoaC5sYWJlbC50ZXh0ID0gIuWOn+S7tzoiICsgbSArIGQoTCksICJ3d3cuYW1hem9uLmNvLmpwIiA9PSBsb2NhdGlvbi5ob3N0ICYmIChoLmxhYmVsLnRleHQgPSAi5Y6f5Lu3OiIgKyBkKEwpICsgIuaXpeWFgyIpLCBuLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBuLmFkZFBsb3RMaW5lKGgpKSwgdCB8fCAobi5hZGRQbG90TGluZShjKSwgbi5hZGRQbG90TGluZShwKSk7CgkJCQkJCQl2YXIgXyA9IHNbMF0sCgkJCQkJCQkJeCA9IF8uZGF0YVtfLmRhdGEubGVuZ3RoIC0gMV07CgkJCQkJCQl4IHx8ICh4ID0gewoJCQkJCQkJCXg6IEYKCQkJCQkJCX0pOwoJCQkJCQkJdmFyIHcgPSB7CgkJCQkJCQkJCW5hbWU6ICJtYXgiLAoJCQkJCQkJCQlzaG93SW5MZWdlbmQ6ICExLAoJCQkJCQkJCQlwb2ludFN0YXJ0OiBsLm1heFN0YXJ0LAoJCQkJCQkJCQlwb2ludEludGVydmFsOiB4LnggLSBsLm1heFN0YXJ0LAoJCQkJCQkJCQl6SW5kZXg6IDFlMywKCQkJCQkJCQkJZGF0YTogW3sKCQkJCQkJCQkJCXk6IGwubWF4LAoJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJCQkJZmlsbENvbG9yOiAiI2VkNGE0YSIsCgkJCQkJCQkJCQkJcmFkaXVzOiAzLAoJCQkJCQkJCQkJCXN5bWJvbDogImNpcmNsZSIsCgkJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQkJCQllbmFibGVkOiAhMCwKCQkJCQkJCQkJCQkJCWxpbmVDb2xvcjogIiNmYWRiZGMiLAoJCQkJCQkJCQkJCQkJZmlsbENvbG9yOiAiI2VkNGE0YSIsCgkJCQkJCQkJCQkJCQlsaW5lV2lkdGg6IDMsCgkJCQkJCQkJCQkJCQlyYWRpdXM6IDUsCgkJCQkJCQkJCQkJCQlzeW1ib2w6ICJjaXJjbGUiCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0sIHsKCQkJCQkJCQkJCXk6IGwubWF4LAoJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9XSwKCQkJCQkJCQkJY29sb3I6ICIjZWQ0YTRhIiwKCQkJCQkJCQkJZGFzaFN0eWxlOiAiZGFzaCIsCgkJCQkJCQkJCWxpbmVXaWR0aDogMSwKCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCQkJCQkJCWhhbG86IHsKCQkJCQkJCQkJCQkJc2l6ZTogMAoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgkJCQkJCQkJdiA9IHsKCQkJCQkJCQkJbmFtZTogIm1pbiIsCgkJCQkJCQkJCXNob3dJbkxlZ2VuZDogITEsCgkJCQkJCQkJCXBvaW50U3RhcnQ6IGwubWluU3RhcnQsCgkJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IHgueCAtIGwubWluU3RhcnQsCgkJCQkJCQkJCXpJbmRleDogMWUzLAoJCQkJCQkJCQlkYXRhOiBbewoJCQkJCQkJCQkJeTogbC5taW4sCgkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQlmaWxsQ29sb3I6ICIjMzViZDY3IiwKCQkJCQkJCQkJCQlyYWRpdXM6IDMsCgkJCQkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJCQkJc3ltYm9sOiAiY2lyY2xlIiwKCQkJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCQkJCQkJCQkJbGluZUNvbG9yOiAiI2RhZjVlNCIsCgkJCQkJCQkJCQkJCQlmaWxsQ29sb3I6ICIjMzViZDY3IiwKCQkJCQkJCQkJCQkJCWxpbmVXaWR0aDogMywKCQkJCQkJCQkJCQkJCXJhZGl1czogNSwKCQkJCQkJCQkJCQkJCXN5bWJvbDogImNpcmNsZSIKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSwgewoJCQkJCQkJCQkJeTogbC5taW4sCgkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQllbmFibGVkOiAhMSwKCQkJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX1dLAoJCQkJCQkJCQljb2xvcjogIiMzNWJkNjciLAoJCQkJCQkJCQlkYXNoU3R5bGU6ICJkYXNoIiwKCQkJCQkJCQkJbGluZVdpZHRoOiAxCgkJCQkJCQkJfTsKCQkJCQkJCXQgfHwgKHIuYWRkU2VyaWVzKHcpLCByLmFkZFNlcmllcyh2KSk7CgkJCQkJCQl2YXIgQiA9IGwubWF4IC0gbC5taW47CgkJCQkJCQkoTCAtIGwubWF4KSAvIEIgPiAuNSAmJiBCID8gKHkgPSAhMCwgaC52YWx1ZSA9IGMudmFsdWUgKyAuNSAqIEIsIGsgPSBoLnZhbHVlLCB6ID0gTCAtIGgudmFsdWUpIDogKHkgPSAhMSwgaC52YWx1ZSA9IEwpOwoJCQkJCQkJdmFyIGogPSBsLm1heCwKCQkJCQkJCQlDID0gbC5taW47CgkJCQkJCQlPICYmIChqID0gTWF0aC5tYXgobC5tYXgsIGgudmFsdWUpLCBDID0gTWF0aC5taW4obC5taW4sIGgudmFsdWUpKSwgMCA9PT0gQyAmJiAoQyA9IGwubWluKTsKCQkJCQkJCXZhciBTID0gaiAtIEMsCgkJCQkJCQkJTiA9IHBhcnNlSW50KFMgLyA1ICogMTApIC8gMTAsCgkJCQkJCQkJUCA9IC41OwoJCQkJCQkJaWYgKFMgPiA1MCAmJiAoUCA9IDEwKSwgLjUgPiBTICYmIChQID0gLjEpLCAuMiA+IFMgJiYgKFAgPSAuMDUpLCBQID4gTikgTiA9IFA7CgkJCQkJCQllbHNlIHsKCQkJCQkJCQlmb3IgKHZhciBJID0gUDsgTiA+IEk7KSBJICs9IFA7CgkJCQkJCQkJTiA9IEkKCQkJCQkJCX0KCQkJCQkJCXZhciBBID0gewoJCQkJCQkJCW1heDogaiArIC4xICogUywKCQkJCQkJCQltaW46IEMgLSAuMSAqIFMgPiAwID8gQyAtIC4xICogUyA6IEMsCgkJCQkJCQkJdGlja0ludGVydmFsOiBTID8gTiA6IDEwLAoJCQkJCQkJCXRpY2tTdGFydDogcGFyc2VJbnQoQykKCQkJCQkJCX07CgkJCQkJCQloLnZhbHVlID4gQS5tYXggJiYgVCAmJiAoQS5tYXggPSBoLnZhbHVlKSwgbi51cGRhdGUoQSk7CgkJCQkJCQl2YXIgRSA9IG4ucGxvdExpbmVzQW5kQmFuZHMubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGUuc3ZnRWxlbSA/IHsKCQkJCQkJCQkJCWlkOiBlLmlkLAoJCQkJCQkJCQkJeTogZS5zdmdFbGVtLmQuc3BsaXQoIiAiKVsyXQoJCQkJCQkJCQl9IDogewoJCQkJCQkJCQkJaWQ6IGUuaWQsCgkJCQkJCQkJCQl5OiBlLnZhbHVlCgkJCQkJCQkJCX0KCQkJCQkJCQl9KSwKCQkJCQkJCQlEID0ge307CgkJCQkJCQlpZiAoRS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlEW2UuaWRdID0gcGFyc2VGbG9hdChlLnkpCgkJCQkJCQl9KSwgIShFLmxlbmd0aCA8PSAyKSkgewoJCQkJCQkJCXZhciBNID0gewoJCQkJCQkJCQloaWdoTG93OiBELmhpZ2hQcmljZSAtIEQubG93UHJpY2UsCgkJCQkJCQkJCWhpZ2hPcmlnaW46IEQuaGlnaFByaWNlIC0gRC5vcmlnaW5QcmljZSwKCQkJCQkJCQkJbG93T3JpZ2luOiBELmxvd1ByaWNlIC0gRC5vcmlnaW5QcmljZQoJCQkJCQkJCX07CgkJCQkJCQkJTWF0aC5hYnMoTS5oaWdoTG93KSA8IDExICYmIDAgIT09IE0uaGlnaExvdyAmJiAoYy5sYWJlbC55IC09IDUuNSwgcC5sYWJlbC55ICs9IDUuNSksIE1hdGguYWJzKE0uaGlnaE9yaWdpbikgPCAxMSAmJiAoYy52YWx1ZSAtIGgudmFsdWUgPCAwID8gKGgubGFiZWwueSAtPSA1LjUsIGMubGFiZWwueSArPSA1LjUpIDogYy52YWx1ZSAtIGgudmFsdWUgPiAwICYmIChoLmxhYmVsLnkgKz0gNS41LCBjLmxhYmVsLnkgLT0gNS41KSksIE1hdGguYWJzKE0ubG93T3JpZ2luKSA8IDExICYmIChwLnZhbHVlIC0gaC52YWx1ZSA8IDAgPyAoaC5sYWJlbC55IC09IDUuNSwgcC5sYWJlbC55ICs9IDUuNSkgOiBwLnZhbHVlIC0gaC52YWx1ZSA+IDAgJiYgKGgubGFiZWwueSArPSA1LjUsIHAubGFiZWwueSAtPSA1LjUpKSwgbi5yZW1vdmVQbG90TGluZSgiaGlnaFByaWNlIiksIG4ucmVtb3ZlUGxvdExpbmUoImxvd1ByaWNlIiksIG4ucmVtb3ZlUGxvdExpbmUoIm9yaWdpblByaWNlIiksIHQgfHwgKG4uYWRkUGxvdExpbmUoYyksIG4uYWRkUGxvdExpbmUocCksIG4uYWRkUGxvdExpbmUoaCkpCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LAoJCQkJCUsgPSB7CgkJCQkJCWNoYXJ0OiB7CgkJCQkJCQlyZW5kZXJUbzogInBsb3RBcmVhIiwKCQkJCQkJCXR5cGU6ICJsaW5lIiwKCQkJCQkJCWFuaW1hdGlvbjogITEsCgkJCQkJCQltYXJnaW5SaWdodDogMjkwLAoJCQkJCQkJbWFyZ2luTGVmdDogNzAsCgkJCQkJCQlldmVudHM6IHsKCQkJCQkJCQlsb2FkOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdmFyIHQgPSB0aGlzLnNlcmllc1swXTsKCQkJCQkJCQkJcCA9IHQuZGF0YVt0LmRhdGEubGVuZ3RoIC0gMV0ueDsKCQkJCQkJCQkJdmFyIG4gPSB0aGlzLnhBeGlzWzBdLm1heCAtIDUgKiB3OwoJCQkJCQkJCQl0Lm9wdGlvbnMucG9pbnRTdGFydCA+IG4gJiYgKG4gPSB0Lm9wdGlvbnMucG9pbnRTdGFydCk7CgkJCQkJCQkJCXZhciBpID0gewoJCQkJCQkJCQkJCW5hbWU6ICLlvZPliY3llYbln47ljp/lp4vku7fmoLwiLAoJCQkJCQkJCQkJCXBvaW50U3RhcnQ6IG4sCgkJCQkJCQkJCQkJcG9pbnRJbnRlcnZhbDogMSwKCQkJCQkJCQkJCQlkYXRhOiBbewoJCQkJCQkJCQkJCQl5OiBMLAoJCQkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9LCB7CgkJCQkJCQkJCQkJCXk6IEwsCgkJCQkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX1dLAoJCQkJCQkJCQkJCWxpbmVXaWR0aDogMSwKCQkJCQkJCQkJCQl6SW5kZXg6IDEsCgkJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJCXN5bWJvbDogUy5leHRlbmRlZCwKCQkJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJCWNvbG9yOiAiIzg4ODg4OCIsCgkJCQkJCQkJCQkJZW5hYmxlTW91c2VUcmFja2luZzogITEsCgkJCQkJCQkJCQkJbGVnZW5kSW5kZXg6IDAKCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQlhID0gdGhpcy5zZXJpZXM7CgkJCQkJCQkJCUMgPSBhICYmIGFbMV0gJiYgIuivhOiuuuaVsCIgPT09IGFbMV0ubmFtZSA/IGFbMV0gOiBudWxsLCBIID0gdGhpcy5wbG90V2lkdGg7CgkJCQkJCQkJCXZhciBvID0gYVswXS5kYXRhOwoJCQkJCQkJCQlpZiAoaS5kYXRhWzBdLnkgPyB0aGlzLmFkZFNlcmllcyhpKSA6IHRoaXMueUF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoIm9yaWdpblByaWNlIiksIFQpIGEuZm9yRWFjaChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJCQkwID09PSB0IHx8ICLlvZPliY3llYbln47ljp/lp4vku7fmoLwiID09PSBlLm5hbWUgPyBlLnNob3coKSA6IGUuaGlkZSgpCgkJCQkJCQkJCX0pOwoJCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgYS5sZW5ndGg7IHIrKykgUC5pbkxpc3QoYVtyXS5uYW1lKSA/IChhW3JdLnNob3coKSwgIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IGFbcl0ubmFtZSAmJiBMICYmICh0aGlzLnlBeGlzWzBdLmFkZFBsb3RMaW5lKFIpLCBPID0gITAsIGkuZGF0YVswXS55IHx8IHRoaXMueUF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoIm9yaWdpblByaWNlIiksIE8gPSAhMCksIGFbcl0udXBkYXRlKHsKCQkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQkJc3ltYm9sOiBTLmV4dGVuZGVkCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSkpIDogKGFbcl0uaGlkZSgpLCAi5b2T5YmN5ZWG5Z+O5Y6f5aeL5Lu35qC8IiA9PT0gYVtyXS5uYW1lICYmICh0aGlzLnlBeGlzWzBdLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBPID0gITEpLCBhW3JdLnVwZGF0ZSh7CgkJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJCXN5bWJvbDogUy5mb2xkZWQKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9KSk7CgkJCQkJCQkJCQlCICYmIGFbMV0gJiYgIuivhOiuuuaVsCIgPT09IGFbMV0ubmFtZSAmJiBhWzFdICYmIGFbMV0uc2hvdygpCgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIHMgPSAwOwoJCQkJCQkJCQlzd2l0Y2ggKE4pIHsKCQkJCQkJCQkJCWNhc2UgInBsb3RZZWFyIjoKCQkJCQkJCQkJCQlzID0gMzY2OwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAicGxvdE1vbnRoIjoKCQkJCQkJCQkJCQlzID0gMzA7CgkJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCQljYXNlICJwbG90NURheSI6CgkJCQkJCQkJCQkJcyA9IDUKCQkJCQkJCQkJfQoJCQkJCQkJCQlWKHRoaXMsIFopLCAicGxvdEFsbCIgPT09IE4gfHwgVCB8fCB0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQltaW46IEYgLSBzICogdywKCQkJCQkJCQkJCW1heDogRgoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJdmFyIGwgPSBhLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS52aXNpYmxlICYmICJtYXgiICE9PSBlLm5hbWUgJiYgIm1pbiIgIT09IGUubmFtZQoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJaWYgKDAgIT09IGwubGVuZ3RoKSB7CgkJCQkJCQkJCQl2YXIgYyA9IGwubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQkJcmV0dXJuIGUub3B0aW9ucy5wb2ludFN0YXJ0CgkJCQkJCQkJCQkJfSkuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQkJcmV0dXJuIGUKCQkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCQlkID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYyk7CgkJCQkJCQkJCQkicGxvdEFsbCIgPT09IE4gfHwgVCB8fCAoZCA9IEYgLSBzICogdyk7CgkJCQkJCQkJCQlmb3IgKHZhciByID0gMDsgciA8IGEubGVuZ3RoOyByKyspCgkJCQkJCQkJCQkJaWYgKGFbcl0uZGF0YS5sZW5ndGgpIHsKCQkJCQkJCQkJCQkJbyA9IGFbcl0uZGF0YTsKCQkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl2YXIgcCA9IG9bby5sZW5ndGggLSAxXTsKCQkJCQkJCQkJCWlmICh0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQkJbWluOiBkLAoJCQkJCQkJCQkJCW1heDogcCA/IHAueCA6IGUuZ2V0VGltZSgpCgkJCQkJCQkJCQl9KSwgMSA9PT0gbC5sZW5ndGggJiYgIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IGxbMF0ubmFtZSAmJiAoInBsb3RBbGwiICE9PSBOIHx8IFQgfHwgdGhpcy54QXhpc1swXS51cGRhdGUoewoJCQkJCQkJCQkJCW1pbjogRiAtIDM2ZTUsCgkJCQkJCQkJCQkJbWF4OiBGCgkJCQkJCQkJCQl9KSwgdGhpcy55QXhpc1swXS51cGRhdGUoewoJCQkJCQkJCQkJCW1pbjogTCwKCQkJCQkJCQkJCQltYXg6IEwKCQkJCQkJCQkJCX0pKSwgdGhpcy55QXhpcy5sZW5ndGggPiAxKSB7CgkJCQkJCQkJCQkJaWYgKHRoaXMueUF4aXNbMF0uZGF0YU1pbiA9PSB0aGlzLnlBeGlzWzBdLmRhdGFNYXgpIHsKCQkJCQkJCQkJCQkJdmFyIGggPSBwYXJzZUludCguMiAqIHRoaXMueUF4aXNbMF0uZGF0YU1pbik7CgkJCQkJCQkJCQkJCWggPiAxMDAgJiYgKGggPSAxMDAgKiBNYXRoLnJvdW5kKGggLyAxMDApKSwgdGhpcy55QXhpc1swXS51cGRhdGUoewoJCQkJCQkJCQkJCQkJbWluOiBwYXJzZUludCguNSAqIHRoaXMueUF4aXNbMF0uZGF0YU1pbiksCgkJCQkJCQkJCQkJCQltYXg6IHBhcnNlSW50KDEuNSAqIHRoaXMueUF4aXNbMF0uZGF0YU1pbiksCgkJCQkJCQkJCQkJCQl0aWNrSW50ZXJ2YWw6IGgKCQkJCQkJCQkJCQkJfSkKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJdGhpcy55QXhpc1sxXS51cGRhdGUoewoJCQkJCQkJCQkJCQltaW46IHRoaXMueUF4aXNbMV0uZGF0YU1pbiwKCQkJCQkJCQkJCQkJbWF4OiB0aGlzLnlBeGlzWzFdLmRhdGFNYXgsCgkJCQkJCQkJCQkJCXRpY2tJbnRlcnZhbDogcGFyc2VJbnQodGhpcy55QXhpc1sxXS5kYXRhTWF4IC8gNSkgfHwgMQoJCQkJCQkJCQkJCX0pLCB0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQkJCW1pbjogdGhpcy5zZXJpZXNbMV0uZGF0YVswXS5jYXRlZ29yeQoJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCWNyZWRpdHM6IHsKCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCX0sCgkJCQkJCXRpdGxlOiB7CgkJCQkJCQl0ZXh0OiAidGVzdCIsCgkJCQkJCQlzdHlsZTogewoJCQkJCQkJCWZvbnRXZWlnaHQ6ICJib2xkIiwKCQkJCQkJCQlmb250RmFtaWx5OiAiTWljcm9zb2Z0IFlhSGVpIiwKCQkJCQkJCQlmb250U2l6ZTogMTYKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeEF4aXM6IHsKCQkJCQkJCW9mZnNldDogMCwKCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQkJCW1pbnV0ZTogIiVtLyVkIiwKCQkJCQkJCQlob3VyOiAiJW0vJWQiLAoJCQkJCQkJCWRheTogIiVtLyVkIiwKCQkJCQkJCQl3ZWVrOiAiJW0vJWQiLAoJCQkJCQkJCW1vbnRoOiAiJVkvJW0iCgkJCQkJCQl9LAoJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQlsYWJlbHM6IHsKCQkJCQkJCQlyb3RhdGlvbjogLTI1LAoJCQkJCQkJCXk6IDMwLAoJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCWZvbnRTaXplOiAiMTJweCIsCgkJCQkJCQkJCWZvbnRGYW1pbHk6ICJBcmlhbCIsCgkJCQkJCQkJCWNvbG9yOiAiIzMyMzMzMyIKCQkJCQkJCQl9LAoJCQkJCQkJCWFsaWduOiAiY2VudGVyIgoJCQkJCQkJfSwKCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjZTZlOWViIiwKCQkJCQkJCWxpbmVDb2xvcjogIiNlNmU5ZWIiLAoJCQkJCQkJZ3JpZExpbmVXaWR0aDogMSwKCQkJCQkJCXRpY2tMZW5ndGg6IDAsCgkJCQkJCQltaW5UaWNrSW50ZXJ2YWw6IHcsCgkJCQkJCQlzdGFydE9uVGljazogITEsCgkJCQkJCQl0aWNrUG9zaXRpb25lcjogZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGUgPSBbXSwKCQkJCQkJCQkJdCA9IHRoaXMubWluLAoJCQkJCQkJCQluID0gdGhpcy5tYXgsCgkJCQkJCQkJCWkgPSBuZXcgRGF0ZSh0KSwKCQkJCQkJCQkJYSA9IDAsCgkJCQkJCQkJCW8gPSB2b2lkIDAsCgkJCQkJCQkJCXIgPSAxOwoJCQkJCQkJCWlmIChuIC0gdCA+IDMwMCAqIHcpIHsKCQkJCQkJCQkJdmFyIHMgPSBuZXcgRGF0ZSgxOTAwICsgaS5nZXRZZWFyKCksIGkuZ2V0TW9udGgoKSArIDEsIDIpOwoJCQkJCQkJCQlhID0gcy5nZXRUaW1lKCk7CgkJCQkJCQkJCWZvciAodmFyIGwgPSBIIC8gKChuIC0gdCkgLyAoMzAgKiB3KSk7IDEwMCA+IHIgKiBsOykgcisrOwoJCQkJCQkJCQlvID0gIm5tb250aCIKCQkJCQkJCQl9IGVsc2UgaWYgKG4gLSB0ID4gNjQgKiB3KSB7CgkJCQkJCQkJCXZhciBzID0gbmV3IERhdGUoMTkwMCArIGkuZ2V0WWVhcigpLCBpLmdldE1vbnRoKCkgKyAxLCAyKTsKCQkJCQkJCQkJYSA9IHMuZ2V0VGltZSgpLCBvID0gIm1vbnRoIgoJCQkJCQkJCX0gZWxzZSBpZiAobiAtIHQgPiAxMCAqIHcpIGEgPSB0LCBvID0gImRheSI7CgkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCXZhciBzID0gbmV3IERhdGUoMTkwMCArIGkuZ2V0WWVhcigpLCBpLmdldE1vbnRoKCksIGkuZ2V0RGF0ZSgpICsgMSk7CgkJCQkJCQkJCWEgPSBzLmdldFRpbWUoKSwgbyA9ICJob3VyIgoJCQkJCQkJCX0KCQkJCQkJCQlmb3IgKDsgbiA+PSBhIC0gNTRlNjspIHN3aXRjaCAoZS5wdXNoKGEgLSA1NGU2KSwgbykgewoJCQkJCQkJCQljYXNlICJtb250aCI6CgkJCQkJCQkJCQl2YXIgcyA9IG5ldyBEYXRlKGEpLAoJCQkJCQkJCQkJCWMgPSBuZXcgRGF0ZSgxOTAwICsgcy5nZXRZZWFyKCksIHMuZ2V0TW9udGgoKSArIDEsIDIpOwoJCQkJCQkJCQkJYSA9IGMuZ2V0VGltZSgpOwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWNhc2UgImRheSI6CgkJCQkJCQkJCQlhICs9IDUgKiB3OwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWNhc2UgImhvdXIiOgoJCQkJCQkJCQkJYSArPSB3OwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWNhc2UgIm5tb250aCI6CgkJCQkJCQkJCQlzID0gbmV3IERhdGUoYSksIGMgPSBuZXcgRGF0ZSgxOTAwICsgcy5nZXRZZWFyKCksIHMuZ2V0TW9udGgoKSArIHIsIDIpLCBhID0gYy5nZXRUaW1lKCkKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKFQpIHsKCQkJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGVbZF0gPCB0aGlzLm1pbjspIGQrKzsKCQkJCQkJCQkJZSA9IFtlW2RdLCBlW2UubGVuZ3RoIC0gMV1dCgkJCQkJCQkJfQoJCQkJCQkJCXN3aXRjaCAobykgewoJCQkJCQkJCQljYXNlICJtb250aCI6CgkJCQkJCQkJCWNhc2UgIm5tb250aCI6CgkJCQkJCQkJCQllLmluZm8gPSB7CgkJCQkJCQkJCQkJdW5pdE5hbWU6ICJtb250aCIsCgkJCQkJCQkJCQkJaGlnaGVyUmFua3M6IHt9CgkJCQkJCQkJCQl9OwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCQllLmluZm8gPSB7CgkJCQkJCQkJCQkJdW5pdE5hbWU6ICJkYXkiLAoJCQkJCQkJCQkJCWhpZ2hlclJhbmtzOiB7fQoJCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl5QXhpczogewoJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJZm9ybWF0dGVyOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJCQkJCXJldHVybiBlID0gIXkgfHwgdGhpcy52YWx1ZSA8IGsgPyBhLm51bWJlckZvcm1hdCh0aGlzLnZhbHVlLCAyKSA6IGEubnVtYmVyRm9ybWF0KHRoaXMudmFsdWUgKyB6LCAyKSwgZSA9IGUucmVwbGFjZSgiLjAwIiwgIiIpCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCWFsaWduOiAiaGlnaCIsCgkJCQkJCQlncmlkTGluZUNvbG9yOiAiI2U2ZTllYiIsCgkJCQkJCQl0aXRsZTogewoJCQkJCQkJCXRleHQ6ICLkurrmsJHluIE6IiwKCQkJCQkJCQlyb3RhdGlvbjogMCwKCQkJCQkJCQl5OiAtMjAsCgkJCQkJCQkJeDogLTEzLAoJCQkJCQkJCWFsaWduOiAiaGlnaCIsCgkJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCWZvbnRGYW1pbHk6ICJNaWNyb3NvZnQgWWFIZWkiLAoJCQkJCQkJCQlmb250U2l6ZTogMTIsCgkJCQkJCQkJCWNvbG9yOiAiIzMyMzMzMyIKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJcGxvdExpbmVzOiBbewoJCQkJCQkJCWlkOiAiaGlnaFByaWNlIiwKCQkJCQkJCQljb2xvcjogInJnYmEoMjU1LDI1NSwyNTUsMSkiLAoJCQkJCQkJCWRhc2hTdHlsZTogImRhc2giLAoJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCXdpZHRoOiAxLAoJCQkJCQkJCWxhYmVsOiB7CgkJCQkJCQkJCXRleHQ6ICLmnIDpq5giLAoJCQkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCQkJeDogdiwKCQkJCQkJCQkJeTogYiwKCQkJCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiNlNDM5M2MiLAoJCQkJCQkJCQkJZm9udFdlaWdodDogImJvbGQiLAoJCQkJCQkJCQkJZm9udEZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSIsCgkJCQkJCQkJCQlmb250U2l6ZTogMTIKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0sIHsKCQkJCQkJCQlpZDogImxvd1ByaWNlIiwKCQkJCQkJCQljb2xvcjogIiNmZmYiLAoJCQkJCQkJCWRhc2hTdHlsZTogImRhc2giLAoJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCXdpZHRoOiAxLAoJCQkJCQkJCWxhYmVsOiB7CgkJCQkJCQkJCXRleHQ6ICLmnIDkvY4iLAoJCQkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCQkJCXg6IHYsCgkJCQkJCQkJCXk6IGIsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiMzNWJkNjciLAoJCQkJCQkJCQkJZm9udFdlaWdodDogImJvbGQiLAoJCQkJCQkJCQkJZm9udEZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSIsCgkJCQkJCQkJCQlmb250U2l6ZTogMTIKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0sIHsKCQkJCQkJCQlpZDogIm9yaWdpblByaWNlIiwKCQkJCQkJCQl2YWx1ZTogTCwKCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQljb2xvcjogIiM4ODg4ODgiLAoJCQkJCQkJCXpJbmRleDogMSwKCQkJCQkJCQlsYWJlbDogewoJCQkJCQkJCQl0ZXh0OiAi5Y6f5Lu3OiIgKyBMLAoJCQkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCQkJCXg6IHYsCgkJCQkJCQkJCXk6IGIsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiM4ODg4ODgiLAoJCQkJCQkJCQkJZm9udFdlaWdodDogImJvbGQiLAoJCQkJCQkJCQkJZm9udEZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSIsCgkJCQkJCQkJCQlmb250U2l6ZTogMTIKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX1dCgkJCQkJCX0sCgkJCQkJCWxlZ2VuZDogewoJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJ0b3AiLAoJCQkJCQkJbGF5b3V0OiAidmVydGljbGUiLAoJCQkJCQkJYm9yZGVyQ29sb3I6ICIjZjBmM2Y1IiwKCQkJCQkJCWJvcmRlcldpZHRoOiAxLAoJCQkJCQkJd2lkdGg6IDE1MCwKCQkJCQkJCXg6IC0zMCwKCQkJCQkJCXk6IDMwLAoJCQkJCQkJc3ltYm9sV2lkdGg6IDEwLAoJCQkJCQkJc3ltYm9sSGVpZ2h0OiAxMCwKCQkJCQkJCWl0ZW1NYXJnaW5Ub3A6IDQsCgkJCQkJCQlpdGVtU3R5bGU6IHsKCQkJCQkJCQlmb250RmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiwKCQkJCQkJCQlmb250U2l6ZTogIjEycHgiLAoJCQkJCQkJCWNvbG9yOiAiIzMyMzIzMyIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJcGxvdE9wdGlvbnM6IHsKCQkJCQkJCXNlcmllczogewoJCQkJCQkJCXR1cmJvVGhyZXNob2xkOiAwLAoJCQkJCQkJCXN0YXRlczogewoJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJCQloYWxvOiB7CgkJCQkJCQkJCQkJc2l6ZTogMAoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCQl9LAoJCQkJCQkJCWRhdGFHcm91cGluZzogewoJCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJCX0sCgkJCQkJCQkJYW5pbWF0aW9uOiAhMSwKCQkJCQkJCQlldmVudHM6IHsKCQkJCQkJCQkJbGVnZW5kSXRlbUNsaWNrOiBmdW5jdGlvbih0KSB7CgkJCQkJCQkJCQl2YXIgbiA9IHRoaXMuY2hhcnQuc2VyaWVzOwoJCQkJCQkJCQkJbi5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQkibWF4IiAhPT0gZS5uYW1lICYmICJtaW4iICE9PSBlLm5hbWUgfHwgIWUucmVtb3ZlIHx8IGUucmVtb3ZlKCEwKQoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQl2YXIgaSA9IHRoaXMuaW5kZXgsCgkJCQkJCQkJCQkJYSA9IHRoaXMueEF4aXMubWluLAoJCQkJCQkJCQkJCW8gPSB0aGlzLnhBeGlzLm1heDsKCQkJCQkJCQkJCSLlvZPliY3llYbln47ljp/lp4vku7fmoLwiID09PSBuW2ldLm5hbWUgJiYgKE8gPyB0aGlzLnlBeGlzLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpIDogdGhpcy55QXhpcy5hZGRQbG90TGluZShSKSwgTyA9ICFPKSwgbltpXS52aXNpYmxlID8gbltpXS5oaWRlKCkgOiBuW2ldLnNob3coKSwgbi5mb3JFYWNoKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQkJCQllLnZpc2libGUgJiYgIuivhOiuuuaVsCIgIT09IGUubmFtZSA/IChQLmFkZChlLm5hbWUpLCBlLnVwZGF0ZSh7CgkJCQkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJCQkJc3ltYm9sOiBTLmV4dGVuZGVkCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9KSkgOiAoUC5yZW1vdmUoZS5uYW1lKSwgZS51cGRhdGUoewoJCQkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQkJCXN5bWJvbDogUy5mb2xkZWQKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX0pKQoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQl2YXIgciA9IG4uZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQlyZXR1cm4gZS52aXNpYmxlICYmICJtYXgiICE9PSBlLm5hbWUgJiYgIm1pbiIgIT09IGUubmFtZQoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQlpZiAoMCA9PT0gci5sZW5ndGgpIHJldHVybiBWKHRoaXMsIFopLCAhMTsKCQkJCQkJCQkJCXZhciBzID0gclswXS5kYXRhOwoJCQkJCQkJCQkJaWYgKHMgPSBzW3MubGVuZ3RoIC0gMV0sICJwbG90QWxsIiA9PT0gTikgewoJCQkJCQkJCQkJCXZhciBsID0gci5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCQkJcmV0dXJuIGUub3B0aW9ucy5wb2ludFN0YXJ0CgkJCQkJCQkJCQkJCX0pLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQkJCQlyZXR1cm4gZQoJCQkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCQkJYyA9IE1hdGgubWluLmFwcGx5KG51bGwsIGwpOwoJCQkJCQkJCQkJCXRoaXMueEF4aXMudXBkYXRlKHsKCQkJCQkJCQkJCQkJbWluOiBjLAoJCQkJCQkJCQkJCQltYXg6IHMgPyBzLnggOiBlLmdldFRpbWUoKQoJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpZiAoMSA9PT0gci5sZW5ndGggJiYgIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IHJbMF0ubmFtZSkgewoJCQkJCQkJCQkJCXZhciBwID0gdGhpcy55QXhpcy5wbG90TGluZXNBbmRCYW5kcy5maWx0ZXIoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCQlyZXR1cm4gIm9yaWdpblByaWNlIiA9PT0gZS5pZAoJCQkJCQkJCQkJCX0pOwoJCQkJCQkJCQkJCXAgPSBwWzBdLm9wdGlvbnMsIHAudmFsdWUgPSBMLCB0aGlzLnlBeGlzLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBwLmxhYmVsLnRleHQgPSAi5Y6f5Lu3OiIgKyBkKEwpLCB0aGlzLnlBeGlzLmFkZFBsb3RMaW5lKHApLCAidW5kZWZpbmVkIiA9PT0gYSB8fCAidW5kZWZpbmVkIiA9PT0gbyA/IHRoaXMueEF4aXMudXBkYXRlKHsKCQkJCQkJCQkJCQkJbWF4OiBGLAoJCQkJCQkJCQkJCQltaW46IEYgLSAzMCAqIHcKCQkJCQkJCQkJCQl9KSA6IHRoaXMueEF4aXMudXBkYXRlKHsKCQkJCQkJCQkJCQkJbWluOiBhLAoJCQkJCQkJCQkJCQltYXg6IG8KCQkJCQkJCQkJCQl9KSwgdGhpcy55QXhpcy51cGRhdGUoewoJCQkJCQkJCQkJCQltaW46IEwsCgkJCQkJCQkJCQkJCW1heDogTAoJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlyZXR1cm4gInBsb3RZZWFyIiA9PT0gTiAmJiB0aGlzLnhBeGlzLnVwZGF0ZSh7CgkJCQkJCQkJCQkJbWluOiBGIC0gMzY3ICogdywKCQkJCQkJCQkJCQltYXg6IEYKCQkJCQkJCQkJCX0pLCBWKHRoaXMsIFopLCAhMQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCWxpbmU6IHsKCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCQkJCQkJbGluZVdpZHRoOiAxCgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCWV2ZW50czogewoJCQkJCQkJCQltb3VzZU91dDogZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJYygiI3RpbWVDdXJzb3IiKS5jc3MoewoJCQkJCQkJCQkJCWxlZnQ6ICItMTAwMHB4IiwKCQkJCQkJCQkJCQlyaWdodDogIiIKCQkJCQkJCQkJCX0pLCBjKCIjZGFzaGVkTGluZSIpLmNzcyh7CgkJCQkJCQkJCQkJbGVmdDogIi0xMDAwcHgiCgkJCQkJCQkJCQl9KQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl0b29sdGlwOiB7CgkJCQkJCQlzaGFkb3c6ICExLAoJCQkJCQkJc2hhcmVkOiAhMCwKCQkJCQkJCXZhbHVlU3VmZml4OiAi5YWDIiwKCQkJCQkJCWhpZGVEZWxheTogMCwKCQkJCQkJCXNoYXBlOiAic3F1YXJlIiwKCQkJCQkJCWZvbGxvd1BvaW50ZXI6ICExLAoJCQkJCQkJZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHsKCQkJCQkJCQlkYXk6ICIlWS8lbS8lZSIsCgkJCQkJCQkJbWludXRlOiAiJVkvJW0vJWUiLAoJCQkJCQkJCXNlY29uZDogIiVZLyVtLyVlIiwKCQkJCQkJCQlob3VyOiAiJVkvJW0vJWUgJUg6JU0iCgkJCQkJCQl9LAoJCQkJCQkJdXNlSFRNTDogITAsCgkJCQkJCQlwb3NpdGlvbmVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCQkJcmV0dXJuIG4ucGxvdFggKyBlID4gdGhpcy5jaGFydC5wbG90V2lkdGggKyAxMiA/IHsKCQkJCQkJCQkJeDogbi5wbG90WCAtIGUgKyB0aGlzLmNoYXJ0LnBsb3RMZWZ0LAoJCQkJCQkJCQl5OiB0aGlzLmNoYXJ0LnBsb3RIZWlnaHQgLyAyIC0gdCAvIDIgKyA0NQoJCQkJCQkJCX0gOiB7CgkJCQkJCQkJCXg6IG4ucGxvdFggKyB0aGlzLmNoYXJ0LnBsb3RMZWZ0LAoJCQkJCQkJCQl5OiB0aGlzLmNoYXJ0LnBsb3RIZWlnaHQgLyAyIC0gdCAvIDIgKyA0NQoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQlvbkhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCWMoIiN0aW1lQ3Vyc29yIikuY3NzKHsKCQkJCQkJCQkJbGVmdDogIi0xMDAwcHgiLAoJCQkJCQkJCQlyaWdodDogIiIKCQkJCQkJCQl9KSwgYygiI2Rhc2hlZExpbmUiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiAiLTEwMDBweCIKCQkJCQkJCQl9KQoJCQkJCQkJfSwKCQkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJCQl0ID0gbmV3IERhdGUodGhpcy54IC0gMjg4ZTUpLAoJCQkJCQkJCQluID0gdC5nZXRZZWFyKCkgKyAxOTAwOwoJCQkJCQkJCShvLklFNyB8fCBvLklFOCkgJiYgKG4gPSB0LmdldFllYXIoKSk7CgkJCQkJCQkJdmFyIGkgPSB0LmdldE1vbnRoKCkgKyAxLAoJCQkJCQkJCQlyID0gdC5nZXREYXRlKCksCgkJCQkJCQkJCXMgPSB0LmdldEhvdXJzKCksCgkJCQkJCQkJCWwgPSBuICsgIi8iICsgaSArICIvIiArIHIgKyAoRCA/ICIgIiArIHMgKyAiOjAwIiA6ICIiKSwKCQkJCQkJCQkJcCA9ICc8dGFibGUgc3R5bGU9InRhYmxlLWxheW91dDogZml4ZWQ7Ij48dHI+PHRkIGNvbHNwYW49IjMiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Zm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1mYW1pbHk6IEFyaWFsO2ZvbnQtc2l6ZToxNHB4Ij4nICsgbCArICc8L3RkPjx0ZD48L3RkPjx0ZCBjYWxzcz0icHJvbW9UZCI+PC90ZD48L3RyPicsCgkJCQkJCQkJCWggPSB0aGlzLnBvaW50cy5zb3J0KGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQkJCXZhciBuID0gVSh0LnNlcmllcy5uYW1lLCB0LnksICh0LnBvaW50LmluZGV4ICsgMSkgLyB0LnNlcmllcy5kYXRhLmxlbmd0aCwgdC54IC0gMjg4ZTUpIC0gVShlLnNlcmllcy5uYW1lLCBlLnksIChlLnBvaW50LmluZGV4ICsgMSkgLyBlLnNlcmllcy5kYXRhLmxlbmd0aCwgdC54IC0gMjg4ZTUpOwoJCQkJCQkJCQkJcmV0dXJuIG4KCQkJCQkJCQkJfSkuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiAibWF4IiA9PT0gZS5zZXJpZXMubmFtZSB8fCAibWluIiA9PT0gZS5zZXJpZXMubmFtZSA/ICExIDogITAKCQkJCQkJCQkJfSk7CgkJCQkJCQkJcmV0dXJuIDAgPT09IGgubGVuZ3RoID8gITEgOiAoYygiI3RpbWVDdXJzb3IiKS5odG1sKGwpLCBjKCIjdGltZUN1cnNvciIpLmNzcyh7CgkJCQkJCQkJCWxlZnQ6IFgueCArIFEoKSArICJweCIsCgkJCQkJCQkJCXJpZ2h0OiAiIgoJCQkJCQkJCX0pLCBYLnggKyAzOCArIFEoKSA+IEggJiYgYygiI3RpbWVDdXJzb3IiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiBYLnggKyBRKCkgLSBwYXJzZUludChjKCIjdGltZUN1cnNvciIpLmNzcygid2lkdGgiKSkgLSAxMCArICJweCIKCQkJCQkJCQl9KSwgIi0xMDAwcHgiID09PSBjKCIjZGFzaGVkTGluZSIpLmNzcygibGVmdCIpICYmIHRoaXMucG9pbnRzWzBdLnBvaW50LmluZGV4ID09PSB0aGlzLnBvaW50c1swXS5zZXJpZXMuZGF0YS5sZW5ndGggLSAxICYmIChYLnggLT0gMyksIGMoIiNkYXNoZWRMaW5lIikuY3NzKHsKCQkJCQkJCQkJbGVmdDogWC54ICsgUSgpICsgInB4IgoJCQkJCQkJCX0pLCBoLmZvckVhY2goZnVuY3Rpb24odCwgbikgewoJCQkJCQkJCQl2YXIgaSA9IHQucG9pbnQuc2VyaWVzLm5hbWUsCgkJCQkJCQkJCQlvID0gVShpLCB0LnBvaW50LnksICh0LnBvaW50LmluZGV4ICsgMSkgLyB0LnBvaW50LnNlcmllcy5kYXRhLmxlbmd0aCwgdC5wb2ludC54IC0gMjg4ZTUpLAoJCQkJCQkJCQkJciA9IGEubnVtYmVyRm9ybWF0KG8gKiBfLCAyKTsKCQkJCQkJCQkJbyA9IGEubnVtYmVyRm9ybWF0KG8sIDIpLCAiLiIgPT09IG9bby5sZW5ndGggLSAxXSAmJiAobyArPSAiMDAiKTsKCQkJCQkJCQkJdmFyIHMgPSAoKGUueCAtIDY4NGU1KSAvIDFlMykudG9TdHJpbmcoKSwKCQkJCQkJCQkJCWwgPSBHICYmIEdbc10gJiYgR1tzXS5tc2cgfHwgIiI7CgkJCQkJCQkJCWwgPSAiIjsKCQkJCQkJCQkJdmFyIGMgPSBmID8gIigiICsgciArIGcgKyAiKSIgOiAiIiwKCQkJCQkJCQkJCWggPSBhLm51bWJlckZvcm1hdCh4LCAyKTsKCQkJCQkJCQkJIi4iID09PSBoW2gubGVuZ3RoIC0gMV0gJiYgKGggKz0gIjAwIiksIGMgPSBlLnggPT09IFkgJiYgZiA/ICIoIiArIGggKyBnICsgIikiIDogYywgMCAhPT0gdC5zZXJpZXMuaW5kZXggJiYgKGMgPSAiIik7CgkJCQkJCQkJCXZhciB1ID0gbyArICLlhYMiICsgYzsKCQkJCQkJCQkJZiAmJiAodSA9ICIiICsgZyArIG8gKyAiKCZ5ZW4iICsgciArICIpIiksIGwgJiYgKHUgPSB1ICsgIijljp/ku7c6ICIgKyAoR1tzXS5vcmlfcHJpY2UgLyAxMDApLnRvRml4ZWQoMikgKyAiKSIpLCAid3d3LmFtYXpvbi5jby5qcCIgPT0gbG9jYXRpb24uaG9zdCAmJiAobyA9IG8ucmVwbGFjZSgiLCIsICIiKSwgbyA9IGQocGFyc2VGbG9hdChvKSksIHUgPSBvICsgIuaXpeWFgygiICsgciArICLkurrmsJHluIEpIiksICLor4TorrrmlbAiID09PSBpICYmIChvID0gby5yZXBsYWNlKCIuMDAiLCAiIiksIHUgPSBvICsgIuasoSIpLCBwICs9ICc8dHI+PHRkIHN0eWxlPSJ3aWR0aDogODBweDsgdGV4dC1hbGlnbjogbGVmdCI+PHNwYW4gc3R5bGU9ImNvbG9yOiAnICsgdC5wb2ludC5zZXJpZXMuY29sb3IgKyAnO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OmFyaWFsO2Zsb2F0Om5vbmUiPuKXjzwvc3Bhbj4nICsgdC5wb2ludC5zZXJpZXMubmFtZSArICc8L3RkPlxuCQkJCQk8dGQgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0O3dpZHRoOiA4MHB4OyI+JyArIHUgKyAnPC90ZD48dGQgY2xhc3M9InByb21vVGQiPicgKyBsICsgIjwvdGQ+PC90cj4iCgkJCQkJCQkJfSksIHAgKz0gIjwvdGFibGU+IikKCQkJCQkJCX0sCgkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJyZ2JhKDI1NSwyNTUsMjU1LDAuOCkiLAoJCQkJCQkJYm9yZGVyQ29sb3I6ICIjNGQ0ZDRkIiwKCQkJCQkJCWJvcmRlcldpZHRoOiAuMywKCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJcGFkZGluZzogMAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlzZXJpZXM6IFtdCgkJCQkJfTsKCQkJCShvLklFNyB8fCBvLklFOCkgJiYgKEsudG9vbHRpcC5zdHlsZSA9IHsKCQkJCQl3aWR0aDogIjQwMHB4IgoJCQkJfSksIFIgPSBLLnlBeGlzLnBsb3RMaW5lcy5maWx0ZXIoZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAib3JpZ2luUHJpY2UiID09PSBlLmlkCgkJCQl9KVswXTsKCQkJCXZhciBRID0gZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiAtYygiI2JpZ2dyYXBoIikub2Zmc2V0KCkubGVmdAoJCQkJCX0sCgkJCQkJZWUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlLmxlbmd0aCA/IDEgPT09IGUubGVuZ3RoID8gZVswXS5hbGxfbGluZV9iZWdpbl90aW1lIDogZS5yZWR1Y2UoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJcmV0dXJuICJudW1iZXIiID09IHR5cGVvZiBlID8gTWF0aC5taW4oZSwgdC5hbGxfbGluZV9iZWdpbl90aW1lKSA6IE1hdGgubWluKGUuYWxsX2xpbmVfYmVnaW5fdGltZSwgdC5hbGxfbGluZV9iZWdpbl90aW1lKQoJCQkJCQl9KSA6ICExCgkJCQkJfSwKCQkJCQl0ZSA9IHsKCQkJCQkJcGxvdEFsbDogW10sCgkJCQkJCXBsb3RZZWFyOiBbXSwKCQkJCQkJcGxvdE1vbnRoOiBbXSwKCQkJCQkJcGxvdDVEYXk6IFtdLAoJCQkJCQlwbG90U3BlY2lhbDogW10KCQkJCQl9LAoJCQkJCW5lID0gZnVuY3Rpb24oZSkgewoJCQkJCQlLLnhBeGlzLm1pblRpY2tJbnRlcnZhbCA9IGUKCQkJCQl9LAoJCQkJCWllID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCB2b2lkIDAgPT09IGFyZ3VtZW50c1sxXSA/ICExIDogYXJndW1lbnRzWzFdLAoJCQkJCQkJbiA9IGUuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gdCA/ICEwIDogIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IGUubmFtZSB8fCAibWF4IiA9PT0gZS5uYW1lIHx8ICJtaW4iID09PSBlLm5hbWUgfHwgIuivhOiuuuaVsCIgPT09IGUubmFtZSA/ICExIDogdm9pZCAwID09PSBlLnZpc2libGUgPyAhMCA6IGUudmlzaWJsZQoJCQkJCQkJfSk7CgkJCQkJCXJldHVybiBuID0gbi5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJaWYgKCJudW1iZXIiID09IHR5cGVvZiBlLmRhdGFbMF0pIHJldHVybiB7CgkJCQkJCQkJbWF4OiBNYXRoLm1heC5hcHBseShudWxsLCBlLmRhdGEpLAoJCQkJCQkJCW1pbjogTWF0aC5taW4uYXBwbHkobnVsbCwgZS5kYXRhKQoJCQkJCQkJfTsKCQkJCQkJCXZhciB0ID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIHQgPSBlLmRhdGEubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiBlLnkKCQkJCQkJCQkJfSksCgkJCQkJCQkJCW4gPSBNYXRoLm1heC5hcHBseShudWxsLCB0KSwKCQkJCQkJCQkJaSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHQpLAoJCQkJCQkJCQlhID0gZS5kYXRhLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS55ID09PSBuCgkJCQkJCQkJCX0pLAoJCQkJCQkJCQlvID0gZS5kYXRhLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS55ID09PSBpCgkJCQkJCQkJCX0pLAoJCQkJCQkJCQlyID0gYS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJcmV0dXJuIGUueAoJCQkJCQkJCQl9KSwKCQkJCQkJCQkJcyA9IG8ubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiBlLngKCQkJCQkJCQkJfSksCgkJCQkJCQkJCWwgPSB7CgkJCQkJCQkJCQltYXg6IG4sCgkJCQkJCQkJCQltaW46IGksCgkJCQkJCQkJCQltYXhTdGFydDogTWF0aC5tYXguYXBwbHkobnVsbCwgciksCgkJCQkJCQkJCQltaW5TdGFydDogTWF0aC5tYXguYXBwbHkobnVsbCwgcykKCQkJCQkJCQkJfTsKCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQl2OiBsCgkJCQkJCQkJfQoJCQkJCQkJfSgpOwoJCQkJCQkJcmV0dXJuICJvYmplY3QiID09IHR5cGVvZiB0ID8gdC52IDogdm9pZCAwCgkJCQkJCX0pLCAwID09PSBuLmxlbmd0aCA/ICExIDogMSA9PT0gbi5sZW5ndGggPyB7CgkJCQkJCQltYXg6IG5bMF0ubWF4LAoJCQkJCQkJbWluOiBuWzBdLm1pbiwKCQkJCQkJCW1heFN0YXJ0OiBuWzBdLm1heFN0YXJ0LAoJCQkJCQkJbWluU3RhcnQ6IG5bMF0ubWluU3RhcnQKCQkJCQkJfSA6IG4ucmVkdWNlKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCXZhciBuID0gZS5tYXggPiB0Lm1heCA/IGUubWF4U3RhcnQgOiB0Lm1heFN0YXJ0LAoJCQkJCQkJCWkgPSBlLm1pbiA8IHQubWluID8gZS5taW5TdGFydCA6IHQubWluU3RhcnQ7CgkJCQkJCQlyZXR1cm4gZS5tYXggPT09IHQubWF4ICYmIChuID0gTWF0aC5tYXgoZS5tYXhTdGFydCwgdC5tYXhTdGFydCkpLCBlLm1pbiA9PT0gdC5taW4gJiYgKGkgPSBNYXRoLm1heChlLm1pblN0YXJ0LCB0Lm1pblN0YXJ0KSksIHsKCQkJCQkJCQltYXg6IE1hdGgubWF4KGUubWF4LCB0Lm1heCksCgkJCQkJCQkJbWluOiBNYXRoLm1pbihlLm1pbiwgdC5taW4pLAoJCQkJCQkJCW1heFN0YXJ0OiBuLAoJCQkJCQkJCW1pblN0YXJ0OiBpCgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlhZSA9IEUoSy55QXhpcy5wbG90TGluZXMpLAoJCQkJCW9lID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IG0uZGVlcENvcHkoZSk7CgkJCQkJCWlmICghKHQueUF4aXMgaW5zdGFuY2VvZiBBcnJheSAmJiB0LnlBeGlzLmxlbmd0aCA+IDEpKSB7CgkJCQkJCQl2YXIgbiA9IHsKCQkJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJCQlhbGlnbjogImhpZ2giLAoJCQkJCQkJCQlncmlkTGluZUNvbG9yOiAiI2U2ZTllYiIsCgkJCQkJCQkJCW9wcG9zaXRlOiAhMCwKCQkJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJCQl6SW5kZXg6IDk5OTk5CgkJCQkJCQkJCX0sCgkJCQkJCQkJCW1pbjogMCwKCQkJCQkJCQkJbWF4OiAxMDAsCgkJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCQl0ZXh0OiAi6K+E6K66KOasoSkiLAoJCQkJCQkJCQkJcm90YXRpb246IDAsCgkJCQkJCQkJCQl5OiAtMjAsCgkJCQkJCQkJCQl4OiAtMywKCQkJCQkJCQkJCWFsaWduOiAiaGlnaCIsCgkJCQkJCQkJCQlvZmZzZXQ6IDY1LAoJCQkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJCQlmb250RmFtaWx5OiAiTWljcm9zb2Z0IFlhSGVpIiwKCQkJCQkJCQkJCQlmb250U2l6ZTogMTIsCgkJCQkJCQkJCQkJY29sb3I6ICIjMzIzMzMzIgoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQlpID0gdC55QXhpczsKCQkJCQkJCXJldHVybiB0LnlBeGlzID0gdC55QXhpcyBpbnN0YW5jZW9mIEFycmF5ID8gdC55QXhpcyA6IFtdLCAwID09IHQueUF4aXMubGVuZ3RoICYmIHQueUF4aXMucHVzaChpKSwgdC55QXhpcy5wdXNoKG4pLCB0CgkJCQkJCX0KCQkJCQl9LAoJCQkJCXJlID0gZnVuY3Rpb24odCwgbiwgbywgcikgewoJCQkJCQl2b2lkIDAgPT09IG4gJiYgKG4gPSAhMSk7CgkJCQkJCXZhciBzID0gdDsKCQkJCQkJVCA9IG4sICJjZW50ZXIiID09PSB0ICYmICh0ID0gInBsb3RBbGwiKSwgInBsb3RTcGVjaWFsIiA9PT0gcyAmJiAoWiA9ICEwKSwgby5zZXJpZXMgPSB0ZVt0XSwgInBsb3RTcGVjaWFsIiA9PT0gdCAmJiAodCA9ICJwbG90QWxsIiksIGMoIi5mbG9hdEJ1dHRvbnM+YSIpLnJlbW92ZUNsYXNzKCJhY3RpdmVQbG90IiksIGMoIi5mbG9hdEJ1dHRvbnM+IyIgKyB0KS5hZGRDbGFzcygiYWN0aXZlUGxvdCIpLCBvLnRpdGxlLnRleHQgPSBjKCIjIiArIHQpLnRleHQoKTsKCQkJCQkJdmFyIGwgPSB0ZVtzXSwKCQkJCQkJCXAgPSBpZShsLCAhMCk7CgkJCQkJCWlmIChwICYmIHNlKHAubWF4LCBwLm1pbiwgbyksICJwbG90NURheSIgPT09IHQgPyAoby50aXRsZS50ZXh0ID0gIui/keS6lOWkqeS7t+agvOi1sOWKvyIsIG5lKHcpLCBEID0gITAsIFcgPSAic2hvcnRfZGF5X2xpbmUiKSA6IEQgPSAhMSwgInBsb3RNb250aCIgPT09IHQgJiYgKG8udGl0bGUudGV4dCA9ICLov5HkuIDmnIjku7fmoLzotbDlir8iLCBuZSg1ICogdyksIFcgPSAibW9udGhfbGluZSIpLCAicGxvdEFsbCIgPT09IHQpIHsKCQkJCQkJCW8udGl0bGUudGV4dCA9ICLlhajpg6jku7fmoLzotbDlir8iLCAicGxvdFNwZWNpYWwiID09PSBzICYmIChvLnRpdGxlLnRleHQgPSAi5YWo6YOo5Lu35qC8JuivhOiuuui1sOWKvyIsIG8udGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICJub3JtYWwiLCBvLmNoYXJ0Lm1hcmdpblRvcCA9IDcwLCBvLmNoYXJ0Lm1hcmdpbkJvdHRvbSA9IDQwLCBvLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gODApLCByICYmICFqICYmIChvLnRpdGxlLnRleHQgPSAi5YWo6YOo5Lu35qC86LWw5Yq/Iik7CgkJCQkJCQl2YXIgaCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGwubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gZS5kYXRhLmxlbmd0aAoJCQkJCQkJfSkpOwoJCQkJCQkJbmUoaCA+IDMwID8gMzAgKiB3IDogaCA+IDUgPyA1ICogdyA6IHcpLCBXID0gImFsbF9saW5lIiwgKE1bMF0uYWxsX2VxdWFsX3Nob3J0IHx8IE1bMF0uYWxsX2xpbmUubGVuZ3RoIDwgNSAmJiAxID09IE0ubGVuZ3RoKSAmJiAoVyA9ICJzaG9ydF9kYXlfbGluZSIsIEQgPSAhMCwgTVswXS5hbGxfbGluZS5sZW5ndGggPCA1ICYmIDEgPT0gTS5sZW5ndGggJiYgKG8uc2VyaWVzWzBdLnBvaW50U3RhcnQgPSBlLmdldFRpbWUoKSArIDI4OGU1IC0gKE1bMF0uYWxsX2xpbmUubGVuZ3RoIC0gMSkgKiB3KSkKCQkJCQkJfQoJCQkJCQkicGxvdFllYXIiID09PSB0ICYmIChvLnRpdGxlLnRleHQgPSAi6L+R5LiA5bm05Lu35qC86LWw5Yq/IiwgbmUoMzAgKiB3KSwgVyA9ICJ5ZWFyX2xpbmUiLCBvLmNoYXJ0Lm1hcmdpbkJvdHRvbSA9IDU1KSwgbiB8fCAoTiA9IHQpLCAicGxvdFNwZWNpYWwiID09PSBzICYmIChvID0gb2UobyksIG8uc2VyaWVzWzFdLnlBeGlzID0gMSwgby5zZXJpZXNbMF0ueUF4aXMgPSAwKTsKCQkJCQkJdmFyIHUgPSBvLnlBeGlzIGluc3RhbmNlb2YgQXJyYXkgPyBvLnlBeGlzWzBdIDogby55QXhpczsKCQkJCQkJWiB8fCAodS5wbG90TGluZXNbMl0udmFsdWUgPSBMLCB1LnBsb3RMaW5lc1syXS5sYWJlbC50ZXh0ID0gIuWOn+S7tzoiICsgZChMKSksIGkgPSBuZXcgYS5DaGFydChvKQoJCQkJCX0sCgkJCQkJc2UgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCWlmICghWikgewoJCQkJCQkJdmFyIGkgPSBuLnlBeGlzIGluc3RhbmNlb2YgQXJyYXkgPyBuLnlBeGlzWzBdIDogbi55QXhpczsKCQkJCQkJCWkucGxvdExpbmVzID0gRShhZSksIGkucGxvdExpbmVzIGluc3RhbmNlb2YgQXJyYXkgfHwgKGkucGxvdExpbmVzID0gSlNPTi5wYXJzZShpLnBsb3RMaW5lcykpLCBpLnBsb3RMaW5lc1swXS52YWx1ZSA9IGUsIGkucGxvdExpbmVzWzFdLnZhbHVlID0gdCwgaS5wbG90TGluZXNbMF0ubGFiZWwudGV4dCA9ICLmnIDpq5g6IiArIGUgKyAi5YWDIiwgaS5wbG90TGluZXNbMV0ubGFiZWwudGV4dCA9ICLmnIDkvY46IiArIHQgKyAi5YWDIiwgaS5taW4gPSBNYXRoLm1pbih0LCBMKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJYygiLmZsb2F0QnV0dG9ucz4iICsgZSkucmVtb3ZlQ2xhc3MoImJqZC1oaWRkZW4iKQoJCQkJCX0sCgkJCQkJY2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJYygiLmZsb2F0QnV0dG9ucyIpLm9uKCJjbGljayIsICJhIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJcmUoZS50YXJnZXQuaWQsICExLCBtLmRlZXBDb3B5KEspKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJZGUgPSBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB2b2lkIDAsCgkJCQkJCQl0ID0gdm9pZCAwOwoJCQkJCQljKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4iKS5vbigiY2xpY2siLCAic3BhbiIsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBpID0gYyhuLnRhcmdldCkuYXR0cigiZGF0YS1pZCIpOwoJCQkJCQkJaWYgKCJwbG90U3BlY2lhbCIgPT09IGkpIHsKCQkJCQkJCQlpZiAoYygiLnRyZW5kLW1heC1taW4tcHJpY2UiKS5hZGRDbGFzcygicmV2aWV3VCIpLCB0IHx8ICh0ID0gITAsIGgubG9nKCJyZXZpZXctdHJlbmQtY2xpY2siKSwgdSgicmV2aWV3LXRyZW5kLWNsaWNrIikpLCBqKSByZXR1cm47CgkJCQkJCQkJaWYgKEMpIHJldHVybiB2b2lkKGUgPyAoQy5zaG93KCksIGUgPSAhMSwgYygic3Bhbi5yZXZpZXctdHJlbmQtc3AiKS5hZGRDbGFzcygibXNjbGljayIpKSA6IChDLmhpZGUoKSwgZSA9ICEwLCBjKCJzcGFuLnJldmlldy10cmVuZC1zcCIpLnJlbW92ZUNsYXNzKCJtc2NsaWNrIikpKTsKCQkJCQkJCQllID0gITEsIEIgPSAhMCwgYygic3Bhbi5yZXZpZXctdHJlbmQtc3AiKS5hZGRDbGFzcygibXNjbGljayIpCgkJCQkJCQl9IGVsc2UgQyA9IG51bGwsIEIgPSAhMSwgYygiLnRyZW5kLW1heC1taW4tcHJpY2UiKS5yZW1vdmVDbGFzcygicmV2aWV3VCIpLCBjKCJzcGFuLnJldmlldy10cmVuZC1zcCIpLnJlbW92ZUNsYXNzKCJtc2NsaWNrIik7CgkJCQkJCQlyZShpLCAhMSwgbS5kZWVwQ29weShLKSwgITApCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlwZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXk6IGUsCgkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfTsKCQkJCXJldHVybiB0ID0gewoJCQkJCWluaXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgdm9pZCAwID09PSBhcmd1bWVudHNbMV0gPyAiZHBQYWdlIiA6IGFyZ3VtZW50c1sxXSwKCQkJCQkJCW4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgdm9pZCAwID09PSBhcmd1bWVudHNbMl0gPyAhMSA6IGFyZ3VtZW50c1syXSwKCQkJCQkJCWEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgdm9pZCAwID09PSBhcmd1bWVudHNbM10gPyAhMSA6IGFyZ3VtZW50c1szXSwKCQkJCQkJCWQgPSBLLnlBeGlzIGluc3RhbmNlb2YgQXJyYXkgPyBLLnlBeGlzWzBdIDogSy55QXhpczsKCQkJCQkJaWYgKGEgfHwgKGEgPSB7CgkJCQkJCQl0b3A6ICEwLAoJCQkJCQkJYm90dG9tOiAhMCwKCQkJCQkJCW1pZGRsZTogITAsCgkJCQkJCQliYWlkdTogITAKCQkJCQkJfSksICFlLnN0b3JlIHx8ICFlLnN0b3JlWzBdIHx8IDAgIT09IGUuc3RvcmVbMF0uYWxsX2xpbmUubGVuZ3RoKSB7CgkJCQkJCQljKCJib2R5IikuYXBwZW5kKCc8ZGl2IGlkPSJiaWdncmFwaCIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAtMTAwMDAwMHB4OyB0b3A6IC0xMDAwMDBweDtiYWNrZ3JvdW5kOiB3aGl0ZTtvdmVyZmxvdzogaGlkZGVuIj48L2Rpdj4nKSwgYygiI2JpZ2dyYXBoIikuYXBwZW5kKHAuY29tcGlsZShyKSh7CgkJCQkJCQkJZXh0QnJhbmQ6IG8uZXh0QnJhbmQsCgkJCQkJCQkJc19zZXJ2ZXI6IG8uc19zZXJ2ZXIKCQkJCQkJCX0pKTsKCQkJCQkJCXZhciB2ID0gIiI7CgkJCQkJCQljZSgpLCBuICYmIGMobikuYXBwZW5kKGMoIiNiaWdncmFwaCIpKSwgYygiIyIgKyBvLmV4dE5hbWUgKyAiLXRyZW5kIikuaG92ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQkJaWYgKEsueUF4aXMudGl0bGUudGV4dCA9ICLkurrmsJHluIE6IiwgWiA9IGEudG9wLCBjKHdpbmRvdykud2lkdGgoKSA8IDEyMDAgJiYgKEsudGl0bGUueCA9IC0xNTApLCBLLmxlZ2VuZC5lbmFibGVkID0gITAsIFogPyBLLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gMjAwIDogSy5jaGFydC5tYXJnaW5SaWdodCA9IDMwNSwgSy5jaGFydC5tYXJnaW5Cb3R0b20gPSA1NSwgYygiI2JpZ2dyYXBoIikuY3NzKHsKCQkJCQkJCQkJbGVmdDogMCwKCQkJCQkJCQkJdG9wOiAwLAoJCQkJCQkJCQlib3R0b206IDAsCgkJCQkJCQkJCXJpZ2h0OiAwCgkJCQkJCQkJfSksICJ0cmVuZCIgIT09IHYpIHsKCQkJCQkJCQkJdmFyIGUgPSBjKCIjIiArIG8uZXh0TmFtZSArICItcHJpLXRyZW5kLWNoYXJ0Iik7CgkJCQkJCQkJCWUuYXBwZW5kKGMoIiNiaWdncmFwaCIpKSwgdiA9ICJ0cmVuZCIsIGMoIi5mbG9hdEJ1dHRvbnMiKS5zaG93KCksIGMoIiNiamQtcXJjb2RlLXRyZW5kIikuc2hvdygpLCBjKCIjYmpkLXFyY29kZS10cmVuZCIpLmxlbmd0aCAmJiBBKCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAiaGlkZGVuIgoJCQkJCQkJCQl9KSwgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQlyZShOLCAhMSwgbS5kZWVwQ29weShLKSk7CgkJCQkJCQkJCQl2YXIgZSA9IGMoIiMiICsgby5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiKS53aWR0aCgpOwoJCQkJCQkJCQkJaS5zZXRTaXplKGUgKyAyMCwgMjUwKSwgSCA9IGkucGxvdFdpZHRoLCBpLmF4ZXNbMF0udXBkYXRlKEsueEF4aXMpLCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQkJCXZpc2liaWxpdHk6ICJ2aXNpYmxlIgoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfSwgMCkKCQkJCQkJCQl9CgkJCQkJCQl9KTsKCQkJCQkJCXZhciBiID0gZnVuY3Rpb24odCkgewoJCQkJCQkJCWMoIi50cmVuZC1tYXgtbWluLXByaWNlIC50LW1heC1wcmkiKS50ZXh0KCLmnIDpq5g6IiArIChlLnN0b3JlWzBdLmhpZ2hlc3QgfHwgZS5zdG9yZVswXS5wcmljZV9yYW5nZS5zcGxpdCgiLSIpWzFdKSksIGMoIi50cmVuZC1tYXgtbWluLXByaWNlIC50LW1pbi1wcmkiKS50ZXh0KCLmnIDkvY46IiArIChlLnN0b3JlWzBdLmxvd2VzdCB8fCBlLnN0b3JlWzBdLnByaWNlX3JhbmdlLnNwbGl0KCItIilbMF0pKSwgWiA9IGEubWlkZGxlLCBaID0gITAsIEsudGl0bGUueCA9IDAsIEsubGVnZW5kLmVuYWJsZWQgPSAhMSwgSy5jaGFydC5tYXJnaW5SaWdodCA9IDQwLCBLLmNoYXJ0Lm1hcmdpblRvcCA9IDYwLCBLLmNoYXJ0Lm1hcmdpbkJvdHRvbSA9IDY4LCBLLnlBeGlzLnRpdGxlLnRleHQgPSAi5Lu35qC8KOWFgykiLCBLLnhBeGlzLmxhYmVscy55ID0gMjUsIEsudGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICJub3JtYWwiLCBjKCIuZmxvYXRCdXR0b25zIikuaGlkZSgpLCBjKCIjYmpkLXFyY29kZS10cmVuZCIpLmhpZGUoKSwgYygiI2RldGFpbFByb21vdGlvbiIpLmNzcyh7CgkJCQkJCQkJCXpJbmRleDogMAoJCQkJCQkJCX0pLCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJCQl0b3A6IDAsCgkJCQkJCQkJCWJvdHRvbTogMCwKCQkJCQkJCQkJcmlnaHQ6IDAKCQkJCQkJCQl9KSwgImJ0biIgIT09IHYgJiYgKGModCkuYXBwZW5kKGMoIiNiaWdncmFwaCIpKSwgZGUoKSwgdiA9ICJidG4iLCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQl2aXNpYmlsaXR5OiAiaGlkZGVuIgoJCQkJCQkJCX0pLCB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJTyA9ICExLCBMID0gMCwgcmUoQiA/ICJwbG90U3BlY2lhbCIgOiAicGxvdEFsbCIsICExLCBtLmRlZXBDb3B5KEspLCAhMCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAidmlzaWJsZSIKCQkJCQkJCQkJfSkKCQkJCQkJCQl9LCAwKSkKCQkJCQkJCX07CgkJCQkJCQljKCIjIiArIG8uZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuaG92ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQkJYigiIyIgKyBvLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiKQoJCQkJCQkJfSksIGMoIiMiICsgby5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJCQljKCIjZGV0YWlsUHJvbW90aW9uIikuY3NzKHsKCQkJCQkJCQkJekluZGV4OiAxNQoJCQkJCQkJCX0pCgkJCQkJCQl9KSwgYygiIyIgKyBvLmV4dEJyYW5kICsgIi10cmVuZCIpLmhvdmVyKGZ1bmN0aW9uKCkgewoJCQkJCQkJCVogPSBhLmJvdHRvbSwgSy55QXhpcy50aXRsZS50ZXh0ID0gIuS6uuawkeW4gToiLCB2ICE9PSAiIiArIG8uZXh0QnJhbmQgJiYgKEsubGVnZW5kLmVuYWJsZWQgPSAhMCwgWiA/IEsuY2hhcnQubWFyZ2luUmlnaHQgPSAyMDAgOiBLLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gMzA1LCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJCQl0b3A6IDAsCgkJCQkJCQkJCWJvdHRvbTogMCwKCQkJCQkJCQkJcmlnaHQ6IDAKCQkJCQkJCQl9KSwgYygiIyIgKyBvLmV4dEJyYW5kICsgIi10cmVuZC1jaGFydCIpLmFwcGVuZChjKCIjYmlnZ3JhcGgiKSksIHYgPSAiIiArIG8uZXh0QnJhbmQsIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCXZpc2liaWxpdHk6ICJoaWRkZW4iCgkJCQkJCQkJfSksIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZShOLCAhMSwgbS5kZWVwQ29weShLKSksIGkucmVmbG93KCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAidmlzaWJsZSIKCQkJCQkJCQkJfSksIGMoIiMiICsgby5leHRCcmFuZCArICItdHJlbmQtY2hhcnQiKS5zaG93KCkKCQkJCQkJCQl9LCAwKSwgYygiLmZsb2F0QnV0dG9ucyIpLnNob3coKSwgYygiI2JqZC1xcmNvZGUtdHJlbmQiKS5zaG93KCksIGMoIiNiamQtcXJjb2RlLXRyZW5kIikubGVuZ3RoICYmIEEoKSwgYygiI2JqZC1xcmNvZGUtdHJlbmQiKS5jc3MoImJvdHRvbSIsICI5cHgiKSkKCQkJCQkJCX0pLCBjKCIuYmRleHQtdHJlbmQiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiBaID0gYS5iYWlkdSwgImJkdHJlbmQiID09PSB2ID8gdm9pZCBjKCIjYmRleHRfbWFpbnRyZW5kX2RldGFpbCIpLnNob3coKSA6IChLLmxlZ2VuZC5lbmFibGVkID0gITAsIEsuY2hhcnQubWFyZ2luUmlnaHQgPSAzMDUsIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQkJCXRvcDogMCwKCQkJCQkJCQkJYm90dG9tOiAwLAoJCQkJCQkJCQlyaWdodDogMAoJCQkJCQkJCX0pLCBjKCIjYmRleHRfbWFpbnRyZW5kX2RldGFpbCIpLmFwcGVuZChjKCIjYmlnZ3JhcGgiKSksIHYgPSAiYmR0cmVuZCIsIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCXZpc2liaWxpdHk6ICJoaWRkZW4iCgkJCQkJCQkJfSksIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZShOLCAhMSwgbS5kZWVwQ29weShLKSksIGkucmVmbG93KCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAidmlzaWJsZSIKCQkJCQkJCQkJfSkKCQkJCQkJCQl9LCAwKSwgYygiI2JkZXh0X21haW50cmVuZF9kZXRhaWwiKS5zaG93KCksIHZvaWQgYygiLmZsb2F0QnV0dG9ucyIpLnNob3coKSkKCQkJCQkJCX0pLCBjKCIuYmRleHQtbWluaS10cmVuZCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJYigiI2JkZXh0X21pbmlfdHJlbmRib3giKSwgYygiI2JkZXh0X21pbml0cmVuZF9kZXRhaWwiKS5zaG93KCkKCQkJCQkJCX0pLCBjKCIjcGxvdEFyZWEiKS5jc3MoewoJCQkJCQkJCW1heFdpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC0gMjgwICsgInB4IgoJCQkJCQkJfSksIGMoIiNwbG90QXJlYSIpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7CgkJCQkJCQkJWC54ID0gZS5wYWdlWCwgWC55ID0gZS5wYWdlWQoJCQkJCQkJfSksIGMoIiNwbG90QXJlYSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiAhMQoJCQkJCQkJfSksIGMoIiN0aW1lQ3Vyc29yIikuY3NzKHsKCQkJCQkJCQlsZWZ0OiAiLTEwMDBweCIKCQkJCQkJCX0pLCBlICYmICEgZnVuY3Rpb24oKSB7CgkJCQkJCQkJTSA9IGUuc3RvcmUsIGUucmV2aWV3X3RyZW5kICYmIGUucmV2aWV3X3RyZW5kLnJldmlld190cmVuZCAmJiBlLnJldmlld190cmVuZC5yZXZpZXdfdHJlbmQubGlzdC5sZW5ndGggPiAxID8gTS5wdXNoKHsKCQkJCQkJCQkJbmFtZTogIuivhOiuuuaVsCIsCgkJCQkJCQkJCWFsbF9saW5lX2JlZ2luX3RpbWU6IG5ldyBEYXRlKGUucmV2aWV3X3RyZW5kLnJldmlld190cmVuZC5zdGFydFRpbWUpLmdldFRpbWUoKSwKCQkJCQkJCQkJYWxsX2xpbmU6IGUucmV2aWV3X3RyZW5kLnJldmlld190cmVuZC5saXN0CgkJCQkJCQkJfSkgOiAoaiA9ICEwLCBjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4iKS5hZGRDbGFzcygibm8tcmV2aWV3IikpLCAkID0gZSwgRyA9IGUucHJvbW9JbmZvOwoJCQkJCQkJCXZhciBuID0gTWF0aC5taW4oZS5zdG9yZVswXSAmJiBlLnN0b3JlWzBdLmFsbF9saW5lX2JlZ2luX3RpbWUsIGVlKE0pKSwKCQkJCQkJCQkJaSA9IGUubm93X2RheTsKCQkJCQkJCQlGID0gZS5ub3dfZGF5OwoJCQkJCQkJCXZhciBhID0gW3sKCQkJCQkJCQkJcGxvdDogInBsb3RBbGwiLAoJCQkJCQkJCQlzdGFydDogImFsbF9saW5lX2JlZ2luX3RpbWUiLAoJCQkJCQkJCQltaW5EYXk6IC4xLAoJCQkJCQkJCQlkYXRhOiAiYWxsX2xpbmUiCgkJCQkJCQkJfSwgewoJCQkJCQkJCQlwbG90OiAicGxvdDVEYXkiLAoJCQkJCQkJCQlzdGFydDogInNob3J0X2RheV9saW5lX2JlZ2luX3RpbWUiLAoJCQkJCQkJCQltaW5EYXk6IDUsCgkJCQkJCQkJCWRhdGE6ICJzaG9ydF9kYXlfbGluZSIKCQkJCQkJCQl9LCB7CgkJCQkJCQkJCXBsb3Q6ICJwbG90TW9udGgiLAoJCQkJCQkJCQlzdGFydDogIm1vbnRoX2xpbmVfdGltZSIsCgkJCQkJCQkJCW1pbkRheTogMzAsCgkJCQkJCQkJCWRhdGE6ICJtb250aF9saW5lIgoJCQkJCQkJCX0sIHsKCQkJCQkJCQkJcGxvdDogInBsb3RZZWFyIiwKCQkJCQkJCQkJc3RhcnQ6ICJ5ZWFyX2xpbmVfdGltZSIsCgkJCQkJCQkJCW1pbkRheTogMzY1LAoJCQkJCQkJCQlkYXRhOiAieWVhcl9saW5lIgoJCQkJCQkJCX0sIHsKCQkJCQkJCQkJcGxvdDogInBsb3RTcGVjaWFsIiwKCQkJCQkJCQkJc3RhcnQ6ICJhbGxfbGluZV9iZWdpbl90aW1lIiwKCQkJCQkJCQkJbWluRGF5OiAuMSwKCQkJCQkJCQkJZGF0YTogImFsbF9saW5lIgoJCQkJCQkJCX1dOwoJCQkJCQkJCWlmIChsZSgiI3Bsb3RBbGwiKSwgLTEgPT09IE1bMF0ubmFtZS5pbmRleE9mKCIo5b2T5YmNKSIpICYmIChNWzBdLm5hbWUgKz0gIijlvZPliY0pIiksIE1bMF0uY3VycmVuY3kgfHwgInd3dy5hbWF6b24uY29tIiA9PT0gbG9jYXRpb24uaG9zdCB8fCAid3d3LmFsaWV4cHJlc3MuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCQl2YXIgciA9IHsKCQkJCQkJCQkJCQlVU0Q6ICIkIiwKCQkJCQkJCQkJCQlFVVI6ICJFVVIiLAoJCQkJCQkJCQkJCUpQWTogIuaXpeWFgyIsCgkJCQkJCQkJCQkJQ0FEOiAiQ0ROJCIsCgkJCQkJCQkJCQkJR0JQOiAiwqMiCgkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJcCA9IHsKCQkJCQkJCQkJCQlVU0Q6ICLnvo7lhYMiLAoJCQkJCQkJCQkJCUVVUjogIuasp+WFgyIsCgkJCQkJCQkJCQkJSlBZOiAi5pel5YWDIiwKCQkJCQkJCQkJCQlDQUQ6ICLliqDlhYMiLAoJCQkJCQkJCQkJCUdCUDogIuiLsemVkSIKCQkJCQkJCQkJCX07CgkJCQkJCQkJCU1bMF0uY3VycmVuY3kgfHwgKE1bMF0uY3VycmVuY3kgPSAiVVNEIiksIHggPSBzLmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlKG8uZHAub2xkUHJpY2UpLCBnID0gcltNWzBdLmN1cnJlbmN5XSwgZC50aXRsZS50ZXh0ID0gcFtNWzBdLmN1cnJlbmN5XSArICLvvJoiLCBLLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gMzkwLCBmID0gITA7CgkJCQkJCQkJCXZhciB2ID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJcmV0dXJuIHMoZSwgTVswXS5jdXJyZW5jeSkKCQkJCQkJCQkJfTsKCQkJCQkJCQkJXyA9IHYoMWU2KSAvIDFlNiwgTCAvPSBfOwoJCQkJCQkJCQl2YXIgYiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiBlICYmIChlID0gZS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCXJldHVybiBlIC8gXwoJCQkJCQkJCQkJfSkpLCBlCgkJCQkJCQkJCX07CgkJCQkJCQkJCWlmIChNLmxlbmd0aCA+IDEpCgkJCQkJCQkJCQlmb3IgKHZhciB5ID0gMTsgeSA8IE0ubGVuZ3RoOyB5KyspICLkuprpqazpgIoiID09PSBNW3ldLm5hbWUgJiYgKE1beV0ubmFtZSA9ICLkuprpqazpgIrkuK3lm70iKSwgTVt5XS5hbGxfbGluZSA9IGIoTVt5XS5hbGxfbGluZSksIE1beV0uc2hvcnRfZGF5X2xpbmUgPSBiKE1beV0uc2hvcnRfZGF5X2xpbmUpLCBNW3ldLm1vbnRoX2xpbmUgPSBiKE1beV0ubW9udGhfbGluZSksIE1beV0ueWVhcl9saW5lID0gYihNW3ldLnllYXJfbGluZSk7CgkJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCQl2YXIgayA9IFsiYWxsX2xpbmUiLCAic2hvcnRfZGF5X2xpbmUiLCAibW9udGhfbGluZSIsICJ5ZWFyX2xpbmUiXTsKCQkJCQkJCQkJCWsuZm9yRWFjaChmdW5jdGlvbihlKSB7fSkKCQkJCQkJCQkJfSBjYXRjaCAoeikge30KCQkJCQkJCQl9CgkJCQkJCQkJdmFyIEIgPSAxODsKCQkJCQkJCQkiemhpZGVtYWkiID09PSB0ICYmIChCID0gMSksICJwcmljZUhpc3RvcnkiID09PSB0ICYmIChCID0gMjApOwoJCQkJCQkJCWZvciAodmFyIEMgPSAhMSwgeSA9IDA7IHkgPCBNYXRoLm1pbihNLmxlbmd0aCwgQik7IHkrKykoaSAtIE1beV0uYWxsX2xpbmVfYmVnaW5fdGltZSA+IDUgKiB3IHx8ICFNW3ldLmFsbF9lcXVhbF9zaG9ydCkgJiYgKEMgPSAhMCk7CgkJCQkJCQkJMSAhPT0gTS5sZW5ndGggfHwgTVsxXSAmJiAi6K+E6K665pWwIiA9PT0gTVsxXS5uYW1lID8gYygiI2JqZC1xcmNvZGUtdHJlbmQiKS5yZW1vdmUoKSA6IChoLmxvZygidHJlbmQtcXJjb2RlLXNob3ciKSwgdSgidHJlbmQtcXJjb2RlLXNob3ciKSk7CgkJCQkJCQkJZm9yICh2YXIgTiA9IHBhcnNlSW50KChpIC0gbikgLyB3KSwgeSA9IDA7IHkgPCBNYXRoLm1pbihNLmxlbmd0aCwgQik7IHkrKykKCQkJCQkJCQkJaWYgKDAgIT09IE1beV0uYWxsX2xpbmUubGVuZ3RoKSB7CgkJCQkJCQkJCQlpZiAoTVt5XS5hbGxfZXF1YWxfc2hvcnQgJiYgMSAhPT0gTS5sZW5ndGgpIHsKCQkJCQkJCQkJCQlNW3ldLmFsbF9saW5lID0gW107CgkJCQkJCQkJCQkJZm9yICh2YXIgVCA9IDA7IFQgPCBNW3ldLnNob3J0X2RheV9saW5lLmxlbmd0aDsgVCArPSAyNCkgTVt5XS5hbGxfbGluZS5wdXNoKE1beV0uc2hvcnRfZGF5X2xpbmVbVF0pOwoJCQkJCQkJCQkJCU1beV0uYWxsX2xpbmVfYmVnaW5fdGltZSA9IGUubm93X2RheSAtIDUgKiB3LCBNW3ldLmFsbF9lcXVhbF9zaG9ydCA9ICExCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlmb3IgKHZhciBBID0gMDsgQSA8IGEubGVuZ3RoOyBBKyspIHsKCQkJCQkJCQkJCQl2YXIgVCA9IGFbQV07CgkJCQkJCQkJCQkJaWYgKGwoaSkgLSBsKG4pID49IFQubWluRGF5ICogdyB8fCAicGxvdDVEYXkiID09PSBULnBsb3QgJiYgQykgewoJCQkJCQkJCQkJCQlpZiAoIU1beV1bVC5kYXRhXSkgY29udGludWU7CgkJCQkJCQkJCQkJCWlmICgicGxvdDVEYXkiID09PSBULnBsb3QgJiYgIUMpIGNvbnRpbnVlOwoJCQkJCQkJCQkJCQlpZiAoInBsb3RTcGVjaWFsIiAhPT0gVC5wbG90ICYmICLor4TorrrmlbAiID09PSBNW3ldLm5hbWUpIGNvbnRpbnVlOwoJCQkJCQkJCQkJCQlpZiAoInBsb3RTcGVjaWFsIiA9PT0gVC5wbG90ICYmIHkgPiAwICYmICLor4TorrrmlbAiICE9PSBNW3ldLm5hbWUpIGNvbnRpbnVlOwoJCQkJCQkJCQkJCQkic2hvcnRfZGF5X2xpbmVfYmVnaW5fdGltZSIgIT09IFQuc3RhcnQgJiYgKE1beV1bVC5zdGFydF0gPSBsKE1beV1bVC5zdGFydF0pKSwgTVt5XS5hbGxfZXF1YWxfc2hvcnQgJiYgImFsbF9saW5lX2JlZ2luX3RpbWUiID09PSBULnN0YXJ0ICYmIChNW3ldW1Quc3RhcnRdID0gTVt5XS5zaG9ydF9kYXlfbGluZV9iZWdpbl90aW1lKSwgbGUoIiMiICsgVC5wbG90KTsKCQkJCQkJCQkJCQkJdmFyIHEgPSB7CgkJCQkJCQkJCQkJCQljb2xvcjogSShNW3ldLm5hbWUpLAoJCQkJCQkJCQkJCQkJbmFtZTogTVt5XS5uYW1lLAoJCQkJCQkJCQkJCQkJcG9pbnRTdGFydDogTVt5XVtULnN0YXJ0XSwKCQkJCQkJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IHcsCgkJCQkJCQkJCQkJCQlsZWdlbmRJbmRleDogMSwKCQkJCQkJCQkJCQkJCWxpbmVXaWR0aDogMSwKCQkJCQkJCQkJCQkJCXpJbmRleDogNTAwLAoJCQkJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJCQkJc3ltYm9sOiBTLmV4dGVuZGVkLAoJCQkJCQkJCQkJCQkJCXN0YXRlczogewoJCQkJCQkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCQkJCQllbmFibGVkOiAhMSwKCQkJCQkJCQkJCQkJCQkJaGFsbzogewoJCQkJCQkJCQkJCQkJCQkJc2l6ZTogMAoJCQkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCQkJCWRhdGE6IE1beV1bVC5kYXRhXQoJCQkJCQkJCQkJCQl9OwoJCQkJCQkJCQkJCQlpZiAoInBsb3Q1RGF5IiA9PT0gVC5wbG90ICYmIChxLnBvaW50SW50ZXJ2YWwgPSAzNmU1LCBxLnBvaW50SW50ZXJ2YWwgKiBxLmRhdGEubGVuZ3RoICsgcS5wb2ludFN0YXJ0ID4gRiAmJiAoRiA9IHEucG9pbnRJbnRlcnZhbCAqIHEuZGF0YS5sZW5ndGggKyBxLnBvaW50U3RhcnQpKSwgInBsb3RBbGwiID09PSBULnBsb3QgJiYgcS5kYXRhLmxlbmd0aCA8IDMwICYmIChxLnBvaW50SW50ZXJ2YWwgPSB3LCBuZSh3KSksICJwbG90QWxsIiA9PT0gVC5wbG90ICYmIE1beV0uYWxsX2VxdWFsX3Nob3J0KQoJCQkJCQkJCQkJCQkJaWYgKDAgPT09IHkpIHEucG9pbnRJbnRlcnZhbCA9IDM2ZTU7CgkJCQkJCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJCQkJCQl2YXIgTyA9IG5ldyBEYXRlKHEucG9pbnRTdGFydCksCgkJCQkJCQkJCQkJCQkJCUQgPSBuZXcgRGF0ZShPLmdldFllYXIoKSArIDE5MDAsIE8uZ2V0TW9udGgoKSwgTy5nZXREYXRlKCksIDgpOwoJCQkJCQkJCQkJCQkJCXEucG9pbnRTdGFydCA9IEQuZ2V0VGltZSgpLCBxLnBvaW50SW50ZXJ2YWwgPSB3OwoJCQkJCQkJCQkJCQkJCWZvciAodmFyIFIgPSBbXSwgVyA9IDA7IFcgPCBxLmRhdGEubGVuZ3RoOyBXICs9IDI0KSBSLnB1c2gocS5kYXRhW1ddKTsKCQkJCQkJCQkJCQkJCQlxLmRhdGEgPSBSCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCWZvciAoOyBxLmRhdGEgJiYgcS5kYXRhLmxlbmd0aCA8IDEwMCAmJiAicGxvdEFsbCIgIT09IFQucGxvdDspIHsKCQkJCQkJCQkJCQkJCWZvciAodmFyIEggPSBbXSwgVSA9IDA7IFUgPCBxLmRhdGEubGVuZ3RoICYmIChILnB1c2gocS5kYXRhW1VdKSwgVSArIDEgIT09IHEuZGF0YS5sZW5ndGgpOyBVKyspIEgucHVzaCgocS5kYXRhW1UgKyAxXSArIHEuZGF0YVtVXSkgLyAyKTsKCQkJCQkJCQkJCQkJCXEuZGF0YSA9IEgsIHEucG9pbnRJbnRlcnZhbCA9IHEucG9pbnRJbnRlcnZhbCAvIDIKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlxLmRhdGEgPSBxLmRhdGEgPyBxLmRhdGEubWFwKHBlKSA6IG51bGwsIG51bGwgIT0gcS5kYXRhICYmIHRlW1QucGxvdF0ucHVzaChxKQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCWlmICgxID09PSB0ZS5wbG90QWxsLmxlbmd0aCkgewoJCQkJCQkJCQl2YXIgWSA9IHRlLnBsb3RBbGxbMF07CgkJCQkJCQkJCWZvciAoWS5kYXRhID0gWS5kYXRhLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS55CgkJCQkJCQkJCX0pOyBZLmRhdGEubGVuZ3RoIDwgMTAwOykgewoJCQkJCQkJCQkJZm9yICh2YXIgSCA9IFtdLCBBID0gMDsgQSA8IFkuZGF0YS5sZW5ndGggJiYgKEgucHVzaChZLmRhdGFbQV0pLCBBICsgMSAhPT0gWS5kYXRhLmxlbmd0aCk7IEErKykgSC5wdXNoKChZLmRhdGFbQSArIDFdICsgWS5kYXRhW0FdKSAvIDIpOwoJCQkJCQkJCQkJWS5kYXRhID0gSCwgWS5wb2ludEludGVydmFsID0gWS5wb2ludEludGVydmFsIC8gMgoJCQkJCQkJCQl9CgkJCQkJCQkJCVkuZGF0YSA9IFkuZGF0YS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCQl5OiBlLAoJCQkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSkKCQkJCQkJCQl9CgkJCQkJCQkJTVswXS5hbGxfZXF1YWxfc2hvcnQgPyAoTisrLCBjKCIjcGxvdEFsbCIpLmh0bWwoIuWFqOmDqCgiICsgTiArICLlpKkpIikpIDogYygiI3Bsb3RBbGwiKS5odG1sKCLlhajpg6giICsgTVswXS5hbGxfbGluZS5sZW5ndGggKyAi5aSpIiksIEwgJiYgInpoaWRlbWFpIiAhPT0gdCAmJiBQLmFkZCgi5b2T5YmN5ZWG5Z+O5Y6f5aeL5Lu35qC8IiksIFAuYWRkKE1bMF0ubmFtZSk7CgkJCQkJCQkJdmFyIFggPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJCQl2YXIgbiA9IHQubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQlyZXR1cm4gZS5uYW1lCgkJCQkJCQkJCQl9KTsKCQkJCQkJCQkJCXJldHVybiBlLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQkJaWYgKC0xID09PSBuLmluZGV4T2YoZS5uYW1lKSkgcmV0dXJuIGU7CgkJCQkJCQkJCQkJdmFyIGkgPSB0LmZpbHRlcihmdW5jdGlvbih0KSB7CgkJCQkJCQkJCQkJCQlyZXR1cm4gdC5uYW1lID09PSBlLm5hbWUKCQkJCQkJCQkJCQkJfSlbMF0sCgkJCQkJCQkJCQkJCWEgPSBFKGUpOwoJCQkJCQkJCQkJCXJldHVybiBhLmRhdGEgPSBpLmRhdGEsIGEucG9pbnRTdGFydCA9IGkucG9pbnRTdGFydCwgYS5wb2ludEludGVydmFsID0gaS5wb2ludEludGVydmFsLCBhCgkJCQkJCQkJCQl9KQoJCQkJCQkJCQl9LAoJCQkJCQkJCQlKID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJdmFyIHQgPSBlLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQkJCXJldHVybiBlLnBvaW50SW50ZXJ2YWwKCQkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCQluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdCk7CgkJCQkJCQkJCQllLmZvckVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCWZvciAoOyBlLnBvaW50SW50ZXJ2YWwgPiBuOykgewoJCQkJCQkJCQkJCQlmb3IgKHZhciB0ID0gW10sIGkgPSAwOyBpIDwgZS5kYXRhLmxlbmd0aCAmJiAodC5wdXNoKGUuZGF0YVtpXSksIGkgKyAxICE9PSBlLmRhdGEubGVuZ3RoKTsgaSsrKSB7CgkJCQkJCQkJCQkJCQl2YXIgYSA9IHsKCQkJCQkJCQkJCQkJCQltYXJrZXI6IGUuZGF0YVtpXS5tYXJrZXIsCgkJCQkJCQkJCQkJCQkJeTogKGUuZGF0YVtpICsgMV0ueSArIGUuZGF0YVtpXS55KSAvIDIKCQkJCQkJCQkJCQkJCX07CgkJCQkJCQkJCQkJCQl0LnB1c2goYSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQllLnBvaW50SW50ZXJ2YWwgPSBlLnBvaW50SW50ZXJ2YWwgLyAyLCBlLmRhdGEgPSB0CgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfTsKCQkJCQkJCQlbInBsb3RNb250aCIsICJwbG90WWVhciJdLmZvckVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCQlpZiAoIWMoIiMiICsgZSkuaGFzQ2xhc3MoImJqZC1oaWRkZW4iKSkgewoJCQkJCQkJCQkJdmFyIHQgPSB0ZS5wbG90QWxsLAoJCQkJCQkJCQkJCW4gPSB0ZVtlXSwKCQkJCQkJCQkJCQlpID0gWCh0LCBuKTsKCQkJCQkJCQkJCXRlW2VdID0gaSwgSih0ZVtlXSkKCQkJCQkJCQkJfQoJCQkJCQkJCX0pLCBKKHRlLnBsb3RBbGwpLCBKKHRlLnBsb3RTcGVjaWFsKSwgcmUoInBsb3RBbGwiLCAhMSwgbS5kZWVwQ29weShLKSkKCQkJCQkJCX0oKSwgKG8uSUU3IHx8IG8uSUU4IHx8IG8uSUU5IHx8IG8uSUUxMCB8fCBvLklFMTEpICYmIChjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9jaGFydCIpLmNzcyh7CgkJCQkJCQkJd2lkdGg6ICI0NjBweCIKCQkJCQkJCX0pLCBjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLmNzcyh7CgkJCQkJCQkJd2lkdGg6ICI1NjlweCIKCQkJCQkJCX0pKSwgIW8uSUU5ICYmICFvLklFMTAgfHwgInZpcCIgIT09IG8uc2l0ZSAmJiAidmlwc2hvcCIgIT09IG8uc2l0ZSB8fCBjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9jaGFydCIpLmNzcyh7CgkJCQkJCQkJd2lkdGg6ICIzOTBweCIKCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbig5NCksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8c3R5bGU+XG4JLnBhbmVsLXNoYWRvdyB7XG4JCXRvcDogMjUwcHg7XG4JfVxuXG4JLmZsb2F0QnV0dG9ucyB7XG4JCXBvc2l0aW9uOiBhYnNvbHV0ZTtcbgkJdG9wOiA5cHg7XG4JCXJpZ2h0OiAwcHg7XG4JCW92ZXJmbG93OiBoaWRkZW47XG4JCXotaW5kZXg6IDk5O1xuCX1cblxuCS5oaWdoY2hhcnRzLWNvbnRhaW5lciB7XG4JCXdpZHRoOiAxMDAlIWltcG9ydGFudDtcbgkJaGVpZ2h0OiAxMDAlIWltcG9ydGFudDtcbgl9XG5cbgkuaGlnaGNoYXJ0cy1jb250YWluZXIgPiBzdmcge1xuCQl3aWR0aDogMTAwJSFpbXBvcnRhbnQ7XG4JCWhlaWdodDogMTAwJSFpbXBvcnRhbnQ7CQlcbgl9XG5cbgkuaGlnaGNoYXJ0cy10b29sdGlwIHNwYW4ge1xuCQl6LWluZGV4OiA5OTk5IWltcG9ydGFudDtcbgl9XG5cbgkuaGlnaGNoYXJ0cy10b29sdGlwIHRhYmxlIHtcbgkJd2lkdGg6IGF1dG8haW1wb3J0YW50O1xuCQltYXJnaW4tbGVmdDogOHB4IWltcG9ydGFudDtcbgkJbWFyZ2luLXJpZ2h0OiA4cHghaW1wb3J0YW50O1xuCQlib3JkZXI6IG5vbmU7XG4JCWJvcmRlci1zcGFjaW5nOiBub25lO1xuCX1cblxuCS5oaWdoY2hhcnRzLXRvb2x0aXAgdGQge1xuCQlmb250LWZhbWlseTogIk1pY3Jvc29mdCBZYWhlaSI7XG4JCWZvbnQtc2l6ZTogMTJweDtcbgkJYm9yZGVyOiBub25lO1xuCX1cblxuCS5oaWdoY2hhcnRzLXRvb2x0aXAgLnByb21vVGR7XG4JCXRleHQtYWxpZ246IGxlZnQ7XG4JCXBhZGRpbmctbGVmdDogNXB4O1xuCQl3aWR0aDogMTAwcHg7XG4JCW1heC13aWR0aDogMTAwcHg7XG4JCWNvbG9yOiAjNGE5MGUyO1xuCQlvdmVyZmxvdzogaGlkZGVuO1xuCQl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcyFpbXBvcnRhbnQ7XG4JfVxuXG4JLmZsb2F0QnV0dG9ucyA+IGF7XG4JCWN1cnNvcjogcG9pbnRlcjtcbgkJYmFja2dyb3VuZDogbm9uZTtcbgkJYm9yZGVyOiBub25lO1xuCQlib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBibGFjaztcbgkJcGFkZGluZy1sZWZ0OiAyMHB4O1xuCQlwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuCQloZWlnaHQ6IDE2cHg7XG4JCWxpbmUtaGVpZ2h0OiAxNnB4O1xuCQljb2xvcjogIzAwMDtcbgkJZm9udC1mYW1pbHk6ICJNaWNyb3NvZnQgWWFIZWkiO1xuCQlmb250LXNpemU6IDEycHghaW1wb3J0YW50O1xuCX1cblxuCSN7e2V4dEJyYW5kfX1fd2lzaGxpc3RfdHJlbmRfZGV0YWlsX2NoYXJ0IHtcbgkJcG9zaXRpb246IHJlbGF0aXZlO1xuCQl3aWR0aDogNDYwcHg7XG4JCWhlaWdodDogMjU0cHg7XG4JfVxuXG4JI3t7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9kZXRhaWwge1xuCQljbGVhcjogYm90aDtcbgkJYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4JCWhlaWdodDogMjg1cHg7XG4JfVxuXG4JQG1lZGlhIChtYXgtd2lkdGg6IDEyNTBweCkge1xuCQkje3tleHRCcmFuZH19LXRyZW5kLWNoYXJ0IHtcbgkJCXBvc2l0aW9uOiBmaXhlZDtcbgkJCWxlZnQ6IDUwJTtcbgkJCW1hcmdpbi1sZWZ0OiAtNDAwcHg7XG4JCX1cbgl9XG5cbgkuZmxvYXRCdXR0b25zID4gYTpmaXJzdC1jaGlsZCB7XG4JCWJvcmRlci1sZWZ0OiAxcHggc29saWQgYmxhY2s7XG4JfVxuXG4JLmZsb2F0QnV0dG9ucyA+IGE6Zm9jdXMge1xuCQlvdXRsaW5lOiBub25lO1xuCX1cblxuCS5hY3RpdmVQbG90IHtcbgkJYmFja2dyb3VuZDogcmdiKDIyNywyMjcsMjI3KSFpbXBvcnRhbnQ7XG4JfVxuXG4JLmJqZC1uZXd0cmVuZC1kZXYgLmJqZC1oaWRkZW4ge1xuCQlkaXNwbGF5OiBub25lIWltcG9ydGFudDtcbgl9XG5cbgkjcGxvdEFyZWEge1xuCQlwb3NpdGlvbjogYWJzb2x1dGU7XG4JCXJpZ2h0OiAwcHg7XG4JCWxlZnQ6IDBweDtcbgkJaGVpZ2h0OiAyNTRweDtcbgkJbWF4LXdpZHRoOiAyMDAwcHghaW1wb3J0YW50O1xuCQlmb250LWZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSI7XG4JfVxuXG4JI3RpbWVDdXJzb3Ige1xuCQlwb3NpdGlvbjogYWJzb2x1dGU7XG4JCWhlaWdodDogMjBweDtcbgkJbGluZS1oZWlnaHQ6IDIwcHg7XG4JCWNvbG9yOiAjZmZmO1xuCQliYWNrZ3JvdW5kOiAjNDU0YTRkO1xuCQlmb250LWZhbWlseTogXCdBcmlhbFwnO1xuCQlmb250LXdlaWdodDogYm9sZDtcbgkJdG9wOiAyMDVweDtcbgkJZm9udC1zaXplOiAxMnB4O1xuCQlwYWRkaW5nLWxlZnQ6IDdweDtcbgkJcGFkZGluZy1yaWdodDogN3B4O1xuCQkvKmxlZnQ6IC0xMDAwMHB4OyovXG4JfVxuXG4JI2Rhc2hlZExpbmUge1xuCQlwb3NpdGlvbjogYWJzb2x1dGU7XG4JCWhlaWdodDogMTYwcHg7XG4JCWxlZnQ6IC0xMDAwMDBweDtcbgkJYm9yZGVyOiBub25lO1xuCQlib3JkZXItbGVmdDogMnB4IGRvdHRlZCAjMDAwO1xuCQl0b3A6IDU0cHg7XG4JCXotaW5kZXg6IDE7XG4JCXBvaW50ZXItZXZlbnRzOiBub25lO1xuCX1cblxuCS5oaWdoY2hhcnRzLXRvb2x0aXAge1xuCQl6LWluZGV4OiA5OTtcbgkJYmFja2dyb3VuZDogd2hpdGU7XG4JfVxuXG5cbgkjYmpkLXFyY29kZS10cmVuZCB7XG4JCXBvc2l0aW9uOiBhYnNvbHV0ZTtcbgkJd2lkdGg6IDE1MHB4O1xuCQloZWlnaHQ6IDE1MHB4O1xuCQlyaWdodDogMzVweDtcbgkJYm90dG9tOiAwcHg7XG4JCXRleHQtYWxpZ246IGNlbnRlcjtcbgl9XG5cbgkjYmpkLXFyY29kZS10cmVuZCBzcGFuIHtcbgkJcG9zaXRpb246IHJlbGF0aXZlO1xuCQlmb250LXNpemU6IDEycHg7XG4JCWZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIjtcbgkJY29sb3I6ICM1MzU4NTQ7XG4JCXRvcDogOHB4O1xuCX1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9ImZsb2F0QnV0dG9ucyBiamQtbmV3dHJlbmQtZGV2Ij5cbgk8YSBjbGFzcz0iYmpkLWhpZGRlbiIgaWQ9InBsb3RBbGwiPuWFqOmDqDwvYT48YSBjbGFzcz0iYmpkLWhpZGRlbiIgaWQ9InBsb3RZZWFyIj7lubTnur88L2E+PGEgY2xhc3M9ImJqZC1oaWRkZW4iIGlkPSJwbG90TW9udGgiPuaciOe6vzwvYT48YSBjbGFzcz0iYmpkLWhpZGRlbiIgaWQ9InBsb3Q1RGF5Ij415pel57q/PC9hPlxuPC9kaXY+XG48ZGl2IGlkPSJwbG90QXJlYSI+XG4JXG48L2Rpdj5cbjxkaXYgaWQ9InRpbWVDdXJzb3IiPlxuCeivt+eojeWAmS4uLlxuPC9kaXY+XG48ZGl2IGlkPSJkYXNoZWRMaW5lIj48L2Rpdj5cbjwhLS0gPGRpdiBpZD0iYmpkLXFyY29kZS10cmVuZCI+XG4JPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy90cmVuZF9xcmNvZGUuanBnIiBhbHQ9IiIgc3R5bGU9IndpZHRoOiA5NHB4O2hlaWdodDo5NHB4IiAvPlxuCTxicj5cbgk8c3Bhbj7lvq7kv6HkuIrkuZ/og73mn6Xljoblj7Lku7fmoLw8L3NwYW4+XG48L2Rpdj4gLS0+JzsKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJaSA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQgPSBuZXcgRGF0ZShlKSwKCQkJCQluID0gbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLCB0LmdldE1vbnRoKCksIHQuZ2V0RGF0ZSgpKSwKCQkJCQlpID0gbi5nZXRUaW1lKCkgKyA2ODRlNTsKCQkJCXJldHVybiBpCgkJCX0KCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEsIG8pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IDAsCgkJCQkJdCA9IHsKCQkJCQkJIjM2MGJ1eSI6ICIjcGFnZV9tYXByaWNlIiwKCQkJCQkJc3VuaW5nOiBbImRlbC5zbWFsbC1wcmljZSIsICJkZWwiLCAiI2l0ZW1QcmljZT5kZWwiXSwKCQkJCQkJYW1hem9uOiBbIi5kaWdpdGFsLWxpc3QtcHJpY2U+dGQ+LmEtdGV4dC1zdHJpa2UiLCAiLmEtc3BhbjEyLmEtY29sb3Itc2Vjb25kYXJ5LmEtc2l6ZS1iYXNlIiwgIi5hLXRleHQtc3RyaWtlIl0sCgkJCQkJCXlvdWdvdTogImRlbDplcSgwKSIsCgkJCQkJCWRhbmdkYW5nOiBbIi5wcmljZV9tOmVxKDApIiwgIi5kMTVfcHJpY2VfaW5mbyAucHJpY2VfcGMgLnByaWNlX20iXSwKCQkJCQkJdmlwc2hvcDogIi5KLW1QcmljZSIsCgkJCQkJCWtlZWRlOiAiLm1lc3NhZ2VfcHJpY2Vfa2QiLAoJCQkJCQlmZWluaXU6ICJkZWwuZm4tcm1iLW51bTplcSgwKSIsCgkJCQkJCWthb2xhOiAiI2pzX21hcmtldFByaWNlIiwKCQkJCQkJMTExOiAiZGVsIiwKCQkJCQkJaml1eGlhbjogImRlbCIsCgkJCQkJCXlpbnRhaTogIi5tay1udW0iLAoJCQkJCQliZWliZWk6ICcuc3RyaWtlW29wLXZhbHVlPSJvcmlnaW5QcmljZSJdJywKCQkJCQkJYm9va3NjaGluYTogInRkOmVxKDE5KSIsCgkJCQkJCXRtYWxsOiBbIi50Yi1ybWItbnVtIiwgIi50bS10YWdQcmljZS1wYW5lbCAudG0tcHJpY2UiLCAiLnRtLXByaWNlLXBhbmVsIC50bS1wcmljZSJdLAoJCQkJCQl0YW9iYW86ICIjSl9TdHJQcmljZT5lbS50Yi1ybWItbnVtIiwKCQkJCQkJInRhb2Jhby05NTA5NSI6ICIudG0tcHJpY2UtcGFuZWwgLnRtLXByaWNlOmVxKDApIiwKCQkJCQkJbGVmZW5nOiAiLm1hcmtldFByaWNlLXMiCgkJCQkJfSwKCQkJCQlpID0gIiI7CgkJCQlpZiAodm9pZCAwICE9IHRbYS5zaXRlXSkgewoJCQkJCXZhciByID0gdFthLnNpdGVdOwoJCQkJCWlmIChyIGluc3RhbmNlb2YgQXJyYXkpIHIuZm9yRWFjaChmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gbyh0KSwKCQkJCQkJCWEgPSBvKHQpLnRvQXJyYXkoKS5sZW5ndGg7CgkJCQkJCWlmIChhID4gMSAmJiAobiA9IG8odCArICgiOmVxKCIgKyAoYSAtIDEpICsgIikiKSkpLCAhZSAmJiBuICYmIG4udGV4dCgpKSB7CgkJCQkJCQl2YXIgciA9IG4udGV4dCgpOwoJCQkJCQkJci50cmltICYmIChyID0gci50cmltKCkpOwoJCQkJCQkJdmFyIHMgPSBwYXJzZUZsb2F0KHIucmVwbGFjZSgiLCIsICIiKS5yZXBsYWNlKCLvv6UiLCAiIikucmVwbGFjZSgiwqUiLCAiIikucmVwbGFjZSgiJCIsICIiKS5yZXBsYWNlKCIsIiwgIiIpKTsKCQkJCQkJCWUgPSBzLCBpID0gdAoJCQkJCQl9CgkJCQkJfSk7CgkJCQkJZWxzZSB7CgkJCQkJCXZhciBzID0gbyhyKTsKCQkJCQkJaWYgKHMgJiYgcy50ZXh0KCkubGVuZ3RoID4gMCkgewoJCQkJCQkJdmFyIGwgPSBzLnRleHQoKTsKCQkJCQkJCWwudHJpbSAmJiAobCA9IGwudHJpbSgpKTsKCQkJCQkJCXZhciBjID0gcGFyc2VGbG9hdChsLnJlcGxhY2UoIiwiLCAiIikucmVwbGFjZSgi77+lIiwgIiIpLnJlcGxhY2UoIsKlIiwgIiIpLnJlcGxhY2UoIiwiLCAiIikpOwoJCQkJCQkJZSA9IGMsIGkgPSByCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQlpZiAoImRldGFpbC50bWFsbC5oayIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQllID0gbygic3Bhbi50bS1wcmljZTplcSgwKSIpLnRleHQoKTsKCQkJCQl2YXIgZCA9IG8oImVtLnRtLXllbjplcSgwKSIpLnRleHQoKTsKCQkJCQkoIuKCqSIgPT09IGQgfHwgIk5UJCIgPT09IGQgfHwgLTEgPT09IG8oInNwYW4udG0tcHJpY2U6ZXEoMCkiKS5jc3MoInRleHQtZGVjb3JhdGlvbiIpLmluZGV4T2YoImxpbmUtdGhyb3VnaCIpKSAmJiAoZSA9IG51bGwpOwoJCQkJCXZhciBwID0gbygiLndydG9yaWdpbnByaWNlIC50bS1wcmljZSIpLnRleHQoKTsKCQkJCQlwICYmIChlID0gcCkKCQkJCX0KCQkJCXZhciBoID0gbygiI0pfU3RyUHJpY2UiKS50ZXh0KCkgJiYgLTEgPT09IG8oIiNKX1N0clByaWNlIikuY3NzKCJ0ZXh0LWRlY29yYXRpb24iKS50b1N0cmluZygpLmluZGV4T2YoImxpbmUtdGhyb3VnaCIpOwoJCQkJaWYgKCJ0YW9iYW8iICE9PSBhLnNpdGUgJiYgInRtYWxsIiAhPT0gYS5zaXRlICYmICJ0YW9iYW8tOTUwOTUiICE9PSBhLnNpdGUgfHwgIShoIHx8ICJ0bWFsbCIgPT09IGEuc2l0ZSAmJiAibm9uZSIgPT09IG8oIiNKX1N0clByaWNlTW9kQm94IikuY3NzKCJkaXNwbGF5IikpIHx8ICgiLnRtLXByaWNlLXBhbmVsIC50bS1wcmljZSIgPT09IGkgfHwgIiNKX1N0clByaWNlPmVtLnRiLXJtYi1udW0iID09PSBpKSAmJiAoZSA9IG51bGwpLCAidGFvYmFvIiA9PT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT09IGEuc2l0ZSB8fCAidGFvYmFvLTk1MDk1IiA9PT0gYS5zaXRlKSB7CgkJCQkJdmFyIHUgPSBvKGkpOwoJCQkJCXUuY3NzKCJ0ZXh0LWRlY29yYXRpb24iKSAmJiAtMSA9PT0gdS5jc3MoInRleHQtZGVjb3JhdGlvbiIpLnRvU3RyaW5nKCkuaW5kZXhPZigibGluZS10aHJvdWdoIikgJiYgKCJ0YW9iYW8iID09PSBhLnNpdGUgPyAtMSA9PT0gdS5wYXJlbnQoKS5jc3MoInRleHQtZGVjb3JhdGlvbiIpLnRvU3RyaW5nKCkuaW5kZXhPZigibGluZS10aHJvdWdoIikgJiYgKGUgPSBudWxsKSA6IGUgPSBudWxsKQoJCQkJfQoJCQkJaWYgKCJib29rc2NoaW5hIiA9PT0gYS5zaXRlKSB7CgkJCQkJdmFyIG0gPSBvKCJ0ZCIpLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUuaW5uZXJUZXh0CgkJCQkJCX0pLAoJCQkJCQlmID0gbS5pbmRleE9mKCLlrprCoMKgwqDCoOS7t++8miIpOwoJCQkJCWUgPSBtW2YgKyAxXQoJCQkJfQoJCQkJdmFyIGcgPSBudWxsOwoJCQkJcmV0dXJuICJ3d3cuYW1hem9uLmNvLmpwIiA9PT0gbG9jYXRpb24uaG9zdCAmJiAoZyA9ICJKUFkiKSwgZSA9IG4oNDApKGUsIGcpLCBlID0gcGFyc2VGbG9hdChlKQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZSgpIHsKCQkJCQlpZiAoYS5uZXdfZXh0ZW5zaW9uKSByZXR1cm4gITE7CgkJCQkJdmFyIGUgPSBbImpzZHgiLCAibmpjayIsICJoaXdpZmkiXTsKCQkJCQlyZXR1cm4gZS5pbmRleE9mKGEuZnJvbV9kZXZpY2UpID4gLTEgPyAhMCA6ICExCgkJCQl9CgoJCQkJZnVuY3Rpb24gdCgpIHsKCQkJCQl2YXIgZTsKCQkJCQlzKCIuZ3dkX3VwZGF0ZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXMoIi5nd2RfdXBkYXRlX3dpc2hfZGV0YWlsIikuc2hvdygpLCBzKCIuZ3dkX3VwZGF0ZSIpLmFkZENsYXNzKCJ1cGRhdGVfaG92ZXJfaXRlbSIpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlzKCIuZ3dkX3VwZGF0ZV93aXNoX2RldGFpbCIpLmhpZGUoKSwgcygiLmd3ZF91cGRhdGUiKS5yZW1vdmVDbGFzcygidXBkYXRlX2hvdmVyX2l0ZW0iKQoJCQkJCQl9LCAyMDApCgkJCQkJfSksIHMoIi5nd2RfdXBkYXRlX3dpc2hfZGV0YWlsIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJcygiLmd3ZF91cGRhdGVfd2lzaF9kZXRhaWwiKS5oaWRlKCksIHMoIi5nd2RfdXBkYXRlIikucmVtb3ZlQ2xhc3MoInVwZGF0ZV9ob3Zlcl9pdGVtIikKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJdmFyIGU7CgkJCQkJYS5JRTYgJiYgKHMoIi5nd2RfdXBkYXRlX3NoZW5namkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzKCIuZ3dkX3VwZGF0ZV9kZXRhaWwiKS5zaG93KCkKCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQllID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXMoIi5nd2RfdXBkYXRlX2RldGFpbCIpLmhpZGUoKQoJCQkJCQl9LCAyMDApCgkJCQkJfSksIHMoIi5nd2RfdXBkYXRlX2RldGFpbCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pLm9uKGZ1bmN0aW9uKCkgewoJCQkJCQlzKCIuZ3dkX3VwZGF0ZV9kZXRhaWwiKS5oaWRlKCkKCQkJCQl9KSkKCQkJCX0KCQkJCXZhciBvLCByID0ge30sCgkJCQkJcyA9IG4oNiksCgkJCQkJbCA9IG4oMTYpLAoJCQkJCWMgPSBuKDE0MyksCgkJCQkJZCA9IG4oMjkpLAoJCQkJCXAgPSBkLmdldEJyb3dzZXIoKTsKCQkJCXJldHVybiByLmlzQmVpamluZyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2b2lkIDAgPT09IG8gJiYgYS5mb3JiaXROaiA/IHMuZ2V0SlNPTihhLnNlcnZlciArICIvaXAucGhwP2NhbGxiYWNrPT8mbG9jYXRpb249IiArIGVuY29kZVVSSUNvbXBvbmVudCgi5Y2X5LqsIikpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQlvID0gdC5yZXN1bHQsIGUobykKCQkJCQl9KSA6IGUobykKCQkJCX0sIHIubWFpbmJhciA9IGZ1bmN0aW9uKCkgewoJCQkJCWUoKSAmJiByLmlzQmVpamluZyhmdW5jdGlvbihlKSB7CgkJCQkJCWlmICghZSAmJiAhYS5JRTYpIHsKCQkJCQkJCXZhciB0ID0gcygiI0JJSklBX0hBU19CVUlMVCIpLmF0dHIoImNsYXNzIik7CgkJCQkJCQlpZiAodCkgewoJCQkJCQkJCXZhciBvID0gdC5zcGxpdCgiICIpOwoJCQkJCQkJCWlmIChvLmxlbmd0aCA+IDEpIHJldHVybgoJCQkJCQkJfQoJCQkJCQkJcygiYS5yZS1nd2QtZGVzYy5nd2QtZGVzYyIpLmhpZGUoKSwgcygiYS5yZS1nd2QtZGVzYy5nd2QtZGVzYyIpLnJlbW92ZUNsYXNzKCJnd2QtY2xvc2UtbW9kdWxlIik7CgkJCQkJCQl2YXIgciA9IG4oMTQ0KTsKCQkJCQkJCXMoIi5nd2QtcmUtY2hhbmdlLWxvZ28iKS5hZnRlcihsLmNvbXBpbGUocikoewoJCQkJCQkJCWJyb3dzZXI6IHAsCgkJCQkJCQkJc19zZXJ2ZXI6IGEuc19zZXJ2ZXIsCgkJCQkJCQkJbGlua0NsYXNzOiBhLmV4dE5hbWUgKyAiX2xpbmsiCgkJCQkJCQl9KSksIHMoImRpdi5nd2RfdXBkYXRlX3NoZW5namkgLnNoZW5namlfY29udGVudCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpCgkJCQkJCQl9KSwgcygiI25ld19kb3dubG9hZF9uZXdfYnV0dG9uX2JvdHRvbSBpbWciKS5hdHRyKCJzcmMiLCBhLnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9mcmVlXyIgKyBwLnV0eXBlICsgIi5wbmciKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKQoJCQkJCQkJfSksICJjaHJvbWUiID09PSBwLnV0eXBlID8gcygiI25ld19kb3dubG9hZF9uZXdfdHh0X2JvdHRvbSIpLnRleHQoIjM2MOeUqOaIt+ivt+eCueatpOS4i+i9vSIpLmF0dHIoImhyZWYiLCAiaHR0cHM6Ly9leHQuc2UuMzYwLmNuL3dlYnN0b3JlL2RldGFpbC9uZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIpLmNzcygiY29sb3IiLCAiZ3JheSIpLmFkZENsYXNzKGEuZXh0TmFtZSArICJfbGluayIpIDogKCIzNjBzZSIgPT09IHAudXR5cGUgfHwgIjM2MGVlIiA9PT0gcC51dHlwZSkgJiYgcygiI25ld19kb3dubG9hZF9uZXdfdHh0X2JvdHRvbSIpLnRleHQoImNocm9tZeeUqOaIt+ivt+eCueatpOS4i+i9vSIpLmF0dHIoImhyZWYiLCAiaHR0cDovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vYXBwL2V4dGVuc2lvbj9mcm9tX2RldmljZT0iICsgYS5mcm9tX2RldmljZV9udW0pLmNzcyh7CgkJCQkJCQkJY29sb3I6ICJncmF5IiwKCQkJCQkJCQlyaWdodDogIjI0cHgiCgkJCQkJCQl9KS5hZGRDbGFzcyhhLmV4dE5hbWUgKyAiX2xpbmsiKSwgaSgpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwgci5taW5pYmFyID0gZnVuY3Rpb24oKSB7CgkJCQkJZSgpICYmIHIuaXNCZWlqaW5nKGZ1bmN0aW9uKG4pIHsKCQkJCQkJaWYgKCFuICYmIGUoKSAmJiAhYS5JRTYpIHsKCQkJCQkJCXZhciBpID0gcygiI0JJSklBX0hBU19CVUlMVCIpLmF0dHIoImNsYXNzIik7CgkJCQkJCQlpZiAoaSkgewoJCQkJCQkJCXZhciBvID0gaS5zcGxpdCgiICIpOwoJCQkJCQkJCWlmIChvLmxlbmd0aCA+IDEpIHJldHVybgoJCQkJCQkJfQoJCQkJCQkJcygiI2d3ZC1icmFuZC1zdWJzY3JpYmUtYm94IikuYWZ0ZXIobC5jb21waWxlKGMpKHsKCQkJCQkJCQlicm93c2VyOiBwLAoJCQkJCQkJCXNfc2VydmVyOiBhLnNfc2VydmVyLAoJCQkJCQkJCWxpbmtDbGFzczogYS5leHROYW1lICsgIl9saW5rIgoJCQkJCQkJfSkpLCBzKCJhLmd3ZF91cGRhdGUiKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKQoJCQkJCQkJfSksIHMoIiNuZXdfZG93bmxvYWRfbmV3X2J1dHRvbiBpbWciKS5hdHRyKCJzcmMiLCBhLnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9mcmVlXyIgKyBwLnV0eXBlICsgIi5wbmciKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKQoJCQkJCQkJfSksICJjaHJvbWUiID09PSBwLnV0eXBlID8gcygiI25ld19kb3dubG9hZF9uZXdfdHh0IikudGV4dCgiMzYw55So5oi36K+354K55q2k5LiL6L29IikuYXR0cigiaHJlZiIsICJodHRwczovL2V4dC5zZS4zNjAuY24vd2Vic3RvcmUvZGV0YWlsL25mYmlrZGtqZmpjZWpkZGJkY3BiYWZuY2xrZmRoaWpkIikuY3NzKCJjb2xvciIsICJncmF5IikuYWRkQ2xhc3MoYS5leHROYW1lICsgIl9saW5rIikgOiAoIjM2MHNlIiA9PT0gcC51dHlwZSB8fCAiMzYwZWUiID09PSBwLnV0eXBlKSAmJiBzKCIjbmV3X2Rvd25sb2FkX25ld190eHQiKS50ZXh0KCJjaHJvbWXnlKjmiLfor7fngrnmraTkuIvovb0iKS5hdHRyKCJocmVmIiwgImh0dHA6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL2FwcC9leHRlbnNpb24/ZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2VfbnVtKS5jc3MoewoJCQkJCQkJCWNvbG9yOiAiZ3JheSIsCgkJCQkJCQkJcmlnaHQ6ICIyNHB4IgoJCQkJCQkJfSkuYWRkQ2xhc3MoYS5leHROYW1lICsgIl9saW5rIiksIHQoKQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sIHIudHJlbmRVcGRhdGUgPSBmdW5jdGlvbigpIHsKCQkJCQllKCkgJiYgci5pc0JlaWppbmcoZnVuY3Rpb24odCkgewoJCQkJCQkhdCAmJiBlKCkgJiYgKHMoIiNnd2QtdHJlbmQtY2hhcnQiKS5hcHBlbmQoJzxhIGNsYXNzPSJnd2RfYm90dG9tdHJlbmRfdXBkYXRlICcgKyBhLmV4dE5hbWUgKyAnX2xpbmsiIGhyZWY9IicgKyBwLnVybCArICciIHRhcmdldD0iX2JsYW5rIiA+PC9hPicpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCkKCQkJCQkJfSksIHMoIiNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX2luZm8iKS5hcHBlbmQoJzxhIGNsYXNzPSJnd2RfdXBkYXRlX3RyZW5kX2J0biAnICsgYS5leHROYW1lICsgJ19saW5rIiBocmVmPSInICsgcC51cmwgKyAnIiB0YXJnZXQ9Il9ibGFuayIgPjwvYT4nKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpCgkJCQkJCX0pKQoJCQkJCX0pCgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9InNodXhpYW4iPnw8L2Rpdj5cbjxkaXYgaWQ9Imd3ZF91cGRhdGVfbmV3X3dyYXBwZXIiPlxuICA8YSBocmVmPSJ7e2Jyb3dzZXIudXJsfX0iIGNsYXNzPSJnd2RfdXBkYXRlIHt7bGlua0NsYXNzfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZGl2IGNsYXNzPSJnd2RfdXBkYXRlX2ljb24iPjxpbWcgY2xhc3M9Imd3ZF91cGRhdGVfaWNvbl9vdXQiIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2ZyZWVkb3duZG93bmxvYWQuZ2lmIj48L2Rpdj5cbiAgICA8c3Bhbj7kvZPpqozmnIDmlrDniYjmnKzmr5Tku7flt6Xlhbc8L3NwYW4+XG4gIDwvYT5cbiAgPGRpdiBjbGFzcz0iZ3dkX3VwZGF0ZV93aXNoX2RldGFpbCI+XG4gICAgPGRpdiBjbGFzcz0iZ3dkX3VwZGF0ZV9kZXRhaWxfdHh0Ij5cbiAgICAgICAgPHAgY2xhc3M9InBhbGJfaW5fdHh0Ij7kurLvvIzkvaDkubDliLDmnIDkvY7ku7fkuoblkJfvvJ88L3A+XG4gICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZnJlZWRvd25iYWNrZ3JvdW5kZ3JhcGgucG5nIj5cbiAgICAgICAgPGRpdiBjbGFzcz0icGFyYl9pbl90eHQiPlxuICAgICAgICAgIDxwIGNsYXNzPSJjb2xvcnJlZCI+56uL5Y2z5Y2H57qn6Iez6LSt54mp5YWaPHNwYW4gY2xhc3M9ImJpZyI+Jm5ic3A7NS4yLjkyPC9zcGFuPjwvcD5cbiAgICAgICAgICA8cD7oh6rliqjmkJzntKLllYblk4E8c3BhbiBjbGFzcz0iYmlnY29sb3IiPiZuYnNwO+acgOS9juS7tzwvc3Bhbj48L3A+XG4gICAgICAgICAgPHA+MTgw5aSpPHNwYW4gY2xhc3M9ImJpZ2NvbG9yIj4mbmJzcDvku7fmoLzotbDlir/lm748L3NwYW4+PC9wPlxuICAgICAgICAgIDxwPuaUr+aMgeWQhOWkp+S4u+a1gea1j+iniOWZqDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxhIGlkPSJuZXdfZG93bmxvYWRfbmV3X2J1dHRvbiIgaHJlZj0ie3ticm93c2VyLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Int7bGlua0NsYXNzfX0iPlxuICAgICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZnJlZV9jaHJvbWUucG5nIj5cbiAgICAgICAgPC9hPiBcbiAgICAgICAgPGEgaWQ9Im5ld19kb3dubG9hZF9uZXdfdHh0IiBocmVmPSIiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ie3tsaW5rQ2xhc3N9fSI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF91cGRhdGVfc2hlbmdqaSBnd2QtY2xvc2UtbW9kdWxlIj5cbiAgPGRpdiBjbGFzcz0ic2hlbmdqaV9jb250ZW50Ij5cbiAgICA8YSBocmVmID0ie3ticm93c2VyLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Int7bGlua0NsYXNzfX0iPuWNh+e6pzwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Imd3ZF91cGRhdGVfZGV0YWlsIj5cbiAgICA8cCBjbGFzcz0icGFsYl9pbl90eHQiPuS6su+8jOS9oOS5sOWIsOacgOS9juS7t+S6huWQl++8nzwvcD5cbiAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2ZyZWVkb3duYmFja2dyb3VuZGdyYXBoLnBuZyI+XG4gICAgPGRpdiBjbGFzcz0icGFyYl9pbl90eHQiPlxuICAgICAgPHAgY2xhc3M9ImNvbG9ycmVkIj7nq4vljbPljYfnuqfoh7PotK3nianlhZo8c3BhbiBjbGFzcz0iYmlnIj4mbmJzcDs1LjIuOTI8L3NwYW4+PC9wPlxuICAgICAgPHA+6Ieq5Yqo5pCc57Si5ZWG5ZOBPHNwYW4gY2xhc3M9ImJpZ2NvbG9yIj4mbmJzcDvmnIDkvY7ku7c8L3NwYW4+PC9wPlxuICAgICAgPHA+MTgw5aSpPHNwYW4gY2xhc3M9ImJpZ2NvbG9yIj4mbmJzcDvku7fmoLzotbDlir/lm748L3NwYW4+PC9wPlxuICAgICAgPHA+5pSv5oyB5ZCE5aSn5Li75rWB5rWP6KeI5ZmoPC9wPlxuICAgIDwvZGl2PlxuICAgIDxhIGlkPSJuZXdfZG93bmxvYWRfbmV3X2J1dHRvbl9ib3R0b20iIGhyZWY9Int7YnJvd3Nlci51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ7e2xpbmtDbGFzc319Ij5cbiAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZnJlZV9jaHJvbWUucG5nIj5cbiAgICA8L2E+IFxuICAgIDxhIGlkPSJuZXdfZG93bmxvYWRfbmV3X3R4dF9ib3R0b20iIGhyZWY9IiIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ7e2xpbmtDbGFzc319Ij48L2E+XG4gIDwvZGl2PlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPHVsPlxuICB7e2VhY2ggZGF0YX19XG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmljb3VybH19Ij5cbiAgICAgICAgPHNwYW4gY2xhc3M9Im0taXRlbS1zaXRlbmFtZSI+e3skdmFsdWUuc2l0ZV9uYW1lfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJtLWl0ZW0tcHJpY2UiPsKle3skdmFsdWUucHJpY2V9fTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICB7ey9lYWNofX1cbjwvdWw+XG48YSBocmVmPSJ7e2FsbExpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJtLWFsbC1saW5rIj5cbiAg5p+l55yL5YWo6YOo77yIe3tzdG9yZVNpemV9fe+8iVxuPC9hPicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxwPuWVhuWfjuavlOS7tzwvcD5cbjx1bD5cbiAge3tlYWNoIGRhdGF9fVxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgIDxpbWcgc3JjPSJ7eyR2YWx1ZS5pY291cmx9fSI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJtLWl0ZW0tcHJpY2UyIj7CpXt7JHZhbHVlLnByaWNlfX08L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAge3svZWFjaH19XG48L3VsPlxuPGEgaHJlZj0ie3thbGxMaW5rfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ibS1hbGwtbGluazIiPlxuICDmn6XnnIvlhajpg6jvvIh7e3N0b3JlU2l6ZX1977yJXG48L2E+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAudHJlbmQtY29tLW1pbmkgcHtcbiAgICBoZWlnaHQ6IDQ1cHg7XG4gICAgbGluZS1oZWlnaHQ6IDQ1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogIzMzMyFpbXBvcnRhbnQ7XG4gIH1cbiAgLnRyZW5kLWNvbS1taW5pIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIHdpZHRoOiAxMTNweDtcbiAgfVxuICAudHJlbmQtY29tLW1pbmkgdWwgbGkge1xuICAgIGhlaWdodDogMjhweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgbWFyZ2luLXRvcDogNHB4O1xuICB9XG4gIC50cmVuZC1jb20tbWluaSB1bCBsaTpmaXJzdC1jaGlsZCB7XG4gICAgbWFyZ2luLXRvcDogMHB4O1xuICB9XG4gIC50cmVuZC1jb20tbWluaSB1bCBsaTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VkZjFmMTtcbiAgfVxuICAudHJlbmQtY29tLW1pbmkgdWwgbGkgaW1nIHtcbiAgICBoZWlnaHQ6IDE2cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDExcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICB9XG4gIC50cmVuZC1jb20tbWluaSB1bCBsaSBzcGFuIHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgbWFyZ2luLXJpZ2h0OiA5cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjOWI5YjliO1xuICB9XG4gIC5tLWFsbC1saW5rMiB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgY29sb3I6ICM1ZWJlZmYhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDI4KTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gMDsKCQkJCTAgIT09IHQucGFnZUluZm8udHlwZSAmJiB0LnNpdGUgJiYgKHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpICYmIChlID0gSlNPTi5zdHJpbmdpZnkodC5kcCkpLCBpLnRyaWdnZXIoewoJCQkJCXR5cGU6ICJ0YnRtbWFyayIsCgkJCQkJaW5mbzogZQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQkoInVsZSIgPT09IGEuc2l0ZSB8fCAieWVzbXl3aW5lIiA9PT0gYS5zaXRlKSAmJiAoQXJyYXkucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgdGhpcy5sZW5ndGg7IG4rKykgZSh0aGlzW25dKSAmJiB0LnB1c2godGhpc1tuXSk7CgkJCQkJcmV0dXJuIHQKCQkJCX0pLCAid3N0eCIgPT09IGEuc2l0ZSAmJiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG47CgkJCQkJaWYgKG51bGwgPT0gdGhpcykgdGhyb3cgbmV3IFR5cGVFcnJvcignInRoaXMiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTsKCQkJCQl2YXIgaSA9IE9iamVjdCh0aGlzKSwKCQkJCQkJYSA9IGkubGVuZ3RoID4+PiAwOwoJCQkJCWlmICgwID09PSBhKSByZXR1cm4gLTE7CgkJCQkJdmFyIG8gPSArdCB8fCAwOwoJCQkJCWlmIChNYXRoLmFicyhvKSA9PT0gMSAvIDAgJiYgKG8gPSAwKSwgbyA+PSBhKSByZXR1cm4gLTE7CgkJCQkJZm9yIChuID0gTWF0aC5tYXgobyA+PSAwID8gbyA6IGEgLSBNYXRoLmFicyhvKSwgMCk7IGEgPiBuOykgewoJCQkJCQlpZiAobiBpbiBpICYmIGlbbl0gPT09IGUpIHJldHVybiBuOwoJCQkJCQluKysKCQkJCQl9CgkJCQkJcmV0dXJuIC0xCgkJCQl9KQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7CgkJCQkia2VlZGUiID09PSB0LnNpdGUgJiYgImZ1bmN0aW9uIGZvckVhY2goKSB7IFtuYXRpdmUgY29kZV0gfSIgIT09IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLnRvU3RyaW5nKCkgJiYgKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpOwoJCQkJCWlmIChudWxsID09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3IoIiB0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWQiKTsKCQkJCQl2YXIgYSA9IE9iamVjdCh0aGlzKSwKCQkJCQkJbyA9IGEubGVuZ3RoID4+PiAwOwoJCQkJCWlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKGUgKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CgkJCQkJZm9yIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiAobiA9IHQpLCBpID0gMDsgbyA+IGk7KSB7CgkJCQkJCXZhciByOwoJCQkJCQlpIGluIGEgJiYgKHIgPSBhW2ldLCBlLmNhbGwobiwgciwgaSwgYSkpLCBpKysKCQkJCQl9CgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSkgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbig2KTsKCQkJCSIzNjBidXkiID09PSBhLnNpdGUgJiYgZSgiI3NlcnZpY2UiKS5jc3MoewoJCQkJCSJ6LWluZGV4IjogMAoJCQkJfSksICJuZXdlZ2ciID09PSBhLnNpdGUgJiYgKGUoIi5nb29kc19pbmZvIikuY3NzKHsKCQkJCQlvdmVyZmxvdzogInZpc2libGUiCgkJCQl9KSwgZSgiLmdvb2RzX2luZm8iKS5jc3MoewoJCQkJCW92ZXJmbG93OiAiaW5pdGlhbCIKCQkJCX0pLCBlKCIuZ29vZHNfb3RoZXJpbmZvIikuY3NzKHsKCQkJCQl6SW5kZXg6IDkKCQkJCX0pKSwgInlvdWdvdSIgPT09IGEuc2l0ZSAmJiAoZSgiLmdvb2RzQ29uIikuY3NzKHsKCQkJCQl6SW5kZXg6IDMKCQkJCX0pLCBlKCIuY2VuX3Njcm9sbCIpLmNzcyh7CgkJCQkJInotaW5kZXgiOiAwCgkJCQl9KSksICJ2YW5jbCIgPT09IGEuc2l0ZSAmJiBlKCIuZGFucGluUmlnaHQiKS5jc3MoewoJCQkJCW92ZXJmbG93OiAidmlzaWJsZSIKCQkJCX0pLCAiZ29tZSIgPT09IGEuc2l0ZSAmJiBlKCIuaGlnaGNoYXJ0cy10b29sdGlwIHNwYW4iKS5jc3MoewoJCQkJCSJmbG9hdCI6ICJub25lIgoJCQkJfSksICJzZWNvbyIgPT09IGEuc2l0ZSAmJiAoZSgiLiIgKyBhLmV4dE5hbWUgKyAiLW5hdiAuY29udGVudHMiKS5jc3MoewoJCQkJCXdpZHRoOiAiYXV0byIsCgkJCQkJImJveC1zaGFkb3ciOiAibm9uZSIsCgkJCQkJYmFja2dyb3VuZDogInJnYigyNDcsMjQ3LDI0NykiCgkJCQl9KSwgZSgiLiIgKyBhLmV4dE5hbWUgKyAiLW5hdiAuY29udGVudHMiKS5jc3MoewoJCQkJCXdpZHRoOiAiaW5pdGlhbCIKCQkJCX0pKSwgInhpdSIgPT09IGEuc2l0ZSAmJiBlKCIjcmlnaHRfaW5mbyIpLmNzcyh7CgkJCQkJd2lkdGg6ICJhdXRvIgoJCQkJfSkKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAnPGEgaWQ9InJldmlld19idG4iICBocmVmPSJqYXZhc2NyaXB0OiI+PHNwYW4gY2xhc3M9InJldmlld19pY29uIG5ld2ItYmciPjwvc3Bhbj48c3BhbiBjbGFzcz0icmV2aWV3X3RleHQiPuWPo+eikTwvc3Bhbj48L2E+JzsKCQkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChhLmNvbXBpbGUoZSkoe30pKQoJCQkJfSwKCQkJCXIgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMCwKCQkJCQkJbiA9IHZvaWQgMDsKCQkJCQl0KCIjcmV2aWV3X2J0biIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWlmICghZSkgewoJCQkJCQkJdmFyIG4gPSB0KCIucmV2aWV3LWdvb2QiKS5hdHRyKCJkYXRhLWQiKTsKCQkJCQkJCXQoIi4iICsgbikuc2hvdygpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSB0KHRoaXMpLm9mZnNldCgpLmxlZnQ7CgkJCQkJCXQoIiNyZXZpZXdfZGV0YWlsIikuY3NzKCJsZWZ0IiwgaSArICJweCIpLCB0KCIjcmV2aWV3X2RldGFpbCIpLnNob3coKSwgdCh0aGlzKS5hZGRDbGFzcygibXNlbnRlciIpLCB0KHdpbmRvdykud2lkdGgoKSAtICh0KCIjcmV2aWV3X2RldGFpbCIpLm9mZnNldCgpLmxlZnQgKyB0KCIjcmV2aWV3X2RldGFpbCIpLm91dGVyV2lkdGgoKSArIDIpIDwgMCAmJiB0KCIjcmV2aWV3X2RldGFpbCIpLmNzcygicmlnaHQiLCAiMHB4IikuY3NzKCJsZWZ0IiwgImF1dG8iKQoJCQkJCX0pLCB0KCIjcmV2aWV3X2J0biIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpczsKCQkJCQkJbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl0KCIjcmV2aWV3X2RldGFpbCIpLmhpZGUoKSwgdChlKS5yZW1vdmVDbGFzcygibXNlbnRlciIpCgkJCQkJCX0sIDIwMCkKCQkJCQl9KSwgdCgiI3Jldmlld19kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQobikKCQkJCQl9KSwgdCgiI3Jldmlld19kZXRhaWwiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCIjcmV2aWV3X2RldGFpbCIpLmhpZGUoKSwgdCgiI3Jldmlld19idG4iKS5yZW1vdmVDbGFzcygibXNlbnRlciIpCgkJCQkJfSksIHQoIiNyZXZpZXdfZGV0YWlsIC5yZXZpZXctdGFiIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPSAhMDsKCQkJCQkJdmFyIG4gPSB0KHRoaXMpLmF0dHIoImRhdGEtZCIpOwoJCQkJCQl0KCIjcmV2aWV3X2RldGFpbCAucmV2aWV3LXRhYiIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCB0KHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCB0KCIucmV2aWV3LXJpZ2h0PmRpdiIpLmhpZGUoKSwgdCgiLiIgKyBuKS5zaG93KCkKCQkJCQl9KQoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBpLm5vd19kcF9pZDsKCQkJCQlpZiAoZS5iYWQgJiYgZS5iYWQubGVuZ3RoID4gMCkKCQkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmJhZC5sZW5ndGg7IG4rKykgewoJCQkJCQkJdmFyIGEgPSBpLmNfc2VydmVyICsgIi9jcmM2NC9kcCIgKyB0ICsgIi9yZXZpZXdzLz9yd29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuYmFkW25dLmxhYmVsKSArICImZXh0PTEmcnR5cGU9MiI7CgkJCQkJCQllLmJhZFtuXS51cmwgPSBhCgkJCQkJCX0KCQkJCQlpZiAoZS5nb29kICYmIGUuZ29vZC5sZW5ndGggPiAwKQoJCQkJCQlmb3IgKHZhciBuID0gMDsgbiA8IGUuZ29vZC5sZW5ndGg7IG4rKykgewoJCQkJCQkJdmFyIGEgPSBpLmNfc2VydmVyICsgIi9jcmM2NC9kcCIgKyB0ICsgIi9yZXZpZXdzLz9yd29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuZ29vZFtuXS5sYWJlbCkgKyAiJmV4dD0xJnJ0eXBlPTEiOwoJCQkJCQkJZS5nb29kW25dLnVybCA9IGEKCQkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQllLmdvb2Rib3ggPSAicmV2aWV3LXItZ29vZCIsIGUuYmFkYm94ID0gInJldmlldy1yLWJhZCIsIGUuZ29vZCB8fCAoZS5nb29kYm94ID0gInJldmlldy1yLW5vaW5mbyIpLCBlLmJhZCB8fCAoZS5iYWRib3ggPSAicmV2aWV3LXItbm9pbmZvIik7CgkJCQkJdmFyIG8gPSBuKDE1Mik7CgkJCQkJZSA9IHMoZSk7CgkJCQkJdmFyIGwgPSBhLmNvbXBpbGUobykoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlcgoJCQkJCX0pOwoJCQkJCXQoIiMiICsgaS5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKGwpLCByKCkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQkJIWUgfHwgIWUucmV2aWV3cyB8fCBlLnJldmlld3MgaW5zdGFuY2VvZiBBcnJheSB8fCAobygpLCBsKGUucmV2aWV3cykpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJyZXZpZXdfZGV0YWlsIiBjbGFzcz0icmV2aWV3LWJveCI+XG4gIDxkaXYgY2xhc3M9InJldmlldy1sZWZ0Ij5cbiAgICA8ZGl2IGNsYXNzPSJyZXZpZXctdGFiIHJldmlldy1nb29kIHNlbGVjdGVkIiBkYXRhLWQ9Int7ZGF0YS5nb29kYm94fX0iPlxuICAgICAgPGVtIGNsYXNzPSJuZXdiLWJnIj48L2VtPlxuICAgICAgPHNwYW4+5aW96K+EPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJldmlldy10YWIgcmV2aWV3LWJhZCIgZGF0YS1kPSJ7e2RhdGEuYmFkYm94fX0iPlxuICAgICAgPGVtIGNsYXNzPSJuZXdiLWJnIj48L2VtPlxuICAgICAgPHNwYW4+5beu6K+EPC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icmV2aWV3LXJpZ2h0Ij5cbiAgICA8ZGl2IGNsYXNzPSJyZXZpZXctci1nb29kIj5cbiAgICAgIHt7ZWFjaCBkYXRhLmdvb2R9fVxuICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPnt7JHZhbHVlLmxhYmVsfX0oe3skdmFsdWUubnVtfX0pPC9hPlxuICAgICAge3svZWFjaH19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icmV2aWV3LXItYmFkIj5cbiAgICAgIHt7ZWFjaCBkYXRhLmJhZH19XG4gICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+e3skdmFsdWUubGFiZWx9fSh7eyR2YWx1ZS5udW19fSk8L2E+XG4gICAgICB7ey9lYWNofX1cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJyZXZpZXctci1ub2luZm8iPlxuICAgICAgPGVtIGNsYXNzPSJyZXZpZXctYmciPjwvZW0+XG4gICAgICA8c3Bhbj7mmoLml6Dor4Torro8L3NwYW4+XG4gICAgPC9kaXY+XG4gIDwvZGl2PiBcbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAucmV2aWV3LWJnIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy94YnQvcmV2aWV3LWJnLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgICNyZXZpZXdfYnRuIHtcbiAgICAgIHdpZHRoOiA1OXB4O1xuICAgIH1cbiAgICAjcmV2aWV3X2J0biAucmV2aWV3X2ljb257XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIHdpZHRoOiAyMnB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3MXB4IC0xOXB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgIH1cbiAgICAjcmV2aWV3X2J0bi5tc2VudGVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB6LWluZGV4OiA5OTk5OTk5OTk5OTk5OTk5O1xuICAgICAgaGVpZ2h0OiAzOHB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAjcmV2aWV3X2J0biAucmV2aWV3X3RleHQge1xuICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIGNvbG9yOiAjNDk0ZDUwO1xuICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgI3Jldmlld19kZXRhaWwge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAzNXB4O1xuICAgICAgd2lkdGg6IDU3MHB4O1xuICAgICAgaGVpZ2h0OiA4NXB4O1xuICAgICAgei1pbmRleDogOTk5OTk5OTk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTZlNjtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5yZXZpZXctbGVmdCB7XG4gICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB3aWR0aDogODBweDtcbiAgICB9XG4gICAgLnJldmlldy1yaWdodCB7XG4gICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7ICBcbiAgICAgIHdpZHRoOiA0OTBweDtcbiAgICAgIGhlaWdodDogODVweDtcbiAgICB9XG4gICAgLnJldmlldy10YWIge1xuICAgICAgaGVpZ2h0OiA0MnB4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xuICAgICAgbGluZS1oZWlnaHQ6IDQycHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlNmU2ZTY7XG4gICAgfVxuICAgIC5yZXZpZXctdGFiIGVtIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgaGVpZ2h0OiAxOHB4O1xuICAgICAgd2lkdGg6IDE4cHg7XG4gICAgICBtYXJnaW46IDExcHggOHB4IDAgMTJweDtcbiAgICB9XG4gICAgLnJldmlldy10YWIgc3BhbiB7XG4gICAgICBjb2xvcjogIzI5MmIyYztcbiAgICB9XG4gICAgLnJldmlldy1nb29kIGVtIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC02NnB4IC0xNzBweDtcbiAgICB9XG4gICAgLnJldmlldy1iYWQgZW0ge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTg4cHggLTE3MHB4O1xuICAgIH1cbiAgICAucmV2aWV3LXRhYi5zZWxlY3RlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgIH1cbiAgICAucmV2aWV3LWdvb2Qge1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTY7XG4gICAgfVxuICAgIC5yZXZpZXctci1iYWQge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnJldmlldy1yaWdodCAucmV2aWV3LXItYmFkLCAucmV2aWV3LXJpZ2h0IC5yZXZpZXctci1nb29kIHtcbiAgICAgIHBhZGRpbmc6IDJweCAycHggMCAxMHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogODBweDtcbiAgICB9XG4gICAgLnJldmlldy1yLWJhZCBhLCAucmV2aWV3LXItZ29vZCBhIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBwYWRkaW5nOiAwIDZweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmUhaW1wb3J0YW50O1xuICAgIH1cbiAgICAucmV2aWV3LXItZ29vZCBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VmODI4MztcbiAgICB9XG4gICAgLnJldmlldy1yLWJhZCBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VmYzQzNDtcbiAgICB9XG4gICAgLnJldmlldy1yLW5vaW5mbyB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB3aWR0aDogMTMwcHg7XG4gICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgbWFyZ2luLWxlZnQ6IDE2OXB4O1xuICAgIH1cbiAgICAucmV2aWV3LXItbm9pbmZvIGVtIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDM5cHg7XG4gICAgICBoZWlnaHQ6IDQzcHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNTNweCAtMTE3cHg7XG4gICAgICBtYXJnaW4tdG9wOiAyM3B4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgfVxuICAgIC5yZXZpZXctci1ub2luZm8gc3BhbiB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI2IyYjJiMjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBtYXJnaW4tdG9wOiAzNXB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDNweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEsIG8gPSBuKDE2KSwKCQkJCXIgPSBuKDkpLAoJCQkJcyA9IG4oNDApLAoJCQkJbCA9IG4oMjYpLAoJCQkJYyA9IG4oMTMpLAoJCQkJZCA9IHt9OwoJCQlkLnNldHRpbWUgPSAxNTA7CgkJCXZhciBwID0gewoJCQkJCWFtYXpvbjogWyIjcHJpY2VibG9ja19kZWFscHJpY2Ugc3BhbiIsICIjcHJpY2VibG9ja19vdXJwcmljZSBzcGFuIC5idXlpbmdQcmljZSIsICIjcHJpY2VibG9ja19kZWFscHJpY2UiLCAiI3ByaWNlYmxvY2tfc2FsZXByaWNlIiwgIiNwcmljZWJsb2NrX291cnByaWNlIiwgIiNwcmljZV9mZWF0dXJlX2RpdiAuYS1jb2xvci1wcmljZSJdCgkJCQl9LAoJCQkJaCA9IHsKCQkJCQlhbWF6b246IFsiI3ByaWNlQmFkZ2luZ19mZWF0dXJlX2RpdiAuYS1jb2xvci1zZWNvbmRhcnkiLCAiI291cnByaWNlX3NoaXBwaW5nbWVzc2FnZSAuYS1jb2xvci1zZWNvbmRhcnkiXQoJCQkJfSwKCQkJCXUgPSB7CgkJCQkJYW1hem9uOiBbCgkJCQkJCVsiI3JjeC1zdWJzY3JpYmUtc3VibWl0LWJ1dHRvbiIsICJhZnRlciIsICJodC1zcGVjaWFsLWRvbSJdLAoJCQkJCQlbJy5hLWJ1dHRvbi1zdGFjayBzcGFuW2lkXj0ic3VibWl0Il0nLCAiYWZ0ZXIiLCAiaHQtc3BlY2lhbC1kb20iXSwKCQkJCQkJWyIjdG9nZ2xlQnV5Qm94ICNvbmV0aW1lPmRpdi5hLXNlY3Rpb24uYS1zcGFjaW5nLW5vbmUuYS1wYWRkaW5nLW5vbmUiLCAiYXBwZW5kIiwgImh0LXNwZWNpYWwtZG9tIl0sCgkJCQkJCVsiLmEtc3BhY2luZy1zbWFsbC5hLWJ1dHRvbi1wcmltYXJ5IiwgImFmdGVyIiwgImh0LXNwZWNpYWwtZG9tIl0sCgkJCQkJCVsiI3BhcnRpYWxTdGF0ZUJ1eWJveCAuYS1idXR0b24tc3RhY2siLCAiYWZ0ZXIiXSwKCQkJCQkJWyIjT25lQ2xpY2tCb3giLCAiYmVmb3JlIl0sCgkJCQkJCVsiI2dvbGRib3hCdXlCb3giLCAiYXBwZW5kIl0KCQkJCQldLAoJCQkJCSI2cG0iOiBbCgkJCQkJCVsiI3RyYW5zQnRucyIsICJhZnRlciJdLAoJCQkJCQlbIi5fMzB3dFUgLl8zN1k2RCIsICJhZnRlciJdCgkJCQkJXQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgPyBlID0gZS5pbmRleE9mKCI/IikgPiAtMSA/IGUgKyAiJnBfcj1nb3V3dWRhbmcmcF9rPXBsdWdfIiArIHQuc3R5bGUgKyAiJm91dGVyX3BpZD04NTA3IiA6IGUgKyAiP3Bfcj1nb3V3dWRhbmcmcF9rPXBsdWdfIiArIHQuc3R5bGUgKyAiJm91dGVyX3BpZD04NTA3IiA6IGUKCQkJCX0sCgkJCQlmID0gZnVuY3Rpb24oKSB7CgkJCQkJZm9yICh2YXIgZSA9IDAsIHQgPSAwLCBuID0gMDsgbiA8IHAuYW1hem9uLmxlbmd0aDsgbisrKSB7CgkJCQkJCXZhciBhID0gcC5hbWF6b25bbl07CgkJCQkJCWlmIChpKGEpLmxlbmd0aCA+IDAgJiYgaShhKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJZSA9IGkoYSkudGV4dCgpLnJlcGxhY2UoL1vvv6UkwqVccyxdKy9nLCAiIiksIGUuaW5kZXhPZigiLSIpID4gLTEgJiYgKGUgPSBlLnNwbGl0KCItIilbMF0pOwoJCQkJCQkJYnJlYWsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmb3IgKHZhciBuID0gMDsgbiA8IGguYW1hem9uLmxlbmd0aDsgbisrKSB7CgkJCQkJCXZhciBhID0gaC5hbWF6b25bbl07CgkJCQkJCWlmIChpKGEpLmxlbmd0aCA+IDAgJiYgaShhKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJdCA9IGkoYSkudGV4dCgpLm1hdGNoKC9bMC05Ll0rLykgJiYgaShhKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVsxXTsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQl9CgkJCQkJcmV0dXJuIHQgfHwgKHQgPSAwKSwgZSA9IE51bWJlcihlKSArIE51bWJlcih0KQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQuZHAsCgkJCQkJCW4gPSBlLm9sZFByaWNlOwoJCQkJCSJhbWF6b24iID09PSB0LnNpdGUgJiYgKG4gPSBmKCkpLCBuIHx8IChuID0gZS5vbGRQcmljZSksIGUudXJsIHx8IChlLnVybCA9IGxvY2F0aW9uLmhyZWYpLCBlLnNrdSB8fCAoZS5za3UgPSBlLnVybC5tYXRjaCgvKD86ZHB8cHJvZHVjdClcLyhbMC05YS16QS1aXSspLykgJiYgZS51cmwubWF0Y2goLyg/OmRwfHByb2R1Y3QpXC8oWzAtOWEtekEtWl0rKS8pWzFdKTsKCQkJCQl2YXIgaSA9ICgxMDAgKiBOdW1iZXIobikpLnRvRml4ZWQoMCksCgkJCQkJCWEgPSB0LnNlcnZlciArICIvYXBpL2hhaXRhbz9wcmljZT0iICsgaSArICImdXJsX2NyYz0iICsgZS5za3UgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUudXJsKTsKCQkJCQlkLnJlcXVlc3RVcmwgPSBhLCBkLmp1bXBpbmZvID0gInVybF9jcmM9IiArIGUuc2t1ICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnVybCksIGQuZnN0VGltZSA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpLCByLmdldChhKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGUgJiYgMSA9PT0gZS5kYXRhLnByb2R1Y3Rfc3RhdHVzKSB7CgkJCQkJCQl2YXIgdCA9IGUuZGF0YS5wcm9kdWN0X2RldGFpbDsKCQkJCQkJCXQudXJsID0gbShlLmRhdGEucHJvZHVjdF91cmwpLCB2KHQpCgkJCQkJCX0gZWxzZSBpZiAoIWUgfHwgMiAhPT0gZS5kYXRhLnByb2R1Y3Rfc3RhdHVzICYmIDMgIT09IGUuZGF0YS5wcm9kdWN0X3N0YXR1cykgewoJCQkJCQkJdmFyIGkgPSAiIjsKCQkJCQkJCTQgPT09IGUuZGF0YS5wcm9kdWN0X3N0YXR1cyA/IGkgPSAi5oqx5q2J77yM55Sx5LqO55u45YWz5rOV5b6L5oiW6L2s6L+Q56aB6L+Q55qE5Y6f5Zug77yM6K+l5ZWG5ZOB5peg5rOV5LiA6ZSu5rW35reY44CCIiA6IDUgPT09IGUuZGF0YS5wcm9kdWN0X3N0YXR1cyAmJiAoaSA9ICLmirHmrYnvvIzor6XllYblk4Hlt7LkuIvmnrbvvIzml6Dms5XkuIDplK7mtbfmt5jjgIIiKTsKCQkJCQkJCXZhciB0ID0gewoJCQkJCQkJCWdvb2RzX3ByaWNlOiBzKG4udG9GaXhlZCgyKSksCgkJCQkJCQkJdXJsOiAiamF2YXNjcmlwdDp2b2lkKCk7IiwKCQkJCQkJCQl0bGU6IGksCgkJCQkJCQkJbm9pbmZvOiAhMAoJCQkJCQkJfTsKCQkJCQkJCXYodCkKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXZhciB0ID0gdm9pZCAwOwoJCQkJCQkJZS5kYXRhLnByb2R1Y3RfZGV0YWlsX2VzdGltYXRlID8gKHQgPSBlLmRhdGEucHJvZHVjdF9kZXRhaWxfZXN0aW1hdGUsIHQudXJsID0gYigpKSA6IHQgPSB7CgkJCQkJCQkJZ29vZHNfcHJpY2U6IHMobi50b0ZpeGVkKDIpKSwKCQkJCQkJCQl1cmw6ICJqYXZhc2NyaXB0OnZvaWQoKTsiLAoJCQkJCQkJCXRsZTogIuaKseatie+8jOivpeWVhuWTgeaaguaXtuaXoOazleS4gOmUrua1t+a3mCIsCgkJCQkJCQkJbm9pbmZvOiAhMAoJCQkJCQkJfSwgdih0KQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sCgkJCQlfID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLmdvb2RzX29yaWdpbmFsX3ByaWNlID0gTnVtYmVyKChlLmdvb2RzX29yaWdpbmFsX3ByaWNlIC8gMTAwKS50b0ZpeGVkKDIpKSwgZS5nb29kc19wcmljZSA9IE51bWJlcigoZS5nb29kc19wcmljZSAvIDEwMCkudG9GaXhlZCgyKSksIGUub2ZmaWNpYWxfb3JpZ2luYWxfcG9zdGFnZSA9IE51bWJlcigoZS5vZmZpY2lhbF9vcmlnaW5hbF9wb3N0YWdlIC8gMTAwKS50b0ZpeGVkKDIpKSwgZS5vZmZpY2lhbF9wb3N0YWdlID0gTnVtYmVyKChlLm9mZmljaWFsX3Bvc3RhZ2UgLyAxMDApLnRvRml4ZWQoMikpLCBlLnhtX29mZmljaWFsID0gZS5vZmZpY2lhbF9vcmlnaW5hbF9wb3N0YWdlIC0gZS5vZmZpY2lhbF9wb3N0YWdlLCBlLmludGVybmF0aW9uYWxfb3JpZ2luYWxfcG9zdGFnZSA9IE51bWJlcigoZS5pbnRlcm5hdGlvbmFsX29yaWdpbmFsX3Bvc3RhZ2UgLyAxMDApLnRvRml4ZWQoMikpLCBlLmludGVybmF0aW9uYWxfcG9zdGFnZSA9IE51bWJlcigoZS5pbnRlcm5hdGlvbmFsX3Bvc3RhZ2UgLyAxMDApLnRvRml4ZWQoMikpLCBlLnhtX2ludGVybmF0aW9uYWwgPSBlLmludGVybmF0aW9uYWxfb3JpZ2luYWxfcG9zdGFnZSAtIGUuaW50ZXJuYXRpb25hbF9wb3N0YWdlLCBlLnRheF9vcmlnaW5hbF9mZWUgPSBOdW1iZXIoKGUudGF4X29yaWdpbmFsX2ZlZSAvIDEwMCkudG9GaXhlZCgyKSksIGUudGF4X2ZlZSA9IE51bWJlcigoZS50YXhfZmVlIC8gMTAwKS50b0ZpeGVkKDIpKSwgZS54bV9mZWUgPSBlLnRheF9vcmlnaW5hbF9mZWUgLSBlLnRheF9mZWUsIGUucHVyZVByaWNlID0gZS5nb29kc19wcmljZSArIGUub2ZmaWNpYWxfcG9zdGFnZSArIGUuaW50ZXJuYXRpb25hbF9wb3N0YWdlICsgZS50YXhfZmVlLCBlLnB1cmVQcmljZSA9IGUucHVyZVByaWNlLnRvRml4ZWQoMiksIGUuZ29vZHNfcHJpY2UgPSBlLmdvb2RzX3ByaWNlLnRvRml4ZWQoMiksIGUKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oKSB7CgkJCQkJaSgiI3lpamlhbmhhaXRhbyAueWpodC1oZWFkIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJbCgidHJhY2s6eWpodDpkZXRhaWwiKSwgYy5sb2coInRyYWNrOnlqaHQ6ZGV0YWlsIiksIGQuc2hvd2RldGFpbCA9ICEwLCBpKCIjeWlqaWFuaGFpdGFvIC55amh0LWRldGFpbCIpLnNob3coKQoJCQkJCX0pLCBpKCIjeWlqaWFuaGFpdGFvIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiI3lpamlhbmhhaXRhbyAueWpodC1kZXRhaWwiKS5oaWRlKCkKCQkJCQl9KSwgaSgiI3lpamlhbmhhaXRhbyAueWpodC1oZWFkIC55amh0LXRpdGxlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaSh0aGlzKS5hdHRyKCJocmVmIik7CgkJCQkJCWUgJiYgZS5pbmRleE9mKCJoYWl0YW9taWQiKSA+IC0xIHx8IGUgJiYgZS5pbmRleE9mKCJnb3V3dWRhbmciKSA+IC0xICYmIChsKCJjbGljazp5amh0OnRpdGxlIiksIGMubG9nKCJjbGljazp5amh0OnRpdGxlIikpCgkJCQkJfSkKCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIGEgPSB1W3Quc2l0ZV0sIHIgPSB2b2lkIDAsIHMgPSAwOyBzIDwgYS5sZW5ndGg7IHMrKykKCQkJCQkJaWYgKGkoYVtzXVswXSkubGVuZ3RoID4gMCAmJiBpKGFbc11bMF0pLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQlyID0gYVtzXTsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQl2YXIgbCA9ICIiLAoJCQkJCQljID0gaShyWzBdKS53aWR0aCgpOwoJCQkJCXJbMl0gJiYgYyA+IDIxMCAmJiAobCA9IHJbMl0pOwoJCQkJCXZhciBkID0gbigxNTQpLAoJCQkJCQlwID0gby5jb21waWxlKGQpKHsKCQkJCQkJCWRwOiBlLAoJCQkJCQkJc3Bkb206IGwsCgkJCQkJCQl0bGU6IGUudGxlLAoJCQkJCQkJaW5zZXJ0d2lkdGg6IGMsCgkJCQkJCQlleHROYW1lOiB0LmV4dE5hbWUKCQkJCQkJfSk7CgkJCQkJImJlZm9yZSIgPT09IHJbMV0gPyBpKHJbMF0pLmJlZm9yZShwKSA6ICJhcHBlbmQiID09PSByWzFdID8gaShyWzBdKS5hcHBlbmQocCkgOiAiYWZ0ZXIiID09PSByWzFdICYmIGkoclswXSkuZXEoMCkuYWZ0ZXIocCksIHgoKQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbihlKSB7CgkJCQkJZS5ub2luZm8gfHwgKGUgPSBfKGUpKSwgZC5kcGluZm8gPSBlLCB3KGUpOwoJCQkJCXZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1eWJveF9mZWF0dXJlX2RpdiIpOwoJCQkJCXQgJiYgdC5hZGRFdmVudExpc3RlbmVyKCJET01TdWJ0cmVlTW9kaWZpZWQiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGEpLCBhID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCWkoIiN5aWppYW5oYWl0YW8iKS5sZW5ndGggPiAwICYmIGkoIiN5aWppYW5oYWl0YW8iKS5pcygiOnZpc2libGUiKSB8fCAoaSgiI3lpamlhbmhhaXRhbyIpLnJlbW92ZSgpLCB3KGQuZHBpbmZvKSkKCQkJCQkJfSwgMmUzKQoJCQkJCX0pCgkJCQl9LAoJCQkJYiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gImh0dHA6Ly93d3cuZ3dkYW5nLmNvbS9wcm9tb3Rpb24vaGFpdGFvbWlkPyIgKyBkLmp1bXBpbmZvICsgIiZmX2Q9IiArIHQuZnJvbV9kZXZpY2U7CgkJCQkJcmV0dXJuIGUKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQkid3d3LmFtYXpvbi5kZSIgIT09IGxvY2F0aW9uLmhvc3QgJiYgZygpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ5aWppYW5oYWl0YW8iIGNsYXNzPSJ5amh0LWJveCB7e3NwZG9tfX0iPlxuICAgIDxkaXYgY2xhc3M9InlqaHQtaGVhZCI+XG4gICAgICA8YSBocmVmPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ5amh0LXNpdGUtaWNvbiI+PC9hPlxuICAgICAgPGEge3tpZiAhZHAubm9pbmZvfX0gaHJlZj0ie3tkcC51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHt7L2lmfX0gY2xhc3M9InlqaHQtdGl0bGUge3tpZiBkcC5ub2luZm99fSBub2luZm97ey9pZn19Ij5cbiAgICAgICAgPHNwYW4gY2xhc3M9InRpdGxlLXNwMSI+5LiA6ZSu5rW35reY77yaPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idGl0bGUtc3AyIj7vv6V7e2RwLmdvb2RzX3ByaWNlfX08L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gICAge3tpZiBkcC5ub3VybH19XG4gICAgICA8ZGl2IGNsYXNzPSJ5amh0LWRldGFpbCB5amh0LW5vdXJsLWRldGFpbCI+XG4gICAgICAgIDxpbWcgc3JjPSJodHRwOi8vY2RuLnt7ZXh0TmFtZX19LmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW8vZG9nX2xvYWRpbmcuZ2lmIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8c3Bhbj7liLDmiYvku7flrp7ml7borqHnrpfkuK08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9Imh0LWppbmR1dGlhbyI+MCU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAge3tlbHNlIGlmICFkcC5ub2luZm99fVxuICAgICAgPGRpdiBjbGFzcz0ieWpodC1kZXRhaWwiPlxuICAgICAgICA8ZGl2IGNsYXNzPSJ5amh0LWl0ZW0iPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LWl0ZW0tc3AxIj7lrpjnvZHov5DotLk8L3NwYW4+IO+8mlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAg77+le3tkcC5vZmZpY2lhbF9wb3N0YWdlfX0gXG4gICAgICAgICAgICB7e2lmIGRwLnhtX29mZmljaWFsICE9IDB9fVxuICAgICAgICAgICAgICDvvIhcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRlbC1saW5lIj57e2RwLnhtX29mZmljaWFsfX08L3NwYW4+IFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ieWpodC14bSI+6ZmQ5YWNPC9zcGFuPlxuICAgICAgICAgICAgICDvvIlcbiAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ5amh0LWl0ZW0iPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LWl0ZW0tc3AxIj7ovazov5DotLk8L3NwYW4+IO+8mlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LXpodWFueXVuIj7vv6V7e2RwLmludGVybmF0aW9uYWxfcG9zdGFnZX19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0ieWpodC1pdGVtIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ieWpodC1pdGVtLXNwMSI+56iO6LS5PC9zcGFuPiDvvJpcbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICDvv6V7e2RwLnRheF9mZWV9fVxuICAgICAgICAgIHt7aWYgZHAueG1fZmVlICE9IDB9fVxuICAgICAgICAgICAg77yIPHNwYW4gY2xhc3M9ImRlbC1saW5lIj57e2RwLnhtX2ZlZX19PC9zcGFuPiBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LXhtIj7pmZDlhY08L3NwYW4+77yJXG4gICAgICAgICAge3svaWZ9fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9InlqaHQtaXRlbSB5amh0LWl0ZW0tbGFzdCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InlqaHQtaXRlbS1zcDEiPuWIsOaJi+S7tzwvc3Bhbj4g77yaXG4gICAgICAgICAgPHNwYW4gY2xhc3M9InlqaHQtcHJpY2UiPu+/pSB7e2RwLnB1cmVQcmljZX19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIHt7ZWxzZX19XG4gICAgICA8ZGl2IGNsYXNzPSJ5amh0LWRldGFpbCB5amh0LW5vaW5mby1kZXRhaWwiPlxuICAgICAgICB7e3RsZX19XG4gICAgICA8L2Rpdj5cbiAgICB7ey9pZn19XG4gICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAgICN5aWppYW5oYWl0YW8ge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRvcDogLTdweDtcbiAgICAgICAgd2lkdGg6IDIwNnB4O1xuICAgICAgICB6LWluZGV4OiA5OTk5OTk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB9XG4gICAgICAuaHQtc3BlY2lhbC1kb20jeWlqaWFuaGFpdGFvIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IHt7aW5zZXJ0d2lkdGgrMn19cHg7XG4gICAgICB9XG4gICAgICAuZ3dkXzZwbSAjeWlqaWFuaGFpdGFvIHtcbiAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gKiB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC55amh0LWhlYWQge1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIHdpZHRoOiAyMDZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgICB9XG4gICAgICAuZ3dkXzZwbSAueWpodC1oZWFkLCAuaHQtc3BlY2lhbC1kb20gLnlqaHQtaGVhZCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgICAgLmd3ZF82cG0gICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUge1xuICAgICAgICB3aWR0aDogMjU2cHg7XG4gICAgICB9XG4gICAgICAuaHQtc3BlY2lhbC1kb20jeWlqaWFuaGFpdGFvIC55amh0LXRpdGxlIHtcbiAgICAgICAgd2lkdGg6IHt7aW5zZXJ0d2lkdGgrMi00MH19cHg7XG4gICAgICB9XG4gICAgICAuZ3dkXzZwbSAueWpodC1kZXRhaWwge1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICB9XG4gICAgICAuaHQtc3BlY2lhbC1kb20gLnlqaHQtZGV0YWlsIHtcbiAgICAgICAgd2lkdGg6IHt7aW5zZXJ0d2lkdGgrMn19cHg7XG4gICAgICB9XG4gICAgICAueWpodC1zaXRlLWljb24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoaHR0cDovL3MxLnt7ZXh0TmFtZX19LmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nKSA4cHggNXB4IG5vLXJlcGVhdDtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZWJlYmViO1xuICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA2cHg7XG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDZweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgd2lkdGg6IDE2NnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZWMwZjA7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA2cHg7XG4gICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA2cHg7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUgLnRpdGxlLXNwMSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUgLnRpdGxlLXNwMiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUubm9pbmZvIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U0ZTRlNDtcbiAgICAgICAgY29sb3I6ICM2ZDZkNmQ7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIC55amh0LWRldGFpbCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMxMTkxYzE7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMjA2cHg7XG4gICAgICB9XG4gICAgICAueWpodC1pdGVtIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XG4gICAgICAgIGhlaWdodDogMjhweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICAgIH1cbiAgICAgIC55amh0LWl0ZW0ueWpodC1pdGVtLWxhc3Qge1xuICAgICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgfVxuICAgICAgLnlqaHQtaXRlbS1zcDEge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgaGVpZ2h0OiAyOHB4O1xuICAgICAgICB3aWR0aDogNjBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuICAgICAgICB0ZXh0LWFsaWduLWxhc3Q6IGp1c3RpZnk7XG4gICAgICB9XG4gICAgICBAbWVkaWEgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOjApe1xuICAgICAgICAueWpodC1pdGVtOmFmdGVye1xuICAgICAgICAgICAgY29udGVudDoiLiI7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICAgICAgaGVpZ2h0OjA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5kZWwtbGluZSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgfVxuICAgICAgLnlqaHQteG0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjQ5ZDY0O1xuICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHdpZHRoOiAyOHB4O1xuICAgICAgICBoZWlnaHQ6IDE1cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICAueWpodC16aHVhbnl1biB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIH1cbiAgICAgIC55amh0LXByaWNlIHtcbiAgICAgICAgY29sb3I6ICNmODNjNDk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIH1cbiAgICAgIC55amh0LW5vaW5mby1kZXRhaWwge1xuICAgICAgICBwYWRkaW5nOiAxNnB4IDIwcHggMTZweCAyMHB4O1xuICAgICAgfVxuICAgICAgLnlqaHQtbm91cmwtZGV0YWlsIHtcbiAgICAgICAgcGFkZGluZzogMThweCAwIDIxcHggMHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICAuaHQtamluZHV0aWFvIHtcbiAgICAgICAgY29sb3I6ICMzZWMwZjA7XG4gICAgICB9XG4gICAgICAuYS1hY2NvcmRpb24gLmEtYm94IHtcbiAgICAgICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC55amh0LWZsdXNoIHtcbiAgICAgICAgY29sb3I6ICNiMTI3MDQ7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gMCwKCQkJCWEgPSAhMSwKCQkJCW8gPSB7fSwKCQkJCXIgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJbiA9IG4gfHwgIiIsIGEgPSAhMDsKCQkJCQl2YXIgaSA9IHQudGpfc2VydmVyICsgIi9kcGluZm8ucGhwP3Blcm1hbmVudF9pZD0iICsgZS5waWQgKyAiJnJlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5yZWZlclVybCkgKyAiJnByaWNlPSIgKyBlLnByaWNlICsgIiZjbGFzc19pZD0iICsgZS5jbGFzc19pZCArICImYnJhbmRfaWQ9IiArIGUuYnJhbmRfaWQgKyAiJmNvbW1lbnRUYWc9IiArIGVuY29kZVVSSUNvbXBvbmVudChuKSwKCQkJCQkJbyA9IG5ldyBJbWFnZTsKCQkJCQlvLnNyYyA9IGkKCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWkrKywgInN0cmluZyIgPT0gdHlwZW9mIGUgPyBvLnN0ciA9IGUgOiBvLm9iaiA9IGUsIDIgIT0gaSB8fCBhIHx8IHIoby5vYmosIG8uc3RyKQoJCQkJfTsKCQkJZS5leHBvcnRzLmxvZ0RwSW5mbyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gWyIzNjBidXkiLCAidGFvYmFvIiwgInRtYWxsIl07CgkJCQluLmluZGV4T2YodC5zaXRlKSA+IC0xID8gcyhlKSA6IHIoZSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJYSB8fCByKGUpCgkJCQl9LCA4ZTMpCgkJCX0sIGUuZXhwb3J0cy5jb2xsZWN0SmRJbmZvID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQgPSBbXTsKCQkJCWlmIChlKSB7CgkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB0LnB1c2goZVtuXS5uYW1lKTsKCQkJCQlzKHQuam9pbigiXyIpKQoJCQkJfQoJCQl9LCBlLmV4cG9ydHMuY29sbGVjdFRhb2Jhb0luZm8gPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbigiI3Jldmlld3MgdWwua2ctcmF0ZS13ZC1pbXByZXNzaW9uIGxpIGEiKTsKCQkJCSJ0bWFsbCIgPT0gdC5zaXRlICYmIChlID0gbigiI0pfUmV2aWV3cyAucmF0ZS10YWctaW5uZXIgLnRhZy1wb3NpIGEiKSk7CgkJCQlmb3IgKHZhciBpID0gW10sIGEgPSBlLmxlbmd0aCwgbyA9IDA7IGEgPiBvOyBvKyspIHsKCQkJCQl2YXIgciA9IGUuZXEobykudGV4dCgpLm1hdGNoKC8oLiopXCgvKTsKCQkJCQlyICYmIGkucHVzaChyWzFdLnRyaW0oKSkKCQkJCX0KCQkJCXMoaS5qb2luKCJfIikpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE1NyksCgkJCQlvID0gbig4KSwKCQkJCXIgPSBuKDkpLAoJCQkJcyA9IG4oMTY2KSwKCQkJCWwgPSBuKDEzKSwKCQkJCWMgPSBuKDE4NiksCgkJCQlkID0gbigxOCksCgkJCQlwID0gbigxNiksCgkJCQloID0gdC5mb2xkLAoJCQkJdSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgbiA9ICc8YSBpZD0iJyArIHQuZXh0QnJhbmQgKyAnX3NlYXJjaGxvd3ByaSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPiDlvZPliY3pobU8c3Bhbj4nICsgZSArICI8L3NwYW4+5qy+5ZWG5ZOB5aSE5LqO5Y6G5Y+y5pyA5L2O5Lu3PC9hPiI7CgkJCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluLWNvbnRlbnRzIikuYXBwZW5kKHAuY29tcGlsZShuKSgpKQoJCQkJCX0KCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBhID0gbigyMDIpOwoJCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKHAuY29tcGlsZShhKSh7CgkJCQkJCXJlbW86ICLmm7TlpJrlpITkuo7ljoblj7LmnIDkvY7ku7fnmoTlkIznsbvllYblk4EiLAoJCQkJCQlkYXRhOiBlLAoJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZCwKCQkJCQkJZXh0TmFtZTogdC5leHROYW1lCgkJCQkJfSkpLCB0LmluaXRfaXRlbV9saXN0KCJzZWFyY2hsb3dwcmkiKSwgdC5zZXRfaXRlbV9hcmdzKCJzZWFyY2hsb3dwcmkiKSwgdC5zZXRfcGFnZV9hcmdzKCJzZWFyY2hsb3dwcmkiKSwgdC5sb2FkX2ltYWdlKCJzZWFyY2hsb3dwcmkiLCAwLCB0LnBhZ2Vfc2l6ZSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikuc2hvdygpLCBmKCkKCQkJCX0sCgkJCQlmID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9zZWFyY2hsb3dwcmkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaSIpLmFkZENsYXNzKCJtX2hvdmVyIiksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpX2RldGFpbCIpLnNob3coKSwgbC5sb2coIuWIl+ihqOmhteW3peWFt+adoeWOhuWPsuacgOS9juS7t+aCrOa1ruWxleekuiIpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikucmVtb3ZlQ2xhc3MoIm1faG92ZXIiKQoJCQkJCQl9LCA0MDApCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikucmVtb3ZlQ2xhc3MoIm1faG92ZXIiKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwgbGkiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJbC5sb2coIuWIl+ihqOmhteW3peWFt+adoeWOhuWPsuacgOS9juS7t+eCueWHuyIpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpX2RldGFpbCAubGVmdC1wYWdlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQuY2hhbmdlX3BhZ2UoInNlYXJjaGxvd3ByaSIsIC0xKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwgLnJpZ2h0LXBhZ2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdC5jaGFuZ2VfcGFnZSgic2VhcmNobG93cHJpIiwgMSkKCQkJCQl9KQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICc8dWwgY2xhc3M9IicgKyB0LmV4dEJyYW5kICsgIi1jbG9zZS1tb2R1bGUgIiArIHQuZXh0QnJhbmQgKyAnLWNvbXBhcmUiIGlkPSInICsgdC5leHRCcmFuZCArICctY29tcGFyZSI+JzsKCQkJCQlpKCIjbG93ZXN0X3ByaWNlX2J0biIpLmFmdGVyKHAuY29tcGlsZShlKSgpKQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUpIHsKCQkJCQkJdmFyIG4gPSAnPGRpdiBpZD0ibG93ZXN0X3ByaWNlX2J0biIgY2xhc3M9IicgKyB0LmV4dEJyYW5kICsgJy1jbG9zZS1tb2R1bGUgbG93ZXN0X3ByaWNlX2J0biIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPiBcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz0iJyArIHQuZXh0QnJhbmQgKyAnX2ZpcnN0Ij4gXG4gICAgICAgICAgICAgICAgICDlvZPliY3pobU8c3Bhbj4nICsgZSArICI8L3NwYW4+5qy+5ZWG5ZOBXG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxhPuWkhOS6juWOhuWPsuacgOS9juS7tzwvYT5cbiAgICAgICAgICAgICAgPC9kaXYiOwoJCQkJCQl0Lm5ld19leHRlbnNpb24gPyBpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWh1aSIpLmFmdGVyKHAuY29tcGlsZShuKSgpKSA6IGkoIi4iICsgdC5leHRCcmFuZCArICItZmF2b3ItbW9kdWxlIikuYWZ0ZXIocC5jb21waWxlKG4pKCkpCgkJCQkJfQoJCQkJfSwKCQkJCXggPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKDAgIT0gZS5sZW5ndGgpIHsKCQkJCQkJdmFyIGEgPSBlLnNsaWNlKDAsIDUpLAoJCQkJCQkJbyA9IG4oMjAzKTsKCQkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlIikuYXBwZW5kKHAuY29tcGlsZShvKSh7CgkJCQkJCQlkYXRhOiBhLAoJCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZCwKCQkJCQkJCWV4dE5hbWU6IHQuZXh0TmFtZSwKCQkJCQkJCWRvbU5hbWU6IHQuZHZhbAoJCQkJCQl9KSksIHcoZS5zbGljZSg1KSksIHYoKSwgaSgiI2xvd2VzdF9wcmljZV9idG4iKS5zaG93KCksIDEgPT0gdC5mb2xkICYmIGkoIi4iICsgdC5leHRCcmFuZCArICItY2xvc2UtbW9kdWxlIikuaGlkZSgpOwoJCQkJCX0KCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmICgwICE9IGUubGVuZ3RoKSB7CgkJCQkJCXZhciBhID0gYy5nZXRQYWdlSW5mbyhlKSwKCQkJCQkJCW8gPSBuKDIwNCk7CgkJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICItY29tcGFyZSIpLmFmdGVyKHAuY29tcGlsZShvKSh7CgkJCQkJCQlkYXRhOiBlLAoJCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCQlwYWdlSW5mbzogYSwKCQkJCQkJCWV4dEJyYW5kOiB0LmV4dEJyYW5kCgkJCQkJCX0pKSwgdC5zZXRQYWdlQXJncyh0LmV4dEJyYW5kICsgIi1jb21wYXJlLXNlYXJjaGxvd3ByaSIsIGEucGVyUGFnZVNpemUpLCB0LmF1dG9GaXhXaWR0aCgpCgkJCQkJfQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbigpIHsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUgbGkuc2VhcmNoX2l0ZW1fbGlzdCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICItY29tcGFyZSBsaS5zZWFyY2hfaXRlbV9saXN0IC4iICsgdC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIikucmVtb3ZlQ2xhc3ModC5leHRCcmFuZCArICJfZmF2b3JfaG92ZXIiKSwgaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuaGlkZSgpLCBpKHRoaXMpLmZpbmQoIi4iICsgdC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIikuYWRkQ2xhc3ModC5leHRCcmFuZCArICJfZmF2b3JfaG92ZXIiKSwgaSh0aGlzKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5zaG93KCkKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlIGxpLnNlYXJjaF9pdGVtX2xpc3QiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUgbGkuc2VhcmNoX2l0ZW1fbGlzdCAuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiX2Zhdm9yX2hvdmVyIikKCQkJCQl9KSwgaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJbC5sb2coIuWIl+ihqOmhteW3peWFt+adoeWOhuWPsuacgOS9juS7t+eCueWHuyIpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICItc2VhcmNobG93cHJpIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUgbGkuc2VhcmNoX2l0ZW1fbGlzdCAuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiX2Zhdm9yX2hvdmVyIiksIGkodGhpcykuZmluZCgiLnNlYXJjaGxvd3ByaV9idG4iKS5hZGRDbGFzcygic2VhcmNobG93cHJpX2J0bl9ob3ZlciIpLCBpKHRoaXMpLmZpbmQoIi5zZWFyY2hsb3dwcmlfYnRuIikuYWRkQ2xhc3ModC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIiksIGwubG9nKCLliJfooajpobXlt6XlhbfmnaHljoblj7LmnIDkvY7ku7fmgqzmta7lsZXnpLoiKSwgaSh0aGlzKS5maW5kKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5zaG93KCkKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1zZWFyY2hsb3dwcmkiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5oaWRlKCksIGkodGhpcykuZmluZCgiLnNlYXJjaGxvd3ByaV9idG4iKS5yZW1vdmVDbGFzcygic2VhcmNobG93cHJpX2J0bl9ob3ZlciIpLCBpKHRoaXMpLmZpbmQoIi5zZWFyY2hsb3dwcmlfYnRuIikucmVtb3ZlQ2xhc3ModC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIikKCQkJCQl9KQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQuZHZhbDsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNsb3NlIikuY3NzKCJib3JkZXItcmFkaXVzIiwgMCksIGkoIi4iICsgdC5leHRCcmFuZCArICItZmF2b3ItbW9kdWxlIikuY3NzKCJib3JkZXItbGVmdCIsICIxcHggc29saWQgI2VlZSIpLCBpKGUpLmNzcygiYm9yZGVyLXJhZGl1cyIsIDApLCAxICE9IHQuZm9sZCAmJiBpKGUpLndpZHRoKCIxMDAlIiksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2V0dGluZ19kaXYiKS5jc3MoImJvdHRvbSIsICIzNnB4IiksIGkoIiMiICsgdC5leHRCcmFuZCArICItY2xvc2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJMSA9PSBoID8gKGkoZSkud2lkdGgoIjEwMCUiKSwgaCA9IDApIDogKGkoZSkud2lkdGgoImF1dG8iKSwgaCA9IDEpCgkJCQkJfSkKCQkJCX0sCgkJCQl5ID0gZnVuY3Rpb24oZSkgewoJCQkJCSJ0b3AiID09IHQuc3R5bGUgPyAoYS50aGlyZEJhcigpLCBzLmluc2VydG5vcm1hbFZpZXcoKSwgby5nZXQoZnVuY3Rpb24oZSkgewoJCQkJCQl1KGUubGVuZ3RoKTsKCQkJCQkJdmFyIHQgPSBvLmdldERwSWRzKCk7CgkJCQkJCXQgJiYgayh0LCBlLCBtKQoJCQkJCX0pLCBhLnNldF9wYW5lbF9ob3Zlcl9ldmVudCgpKSA6ICJib3R0b20iID09IHQuc3R5bGUgJiYgKHMuaW5zZXJ0bm9ybWFsVmlld19ib3R0b20oKSwgby5nZXQoZnVuY3Rpb24oZSkgewoJCQkJCQlfKGUubGVuZ3RoKSwgZygpOwoJCQkJCQl2YXIgdCA9IG8uZ2V0RHBJZHMoKTsKCQkJCQkJdCAmJiBrKHQsIGUsIHgpCgkJCQkJfSksIGIoKSksIHMuYmluZEV2ZW50KCkKCQkJCX0sCgkJCQlrID0gZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCW4gJiYgMCAhPSBuLmxlbmd0aCAmJiBlICYmIEIoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQlmb3IgKHZhciBhID0gMDsgYSA8IG4ubGVuZ3RoOyBhKyspIHsKCQkJCQkJCWlmIChuW2FdLmRpc2NvdW50ID0gTWF0aC5yb3VuZCgxMDAgKiBuW2FdLmRpc2NvdW50KSAvIDEwLCBuW2FdLmxhc3RfcHJpY2UgPSBuW2FdLmhpZ2hlc3QsIGUgJiYgZVtuW2FdLmRwX2lkXSAmJiBlW25bYV0uZHBfaWRdLmRhdGEgJiYgZVtuW2FdLmRwX2lkXS5kYXRhLmxlbmd0aCA+IDApIHsKCQkJCQkJCQl2YXIgbyA9IHooZVtuW2FdLmRwX2lkXSwgblthXS5wcmljZSk7CgkJCQkJCQkJbyAmJiAoblthXS5uZXdfcHJpY2UgPSBvLnByaWNlLCBuW2FdLnByaWNlZGVzYyA9IG8uZGVzYykKCQkJCQkJCX0KCQkJCQkJCXZhciByID0gewoJCQkJCQkJCXVybDogblthXS51cmwsCgkJCQkJCQkJc2l0ZV9pZDogblthXS5zaXRlX2lkLAoJCQkJCQkJCWRwX2lkOiBuW2FdLmRwX2lkLAoJCQkJCQkJCXVuaW9uOiB0LnVuaW9uLAoJCQkJCQkJCW1vZDogImFsc292aWV3IgoJCQkJCQkJfTsKCQkJCQkJCW5bYV0udXJsID0gZC5pbml0KHIpCgkJCQkJCX0KCQkJCQkJaShuKQoJCQkJCX0pCgkJCQl9LAoJCQkJeiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuID0gewoJCQkJCQlwcmljZTogdCwKCQkJCQkJZGVzYzogIiIKCQkJCQl9LCBpID0gZS5kYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKQoJCQkJCQlpZiAoMSA9PSBlLmRhdGFbaV0udHlwZSkgewoJCQkJCQkJdmFyIGEgPSBlLmRhdGFbaV0uZGVzYy5tYXRjaCgvWzAtOS5dKy9nKTsKCQkJCQkJCWlmIChwYXJzZUZsb2F0KHQpID49IHBhcnNlRmxvYXQoYVswXSkpIHsKCQkJCQkJCQluLnByaWNlID0gcGFyc2VGbG9hdCh0KSAtIHBhcnNlRmxvYXQoYVsxXSksIG4uZGVzYyA9IGUuZGF0YVtpXS5kZXNjOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCX0gZWxzZSBpZiAoMiA9PSBlLmRhdGFbaV0udHlwZSkgcmV0dXJuICExOwoJCQkJCXJldHVybiAiIiAhPSBuLmRlc2MgPyBuIDogITEKCQkJCX0sCgkJCQlCID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gZS5qb2luKCIsIiksCgkJCQkJCWEgPSB0LnNlcnZlciArICIvZXh0ZW5zaW9uP2FjPWdldFByb21vJmRwX2lkcz0iICsgaTsKCQkJCQlyLmdldChhKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJbihlKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCW4oKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXkoZSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTU4KSwKCQkJCW8gPSBuKDg3KSwKCQkJCXIgPSBuKDkyKSwKCQkJCXMgPSBuKDc3KSwKCQkJCWwgPSBuKDExOSksCgkJCQljID0gbigxNTkpLAoJCQkJZCA9IG4oMTYxKSwKCQkJCXAgPSBuKDE2MyksCgkJCQloID0gbigxMTcpLAoJCQkJdSA9IG4oMTY0KSwKCQkJCW0gPSBuKDE2NSksCgkJCQlmID0gbigxNjYpLAoJCQkJZyA9IG4oMTYpLAoJCQkJXyA9IG4oMTY3KSwKCQkJCXggPSBuKDE2OSksCgkJCQl3ID0gbigxMjIpLAoJCQkJdiA9IG4oMjYpLAoJCQkJYiA9IG4oMTMpLAoJCQkJeSA9IG4oOSksCgkJCQlrID0gdC5kdmFsLAoJCQkJeiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbigxNzApOwoJCQkJCWkoImJvZHkiKS5hcHBlbmQoZy5jb21waWxlKGUpKHsKCQkJCQkJZG9tbmFtZTogdC5kdmFsCgkJCQkJfSkpCgkJCQl9OwoJCQllLmV4cG9ydHMuY2xvc2UgPSBmdW5jdGlvbigpIHsKCQkJCWlmICgibXNpZSIgIT0gdC5icm93c2VyLmFnZW50ICYmIHQuY2hlY2tfYW5pbWF0ZSgpKSB7CgkJCQkJdHJ5IHsKCQkJCQkJaSgiYm9keSIpLmFuaW1hdGUoewoJCQkJCQkJInBhZGRpbmctdG9wIjogIjBweCIKCQkJCQkJfSwgNTAwLCAic3dpbmciLCBmdW5jdGlvbigpIHsKCQkJCQkJCWkoImJvZHkiKS5hdHRyKCJzdHlsZSIsICIiKS5jc3MoInBhZGRpbmctdG9wIiwgMCksIGkoaykuYXR0cigic3R5bGUiLCAiIiksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWluaSIpLnNob3coKQoJCQkJCQl9KQoJCQkJCX0gY2F0Y2ggKGUpIHsKCQkJCQkJaSgiYm9keSIpLmF0dHIoInN0eWxlIiwgIiIpLmNzcygibWFyZ2luLXRvcCIsIDApLmNzcygicGFkZGluZy10b3AiLCAwKSwgaShrKS5hdHRyKCJzdHlsZSIsICIiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5oaWRlKCksIGkoIiMiICsgdC5leHROYW1lICsgIi1taW5pIikuc2hvdygpCgkJCQkJfQoJCQkJCWooITEpCgkJCQl9IGVsc2UgaShrKS5hdHRyKCJzdHlsZSIsICIiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5oaWRlKCksIGkoImJvZHkiKS5hdHRyKCJzdHlsZSIsICIiKS5jc3MoIm1hcmdpbi10b3AiLCAwKS5jc3MoInBhZGRpbmctdG9wIiwgMCksIGkoIiMiICsgdC5leHROYW1lICsgIi1taW5pIikuc2hvdygpLCBqKCExKQoJCQl9LCBlLmV4cG9ydHMuZmxvYXRfYm9keSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSAiMzJweCI7CgkJCQlpZiAoIm1zaWUiICE9IHQuYnJvd3Nlci5hZ2VudCkgewoJCQkJCXZhciBuID0gaSgiYm9keSIpLmF0dHIoInN0eWxlIikgfHwgIiI7CgkJCQkJbiA9IG4ucmVwbGFjZSgvcGFkZGluZy10b3BbXjpdKjpbXjtdKjs/LywgIiIpLCBuID0gbiArICI7cGFkZGluZy10b3A6IiArIGUgKyAiICFpbXBvcnRhbnQ7IiwgbiArPSAicGhpbGlwcyIgPT0gdC5zaXRlIHx8ICJpbmVpZ28iID09IHQuc2l0ZSA/ICI7YmFja2dyb3VuZC1wb3NpdGlvbjowIDMycHg7IiA6ICIiOwoJCQkJCXRyeSB7CgkJCQkJCWkoImJvZHkiKS5hbmltYXRlKHsKCQkJCQkJCSJwYWRkaW5nLXRvcCI6IGUKCQkJCQkJfSwgNTAwLCAic3dpbmciLCBmdW5jdGlvbigpIHsKCQkJCQkJCWkoImJvZHkiKS5hdHRyKCJzdHlsZSIsIG4pCgkJCQkJCX0pCgkJCQkJfSBjYXRjaCAoYSkgewoJCQkJCQlpKCJib2R5IikuYXR0cigic3R5bGUiLCBuKQoJCQkJCX0KCQkJCX0gZWxzZSAiYW1hem9uIiAhPSB0LnNpdGUgPyAobiA9IGkoImJvZHkiKS5hdHRyKCJzdHlsZSIpLCBuID0gbiArICIgd2lkdGg6MTAwJTttYXJnaW4tdG9wOiIgKyBlICsgIiAhaW1wb3J0YW50OyIsIGkoImJvZHkiKS5hdHRyKCJzdHlsZSIsIG4pKSA6IChuID0gaSgiYm9keSIpLmF0dHIoInN0eWxlIiksIG4gPSBuICsgIjttYXJnaW4tdG9wOiIgKyBlICsgIiAhaW1wb3J0YW50OyIsIGkoImJvZHkiKS5hdHRyKCJzdHlsZSIsIG4pKQoJCQl9OwoJCQl2YXIgQiA9IGZ1bmN0aW9uKCkgewoJCQkJCWkoaykuZW1wdHkoKSwgaShrKS5hdHRyKCJzdHlsZSIsICJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7ei1pbmRleDo5OTk5OTk5OTk5ICFpbXBvcnRhbnQ7Iikuc2hvdygpLCAxICE9IHQucF9mb2xkICYmIGUuZXhwb3J0cy5mbG9hdF9ib2R5KCksIGkoaykuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCQkiY2xhc3MiOiB0Lm1iYXIgKyAiICBiamRhbmctbWFpbiIsCgkJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLW1haW4iLAoJCQkJCQlzdHlsZTogImRpc3BsYXk6IiArICgxID09IHQucF9mb2xkID8gIm5vbmUiIDogImJsb2NrIikKCQkJCQl9KS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItbmF2IiwKCQkJCQkJaWQ6IHQuZXh0TmFtZSArICItbWFpbi1uYXYiLAoJCQkJCQlzdHlsZTogIm92ZXJmbG93OiB2aXNpYmxlOyIKCQkJCQl9KSkuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCQlpZDogdC5sb2dvTmFtZSwKCQkJCQkJImNsYXNzIjogImxvZ28iCgkJCQkJfSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJImNsYXNzIjogImd3ZF9iZyIKCQkJCQl9KSkpKSwgaShrKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItbWluaSIsCgkJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLW1pbmkiLAoJCQkJCQlzdHlsZTogIndpZHRoOiA2MHB4OyBsZWZ0OiAwcHg7ZGlzcGxheTpub25lOyIKCQkJCQl9KS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItbmF2IG1haW4iLAoJCQkJCQlpZDogdC5leHROYW1lICsgIi1tYWluLW5hdiIKCQkJCQl9KS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCQkiY2xhc3MiOiB0LmV4dEJyYW5kICsgIl9sb2dvIGd3ZF9iZyIsCgkJCQkJCWhyZWY6ICJodHRwOi8vd3d3LiIgKyB0LmV4dE5hbWUgKyAiLmNvbSIsCgkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQl9KSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJImNsYXNzIjogInVuZm9sZF9wb2ludGVyIiwKCQkJCQkJaHJlZjogImphdmFzY3JpcHQ6IiwKCQkJCQkJdGl0bGU6ICLngrnlh7vlsZXlvIAiLAoJCQkJCQlpZDogdC5leHRCcmFuZCArICJfZm9sZF9wb2ludGVyIgoJCQkJCX0pKSkpLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2ZvbGRfcG9pbnRlciIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjIiArIHQuZXh0TmFtZSArICItbWluaSIpLmhpZGUoKSwgZS5leHBvcnRzLmZsb2F0X2JvZHkoKSwgci5tYWluYmFyZm9sZCgwKSwgaighMCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuc2hvdygpCgkJCQkJfSkKCQkJCX0sCgkJCQlqID0gZnVuY3Rpb24oZSkgewoJCQkJCWUgPyAoImRpYXBlcnMiID09IHQuc2l0ZSAmJiBpKCIjdWJlcm5hdi13cmFwcGVyIikuY3NzKCJ0b3AiLCAiMzJweCIpLCAicm9zZW9ubHkiID09IHQuc2l0ZSAmJiBpKCJib2R5Pi5oZWFkZXIiKS5jc3MoInRvcCIsICIzMnB4IiksICJhcHBsZSIgPT0gdC5zaXRlICYmIGkoIi5sb2NhbG5hdi13cmFwcGVyLCAuYXNlLXN0aWNreSIpLmFkZENsYXNzKHQuZXh0QnJhbmQgKyAiX3RvcCIpLCAieW91MTYzIiA9PSB0LnNpdGUgJiYgaSgiI2pzLWZ1bmNUYWIiKS5hZGRDbGFzcyh0LmV4dEJyYW5kICsgIl90b3AiKSwgImthbHVsaSIgPT0gdC5zaXRlICYmIGkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CgkJCQkJCSJmaXhlZCIgPT0gaSgiLm1lbnUiKS5jc3MoInBvc2l0aW9uIikgJiYgaSgiLm1lbnUiKS5jc3MoInRvcCIsICIzNHB4IikKCQkJCQl9KSwgKCJqdW1laWdsb2JhbCIgPT0gdC5zaXRlIHx8ICJmZW5ncXUiID09IHQuc2l0ZSB8fCAianVtZWkiID09IHQuc2l0ZSB8fCAibGVmZW5nIiA9PSB0LnNpdGVyIHx8ICJ3b21haSIgPT0gdC5zaXRlIHx8ICJ0YW9iYW8tOTUwOTUiID09IHQuc2l0ZSB8fCAidG1hbGwiID09IHQuc2l0ZSkgJiYgaSgiYm9keSIpLmFkZENsYXNzKCJnd2RfdG9wIiksICJ6aG9uZ2ppdSIgPT0gdC5zaXRlICYmIGkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CgkJCQkJCSJmaXhlZCIgPT0gaSgiLmNvbnRfaGVhZCIpLmNzcygicG9zaXRpb24iKSA/IGkoIi5jb250X2hlYWQiKS5jc3MoInRvcCIsICIzNXB4IikgOiBpKCIuY29udF9oZWFkIikuY3NzKCJ0b3AiLCAiMHB4IiksICJmaXhlZCIgPT0gaSgiLnRhYi10IikuY3NzKCJwb3NpdGlvbiIpID8gaSgiLnRhYi10IikuY3NzKCJ0b3AiLCAiMzVweCIpIDogaSgiLnRhYi10IikuY3NzKCJ0b3AiLCAiMHB4IikKCQkJCQl9KSwgInNoYW5ncGluIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJaSgiLnNwVGFic19tZW51X25ld19maXhlZCIpLmNzcygidG9wIiwgIjM1cHgiKQoJCQkJCX0pLCAiMzYwYnV5IiA9PSB0LnNpdGUgPyAoaSgiI3Byb2R1Y3QtZGV0YWlsIC5wcm9kdWN0LWRldGFpbC1uYXYtZml4ZWQiKS5hZGRDbGFzcygiZ3dkX3RvcCIpLCBpKCJodG1sIikuYWRkQ2xhc3MoImd3ZF90b3AiKSkgOiBpKCJib2R5IikuYWRkQ2xhc3MoImd3ZF90b3AiKSwgInlpaGFvZGlhbiIgPT0gdC5zaXRlICYmIGkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CgkJCQkJCWkoImJvZHkiKS5oYXNDbGFzcygiZ3dkX3RvcCIpICYmIGkoIi5haXJfaGlkZSIpLmNzcyh7CgkJCQkJCQl0b3A6ICIzNXB4IgoJCQkJCQl9KQoJCQkJCX0pLCAieWFvMTIzIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBpKCIuc3Vja3RvcCIpLmNzcygidG9wIik7CgkJCQkJCSIwcHgiID09IGUgJiYgaSgiYm9keSIpLmhhc0NsYXNzKCJnd2RfdG9wIikgJiYgaSgiLnN1Y2t0b3AiKS5jc3MoewoJCQkJCQkJdG9wOiAiMzVweCIKCQkJCQkJfSkKCQkJCQl9KSwgIm1laWNpIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJImZpeGVkIiA9PSBpKCIucHJvVGFiX20iKS5jc3MoInBvc2l0aW9uIikgJiYgaSgiYm9keSIpLmhhc0NsYXNzKCJnd2RfdG9wIikgJiYgaSgiLnByb1RhYl9tIikuY3NzKHsKCQkJCQkJCXRvcDogIjM1cHgiCgkJCQkJCX0pCgkJCQkJfSksICJodGMiID09IHQuc2l0ZSAmJiBpKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgewoJCQkJCQkiZml4ZWQiID09IGkoIiN0b3AtYmFyIikuY3NzKCJwb3NpdGlvbiIpICYmICIwcHgiID09IGkoIiN0b3AtYmFyIikuY3NzKCJ0b3AiKSAmJiBpKCJib2R5IikuaGFzQ2xhc3MoImd3ZF90b3AiKSAmJiBpKCIjdG9wLWJhciIpLmNzcyh7CgkJCQkJCQl0b3A6ICIzNXB4IgoJCQkJCQl9KQoJCQkJCX0pLCAiYm9xaWkiID09IHQuc2l0ZSAmJiBpKCIudG9wX2F1dG8iKS5jc3MoewoJCQkJCQlwb3NpdGlvbjogInJlbGF0aXZlIiwKCQkJCQkJdG9wOiAiLTM1cHgiCgkJCQkJfSksICJzYXNhIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJImZpeGVkIiA9PSBpKCIjcHJvZHVjdC10YWdzIikuY3NzKCJwb3NpdGlvbiIpICYmICIwcHgiID09IGkoIiNwcm9kdWN0LXRhZ3MiKS5jc3MoInRvcCIpICYmIGkoImJvZHkiKS5oYXNDbGFzcygiZ3dkX3RvcCIpICYmIChpKCIjcHJvZHVjdC10YWdzIikuYWRkQ2xhc3MoImd3ZF90b3BfaW1wb3J0YW50IiksIGkoIiNwcm9kdWN0LXRhZ3MiKS5jc3MoewoJCQkJCQkJdG9wOiAiMzVweCIKCQkJCQkJfSkpCgkJCQkJfSksICJ2aXZvIiA9PSB0LnNpdGUgJiYgaSgiI2hlYWRlciIpLmF0dHIoInN0eWxlIiwgInRvcDogMHB4IWltcG9ydGFudCIpLCAic2VwaG9yYWNwcyIgPT0gdC5zaXRlICYmIChpKCIuZ3dkX3RvcCIpLmNzcygicGFkZGluZy10b3AiLCAiMCIpLCBpKCIjdG9wRml4IikuYWRkQ2xhc3MoImd3ZF90b3BfaW1wb3J0YW50IikpLCAibmV3ZWdnIiA9PSB0LnNpdGUgJiYgaSgiYm9keSIpLmFkZENsYXNzKCJnd2QtbmV3ZWdnIikpIDogKCJkaWFwZXJzIiA9PSB0LnNpdGUgJiYgaSgiI3ViZXJuYXYtd3JhcHBlciIpLmNzcygidG9wIiwgIjBweCIpLCAicm9zZW9ubHkiID09IHQuc2l0ZSAmJiBpKCJib2R5Pi5oZWFkZXIiKS5jc3MoInRvcCIsICIwcHgiKSwgImFwcGxlIiA9PSB0LnNpdGUgJiYgaSgiLmxvY2FsbmF2LXdyYXBwZXIsIC5hc2Utc3RpY2t5IikucmVtb3ZlQ2xhc3ModC5leHRCcmFuZCArICJfdG9wIiksICJ5b3UxNjMiID09IHQuc2l0ZSAmJiBpKCIjanMtZnVuY1RhYiIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiX3RvcCIpLCAiMzYwYnV5IiA9PSB0LnNpdGUgPyAoaSgiI3Byb2R1Y3QtZGV0YWlsIC5wcm9kdWN0LWRldGFpbC1uYXYtZml4ZWQiKS5yZW1vdmVDbGFzcygiZ3dkX3RvcCIpLCBpKCJodG1sIikucmVtb3ZlQ2xhc3MoImd3ZF90b3AiKSkgOiBpKCJib2R5IikucmVtb3ZlQ2xhc3MoImd3ZF90b3AiKSkKCQkJCX0sCgkJCQlDID0gZnVuY3Rpb24obikgewoJCQkJCWlmIChpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbi1uYXYiKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6ICJmZWVkYmFjay1jbG9zZSIsCgkJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLWZlZWQtY2xvc2UiCgkJCQkJfSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJaHJlZjogImphdmFzY3JpcHQ6IiwKCQkJCQkJdGFyZ2V0OiAiX3NlbGYiLAoJCQkJCQkiY2xhc3MiOiB0LmV4dEJyYW5kICsgIl9jbG9zZSIsCgkJCQkJCXRpdGxlOiAi5YWz6Zet6LSt54mp5YWaIgoJCQkJCX0pLmFwcGVuZChpKCc8ZW0gY2xhc3M9Im5ld2ItYmciPjwvZW0+JykpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQlyLm1haW5iYXJmb2xkKDEpLCBlLmV4cG9ydHMuY2xvc2UoKSwgYS5maXhfc2ZiZXN0X2Nsb3NlKCkKCQkJCQl9KSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJaHJlZjogImh0dHA6Ly93d3cuIiArIHQuZXh0TmFtZSArICIuY29tL2Jyd2V4dC9zdWdnZXN0P3JlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikgKyAiJmZyb21fZGV2aWNlPSIgKyB3KHQuZnJvbV9kZXZpY2UpICsgIiZidHlwZT0iICsgKHQuYnR5cGUgPyB0LmJ0eXBlIDogIiIpLAoJCQkJCQkiY2xhc3MiOiB0LmV4dE5hbWUgKyAiLXN1Z2dlc3QiLAoJCQkJCQlpZDogdC5leHROYW1lICsgIi1zdWdnZXN0IiwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJdGl0bGU6ICLmj5Dlu7rorq7miJblkJDmp73pgYfliLDnmoTpl67popgiCgkJCQkJfSkuYXBwZW5kKGkoJzxlbSBjbGFzcz0ibmV3Yi1iZyI+PC9lbT48c3Bhbj7lj43ppog8L3NwYW4+JykpKS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCQlocmVmOiAiamF2YXNjcmlwdDoiLAoJCQkJCQkiY2xhc3MiOiB0LmV4dE5hbWUgKyAiLWljb24gZmF2b3IiLAoJCQkJCQlpZDogdC5leHROYW1lICsgIi1mYXZvciIsCgkJCQkJCXRpdGxlOiAiIiA9PSB0LmVtYWlsID8gIuaUtuiXj+W5tuiOt+W+l+mZjeS7t+aPkOmGkiIgOiAi5oiR55qE5pS26JeP5aS5IiwKCQkJCQkJdGFyZ2V0OiAiX3NlbGYiCgkJCQkJfSkuYXBwZW5kKCI8c3BhbiBjbGFzcz0naGFzQ29sb3IgbmV3Yi1iZyc+PC9zcGFuPjxiIHRpdGxlPSfmlLbol4/lubbojrflvpfpmY3ku7fmj5DphpInPuaIkeeahOaUtuiXj+WkuTwvYj4iKSkpLCBuICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBuLmNvbGxlY3RJbmZvICYmICh0LmNvbGxlY3RJbmZvID0gbi5jb2xsZWN0SW5mbywgdC5zaXRlICYmIHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+PSAwKSkgewoJCQkJCQl2YXIgbyA9ICIiOwoJCQkJCQlvID0gaSgiI0pfUHJvbW9Cb3g+c3Ryb25nIikudGV4dCgpLCAiIiA9PSBvICYmIChvID0gaSgiI0pfUHJvbW9QcmljZSBzdHJvbmciKS50ZXh0KCksICIiICE9IG8gJiYgKG8gPSBvLnN1YnN0cigxKSkpLCAiIiAhPSBvICYmIChvLmluZGV4T2YoIiAtIikgPiAwICYmIChvID0gby5zdWJzdHIoMCwgby5pbmRleE9mKCIgLSIpKSksIHQuY29sbGVjdEluZm8ucHJpY2UgPSBvKQoJCQkJCX0KCQkJCQl0cnkgewoJCQkJCQkidGFvYmFvIiA9PSB0LnNpdGUgfHwgInRtYWxsIiA9PSB0LnNpdGUgPyBuICYmIG4uY29sbGVjdEluZm8uZHBfaWQgJiYgbi5leGFjdF9hcnIudGFvYmFvX3NhbWVfaWQgJiYgbi5jb2xsZWN0SW5mby5kcF9pZCA9PSBuLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCAmJiBuLmNvbGxlY3RJbmZvLnByaWNlICYmIHBhcnNlSW50KG4uY29sbGVjdEluZm8ucHJpY2UpID4gMCB8fCBpKCIjIiArIHQuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIC5hZGQiKS5yZW1vdmUoKSA6ICghbiB8fCBuLm5vdyAmJiAiIiA9PSBuLm5vdy5ub3dfZHBfaWQpICYmIGkoIiMiICsgdC5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLnJlbW92ZSgpCgkJCQkJfSBjYXRjaCAocykgewoJCQkJCQlpZiAodC5kZWJ1ZykgdGhyb3cgcwoJCQkJCX0KCQkJCX0sCgkJCQlTID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAnPGRpdiBpZD0iJyArIHQuZXh0TmFtZSArICctbWFpbi1jb250ZW50cyIgY2xhc3M9ImFjY3VyYXRlIGNvbnRlbnRzICI+IDwvZGl2Pic7CgkJCQkJaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4tbmF2IikuYXBwZW5kKGcuY29tcGlsZShlKSgpKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQlCKCksIHooKSwgQyhlKTsKCQkJCXZhciBhID0gbig3NCkuaW5pdCgpLAoJCQkJCXIgPSAhMDsKCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluLW5hdiIpLmFwcGVuZChpKCI8ZGl2PiIsIHsKCQkJCQlpZDogdC5leHROYW1lICsgIi1iYXItaWNvbnMiLAoJCQkJCSJjbGFzcyI6ICJpY29ucyBwb3NfciIKCQkJCX0pLmFwcGVuZChpKCI8YT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaCBuZXdiLWJnIiwKCQkJCQlpZDogdC5leHROYW1lICsgIi1zZWFyY2giLAoJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJdGl0bGU6IHIgPyAi5Y675reY5a6d5om+5a6d6LSdIiA6ICLljrvotK3nianlhZrmkJzntKIiLAoJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCX0pLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbCgpOwoJCQkJCWlmIChuID0gaS50cmltKG4pLCAxID09IGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmF0dHIoImRlZmF1bHQiKSkgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikudmFsKCIiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikuYXR0cigiZGVmYXVsdCIsIDApLCBlLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJZWxzZSBpZiAoIiIgIT0gbikgewoJCQkJCQlpZiAocikgdmFyIGEgPSAiaHR0cDovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCQllbHNlIGEgPSAiaHR0cDovL3d3dy4iICsgdC5leHROYW1lICsgIi5jb20vc2VhcmNoP3NfcHJvZHVjdD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCQlpKHRoaXMpLmF0dHIoImhyZWYiLCBhKQoJCQkJCX0gZWxzZSBpKCIjIiArIHQuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS5mb2N1cygpLCBlLnByZXZlbnREZWZhdWx0KCkKCQkJCX0pKSkuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLWJhci1zZWFyY2giLAoJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItc2VhcmNoLWZvcm0iCgkJCQl9KS5hcHBlbmQoaSgiPGZvcm0+IiwgewoJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLXNlYXJjaC1mb3JtIiwKCQkJCQlhY3Rpb246IHIgPyAiaHR0cDovL3MudGFvYmFvLmNvbS9zZWFyY2giIDogImh0dHA6Ly93d3cuIiArIHQuZXh0TmFtZSArICIuY29tL3NlYXJjaCIsCgkJCQkJbWV0aG9kOiAiZ2V0IiwKCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQl9KS5hcHBlbmQoaSgiPHVsPiIsIHsKCQkJCQlpZDogInNlYXJjaF93ZWJzaXRlIiwKCQkJCQkiY2xhc3MiOiAibm9yaWdodCIKCQkJCX0pLnByZXBlbmQoaSgiPGxpPiIsIHsKCQkJCQkiY2xhc3MiOiAic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iCgkJCQl9KS5odG1sKCI8ZGl2PjxzcGFuIGNsYXNzPSd3ZWJzaXRlX2l0ZW0nPuWbvee+jjwvc3Bhbj48c3BhbiBjbGFzcz0nYXJyb3cnPjwvc3Bhbj48L2Rpdj4iKSkucHJlcGVuZChpKCI8bGk+IiwgewoJCQkJCSJjbGFzcyI6ICJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIKCQkJCX0pLmh0bWwoIjxkaXY+PHNwYW4gY2xhc3M9J3dlYnNpdGVfaXRlbSc+5LiA5Y+35bqXPC9zcGFuPjxzcGFuIGNsYXNzPSdhcnJvdyc+PC9zcGFuPjwvZGl2PiIpKS5wcmVwZW5kKGkoIjxsaT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaF93ZWJzaXRlX2l0ZW1faGlkZGVuIgoJCQkJfSkuaHRtbCgiPGRpdj48c3BhbiBjbGFzcz0nd2Vic2l0ZV9pdGVtJz7lvZPlvZM8L3NwYW4+PHNwYW4gY2xhc3M9J2Fycm93Jz48L3NwYW4+PC9kaXY+IikpLnByZXBlbmQoaSgiPGxpPiIsIHsKCQkJCQkiY2xhc3MiOiAic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iCgkJCQl9KS5odG1sKCI8ZGl2PjxzcGFuIGNsYXNzPSd3ZWJzaXRlX2l0ZW0nPuS6mumprOmAijwvc3Bhbj48c3BhbiBjbGFzcz0nYXJyb3cnPjwvc3Bhbj48L2Rpdj4iKSkucHJlcGVuZChpKCI8bGk+IiwgewoJCQkJCSJjbGFzcyI6ICJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIKCQkJCX0pLmh0bWwoIjxkaXY+PHNwYW4gY2xhc3M9J3dlYnNpdGVfaXRlbSc+6IuP5a6BPC9zcGFuPjxzcGFuIGNsYXNzPSdhcnJvdyc+PC9zcGFuPjwvZGl2PiIpKS5wcmVwZW5kKGkoIjxsaT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaF93ZWJzaXRlX2l0ZW1faGlkZGVuIgoJCQkJfSkuaHRtbCgiPGRpdj48c3BhbiBjbGFzcz0nd2Vic2l0ZV9pdGVtJz7kuqzkuJw8L3NwYW4+PHNwYW4gY2xhc3M9J2Fycm93Jz48L3NwYW4+PC9kaXY+IikpLnByZXBlbmQoaSgiPGxpPiIsIHsKCQkJCQkiY2xhc3MiOiAic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iCgkJCQl9KS5odG1sKCI8ZGl2PjxzcGFuIGNsYXNzPSd3ZWJzaXRlX2l0ZW0nPuWUr+WTgeS8mjwvc3Bhbj48c3BhbiBjbGFzcz0nYXJyb3cnPjwvc3Bhbj48L2Rpdj4iKSkucHJlcGVuZChpKCI8bGk+IiwgewoJCQkJCSJjbGFzcyI6ICJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIKCQkJCX0pLmh0bWwoIjxkaXY+PHNwYW4gY2xhc3M9J3dlYnNpdGVfaXRlbSc+6LSt54mp5YWaPC9zcGFuPjxzcGFuIGNsYXNzPSdhcnJvdyc+PC9zcGFuPjwvZGl2PiIpKS5wcmVwZW5kKGkoIjxsaT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaF93ZWJzaXRlX2l0ZW1fc2hvdyBzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCAiICsgdC5leHRCcmFuZCArICItc2VhcmNoLWFycm93LWRvd24gIgoJCQkJfSkuaHRtbCgiPGRpdj48c3BhbiBjbGFzcz0nd2Vic2l0ZV9pdGVtJz7mt5jlrp08L3NwYW4+PHNwYW4gY2xhc3M9J2Fycm93Jz48L3NwYW4+PC9kaXY+IikpLmNzcygiYm9yZGVyLXJpZ2h0LWNvbG9yIiwgIiNmZmYiKSkuYXBwZW5kKGkoIjxpbnB1dD4iLCB7CgkJCQkJaWQ6IHQuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiLAoJCQkJCXR5cGU6ICJ0ZXh0IiwKCQkJCQluYW1lOiByID8gInEiIDogInNfcHJvZHVjdCIsCgkJCQkJdmFsdWU6IHIgPyAi5Y675reY5a6d5om+5a6d6LSdIiA6ICLljrvotK3nianlhZrmkJzntKIiLAoJCQkJCSJkZWZhdWx0IjogIjEiLAoJCQkJCXN0eWxlOiAiZmxvYXQ6bGVmdDsiLAoJCQkJCWRlZmF1bHRfdmFsOiByID8gIuWOu+a3mOWuneaJvuWunei0nSIgOiAi5Y676LSt54mp5YWa5pCc57SiIgoJCQkJfSkpLmFwcGVuZChpKCI8aW5wdXQ+IiwgewoJCQkJCXR5cGU6ICJoaWRkZW4iLAoJCQkJCW5hbWU6ICJmcm9tIiwKCQkJCQl2YWx1ZTogImJyb3dzZXIiCgkJCQl9KSkpKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4tbmF2IikuYXBwZW5kKGkoJzxkaXYgaWQ9InJpZ2h0X2luZm8iIGNsYXNzPSJjb250ZW50cyI+PC9kaXY+JykpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbi1uYXYiKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJImNsYXNzIjogImFjY3VyYXRlIiwKCQkJCQlpZDogdC5leHROYW1lICsgIi1iYXItY29tcGFyZSIKCQkJCX0pLmFwcGVuZChpKCI8ZGl2PiIsIHsKCQkJCQkiY2xhc3MiOiAiY29udGVudHMiLAoJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiCgkJCQl9KSkpLCBpKCIjIiArIHQuZXh0TmFtZSArICItc2VhcmNoIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCXYoImNsaWNrOm1haW46c2VhcmNoIiksIGIubG9nKCLkuLvlt6XlhbfmoI/mkJzntKLngrnlh7siKQoJCQkJfSksIG8uaW5pdChlKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJaWQ6IHQuZXh0TmFtZSArICItdG1hbGwtZHAiLAoJCQkJCXRhcmdldDogIl9zZWxmIiwKCQkJCQlzdHlsZTogImRpc3BsYXk6bm9uZSIsCgkJCQkJImNsYXNzIjogdC5leHROYW1lICsgIi10YWIiCgkJCQl9KS5hcHBlbmQoaSgiPHNwYW4+IiwgewoJCQkJCSJjbGFzcyI6ICJ0bWFsbC1pY29uIGd3ZF9iZyIKCQkJCX0pKS5hcHBlbmQoaSgiPHNwYW4+IiwgewoJCQkJCSJjbGFzcyI6ICJ0bWFsbF90ZXh0IgoJCQkJfSkudGV4dCgi5aSp54yrIikpLmFwcGVuZChpKCI8c3Bhbj4iLCB7CgkJCQkJImNsYXNzIjogImxvd2VzdCB0YW9iYW8gIiArIHQuZXh0QnJhbmQgKyAiLXByaWNlIgoJCQkJfSkpKS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJaWQ6IHQuZXh0TmFtZSArICItdGFvYmFvLWRwIiwKCQkJCQl0YXJnZXQ6ICJfc2VsZiIsCgkJCQkJc3R5bGU6ICJkaXNwbGF5Om5vbmUiLAoJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItdGFiIgoJCQkJfSkuYXBwZW5kKGkoIjxzcGFuPiIsIHsKCQkJCQkiY2xhc3MiOiAidGFvYmFvLWljb24gZ3dkX2JnIgoJCQkJfSkpLmFwcGVuZChpKCI8c3Bhbj4iLCB7CgkJCQkJImNsYXNzIjogInRhb2Jhb190ZXh0IgoJCQkJfSkudGV4dCgi5reY5a6dIikpLmFwcGVuZChpKCI8c3Bhbj4iLCB7CgkJCQkJImNsYXNzIjogImxvd2VzdCB0YW9iYW8gIiArIHQuZXh0QnJhbmQgKyAiLXByaWNlIgoJCQkJfSkpKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJImNsYXNzIjogInBhbmVsIHRhb2Jhby1jb21wYXJlIiwKCQkJCQlpZDogdC5leHROYW1lICsgIi10bWFsbC1kcC1kZXRhaWwiCgkJCQl9KSkuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCSJjbGFzcyI6ICJwYW5lbCB0YW9iYW8tY29tcGFyZSIsCgkJCQkJaWQ6IHQuZXh0TmFtZSArICItdGFvYmFvLWRwLWRldGFpbCIKCQkJCX0pKSwgcy5pbml0KGUpLCBuKDE3MSkuaW5pdCgpLCBuKDE3NCkuaW5pdCgpLCBsLmluaXQoZS5zaGFyZV9nb29kLCBlLm5vdyksIG4oMTQyKS5taW5pYmFyKCksIGMuaW5pdChlLm5vdywgdC51bmlvbiksIGQuYWRkUHJvbW8oZC5nZXRQcm9tb0RhdGEoZSkpLCAiYW1hem9uIiA9PT0gdC5zaXRlICYmIG4oMTc2KS5pbml0KHQubm93X2RwX2lkKTsKCQkJCXRyeSB7CgkJCQkJaC5pbml0KHQud2hlcmVfYnV5X2RwcywgdC5ub3dfZHBfaWQsICJ0b3AiKQoJCQkJfSBjYXRjaCAoZykgewoJCQkJCWlmICh0LmRlYnVnKSB0aHJvdyBnCgkJCQl9CgkJCQl0cnkgewoJCQkJCW4oMTgwKS5pbml0KGUpCgkJCQl9IGNhdGNoIChnKSB7fQoJCQkJIiIgIT0gZS5leGFjdF9hcnIuaXNibiAmJiAodC5pc2JuID0gZS5leGFjdF9hcnIuaXNibiksIHAuc2hvdyhlLmV4YWN0X2Fyci5pc2JuLCAidG9wIik7CgkJCQl0cnkgewoJCQkJCXUucmVwbGFjZVF1YW4oZS5xdWFuKQoJCQkJfSBjYXRjaCAoZykgewoJCQkJCWlmICh0LmRlYnVnKSB0aHJvdyBnCgkJCQl9CgkJCQl0cnkgewoJCQkJCW0uaW5pdCgidG9wIikKCQkJCX0gY2F0Y2ggKGcpIHsKCQkJCQlpZiAodC5kZWJ1ZykgdGhyb3cgZwoJCQkJfQoJCQkJaWYgKCJhbWF6b24iID09IHQuc2l0ZSAmJiAodC53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiIpLmNzcygid2lkdGgiLCB0LndpZHRoKSksIHRoaXMuc2V0X3BhbmVsX2hvdmVyX2V2ZW50KCksIGkoIi5wYW5lbC1ub3RpY2UiKS51bmJpbmQoKSwgdC5pbml0X2l0ZW1fbGlzdCgpLCBpKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkgewoJCQkJCXQudG9wUmVzaXplVGltZXIgJiYgY2xlYXJUaW1lb3V0KHQudG9wUmVzaXplVGltZXIpLCB0LnRvcFJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJdC5zZXRfaXRlbV9hcmdzKCksIHQuc2V0X3BhZ2VfYXJncygpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAwID8gdC53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IHQud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiIpLmNzcygid2lkdGgiLCB0LndpZHRoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWIyYy1kcC1kZXRhaWwgLmFsbC1wcm9kdWN0cyIpLmNzcygid2lkdGgiLCB0LndpZHRoIC0gMzAyIC0gMiAqIGEuYjJjVHVybnBXKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWIyY19mdXp6eS1kcC1kZXRhaWwgLmFsbC1wcm9kdWN0cyIpLmNzcygid2lkdGgiLCB0LndpZHRoIC0gMiAqIGEudHVybnBXKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRhb2Jhby1kcC1kZXRhaWwgLmFsbC1wcm9kdWN0cyIpLmNzcygid2lkdGgiLCB0LndpZHRoIC0gMiAqIGEudHVybnBXKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnJlY29tbWVuZCAuYWxsLXByb2R1Y3RzIikuY3NzKCJ3aWR0aCIsIHQud2lkdGggLSAyICogYS50dXJucFcpLCB0LmZpeFdpZHRoKCkKCQkJCQl9LCAzMDApCgkJCQl9KSwgdC5zZXRfaXRlbV9hcmdzKCksIHQuc2V0X3BhZ2VfYXJncygpLCAiYW1hem9uIiA9PSB0LnNpdGUgJiYgKHQud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiIpLmNzcygid2lkdGgiLCB0LndpZHRoKSksIHQubG9hZF9pbWFnZSgiYjJjIiwgMCwgdC5wYWdlX3NpemVfbWluaSksIHQubG9hZF9pbWFnZSgiYjJjX2Z1enp5IiwgMCwgYS5zaG93TGlzdE51bSksIHQubG9hZF9pbWFnZSgiYWxzb19idXkiLCAwLCB0LnBhZ2Vfc2l6ZSksICIiICE9IGUuZXhhY3RfYXJyLmlzYm4pIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChlLmV4YWN0X2Fyci5pc2JuKTsKCQkJCWVsc2UgaWYgKCIiICE9IGUuZXhhY3RfYXJyLmJyYW5kICYmICIiICE9IGUuZXhhY3RfYXJyLnR5cGUpIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChlLmV4YWN0X2Fyci5icmFuZCArICIgIiArIGUuZXhhY3RfYXJyLnR5cGUpOwoJCQkJZWxzZSB7CgkJCQkJdmFyIF8gPSAiIiAhPSBlLmV4YWN0X2Fyci5rZXl3b3JkcyA/IGUuZXhhY3RfYXJyLmtleXdvcmRzIDogZS5jb2xsZWN0SW5mby50aXRsZTsKCQkJCQkiIiA9PSBfICYmIChfID0gZS5ub3cuY3RpdGxlKSwgXyA9IF8gfHwgIiIsIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChfLnJlcGxhY2UoLywvZywgIiAiKSkKCQkJCX0KCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmF0dHIoImRlZmF1bHQiLCAwKSwgaSgiLiIgKyB0LmV4dE5hbWUgKyAiLW5vdGljZS1jbG9zZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCXkuZ2V0KHQuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfbm90aWNlJm5vdGljZT0iICsgdC5ub3RpY2UpLmRvbmUoZnVuY3Rpb24oKSB7CgkJCQkJCWkoIi5wYW5lbC1ub3RpY2UiKS5oaWRlKCkKCQkJCQl9KQoJCQkJfSk7CgkJCQl0cnkgewoJCQkJCW4oMTI1KS5pbml0KGUubm93LnNpdGVfaWQpCgkJCQl9IGNhdGNoIChnKSB7fQoJCQkJbigxODQpLmluaXQoKTsKCQkJCXRyeSB7CgkJCQkJdC5kY21FeHQgfHwgbigxODYpLmluaXQoZS5ub3cpCgkJCQl9IGNhdGNoIChnKSB7fQoJCQkJdHJ5IHsKCQkJCQl0LmRjbUV4dCB8fCBuKDE5MykuaW5pdCgpCgkJCQl9IGNhdGNoIChnKSB7CgkJCQkJaWYgKHQuZGVidWcpIHRocm93IGcKCQkJCX0KCQkJCXRyeSB7CgkJCQkJZi5pbnNlcnRTZXR0aW5nVmlldyhlKQoJCQkJfSBjYXRjaCAoZykgewoJCQkJCWlmICh0LmRlYnVnKSB0aHJvdyBnCgkJCQl9CgkJCQl0aGlzLmZpeE5hdGl2ZVRvcCgpLCB0LmZpeFdpZHRoKCksIGooITApLCAxID09IHQucF9mb2xkICYmIHRoaXMuY2xvc2UoKQoJCQl9LCBlLmV4cG9ydHMuc2V0X3BhbmVsX2hvdmVyX2V2ZW50ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJbiA9ICJtb3VzZWVudGVyIiwKCQkJCQlhID0gIm1vdXNlbGVhdmUiOwoJCQkJIm1zaWUiICE9IHQuYnJvd3Nlci5hZ2VudCAmJiAobiA9ICJtb3VzZW92ZXIiLCBhID0gIm1vdXNlb3V0IiksIGkoIiMiICsgdC5leHROYW1lICsgIi10cmVuZCIpLm9uKG4sIGZ1bmN0aW9uKCkgewoJCQkJCXYoImhvdmVyOm1haW46cHJpY2VUcmVuZCIpLCBiLmxvZygi5Li75bel5YW35qCP5Lu35qC86LaL5Yq/6byg5qCH5oKs5rWuIikKCQkJCX0pLCBpKCIjIiArIHQuZXh0TmFtZSArICItYjJjLWRwIikub24obiwgZnVuY3Rpb24oKSB7CgkJCQkJYi5sb2coIuS4u+W3peWFt+agj+avlOS7t+m8oOagh+aCrOa1riIpLCB2KCJob3ZlcjptYWluOmNvbXBhcmUiKQoJCQkJfSksIGkoIiMiICsgdC5leHROYW1lICsgIi10bWFsbC1kcCIpLm9uKG4sIGZ1bmN0aW9uKCkgewoJCQkJCXYoImhvdmVyOm1haW46Y29tcGFyZSIpLCBiLmxvZygi5Li75bel5YW35qCP5aSp54yr5q+U5Lu36byg5qCH5oKs5rWuIikKCQkJCX0pLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIikub24obiwgZnVuY3Rpb24oKSB7CgkJCQkJdigiaG92ZXI6bWFpbjpjb21wYXJlIiksIGIubG9nKCLkuLvlt6XlhbfmoI/mt5jlrp3mr5Tku7fpvKDmoIfmgqzmta4iKQoJCQkJfSksIGkoIiMiICsgdC5leHROYW1lICsgIi1iMmMtZHAtZGV0YWlsIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdigiY2xpY2s6bWFpbjpjb21wYXJlIiksIGIubG9nKCLkuLvlt6XlhbfmoI/mr5Tku7fngrnlh7siKQoJCQkJfSksIGkoIiMiICsgdC5leHROYW1lICsgIi10bWFsbC1kcC1kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2KCJjbGljazptYWluOmNvbXBhcmUiKSwgYi5sb2coIuS4u+W3peWFt+agj+WkqeeMq+avlOS7t+eCueWHuyIpCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRhb2Jhby1kcC1kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2KCJjbGljazptYWluOmNvbXBhcmUiKSwgYi5sb2coIuS4u+W3peWFt+agj+a3mOWuneavlOS7t+eCueWHuyIpCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLmFjY3VyYXRlIC4iICsgdC5leHROYW1lICsgIi10YWIiKS5lYWNoKGZ1bmN0aW9uKG8pIHsKCQkJCQlpKHRoaXMpLmJpbmQobiwgZnVuY3Rpb24obikgewoJCQkJCQljbGVhckludGVydmFsKHQudGltZXIyKSwgZS5tb3VzZV9vdmVyX2V2ZW50KGkodGhpcykpCgkJCQkJfSksIGkodGhpcykuYmluZChhLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyKSwgdC50aW1lcjIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXQudGFiX291dCgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbC1taW5pLCAuIiArIHQuZXh0TmFtZSArICItbWluaSAucGFuZWwtbWluaSIpLmhpZGUoKSwgY2xlYXJJbnRlcnZhbCh0LnRpbWVyMikKCQkJCQkJfSwgMzAwKQoJCQkJCX0pLCBpKHRoaXMpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhckludGVydmFsKHQudGltZXIyKSwgImJsb2NrIiA9PSBpKCIjIiArIGkodGhpcykuYXR0cigiaWQiKSArICItZGV0YWlsIikuY3NzKCJkaXNwbGF5IikgPyAodC50YWJfb3V0KCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbCIpLmhpZGUoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLW1pbmksIC4iICsgdC5leHROYW1lICsgIi1taW5pIC5wYW5lbC1taW5pIikuaGlkZSgpKSA6IGUubW91c2Vfb3Zlcl9ldmVudChpKHRoaXMpKQoJCQkJCX0pCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLiIgKyB0LmV4dE5hbWUgKyAiLWljb24sIC4iICsgdC5leHROYW1lICsgIi1taW5pIC4iICsgdC5leHROYW1lICsgIi1pY29uIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmJpbmQoImNsaWNrIiwgZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgbiA9IGkodGhpcykuYXR0cigiaWQiKTsKCQkJCQkJImJsb2NrIiAhPSBpKCIjIiArIG4gKyAiLWRldGFpbCIpLmNzcygiZGlzcGxheSIpID8gZS5tb3VzZV9jbGlja19ldmVudChpKHRoaXMpKSA6IGkoIiMiICsgbiArICItZGV0YWlsIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKQoJCQkJCX0pCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLCAuIiArIHQuZXh0TmFtZSArICItbWluaSAucGFuZWwiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSh0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCWUgPSBlLnN1YnN0cigwLCBlLmxlbmd0aCAtIDcpLCBpKHRoaXMpLmJpbmQobiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFySW50ZXJ2YWwodC50aW1lcjIpLCB0LnRhYl9pbihpKCIjIiArIGUpKSwgaSh0aGlzKS5zaG93KCkKCQkJCQl9KSwgaSh0aGlzKS5iaW5kKGEsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhckludGVydmFsKHQudGltZXIpLCB0LnRpbWVyMiA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCQkJCQkJdC50YWJfb3V0KCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbCIpLmhpZGUoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLW1pbmksIC4iICsgdC5leHROYW1lICsgIi1taW5pIC5wYW5lbC1taW5pIikuaGlkZSgpLCBjbGVhckludGVydmFsKHQudGltZXIyKQoJCQkJCQl9LCAzMDApCgkJCQkJfSkKCQkJCX0pLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwtbWluaSwgLiIgKyB0LmV4dE5hbWUgKyAiLW1pbmkgLnBhbmVsLW1pbmkiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCWkodGhpcykuYmluZChuLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyMiksIGkodGhpcykuc2hvdygpCgkJCQkJfSksIGkodGhpcykuYmluZChhLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyKSwgdC50aW1lcjIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXQudGFiX291dCgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbC1taW5pLCAuIiArIHQuZXh0TmFtZSArICItbWluaSAucGFuZWwtbWluaSIpLmhpZGUoKSwgY2xlYXJJbnRlcnZhbCh0LnRpbWVyMikKCQkJCQkJfSwgMzAwKQoJCQkJCX0pCgkJCQl9KQoJCQl9LCBlLmV4cG9ydHMuZml4TmF0aXZlVG9wID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKGUpIHsKCQkJCQlpKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgewoJCQkJCQlmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspICJmaXhlZCIgPT0gaShlW25dKS5jc3MoInBvc2l0aW9uIikgPyAiYmxvY2siID09IGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuY3NzKCJkaXNwbGF5IikgPyBpKGVbbl0pLmNzcygidG9wIiwgMzIpIDogaShlW25dKS5jc3MoInRvcCIsIDApIDogaShlW25dKS5jc3MoInRvcCIsICJhdXRvIikKCQkJCQl9KQoJCQkJfQoJCQkJdmFyIG4gPSB0LnNpdGUsCgkJCQkJYSA9ICIiOwoJCQkJZm9yICh2YXIgbyBpbiB0aGlzLmZpeFRvcFBhdHRlcm4pIG8gPT0gbiAmJiAoYSA9IHRoaXMuZml4VG9wUGF0dGVybltvXSwgZShhKSkKCQkJfSwgZS5leHBvcnRzLmZpeFRvcFBhdHRlcm4gPSB7CgkJCQkiMzYwYnV5IjogWyIjcHJvLWRldGFpbC1oZCJdLAoJCQkJeWloYW9kaWFuOiBbIiNKX2ZpeGVkRGVzIl0sCgkJCQl6b2w6IFsiI2ZpeGVkVGFnTmF2Il0sCgkJCQl2aXBzaG9wOiBbIiNKX2J1eV90b3BiYXIiXSwKCQkJCSI1MWJ1eSI6IFsiI2luZm9fdGl0Il0sCgkJCQlkYW5nZGFuZzogWyIjYWxsX3RhYl9wYW5lbCJdLAoJCQkJZ29tZTogWyIjZml4dGFib3giXSwKCQkJCXRhb2JhbzogWyIjSl9UYWJCYXJXcmFwIl0sCgkJCQlsb2dpdGVjaDogWyJ1bC5wcm9kdWN0LWRldGFpbC10YWItbmF2Il0sCgkJCQlhcHBsZTogWyIjYWMtZ2xvYmFsbmF2Il0KCQkJfSwgZS5leHBvcnRzLnRoaXJkQmFyID0gZnVuY3Rpb24oKSB7CgkJCQlCKCksIHooKSwgQygpLCBTKCksIF8uaW5pdCgpLCB4LmluaXQoKSwgdS5ibGlua1BhZ2UodC5ocmVmKSwgbigxOTQpLmluaXQoKSwgbigxOTcpLmluaXQoKQoJCQl9LCBlLmV4cG9ydHMubW91c2Vfb3Zlcl9ldmVudCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gZS5hdHRyKCJpZCIpOwoJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyKSwgdC50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCQkJCXQudGFiX291dCgpLCB0LnRhYl9pbihpKCIjIiArIG4pKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwtbWluaSwgLiIgKyB0LmV4dE5hbWUgKyAiLW1pbmkgLnBhbmVsLW1pbmkiKS5oaWRlKCksIGUuYWRkQ2xhc3MoInRhYm1zX2hvdmVyIiksIGkoIiMiICsgbiArICItZGV0YWlsIikuc2hvdygpLCBjbGVhckludGVydmFsKHQudGltZXIpCgkJCQl9LCAyMDApCgkJCX0sIGUuZXhwb3J0cy5tb3VzZV9jbGlja19ldmVudCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWNsZWFySW50ZXJ2YWwodC50aW1lciksIGNsZWFySW50ZXJ2YWwodC50aW1lcjIpOwoJCQkJdmFyIG4gPSBlLmF0dHIoImlkIik7CgkJCQl0LnRhYl9vdXQoKSwgdC50YWJfaW4oZSksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbCIpLmhpZGUoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLW1pbmksIC4iICsgdC5leHROYW1lICsgIi1taW5pIC5wYW5lbC1taW5pIikuaGlkZSgpLCBpKCIjIiArIG4gKyAiLWRldGFpbCIpLnNob3coKQoJCQl9LCBlLmV4cG9ydHMuZGlzcGxheV9zZWFyY2hfYmFyX3RvcCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXooKSwgXy5pbml0KCksIHguaW5pdCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDYpLAoJCQkJCXQgPSB7fTsKCQkJCXJldHVybiB0LmJpbmRCZ2lmcmFtZSA9IGZ1bmN0aW9uKCkgewoJCQkJCWUuZm4uYmdpZnJhbWUgPSBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHRoaXMKCQkJCQl9LCBlLmZuLmJnSWZyYW1lID0gZS5mbi5iZ2lmcmFtZQoJCQkJfSwgdC5maXhfc2ZiZXN0X3RvcF9iYXIgPSBmdW5jdGlvbih0KSB7CgkJCQkJdmFyIG4gPSB0OwoJCQkJCWlmICgic2ZiZXN0IiA9PSBhLnNpdGUpIHRyeSB7CgkJCQkJCWlmICgibXNpZSIgIT0gYS5icm93c2VyLmFnZW50KSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWUoIiNmbG9hdCIpLmFuaW1hdGUoewoJCQkJCQkJCQkicGFkZGluZy10b3AiOiBuCgkJCQkJCQkJfSwgNTAwLCAic3dpbmciKQoJCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJCWUoIiNmbG9hdCIpLmNzcygidG9wIiwgbikKCQkJCQkJCX0KCQkJCQkJCW4gPSAiNjhweCIKCQkJCQkJfSBlbHNlIGUoIiNmbG9hdCIpLmNzcygidG9wIiwgbikKCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBpCgkJCQkJfQoJCQkJCXJldHVybiBuCgkJCQl9LCB0LmZpeF9zZmJlc3RfY2xvc2UgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoInNmYmVzdCIgPT0gYS5zaXRlKSB0cnkgewoJCQkJCQlpZiAoc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCWUoIiNmbG9hdCIpLmNzcyh7CgkJCQkJCQkJInBhZGRpbmctdG9wIjogIjBweCIKCQkJCQkJCX0pLCBlKCJib2R5IikuY3NzKCJwYWRkaW5nLXRvcCIsICIzNnB4IikKCQkJCQkJfSwgNTAxKSwgIm1zaWUiID09IGEuYnJvd3Nlci5hZ2VudCkgewoJCQkJCQkJZSgiYm9keSIpLmNzcygicGFkZGluZy10b3AiLCAiMzZweCIpOwoJCQkJCQkJdmFyIHQgPSBhLklFNiA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiAwOwoJCQkJCQkJZSgiI2Zsb2F0IikuY3NzKCJ0b3AiLCB0ICsgInB4IikKCQkJCQkJfQoJCQkJCX0gY2F0Y2ggKG4pIHsKCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IG4KCQkJCQl9CgkJCQl9LCB0CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKG4pIHsKCQkJCQlmb3IgKHZhciBpID0gYltuXSwgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKQoJCQkJCQlpZiAoZyhpW2FdKS5pcygiOnZpc2libGUiKSAmJiB0KCkpIHJldHVybiBoID0gbiwgdm9pZCBvKG0pOwoJCQkJCXYrKywgMTAgIT09IHYgJiYgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJZShuKQoJCQkJCX0sIDFlMykKCQkJCX0KCgkJCQlmdW5jdGlvbiB0KCkgewoJCQkJCXZhciBlID0gITEsCgkJCQkJCXQgPSBhLnNpdGU7CgkJCQkJc3dpdGNoICh0KSB7CgkJCQkJCWNhc2UgIjM2MGJ1eSI6CgkJCQkJCQllID0gITA7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiZGFuZ2RhbmciOgoJCQkJCQkJZSA9ICEwOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgInN1bmluZyI6CgkJCQkJCQllID0gZygiI3FyQ29kZSIpLnRleHQoKS5pbmRleE9mKCLmiYvmnLrotK3kubAiKSA+IC0xID8gITAgOiBnKCIjcGhvbmVPcmRlckNvZGUiKS50ZXh0KCkuaW5kZXhPZigi5omL5py65LiT5Lqr5Lu3IikgPiAtMSAmJiBnKCIjcGhvbmVPcmRlckNvZGUiKS5pcygiOnZpc2libGUiKSA/ICEwIDogITE7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiNTFidXkiOgoJCQkJCQkJaWYgKGcoIiNzZWFfZGVzYyIpLnRleHQoKS5pbmRleE9mKCLmiYvmnLrkuJPkuqvku7ciKSA+IC0xKSBlID0gITA7CgkJCQkJCQllbHNlIGlmIChnKCIueHByaWNlIC5tLXFyY29kZSAudHh0IGVtIikudGV4dCgpLmluZGV4T2YoIuaJi+acuui0reS5sOecgSIpID4gLTEpIHsKCQkJCQkJCQlpZiAoZygiLnhwcmljZSAubS1xcmNvZGUgLnR4dCBlbSIpLnRleHQoKS5pbmRleE9mKCLvv6UwLjAwIikgPiAtMSkgcmV0dXJuICExOwoJCQkJCQkJCWUgPSAhMAoJCQkJCQkJfSBlbHNlIGUgPSAhMTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJnb21lIjoKCQkJCQkJCSLmiYvmnLrkuJPkuqsiID09IGcoIiNzaG91aml6aHVhbnhpYW5nX2JveCAuaGxfcmVkX2JnIikudGV4dCgpICYmIChlID0gITApOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgInlpaGFvZGlhbiI6CgkJCQkJCQllID0gZygiI3Byb2R1Y3RTdWJOYW1lIikudGV4dCgpLmluZGV4T2YoIuaJi+acuuerr+S4i+WNlSIpID4gLTEgPyAhMCA6ICExCgkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9CgoJCQkJZnVuY3Rpb24gaSgpIHsKCQkJCQlmb3IgKHZhciB0IGluIGIpIGEuc2l0ZSA9PT0gdCAmJiBlKHQpOwoJCQkJCXJldHVybiAwID09PSB2ID8gITEgOiB2b2lkIDAKCQkJCX0KCgkJCQlmdW5jdGlvbiBvKGUpIHsKCQkJCQl2YXIgdCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CgkJCQkJXy5nZXQoYS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1nb19tb2JpbGUmdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQodCkpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkiIiAhPT0gZS51cmwgJiYgMSA9PT0gZS5zdGF0dXMgJiYgKCJsdXlvdSIgPT0gYS5idHlwZSB8fCAianV6aSIgPT09IGEuZnJvbV9kZXZpY2UgPyAobChlLnVybCksIGMoZS51cmwpKSA6IGooZS51cmwpKQoJCQkJCX0pCgkJCQl9CgoJCQkJZnVuY3Rpb24gcigpIHsKCQkJCQlyZXR1cm4gIjM2MGJ1eSIgPT0gYS5zaXRlID8gITAgOiAiQWN0aXZlWE9iamVjdCIgaW4gd2luZG93ID8gITEgOiAhMAoJCQkJfQoKCQkJCWZ1bmN0aW9uIHMoKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQlnKCIjYmpkX21fcHJpY2UiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQllID0gZyh0aGlzKS5jc3MoImNvbG9yIiksICJzdW5pbmciID09IGEuc2l0ZSB8fCBhLnNpdGUuaW5kZXhPZigic3VuaW5nIikgPiAtMSA/IGcodGhpcykuY3NzKCJjb2xvciIsICIjZmZmIikgOiBnKHRoaXMpLmNzcygiY29sb3IiLCAiIzAwMzM5OSIpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZyh0aGlzKS5jc3MoImNvbG9yIiwgZSkKCQkJCQl9KSwgZygiI2JqZF9tX3ByaWNlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW4oMjYpKCJjbGljazptb2JpbGVfcHJpY2UiKSwgeC5sb2coIuaJi+acuuS4k+S6q+S7t+eCueWHuyIpCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBsKGUpIHsKCQkJCQlpZiAoZSAmJiAiMzYwYnV5IiA9PSBoKSB7CgkJCQkJCXZhciB0ID0gcCgpLAoJCQkJCQkJaSA9IG4oMTYwKTsKCQkJCQkJZygiI3N1bW1hcnktcHJpY2UgLmRkIikuZXEoMCkuYXBwZW5kKHcuY29tcGlsZShpKSh7CgkJCQkJCQl1cmw6IGQoZSksCgkJCQkJCQlwcmljZTogdCwKCQkJCQkJCW5ld19leHRlbnNpb246IGEubmV3X2V4dGVuc2lvbiwKCQkJCQkJCWV4dEJyYW5kOiBhLmV4dEJyYW5kCgkJCQkJCX0pKSwgZygiIyIgKyBhLmV4dEJyYW5kICsgIl9tb2JpbGVfcHJpY2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCW4oMjYpKCJjbGljazptb2JpbGVfcHJpY2VfMzYwYnV5IiksIHgubG9nKCLmiYvmnLrkuJPkuqvku7fngrnlh7syamQiKQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgdCA9IHAoKSwKCQkJCQkJCW4gPSAi6LSt54mp5YWa5bCG5bim5oKo5YmN5b6A5omL5py654mI6aG16Z2i77yM5Lul5LiT5Lqr5Lu36LSt5Lmw5ZWG5ZOBIjsKCQkJCQkJYS5uZXdfZXh0ZW5zaW9uICYmIChuID0gIiIpOwoJCQkJCQl2YXIgaSwgbyA9IGtbaF07CgkJCQkJCWlmIChnLmlzQXJyYXkoeltoXSkpIHsKCQkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgeltoXS5sZW5ndGg7IHIrKykKCQkJCQkJCQlpZiAoZyh6W2hdW3JdKS5sZW5ndGggPiAwKSB7CgkJCQkJCQkJCWkgPSB6W2hdW3JdOwoJCQkJCQkJCQlicmVhawoJCQkJCQkJCX0KCQkJCQkJfSBlbHNlIGkgPSB6W2hdOwoJCQkJCQkiZGFuZ2RhbmciID09IGggfHwgInN1bmluZyIgPT0gaCB8fCAiMzYwYnV5IiA9PSBoIHx8ICIzNjBidXlfMSIgPT0gaCA/IGcoaSkuZXEoMCkuYWZ0ZXIody5jb21waWxlKG8pKHsKCQkJCQkJCXVybDogZChlKSwKCQkJCQkJCXByaWNlOiB0LAoJCQkJCQkJdGl0bGU6IG4KCQkJCQkJfSkpIDogZyhpKS5lcSgwKS5iZWZvcmUody5jb21waWxlKG8pKHsKCQkJCQkJCXVybDogZChlKSwKCQkJCQkJCXByaWNlOiB0LAoJCQkJCQkJdGl0bGU6IG4KCQkJCQkJfSkpLCB4LmxvZygi5bGV546w5omL5py65LiT5Lqr5Lu3IiksIHMoKQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCQl2YXIgdCA9IGEudG9Nb2JpbGVVcmw7CgkJCQkJcmV0dXJuIHQgKyAiL3VuaW9uL2dvP3NpdGVfaWQ9IiArIHUuc2l0ZV9pZCArICImdGFyZ2V0X3VybD0iICsgZSArICImdW5pb249IiArIG0gKyAiJmNvbHVtbj16aHVhbnhpYW5nXyIgKyB1Lm5vd19kcF9pZAoJCQkJfQoKCQkJCWZ1bmN0aW9uIHAoKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQlpZiAoKCIzNjBidXkiID09IGggfHwgIjM2MGJ1eV8xIiA9PSBoKSAmJiAoZSA9IGcoeVtoXSkudGV4dCgpKSwgImRhbmdkYW5nIiA9PSBoICYmIChlID0gZyh5W2hdKS50ZXh0KCkpLCAieWloYW9kaWFuIiA9PSBoKSB7CgkJCQkJCXZhciB0ID0gZygiI3Byb2R1Y3RTdWJOYW1lIikudGV4dCgpLm1hdGNoKC8oWzAtOS5dKynlhYMvKTsKCQkJCQkJdCAmJiAoZSA9ICLCpSIgKyB0WzFdKQoJCQkJCX0KCQkJCQlpZiAoIjUxYnV5IiA9PSBoKSB7CgkJCQkJCXZhciB0ID0gZygiI3NlYV9kZXNjIikudGV4dCgpLm1hdGNoKC/kuJPkuqvku7coWzAtOS5dKykvKTsKCQkJCQkJaWYgKHQpIGUgPSAiwqUiICsgdFsxXTsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgbiA9IGEuZHAucHJpY2UsCgkJCQkJCQkJaSA9IGcoIi54cHJpY2UgLm0tcXJjb2RlIC50eHQgZW0iKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJCWkgJiYgKGkgPSBpWzBdLCBuID0gTnVtYmVyKG4pIC0gTnVtYmVyKGkpLCBlID0gIsKlIiArIG4pCgkJCQkJCX0KCQkJCQl9CgkJCQkJaWYgKCJzdW5pbmciID09IGgpIHsKCQkJCQkJdmFyIHQgPSBOdW1iZXIoZygiLnFyY29kZS1tYWluLXByaWNlIGVtIikudGV4dCgpKTsKCQkJCQkJaWYgKCIiICE9IHQpIHsKCQkJCQkJCXZhciBvID0gYS5kcC5wcmljZSwKCQkJCQkJCQllID0gKG8gLSB0KS50b1N0cmluZygpOyAtIDEgPT0gZS5pbmRleE9mKCIuIikgJiYgKGUgPSAiwqUiICsgZSArICIuMDAiKQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdmFyIHQgPSBnKCIjcGhvbmVPcmRlckNvZGUiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJCXQgJiYgKHQgPSB0WzBdKSwgdCAmJiAoZSA9ICLCpSIgKyB0KQoJCQkJCQl9CgkJCQkJfQoJCQkJCWlmICgiZ29tZSIgPT0gaCkgewoJCQkJCQl2YXIgciA9IGcoIiNzYXZlbW9uZXkiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJciAmJiAociA9IE51bWJlcihyWzBdKSB8fCAwKTsKCQkJCQkJdmFyIG8gPSBhLmRwLnByaWNlLAoJCQkJCQkJZSA9IChvIC0gcikudG9TdHJpbmcoKTsgLSAxID09IGUuaW5kZXhPZigiLiIpICYmIChlID0gIsKlIiArIGUgKyAiLjAwIikKCQkJCQl9CgkJCQkJcmV0dXJuIGUubWF0Y2goL1swLTldezV9LykgJiYgKGUgPSBlLnJlcGxhY2UoL1wuWzAtOV0rLywgIiIpKSwgZQoJCQkJfQoJCQkJdmFyIGgsIHUsIG0sIGYgPSB7fSwKCQkJCQlnID0gbig2KSwKCQkJCQlfID0gbig5KSwKCQkJCQl4ID0gbigxMyksCgkJCQkJdyA9IG4oMTYpLAoJCQkJCXYgPSAwLAoJCQkJCWIgPSB7CgkJCQkJCSIzNjBidXkiOiBbIiNwcm9tLW1idXkgLm1vYi1idXkiLCAiI20tcGlyY2UiXSwKCQkJCQkJeWloYW9kaWFuOiBbIiNwcm9kdWN0U3ViTmFtZSJdLAoJCQkJCQlkYW5nZGFuZzogWyIjbW9iaWxlX2V4Y2x1c2l2ZV9wcmljZSJdLAoJCQkJCQlzdW5pbmc6IFsiI3FyQ29kZSIsICIjcGhvbmVPcmRlckNvZGUiXSwKCQkJCQkJZ29tZTogWyIjc2hvdWppemh1YW54aWFuZ19ib3giXSwKCQkJCQkJIjUxYnV5IjogWyIjc2VhX2Rlc2MiXQoJCQkJCX0sCgkJCQkJeSA9IHsKCQkJCQkJIjM2MGJ1eSI6ICIjcHJvbS1tYnV5IC5KLW0tcHJpY2UiLAoJCQkJCQkiMzYwYnV5XzEiOiAiI20tcGlyY2UgLkotbS1wcmljZSIsCgkJCQkJCWRhbmdkYW5nOiAiI21vYmlsZV9wcmljZSIKCQkJCQl9LAoJCQkJCWsgPSB7CgkJCQkJCSIzNjBidXkiOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7dGl0bGV9fSJzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojMDA1YWEwOyI+5peg6ZyA5omr56CB77yM55S16ISR5LiK5Lmf5Y+v5Lqr5Y+X5omL5py65LyY5oOg5Lu3ITwvYT4nLAoJCQkJCQkiMzYwYnV5XzEiOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7dGl0bGV9fSJzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojMDA1YWEwOyI+5peg6ZyA5omr56CB77yM55S16ISR5LiK5Lmf5Y+v5Lqr5Y+X5omL5py65LyY5oOg5Lu3ITwvYT4nLAoJCQkJCQl5aWhhb2RpYW46ICc8YSBpZD0iYmpkX21fcHJpY2UiIGhyZWY9Int7dXJsfX0iIHRhcmdldD0iX2JsYW5rIiAgcmVsPSJub3JlZmVycmVyIiB0aXRsZT0ie3t0aXRsZX19InN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOiMwNmM7YmFja2dyb3VuZC1jb2xvcjogI2ZmZjRmMjtkaXNwbGF5OiBibG9jaztwYWRkaW5nLWxlZnQ6IDEwcHg7aGVpZ2h0OiAyNnB4O2xpbmUtaGVpZ2h0OiAyNnB4O2ZvbnQtc2l6ZTogMTNweDsiPuaJi+acuuS4k+S6q+S7t3t7cHJpY2V9fe+8jOeri+WNs+WJjeW+gOi0reS5sDwvYT4nLAoJCQkJCQlkYW5nZGFuZzogJzxhIGlkPSJiamRfbV9wcmljZSIgaHJlZj0ie3t1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7dGl0bGV9fSJzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojMDA1YWEwOyI+5peg6ZyA5omr56CB77yM55S16ISR5LiK5Lmf5Y+v5Lqr5Y+X5omL5py65LyY5oOg5Lu3ITwvYT4nLAoJCQkJCQlzdW5pbmc6ICc8YSBpZD0iYmpkX21fcHJpY2UiIGhyZWY9Int7dXJsfX0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiIHRpdGxlPSJ7e3RpdGxlfX0ic3R5bGU9InRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7ZmxvYXQ6cmlnaHQ7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTVweDt3aWR0aDoxMTBweDtjb2xvcjogIzAwMzM5OTsiPuWJjeW+gOaJi+acuueJiOmhtemdoui0reS5sDwvYT4nLAoJCQkJCQkiNTFidXkiOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIiB0aXRsZT0ie3t0aXRsZX19InN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOiMwNmM7ZGlzcGxheTogYmxvY2s7aGVpZ2h0OiAyNnB4O2xpbmUtaGVpZ2h0OiAyNnB4O2ZvbnQtc2l6ZTogMTNweDsiPuaJi+acuuS4k+S6q+S7t3t7cHJpY2V9fe+8jOeri+WNs+WJjeW+gOi0reS5sDwvYT4nLAoJCQkJCQlnb21lOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIiB0aXRsZT0ie3t0aXRsZX19InN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOiMwNmM7ZGlzcGxheTogYmxvY2s7aGVpZ2h0OiAyNnB4O2xpbmUtaGVpZ2h0OiAyNnB4O2ZvbnQtc2l6ZTogMTNweDsiPuaJi+acuuS4k+S6q+S7t3t7cHJpY2V9fe+8jOeri+WNs+WJjeW+gOi0reS5sDwvYT4nCgkJCQkJfSwKCQkJCQl6ID0gewoJCQkJCQkiMzYwYnV5IjogWyIjbS1waXJjZSIsICIuSi1wcm9tLW1idXkiLCAiI3Byb20tb25lIl0sCgkJCQkJCXlpaGFvZGlhbjogIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYWN0aXZlX3lpaGFvZGlhbiIsCgkJCQkJCWRhbmdkYW5nOiAiI21vYmlsZV9leGNsdXNpdmVfcHJpY2UiLAoJCQkJCQlzdW5pbmc6IFsiI3FyQ29kZSAucXJjb2RlLW1haW4taW1nIiwgIi5waC1wcmljZS1xcmNvZGUgLnFyY29kZS1yZWdpb24iXSwKCQkJCQkJIjUxYnV5IjogIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYWN0aXZlXzUxYnV5IiwKCQkJCQkJZ29tZTogIiNzaG91aml6aHVhbnhpYW5nX2JveCIKCQkJCQl9OwoJCQkJZi5pbml0ID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCW0gPSB0LCB1ID0gZSwgcigpICYmIGkoKQoJCQkJfTsKCQkJCXZhciBCID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IHAoKSwKCQkJCQkJCW4gPSAnPGxpIGNsYXNzPSJtb2JpbGVfcHJpY2UiPlxuICAgICAgICAgICAgICA8c3Bhbj7miYvmnLrkuJPkuqs8L3NwYW4+XG4gICAgICAgICAgICAgIDxhIGhyZWY9IicgKyBlICsgJyIgdGFyZ2V0PSJfYmxhbmsiPicgKyB0ICsgIjwvYT5cbiAgICAgICAgICAgIDwvbGk+IjsKCQkJCQkJZygiI2JkZXh0X21pbmliYXIgLnByb21vLWJveCB1bCIpLnByZXBlbmQoZyhuKSksIGcoIiNiZGV4dF9taW5pYmFyIC5wcm9tby1ib3giKS5zaG93KCksIGcoIi5iZGV4dC10b3B0YWJzIC5iZGV4dC1taW5pLWxvZ28sIC5iZGV4dC1taW5pLWNvbXBhcmUiKS5hZGRDbGFzcygiaGFzUHJvbW8iKQoJCQkJCX0sCgkJCQkJaiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJImJhaWR1IiA9PT0gYS5mcm9tX2RldmljZSA/IEIoZSkgOiBDKGUpCgkJCQkJfSwKCQkJCQlDID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoIjM2MGJ1eSIgIT09IGEuc2l0ZSAmJiAoKCIzNjBidXkiICE9IGEuc2l0ZSB8fCAibWlfbmV3IiA9PSBhLmZyb21fZGV2aWNlKSAmJiAoZSA9IGQoZSkpLCBlKSkgewoJCQkJCQkJdmFyIHQgPSBwKCksCgkJCQkJCQkJbiA9ICc8bGkgY2xhc3M9ImxpXzAiIGRhdGEtdHlwZT0ibW9iIj48YSBocmVmPSInICsgZSArICciIHRpdGxlPSLotK3nianlhZrlsIbluKbmgqjliY3lvoDmiYvmnLrniYjpobXpnaLvvIzku6XkuJPkuqvku7fotK3kubDllYblk4EiIHRhcmdldD0iX2JsYW5rIiBpZD0iJyArIGEuZXh0QnJhbmQgKyAnX21vYmlsZV9wcmljZSIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBjbGFzcz0ibW9iaWxlX3RpdGxlIiA+5LiT5Lqr5Lu36LSt5LmwPC9zcGFuPjxzcGFuIGNsYXNzPSJtb2JpbGVfbnVtIj4nICsgdCArICI8L3NwYW4+Pj48L2E+PC9saT4iOwoJCQkJCQkJZygiLnByb21vX2JveF9sZWZ0IHVsIikucHJlcGVuZChnKG4pKTsKCQkJCQkJCWZvciAodmFyIGkgPSBnKCIucHJvbW9fYm94X2xlZnQgdWwgbGkiKSwgbyA9IGkubGVuZ3RoLCByID0gMDsgbyA+IHI7IHIrKykgaS5lcShyKS5hdHRyKCJjbGFzcyIsICJsaV8iICsgcik7CgkJCQkJCQkzID4gbyA/IChnKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2RpdiIpLmFkZENsYXNzKCJvbmVsaW5lIiksIGcoIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCAxID09IG8gJiYgZygiLnByb21vX3NodXhpYW4iKS5oaWRlKCkpIDogZygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXYiKS5yZW1vdmVDbGFzcygib25lbGluZSIpLmFkZENsYXNzKCJ0d29saW5lcyIpLCB4LmxvZygi5paw54mI5bWM5YWl5omL5py65LiT5Lqr5Lu35bGV546wIiksIGcoIiMiICsgYS5leHRCcmFuZCArICJfbW9iaWxlX3ByaWNlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJeC5sb2coIuaWsOeJiOW1jOWFpeaJi+acuuS4k+S6q+S7t+eCueWHuyIpCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfTsKCQkJCXJldHVybiBmCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxhIGlkPSJ7e2V4dEJyYW5kfX1fbW9iaWxlX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX10aXRsZT0i6LSt54mp5YWa5bCG5bim5oKo5YmN5b6A5omL5py654mI6aG16Z2i77yM5Lul5LiT5Lqr5Lu36LSt5Lmw5ZWG5ZOBXG4iIHt7L2lmfX0+XG4gIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbXByaWNlX3RpdGxlIj7ngrnmraTkuJPkuqvku7fotK3kubA8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbXByaWNlX251bSI+e3twcmljZX19PC9zcGFuPlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIGEje3tleHRCcmFuZH19X21vYmlsZV9wcmljZSB7XG4gICAgICB3aWR0aDogMTMycHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICBzcGFuLnt7ZXh0QnJhbmR9fV9tcHJpY2VfdGl0bGUge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDk0cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTY4Y2RmO1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgc3Bhbi57e2V4dEJyYW5kfX1fbXByaWNlX3RpdGxlOmhvdmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMwNzFjNjtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgc3Bhbi57e2V4dEJyYW5kfX1fbXByaWNlX251bSB7XG4gICAgICBjb2xvcjogI2U0MzkzYztcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9hPicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKGUpIHsKCQkJCQlpZiAoImx1eW91IiA9PSBhLmJ0eXBlICYmIDAgIT0gYS5zaG93X3Byb21vICYmICgibWF4dGhvbiIgIT09IGEuZnJvbV9kZXZpY2UgfHwgIShsb2NhdGlvbi5ob3N0LmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJ0bWFsbCIpID4gLTEpKSkgewoJCQkJCQl2YXIgdCA9IGEuc2F2ZV9wcm9tb19sZW4sCgkJCQkJCQluID0gW107CgkJCQkJCWlmIChlLnRvdGFsID4gMCAmJiAzID4gdCkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlmb3IgKHZhciBpID0gZS5wcm9kdWN0cywgciA9IGEuaHJlZi5pbmRleE9mKCJ0bWFsbC5jb20iKSA+PSAwID8gInRtYWxsIiA6IGEuc2l0ZSwgcyA9IG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYnJhbmRfbGF5b3V0XyIgKyByKS5sZW5ndGggPyBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dF8iICsgcikuZW1wdHkoKSA6IG8oIjxkaXY+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcHJvbW9fYnJhbmRfbGF5b3V0XyIgKyByLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIl9wcm9tb19icmFuZF9sYXlvdXQiCgkJCQkJCQkJfSksIGQgPSAwOyBkIDwgaS5sZW5ndGggJiYgIShkID49IDMgLSB0KTsgZCsrKSB7CgkJCQkJCQkJCW4ucHVzaChpW2RdLnByb21vX2lkKTsKCQkJCQkJCQkJdmFyIHAgPSBvKCI8cD4iLCB7CgkJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvbW8tYnJhbmQtcCIsCgkJCQkJCQkJCQkJcHJvbW9pZDogaVtkXS5wcm9tb19pZAoJCQkJCQkJCQkJfSksCgkJCQkJCQkJCQloID0gImJyYW5kIiA9PSBlLl9mcm9tZSA/IGlbZF0uc2l0ZV9uYW1lICsgJyAiJyArIGlbZF0udGl0bGUgKyAnIiAnICsgaVtkXS5rZXl3b3JkcyArICIgIiArIGlbZF0uZW5kX3RpbWUuc3BsaXQoIiAiKVswXSArICLnu5PmnZ8iIDogaVtkXS5hX3RpdGxlOwoJCQkJCQkJCQlwLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcm9tby1icmFuZC1jbGljayIsCgkJCQkJCQkJCQlocmVmOiBpW2RdLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQkJCQl0aXRsZTogaCwKCQkJCQkJCQkJCXByb21vaWQ6IGlbZF0ucHJvbW9faWQKCQkJCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXNpdGUtbmFtZSIsCgkJCQkJCQkJCQlzdHlsZTogaVtkXS5zaXRlX25hbWUubGVuZ3RoID49IDUgPyAicGFkZGluZy1yaWdodDoxMHB4OyIgOiAiIiwKCQkJCQkJCQkJCXByb21vaWQ6IGlbZF0ucHJvbW9faWQKCQkJCQkJCQkJfSkudGV4dChpW2RdLnNpdGVfbmFtZSkuYXBwZW5kKG8oIjxiPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXNpdGUtbmFtZS1yaWdodCIKCQkJCQkJCQkJfSkudGV4dCgi77yaIikpKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvbW8ta2V5d29yZHMiLAoJCQkJCQkJCQkJcHJvbW9pZDogaVtkXS5wcm9tb19pZAoJCQkJCQkJCQl9KS50ZXh0KGlbZF0ua2V5d29yZHMpKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvbW8tdGl0bGUiLAoJCQkJCQkJCQkJcHJvbW9pZDogaVtkXS5wcm9tb19pZAoJCQkJCQkJCQl9KS50ZXh0KGlbZF0udGl0bGUpKSksIHMuYXBwZW5kKHApCgkJCQkJCQkJfQoJCQkJCQkJfSBjYXRjaCAodSkgewoJCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyB1CgkJCQkJCQl9CgkJCQkJCQlvKCIuIiArIGEuZXh0QnJhbmQgKyAiLXByb21vLWJyYW5kLXAiKS5vbigiY2xpY2siLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIGwoImNsaWNrOm1pbmk6cHJvbW86IiArIGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoInByb21vaWQiKSksIGMubG9nKCLltYzlhaXkv4PplIDmtLvliqjngrnlh7siKSwgITAKCQkJCQkJCX0pLCBjLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo5bGV546wIiksIGwoInRyYWNrOm1pbmk6cHJvbW86IiArIG4uam9pbigiLCIpKQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQodCwgbikgewoJCQkJCXZhciBvID0gbnVsbDsKCQkJCQl0LnRvdGFsID4gMCA/ICh0Ll9mcm9tZSA9ICJicmFuZCIsIG8gPSB0KSA6IG8gPSBudWxsICE9IG4gPyBuIDogewoJCQkJCQl0b3RhbDogMCwKCQkJCQkJcHJvZHVjdHM6IFtdCgkJCQkJfSwgImx1eW91IiA9PSBhLmJ0eXBlID8gKGUobyksIGkodC5icmFuZF9pZCwgdC5icmFuZCkpIDogMCAhPSBkLmdldCgic2hvd19wcm9tbyIpICYmIG0obyksIHMuYXV0b0FkZEZhdm9yKCkKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUsIHQpIHsKCQkJCQllICYmICFhLmRwSXNCb29rICYmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKS5hdHRyKHsKCQkJCQkJYnJhbmRJZDogZSwKCQkJCQkJYWN0aW9uVHlwZTogMQoJCQkJCX0pLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGkgPSBvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKSwKCQkJCQkJCXIgPSB7fSwKCQkJCQkJCXMgPSAi5ZOB54mM54m55Y2W5o+Q5YmN55+l6YGTIjsKCQkJCQkJMSA9PSBpLmF0dHIoImFjdGlvblR5cGUiKSA/IChyLmxvYWRNc2cgPSAi5q2j5Zyo5YWz5rOoLi4uIiwgci5hY3Rpb24gPSAiYWRkIikgOiAoci5sb2FkTXNnID0gIuWPlua2iOWFs+azqC4uLiIsIHIuYWN0aW9uID0gImRlbGV0ZSIpOwoJCQkJCQl2YXIgbCA9IGkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1icmFuZC1zdWJzY3JpYmUtdGV4dCIpLmVxKDApLAoJCQkJCQkJYyA9IGkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1iZyIpLmVxKDApOwoJCQkJCQlsLnRleHQoci5sb2FkTXNnKTsKCQkJCQkJdmFyIGQgPSBuKDkpOwoJCQkJCQlkLmdldChhLmNfc2VydmVyICsgIi9icndleHQvYnJhbmRfc3Vic2NyaWJlP2JyYW5kX2lkPSIgKyBlICsgIiZhY3Rpb249IiArIHIuYWN0aW9uKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciBuID0gZSAmJiBlLmNvZGU7CgkJCQkJCQlpZiAoMCA9PSBuKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGEuY19zZXJ2ZXIgKyAiL3VzZXIvbG9naW4/ZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmhyZWYpOwoJCQkJCQkJZWxzZSBpZiAoMSA9PSBuIHx8IDMgPT0gbikgewoJCQkJCQkJCXZhciBvID0gIiIsCgkJCQkJCQkJCWQgPSAxLAoJCQkJCQkJCQlwID0gYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWljb24tYmx1ZSI7CgkJCQkJCQkJImFkZCIgPT0gci5hY3Rpb24gPyAobyA9IDEgPT0gbiA/ICLlhbPms6jmiJDlip8iIDogIuW3suWFs+azqCIsIGQgPSAwLCBwID0gYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWljb24tcmVkIiwgcyA9ICLigJwiICsgKHQgPyB0IDogIuivpeWTgeeJjCIpICsgIuKAneeahOeJueWNlua0u+WKqOS8muesrOS4gOaXtumXtOaPkOmGkuS9oCIpIDogImRlbGV0ZSIgPT0gci5hY3Rpb24gJiYgKG8gPSAxID09IG4gPyAi5YWz5rOo5q2k5ZOB54mMIiA6ICLmk43kvZzlpLHotKUiLCBkID0gMSk7CgkJCQkJCQkJdmFyIGg7CgkJCQkJCQkJY2xlYXJUaW1lb3V0KGgpLCBoID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJaS5hdHRyKCJhY3Rpb25UeXBlIiwgZCksIGwudGV4dChvKSwgYy5hdHRyKCJjbGFzcyIsIGEuZXh0QnJhbmQgKyAiLWJnICIgKyBwKQoJCQkJCQkJCX0sIDUwMCkKCQkJCQkJCX0gZWxzZSBpLmF0dHIoImNsYXNzIiwgYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlIikuYXR0cigiYWN0aW9uVHlwZSIsIDEpLCBsLnRleHQoIuWFs+azqOatpOWTgeeJjCIpOwoJCQkJCQkJaS5hdHRyKCJ0aXRsZSIsIHMpCgkJCQkJCX0pCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWJveCIpLnNob3coKSwgbygiLnN1YnNjcmliZV9zaHV4aWFuIikuc2hvdygpKQoJCQkJfQoJCQkJdmFyIG8gPSBuKDYpLAoJCQkJCXIgPSB7fSwKCQkJCQlzID0gbigxMTkpLAoJCQkJCWwgPSBuKDI2KSwKCQkJCQljID0gbigxMyksCgkJCQkJZCA9IG4oMTcpLAoJCQkJCXAgPSBuKDkpLAoJCQkJCWggPSBuKDE2KSwKCQkJCQl1ID0gZnVuY3Rpb24oKSB7CgkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQljLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo54K55Ye7IikKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfbW9iaWxlX3ByaWNlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQljLmxvZygi5omL5py65LiT5Lqr5Lu354K55Ye7IikKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJCWlmICgiMzYwYnV5LXJlIiAhPT0gYS5zaXRlKSB7CgkJCQkJCQlmb3IgKHZhciB0ID0gewoJCQkJCQkJCTE6ICLkv4MiLAoJCQkJCQkJCTI6ICLmipgiLAoJCQkJCQkJCTM6ICLotaAiLAoJCQkJCQkJCTQ6ICLlh48iLAoJCQkJCQkJCTU6ICLotaAiLAoJCQkJCQkJCTY6ICLov5QiCgkJCQkJCQl9LCBpID0gMDsgaSA8IGUucHJvZHVjdHMubGVuZ3RoOyBpKyspIHRbZS5wcm9kdWN0c1tpXS5wcm9tb190eXBlXSA/IGUucHJvZHVjdHNbaV0ucHJvbW9rZXlzID0gdFtlLnByb2R1Y3RzW2ldLnByb21vX3R5cGVdIDogZS5wcm9kdWN0c1tpXS5wcm9tb2tleXMgPSAi5L+DIjsKCQkJCQkJCXZhciByID0gbigxNjIpLAoJCQkJCQkJCXMgPSBlLnByb2R1Y3RzLmxlbmd0aDsKCQkJCQkJCWlmICgwICE9IHMpIHsKCQkJCQkJCQl2YXIgbCA9IG8oIi5wcm9tb19ib3hfbGVmdCB1bCBsaSIpLmxlbmd0aDsKCQkJCQkJCQlsID4gMCAmJiAobygiLnByb21vX3NodXhpYW4iKS5zaG93KCksIHMgKz0gbCk7CgkJCQkJCQkJdmFyIGQgPSBoLmNvbXBpbGUocikoewoJCQkJCQkJCQlkYXRhOiBlLnByb2R1Y3RzLAoJCQkJCQkJCQlzaXplOiBsCgkJCQkJCQkJfSk7CgkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19ib3ggLnByb21vX2JveF9sZWZ0IHVsIikuYXBwZW5kKGQpLCB1KCksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCBjLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo5bGV546wIiksIDMgPiBzID8gbygiIyIgKyBhLndpc2hkb20yKS5hZGRDbGFzcygib25lbGluZSIpIDogbygiIyIgKyBhLndpc2hkb20yKS5hZGRDbGFzcygidHdvbGluZXMiKS5yZW1vdmVDbGFzcygib25lbGluZSIpCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9OwoJCQkJcmV0dXJuIHIuZ2V0UHJvbW9EYXRhID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gewoJCQkJCQlfZnJvbWU6ICJhY3RpdmUiLAoJCQkJCQl0b3RhbDogMCwKCQkJCQkJcHJvZHVjdHM6IFtdCgkJCQkJfTsKCQkJCQlpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuYjJjLnByb2R1Y3QgJiYgZS5iMmMucHJvZHVjdC5sZW5ndGggPiAwKSB7CgkJCQkJCWZvciAodmFyIG4gPSBlLmIyYy5wcm9kdWN0LCBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHsKCQkJCQkJCXZhciBhID0gbltpXS5kcF9pZC5zcGxpdCgiLSIpWzFdOwoJCQkJCQkJaWYgKCgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZS5ub3cuc2l0ZV9pZCB8fCBhICE9IGUubm93LnNpdGVfaWQpICYmIG5baV0ucHJvbW8ubGVuZ3RoID4gMCkKCQkJCQkJCQlmb3IgKHZhciBvID0gbltpXS5wcm9tbywgciA9IDA7IHIgPCBvLmxlbmd0aDsgcisrKSB7CgkJCQkJCQkJCXZhciBzID0gewoJCQkJCQkJCQkJc2l0ZV9uYW1lOiBuW2ldLnNpdGVfbmFtZSwKCQkJCQkJCQkJCXVybDogbltpXS51cmwsCgkJCQkJCQkJCQl0aXRsZTogb1tyXS5kZXNjLAoJCQkJCQkJCQkJZW5kX3RpbWU6ICIiLAoJCQkJCQkJCQkJYnJhbmQ6IG9bcl0uZGVzYy5sZW5ndGggPiAyMSA/IG9bcl0uZGVzYy5zdWJzdHIoMCwgMjApIDogb1tyXS5kZXNjLAoJCQkJCQkJCQkJa2V5d29yZHM6ICLvv6UiICsgbltpXS5wcmljZSwKCQkJCQkJCQkJCWFfdGl0bGU6IG5baV0udGl0bGUKCQkJCQkJCQkJfTsKCQkJCQkJCQkJdC5wcm9kdWN0cy5wdXNoKHMpCgkJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXQudG90YWwgPSB0LnByb2R1Y3RzLmxlbmd0aAoJCQkJCX0KCQkJCQlyZXR1cm4gdC5wcm9kdWN0cy5sZW5ndGggPiAwID8gdCA6IG51bGwKCQkJCX0sIHIuYWRkUHJvbW8gPSBmdW5jdGlvbihuKSB7CgkJCQkJaWYgKG51bGwgPT0gYS5zYXZlX3Byb21vX2RhdGEpIHsKCQkJCQkJdmFyIGkgPSBhLmRwSXNCb29rLAoJCQkJCQkJciA9IGEuc2F2ZV9kcF9xdWVyeSwKCQkJCQkJCXMgPSAiIiAhPSByLm5vdy5ub3dfZHBfaWQgPyByLm5vdy5ub3dfZHBfaWQgOiByLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCwKCQkJCQkJCWwgPSByLm5vdy5jbGFzc19pZCwKCQkJCQkJCWMgPSByLmV4YWN0X2Fyci5zYnJhbmQsCgkJCQkJCQlkID0gci5leGFjdF9hcnIuYnJhbmRfaWQsCgkJCQkJCQloID0gci5leGFjdF9hcnIudGFvYmFvX2NsYXNzX2lkOwoJCQkJCQlpZiAobnVsbCA9PSBpIHx8ICIiID09IGkpIHsKCQkJCQkJCW4gPSBudWxsLCBzID0gcyB8fCAiMCI7CgkJCQkJCQl2YXIgdSA9IDAsCgkJCQkJCQkJbSA9ICIiID09IGEuY29sbGVjdEluZm8udGl0bGUgPyBhLmRwLm5hbWUgOiBhLmNvbGxlY3RJbmZvLnRpdGxlOwoJCQkJCQkJcC5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wcm9tb19icmFuZD9wZz0xJnBzPTMwJm9yZGVyPSIgKyB1ICsgIiZ0Yl9jbGFzcz0iICsgaCArICImY2xhc3NfaWQ9IiArIGwgKyAiJmRwX2lkPSIgKyBzICsgIiZ0aXRsZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG0pICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikgKyAiJnVuaW9uPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS51bmlvbikgKyAiJnNicmFuZD0iICsgYyArICImYnJhbmRfaWQ9IiArIGQpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiAhZSB8fCBlICYmIDAgPT0gZS5sZW5ndGggPyB2b2lkIG8oIiMiICsgYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWJ0biIpLmhpZGUoKSA6IHZvaWQgdChlLCBuKQoJCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKS5oaWRlKCksIG51bGwgIT0gbiAmJiBlKG4pCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwgci5pbnNlcnRQcm9tb1Nob3dMaXN0ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpczsKCQkJCQlpZiAobnVsbCAhPSBlICYmIG51bGwgIT0gZS5wcm9tb3MgJiYgMCAhPSBlLnByb21vcy5sZW5ndGgpIHsKCQkJCQkJbygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIsCgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiCgkJCQkJCX0pLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJwb2ludGVyLXVwIgoJCQkJCQl9KS5odG1sKCI8IS0tW2lmIElFIDZdPuKXhjwhW2VuZGlmXS0tPiIpKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2NvbnRlbnQiCgkJCQkJCX0pLmFwcGVuZChvKCI8dWw+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF91bCIsCgkJCQkJCQlzdHlsZTogInBhZGRpbmc6MHB4OyIKCQkJCQkJfSkpKSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWwoImNsaWNrOm1haW46Y3V4aWFvIiksIGMubG9nKCLkuLvlt6XlhbfmoI/kv4PplIDngrnlh7siKQoJCQkJCQl9KTsKCQkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLnByb21vcy5sZW5ndGggJiYgNSA+IG47ICsrbikgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfdWwiKS5hcHBlbmQobygiPGxpPiIsIHt9KS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJdGl0bGU6IGUucHJvbW9zW25dLnRpdGxlICsgIiDmiKrmraI6IiArIGUucHJvbW9zW25dLmVuZF90aW1lLnNwbGl0KCIgIilbMF0sCgkJCQkJCQlocmVmOiBlLnByb21vc1tuXS51cmwsCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLmh0bWwoZS5wcm9tb3Nbbl0udGl0bGUucmVwbGFjZSgvKFxkKykvZywgIjxzcGFuIGNsYXNzPSciICsgYS5leHRCcmFuZCArICItcmVkJz4kMTwvc3Bhbj4iKSkpLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAicHJvbW9fc3BhbiIKCQkJCQkJfSkudGV4dCgi5oiq5q2iOiIgKyBlLnByb21vc1tuXS5lbmRfdGltZS5tYXRjaCgvXGR7NH0tKFswLTktXXs1fSkvKVsxXSkpKTsKCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfdWwiKS5hcHBlbmQobygiPGxpPiIsIHsKCQkJCQkJCXN0eWxlOiAidGV4dC1hbGlnbjogcmlnaHQ7Ym9yZGVyOiBub25lOyIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCXRpdGxlOiAi5p+l55yL5YWo6YOo5L+D6ZSAIiwKCQkJCQkJCWhyZWY6IGUudXJsLAoJCQkJCQkJImNsYXNzIjogInNob3dfYWxsX3Byb21vIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5p+l55yL5YWo6YOoKCIgKyBlLm51bSArICIpIikpKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19idG4iKS5tb3VzZW92ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJCQl0LnRpbWVyX3Nob3dfZGl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3NtYWxsX3RhYiIpLmhpZGUoKSwgbygiLnBhbmVsIikuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF9kaXYiKS5jc3MoImxlZnQiLCBvKGUpLm9mZnNldCgpLmxlZnQgKyAicHgiKS5zaG93KCkKCQkJCQkJCX0sIDMwMCksIGNsZWFyVGltZW91dCh0LnRpbWVyX2hpZGVfZGl2KSwgbCgiaG92ZXI6bWFpbjpjdXhpYW8iKSwgYy5sb2coIuS4u+W3peWFt+agj+S/g+mUgOm8oOagh+aCrOa1riIpCgkJCQkJCX0pLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2J0biIpLm1vdXNlb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJdC50aW1lcl9oaWRlX2RpdiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfZGl2IikuaGlkZSgpCgkJCQkJCQl9LCAzMDApLCBjbGVhclRpbWVvdXQodC50aW1lcl9zaG93X2RpdikKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYnRuIikuY2xpY2soZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuICJibG9jayIgPT0gbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfZGl2IikuY3NzKCJkaXNwbGF5IikgPyBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF9kaXYiKS5oaWRlKCkgOiAobygiLiIgKyBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiKS5oaWRlKCksIG8oIi5wYW5lbCIpLmhpZGUoKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfZGl2IikuY3NzKCJsZWZ0Iiwgbyh0aGlzKS5vZmZzZXQoKS5sZWZ0ICsgInB4Iikuc2hvdygpKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgITEKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQljbGVhclRpbWVvdXQodC50aW1lcl9oaWRlX2RpdikKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLm1vdXNlbGVhdmUoZnVuY3Rpb24oKSB7CgkJCQkJCQl0LnRpbWVyX2hpZGVfZGl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF9kaXYiKS5oaWRlKCkKCQkJCQkJCX0sIDMwMCkKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiLiIgKyBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiKS5oaWRlKCkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbiAgPGxpIGNsYXNzPSJsaV97eyRpbmRleCtzaXplfX0iPlxuICAgIHt7aWYgJHZhbHVlLnByb21va2V5c319XG4gICAgPHNwYW4+e3skdmFsdWUucHJvbW9rZXlzfX08L3NwYW4+XG4gICAge3svaWZ9fVxuICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gIDwvbGk+XG57ey9lYWNofX0nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZShlLCB0KSB7CgkJCQkJaWYgKCEobygiI2RvdWJhbi10b3AiKS5sZW5ndGggPiAwIHx8IG51bGwgPT0gZS5yYXRpbmcuYXZlcmFnZSB8fCAwID09IHBhcnNlSW50KGUucmF0aW5nLmF2ZXJhZ2UpKSkgewoJCQkJCQl2YXIgbiA9IGUucmF0aW5nLmF2ZXJhZ2U7CgkJCQkJCW8oIiMiICsgYS5leHROYW1lICsgIi1tYWluLWNvbnRlbnRzIikuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCXN0eWxlOiAiaGVpZ2h0OjMwcHgiLAoJCQkJCQkJdGl0bGU6ICLosYbnk6Por4TliIYiLAoJCQkJCQkJaWQ6ICJkb3ViYW4tdG9wIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQlocmVmOiBlLmFsdCArICgicmV2aWV3cz8iICsgYS5leHRCcmFuZCArICJfaXNibj0iKSArIHQKCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJkb3ViYW4taWNvbiIKCQkJCQkJfSkpLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCQlzdHlsZTogImNvbG9yOiMwMDc2MTAiCgkJCQkJCX0pLmFwcGVuZChuICsgIuWIhiIpKSkKCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gdChlLCB0KSB7CgkJCQkJaWYgKCEobygiIyIgKyBhLmV4dEJyYW5kICsgIi1kb3ViYW4iKS5sZW5ndGggPiAwIHx8IG51bGwgPT0gZS5yYXRpbmcuYXZlcmFnZSB8fCAwID09IHBhcnNlSW50KGUucmF0aW5nLmF2ZXJhZ2UpKSkgewoJCQkJCQl2YXIgbiA9IGUucmF0aW5nLmF2ZXJhZ2U7CgkJCQkJCW8oIi4iICsgYS5leHRCcmFuZCArICItZmF2b3ItbW9kdWxlIikuZXEoMCkuYWZ0ZXIobygiPGRpdj4iLCB7CgkJCQkJCQlpZDogYS5leHRCcmFuZCArICItZG91YmFuIiwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNsb3NlLW1vZHVsZSAiICsgYS5leHRCcmFuZCArICItZGVzYyByZS0iICsgYS5leHRCcmFuZCArICItZGVzYyIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCWlkOiAiZ290b19kb3ViYW4iLAoJCQkJCQkJdGl0bGU6ICLosYbnk6Por4TliIYiLAoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJCWhyZWY6IGUuYWx0ICsgKCJyZXZpZXdzPyIgKyBhLmV4dEJyYW5kICsgIl9pc2JuPSIpICsgdAoJCQkJCQl9KS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgImFuZF9kb3ViYW5faWNvbl9ib3R0b20iCgkJCQkJCX0pKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dE5hbWUgKyAiX2RvdWJhbl90ZXh0X2JvdHRvbSIKCQkJCQkJfSkuYXBwZW5kKG4gKyAi5YiGIikpKSksIHMuc2V0Qm90dG9tVmlld09mZnNldCgpLCBsLnNldEJvdHRvbVZpZXdPZmZzZXQoKQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUsIHQpIHsKCQkJCQlpZiAoIShvKCIjIiArIGEuZXh0TmFtZSArICJfZG91YmFuX2RpdiIpLnRleHQoKS5sZW5ndGggPiAxIHx8IG51bGwgPT0gZS5yYXRpbmcuYXZlcmFnZSB8fCAwID09IHBhcnNlSW50KGUucmF0aW5nLmF2ZXJhZ2UpKSkgewoJCQkJCQl2YXIgbiA9IGUucmF0aW5nLmF2ZXJhZ2UsCgkJCQkJCQlpID0gMTYsCgkJCQkJCQlyID0gODAsCgkJCQkJCQlzID0gMTYsCgkJCQkJCQlsID0gLTgwLAoJCQkJCQkJYyA9IC0xNzksCgkJCQkJCQlkID0gMCwKCQkJCQkJCXAgPSAwLAoJCQkJCQkJaCA9IHBhcnNlRmxvYXQobikgLyAyLAoJCQkJCQkJdSA9IHBhcnNlSW50KGgpOwoJCQkJCQloICE9IHUgJiYgKGggPSAuMjUgPj0gaCAtIHUgPyB1IDogaCAtIHUgPj0gLjc1ID8gdSArIDEgOiB1ICsgLjUpLCBkID0gcyAqIHBhcnNlSW50KGggLSA1KSwgcCA9IHBhcnNlSW50KGgpID09IGggPyBsIDogYzsKCQkJCQkJdmFyIG0gPSAiaGVpZ2h0OiIgKyBpICsgInB4O3dpZHRoOiIgKyByICsgInB4O2JhY2tncm91bmQtcG9zaXRpb246IiArIGQgKyAicHggIiArIHAgKyAicHg7ZmxvYXQ6bGVmdCI7CgkJCQkJCW8oIiMiICsgYS5leHROYW1lICsgIl9kb3ViYW5fZGl2IikuYWRkQ2xhc3MoYS5leHROYW1lICsgIl9kb3ViYW4iKSwgbygiIyIgKyBhLmV4dE5hbWUgKyAiX2RvdWJhbl9kaXYiKS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICJfZG91YmFuX2luc2VydF9pY29uIiwKCQkJCQkJCXRpdGxlOiAi6LGG55Oj6K+E5YiGIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQlocmVmOiBlLmFsdCArICgicmV2aWV3cz8iICsgYS5leHRCcmFuZCArICJfaXNibj0iKSArIHQKCQkJCQkJfSkpLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJCWlkOiBhLmV4dE5hbWUgKyAiX2RvdWJhbl9pbnNlcnRfdGV4dCIKCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCSJjbGFzcyI6IGEuZXh0TmFtZSArICJfZG91YmFuX2luc2VydF90ZXh0IgoJCQkJCQl9KS5hcHBlbmQoIuivhOWIhu+8miIpKSkuYXBwZW5kKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICJfZG91YmFuX3N0YXIiLAoJCQkJCQkJc3R5bGU6IG0KCQkJCQkJfSkpLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJCWlkOiBhLmV4dE5hbWUgKyAiX2RvdWJhbl9hdmVyYWdlIgoJCQkJCQl9KS5hcHBlbmQoZS5yYXRpbmcuYXZlcmFnZSArICLliIYiKSksIG8oIiMiICsgYS5leHROYW1lICsgIl9kb3ViYW5fZGl2Iikuc2hvdygpCgkJCQkJfQoJCQkJfQoJCQkJdmFyIG8gPSBuKDYpLAoJCQkJCXIgPSB7fSwKCQkJCQlzID0gbig3NSksCgkJCQkJbCA9IG4oODcpOwoJCQkJcmV0dXJuIHIuc2hvdyA9IGZ1bmN0aW9uKG8sIHIpIHsKCQkJCQlpZiAobnVsbCAhPSBvICYmICIiICE9IG8pIHsKCQkJCQkJdmFyIHMgPSBuKDkpOwoJCQkJCQlzLmdldFB1cmUobG9jYXRpb24ucHJvdG9jb2wgKyAiLy9hcGkuZG91YmFuLmNvbS92Mi9ib29rL2lzYm4vIiArIG8pLmRvbmUoZnVuY3Rpb24obikgewoJCQkJCQkJIjYwMDAiICE9IG4uY29kZSAmJiAoInRvcCIgPT0gciAmJiBlKG4sIG8pLCAiYm90dG9tIiA9PSByICYmIHQobiwgbyksIGkobiwgbyksIGEuZml4V2lkdGgoKSkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzKCJjbGljazptYWluOmN1eGlhbyIpLCBsLmxvZygi5Li75bel5YW35qCP5L+D6ZSA54K55Ye7IikKCQkJCQl9KSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9xdWFuX2J0biIpLm1vdXNlb3ZlcihmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSB0aGlzOwoJCQkJCQllLnRpbWVyX3Nob3dfZGl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW8oIi4iICsgYS5leHRCcmFuZCArICJfc21hbGxfdGFiIikuaGlkZSgpLCBvKCIucGFuZWwiKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikuY3NzKCJsZWZ0Iiwgbyh0KS5vZmZzZXQoKS5sZWZ0ICsgInB4Iikuc2hvdygpCgkJCQkJCX0sIDMwMCksIGNsZWFyVGltZW91dChlLnRpbWVyX2hpZGVfZGl2KSwgcygiaG92ZXI6bWFpbjpxdWFuIiksIGwubG9nKCLkuLvlt6XlhbfmoI/kvJjmg6DliLjpvKDmoIfmgqzmta4iKQoJCQkJCX0pLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fYnRuIikubW91c2VvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWUudGltZXJfaGlkZV9kaXYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF9kaXYiKS5oaWRlKCkKCQkJCQkJfSwgMzAwKSwgY2xlYXJUaW1lb3V0KGUudGltZXJfc2hvd19kaXYpCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9idG4iKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiAiYmxvY2siID09IG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikuY3NzKCJkaXNwbGF5IikgPyBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLmhpZGUoKSA6IChvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3NtYWxsX3RhYiIpLmhpZGUoKSwgbygiLnBhbmVsIikuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLmNzcygibGVmdCIsIG8odGhpcykub2Zmc2V0KCkubGVmdCArICJweCIpLnNob3coKSksIGUuc3RvcFByb3BhZ2F0aW9uKCksICExCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikubW91c2VlbnRlcihmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUudGltZXJfaGlkZV9kaXYpCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJZS50aW1lcl9oaWRlX2RpdiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLmhpZGUoKQoJCQkJCQl9LCAzMDApCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCW8oIi4iICsgYS5leHRCcmFuZCArICJfc21hbGxfdGFiIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiB0KGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgbmV3IERhdGUoZVtuXS5lKSA+IG5ldyBEYXRlICYmIHQucHVzaChlW25dKTsKCQkJCQlyZXR1cm4gdAoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJbygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF9kaXYiLAoJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiCgkJCQkJfSkuYXBwZW5kKG8oIjxkaXY+IiwgewoJCQkJCQkiY2xhc3MiOiAicG9pbnRlci11cCIKCQkJCQl9KS5odG1sKCI8IS0tW2lmIElFIDZdPuKXhjwhW2VuZGlmXS0tPiIpKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF9jb250ZW50IgoJCQkJCX0pLmFwcGVuZChvKCI8dWw+IiwgewoJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfdWwiLAoJCQkJCQlzdHlsZTogInBhZGRpbmc6MHB4OyIKCQkJCQl9KSkpKSwgZS5jYWxsKHt9KQoJCQkJfQoJCQkJdmFyIG8gPSBuKDYpLAoJCQkJCXIgPSB7fSwKCQkJCQlzID0gbigyNiksCgkJCQkJbCA9IG4oMTMpOwoJCQkJcmV0dXJuIHIucmVwbGFjZVF1YW4gPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUgJiYgbygiIyIgKyBhLmV4dE5hbWUgKyAiLWIyYy1kcCIpLmxlbmd0aCkgewoJCQkJCQl2YXIgdCA9IG8oIiMiICsgYS5leHROYW1lICsgIi1iMmMtZHAtZGV0YWlsIHVsLmJ1eS1saXN0IGxpIiksCgkJCQkJCQluID0gdC5sZW5ndGggLSAxOwoJCQkJCQlvKCIjIiArIGEuZXh0TmFtZSArICItYjJjLWRwLWRldGFpbCB1bC5idXktbGlzdCBsaSIpLmVxKG4pLnByZXBlbmQobygiPGE+IiwgewoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJCSJjbGFzcyI6ICJidXktbGlzdC1xdWFuIiwKCQkJCQkJCXN0eWxlOiAiZmxvYXQ6bGVmdDsgbWFyZ2luLWxlZnQ6NHB4OyIsCgkJCQkJCQlocmVmOiBlLnVybAoJCQkJCQl9KS50ZXh0KCLmn6XnnIvkvJjmg6DliLgoIiArIGUubnVtICsgIikiKSkKCQkJCQl9CgkJCQl9LCByLmluc2VydFNob3AgPSBmdW5jdGlvbihlKSB7CgkJCQkJZS5xdWFucyA9IHQoZS5xdWFucyksIGkoKTsKCQkJCQlmb3IgKHZhciBuID0gZS5xdWFucy5sZW5ndGgsIHIgPSAwOyBuID4gciAmJiA1ID4gcjsgKytyKSB7CgkJCQkJCXZhciBzID0gZS5xdWFuc1tyXTsKCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF91bCIpLmFkZENsYXNzKCJzaG9wX3Byb21vdGlvbnMiKS5hcHBlbmQoJzxsaT48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL2ZmLndpbi50YW9iYW8uY29tL3Byb21vdGlvbi5odG0/aWQ9JyArIGUudXNlcl9pZCArICciPjxkaXYgY2xhc3M9IicgKyBhLmV4dEJyYW5kICsgJy1xdWFuLWxlZnQiPua7oSA8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLXJlZCI+JyArIHMubSArICc8L3NwYW4+IOWHjyA8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLXJlZCI+JyArIHMuaiArICc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLXF1YW4tcmlnaHQiPuacieaViOaXtumXtDogJyArIHMucyArICIgfiAiICsgcy5lICsgIiA8L2Rpdj48L2E+PC9saT4iKQoJCQkJCX0KCQkJCQluICYmIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9idG4iKS5hcHBlbmQoJzxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctcmVkIj4nICsgbiArICI8L3NwYW4+IiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfdWwiKS5hcHBlbmQobygiPGxpPiIsIHsKCQkJCQkJc3R5bGU6ICJ0ZXh0LWFsaWduOiByaWdodDtib3JkZXI6IG5vbmU7IgoJCQkJCX0pLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCXRpdGxlOiAi5p+l55yL5YWo6YOo5LyY5oOg5Yi4IiwKCQkJCQkJaHJlZjogImh0dHA6Ly9mZi53aW4udGFvYmFvLmNvbS9wcm9tb3Rpb24uaHRtP2lkPSIgKyBlLnVzZXJfaWQsCgkJCQkJCSJjbGFzcyI6ICJzaG93X2FsbF9xdWFuIiwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCX0pLnRleHQoIuafpeeci+WFqOmDqCgiICsgbiArICIpIikpKQoJCQkJfSwgci5pbml0X3Nob3BfcHJvbW90aW9uc19ib3R0b20gPSBmdW5jdGlvbihlKSB7CgkJCQkJZS5xdWFucyA9IHQoZS5xdWFucyksIGUgJiYgZS5xdWFucyAmJiBlLnF1YW5zLmxlbmd0aCAmJiAoYS5jaXJjbGVOb3RpY2UoZSksIG8oIiMiICsgYS5leHRCcmFuZCArICItcXVhbiIpLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZGV0YWlsIiwKCQkJCQkJc3R5bGU6ICJkaXNwbGF5Om5vbmUiCgkJCQkJfSkuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZSAiICsgYS5leHRCcmFuZCArICItaGVpZ2h0LWF1dG8iCgkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZGV0YWlsLXRpdGxlLWRlc2MiLAoJCQkJCQl0ZXh0OiAi5ZWG5Z+O5LyY5oOg5Yi4IgoJCQkJCX0pKS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1ncmV5ICIgKyBhLmV4dEJyYW5kICsgIl9zZWVfYWxsIiwKCQkJCQkJaHJlZjogImh0dHA6Ly9mZi53aW4udGFvYmFvLmNvbS9wcm9tb3Rpb24uaHRtP2lkPSIgKyBlLnVzZXJfaWQsCgkJCQkJCXRleHQ6ICLmn6XnnIvlhajpg6giLAoJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJfSkpKS5hcHBlbmQoZnVuY3Rpb24oKSB7CgkJCQkJCWZvciAodmFyIHQgPSBvKCI8dWw+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3F1YW5faXRlbV9saXN0IiwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWl0ZW0tbGlzdCBzaG9wX3Byb21vdGlvbnMiCgkJCQkJCX0pLCBuID0gMDsgbiA8IGUucXVhbnMubGVuZ3RoICYmIDUgPiBuOyBuKyspIHQuYXBwZW5kKG8oIjxsaT4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0iLAoJCQkJCQkJc3R5bGU6ICJkaXNwbGF5OmJsb2NrIgoJCQkJCQl9KS5hcHBlbmQobygiPHA+IiwgewoJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvZHVjdC10aXRsZSIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWdyZXkgIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4tYm94IiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQlodG1sOiAn5ruhIDxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctcmVkIj4nICsgZS5xdWFuc1tuXS5tICsgJzwvc3Bhbj4g5YePIDxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctcmVkIj4nICsgZS5xdWFuc1tuXS5qICsgIjwvc3Bhbj4iLAoJCQkJCQkJaHJlZjogImh0dHA6Ly9mZi53aW4udGFvYmFvLmNvbS9wcm9tb3Rpb24uaHRtP2lkPSIgKyBlLnVzZXJfaWQKCQkJCQkJfSkpLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saWdodC1ncmV5IiwKCQkJCQkJCXN0eWxlOiAiZmxvYXQ6cmlnaHQiLAoJCQkJCQkJdGV4dDogIuacieaViOaXtumXtDogIiArIGUucXVhbnNbbl0ucyArICIgfiAiICsgZS5xdWFuc1tuXS5lCgkJCQkJCX0pKSkpOwoJCQkJCQlyZXR1cm4gdAoJCQkJCX0pKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIi1xdWFuIikubW91c2VlbnRlcihmdW5jdGlvbigpIHsKCQkJCQkJbyh0aGlzKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRhYiIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLmVuZCgpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItZGV0YWlsIikuc2hvdygpLCBhLklFNiAmJiAiYW1hem9uIiA9PSBhLnNpdGUgJiYgKG8odGhpcykuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi10YWIiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKS5lbmQoKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWRldGFpbCIpLnNob3coKSwgbygiLiIgKyBhLmV4dEJyYW5kICsgIi1kZXRhaWwiKS5hZGRDbGFzcygiYW1hem9uX2hhY2siKSksIHMoImhvdmVyOm1haW46cXVhbiIpLCBsLmxvZygi5Li75bel5YW35qCP5LyY5oOg5Yi46byg5qCH5oKs5rWuIikKCQkJCQl9KS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCkgewoJCQkJCQlvKHRoaXMpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItdGFiIikucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIikuZW5kKCkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1kZXRhaWwiKS5oaWRlKCkKCQkJCQl9KSkKCQkJCX0sIHIuaW5pdF9xdWFuX2JvdHRvbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZSA/IChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4iKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRhYiIpLmF0dHIoImhyZWYiLCBlLnVybCksIHZvaWQoZSAmJiBlLnF1YW5zICYmIGUucXVhbnMubGVuZ3RoICYmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4iKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWRldGFpbCIsCgkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lIgoJCQkJCX0pLmFwcGVuZChvKCI8cD4iLCB7CgkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUgIiArIGEuZXh0QnJhbmQgKyAiLWhlaWdodC1hdXRvIgoJCQkJCX0pLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWRldGFpbC10aXRsZS1kZXNjIiwKCQkJCQkJdGV4dDogIuWVhuWfjuS8mOaDoOWIuCIKCQkJCQl9KSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZ3JleSAiICsgYS5leHRCcmFuZCArICJfc2VlX2FsbCIsCgkJCQkJCWhyZWY6IGUudXJsLAoJCQkJCQl0ZXh0OiAi5p+l55yL5YWo6YOoIiwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCX0pKSkuYXBwZW5kKGZ1bmN0aW9uKCkgewoJCQkJCQlmb3IgKHZhciB0ID0gbygiPHVsPiIsIHsKCQkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIl9xdWFuX2l0ZW1fbGlzdCIsCgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1pdGVtLWxpc3QiCgkJCQkJCX0pLCBuID0gMDsgbiA8IGUucXVhbnMubGVuZ3RoICYmIDUgPiBuOyBuKyspIHQuYXBwZW5kKG8oIjxsaT4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0iLAoJCQkJCQkJc3R5bGU6ICJkaXNwbGF5OmJsb2NrIgoJCQkJCQl9KS5hcHBlbmQobygiPHA+IiwgewoJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvZHVjdC10aXRsZSIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWdyZXkgIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4tYm94IiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQl0aXRsZTogZS5xdWFuc1tuXS50aXRsZSwKCQkJCQkJCWhyZWY6IGUucXVhbnNbbl0udXJsLAoJCQkJCQkJaHRtbDogZS5xdWFuc1tuXS50aXRsZS5yZXBsYWNlKC8oXGQrKS9nLCAiPHNwYW4gY2xhc3M9JyIgKyBhLmV4dEJyYW5kICsgIi1yZWQnPiQxPC9zcGFuPiIpCgkJCQkJCX0pKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItbGlnaHQtZ3JleSIsCgkJCQkJCQlzdHlsZTogImZsb2F0OnJpZ2h0IiwKCQkJCQkJCXRleHQ6ICLliak6IiArIGUucXVhbnNbbl0ucmVzdAoJCQkJCQl9KSkpKTsKCQkJCQkJcmV0dXJuIHQKCQkJCQl9KSksIG8oIiMiICsgYS5leHRCcmFuZCArICItcXVhbiIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCW8odGhpcykuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi10YWIiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKS5lbmQoKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWRldGFpbCIpLnNob3coKSwgYS5JRTYgJiYgImFtYXpvbiIgPT0gYS5zaXRlICYmIChvKHRoaXMpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItdGFiIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIikuZW5kKCkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1kZXRhaWwiKS5zaG93KCksIG8oIi4iICsgYS5leHRCcmFuZCArICItZGV0YWlsIikuYWRkQ2xhc3MoImFtYXpvbl9oYWNrIikpLCBzKCJob3ZlcjptYWluOnF1YW4iKSwgbC5sb2coIuS4u+W3peWFt+agj+S8mOaDoOWIuOm8oOagh+aCrOa1riIpCgkJCQkJfSkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJbyh0aGlzKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRhYiIpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLmVuZCgpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItZGV0YWlsIikuaGlkZSgpCgkJCQkJfSkpKSkgOiB2b2lkIG8oIiMiICsgYS5leHRCcmFuZCArICItcXVhbiIpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItdGFiIikuYXR0cigiaHJlZiIsICJodHRwOi8vd3d3LiIgKyBhLmV4dE5hbWUgKyAiLmNvbS9xdWFuLz9mcm9tPSIgKyBhLmZyb21fZGV2aWNlICsgIiZtPXByb21vdGlvbiIpCgkJCQl9LCByLmluc2VydFF1YW5TaG93TGlzdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAobnVsbCAhPSBlICYmIG51bGwgIT0gZS5xdWFucyAmJiAwICE9IGUucXVhbnMubGVuZ3RoKSB7CgkJCQkJCWkoKTsKCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLnF1YW5zLmxlbmd0aCAmJiA1ID4gdDsgKyt0KSBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X3VsIikuYXBwZW5kKG8oIjxsaT4iLCB7fSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCXRpdGxlOiBlLnF1YW5zW3RdLnRpdGxlICsgIiDliak6IiArIGUucXVhbnNbdF0ucmVzdCArICLlvKAiLAoJCQkJCQkJaHJlZjogZS5xdWFuc1t0XS51cmwsCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLmh0bWwoZS5xdWFuc1t0XS50aXRsZS5yZXBsYWNlKC8oXGQrKS9nLCAiPHNwYW4gY2xhc3M9JyIgKyBhLmV4dEJyYW5kICsgIi1yZWQnPiQxPC9zcGFuPiIpKSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJxdWFuX3NwYW4iCgkJCQkJCX0pLnRleHQoIuWJqToiICsgZS5xdWFuc1t0XS5yZXN0KSkpOwoJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X3VsIikuYXBwZW5kKG8oIjxsaT4iLCB7CgkJCQkJCQlzdHlsZTogInRleHQtYWxpZ246IHJpZ2h0O2JvcmRlcjogbm9uZTsiCgkJCQkJCX0pLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCQl0aXRsZTogIuafpeeci+WFqOmDqOS8mOaDoOWIuCIsCgkJCQkJCQlocmVmOiBlLnVybCwKCQkJCQkJCSJjbGFzcyI6ICJzaG93X2FsbF9xdWFuIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5p+l55yL5YWo6YOoKCIgKyBlLm51bSArICIpIikpKQoJCQkJCX0KCQkJCX0sIHIuYmxpbmtQYWdlID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmICgvZG9uZ3RhaVwudGFvYmFvXC5jb21cL21pY3Jvc2hvcFwvZnJvbnRcLmh0bS8udGVzdChlKSkgdHJ5IHsKCQkJCQkJdmFyIHQgPSAwLAoJCQkJCQkJbiA9IG8oIi5kdC1tYWluLXRhYl9yaWdodF9zYWxlIikuZXEoMCk7CgkJCQkJCW4uY3NzKCJib3JkZXIiLCAiMnB4IHNvbGlkIHJlZCIpLCBuLmhvdmVyKGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbChhLnRpbWVyKSwgbi5jc3MoImJvcmRlci1jb2xvciIsICIjZjFlZmYwIikKCQkJCQkJfSksIGEudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXQrKyAlIDIgPT0gMCA/IG4uY3NzKCJib3JkZXItY29sb3IiLCAiI2YxZWZmMCIpIDogbi5jc3MoImJvcmRlci1jb2xvciIsICJyZWQiKQoJCQkJCQl9LCA1MDApLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbChhLnRpbWVyKSwgbi5jc3MoImJvcmRlci1jb2xvciIsICIjZjFlZmYwIikKCQkJCQkJfSwgMWU0KQoJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IGkKCQkJCQl9CgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNik7CgkJCQlyZXR1cm4gewoJCQkJCXR5cGU6ICJ0b3AiLAoJCQkJCWNsZWFyVGltZXI6IG51bGwsCgkJCQkJdGFiczogewoJCQkJCQlqaW5nZG9uZzogewoJCQkJCQkJc2l0ZV9pZDogMywKCQkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLmpkLmNvbS9TZWFyY2g/ZW5jPXV0Zi04JmtleXdvcmQ9IgoJCQkJCQl9LAoJCQkJCQlhbWF6b246IHsKCQkJCQkJCXNpdGVfaWQ6IDEsCgkJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy5hbWF6b24uY24vcz9maWVsZC1rZXl3b3Jkcz0iCgkJCQkJCX0sCgkJCQkJCWRhbmdkYW5nOiB7CgkJCQkJCQlzaXRlX2lkOiAyLAoJCQkJCQkJcGF0dGVybjogImh0dHA6Ly9zZWFyY2hiLmRhbmdkYW5nLmNvbS8/a2V5PSIKCQkJCQkJfSwKCQkJCQkJc3VuaW5nOiB7CgkJCQkJCQlzaXRlX2lkOiAyNSwKCQkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLnN1bmluZy5jb20vZW1hbGwvc2VhcmNoLmRvP2tleXdvcmQ9IgoJCQkJCQl9LAoJCQkJCQl0YW9iYW86IHsKCQkJCQkJCXNpdGVfaWQ6IDgzLAoJCQkJCQkJcGF0dGVybjogImh0dHA6Ly9zLnRhb2Jhby5jb20vc2VhcmNoP3E9IgoJCQkJCQl9LAoJCQkJCQlnb21lOiB7CgkJCQkJCQlzaXRlX2lkOiAyOCwKCQkJCQkJCXBhdHRlcm46ICJodHRwOi8vd3d3LmdvbWUuY29tLmNuL3NlYXJjaD9xdWVzdGlvbj0iCgkJCQkJCX0sCgkJCQkJCXlpaGFvZGlhbjogewoJCQkJCQkJc2l0ZV9pZDogMzEsCgkJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3NlYXJjaC55aGQuY29tL3MyL2MwLTAvayIKCQkJCQkJfSwKCQkJCQkJdmlwc2hvcDogewoJCQkJCQkJc2l0ZV9pZDogMTI5LAoJCQkJCQkJcGF0dGVybjogImh0dHA6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL3NlYXJjaD9jcmM2ND0xJnNfdmlwPSIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ3dkQXBpOiAiaHR0cDovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vc2VhcmNoP3NfcHJvZHVjdD0iLAoJCQkJCWlzRm9sZGVyT3BlbjogITEsCgkJCQkJc2V0VHlwZTogZnVuY3Rpb24oZSkgewoJCQkJCQl0aGlzLnR5cGUgPSBlCgkJCQkJfSwKCQkJCQlzZW5kU2VhcmNoV2F5OiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gewoJCQkJCQkJCSLlm73nvo4iOiAiZ29tZSIsCgkJCQkJCQkJIuS4gOWPt+W6lyI6ICJ5aWhhb2RpYW4iLAoJCQkJCQkJCSLllK/lk4HkvJoiOiAidmlwc2hvcCIsCgkJCQkJCQkJIuiLj+WugSI6ICJzdW5pbmciLAoJCQkJCQkJCSLkuqzkuJwiOiAiamQiLAoJCQkJCQkJCSLlvZPlvZMiOiAiZGFuZ2RhbmciLAoJCQkJCQkJCSLkuprpqazpgIoiOiAiYW1hem9uIiwKCQkJCQkJCQki5reY5a6dIjogInRhb2JhbyIsCgkJCQkJCQkJIui0reeJqeWFmiI6ICJnd2QiCgkJCQkJCQl9LAoJCQkJCQkJaSA9IG4oOSk7CgkJCQkJCWkuZ2V0KGEuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfc2VhcmNoX3dheSZzZWFyY2hfd2F5PSIgKyB0W2VdKQoJCQkJCX0sCgkJCQkJc2V0U2VhcmNoV2F5OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSB7CgkJCQkJCQlnb21lOiAi5Zu9576OIiwKCQkJCQkJCXlpaGFvZGlhbjogIuS4gOWPt+W6lyIsCgkJCQkJCQl2aXBzaG9wOiAi5ZSv5ZOB5LyaIiwKCQkJCQkJCXN1bmluZzogIuiLj+WugSIsCgkJCQkJCQlqZDogIuS6rOS4nCIsCgkJCQkJCQlkYW5nZGFuZzogIuW9k+W9kyIsCgkJCQkJCQlhbWF6b246ICLkuprpqazpgIoiLAoJCQkJCQkJdGFvYmFvOiAi5reY5a6dIiwKCQkJCQkJCWd3ZDogIui0reeJqeWFmiIKCQkJCQkJfTsKCQkJCQkJYS5zZWFyY2hfd2F5ID0gdFthLnNlYXJjaF93YXldLCAidmlwc2hvcCIgPT0gYS5zaXRlICYmIChhLnNlYXJjaF93YXkgPSAi5ZSv5ZOB5LyaIik7CgkJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJCWkgPSBbIua3mOWunSIsICLoi4/lroEiLCAi5ZSv5ZOB5LyaIiwgIuW9k+W9kyIsICLkuqzkuJwiLCAi5Lqa6ams6YCKIiwgIui0reeJqeWFmiIsICLlm73nvo4iLCAi5LiA5Y+35bqXIl07CgkJCQkJCWUuaW5BcnJheShhLnNlYXJjaF93YXksIGkpID4gLTEgJiYgZSgiI3NlYXJjaF93ZWJzaXRlIikuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCWEuc2VhcmNoX3dheSA9PSBlKHRoaXMpLnRleHQoKSAmJiAoZSgiI3NlYXJjaF93ZWJzaXRlIikuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCQllKHRoaXMpLnJlbW92ZUNsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCIpLCBlKHRoaXMpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy11cCIpLCBlKHRoaXMpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIikKCQkJCQkJCX0pLCBlKHRoaXMpLmFkZENsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCIpLCBlKHRoaXMpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIG4uaGlkZGVuX3NlYXJjaF93ZWJzaXRlKCkpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQloaWRkZW5fc2VhcmNoX3dlYnNpdGU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IGUoIiNzZWFyY2hfd2Vic2l0ZSIpLAoJCQkJCQkJbiA9IHRoaXM7CgkJCQkJCXQuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCWUodGhpcykucmVtb3ZlQ2xhc3MoInNlYXJjaF93ZWJzaXRlX2l0ZW1fc2hvdyIpLCBlKHRoaXMpLmFkZENsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIpCgkJCQkJCX0pLCBlKCIuc2VhcmNoX3dlYnNpdGVfaXRlbV9zZWxlY3QiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJZSh0aGlzKS5yZW1vdmVDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iKSwgZSh0aGlzKS5hZGRDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9zaG93IiksICJ0b3AiID09IG4udHlwZSAmJiBlKCIjc2VhcmNoX3dlYnNpdGUiKS5wcmVwZW5kKGUodGhpcykpLCAiYm90dG9tIiA9PSBuLnR5cGUgJiYgZSgiI3NlYXJjaF93ZWJzaXRlIikuYXBwZW5kKGUodGhpcykpCgkJCQkJCX0pLCAiYm90dG9tIiA9PSBuLnR5cGUgJiYgKHQuYXR0cigic3R5bGUiLCAidG9wOjBweDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNmZmYiKSwgYS5JRTYgJiYgdC5jc3MoInRvcCIsICIxOHB4IikpLCAidG9wIiA9PSBuLnR5cGUgJiYgdC5hdHRyKCJzdHlsZSIsICJib3JkZXItcmlnaHQtY29sb3I6I2ZmZjtoZWlnaHQ6MjJweDsiKQoJCQkJCX0sCgkJCQkJYmluZE1vcnNlRW50ZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJCWUoIiNzZWFyY2hfd2Vic2l0ZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYgKCF0LmlzRm9sZGVyT3BlbikgewoJCQkJCQkJCWUodGhpcykuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCQkJZSh0aGlzKS5yZW1vdmVDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iKSwgZSh0aGlzKS5hZGRDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9zaG93IikKCQkJCQkJCQl9KSwgImJvdHRvbSIgPT0gdC50eXBlICYmIChhLm5ld19leHRlbnNpb24gPyBlKHRoaXMpLmF0dHIoInN0eWxlIiwgInRvcDotMTc1cHg7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjY2RjZGNkO2hlaWdodDoyMDBweDsiKSA6IGUodGhpcykuYXR0cigic3R5bGUiLCAidG9wOi0yMDBweDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNjZGNkY2Q7aGVpZ2h0OjIyNXB4OyIpLCBhLklFNiAmJiBlKHRoaXMpLmNzcygidG9wIiwgIi0xNThweCIpKSwgInRvcCIgPT0gdC50eXBlICYmIGUodGhpcykuYXR0cigic3R5bGUiLCAiYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjY2RjZGNkO2hlaWdodDphdXRvO3dpZHRoOjYxcHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMHB4OyIpOwoJCQkJCQkJCXZhciBuID0gZSgibGkuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIHNwYW4iKS5lcSgwKTsKCQkJCQkJCQluLnBhcmVudCgpLnBhcmVudCgpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy11cCIpLCBuLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIHQuaXNGb2xkZXJPcGVuID0gITAKCQkJCQkJCX0KCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWJpbmRNb3JzZUxlYXZlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSB0aGlzOwoJCQkJCQllKCIjc2VhcmNoX3dlYnNpdGUiKS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCkgewoJCQkJCQkJdC5jbGVhclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQl0LmhpZGRlbl9zZWFyY2hfd2Vic2l0ZSgpOwoJCQkJCQkJCXZhciBuID0gZSgibGkuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy11cCBkaXYiKS5lcSgwKTsKCQkJCQkJCQluLnBhcmVudCgpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIG4ucGFyZW50KCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICItc2VhcmNoLWFycm93LXVwIiksIHQuaXNGb2xkZXJPcGVuID0gITEKCQkJCQkJCX0sIDUwMCkKCQkJCQkJfSksIGUoIiNzZWFyY2hfd2Vic2l0ZSIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQljbGVhclRpbWVvdXQodC5jbGVhclRpbWVyKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJYmluZE1vcnNlQ2xpY2s6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJCWUoIiNzZWFyY2hfd2Vic2l0ZSBsaSIpLmNsaWNrKGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXQuaXNGb2xkZXJPcGVuICYmIChlKCIjc2VhcmNoX3dlYnNpdGUiKS5jaGlsZHJlbigibGkiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJCWUodGhpcykucmVtb3ZlQ2xhc3MoInNlYXJjaF93ZWJzaXRlX2l0ZW1fc2VsZWN0IiksIGUodGhpcykucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICItc2VhcmNoLWFycm93LXVwIikKCQkJCQkJCX0pLCBlKHRoaXMpLmFkZENsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCIpLCBlKHRoaXMpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIHQuaGlkZGVuX3NlYXJjaF93ZWJzaXRlKCksIHQuc2VuZFNlYXJjaFdheShlKHRoaXMpLnRleHQoKSksIHQuaXNGb2xkZXJPcGVuID0gITEsIG4uc3RvcFByb3BhZ2F0aW9uKCkpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQliaW5kU3RhcnRTZWFyY2g6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCQluID0gIiIsCgkJCQkJCQlpID0gIiIsCgkJCQkJCQlvID0gIiMiICsgYS5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIsCgkJCQkJCQlyID0gIiMiICsgYS5leHROYW1lICsgIi1zZWFyY2giOwoJCQkJCQkiYm90dG9tIiA9PSB0aGlzLnR5cGUgJiYgKG8gPSAiLiIgKyBhLmV4dEJyYW5kICsgIi1zZWFyY2gtaW5wdXQiLCByID0gIi4iICsgYS5leHRCcmFuZCArICItc2VhcmNoLWJ0biIpLCBlKHIpLmJpbmQoImNsaWNrIiwgZnVuY3Rpb24ocikgewoJCQkJCQkJdmFyIHMgPSBlKCIuc2VhcmNoX3dlYnNpdGVfaXRlbV9zaG93IikudGV4dCgpOwoJCQkJCQkJaWYgKHMgPSBzLnRyaW0oKSwgIuS6rOS4nCIgPT0gcyAmJiAobiA9IHQudGFicy5qaW5nZG9uZy5wYXR0ZXJuLCBpID0gdC50YWJzLmppbmdkb25nLnNpdGVfaWQpLCAi5reY5a6dIiA9PSBzICYmIChuID0gdC50YWJzLnRhb2Jhby5wYXR0ZXJuLCBpID0gdC50YWJzLnRhb2Jhby5zaXRlX2lkKSwgIuW9k+W9kyIgPT0gcykgewoJCQkJCQkJCW4gPSB0LnRhYnMuZGFuZ2RhbmcucGF0dGVybiwgaSA9IHQudGFicy5kYW5nZGFuZy5zaXRlX2lkOwoJCQkJCQkJCXZhciBsID0gZShvKS52YWwoKTsKCQkJCQkJCQlsID0gbC5yZXBsYWNlKC8gL2csICItIiksIGwubGVuZ3RoID4gMzAgJiYgKGwgPSBsLnN1YnN0cigwLCAzMCkpLCBlKG8pLnZhbChsKQoJCQkJCQkJfQoJCQkJCQkJaWYgKCLoi4/lroEiID09IHMgJiYgKG4gPSB0LnRhYnMuc3VuaW5nLnBhdHRlcm4sIGkgPSB0LnRhYnMuc3VuaW5nLnNpdGVfaWQpLCAi5Lqa6ams6YCKIiA9PSBzICYmIChuID0gdC50YWJzLmFtYXpvbi5wYXR0ZXJuLCBpID0gdC50YWJzLmFtYXpvbi5zaXRlX2lkKSwgIuWbvee+jiIgPT0gcyAmJiAobiA9IHQudGFicy5nb21lLnBhdHRlcm4sIGkgPSB0LnRhYnMuZ29tZS5zaXRlX2lkKSwgIuS4gOWPt+W6lyIgPT0gcyAmJiAobiA9IHQudGFicy55aWhhb2RpYW4ucGF0dGVybiwgaSA9IHQudGFicy55aWhhb2RpYW4uc2l0ZV9pZCksICLllK/lk4HkvJoiID09IHMgJiYgKG4gPSB0LnRhYnMudmlwc2hvcC5wYXR0ZXJuLCBpID0gdC50YWJzLnZpcHNob3Auc2l0ZV9pZCksICLotK3nianlhZoiID09IHMpIG4gPSB0Lmd3ZEFwaSwgd2luZG93Lm9wZW4obiArIGVuY29kZVVSSUNvbXBvbmVudChlKG8pLnZhbCgpKSk7CgkJCQkJCQllbHNlIGlmICgi5ZSv5ZOB5LyaIiA9PSBzKSB3aW5kb3cub3BlbihuICsgZW5jb2RlVVJJQ29tcG9uZW50KGUobykudmFsKCkpICsgIiZqdT1KVVUySlRnNEpUa3hKVVUySlRrNEpVRkdkbWx3YzJodmNBIik7CgkJCQkJCQllbHNlIHsKCQkJCQkJCQl2YXIgYyA9IGEudV9zZXJ2ZXIgKyAiL3VuaW9uL2dvIiwKCQkJCQkJCQkJZCA9IGMgKyAiLz9zX3Byb2R1Y3Q9IiArIGVuY29kZVVSSUNvbXBvbmVudChlKG8pLnZhbCgpKSArICImdGFyZ2V0X3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4gKyBlbmNvZGVVUkkoZShvKS52YWwoKSkpICsgIiZzaXRlX2lkPSIgKyBpOwoJCQkJCQkJCXdpbmRvdy5vcGVuKGQpCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gci5zdG9wUHJvcGFnYXRpb24oKSwgITEKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWJpbmRGb3JtQWN0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSAiIyIgKyBhLmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IiwKCQkJCQkJCW4gPSAiIyIgKyBhLmV4dE5hbWUgKyAiLXNlYXJjaCI7CgkJCQkJCSJib3R0b20iID09IHRoaXMudHlwZSAmJiAodCA9ICIuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1pbnB1dCIsIG4gPSAiLiIgKyBhLmV4dEJyYW5kICsgIi1zZWFyY2gtYnRuIiksIGUodCkuYmluZCgia2V5cHJlc3MiLCBmdW5jdGlvbih0KSB7CgkJCQkJCQlyZXR1cm4gIjEzIiA9PSB0LmtleUNvZGUgPyAoZShuKS5jbGljaygpLCB0LnN0b3BQcm9wYWdhdGlvbigpLCAhMSkgOiB2b2lkIDAKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWluaXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdGhpcy5zZXRUeXBlKGUpLCB0aGlzLnNldFNlYXJjaFdheSgpLCB0aGlzLmJpbmRNb3JzZUVudGVyKCksIHRoaXMuYmluZE1vcnNlTGVhdmUoKSwgdGhpcy5iaW5kTW9yc2VDbGljaygpLCB0aGlzLmJpbmRTdGFydFNlYXJjaCgpLCB0aGlzLmJpbmRGb3JtQWN0aW9uKCkKCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNiksCgkJCQkJdCA9IG4oMTIyKTsKCQkJCXJldHVybiBlKCJib2R5IikuYXBwZW5kKCdcbjxzdHlsZT5cbiAgICAjZ3dkX3NldHRpbmdfY29udGVudCAuZ3dkX3NldHRpbmdfaXRlbSBhIHtcbiAgICAgIGZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiFpbXBvcnRhbnQ7XG4gICAgfVxuPC9zdHlsZT5cbiAgICAnKSwgewoJCQkJCWhpZGRlblRpbWVyOiBudWxsLAoJCQkJCWluc2VydG5vcm1hbFZpZXc6IGZ1bmN0aW9uKCkgewoJCQkJCQllKGEuZHZhbCkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJaWQ6ICJnd2Rfc2V0dGluZ19kaXYiLAoJCQkJCQkJc3R5bGU6ICJkaXNwbGF5Om5vbmUiCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJwb2ludGVyLXVwIgoJCQkJCQl9KS5odG1sKCI8IS0tW2lmIElFIDZdPuKXhjwhW2VuZGlmXS0tPiIpKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQlpZDogImd3ZF9zZXR0aW5nX2NvbnRlbnQiCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkc2V0dGluZ19iZyBnd2RfZnVuY3Rpb25fc2V0dGluZyIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLnNlcnZlciArICIvYnJ3ZXh0L3NldHRpbmc/ZnJvbT0iICsgdChhLmZyb21fZGV2aWNlKSArICImYnR5cGU9IiArIChhLmJ0eXBlID8gYS5idHlwZSA6ICIiKSwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5Yqf6IO96K6+572uIikpKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfaXRlbSIKCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZHNldHRpbmdfYmcgZ3dkX29waW5pb25fZmVlZGJhY2siCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvYnJ3ZXh0L3N1Z2dlc3Q/cmVmZXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKSArICImZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2UgKyAiJmJ0eXBlPSIgKyAoYS5idHlwZSA/IGEuYnR5cGUgOiAiIiksCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLnRleHQoIuaEj+ingeWPjemmiCIpKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2RzZXR0aW5nX2JnIGd3ZF91c2VfaGVscCIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLmNfc2VydmVyICsgIi9hcHAvZXh0ZW5zaW9uP3BhZ2U9cXVlc3Rpb24iLAoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQl9KS50ZXh0KCLkvb/nlKjluK7liqkiKSkpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkc2V0dGluZ19iZyBnd2RfaG9tZXBhZ2UiCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi6LSt54mp5YWa6aaW6aG1IikpKSkpCgkJCQkJfSwKCQkJCQlpbnNlcnRTZXR0aW5nVmlldzogZnVuY3Rpb24odCkgewoJCQkJCQl0aGlzLmluc2VydG5vcm1hbFZpZXcoKSwgZSgiI2d3ZF9zZXR0aW5nX2NvbnRlbnQiKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfbGluZSIKCQkJCQkJfSkpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkc2V0dGluZ19iZyBnd2Rfc2hhcmVfc2luYV93ZWlibyIKCQkJCQkJfSkpLmFwcGVuZCgiPGEgdGl0bGU9J+WIhuS6q+WIsOaWsOa1quW+ruWNmicgdGFyZ2V0PSdfc2VsZicgYWhyZWY9JyIgKyB0LnNoYXJlX2dvb2Quc2luYSArICInIG9uY2xpY2s9XCIiICsgdC5zaGFyZS53aW4gKyAiXCIgaHJlZj0namF2YXNjcmlwdDonPuWIhuS6q+WIsOaWsOa1quW+ruWNmjwvYT4iKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2RzZXR0aW5nX2JnIGd3ZF9zaGFyZV9xcV9xem9uZSIKCQkJCQkJfSkpLmFwcGVuZCgiPGEgdGl0bGU9J+WIhuS6q+WIsFFR56m66Ze0JyB0YXJnZXQ9J19zZWxmJyBhaHJlZj0nIiArIHQuc2hhcmVfZ29vZC5xem9uZSArICInIG9uY2xpY2s9XCIiICsgdC5zaGFyZS53aW4gKyAiXCIgaHJlZj0namF2YXNjcmlwdDonPuWIhuS6q+WIsFFR56m66Ze0PC9hPiIpKSwgdGhpcy5iaW5kRXZlbnQoKQoJCQkJCX0sCgkJCQkJaW5zZXJ0bm9ybWFsVmlld19ib3R0b206IGZ1bmN0aW9uKCkgewoJCQkJCQlhLm5ld19leHRlbnNpb24gfHwgZShhLmR2YWwpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCWlkOiAiZ3dkX3NldHRpbmdfZGl2IiwKCQkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQlpZDogImd3ZF9zZXR0aW5nX2NvbnRlbnQiCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19saW5lIgoJCQkJCQl9KSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19iZyBnd2RfaG9tZXBhZ2UiCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi6LSt54mp5YWa6aaW6aG1IikpKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfaXRlbSIKCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2JnIGd3ZF91c2VfaGVscCIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLmNfc2VydmVyICsgIi9hcHAvZXh0ZW5zaW9uP3BhZ2U9cXVlc3Rpb24iLAoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQl9KS50ZXh0KCLkvb/nlKjluK7liqkiKSkpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfYmcgZ3dkX29waW5pb25fZmVlZGJhY2siCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvYnJ3ZXh0L3N1Z2dlc3Q/cmVmZXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKSArICImZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2UgKyAiJmJ0eXBlPSIgKyAoYS5idHlwZSA/IGEuYnR5cGUgOiAiIiksCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLnRleHQoIuaEj+ingeWPjemmiCIpKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19iZyBnd2RfZnVuY3Rpb25fc2V0dGluZyIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLnNlcnZlciArICIvYnJ3ZXh0L3NldHRpbmc/ZnJvbT0iICsgdChhLmZyb21fZGV2aWNlKSArICImYnR5cGU9IiArIChhLmJ0eXBlID8gYS5idHlwZSA6ICIiKSwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5Yqf6IO96K6+572uIikpKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2JnIHBvaW50ZXItZG93biIKCQkJCQkJfSkpKQoJCQkJCX0sCgkJCQkJaW5zZXJ0U2V0dGluZ1ZpZXdfQm90dG9tOiBmdW5jdGlvbih0KSB7CgkJCQkJCXRoaXMuaW5zZXJ0bm9ybWFsVmlld19ib3R0b20oKSwgZSgiI2d3ZF9zZXR0aW5nX2NvbnRlbnQiKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQlpZDogImd3ZF9jbG9zZU1haW5iYXIiLAoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCXN0eWxlOiAxICE9IGEucF9mb2xkID8gImJhY2tncm91bmQtcG9zaXRpb246IC01NXB4IC01cHg7IiA6ICJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjZweCAtNXB4OyIsCgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfYmcgZ3dkX2Nsb3NlYWxsIgoJCQkJCQl9KSkuYXBwZW5kKGUoIjxhPiIsIHsKCQkJCQkJCWlkOiAiZ3dkX2Nsb3NlYWxsIgoJCQkJCQl9KS50ZXh0KDEgPT0gYS5wX2ZvbGQgPyAi5bGV5byA5o+S5Lu2IiA6ICLmlLbotbfmj5Lku7YiKSkpLCBlKCIjZ3dkX3NldHRpbmdfY29udGVudCIpLnByZXBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfaXRlbSIKCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2JnIGd3ZF9zaGFyZV9zaW5hX3dlaWJvIgoJCQkJCQl9KSkuYXBwZW5kKCI8YSB0aXRsZT0n5YiG5Lqr5Yiw5paw5rWq5b6u5Y2aJyB0YXJnZXQ9J19zZWxmJyBhaHJlZj0nIiArIHQuc2hhcmVfZ29vZC5zaW5hICsgIicgb25jbGljaz1cIiIgKyB0LnNoYXJlLndpbiArICJcIiBocmVmPSdqYXZhc2NyaXB0Oic+5YiG5Lqr5Yiw5paw5rWq5b6u5Y2aPC9hPiIpKS5wcmVwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19iZyBnd2Rfc2hhcmVfcXFfcXpvbmUiCgkJCQkJCX0pKS5hcHBlbmQoIjxhIHRpdGxlPSfliIbkuqvliLBRUeepuumXtCcgdGFyZ2V0PSdfc2VsZicgYWhyZWY9JyIgKyB0LnNoYXJlX2dvb2QucXpvbmUgKyAiJyBvbmNsaWNrPVwiIiArIHQuc2hhcmUud2luICsgIlwiIGhyZWY9J2phdmFzY3JpcHQ6Jz7liIbkuqvliLBRUeepuumXtDwvYT4iKSksIHRoaXMuYmluZEV2ZW50KCkKCQkJCQl9LAoJCQkJCWJpbmRFdmVudDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0ID0gdGhpczsKCQkJCQkJZSgiI2d3ZF9zZXR0aW5nX2NvbnRlbnQiKS5kZWxlZ2F0ZSgiLmd3ZF9zZXR0aW5nX2l0ZW0iLCAibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJZSh0aGlzKS5hZGRDbGFzcygiZ3dkX3NldHRpbmdfaXRlbV9ob3ZlciIpCgkJCQkJCX0pLCBlKCIjZ3dkX3NldHRpbmdfY29udGVudCIpLmRlbGVnYXRlKCIuZ3dkX3NldHRpbmdfaXRlbSIsICJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQllKHRoaXMpLnJlbW92ZUNsYXNzKCJnd2Rfc2V0dGluZ19pdGVtX2hvdmVyIikKCQkJCQkJfSksIGUoIiNnd2Rfc2V0dGluZ19jb250ZW50IikuZGVsZWdhdGUoImEiLCAiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCXQuaGlkZGVuU2V0dGluZ0RpdigpCgkJCQkJCX0pLCBhLmhhbzEyMyB8fCAibWF4dGhvbiIgPT09IGEuZnJvbV9kZXZpY2UgfHwgKGUoIiMiICsgYS5sb2dvTmFtZSArICIsLmd3ZF9sb2dvLC5nd2QtbG9nbywuZ3dkLXJlLWNoYW5nZS1sb2dvIikuYmluZCgibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJYS5zaG93X2Nsb3NlTWFpbkJhciB8fCAoZSgiI2d3ZF9jbG9zZU1haW5iYXIiKS5oaWRlKCksIGUoIiNnd2Rfc2V0dGluZ19kaXYiKS5hZGRDbGFzcygiY2xvc2VfbWFpbmJhciIpKSwgZSgiI2d3ZF9zZXR0aW5nX2RpdiIpLnNob3coKQoJCQkJCQl9KS5iaW5kKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl0LmhpZGRlblNldHRpbmdEaXYoKQoJCQkJCQl9KSwgZSgiI2d3ZF9zZXR0aW5nX2RpdiIpLmJpbmQoIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJCWNsZWFyVGltZW91dCh0LmhpZGRlblRpbWVyKQoJCQkJCQl9KS5iaW5kKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl0LmhpZGRlblNldHRpbmdEaXYoKQoJCQkJCQl9KSkKCQkJCQl9LAoJCQkJCWhpZGRlblNldHRpbmdEaXY6IGZ1bmN0aW9uKCkgewoJCQkJCQl0aGlzLmhpZGRlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCWUoIiNnd2Rfc2V0dGluZ19kaXYiKS5oaWRlKCkKCQkJCQkJfSwgMzAwKQoJCQkJCX0KCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSwgbykgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJZm9yICh2YXIgZSA9ICExLCB0ID0gSS5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkKCQkJCQkJaWYgKGUgPSBJW3RdLnRlc3QobG9jYXRpb24uaHJlZikpIHJldHVybiBlCgkJCQl9CgoJCQkJZnVuY3Rpb24gdChlKSB7CgkJCQkJQigiYm9keSIpLm9uKCJtb3VzZW92ZXIiLCAiaW1nIiwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGUudGFyZ2V0OwoJCQkJCQlpZiAodC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS10aXAiKSkgcmV0dXJuICExOwoJCQkJCQlpZiAodC53aWR0aCA+IDUwICYmIHQuaGVpZ2h0ID4gNTApIHsKCQkJCQkJCXZhciBuID0gdC5wYXJlbnRFbGVtZW50OwoJCQkJCQkJIkEiID09PSBuLnRhZ05hbWUgJiYgL15odHRwcz86XC9cLy8udGVzdChuLmhyZWYpICYmIEMuaXNQcm9kdWN0UGFnZShuLmhyZWYpID8gKGQodCksIHkgPSBpKHQsIG4uaHJlZiksIGMobiksIHIobikpIDogIkEiID09PSBuLnBhcmVudEVsZW1lbnQudGFnTmFtZSAmJiAvXmh0dHBzPzpcL1wvLy50ZXN0KG4ucGFyZW50RWxlbWVudC5ocmVmKSAmJiBDLmlzUHJvZHVjdFBhZ2Uobi5wYXJlbnRFbGVtZW50LmhyZWYpICYmIChuID0gbi5wYXJlbnRFbGVtZW50LCBkKHQpLCB5ID0gaSh0LCBuLmhyZWYpLCBjKG4pLCByKG4pKQoJCQkJCQl9CgkJCQkJfSksIHgub24oIm1vdXNlZW50ZXIiLCBzKSwgeC5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXcuaGlkZSgpLCBiID0gITEsIHguaGlkZSgpCgkJCQkJCX0sIDYwMCkKCQkJCQl9KSwgdy5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQodiksIGIgPSAhMCwgdy5zaG93KCkKCQkJCQl9KSwgdy5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXcuaGlkZSgpLCB4LmhpZGUoKSwgYiA9ICExCgkJCQkJCX0sIDYwMCkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoZSwgdCkgewoJCQkJCWlmIChhLmNyYzY0KSByZXR1cm4gdDsKCQkJCQlzd2l0Y2ggKFQuc2l0ZU5hbWUpIHsKCQkJCQkJY2FzZSAic3VuaW5nIjoKCQkJCQkJCXZhciBuID0gQihlKS5wYXJlbnRzKCIud3JhcCIpLmZpbmQoImlucHV0LmhpZGVuSW5mbyIpLmF0dHIoImRhdGFwcm8iKS5zcGxpdCgifHwiKVswXTsKCQkJCQkJCXQgPSAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2VtYWxsL3ByZF8xMDA1Ml8xMDA1MV8tN18iICsgbiArICJfLmh0bWwiCgkJCQkJfQoJCQkJCXJldHVybiB0CgkJCQl9CgoJCQkJZnVuY3Rpb24gcihlKSB7CgkJCQkJdmFyIHQgPSBCKGUpOwoJCQkJCXQuYXR0cihhLmV4dEJyYW5kICsgIl90aXBfYmluZCIpIHx8ICh0Lm9uKCJtb3VzZWxlYXZlIiwgbCksIHQuYXR0cihhLmV4dEJyYW5kICsgIl90aXBfYmluZCIsIDEpKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHMoKSB7CgkJCQkJY2xlYXJUaW1lb3V0KHYpLCB4LnNob3coKSwgaCgpCgkJCQl9CgoJCQkJZnVuY3Rpb24gbCgpIHsKCQkJCQljbGVhclRpbWVvdXQodiksIGIgPyB2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJeC5oaWRlKCksIHcuaGlkZSgpLCBiID0gITEKCQkJCQl9LCA2MDApIDogKHguaGlkZSgpLCB3LmhpZGUoKSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQl4LmNzcygibGVmdCIsIEUoZSkgKyBCKGUpLndpZHRoKCkgLyAyIC0gMzUpLCB4LmNzcygidG9wIiwgcShlKSksIHguc2hvdygpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGQoZSkgewoJCQkJCXZhciB0ID0gIiI7CgkJCQkJc3dpdGNoIChhLnNpdGUpIHsKCQkJCQkJY2FzZSAieWloYW9kaWFuIjoKCQkJCQkJCXZhciBuID0gQihlKS5wYXJlbnQoKS5hdHRyKCJpZCIpLnNwbGl0KCJfIik7CgkJCQkJCQluICYmIChuID0gblsxXSksIHQgPSAiJmlkPSIgKyBuICsgIi0zMSIKCQkJCQl9CgkJCQkJayA9IHQKCQkJCX0KCgkJCQlmdW5jdGlvbiBwKGUpIHsKCQkJCQlpZiAoIWEuY3VycmVuY3kgfHwgIWUpIHJldHVybiBlOwoJCQkJCWlmIChlLnN0b3JlICYmIGUuc3RvcmUubGVuZ3RoID4gMCkKCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLnN0b3JlLmxlbmd0aDsgdCsrKSB7CgkJCQkJCQl2YXIgbiA9IGUuc3RvcmVbdF07CgkJCQkJCQluLnByaWNlICYmIG4ucHJpY2UubWF0Y2goL1xkKy8pICYmIChlLnN0b3JlW3RdLnByaWNlID0gIsKlIiArIFMobi5wcmljZSkpCgkJCQkJCX0KCQkJCQlpZiAoZS50cmVuZCAmJiBlLnRyZW5kLnN0b3JlLmxlbmd0aCA+IDApIHsKCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBlLnRyZW5kLnN0b3JlWzBdLmRhdGEubGVuZ3RoOyBpKyspIHsKCQkJCQkJCXZhciBvID0gZS50cmVuZC5zdG9yZVswXS5kYXRhW2ldOwoJCQkJCQkJZS50cmVuZC5zdG9yZVswXS5kYXRhW2ldWzFdID0gUyhvWzFdKQoJCQkJCQl9CgkJCQkJCWUudHJlbmQuc3RvcmVbMF0ubWluX3ByaWNlID0gUyhlLnRyZW5kLnN0b3JlWzBdLm1pbl9wcmljZSksIGUudHJlbmQuc3RvcmVbMF0ubWF4X3ByaWNlID0gUyhlLnRyZW5kLnN0b3JlWzBdLm1heF9wcmljZSksIGUudHJlbmQuc3RvcmVbMF0uY3VycmVudF9wcmljZSA9IFMoZS50cmVuZC5zdG9yZVswXS5jdXJyZW50X3ByaWNlKQoJCQkJCX0KCQkJCQlyZXR1cm4gZQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGgoKSB7CgkJCQkJdy5odG1sKCc8aW1nIHNyYz0iJyArIGEuc2VydmVyICsgJy90ZW1wbGF0ZS9hdWcvaW1hZ2VzLzAzNS5naWYiIHN0eWxlPSJtYXJnaW46IDVweDsiIGlkPSInICsgYS5leHRCcmFuZCArICdfcHJpY2VfdGlwX2xvYWRpbmciPicpLCB3LmNzcygid2lkdGgiLCA1MCksIHcuY3NzKCJsZWZ0IiwgRShCKHgpWzBdKSArIEIoeCkud2lkdGgoKSksIHcuY3NzKCJ0b3AiLCBxKEIoeClbMF0pKSwgYiA9ICEwLCB3LnNob3coKSwgUFt5XSA/IHUoUFt5XSkgOiBBLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L3RpcD9kYXlzPTE4MCZzaXRlPSIgKyBhLnNpdGUgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHkpICsgaykuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlID0gcChlKSwgZSAmJiAwICE9PSBlLnRyZW5kLnN0b3JlLmxlbmd0aCA/IChQW3ldID0gZSwgdm9pZCB1KGUpKSA6IGcoKQoJCQkJCX0pLmZhaWwoZykKCQkJCX0KCgkJCQlmdW5jdGlvbiB1KGUpIHsKCQkJCQlmKGUpOwoJCQkJCXZhciB0ID0gIiI7CgkJCQkJInRvcC5qZC5jb20iID09PSBsb2NhdGlvbi5ob3N0ICYmICh0ID0gImpkdG9wIiksIHcuaHRtbChqLmNvbXBpbGUoTikoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQluZXdfZXh0ZW5zaW9uOiBhLm5ld19leHRlbnNpb24sCgkJCQkJCWV4dE5hbWU6IGEuZXh0TmFtZSwKCQkJCQkJZXh0QnJhbmQ6IGEuZXh0QnJhbmQsCgkJCQkJCWpkdG9wOiB0CgkJCQkJfSkpLCB3LmNzcygid2lkdGgiLCA0NTApLCBCKHdpbmRvdykud2lkdGgoKSAtIEUod1swXSkgLSBCKHgpLndpZHRoKCkgPCA0NTAgJiYgdy5jc3MoImxlZnQiLCBFKHdbMF0pIC0gNDUwIC0gQih4KS53aWR0aCgpKSwgXyhlLnRyZW5kKSwgbShlKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG0oZSkgewoJCQkJCUIoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfdGlwX25vdGlmeV9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQucHJldmVudERlZmF1bHQoKSwgQigiIyIgKyBhLmV4dEJyYW5kICsgIl9ub3RpZnlfZXJyb3IiKS5oaWRlKCksIEIoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfdGlwX25vdGlmeV9idG4iKS50ZXh0KCLmraPlnKjmt7vliqAuLi4uLi4iKSwgQS5nZXQoYS5jX3NlcnZlciArICIvY29sbGVjdC9hal9hZGQ/ZHBfaWQ9IiArIGUuZHBfaWQgKyAiJmZyb209dGlwIikuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQkxMDAgPT0gZS5jb2RlIHx8IGUuY29kZSA8PSAwID8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cDovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vdXNlci9sb2dpbj9mcm9tX3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSA6IDEgPT0gZS5jb2RlID8gQigiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfbm90aWZ5X2J0biIpLnRleHQoIuW3sua3u+WKoOWIsOaUtuiXj+WkuSIpLmF0dHIoInN0eWxlIiwgImZsb2F0OnJpZ2h0O2NvbG9yOiNmZmY7YmFja2dyb3VuZDojMThBMEY1OyIpIDogMiA9PSBlLmNvZGUgJiYgIuato+WcqOa3u+WKoC4uLi4uLiIgPT0gQigiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfbm90aWZ5X2J0biIpLnRleHQoKSAmJiBCKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX3RpcF9ub3RpZnlfYnRuIikudGV4dCgi5L2g5bey57uP5re75Yqg6L+H5ZWmIikuYXR0cigic3R5bGUiLCAiZmxvYXQ6cmlnaHQ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMxOEEwRjU7IikKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGYoZSkgewoJCQkJCXZhciB0ID0gWzEsIDEwMywgMTA4LCAxMjMsIDEyNCwgMTI2LCAxMjksIDEzNCwgMTM2LCAxNCwgMTQxLCAxNSwgMTY3LCAxNjgsIDE5LCAyLCAyMSwgMjUsIDI2LCAyOCwgMywgMzEsIDM0LCAzNSwgNDEsIDYsIDY2LCA3LCA4NiwgOTMsIDldLAoJCQkJCQluID0gZS5zdG9yZTsKCQkJCQlpZiAobikKCQkJCQkJZm9yICh2YXIgaSA9IG4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKCQkJCQkJCW5baV0uaWNvbl91cmwgPSBuW2ldLmljb25fdXJsLnJlcGxhY2UoImJyb3dzZXIiLCAiczEiKTsKCQkJCQkJCXZhciBvID0gL1wvKFxkKylcLmljby8uZXhlYyhuW2ldLmljb25fdXJsKTsKCQkJCQkJCW8gJiYgKG8gPSBvWzFdLCAhYS5JRTYgJiYgdC5pbmRleE9mKE51bWJlcihvKSkgPiAtMSAmJiAobltpXS5pY29uX3VybCA9IG5baV0uaWNvbl91cmwucmVwbGFjZSgvXGQrXC5pY28vLCBvICsgIi5wbmciKS5yZXBsYWNlKC9icm93c2VyXC4vLCAiczEuIikpKQoJCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gZygpIHsKCQkJCQl3Lmh0bWwoJzxkaXYgc3R5bGU9ImNvbG9yOiM3NzciPuW+iOaKseatiSA6KCDmmoLml6Dmr5Tku7flkozku7fmoLzljoblj7Lkv6Hmga/miJHku6zkvJrlsL3lv6vmlLblvZU8L2Rpdj4nKSwgdy5jc3MoIndpZHRoIiwgMTAwKSwgdy5zaG93KCkKCQkJCX0KCgkJCQlmdW5jdGlvbiBfKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gQigiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfdHJlbmQiKSwgbiA9IHsKCQkJCQkJY2hhcnQ6IHsKCQkJCQkJCXJlbmRlclRvOiBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfdHJlbmQiLAoJCQkJCQkJdHlwZTogImxpbmUiLAoJCQkJCQkJc3BhY2luZ1RvcDogMCwKCQkJCQkJCXNwYWNpbmdCb3R0b206IDAsCgkJCQkJCQlzcGFjaW5nTGVmdDogMCwKCQkJCQkJCXNwYWNpbmdSaWdodDogMAoJCQkJCQl9LAoJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQl9LAoJCQkJCQljb2xvcnM6IFsiIzJmN2VkOCJdLAoJCQkJCQl0aXRsZTogewoJCQkJCQkJdGV4dDogIuacgOi/kTE4MOWkqeS7t+agvOWOhuWPsiIsCgkJCQkJCQlzdHlsZTogewoJCQkJCQkJCWNvbG9yOiAiIzJmN2VkOCIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeEF4aXM6IHsKCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQkJCWRheTogIiVtLSVkIiwKCQkJCQkJCQl3ZWVrOiAiJW0tJWQiLAoJCQkJCQkJCW1vbnRoOiAiJW0tJWQiCgkJCQkJCQl9LAoJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQlsYWJlbHM6IHsKCQkJCQkJCQl4OiAtMTIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeUF4aXM6IHsKCQkJCQkJCXRpdGxlOiBudWxsLAoJCQkJCQkJcGxvdExpbmVzOiBbewoJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCXdpZHRoOiAxLAoJCQkJCQkJCWNvbG9yOiAiIzgwODA4MCIKCQkJCQkJCX1dLAoJCQkJCQkJZ3JpZExpbmVDb2xvcjogIiNjMGQwZTAiLAoJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQl0aWNrUGl4ZWxJbnRlcnZhbDogNTAKCQkJCQkJfSwKCQkJCQkJcGxvdE9wdGlvbnM6IHsKCQkJCQkJCXNlcmllczogewoJCQkJCQkJCWFuaW1hdGlvbjogITEsCgkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCXJhZGl1czogMgoJCQkJCQkJCX0sCgkJCQkJCQkJc2VyaWVzOiB7CgkJCQkJCQkJCWVuYWJsZU1vdXNlVHJhY2tpbmc6ICExCgkJCQkJCQkJfSwKCQkJCQkJCQlzaGFkb3c6ICExCgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCXhEYXRlRm9ybWF0OiAiJVktJW0tJWQiCgkJCQkJCX0sCgkJCQkJCWxlZ2VuZDogewoJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJfSwKCQkJCQkJc2VyaWVzOiBbXQoJCQkJCX0sIGkgPSBlLnN0b3JlLmxlbmd0aCwgciA9IDA7IGkgPiByOyByKyspCgkJCQkJCWlmIChuLnNlcmllc1tyXSA9IHsKCQkJCQkJCXZpc2libGU6ICEwLAoJCQkJCQkJbmFtZTogZS5zdG9yZVtyXS5uYW1lLAoJCQkJCQkJcG9pbnRTdGFydDogZS5zdG9yZVswXS5kYXRhWzBdWzBdLAoJCQkJCQkJcG9pbnRJbnRlcnZhbDogODY0ZTUsCgkJCQkJCQlkYXRhOiBbXQoJCQkJCQl9LCBlLnN0b3JlW3JdLmRhdGEubGVuZ3RoID4gMCkgewoJCQkJCQkJdmFyIHMgPSBlLnN0b3JlW3JdLAoJCQkJCQkJCWwgPSBzLmRhdGEubGVuZ3RoLAoJCQkJCQkJCWMgPSBzLmRhdGE7CgkJCQkJCQkxZTMgKiBzLm1pbl9zdGFtcCA+IHBhcnNlSW50KERhdGUuVVRDKGUuc3RhcnRZLCBlLnN0YXJ0TSwgZS5zdGFydEQpKSAmJiBuLnNlcmllc1tyXS5kYXRhLnB1c2gobnVsbCk7CgkJCQkJCQlmb3IgKHZhciBkID0gMDsgbCA+IGQ7IGQrKykgewoJCQkJCQkJCXZhciBwID0gbmV3IEFycmF5KDIpOwoJCQkJCQkJCXBbMF0gPSBwYXJzZUludChjW2RdWzBdKSwgcFsxXSA9IHBhcnNlRmxvYXQoY1tkXVsxXSksIG4uc2VyaWVzW3JdLmRhdGEucHVzaChwKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJQigiIyIgKyBuLmNoYXJ0LnJlbmRlclRvKS5sZW5ndGggJiYgbmV3IG8uQ2hhcnQobiksIHQuc2hvdygpCgkJCQl9CgkJCQl2YXIgeCwgdywgdiwgYiwgeSwgaywgeiA9IHt9LAoJCQkJCUIgPSBuKDYpLAoJCQkJCWogPSBuKDE2KSwKCQkJCQlDID0gbig1KSwKCQkJCQlTID0gbig0MCksCgkJCQkJTiA9IG4oMTY4KSwKCQkJCQlUID0gYS5wYWdlSW5mbywKCQkJCQlQID0ge30sCgkJCQkJSSA9IFsvdGFvYmFvXC5jb20vLCAvc2hhbmdwaW5cLmNvbS9dLAoJCQkJCUEgPSBuKDkpLAoJCQkJCXEgPSBmdW5jdGlvbiBPKGUpIHsKCQkJCQkJdmFyIHQgPSBlLm9mZnNldFRvcDsKCQkJCQkJcmV0dXJuIG51bGwgIT0gZS5vZmZzZXRQYXJlbnQgJiYgKHQgKz0gTyhlLm9mZnNldFBhcmVudCkpLCB0CgkJCQkJfSwKCQkJCQlFID0gZnVuY3Rpb24gTChlKSB7CgkJCQkJCXZhciB0ID0gZS5vZmZzZXRMZWZ0OwoJCQkJCQlyZXR1cm4gbnVsbCAhPSBlLm9mZnNldFBhcmVudCAmJiAodCArPSBMKGUub2Zmc2V0UGFyZW50KSksIHQKCQkJCQl9OwoJCQkJcmV0dXJuIHouaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJCWUoKSB8fCAoMSA9PT0gVC50eXBlICYmIChCKCJib2R5IikuYXBwZW5kKCc8YSBpZCA9IicgKyBhLmV4dEJyYW5kICsgJ19wcmljZV90aXAiIHNyYz0iamF2YXNjcmlwdDp2b2lkKDApIiB0YXJnZXQ9Il9zZWxmIiA+PC9hPjxkaXYgaWQ9IicgKyBhLmV4dEJyYW5kICsgJ19wcmljZV90aXBfZGV0YWlsIj48L2Rpdj4nKSwgeCA9IEIoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfdGlwIiksIHcgPSBCKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX3RpcF9kZXRhaWwiKSksIHQoKSkKCQkJCX0sIHoKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpLCBuKDk0KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzx1bCBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF9zdG9yZSIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+XG4gIDxsaT48YSB7e2lmICFuZXdfZXh0ZW5zaW9ufX0gaHJlZj0ie3tkYXRhLm1vcmVfbGlua319IiB0YXJnZXQ9Il9ibGFuayIge3svaWZ9fT48c3BhbiBjbGFzcz0idGxlYiI+5ZWG5a625q+U5Lu377yaPC9zcGFuPjwvYT48L2xpPlxuICB7e2VhY2ggZGF0YS5zdG9yZX19XG4gIDxsaT5cbiAgICA8aW1nIHNyYz0ie3skdmFsdWUuaWNvbl91cmx9fSIgYWx0PSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSIgdGl0bGU9Int7JHZhbHVlLnNpdGVfbmFtZX19Ij5cbiAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgPHNwYW4gYWx0PSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSIgdGl0bGU9Int7JHZhbHVlLnNpdGVfbmFtZX19IiB7e2lmICRpbmRleCA9PSAwfX1zdHlsZT0iY29sb3I6I2Q4MDAwMSJ7ey9pZn19Pnt7JHZhbHVlLnByaWNlfX08L3NwYW4+XG4gICAgPC9hPlxuICA8L2xpPlxuICB7ey9lYWNofX1cbiAge3tpZiAhbmV3X2V4dGVuc2lvbn19XG4gICAgPGxpPjxhIGhyZWY9Int7ZGF0YS5tb3JlX2xpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiPjxzcGFuIGNsYXNzPSJ0bGUiPnt7ZGF0YS5tb3JlX3RsZX19PC9zcGFuPjwvYT48L2xpPlxuICB7ey9pZn19XG48L3VsPlxuPGRpdiBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF90cmVuZCIgc3R5bGU9IndpZHRoOiAzMDBweDsgaGVpZ2h0OiAxNTBweDsiPjwvZGl2PlxuPGRpdiBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF9vdGhlciIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+XG4gIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV90aXBfbGVmdF9pbmZvIiBzdHlsZT0iZmxvYXQ6IGxlZnQ7IGhlaWdodDogNTBweDsgd2lkdGg6IDk4cHg7IG1hcmdpbjogMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij5cbiAgICA8YSBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF9sb2dvIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX1ocmVmPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbSIgdGFyZ2V0PSJfYmxhbmsiIHt7L2lmfX0gc3R5bGU9ImRpc3BsYXk6aW5saW5lO21hcmdpbi10b3A6MHB4O2JhY2tncm91bmQtcG9zaXRpb246LTIzN3B4IDhweDsiPjwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9wcmljZV90aXBfbm90aWZ5IiBzdHlsZT0iZGlzcGxheTogYmxvY2s7Ij5cbiAgICA8ZGl2IGlkPSJ7e2V4dEJyYW5kfX1fcHJpY2VfdGlwX3JlY29yZCI+IFxuICAgICAgPHNwYW4gaWQ9Int7ZXh0QnJhbmR9fV9taW4iIHN0eWxlPSJmb250LXdlaWdodDpib2xkIj7mnIDkvY46IHt7ZGF0YS50cmVuZC5zdG9yZVswXS5taW5fcHJpY2V9feWFgzwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJ7e2V4dEJyYW5kfX1fbWF4Ij7mnIDpq5g6IHt7ZGF0YS50cmVuZC5zdG9yZVswXS5tYXhfcHJpY2V9feWFgzwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICB7e2lmICFuZXdfZXh0ZW5zaW9ufX1cbiAgICAgIDxhIGlkPSJ7e2V4dEJyYW5kfX1fcHJpY2VfdGlwX25vdGlmeV9idG4iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9ImZsb2F0OnJpZ2h0OyIgdGFyZ2V0PSJfc2VsZiI+5pS26JeP5bm26ZmN5Lu35o+Q6YaSPC9hPlxuICAgICAgPGRpdiBzdHlsZT0iY2xlYXI6Ym90aDsiIGlkPSJ7e2V4dEJyYW5kfX1fbW9yZV9saW5rIj5cbiAgICAgICAge3tkYXRhLnNpdGVfbmFtZX19XG4gICAgICAgIHt7ZWFjaCBkYXRhLm1vcmV9fVxuICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gICAgICAgIHt7aWYgJGluZGV4ICsgMSAhPSBkYXRhLm1vcmUubGVuZ3RofX3jgIF7ey9pZn19XG4gICAgICAgIHt7L2VhY2h9fVxuICAgICAgPC9kaXY+XG4gICAge3svaWZ9fVxuICAgIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGg7Ij48L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGg7Ij48L2Rpdj5cbiAge3tpZiBqZHRvcCA9PT0gXCdqZHRvcFwnfX1cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuZ3dkXzM2MGJ1eSBzdmcgcGF0aCB7XG4gICAgICBmaWxsOiBub25lO1xuICAgIH1cbiAgPC9zdHlsZT5cbiAge3svaWZ9fVxuPC9kaXY+JzsKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNiksCgkJCQkJdCA9IG4oOSk7CgkJCQlyZXR1cm4gewoJCQkJCW1vZE5hbWU6IGEuZXh0QnJhbmQgKyAiX3Byb2R1Y3RNb25pdG9yIiwKCQkJCQl1cmw6ICIiLAoJCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl0aGlzLnVybCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CgkJCQkJCXZhciBlID0gYS50al9zZXJ2ZXI7CgkJCQkJCWlmIChhLm5ld19leHRlbnNpb24gJiYgKGUgPSBhLnNlcnZlciksIHRoaXMuaXNNb25pdG9yU2l0ZSgpICYmIHRoaXMudXJsLnNlYXJjaCgic2VhcmNoIikgPiAtMSkgewoJCQkJCQkJdGhpcy5iaW5kRXZlbnQoKTsKCQkJCQkJCXZhciBuID0gdGhpcy5nZXRrZXl3b3JkcygpOwoJCQkJCQkJaWYgKCIiID09IG4ua2V5d29yZCkgcmV0dXJuOwoJCQkJCQkJdC5nZXQoZSArICIva2V5d29yZHNfbG9nP2tleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLmtleXdvcmQpICsgIiZzaXRlPSIgKyBhLnNpdGUgKyAiJmNoYXJzZXQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLmNoYXJzZXRzKSkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaXNNb25pdG9yU2l0ZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gYS5zaXRlOwoJCQkJCQlmb3IgKHZhciB0IGluIHRoaXMua2V5d29yZHNQYXR0ZXJucykKCQkJCQkJCWlmIChlID09IHQpIHJldHVybiAhMDsKCQkJCQkJcmV0dXJuICExCgkJCQkJfSwKCQkJCQlnZXRrZXl3b3JkczogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0ID0gYS5zaXRlLAoJCQkJCQkJbiA9IHRoaXMua2V5d29yZHNQYXR0ZXJuc1t0XSwKCQkJCQkJCWkgPSAiIiwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJa2V5d29yZDogIiIsCgkJCQkJCQkJY2hhcnNldHM6ICIiCgkJCQkJCQl9LAoJCQkJCQkJciA9ICIiLAoJCQkJCQkJcyA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IG5ldyBSZWdFeHAoIiIgKyBuICsgIihbXiYvXSspIiksIHMgPSB0aGlzLnVybC5tYXRjaChpKVsxXQoJCQkJCQl9IGNhdGNoIChsKSB7CgkJCQkJCQlpZiAoYS5kZWJ1ZykgdGhyb3cgbAoJCQkJCQl9CgkJCQkJCWlmICgiIiA9PSBzKSB0cnkgewoJCQkJCQkJaSA9IG5ldyBSZWdFeHAoIiIgKyBuICsgIihbXigvfD8pXSspIiksIHMgPSB0aGlzLnVybC5tYXRjaChpKVsxXQoJCQkJCQl9IGNhdGNoIChsKSB7CgkJCQkJCQlpZiAoYS5kZWJ1ZykgdGhyb3cgbAoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQlyID0gZSgiW2h0dHAtZXF1aXY9J0NvbnRlbnQtVHlwZSddIikuYXR0cigiY29udGVudCIpLm1hdGNoKC9jaGFyc2V0PShbMC05YS16QS1aLV0rKS8pWzFdCgkJCQkJCX0gY2F0Y2ggKGwpIHsKCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBsCgkJCQkJCX0KCQkJCQkJaWYgKCFyKSB0cnkgewoJCQkJCQkJciA9IGUoIm1ldGFbY2hhcnNldF0iKS5hdHRyKCJjaGFyc2V0IikKCQkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IGwKCQkJCQkJfQoJCQkJCQlyZXR1cm4gby5rZXl3b3JkID0gcywgby5jaGFyc2V0cyA9IHIsIG8KCQkJCQl9LAoJCQkJCWJpbmRFdmVudDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBuID0gdGhpcy5nZXRrZXl3b3JkcygpLAoJCQkJCQkJaSA9IG4ua2V5d29yZCwKCQkJCQkJCW8gPSBuLmNoYXJzZXRzOwoJCQkJCQllKCJib2R5IikuZGVsZWdhdGUoImltZywgYXJlYSIsICJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIG4gPSBlKHRoaXMpLnBhcmVudCgpLmF0dHIoImhyZWYiKTsKCQkJCQkJCXQuZ2V0KGEudGpfc2VydmVyICsgIi9sb2c/cGVybWFuZW50X2lkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5wX2lkKSArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobikgKyAiJmtleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChpKSArICImY2hhcnNldD0iICsgbykKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWtleXdvcmRzUGF0dGVybnM6IHsKCQkJCQkJIjM2MGJ1eSI6ICJrZXl3b3JkPSIsCgkJCQkJCXRhb2JhbzogIls/Jl1xPSIsCgkJCQkJCXRtYWxsOiAiWz8mXXE9IiwKCQkJCQkJZGFuZ2Rhbmc6ICJrZXk9IiwKCQkJCQkJanVtZWk6ICJzZWFyY2g9IiwKCQkJCQkJZ29tZTogInF1ZXN0aW9uPSIsCgkJCQkJCXlpaGFvZGlhbjogIi9jLisvayIsCgkJCQkJCXN1bmluZzogImNvbS8iCgkJCQkJfQoJCQkJfQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICIiCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSBuKDkpLAoJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5vbigiY2xpY2siLCAiLml0ZW1fY2xvc2VfYnRuIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdCh0aGlzKS5hdHRyKCJkYXRhLWlkIik7CgkJCQkJCXMoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIG4gPSBpLmNfc2VydmVyICsgIi9jb2xsZWN0L2FqX2RlbD9kcF9pZD0iICsgZTsKCQkJCQlvLmdldChuKS5kb25lKGZ1bmN0aW9uKG4pIHsKCQkJCQkJMSA9PSBuLmNvZGUgJiYgKGUgPT0gaS5ub3dfZHBfaWQgJiYgdCgiI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIC5zcC1jb2wiKS50ZXh0KCLmlLbol4/llYblk4EiKS5yZW1vdmVDbGFzcygiY29sbGVjdGVkIiksIHQoIiN0b3BmYXZvcl9kZXRhaWwgLnNwLWRlbCIpLnNob3coKS5mYWRlT3V0KDNlMyksIGQoYykpCgkJCQkJfSkKCQkJCX0sCgkJCQlsID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpLmNvbGxlY3RJbmZvLAoJCQkJCQluID0gaS5kcDsKCQkJCQllLnByaWNlID0gbi5vbGRQcmljZSwgZS50aXRsZSA9IG4ubmFtZSB8fCB0KCJ0aXRsZSIpLmh0bWwoKSwgZS51cmwgPSBlLnVybCB8fCBsb2NhdGlvbi5ocmVmLCBlLmltZyA9IGUuaW1nIHx8IG4uaW1nOwoJCQkJCXZhciBhID0gaS5jX3NlcnZlciArICIvY29sbGVjdC9hal9hZGQ/ZHBfaWQ9IiArIGUuZHBfaWQgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUudXJsKSArICImaW1nPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5pbWcpICsgIiZ0aXRsZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUudGl0bGUpICsgIiZwcmljZT0iICsgZS5wcmljZSArICImc2l0ZV9pZD0iICsgZS5zaXRlX2lkICsgIiZjYXRfaWQ9IiArIG4uY2F0X2lkOwoJCQkJCW8uZ2V0KGEpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkiMSIgPT09IGUuY29kZSA/IChkKGMpLCB0KCIjdG9wZmF2b3JfZGV0YWlsIC50b3BmLWhlYWQgLnNwLWNvbCIpLnRleHQoIuaUtuiXj+aIkOWKnyIpLmFkZENsYXNzKCJjb2xsZWN0ZWQiKSkgOiAiMiIgPT09IGUuY29kZSAmJiB0KCIjdG9wZmF2b3JfZGV0YWlsIC50b3BmLWhlYWQgLnNwLWNvbCIpLnRleHQoIuaUtuiXj+i/h+S6hiIpLmFkZENsYXNzKCJjb2xsZWN0ZWQiKQoJCQkJCX0pCgkJCQl9LAoJCQkJYyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGUucHJvZHVjdHMubGVuZ3RoOyBvKyspIHsKCQkJCQkJdmFyIHMgPSBlLnByb2R1Y3RzW29dLmRwX2lkLnNwbGl0KCItIilbMV07CgkJCQkJCWUucHJvZHVjdHNbb10uc2l0ZV9pZCA9IHMKCQkJCQl9CgkJCQkJdmFyIGwgPSBuKDE3Mik7CgkJCQkJdCgiI3RvcGZhdm9yX2RldGFpbCAuZmF2b3ItbGlzdCIpLmVtcHR5KCkuYXBwZW5kKGEuY29tcGlsZShsKSh7CgkJCQkJCWRhdGE6IGUucHJvZHVjdHMsCgkJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyCgkJCQkJfSkpLCB0KCIuc2VlLWFsbC1mYXZvciBlbSIpLnRleHQoZS50b3RhbF9jbnQpLCB0KCIuc2VlLWFsbC1mYXZvciIpLmF0dHIoImhyZWYiLCAiIiArIGkuY19zZXJ2ZXIgKyBlLmp1bXBfdXJsKSwgcigpLCB0KCIjdG9wZmF2b3JfZGV0YWlsIikuaGFzQ2xhc3MoImlzbG9naW4iKSB8fCB0KCIjdG9wZmF2b3JfZGV0YWlsIikuYWRkQ2xhc3MoImlzbG9naW4iKQoJCQkJfSwKCQkJCWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBpLmNfc2VydmVyICsgIi9hcHAvY29sbGVjdGlvbiI7CgkJCQkJby5nZXQodCkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCWUodCkKCQkJCQl9KQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlLCBuLCBhKSB7CgkJCQkJdC5hamF4KHsKCQkJCQkJdHlwZTogInBvc3QiLAoJCQkJCQl1cmw6ICJodHRwczovL3d3dy4iICsgaS5leHROYW1lICsgIi5jb20vdXNlci9hal9sb2dpbiIsCgkJCQkJCXhockZpZWxkczogewoJCQkJCQkJd2l0aENyZWRlbnRpYWxzOiAhMAoJCQkJCQl9LAoJCQkJCQljcm9zc0RvbWFpbjogITAsCgkJCQkJCWRhdGE6IHsKCQkJCQkJCWVtYWlsOiBlLAoJCQkJCQkJcGFzc3dvcmQ6IG4sCgkJCQkJCQl0OiAiY2hlY2siLAoJCQkJCQkJaG9zdDogbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdAoJCQkJCQl9LAoJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlhKGUpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMDsKCQkJCQl0KCIjdG9wZmF2b3JfZGV0YWlsIC50b3BmLWhlYWQgc3BhbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlsKCkKCQkJCQl9KSwgdCgiI3RvcGZhdm9yX2RldGFpbCAubG9naW5fY2xpY2siKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0KCIjdG9wZmF2b3JfZGV0YWlsICN1c2VybmFtZSIpLnZhbCgpLAoJCQkJCQkJbiA9IHQoIiN0b3BmYXZvcl9kZXRhaWwgI3Bhc3N3b3JkIikudmFsKCk7CgkJCQkJCXJldHVybiBlICYmIG4gPyB2b2lkIHAoZSwgbiwgZnVuY3Rpb24obikgewoJCQkJCQkJIjEiID09PSBuID8gKGkuZW1haWwgPSBlLCBkKGMpKSA6IHQoIiN0b3BmYXZvcl9kZXRhaWwgLmxvZ2luX3JlbWluZCIpLnNob3coKS5mYWRlT3V0KDVlMykKCQkJCQkJfSkgOiB2b2lkIHQoIiN0b3BmYXZvcl9kZXRhaWwgLmxvZ2luX3JlbWluZCIpLnNob3coKS5mYWRlT3V0KDVlMykKCQkJCQl9KSwgdCgiI2d3ZGFuZy1mYXZvciIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5zaG93KCksIHQodGhpcykuYWRkQ2xhc3MoIm1zSG92ZXIiKQoJCQkJCX0pLCB0KCIjZ3dkYW5nLWZhdm9yIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIG4gPSB0aGlzOwoJCQkJCQllID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5oaWRlKCksIHQobikucmVtb3ZlQ2xhc3MoIm1zSG92ZXIiKQoJCQkJCQl9LCAxMDApCgkJCQkJfSksIHQoIiN0b3BmYXZvcl9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQoZSkKCQkJCQl9KSwgdCgiI3RvcGZhdm9yX2RldGFpbCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5oaWRlKCksIHQoIiNnd2RhbmctZmF2b3IiKS5yZW1vdmVDbGFzcygibXNIb3ZlciIpCgkJCQkJfSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDAsCgkJCQkJCW8gPSAiI2d3ZGFuZy1tYWluIiwKCQkJCQkJciA9ICJ0b3A6MzdweDsiOwoJCQkJCSJib3R0b20iID09PSBpLnN0eWxlICYmIChvID0gIiNiamRfYm90dG9tX2RldGFpbCIsIHIgPSAiYm90dG9tOiA2MHB4O2JveC1zaGFkb3c6IDAgMHB4IDVweCAwIHJnYmEoMCwwLDAsMC4zMCk7cmlnaHQ6IDQwcHg7IiksICghaS5ub3dfZHBfaWQgfHwgaS5ub3dfZHBfaWQubWF0Y2goL14wLVxkKyQvKSkgJiYgKGUgPSAhMCk7CgkJCQkJdmFyIHMgPSBuKDE3Myk7CgkJCQkJdChvKS5hcHBlbmQoYS5jb21waWxlKHMpKHsKCQkJCQkJZW1haWw6IGkuZW1haWwsCgkJCQkJCWhpZGVidG46IGUsCgkJCQkJCXBhZ2V1cmw6IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSwKCQkJCQkJc3R5bGU6IHIKCQkJCQl9KSksIGgoKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXUoKSwgaS5lbWFpbCAmJiBkKGMpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICd7e2VhY2ggZGF0YX19XG4gIDxsaSA+XG4gICAgPGEgY2xhc3M9Iml0ZW1faW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij48aW1nIGlkPSJkcF97eyR2YWx1ZS5kcF9pZH19IiAgc3JjPSJ7eyR2YWx1ZS5waWNfdXJsfX0iPjwvYT5cbiAgICA8ZGl2IGNsYXNzPSJpdGVtX2Rlc2MiPlxuICAgICAgPGEgY2xhc3M9Iml0ZW1fdGl0bGUiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gICAgICA8YSBjbGFzcz0ib3RoZXJfZGVzYyI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlX2ljb24iID48aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9mYXZpY29uL3t7JHZhbHVlLnNpdGVfaWR9fS5pY28iPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Iml0ZW1fcHJpY2UiPsKle3skdmFsdWUubm93X3ByaWNlfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJpdGVtX2Nsb3NlX2J0biIgZGF0YS1pZD0ie3skdmFsdWUuZHBfaWR9fSI+5Yig6ZmkPC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICA8L2xpPlxue3svZWFjaH19JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0idG9wZmF2b3JfZGV0YWlsIiBjbGFzcz0ie3tpZiBlbWFpbH19aXNsb2dpbnt7L2lmfX0iIHN0eWxlPSJ7e3N0eWxlfX0iPiBcbiAgICA8ZGl2IGNsYXNzPSJ0b3BmLWhlYWQiPlxuICAgICAgPGRpdj7mlLbol4/lubbpmY3ku7fmj5DphpI8L2Rpdj5cbiAgICAgIDxzcGFuIGNsYXNzPSJzcC1kZWwiPuWIoOmZpOaIkOWKnzwvc3Bhbj5cbiAgICAgIHt7aWYgIWhpZGVidG59fVxuICAgICAgPHNwYW4gY2xhc3M9InNwLWNvbCI+5pS26JeP5ZWG5ZOBPC9zcGFuPlxuICAgICAge3svaWZ9fVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InRvcGYtYm9keSI+XG4gICAgICA8ZGl2IGNsYXNzPSJsb2dpbl9kZXRhaWwiPlxuICAgICAgICA8cCBjbGFzcz0ibG9naW4tcmVtaW5kIj7or7flhYgg55m75b2VIOi0reeJqeWFmu+8jOaIluS9v+eUqOesrOS4ieaWuei0puWPt+eZu+W9lTwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz0ibG9naW5pbmZvIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiAgaWQ9InVzZXJuYW1lIiBwbGFjZWhvbGRlcj0i6LSm5Y+3IiBhdXRvY29tcGxldGU9Im9mZiI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgcGxhY2Vob2xkZXI9IuWvhueggSI+IFxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy5nd2RhbmcuY29tL3VzZXIvZm9yZ290X3B3ZC8iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZm9yZ2V0X3Bhc3MiPuW/mOiusOWvhueggTwvYT5cbiAgICAgICAgPHNwYW4gY2xhc3M9ImxvZ2luX2NsaWNrIj7nmbvlvZU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJsb2dpbl9yZW1pbmQiPueUqOaIt+WQjeaIluWvhueggemUmeivrzwvc3Bhbj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy5nd2RhbmcuY29tL3VzZXIvcmVnaXN0ZXIiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0icmVnaXN0ZXIiPuW/q+mAn+azqOWGjDwvYT5cbiAgICAgICAgPGRpdiBjbGFzcz0ic2xpY2VfZGl2Ij4gPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9Im90aGVyX2xvZ2luIj5cbiAgICAgICAgICA8YSBocmVmPSJodHRwOi8vd3d3Lmd3ZGFuZy5jb20vdXNlci9vYXV0aC8/cGw9NyZvcD1sb2dpbiZmcm9tX3VybD17e3BhZ2V1cmx9fSIgY2xhc3M9InFxbG9naW4iIHRhcmdldD0iX2JsYW5rIj48L2E+XG4gICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy5nd2RhbmcuY29tL3VzZXIvb2F1dGhoLz9wbD0yJm9wPWxvZ2luJmZyb21fdXJsPXt7cGFnZXVybH19IiBjbGFzcz0ic2luYWxvZ2luIiB0YXJnZXQ9Il9ibGFuayI+PC9hPlxuICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vb3Blbi53ZWl4aW4ucXEuY29tL2Nvbm5lY3QvcXJjb25uZWN0P2FwcGlkPXd4MzQwMDZjMTQxZjlkYWEzYSZyZXNwb25zZV90eXBlPWNvZGUmc2NvcGU9c25zYXBpX2xvZ2luJnN0YXRlPTJjZWQ5NzBkNWI5NzY4MGU5NTY3MGE0OGQxMTAyNjExJnJlZGlyZWN0X3VyaT1odHRwJTNBJTJGJTJGd3d3Lmd3ZGFuZy5jb20lMkZ1c2VyJTJGd2VjaGF0X29hdXRoJTJGJTNGcGwlM0Q5JTI2b3AlM0Rsb2dpbiUyNmZyb21fdXJsJTNEe3twYWdldXJsfX0iIGNsYXNzPSJ3ZWl4aW5sb2dpbiIgdGFyZ2V0PSJfYmxhbmsiPjwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9ImZhdm9yLWRwLWRldGFpbCI+XG4gICAgICAgIDx1bCBjbGFzcz0iZmF2b3ItbGlzdCI+XG4gICAgICAgICAgXG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxhIGNsYXNzPSJzZWUtYWxsLWZhdm9yIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iIj7mn6XnnIvlhajpg6goPGVtPjwvZW0+KTwvYT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICAgIHdpZHRoOiAyODBweDtcbiAgICAgICAgaGVpZ2h0OiAzNzZweDtcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IDAgcmdiYSgwLDAsMCwwLjMwKTtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLnRvcGYtaGVhZCB7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1ib2R5IHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAudG9wZi1oZWFkICoge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLnRvcGYtaGVhZCBkaXYge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIHNwYW4uc3AtY29sIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0YwNzg2MDtcbiAgICAgICAgY29sb3I6ICNGMDc4NjA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgd2lkdGg6IDY4cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAxMXB4O1xuICAgICAgICByaWdodDogMTRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIC5zcC1kZWwge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGNvbG9yOiAjRjA3ODYwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIHRvcDogMTJweDtcbiAgICAgICAgbGVmdDogMTMwcHg7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9IFxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIC5zcC1jb2wuY29sbGVjdGVkIHtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGMDc4NjA7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsLmlzbG9naW4gLnRvcGYtaGVhZCBzcGFuLnNwLWNvbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cbiAgICAgIC50b3BmLWJvZHkge1xuICAgICAgICBoZWlnaHQ6IDMzNnB4O1xuICAgICAgfVxuICAgICAgLmlzbG9naW4gLmxvZ2luX2RldGFpbCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAudG9wZi1ib2R5IHAubG9naW4tcmVtaW5kIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgfVxuICAgICAgLmxvZ2luX2RldGFpbCAubG9naW5pbmZvIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsICNwYXNzd29yZCB7XG4gICAgICAgIG1hcmdpbi10b3A6IDE4cHg7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5mb3JnZXRfcGFzcyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxOTNweDtcbiAgICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tdG9wOiAyMXB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAubG9naW5fZGV0YWlsIC5sb2dpbmluZm8gaW5wdXQge1xuICAgICAgICB3aWR0aDogMTk2cHg7XG4gICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBwYWRkaW5nOiAwcHggNnB4IDBweCAxNnB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNCMUMzQ0M7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5sb2dpbl9jbGljayB7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTAwcHg7XG4gICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQ4YmVmMztcbiAgICAgICAgY29sb3I6ICNmZmYhaW1wb3J0YW50O1xuICAgICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5sb2dpbl9yZW1pbmQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTcycHg7XG4gICAgICAgIGxlZnQ6IDM3cHg7XG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB3aWR0aDogMTE2cHg7XG4gICAgICAgIGNvbG9yOiAjRUM0OTY2O1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuICAgICAgLmxvZ2luX2RldGFpbCAucmVnaXN0ZXIge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLXRvcDogOXB4O1xuICAgICAgICBjb2xvcjogIzQ4QkVGRSFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgfVxuICAgICAgLnJlZ2lzdGVyOmhvdmVyIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICBjb2xvcjogIzQ4QkVGRTtcbiAgICAgIH1cbiAgICAgIC5zbGljZV9kaXYge1xuICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbi10b3A6IDIzcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcJ2h0dHA6Ly9jZG4uZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvc2xpY2VfZGl2X2ljb24ucG5nXCcpIC01cHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIH1cbiAgICAgIC5sb2dpbl9kZXRhaWwgLnFxbG9naW4sIC5sb2dpbl9kZXRhaWwgLnNpbmFsb2dpbiwgLmxvZ2luX2RldGFpbCAud2VpeGlubG9naW4ge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgLmxvZ2luX2RldGFpbCAucXFsb2dpbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybCgiaHR0cDovL2Nkbi5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci90b3BfbG9naW5fcXEucG5nIikgLTNweCAtMnB4IG5vLXJlcGVhdDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDQ3cHg7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5zaW5hbG9naW4ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCdodHRwOi8vY2RuLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL3RvcF9sb2dpbl9zaW5hLnBuZ1wnKSAtM3B4IC0ycHggbm8tcmVwZWF0O1xuICAgICAgICBtYXJnaW4tbGVmdDogNDBweDtcbiAgICAgIH1cbiAgICAgIC5sb2dpbl9kZXRhaWwgLndlaXhpbmxvZ2luIHtcbiAgICAgICAgYmFja2dyb3VuZDogdXJsKFwnaHR0cDovL2Nkbi5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci90b3BfbG9naW5fd2VpeGluLnBuZ1wnKSAtM3B4IC0ycHggbm8tcmVwZWF0O1xuICAgICAgICBtYXJnaW4tbGVmdDogNDBweDtcbiAgICAgIH1cbiAgICAgIC5sb2dpbl9kZXRhaWwgLm90aGVyX2xvZ2luIHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIGhlaWdodDogNTdweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9IFxuICAgICAgLmZhdm9yLWRwLWRldGFpbCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAuaXNsb2dpbiAuZmF2b3ItZHAtZGV0YWlsIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIC5mYXZvci1saXN0IHtcbiAgICAgICAgaGVpZ2h0OiAyNTZweDtcbiAgICAgICAgd2lkdGg6IDI4MHB4O1xuICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLmZhdm9yLWxpc3QgbGkge1xuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgICBoZWlnaHQ6IDc2cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxN3B4O1xuICAgICAgICBmbG9hdDogbm9uZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLmZhdm9yLWxpc3QgbGk6Zmlyc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAuZmF2b3ItbGlzdCBsaSAuaXRlbV9pbWcge1xuICAgICAgICBoZWlnaHQ6IDczcHg7XG4gICAgICAgIHdpZHRoOiA3M3B4O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLml0ZW1faW1nIGltZyB7XG4gICAgICAgIGhlaWdodDogNzNweDtcbiAgICAgICAgd2lkdGg6IDczcHg7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIC5pdGVtX2Rlc2Mge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxNHB4O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgLW1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICB3aWR0aDogMTU5cHg7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIGEuaXRlbV90aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgd2lkdGg6IDE1OXB4O1xuICAgICAgICBjb2xvcjogIzRhNGE0YTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCBhLml0ZW1fdGl0bGU6aG92ZXIge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLm90aGVyX2Rlc2MsICN0b3BmYXZvcl9kZXRhaWwgLml0ZW1fdGl0bGUge1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIC5vdGhlcl9kZXNjIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMjZweDtcbiAgICAgICAgd2lkdGg6IDE2MnB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCBzcGFuLnNpdGVfaWNvbiB7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLnNpdGVfaWNvbiBpbWcge1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIHNwYW4uaXRlbV9wcmljZSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICAgICAgY29sb3I6ICNEMTA4MzE7XG4gICAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBoZWlnaHQ6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCBzcGFuLml0ZW1fY2xvc2VfYnRuIHtcbiAgICAgICAgY29sb3I6ICM5YjliOWI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICB3aWR0aDogMjVweDtcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgc3Bhbi5pdGVtX2Nsb3NlX2J0bjpob3ZlciB7XG4gICAgICAgIGNvbG9yOiAjNzA3MDcwO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAuc2VlLWFsbC1mYXZvciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOiAxN3B4O1xuICAgICAgICByaWdodDogMTRweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogIzliOWI5YjtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAuc2VlLWFsbC1mYXZvcjpob3ZlcntcbiAgICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMjYpLAoJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbigxNzUpLAoJCQkJCQlyID0gYS5jb21waWxlKGUpKHsKCQkJCQkJCXNfc2VydmVyOiB0LnNfc2VydmVyCgkJCQkJCX0pOwoJCQkJCWkoIiNyaWdodF9pbmZvIikuYXBwZW5kKHIpLmFkZENsYXNzKCJ2aXBiYXIiKSwgaSgiI2d3ZGFuZy1zZWFyY2giKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJbygidmlwc2hvcDpzZWFyY2hfY2xpY2siKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJInZpcHNob3AiID09PSB0LnNpdGUgJiYgcigpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICcgPGRpdiBpZD0idmlwc2VhcmNoX3JlbWluZCI+XG4gICA8c3BhbiBjbGFzcz0idmlwLXJlLXRsZSI+5ZSv5ZOB5Lya54m55Y2WPC9zcGFuPlxuICAgPHNwYW4gY2xhc3M9InZpcC1yZS1pY29uIj48L3NwYW4+XG4gICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgI3ZpcHNlYXJjaF9yZW1pbmQge1xuICAgIGZsb2F0OiByaWdodDtcbiAgIH1cbiAgICAjdmlwc2VhcmNoX3JlbWluZCAudmlwLXJlLXRsZSB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI2YxMDE4MDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAzNnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gICAgfVxuICAgICN2aXBzZWFyY2hfcmVtaW5kIC52aXAtcmUtaWNvbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvdmlwX3NlYXJjaF9pY29uLnBuZ1wnKSBuby1yZXBlYXQgMHB4IDBweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiA2cHg7XG4gICAgfVxuXG4gICA8L3N0eWxlPlxuIDwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOSksCgkJCQlvID0gbig0MCksCgkJCQlyID0gbigxNiksCgkJCQlzID0gbigyNiksCgkJCQlsID0gbigxOCksCgkJCQljID0gewoJCQkJCTE6ICLkuK3lm70iLAoJCQkJCTIyODogIue+juWbvSIsCgkJCQkJMjI5OiAi5pel5pysIiwKCQkJCQkyNDY6ICLlvrflm70iLAoJCQkJCTI2NjogIuiLseWbvSIsCgkJCQkJMzY1OiAi5rOV5Zu9IiwKCQkJCQkzNjY6ICLliqDmi7/lpKciCgkJCQl9LAoJCQkJZCA9IHsKCQkJCQkyMjg6ICJVU0QiLAoJCQkJCTIyOTogIkpQWSIsCgkJCQkJMjQ2OiAiRVVSIiwKCQkJCQkyNjY6ICJHQlAiLAoJCQkJCTM2NTogIkVVUiIsCgkJCQkJMzY2OiAiQ0FEIgoJCQkJfSwKCQkJCXAgPSB7CgkJCQkJMTogIsKlIiwKCQkJCQkyMjg6ICIkIiwKCQkJCQkyMjk6ICLlhoYiLAoJCQkJCTI0NjogIkVVUiIsCgkJCQkJMjY2OiAiwqMiLAoJCQkJCTM2NTogIkVVUiIsCgkJCQkJMzY2OiAiQ0ROJCIKCQkJCX0sCgkJCQloID0gIiMiICsgdC5leHROYW1lICsgIi1hbWF6b24tZHAiLAoJCQkJdSA9ICIjIiArIHQuZXh0TmFtZSArICItYW1hem9uLWRwLWRldGFpbCIsCgkJCQltID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gdC5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1hbWF6b25HbG9iYWwmZHBfaWQ9IiArIGU7CgkJCQkJYS5nZXQoaSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCWUgJiYgZS5sZW5ndGggPiAwICYmIG4oZSkKCQkJCQl9KQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgbiA9IDAsIGkgPSBlLmxlbmd0aDsgaSA+IG47IG4rKykgewoJCQkJCQl2YXIgYSA9IGVbbl0uZHBfaWQuc3BsaXQoIi0iKVsxXTsKCQkJCQkJIjEiID09PSBlW25dLm5vd3BhZ2UgPyBlW25dLnNpdGVOYW1lID0gY1thXSArICLkuprpqazpgIoo5b2T5YmN5ZWG5Z+OKSIgOiBlW25dLnNpdGVOYW1lID0gY1thXSArICLkuprpqazpgIoiOwoJCQkJCQl2YXIgciA9IChOdW1iZXIoZVtuXS5wcmkpIC8gMTAwKS50b0ZpeGVkKDIpLAoJCQkJCQkJcyA9ICIiOwoJCQkJCQlpZiAoIjEiICE9PSBhKSB7CgkJCQkJCQl2YXIgaCA9ICIiOwoJCQkJCQkJaCA9ICIyMjkiID09PSBhID8gciArIHBbYV0gOiBwW2FdICsgciwgcyA9IG8ociwgZFthXSksIHIgPSAiwqUiICsgcyArICgiKCIgKyBoICsgIikiKQoJCQkJCQl9IGVsc2UgcyA9IHIsIHIgPSAiwqUiICsgcjsKCQkJCQkJdmFyIHUgPSB7CgkJCQkJCQlzaXRlX2lkOiBhLAoJCQkJCQkJdXJsOiBlW25dLnVybCwKCQkJCQkJCW1vZDogImFtYXpvbl9nbG9iYWwiLAoJCQkJCQkJdW5pb246IHQudW5pb24uc3BsaXQoIl8iKVsxXSwKCQkJCQkJCWRwX2lkOiBlW25dLmRwX2lkCgkJCQkJCX07CgkJCQkJCWVbbl0udXJsID0gbC5pbml0KHUpLCBlW25dLnByaWNlID0gciwgZVtuXS5wdXJlUHJpY2UgPSBzCgkJCQkJfQoJCQkJCXJldHVybiBlLnNvcnQoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gTnVtYmVyKGUucHVyZVByaWNlKSAtIE51bWJlcih0LnB1cmVQcmljZSkKCQkJCQl9KSwgZQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbihlKSB7CgkJCQkJZSA9IGYoZSksICJ0b3AiID09PSB0LnN0eWxlICYmIHcoZSksIHYoZSksIGIoZSksIHgoKQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICc8YSBpZD0iJyArIHQuZXh0TmFtZSArICctYW1hem9uLWRwIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYW1hem9uLWljb24gZ3dkX2JnIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+IOS6mumprOmAiua1t+Wklui0re+8mjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ3dkLXByaWNlIGFtYXpvbl9kcCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+JzsKCQkJCQlpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLnByZXBlbmQoaShlKSkKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJaShoKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKHUpLmFkZENsYXNzKCJfbXNob3ZlciIpLCBpKGgpLmFkZENsYXNzKCJfbXNob3ZlciIpLCBzKCJ0cmFjazphbWF6b25fZ2xvYmFsOm1zaG92ZXIiKQoJCQkJCX0pLCBpKGgpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaSh1KS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKSwgaShoKS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKQoJCQkJCQl9LCAyMDApCgkJCQkJfSksIGkodSkub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpLCBpKHUpLmFkZENsYXNzKCJfbXNob3ZlciIpLCBpKGgpLmFkZENsYXNzKCJfbXNob3ZlciIpCgkJCQkJfSksIGkodSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSh1KS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKSwgaShoKS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKQoJCQkJCX0pLCBpKCIjYW1hem9uX2RwLWl0ZW0tbGlzdCBsaSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzKCJ0cmFjazphbWF6b25fZ2xvYmFsOmNsaWNrIikKCQkJCQl9KSwgaSgiI2FtYXpvbl9nbG9iYWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGkoIiNnbG9iYWxJbm5lckRldGFpbCIpOwoJCQkJCQllLmlzKCI6dmlzaWJsZSIpIHx8IChpKCIuY29udGVudF9kZWZhdWx0IikuaGlkZSgpLCBlLnNob3coKSkKCQkJCQl9KSwgaSgiI2dsb2JhbElubmVyRGV0YWlsIC5jb250ZW50X2RlZmF1bHRfbGVmdCBhIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXMoInRyYWNrOmFtYXpvbl9nbG9iYWxfaW5uZXJfZGV0YWlsOmNsaWNrIikKCQkJCQl9KQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbihlKSB7CgkJCQkJaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWFtYXpvbi1kcCAuYW1hem9uX2RwIikudGV4dChlWzBdLnByaWNlKSwgaShoKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIik7CgkJCQkJdmFyIGEgPSBuKDE3NyksCgkJCQkJCW8gPSByLmNvbXBpbGUoYSkoewoJCQkJCQkJZGF0YTogZSwKCQkJCQkJCWV4dEJyYW5kOiB0LmV4dEJyYW5kLAoJCQkJCQkJZXh0TmFtZTogdC5leHROYW1lCgkJCQkJCX0pOwoJCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKG8pLCBzKCJ0cmFjazphbWF6b25fZ2xvYmFsOnRyYWNrIikKCQkJCX0sCgkJCQl2ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gZVswXTsKCQkJCQlpZiAodCkgewoJCQkJCQl2YXIgYSA9IG4oMTc4KSwKCQkJCQkJCW8gPSBpKCIjZ3dkX2h0X21haW4gLmh0X2hlYWQiKTsKCQkJCQkJMCAhPT0gby5sZW5ndGggJiYgKG8uYXBwZW5kKHIuY29tcGlsZShhKSh7CgkJCQkJCQlkYXRhOiB0CgkJCQkJCX0pKSwgcygidHJhY2s6YW1hem9uX2dsb2JhbF9pbm5lcjp0cmFjayIpLCBpKCIjYW1hem9uX2dsb2JhbCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJcygidHJhY2s6YW1hem9uX2dsb2JhbF9pbm5lcjpjbGljayIpCgkJCQkJCX0pKQoJCQkJCX0KCQkJCX0sCgkJCQliID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbigxNzkpLAoJCQkJCQlhID0gci5jb21waWxlKHQpKHsKCQkJCQkJCWRhdGE6IGVbMF0KCQkJCQkJfSk7CgkJCQkJaSgiI2d3ZF9odF9tYWluIC5odF9jb250ZW50IikuYXBwZW5kKGEpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWxvY2F0aW9uLmhvc3QuaW5kZXhPZigiLmNuIikgPiAtMSB8fCAoInRvcCIgPT09IHQuc3R5bGUgJiYgXygpLCBtKGUsIGcpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbCIgY2xhc3M9IiBwcmljZV9jb21wYXJlIGFtYXpvbi1kcC1kZXRhaWwiPlxuICA8ZGl2IGNsYXNzPSJwYW5lbC13cmFwIj5cbiAgICA8ZGl2IGNsYXNzPSJwYWdlcyI+XG4gICAgICDnrKwmbmJzcDtcbiAgICAgIDxzcGFuIGlkPSJhbWF6b25fZHAtY3VycmVudC1wYWdlIiBjbGFzcz0iY3VycmVudC1wYWdlIj4xPC9zcGFuPlxuICAgICAgJm5ic3A76aG177yM5YWxJm5ic3A7XG4gICAgICA8c3BhbiBpZD0iYW1hem9uX2RwLXBhZ2UtbnVtIiBjbGFzcz0icGFnZS1udW0iPjE8L3NwYW4+XG4gICAgICAmbmJzcDvpobVcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJsZWZ0LXBhZ2UgZ3dkc2V0dGluZ19iZyI+XG4gICAgICA8YSB0aXRsZT0i5LiK5LiA6aG1IiB0YXJnZXQ9Il9zZWxmIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImFsbC1wcm9kdWN0cyI+XG4gICAgICA8dWwgaWQ9ImFtYXpvbl9kcC1pdGVtLWxpc3QiPlxuICAgICAgICB7e2VhY2ggZGF0YX19XG4gICAgICAgICAgPGxpIGlkPSJhbWF6b25fZHAtcHJvZC1pdGVtLXt7JGluZGV4fX0iPlxuICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGxlfX0iIGNsYXNzPSJzbWFsbC1pbWciPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3skdmFsdWUuaW1nfX0iPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJpY2UiPnt7JHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlTmFtZSI+e3skdmFsdWUuc2l0ZU5hbWV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZlZXMiPuS4jeWQjOWNluWutui/kOi0ueS4jeWQjDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGxlfX0iPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fdGl0bGUiPnt7JHZhbHVlLnRsZX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJpZ2h0LXBhZ2UgZ3dkc2V0dGluZ19iZyI+XG4gICAgICA8YSB0aXRsZT0i5LiL5LiA6aG1IiB0YXJnZXQ9Il9zZWxmIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtc2hhZG93Ij48L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAje3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICN7e2V4dE5hbWV9fS1hbWF6b24tZHAtZGV0YWlsLl9tc2hvdmVyIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAje3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbCAubGVmdC1wYWdle1xuICAgICAgbGVmdDogNXB4O1xuICAgIH1cbiAgICAje3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbCAuYWxsLXByb2R1Y3Rze1xuICAgICAgbGVmdDogMzVweDtcbiAgICB9XG4gICAgXG4gICAgI3t7ZXh0TmFtZX19LWFtYXpvbi1kcC1kZXRhaWwgLnt7ZXh0QnJhbmR9fS1wcmljZTpob3ZlciB7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICAgIGN1cnNvcjogdGV4dDtcbiAgICB9XG4gICAgI2FtYXpvbl9kcC1pdGVtLWxpc3Qgc3BhbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgI2FtYXpvbl9kcC1pdGVtLWxpc3Qgc3Bhbi5zaXRlTmFtZSB7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAue3tleHROYW1lfX0tbWFpbiAucGFuZWwtd3JhcCAuYWxsLXByb2R1Y3RzICNhbWF6b25fZHAtaXRlbS1saXN0IGxpIGEgaW1ne1xuICAgICAgbWF4LXdpZHRoOiA5MHB4O1xuICAgICAgbWF4LWhlaWdodDogOTBweDtcbiAgICB9XG4gICAgLnt7ZXh0TmFtZX19LW1haW4gLnBhbmVsLXdyYXAgLmFsbC1wcm9kdWN0cyB1bCBsaSAuc21hbGwtaW1ne1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAjYW1hem9uX2RwLWl0ZW0tbGlzdCBsaSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgICNiamQue3tleHROYW1lfX0tbWFpbiAuYWxsLXByb2R1Y3RzIHVsIGxpIC5nd2QtcHJpY2Uge1xuICAgICAgY29sb3I6ICNFNTI2MDA7XG4gICAgfVxuICAgICN7e2V4dE5hbWV9fS1hbWF6b24tZHAtZGV0YWlsIC57e2V4dEJyYW5kfX0tcHJpY2Uge1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxhIGhyZWY9Int7ZGF0YS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGlkPSJhbWF6b25fZ2xvYmFsIiA+XG4gIOa1t+Wklui0re+8mlxuICA8c3BhbiBjbGFzcz0iaHRfZ2V0cHJpY2VfbnVtIGZvbnRmX0FyaWFsIj5cbiAgICB7e2RhdGEucHJpY2V9fVxuICA8L3NwYW4+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgZGl2Lmd3ZF9oYWl0YW8gLmh0X2dldHByaWNlIHtcbiAgICAgIHdpZHRoOiAxNjBweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuICAgIGRpdi5nd2RfaGFpdGFvIC5odF9nZXRwcmljZSBzcGFuIHtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG4gICAgI2FtYXpvbl9nbG9iYWwge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDM1cHg7XG4gICAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHdpZHRoOiAxNjFweDtcbiAgICAgIGNvbG9yOiAjNDU0YTRkO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI2FtYXpvbl9nbG9iYWwgc3BhbiB7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgfVxuICAgICNhbWF6b25fZ2xvYmFsOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIGNvbG9yOiAjNDU0YTRkO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvYT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJjb250ZW50X2RlZmF1bHQiIGlkPSJnbG9iYWxJbm5lckRldGFpbCI+XG4gIDxkaXYgY2xhc3M9ImNvbnRlbnRfZGVmYXVsdF9sZWZ0Ij5cbiAgICA8YSBocmVmPSJ7e2RhdGEudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iaW5uZXItaW1nIj5cbiAgICAgIDxpbWcgc3JjPSJ7e2RhdGEuaW1nfX0iPlxuICAgIDwvYT5cbiAgICA8YSBocmVmPSJ7e2RhdGEudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3tkYXRhLnRsZX19IiBjbGFzcz0iaW5uZXItdGxlIj57e2RhdGEudGxlfX08L2E+XG4gICAgPGEgaHJlZj0ie3tkYXRhLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImlubmVyLWJ0biI+IOebtOi+vumTvuaOpTwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9ImNvbnRlbnRfZGVmYXVsdF9yaWdodCI+XG4gICAgPGEgY2xhc3M9InByb190eXBlIj5cbiAgICAgIDxlbSBjbGFzcz0ieml5aW5nIj48L2VtPlxuICAgICAgPHNwYW4gY2xhc3M9InByb190X3RsZSIgPuiHquiQpTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9InByb190eXBlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAg5Lqa6ams6YCK55u05o6l6ZSA5ZSuXG4gICAgICA8L2Rpdj5cbiAgICA8L2E+XG4gICAgPGEgY2xhc3M9Im1haWxfdHlwZSIgPlxuICAgICAgPGVtIGNsYXNzPSJ6aGl5b3UiPjwvZW0+XG4gICAgICA8c3BhbiA+55u06YKuPC9zcGFuPlxuICAgICAgPGRpdiBjbGFzcz0ibWFpbF90eXBlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAg5ZWG5ZOB5pSv5oyB55u06YKu5Lit5Zu9IDctMTLlpKnlj6/liLDovr5cbiAgICAgIDwvZGl2PlxuICAgIDwvYT5cbiAgICA8YSBjbGFzcz0iaHRfdHJhbnNsYXRlIHNhbWUtc3R5bGUiPlxuICAgICAgPGVtPjwvZW0+XG4gICAgICA8c3Bhbj7lkIzmrL48L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPSJzYW1lLXN0eWxlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAg5Lit5LqaLea1t+Wklui0reWQjOasvlxuICAgICAgPC9kaXY+XG4gICAgPC9hPlxuICAgIDxhIGNsYXNzPSJzaXplX2hlbHAgdmlwX3RsZSIgaHJlZj0iaHR0cHM6Ly93d3cuYW1hem9uLmNuL2dwL3ByaW1lL3BpcGVsaW5lL2xhbmRpbmc/aWU9VVRGOCZyZWZfPW5hdl9wcmltZV90cnlfYnRuIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICA8ZW0+PC9lbT5cbiAgICAgIDxzcGFuPuS8muWRmOWFjei/kOi0uTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9InNpemVfZGV0YWlsIHZpcF90bGVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICDngrnlh7vnq4vkuqvlhY3otLnor5XnlKgzMOWkqVxuICAgICAgPC9kaXY+XG4gICAgPC9hPlxuICA8L2Rpdj5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMTgxKSwKCQkJCXIgPSBuKDEzMCksCgkJCQlzID0gbig5KSwKCQkJCWwgPSBuKDY1KSwKCQkJCWMgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBlW3RdLnB1cmV0bGUgPSBlW3RdLnRpdGxlLCBlW3RdLnRpdGxlID0gZVt0XS50aXRsZS5yZXBsYWNlKC9cYihbMC05Ll0rKVxiL2csICI8ZW0+JDE8L2VtPiIpOwoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdm9pZCAwLAoJCQkJCQluID0gdCgiI3Byb21vX3F1YW5fYnRuIiksCgkJCQkJCWEgPSAiIiwKCQkJCQkJbyA9IHQoIiNwcm9tb19xdWFuX2RldGFpbCIpOwoJCQkJCSJib3R0b20iID09IGkuc3R5bGUgJiYgKG4gPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiLWh1aSIpLCBhID0gaS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIiksIG4ub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJby5zaG93KCksIG4uYWRkQ2xhc3MoIm1zSG92ZXIiKSwgbi5maW5kKCJhIikuYWRkQ2xhc3MoYSk7CgkJCQkJCXZhciBlID0gbi5vZmZzZXQoKS5sZWZ0OwoJCQkJCQlvLmNzcygibGVmdCIsIGUgKyAicHgiKQoJCQkJCX0pLCBuLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJby5oaWRlKCksIG4ucmVtb3ZlQ2xhc3MoIm1zSG92ZXIiKSwgbi5maW5kKCJhIikucmVtb3ZlQ2xhc3MoYSkKCQkJCQkJfSwgMTAwKQoJCQkJCX0pLCBvLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pLCBvLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW8uaGlkZSgpLCBuLnJlbW92ZUNsYXNzKCJtc0hvdmVyIiksIG4uZmluZCgiYSIpLnJlbW92ZUNsYXNzKGEpCgkJCQkJfSkKCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oZSwgbiwgcikgewoJCQkJCXIgfHwgKHIgPSB7CgkJCQkJCXNpdGVfbmFtZTogbi5zaXRlX25hbWUKCQkJCQl9KTsKCQkJCQl2YXIgcyA9IHIuc2l0ZV9uYW1lIHx8IG4uc2l0ZV9uYW1lLAoJCQkJCQlsID0gci5zaXRlX25hbWUgfHwgbi5zaXRlX25hbWUsCgkJCQkJCXAgPSBuLnByb21vdGlvbi51cmwsCgkJCQkJCWggPSBuLnF1YW4gJiYgbi5xdWFuLnVybDsKCQkJCQluLnByb21vdGlvbi5zaXRlX2hhc19wcm9tbyB8fCAocyA9ICLlhajnvZHmnIDmlrAiKSwgMSA9PSBuLnByb21vdGlvbi5wcm9tb3MubGVuZ3RoICYmIChwID0gbi5wcm9tb3Rpb24ucHJvbW9zWzBdLnVybCksIG4ucXVhbiAmJiAhbi5xdWFuLnNpdGVfaGFzX3F1YW4gJiYgKGwgPSAi5YWo572R5pyA5Y+X5YWz5rOoIiksIHQoZSkuYXBwZW5kKGEuY29tcGlsZShvKSh7CgkJCQkJCXByb21vX3NpdGU6IHMsCgkJCQkJCXF1YW5fc2l0ZTogbCwKCQkJCQkJcHJvbW9zOiBjKG4ucHJvbW90aW9uLnByb21vcy5zbGljZSgwLCA0KSksCgkJCQkJCXByb21vX3VybDogcCwKCQkJCQkJcXVhbnM6IGMobi5xdWFuICYmIG4ucXVhbi5xdWFucy5zbGljZSgwLCA0KSB8fCBbXSksCgkJCQkJCXF1YW5fdXJsOiBoLAoJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlciwKCQkJCQkJbmV3X2V4dGVuc2lvbjogaS5uZXdfZXh0ZW5zaW9uLAoJCQkJCQlzdHlsZTogaS5zdHlsZQoJCQkJCX0pKSwgZCgpCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkidG9wIiA9PSBpLnN0eWxlID8gcCgiIyIgKyBpLmV4dE5hbWUgKyAiLW1haW4iLCB0LCBlKSA6ICJib3R0b20iID09IGkuc3R5bGUgJiYgcChpLmR2YWwsIHQsIGUpCgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoZSAmJiAwICE9PSBlLnByb21vLmxlbmd0aCkgewoJCQkJCQl2YXIgaSA9IDE7CgkJCQkJCTEgPT09IGUucHJvbW8ubGVuZ3RoICYmIChpID0gMCk7CgkJCQkJCXZhciBvID0gZS5wcm9tb1tpXSwKCQkJCQkJCXIgPSBuKDE4Mik7CgkJCQkJCXQoIi5kZXRhaWxfcmlnaHQiKS5hcHBlbmQoYS5jb21waWxlKHIpKHsKCQkJCQkJCWl0ZW06IG8KCQkJCQkJfSkpLCB0KCIuZGV0YWlsX3JpZ2h0Iikuc2hvdygpCgkJCQkJfQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICc8c3BhbiBpZD0icHJvbW9fcXVhbl9idG4iPjxlbT48L2VtPuS/g+mUgOS8mOaDoOWIuDwvc3Bhbj4nOwoJCQkJCXQoIiMiICsgaS5leHROYW1lICsgIi10cmVuZCIpLmxlbmd0aCA+IDAgPyB0KCIjIiArIGkuZXh0TmFtZSArICItdHJlbmQiKS5hZnRlcih0KGUpKSA6IHQoIiMiICsgaS5leHROYW1lICsgIi1tYWluLWNvbnRlbnRzIikuYXBwZW5kKHQoZSkpCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkge30sCgkJCQlnID0gZnVuY3Rpb24oKSB7CgkJCQkJInRvcCIgPT0gaS5zdHlsZSA/IG0oKSA6ICJib3R0b20iID09IGkuc3R5bGUgJiYgZigpCgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IGkuc2VydmVyICsgIi9leHRlbnNpb24/YWM9cHJvbW90aW9uJnNpdGVfaWQ9IiArIGUuc2l0ZV9pZCArICImY2xhc3NfaWQ9IiArIGUuY2xhc3NfaWQgKyAiJnN0eWxlPSIgKyBpLnN0eWxlOwoJCQkJCXMuZ2V0KG4pLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQllICYmIHQoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCXggPSBmdW5jdGlvbihlLCBpKSB7CgkJCQkJci5pbml0KHsKCQkJCQkJY2xhc3NfaWQ6IGUuY2xhc3NfaWQsCgkJCQkJCWtleXdvcmQ6IGUua2V5d29yZAoJCQkJCX0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5wcm9tby5sZW5ndGggPiAwICYmIChlLnByb21vWzBdLnB1cmV0bGUgPSBlLnByb21vWzBdLnRpdGxlLCBpLnByb21vdGlvbi5wcm9tb3MgPSBlLnByb21vLmNvbmNhdChpLnByb21vdGlvbi5wcm9tb3MpKTsKCQkJCQkJdmFyIG8gPSBuKDE4Myk7CgkJCQkJCXQoIi53cmFwcGVyIC5icmVhZGNydW1iIikuZXEoMCkuYWZ0ZXIoYS5jb21waWxlKG8pKHsKCQkJCQkJCWRhdGE6IGkucHJvbW90aW9uLnByb21vcy5zbGljZSgwLCAzKQoJCQkJCQl9KSkKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLnJlbmRlclNlYXJjaCA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKGkuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IGkuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEgfHwgIjE2ODgiID09IGkuc2l0ZSkgcmV0dXJuIHZvaWQgdCgiIyIgKyBpLmV4dEJyYW5kICsgIi1odWkiKS5oaWRlKCk7CgkJCQl2YXIgZSA9IGwuZ2V0U2l0ZUlkKGkuc2l0ZSk7CgkJCQlpZiAoZSkgewoJCQkJCXZhciBuID0ge307CgkJCQkJbi5zaXRlX2lkID0gZSwgXyhuLCBmdW5jdGlvbihlKSB7CgkJCQkJCWgobnVsbCwgZSkKCQkJCQl9KQoJCQkJfQoJCQl9LCBlLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChpLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCBpLnNpdGUuaW5kZXhPZigidG1hbGwiKSA+IC0xIHx8ICIxNjg4IiA9PSBpLnNpdGUpIHJldHVybiB2b2lkIHQoIiMiICsgaS5leHRCcmFuZCArICItaHVpIikuaGlkZSgpOwoJCQkJZygpOwoJCQkJdmFyIG4gPSBlLm5vdy5jbGFzc19pZCwKCQkJCQlhID0gZS5ub3cuY29yZXdvcmQsCgkJCQkJbyA9IGUubm93LnNpdGVfaWQ7CgkJCQkiMCIgPT09IG8gJiYgKG8gPSBsLmdldFNpdGVJZChpLnNpdGUpKTsKCQkJCXZhciBzID0ge307CgkJCQlzLmtleXdvcmQgPSBhLCBzLnNpdGVfaWQgPSBvLCBzLmNsYXNzX2lkID0gZS5ub3cuY2xhc3NfaWQsIHMuYnJhbmRfaWQgPSBlLmV4YWN0X2Fyci5icmFuZF9pZCwgXyhzLCBmdW5jdGlvbih0KSB7CgkJCQkJaChlLm5vdywgdCksICJ6b2wiID09PSBpLnNpdGUgJiYgeChzLCB0KSwgci5pbml0KHsKCQkJCQkJY2xhc3NfaWQ6IG4sCgkJCQkJCWtleXdvcmQ6IGEKCQkJCQl9LCB1KQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InByb21vX3F1YW5fZGV0YWlsIiBjbGFzcz0icHJvbW9fcXVhbl9ib3giPlxuICA8ZGl2IGNsYXNzPSJkZXRhaWxfbGVmdCI+XG4gICAgPGRpdiBjbGFzcz0icHJvbW9fZGl2Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImRfaGVhZCI+XG4gICAgICAgIDxzcGFuPnt7cHJvbW9fc2l0ZX195L+D6ZSA5rS75YqoPC9zcGFuPlxuICAgICAgICB7e2lmICFuZXdfZXh0ZW5zaW9ufX1cbiAgICAgICAgPGEgaHJlZj0ie3twcm9tb191cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPuafpeeci+WFqOmDqDxlbSBjbGFzcz0ic2VlX2FsbF9pY29uIj48L2VtPjwvYT5cbiAgICAgICAge3svaWZ9fVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSJwcm9tb19ib2R5Ij5cbiAgICAgICAgICB7e2VhY2ggcHJvbW9zfX1cbiAgICAgICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiBjbGFzcz0icHJvbW9faXRlbSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgICAgICAgICA8ZW0gY2xhc3M9ImNpcmNsZSI+PC9lbT5cbiAgICAgICAgICAgICAge3sjJHZhbHVlLnRpdGxlfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICB7ey9lYWNofX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIHt7aWYgIW5ld19leHRlbnNpb259fVxuICAgIDxkaXYgY2xhc3M9InF1YW5fZGl2Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImRfaGVhZCI+XG4gICAgICAgIDxzcGFuPnt7cXVhbl9zaXRlfX3kvJjmg6DliLg8L3NwYW4+XG4gICAgICAgIHt7aWYgIW5ld19leHRlbnNpb259fVxuICAgICAgICA8YSBocmVmPSJ7e3F1YW5fdXJsfX0iIHRhcmdldD0iX2JsYW5rIj7mn6XnnIvlhajpg6g8ZW0gY2xhc3M9InNlZV9hbGxfaWNvbiI+PC9lbT48L2E+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0icXVhbl9ib2R5Ij5cbiAgICAgICAge3tlYWNoIHF1YW5zfX1cbiAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InF1YW5faXRlbSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgICAgICAgICA8ZW0gY2xhc3M9ImNpcmNsZSI+PC9lbT5cbiAgICAgICAgICAgICAge3sjJHZhbHVlLnRpdGxlfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICB7ey9pZiB9fVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iZGV0YWlsX3JpZ2h0Ij48L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjcHJvbW9fcXVhbl9kZXRhaWwge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAzN3B4O1xuICAgICAgbGVmdDogMHB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBoZWlnaHQ6IDI3MnB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYm94LXNoYWRvdzogMXB4IDFweCA1cHggMHB4ICNlNmU5ZWI7XG4gICAgfVxuICAgIHt7aWYgc3R5bGUgPT0gImJvdHRvbSJ9fVxuICAgICNwcm9tb19xdWFuX2RldGFpbCB7XG4gICAgICB0b3A6IGluaGVyaXQ7XG4gICAgICBib3R0b206IDYwcHg7XG4gICAgfVxuICAgIHt7L2lmfX1cbiAgICAjcHJvbW9fcXVhbl9kZXRhaWwgLmRldGFpbF9sZWZ0IHtcbiAgICAgIHdpZHRoOiA2MjFweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICB9XG4gICAgLnByb21vX3F1YW5fYm94IC5wcm9tb19kaXYsIC5wcm9tb19xdWFuX2JveCAucXVhbl9kaXYge1xuICAgICAgaGVpZ2h0OiAxMzVweDtcbiAgICB9XG4gICAgLnByb21vX3F1YW5fYm94IC5kX2hlYWQge1xuICAgICAgaGVpZ2h0OiAzNHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI2cHg7XG4gICAgICBmbG9hdDogbm9uZTtcbiAgICB9XG4gICAgI3Byb21vX3F1YW5fZGV0YWlsIC5kZXRhaWxfbGVmdCAuZF9oZWFkIGEge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM3ZDdmODA7XG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAuZGV0YWlsX2xlZnQgLmRfaGVhZCBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjNUVCRUZGO1xuICAgIH1cbiAgICAucHJvbW9fcXVhbl9ib3ggLnNlZV9hbGxfaWNvbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDI2cHg7XG4gICAgICB3aWR0aDogMTJweDtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9iYXJfc2VlX2FsbC5wbmdcJykgbm8tcmVwZWF0IDRweCA4cHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tbGVmdDogM3B4O1xuICAgIH1cbiAgICAucHJvbW9fcXVhbl9ib3ggLmRfaGVhZCBzcGFue1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAuZF9oZWFkIHNwYW46aG92ZXIge1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAuZF9oZWFkIGEge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgd2lkdGg6IDY0cHg7XG4gICAgICBoZWlnaHQ6IDI2cHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDI0cHg7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAucHJvbW9fZGl2IHtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgI2U2ZTllYjtcbiAgICB9XG4gICAgLnByb21vX3F1YW5fYm94IC5wcm9tb19ib2R5IHtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDk2cHg7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAucHJvbW9fYm9keSAucHJvbW9faXRlbSwgI3Byb21vX3F1YW5fZGV0YWlsIC5xdWFuX2l0ZW0ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICB3aWR0aDogMjgwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyMXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDM2cHg7XG4gICAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI3Byb21vX3F1YW5fZGV0YWlsIC5wcm9tb19ib2R5IC5wcm9tb19pdGVtOmhvdmVyLCAjcHJvbW9fcXVhbl9kZXRhaWwgLnF1YW5faXRlbTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjA3ODYwO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAucHJvbW9faXRlbSBlbSAsIC5wcm9tb19xdWFuX2JveCAucXVhbl9pdGVtIGVte1xuICAgICAgY29sb3I6ICNlNDM5M2M7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIG1hcmdpbjogMCAycHg7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAucHJvbW9fYm9keSAucHJvbW9faXRlbTpob3ZlciBlbSAsICNwcm9tb19xdWFuX2RldGFpbCAucXVhbl9pdGVtOmhvdmVyIGVte1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAucHJvbW9fYm9keSAucHJvbW9faXRlbTpob3ZlciAuY2lyY2xlICwgI3Byb21vX3F1YW5fZGV0YWlsIC5xdWFuX2l0ZW06aG92ZXIgLmNpcmNsZXtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAucHJvbW9fYm9keSAuY2lyY2xlLCAucHJvbW9fcXVhbl9ib3ggLnF1YW5faXRlbSAuY2lyY2xle1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDhweDtcbiAgICAgIHdpZHRoOiA4cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjA3ODYwO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgbWFyZ2luLXRvcDogMTRweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAuZGV0YWlsX3JpZ2h0IHtcbiAgICAgIHdpZHRoOiAyMDZweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnF1YW5fYm9keSB7XG4gICAgICBoZWlnaHQ6IDgwcHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnF1YW5fYm9keTphZnRlciB7XG4gICAgICBjb250ZW50OiAiIjtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICAjcHJvbW9fcXVhbl9kZXRhaWwgZGl2LmRldGFpbF9sZWZ0IHtcbiAgICAgICAgd2lkdGg6IDMyMnB4O1xuICAgICAgfVxuICAgICAgLnByb21vX3F1YW5fYm94IC5wcm9tb19kaXYsIC5wcm9tb19xdWFuX2JveCAucXVhbl9kaXYge1xuICAgICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG4gICAgICAucHJvbW9fcXVhbl9ib3ggLnByb21vX2JvZHkge1xuICAgICAgICBoZWlnaHQ6IDIyMHB4O1xuICAgICAgfVxuICAgIHt7L2lmfX1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InByb21vX2l0ZW1fYWQiPlxuICA8YSBjbGFzcz0iaXRlbV9pZF9pbWciIGhyZWY9Int7aXRlbS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgIDxpbWcgc3JjPSJ7e2l0ZW0uaW1nfX0iPlxuICA8L2E+XG4gIDxhIGhyZWY9Int7aXRlbS51cmx9fSIgY2xhc3M9Iml0ZW1fdGxlIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7aXRlbS50aXRsZX19Ij57e2l0ZW0udGl0bGV9fTwvYT5cbiAgPHNwYW4gY2xhc3M9Iml0ZW1fYnJhbmQiPnt7aXRlbS5icmFuZH19PC9zcGFuPlxuICA8YSBocmVmPSJ7e2l0ZW0uc3RvcmVfdXJsfX0iIGNsYXNzPSJpdGVtX3Nob3BuYW1lIiB0YXJnZXQ9Il9ibGFuayI+e3tpZiBpdGVtLnBsYXRmb3JtfX0ge3tpdGVtLnBsYXRmb3JtICsgIiAifX0ge3svaWZ9fXt7aXRlbS5zdG9yZV9uYW1lfX08L2E+XG4gIDxzcGFuICBjbGFzcz0idHVpZ3VhbmdfbGluayIgPueDreWNljwvc3Bhbj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjcHJvbW9faXRlbV9hZCB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB3aWR0aDogMjA2cHg7XG4gICAgICBoZWlnaHQ6IDI0OHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAjcHJvbW9faXRlbV9hZD5hLCAjcHJvbW9faXRlbV9hZD5zcGFuIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgI3Byb21vX2l0ZW1fYWQgLml0ZW1faWRfaW1nIHtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIG1hcmdpbi10b3A6IDM1cHg7XG4gICAgfVxuICAgICNwcm9tb19pdGVtX2FkIC5pdGVtX2lkX2ltZyBpbWcge1xuICAgICAgd2lkdGg6IDEwMHB4O1xuICAgICAgaGVpZ2h0OiAxMDBweDtcbiAgICB9XG4gICAgZGl2I3Byb21vX2l0ZW1fYWQgYS5pdGVtX3RsZSB7XG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICMxMTE7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBoZWlnaHQ6IDMzcHg7XG4gICAgfVxuICAgICNwcm9tb19pdGVtX2FkIC5pdGVtX2JyYW5kIHtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICB9XG4gICAgI3Byb21vX2l0ZW1fYWQgLml0ZW1fc2hvcG5hbWUge1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgZGl2I3Byb21vX2l0ZW1fYWQgc3Bhbi50dWlndWFuZ19saW5rIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGNvbG9yOiAjYmJiO1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICB0b3A6IDE1cHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JzsKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImJqZF96b2xfcHJvbW8iPlxuICA8c3BhbiBjbGFzcz0iYmpkLXByb21vLWhlYWQiPlxuICAgIDxlbT48L2VtPlxuICAgIDxzcGFuPueDreWNljwvc3Bhbj5cbiAgPC9zcGFuPlxuICA8ZGl2IGNsYXNzPSJiamQtcHJvbW8tYm94Ij5cbiAgICB7e2VhY2ggZGF0YX19XG4gICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS5wdXJldGxlfX0iPnt7IyR2YWx1ZS50aXRsZX19PC9hPlxuICAgIHt7L2VhY2h9fVxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuZmVlZGJhY2sge1xuICAgICAgbWFyZ2luLXRvcDogLTUwcHghaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oOSksCgkJCQlyID0gbigyNiksCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCXQuYWxpU2l0ZSAmJiAoZSA9ICJqYXZhc2NyaXB0OiIpOwoJCQkJCXZhciBuID0gJzxhIGlkPSInICsgdC5leHRCcmFuZCArICdfaGFveW0iIHRhcmdldD0iX2JsYW5rIiBocmVmPSInICsgZSArICciIHRpdGxlPSLngrnlh7vmn6XnnIvlhajpg6jlgLzlvpfkubDllYblk4EiPjxzcGFuIGNsYXNzPSJoYW95bV9pY29uIG5ld2ItYmciPjwvc3Bhbj48c3BhbiBjbGFzcz0iaGFveW1fdGV4dCI+6aKG5Yi4aMSBb+e+iuavmzwvc3Bhbj48L2E+JzsKCQkJCQlpKCIjcmlnaHRfaW5mbyIpLmFwcGVuZChhLmNvbXBpbGUobikoe30pKQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbigpIHsKCQkJCQlpKCIjaGFveW1fZGV0YWlsIC5oeW0taW1nLWJveCBpbWciKS5lYWNoKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaSh0KS5hdHRyKCJzcmMiLCBpKHQpLmF0dHIoImRhdGEtc3JjIikpCgkJCQkJfSkKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKCIjZ3dkX2hhb3ltLCAuY29tLWh5bSIpLAoJCQkJCQluID0gaSgiI2hhb3ltX2RldGFpbCIpLAoJCQkJCQlhID0gIm1vdXNlZW50ZXIiLAoJCQkJCQlvID0gIm1vdXNlbGVhdmUiLAoJCQkJCQlzID0gdm9pZCAwLAoJCQkJCQljID0gdm9pZCAwOwoJCQkJCWUub24oYSwgZnVuY3Rpb24oKSB7CgkJCQkJCXMgfHwgKHMgPSAhMCwgbCgpKTsKCQkJCQkJdmFyIGEgPSBlLm9mZnNldCgpLmxlZnQsCgkJCQkJCQlvID0gaSh3aW5kb3cpLndpZHRoKCk7CgkJCQkJCWUuYWRkQ2xhc3MoIm1zaG92ZXIiKSwgInRvcCIgPT09IHQuc3R5bGUgJiYgbi5jc3MoImxlZnQiLCBhICsgInB4IikuY3NzKCJyaWdodCIsICJhdXRvIiksICJib3R0b20iID09PSB0LnN0eWxlICYmIG4uY3NzKCJsZWZ0IiwgYSAtIDIgKyAicHgiKSwgbi5zaG93KCksIG8gLSAobi5vZmZzZXQoKS5sZWZ0ICsgbi5vdXRlcldpZHRoKCkgKyAyKSA8IDAgJiYgInRvcCIgPT09IHQuc3R5bGUgJiYgbi5jc3MoInJpZ2h0IiwgIjBweCIpLmNzcygibGVmdCIsICJhdXRvIiksIHIoImhhb3ltOnNob3ciKQoJCQkJCX0pLCBlLm9uKG8sIGZ1bmN0aW9uKCkgewoJCQkJCQljID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW4uaGlkZSgpLCBlLnJlbW92ZUNsYXNzKCJtc2hvdmVyIikKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCBuLm9uKGEsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQoYykKCQkJCQl9KSwgbi5vbihvLCBmdW5jdGlvbigpIHsKCQkJCQkJbi5oaWRlKCksIGUucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJCX0pCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoIWUpIHJldHVybiBlOwoJCQkJCWZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgdC5hbGlTaXRlICYmIChlW25dLmNvdXBvblVybCA9IGVbbl0uY291cG9uVXJsLnJlcGxhY2UoInd3dy5nd2RhbmciLCAidGIuZ3dkYW5nIiksIGVbbl0udXJsID0gZVtuXS51cmwucmVwbGFjZSgid3d3Lmd3ZGFuZyIsICJ0Yi5nd2RhbmciKSksIGVbbl0uaW1nVXJsID0gZVtuXS5pbWdVcmwucmVwbGFjZSgvanBnXzkweDkwLywgImpwZ18xMDB4MTAwIik7CgkJCQkJcmV0dXJuIGUKCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBvID0gIiNnd2RhbmctbWFpbiI7CgkJCQkJImJvdHRvbSIgPT09IHQuc3R5bGUgJiYgKG8gPSAiI2JqZF9ib3R0b21fZGV0YWlsIiksIGUuZGF0YSA9IGQoZS5kYXRhKSwgInRvcCIgPT09IHQuc3R5bGUgJiYgcyhlLmxpbmtVcmwpOwoJCQkJCXZhciByID0gbigxODUpLAoJCQkJCQlsID0gYS5jb21waWxlKHIpKHsKCQkJCQkJCWRhdGE6IGUuZGF0YSwKCQkJCQkJCXBhZ2V1cmw6IGUubGlua1VybCwKCQkJCQkJCXNfc2VydmVyOiB0LnNfc2VydmVyLAoJCQkJCQkJYWxpc2l0ZTogdC5hbGlTaXRlCgkJCQkJCX0pOwoJCQkJCWkobykuYXBwZW5kKGwpLCAiYm90dG9tIiA9PT0gdC5zdHlsZSAmJiBpKCIuY29tLWh5bSIpLnNob3coKSwgYygpCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IHQuc2F2ZV9kcF9xdWVyeSwKCQkJCQkJaSA9IHQuc2VydmVyICsgIi9leHRlbnNpb24vZ2V0Q291cG9uVGFvP2tleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLm5vdy5jb3Jld29yZCkgKyAiJmNsYXNzX2lkPSIgKyBuLm5vdy5jbGFzc19pZCArICImYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLmV4YWN0X2Fyci5zYnJhbmQpICsgIiZzaWdlX2lkPSIgKyBuLm5vdy5zaXRlX2lkOwoJCQkJCW8uZ2V0KGkpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQl0ICYmIHQuZGF0YSAmJiB0LmRhdGEubGVuZ3RoID4gMCAmJiBlKHQpCgkJCQkJfSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl0LmFsaVNpdGUgfHwgaChwKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iaGFveW1fZGV0YWlsIiBjbGFzcz0iaGFveW1fZGV0YWlsIiBzdHlsZT0ie3tzdHlsZX19Ij5cbiAgPHVsPlxuICAgIHt7ZWFjaCBkYXRhfX1cbiAgICA8bGk+XG4gICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJoeW0taW1nLWJveCI+XG4gICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIgZGF0YS1zcmM9Int7JHZhbHVlLmltZ1VybH19Ij5cbiAgICAgIDwvYT5cbiAgICAgIDxkaXYgY2xhc3M9InByaS1pbmZvIj5cbiAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLnNpY29ufX0iPlxuICAgICAgICA8c3BhbiBjbGFzcz0iaHltLXNwMSI+6aKG5Yi45ZCOPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0iaHltLXNwMiI+PGVtPu+/pTwvZW0+e3skdmFsdWUuY3VycmVudFByaWNlfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJoeW0tc3AzIj7vv6V7eyR2YWx1ZS5vcmlnaW5QcmljZX19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8YSBocmVmPSJ7eyR2YWx1ZS5jb3Vwb25Vcmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJjb3Vwb25idG4gbmV3Yi1iZyI+XG4gICAgICAgIHt7JHZhbHVlLmNvdXBvbkluZm99fVxuICAgICAgPC9hPlxuICAgICAgPHA+XG4gICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Imh5bS10bGUiPlxuICAgICAgICAgIHt7JHZhbHVlLnRpdGxlfX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPlxuICAgIDwvbGk+XG4gICAge3svZWFjaH19XG4gIDwvdWw+XG4gIHt7aWYgIWFsaXNpdGV9fVxuICA8YSBocmVmPSJ7e3BhZ2V1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJoeW1fbW9yZWxpbmsiPuafpeeci+WFqOmDqD4+PC9hPlxuICB7ey9pZn19XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgLmhhb3ltX2RldGFpbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAjZ3dkX2hhb3ltIC5oYW95bV9pY29uIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDVweCAtMTlweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICB9XG4gICAgI2d3ZF9oYW95bS5tc2hvdmVyIHtcbiAgICAgIGNvbG9yOiAjNWViZWZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGhlaWdodDogMzhweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHotaW5kZXg6IDk5O1xuICAgIH1cbiAgICBcbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoKCQkJZnVuY3Rpb24gYShlKSB7CgkJCQl2YXIgYSA9ICJodHRwczovL3d3dy5nd2RhbmcuY29tL3Byb21vdGlvbi9wcmljZT9rZXl3b3JkPSIgKyBiLmtleXdvcmQgKyAiJmV4dD0xJmNsYXNzX2lkPSIgKyBiLmNsYXNzX2lkLAoJCQkJCW8gPSBuKDE5Mik7CgkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbiIpLmFwcGVuZChfLmNvbXBpbGUobykoewoJCQkJCXJlbW86ICLmm7TlpJrlpITkuo7ljoblj7LmnIDkvY7ku7fnmoTlkIznsbvllYblk4EiLAoJCQkJCWRhdGE6IGUuc2xpY2UoMCwgMyksCgkJCQkJZXh0TmFtZTogaS5leHROYW1lLAoJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kLAoJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCWxvd1VybDogYQoJCQkJfSkpLCBuKDEyOCkucmVuZGVyTG93ZXN0QWQoZi5jbGFzc19pZCwgZi5jb3Jld29yZCksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpIikuc2hvdygpCgkJCX0KCgkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJdmFyIGEgPSAiaHR0cHM6Ly93d3cuZ3dkYW5nLmNvbS9wcm9tb3Rpb24vcHJpY2U/a2V5d29yZD0iICsgYi5rZXl3b3JkICsgIiZleHQ9MSZjbGFzc19pZD0iICsgYi5jbGFzc19pZCwKCQkJCQlvID0gbigxOTIpOwoJCQkJdCgiI2JqZF9ib3R0b21fZGV0YWlsIikuYXBwZW5kKF8uY29tcGlsZShvKSh7CgkJCQkJcmVtbzogIuabtOWkmuWkhOS6juWOhuWPsuacgOS9juS7t+eahOWQjOexu+WVhuWTgSIsCgkJCQkJZGF0YTogZS5zbGljZSgwLCAzKSwKCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJZXh0QnJhbmQ6IGkuZXh0QnJhbmQsCgkJCQkJc19zZXJ2ZXI6IGkuc19zZXJ2ZXIsCgkJCQkJbG93VXJsOiBhCgkJCQl9KSksIHQoIi5jb20tbG93cHJpIikuc2hvdygpCgkJCX0KCgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJZS5oaWdoZXN0X3ByaWNlID0gZS5sYXN0X3ByaWNlLCBlLmxhc3RfcHJpY2UgPSBlLmxhc3RfcHJpY2UudG9TdHJpbmcoKS5zcGxpdCgiLiIpWzBdCgkJCX0KCgkJCWZ1bmN0aW9uIHMoZSkgewoJCQkJdmFyIHQgPSBuKDE4KTsKCQkJCWUubGVuZ3RoID4gMzAgJiYgKGUgPSBlLnNsaWNlKDAsIDMwKSk7CgkJCQlmb3IgKHZhciBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIHsKCQkJCQlyKGVbYV0pOwoJCQkJCXZhciBvID0gewoJCQkJCQlzaXRlX2lkOiBlW2FdLnNpdGVfaWQsCgkJCQkJCXVybDogZVthXS51cmwsCgkJCQkJCW1vZDogInp1aWRpamlhIiwKCQkJCQkJdW5pb246IGkudW5pb24uc3BsaXQoIl8iKVsxXSwKCQkJCQkJZHBfaWQ6IGVbYV0udXJsX2NyYyArICItIiArIGVbYV0uc2l0ZV9pZAoJCQkJCX07CgkJCQkJZVthXS51cmwgPSB0LmluaXQobykKCQkJCX0KCQkJCXJldHVybiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGwoKSB7CgkJCQlpLmZpeFdpZHRoKCksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQl0KHRoaXMpLmFkZENsYXNzKGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9ob3ZlciIpLCB3KCJwcm9kdWN0X3BhZ2VfbG93ZXN0X3Nob3ciKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfZGV0YWlsIikuY3NzKCJsZWZ0IiwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5vZmZzZXQoKS5sZWZ0ICsgInB4IikuY3NzKCJyaWdodCIsICJhdXRvIiksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCAuYWxsLXByb2R1Y3RzIikuY3NzKCJ3aWR0aCIsIHkgLSA4MCksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLnNob3coKSwgdCh3aW5kb3cpLndpZHRoKCkgLSAodCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfZGV0YWlsIikub2Zmc2V0KCkubGVmdCArIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm91dGVyV2lkdGgoKSArIDIpIDwgMCAmJiB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwiKS5jc3MoInJpZ2h0IiwgIjBweCIpLmNzcygibGVmdCIsICJhdXRvIiksIChpLklFNyB8fCBpLklFOCkgJiYgdCh3aW5kb3cpLndpZHRoKCkgPCAxNTAwICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLmNzcygicmlnaHQiLCAiMHB4IikuY3NzKCJsZWZ0IiwgImF1dG8iKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQoZSkucmVtb3ZlQ2xhc3MoaS5leHRCcmFuZCArICJfbG93cHJpX2hvdmVyIiksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLmhpZGUoKQoJCQkJCX0sIDIwMCkKCQkJCX0pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChnKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5yZW1vdmVDbGFzcyhpLmV4dEJyYW5kICsgIl9sb3dwcmlfaG92ZXIiKSwgdCh0aGlzKS5oaWRlKCkKCQkJCX0pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl3KCJwcm9kdWN0X3BhZ2VfbG93ZXN0X2NsaWNrIikKCQkJCX0pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwgLmxlZnQtcGFnZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWkuY2hhbmdlX3BhZ2UoImxvd3ByaSIsIC0xKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCAucmlnaHQtcGFnZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWkuY2hhbmdlX3BhZ2UoImxvd3ByaSIsIDEpCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBjKCkgewoJCQkJdCgiLmNvbS1sb3dwcmkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChnKSwgdygicHJvZHVjdF9wYWdlX2xvd2VzdF9zaG93IiksIHQodGhpcykuYWRkQ2xhc3MoIm1zaG92ZXIiKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfZGV0YWlsIikuc2hvdygpCgkJCQl9KSwgdCgiLmNvbS1sb3dwcmkiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChnKTsKCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLmhpZGUoKSwgdChlKS5yZW1vdmVDbGFzcygibXNob3ZlciIpCgkJCQkJfSwgMjAwKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJY2xlYXJUaW1lb3V0KGcpLCB0KHRoaXMpLnNob3coKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJdCh0aGlzKS5oaWRlKCksIHQoIi5jb20tbG93cHJpIikucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXcoInByb2R1Y3RfcGFnZV9sb3dlc3RfY2xpY2siKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gZChlKSB7CgkJCQlmb3IgKHZhciB0ID0gcyhlLmRhdGEpLCBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHRbbl0uZGlzY291bnQgPSAoMTAgKiB0W25dLmRpc2NvdW50KS50b0ZpeGVkKDEpOwoJCQkJInRvcCIgPT0gaS5zdHlsZSAmJiAoYSh0KSwgbCgpKSwgImJvdHRvbSIgPT0gaS5zdHlsZSAmJiAobyh0KSwgYygpKSwgImx1eW91IiA9PT0gaS5idHlwZSAmJiAiaG5keCIgIT09IGkuZnJvbV9kZXZpY2UgJiYgdi5pbml0KGYsIGUpCgkJCX0KCgkJCWZ1bmN0aW9uIHAoKSB7CgkJCQl2YXIgZSA9ICc8YSBpZD0iJyArIGkuZXh0QnJhbmQgKyAnX2xvd3ByaSIgPjxzcGFuIGNsYXNzPSJsb3dwcmlfaWNvbiBuZXdiLWJnIj48L3NwYW4+PHNwYW4gY2xhc3M9Imxvd3ByaV90ZXh0Ij7mm7TlpJrlkIznsbvkvY7ku7c8L3NwYW4+PC9hPic7CgkJCQl0KCIjcmlnaHRfaW5mbyIpLmFwcGVuZChfLmNvbXBpbGUoZSkoe30pKQoJCQl9CgoJCQlmdW5jdGlvbiBoKCkgewoJCQkJInRvcCIgPT0gaS5zdHlsZSAmJiBwKCkKCQkJfQoKCQkJZnVuY3Rpb24gdShlLCBhLCBvKSB7CgkJCQl2YXIgciA9IGkuZHAucHJpY2UgfHwgMCwKCQkJCQlzID0gbig3MSk7CgkJCQkhciAmJiBzLmdldCgiZHBfZGF0YSIpICYmIHMuZ2V0KCJkcF9kYXRhIikubm93ICYmIChyID0gcy5nZXQoImRwX2RhdGEiKS5ub3cucHJpY2UpLCByIHx8IChyID0gMCksICJzdW5pbmciID09IGkuc2l0ZSAmJiB0KCIubWFpbnByaWNlIikuZXEoMCkudGV4dCgpLmluZGV4T2YoIj8iKSA+IC0xICYmIChyID0gMCksIGIua2V5d29yZCA9IGVuY29kZVVSSUNvbXBvbmVudChzLmdldCgiZHBfZGF0YSIpLm5vdy5jb3Jld29yZCB8fCAiIiksIGIuY2xhc3NfaWQgPSBlOwoJCQkJdmFyIGwgPSBpLnNlcnZlciArICIvZXh0ZW5zaW9uP2FjPXByaWNlX2IyY19sb3dlc3QmY2xhc3NfaWQ9ICIgKyBlICsgIiZzaXRlX2lkPSIgKyBhICsgIiZwcmljZT0iICsgciArICIma2V5d29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuZ2V0KCJkcF9kYXRhIikubm93LmNvcmV3b3JkIHx8ICIiKTsKCQkJCXguZ2V0KGwpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCWUgJiYgMCAhPSBlLmRhdGEubGVuZ3RoID8gbyhlKSA6ICh0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLnJlbW92ZSgpLCAibHV5b3UiID09PSBpLmJ0eXBlICYmICJobmR4IiAhPT0gaS5mcm9tX2RldmljZSAmJiB2LmluaXQoZiwgZSkpCgkJCQl9KS5mYWlsKGZ1bmN0aW9uKGUpIHsKCQkJCQl0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLnJlbW92ZSgpLCAibHV5b3UiID09PSBpLmJ0eXBlICYmICJobmR4IiAhPT0gaS5mcm9tX2RldmljZSAmJiB2LmluaXQoZiwgbnVsbCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIG0oZSkgewoJCQkJdmFyIHQgPSAwOwoJCQkJcmV0dXJuICIwIiAhPSBlLnNpdGVfaWQgPyB0ID0gZS5zaXRlX2lkIDogIjAiICE9IGUubm93X2RwX2lkICYmICIiICE9IGUubm93X2RwX2lkICYmICh0ID0gZS5ub3dfZHBfaWQuc3BsaXQoIi0iKVsxXSksIHQKCQkJfQoJCQl2YXIgZiwgZywgXyA9IG4oMTYpLAoJCQkJeCA9IG4oOSksCgkJCQl3ID0gbigyNiksCgkJCQl2ID0gbigxODcpLAoJCQkJYiA9IHt9LAoJCQkJeSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwoJCQllLmV4cG9ydHMuZ2V0UGFnZUluZm8gPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgdCA9IHt9LAoJCQkJCW4gPSBpLmdldEZpeGVkU2hvd1Byb2R1Y3ROdW0oKSwKCQkJCQlhID0gZS5sZW5ndGg7CgkJCQlyZXR1cm4gYSA+PSBuID8gKHQucGFnZXMgPSAhMCwgdC5wYWdld2lkdGggPSB5IC0gMikgOiAodC5wYWdlcyA9ICExLCB0LnBhZ2V3aWR0aCA9IDIwMCAqIGEgKyAyKSwgdC5kcG51bSA9IGEsIHQucGFnZW51bSA9IGEgJSBuID09IDAgPyBwYXJzZUludChhIC8gbikgOiBwYXJzZUludChhIC8gbiArIDEpLCB0LnBlclBhZ2VTaXplID0gbiwgdAoJCQl9LCBlLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChmID0gZSwgIWkuYWxpU2l0ZSAmJiAidmlwc2hvcCIgIT0gaS5zaXRlKSB7CgkJCQkJdmFyIHQgPSBtKGUpOwoJCQkJCXJldHVybiAwID09IHQgPyB2b2lkKCJsdXlvdSIgPT09IGkuYnR5cGUgJiYgImhuZHgiICE9PSBpLmZyb21fZGV2aWNlICYmIHYuaW5pdChmLCBudWxsKSkgOiB2b2lkKGkuSUU2IHx8IChoKCksIHUoZS5jbGFzc19pZCwgdCwgZCkpKQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxODgpLAoJCQkJbyA9IG4oMTkpLAoJCQkJciA9IG4oMTQpLAoJCQkJcyA9IG4oMTMpLAoJCQkJbCA9IG4oMTg5KSwKCQkJCWMgPSBuKDE2KSwKCQkJCWQgPSBuKDE3KSwKCQkJCXAgPSBuKDkpLAoJCQkJaCA9IHt9LAoJCQkJdSA9IHt9LAoJCQkJbSA9IHsKCQkJCQkiMzYwYnV5IjogewoJCQkJCQkiI2ZpdHRpbmctc3VpdCI6IFsiI2ZpdHRpbmctc3VpdCIsICJiZWZvcmUiXSwKCQkJCQkJIiNmaXR0aW5ncyI6IFsiI2ZpdHRpbmdzIiwgImJlZm9yZSJdLAoJCQkJCQkiI3Nob3BSZWNTdWl0IjogWyIjc2hvcFJlY1N1aXQiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCSIzNjBidXktcmUiOiB7CgkJCQkJCSIjc2ltaWxhcl9nb29kcyI6IFsiI3NpbWlsYXJfZ29vZHMiLCAicHJlcGVuZCJdCgkJCQkJfSwKCQkJCQlhbWF6b246IHsKCQkJCQkJIiNidXl4Z2V0eV9mZWF0dXJlX2RpdiI6IFsiI2J1eXhnZXR5X2ZlYXR1cmVfZGl2IiwgImJlZm9yZSJdLAoJCQkJCQkiI3JoZi1jb250YWluZXIgLnJoZi1ib3JkZXIiOiBbIiNyaGYtY29udGFpbmVyIC5yaGYtYm9yZGVyIiwgImJlZm9yZSJdLAoJCQkJCQkiI2ZhbGxiYWNrc2Vzc2lvbi1zaW1zLWZlYXR1cmUiOiBbIiNmYWxsYmFja3Nlc3Npb24tc2ltcy1mZWF0dXJlIiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQkiNTFidXkiOiB7CgkJCQkJCSIuZ3JpZF9jMSAueHRpZWluIjogWyIuZ3JpZF9jMSAueHRpZWluIiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQlzdW5pbmc6IHsKCQkJCQkJIiNhY2Nlc3NvcnlJbmZvIjogWyIjYWNjZXNzb3J5SW5mbyIsICJwcmVwZW5kIl0sCgkJCQkJCSIjbGlzdFByb0NvbnRlbnQiOiBbIiNsaXN0UHJvQ29udGVudCIsICJwcmVwZW5kIl0sCgkJCQkJCSIud3JhcHBlciAucHJvY29uLXNpZGUiOiBbIi53cmFwcGVyIC5wcm9jb24tc2lkZSIsICJiZWZvcmUiXQoJCQkJCX0sCgkJCQkJZGFuZ2Rhbmc6IHsKCQkJCQkJIiNtYWluX2JkIC5zaG93IjogWyIjbWFpbl9iZCAuc2hvdyIsICJhZnRlciJdLAoJCQkJCQkiI21haW5fYmQgLnByb2R1Y3RfbWFpbiI6IFsiI21haW5fYmQgLnByb2R1Y3RfbWFpbiIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlnb21lOiB7CgkJCQkJCSIjZ20tb3RoZXItaW5mbyI6IFsiI2dtLW90aGVyLWluZm8iLCAicHJlcGVuZCJdCgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IHsKCQkJCQkJIi5mbV9kZXRhaWxfb25lIjogWyIuZm1fZGV0YWlsX29uZSIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlqdW1laTogewoJCQkJCQkiLmxheW91dF8xMDkwIC5kZWFsX2NvbnRlbnQiOiBbIi5sYXlvdXRfMTA5MCAuZGVhbF9jb250ZW50IiwgImFmdGVyIl0sCgkJCQkJCSIubWFsbF9kZXRhaWxfd3JhcCI6IFsiLm1hbGxfZGV0YWlsX3dyYXAiLCAiYXBwZW5kIl0KCQkJCQl9LAoJCQkJCXZtYWxsOiB7CgkJCQkJCSIjZ3JvdXAtYXJlYSsuaHItMjArLmxheW91dCI6IFsiI2dyb3VwLWFyZWErLmhyLTIwKy5sYXlvdXQiLCAicHJlcGVuZCJdCgkJCQkJfSwKCQkJCQlmZWluaXU6IHsKCQkJCQkJIiN0cmFja2VyX2l0ZW0gLnByb2R1Y3QtYWJvdXQiOiBbIiN0cmFja2VyX2l0ZW0gLnByb2R1Y3QtYWJvdXQiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCXlvdWdvdTogewoJCQkJCQkiI2dvb2RzQ29udGFpbmVyK3AiOiBbIiNnb29kc0NvbnRhaW5lcitwIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCWthb2xhOiB7CgkJCQkJCSIuUEluZm9XcmFwIjogWyIuUEluZm9XcmFwIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCXZpcHNob3A6IHsKCQkJCQkJIiNKLUZXLWRldGFpbCAuTS1kZXRhaWwiOiBbIiNKLUZXLWRldGFpbCAuTS1kZXRhaWwiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCXdvbWFpOiB7CgkJCQkJCSIuZGV0YWlsX21haW4iOiBbIi5kZXRhaWxfbWFpbiIsICJwcmVwZW5kIl0sCgkJCQkJCSIuZGV0YWlsZWQiOiBbIi5kZXRhaWxlZCIsICJiZWZvcmUiXQoJCQkJCX0sCgkJCQkJaml1eGlhbjogewoJCQkJCQkiLmRldGFpbC1ib3gyIjogWyIuZGV0YWlsLWJveDIiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCXNlY29vOiB7CgkJCQkJCSIjc2hvd0FkZHMiOiBbIiNzaG93QWRkcyIsICJiZWZvcmUiXQoJCQkJCX0sCgkJCQkJd2JpYW86IHsKCQkJCQkJIiNoaXN0b3J5X2J1eSI6IFsiI2hpc3RvcnlfYnV5IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQlzZmJlc3Q6IHsKCQkJCQkJIi5tYWluLWJveCI6IFsiLm1haW4tYm94IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQltaXlhYmFvYmVpOiB7CgkJCQkJCSIucG9wcHJvIC5iZmRfZGl2IjogWyIucG9wcHJvIC5iZmRfZGl2IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQlmZW5ncXU6IHsKCQkJCQkJIiNyZWNvbW1lbmQiOiBbIiNyZWNvbW1lbmQiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCWVoYWllcjogewoJCQkJCQkiLnByb2R1Y3QtZGV0YWlscy1ib3giOiBbIi5wcm9kdWN0LWRldGFpbHMtYm94IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQl6b2w6IHsKCQkJCQkJIiNKX1JlY29tbWVuZGVkRGlzdHJpYnV0b3IiOiBbIiNKX1JlY29tbWVuZGVkRGlzdHJpYnV0b3IiLCAiYmVmb3JlIl0sCgkJCQkJCSIucHJvZHVjdC1kZXRhaWwtYm94IjogWyIucHJvZHVjdC1kZXRhaWwtYm94IiwgImFmdGVyIl0KCQkJCQl9CgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbVt0LnNpdGVdOwoJCQkJCWZvciAodmFyIG4gaW4gZSkKCQkJCQkJaWYgKGkobikubGVuZ3RoID4gMCkgewoJCQkJCQkJaWYgKCJwcmVwZW5kIiA9PSBlW25dWzFdICYmICJub25lIiA9PSBpKG4pLmNzcygiZGlzcGxheSIpKSBjb250aW51ZTsKCQkJCQkJCXJldHVybiBlW25dCgkJCQkJCX0KCQkJCQlyZXR1cm4gITEKCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXN3aXRjaCAobikgewoJCQkJCQljYXNlICJiZWZvcmUiOgoJCQkJCQkJaSh0KS5iZWZvcmUoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiYXBwZW5kIjoKCQkJCQkJCWkodCkuYXBwZW5kKGUpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImFmdGVyIjoKCQkJCQkJCWkodCkuYWZ0ZXIoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAicHJlcGVuZCI6CgkJCQkJCQlpKHQpLnByZXBlbmQoZSkKCQkJCQl9CgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IGkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIGUudHlwZSArICIgLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9jb250ZW50Iikud2lkdGgoKSwKCQkJCQkJYSA9IGkoIi5pbm5lcl9wYWdlX2xlZnQiKS53aWR0aCgpLAoJCQkJCQlvID0gbiAtIDIgKiBhIC0gNDsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyXyIgKyBlLnR5cGUgKyAiIC5pbm5lcl9wcm9fbGlzdCIpLndpZHRoKG8pLCB4KG8sIGUpCgkJCQl9LAoJCQkJeCA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQllID0gZSB8fCAwOwoJCQkJCXZhciBhID0gbi5kYXRhLmxlbmd0aCB8fCAwLAoJCQkJCQlvID0gcGFyc2VJbnQoZSAvIDE5MiksCgkJCQkJCXIgPSBhICUgbyA9PSAwID8gYSAvIG8gOiBwYXJzZUludChhIC8gbykgKyAxOwoJCQkJCW4udG90YWwgPSByLCBuLnBlciA9IG8sIG4uY29udyA9IGUsIGkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIG4udHlwZSArICIgLnRvdGFsX3BhZ2UiKS50ZXh0KHIpLCAxID09IHIgJiYgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgbi50eXBlICsgIiAuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2NvbnRlbnQgLnR1cm5wYWdlIikuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpCgkJCQl9LAoJCQkJdyA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQl2YXIgaSA9IGYoKTsKCQkJCQlpZiAoaSAhPT0gITEgJiYgMCAhPSBuLmxlbmd0aCkgewoJCQkJCQl1LmRhdGEgPSBuLCB1LnR5cGUgPSBlOwoJCQkJCQl2YXIgbyA9IGMuY29tcGlsZShhKSh7CgkJCQkJCQlkYXRhOiBuLAoJCQkJCQkJdHlwZTogZSwKCQkJCQkJCW51bTogbi5sZW5ndGgsCgkJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlciwKCQkJCQkJCW5ld19leHRlbnNpb246IHQubmV3X2V4dGVuc2lvbiwKCQkJCQkJCWV4dE5hbWU6IHQuZXh0TmFtZSwKCQkJCQkJCXNldHRpbmc6IHQuc2VydmVyICsgIi9icndleHQvc2V0dGluZ19mZWVkYmFjaz9zZXQ9MSIsCgkJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZAoJCQkJCQl9KTsKCQkJCQkJZyhvLCBpWzBdLCBpWzFdKSwgcy5sb2coIuW1jOWFpemhtemdouWQjOexu+WOhuWPsuacgOS9juS7t+WxleeOsCIpLCBfKHUpLCBqKDEsIHUpLCBiKHUpCgkJCQkJfQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIG8gPSBmKCk7CgkJCQkJaWYgKG8gIT09ICExICYmIDAgIT0gbi5sZW5ndGgpIHsKCQkJCQkJaC5kYXRhID0gbiwgaC50eXBlID0gZTsKCQkJCQkJdmFyIHIgPSBjLmNvbXBpbGUoYSkoewoJCQkJCQkJZGF0YTogbiwKCQkJCQkJCXR5cGU6IGUsCgkJCQkJCQludW06IG4ubGVuZ3RoLAoJCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCQluZXdfZXh0ZW5zaW9uOiB0Lm5ld19leHRlbnNpb24sCgkJCQkJCQlleHROYW1lOiB0LmV4dE5hbWUsCgkJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZAoJCQkJCQl9KTsKCQkJCQkJaSgiLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9sb3dwcmljZSIpLmxlbmd0aCA+IDAgPyBpKCIuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvd3ByaWNlIikuYmVmb3JlKHIpIDogZyhyLCBvWzBdLCBvWzFdKSwgXyhoKSwgaigxLCBoKSwgcy5sb2coIuW1jOWFpemhtemdoueMnOS9oOWWnOasouWxleeOsCIpLCBiKGgpCgkJCQkJfQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbihlKSB7CgkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgZS50eXBlICsgIiAuaW5uZXJfcGFnZV9sZWZ0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCVMoLTEsIGUpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIGUudHlwZSArICIgLmlubmVyX3BhZ2VfcmlnaHQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJUygxLCBlKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvdyBsaSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzLmxvZygi5bWM5YWl6aG16Z2i5ZCM57G75Y6G5Y+y5pyA5L2O5Lu354K55Ye7IikKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9mYXZvciBsaSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzLmxvZygi5bWM5YWl6aG16Z2i54yc5L2g5Zac5qyi54K55Ye7IikKCQkJCQl9KQoJCQkJfSwKCQkJCXkgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBlW3RdLm5ld2Rpc2NvdW50ID0gZVt0XS5kaXNjb3VudCwgZVt0XS5oaWdoZXN0ID0gZVt0XS5oaWdoZXN0X3ByaWNlOwoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJayA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gZS5sZW5ndGggfHwgMCwgbiA9IDA7IHQgPiBuOyBuKyspIHsKCQkJCQkJdmFyIGkgPSAoTnVtYmVyKGVbbl0ucHJpY2UpIC8gMTAwKS50b1N0cmluZygpOyAtIDEgPT0gaS5pbmRleE9mKCIuIikgPyBlW25dLnByaWNlID0gaSArICIuMDAiIDogaS5tYXRjaCgvXC5bMC05XXsyfS8pID8gZVtuXS5wcmljZSA9IGkgOiBlW25dLnByaWNlID0gaSArICIwIgoJCQkJCX0KCQkJCQlyZXR1cm4gZQoJCQkJfSwKCQkJCXogPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUucGVyICYmIDAgIT0gZS5wZXIpIHsKCQkJCQkJdmFyIG4gPSBlLmNvbncgLSAxOTIgKiBlLnBlciwKCQkJCQkJCWEgPSBwYXJzZUludChuIC8gNCk7CgkJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIGUudHlwZSArICcgLmlubmVyX3Byb19saXN0IGxpOm5vdCgiLmxpX2ZpcnN0IiknKS5jc3MoIm1hcmdpbi1sZWZ0IiwgYSArIDEyICsgInB4IikKCQkJCQl9CgkJCQl9LAoJCQkJQiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gMDsgZSA+IHQ7IHQrKykgewoJCQkJCQl2YXIgbiA9IGkoIiNnd2RfaW5uZXJfZmF2b3IgLml0ZW1faW1nIGltZyIpLmVxKHQpOwoJCQkJCQlsLmNoZWNraW1nKG4uYXR0cigic3JjIiksIG4sIDE3MCkKCQkJCQl9CgkJCQl9LAoJCQkJaiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHQuZGF0YS5zbGljZSgoZSAtIDEpICogdC5wZXIsIGUgKiB0LnBlcik7CgkJCQkJQyhuLCB0KQoJCQkJfSwKCQkJCUMgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBjLmNvbXBpbGUobykoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlcgoJCQkJCX0pOwoJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIG4udHlwZSArICIgLmlubmVyX3Byb19saXN0IC4iICsgdC5leHRCcmFuZCArICJfIiArIG4udHlwZSArICJfbGlzdCIpLmVtcHR5KCkuYXBwZW5kKGEpLCBCKGUubGVuZ3RoKSwgeihuKQoJCQkJfSwKCQkJCVMgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBOdW1iZXIoaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgbi50eXBlICsgIiAuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX3BhZ2UgLmN1cl9wYWdlIikudGV4dCgpKTsKCQkJCQkxID09PSBlID8gKGEgPT0gbi50b3RhbCAmJiAoYSA9IDApLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyXyIgKyBuLnR5cGUgKyAiIC4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfcGFnZSAuY3VyX3BhZ2UiKS50ZXh0KCsrYSksIGooYSwgbikpIDogKDEgPT0gYSAmJiAoYSA9IG4udG90YWwgKyAxKSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgbi50eXBlICsgIiAuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX3BhZ2UgLmN1cl9wYWdlIikudGV4dCgtLWEpLCBqKGEsIG4pKQoJCQkJfSwKCQkJCU4gPSBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJdmFyIGEgPSBlLnNpdGVfaWQsCgkJCQkJCW8gPSBlLm5vd19kcF9pZCwKCQkJCQkJciA9IHQuc2VydmVyICsgIi9icndleHQvZ3Vlc3NfZmF2b3I/ZHBfaWQ9IiArIG8gKyAiJmRwX2lkcz0mc2l0ZV9pZD0iICsgYSArICImY29sdW1uPWFsc292aWV3IjsKCQkJCQlwLmdldChyKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaSgiZmF2b3IiLCBuLmNvbmNhdChrKGUpKSkKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkic3hkeCIgIT09IHQuZnJvbV9kZXZpY2UgJiYgKDAgIT0gZC5nZXQoInNob3dfZ3Vlc3NmYXZvciIpICYmIHIuZ2V0RHBMb3dlc3QoZnVuY3Rpb24odCkgewoJCQkJCU4oZSwgdCwgdikKCQkJCX0pLCAwICE9IGQuZ2V0KCJzaG93X2xvd3ByaSIpICYmIG4gJiYgdygibG93IiwgeShuLmRhdGEpKSkKCQkJfSwgZS5leHBvcnRzLmJkZXh0ID0gZnVuY3Rpb24oZSwgaSkgewoJCQkJMCAhPSB0LnNob3dfaW5uZXJfbG93ICYmIChhID0gbigxOTApLCBvID0gbigxOTEpLCB3KCJsb3ciLCB5KGkpKSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9pbm5lcl97e3R5cGV9fSIgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSI+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIj5cbiAgICA8YSBjbGFzcz0ic2l0ZV9pY29uIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX0gaHJlZj0iaHR0cDovL3d3dy57e2V4dE5hbWV9fS5jb20iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIiB7ey9pZn19PjwvYT5cbiAgICA8c3BhbiBjbGFzcz0iYmlnX3RpdGxlIj5cbiAgICAgIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICAgICAg5Y6G5Y+y5pyA5L2O5Lu3XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICDnjJzkvaDllpzmrKJcbiAgICAgIHt7L2lmfX1cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9InNtYWxsX3RpdGxlIj5cbiAgICAgIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICAgICAg6L+Z5Lqb5ZCM57G75ZWG5ZOB5aSE5LqO5Y6G5Y+y5pyA5L2O5Lu3XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICDnnIvov4fmnKzllYblk4HnmoTov5jnnIvkuoZcbiAgICAgIHt7L2lmfX1cbiAgICA8L3NwYW4+XG5cbiAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX3BhZ2UiPlxuICAgICAgPHNwYW4gY2xhc3M9ImN1cl9wYWdlIj4xPC9zcGFuPlxuICAgICAgPHNwYW4+Lzwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ0b3RhbF9wYWdlIj4xPC9zcGFuPlxuICAgIDwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9jb250ZW50Ij5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9sZWZ0IHR1cm5wYWdlIj48ZW0+PC9lbT48L2E+XG4gICAgPGRpdiBjbGFzcz0iaW5uZXJfcHJvX2xpc3QiID5cbiAgICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19X3t7dHlwZX19X2xpc3QiPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9yaWdodCB0dXJucGFnZSI+PGVtPjwvZW0+PC9hPlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAzMThweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9qaXV4aWFuIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UsIC57e2V4dEJyYW5kfX1fa2FvbGEgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZXtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1fd2JpYW8gLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2NvbnRlbnQge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfaGVhZCB7XG4gICAgICBoZWlnaHQ6IDUycHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5iaWdfdGl0bGUge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luLXRvcDogMjFweDtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDUxcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgLnNtYWxsX3RpdGxlIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgIH1cbiAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgdG9wOiAyMHB4O1xuICAgIH1cbiAgICAgYS57e2V4dEJyYW5kfX1faW5uZXJfcGFnZTpob3ZlciB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfaGVhZCAuc2l0ZV9pY29uIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMThweDtcbiAgICAgIGxlZnQ6IDE4cHg7XG4gICAgICBoZWlnaHQ6IDIxcHg7XG4gICAgICB3aWR0aDogMjRweDtcbiAgICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy97e2V4dEJyYW5kfX1fc2l0ZV9pY29uMl8xLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxMWxvZ28ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICAgIHt7L2lmfX1cbiAgICAgIFxuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlICp7XG4gICAgICBmb250LWZhbWlseTogXCdNaWNyb3NvZnQgWWFoZWlcJztcbiAgICB9XG4gICAgYS5pbm5lcl9wYWdlX2xlZnQsLmlubmVyX3BhZ2VfcmlnaHQge1xuICAgICAgd2lkdGg6IDYycHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDE3MHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICBhLmlubmVyX3BhZ2VfbGVmdCBlbSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIG1hcmdpbi10b3A6IDgwcHg7XG4gICAgICBtYXJnaW4tbGVmdDogMjhweDtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy8xMjE1YmFja19ub3JtYWwuanBnXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgYS5pbm5lcl9wYWdlX2xlZnQgZW06aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTViYWNrX2hvdmVyLmpwZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5pbm5lcl9wYWdlX3JpZ2h0IGVtIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogODBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTVmb3J3YXJkX25vcm1hbC5qcGdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuaW5uZXJfcGFnZV9yaWdodCBlbTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxNWZvcndhcmRfaG92ZXIuanBnXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmlubmVyX3Byb19saXN0IHtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBoZWlnaHQ6IDI2NHB4O1xuICAgICAgd2lkdGg6IDEwMDBweDtcbiAgICB9XG4gICAgLmlubmVyX3BhZ2VfbGVmdCwgLmlubmVyX3Byb19saXN0IHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICBoZWlnaHQ6IDI2NHB4O1xuICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB1bCBsaS5saV9maXJzdCB7XG4gICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpIC5pdGVtX2ltZyB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDE3MnB4O1xuICAgICAgd2lkdGg6IDE3MnB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2YxZjFmMTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgbGkgaW1nIHtcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgbGkgLnNtYWxsX2Rlc2MgaW1nIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgdmVydGljYWwtYWxpZ246IGluaGVyaXQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5zaXRlX2ljb24ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDIxcHg7XG4gICAgICBoZWlnaHQ6IDE4cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBhIGVte1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWE1NDEyO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB3aWR0aDogNDJweDtcbiAgICAgIGhlaWdodDogMTVweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyB7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyAuZHBfdGl0bGV7XG4gICAgICBjb2xvcjogIzU5NTc1NztcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiAxNzBweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2Mge1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuc21hbGxfZGVzYzpob3ZlciB7XG4gICAgICBjdXJzb3I6IHRleHQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5uZXdfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICNkODAwMDA7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2MgLm9sZF9wcmljZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzlGQTBBMDtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQllLmV4cG9ydHMuY2hlY2tpbWcgPSBmdW5jdGlvbihlLCBuLCBpLCBhKSB7CgkJCQl2YXIgbyA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBpIHx8ICIiID09IGkgfHwgbnVsbCA9PSBpID8gOTAgOiBpLAoJCQkJCXIgPSBlLAoJCQkJCXMgPSBuZXcgSW1hZ2U7CgkJCQl0LmJyb3dzZXIubXNpZSAmJiB0LmJyb3dzZXIudmVyc2lvbiA8IDExID8gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoImNvbXBsZXRlIiA9PSBzLnJlYWR5U3RhdGUgfHwgImxvYWRlZCIgPT0gcy5yZWFkeVN0YXRlKSB7CgkJCQkJCWlmIChzLndpZHRoID4gMCAmJiBzLmhlaWdodCA+IDApIHsKCQkJCQkJCXZhciB0ID0gbyAvIHMud2lkdGggPCBvIC8gcy5oZWlnaHQgPyBvIC8gcy53aWR0aCA6IG8gLyBzLmhlaWdodDsKCQkJCQkJCTEgPj0gdCA/IChuLmNzcygid2lkdGgiLCBzLndpZHRoICogdCksIG4uY3NzKCJoZWlnaHQiLCBzLmhlaWdodCAqIHQpKSA6IChuLmNzcygid2lkdGgiLCBzLndpZHRoKSwgbi5jc3MoImhlaWdodCIsIHMuaGVpZ2h0KSkKCQkJCQkJfQoJCQkJCQluLmF0dHIoInNyYyIsIGUpCgkJCQkJfQoJCQkJfSA6IHMub25sb2FkID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKDEgPT0gcy5jb21wbGV0ZSkgewoJCQkJCQlpZiAocy53aWR0aCA+IDAgJiYgcy5oZWlnaHQgPiAwKSB7CgkJCQkJCQl2YXIgdCA9IG8gLyBzLndpZHRoIDwgbyAvIHMuaGVpZ2h0ID8gbyAvIHMud2lkdGggOiBvIC8gcy5oZWlnaHQ7CgkJCQkJCQkxID49IHQgPyAobi5jc3MoIndpZHRoIiwgcy53aWR0aCAqIHQpLCBuLmNzcygiaGVpZ2h0Iiwgcy5oZWlnaHQgKiB0KSkgOiAobi5jc3MoIndpZHRoIiwgcy53aWR0aCksIG4uY3NzKCJoZWlnaHQiLCBzLmhlaWdodCkpCgkJCQkJCX0KCQkJCQkJbi5hdHRyKCJzcmMiLCBlKSwgYSAmJiBhKCkKCQkJCQl9CgkJCQl9LCBzLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKCQkJCQluLmF0dHIoInNyYyIsIHQuc19zZXJ2ZXIgKyAiL2ltYWdlcy9leHRlbnNpb25zL2RlZmF1bHRfbG9hZF9pbWFnZS5wbmciKS5jc3MoIndpZHRoIiwgOTApLCBuLmF0dHIoImRhdGEtb3JpZ2luYWwiLCB0LnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9kZWZhdWx0X2xvYWRfaW1hZ2UucG5nIikKCQkJCX0sIHMuc3JjID0gcgoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHRCcmFuZH19X2lubmVyX3t7dHlwZX19IiBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIj5cbiAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX2hlYWQiPlxuICAgIDxhIGNsYXNzPSJzaXRlX2ljb24gYmRleHQtYmciIGhyZWY9ImphdmFzY3JpcHQ6IiA+PC9hPlxuICAgIDxzcGFuIGNsYXNzPSJiaWdfdGl0bGUiPlxuICAgICAgICDljoblj7LmnIDkvY7ku7dcbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9InNtYWxsX3RpdGxlIj5cbiAgICAgICAg6L+Z5Lqb5ZCM57G75ZWG5ZOB5aSE5LqO5Y6G5Y+y5pyA5L2O5Lu3XG4gICAgPC9zcGFuPlxuXG4gICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIj5cbiAgICAgIDxzcGFuIGNsYXNzPSJjdXJfcGFnZSI+MTwvc3Bhbj5cbiAgICAgIDxzcGFuPi88L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0idG90YWxfcGFnZSI+MTwvc3Bhbj5cbiAgICA8L2E+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfY29udGVudCI+XG4gICAgPGEgY2xhc3M9ImlubmVyX3BhZ2VfbGVmdCB0dXJucGFnZSI+PGVtIGNsYXNzPSJiZGV4dC1iZyI+PC9lbT48L2E+XG4gICAgPGRpdiBjbGFzcz0iaW5uZXJfcHJvX2xpc3QiID5cbiAgICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19X3t7dHlwZX19X2xpc3QiPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9yaWdodCB0dXJucGFnZSI+PGVtIGNsYXNzPSJiZGV4dC1iZyI+PC9lbT48L2E+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2Uge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDMxOHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Q5ZDlkOTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2ppdXhpYW4gLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSwgLnt7ZXh0QnJhbmR9fV9rYW9sYSAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNle1xuICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV93YmlhbyAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfY29udGVudCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIHtcbiAgICAgIGhlaWdodDogNTJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gICAgLmJpZ190aXRsZSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tdG9wOiAyMXB4O1xuICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogNTFweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICM0MjU3NjY7XG4gICAgfVxuICAgIC5zbWFsbF90aXRsZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICAgIGNvbG9yOiAjYTBhYmIyO1xuICAgIH1cbiAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgdG9wOiAyMHB4O1xuICAgICAgY29sb3I6ICM0MjU3NjY7XG4gICAgfVxuICAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIC5zaXRlX2ljb24ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxOHB4O1xuICAgICAgbGVmdDogMThweDtcbiAgICAgIGhlaWdodDogMjNweDtcbiAgICAgIHdpZHRoOiAyM3B4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IDBweDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSAqe1xuICAgICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gICAgfVxuICAgIGEuaW5uZXJfcGFnZV9sZWZ0LC5pbm5lcl9wYWdlX3JpZ2h0IHtcbiAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAxNzBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgYS5pbm5lcl9wYWdlX2xlZnQgZW0ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgd2lkdGg6IDMwcHg7XG4gICAgICBtYXJnaW4tdG9wOiA4MHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzdweCAtMTI3cHg7XG4gICAgfVxuICAgIC5pbm5lcl9wYWdlX3JpZ2h0IGVtIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogNTBweDtcbiAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgbWFyZ2luLXRvcDogODBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTE1cHggLTEyN3B4O1xuICAgIH1cbiAgICAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICB3aWR0aDogMTAwMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfcGFnZV9sZWZ0LCAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpLmxpX2ZpcnN0IHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkgLml0ZW1faW1nIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTcycHg7XG4gICAgICB3aWR0aDogMTcycHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBpbWcge1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBtYXgtaGVpZ2h0OiAxNzBweDtcbiAgICAgIG1heC13aWR0aDogMTcwcHg7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgbGkgLnNtYWxsX2Rlc2MgaW1nIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgdmVydGljYWwtYWxpZ246IGluaGVyaXQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5zaXRlX2ljb24ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDIxcHg7XG4gICAgICBoZWlnaHQ6IDE4cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBhIGVte1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0NTAwO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB3aWR0aDogNDJweDtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyB7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyAuZHBfdGl0bGV7XG4gICAgICBjb2xvcjogIzQyNTc2NjtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiAxNzBweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2Mge1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuc21hbGxfZGVzYzpob3ZlciB7XG4gICAgICBjdXJzb3I6IHRleHQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5uZXdfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICNlNTIyMjI7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2MgLm9sZF9wcmljZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogI2EwYWJiMjtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbiAgPGxpIGNsYXNzPSJ7eyRpbmRleD09MD9cJ2xpX2ZpcnN0XCc6XCdcJ319Ij5cbiAgICA8YSBjbGFzcz0iaXRlbV9pbWciIGhyZWY9Int7JHZhbHVlLnVybH19IiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICB7e2lmICR2YWx1ZS5uZXdkaXNjb3VudH19XG4gICAgICAgIDxlbT57eyR2YWx1ZS5uZXdkaXNjb3VudH195oqYPC9lbT5cbiAgICAgIHt7L2lmfX1cbiAgICA8L2E+XG4gICAgPGRpdiBjbGFzcz0iaW5uZXJfZHBfZGVzYyI+XG4gICAgICA8YSBjbGFzcz0iZHBfdGl0bGUiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0ic21hbGxfZGVzYyI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJuZXdfcHJpY2UiPlxuICAgICAgICAgICAgwqV7eyR2YWx1ZS5wcmljZX19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Im9sZF9wcmljZSIgc3R5bGU9ImRpc3BsYXk6IHt7KCR2YWx1ZS5oaWdoZXN0KT9cJ2lubGluZS1ibG9ja1wnOlwnbm9uZVwnfX0iPsKle3skdmFsdWUuaGlnaGVzdH19PC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICA8L2xpPlxue3svZWFjaH19JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHRCcmFuZH19X2xvd3ByaV9kZXRhaWwiIGNsYXNzPSJiamQtcHJvZHVjdC1kZXRhaWwiPlxuICA8dWwgaWQ9Imxvd3ByaS1pdGVtLWxpc3QiPlxuICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgIDxsaSBpZD0ibG93cHJpLXByb2QtaXRlbS17eyRpbmRleH19Ij5cbiAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgY2xhc3M9InNtYWxsLWltZyI+XG4gICAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgIDwvYT5cbiAgICAgICAgIDxkaXYgY2xhc3M9InNhbGUtcHJpLWluZm8iPlxuICAgICAgICAgIDxkaXYgY2xhc3M9InNhbGUtcHJpLWJveCI+XG4gICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9mYXZpY29uL3t7JHZhbHVlLnNpdGVfaWR9fS5pY28iIGNsYXNzPSJzaXRlX2ljb25faW1nIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzYWxlLXByaWNlIj7CpXt7JHZhbHVlLnByaWNlfX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2FsZS1kZXNjIG5ld2ItYmciPuWIsOaJi+S7tzwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDxzcGFuIGNsYXNzPSJvcmlnLXByaS1pbmZvIj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9Im5ld2ItYmciPumhtemdouS7t8Kle3skdmFsdWUubGFzdF9wcmljZX19PC9zcGFuPlxuICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgPHNwYW4gY2xhc3M9Imxvd3ByaS1wcm9tbyI+e3skdmFsdWUucHJvbW99fTwvc3Bhbj5cbiAgICAgICAgIDxhIGNsYXNzPSJsb3dwcmktdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIj57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgICAgPC9saT5cbiAgICB7ey9lYWNofX1cbiAgPC91bD5cbiAge3tpZiAhYWxpc2l0ZX19XG4gIDxhIGhyZWY9Int7bG93VXJsfX0iIGlkPSJsb3dwcmlfbW9yZWxpbmsiIHRhcmdldD0iX2JsYW5rIj7mn6XnnIvlhajpg6g+PjwvYT5cbiAge3svaWZ9fVxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC57e2V4dE5hbWV9fS1tYWluICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfaG92ZXJ7XG4gICAgICBoZWlnaHQ6IDM4cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB6LWluZGV4OiA5OTk5OTk5OTE7XG4gICAgfVxuICAgIC5iamQtcHJvZHVjdC1kZXRhaWwge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2d3ZF9sb3dwcmlfZGV0YWlsIHtcbiAgICAgIGhlaWdodDogMjY3cHg7XG4gICAgfVxuICAgIC5nd2RfemhpZGVtYWlfaG92ZXIge1xuICAgICAgY29sb3I6ICM1ZWJlZmYhaW1wb3J0YW50O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGhlaWdodDogMzhweCFpbXBvcnRhbnQ7XG4gICAgICB6LWluZGV4OiA5OTk7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5sb3dwcmlfaWNvbntcbiAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgIH1cbiAgICAubG93cHJpX2ljb24gaW1nIHtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogLTRweDtcbiAgICB9XG4gICAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkgLmxvd3ByaV9pY29ue1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB3aWR0aDogMjJweDtcbiAgICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE4cHggLTE5cHg7XG4gICAgfVxuICAgIFxuICAgICN7e2V4dEJyYW5kfX1fbG93cHJpX2RldGFpbCAubG93cHJpX2Rlc2Mge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBoZWlnaHQ6IDE1cHg7XG4gICAgICAgIHdpZHRoOiA0NXB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNzdweDtcbiAgICAgICAgbGVmdDogOTNweDtcbiAgICAgIH1cbiAgICAgICNsb3dwcmktaXRlbS1saXN0IGxpIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfZGV0YWlsICNsb3dwcmktaXRlbS1saXN0IC5sYXRlc3RDcmVhdGUge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xMTNweDs7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X2xvd3ByaV9kZXRhaWwgI2xvd3ByaS1pdGVtLWxpc3QgLmhpZ2hlc3RfZGlzY291bnQge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xNHB4O1xuICAgICAgfVxuICAgICAgI2xvd3ByaV9tb3JlbGluayB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBib3R0b206IDlweDtcbiAgICAgICAgcmlnaHQ6IDlweDtcbiAgICAgICAgY29sb3I6ICM5YjliOWI7XG4gICAgICB9XG4gICAgICAjbG93cHJpX21vcmVsaW5rOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICB9XG4gICAgICAuc2FsZS1wcmktYm94IHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuICAgICAgLnNhbGUtcHJpLWJveD4qIHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAuc2l0ZV9pY29uX2ltZyB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgfVxuICAgICAgLmJqZC1wcm9kdWN0LWRldGFpbCAuc2FsZS1wcmljZSB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICAgICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbig5KSwKCQkJCW8gPSBuKDE2KSwKCQkJCXIgPSBmdW5jdGlvbihlLCBuLCBhKSB7CgkJCQkJdmFyIHIgPSAnPGEgc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtsaW5lLWhlaWdodDozMnB4OyIgaWQ9InpkbV9pbWciIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7e3VybH19IiB0aXRsZT0ie3t0aXRsZX19Ij48aW1nIHNyYz0ie3tpbWd9fSIgc3R5bGU9ImhlaWdodDozNXB4Ij48L2E+JzsKCQkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChvLmNvbXBpbGUocikoewoJCQkJCQl1cmw6IG4sCgkJCQkJCWltZzogZSwKCQkJCQkJdGl0bGU6IGEKCQkJCQl9KSkKCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWUuaW1nICYmIGUudXJsICYmIGUudGl0bGUgJiYgcihlLmltZywgZS51cmwsIGUudGl0bGUpCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1yZW1pbmQmc2l0ZT0iICsgaS5zaXRlICsgIiZob3N0PSIgKyBsb2NhdGlvbi5ob3N0ICsgIiZmcm9tX2RldmljZT0iICsgaS5mcm9tX2RldmljZTsKCQkJCQlhLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAmJiBlLmlzc2hvdyA9PT0gITAgJiYgcyhlKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7fSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQlsKCkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oOSksCgkJCQlyID0gbigxMyksCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBvID0gbigxOTUpOwoJCQkJCXQoaS5kdmFsKS5hcHBlbmQoYS5jb21waWxlKG8pKHsKCQkJCQkJZGF0YTogZQoJCQkJCX0pKSwgci5sb2coIuW6lemDqOi1hOiur+WxleeOsCIpCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbyA9IG4oMTk2KTsKCQkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChhLmNvbXBpbGUobykoewoJCQkJCQlkYXRhOiBlCgkJCQkJfSkpLCByLmxvZygi6aG26YOo6LWE6K6v5bGV546wIikKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI25ld19pbmZvbWF0aW9uIGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJci5sb2coaS5zdHlsZSArICLotYTorq/ngrnlh7siKQoJCQkJCX0pCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkidG9wIiA9PSBpLnN0eWxlID8gbChlKSA6ICJib3R0b20iID09IGkuc3R5bGUgJiYgcyhlKSwgYyhpLnN0eWxlKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmIChpLmx1eW91cWkpIHsKCQkJCQl2YXIgZSA9IGkuc2VydmVyICsgIi9leHRlbnNpb24/YWM9YW5ub3VuY2VtZW50IjsKCQkJCQlvLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAmJiBlLmxlbmd0aCA+IDAgJiYgZChlKQoJCQkJCX0pCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJuZXdfaW5mb21hdGlvbiIgY2xhc3M9Imd3ZC1jbG9zZS1tb2R1bGUiPlxuICA8c3BhbiBjbGFzcz0ibmlfaGVhZCI+W+i1hOiur108L3NwYW4+XG4gIDxkaXY+XG4gICAge3tlYWNoIGRhdGF9fVxuICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPuKXjyZuYnNwO3t7IyR2YWx1ZS50aXRsZX19PC9hPlxuICAgIHt7L2VhY2h9fVxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjbmV3X2luZm9tYXRpb24ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNuZXdfaW5mb21hdGlvbiA+IGRpdiB7XG4gICAgICBwYWRkaW5nOiAxMnB4IDBweDtcbiAgICB9XG4gICAgI25ld19pbmZvbWF0aW9uIC5uaV9oZWFke1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogODVweDtcbiAgICAgIGhlaWdodDogNjBweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGxpbmUtaGVpZ2h0OiA2MHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZWU7XG4gICAgfVxuICAgICNuZXdfaW5mb21hdGlvbiBhIHtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICAgIG1heC13aWR0aDogNDQycHg7XG4gICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAjbmV3X2luZm9tYXRpb24gYTpob3ZlciwgI25ld19pbmZvbWF0aW9uIGE6aG92ZXIgc3BhbiB7XG4gICAgICBjb2xvcjogIzE3OTBkZCAhaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Im5ld19pbmZvbWF0aW9uX3RvcCI+XG4gIDxzcGFuIGNsYXNzPSJuaV9oZWFkIj5b6LWE6K6vXTwvc3Bhbj5cbiAge3tlYWNoIGRhdGF9fVxuICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPjxlbT7il488L2VtPiZuYnNwO3t7IyR2YWx1ZS50aXRsZX19PC9hPlxuICB7ey9lYWNofX1cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjbmV3X2luZm9tYXRpb25fdG9wIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IGRhc2hlZCAjZWVlO1xuICAgIH1cbiAgICAjbmV3X2luZm9tYXRpb25fdG9wIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBsaW5lLWhlaWdodDogMzZweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICB9XG4gICAgI25ld19pbmZvbWF0aW9uX3RvcCBhIHtcbiAgICAgIGNvbG9yOiAjNjY2IDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweCA7XG4gICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgIH1cbiAgICAjbmV3X2luZm9tYXRpb25fdG9wIGEgc3BhbiB7XG4gICAgICBmbG9hdDogbm9uZTtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuICAgICNuZXdfaW5mb21hdGlvbl90b3AgYSBlbSB7XG4gICAgICBjb2xvcjogI2U1MjYwMDtcbiAgICB9XG4gICAgI25ld19pbmZvbWF0aW9uX3RvcCBhOmhvdmVyLCAjbmV3X2luZm9tYXRpb25fdG9wIGE6aG92ZXIgZW0sICAjbmV3X2luZm9tYXRpb25fdG9wIGE6aG92ZXIgc3BhbiB7XG4gICAgICBjb2xvcjogIzE3OTBkZCAhaW1wb3J0YW50O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nOwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxOTgpLAoJCQkJbyA9IG4oMTApLAoJCQkJciA9IG4oOSksCgkJCQlzID0gbigxNiksCgkJCQlsID0gbigxMyksCgkJCQljID0gewoJCQkJCSIzNjBidXkiOiAzLAoJCQkJCXN1bmluZzogMjUsCgkJCQkJZ29tZTogMjgsCgkJCQkJeWloYW9kaWFuOiAzMSwKCQkJCQlkYW5nZGFuZzogMiwKCQkJCQlhbWF6b246IDEKCQkJCX0sCgkJCQlkID0gewoJCQkJCSIzNjBidXkiOiB7CgkJCQkJCWRvbTogIiNKX2NydW1ic0JhciAuY3J1bWJzLW5hdiAuY3J1bWJzLW5hdi1tYWluIiwKCQkJCQkJcG9zOiAiYXBwZW5kIgoJCQkJCX0sCgkJCQkJc3VuaW5nOiB7CgkJCQkJCWRvbTogIiNzZWFyY2gtcGF0aCIsCgkJCQkJCXNlYXJjaGRvbTogIiNhZHZGaWx0ZXIgLm9mbCIsCgkJCQkJCXBvczogImFwcGVuZCIKCQkJCQl9LAoJCQkJCXlpaGFvZGlhbjogewoJCQkJCQlkb206ICIubW9kX3NlYXJjaF9jcnVtYiAuY3J1bWJDbGlwIiwKCQkJCQkJcG9zOiAiYXBwZW5kIgoJCQkJCX0sCgkJCQkJZGFuZ2Rhbmc6IHsKCQkJCQkJZG9tOiAiI0IiLAoJCQkJCQlzZWFyY2hkb206ICIjSl90YWIiLAoJCQkJCQlwb3M6ICJhcHBlbmQiCgkJCQkJfSwKCQkJCQlnb21lOiB7CgkJCQkJCWRvbTogIi5uU2VhcmNoLWNydW1iLWNhdGVnb3J5LXJlc3VsdHMiLAoJCQkJCQlwb3M6ICJhcHBlbmQiLAoJCQkJCQlzZWFyY2hkb206ICIublNlYXJjaC1jcnVtYiIKCQkJCQl9LAoJCQkJCWFtYXpvbjogewoJCQkJCQlkb206ICIjcy1yZXN1bHQtY291bnQiLAoJCQkJCQlwb3M6ICJhcHBlbmQiCgkJCQkJfQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJc3dpdGNoIChpKSB7CgkJCQkJCWNhc2UgImJlZm9yZSI6CgkJCQkJCQl0KG4pLmJlZm9yZShlKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJhcHBlbmQiOgoJCQkJCQkJdChuKS5hcHBlbmQoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiYWZ0ZXIiOgoJCQkJCQkJdChuKS5hZnRlcihlKQoJCQkJCX0KCQkJCX0sCgkJCQloID0gZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuICJzdW5pbmciID09IGkuc2l0ZSAmJiB0KCIjYWR2RmlsdGVyIikubGVuZ3RoID4gMCAmJiAtMSA9PSBkW2kuc2l0ZV0uZG9tLmluZGV4T2YoImFkdkZpbHRlciIpID8gITAgOiAhMQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlKSB7CgkJCQkJImJvdHRvbSIgPT0gaS5zdHlsZSA/IG4oMTk5KShlKSA6ICJ0b3AiID09IGkuc3R5bGUgJiYgbShlKQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJdCgiIyIgKyBpLmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQodCgiPGE+IiwgewoJCQkJCQlocmVmOiBlLnVybCwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJImNsYXNzIjogaS5leHRCcmFuZCArICJfcHJvbW9fcCIsCgkJCQkJCWlkOiBpLmV4dEJyYW5kICsgIl9wcm9tb19idG4iLAoJCQkJCQlzdHlsZTogInBvc2l0aW9uOnJlbGF0aXZlOyIKCQkJCQl9KS5hcHBlbmQodCgiPHNwYW4+IiwgewoJCQkJCQkiY2xhc3MiOiBpLmV4dEJyYW5kICsgIl9iZyAiICsgaS5leHRCcmFuZCArICJfcHJvbW9faWNvbiIsCgkJCQkJCXN0eWxlOiAibWFyZ2luLXRvcDotNXB4OyIKCQkJCQl9KSkuYXBwZW5kKHQoIjxzcGFuPiIsIHsKCQkJCQkJImNsYXNzIjogaS5leHRCcmFuZCArICJfcHJvbW9fdGV4dCIKCQkJCQl9KS50ZXh0KCLkv4PplIAiKSkuYXBwZW5kKHQoIjxzcGFuPiIsIHsKCQkJCQkJImNsYXNzIjogaS5leHRCcmFuZCArICJfcmVkIgoJCQkJCX0pLnRleHQoZS5udW0pKSksIG4oMTYxKS5pbnNlcnRQcm9tb1Nob3dMaXN0KGUpCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IDA7CgkJCQkJIjM2MGJ1eSIgPT0gaS5zaXRlID8gbiA9IDEwMCA6ICJ5aWhhb2RpYW4iID09IGkuc2l0ZSA/IG4gPSAtMTM4IDogImRhbmdkYW5nIiA9PSBpLnNpdGUgPyBuID0gbG9jYXRpb24uaG9zdC5pbmRleE9mKCJzZWFyY2giKSA+IC0xID8gMjcwIDogNzAgOiAiZ29tZSIgPT0gaS5zaXRlID8gbiA9IDIwIDogImFtYXpvbiIgPT0gaS5zaXRlICYmIChuID0gMTkwKTsKCQkJCQlmb3IgKHZhciBhID0gdChlICsgIiA+ICoiKS5sZW5ndGgsIG8gPSB0KGUpLndpZHRoKCksIHIgPSAwLCBzID0gMDsgYSA+IHM7IHMrKykgIlNDUklQVCIgIT0gdChlICsgIiA+ICoiKS5lcShzKVswXS5ub2RlTmFtZSAmJiAociArPSB0KGUgKyAiID4gKiIpLmVxKHMpLm91dGVyV2lkdGgoKSk7CgkJCQkJcmV0dXJuIG8gLSByIC0gbgoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQkieWloYW9kaWFuIiA9PSBpLnNpdGUgJiYgdCgiLmJqZF9zZWFyY2hfcHJvbW8iKS5hZGRDbGFzcygiaGFja3loZCIpLCAiZGFuZ2RhbmciID09IGkuc2l0ZSAmJiB0KCIuYmpkX3NlYXJjaF9wcm9tbyIpLmFkZENsYXNzKCJoYWNrZGFuZ2RhbmciKSwgImdvbWUiID09IGkuc2l0ZSAmJiB0KCIuYmpkX3NlYXJjaF9wcm9tbyIpLmFkZENsYXNzKCJoYWNrZ29tZSIpLCAiYW1hem9uIiA9PSBpLnNpdGUgJiYgdCgiLmJqZF9zZWFyY2hfcHJvbW8iKS5hZGRDbGFzcygiaGFja2FtYXpvbiIpCgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKCkgewoJCQkJCWxvY2F0aW9uLmhvc3QuaW5kZXhPZigic2VhcmNoIikgPiAtMSAmJiB0KGRbaS5zaXRlXS5zZWFyY2hkb20pLmxlbmd0aCA+IDAgJiYgKGRbaS5zaXRlXS5kb20gPSBkW2kuc2l0ZV0uc2VhcmNoZG9tKQoJCQkJfSwKCQkJCXggPSBmdW5jdGlvbihlKSB7CgkJCQkJXygpOwoJCQkJCXZhciBhID0gZihkW2kuc2l0ZV0uZG9tKTsKCQkJCQlpZiAoIWgoKSAmJiBkW2kuc2l0ZV0pIHsKCQkJCQkJdmFyIG8gPSBuKDIwMSksCgkJCQkJCQlyID0gcy5jb21waWxlKG8pKHsKCQkJCQkJCQlkYXRhOiBlCgkJCQkJCQl9KTsKCQkJCQkJcChyLCBkW2kuc2l0ZV0uZG9tLCBkW2kuc2l0ZV0ucG9zKSwgbC5sb2coIuWIl+ihqOmhteW1jOWFpeS/g+mUgOa0u+WKqOWxleeOsCIpLCB0KCIuYmpkX3NlYXJjaF9wcm9tbyIpLndpZHRoKGEpLCBnKCksIHcoKQoJCQkJCX0KCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI2JqZF9zZWFyY2hfcHJvbW8gYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlsLmxvZygi5YiX6KGo6aG15bWM5YWl5L+D6ZSA5rS75Yqo54K55Ye7IikKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gY1tpLnNpdGVdLAoJCQkJCXQgPSBvLmluaXQoNSk7CgkJCQlpZiAoZSAmJiB0KSB7CgkJCQkJdmFyIG4gPSB0LmpvaW4oIiwiKSwKCQkJCQkJcyA9IGEuaW5pdCgpLAoJCQkJCQlsID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1wcm9tb19ieV9jbGFzcyZzaXRlX2lkPSIgKyBlICsgIiZmcm9tX2RldmljZT0iICsgaS5mcm9tX2RldmljZSArICImdW5pb249IiArIGkudW5pb24gKyAiJmNhdF9pZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuY2F0ZUlkKSArICImY2F0X25hbWU9IiArIGVuY29kZVVSSUNvbXBvbmVudChzLmNhdGVOYW1lKSArICImdXJscz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCXIuZ2V0KGwpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQllICYmIGUubnVtID4gMCAmJiAodShlKSwgeChlLnByb21vcykpCgkJCQkJfSkKCQkJCX0KCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gIiI7CgkJCQkJc3dpdGNoICh0LnNpdGUpIHsKCQkJCQkJY2FzZSAiMzYwYnV5IjoKCQkJCQkJCWlmICgibGlzdC5qZC5jb20iID09PSBsb2NhdGlvbi5ob3N0KSB7CgkJCQkJCQkJdmFyIGkgPSBkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZikubWF0Y2goL2NhdD0oLiopKD86JnwpLyk7CgkJCQkJCQkJZSA9IGkgJiYgaVsxXTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJaWYgKCJpdGVtLmpkLmNvbSIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQl2YXIgaSA9IHdpbmRvdy5wYWdlQ29uZmlnICYmIHdpbmRvdy5wYWdlQ29uZmlnLnByb2R1Y3QgJiYgd2luZG93LnBhZ2VDb25maWcucHJvZHVjdC5jYXQ7CgkJCQkJCQkJaSAmJiBpLmpvaW4gJiYgKGUgPSBpLmpvaW4oIiwiKSk7CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJ5aWhhb2RpYW4iOgoJCQkJCQkJaWYgKCJsaXN0LnloZC5jb20iID09PSBsb2NhdGlvbi5ob3N0KSB7CgkJCQkJCQkJdmFyIGkgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9saXN0LnloZC5jb21cL2MoXGQrKS0vKTsKCQkJCQkJCQllID0gaSAmJiBpWzFdOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCQlpZiAoIml0ZW0ueWhkLmNvbSIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQllID0gbigiI2NhdGVnb3J5SWQiKS52YWwoKTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImRhbmdkYW5nIjoKCQkJCQkJCWlmICgiY2F0ZWdvcnkuZGFuZ2RhbmcuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvY2lkKFxkKykvKTsKCQkJCQkJCQllID0gaSAmJiBpWzFdOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCQlpZiAoInByb2R1Y3QuZGFuZ2RhbmcuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCWUgPSBuKCIjcGlkX3NwYW4iKS5hdHRyKCJjYXRlZ29yeV9pZCIpOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAic3VuaW5nIjoKCQkJCQkJCWlmICgibGlzdC5zdW5pbmcuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvbGlzdC5zdW5pbmcuY29tXC9cZCstKFxkKyktLyk7CgkJCQkJCQkJZSA9IGkgJiYgaVsxXTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJaWYgKCJwcm9kdWN0LnN1bmluZy5jb20iID09PSBsb2NhdGlvbi5ob3N0KSB7CgkJCQkJCQkJZSA9IHdpbmRvdy5zbiAmJiB3aW5kb3cuc24uY2F0ZWdvcnlJZDsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImdvbWUiOgoJCQkJCQkJaWYgKCJsaXN0LmdvbWUuY29tLmNuIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvZ29tZS5jb20uY25cL2NhdChcZCspLi8pOwoJCQkJCQkJCWUgPSBpICYmIGlbMV07CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJCWlmICgiaXRlbS5nb21lLmNvbS5jbiIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQl2YXIgaSA9IHdpbmRvdy5wcmRJbmZvICYmIHdpbmRvdy5wcmRJbmZvLmNhdElkLnJlcGxhY2UoImNhdCIsICIiKTsKCQkJCQkJCQllID0gaSAmJiBpLnJlcGxhY2UoImNhdCIsICIiKTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gZQoJCQkJfSwKCQkJCWEgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICIiOwoJCQkJCWlmICgxID09PSB0LnBhZ2VJbmZvLnR5cGUpIHsKCQkJCQkJZm9yICh2YXIgaSA9IFtdLCBhID0gbihvW3Quc2l0ZV0pLCByID0gYS5sZW5ndGgsIHMgPSAwOyByID4gczsgcysrKSBpLnB1c2goYS5lcShzKS50ZXh0KCkpOwoJCQkJCQllID0gaS5qb2luKCIjIikKCQkJCQl9IGVsc2UgZSA9IHQuZHAuY2F0ZU5hbWU7CgkJCQkJcmV0dXJuIGUKCQkJCX0sCgkJCQlvID0gewoJCQkJCSIzNjBidXkiOiAiI0pfY3J1bWJzQmFyIC5jcnVtYnMtbmF2LWl0ZW0gLm1lbnUtZHJvcCAudHJpZ2dlciAuY3VyciIsCgkJCQkJZ29tZTogIi5uU2VhcmNoLWNydW1iIC5uU2VhcmNoLWNydW1iLWNhdGVnb3J5IC5jYXRlZ29yeS1uYW1lIiwKCQkJCQlzdW5pbmc6ICIjc2VhcmNoLXBhdGggLmRpci1saXN0IC5icmVhZE5hdiBhLCNzZWFyY2gtcGF0aCAuZGlyLWxpc3QgLmJyZWFkTmF2ICsgc3Bhbi5sIiwKCQkJCQl5aWhhb2RpYW46ICIuY3J1bWJDbGlwIC5saXN0Q29uIGxpLmNydW1iX2xpc3QgYTp2aXNpYmxlIiwKCQkJCQlkYW5nZGFuZzogJyNCIGFbbmFtZT0iQiJdLCAjQiBzcGFuLmN1cnJlbnQnCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBhKCksCgkJCQkJdCA9IGkoKTsKCQkJCXJldHVybiB7CgkJCQkJY2F0ZU5hbWU6IGUsCgkJCQkJY2F0ZUlkOiB0CgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIGEgPSBuKDI2KSwKCQkJCQlvID0gbigxNiksCgkJCQkJciA9IG4oMTMpOwoJCQkJaWYgKCFlICYmICF0Lm5ld19leHRlbnNpb24pIHJldHVybiB2b2lkIGkoIiMiICsgdC5leHRCcmFuZCArICItY3UiKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLXRhYiIpLmF0dHIoImhyZWYiLCAiaHR0cDovL3d3dy4iICsgdC5leHROYW1lICsgIi5jb20vcHJvbW90aW9uL2FjdGl2aXR5Lz9mcm9tPWJyb3dzZXImbT1wcm9tb3Rpb24iKTsKCQkJCWlmICh0Lm5ld19leHRlbnNpb24gfHwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jdSIpLmZpbmQoIi4iICsgdC5leHRCcmFuZCArICItdGFiIikuYXR0cigiaHJlZiIsIGUudXJsKSwgZSAmJiBlLnByb21vcyAmJiBlLnByb21vcy5sZW5ndGgpIHsKCQkJCQllLnByb21vcyA9IGUucHJvbW9zLnNsaWNlKDAsIDUpOwoJCQkJCXZhciBzID0gbigyMDApOwoJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICItY3UiKS5hcHBlbmQoby5jb21waWxlKHMpKHsKCQkJCQkJZGF0YTogZSwKCQkJCQkJbmV3X2V4dGVuc2lvbjogdC5uZXdfZXh0ZW5zaW9uLAoJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZAoJCQkJCX0pKSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jdSIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCWkodGhpcykuZmluZCgiLiIgKyB0LmV4dEJyYW5kICsgIi10YWIiKS5hZGRDbGFzcyh0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKS5lbmQoKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLWRldGFpbCIpLnNob3coKSwgYSgiaG92ZXI6bWFpbjpjdXhpYW8iKSwgci5sb2coIuS4u+W3peWFt+agj+S/g+mUgOm8oOagh+aCrOa1riIpCgkJCQkJfSkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJaSh0aGlzKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLXRhYiIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLmVuZCgpLmZpbmQoIi4iICsgdC5leHRCcmFuZCArICItZGV0YWlsIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0KCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fS1kZXRhaWwiIHN0eWxlPSJkaXNwbGF5OiBub25lIj5cbiAgPHAgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlIHt7ZXh0QnJhbmR9fS1oZWlnaHQtYXV0byI+XG4gICAgPHNwYW4gY2xhc3M9Int7ZXh0QnJhbmR9fS1kZXRhaWwtdGl0bGUtZGVzYyI+5pys5ZWG5Z+O5L+D6ZSA5rS75YqoKHt7ZGF0YS5udW19fSk8L3NwYW4+XG4gICAge3tpZiAhbmV3X2V4dGVuc2lvbn19XG4gICAgPGEgaHJlZj0ie3tkYXRhLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Int7ZXh0QnJhbmR9fS1ncmV5IHt7ZXh0QnJhbmR9fV9zZWVfYWxsIj7mn6XnnIvlhajpg6g8L2E+XG4gICAge3svaWZ9fVxuICA8L3A+XG4gIDx1bCBpZD0ie3tleHRCcmFuZH19X3Byb21vX2l0ZW1fbGlzdCIgY2xhc3M9Int7ZXh0QnJhbmR9fS1pdGVtLWxpc3QiPlxuICAgIHt7ZWFjaCBkYXRhLnByb21vc319XG4gICAgICA8bGkgY2xhc3M9Int7ZXh0QnJhbmR9fS1saXN0LWl0ZW0iIHN0eWxlPSJkaXNwbGF5OiBibG9jayI+XG4gICAgICAgIDxwIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJvZHVjdC10aXRsZSI+XG4gICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJ7e2V4dEJyYW5kfX0tZ3JleSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgICAgICA8L3A+XG4gICAgICA8L2xpPlxuICAgIHt7L2VhY2h9fVxuICA8L3VsPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iYmpkX3NlYXJjaF9wcm9tbyIgaWQ9ImJqZF9zZWFyY2hfcHJvbW8iPlxuICB7e2VhY2ggZGF0YX19XG4gICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+e3skdmFsdWUudGl0bGV9fTwvYT5cbiAge3svZWFjaH19XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgLmJqZF9zZWFyY2hfcHJvbW8ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMTAwMHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI2JqZF9zZWFyY2hfcHJvbW8uaGFja3loZCB7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB6LWluZGV4OiAyMjtcbiAgICB9XG4gICAgI2JqZF9zZWFyY2hfcHJvbW8uaGFja2RhbmdkYW5nLCAjYmpkX3NlYXJjaF9wcm9tby5oYWNrZ29tZXtcbiAgICAgIHRvcDogNnB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyAgICBcbiAgICB9XG4gICAgI2JqZF9zZWFyY2hfcHJvbW8uaGFja2FtYXpvbiB7XG4gICAgICB0b3A6IDVweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgICAgXG4gICAgfVxuICAgICNiamRfc2VhcmNoX3Byb21vLmhhY2tkYW5nZGFuZyBhIHtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgIH1cbiAgICAjYmpkX3NlYXJjaF9wcm9tbyBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjMTc5MGRkO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAuYmpkX3NlYXJjaF9wcm9tbyBhIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOXB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIiBjbGFzcz0icGFuZWwgcHJpY2VfY29tcGFyZSI+XG4gIDxkaXYgY2xhc3M9InBhbmVsLXdyYXAiPlxuICAgIDxkaXYgY2xhc3M9InBhZ2VzIj5cbiAgICAgIOesrCZuYnNwO1xuICAgICAgPHNwYW4gaWQ9InNlYXJjaGxvd3ByaS1jdXJyZW50LXBhZ2UiIGNsYXNzPSJjdXJyZW50LXBhZ2UiPjE8L3NwYW4+XG4gICAgICAmbmJzcDvpobXvvIzlhbEmbmJzcDtcbiAgICAgIDxzcGFuIGlkPSJzZWFyY2hsb3dwcmktcGFnZS1udW0iIGNsYXNzPSJwYWdlLW51bSI+MTwvc3Bhbj5cbiAgICAgICZuYnNwO+mhtVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImxlZnQtcGFnZSBnd2RzZXR0aW5nX2JnIj5cbiAgICAgIDxhIHRpdGxlPSLkuIrkuIDpobUiIHRhcmdldD0iX3NlbGYiIGhyZWY9ImphdmFzY3JpcHQ6Ij48L2E+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iYWxsLXByb2R1Y3RzIj5cbiAgICAgIDx1bCBpZD0ic2VhcmNobG93cHJpLWl0ZW0tbGlzdCI+XG4gICAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgICA8bGkgaWQ9InNlYXJjaGxvd3ByaS1wcm9kLWl0ZW0te3skaW5kZXh9fSI+XG4gICAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBjbGFzcz0ic21hbGwtaW1nIj5cbiAgICAgICAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJpY2UiPsKle3skdmFsdWUucHJpY2V9fTwvYT5cbiAgICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZ3JheV9wcmljZSB7eyR2YWx1ZS5wcmljZWRlc2M/XCdcJyA6IFwnX3Rocm91Z2hcJ319IiA+XG4gICAgICAgICAgICAgICAge3tpZiAkdmFsdWUucHJpY2VkZXNjfX1cbiAgICAgICAgICAgICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgICAgICAgICAge3tlbHNlfX1cbiAgICAgICAgICAgICAgICAgIHt7JHZhbHVlLmxhc3RfcHJpY2V9fVxuICAgICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSBjbGFzcz0iZ2V0X3ByaWNlIj5cbiAgICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5uZXdfcHJpY2V9fVxuICAgICAgICAgICAgICAgICAg5Yiw5omL5Lu3wqV7eyR2YWx1ZS5uZXdfcHJpY2V9fVxuICAgICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19X3RpdGxlIj57eyR2YWx1ZS50aXRsZX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJpZ2h0LXBhZ2UgZ3dkc2V0dGluZ19iZyI+XG4gICAgICA8YSB0aXRsZT0i5LiL5LiA6aG1IiB0YXJnZXQ9Il9zZWxmIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtc2hhZG93Ij48L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaS5tX2hvdmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGNvbG9yOiAjMTc3RUU1O1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaSB7XG4gICAgICBib3JkZXItcmlnaHQ6IDFweCBkYXNoZWQgI2RkZDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaSBzcGFuIHtcbiAgICAgIGNvbG9yOiAjRTUyNjAwO1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWx7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLmxlZnQtcGFnZXtcbiAgICAgIGxlZnQ6IDVweDtcbiAgICB9XG4gICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC5hbGwtcHJvZHVjdHN7XG4gICAgICBsZWZ0OiAzNXB4O1xuICAgIH1cbiAgICBcbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLnt7ZXh0QnJhbmR9fS1wcmljZTpob3ZlciwgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC5nZXRfcHJpY2U6aG92ZXIge1xuICAgICAgY29sb3I6ICNFNTI2MDA7XG4gICAgICBjdXJzb3I6IHRleHQ7XG4gICAgfVxuICAgIC57e2V4dE5hbWV9fS1tYWluIC5wYW5lbC13cmFwIC5hbGwtcHJvZHVjdHMgdWwgbGkgYSBpbWd7XG4gICAgICB3aWR0aDogOTBweDtcbiAgICB9XG4gICAgLnt7ZXh0TmFtZX19LW1haW4gLnBhbmVsLXdyYXAgLmFsbC1wcm9kdWN0cyB1bCBsaSAuc21hbGwtaW1ne1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAjc2VhcmNobG93cHJpLWl0ZW0tbGlzdCBsaSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5hbGwtcHJvZHVjdHMgLmdyYXlfcHJpY2UsIC5hbGwtcHJvZHVjdHMgLmdldF9wcmljZSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHdpZHRoOiAxODBweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgLmFsbC1wcm9kdWN0cyAuZ3JheV9wcmljZSB7XG4gICAgICBjb2xvcjogIzk5OSFpbXBvcnRhbnQ7XG4gICAgICBcbiAgICB9XG4gICAgLmFsbC1wcm9kdWN0cyAuZ3JheV9wcmljZS5fdGhyb3VnaCB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaCFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIC5hbGwtcHJvZHVjdHMgLmdldF9wcmljZSB7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICB9XG4gICAgLmFsbC1wcm9kdWN0cyAuZ2V0X3ByaWNlOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjRTUyNjAwO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbjxsaSBjbGFzcz0ic2VhcmNoX2l0ZW1fbGlzdCAiPlxuICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbSI+XG4gICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgPC9hPlxuICA8L3NwYW4+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIHJlLXt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIHt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIHt7ZXh0QnJhbmR9fS1saXN0LWl0ZW0gIj5cbiAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19LXBpYyIgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+XG4gICAgICA8aW1nIHNyYz0ie3skdmFsdWUuaW1nX3VybH19IiBkYXRhLW9yaWdpbmFsPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2RwX2RlZmF1bHQuanBnIiA+XG4gICAgPC9hPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJvZHVjdC10aXRsZSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+XG4gICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgPC9hPlxuICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJpY2UiID5cbiAgICAgIMKle3skdmFsdWUucHJpY2V9fVxuICAgIDwvc3Bhbj5cbiAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJncmF5X3ByaWNlIHt7JHZhbHVlLnByaWNlZGVzYz9cJ1wnIDogXCdfdGhyb3VnaFwnfX0iIFxuICAgICAgdGl0bGU9IlxuICAgICAge3tpZiAkdmFsdWUucHJpY2VkZXNjfX1cbiAgICAgICAg5qCH5Lu3wqUke3skdmFsdWUucHJpY2V9fSB7eyR2YWx1ZS5wcmljZWRlc2N9fVxuICAgICAge3svaWZ9fVxuICAgICAgIiAgIFxuICAgID5cbiAgICAgIHt7aWYgJHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICDCpXt7JHZhbHVlLmxhc3RfcHJpY2V9fVxuICAgICAge3svaWZ9fVxuICAgIDwvYT5cbiAgICA8c3BhbiBjbGFzcz0iZ2V0X3ByaWNlIj5cbiAgICAgIHt7aWYgJHZhbHVlLm5ld19wcmljZX19XG4gICAgICAgIOWIsOaJi+S7t8Kle3skdmFsdWUubmV3X3ByaWNlfX1cbiAgICAgIHt7L2lmfX1cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuPC9saT5cbnt7L2VhY2h9fVxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAge3tkb21OYW1lfX0gLmxvd2VzdF9wcmljZV9idG4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmbG9hdDogbGVmdDtcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgaGVpZ2h0OiA2MHB4O1xuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZWU7XG4gIH1cbiAge3tkb21OYW1lfX0gLnt7ZXh0QnJhbmR9fV9maXJzdCB7XG4gICAgbWFyZ2luLXRvcDogOHB4O1xuICB9XG4gIHt7ZG9tTmFtZX19IC5sb3dlc3RfcHJpY2VfYnRuIGEge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGhlaWdodDogMjJweDtcbiAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMzMzO1xuICB9XG4gIC5sb3dlc3RfcHJpY2VfYnRuIGEgc3BhbntcbiAgICBjb2xvcjogI0U1MjYwMDtcbiAgfVxuICAue3tleHRCcmFuZH19LWNvbXBhcmUgbGkgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0gYXtcbiAgICB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4gIHt7ZG9tTmFtZX19IC57e2V4dEJyYW5kfX0tY29tcGFyZT5saXtcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZWVlO1xuICB9XG4gIHt7ZG9tTmFtZX19IC57e2V4dEJyYW5kfX0tY29tcGFyZSBsaSAue3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbSBhe1xuICAgIGNvbG9yOiAjMzMzO1xuICB9XG4gIC5zZWFyY2hfaXRlbV9saXN0IC57e2V4dEJyYW5kfX1fZmF2b3JfaG92ZXIge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xuICB9XG4gIC57e2V4dEJyYW5kfX1fc3VuaW5nIC5zZWFyY2hfaXRlbV9saXN0IC57e2V4dEJyYW5kfX1fZmF2b3JfaG92ZXIge1xuICAgIHBhZGRpbmctYm90dG9tOiA3cHg7XG4gIH1cbiAgLnNlYXJjaF9pdGVtX2xpc3QgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgaGVpZ2h0OiAxODBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBtYXJnaW4tbGVmdDogLTMycHg7XG4gIH1cbiAgLnNlYXJjaF9pdGVtX2xpc3QgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIC57e2V4dEJyYW5kfX0tcGljIGltZyB7XG4gICAgaGVpZ2h0OiA5MHB4O1xuICAgIGhlaWdodDogOTBweDtcbiAgfVxuICAuc2VhcmNoX2l0ZW1fbGlzdCAue3tleHRCcmFuZH19LXByaWNlIHtcbiAgICBsaW5lLWhlaWdodDogMTRweDtcbiAgfVxuICAuZ3JheV9wcmljZSwgLmdldF9wcmljZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGhlaWdodDogMTZweDtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxuICB7e2RvbU5hbWV9fSAuZ3JheV9wcmljZSB7XG4gICAgY29sb3I6ICM5OTk7XG4gIH1cbiAge3tkb21OYW1lfX0gLmdyYXlfcHJpY2UuX3Rocm91Z2gge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICB9XG4gIC5nZXRfcHJpY2Uge1xuICAgIGNvbG9yOiAjRTUyNjAwO1xuICB9XG48L3N0eWxlPicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzx1bCBpZD0ie3tleHRCcmFuZH19LWNvbXBhcmUtc2VhcmNobG93cHJpImNsYXNzPSJ7e2V4dEJyYW5kfX0tY2xvc2UtbW9kdWxlIHt7ZXh0QnJhbmR9fS1kZXNjIHt7ZXh0QnJhbmR9fS1jb21wYXJlIj5cbiAgPGxpICBpZD0ie3tleHRCcmFuZH19LXNlYXJjaGxvd3ByaSIgcGFnZXM9Int7cGFnZUluZm8ucGFnZXM/XCdcJzpcJzFcJ319IiBsZW49Int7cGFnZUluZm8ucGFnZXM/XCdcJzpwYWdlSW5mby5kcG51bX19Ij5cbiAgICA8YSBjbGFzcz0ic2VhcmNobG93cHJpX2J0biI+XG4gICAgICA8c3BhbiBjbGFzcz0ibG93X3ByaV9pb2NuIj4uLi48L3NwYW4+XG4gICAgPC9hPlxuICAgIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIiBjbGFzcz0ie3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwgcmUte3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwge3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiIHN0eWxlPSJ3aWR0aDp7e3BhZ2VJbmZvLnBhZ2V3aWR0aH19cHgiPlxuICAgICAgPHAgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlIHt7ZXh0QnJhbmR9fS1oZWlnaHQtYXV0byB7e2V4dEJyYW5kfX0tY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1maXhlZCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1kZXNjIj7lvZPliY3pobXlpITkuo7ljoblj7LmnIDkvY7ku7fnmoTllYblk4E8L3NwYW4+XG4gICAgICA8L3A+XG4gICAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX0tY29tcGFyZS1wcmV2LXBhZ2Uge3tleHRCcmFuZH19LWxlZnQiIHN0eWxlPSJkaXNwbGF5Ont7cGFnZUluZm8ucGFnZXM/XCdibG9ja1wnOlwnbm9uZVwnfX0iPlxuICAgICAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX0tYmcgcGFnZS1hcnJvdyI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19LWl0ZW0tbGlzdCI+XG4gICAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgICA8bGkgY2xhc3M9Int7ZXh0QnJhbmR9fS1saXN0LWl0ZW0gIiBzdHlsZT0iZGlzcGxheTp7eyRpbmRleD49cGFnZUluZm8ucGVyUGFnZVNpemU/XCdub25lXCc6XCdibG9ja1wnfX0iPlxuICAgICAgICAgICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fS1waWMiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9kcF9kZWZhdWx0LmpwZyIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUuaW1nX3VybH19IiA+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19LXByb2R1Y3QtdGl0bGUiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIiA+XG4gICAgICAgICAgICAgIMKle3skdmFsdWUucHJpY2V9fVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZ3JheV9wcmljZSB7eyR2YWx1ZS5wcmljZWRlc2M/XCdcJyA6IFwnX3Rocm91Z2hcJ319IiBcbiAgICAgICAgICAgICAgdGl0bGU9IlxuICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5wcmljZWRlc2N9fVxuICAgICAgICAgICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgICAgIiAgIFxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5wcmljZWRlc2N9fVxuICAgICAgICAgICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgICAgICAgIHt7ZWxzZX19XG4gICAgICAgICAgICAgICAgwqV7eyR2YWx1ZS5sYXN0X3ByaWNlfX1cbiAgICAgICAgICAgICAge3svaWZ9fVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdldF9wcmljZSI+XG4gICAgICAgICAgICAgIHt7aWYgJHZhbHVlLm5ld19wcmljZX19XG4gICAgICAgICAgICAgICAg5Yiw5omL5Lu3wqV7eyR2YWx1ZS5uZXdfcHJpY2V9fVxuICAgICAgICAgICAgICB7ey9pZn19XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgICAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19LWNvbXBhcmUtbmV4dC1wYWdlIHt7ZXh0QnJhbmR9fS1yaWdodCIgc3R5bGU9ImRpc3BsYXk6e3twYWdlSW5mby5wYWdlcz9cJ2Jsb2NrXCc6XCdub25lXCd9fSI+XG4gICAgICAgIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fS1iZyBwYWdlLWFycm93Ij48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19LWIyYy1QYWdlVmlldyB7e2V4dEJyYW5kfX0tYjJjLVBhZ2VWaWV3LWZpeGVkIiBzdHlsZT0iZGlzcGxheTp7e3BhZ2VJbmZvLnBhZ2VzP1wnYmxvY2tcJzpcJ25vbmVcJ319Ij5cbiAgICAgICAgPHAgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlIiBzdHlsZT0iaGVpZ2h0OmF1dG87Ij5cbiAgICAgICAgICA8c3BhbiBzdHlsZT0iZmxvYXQ6bm9uZTtwYWRkaW5nLWxlZnQ6MTBweDsiIGNsYXNzPSJ7e2V4dEJyYW5kfX0tY29tcGFyZS1pdGVtLWRldGFpbC1wYWdlcyI+XG4gICAgICAgICAgICA8ZW0gaWQ9InBhZ2Utbm93LXNlYXJjaGxvd3ByaSIgY2xhc3M9InBhZ2Utbm93Ij5cbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgPC9lbT5cbiAgICAgICAgICAgIC9cbiAgICAgICAgICAgIDxlbSBpZD0icGFnZS10b3RhbC1zZWFyY2hsb3dwcmkiIGNsYXNzPSJwYWdlLXRvdGFsIj5cbiAgICAgICAgICAgICAge3twYWdlSW5mby5wYWdlbnVtfX1cbiAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICAgI3t7ZXh0QnJhbmR9fS1jb21wYXJlLXNlYXJjaGxvd3ByaXtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZWVlO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fS1jb21wYXJlLXNlYXJjaGxvd3ByaT5saSB7XG4gICAgICAgIGhlaWdodDogNjBweDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX0tY29tcGFyZS1zZWFyY2hsb3dwcmkgLnt7ZXh0QnJhbmR9fS1wcmljZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgfVxuICAgICAgLnNlYXJjaGxvd3ByaV9idG57XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgaGVpZ2h0OiAzN3B4O1xuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNmZmY7XG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmZmY7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgICAgICB3aWR0aDogMzNweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fS1jb21wYXJlLXNlYXJjaGxvd3ByaSAuc2VhcmNobG93cHJpX2J0bl9ob3ZlciB7XG4gICAgICAgIG1hcmdpbi10b3A6IC0xcHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCAjMTc5MGRkO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogN3B4O1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlse1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgaW1ne1xuICAgICAgICB3aWR0aDogOTBweDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAue3tleHRCcmFuZH19LXBpY3tcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC57e2V4dEJyYW5kfX0tcGljPnNwYW57XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VhNTUxNDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgICAgICAgdG9wOiA3NHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGxlZnQ6IDAgIWltcG9ydGFudDtcbiAgICAgICAgcmlnaHQ6IDQ4cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAue3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUsICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAue3tleHRCcmFuZH19LWIyYy1QYWdlVmlldyB7XG4gICAgICAgIGJvdHRvbTogMjQxcHg7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLW5leHQtcGFnZXtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICB9XG4gICAgICAubG93X3ByaV9pb2Nue1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGhlaWdodDogMjVweDtcbiAgICAgICAgd2lkdGg6IDI1cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgIH1cbiAgICAgIC5zZWFyY2hsb3dwcmlfYnRuX2hvdmVyIC5sb3dfcHJpX2lvY257XG4gICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX0tY29tcGFyZS1zZWFyY2hsb3dwcmkgLnt7ZXh0QnJhbmR9fS1wcmljZSBzcGFuIHtcbiAgICAgICAgY29sb3I6ICM5OTk7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAuc2VhcmNobG93cHJpX2Rlc2Mge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL3NlYXJjaGxvd3ByaV9kZXNjLnBuZ1wnKTtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xuICAgICAgICB3aWR0aDogNDVweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDc3cHg7XG4gICAgICAgIGxlZnQ6IDEwMXB4O1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC57e2V4dEJyYW5kfX0taXRlbS1saXN0IC5sYXRlc3RDcmVhdGUge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xMTNweDs7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLnt7ZXh0QnJhbmR9fS1pdGVtLWxpc3QgLmhpZ2hlc3RfZGlzY291bnQge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xNHB4O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIDwvbGk+XG48L3VsPicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMjA2KSwKCQkJCW8gPSBuKDE2KSwKCQkJCXIgPSAwLAoJCQkJcyA9IG4oMTgpLAoJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gJzxhIGlkPSInICsgdC5leHRCcmFuZCArICdfaGlzdG9yeSIgY2xhc3M9IicgKyB0LmV4dEJyYW5kICsgJy1jbG9zZS1tb2R1bGUiPiA8c3Bhbj48ZW0+PC9lbT7mtY/op4jljoblj7I8L3NwYW4+PC9hPicsCgkJCQkJCW4gPSBpKCIuIiArIHQuZXh0QnJhbmQgKyAiX29wdGlvbl9zZXR0aW5nIik7CgkJCQkJdC5uZXdfZXh0ZW5zaW9uICYmIChuID0gaSgiLmZlZWRiYWNrX2J0biIpKSwgbi5hZnRlcihvLmNvbXBpbGUoZSkoKSkKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWZlZWQtY2xvc2UiKS5hZGRDbGFzcygiX25ld2JhcjEiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5hZGRDbGFzcygiX25ld2JhcjIiKQoJCQkJfSwKCQkJCWQgPSBmdW5jdGlvbigpIHsKCQkJCQljKCk7CgkJCQkJdmFyIGUgPSAnPGEgaWQ9IicgKyB0LmV4dEJyYW5kICsgJ19oaXN0b3J5Ij4gPGVtIGNsYXNzPSJuZXdiLWJnIj48L2VtPjxzcGFuPua1j+iniOWOhuWPsjwvc3Bhbj48L2E+JzsKCQkJCQlpKCIjIiArIHQuZXh0TmFtZSArICItZmVlZC1jbG9zZSIpLmFmdGVyKG8uY29tcGlsZShlKSgpKSwgdC5maXhXaWR0aCgpCgkJCQl9LAoJCQkJcCA9IGZ1bmN0aW9uKCkgewoJCQkJCSJ0b3AiID09IHQuc3R5bGUgPyBkKCkgOiAiYm90dG9tIiA9PSB0LnN0eWxlICYmIGwoKQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbihlLCBhLCBzKSB7CgkJCQkJdmFyIGwgPSBuKDIwNyk7CgkJCQkJaShlKS5hcHBlbmQoby5jb21waWxlKGwpKHsKCQkJCQkJZGF0YTogYSwKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCWhpc19zaXplOiByLAoJCQkJCQlleHROYW1lOiB0LmV4dE5hbWUKCQkJCQl9KSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCSJ0b3AiID09IHQuc3R5bGUgPyBoKGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIiksIGUsIG4pIDogImJvdHRvbSIgPT0gdC5zdHlsZSAmJiAoaCgiI2JqZF9ib3R0b21fZGV0YWlsIiwgZSwgbiksIHQuYXV0b0ZpeFdpZHRoKCkpCgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiByID49IDQgPyAzNDMgOiA3NSAqIHIgKyAxNCAqIChyIC0gMSkgKyAxCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuID0gW10sIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykKCQkJCQkJaWYgKGVbaV0udXJsKSB7CgkJCQkJCQl2YXIgYSA9IHsKCQkJCQkJCQlzaXRlX2lkOiBlW2ldLnNpdGVfaWQsCgkJCQkJCQkJdXJsOiBlW2ldLnVybCwKCQkJCQkJCQltb2Q6ICJoaXN0b3J5IiwKCQkJCQkJCQl1bmlvbjogdC51bmlvbi5zcGxpdCgiXyIpWzFdLAoJCQkJCQkJCWRwX2lkOiBlW2ldLmRwX2lkCgkJCQkJCQl9OwoJCQkJCQkJZVtpXS51cmwgPSBzLmluaXQoYSksIG4ucHVzaChlW2ldKQoJCQkJCQl9CgkJCQkJcmV0dXJuIG4KCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmIChlICYmIDAgIT0gZS5sZW5ndGgpIHsKCQkJCQkJZSA9IGYoZS5zbGljZSgwLCAxMCkpLCByID0gZS5sZW5ndGg7CgkJCQkJCXZhciB0ID0gbSgpOwoJCQkJCQlwKCksIHUoZSwgdCksIF8ocikKCQkJCQl9CgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IHZvaWQgMCwKCQkJCQkJYSA9IHZvaWQgMDsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlhIHx8IHQubG9hZEltYWdlKGkoIiNoaXN0b3J5X2RldGFpbCBsaSAuaXRlbV9pbWciKSwgMCwgZSwgNzApLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5hZGRDbGFzcygiaGlzdG9yeV9ob3ZlciIpLCBpKCIjaGlzdG9yeV9kZXRhaWwiKS5zaG93KCkKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9oaXN0b3J5Iikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5yZW1vdmVDbGFzcygiaGlzdG9yeV9ob3ZlciIpLCBpKCIjaGlzdG9yeV9kZXRhaWwiKS5oaWRlKCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCBpKCIjaGlzdG9yeV9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQobikKCQkJCQl9KSwgaSgiI2hpc3RvcnlfZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9oaXN0b3J5IikucmVtb3ZlQ2xhc3MoImhpc3RvcnlfaG92ZXIiKSwgaSgiI2hpc3RvcnlfZGV0YWlsIikuaGlkZSgpCgkJCQkJfSksIGkoIiNoaXN0b3J5X2RldGFpbCAuaXRlbV9jbG9zZV9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBpKHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCQkJci0tLCBiKGkodGhpcykucGFyZW50cygibGkiKSwgZSkKCQkJCQl9KSwgaSgiI2hpc3RvcnlfZGV0YWlsIC5jbGVhcl9oaXMiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdygpCgkJCQkJfSkKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oKSB7CgkJCQkJYS5nZXQoZykKCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oKSB7CgkJCQkJYS5kZWxBbGwoZnVuY3Rpb24oKSB7CgkJCQkJCWkoIi5oaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50IHVsIikuZW1wdHkoKSwgaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5hZGRDbGFzcygibm8taGlzLWNvbnRlbnQiKSwgaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5oZWlnaHQoNzYpLCBpKCIuY2xlYXJfaGlzIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0sCgkJCQl2ID0gZnVuY3Rpb24oKSB7CgkJCQkJInRhb2JhbyIgIT0gdC5zaXRlICYmICJ0bWFsbCIgIT0gdC5zaXRlICYmIGEuYWRkKHQubm93X2RwX2lkKQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBtKCk7CgkJCQkJYS5kZWwodCwgZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBpKGUpLnJlbW92ZSgpLCAzNDMgIT0gbiA/IDAgPT09IHIgPyAoaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5hZGRDbGFzcygibm8taGlzLWNvbnRlbnQiKSwgdm9pZCBpKCIuY2xlYXJfaGlzIikuaGlkZSgpKSA6IHZvaWQgaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5oZWlnaHQobikgOiB2b2lkIDAKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXgoKSwgdigpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUsIHQsIGksIG8gPSB7fSwKCQkJCQlyID0gbig5KSwKCQkJCQlzID0gbigxMik7CgkJCQlvLmdldCA9IGZ1bmN0aW9uKG4pIHsKCQkJCQlyLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L2hpc3Rvcnk/b3A9Z2V0IikuZG9uZShmdW5jdGlvbihhKSB7CgkJCQkJCWEgPSBzKGEucmVzdWx0KSwgYSA9IGwoYSksIGUgPSBhLCBuICYmIG4oYSksIGkgJiYgIXQgJiYgKGkoYSksIHQgPSAhMCkKCQkJCQl9KQoJCQkJfTsKCQkJCXZhciBsID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSBbXSwgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CgkJCQkJCXZhciBpID0gTnVtYmVyKGVbbl0ucHJpY2UpOwoJCQkJCQllW25dLnVybCAmJiBlW25dLnRpdGxlICYmIGkgJiYgaSA+IDAgJiYgdC5wdXNoKGVbbl0pCgkJCQkJfQoJCQkJCXJldHVybiB0CgkJCQl9OwoJCQkJcmV0dXJuIG8uYWRkID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXIuZ2V0KGEuc2VydmVyICsgIi9icndleHQvaGlzdG9yeT9vcD1hZGQmZHBfaWQ9IiArIGUpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQl0ICYmIHQoZSkKCQkJCQl9KQoJCQkJfSwgby5kZWxBbGwgPSBmdW5jdGlvbihlKSB7CgkJCQkJci5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9oaXN0b3J5P29wPWRlbEFsbCIpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQllKCkKCQkJCQl9KQoJCQkJfSwgby5kZWwgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJci5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9oaXN0b3J5P29wPWRlbCZkcF9pZD0iICsgZSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXQgJiYgdCgpCgkJCQkJfSkKCQkJCX0sIG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uKG4pIHsKCQkJCQllID8gKG4oZSksIHQgPSAhMCkgOiBpID0gbiwgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJdCB8fCAoaShudWxsKSwgdCA9ICEwKQoJCQkJCX0sIDE0ZTMpCgkJCQl9LCBvCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Imhpc3RvcnlfZGV0YWlsIiBjbGFzcz0iaGlzdG9yeV9kZXRhaWwiPlxuICA8ZGl2IGNsYXNzPSJoaXN0b3J5X2hlYWQiPlxuICAgIDxzcGFuIGNsYXNzPSJoaXN0b3J5X2hlYWRfdGxlIj7mtY/op4jljoblj7I8L3NwYW4+XG4gICAge3tpZiBoaXNfc2l6ZSAhPSAwfX1cbiAgICA8c3BhbiBjbGFzcz0iY2xlYXJfaGlzIj7muIXnqbrljoblj7I8L3NwYW4+XG4gICAge3svaWZ9fVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iaGlzdG9yeV9jb250ZW50IGhpc19zaXplX3t7aGlzX3NpemV9fSI+XG4gICAgPHVsPlxuICAgICAge3tlYWNoIGRhdGF9fVxuICAgICAgPGxpID5cbiAgICAgICAgPGEgY2xhc3M9Iml0ZW1faW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij48aW1nIHNyYz0iaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyLzEyMC5naWYiIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLmltZ191cmx9fSI+PC9hPlxuICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtX2Rlc2MiPlxuICAgICAgICAgIDxhIGNsYXNzPSJpdGVtX3RpdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgICAgICAgIDxhIGNsYXNzPSJvdGhlcl9kZXNjIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlX2ljb24iIHRpdGxlPSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSI+PGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZmF2aWNvbi97eyR2YWx1ZS5zaXRlX2lkfX0uaWNvIj48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iaXRlbV9wcmljZSI+wqV7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9Iml0ZW1fY2xvc2VfYnRuIiBkYXRhLWlkPSJ7eyR2YWx1ZS5kcF9pZH19Ij7liKDpmaQ8L3NwYW4+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgICB7ey9lYWNofX1cbiAgICA8L3VsPlxuICAgIDxkaXYgY2xhc3M9Im5vLWhpc3RvcnkiPuaaguaXoOa1j+iniOWOhuWPsjwvZGl2PlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjaGlzdG9yeV9kZXRhaWwge1xuICAgICAgd2lkdGg6IDI4OHB4O1xuICAgICAgbWluLWhlaWdodDogMTQwcHg7XG4gICAgICBtYXgtaGVpZ2h0OiA0MDVweDtcbiAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgfVxuICAgIC5oaXN0b3J5X2hlYWQge1xuICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5uby1oaXN0b3J5IHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA3MHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDcwcHg7XG4gICAgICBjb2xvcjogIzMyMzMzMztcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5oaXN0b3J5X2hlYWQgc3BhbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9oZWFkX3RsZSB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzMyMzMzMztcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgdG9wOiAxMnB4O1xuICAgICAgbGVmdDogMTVweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5jbGVhcl9oaXMge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM4YThjOGQ7XG4gICAgICB0b3A6IDEycHg7XG4gICAgICByaWdodDogMTlweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5jbGVhcl9oaXM6aG92ZXIge1xuICAgICAgY29sb3I6ICM3MDcwNzA7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50IHtcbiAgICAgIG1hcmdpbjogMHB4IDBweCAxN3B4IDA7XG4gICAgICB3aWR0aDogMjcycHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTZweDtcbiAgICAgIGhlaWdodDogMzM0cHg7XG4gICAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50Lmhpc19zaXplXzAsICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50Lmhpc19zaXplXzEge1xuICAgICAgaGVpZ2h0OiA3NnB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgLmhpc3RvcnlfY29udGVudC5oaXNfc2l6ZV8wLCAjaGlzdG9yeV9kZXRhaWwgLmhpc3RvcnlfY29udGVudC5uby1oaXMtY29udGVudCB7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgLmhpc3RvcnlfY29udGVudC5oaXNfc2l6ZV8yIHtcbiAgICAgIGhlaWdodDogMTY1cHg7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50Lmhpc19zaXplXzMge1xuICAgICAgaGVpZ2h0OiAyNTRweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQuaGlzX3NpemVfMCAubm8taGlzdG9yeSwgI2hpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQubm8taGlzLWNvbnRlbnQgLm5vLWhpc3Rvcnkge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCB1bCB7XG4gICAgICBtYXJnaW46IDBweDtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIHVsIGxpe1xuICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgIGhlaWdodDogNzJweDtcbiAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgZmxvYXQ6IG5vbmU7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCB1bCBsaTpmaXJzdC1jaGlsZHtcbiAgICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5pdGVtX2ltZyB7XG4gICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICB3aWR0aDogNzBweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgIGxpbmUtaGVpZ2h0OiA3MHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgLml0ZW1fZGVzYyB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgLW1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgd2lkdGg6IDE1OXB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgYS5pdGVtX3RpdGxlLCAjaGlzdG9yeV9kZXRhaWwgYS5vdGhlcl9kZXNjIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNTlweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIGEub3RoZXJfZGVzYyB7XG4gICAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgICAgd2lkdGg6IDE2NXB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgYS5pdGVtX3RpdGxle1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB3aWR0aDogMTU5cHg7XG4gICAgICBjb2xvcjogIzRhNGE0YTtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIGEuaXRlbV90aXRsZTpob3ZlcntcbiAgICAgIGNvbG9yOiAjNGE0YTRhO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC5vdGhlcl9kZXNjOmFmdGVyIHtcbiAgICAgIGNvbnRlbnQ6ICIiO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBjbGVhcjogYm90aDtcbiAgICB9XG4gICAgLm90aGVyX2Rlc2Mgc3BhbiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgc3Bhbi5pdGVtX3ByaWNlIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAycHg7XG4gICAgICBjb2xvcjogI0QxMDgzMTtcbiAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgc3Bhbi5pdGVtX3ByaWNlOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjRDEwODMxO1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuaXRlbV9pbWcgaW1nIHtcbiAgICAgIG1heC1oZWlnaHQ6IDcwcHg7XG4gICAgICBtYXgtd2lkdGg6IDcwcHg7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCBzcGFuLnNpdGVfaWNvbiB7XG4gICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICAgIGN1cnNvcjogdGV4dDtcbiAgICB9XG4gICAgXG4gICAgc3Bhbi5pdGVtX2Nsb3NlX2J0biB7XG4gICAgICBjb2xvcjogIzliOWI5YjtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGhlaWdodDogMTJweDtcbiAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbGluZS1oZWlnaHQ6IDE3cHg7XG4gICAgfVxuICAgIHNwYW4uaXRlbV9jbG9zZV9idG46aG92ZXIge1xuICAgICAgY29sb3I6ICM3MDcwNzAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBcbiAgICBcbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOTIpLAoJCQkJbyA9IG4oNzUpLAoJCQkJciA9IG4oMTE5KSwKCQkJCXMgPSBuKDE2MSksCgkJCQlsID0gbigxMTcpLAoJCQkJYyA9IG4oMTY3KSwKCQkJCWQgPSBuKDE2OSksCgkJCQlwID0gbigxNiksCgkJCQloID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQkiMSIgPT09IHQucF9mb2xkICYmIChlID0gImItaGlkZGVuIik7CgkJCQkJdmFyIGEgPSBuKDIwOSk7CgkJCQkJaSgiYm9keSIpLmFwcGVuZChwLmNvbXBpbGUoYSkoewoJCQkJCQloaWRlbW9kOiBlCgkJCQkJfSkpCgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCWkoIiNnd2RhbmctdHJlbmQiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjZ3dkYW5nLXRyZW5kLWRldGFpbCIpLnNob3coKSwgaSh0aGlzKS5hZGRDbGFzcygibXNob3ZlciIpCgkJCQkJfSksIGkoIiNnd2RhbmctdHJlbmQsICNnd2RhbmctdHJlbmQtZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiI2d3ZGFuZy10cmVuZC1kZXRhaWwiKS5oaWRlKCksIGkodGhpcykucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJCX0pLCBpKCIubmJ0LWNsb3NlLWJ0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkiMSIgIT09IHQucF9mb2xkID8gKGkoIi5jbG9zZS1tb2R1bGUiKS5hZGRDbGFzcygiYi1oaWRkZW4iKSwgaSh0aGlzKS5hZGRDbGFzcygiYi1oaWRkZW4iKSwgaSgiI2JqZF9ib3R0b21fZGV0YWlsIikuY3NzKCJ3aWR0aCIsICI4NnB4IiksIHQucF9mb2xkID0gIjEiKSA6IChpKCIuY2xvc2UtbW9kdWxlIikucmVtb3ZlQ2xhc3MoImItaGlkZGVuIiksIGkodGhpcykucmVtb3ZlQ2xhc3MoImItaGlkZGVuIiksIGkoIiNiamRfYm90dG9tX2RldGFpbCIpLmNzcygid2lkdGgiLCAiMTAwJSIpLCB0LnBfZm9sZCA9ICIwIiksIGEubWFpbmJhcmZvbGQodC5wX2ZvbGQpCgkJCQkJfSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0MiA9IGZ1bmN0aW9uKGUpIHsKCQkJCXQuSUU2ICYmICJjY2IiID09IHQuc2l0ZSB8fCAoaCgpLCBuKDIxMCkuaW5pdChlKSwgbigxODYpLmluaXQoZS5ub3cpLCBuKDE4NCkuaW5pdCgpLCBuKDEyNSkuaW5pdChlLm5vdy5zaXRlX2lkKSwgbig4NCkuaW5pdChlKSwgbigxNzEpLmluaXQoKSwgbigyMTIpLmluaXQoKSwgdSgpLCBsLmluaXQodC53aGVyZV9idXlfZHBzLCB0Lm5vd19kcF9pZCwgImJvdHRvbSIpLCBvLmluaXQoZSwgImJvdHRvbSIpLCByLmluaXQoZS5zaGFyZV9nb29kLCBlLm5vdyksIHMuYWRkUHJvbW8ocy5nZXRQcm9tb0RhdGEoZSkpKQoJCQl9LCBlLmV4cG9ydHMucmVuZGVyU2VhcmNoID0gZnVuY3Rpb24oKSB7CgkJCQljLmluaXQoKSwgZC5pbml0KCkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImJqZF9ib3R0b21fZGV0YWlsIiBjbGFzcz0ie3toaWRlbW9kfX0iPlxuICA8YSBocmVmPSIiIGlkPSJiamRfbG9nbyIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPlxuICAgIDxzcGFuIGNsYXNzPSJuYnQtYmciPjwvc3Bhbj5cbiAgPC9hPlxuICA8ZGl2IGNsYXNzPSJsZWZ0LWNvbXBhcmUgY2xvc2UtbW9kdWxlIHt7aGlkZW1vZH19Ij5cbiAgICA8c3BhbiBjbGFzcz0iY29tLWxvd3ByaSI+XG4gICAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9ImNvbS16ZG0iPlxuICAgICAgPGVtIGNsYXNzPSJuYnQtYmciPjwvZW0+XG4gICAgPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJjb20taHltIj5cbiAgICAgIDxlbSBjbGFzcz0ibmJ0LWJnIj48L2VtPlxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Im5idC1hZGluZm8gY2xvc2UtbW9kdWxlIHt7aGlkZW1vZH19Ij48L2Rpdj5cbiAgPGRpdiBjbGFzcz0ibmJ0LWNsb3NlLWJ0biB7e2hpZGVtb2R9fSI+XG4gICAgPHNwYW4gY2xhc3M9Im5idC1iZyI+PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icmlnaHQtaW5mbyBjbG9zZS1tb2R1bGUge3toaWRlbW9kfX0iPlxuICAgIDxkaXYgY2xhc3M9InByaWNlLXRyZW5kLWJ0biIgaWQ9Imd3ZGFuZy10cmVuZCI+XG4gICAgICA8ZGl2IGNsYXNzPSJ0cmVuZC1ib3gtZGV2Ij5cbiAgICAgICAgPGVtIGNsYXNzPSJzZXR0aW5nLWJnIj48L2VtPlxuICAgICAgICA8c3Bhbj7ku7fmoLzkuIvpmY08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBpZD0iZ3dkYW5nLXRyZW5kLWRldGFpbCIgY2xhc3M9Imd3ZC10cmVuZC1kZXRhaWwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNlYXJjaC1tb2QiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImJqZC1oaXN0b3J5LWJ0biByaW5mby1idG4iIGlkPSJnd2RfaGlzdG9yeSI+XG4gICAgICA8c3BhbiBjbGFzcz0ibmJ0LWJnIj48L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iYmpkLWZhdm9yLWJ0biByaW5mby1idG4iIGlkPSJnd2RhbmctZmF2b3IiPlxuICAgICAgPHNwYW4gY2xhc3M9Im5idC1iZyI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ibWFpbi1jb21wYXJlIGNsb3NlLW1vZHVsZSB7e2hpZGVtb2R9fSI+XG4gICAgPHNwYW4gY2xhc3M9Im5idC1iZyBtYmFyLXR1cm5wYWdlIHRsZWZ0Ij48L3NwYW4+XG4gICAgPGRpdiBjbGFzcz0iY29tcGFyZS1ib3giPlxuICAgICAgPHVsIGNsYXNzPSJjb21wYXJlLWxpc3QiPlxuICAgICAgICBcbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPHNwYW4gY2xhc3M9Im5idC1iZyBtYmFyLXR1cm5wYWdlIHRyaWdodCI+PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGRpdiA+PC9kaXY+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSB7CgkJCQkJIuS6rOS4nCI6IHsKCQkJCQkJc2l0ZV9pZDogMywKCQkJCQkJcGF0dGVybjogImh0dHA6Ly9zZWFyY2guamQuY29tL1NlYXJjaD9lbmM9dXRmLTgma2V5d29yZD0iCgkJCQkJfSwKCQkJCQki5Lqa6ams6YCKIjogewoJCQkJCQlzaXRlX2lkOiAxLAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy5hbWF6b24uY24vcz9maWVsZC1rZXl3b3Jkcz0iCgkJCQkJfSwKCQkJCQki5b2T5b2TIjogewoJCQkJCQlzaXRlX2lkOiAyLAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3NlYXJjaGIuZGFuZ2RhbmcuY29tLz9rZXk9IgoJCQkJCX0sCgkJCQkJIuiLj+WugSI6IHsKCQkJCQkJc2l0ZV9pZDogMjUsCgkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLnN1bmluZy5jb20vZW1hbGwvc2VhcmNoLmRvP2tleXdvcmQ9IgoJCQkJCX0sCgkJCQkJIua3mOWunSI6IHsKCQkJCQkJc2l0ZV9pZDogODMsCgkJCQkJCXBhdHRlcm46ICJodHRwOi8vcy50YW9iYW8uY29tL3NlYXJjaD9xPSIKCQkJCQl9LAoJCQkJCSLlm73nvo4iOiB7CgkJCQkJCXNpdGVfaWQ6IDI4LAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy5nb21lLmNvbS5jbi9zZWFyY2g/cXVlc3Rpb249IgoJCQkJCX0sCgkJCQkJIuS4gOWPt+W6lyI6IHsKCQkJCQkJc2l0ZV9pZDogMzEsCgkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLnloZC5jb20vczIvYzAtMC9rIgoJCQkJCX0sCgkJCQkJIuWUr+WTgeS8miI6IHsKCQkJCQkJc2l0ZV9pZDogMTI5LAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy4iICsgdC5leHROYW1lICsgIi5jb20vc2VhcmNoP2NyYzY0PTEmc192aXA9IgoJCQkJCX0sCgkJCQkJIui0reeJqeWFmiI6IHsKCQkJCQkJcGF0dGVybjogImh0dHA6Ly93d3cuIiArIHQuZXh0TmFtZSArICIuY29tL3NlYXJjaD9zX3Byb2R1Y3Q9IiwKCQkJCQkJc2l0ZV9pZDogMAoJCQkJCX0KCQkJCX0sCgkJCQlyID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gIiIsCgkJCQkJCWEgPSBvW2VdLnBhdHRlcm4sCgkJCQkJCXIgPSBvW2VdLnNpdGVfaWQsCgkJCQkJCXMgPSBpKCIuc2VhcmNoLWlucHV0IikudmFsKCk7CgkJCQkJcmV0dXJuIG4gPSAi6LSt54mp5YWaIiA9PT0gZSB8fCAi5ZSv5ZOB5LyaIiA9PT0gZSA/IGEgKyBlbmNvZGVVUklDb21wb25lbnQocykgOiB0LnVfc2VydmVyICsgIi91bmlvbi9nby8/c19wcm9kdWN0PSIgKyBlbmNvZGVVUklDb21wb25lbnQocykgKyAiJnRhcmdldF91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChhICsgZW5jb2RlVVJJKHMpKSArICImc2l0ZV9pZD0iICsgciwgaSgiLnNlYXJjaC1zdWJtaXQiKS5hdHRyKCJocmVmIiwgbiksIG4KCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDAsCgkJCQkJCXQgPSB2b2lkIDA7CgkJCQkJaSgiLnNlYXJjaC10bGUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdCA/IChpKCIuYmpkLXNlYXJjaC1saXN0IikuaGlkZSgpLCBpKCIuc2VhcmNoLXRsZSBlbSIpLnJlbW92ZUNsYXNzKCJlbXVwIiksIGkoIi5zZWFyY2gtdGxlIikucmVtb3ZlQ2xhc3MoInNlYXJjaC1zZWxlY3QiKSwgdCA9ICExKSA6ICh0ID0gITAsIGkoIi5iamQtc2VhcmNoLWxpc3QiKS5zaG93KCksIGkoIi5zZWFyY2gtdGxlIikuYWRkQ2xhc3MoInNlYXJjaC1zZWxlY3QiKSwKCQkJCQkJCWkoIi5zZWFyY2gtdGxlIGVtIikuYWRkQ2xhc3MoImVtdXAiKSkKCQkJCQl9KSwgaSgiLmJqZC1zZWFyY2gtbGlzdCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIG4gPSBpKGUudGFyZ2V0KS50ZXh0KCksCgkJCQkJCQlhID0gaSgiLnNlYXJjaC10bGUgc3BhbiIpLAoJCQkJCQkJbyA9IGEudGV4dCgpOwoJCQkJCQlhLnRleHQobiksIGkoIi5iamQtc2VhcmNoLWxpc3QiKS5oaWRlKCkuYXBwZW5kKGkoIjxzcGFuPiIgKyBvICsgIjwvc3Bhbj4iKSksIGkoIi5zZWFyY2gtdGxlIikucmVtb3ZlQ2xhc3MoInNlYXJjaC1zZWxlY3QiKSwgaSgiLnNlYXJjaC10bGUgZW0iKS5yZW1vdmVDbGFzcygiZW11cCIpLCB0ID0gITEsIGkoZS50YXJnZXQpLnJlbW92ZSgpCgkJCQkJfSksIGkoIi5zZWFyY2gtdGxlLCAuYmpkLXNlYXJjaC1saXN0Iikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl0ID0gITEsIGkoIi5iamQtc2VhcmNoLWxpc3QiKS5oaWRlKCksIGkoIi5zZWFyY2gtdGxlIGVtIikucmVtb3ZlQ2xhc3MoImVtdXAiKSwgaSgiLnNlYXJjaC10bGUiKS5yZW1vdmVDbGFzcygic2VhcmNoLXNlbGVjdCIpCgkJCQkJCX0sIDMwMCkKCQkJCQl9KSwgaSgiLnNlYXJjaC1zdWJtaXQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBpKCIuc2VhcmNoLXRsZSBzcGFuIikudGV4dCgpOwoJCQkJCQlyKGUpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaSgiLnNlYXJjaC1zdWJtaXQiKS5hdHRyKCJocmVmIiwgbnVsbCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCBpKCIuc2VhcmNoLXRsZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbyA9IGUuZXhhY3RfYXJyLmtleXdvcmRzLnJlcGxhY2UoLywvZywgIiAiKTsKCQkJCQkidmlwc2hvcCIgPT09IHQuc2l0ZSAmJiAobyA9IGUubm93LmNvcmV3b3JkKTsKCQkJCQl2YXIgciA9IG4oMjExKTsKCQkJCQlpKCIuc2VhcmNoLW1vZCIpLmFwcGVuZChhLmNvbXBpbGUocikoewoJCQkJCQlrZXl3b3JkOiBvCgkJCQkJfSkpLCBzKCkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQkJImJvdHRvbSIgPT09IHQuc3R5bGUgJiYgbChlKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0ic2VhcmNoLXRsZSI+XG4gIDxzcGFuPui0reeJqeWFmjwvc3Bhbj5cbiAgPGVtIGNsYXNzPSJuYnQtYmciPjwvZW0+XG48L2Rpdj5cbjxpbnB1dCBjbGFzcz0ic2VhcmNoLWlucHV0IiB2YWx1ZT0ie3trZXl3b3JkfX0iPlxuPGEgaHJlZj0iIiBjbGFzcz0ic2VhcmNoLXN1Ym1pdCBuYnQtYmciIHRhcmdldD0iX2JsYW5rIj48L2E+XG48ZGl2IGNsYXNzPSJiamQtc2VhcmNoLWxpc3QiPlxuICA8c3Bhbj7mt5jlrp08L3NwYW4+XG4gIDxzcGFuPuWUr+WTgeS8mjwvc3Bhbj5cbiAgPHNwYW4+5Lqs5LicPC9zcGFuPlxuICA8c3Bhbj7oi4/lroE8L3NwYW4+XG4gIDxzcGFuPuS6mumprOmAijwvc3Bhbj5cbiAgPHNwYW4+5b2T5b2TPC9zcGFuPlxuICA8c3Bhbj7kuIDlj7flupc8L3NwYW4+XG4gIDxzcGFuPuWbvee+jjwvc3Bhbj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuc2VhcmNoLXRsZSB7XG4gICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NkY2RjZDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMThweDtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDE4cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICB9XG4gICAgLnNlYXJjaC10bGUuc2VhcmNoLXNlbGVjdCB7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwcHg7XG4gICAgfVxuICAgIC5zZWFyY2gtdGxlIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuICAgICAgLXdlYmtpdC10ZXh0LWFsaWduLWxhc3Q6anVzdGlmeTtcbiAgICB9XG4gICAgLnNlYXJjaC10bGUgZW0ge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgaGVpZ2h0OiA2cHg7XG4gICAgICB3aWR0aDogOXB4O1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTMycHggLTEwMnB4O1xuICAgIH1cbiAgICAuc2VhcmNoLXRsZSBlbS5lbXVwIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNzdweCAtMTAycHg7XG4gICAgfVxuICAgIC5iamQtc2VhcmNoLWxpc3Qge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaGVpZ2h0OiAxNjBweDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvdHRvbTogNTlweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO1xuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG4gICAgLmd3ZF9hbWF6b24gLmJqZC1zZWFyY2gtbGlzdCB7XG4gICAgICBib3R0b206IDU3cHg7XG4gICAgfVxuICAgIC5iamQtc2VhcmNoLWxpc3Qgc3BhbiB7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICAgICAtd2Via2l0LXRleHQtYWxpZ24tbGFzdDpqdXN0aWZ5O1xuICAgIH1cbiAgICAuYmpkLXNlYXJjaC1saXN0IHNwYW46aG92ZXIge1xuICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgfVxuICAgIEBtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86MCl7XG4gICAgICAuYmpkLXNlYXJjaC1saXN0IHNwYW46YWZ0ZXIsIC5zZWFyY2gtdGxlIHNwYW46YWZ0ZXJ7XG4gICAgICAgICAgY29udGVudDoiLiI7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICAgIGhlaWdodDowO1xuICAgICAgfVxuICAgIH1cbiAgICAuc2VhcmNoLWlucHV0IHtcbiAgICAgIHdpZHRoOiAxOTJweDtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIHBhZGRpbmc6IDAgMCAwIDVweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NkY2RjZDtcbiAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgb3V0bGluZTogMDtcbiAgICAgIGNvbG9yOiAjOTk5O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhSGVpXCcsdGFob21hLGFyaWFsLFNpbVN1bjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIGEuc2VhcmNoLXN1Ym1pdCB7XG4gICAgICB3aWR0aDogMzBweDtcbiAgICAgIGhlaWdodDogMjRweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtOTRweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzNzkwRTE7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMThweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxOHB4O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMTIyKSwKCQkJCXIgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMDsKCQkJCQl0KCIjYmpkX2xvZ28iKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCIjbmJ0X3NldHRpbmciKS5zaG93KCkKCQkJCQl9KSwgdCgiI2JqZF9sb2dvIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl0KCIjbmJ0X3NldHRpbmciKS5oaWRlKCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCB0KCIjbmJ0X3NldHRpbmciKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQoZSkKCQkJCQl9KSwgdCgiI25idF9zZXR0aW5nIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJdCgiI25idF9zZXR0aW5nIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLAoJCQkJCQlzID0gaS5idHlwZSA/IGkuYnR5cGUgOiAiIiwKCQkJCQkJbCA9IG4oMjEzKTsKCQkJCQl0KCIjYmpkX2JvdHRvbV9kZXRhaWwiKS5hcHBlbmQoYS5jb21waWxlKGwpKHsKCQkJCQkJbWFpbnNldDogaS5zZXJ2ZXIgKyAiL2Jyd2V4dC9zZXR0aW5nP2Zyb209IiArIG8oaS5mcm9tX2RldmljZSkgKyAiJmJ0eXBlPSIgKyBzLAoJCQkJCQlmZWVkYmFjazogaS5jX3NlcnZlciArICInL2Jyd2V4dC9zdWdnZXN0P3JlZmVyPSciICsgZW5jb2RlVVJJQ29tcG9uZW50KGUpICsgIiZmcm9tX2RldmljZT0iICsgaS5mcm9tX2RldmljZSArICImYnR5cGU9IiArIHMsCgkJCQkJCWhlbHA6IGkuY19zZXJ2ZXIgKyAiL2FwcC9leHRlbnNpb24/cGFnZT1xdWVzdGlvbiIsCgkJCQkJCXdlYnBhZ2U6IGkuY19zZXJ2ZXIgKyAiLyIKCQkJCQl9KSksIHIoKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXMoKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ibmJ0X3NldHRpbmciPiBcbiAgPGEgY2xhc3M9InNldHRpbmctaXRlbSBtYWluLXNldHRpbmciIGhyZWY9Int7bWFpbnNldH19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgPGVtIGNsYXNzPSJuYnQtYmciPjwvZW0+XG4gICAgPHNwYW4+5Yqf6IO96K6+572uPC9zcGFuPlxuICA8L2E+XG4gIDxhIGNsYXNzPSJzZXR0aW5nLWl0ZW0gbmJ0LWZlZWRiYWNrIiBocmVmPSJ7e2ZlZWRiYWNrfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8c3Bhbj7mhI/op4Hlj43ppog8L3NwYW4+XG4gIDwvYT5cbiAgPGEgY2xhc3M9InNldHRpbmctaXRlbSBuYnQtaGVscCIgaHJlZj0ie3toZWxwfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8c3Bhbj7kvb/nlKjluK7liqk8L3NwYW4+XG4gIDwvYT5cbiAgPGEgY2xhc3M9InNldHRpbmctaXRlbSBuYnQtd2VicGFnZSIgaHJlZj0ie3t3ZWJwYWdlfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8c3Bhbj7otK3nianlhZrpppbpobU8L3NwYW4+XG4gIDwvYT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMjA2KSwKCQkJCW8gPSB7CgkJCQkJeW91eXU6ICI0MDYiLAoJCQkJCWpkOiAiMyIsCgkJCQkJdml2bzogIjM4MCIKCQkJCX0sCgkJCQlyID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gb1tuXTsKCQkJCQlyZXR1cm4gdC5zcGVjaWFsVW5pb24gKyAiP3NpdGVfaWQ9IiArIGkgKyAiJnRhcmdldF91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlKSArICImdW5pb249MTA5ODE2NCZjb2x1bW49ZmRzIgoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbigpIHsKCQkJCQlmb3IgKHZhciBlID0gaSgiLnByb2R1Y3QtYjJjLXByaWNlLWJveCBhIiksIHQgPSBlLmxlbmd0aCwgbiA9IDA7IHQgPiBuOyBuKyspIHsKCQkJCQkJdmFyIGEgPSBlLmVxKG4pLmF0dHIoImhyZWYiKTsKCQkJCQkJYS5tYXRjaCgvXig/Omh0dHB8aHR0cHMpXDpcL1wvXHcrXC55b3V5dVwuY29tLykgPyBlLmVxKG4pLmF0dHIoImhyZWYiLCByKGEsICJ5b3V5dSIpKSA6IGEubWF0Y2goL14oPzpodHRwfGh0dHBzKVw6XC9cL3VuaW9uXC5jbGlja1wuamRcLmNvbS8pID8gKGEgPSBhLm1hdGNoKC8mdG89KC4qKS8pWzFdLCBlLmVxKG4pLmF0dHIoImhyZWYiLCByKGEsICJqZCIpKSkgOiBhLm1hdGNoKC9eKD86aHR0cHxodHRwcylcOlwvXC9zaG9wXC52aXZvXC5jb21cLmNuLykgJiYgKGEgPSBhLnJlcGxhY2UoIj9zb3VyY2U9dml2b196b2wiLCAiIiksIGUuZXEobikuYXR0cigiaHJlZiIsIHIoYSwgInZpdm8iKSkpCgkJCQkJfQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkoIi5wcm9kdWN0LWIyYy1wcmljZS1ib3ggLmIyYy1qZCIpLAoJCQkJCQl0ID0gZS5lcSgwKS5hdHRyKCJocmVmIikgfHwgIiIsCgkJCQkJCW4gPSB0Lm1hdGNoKC90bz0oPzpodHRwfGh0dHBzKTpcL1wvaXRlbVwuamRcLmNvbVwvKFxkKylcLmh0bWwvKTsKCQkJCQlpZiAobikgewoJCQkJCQl2YXIgbyA9IG5bMV0gKyAiLTMiOwoJCQkJCQlhLmFkZChvKQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQkibmpjayIgPT09IHQuZnJvbV9kZXZpY2UgJiYgInpvbCIgPT09IHQuc2l0ZSAmJiBzKCksICJ6b2wiID09PSB0LnNpdGUgJiYgbCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9Cl0pOw=="},{"name":"Search By Image","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["*"],"orig_matches":["<all_urls>"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"setting":"s{\"site_list\":{\"Google\":\"https://www.google.com/searchbyimage?image_url={%s}\",\"Baidu\":\"https://image.baidu.com/n/pc_search?queryImageUrl={%s}&fm=result_camera&uptype=paste&drag=1\",\"Bing\":\"https://www.bing.com/images/searchbyimage?cbir=sbi&iss=sbi&imgurl={%s}\",\"TinEye\":\"https://www.tineye.com/search?url={%s}\",\"Yandex\":\"https://yandex.ru/images/search?rpt=imageview&img_url={%s}\",\"Sogou\":\"https://pic.sogou.com/ris?query={%s}&flag=1&drag=0\",\"360 ShiTu\":\"http://st.so.com/stu?imgurl={%s}\",\"SauceNAO\":\"https://saucenao.com/search.php?db=999&url={%s}\",\"IQDB\":\"https://iqdb.org/?url={%s}\",\"3D IQDB\":\"https://3d.iqdb.org/?url={%s}\",\"WhatAnime\":\"https://whatanime.ga/?url={%s}\"},\"site_option\":[\"Google\",\"Baidu\",\"Bing\",\"TinEye\",\"Yandex\",\"Sogou\",\"360 ShiTu\",\"SauceNAO\",\"IQDB\",\"3D IQDB\",\"WhatAnime\",\"WhatAnime\"],\"hot_key\":\"ctrlKey\",\"server_url\":\"//sbi.ccloli.com/img/upload.php\"}","timestamp":"n1503276839048","version":"n4"},"ts":1503276839048},"enabled":true,"position":11,"file_url":"https://greasyfork.org/scripts/2998-search-by-image/code/Search%20By%20Image.user.js","uuid":"f268c154-06b1-4454-bba6-358d5c6dfc8c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFNlYXJjaCBCeSBJbWFnZQovLyBAdmVyc2lvbiAgICAgMS41Ci8vIEBkZXNjcmlwdGlvbiBTZWFyY2ggQnkgSW1hZ2UgfCDku6Xlm77mkJzlm74KLy8gQG1hdGNoICAgICAgIDxhbGxfdXJscz4KLy8gQGluY2x1ZGUgICAgICoKLy8gQGF1dGhvciAgICAgIDg2NDkwNzYwMGNjCi8vIEBpY29uICAgICAgICBodHRwOi8vMS5ncmF2YXRhci5jb20vYXZhdGFyLzE0NzgzNGNhZjljY2IwYTY2YjI1MDVjNzUzNzQ3ODY3Ci8vIEBydW4tYXQgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQG5hbWVzcGFjZSAgIGh0dHA6Ly9leHQuY2Nsb2xpLmNvbQovLyA9PS9Vc2VyU2NyaXB0PT0KCgovLyDmnKzohJrmnKzln7rkuo4gR1BMdjMg5Y2P6K6u5byA5rqQIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbAovLyAoYykgODY0OTc2MDBjYy4gU29tZSBSaWdodHMgUmVzZXJ2ZWQuCi8vIERlZmF1bHQgc2V0dGluZzogUHJlc3MgQ3RybCBhbmQgY2xpY2sgcmlnaHQga2V5IG9uIGEgaW1hZ2UgdG8gc2VhcmNoLgoKJ3VzZSBzdHJpY3QnOwp2YXIgZGVmYXVsdF9zZXR0aW5nID0gewoJInNpdGVfbGlzdCI6IHsKCQkiR29vZ2xlIjogImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoYnlpbWFnZT9pbWFnZV91cmw9eyVzfSIsCgkJIkJhaWR1IjogImh0dHBzOi8vaW1hZ2UuYmFpZHUuY29tL24vcGNfc2VhcmNoP3F1ZXJ5SW1hZ2VVcmw9eyVzfSZmbT1yZXN1bHRfY2FtZXJhJnVwdHlwZT1wYXN0ZSZkcmFnPTEiLAoJCSJCaW5nIjogImh0dHBzOi8vd3d3LmJpbmcuY29tL2ltYWdlcy9zZWFyY2hieWltYWdlP2NiaXI9c2JpJmlzcz1zYmkmaW1ndXJsPXslc30iLAoJCSJUaW5FeWUiOiAiaHR0cHM6Ly93d3cudGluZXllLmNvbS9zZWFyY2g/dXJsPXslc30iLAoJCS8vIkN5ZHJhbCI6ICJodHRwOi8vd3d3LmN5ZHJhbC5jb20vI3VybD17JXN9IiwKCQkiWWFuZGV4IjogImh0dHBzOi8veWFuZGV4LnJ1L2ltYWdlcy9zZWFyY2g/cnB0PWltYWdldmlldyZpbWdfdXJsPXslc30iLCAvLyBjaGFuZ2UgItCv0L3QtNC10LrRgSAoWWFuZGV4KSIgdG8gIllhbmRleCIKCQkiU29nb3UiOiAiaHR0cHM6Ly9waWMuc29nb3UuY29tL3Jpcz9xdWVyeT17JXN9JmZsYWc9MSZkcmFnPTAiLAoJCSIzNjAgU2hpVHUiOiAiaHR0cDovL3N0LnNvLmNvbS9zdHU/aW1ndXJsPXslc30iLAoJCSJTYXVjZU5BTyI6ICJodHRwczovL3NhdWNlbmFvLmNvbS9zZWFyY2gucGhwP2RiPTk5OSZ1cmw9eyVzfSIsCgkJIklRREIiOiAiaHR0cHM6Ly9pcWRiLm9yZy8/dXJsPXslc30iLAoJCSIzRCBJUURCIjogImh0dHBzOi8vM2QuaXFkYi5vcmcvP3VybD17JXN9IiwKCQkiV2hhdEFuaW1lIjogImh0dHBzOi8vd2hhdGFuaW1lLmdhLz91cmw9eyVzfSIKCX0sCgkic2l0ZV9vcHRpb24iOiBbIkdvb2dsZSIsICJCYWlkdSIsICJCaW5nIiwgIlRpbkV5ZSIsICJZYW5kZXgiLCAiU29nb3UiLCAiMzYwIFNoaVR1IiwgIlNhdWNlTkFPIiwgIklRREIiLCAiM0QgSVFEQiIsICJXaGF0QW5pbWUiXSwKCSJob3Rfa2V5IjogImN0cmxLZXkiLAoJInNlcnZlcl91cmwiOiAiLy9zYmkuY2Nsb2xpLmNvbS9pbWcvdXBsb2FkLnBocCIKfTsKCi8qdmFyIHNlcnZlcl91cmwgPSAiLy9zYmkuY2Nsb2xpLmNvbS9pbWcvdXBsb2FkLnBocCI7Ki8KLy8g6K+355u05o6l5Zyo6K6+572u6aG16L+b6KGM6K6+572u77yIRmlyZWZveCDor7flsL3ph4/pgInmi6nmlK/mjIEgaHR0cHMg55qE5pyN5Yqh5Zmo77yJCi8vIOWcsOWdgOWJjeS9v+eUqCIvLyLooajnpLrmjInnhaflvZPliY3pobXpnaLorr7lrprlhrPlrprmmK/lkKbkvb/nlKggaHR0cHMKLy8g5Zyw5Z2A5YmN5L2/55SoImh0dHA6Ly8i6KGo56S65by65Yi25L2/55SoIGh0dHAKLy8g5Zyw5Z2A5YmN5L2/55SoImh0dHBzOi8vIuihqOekuuW8uuWItuS9v+eUqCBodHRwc++8iOmcgOehruiupOacjeWKoeWZqOaUr+aMgSBzc2zvvIkKLy8g5aaC5p6c6ZyA6KaB6Ieq5bex5p626K6+5LiK5Lyg5pyN5Yqh5Zmo55qE6K+d6K+36K6/6ZeuIEdpdEh1YiDpobnnm67pobXvvIhodHRwczovL2dpdGh1Yi5jb20vY2Nsb2xpL1NlYXJjaC1CeS1JbWFnZe+8ieiOt+WPluacjeWKoeerrwovLyDlhbbku5blj6/nlKjnmoTkuIrkvKDmnI3liqHlmajlpoLkuIvvvJoKLy8gSGVyb2t1OiAvL3NlYXJjaC1ieS1pbWFnZS5oZXJva3VhcHAuY29tL2ltZy91cGxvYWQucGhwIO+8iOaUr+aMgSBodHRwc++8iQovLyBCZUdldDogaHR0cDovL2ZoMTMxMjFhLmJnZXQucnUvaW1nL3VwbG9hZC5waHAg77yI5LiN5pSv5oyBIGh0dHBz77yJCi8vIE9wZW5TaGlmdDogLy9zZWFyY2hieWltYWdlLTg2NDkwNzYwMGNjLnJoY2xvdWQuY29tL2ltZy91cGxvYWQucGhwIO+8iOaUr+aMgSBodHRwc++8iQovLyBEaWdpdGFsT2NlYW4gVlBTOiAvL3NiaS5jY2xvbGkuY29tL2ltZy91cGxvYWQucGhwIO+8iOaUr+aMgSBodHRwc++8jHRoYW5rcyB0byBSZXRha2Vy77yJCi8vIOazqOaEj++8jOmDqOWIhuacjeWKoeWZqOWPr+iDveS7heaUr+aMgSBodHRwIOWNj+iuru+8jOiLpeaCqOmAieaLqeS6hui/meS6m+acjeWKoeWZqO+8jOivt+WKoeW/heazqOaYjiAiaHR0cDovLyLvvIzkuJToi6Xmgqjkvb/nlKjnmoTmmK8gRmlyZWZveCDmtY/op4jlmajvvIzlnKggaHR0cHMg6aG16Z2i5LiL5bCG5LiN6IO95LiK5Lyg5paH5Lu25pCc57Si5pCc57Si77yI6Zmk6Z2e6K6+572uIHNlY3VyaXR5Lm1peGVkX2NvbnRlbnQuYmxvY2tfYWN0aXZlX2NvbnRlbnQg5Li6IGZhbHNl77yJCgp2YXIgc2VhcmNoX3BhbmVsID0gbnVsbDsKdmFyIHNldHRpbmcgPSBHTV9nZXRWYWx1ZSgnc2V0dGluZycpID8gSlNPTi5wYXJzZShHTV9nZXRWYWx1ZSgnc2V0dGluZycpKSA6IGRlZmF1bHRfc2V0dGluZzsKdmFyIGRpc2FibGVfY29udGV4dG1lbnUgPSBmYWxzZTsKdmFyIGltZ19zcmMgPSBudWxsOwp2YXIgZGF0YV92ZXJzaW9uID0gR01fZ2V0VmFsdWUoJ3ZlcnNpb24nLCAwKTsKdmFyIGxhc3RfdXBkYXRlID0gR01fZ2V0VmFsdWUoJ3RpbWVzdGFtcCcsIDApOwp2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CnZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwpyZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZmlsZSkgewoJdXBsb2FkX2ZpbGUodGhpcy5yZXN1bHQpOwp9OwoKdmFyIGkxOG4gPSB7CgknemgnOiB7CgkJJ3Uycyc6ICfkuIrkvKDlm77niYflubbmkJzntKInLAoJCSdkaCc6ICfmi5bmi73mlofku7boh7PmraQnLAoJCSdjYSc6ICfnoa7orqTnu4jmraLkuIrkvKDmlofku7blkJfvvJ8nLAoJCSdhJzogJ+WkmuaQnCcsCgkJJ24nOiAn5ZCN56ewJywKCQknbCc6ICflnLDlnYDvvIjlm77niYflnLDlnYDku6UgeyVzfSDku6Pmm7/vvIknLAoJCSdjcic6ICfnoa7lrprlsIbmiYDmnInorr7nva7liJ3lp4vljJbkuYjvvJ9cbijliJ3lp4vljJblsIbmuIXpmaTmiYDmnInmiYDmnInorr7nva7vvIzkuJTkuI3lj6/pgIYpJywKCQkndXMnOiAn5LiK5Lyg5a6M5oiQ77yBJywKCQkndWYnOiAn5LiK5Lyg5aSx6LSl77yBJywKCQknc2gnOiAn54Ot6ZSuJywKCQknc2EnOiAn5re75YqgJywKCQknc3InOiAn6YeN572uJywKCQknc3MnOiAn5L+d5a2YJywKCQknc2MnOiAn5Y+W5raIJwoJfSwKCSdlbic6IHsKCQkndTJzJzogJ1VwbG9hZCBpbWFnZSB0byBzZWFyY2gnLAoJCSdkaCc6ICdEcmFnIGZpbGUgdG8gaGVyZScsCgkJJ2NhJzogJ0FyZSB5b3Ugc3VyZSB0byBjYW5jZWwgdXBsb2FkaW5nPycsCgkJJ2EnOiAnQWxsJywKCQknbic6ICdOYW1lJywKCQknbCc6ICdMb2NhdGlvbiAoSW1hZ2UgVVJMIHNob3VsZCBiZSByZXBsYWNlIHdpdGggeyVzfSknLAoJCSdjcic6ICdBcmUgeW91IHN1cmUgdG8gcmVzZXQgYWxsIHByZWZlcmVuY2VzIChpcnJldmVyc2libGUpID8nLAoJCSd1cyc6ICdVcGxvYWQgZmluaXNoZWQhJywKCQkndWYnOiAnVXBsb2FkIGZhaWxlZCEnLAoJCSdzaCc6ICdIb3QgS2V5JywKCQknc2EnOiAnQWRkJywKCQknc3InOiAnUmVzZXQnLAoJCSdzcyc6ICdTYXZlJywKCQknc2MnOiAnQ2FuY2VsJwoJfQp9Owp2YXIgbGFuZyA9IGkxOG5bbmF2aWdhdG9yLmxhbmd1YWdlXSA/IG5hdmlnYXRvci5sYW5ndWFnZSA6IG5hdmlnYXRvci5sYW5ndWFnZXMgPyBuYXZpZ2F0b3IubGFuZ3VhZ2VzLmZpbHRlcihmdW5jdGlvbihlbGVtKXsKCXJldHVybiBpMThuW2VsZW1dOwp9KVswXSA6IG51bGw7CmlmIChsYW5nID09IG51bGwpIGxhbmcgPSAnZW4nOwoKaWYgKGRhdGFfdmVyc2lvbiA8IDQpIHsKCXZhciBuZXdfc2l0ZV9saXN0ID0ge307Cgl2YXIgbmV3X3NpdGVfb3B0aW9uID0gW107CgoJZm9yICh2YXIgaSBpbiBzZXR0aW5nLnNpdGVfbGlzdCkgewoJCS8vIHVzZSBmb3IgbG9vcCB0byBrZWVwIG9yZGVyLCB3aWxsIHVzZSBhcnJheSBpbiAyLngKCQlzd2l0Y2ggKGkpIHsKCQkJY2FzZSAnQmFpZHUgU2hpVHUnOgoJCQljYXNlICdCYWlkdSBJbWFnZSc6CgkJCQluZXdfc2l0ZV9saXN0WydCYWlkdSddID0gZGVmYXVsdF9zZXR0aW5nLnNpdGVfbGlzdFsnQmFpZHUnXTsKCQkJCWJyZWFrOwoKCQkJY2FzZSAnQmluZyc6CgkJCWNhc2UgJ1NvZ291JzoKCQkJCW5ld19zaXRlX2xpc3RbaV0gPSBkZWZhdWx0X3NldHRpbmcuc2l0ZV9saXN0W2ldOwoJCQkJYnJlYWs7CgkJCQoJCQlkZWZhdWx0OgoJCQkJbmV3X3NpdGVfbGlzdFtpXSA9IHNldHRpbmcuc2l0ZV9saXN0W2ldOwoJCX0KCX0KCW5ld19zaXRlX2xpc3RbJ1doYXRBbmltZSddID0gZGVmYXVsdF9zZXR0aW5nLnNpdGVfbGlzdFsnV2hhdEFuaW1lJ107CgoJZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5nLnNpdGVfb3B0aW9uLmxlbmd0aDsgaSsrKSB7CgkJaWYgKChzZXR0aW5nLnNpdGVfb3B0aW9uW2ldID09PSAnQmFpZHUgU2hpVHUnIHx8IHNldHRpbmcuc2l0ZV9vcHRpb25baV0gPT09ICdCYWlkdSBJbWFnZScpICYmICEoLyw/QmFpZHUsPy8udGVzdChuZXdfc2l0ZV9vcHRpb24uam9pbignLCcpKSkpIHsKCQkJbmV3X3NpdGVfb3B0aW9uLnB1c2goJ0JhaWR1Jyk7CgkJfQoJCWVsc2UgewoJCQluZXdfc2l0ZV9vcHRpb24ucHVzaChzZXR0aW5nLnNpdGVfb3B0aW9uW2ldKTsKCQl9Cgl9CgluZXdfc2l0ZV9vcHRpb24ucHVzaCgnV2hhdEFuaW1lJyk7CgoJc2V0dGluZy5zaXRlX2xpc3QgPSBuZXdfc2l0ZV9saXN0OwoJc2V0dGluZy5zaXRlX29wdGlvbiA9IG5ld19zaXRlX29wdGlvbjsKCQoJc2V0X3NldHRpbmcoc2V0dGluZyk7CglHTV9zZXRWYWx1ZSgndmVyc2lvbicsIGRhdGFfdmVyc2lvbiA9IDQpOwp9CgppZiAoc2V0dGluZy5zZXJ2ZXJfdXJsID09IG51bGwgfHwgc2V0dGluZy5zZXJ2ZXJfdXJsID09ICcnKSB7CglzZXR0aW5nLnNlcnZlcl91cmwgPSBkZWZhdWx0X3NldHRpbmcuc2VydmVyX3VybDsKCXNldF9zZXR0aW5nKHNldHRpbmcpOwp9Cgp2YXIgc2VydmVyX3VybCA9IHNldHRpbmcuc2VydmVyX3VybDsKCmZ1bmN0aW9uIHNldF9zZXR0aW5nKGRhdGEpIHsKCUdNX3NldFZhbHVlKCdzZXR0aW5nJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwoJR01fc2V0VmFsdWUoJ3RpbWVzdGFtcCcsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsKfQoKZnVuY3Rpb24gY3JlYXRlX3BhbmVsKCkgewoJc2VhcmNoX3BhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CglzZWFyY2hfcGFuZWwuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMTk4cHg7IGZvbnQtc2l6ZTogMTRweDsgdGV4dC1hbGlnbjogY2VudGVyOyBwb3NpdGlvbjogYWJzb2x1dGU7IGNvbG9yOiAjMDAwOyB6LWluZGV4OiA5OTk5OTk5OTk5OyBib3gtc2hhZG93OiAycHggMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuNSk7IGJvcmRlcjogMXB4IHNvbGlkICNDQ0M7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDJweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMnB4OyBmb250LWZhbWlseTogIkFyaWFsIjsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgLW1zLXVzZXItc2VsZWN0OiBub25lOyc7Cglkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlYXJjaF9wYW5lbCk7Cgl2YXIgc2VhcmNoX3RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJc2VhcmNoX3RvcC5zdHlsZS5jc3NUZXh0ID0gJ2hlaWdodDogMjRweDsgbGluZS1oZWlnaHQ6IDI0cHg7IGZvbnQtc2l6ZTogMTJweDsgb3ZlcmZsb3c6IGhpZGRlbjsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDAgNXB4Oyc7CglzZWFyY2hfdG9wLmNsYXNzTmFtZSA9ICdpbWFnZS1zZWFyY2gtdG9wJzsKCXNlYXJjaF90b3AuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9InNlYXJjaF90b3BfdXJsIiBzdHlsZT0ib3ZlcmZsb3c6IGhpZGRlbjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDI0cHg7Ij48L2Rpdj48ZGl2IGNsYXNzPSJzZWFyY2hfdG9wX2ZpbGUiIHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAyNHB4OyBsaW5lLWhlaWdodDogMjRweDsiIGRyYWdnYWJsZT0idHJ1ZSI+PGxhYmVsIGZvcj0iaW1hZ2Utc2VhcmNoLWZpbGUiPicgKyBpMThuW2xhbmddWyd1MnMnXSArICc8L2xhYmVsPjxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iaW1hZ2Utc2VhcmNoLWZpbGUiIGFjY2VwdD0iaW1hZ2UvKiIgc3R5bGU9IndpZHRoOiAwcHg7IGhlaWdodDogMHB4OyBtYXgtaGVpZ2h0OiAwcHg7IG1heC13aWR0aDogMHB4OyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7Ij48L2Rpdj48ZGl2IGNsYXNzPSJzZWFyY2hfdG9wX3Byb2dyZXNzIj48cHJvZ3Jlc3Mgc3R5bGU9IndpZHRoOiAxMDAlOyBoZWlnaHQ6IDE2cHg7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IG1hcmdpbjogNHB4IDA7IiBtYXg9IjEiPjwvcHJvZ2Vyc3M+PC9kaXY+PHN0eWxlPi5pbWFnZS1zZWFyY2gtaXRlbXtjb2xvcjogIzAwMDAwMDsgdHJhbnNpdGlvbjogYWxsIDAuMnMgbGluZWFyOyAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjFzIGxpbmVhcjt9LmltYWdlLXNlYXJjaC1pdGVtOmhvdmVye2JhY2tncm91bmQ6ICNlZWVlZWU7fTwvc3R5bGU+JzsKCXNlYXJjaF9wYW5lbC5hcHBlbmRDaGlsZChzZWFyY2hfdG9wKTsKCXZhciBzZWFyY2hfaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJc2VhcmNoX2l0ZW0uc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMTAwJTsgaGVpZ2h0OiAyNHB4OyBsaW5lLWhlaWdodDogMjRweDsgY3Vyc29yOiBwb2ludGVyOyc7CglzZWFyY2hfaXRlbS5jbGFzc05hbWUgPSAnaW1hZ2Utc2VhcmNoLWl0ZW0nOwoJZm9yICh2YXIgaSBpbiBzZXR0aW5nLnNpdGVfbGlzdCkgewoJCXZhciBzZWFyY2hfaXRlbV9jaGlsZCA9IHNlYXJjaF9pdGVtLmNsb25lTm9kZSh0cnVlKTsKCQlzZWFyY2hfaXRlbV9jaGlsZC50ZXh0Q29udGVudCA9IGk7CgkJc2VhcmNoX2l0ZW1fY2hpbGQuc2V0QXR0cmlidXRlKCdzZWFyY2gtb3B0aW9uJywgaSk7CgkJc2VhcmNoX3BhbmVsLmFwcGVuZENoaWxkKHNlYXJjaF9pdGVtX2NoaWxkKTsKCX0KCXNlYXJjaF9pdGVtLnRleHRDb250ZW50ID0gJ0FsbCc7CglzZWFyY2hfaXRlbS5zZXRBdHRyaWJ1dGUoJ3NlYXJjaC1vcHRpb24nLCAnYWxsJyk7CglzZWFyY2hfcGFuZWwuYXBwZW5kQ2hpbGQoc2VhcmNoX2l0ZW0pOwoJdmFyIHNlYXJjaF9pdGVtX3NldHRpbmcgPSBzZWFyY2hfaXRlbS5jbG9uZU5vZGUodHJ1ZSk7CglzZWFyY2hfaXRlbV9zZXR0aW5nLnRleHRDb250ZW50ID0gJ1NldHRpbmcnOwoJc2VhcmNoX2l0ZW1fc2V0dGluZy5zZXRBdHRyaWJ1dGUoJ3NlYXJjaC1vcHRpb24nLCAnc2V0dGluZycpOwoJc2VhcmNoX3BhbmVsLmFwcGVuZENoaWxkKHNlYXJjaF9pdGVtX3NldHRpbmcpOwoJc2VhcmNoX3RvcC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkgewoJCXJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXNbMF0pOwoJfTsKCXNlYXJjaF9wYW5lbC5vbmRyYWdlbnRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7CgkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQlzZWFyY2hfdG9wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYWJlbCcpWzBdLnRleHRDb250ZW50ID0gaTE4bltsYW5nXVsnZGgnXTsKCX07CglzZWFyY2hfcGFuZWwub25kcmFnbGVhdmUgPSBmdW5jdGlvbihldmVudCkgewoJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJc2VhcmNoX3RvcC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGFiZWwnKVswXS50ZXh0Q29udGVudCA9IGkxOG5bbGFuZ11bJ3UycyddOwoJfTsKCXNlYXJjaF9wYW5lbC5vbmRyYWdvdmVyID0gZnVuY3Rpb24oZXZlbnQpIHsKCQlzZWFyY2hfdG9wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYWJlbCcpWzBdLnRleHRDb250ZW50ID0gaTE4bltsYW5nXVsnZGgnXTsKCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJfTsKCXNlYXJjaF9wYW5lbC5vbmRyb3AgPSBmdW5jdGlvbihldmVudCkgewoJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJdmFyIGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzIHx8IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlczsKCQlpZiAoZmlsZXNbZmlsZXMubGVuZ3RoIC0gMV0udHlwZS5pbmRleE9mKCdpbWFnZScpID49IDApIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGVzW2ZpbGVzLmxlbmd0aCAtIDFdKTsKCX07CglzZWFyY2hfdG9wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwcm9ncmVzcycpWzBdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQlpZiAoeGhyLnJlYWR5U3RhdGUgIT0gMCAmJiBjb25maXJtKGkxOG5bbGFuZ11bJ2NhJ10pID09IHRydWUpIHsKCQkJeGhyLmFib3J0KCk7CgkJCXNlYXJjaF9wYW5lbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWFyY2hfdG9wX3VybCcpWzBdLnN0eWxlLm1hcmdpblRvcCA9ICctMjRweCc7CgkJfQoJfTsKCWlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+PSAwKSB7CgkJdmFyIHBhc3RlX25vZGVfZmlyZWZveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCXBhc3RlX25vZGVfZmlyZWZveC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICd0cnVlJyk7CgkJcGFzdGVfbm9kZV9maXJlZm94LmNsYXNzTmFtZSA9ICdpbWFnZS1zZWFyY2gtcGFzdGUtbm9kZS1maXJlZm94JzsKCQlwYXN0ZV9ub2RlX2ZpcmVmb3guc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMCFpbXBvcnRhbnQ7IGhlaWdodDogMCFpbXBvcnRhbnQ7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgb3ZlcmZsb3c6IGhpZGRlbjsnOwoJCXBhc3RlX25vZGVfZmlyZWZveC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQl2YXIgX2ltYWdlcyA9IHBhc3RlX25vZGVfZmlyZWZveC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyk7CgkJCQlpZiAoX2ltYWdlcy5sZW5ndGggPiAwKSB7CgkJCQkJdmFyIF9pbWdfc3JjID0gX2ltYWdlc1tfaW1hZ2VzLmxlbmd0aCAtIDFdLnNyYzsKCQkJCQlpZiAoX2ltZ19zcmMubWF0Y2goL15kYXRhOlxzKi4qPztccypiYXNlNjQsXHMqLykpIHVwbG9hZF9maWxlKF9pbWdfc3JjKTsKCQkJCX0KCQkJfSwgNTAwKTsKCQl9LCBmYWxzZSk7CgkJc2VhcmNoX3RvcC5hcHBlbmRDaGlsZChwYXN0ZV9ub2RlX2ZpcmVmb3gpOwoJfQp9CgpmdW5jdGlvbiBjYWxsX3NldHRpbmcoKSB7Cgl2YXIgc2V0dGluZ19wYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJc2V0dGluZ19wYW5lbC5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOiA1MjBweDsgZm9udC1zaXplOiAxNHB4OyBwb3NpdGlvbjogZml4ZWQ7IGNvbG9yOiAjMDAwOyB6LWluZGV4OiA5OTk5OTk5OTk5OyBib3gtc2hhZG93OiAycHggMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuNSk7IGJvcmRlcjogMXB4IHNvbGlkICNDQ0M7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDJweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMnB4OyBwYWRkaW5nOiAxMHB4OyBsZWZ0OiAwOyByaWdodDogMDsgdG9wOiAwOyBib3R0b206IDA7IG1hcmdpbjogYXV0bzsgZm9udC1mYW1pbHk6ICJBcmlhbCI7IGhlaWdodDogNDAwcHg7IG1heC1oZWlnaHQ6IDkwJTsgb3ZlcmZsb3c6IGF1dG87IHRleHQtYWxpZ246IGNlbnRlcjsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgLW1zLXVzZXItc2VsZWN0OiBub25lOyc7Cglkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNldHRpbmdfcGFuZWwpOwoJdmFyIHNldHRpbmdfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CglzZXR0aW5nX2hlYWRlci5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOiAxMDAlOyBoZWlnaHQ6IDMycHg7IGxpbmUtaGVpZ2h0OiAzMnB4OyBmb250LXNpemU6IDE4cHg7IGxpbmUtaGVpZ2h0OiAzMnB4Oyc7CglzZXR0aW5nX2hlYWRlci5jbGFzc05hbWUgPSAnaW1hZ2Utc2VhcmNoLXNldHRpbmctaGVhZGVyJzsKCXNldHRpbmdfaGVhZGVyLnRleHRDb250ZW50ID0gJ1NlYXJjaCBCeSBJbWFnZSBTZXR0aW5nJzsKCXNldHRpbmdfcGFuZWwuYXBwZW5kQ2hpbGQoc2V0dGluZ19oZWFkZXIpOwoJdmFyIHNldHRpbmdfaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJc2V0dGluZ19pdGVtLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDEwMCU7IGhlaWdodDogMjRweDsgbGluZS1oZWlnaHQ6IDI0cHg7IG1hcmdpbjogMXB4IDA7JzsKCXNldHRpbmdfaXRlbS5jbGFzc05hbWUgPSAnaW1hZ2Utc2VhcmNoLXNldHRpbmctdGl0bGUnOwoJc2V0dGluZ19pdGVtLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDMwcHg7Ij4nICsgaTE4bltsYW5nXVsnYSddICsgJzwvZGl2PjxkaXYgc3R5bGU9IndpZHRoOiAxMDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij4nICsgaTE4bltsYW5nXVsnbiddICsgJzwvZGl2PjxkaXYgc3R5bGU9IndpZHRoOiAzNTBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij4nICsgaTE4bltsYW5nXVsnbCddICsgJzwvZGl2PjxkaXYgc3R5bGU9IndpZHRoOiAyMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48L2Rpdj4nOwoJc2V0dGluZ19wYW5lbC5hcHBlbmRDaGlsZChzZXR0aW5nX2l0ZW0pOwoJZm9yICh2YXIgaSBpbiBzZXR0aW5nLnNpdGVfbGlzdCkgewoJCXZhciBzZXR0aW5nX2l0ZW1fY2hpbGQgPSBzZXR0aW5nX2l0ZW0uY2xvbmVOb2RlKHRydWUpOwoJCXNldHRpbmdfaXRlbV9jaGlsZC5jbGFzc05hbWUgPSAnaW1hZ2Utc2VhcmNoLXNldHRpbmctaXRlbSc7CgkJc2V0dGluZ19pdGVtX2NoaWxkLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDMwcHg7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giJyArIChzZXR0aW5nLnNpdGVfb3B0aW9uLmpvaW4oJ1xuJykuaW5kZXhPZihpKSA+PSAwID8gJyBjaGVja2VkPSJjaGVja2VkIicgOiAnJykgKyAnPjwvZGl2PjxkaXYgc3R5bGU9IndpZHRoOiAxMDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48aW5wdXQgc3R5bGU9IndpZHRoOiA5MHB4OyIgdHlwZT0idGV4dCIgdmFsdWU9IicgKyBpICsgJyI+PC9kaXY+PGRpdiBzdHlsZT0id2lkdGg6IDM1MHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiPjxpbnB1dCBzdHlsZT0id2lkdGg6IDM0MHB4OyIgdHlwZT0idGV4dCIgdmFsdWU9IicgKyBzZXR0aW5nLnNpdGVfbGlzdFtpXSArICciPjwvZGl2PjxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBjdXJzb3I6IHBvaW50ZXI7IHdpZHRoOiAyMHB4OyI+w5c8L2Rpdj4nOwoJCXNldHRpbmdfcGFuZWwuYXBwZW5kQ2hpbGQoc2V0dGluZ19pdGVtX2NoaWxkKTsKCQlzZXR0aW5nX2l0ZW1fY2hpbGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpWzNdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQkJdGhpcy5wYXJlbnRFbGVtZW50Lm91dGVySFRNTCA9ICcnOwoJCX07Cgl9Cgl2YXIgc2V0dGluZ19zZXJ2ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCXNldHRpbmdfc2VydmVyLmNsYXNzTmFtZSA9ICdpbWFnZS1zZWFyY2gtc2V0dGluZy1zZXJ2ZXInOwoJc2V0dGluZ19zZXJ2ZXIuaW5uZXJIVE1MID0gJ1VwbG9hZCBTZXJ2ZXIgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSInICsgc2V0dGluZ1snc2VydmVyX3VybCddICsgJyIgcGxhY2Vob2xkZXI9Ii8vc2JpLmNjbG9saS5jb20vaW1nL3VwbG9hZC5waHAiIHN0eWxlPSJ3aWR0aDogMzUwcHg7Ij4nOwoJc2V0dGluZ19wYW5lbC5hcHBlbmRDaGlsZChzZXR0aW5nX3NlcnZlcik7Cgl2YXIgc2V0dGluZ19mb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCXNldHRpbmdfZm9vdGVyLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDEwMCU7IGhlaWdodDogMzJweDsgbGluZS1oZWlnaHQ6IDMycHg7IG1hcmdpbi10b3A6IDVweDsgdGV4dC1hbGlnbjogcmlnaHQ7JzsKCXNldHRpbmdfZm9vdGVyLmNsYXNzTmFtZSA9ICdpbWFnZS1zZWFyY2gtc2V0dGluZy1mb290ZXInOwoJc2V0dGluZ19wYW5lbC5hcHBlbmRDaGlsZChzZXR0aW5nX2Zvb3Rlcik7Cgl2YXIgc2V0dGluZ19ob3RrZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCXZhciBzZXR0aW5nX2FkZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJdmFyIHNldHRpbmdfcmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCXZhciBzZXR0aW5nX3NhdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCXZhciBzZXR0aW5nX2NhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJc2V0dGluZ19ob3RrZXkuc3R5bGUuY3NzVGV4dCA9ICdoZWlnaHQ6IDMycHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdGV4dC1hbGlnbjogbGVmdDsgZmxvYXQ6IGxlZnQ7JzsKCXNldHRpbmdfYWRkLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDkwcHg7IGhlaWdodDogMzJweDsgbWFyZ2luOiAwIDVweDsgYmFja2dyb3VuZDogIzY2NjsgY29sb3I6ICNGRkY7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdGV4dC1hbGlnbjogY2VudGVyOyBjdXJzb3I6IHBvaW50ZXI7JzsKCXNldHRpbmdfcmVzZXQuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogOTBweDsgaGVpZ2h0OiAzMnB4OyBiYWNrZ3JvdW5kOiAjNjY2OyBjb2xvcjogI0ZGRjsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGN1cnNvcjogcG9pbnRlcjsnOwoJc2V0dGluZ19zYXZlLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDkwcHg7IGhlaWdodDogMzJweDsgbWFyZ2luOiAwIDVweDsgYmFja2dyb3VuZDogIzY2NjsgY29sb3I6ICNGRkY7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdGV4dC1hbGlnbjogY2VudGVyOyBjdXJzb3I6IHBvaW50ZXI7JzsKCXNldHRpbmdfY2FuY2VsLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDkwcHg7IGhlaWdodDogMzJweDsgYmFja2dyb3VuZDogIzY2NjsgY29sb3I6ICNGRkY7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdGV4dC1hbGlnbjogY2VudGVyOyBjdXJzb3I6IHBvaW50ZXI7JzsKCXNldHRpbmdfYWRkLnRleHRDb250ZW50ID0gaTE4bltsYW5nXVsnc2EnXTsKCXNldHRpbmdfcmVzZXQudGV4dENvbnRlbnQgPSBpMThuW2xhbmddWydzciddOwoJc2V0dGluZ19zYXZlLnRleHRDb250ZW50ID0gaTE4bltsYW5nXVsnc3MnXTsKCXNldHRpbmdfY2FuY2VsLnRleHRDb250ZW50ID0gaTE4bltsYW5nXVsnc2MnXTsKCXNldHRpbmdfaG90a2V5LmlubmVySFRNTCA9IGkxOG5bbGFuZ11bJ3NoJ10gKyAnIDxzZWxlY3Q+PG9wdGlvbiB2YWx1ZT0iY3RybEtleSInICsgKHNldHRpbmcuaG90X2tleSA9PSAnY3RybEtleScgPyAnIHNlbGVjdGVkJyA6ICcnKSArICc+Q3RybDwvb3B0aW9uPjxvcHRpb24gdmFsdWU9InNoaWZ0S2V5IicgKyAoc2V0dGluZy5ob3Rfa2V5ID09ICdzaGlmdEtleScgPyAnIHNlbGVjdGVkJyA6ICcnKSArICc+U2hpZnQ8L29wdGlvbj48b3B0aW9uIHZhbHVlPSJhbHRLZXkiJyArIChzZXR0aW5nLmhvdF9rZXkgPT0gJ2FsdEtleScgPyAnIHNlbGVjdGVkJyA6ICcnKSArICc+QWx0PC9vcHRpb24+PC9zZWxlY3Q+JzsKCXNldHRpbmdfZm9vdGVyLmFwcGVuZENoaWxkKHNldHRpbmdfaG90a2V5KTsKCXNldHRpbmdfZm9vdGVyLmFwcGVuZENoaWxkKHNldHRpbmdfYWRkKTsKCXNldHRpbmdfZm9vdGVyLmFwcGVuZENoaWxkKHNldHRpbmdfcmVzZXQpOwoJc2V0dGluZ19mb290ZXIuYXBwZW5kQ2hpbGQoc2V0dGluZ19zYXZlKTsKCXNldHRpbmdfZm9vdGVyLmFwcGVuZENoaWxkKHNldHRpbmdfY2FuY2VsKTsKCXNldHRpbmdfYWRkLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQl2YXIgc2V0dGluZ19pdGVtX2NoaWxkID0gc2V0dGluZ19pdGVtLmNsb25lTm9kZSh0cnVlKTsKCQlzZXR0aW5nX2l0ZW1fY2hpbGQuY2xhc3NOYW1lID0gJ2ltYWdlLXNlYXJjaC1zZXR0aW5nLWl0ZW0nOwoJCXNldHRpbmdfaXRlbV9jaGlsZC5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAzMHB4OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyI+PGlucHV0IHR5cGU9ImNoZWNrYm94Ij48L2Rpdj48ZGl2IHN0eWxlPSJ3aWR0aDogMTAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PGlucHV0IHN0eWxlPSJ3aWR0aDogOTBweDsiIHR5cGU9InRleHQiPjwvZGl2PjxkaXYgc3R5bGU9IndpZHRoOiAzNTBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48aW5wdXQgc3R5bGU9IndpZHRoOiAzNDBweDsiIHR5cGU9InRleHQiPjwvZGl2PjxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBjdXJzb3I6IHBvaW50ZXI7IHdpZHRoOiAyMHB4OyI+w5c8L2Rpdj4nOwoJCXNldHRpbmdfcGFuZWwuaW5zZXJ0QmVmb3JlKHNldHRpbmdfaXRlbV9jaGlsZCwgc2V0dGluZ19mb290ZXIpOwoJCXNldHRpbmdfaXRlbV9jaGlsZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JylbM10ub25jbGljayA9IGZ1bmN0aW9uKCkgewoJCQl0aGlzLnBhcmVudEVsZW1lbnQub3V0ZXJIVE1MID0gJyc7CgkJfTsKCQlzZXR0aW5nX3BhbmVsLnNjcm9sbFRvcCA9IHNldHRpbmdfcGFuZWwuc2Nyb2xsSGVpZ2h0OwoJfTsKCXNldHRpbmdfcmVzZXQub25jbGljayA9IGZ1bmN0aW9uKCkgewoJCWlmIChjb25maXJtKGkxOG5bbGFuZ11bJ2NyJ10pID09IHRydWUpIHsKCQkJc2V0dGluZyA9IGRlZmF1bHRfc2V0dGluZzsKCQkJc2V0X3NldHRpbmcoc2V0dGluZyk7CgkJCXNldHRpbmdfcGFuZWwub3V0ZXJIVE1MID0gJyc7CgkJCWlmIChzZWFyY2hfcGFuZWwgIT0gbnVsbCkgewoJCQkJc2VhcmNoX3BhbmVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoc2VhcmNoX3BhbmVsKTsKCQkJCXNlYXJjaF9wYW5lbCA9IG51bGw7CgkJCX0KCQkJY2FsbF9zZXR0aW5nKCk7CgkJfQoJfTsKCXNldHRpbmdfc2F2ZS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CgkJdmFyIHNldHRpbmdfaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbWFnZS1zZWFyY2gtc2V0dGluZy1pdGVtJyk7CgkJdmFyIHNldHRpbmdfZGF0YSA9IHsKCQkJInNpdGVfbGlzdCI6IHt9LAoJCQkic2l0ZV9vcHRpb24iOiBbXSwKCQkJImhvdF9rZXkiOiBudWxsLAoJCQkic2VydmVyX3VybCI6IG51bGwKCQl9OwoJCWZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGluZ19pdGVtcy5sZW5ndGg7IGkrKykgewoJCQlpZiAoc2V0dGluZ19pdGVtc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVsxXS52YWx1ZSAhPSAnJykgewoJCQkJaWYgKHNldHRpbmdfaXRlbXNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0uY2hlY2tlZCkgc2V0dGluZ19kYXRhLnNpdGVfb3B0aW9uLnB1c2goc2V0dGluZ19pdGVtc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVsxXS52YWx1ZSk7CgkJCQlzZXR0aW5nX2RhdGEuc2l0ZV9saXN0W3NldHRpbmdfaXRlbXNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMV0udmFsdWVdID0gc2V0dGluZ19pdGVtc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVsyXS52YWx1ZTsKCQkJfQoJCX0KCQlzZXR0aW5nX2RhdGEuaG90X2tleSA9IHNldHRpbmdfaG90a2V5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZWxlY3QnKVswXS52YWx1ZTsKCQlzZXR0aW5nX2RhdGEuc2VydmVyX3VybCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ltYWdlLXNlYXJjaC1zZXR0aW5nLXNlcnZlcicpWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLnZhbHVlOwoJCWlmIChzZXR0aW5nX2RhdGEuc2VydmVyX3VybCA9PSBudWxsIHx8IHNldHRpbmdfZGF0YS5zZXJ2ZXJfdXJsID09ICcnKSB7CgkJCXNldHRpbmdfZGF0YS5zZXJ2ZXJfdXJsID0gZGVmYXVsdF9zZXR0aW5nLnNlcnZlcl91cmw7CgkJfQoJCXNldHRpbmcgPSBzZXR0aW5nX2RhdGE7CgkJc2VydmVyX3VybCA9IHNldHRpbmcuc2VydmVyX3VybDsKCQljb25zb2xlLmxvZyhzZXR0aW5nX2RhdGEpOwoJCXNldF9zZXR0aW5nKHNldHRpbmcpOwoJCXNldHRpbmdfcGFuZWwub3V0ZXJIVE1MID0gJyc7CgkJaWYgKHNlYXJjaF9wYW5lbCAhPSBudWxsKSB7CgkJCXNlYXJjaF9wYW5lbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHNlYXJjaF9wYW5lbCk7CgkJCXNlYXJjaF9wYW5lbCA9IG51bGw7CgkJfQoJfTsKCXNldHRpbmdfY2FuY2VsLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKCQlzZXR0aW5nX3BhbmVsLm91dGVySFRNTCA9ICcnOwoJfTsKfQoKZnVuY3Rpb24gdXBsb2FkX2ZpbGUoZGF0YSkgewoJaWYgKHhoci5yZWFkeVN0YXRlICE9IDApIHhoci5hYm9ydCgpOwoJeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewoJCWlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7CgkJCWlmICh4aHIuc3RhdHVzID09IDIwMCkgewoJCQkJaW1nX3NyYyA9IHhoci5yZXNwb25zZVRleHQ7CgkJCQlzZWFyY2hfcGFuZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VhcmNoX3RvcF91cmwnKVswXS5zdHlsZS5tYXJnaW5Ub3AgPSAnMHB4JzsKCQkJCXNlYXJjaF9wYW5lbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWFyY2hfdG9wX3VybCcpWzBdLnRleHRDb250ZW50ID0gaTE4bltsYW5nXVsndXMnXTsKCQkJfQoJCX0KCX07Cgl4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihldmVudCkgewoJCXNlYXJjaF9wYW5lbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncHJvZ3Jlc3MnKVswXS52YWx1ZSA9IGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsOwoJfTsKCXhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7CgkJYWxlcnQoaTE4bltsYW5nXVsndWYnXSk7Cgl9OwoJdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKCXhoci5vcGVuKCdQT1NUJywgc2VydmVyX3VybCk7Cglmb3JtLmFwcGVuZCgnaW1nZGF0YScsIGRhdGEpOwoJeGhyLnNlbmQoZm9ybSk7CglzZWFyY2hfcGFuZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VhcmNoX3RvcF91cmwnKVswXS5zdHlsZS5tYXJnaW5Ub3AgPSAnLTQ4cHgnOwp9CgpmdW5jdGlvbiBnZXRfY2xpcGJvYXJkKGV2ZW50KSB7Cgl2YXIgaXRlbXMgPSBldmVudC5jbGlwYm9hcmREYXRhLml0ZW1zOwoJaWYgKGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA+PSAwKSByZWFkZXIucmVhZEFzRGF0YVVSTChpdGVtc1tpdGVtcy5sZW5ndGggLSAxXS5nZXRBc0ZpbGUoKSk7Cn0KCmZ1bmN0aW9uIGhpZGVfcGFuZWwoKSB7CglpZiAoIXNlYXJjaF9wYW5lbCB8fCAhc2VhcmNoX3BhbmVsLnBhcmVudEVsZW1lbnQpIHJldHVybjsKCWltZ19zcmMgPSBudWxsOwoJc2VhcmNoX3BhbmVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoc2VhcmNoX3BhbmVsKTsgLy8gUmVtb3ZlIHNlYXJjaCBwYW5lbCB0byBmaXggdGhlIGJ1ZyB0aGF0IGl0IG1heSBiZSBsZWZ0IGluIHNvbWUgV1lTSVdZRyBlZGl0b3IgKGVnLiBNRE4gV1lTSVdZRyBlZGl0b3IpLiBTZWUgaXNzdWU6IGh0dHA6Ly90aWViYS5iYWlkdS5jb20vcC8zNjgyNDc1MDYxCglkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIGdldF9jbGlwYm9hcmQsIGZhbHNlKTsKfQoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHsKCS8vY29uc29sZS5sb2coJ1NlYXJjaCBJbWFnZSA+PlxuZXZlbnQuY3RybEtleTogJytldmVudC5jdHJsS2V5KydcbmV2ZW50LmJ1dHRvbjogJytldmVudC5idXR0b24rJ1xuZXZlbnQudGFyZ2V0OicrZXZlbnQudGFyZ2V0KydcbmV2ZW50LnRhcmdldC50YWdOYW1lOiAnK2V2ZW50LnRhcmdldC50YWdOYW1lKydcbmV2ZW50LnRhcmdldC5zcmM6ICcrZXZlbnQudGFyZ2V0LnNyYysnXG5ldmVudC5wYWdlWDogJytldmVudC5wYWdlWCsnXG5ldmVudC5wYWdlWTogJytldmVudC5wYWdlWSsnXG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg6ICcrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKydcbmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6ICcrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCsnXG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGg6ICcrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoKydcbmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ6ICcrZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCsnXG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDogJytkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCsnXG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOiAnK2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApOwoJaWYgKGRpc2FibGVfY29udGV4dG1lbnUgPT0gdHJ1ZSkgewoJCWRvY3VtZW50Lm9uY29udGV4dG1lbnUgPSBudWxsOwoJCWRpc2FibGVfY29udGV4dG1lbnUgPSBmYWxzZTsKCX0KCWlmIChldmVudFtzZXR0aW5nLmhvdF9rZXldID09IHRydWUgJiYgZXZlbnQuYnV0dG9uID09IDIpIHsKCQlpZiAoc2VhcmNoX3BhbmVsID09IG51bGwpIGNyZWF0ZV9wYW5lbCgpOwoJCWVsc2UgaWYgKGxhc3RfdXBkYXRlICE9IEdNX2dldFZhbHVlKCd0aW1lc3RhbXAnLCAwKSkgewoJCQlsYXN0X3VwZGF0ZSA9IEdNX2dldFZhbHVlKCd0aW1lc3RhbXAnLCAwKTsKCQkJc2VhcmNoX3BhbmVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoc2VhcmNoX3BhbmVsKTsKCQkJc2V0dGluZyA9IEdNX2dldFZhbHVlKCdzZXR0aW5nJykgPyBKU09OLnBhcnNlKEdNX2dldFZhbHVlKCdzZXR0aW5nJykpIDogZGVmYXVsdF9zZXR0aW5nOwoJCQljcmVhdGVfcGFuZWwoKTsKCQl9CgkJZWxzZSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlYXJjaF9wYW5lbCk7CgkJc2VhcmNoX3BhbmVsLnN0eWxlLmxlZnQgPSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCkgLSBldmVudC5wYWdlWCA+PSAyMDAgPyBldmVudC5wYWdlWCA6IGV2ZW50LnBhZ2VYID49IDIwMCA/IGV2ZW50LnBhZ2VYIC0gMjAwIDogMCkgKyAncHgnOwoJCXNlYXJjaF9wYW5lbC5zdHlsZS50b3AgPSAoZXZlbnQucGFnZVkgKyBzZWFyY2hfcGFuZWwub2Zmc2V0SGVpZ2h0IDwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGV2ZW50LnBhZ2VZIDogZXZlbnQucGFnZVkgPj0gc2VhcmNoX3BhbmVsLnNjcm9sbEhlaWdodCA/IGV2ZW50LnBhZ2VZIC0gc2VhcmNoX3BhbmVsLm9mZnNldEhlaWdodCA6IDApICsgJ3B4JzsKCQkvLyBGaXJlZm94IGRvZXNuJ3Qgc3VwcG9ydCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLm1hcmdpbkxlZnQvbWFyZ2luUmlnaHQgYW5kIGl0IHdvdWxkIHJldHVybiAiMHB4IiB3aGlsZSB0aGUgZWxlbWVudCdzIG1hcmdpbiBpcyAiYXV0byIuIFNlZSBidWd6aWxhLzM4MTMyOC4KCQkvL3NlYXJjaF9wYW5lbC5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0nICsgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpIDwgMCA/IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkubWFyZ2luTGVmdCA6IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGggLSBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoKSAvIDIgKyAncHgnKTsKCQkvL3NlYXJjaF9wYW5lbC5zdHlsZS5tYXJnaW5Ub3AgPSAnLScgKyBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLm1hcmdpblRvcDsKCQlkaXNhYmxlX2NvbnRleHRtZW51ID0gdHJ1ZTsKCQlkb2N1bWVudC5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9OwoJCWlmIChldmVudC50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdpbWcnICYmIGV2ZW50LnRhcmdldC5zcmMgIT0gbnVsbCkgewoJCQlzZWFyY2hfcGFuZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VhcmNoX3RvcF91cmwnKVswXS5zdHlsZS5tYXJnaW5Ub3AgPSAnMHB4JzsKCQkJc2VhcmNoX3BhbmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlYXJjaF90b3BfdXJsJylbMF0udGV4dENvbnRlbnQgPSBldmVudC50YXJnZXQuc3JjOwoJCQlpZiAoZXZlbnQudGFyZ2V0LnNyYy5tYXRjaCgvXmRhdGE6XHMqLio/O1xzKmJhc2U2NCxccyovKSAhPSBudWxsKSB1cGxvYWRfZmlsZShldmVudC50YXJnZXQuc3JjKTsKCQkJZWxzZSBpbWdfc3JjID0gZXZlbnQudGFyZ2V0LnNyYzsKCQl9CgkJZWxzZSB7CgkJCXNlYXJjaF9wYW5lbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWFyY2hfdG9wX3VybCcpWzBdLnN0eWxlLm1hcmdpblRvcCA9ICctMjRweCc7CgkJCWlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+PSAwKSB7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbWFnZS1zZWFyY2gtcGFzdGUtbm9kZS1maXJlZm94JylbMF0uaW5uZXJIVE1MID0gJyc7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbWFnZS1zZWFyY2gtcGFzdGUtbm9kZS1maXJlZm94JylbMF0uZm9jdXMoKTsKCQkJfQoJCQllbHNlIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgZ2V0X2NsaXBib2FyZCwgZmFsc2UpOwoJCX0KCX0KCWVsc2UgaWYgKHNlYXJjaF9wYW5lbCAhPSBudWxsKSB7CgkJaWYgKGV2ZW50LnRhcmdldC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihzZWFyY2hfcGFuZWwpID09IDEwIHx8IGV2ZW50LnRhcmdldC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihzZWFyY2hfcGFuZWwpID09IDApIHsKCQkJaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT0gJ2ltYWdlLXNlYXJjaC1pdGVtJyAmJiBldmVudC5idXR0b24gPT0gMCkgewoJCQkJc3dpdGNoIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdzZWFyY2gtb3B0aW9uJykpIHsKCQkJCQljYXNlICdhbGwnOgoJCQkJCQlpZiAoaW1nX3NyYyAhPSBudWxsKSB7CgkJCQkJCQlmb3IgKHZhciBpID0gc2V0dGluZy5zaXRlX29wdGlvbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgR01fb3BlbkluVGFiKHNldHRpbmcuc2l0ZV9saXN0W3NldHRpbmcuc2l0ZV9vcHRpb25baV1dLnJlcGxhY2UoL1x7JXNcfS8sIGVuY29kZVVSSUNvbXBvbmVudChpbWdfc3JjKSksIGV2ZW50W3NldHRpbmcuaG90X2tleV0pOwoJCQkJCQkJaGlkZV9wYW5lbCgpOwoJCQkJCQl9CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgJ3NldHRpbmcnOgoJCQkJCQljYWxsX3NldHRpbmcoKTsKCQkJCQkJaGlkZV9wYW5lbCgpOwoJCQkJCQlicmVhazsKCQkJCQlkZWZhdWx0OgoJCQkJCQlpZiAoaW1nX3NyYyAhPSBudWxsKSB7CgkJCQkJCQlHTV9vcGVuSW5UYWIoc2V0dGluZy5zaXRlX2xpc3RbZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnc2VhcmNoLW9wdGlvbicpXS5yZXBsYWNlKC9ceyVzXH0vLCBlbmNvZGVVUklDb21wb25lbnQoaW1nX3NyYykpLCBldmVudFtzZXR0aW5nLmhvdF9rZXldKTsKCQkJCQkJCWhpZGVfcGFuZWwoKTsKCQkJCQkJfQoJCQkJfQoJCQl9CgkJCWVsc2UgaWYgKGV2ZW50LmJ1dHRvbiAhPSAwKSBoaWRlX3BhbmVsKCk7CgkJfQoJCWVsc2UgaGlkZV9wYW5lbCgpOwoJfQp9LCB0cnVlKTsKCnZhciBnbV9jYWxsc2V0dGluZyA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoJ1NlYXJjaCBCeSBJbWFnZSBTZXR0aW5nJywgY2FsbF9zZXR0aW5nKTsK"},{"name":"AntiAdware","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://*180upload.com/*","http*://*4upfiles.com/*","http*://*get*.adobe.com/*flashplayer/*","http*://*get*.adobe.com/*reader/*","http*://*afterdawn.com/software/*","http*://*akafile.com/akago.php","http*://*chip.de/downloads/*","http*://*clicknupload.com/*","http*://*cloudyvideos.com/*","http*://*coolrom.com/*/*","http*://*clipconverter.cc/download/*","http*://*dailyuploads.net/*","http*://*datafilehost.com/d/*","http*://*davvas.com/*","http*://*d-h.st/*","http*://*download.cnet.com/*","http*://*telecharger.cnet.com/*","http*://*descargar.cnet.com/*","http*://*de.download.cnet.com/*","http*://*filefactory.com/file/*","http*://*filescdn.com/*","http*://*filehippo.com/*download*","http*://*freewarefiles.com/downloads_counter.php*","http*://*google.*/earth/download/ge/agree.html","http*://*hugefiles.net/*","http*://*hulkload.com/*","http*://*kingfiles.net/*","http*://*letitbit.net/download/*","http*://*loveroms.com/*","http*://*up.media1fire.com/*","http*://*mightyupload.com/*","http*://*mp3fil.*/get/*","http*://*mp3juices.to/*","http*://*mp3olimp.net/*","http*://*mp3olimpz.com/*","http*://*opensubtitles.org/*/subtitles/*","http*://*revclouds.com/*","http*://*romhustler.net/download/*","http*://*romhustler.net/rom/*","http*://*secureupload.eu/*","http*://*sendspace.com/file/*","http*://*sharebeast.com/*","http*://*shared.com/*","http*://*softm8.com*","http*://*.softonic.*","http*://*sourceforge.net/*","http*://*tusfiles.net/*","http*://*unlimitzone.com/*","http*://*uploading.com/*","http*://*uplod.ws/*","http*://*uploads.to/*","http*://*uptobox.com/*","http*://*userscdn.com/*","http*://*ziddu.com/downloadfile/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970064},"enabled":true,"position":12,"file_url":"https://greasyfork.org/scripts/4294-antiadware/code/AntiAdware.user.js","uuid":"8c989ef2-7d71-45e1-a1ca-30b4ca4c647f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQW50aUFkd2FyZQovLyBAbmFtZTpmciBBbnRpQWR3YXJlCi8vIEBuYW1lOmRlIEFudGlBZHdhcmUKLy8gQG5hbWU6emgtVFcgQW50aUFkd2FyZQovLyBAbmFtZTp6aC1DTiBBbnRpQWR3YXJlCi8vIEBhdXRob3Igbm9uYW1lMTIwCi8vIEBuYW1lc3BhY2UgSGFuZHlVc2Vyc2NyaXB0cwovLyBAaWNvbiBodHRwczovL2kuaW1ndXIuY29tL3RxN1BKcjAucG5nCi8vIEBkZXNjcmlwdGlvbiBSZW1vdmUgZm9yY2VkIGRvd25sb2FkIGFjY2VsZXJhdG9ycywgbWFuYWdlcnMsIGFuZCBhZHdhcmUgb24gc3VwcG9ydGVkIHdlYnNpdGVzCi8vIEBkZXNjcmlwdGlvbjpmciDDiXZpdGV6IGxlcyBhcHBsaWNhdGlvbnMgaW5kw6lzaXJhYmxlcyBsb3JzIGRlcyB0w6lsw6ljaGFyZ2VtZW50cyBzdXIgZGUgbm9tYnJldXggc2l0ZXMgYXZlYyBBbnRpQWR3YXJlICEgCi8vIEBkZXNjcmlwdGlvbjpkZSBNaXQgQW50aUFkd2FyZSB2ZXJtZWlkZXN0IGR1IGF1ZiB6YWhscmVpY2hlbiBXZWJzZWl0ZW4gZGVuIHZlcnNlaGVudGxpY2hlbiBEb3dubG9hZCB2b24gdW5lcnfDvG5zY2h0ZW4gUHJvZ3JhbW1lbgovLyBAZGVzY3JpcHRpb246emgtVFcgQW50aUFkd2FyZSwg6K6T5L2g6YG/5YWN5Zyo6Kix5aSa57ay56uZ5LiK5oSP5aSW5LiL6LyJ5Yiw5buj5ZGK6Luf6auULgovLyBAZGVzY3JpcHRpb246emgtQ04gQW50aUFkd2FyZSwg6K6p5L2g6YG/5YWN5Zyo6K645aSa572R56uZ5LiK5oSP5aSW5LiL6L295Yiw5bm/5ZGK6L2v5L2TLgovLyBAdmVyc2lvbiAxLjQxLjQKLy8gQGxpY2Vuc2UgQ3JlYXRpdmUgQ29tbW9ucyBCWS1OQy1TQQoKLy8galF1ZXJ5IGRlcGVuZGVuY3k7IGFuIG9mZmxpbmUgdmVyc2lvbiBvZiB0aGlzIGlzIGluY2x1ZGVkIGluIHRoZSBzY3JpcHQgaW4gY2FzZSBpdCBnb2VzIGRvd24KLy8gQHJlcXVpcmUgaHR0cDovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMi4wLjMubWluLmpzCgovLyBAaW5jbHVkZSBodHRwKjovLyoxODB1cGxvYWQuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qNHVwZmlsZXMuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qZ2V0Ki5hZG9iZS5jb20vKmZsYXNocGxheWVyLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qZ2V0Ki5hZG9iZS5jb20vKnJlYWRlci8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmFmdGVyZGF3bi5jb20vc29mdHdhcmUvKgovLyBAaW5jbHVkZSBodHRwKjovLypha2FmaWxlLmNvbS9ha2Fnby5waHAKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qY2hpcC5kZS9kb3dubG9hZHMvKgovLyBAaW5jbHVkZSBodHRwKjovLypjbGlja251cGxvYWQuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qY2xvdWR5dmlkZW9zLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmNvb2xyb20uY29tLyovKgovLyBAaW5jbHVkZSBodHRwKjovLypjbGlwY29udmVydGVyLmNjL2Rvd25sb2FkLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qZGFpbHl1cGxvYWRzLm5ldC8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmRhdGFmaWxlaG9zdC5jb20vZC8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmRhdnZhcy5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLypkLWguc3QvKgovLyBAaW5jbHVkZSBodHRwKjovLypkb3dubG9hZC5jbmV0LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKnRlbGVjaGFyZ2VyLmNuZXQuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qZGVzY2FyZ2FyLmNuZXQuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qZGUuZG93bmxvYWQuY25ldC5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLypmaWxlZmFjdG9yeS5jb20vZmlsZS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmZpbGVzY2RuLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmZpbGVoaXBwby5jb20vKmRvd25sb2FkKgovLyBAaW5jbHVkZSBodHRwKjovLypmcmVld2FyZWZpbGVzLmNvbS9kb3dubG9hZHNfY291bnRlci5waHAqCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmdvb2dsZS4qL2VhcnRoL2Rvd25sb2FkL2dlL2FncmVlLmh0bWwKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qaHVnZWZpbGVzLm5ldC8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmh1bGtsb2FkLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKmtpbmdmaWxlcy5uZXQvKgovLyBAaW5jbHVkZSBodHRwKjovLypsZXRpdGJpdC5uZXQvZG93bmxvYWQvKgovLyBAaW5jbHVkZSBodHRwKjovLypsb3Zlcm9tcy5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLyp1cC5tZWRpYTFmaXJlLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKm1pZ2h0eXVwbG9hZC5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLyptcDNmaWwuKi9nZXQvKgovLyBAaW5jbHVkZSBodHRwKjovLyptcDNqdWljZXMudG8vKgovLyBAaW5jbHVkZSBodHRwKjovLyptcDNvbGltcC5uZXQvKgovLyBAaW5jbHVkZSBodHRwKjovLyptcDNvbGltcHouY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qb3BlbnN1YnRpdGxlcy5vcmcvKi9zdWJ0aXRsZXMvKgovLyBAaW5jbHVkZSBodHRwKjovLypyZXZjbG91ZHMuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qcm9taHVzdGxlci5uZXQvZG93bmxvYWQvKgovLyBAaW5jbHVkZSBodHRwKjovLypyb21odXN0bGVyLm5ldC9yb20vKgovLyBAaW5jbHVkZSBodHRwKjovLypzZWN1cmV1cGxvYWQuZXUvKgovLyBAaW5jbHVkZSBodHRwKjovLypzZW5kc3BhY2UuY29tL2ZpbGUvKgovLyBAaW5jbHVkZSBodHRwKjovLypzaGFyZWJlYXN0LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHAqOi8vKnNoYXJlZC5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLypzb2Z0bTguY29tKgovLyBAaW5jbHVkZSBodHRwKjovLyouc29mdG9uaWMuKgovLyBAaW5jbHVkZSBodHRwKjovLypzb3VyY2Vmb3JnZS5uZXQvKgovLyBAaW5jbHVkZSBodHRwKjovLyp0dXNmaWxlcy5uZXQvKgovLyBAaW5jbHVkZSBodHRwKjovLyp1bmxpbWl0em9uZS5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLyp1cGxvYWRpbmcuY29tLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qdXBsb2Qud3MvKgovLyBAaW5jbHVkZSBodHRwKjovLyp1cGxvYWRzLnRvLyoKLy8gQGluY2x1ZGUgaHR0cCo6Ly8qdXB0b2JveC5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLyp1c2Vyc2Nkbi5jb20vKgovLyBAaW5jbHVkZSBodHRwKjovLyp6aWRkdS5jb20vZG93bmxvYWRmaWxlLyoKCi8vIFdlIGRvbid0IHVzZSB0aGlzIG1ldGhvZCwgaG93ZXZlciBhIHNpZGUgZWZmZWN0IG9mIGl0IGlzIHRoYXQgaXQgcmVzdG9yZXMgdGhlIEdyZWFzZW1vbmtleSBzYW5kYm94LCBhdm9pZGluZyBqUXVlcnkgY29uZmxpY3RzCi8vIEBncmFudCBHTV9hZGRTdHlsZQoKLy8gQGdyYW50IHVuc2FmZVdpbmRvdwoKLy8gQGhvbWVwYWdlVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9IYW5keVVzZXJzY3JpcHRzL0FudGlBZHdhcmUjcmVhZG1lCi8vIEBzdXBwb3J0VVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9IYW5keVVzZXJzY3JpcHRzL0FudGlBZHdhcmUvaXNzdWVzCgoKLy8gQHJ1bi1hdCBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KCnZvaWQKZnVuY3Rpb24gKCkgewogICAgLy8gSWYgdHJ1ZSwgZGlzcGxheXMgbG9nIGluIHRoZSBjb25zb2xlCiAgICB2YXIgb19kZWJ1ZyA9IGZhbHNlCgogICAgLy8gUnVsZXMgaW5mb3JtaW5nIHdoYXQgdG8gZG8gb24gZWFjaCBzdXBwb3J0ZWQgd2Vic2l0ZQogICAgdmFyIGFkd2FyZVJ1bGVzID0gewogICAgICAgIGExODB1cGxvYWQ6IHsKICAgICAgICAgICAgaG9zdDogWycxODB1cGxvYWQuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3VzZV9pbnN0YWxsZXInXSwKICAgICAgICAgICAgaGlkZTogWycjdXNlX2luc3RhbGxlcicsICdsYWJlbFtmb3I9dXNlX2luc3RhbGxlcl0nXQogICAgICAgIH0sCiAgICAgICAgYTR1cGZpbGVzOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnNHVwZmlsZXMuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3VzZV9kb3dubG9hZGVyJ10sCiAgICAgICAgICAgIGhpZGU6IFsnbGFiZWxbZm9yPXVzZV9kb3dubG9hZGVyXSddCiAgICAgICAgfSwKICAgICAgICBBZG9iZTogewogICAgICAgICAgICBob3N0OiBbJ2dldFxcZD8uYWRvYmUuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI29mZmVyQ2hlY2tib3gnLCcjb2ZmZXJDaGVja2JveDEnLCcjb2ZmZXJDaGVja2JveDInLCcjb2ZmZXJDaGVja2JveDMnLCcjb2ZmZXJDaGVja2JveDQnXSwKICAgICAgICAgICAgaGlkZTogWycuQ29udGVudENvbHVtbi5Db250ZW50Q29sdW1uLTInXQogICAgICAgIH0sCiAgICAgICAgQWZ0ZXJkYXduOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnYWZ0ZXJkYXduLmNvbSddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIC8vIERvd25sb2FkIHBhZ2UgZGlyZWN0bHkgYWNjZXNzZWQgZnJvbSBhbm90aGVyIHdlYnNpdGUKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmNvbnRhaW5zKCdpbnN0YWxsZXI9MScpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gdGhlIHBhZ2Ugd2l0aG91dCB0aGUgZG93bmxvYWQgbWFuYWdlcgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5yZXBsYWNlKCdpbnN0YWxsZXI9MScsICdpbnN0YWxsZXI9MCcpKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIFNvZnR3YXJlIHBhZ2UKICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9aW5zdGFsbGVyXScpLnByb3AoJ3ZhbHVlJywgJzAnKQogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkQnV0dG9uID0gJCgnI2Rvd25sb2FkLW1haW4tYnV0dG9uJykKICAgICAgICAgICAgICAgIHZhciBhZHdhcmVMaW5rID0gZG93bmxvYWRCdXR0b24ucHJvcCgnaHJlZicpCiAgICAgICAgICAgICAgICBhZHdhcmVMaW5rID0gYWR3YXJlTGluay5yZXBsYWNlKCdpbnN0YWxsZXI9MScsICdpbnN0YWxsZXI9MCcpCiAgICAgICAgICAgICAgICBkb3dubG9hZEJ1dHRvbi5wcm9wKCdocmVmJywgYWR3YXJlTGluaykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgQWthZmlsZTogewogICAgICAgICAgICBob3N0OiBbJ2FrYWZpbGUuY29tJ10sCiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHJlYWwgZG93bmxvYWQgbGluayBpbiB0aGUgY29tbWVudHMgc2VjdGlvbiBhbmQgcmVwbGFjZSB0aGUgZmFrZSBvbmUgd2l0aCB0aGlzIChpZiB0aGUgZmFrZSBpcyBub3QgYSB2YWxpZCBsaW5rKQogICAgICAgICAgICBleGVjOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGluayBpcyBhbHJlYWR5IGEgdmFsaWQgb25lIHdlIGRvbid0IHJlcGxhY2UgaXQKICAgICAgICAgICAgICAgIHZhciB0ZXN0SG9zdCA9IG5ldyBSZWdFeHAoImFpay53b2xmdXAubmV0IiwgJ2knKQogICAgICAgICAgICAgICAgaWYgKHRlc3RIb3N0LnRlc3QoJCgiI2Rvd25sb2FkMSIpLmF0dHIoImhyZWYiKSkpIHJldHVybgogICAgICAgICAgICAgICAgLy8gR2V0IGNvbW1lbnQgc2VjdGlvbiBhbmQgZW51bWVyYXRlIGVhY2ggZWxlbWVudCBoYXZpbmcgdGhlIHJpZ2h0IGlkLCBjaGVjayBpZiBpdCdzIGEgcHJvcGVyIGRvd25sb2FkIGxpbmsKICAgICAgICAgICAgICAgIHZhciBjb21tZW50cyA9ICQoJyNjb250aW51ZScpLmNvbW1lbnRzKCkuY2hpbGRyZW4oJyNkb3dubG9hZDEnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGVzdEhvc3QudGVzdCgkKHRoaXMpLmF0dHIoImhyZWYiKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI2Rvd25sb2FkMSIpLmF0dHIoImhyZWYiLCAkKHRoaXMpLmF0dHIoImhyZWYiKSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIENoaXA6IHsKICAgICAgICAgICAgaG9zdDogWydjaGlwLmRlJ10sCiAgICAgICAgICAgIGhpZGU6IFsnLmRvd25sb2FkX2J1dHRvbiddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBkbCA9ICQoJy5NYW51YWxJbnN0YWxsTGluaycpLnByb3AoJ2hyZWYnKQogICAgICAgICAgICAgICAgdmFyIGJ0biA9ICQoJy5kbC1idG4tZGVmYXVsdCAuRG93bmxvYWQtQnV0dG9uJykKCiAgICAgICAgICAgICAgICBidG4ucHJvcCgnaHJlZicsIGRsKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBDbGlja251cGxvYWQ6IHsKICAgICAgICAgICAgaG9zdDogWydjbGlja251cGxvYWQuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2RfYWNjX2NoZWNrYm94J10sCiAgICAgICAgICAgIGhpZGU6IFsnI3dfZG93bmxvYWQnLCAnI2RfYWNjJ10KICAgICAgICB9LAogICAgICAgIENsaXBDb252ZXJ0ZXI6IHsKICAgICAgICAJaG9zdDogWydjbGlwY29udmVydGVyLmNjJ10sCiAgICAgICAgCXVuY2hlY2s6IFsnI2RsY3AnXSwKICAgICAgICAJaGlkZTogWydkaXZbc3R5bGU9IndpZHRoOiAzNDBweDttYXJnaW4tbGVmdDogMjVweDttYXJnaW4tdG9wOiA3cHg7Il0nXQogICAgICAgIH0sCiAgICAgICAgQ2xvdWR5VmlkZW9zOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnY2xvdWR5dmlkZW9zLmNvbSddLAogICAgICAgICAgICB1bmNoZWNrOiBbJyN1c2UtbWFuYWdlciddLAogICAgICAgICAgICBoaWRlOiBbJyNkb3dubG9hZC1ib3ggPiBsYWJlbCddCiAgICAgICAgfSwKICAgICAgICBDb29scm9tOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnY29vbHJvbS5jb20nXSwKICAgICAgICAgICAgaGlkZTogWyd0YWJsZVthbGlnbj0iY2VudGVyIl1bd2lkdGg9IjMwMCJdJ10sCiAgICAgICAgICAgIGV4ZWM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkQnV0dG9uID0gJCgnLmRvd25sb2FkX2xpbmsnKQogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkSWQgPSBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpWzNdCgogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkb3dubG9hZEJ1dHRvbiAhPSAndW5kZWZpbmVkJyAmJiBkb3dubG9hZElkLm1hdGNoKC9eXGQrJC8pKSB7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRCdXR0b24ucHJvcCgnaHJlZicsICdodHRwOi8vY29vbHJvbS5jb20vZGxwb3AucGhwP2lkPScgKyBkb3dubG9hZElkKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEF2b2lkIHRoZSBIVE1MIHBhZ2UgdG8gYmUgdHJpZ2dlcmVkIGFzIGEgZG93bmxvYWQKICAgICAgICAgICAgICAgIGRvd25sb2FkQnV0dG9uLnJlbW92ZUF0dHIoJ2Rvd25sb2FkJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgRGFpbHlVcGxvYWRzOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnZGFpbHl1cGxvYWRzLm5ldCddLAogICAgICAgICAgICBoaWRlOiBbJ2xhYmVsW3N0eWxlPSJmb250LXNpemU6eC1zbWFsbCJdJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2Noa0lzQWRkJ10KICAgICAgICB9LAogICAgICAgIERhdGFmaWxlaG9zdDogewogICAgICAgICAgICBob3N0OiBbJ2RhdGFmaWxlaG9zdC5jb20nXSwKICAgICAgICAgICAgaGlkZTogWydmb3JtW25hbWU9Y2JmXSddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBpZCA9IGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9eXC9kXC8oXHcrKSQvKVsxXQogICAgICAgICAgICAgICAgLy8gRGF0YUZpbGVIb3N0IGRvZXNuJ3QgYWxsb3cgdG8gZG93bmxvYWQgdXNpbmcgSFRUUFMKICAgICAgICAgICAgICAgIHZhciBhZHdhcmVsZXNzTGluayA9ICdodHRwOicgKyAnLy8nICsgZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUgKyAnL2dldC5waHA/ZmlsZT0nICsgaWQKCiAgICAgICAgICAgICAgICB2YXIgbiA9ICQoJyNkbCA+IGEnKS5jbG9uZSgpCgogICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgYWR3YXJlIGxpbmsKICAgICAgICAgICAgICAgIG4ucHJvcCgnaHJlZicsIGFkd2FyZWxlc3NMaW5rKQoKICAgICAgICAgICAgICAgIC8vIEF2b2lkIHJlZGlyZWN0aW9uIHRvIGFkd2FyZQogICAgICAgICAgICAgICAgJCgnI2RsJykucmVwbGFjZVdpdGgobik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIERhdnZhczogewogICAgICAgICAgICBob3N0OiBbJ2RhdnZhcy5jb20nXSwKICAgICAgICAgICAgdW5jaGVjazogWycjY2hsaW5rJ10sCiAgICAgICAgICAgIGhpZGU6IFsnbGFiZWxbZm9yPWNobGlua10nLCAnI2NobGluayddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBidG4gPSAkKCcjYnRuX2Rvd25sb2FkJykKICAgICAgICAgICAgICAgIGlmICghZXhpc3RzKGJ0bikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyKCdvbmNsaWNrJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgRGV2SG9zdDogewogICAgICAgICAgICBob3N0OiBbJ2QtaC5zdCddLAogICAgICAgICAgICB1bmNoZWNrOiBbJyNkbS1jaGVjayddLAogICAgICAgICAgICBoaWRlOiBbJyNkb3dubG9hZG1hbmFnZXInLCdhOmhhcyg+aW1nW3NyYyo9Ii9hc3NldHMvaW1nL2Rvd25sb2FkMS5wbmciXSknLCAnI2Rvd25sb2FkZmlsZTInXSwKICAgICAgICB9LAogICAgICAgIERvd25sb2FkOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnZG93bmxvYWQuY25ldC5jb20nLCd0ZWxlY2hhcmdlci5jbmV0LmNvbScsJ2Rlc2Nhcmdhci5jbmV0LmNvbSddLAogICAgICAgICAgICBoaWRlOiBbJy5kbG4tc3ViLW1lc3NhZ2UnLCcjdGl0bGUtZGV0YWlsLWRvd25sb2FkLW5vdy1idXR0b24tZGxtLW5vdGljZS1pY29uJywnLmRvd25sb2FkLW5vdy5kaXJlY3QtZG93bmxvYWQtYnV0dG9uLWRsbiddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIC8vIC0tPiBUaGlzIGlzIGZvciBwcm9ncmFtIHBhZ2VzCiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSByZWFsIGRvd25sb2FkIGxpbmsKICAgICAgICAgICAgICAgIHZhciBhZHdhcmVsZXNzTGluayA9ICQoJy5kb3dubG9hZC1ub3cnKS5hdHRyKCdkYXRhLW5vZGxtLXVybCcpCiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBzdWNjZXNzZnVsbHkgZm91bmQgaXQKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWR3YXJlbGVzc0xpbmsgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAvLyBXZSByZXBsYWNlIHRoZSBhZHdhcmUtZW5hYmxlZCBsaW5rIHdpdGggdGhlIGFkd2FyZWxlc3MgbGluawogICAgICAgICAgICAgICAgICAgIHZhciBidG4gPSAkKCJhLmRsbi1hOmhhcygnLmRsbi1jdGEnKSIpCiAgICAgICAgICAgICAgICAgICAgYnRuLnByb3AoJ2hyZWYnLCBhZHdhcmVsZXNzTGluaykKICAgICAgICAgICAgICAgICAgICBidG4uYXR0cignZGF0YS1ocmVmJywgYWR3YXJlbGVzc0xpbmspCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gLS0+IFRoaXMgaXMgZm9yIHNlYXJjaCBsaXN0cwogICAgICAgICAgICAgICAgLy8gQ2hlY2sgZWFjaCBkb3dubG9hZCBidXR0b24gZnJvbSB0aGUgbGlzdAogICAgICAgICAgICAgICAgJCgnLmRvd25sb2FkLW5vdy5saXN0aW5nLWJ1dHRvbi1kbG4nKS5lYWNoKAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGN1cnJJbmRleCwgY3VyckRPTUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJFbGVtZW50ID0gJChjdXJyRE9NRWxlbWVudCkKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZGlyZWN0IGRvd25sb2FkIGxpbmsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJEaXJlY3REbExpbmsgPSBjdXJyRWxlbWVudC5hdHRyKCdkYXRhLW5vZGxtLXVybCcpCgogICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBjb3VsZG4ndCBmaW5kIHRoZSBkaXJlY3QgZG93bmxvYWQgbGluaywgd2UgYWJhbmRvbgogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJEaXJlY3REbExpbmsgPT0gJ3VuZGVmaW5lZCcpIHtyZXR1cm59CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBkb3dubG9hZCBsaW5rIHdpdGggdGhlIGRpcmVjdCwgZG93bmxvYWQgbWFuYWdlci1sZXNzIGxpbmsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyckVsZW1lbnQuY2hpbGRyZW4oJy5kbG4tYScpLnByb3AoJ2hyZWYnLCBjdXJyRGlyZWN0RGxMaW5rKQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29tZWhvdyB0aGlzIGNsYXNzIHByZXZlbnRzIHRoZSBkb3dubG9hZCBmcm9tIGxhdW5jaGluZyBwcm9wZXJseSAoYXQgbGVhc3Qgb24gRmlyZWZveCkKICAgICAgICAgICAgICAgICAgICAgICAgY3VyckVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2Rvd25sb2FkLW5vdycpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgRmlsZWZhY3Rvcnk6IHsKICAgICAgICAgICAgaG9zdDogWydmaWxlZmFjdG9yeS5jb20nXSwKICAgICAgICAgICAgdW5jaGVjazogWycjZG93bmxvYWRfbWFuYWdlciA+IGlucHV0OmNoZWNrYm94J10sCiAgICAgICAgICAgIGhpZGU6IFsnI2Rvd25sb2FkX21hbmFnZXInXQogICAgICAgIH0sCiAgICAgICAgRmlsZXNDRE46IHsKICAgICAgICAgICAgaG9zdDogWydmaWxlc2Nkbi5jb20nXSwKICAgICAgICAgICAgaGlkZTogWycuYnRuLmJnLWdyZWVuLTQwMCddCiAgICAgICAgfSwKICAgICAgICBGcmVld2FyZWZpbGVzOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnZnJlZXdhcmVmaWxlcy5jb20nXSwKICAgICAgICAgICAgaGlkZTogWydzcGFuLnNtYWxsbGlua3M6Y29udGFpbnMoImRvd25sb2FkIG1hbmFnZXIiKSddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBkaXJlY3RMaW5rID0gJCgnYS5kd25sb2NhdGlvbnMnKS5wcm9wKCdocmVmJykKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGlyZWN0TGluayA9PSAndW5kZWZpbmVkJykge3JldHVybn0KCiAgICAgICAgICAgICAgICAkKCd0ZFt3aWR0aD0zMzBdW2FsaWduPWxlZnRdID4gYScpLnByb3AoJ2hyZWYnLCBkaXJlY3RMaW5rKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBHb29nbGVFYXJ0aDogewogICAgICAgIAlob3N0OiBbJ2dvb2dsZS4nXSwKICAgICAgICAJdW5jaGVjazogWycjZGwtYWdyZWUtY2hyb21lJywnI2RsLWFncmVlLWNocm9tZS1kZWZhdWx0J10sCiAgICAgICAgCWhpZGU6IFsnI2RsLWNocm9tZS1wcm9tbyddCiAgICAgICAgfSwKICAgICAgICBIdWdlZmlsZXM6IHsKICAgICAgICAgICAgaG9zdDogWydodWdlZmlsZXMubmV0J10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2RhcCcsJyN1c2VfZG93bmxvYWRlciddLAogICAgICAgICAgICBoaWRlOiBbInNwYW46Y29udGFpbnMoJ3VzaW5nIGRvd25sb2FkIGFjY2VsZXJhdG9yJykiLCAnI2RhcCcsICcjdXNlX2Rvd25sb2FkZXInLCAnaW1nW3NyYz0iaHR0cDovL2h1Z2VmaWxlcy5uZXQvYnV0dG9uLnBuZyJdJ10KICAgICAgICB9LAogICAgICAgIEh1bGtsb2FkOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnaHVsa2xvYWQuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3NwbnNyZGxkJywgJyN1c2UtbWFuYWdlciddLAogICAgICAgICAgICBoaWRlOiBbCiAgICAgICAgICAgIAkiZm9ybTpjb250YWlucygnZG93bmxvYWQgVGhlIEZSRUUgZG93bmxvYWQgYWNjZWxlcmF0b3InKSIsJyNzcG5zcmRsZCcsJyNkb3dubG9hZC10aWNrJywKICAgICAgICAgICAgCSdpbWdbc3JjXj0iaHR0cDovL2h1bGtsb2FkLmNvbS9pbWFnZXMvZGxkIl0nLCAvLyBGYWtlIGRvd25sb2FkIGJ1dHRvbgogICAgICAgICAgICAJJ2Rpdi5hbGVydFtvbmNsaWNrPSJnb3RvKCkiXScsIC8vIEZha2Ugc3BvbnNvcmVkIGxpbmtzCiAgICAgICAgICAgIAknZGl2W3N0eWxlKj0iaGVpZ2h0OiA5MHB4OyBib3JkZXI6IDNweCBzb2xpZCByZ2IoMjA1LCAyNDAsIDI0NikiXScgLy8gRmFrZSBkb3dubG9hZCBiYW5uZXIgKGxpdmVyc2VseSkKICAgICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgS2luZ2ZpbGVzOiB7CiAgICAgICAgICAgIGhvc3Q6IFsna2luZ2ZpbGVzLm5ldCddLAogICAgICAgICAgICB1bmNoZWNrOiBbJyNjbWxpX2Rvd25sb2FkZXInXSwKICAgICAgICAgICAgaGlkZTogWycjdGVzdDEnXSwKICAgICAgICAgICAgLy8gQXZvaWRzIGEgcG9wdXAgd2hlbiB1bmNoZWNraW5nIHRoZSBjaGVja2JveAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICQoJyNjbWxpX2Rvd25sb2FkZXInKS5wcm9wKCdvbmNsaWNrJywgbnVsbCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgTGV0aXRiaXQ6IHsKICAgICAgICAgICAgaG9zdDogWydsZXRpdGJpdC5uZXQnXSwKICAgICAgICAgICAgdW5jaGVjazogWycjc2t5bW9ua19jaGVja2JveCddLAogICAgICAgICAgICBoaWRlOiBbJyNza3ltb25rX2NoZWNrYm94JywgJ2xhYmVsW2Zvcj1za3ltb25rX2NoZWNrYm94XSddCiAgICAgICAgfSwKICAgICAgICBMb3ZlUm9tczogewogICAgICAgICAgICBob3N0OiBbJ2xvdmVyb21zLmNvbSddLAogICAgICAgICAgICB1bmNoZWNrOiBbJyNkb3dubG9hZFdpdGhNYW5hZ2VyJ10sCiAgICAgICAgICAgIGhpZGU6IFsnLmRvd25sb2FkLWxhYmVsJ10KICAgICAgICB9LAogICAgICAgIFVwTWVkaWExZmlyZTogewogICAgICAgICAgICBob3N0OiBbJ3VwLm1lZGlhMWZpcmUuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3VzZS1tYW5hZ2VyJ10sCiAgICAgICAgICAgIGhpZGU6IFsnI2Rvd25sb2FkLWJveCcsICcjc3BvbnNvcjInLCAnZGl2LmNvbnRlbnRvciA+IGNlbnRlcicsICcuYWxlcnQyJywgJ2ltZ1tzcmNePSJodHRwOi8vdXAubWVkaWExZmlyZS5jb20vbmIvUmVjX2IiXSddCiAgICAgICAgfSwKICAgICAgICBNaWdodHl1cGxvYWQ6IHsKICAgICAgICAgICAgaG9zdDogWydtaWdodHl1cGxvYWQuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3VzZV9pbnN0YWxsZXInXSwKICAgICAgICAgICAgaGlkZTogWycjdXNlX2luc3RhbGxlcicsICdsYWJlbFtmb3I9dXNlX2luc3RhbGxlcl0nLCcjbG5rX2Rvd25sb2FkIH4gYnInXQogICAgICAgIH0sCiAgICAgICAgTXAzZmlsOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnbXAzZmlsXC4nXSwKICAgICAgICAgICAgdW5jaGVjazogWycjY2hlY2sgPiBpbnB1dDpjaGVja2JveFtuYW1lPWNoZWNrXSddLAogICAgICAgICAgICBoaWRlOiBbJyNjaGVjayddCiAgICAgICAgfSwKICAgICAgICBNcDNqdWljZXM6IHsKICAgICAgICAgICAgaG9zdDogWydtcDNqdWljZXMudG8nXSwKICAgICAgICAgICAgdW5jaGVjazogWydpbnB1dDpjaGVja2JveFtuYW1lPWRsX21hbmFnZXJdJ10sCiAgICAgICAgICAgIGhpZGU6IFsnLmRsX21hbmFnZXIsLmNbc3R5bGU9ImhlaWdodDo4MHB4Il0nXQogICAgICAgIH0sCiAgICAgICAgTXAzb2xpbXA6IHsKICAgICAgICAJaG9zdDogWydtcDNvbGltcC5uZXR8bXAzb2xpbXB6LmNvbSddLAogICAgICAgIAl1bmNoZWNrOiBbJyNkb3dubG9hZC1tYW5hZ2VyLWNoZWNrYm94J10sCiAgICAgICAgCWhpZGU6IFsnI2Rvd25sb2FkLW1hbmFnZXInXQogICAgICAgIH0sCiAgICAgICAgT3BlbnN1YnRpdGxlczogewogICAgICAgICAgICBob3N0OiBbJ29wZW5zdWJ0aXRsZXMub3JnJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2NiRG93bmxvYWRlciddLAogICAgICAgICAgICBvcHR1bmNoZWNrOiB7CiAgICAgICAgICAgICAgICAvLyBOZXZlciBzdG9wIHRvIHRyeSB1bmNoZWNraW5nIHRoZSBjaGVja2JveAogICAgICAgICAgICAgICAgY29uc3RhbnRjaGVjazogdHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBoaWRlOiBbJyNjYkRvd25sb2FkZXInLCcjbGItZHdsJ10sCiAgICAgICAgICAgIG9wdGhpZGU6IHsKICAgICAgICAgICAgICAgIC8vIE5ldmVyIHN0b3AgdG8gdHJ5IGhpZGluZyB0aGUgb2JqZWN0CiAgICAgICAgICAgICAgICBjb25zdGFudGNoZWNrOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIEZpbGVoaXBwbzogewogICAgICAgICAgICBob3N0OiBbJ2ZpbGVoaXBwby5jb20nXSwKICAgICAgICAgICAgLy8gV2lsbCBkbyBub3RoaW5nIG9uIHBhZ2VzIHdpdGhvdXQgYSBkb3dubG9hZCBtYW5hZ2VyCiAgICAgICAgICAgIGhpZGU6IFsnI3Byb2dyYW0taGVhZGVyLWRvd25sb2FkLWxpbmstZG0tdGV4dCcsICcjZGlyZWN0LWRvd25sb2FkLWxpbmstY29udGFpbmVyJ10sCiAgICAgICAgICAgIGV4ZWM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGFkd09iaiA9ICQoJy5wcm9ncmFtLWhlYWRlci1kb3dubG9hZC1saW5rLmRvd25sb2FkLW1hbmFnZXItZW5hYmxlZCcpCiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgP2RpcmVjdCBhdCB0aGUgZW5kIG9mIHRoZSBVUkwgc28gdGhhdCBpdCBkb2Vzbid0IHByb3ZpZGUgdGhlIGRvd25sb2FkIG1hbmFnZXIKICAgICAgICAgICAgICAgIHZhciBkaXJlY3RVcmwgPSBhZHdPYmouYXR0cignaHJlZicpICsgJz9kaXJlY3QnCgogICAgICAgICAgICAgICAgYWR3T2JqLmF0dHIoJ2hyZWYnLCBkaXJlY3RVcmwpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFJldkNsb3VkczogewogICAgICAgICAgICBob3N0OiBbJ3JldmNsb3Vkcy5jb20nXSwKICAgICAgICAgICAgdW5jaGVjazogWycjdGljay1kd24nXSwKICAgICAgICAgICAgaGlkZTogWycudGljay1ib3gnXQogICAgICAgIH0sCiAgICAgICAgUm9taHVzdGxlcjogewogICAgICAgICAgICBob3N0OiBbJ3JvbWh1c3RsZXIubmV0J10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3VzZV9hY2NlbGVyYXRvciddLAogICAgICAgICAgICBoaWRlOiBbJy5hY2NlbGVyYXRvciddCiAgICAgICAgfSwKICAgICAgICBTZWN1cmV1cGxvYWQ6IHsKICAgICAgICAJaG9zdDogWydzZWN1cmV1cGxvYWQuZXUnXSwKICAgICAgICAJdW5jaGVjazogWydmb3JtW25hbWU9ZGxtYW5hZ2VyXSA+IGlucHV0OmNoZWNrYm94J10sCiAgICAgICAgCW9wdHVuY2hlY2s6IHsKICAgICAgICAgICAgICAgIC8vIE5ldmVyIHN0b3AgdG8gdHJ5IHVuY2hlY2tpbmcgdGhlIGNoZWNrYm94CiAgICAgICAgICAgICAgICBjb25zdGFudGNoZWNrOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgCWhpZGU6IFsnZm9ybVtuYW1lPWRsbWFuYWdlcl0nLCAnaW1nW3NyYz0iaHR0cHM6Ly93d3cuc2VjdXJldXBsb2FkLmV1L2dmeC9kbGJ0bi5wbmciXScsICdpbWdbc3JjPSJodHRwczovL3d3dy5zZWN1cmV1cGxvYWQuZXUvZ2Z4L2ZyZWVkbC5wbmciXSddLAogICAgICAgIAlvcHRoaWRlOiB7CiAgICAgICAgICAgICAgICAvLyBOZXZlciBzdG9wIHRvIHRyeSBoaWRpbmcgdGhlIG9iamVjdAogICAgICAgICAgICAgICAgY29uc3RhbnRjaGVjazogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBTZW5kc3BhY2U6IHsKICAgICAgICAgICAgaG9zdDogWydzZW5kc3BhY2UuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI3F1aWNrY2hrJ10sCiAgICAgICAgICAgIGhpZGU6IFsiZm9ybSA+IGRpdjpjb250YWlucygnd2l0aCBzZW5kc3BhY2UgYWNjZWxlcmF0b3InKSIsJyNxdWlja2NoayddCiAgICAgICAgfSwKICAgICAgICBTaGFyZWJlYXN0OiB7CiAgICAgICAgICAgIGhvc3Q6IFsnc2hhcmViZWFzdC5jb20nXSwKICAgICAgICAgICAgdW5jaGVjazogWycjc2hhcmViZWFzdF9kb3dubG9hZGVyJ10sCiAgICAgICAgICAgIGhpZGU6IFsnI3NoYXJlYmVhc3RfZG93bmxvYWRlcl9jb250YWluZXInXQogICAgICAgIH0sCiAgICAgICAgU2hhcmVkOiB7CiAgICAgICAgICAgIGhvc3Q6IFsnc2hhcmVkLmNvbSddLAogICAgICAgICAgICB1bmNoZWNrOiBbJyN1c2UtbWFuYWdlciddLAogICAgICAgICAgICBoaWRlOiBbJyN3ZWJwaWNrLW9wdGlvbiddCiAgICAgICAgfSwKICAgICAgICBTb2Z0TTg6IHsKICAgICAgICAgICAgaG9zdDogWycuc29mdG04LmNvbSddLAogICAgICAgICAgICBoaWRlOiBbJyNkaW5mbzJbc3R5bGU9ImNsZWFyOmJvdGg7Il0nXSwgLy8gQmxhaCBibGFoIGFib3V0IEFkd2FyZQogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBidXRNYXRjaCA9ICcuYnV0dG9uRG93bmxvYWQuZGJ0bmRsJwogICAgICAgICAgICAgICAgdmFyIGRsQnV0ID0gJChidXRNYXRjaCkKCiAgICAgICAgICAgICAgICAvLyBUYWtlIHRoZSBsYXN0IHBhcnQgb2YgdGhlIHBhdGggb2YgdGhlIFVSTAogICAgICAgICAgICAgICAgdmFyIGV4ZU5hbWUgPSBkbEJ1dC5wcm9wKCdocmVmJykuc3BsaXQoJy8nKS5wb3AoKQoKICAgICAgICAgICAgICAgIC8vIEZvdW5kIGluIHRoZSBhZHdhcmUgaW5zdGFsbGF0aW9uIGV4ZWN1dGFibGUKICAgICAgICAgICAgICAgIHZhciBub0FkTG5rID0gJ2h0dHA6Ly9oLnNvZnRtOC5jb20vJyArIGV4ZU5hbWUKCiAgICAgICAgICAgICAgICAvLyBDYW4gYmUgbXVsdGlwbGUgYnV0dG9ucwogICAgICAgICAgICAgICAgZGxCdXQucHJvcCgnaHJlZicsIG5vQWRMbmspCiAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cuJChidXRNYXRjaCkub2ZmKCdjbGljaycpIC8vIFByZXZlbnRzIHRoZSBkb3dubG9hZCBmcm9tIGxhdW5jaGluZyBwcm9wZXJseQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBTb2Z0b25pYzogewogICAgICAgICAgICBob3N0OiBbJy5zb2Z0b25pYy4nXSwKICAgICAgICAgICAgaGlkZTogWydoMjpjb250YWlucygiU29mdG9uaWMgRG93bmxvYWRlciIpIH4gdWwnLCdoMjpjb250YWlucygiU29mdG9uaWMgRG93bmxvYWRlciIpLCAuYm94LWRvd25sb2FkLWZvb3RlciddLAogICAgICAgICAgICBleGVjOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBsaW5rRm9sbG93ID0gJCgnI2Rvd25sb2FkX2FsdGVybmF0aXZlID4gcCA+IGFbcmVsPW5vZm9sbG93XScpCiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzKGxpbmtGb2xsb3cpKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVwbGFjZShsaW5rRm9sbG93LnByb3AoJ2hyZWYnKSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgbWFuYWdlckJ1dHRvbiA9ICQoJyNkb3dubG9hZC1idXR0b24tc2QsICNkb3dubG9hZC1idXR0b24nKQogICAgICAgICAgICAgICAgdmFyIGRpcmVjdEJ1dHRvbiA9ICQoJyNkb3dubG9hZC1idXR0b24tYWx0ZXJuYXRpdmUnKQogICAgICAgICAgICAgICAgaWYgKCFleGlzdHMobWFuYWdlckJ1dHRvbikgfHwgIWV4aXN0cyhkaXJlY3RCdXR0b24pKSB7cmV0dXJufQoKICAgICAgICAgICAgICAgIHZhciBkaXJlY3RMaW5rID0gZGlyZWN0QnV0dG9uLnByb3AoJ2hyZWYnKQoKICAgICAgICAgICAgICAgIC8vIEF2b2lkIGpRdWVyeSBjbGljayByZWRpcmVjdGlvbiBzZXQgb24gdGhlIGRvd25sb2FkIGJ1dHRvbgogICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7dW5zYWZlV2luZG93LiQoJyNkb3dubG9hZC1idXR0b24tc2QsICNkb3dubG9hZC1idXR0b24nKS5vZmYoJ2NsaWNrJyl9LCAxMDApCgogICAgICAgICAgICAgICAgbWFuYWdlckJ1dHRvbi5wcm9wKCdocmVmJywgZGlyZWN0TGluaykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgU291cmNlZm9yZ2U6IHsKICAgICAgICAgICAgaG9zdDogWydzb3VyY2Vmb3JnZS5uZXQnXSwKICAgICAgICAgICAgaGlkZTogWycuZGlyZWN0LWRsJywgJy5pbmZvLWNpcmNsZScsICcuYnRuLWRkbC10b2dnbGUnXSwKICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIAkvLyBIb3RmaXg6IGlmIHRoZSB1c2VyIGlzIG9uIGFuIGFkd2FyZS1idW5kbGVkIGRvd25sb2FkIHBhZ2UKICAgICAgICAgICAgCWlmIChkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5jb250YWlucygnL2Rvd25sb2FkJykgJiYgIWRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5jb250YWlucygnbm93cmFwJykpIHsKICAgICAgICAgICAgCQkvLyBBZGQgdGhlIGFyZ3VtZW50IGFzIGZpcnN0IGFyZ3VtZW50ICg/KSBvciBzZWNvbmRhcnkgYXJndW1lbnQgKCYpCiAgICAgICAgICAgIAkJdmFyIHByZWZpeCA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5jb250YWlucygnPycpPyAnJicgOiAnPyc7CiAgICAgICAgICAgIAkJZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID0gZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoICsgcHJlZml4ICsgJ25vd3JhcCc7CiAgICAgICAgICAgIAl9CgogICAgICAgICAgICAJdHJ5IHsKCSAgICAgICAgICAgIAkvLyBTZWVuIGluIGJyb3dzaW5nIGZpbGVzIHBhZ2VzCgkgICAgICAgICAgICAJdmFyIHRvZ2dsZUJ0biA9ICQoJ2EuYnRuLWRkbC10b2dnbGUnKTsKCSAgICAgICAgICAgIAkvLyBJbiBjYXNlIHRoZSB0ZXh0IGNvbnRhaW5zIHRoZSBwYXR0ZXJuIHRlbGxpbmcgdG8gdGhlIHVzZXIgdGhhdCBhZHdhcmUgaXMgZW5hYmxlZAoJICAgICAgICAgICAgCWlmIChleGlzdHModG9nZ2xlQnRuKSAmJiB0b2dnbGVCdG4uaHRtbCgpLmNvbnRhaW5zKHRvZ2dsZUJ0bi5hdHRyKCdkYXRhLWNvbnRlbnQtbm93cmFwJykpKSB7CgkgICAgICAgICAgICAJCS8vIFdlIGRpc2FibGUgaXQKCSAgICAgICAgICAgIAkJdW5zYWZlV2luZG93LiQoJ2EuYnRuLWRkbC10b2dnbGUnKS5jbGljaygpOwoJICAgICAgICAgICAgCX0KCSAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgICAJLy8gLS0+IFRoaXMgaXMgZm9yIHByb2dyYW0gcGFnZXMKICAgICAgICAgICAgCS8vIFRyeSB0byBnZXQgdGhlIHJlYWwgbGluawogICAgICAgICAgICAJdmFyIHJlYWxMaW5rID0gJCgnLmRpcmVjdC1kbCcpLnByb3AoJ2hyZWYnKQoKICAgICAgICAgICAgCS8vIElmIHdlIGZvdW5kIHRoZSBkaXJlY3QgZG93bmxvYWQgbGluaywgdGhlbiBpdCBtZWFucyB0aGlzIGRvd25sb2FkIGlzIGJ1bmRsZWQgd2l0aCBhIHBpZWNlIG9mIGFkd2FyZQogICAgICAgICAgICAJaWYgKHR5cGVvZiByZWFsTGluayAhPSAndW5kZWZpbmVkJykgewoJICAgICAgICAgICAgCS8vIFJlcGxhY2UgdGhlIGRvd25sb2FkIGxpbmsgd2l0aCB0aGUgcmVhbCBvbmUKCSAgICAgICAgICAgIAkkKCcjZG93bmxvYWRfYnV0dG9uID4gLnNmZGwnKS5wcm9wKCdocmVmJywgcmVhbExpbmspCgoJICAgICAgICAgICAgCS8vIE5vdyB3ZSdyZSB0cnlpbmcgdG8gY2hhbmdlIHRoZSAiSW5zdGFsbGVyIEVuYWJsZWQiIHRleHQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgZmlsZQoJICAgICAgICAgICAgCXZhciBjb250YWluc0ZpbGVOYW1lID0gJCgnLnNmZGwnKS5hdHRyKCdvbGR0aXRsZScpCgkgICAgICAgICAgICAJdmFyIGV4dHJhY3RGaWxlTmFtZSA9IC9cLyg/IS4qXC8pKFteIF0rKS8KCgkgICAgICAgICAgICAJdmFyIGZpbGVOYW1lID0gZXh0cmFjdEZpbGVOYW1lLmV4ZWMoY29udGFpbnNGaWxlTmFtZSkKCgkgICAgICAgICAgICAJJCgic21hbGw6Y29udGFpbnMoJ0luc3RhbGxlciBFbmFibGVkJykiKS5odG1sKGZpbGVOYW1lWzFdKQoJICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIC0tPiBUaGlzIGlzIGZvciB0aGUgbWFpbiBwYWdlIGFuZCBzZWFyY2hlcwogICAgICAgICAgICAgICAgLy8gVE9ETzogdXNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgZm9yIHNlYXJjaCBwYWdlcyAobm90IG5lZWRlZCBmb3IgbWFpbiBwYWdlKQogICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgiLnNmZGwuc2ZkbC1saXRlIikuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgZG93bmxvYWRpbmcgdGhlIGFkd2FyZS1mcmVlIHByb2dyYW0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEhyZWYgPSAkKHRoaXMpLnByb3AoJ2hyZWYnKQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBhcHBlbmRlZCBvdXIgbm8tYWR3YXJlIGFyZ3VtZW50LCBsZWF2ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkSHJlZi5zdWJzdHJpbmcob2xkSHJlZi5sZW5ndGgtNykgPT0gJyZub3dyYXAnKSB7cmV0dXJufQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGFwcGVuZCBpdAogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2hyZWYnLCAkKHRoaXMpLnByb3AoJ2hyZWYnKSArICcmbm93cmFwJykKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgNTApCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFR1c2ZpbGVzOiB7CiAgICAgICAgICAgIGhvc3Q6IFsndHVzZmlsZXMubmV0J10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnaW5wdXQ6Y2hlY2tib3hbbmFtZT1xdWlja10nXSwKICAgICAgICAgICAgaGlkZTogWydpbnB1dDpjaGVja2JveFtuYW1lPXF1aWNrXSB+IGxhYmVsJywgJ2lucHV0OmNoZWNrYm94W25hbWU9cXVpY2tdJywnYVt0YXJnZXQ9X2JsYW5rXVtocmVmKj0iaHR0cDovL3NoYXJlc3VwZXIuaW5mby8iXSxpbWdbc3JjPSJodHRwczovL3oudHVzZmlsZXMubmV0L2kvZGxsLnBuZyJdJ10KICAgICAgICB9LAogICAgICAgIFVwbG9hZGluZzogewogICAgICAgICAgICBob3N0OiBbJ3VwbG9hZGluZy5jb20nXSwKICAgICAgICAgICAgdW5jaGVjazogWycjZm9yY2VfZXhlJ10sCiAgICAgICAgICAgIGhpZGU6IFsnLnVzZV9kb3dubG9hZF9tYW5hZ2VyJ10KICAgICAgICB9LAogICAgICAgIFVwbG9kd3M6ewogICAgICAgICAgICBob3N0OiBbJ3VwbG9kLndzJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2Noa0lzQWRkJ10sCiAgICAgICAgICAgIGhpZGU6IFsnbGFiZWw6Y29udGFpbnMoIm9mZmVyIiknLCdpbWdbc3JjPSJodHRwOi8vZ29vLmdsL0NHSFZWbyJdJ10KICAgICAgICB9LAogICAgICAgIFVwbG9hZHM6IHsKICAgICAgICAgICAgaG9zdDogWyd1cGxvYWRzLnRvJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2Noa0lzQWRkJ10sCiAgICAgICAgICAgIGhpZGU6IFsnYTpjb250YWlucygiTUFOQUdFUiIpJywnY2VudGVyOmNvbnRhaW5zKCJPZmZlciIpJ10sCiAgICAgICAgfSwKICAgICAgICBVcHRvYm94OiB7CiAgICAgICAgICAgIGhvc3Q6IFsndXB0b2JveC5jb20nXSwKICAgICAgICAgICAgaGlkZTogWydkaXYucmVzZWxsZXIgPiB0YWJsZVthbGlnbj1jZW50ZXJdJ10sCiAgICAgICAgICAgIGV4ZWM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9ICQoJ2Rpdi5yZXNlbGxlciA+IHRhYmxlW2FsaWduPWNlbnRlcl0gZGl2W2FsaWduPWNlbnRlcl0gPiBhJykKICAgICAgICAgICAgICAgIHZhciBhZHdhcmUgPSBidXR0b24ucHJvcCgnaHJlZicpCgogICAgICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIHJlYWwgZG93bmxvYWQgbGluayBhbmQgY2hhbmdlIHRoZSBidXR0b24gd2l0aCB0aGlzIGxpbmsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZCA9IGFkd2FyZS5tYXRjaCgvJnByb2R1Y3RfZG93bmxvYWRfdXJsPShbXiQmXSspJC8pWzFdCiAgICAgICAgICAgICAgICBidXR0b24ucHJvcCgnaHJlZicsIGRvd25sb2FkKQoKICAgICAgICAgICAgICAgIC8vIFB1dCB0aGUgYnV0dG9uIGluIGEgdmlzaWJsZSBsb2NhdGlvbgogICAgICAgICAgICAgICAgJCgnZGl2LnJlc2VsbGVyID4gdGFibGVbYWxpZ249Y2VudGVyXScpLmJlZm9yZShidXR0b24pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFVubGltaXR6b25lOiB7CiAgICAgICAgICAgIGhvc3Q6IFsndW5saW1pdHpvbmUuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2RsbSddLAogICAgICAgICAgICBoaWRlOiBbJyNkbG0gfiBiJywnI2RsbSddCiAgICAgICAgfSwKICAgICAgICBVc2Vyc0NETjogewogICAgICAgICAgICBob3N0OiBbJ3VzZXJzY2RuLmNvbSddLAogICAgICAgICAgICB1bmNoZWNrOiBbJyNjaGtJc0FkZCddLAogICAgICAgICAgICBoaWRlOiBbJ2xhYmVsOmNvbnRhaW5zKCJEb3dubG9hZCBtYW5hZ2VyIiknXQogICAgICAgIH0sCiAgICAgICAgWmlkZHU6IHsKICAgICAgICAgICAgaG9zdDogWydkb3dubG9hZHMuemlkZHUuY29tJ10sCiAgICAgICAgICAgIHVuY2hlY2s6IFsnI2FjY2VsZXJhdG9yJ10sCiAgICAgICAgICAgIGhpZGU6IFsndGQudGV4dDEyOmNvbnRhaW5zKCJ6aWRkdSBhY2NlbGVyYXRvciIpJ10KICAgICAgICB9CiAgICB9CgogICAgLy8gSWYgdGhlIHJlcXVpcmUgd2Fzbid0IGV4ZWN1dGVkIChHb29nbGUgQ2hyb21lIGluc3RhbGxhdGlvbiB3aXRob3V0IFRhbXBlcm1vbmtleSksIGpRdWVyeSAyLjAzbWluCiAgICBpZiAodHlwZW9mICQgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAoZnVuY3Rpb24oZSx1bmRlZmluZWQpe3ZhciB0LG4scj10eXBlb2YgdW5kZWZpbmVkLGk9ZS5sb2NhdGlvbixvPWUuZG9jdW1lbnQscz1vLmRvY3VtZW50RWxlbWVudCxhPWUualF1ZXJ5LHU9ZS4kLGw9e30sYz1bXSxwPSIyLjAuMyIsZj1jLmNvbmNhdCxoPWMucHVzaCxkPWMuc2xpY2UsZz1jLmluZGV4T2YsbT1sLnRvU3RyaW5nLHk9bC5oYXNPd25Qcm9wZXJ0eSx2PXAudHJpbSx4PWZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyB4LmZuLmluaXQoZSxuLHQpfSxiPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHc9L1xTKy9nLFQ9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxDPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8saz0vXi1tcy0vLE49Ly0oW1xkYS16XSkvZ2ksRT1mdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9LFM9ZnVuY3Rpb24oKXtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLFMsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsUywhMSkseC5yZWFkeSgpfTt4LmZuPXgucHJvdG90eXBlPXtqcXVlcnk6cCxjb25zdHJ1Y3Rvcjp4LGluaXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoIWUpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZihyPSI8Ij09PWUuY2hhckF0KDApJiYiPiI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpULmV4ZWMoZSksIXJ8fCFyWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8bikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoclsxXSl7aWYodD10IGluc3RhbmNlb2YgeD90WzBdOnQseC5tZXJnZSh0aGlzLHgucGFyc2VIVE1MKHJbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6bywhMCkpLEMudGVzdChyWzFdKSYmeC5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpeC5pc0Z1bmN0aW9uKHRoaXNbcl0pP3RoaXNbcl0odFtyXSk6dGhpcy5hdHRyKHIsdFtyXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGk9by5nZXRFbGVtZW50QnlJZChyWzJdKSxpJiZpLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09aSksdGhpcy5jb250ZXh0PW8sdGhpcy5zZWxlY3Rvcj1lLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTp4LmlzRnVuY3Rpb24oZSk/bi5yZWFkeShlKTooZS5zZWxlY3RvciE9PXVuZGVmaW5lZCYmKHRoaXMuc2VsZWN0b3I9ZS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9ZS5jb250ZXh0KSx4Lm1ha2VBcnJheShlLHRoaXMpKX0sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT90aGlzLnRvQXJyYXkoKTowPmU/dGhpc1t0aGlzLmxlbmd0aCtlXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHQuY29udGV4dD10aGlzLmNvbnRleHQsdH0sZWFjaDpmdW5jdGlvbihlLHQpe3JldHVybiB4LmVhY2godGhpcyxlLHQpfSxyZWFkeTpmdW5jdGlvbihlKXtyZXR1cm4geC5yZWFkeS5wcm9taXNlKCkuZG9uZShlKSx0aGlzfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKDA+ZT90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhuPj0wJiZ0Pm4/W3RoaXNbbl1dOltdKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6aCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0seC5mbi5pbml0LnByb3RvdHlwZT14LmZuLHguZXh0ZW5kPXguZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLHM9YXJndW1lbnRzWzBdfHx7fSxhPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIHMmJihsPXMscz1hcmd1bWVudHNbMV18fHt9LGE9MiksIm9iamVjdCI9PXR5cGVvZiBzfHx4LmlzRnVuY3Rpb24ocyl8fChzPXt9KSx1PT09YSYmKHM9dGhpcywtLWEpO3U+YTthKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW2FdKSlmb3IodCBpbiBlKW49c1t0XSxyPWVbdF0scyE9PXImJihsJiZyJiYoeC5pc1BsYWluT2JqZWN0KHIpfHwoaT14LmlzQXJyYXkocikpKT8oaT8oaT0hMSxvPW4mJnguaXNBcnJheShuKT9uOltdKTpvPW4mJnguaXNQbGFpbk9iamVjdChuKT9uOnt9LHNbdF09eC5leHRlbmQobCxvLHIpKTpyIT09dW5kZWZpbmVkJiYoc1t0XT1yKSk7cmV0dXJuIHN9LHguZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhwK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLG5vQ29uZmxpY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGUuJD09PXgmJihlLiQ9dSksdCYmZS5qUXVlcnk9PT14JiYoZS5qUXVlcnk9YSkseH0saXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oZSl7ZT94LnJlYWR5V2FpdCsrOngucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihlKXsoZT09PSEwPy0teC5yZWFkeVdhaXQ6eC5pc1JlYWR5KXx8KHguaXNSZWFkeT0hMCxlIT09ITAmJi0teC5yZWFkeVdhaXQ+MHx8KG4ucmVzb2x2ZVdpdGgobyxbeF0pLHguZm4udHJpZ2dlciYmeChvKS50cmlnZ2VyKCJyZWFkeSIpLm9mZigicmVhZHkiKSkpfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PT14LnR5cGUoZSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoZSkpJiZpc0Zpbml0ZShlKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9lKyIiOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/bFttLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PXgudHlwZShlKXx8ZS5ub2RlVHlwZXx8eC5pc1dpbmRvdyhlKSlyZXR1cm4hMTt0cnl7aWYoZS5jb25zdHJ1Y3RvciYmIXkuY2FsbChlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKGUpfSxwYXJzZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0PXR8fG87dmFyIHI9Qy5leGVjKGUpLGk9IW4mJltdO3JldHVybiByP1t0LmNyZWF0ZUVsZW1lbnQoclsxXSldOihyPXguYnVpbGRGcmFnbWVudChbZV0sdCxpKSxpJiZ4KGkpLnJlbW92ZSgpLHgubWVyZ2UoW10sci5jaGlsZE5vZGVzKSl9LHBhcnNlSlNPTjpKU09OLnBhcnNlLHBhcnNlWE1MOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7bj1uZXcgRE9NUGFyc2VyLHQ9bi5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChyKXt0PXVuZGVmaW5lZH1yZXR1cm4oIXR8fHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKSYmeC5lcnJvcigiSW52YWxpZCBYTUw6ICIrZSksdH0sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbihlKXt2YXIgdCxuPWV2YWw7ZT14LnRyaW0oZSksZSYmKDE9PT1lLmluZGV4T2YoInVzZSBzdHJpY3QiKT8odD1vLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLHQudGV4dD1lLG8uaGVhZC5hcHBlbmRDaGlsZCh0KS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpKTpuKGUpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoaywibXMtIikucmVwbGFjZShOLEUpfSxub2RlTmFtZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9MCxvPWUubGVuZ3RoLHM9aihlKTtpZihuKXtpZihzKXtmb3IoO28+aTtpKyspaWYocj10LmFwcGx5KGVbaV0sbikscj09PSExKWJyZWFrfWVsc2UgZm9yKGkgaW4gZSlpZihyPXQuYXBwbHkoZVtpXSxuKSxyPT09ITEpYnJlYWt9ZWxzZSBpZihzKXtmb3IoO28+aTtpKyspaWYocj10LmNhbGwoZVtpXSxpLGVbaV0pLHI9PT0hMSlicmVha31lbHNlIGZvcihpIGluIGUpaWYocj10LmNhbGwoZVtpXSxpLGVbaV0pLHI9PT0hMSlicmVhaztyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjp2LmNhbGwoZSl9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYoaihPYmplY3QoZSkpP3gubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOmguY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTpnLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoLHI9ZS5sZW5ndGgsaT0wO2lmKCJudW1iZXIiPT10eXBlb2Ygbilmb3IoO24+aTtpKyspZVtyKytdPXRbaV07ZWxzZSB3aGlsZSh0W2ldIT09dW5kZWZpbmVkKWVbcisrXT10W2krK107cmV0dXJuIGUubGVuZ3RoPXIsZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1bXSxvPTAscz1lLmxlbmd0aDtmb3Iobj0hIW47cz5vO28rKylyPSEhdChlW29dLG8pLG4hPT1yJiZpLnB1c2goZVtvXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT0wLG89ZS5sZW5ndGgscz1qKGUpLGE9W107aWYocylmb3IoO28+aTtpKyspcj10KGVbaV0saSxuKSxudWxsIT1yJiYoYVthLmxlbmd0aF09cik7ZWxzZSBmb3IoaSBpbiBlKXI9dChlW2ldLGksbiksbnVsbCE9ciYmKGFbYS5sZW5ndGhdPXIpO3JldHVybiBmLmFwcGx5KFtdLGEpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLHguaXNGdW5jdGlvbihlKT8ocj1kLmNhbGwoYXJndW1lbnRzLDIpLGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LGkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHx4Lmd1aWQrKyxpKTp1bmRlZmluZWR9LGFjY2VzczpmdW5jdGlvbihlLHQsbixyLGksbyxzKXt2YXIgYT0wLHU9ZS5sZW5ndGgsbD1udWxsPT1uO2lmKCJvYmplY3QiPT09eC50eXBlKG4pKXtpPSEwO2ZvcihhIGluIG4peC5hY2Nlc3MoZSx0LGEsblthXSwhMCxvLHMpfWVsc2UgaWYociE9PXVuZGVmaW5lZCYmKGk9ITAseC5pc0Z1bmN0aW9uKHIpfHwocz0hMCksbCYmKHM/KHQuY2FsbChlLHIpLHQ9bnVsbCk6KGw9dCx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbC5jYWxsKHgoZSksbil9KSksdCkpZm9yKDt1PmE7YSsrKXQoZVthXSxuLHM/cjpyLmNhbGwoZVthXSxhLHQoZVthXSxuKSkpO3JldHVybiBpP2U6bD90LmNhbGwoZSk6dT90KGVbMF0sbik6b30sbm93OkRhdGUubm93LHN3YXA6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzPXt9O2ZvcihvIGluIHQpc1tvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPXNbb107cmV0dXJuIGl9fSkseC5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKHQpe3JldHVybiBufHwobj14LkRlZmVycmVkKCksImNvbXBsZXRlIj09PW8ucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KHgucmVhZHkpOihvLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLFMsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsUywhMSkpKSxuLnByb21pc2UodCl9LHguZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe2xbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gaihlKXt2YXIgdD1lLmxlbmd0aCxuPXgudHlwZShlKTtyZXR1cm4geC5pc1dpbmRvdyhlKT8hMToxPT09ZS5ub2RlVHlwZSYmdD8hMDoiYXJyYXkiPT09bnx8ImZ1bmN0aW9uIiE9PW4mJigwPT09dHx8Im51bWJlciI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKX10PXgobyksZnVuY3Rpb24oZSx1bmRlZmluZWQpe3ZhciB0LG4scixpLG8scyxhLHUsbCxjLHAsZixoLGQsZyxtLHksdj0ic2l6emxlIistbmV3IERhdGUsYj1lLmRvY3VtZW50LHc9MCxUPTAsQz1zdCgpLGs9c3QoKSxOPXN0KCksRT0hMSxTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PyhFPSEwLDApOjB9LGo9dHlwZW9mIHVuZGVmaW5lZCxEPTE8PDMxLEE9e30uaGFzT3duUHJvcGVydHksTD1bXSxxPUwucG9wLEg9TC5wdXNoLE89TC5wdXNoLEY9TC5zbGljZSxQPUwuaW5kZXhPZnx8ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPXRoaXMubGVuZ3RoO2Zvcig7bj50O3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sUj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLFc9Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIiwkPVcucmVwbGFjZSgidyIsIncjIiksQj0iXFxbIitNKyIqKCIrVysiKSIrTSsiKig/OihbKl4kfCF+XT89KSIrTSsiKig/OihbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCIrJCsiKXwpfCkiK00rIipcXF0iLEk9IjooIitXKyIpKD86XFwoKChbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitCLnJlcGxhY2UoMyw4KSsiKSopfC4qKVxcKXwpIix6PVJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPVJlZ0V4cCgiXiIrTSsiKiwiK00rIioiKSxYPVJlZ0V4cCgiXiIrTSsiKihbPit+XXwiK00rIikiK00rIioiKSxVPVJlZ0V4cChNKyIqWyt+XSIpLFk9UmVnRXhwKCI9IitNKyIqKFteXFxdJ1wiXSopIitNKyIqXFxdIiwiZyIpLFY9UmVnRXhwKEkpLEc9UmVnRXhwKCJeIiskKyIkIiksSj17SUQ6UmVnRXhwKCJeIygiK1crIikiKSxDTEFTUzpSZWdFeHAoIl5cXC4oIitXKyIpIiksVEFHOlJlZ0V4cCgiXigiK1cucmVwbGFjZSgidyIsIncqIikrIikiKSxBVFRSOlJlZ0V4cCgiXiIrQiksUFNFVURPOlJlZ0V4cCgiXiIrSSksQ0hJTEQ6UmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpSZWdFeHAoIl4oPzoiK1IrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpSZWdFeHAoIl4iK00rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTSsiKigoPzotXFxkKT9cXGQqKSIrTSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sUT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sSz0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLFo9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxldD0vXmhcZCQvaSx0dD0vJ3xcXC9nLG50PVJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitNKyI/fCgiK00rIil8LikiLCJpZyIpLHJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxuP3Q6MD5yP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxyPj4xMCw1NjMyMHwxMDIzJnIpfTt0cnl7Ty5hcHBseShMPUYuY2FsbChiLmNoaWxkTm9kZXMpLGIuY2hpbGROb2RlcyksTFtiLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChpdCl7Tz17YXBwbHk6TC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtILmFwcGx5KGUsRi5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gb3QoZSx0LHIsaSl7dmFyIG8scyxhLHUsbCxmLGcsbSx4LHc7aWYoKHQ/dC5vd25lckRvY3VtZW50fHx0OmIpIT09cCYmYyh0KSx0PXR8fHAscj1yfHxbXSwhZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiByO2lmKDEhPT0odT10Lm5vZGVUeXBlKSYmOSE9PXUpcmV0dXJuW107aWYoaCYmIWkpe2lmKG89Sy5leGVjKGUpKWlmKGE9b1sxXSl7aWYoOT09PXUpe2lmKHM9dC5nZXRFbGVtZW50QnlJZChhKSwhc3x8IXMucGFyZW50Tm9kZSlyZXR1cm4gcjtpZihzLmlkPT09YSlyZXR1cm4gci5wdXNoKHMpLHJ9ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJihzPXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSkmJnkodCxzKSYmcy5pZD09PWEpcmV0dXJuIHIucHVzaChzKSxyfWVsc2V7aWYob1syXSlyZXR1cm4gTy5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLHI7aWYoKGE9b1szXSkmJm4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBPLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSxyfWlmKG4ucXNhJiYoIWR8fCFkLnRlc3QoZSkpKXtpZihtPWc9dix4PXQsdz05PT09dSYmZSwxPT09dSYmIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Y9Z3QoZSksKGc9dC5nZXRBdHRyaWJ1dGUoImlkIikpP209Zy5yZXBsYWNlKHR0LCJcXCQmIik6dC5zZXRBdHRyaWJ1dGUoImlkIixtKSxtPSJbaWQ9JyIrbSsiJ10gIixsPWYubGVuZ3RoO3doaWxlKGwtLSlmW2xdPW0rbXQoZltsXSk7eD1VLnRlc3QoZSkmJnQucGFyZW50Tm9kZXx8dCx3PWYuam9pbigiLCIpfWlmKHcpdHJ5e3JldHVybiBPLmFwcGx5KHIseC5xdWVyeVNlbGVjdG9yQWxsKHcpKSxyfWNhdGNoKFQpe31maW5hbGx5e2d8fHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGt0KGUucmVwbGFjZSh6LCIkMSIpLHQscixpKX1mdW5jdGlvbiBzdCgpe3ZhciBlPVtdO2Z1bmN0aW9uIHQobixyKXtyZXR1cm4gZS5wdXNoKG4rPSIgIik+aS5jYWNoZUxlbmd0aCYmZGVsZXRlIHRbZS5zaGlmdCgpXSx0W25dPXJ9cmV0dXJuIHR9ZnVuY3Rpb24gYXQoZSl7cmV0dXJuIGVbdl09ITAsZX1mdW5jdGlvbiB1dChlKXt2YXIgdD1wLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGx0KGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9ZS5sZW5ndGg7d2hpbGUoci0tKWkuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIGN0KGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmKH50LnNvdXJjZUluZGV4fHxEKS0ofmUuc291cmNlSW5kZXh8fEQpO2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBwdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1uJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09bnx8ImJ1dHRvbiI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gaHQoZSl7cmV0dXJuIGF0KGZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LGF0KGZ1bmN0aW9uKG4scil7dmFyIGksbz1lKFtdLG4ubGVuZ3RoLHQpLHM9by5sZW5ndGg7d2hpbGUocy0tKW5baT1vW3NdXSYmKG5baV09IShyW2ldPW5baV0pKX0pfSl9cz1vdC5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIHQ/IkhUTUwiIT09dC5ub2RlTmFtZTohMX0sbj1vdC5zdXBwb3J0PXt9LGM9b3Quc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZT9lLm93bmVyRG9jdW1lbnR8fGU6YixyPXQuZGVmYXVsdFZpZXc7cmV0dXJuIHQhPT1wJiY5PT09dC5ub2RlVHlwZSYmdC5kb2N1bWVudEVsZW1lbnQ/KHA9dCxmPXQuZG9jdW1lbnRFbGVtZW50LGg9IXModCksciYmci5hdHRhY2hFdmVudCYmciE9PXIudG9wJiZyLmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZnVuY3Rpb24oKXtjKCl9KSxuLmF0dHJpYnV0ZXM9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksbi5nZXRFbGVtZW50c0J5VGFnTmFtZT11dChmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0LmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT11dChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+IixlLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPSJpIiwyPT09ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSksbi5nZXRCeUlkPXV0KGZ1bmN0aW9uKGUpe3JldHVybiBmLmFwcGVuZENoaWxkKGUpLmlkPXYsIXQuZ2V0RWxlbWVudHNCeU5hbWV8fCF0LmdldEVsZW1lbnRzQnlOYW1lKHYpLmxlbmd0aH0pLG4uZ2V0QnlJZD8oaS5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQhPT1qJiZoKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuJiZuLnBhcmVudE5vZGU/W25dOltdfX0saS5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKG50LHJ0KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19KTooZGVsZXRlIGkuZmluZC5JRCxpLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UobnQscnQpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT09aiYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19KSxpLmZpbmQuVEFHPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1qP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dW5kZWZpbmVkfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiI9PT1lKXt3aGlsZShuPW9baSsrXSkxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxpLmZpbmQuQ0xBU1M9bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe3JldHVybiB0eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09aiYmaD90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk6dW5kZWZpbmVkfSxnPVtdLGQ9W10sKG4ucXNhPVEudGVzdCh0LnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKHV0KGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8c2VsZWN0PjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fGQucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8ZC5wdXNoKCI6Y2hlY2tlZCIpfSksdXQoZnVuY3Rpb24oZSl7dmFyIG49dC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO24uc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZChuKS5zZXRBdHRyaWJ1dGUoInQiLCIiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0Xj0nJ10iKS5sZW5ndGgmJmQucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxkLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IiksZC5wdXNoKCIsLio6Iil9KSksKG4ubWF0Y2hlc1NlbGVjdG9yPVEudGVzdChtPWYud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxmLm1vek1hdGNoZXNTZWxlY3Rvcnx8Zi5vTWF0Y2hlc1NlbGVjdG9yfHxmLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJnV0KGZ1bmN0aW9uKGUpe24uZGlzY29ubmVjdGVkTWF0Y2g9bS5jYWxsKGUsImRpdiIpLG0uY2FsbChlLCJbcyE9JyddOngiKSxnLnB1c2goIiE9IixJKX0pLGQ9ZC5sZW5ndGgmJlJlZ0V4cChkLmpvaW4oInwiKSksZz1nLmxlbmd0aCYmUmVnRXhwKGcuam9pbigifCIpKSx5PVEudGVzdChmLmNvbnRhaW5zKXx8Zi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LFM9Zi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHIpe2lmKGU9PT1yKXJldHVybiBFPSEwLDA7dmFyIGk9ci5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKTtyZXR1cm4gaT8xJml8fCFuLnNvcnREZXRhY2hlZCYmci5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PWk/ZT09PXR8fHkoYixlKT8tMTpyPT09dHx8eShiLHIpPzE6bD9QLmNhbGwobCxlKS1QLmNhbGwobCxyKTowOjQmaT8tMToxOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24/LTE6MX06ZnVuY3Rpb24oZSxuKXt2YXIgcixpPTAsbz1lLnBhcmVudE5vZGUscz1uLnBhcmVudE5vZGUsYT1bZV0sdT1bbl07aWYoZT09PW4pcmV0dXJuIEU9ITAsMDtpZighb3x8IXMpcmV0dXJuIGU9PT10Py0xOm49PT10PzE6bz8tMTpzPzE6bD9QLmNhbGwobCxlKS1QLmNhbGwobCxuKTowO2lmKG89PT1zKXJldHVybiBjdChlLG4pO3I9ZTt3aGlsZShyPXIucGFyZW50Tm9kZSlhLnVuc2hpZnQocik7cj1uO3doaWxlKHI9ci5wYXJlbnROb2RlKXUudW5zaGlmdChyKTt3aGlsZShhW2ldPT09dVtpXSlpKys7cmV0dXJuIGk/Y3QoYVtpXSx1W2ldKTphW2ldPT09Yj8tMTp1W2ldPT09Yj8xOjB9LHQpOnB9LG90Lm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gb3QoZSxudWxsLG51bGwsdCl9LG90Lm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKChlLm93bmVyRG9jdW1lbnR8fGUpIT09cCYmYyhlKSx0PXQucmVwbGFjZShZLCI9JyQxJ10iKSwhKCFuLm1hdGNoZXNTZWxlY3Rvcnx8IWh8fGcmJmcudGVzdCh0KXx8ZCYmZC50ZXN0KHQpKSl0cnl7dmFyIHI9bS5jYWxsKGUsdCk7aWYocnx8bi5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKGkpe31yZXR1cm4gb3QodCxwLG51bGwsW2VdKS5sZW5ndGg+MH0sb3QuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PXAmJmMoZSkseShlLHQpfSxvdC5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPT1wJiZjKGUpO3ZhciByPWkuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLG89ciYmQS5jYWxsKGkuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP3IoZSx0LCFoKTp1bmRlZmluZWQ7cmV0dXJuIG89PT11bmRlZmluZWQ/bi5hdHRyaWJ1dGVzfHwhaD9lLmdldEF0dHJpYnV0ZSh0KToobz1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZvLnNwZWNpZmllZD9vLnZhbHVlOm51bGw6b30sb3QuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LG90LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1bXSxpPTAsbz0wO2lmKEU9IW4uZGV0ZWN0RHVwbGljYXRlcyxsPSFuLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KFMpLEUpe3doaWxlKHQ9ZVtvKytdKXQ9PT1lW29dJiYoaT1yLnB1c2gobykpO3doaWxlKGktLSllLnNwbGljZShyW2ldLDEpfXJldHVybiBlfSxvPW90LmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsaT1lLm5vZGVUeXBlO2lmKGkpe2lmKDE9PT1pfHw5PT09aXx8MTE9PT1pKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPW8oZSl9ZWxzZSBpZigzPT09aXx8ND09PWkpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2UgZm9yKDt0PWVbcl07cisrKW4rPW8odCk7cmV0dXJuIG59LGk9b3Quc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86YXQsbWF0Y2g6SixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKG50LHJ0KSxlWzNdPShlWzRdfHxlWzVdfHwiIikucmVwbGFjZShudCxydCksIn49Ij09PWVbMl0mJihlWzNdPSIgIitlWzNdKyIgIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fG90LmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKCJldmVuIj09PWVbM118fCJvZGQiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fCJvZGQiPT09ZVszXSkpOmVbM10mJm90LmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgdCxuPSFlWzVdJiZlWzJdO3JldHVybiBKLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXSYmZVs0XSE9PXVuZGVmaW5lZD9lWzJdPWVbNF06biYmVi50ZXN0KG4pJiYodD1ndChuLCEwKSkmJih0PW4uaW5kZXhPZigiKSIsbi5sZW5ndGgtdCktbi5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsdCksZVsyXT1uLnNsaWNlKDAsdCkpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UobnQscnQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PUNbZSsiICJdO3JldHVybiB0fHwodD1SZWdFeHAoIihefCIrTSsiKSIrZSsiKCIrTSsifCQpIikpJiZDKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT09aiYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9b3QuYXR0cihyLGUpO3JldHVybiBudWxsPT1pPyIhPSI9PT10OnQ/KGkrPSIiLCI9Ij09PXQ/aT09PW46IiE9Ij09PXQ/aSE9PW46Il49Ij09PXQ/biYmMD09PWkuaW5kZXhPZihuKToiKj0iPT09dD9uJiZpLmluZGV4T2Yobik+LTE6IiQ9Ij09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjoifj0iPT09dD8oIiAiK2krIiAiKS5pbmRleE9mKG4pPi0xOiJ8PSI9PT10P2k9PT1ufHxpLnNsaWNlKDAsbi5sZW5ndGgrMSk9PT1uKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPSJudGgiIT09ZS5zbGljZSgwLDMpLHM9Imxhc3QiIT09ZS5zbGljZSgtNCksYT0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbix1KXt2YXIgbCxjLHAsZixoLGQsZz1vIT09cz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLG09dC5wYXJlbnROb2RlLHk9YSYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHg9IXUmJiFhO2lmKG0pe2lmKG8pe3doaWxlKGcpe3A9dDt3aGlsZShwPXBbZ10paWYoYT9wLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT15OjE9PT1wLm5vZGVUeXBlKXJldHVybiExO2Q9Zz0ib25seSI9PT1lJiYhZCYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihkPVtzP20uZmlyc3RDaGlsZDptLmxhc3RDaGlsZF0scyYmeCl7Yz1tW3ZdfHwobVt2XT17fSksbD1jW2VdfHxbXSxoPWxbMF09PT13JiZsWzFdLGY9bFswXT09PXcmJmxbMl0scD1oJiZtLmNoaWxkTm9kZXNbaF07d2hpbGUocD0rK2gmJnAmJnBbZ118fChmPWg9MCl8fGQucG9wKCkpaWYoMT09PXAubm9kZVR5cGUmJisrZiYmcD09PXQpe2NbZV09W3csaCxmXTticmVha319ZWxzZSBpZih4JiYobD0odFt2XXx8KHRbdl09e30pKVtlXSkmJmxbMF09PT13KWY9bFsxXTtlbHNlIHdoaWxlKHA9KytoJiZwJiZwW2ddfHwoZj1oPTApfHxkLnBvcCgpKWlmKChhP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXk6MT09PXAubm9kZVR5cGUpJiYrK2YmJih4JiYoKHBbdl18fChwW3ZdPXt9KSlbZV09W3csZl0pLHA9PT10KSlicmVhaztyZXR1cm4gZi09aSxmPT09cnx8MD09PWYlciYmZi9yPj0wfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9aS5wc2V1ZG9zW2VdfHxpLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8b3QuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gclt2XT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSwiIix0XSxpLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9hdChmdW5jdGlvbihlLG4pe3ZhciBpLG89cihlLHQpLHM9by5sZW5ndGg7d2hpbGUocy0tKWk9UC5jYWxsKGUsb1tzXSksZVtpXT0hKG5baV09b1tzXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gcihlLDAsbil9KTpyfX0scHNldWRvczp7bm90OmF0KGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1hKGUucmVwbGFjZSh6LCIkMSIpKTtyZXR1cm4gclt2XT9hdChmdW5jdGlvbihlLHQsbixpKXt2YXIgbyxzPXIoZSxudWxsLGksW10pLGE9ZS5sZW5ndGg7d2hpbGUoYS0tKShvPXNbYV0pJiYoZVthXT0hKHRbYV09bykpfSk6ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0WzBdPWUscih0LG51bGwsbyxuKSwhbi5wb3AoKX19KSxoYXM6YXQoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBvdChlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmF0KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odC50ZXh0Q29udGVudHx8dC5pbm5lclRleHR8fG8odCkpLmluZGV4T2YoZSk+LTF9fSksbGFuZzphdChmdW5jdGlvbihlKXtyZXR1cm4gRy50ZXN0KGV8fCIiKXx8b3QuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrZSksZT1lLnJlcGxhY2UobnQscnQpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG8gaWYobj1oP3QubGFuZzp0LmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8dC5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCksbj09PWV8fDA9PT1uLmluZGV4T2YoZSsiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5oYXNoO3JldHVybiBuJiZuLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWZ9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09cC5hY3RpdmVFbGVtZW50JiYoIXAuaGFzRm9jdXN8fHAuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsZS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlTmFtZT4iQCJ8fDM9PT1lLm5vZGVUeXBlfHw0PT09ZS5ub2RlVHlwZSlyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFpLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZXQudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFoudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1lLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8dC50b0xvd2VyQ2FzZSgpPT09ZS50eXBlKX0sZmlyc3Q6aHQoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Omh0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QtMV19KSxlcTpodChmdW5jdGlvbihlLHQsbil7cmV0dXJuWzA+bj9uK3Q6bl19KSxldmVuOmh0KGZ1bmN0aW9uKGUsdCl7dmFyIG49MDtmb3IoO3Q+bjtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpodChmdW5jdGlvbihlLHQpe3ZhciBuPTE7Zm9yKDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpodChmdW5jdGlvbihlLHQsbil7dmFyIHI9MD5uP24rdDpuO2Zvcig7LS1yPj0wOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpodChmdW5jdGlvbihlLHQsbil7dmFyIHI9MD5uP24rdDpuO2Zvcig7dD4rK3I7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0saS5wc2V1ZG9zLm50aD1pLnBzZXVkb3MuZXE7Zm9yKHQgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0paS5wc2V1ZG9zW3RdPXB0KHQpO2Zvcih0IGlue3N1Ym1pdDohMCxyZXNldDohMH0paS5wc2V1ZG9zW3RdPWZ0KHQpO2Z1bmN0aW9uIGR0KCl7fWR0LnByb3RvdHlwZT1pLmZpbHRlcnM9aS5wc2V1ZG9zLGkuc2V0RmlsdGVycz1uZXcgZHQ7ZnVuY3Rpb24gZ3QoZSx0KXt2YXIgbixyLG8scyxhLHUsbCxjPWtbZSsiICJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO2E9ZSx1PVtdLGw9aS5wcmVGaWx0ZXI7d2hpbGUoYSl7KCFufHwocj1fLmV4ZWMoYSkpKSYmKHImJihhPWEuc2xpY2UoclswXS5sZW5ndGgpfHxhKSx1LnB1c2gobz1bXSkpLG49ITEsKHI9WC5leGVjKGEpKSYmKG49ci5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZSh6LCIgIil9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtmb3IocyBpbiBpLmZpbHRlcikhKHI9SltzXS5leGVjKGEpKXx8bFtzXSYmIShyPWxbc10ocikpfHwobj1yLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6cyxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP290LmVycm9yKGUpOmsoZSx1KS5zbGljZSgwKX1mdW5jdGlvbiBtdChlKXt2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjtmb3IoO24+dDt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiB5dChlLHQsbil7dmFyIGk9dC5kaXIsbz1uJiYicGFyZW50Tm9kZSI9PT1pLHM9VCsrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixyKXt3aGlsZSh0PXRbaV0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIGUodCxuLHIpfTpmdW5jdGlvbih0LG4sYSl7dmFyIHUsbCxjLHA9dysiICIrcztpZihhKXt3aGlsZSh0PXRbaV0paWYoKDE9PT10Lm5vZGVUeXBlfHxvKSYmZSh0LG4sYSkpcmV0dXJuITB9ZWxzZSB3aGlsZSh0PXRbaV0paWYoMT09PXQubm9kZVR5cGV8fG8paWYoYz10W3ZdfHwodFt2XT17fSksKGw9Y1tpXSkmJmxbMF09PT1wKXtpZigodT1sWzFdKT09PSEwfHx1PT09cilyZXR1cm4gdT09PSEwfWVsc2UgaWYobD1jW2ldPVtwXSxsWzFdPWUodCxuLGEpfHxyLGxbMV09PT0hMClyZXR1cm4hMH19ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUubGVuZ3RoO3doaWxlKGktLSlpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24geHQoZSx0LG4scixpKXt2YXIgbyxzPVtdLGE9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDtmb3IoO3U+YTthKyspKG89ZVthXSkmJighbnx8bihvLHIsaSkpJiYocy5wdXNoKG8pLGwmJnQucHVzaChhKSk7cmV0dXJuIHN9ZnVuY3Rpb24gYnQoZSx0LG4scixpLG8pe3JldHVybiByJiYhclt2XSYmKHI9YnQocikpLGkmJiFpW3ZdJiYoaT1idChpLG8pKSxhdChmdW5jdGlvbihvLHMsYSx1KXt2YXIgbCxjLHAsZj1bXSxoPVtdLGQ9cy5sZW5ndGgsZz1vfHxDdCh0fHwiKiIsYS5ub2RlVHlwZT9bYV06YSxbXSksbT0hZXx8IW8mJnQ/Zzp4dChnLGYsZSxhLHUpLHk9bj9pfHwobz9lOmR8fHIpP1tdOnM6bTtpZihuJiZuKG0seSxhLHUpLHIpe2w9eHQoeSxoKSxyKGwsW10sYSx1KSxjPWwubGVuZ3RoO3doaWxlKGMtLSkocD1sW2NdKSYmKHlbaFtjXV09IShtW2hbY11dPXApKX1pZihvKXtpZihpfHxlKXtpZihpKXtsPVtdLGM9eS5sZW5ndGg7d2hpbGUoYy0tKShwPXlbY10pJiZsLnB1c2gobVtjXT1wKTtpKG51bGwseT1bXSxsLHUpfWM9eS5sZW5ndGg7d2hpbGUoYy0tKShwPXlbY10pJiYobD1pP1AuY2FsbChvLHApOmZbY10pPi0xJiYob1tsXT0hKHNbbF09cCkpfX1lbHNlIHk9eHQoeT09PXM/eS5zcGxpY2UoZCx5Lmxlbmd0aCk6eSksaT9pKG51bGwscyx5LHUpOk8uYXBwbHkocyx5KX0pfWZ1bmN0aW9uIHd0KGUpe3ZhciB0LG4scixvPWUubGVuZ3RoLHM9aS5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9c3x8aS5yZWxhdGl2ZVsiICJdLGw9cz8xOjAsYz15dChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LGEsITApLHA9eXQoZnVuY3Rpb24oZSl7cmV0dXJuIFAuY2FsbCh0LGUpPi0xfSxhLCEwKSxmPVtmdW5jdGlvbihlLG4scil7cmV0dXJuIXMmJihyfHxuIT09dSl8fCgodD1uKS5ub2RlVHlwZT9jKGUsbixyKTpwKGUsbixyKSl9XTtmb3IoO28+bDtsKyspaWYobj1pLnJlbGF0aXZlW2VbbF0udHlwZV0pZj1beXQodnQoZiksbildO2Vsc2V7aWYobj1pLmZpbHRlcltlW2xdLnR5cGVdLmFwcGx5KG51bGwsZVtsXS5tYXRjaGVzKSxuW3ZdKXtmb3Iocj0rK2w7bz5yO3IrKylpZihpLnJlbGF0aXZlW2Vbcl0udHlwZV0pYnJlYWs7cmV0dXJuIGJ0KGw+MSYmdnQoZiksbD4xJiZtdChlLnNsaWNlKDAsbC0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbbC0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKHosIiQxIiksbixyPmwmJnd0KGUuc2xpY2UobCxyKSksbz5yJiZ3dChlPWUuc2xpY2UocikpLG8+ciYmbXQoZSkpfWYucHVzaChuKX1yZXR1cm4gdnQoZil9ZnVuY3Rpb24gVHQoZSx0KXt2YXIgbj0wLG89dC5sZW5ndGg+MCxzPWUubGVuZ3RoPjAsYT1mdW5jdGlvbihhLGwsYyxmLGgpe3ZhciBkLGcsbSx5PVtdLHY9MCx4PSIwIixiPWEmJltdLFQ9bnVsbCE9aCxDPXUsaz1hfHxzJiZpLmZpbmQuVEFHKCIqIixoJiZsLnBhcmVudE5vZGV8fGwpLE49dys9bnVsbD09Qz8xOk1hdGgucmFuZG9tKCl8fC4xO2ZvcihUJiYodT1sIT09cCYmbCxyPW4pO251bGwhPShkPWtbeF0pO3grKyl7aWYocyYmZCl7Zz0wO3doaWxlKG09ZVtnKytdKWlmKG0oZCxsLGMpKXtmLnB1c2goZCk7YnJlYWt9VCYmKHc9TixyPSsrbil9byYmKChkPSFtJiZkKSYmdi0tLGEmJmIucHVzaChkKSl9aWYodis9eCxvJiZ4IT09dil7Zz0wO3doaWxlKG09dFtnKytdKW0oYix5LGwsYyk7aWYoYSl7aWYodj4wKXdoaWxlKHgtLSliW3hdfHx5W3hdfHwoeVt4XT1xLmNhbGwoZikpO3k9eHQoeSl9Ty5hcHBseShmLHkpLFQmJiFhJiZ5Lmxlbmd0aD4wJiZ2K3QubGVuZ3RoPjEmJm90LnVuaXF1ZVNvcnQoZil9cmV0dXJuIFQmJih3PU4sdT1DKSxifTtyZXR1cm4gbz9hdChhKTphfWE9b3QuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPU5bZSsiICJdO2lmKCFvKXt0fHwodD1ndChlKSksbj10Lmxlbmd0aDt3aGlsZShuLS0pbz13dCh0W25dKSxvW3ZdP3IucHVzaChvKTppLnB1c2gobyk7bz1OKGUsVHQoaSxyKSl9cmV0dXJuIG99O2Z1bmN0aW9uIEN0KGUsdCxuKXt2YXIgcj0wLGk9dC5sZW5ndGg7Zm9yKDtpPnI7cisrKW90KGUsdFtyXSxuKTtyZXR1cm4gbn1mdW5jdGlvbiBrdChlLHQscixvKXt2YXIgcyx1LGwsYyxwLGY9Z3QoZSk7aWYoIW8mJjE9PT1mLmxlbmd0aCl7aWYodT1mWzBdPWZbMF0uc2xpY2UoMCksdS5sZW5ndGg+MiYmIklEIj09PShsPXVbMF0pLnR5cGUmJm4uZ2V0QnlJZCYmOT09PXQubm9kZVR5cGUmJmgmJmkucmVsYXRpdmVbdVsxXS50eXBlXSl7aWYodD0oaS5maW5kLklEKGwubWF0Y2hlc1swXS5yZXBsYWNlKG50LHJ0KSx0KXx8W10pWzBdLCF0KXJldHVybiByO2U9ZS5zbGljZSh1LnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1zPUoubmVlZHNDb250ZXh0LnRlc3QoZSk/MDp1Lmxlbmd0aDt3aGlsZShzLS0pe2lmKGw9dVtzXSxpLnJlbGF0aXZlW2M9bC50eXBlXSlicmVhaztpZigocD1pLmZpbmRbY10pJiYobz1wKGwubWF0Y2hlc1swXS5yZXBsYWNlKG50LHJ0KSxVLnRlc3QodVswXS50eXBlKSYmdC5wYXJlbnROb2RlfHx0KSkpe2lmKHUuc3BsaWNlKHMsMSksZT1vLmxlbmd0aCYmbXQodSksIWUpcmV0dXJuIE8uYXBwbHkocixvKSxyO2JyZWFrfX19cmV0dXJuIGEoZSxmKShvLHQsIWgscixVLnRlc3QoZSkpLHJ9bi5zb3J0U3RhYmxlPXYuc3BsaXQoIiIpLnNvcnQoUykuam9pbigiIik9PT12LG4uZGV0ZWN0RHVwbGljYXRlcz1FLGMoKSxuLnNvcnREZXRhY2hlZD11dChmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHAuY3JlYXRlRWxlbWVudCgiZGl2IikpfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8bHQoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj91bmRlZmluZWQ6ZS5nZXRBdHRyaWJ1dGUodCwidHlwZSI9PT10LnRvTG93ZXJDYXNlKCk/MToyKX0pLG4uYXR0cmlidXRlcyYmdXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8aW5wdXQvPiIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8bHQoInZhbHVlIixmdW5jdGlvbihlLHQsbil7cmV0dXJuIG58fCJpbnB1dCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dW5kZWZpbmVkOmUuZGVmYXVsdFZhbHVlfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGx0KFIsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBuP3VuZGVmaW5lZDoocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOmVbdF09PT0hMD90LnRvTG93ZXJDYXNlKCk6bnVsbH0pLHguZmluZD1vdCx4LmV4cHI9b3Quc2VsZWN0b3JzLHguZXhwclsiOiJdPXguZXhwci5wc2V1ZG9zLHgudW5pcXVlPW90LnVuaXF1ZVNvcnQseC50ZXh0PW90LmdldFRleHQseC5pc1hNTERvYz1vdC5pc1hNTCx4LmNvbnRhaW5zPW90LmNvbnRhaW5zfShlKTt2YXIgRD17fTtmdW5jdGlvbiBBKGUpe3ZhciB0PURbZV09e307cmV0dXJuIHguZWFjaChlLm1hdGNoKHcpfHxbXSxmdW5jdGlvbihlLG4pe3Rbbl09ITB9KSx0fXguQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9InN0cmluZyI9PXR5cGVvZiBlP0RbZV18fEEoZSk6eC5leHRlbmQoe30sZSk7dmFyIHQsbixyLGksbyxzLGE9W10sdT0hZS5vbmNlJiZbXSxsPWZ1bmN0aW9uKHApe2Zvcih0PWUubWVtb3J5JiZwLG49ITAscz1pfHwwLGk9MCxvPWEubGVuZ3RoLHI9ITA7YSYmbz5zO3MrKylpZihhW3NdLmFwcGx5KHBbMF0scFsxXSk9PT0hMSYmZS5zdG9wT25GYWxzZSl7dD0hMTticmVha31yPSExLGEmJih1P3UubGVuZ3RoJiZsKHUuc2hpZnQoKSk6dD9hPVtdOmMuZGlzYWJsZSgpKX0sYz17YWRkOmZ1bmN0aW9uKCl7aWYoYSl7dmFyIG49YS5sZW5ndGg7KGZ1bmN0aW9uIHModCl7eC5lYWNoKHQsZnVuY3Rpb24odCxuKXt2YXIgcj14LnR5cGUobik7ImZ1bmN0aW9uIj09PXI/ZS51bmlxdWUmJmMuaGFzKG4pfHxhLnB1c2gobik6biYmbi5sZW5ndGgmJiJzdHJpbmciIT09ciYmcyhuKX0pfSkoYXJndW1lbnRzKSxyP289YS5sZW5ndGg6dCYmKGk9bixsKHQpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGEmJnguZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgobj14LmluQXJyYXkodCxhLG4pKT4tMSlhLnNwbGljZShuLDEpLHImJihvPj1uJiZvLS0scz49biYmcy0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT94LmluQXJyYXkoZSxhKT4tMTohKCFhfHwhYS5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBhPVtdLG89MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT10PXVuZGVmaW5lZCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFhfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIHU9dW5kZWZpbmVkLHR8fGMuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiF1fSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiFhfHxuJiYhdXx8KHQ9dHx8W10sdD1bZSx0LnNsaWNlP3Quc2xpY2UoKTp0XSxyP3UucHVzaCh0KTpsKHQpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGMuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFufX07cmV0dXJuIGN9LHguZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgdD1bWyJyZXNvbHZlIiwiZG9uZSIseC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIix4LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIix4LkNhbGxiYWNrcygibWVtb3J5IildXSxuPSJwZW5kaW5nIixyPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuIHguRGVmZXJyZWQoZnVuY3Rpb24obil7eC5lYWNoKHQsZnVuY3Rpb24odCxvKXt2YXIgcz1vWzBdLGE9eC5pc0Z1bmN0aW9uKGVbdF0pJiZlW3RdO2lbb1sxXV0oZnVuY3Rpb24oKXt2YXIgZT1hJiZhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZ4LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9lLnByb21pc2UoKS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCkucHJvZ3Jlc3Mobi5ub3RpZnkpOm5bcysiV2l0aCJdKHRoaXM9PT1yP24ucHJvbWlzZSgpOnRoaXMsYT9bZV06YXJndW1lbnRzKX0pfSksZT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP3guZXh0ZW5kKGUscik6cn19LGk9e307cmV0dXJuIHIucGlwZT1yLnRoZW4seC5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgcz1vWzJdLGE9b1szXTtyW29bMV1dPXMuYWRkLGEmJnMuYWRkKGZ1bmN0aW9uKCl7bj1hfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdKyJXaXRoIl0odGhpcz09PWk/cjp0aGlzLGFyZ3VtZW50cyksdGhpc30saVtvWzBdKyJXaXRoIl09cy5maXJlV2l0aH0pLHIucHJvbWlzZShpKSxlJiZlLmNhbGwoaSxpKSxpfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1kLmNhbGwoYXJndW1lbnRzKSxyPW4ubGVuZ3RoLGk9MSE9PXJ8fGUmJnguaXNGdW5jdGlvbihlLnByb21pc2UpP3I6MCxvPTE9PT1pP2U6eC5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt0W2VdPXRoaXMsbltlXT1hcmd1bWVudHMubGVuZ3RoPjE/ZC5jYWxsKGFyZ3VtZW50cyk6cixuPT09YT9vLm5vdGlmeVdpdGgodCxuKTotLWl8fG8ucmVzb2x2ZVdpdGgodCxuKX19LGEsdSxsO2lmKHI+MSlmb3IoYT1BcnJheShyKSx1PUFycmF5KHIpLGw9QXJyYXkocik7cj50O3QrKyluW3RdJiZ4LmlzRnVuY3Rpb24oblt0XS5wcm9taXNlKT9uW3RdLnByb21pc2UoKS5kb25lKHModCxsLG4pKS5mYWlsKG8ucmVqZWN0KS5wcm9ncmVzcyhzKHQsdSxhKSk6LS1pO3JldHVybiBpfHxvLnJlc29sdmVXaXRoKGwsbiksby5wcm9taXNlKCl9fSkseC5zdXBwb3J0PWZ1bmN0aW9uKHQpe3ZhciBuPW8uY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxyPW8uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9by5jcmVhdGVFbGVtZW50KCJkaXYiKSxzPW8uY3JlYXRlRWxlbWVudCgic2VsZWN0IiksYT1zLmFwcGVuZENoaWxkKG8uY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO3JldHVybiBuLnR5cGU/KG4udHlwZT0iY2hlY2tib3giLHQuY2hlY2tPbj0iIiE9PW4udmFsdWUsdC5vcHRTZWxlY3RlZD1hLnNlbGVjdGVkLHQucmVsaWFibGVNYXJnaW5SaWdodD0hMCx0LmJveFNpemluZ1JlbGlhYmxlPSEwLHQucGl4ZWxQb3NpdGlvbj0hMSxuLmNoZWNrZWQ9ITAsdC5ub0Nsb25lQ2hlY2tlZD1uLmNsb25lTm9kZSghMCkuY2hlY2tlZCxzLmRpc2FibGVkPSEwLHQub3B0RGlzYWJsZWQ9IWEuZGlzYWJsZWQsbj1vLmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksbi52YWx1ZT0idCIsbi50eXBlPSJyYWRpbyIsdC5yYWRpb1ZhbHVlPSJ0Ij09PW4udmFsdWUsbi5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJ0Iiksbi5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0Iiksci5hcHBlbmRDaGlsZChuKSx0LmNoZWNrQ2xvbmU9ci5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsdC5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIGUsaS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGkuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIix0LmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09aS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCx4KGZ1bmN0aW9uKCl7dmFyIG4scixzPSJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jazstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3giLGE9by5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdO2EmJihuPW8uY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweCIsYS5hcHBlbmRDaGlsZChuKS5hcHBlbmRDaGlsZChpKSxpLmlubmVySFRNTD0iIixpLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElIix4LnN3YXAoYSxudWxsIT1hLnN0eWxlLnpvb20/e3pvb206MX06e30sZnVuY3Rpb24oKXt0LmJveFNpemluZz00PT09aS5vZmZzZXRXaWR0aH0pLGUuZ2V0Q29tcHV0ZWRTdHlsZSYmKHQucGl4ZWxQb3NpdGlvbj0iMSUiIT09KGUuZ2V0Q29tcHV0ZWRTdHlsZShpLG51bGwpfHx7fSkudG9wLHQuYm94U2l6aW5nUmVsaWFibGU9IjRweCI9PT0oZS5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCl8fHt3aWR0aDoiNHB4In0pLndpZHRoLHI9aS5hcHBlbmRDaGlsZChvLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxyLnN0eWxlLmNzc1RleHQ9aS5zdHlsZS5jc3NUZXh0PXMsci5zdHlsZS5tYXJnaW5SaWdodD1yLnN0eWxlLndpZHRoPSIwIixpLnN0eWxlLndpZHRoPSIxcHgiLHQucmVsaWFibGVNYXJnaW5SaWdodD0hcGFyc2VGbG9hdCgoZS5nZXRDb21wdXRlZFN0eWxlKHIsbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpLGEucmVtb3ZlQ2hpbGQobikpfSksdCk6dH0oe30pO3ZhciBMLHEsSD0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sTz0vKFtBLVpdKS9nO2Z1bmN0aW9uIEYoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89eC5leHBhbmRvK01hdGgucmFuZG9tKCl9Ri51aWQ9MSxGLmFjY2VwdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZVR5cGU/MT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlOiEwfSxGLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGUpe2lmKCFGLmFjY2VwdHMoZSkpcmV0dXJuIDA7dmFyIHQ9e30sbj1lW3RoaXMuZXhwYW5kb107aWYoIW4pe249Ri51aWQrKzt0cnl7dFt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfWNhdGNoKHIpe3RbdGhpcy5leHBhbmRvXT1uLHguZXh0ZW5kKGUsdCl9fXJldHVybiB0aGlzLmNhY2hlW25dfHwodGhpcy5jYWNoZVtuXT17fSksbn0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMua2V5KGUpLG89dGhpcy5jYWNoZVtpXTtpZigic3RyaW5nIj09dHlwZW9mIHQpb1t0XT1uO2Vsc2UgaWYoeC5pc0VtcHR5T2JqZWN0KG8pKXguZXh0ZW5kKHRoaXMuY2FjaGVbaV0sdCk7ZWxzZSBmb3IociBpbiB0KW9bcl09dFtyXTtyZXR1cm4gb30sZ2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jYWNoZVt0aGlzLmtleShlKV07cmV0dXJuIHQ9PT11bmRlZmluZWQ/bjpuW3RdfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB0PT09dW5kZWZpbmVkfHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJm49PT11bmRlZmluZWQ/KHI9dGhpcy5nZXQoZSx0KSxyIT09dW5kZWZpbmVkP3I6dGhpcy5nZXQoZSx4LmNhbWVsQ2FzZSh0KSkpOih0aGlzLnNldChlLHQsbiksbiE9PXVuZGVmaW5lZD9uOnQpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzLmtleShlKSxzPXRoaXMuY2FjaGVbb107aWYodD09PXVuZGVmaW5lZCl0aGlzLmNhY2hlW29dPXt9O2Vsc2V7eC5pc0FycmF5KHQpP3I9dC5jb25jYXQodC5tYXAoeC5jYW1lbENhc2UpKTooaT14LmNhbWVsQ2FzZSh0KSx0IGluIHM/cj1bdCxpXToocj1pLHI9ciBpbiBzP1tyXTpyLm1hdGNoKHcpfHxbXSkpLG49ci5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSBzW3Jbbl1dfX0saGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4heC5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbZVt0aGlzLmV4cGFuZG9dXXx8e30pfSxkaXNjYXJkOmZ1bmN0aW9uKGUpe2VbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbZVt0aGlzLmV4cGFuZG9dXX19LEw9bmV3IEYscT1uZXcgRix4LmV4dGVuZCh7YWNjZXB0RGF0YTpGLmFjY2VwdHMsaGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gTC5oYXNEYXRhKGUpfHxxLmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBMLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtMLnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHEuYWNjZXNzKGUsdCxuKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtxLnJlbW92ZShlLHQpfX0pLHguZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPXRoaXNbMF0sbz0wLHM9bnVsbDtpZihlPT09dW5kZWZpbmVkKXtpZih0aGlzLmxlbmd0aCYmKHM9TC5nZXQoaSksMT09PWkubm9kZVR5cGUmJiFxLmdldChpLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihuPWkuYXR0cmlidXRlcztuLmxlbmd0aD5vO28rKylyPW5bb10ubmFtZSwwPT09ci5pbmRleE9mKCJkYXRhLSIpJiYocj14LmNhbWVsQ2FzZShyLnNsaWNlKDUpKSxQKGkscixzW3JdKSk7cS5zZXQoaSwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIHN9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP3RoaXMuZWFjaChmdW5jdGlvbigpe0wuc2V0KHRoaXMsZSl9KTp4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHQpe3ZhciBuLHI9eC5jYW1lbENhc2UoZSk7aWYoaSYmdD09PXVuZGVmaW5lZCl7aWYobj1MLmdldChpLGUpLG4hPT11bmRlZmluZWQpcmV0dXJuIG47aWYobj1MLmdldChpLHIpLG4hPT11bmRlZmluZWQpcmV0dXJuIG47aWYobj1QKGkscix1bmRlZmluZWQpLG4hPT11bmRlZmluZWQpcmV0dXJuIG59ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1MLmdldCh0aGlzLHIpO0wuc2V0KHRoaXMscix0KSwtMSE9PWUuaW5kZXhPZigiLSIpJiZuIT09dW5kZWZpbmVkJiZMLnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7TC5yZW1vdmUodGhpcyxlKX0pfX0pO2Z1bmN0aW9uIFAoZSx0LG4pe3ZhciByO2lmKG49PT11bmRlZmluZWQmJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoTywiLSQxIikudG9Mb3dlckNhc2UoKSxuPWUuZ2V0QXR0cmlidXRlKHIpLCJzdHJpbmciPT10eXBlb2Ygbil7dHJ5e249InRydWUiPT09bj8hMDoiZmFsc2UiPT09bj8hMToibnVsbCI9PT1uP251bGw6K24rIiI9PT1uPytuOkgudGVzdChuKT9KU09OLnBhcnNlKG4pOm59Y2F0Y2goaSl7fUwuc2V0KGUsdCxuKX1lbHNlIG49dW5kZWZpbmVkO3JldHVybiBufXguZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIGU/KHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1xLmdldChlLHQpLG4mJighcnx8eC5pc0FycmF5KG4pP3I9cS5hY2Nlc3MoZSx0LHgubWFrZUFycmF5KG4pKTpyLnB1c2gobikpLHJ8fFtdKTp1bmRlZmluZWR9LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49eC5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz14Ll9xdWV1ZUhvb2tzKGUsdCkscz1mdW5jdGlvbigpe3guZGVxdWV1ZShlLHQpfTsiaW5wcm9ncmVzcyI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoImZ4Ij09PXQmJm4udW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUscyxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrInF1ZXVlSG9va3MiO3JldHVybiBxLmdldChlLG4pfHxxLmFjY2VzcyhlLG4se2VtcHR5OnguQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe3EucmVtb3ZlKGUsW3QrInF1ZXVlIixuXSl9KX0pfX0pLHguZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9ImZ4IixuLS0pLG4+YXJndW1lbnRzLmxlbmd0aD94LnF1ZXVlKHRoaXNbMF0sZSk6dD09PXVuZGVmaW5lZD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPXgucXVldWUodGhpcyxlLHQpO3guX3F1ZXVlSG9va3ModGhpcyxlKSwiZngiPT09ZSYmImlucHJvZ3Jlc3MiIT09blswXSYmeC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVsYXk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT14LmZ4P3guZnguc3BlZWRzW2VdfHxlOmUsdD10fHwiZngiLHRoaXMucXVldWUodCxmdW5jdGlvbih0LG4pe3ZhciByPXNldFRpbWVvdXQodCxlKTtuLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocil9fSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTEsaT14LkRlZmVycmVkKCksbz10aGlzLHM9dGhpcy5sZW5ndGgsYT1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9OyJzdHJpbmciIT10eXBlb2YgZSYmKHQ9ZSxlPXVuZGVmaW5lZCksZT1lfHwiZngiO3doaWxlKHMtLSluPXEuZ2V0KG9bc10sZSsicXVldWVIb29rcyIpLG4mJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQoYSkpO3JldHVybiBhKCksaS5wcm9taXNlKHQpfX0pO3ZhciBSLE0sVz0vW1x0XHJcblxmXS9nLCQ9L1xyL2csQj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO3guZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMseC5hdHRyLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LnJlbW92ZUF0dHIodGhpcyxlKX0pfSxwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMseC5wcm9wLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1t4LnByb3BGaXhbZV18fGVdfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8scz0wLGE9dGhpcy5sZW5ndGgsdT0ic3RyaW5nIj09dHlwZW9mIGUmJmU7aWYoeC5pc0Z1bmN0aW9uKGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS5hZGRDbGFzcyhlLmNhbGwodGhpcyx0LHRoaXMuY2xhc3NOYW1lKSl9KTtpZih1KWZvcih0PShlfHwiIikubWF0Y2godyl8fFtdO2E+cztzKyspaWYobj10aGlzW3NdLHI9MT09PW4ubm9kZVR5cGUmJihuLmNsYXNzTmFtZT8oIiAiK24uY2xhc3NOYW1lKyIgIikucmVwbGFjZShXLCIgIik6IiAiKSl7bz0wO3doaWxlKGk9dFtvKytdKTA+ci5pbmRleE9mKCIgIitpKyIgIikmJihyKz1pKyIgIik7bi5jbGFzc05hbWU9eC50cmltKHIpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLHM9MCxhPXRoaXMubGVuZ3RoLHU9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgZSYmZTtpZih4LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt4KHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKHUpZm9yKHQ9KGV8fCIiKS5tYXRjaCh3KXx8W107YT5zO3MrKylpZihuPXRoaXNbc10scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPygiICIrbi5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKFcsIiAiKToiIikpe289MDt3aGlsZShpPXRbbysrXSl3aGlsZShyLmluZGV4T2YoIiAiK2krIiAiKT49MClyPXIucmVwbGFjZSgiICIraSsiICIsIiAiKTtuLmNsYXNzTmFtZT1lP3gudHJpbShyKToiIn1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiB0JiYic3RyaW5nIj09PW4/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6eC5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt4KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sdGhpcy5jbGFzc05hbWUsdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtpZigic3RyaW5nIj09PW4pe3ZhciB0LGk9MCxvPXgodGhpcykscz1lLm1hdGNoKHcpfHxbXTt3aGlsZSh0PXNbaSsrXSlvLmhhc0NsYXNzKHQpP28ucmVtb3ZlQ2xhc3ModCk6by5hZGRDbGFzcyh0KX1lbHNlKG49PT1yfHwiYm9vbGVhbiI9PT1uKSYmKHRoaXMuY2xhc3NOYW1lJiZxLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGU9PT0hMT8iIjpxLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdD0iICIrZSsiICIsbj0wLHI9dGhpcy5sZW5ndGg7Zm9yKDtyPm47bisrKWlmKDE9PT10aGlzW25dLm5vZGVUeXBlJiYoIiAiK3RoaXNbbl0uY2xhc3NOYW1lKyIgIikucmVwbGFjZShXLCIgIikuaW5kZXhPZih0KT49MClyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHI9eC5pc0Z1bmN0aW9uKGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgaTsxPT09dGhpcy5ub2RlVHlwZSYmKGk9cj9lLmNhbGwodGhpcyxuLHgodGhpcykudmFsKCkpOmUsbnVsbD09aT9pPSIiOiJudW1iZXIiPT10eXBlb2YgaT9pKz0iIjp4LmlzQXJyYXkoaSkmJihpPXgubWFwKGksZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6ZSsiIn0pKSx0PXgudmFsSG9va3NbdGhpcy50eXBlXXx8eC52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHQmJiJzZXQiaW4gdCYmdC5zZXQodGhpcyxpLCJ2YWx1ZSIpIT09dW5kZWZpbmVkfHwodGhpcy52YWx1ZT1pKSl9KTtpZihpKXJldHVybiB0PXgudmFsSG9va3NbaS50eXBlXXx8eC52YWxIb29rc1tpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHQmJiJnZXQiaW4gdCYmKG49dC5nZXQoaSwidmFsdWUiKSkhPT11bmRlZmluZWQ/bjoobj1pLnZhbHVlLCJzdHJpbmciPT10eXBlb2Ygbj9uLnJlcGxhY2UoJCwiIik6bnVsbD09bj8iIjpuKX19fSkseC5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIXR8fHQuc3BlY2lmaWVkP2UudmFsdWU6ZS50ZXh0fX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUub3B0aW9ucyxpPWUuc2VsZWN0ZWRJbmRleCxvPSJzZWxlY3Qtb25lIj09PWUudHlwZXx8MD5pLHM9bz9udWxsOltdLGE9bz9pKzE6ci5sZW5ndGgsdT0wPmk/YTpvP2k6MDtmb3IoO2E+dTt1KyspaWYobj1yW3VdLCEoIW4uc2VsZWN0ZWQmJnUhPT1pfHwoeC5zdXBwb3J0Lm9wdERpc2FibGVkP24uZGlzYWJsZWQ6bnVsbCE9PW4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8bi5wYXJlbnROb2RlLmRpc2FibGVkJiZ4Lm5vZGVOYW1lKG4ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKHQ9eChuKS52YWwoKSxvKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPXgubWFrZUFycmF5KHQpLHM9aS5sZW5ndGg7d2hpbGUocy0tKXI9aVtzXSwoci5zZWxlY3RlZD14LmluQXJyYXkoeChyKS52YWwoKSxvKT49MCkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fSxhdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvLHM9ZS5ub2RlVHlwZTtpZihlJiYzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiB0eXBlb2YgZS5nZXRBdHRyaWJ1dGU9PT1yP3gucHJvcChlLHQsbik6KDE9PT1zJiZ4LmlzWE1MRG9jKGUpfHwodD10LnRvTG93ZXJDYXNlKCksaT14LmF0dHJIb29rc1t0XXx8KHguZXhwci5tYXRjaC5ib29sLnRlc3QodCk/TTpSKSksbj09PXVuZGVmaW5lZD9pJiYiZ2V0ImluIGkmJm51bGwhPT0obz1pLmdldChlLHQpKT9vOihvPXguZmluZC5hdHRyKGUsdCksbnVsbD09bz91bmRlZmluZWQ6byk6bnVsbCE9PW4/aSYmInNldCJpbiBpJiYobz1pLnNldChlLG4sdCkpIT09dW5kZWZpbmVkP286KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6KHgucmVtb3ZlQXR0cihlLHQpLHVuZGVmaW5lZCkpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPTAsbz10JiZ0Lm1hdGNoKHcpO2lmKG8mJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49b1tpKytdKXI9eC5wcm9wRml4W25dfHxuLHguZXhwci5tYXRjaC5ib29sLnRlc3QobikmJihlW3JdPSExKSxlLnJlbW92ZUF0dHJpYnV0ZShuKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheC5zdXBwb3J0LnJhZGlvVmFsdWUmJiJyYWRpbyI9PT10JiZ4Lm5vZGVOYW1lKGUsImlucHV0Iikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHM9ZS5ub2RlVHlwZTtpZihlJiYzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiBvPTEhPT1zfHwheC5pc1hNTERvYyhlKSxvJiYodD14LnByb3BGaXhbdF18fHQsaT14LnByb3BIb29rc1t0XSksbiE9PXVuZGVmaW5lZD9pJiYic2V0ImluIGkmJihyPWkuc2V0KGUsbix0KSkhPT11bmRlZmluZWQ/cjplW3RdPW46aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjplW3RdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGFzQXR0cmlidXRlKCJ0YWJpbmRleCIpfHxCLnRlc3QoZS5ub2RlTmFtZSl8fGUuaHJlZj9lLnRhYkluZGV4Oi0xfX19fSksTT17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD09PSExP3gucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LHguZWFjaCh4LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBuPXguZXhwci5hdHRySGFuZGxlW3RdfHx4LmZpbmQuYXR0cjt4LmV4cHIuYXR0ckhhbmRsZVt0XT1mdW5jdGlvbihlLHQscil7dmFyIGk9eC5leHByLmF0dHJIYW5kbGVbdF0sbz1yP3VuZGVmaW5lZDooeC5leHByLmF0dHJIYW5kbGVbdF09dW5kZWZpbmVkKSE9bihlLHQscik/dC50b0xvd2VyQ2FzZSgpOm51bGw7cmV0dXJuIHguZXhwci5hdHRySGFuZGxlW3RdPWksb319KSx4LnN1cHBvcnQub3B0U2VsZWN0ZWR8fCh4LnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLHguZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7eC5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLHguZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe3gudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe3JldHVybiB4LmlzQXJyYXkodCk/ZS5jaGVja2VkPXguaW5BcnJheSh4KGUpLnZhbCgpLHQpPj0wOnVuZGVmaW5lZH19LHguc3VwcG9ydC5jaGVja09ufHwoeC52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmUudmFsdWV9KX0pO3ZhciBJPS9ea2V5Lyx6PS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxfPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxYPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87ZnVuY3Rpb24gVSgpe3JldHVybiEwfWZ1bmN0aW9uIFkoKXtyZXR1cm4hMX1mdW5jdGlvbiBWKCl7dHJ5e3JldHVybiBvLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7fX14LmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIHMsYSx1LGwsYyxwLGYsaCxkLGcsbSx5PXEuZ2V0KGUpO2lmKHkpe24uaGFuZGxlciYmKHM9bixuPXMuaGFuZGxlcixvPXMuc2VsZWN0b3IpLG4uZ3VpZHx8KG4uZ3VpZD14Lmd1aWQrKyksKGw9eS5ldmVudHMpfHwobD15LmV2ZW50cz17fSksKGE9eS5oYW5kbGUpfHwoYT15LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIHg9PT1yfHxlJiZ4LmV2ZW50LnRyaWdnZXJlZD09PWUudHlwZT91bmRlZmluZWQ6eC5ldmVudC5kaXNwYXRjaC5hcHBseShhLmVsZW0sYXJndW1lbnRzKX0sYS5lbGVtPWUpLHQ9KHR8fCIiKS5tYXRjaCh3KXx8WyIiXSxjPXQubGVuZ3RoO3doaWxlKGMtLSl1PVguZXhlYyh0W2NdKXx8W10sZD1tPXVbMV0sZz0odVsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQmJihmPXguZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0obz9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZCxmPXguZXZlbnQuc3BlY2lhbFtkXXx8e30scD14LmV4dGVuZCh7dHlwZTpkLG9yaWdUeXBlOm0sZGF0YTppLGhhbmRsZXI6bixndWlkOm4uZ3VpZCxzZWxlY3RvcjpvLG5lZWRzQ29udGV4dDpvJiZ4LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QobyksbmFtZXNwYWNlOmcuam9pbigiLiIpfSxzKSwoaD1sW2RdKXx8KGg9bFtkXT1bXSxoLmRlbGVnYXRlQ291bnQ9MCxmLnNldHVwJiZmLnNldHVwLmNhbGwoZSxpLGcsYSkhPT0hMXx8ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoZCxhLCExKSksZi5hZGQmJihmLmFkZC5jYWxsKGUscCkscC5oYW5kbGVyLmd1aWR8fChwLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxvP2guc3BsaWNlKGguZGVsZWdhdGVDb3VudCsrLDAscCk6aC5wdXNoKHApLHguZXZlbnQuZ2xvYmFsW2RdPSEwKTtlPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxzLGEsdSxsLGMscCxmLGgsZCxnLG09cS5oYXNEYXRhKGUpJiZxLmdldChlKTtpZihtJiYodT1tLmV2ZW50cykpe3Q9KHR8fCIiKS5tYXRjaCh3KXx8WyIiXSxsPXQubGVuZ3RoO3doaWxlKGwtLSlpZihhPVguZXhlYyh0W2xdKXx8W10saD1nPWFbMV0sZD0oYVsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGgpe3A9eC5ldmVudC5zcGVjaWFsW2hdfHx7fSxoPShyP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHxoLGY9dVtoXXx8W10sYT1hWzJdJiZSZWdFeHAoIihefFxcLikiK2Quam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIikscz1vPWYubGVuZ3RoO3doaWxlKG8tLSljPWZbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fGEmJiFhLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChmLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJmYuZGVsZWdhdGVDb3VudC0tLHAucmVtb3ZlJiZwLnJlbW92ZS5jYWxsKGUsYykpO3MmJiFmLmxlbmd0aCYmKHAudGVhcmRvd24mJnAudGVhcmRvd24uY2FsbChlLGQsbS5oYW5kbGUpIT09ITF8fHgucmVtb3ZlRXZlbnQoZSxoLG0uaGFuZGxlKSxkZWxldGUgdVtoXSl9ZWxzZSBmb3IoaCBpbiB1KXguZXZlbnQucmVtb3ZlKGUsaCt0W2xdLG4sciwhMCk7eC5pc0VtcHR5T2JqZWN0KHUpJiYoZGVsZXRlIG0uaGFuZGxlLHEucmVtb3ZlKGUsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24odCxuLHIsaSl7dmFyIHMsYSx1LGwsYyxwLGYsaD1bcnx8b10sZD15LmNhbGwodCwidHlwZSIpP3QudHlwZTp0LGc9eS5jYWxsKHQsIm5hbWVzcGFjZSIpP3QubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoYT11PXI9cnx8bywzIT09ci5ub2RlVHlwZSYmOCE9PXIubm9kZVR5cGUmJiFfLnRlc3QoZCt4LmV2ZW50LnRyaWdnZXJlZCkmJihkLmluZGV4T2YoIi4iKT49MCYmKGc9ZC5zcGxpdCgiLiIpLGQ9Zy5zaGlmdCgpLGcuc29ydCgpKSxjPTA+ZC5pbmRleE9mKCI6IikmJiJvbiIrZCx0PXRbeC5leHBhbmRvXT90Om5ldyB4LkV2ZW50KGQsIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSx0LmlzVHJpZ2dlcj1pPzI6Myx0Lm5hbWVzcGFjZT1nLmpvaW4oIi4iKSx0Lm5hbWVzcGFjZV9yZT10Lm5hbWVzcGFjZT9SZWdFeHAoIihefFxcLikiK2cuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCx0LnJlc3VsdD11bmRlZmluZWQsdC50YXJnZXR8fCh0LnRhcmdldD1yKSxuPW51bGw9PW4/W3RdOngubWFrZUFycmF5KG4sW3RdKSxmPXguZXZlbnQuc3BlY2lhbFtkXXx8e30saXx8IWYudHJpZ2dlcnx8Zi50cmlnZ2VyLmFwcGx5KHIsbikhPT0hMSkpe2lmKCFpJiYhZi5ub0J1YmJsZSYmIXguaXNXaW5kb3cocikpe2ZvcihsPWYuZGVsZWdhdGVUeXBlfHxkLF8udGVzdChsK2QpfHwoYT1hLnBhcmVudE5vZGUpO2E7YT1hLnBhcmVudE5vZGUpaC5wdXNoKGEpLHU9YTt1PT09KHIub3duZXJEb2N1bWVudHx8bykmJmgucHVzaCh1LmRlZmF1bHRWaWV3fHx1LnBhcmVudFdpbmRvd3x8ZSl9cz0wO3doaWxlKChhPWhbcysrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpdC50eXBlPXM+MT9sOmYuYmluZFR5cGV8fGQscD0ocS5nZXQoYSwiZXZlbnRzIil8fHt9KVt0LnR5cGVdJiZxLmdldChhLCJoYW5kbGUiKSxwJiZwLmFwcGx5KGEsbikscD1jJiZhW2NdLHAmJnguYWNjZXB0RGF0YShhKSYmcC5hcHBseSYmcC5hcHBseShhLG4pPT09ITEmJnQucHJldmVudERlZmF1bHQoKTtyZXR1cm4gdC50eXBlPWQsaXx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zi5fZGVmYXVsdCYmZi5fZGVmYXVsdC5hcHBseShoLnBvcCgpLG4pIT09ITF8fCF4LmFjY2VwdERhdGEocil8fGMmJnguaXNGdW5jdGlvbihyW2RdKSYmIXguaXNXaW5kb3cocikmJih1PXJbY10sdSYmKHJbY109bnVsbCkseC5ldmVudC50cmlnZ2VyZWQ9ZCxyW2RdKCkseC5ldmVudC50cmlnZ2VyZWQ9dW5kZWZpbmVkLHUmJihyW2NdPXUpKSx0LnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe2U9eC5ldmVudC5maXgoZSk7dmFyIHQsbixyLGksbyxzPVtdLGE9ZC5jYWxsKGFyZ3VtZW50cyksdT0ocS5nZXQodGhpcywiZXZlbnRzIil8fHt9KVtlLnR5cGVdfHxbXSxsPXguZXZlbnQuc3BlY2lhbFtlLnR5cGVdfHx7fTtpZihhWzBdPWUsZS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFsLnByZURpc3BhdGNofHxsLnByZURpc3BhdGNoLmNhbGwodGhpcyxlKSE9PSExKXtzPXguZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGUsdSksdD0wO3doaWxlKChpPXNbdCsrXSkmJiFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2UuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiFlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFlLm5hbWVzcGFjZV9yZXx8ZS5uYW1lc3BhY2VfcmUudGVzdChvLm5hbWVzcGFjZSkpJiYoZS5oYW5kbGVPYmo9byxlLmRhdGE9by5kYXRhLHI9KCh4LmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLGEpLHIhPT11bmRlZmluZWQmJihlLnJlc3VsdD1yKT09PSExJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gbC5wb3N0RGlzcGF0Y2gmJmwucG9zdERpc3BhdGNoLmNhbGwodGhpcyxlKSxlLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scz1bXSxhPXQuZGVsZWdhdGVDb3VudCx1PWUudGFyZ2V0O2lmKGEmJnUubm9kZVR5cGUmJighZS5idXR0b258fCJjbGljayIhPT1lLnR5cGUpKWZvcig7dSE9PXRoaXM7dT11LnBhcmVudE5vZGV8fHRoaXMpaWYodS5kaXNhYmxlZCE9PSEwfHwiY2xpY2siIT09ZS50eXBlKXtmb3Iocj1bXSxuPTA7YT5uO24rKylvPXRbbl0saT1vLnNlbGVjdG9yKyIgIixyW2ldPT09dW5kZWZpbmVkJiYocltpXT1vLm5lZWRzQ29udGV4dD94KGksdGhpcykuaW5kZXgodSk+PTA6eC5maW5kKGksdGhpcyxudWxsLFt1XSkubGVuZ3RoKSxyW2ldJiZyLnB1c2gobyk7ci5sZW5ndGgmJnMucHVzaCh7ZWxlbTp1LGhhbmRsZXJzOnJ9KX1yZXR1cm4gdC5sZW5ndGg+YSYmcy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6dC5zbGljZShhKX0pLHN9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lLndoaWNoJiYoZS53aGljaD1udWxsIT10LmNoYXJDb2RlP3QuY2hhckNvZGU6dC5rZXlDb2RlKSxlfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGkscz10LmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS5wYWdlWCYmbnVsbCE9dC5jbGllbnRYJiYobj1lLnRhcmdldC5vd25lckRvY3VtZW50fHxvLHI9bi5kb2N1bWVudEVsZW1lbnQsaT1uLmJvZHksZS5wYWdlWD10LmNsaWVudFgrKHImJnIuc2Nyb2xsTGVmdHx8aSYmaS5zY3JvbGxMZWZ0fHwwKS0ociYmci5jbGllbnRMZWZ0fHxpJiZpLmNsaWVudExlZnR8fDApLGUucGFnZVk9dC5jbGllbnRZKyhyJiZyLnNjcm9sbFRvcHx8aSYmaS5zY3JvbGxUb3B8fDApLShyJiZyLmNsaWVudFRvcHx8aSYmaS5jbGllbnRUb3B8fDApKSxlLndoaWNofHxzPT09dW5kZWZpbmVkfHwoZS53aGljaD0xJnM/MToyJnM/Mzo0JnM/MjowKSxlfX0sZml4OmZ1bmN0aW9uKGUpe2lmKGVbeC5leHBhbmRvXSlyZXR1cm4gZTt2YXIgdCxuLHIsaT1lLnR5cGUscz1lLGE9dGhpcy5maXhIb29rc1tpXTthfHwodGhpcy5maXhIb29rc1tpXT1hPXoudGVzdChpKT90aGlzLm1vdXNlSG9va3M6SS50ZXN0KGkpP3RoaXMua2V5SG9va3M6e30pLHI9YS5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChhLnByb3BzKTp0aGlzLnByb3BzLGU9bmV3IHguRXZlbnQocyksdD1yLmxlbmd0aDt3aGlsZSh0LS0pbj1yW3RdLGVbbl09c1tuXTtyZXR1cm4gZS50YXJnZXR8fChlLnRhcmdldD1vKSwzPT09ZS50YXJnZXQubm9kZVR5cGUmJihlLnRhcmdldD1lLnRhcmdldC5wYXJlbnROb2RlKSxhLmZpbHRlcj9hLmZpbHRlcihlLHMpOmV9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09VigpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnVuZGVmaW5lZH0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09VigpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp1bmRlZmluZWR9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJngubm9kZU5hbWUodGhpcywiaW5wdXQiKT8odGhpcy5jbGljaygpLCExKTp1bmRlZmluZWR9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB4Lm5vZGVOYW1lKGUudGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXtlLnJlc3VsdCE9PXVuZGVmaW5lZCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9eC5leHRlbmQobmV3IHguRXZlbnQsbix7dHlwZTplLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtyP3guZXZlbnQudHJpZ2dlcihpLG51bGwsdCk6eC5ldmVudC5kaXNwYXRjaC5jYWxsKHQsaSksaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmbi5wcmV2ZW50RGVmYXVsdCgpfX0seC5yZW1vdmVFdmVudD1mdW5jdGlvbihlLHQsbil7ZS5yZW1vdmVFdmVudExpc3RlbmVyJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLCExKX0seC5FdmVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgeC5FdmVudD8oZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8ZS5nZXRQcmV2ZW50RGVmYXVsdCYmZS5nZXRQcmV2ZW50RGVmYXVsdCgpP1U6WSk6dGhpcy50eXBlPWUsdCYmeC5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8eC5ub3coKSx0aGlzW3guZXhwYW5kb109ITAsdW5kZWZpbmVkKTpuZXcgeC5FdmVudChlLHQpfSx4LkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOlksaXNQcm9wYWdhdGlvblN0b3BwZWQ6WSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpZLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPVUsZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1VLGUmJmUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVUsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LHguZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGUsdCl7eC5ldmVudC5zcGVjaWFsW2VdPXtkZWxlZ2F0ZVR5cGU6dCxiaW5kVHlwZTp0LGhhbmRsZTpmdW5jdGlvbihlKXt2YXIgbixyPXRoaXMsaT1lLnJlbGF0ZWRUYXJnZXQsbz1lLmhhbmRsZU9iajtyZXR1cm4oIWl8fGkhPT1yJiYheC5jb250YWlucyhyLGkpKSYmKGUudHlwZT1vLm9yaWdUeXBlLG49by5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9dCksbn19fSkseC5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHx4LmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPWZ1bmN0aW9uKGUpe3guZXZlbnQuc2ltdWxhdGUodCxlLnRhcmdldCx4LmV2ZW50LmZpeChlKSwhMCl9O3guZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXswPT09bisrJiZvLmFkZEV2ZW50TGlzdGVuZXIoZSxyLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXswPT09LS1uJiZvLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxyLCEwKX19fSkseC5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8scztpZigib2JqZWN0Ij09dHlwZW9mIGUpeyJzdHJpbmciIT10eXBlb2YgdCYmKG49bnx8dCx0PXVuZGVmaW5lZCk7Zm9yKHMgaW4gZSl0aGlzLm9uKHMsdCxuLGVbc10saSk7cmV0dXJuIHRoaXN9aWYobnVsbD09biYmbnVsbD09cj8ocj10LG49dD11bmRlZmluZWQpOm51bGw9PXImJigic3RyaW5nIj09dHlwZW9mIHQ/KHI9bixuPXVuZGVmaW5lZCk6KHI9bixuPXQsdD11bmRlZmluZWQpKSxyPT09ITEpcj1ZO2Vsc2UgaWYoIXIpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1pJiYobz1yLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoKS5vZmYoZSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHIuZ3VpZD1vLmd1aWR8fChvLmd1aWQ9eC5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt4LmV2ZW50LmFkZCh0aGlzLGUscixuLHQpfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmoseChlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybih0PT09ITF8fCJmdW5jdGlvbiI9PXR5cGVvZiB0KSYmKG49dCx0PXVuZGVmaW5lZCksbj09PSExJiYobj1ZKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt4LmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3guZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO3JldHVybiBuP3guZXZlbnQudHJpZ2dlcihlLHQsbiwhMCk6dW5kZWZpbmVkfX0pO3ZhciBHPS9eLlteOiNcW1wuLF0qJC8sSj0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxRPXguZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsSz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTt4LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9dGhpcyxpPXIubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soeChlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO2k+dDt0KyspaWYoeC5jb250YWlucyhyW3RdLHRoaXMpKXJldHVybiEwfSkpO2Zvcih0PTA7aT50O3QrKyl4LmZpbmQoZSxyW3RdLG4pO3JldHVybiBuPXRoaXMucHVzaFN0YWNrKGk+MT94LnVuaXF1ZShuKTpuKSxuLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrZTplLG59LGhhczpmdW5jdGlvbihlKXt2YXIgdD14KGUsdGhpcyksbj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT0wO2Zvcig7bj5lO2UrKylpZih4LmNvbnRhaW5zKHRoaXMsdFtlXSkpcmV0dXJuITB9KX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhldCh0aGlzLGV8fFtdLCEwKSl9LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZXQodGhpcyxlfHxbXSwhMSkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIWV0KHRoaXMsInN0cmluZyI9PXR5cGVvZiBlJiZRLnRlc3QoZSk/eChlKTplfHxbXSwhMSkubGVuZ3RofSxjbG9zZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dGhpcy5sZW5ndGgsbz1bXSxzPVEudGVzdChlKXx8InN0cmluZyIhPXR5cGVvZiBlP3goZSx0fHx0aGlzLmNvbnRleHQpOjA7Zm9yKDtpPnI7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYoMTE+bi5ub2RlVHlwZSYmKHM/cy5pbmRleChuKT4tMToxPT09bi5ub2RlVHlwZSYmeC5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7bj1vLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubGVuZ3RoPjE/eC51bmlxdWUobyk6byl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciPT10eXBlb2YgZT9nLmNhbGwoeChlKSx0aGlzWzBdKTpnLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49InN0cmluZyI9PXR5cGVvZiBlP3goZSx0KTp4Lm1ha2VBcnJheShlJiZlLm5vZGVUeXBlP1tlXTplKSxyPXgubWVyZ2UodGhpcy5nZXQoKSxuKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeC51bmlxdWUocikpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KTtmdW5jdGlvbiBaKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX14LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHguZGlyKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFooZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gWihlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4geC5kaXIoZSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4geC5kaXIoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHguZGlyKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSwicHJldmlvdXNTaWJsaW5nIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHguc2libGluZygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHguc2libGluZyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250ZW50RG9jdW1lbnR8fHgubWVyZ2UoW10sZS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGUsdCl7eC5mbltlXT1mdW5jdGlvbihuLHIpe3ZhciBpPXgubWFwKHRoaXMsdCxuKTtyZXR1cm4iVW50aWwiIT09ZS5zbGljZSgtNSkmJihyPW4pLHImJiJzdHJpbmciPT10eXBlb2YgciYmKGk9eC5maWx0ZXIocixpKSksdGhpcy5sZW5ndGg+MSYmKEtbZV18fHgudW5pcXVlKGkpLEoudGVzdChlKSYmaS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGkpfX0pLHguZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07cmV0dXJuIG4mJihlPSI6bm90KCIrZSsiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/eC5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTp4LmZpbmQubWF0Y2hlcyhlLHguZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sZGlyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxpPW4hPT11bmRlZmluZWQ7d2hpbGUoKGU9ZVt0XSkmJjkhPT1lLm5vZGVUeXBlKWlmKDE9PT1lLm5vZGVUeXBlKXtpZihpJiZ4KGUpLmlzKG4pKWJyZWFrO3IucHVzaChlKX1yZXR1cm4gcn0sc2libGluZzpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2Zvcig7ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59fSk7ZnVuY3Rpb24gZXQoZSx0LG4pe2lmKHguaXNGdW5jdGlvbih0KSlyZXR1cm4geC5ncmVwKGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4hIXQuY2FsbChlLHIsZSkhPT1ufSk7aWYodC5ub2RlVHlwZSlyZXR1cm4geC5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10IT09bn0pO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYoRy50ZXN0KHQpKXJldHVybiB4LmZpbHRlcih0LGUsbik7dD14LmZpbHRlcih0LGUpfXJldHVybiB4LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZy5jYWxsKHQsZSk+PTAhPT1ufSl9dmFyIHR0PS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksbnQ9LzwoW1x3Ol0rKS8scnQ9Lzx8JiM/XHcrOy8saXQ9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxvdD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxzdD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxhdD0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksdXQ9L150cnVlXC8oLiopLyxsdD0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csY3Q9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtjdC5vcHRncm91cD1jdC5vcHRpb24sY3QudGJvZHk9Y3QudGZvb3Q9Y3QuY29sZ3JvdXA9Y3QuY2FwdGlvbj1jdC50aGVhZCxjdC50aD1jdC50ZCx4LmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihlKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXVuZGVmaW5lZD94LnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxvKS5jcmVhdGVUZXh0Tm9kZShlKSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1wdCh0aGlzLGUpO3QuYXBwZW5kQ2hpbGQoZSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXB0KHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lP3guZmlsdGVyKGUsdGhpcyk6dGhpcyxpPTA7Zm9yKDtudWxsIT0obj1yW2ldKTtpKyspdHx8MSE9PW4ubm9kZVR5cGV8fHguY2xlYW5EYXRhKG10KG4pKSxuLnBhcmVudE5vZGUmJih0JiZ4LmNvbnRhaW5zKG4ub3duZXJEb2N1bWVudCxuKSYmZHQobXQobiwic2NyaXB0IikpLG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7dmFyIGUsdD0wO2Zvcig7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoeC5jbGVhbkRhdGEobXQoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGw9PWU/ITE6ZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHguY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYoZT09PXVuZGVmaW5lZCYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWl0LnRlc3QoZSkmJiFjdFsobnQuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9ZS5yZXBsYWNlKHR0LCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtyPm47bisrKXQ9dGhpc1tuXXx8e30sMT09PXQubm9kZVR5cGUmJih4LmNsZWFuRGF0YShtdCh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGkpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBlPXgubWFwKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuW2UubmV4dFNpYmxpbmcsZS5wYXJlbnROb2RlXX0pLHQ9MDtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24obil7dmFyIHI9ZVt0KytdLGk9ZVt0KytdO2kmJihyJiZyLnBhcmVudE5vZGUhPT1pJiYocj10aGlzLm5leHRTaWJsaW5nKSx4KHRoaXMpLnJlbW92ZSgpLGkuaW5zZXJ0QmVmb3JlKG4scikpfSwhMCksdD90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZW1vdmUoZSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGUsdCxuKXtlPWYuYXBwbHkoW10sZSk7dmFyIHIsaSxvLHMsYSx1LGw9MCxjPXRoaXMubGVuZ3RoLHA9dGhpcyxoPWMtMSxkPWVbMF0sZz14LmlzRnVuY3Rpb24oZCk7aWYoZ3x8ISgxPj1jfHwic3RyaW5nIiE9dHlwZW9mIGR8fHguc3VwcG9ydC5jaGVja0Nsb25lKSYmc3QudGVzdChkKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBpPXAuZXEocik7ZyYmKGVbMF09ZC5jYWxsKHRoaXMscixpLmh0bWwoKSkpLGkuZG9tTWFuaXAoZSx0LG4pfSk7aWYoYyYmKHI9eC5idWlsZEZyYWdtZW50KGUsdGhpc1swXS5vd25lckRvY3VtZW50LCExLCFuJiZ0aGlzKSxpPXIuZmlyc3RDaGlsZCwxPT09ci5jaGlsZE5vZGVzLmxlbmd0aCYmKHI9aSksaSkpe2ZvcihvPXgubWFwKG10KHIsInNjcmlwdCIpLGZ0KSxzPW8ubGVuZ3RoO2M+bDtsKyspYT1yLGwhPT1oJiYoYT14LmNsb25lKGEsITAsITApLHMmJngubWVyZ2UobyxtdChhLCJzY3JpcHQiKSkpLHQuY2FsbCh0aGlzW2xdLGEsbCk7aWYocylmb3IodT1vW28ubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQseC5tYXAobyxodCksbD0wO3M+bDtsKyspYT1vW2xdLGF0LnRlc3QoYS50eXBlfHwiIikmJiFxLmFjY2VzcyhhLCJnbG9iYWxFdmFsIikmJnguY29udGFpbnModSxhKSYmKGEuc3JjP3guX2V2YWxVcmwoYS5zcmMpOnguZ2xvYmFsRXZhbChhLnRleHRDb250ZW50LnJlcGxhY2UobHQsIiIpKSl9cmV0dXJuIHRoaXN9fSkseC5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKGUpe3ZhciBuLHI9W10saT14KGUpLG89aS5sZW5ndGgtMSxzPTA7Zm9yKDtvPj1zO3MrKyluPXM9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCkseChpW3NdKVt0XShuKSxoLmFwcGx5KHIsbi5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIpfX0pLHguZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYT1lLmNsb25lTm9kZSghMCksdT14LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKTtpZighKHguc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8eC5pc1hNTERvYyhlKSkpZm9yKHM9bXQoYSksbz1tdChlKSxyPTAsaT1vLmxlbmd0aDtpPnI7cisrKXl0KG9bcl0sc1tyXSk7aWYodClpZihuKWZvcihvPW98fG10KGUpLHM9c3x8bXQoYSkscj0wLGk9by5sZW5ndGg7aT5yO3IrKylndChvW3JdLHNbcl0pO2Vsc2UgZ3QoZSxhKTtyZXR1cm4gcz1tdChhLCJzY3JpcHQiKSxzLmxlbmd0aD4wJiZkdChzLCF1JiZtdChlLCJzY3JpcHQiKSksYX0sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLHMsYSx1LGwsYz0wLHA9ZS5sZW5ndGgsZj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxoPVtdO2Zvcig7cD5jO2MrKylpZihpPWVbY10saXx8MD09PWkpaWYoIm9iamVjdCI9PT14LnR5cGUoaSkpeC5tZXJnZShoLGkubm9kZVR5cGU/W2ldOmkpO2Vsc2UgaWYocnQudGVzdChpKSl7bz1vfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KG50LmV4ZWMoaSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1jdFtzXXx8Y3QuX2RlZmF1bHQsby5pbm5lckhUTUw9YVsxXStpLnJlcGxhY2UodHQsIjwkMT48LyQyPiIpK2FbMl0sbD1hWzBdO3doaWxlKGwtLSlvPW8ubGFzdENoaWxkO3gubWVyZ2UoaCxvLmNoaWxkTm9kZXMpLG89Zi5maXJzdENoaWxkLG8udGV4dENvbnRlbnQ9IiJ9ZWxzZSBoLnB1c2godC5jcmVhdGVUZXh0Tm9kZShpKSk7Zi50ZXh0Q29udGVudD0iIixjPTA7d2hpbGUoaT1oW2MrK10paWYoKCFyfHwtMT09PXguaW5BcnJheShpLHIpKSYmKHU9eC5jb250YWlucyhpLm93bmVyRG9jdW1lbnQsaSksbz1tdChmLmFwcGVuZENoaWxkKGkpLCJzY3JpcHQiKSx1JiZkdChvKSxuKSl7bD0wO3doaWxlKGk9b1tsKytdKWF0LnRlc3QoaS50eXBlfHwiIikmJm4ucHVzaChpKX1yZXR1cm4gZn0sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8scyxhPXguZXZlbnQuc3BlY2lhbCx1PTA7Zm9yKDsobj1lW3VdKSE9PXVuZGVmaW5lZDt1Kyspe2lmKEYuYWNjZXB0cyhuKSYmKG89bltxLmV4cGFuZG9dLG8mJih0PXEuY2FjaGVbb10pKSl7aWYocj1PYmplY3Qua2V5cyh0LmV2ZW50c3x8e30pLHIubGVuZ3RoKWZvcihzPTA7KGk9cltzXSkhPT11bmRlZmluZWQ7cysrKWFbaV0/eC5ldmVudC5yZW1vdmUobixpKTp4LnJlbW92ZUV2ZW50KG4saSx0LmhhbmRsZSk7cS5jYWNoZVtvXSYmZGVsZXRlIHEuY2FjaGVbb119ZGVsZXRlIEwuY2FjaGVbbltMLmV4cGFuZG9dXX19LF9ldmFsVXJsOmZ1bmN0aW9uKGUpe3JldHVybiB4LmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEsZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9fSk7ZnVuY3Rpb24gcHQoZSx0KXtyZXR1cm4geC5ub2RlTmFtZShlLCJ0YWJsZSIpJiZ4Lm5vZGVOYW1lKDE9PT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGUuYXBwZW5kQ2hpbGQoZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmV9ZnVuY3Rpb24gZnQoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIitlLnR5cGUsZX1mdW5jdGlvbiBodChlKXt2YXIgdD11dC5leGVjKGUudHlwZSk7cmV0dXJuIHQ/ZS50eXBlPXRbMV06ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIGR0KGUsdCl7dmFyIG49ZS5sZW5ndGgscj0wO2Zvcig7bj5yO3IrKylxLnNldChlW3JdLCJnbG9iYWxFdmFsIiwhdHx8cS5nZXQodFtyXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBndChlLHQpe3ZhciBuLHIsaSxvLHMsYSx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKHEuaGFzRGF0YShlKSYmKG89cS5hY2Nlc3MoZSkscz1xLnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgcy5oYW5kbGUscy5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7cj5uO24rKyl4LmV2ZW50LmFkZCh0LGksbFtpXVtuXSl9TC5oYXNEYXRhKGUpJiYoYT1MLmFjY2VzcyhlKSx1PXguZXh0ZW5kKHt9LGEpLEwuc2V0KHQsdSkpfX1mdW5jdGlvbiBtdChlLHQpe3ZhciBuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOmUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8IioiKTpbXTtyZXR1cm4gdD09PXVuZGVmaW5lZHx8dCYmeC5ub2RlTmFtZShlLHQpP3gubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geXQoZSx0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7ImlucHV0Ij09PW4mJm90LnRlc3QoZS50eXBlKT90LmNoZWNrZWQ9ZS5jaGVja2VkOigiaW5wdXQiPT09bnx8InRleHRhcmVhIj09PW4pJiYodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfXguZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB4LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykud3JhcEFsbChlLmNhbGwodGhpcyx0KSl9KToodGhpc1swXSYmKHQ9eChlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3doaWxlKGUuZmlyc3RFbGVtZW50Q2hpbGQpZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGUpe3JldHVybiB4LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykud3JhcElubmVyKGUuY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXgodGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSl9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5pc0Z1bmN0aW9uKGUpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7eCh0aGlzKS53cmFwQWxsKHQ/ZS5jYWxsKHRoaXMsbik6ZSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe3gubm9kZU5hbWUodGhpcywiYm9keSIpfHx4KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTt2YXIgdnQseHQsYnQ9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHd0PS9ebWFyZ2luLyxUdD1SZWdFeHAoIl4oIitiKyIpKC4qKSQiLCJpIiksQ3Q9UmVnRXhwKCJeKCIrYisiKSg/IXB4KVthLXolXSskIiwiaSIpLGt0PVJlZ0V4cCgiXihbKy1dKT0oIitiKyIpIiwiaSIpLE50PXtCT0RZOiJibG9jayJ9LEV0PXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxTdD17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxqdD1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLER0PVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07ZnVuY3Rpb24gQXQoZSx0KXtpZih0IGluIGUpcmV0dXJuIHQ7dmFyIG49dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLHI9dCxpPUR0Lmxlbmd0aDt3aGlsZShpLS0paWYodD1EdFtpXStuLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gcn1mdW5jdGlvbiBMdChlLHQpe3JldHVybiBlPXR8fGUsIm5vbmUiPT09eC5jc3MoZSwiZGlzcGxheSIpfHwheC5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9ZnVuY3Rpb24gcXQodCl7cmV0dXJuIGUuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpfWZ1bmN0aW9uIEh0KGUsdCl7dmFyIG4scixpLG89W10scz0wLGE9ZS5sZW5ndGg7Zm9yKDthPnM7cysrKXI9ZVtzXSxyLnN0eWxlJiYob1tzXT1xLmdldChyLCJvbGRkaXNwbGF5Iiksbj1yLnN0eWxlLmRpc3BsYXksdD8ob1tzXXx8Im5vbmUiIT09bnx8KHIuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1yLnN0eWxlLmRpc3BsYXkmJkx0KHIpJiYob1tzXT1xLmFjY2VzcyhyLCJvbGRkaXNwbGF5IixSdChyLm5vZGVOYW1lKSkpKTpvW3NdfHwoaT1MdChyKSwobiYmIm5vbmUiIT09bnx8IWkpJiZxLnNldChyLCJvbGRkaXNwbGF5IixpP246eC5jc3MociwiZGlzcGxheSIpKSkpO2ZvcihzPTA7YT5zO3MrKylyPWVbc10sci5zdHlsZSYmKHQmJiJub25lIiE9PXIuc3R5bGUuZGlzcGxheSYmIiIhPT1yLnN0eWxlLmRpc3BsYXl8fChyLnN0eWxlLmRpc3BsYXk9dD9vW3NdfHwiIjoibm9uZSIpKTtyZXR1cm4gZX14LmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxzPTA7aWYoeC5pc0FycmF5KHQpKXtmb3Iocj1xdChlKSxpPXQubGVuZ3RoO2k+cztzKyspb1t0W3NdXT14LmNzcyhlLHRbc10sITEscik7cmV0dXJuIG99cmV0dXJuIG4hPT11bmRlZmluZWQ/eC5zdHlsZShlLHQsbik6eC5jc3MoZSx0KX0sZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSHQodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSHQodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7THQodGhpcyk/eCh0aGlzKS5zaG93KCk6eCh0aGlzKS5oaWRlKCl9KX19KSx4LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPXZ0KGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxzLGE9eC5jYW1lbENhc2UodCksdT1lLnN0eWxlO3JldHVybiB0PXguY3NzUHJvcHNbYV18fCh4LmNzc1Byb3BzW2FdPUF0KHUsYSkpLHM9eC5jc3NIb29rc1t0XXx8eC5jc3NIb29rc1thXSxuPT09dW5kZWZpbmVkP3MmJiJnZXQiaW4gcyYmKGk9cy5nZXQoZSwhMSxyKSkhPT11bmRlZmluZWQ/aTp1W3RdOihvPXR5cGVvZiBuLCJzdHJpbmciPT09byYmKGk9a3QuZXhlYyhuKSkmJihuPShpWzFdKzEpKmlbMl0rcGFyc2VGbG9hdCh4LmNzcyhlLHQpKSxvPSJudW1iZXIiKSxudWxsPT1ufHwibnVtYmVyIj09PW8mJmlzTmFOKG4pfHwoIm51bWJlciIhPT1vfHx4LmNzc051bWJlclthXXx8KG4rPSJweCIpLHguc3VwcG9ydC5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwodVt0XT0iaW5oZXJpdCIpLHMmJiJzZXQiaW4gcyYmKG49cy5zZXQoZSxuLHIpKT09PXVuZGVmaW5lZHx8KHVbdF09bikpLHVuZGVmaW5lZCl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzLGE9eC5jYW1lbENhc2UodCk7cmV0dXJuIHQ9eC5jc3NQcm9wc1thXXx8KHguY3NzUHJvcHNbYV09QXQoZS5zdHlsZSxhKSkscz14LmNzc0hvb2tzW3RdfHx4LmNzc0hvb2tzW2FdLHMmJiJnZXQiaW4gcyYmKGk9cy5nZXQoZSwhMCxuKSksaT09PXVuZGVmaW5lZCYmKGk9dnQoZSx0LHIpKSwibm9ybWFsIj09PWkmJnQgaW4gU3QmJihpPVN0W3RdKSwiIj09PW58fG4/KG89cGFyc2VGbG9hdChpKSxuPT09ITB8fHguaXNOdW1lcmljKG8pP298fDA6aSk6aX19KSx2dD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHM9bnx8cXQoZSksYT1zP3MuZ2V0UHJvcGVydHlWYWx1ZSh0KXx8c1t0XTp1bmRlZmluZWQsdT1lLnN0eWxlO3JldHVybiBzJiYoIiIhPT1hfHx4LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8KGE9eC5zdHlsZShlLHQpKSxDdC50ZXN0KGEpJiZ3dC50ZXN0KHQpJiYocj11LndpZHRoLGk9dS5taW5XaWR0aCxvPXUubWF4V2lkdGgsdS5taW5XaWR0aD11Lm1heFdpZHRoPXUud2lkdGg9YSxhPXMud2lkdGgsdS53aWR0aD1yLHUubWluV2lkdGg9aSx1Lm1heFdpZHRoPW8pKSxhfTtmdW5jdGlvbiBPdChlLHQsbil7dmFyIHI9VHQuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMV0tKG58fDApKSsoclsyXXx8InB4Iik6dH1mdW5jdGlvbiBGdChlLHQsbixyLGkpe3ZhciBvPW49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PXQ/MTowLHM9MDtmb3IoOzQ+bztvKz0yKSJtYXJnaW4iPT09biYmKHMrPXguY3NzKGUsbitqdFtvXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKHMtPXguY3NzKGUsInBhZGRpbmciK2p0W29dLCEwLGkpKSwibWFyZ2luIiE9PW4mJihzLT14LmNzcyhlLCJib3JkZXIiK2p0W29dKyJXaWR0aCIsITAsaSkpKToocys9eC5jc3MoZSwicGFkZGluZyIranRbb10sITAsaSksInBhZGRpbmciIT09biYmKHMrPXguY3NzKGUsImJvcmRlciIranRbb10rIldpZHRoIiwhMCxpKSkpO3JldHVybiBzfWZ1bmN0aW9uIFB0KGUsdCxuKXt2YXIgcj0hMCxpPSJ3aWR0aCI9PT10P2Uub2Zmc2V0V2lkdGg6ZS5vZmZzZXRIZWlnaHQsbz1xdChlKSxzPXguc3VwcG9ydC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PXguY3NzKGUsImJveFNpemluZyIsITEsbyk7aWYoMD49aXx8bnVsbD09aSl7aWYoaT12dChlLHQsbyksKDA+aXx8bnVsbD09aSkmJihpPWUuc3R5bGVbdF0pLEN0LnRlc3QoaSkpcmV0dXJuIGk7cj1zJiYoeC5zdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlfHxpPT09ZS5zdHlsZVt0XSksaT1wYXJzZUZsb2F0KGkpfHwwfXJldHVybiBpK0Z0KGUsdCxufHwocz8iYm9yZGVyIjoiY29udGVudCIpLHIsbykrInB4In1mdW5jdGlvbiBSdChlKXt2YXIgdD1vLG49TnRbZV07cmV0dXJuIG58fChuPU10KGUsdCksIm5vbmUiIT09biYmbnx8KHh0PSh4dHx8eCgiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpLmNzcygiY3NzVGV4dCIsImRpc3BsYXk6YmxvY2sgIWltcG9ydGFudCIpKS5hcHBlbmRUbyh0LmRvY3VtZW50RWxlbWVudCksdD0oeHRbMF0uY29udGVudFdpbmRvd3x8eHRbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCx0LndyaXRlKCI8IWRvY3R5cGUgaHRtbD48aHRtbD48Ym9keT4iKSx0LmNsb3NlKCksbj1NdChlLHQpLHh0LmRldGFjaCgpKSxOdFtlXT1uKSxufWZ1bmN0aW9uIE10KGUsdCl7dmFyIG49eCh0LmNyZWF0ZUVsZW1lbnQoZSkpLmFwcGVuZFRvKHQuYm9keSkscj14LmNzcyhuWzBdLCJkaXNwbGF5Iik7cmV0dXJuIG4ucmVtb3ZlKCkscn14LmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGUsdCl7eC5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbj8wPT09ZS5vZmZzZXRXaWR0aCYmYnQudGVzdCh4LmNzcyhlLCJkaXNwbGF5IikpP3guc3dhcChlLEV0LGZ1bmN0aW9uKCl7cmV0dXJuIFB0KGUsdCxyKX0pOlB0KGUsdCxyKTp1bmRlZmluZWR9LHNldDpmdW5jdGlvbihlLG4scil7dmFyIGk9ciYmcXQoZSk7cmV0dXJuIE90KGUsbixyP0Z0KGUsdCxyLHguc3VwcG9ydC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PXguY3NzKGUsImJveFNpemluZyIsITEsaSksaSk6MCl9fX0pLHgoZnVuY3Rpb24oKXt4LnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KHguY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiB0P3guc3dhcChlLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSx2dCxbZSwibWFyZ2luUmlnaHQiXSk6dW5kZWZpbmVkfX0pLCF4LnN1cHBvcnQucGl4ZWxQb3NpdGlvbiYmeC5mbi5wb3NpdGlvbiYmeC5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsdCl7eC5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUsbil7cmV0dXJuIG4/KG49dnQoZSx0KSxDdC50ZXN0KG4pP3goZSkucG9zaXRpb24oKVt0XSsicHgiOm4pOnVuZGVmaW5lZH19fSl9KSx4LmV4cHImJnguZXhwci5maWx0ZXJzJiYoeC5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGUpe3JldHVybiAwPj1lLm9mZnNldFdpZHRoJiYwPj1lLm9mZnNldEhlaWdodH0seC5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4heC5leHByLmZpbHRlcnMuaGlkZGVuKGUpfSkseC5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oZSx0KXt4LmNzc0hvb2tzW2UrdF09e2V4cGFuZDpmdW5jdGlvbihuKXt2YXIgcj0wLGk9e30sbz0ic3RyaW5nIj09dHlwZW9mIG4/bi5zcGxpdCgiICIpOltuXTtmb3IoOzQ+cjtyKyspaVtlK2p0W3JdK3RdPW9bcl18fG9bci0yXXx8b1swXTtyZXR1cm4gaX19LHd0LnRlc3QoZSl8fCh4LmNzc0hvb2tzW2UrdF0uc2V0PU90KX0pO3ZhciBXdD0vJTIwL2csJHQ9L1xbXF0kLyxCdD0vXHI/XG4vZyxJdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksenQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO3guZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4geC5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXgucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlP3gubWFrZUFycmF5KGUpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIXgodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZ6dC50ZXN0KHRoaXMubm9kZU5hbWUpJiYhSXQudGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IW90LnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49eCh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOnguaXNBcnJheShuKT94Lm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoQnQsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKEJ0LCJcclxuIil9fSkuZ2V0KCl9fSkseC5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3Q9eC5pc0Z1bmN0aW9uKHQpP3QoKTpudWxsPT10PyIiOnQscltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQodCl9O2lmKHQ9PT11bmRlZmluZWQmJih0PXguYWpheFNldHRpbmdzJiZ4LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCkseC5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIXguaXNQbGFpbk9iamVjdChlKSl4LmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKV90KG4sZVtuXSx0LGkpO3JldHVybiByLmpvaW4oIiYiKS5yZXBsYWNlKFd0LCIrIil9O2Z1bmN0aW9uIF90KGUsdCxuLHIpe3ZhciBpO2lmKHguaXNBcnJheSh0KSl4LmVhY2godCxmdW5jdGlvbih0LGkpe258fCR0LnRlc3QoZSk/cihlLGkpOl90KGUrIlsiKygib2JqZWN0Ij09dHlwZW9mIGk/dDoiIikrIl0iLGksbixyKX0pO2Vsc2UgaWYobnx8Im9iamVjdCIhPT14LnR5cGUodCkpcihlLHQpO2Vsc2UgZm9yKGkgaW4gdClfdChlKyJbIitpKyJdIix0W2ldLG4scil9eC5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7eC5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSkseC5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfSxiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX19KTt2YXIgWHQsVXQsWXQ9eC5ub3coKSxWdD0vXD8vLEd0PS8jLiokLyxKdD0vKFs/Jl0pXz1bXiZdKi8sUXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxLdD0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxadD0vXig/OkdFVHxIRUFEKSQvLGVuPS9eXC9cLy8sdG49L14oW1x3ListXSs6KSg/OlwvXC8oW15cLz8jOl0qKSg/OjooXGQrKXwpfCkvLG5uPXguZm4ubG9hZCxybj17fSxvbj17fSxzbj0iKi8iLmNvbmNhdCgiKiIpO3RyeXtVdD1pLmhyZWZ9Y2F0Y2goYW4pe1V0PW8uY3JlYXRlRWxlbWVudCgiYSIpLFV0LmhyZWY9IiIsVXQ9VXQuaHJlZn1YdD10bi5leGVjKFV0LnRvTG93ZXJDYXNlKCkpfHxbXTtmdW5jdGlvbiB1bihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXsic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iKiIpO3ZhciByLGk9MCxvPXQudG9Mb3dlckNhc2UoKS5tYXRjaCh3KXx8W107aWYoeC5pc0Z1bmN0aW9uKG4pKXdoaWxlKHI9b1tpKytdKSIrIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8IioiLChlW3JdPWVbcl18fFtdKS51bnNoaWZ0KG4pKTooZVtyXT1lW3JdfHxbXSkucHVzaChuKX19ZnVuY3Rpb24gbG4oZSx0LG4scil7dmFyIGk9e30sbz1lPT09b247ZnVuY3Rpb24gcyhhKXt2YXIgdTtyZXR1cm4gaVthXT0hMCx4LmVhY2goZVthXXx8W10sZnVuY3Rpb24oZSxhKXt2YXIgbD1hKHQsbixyKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGx8fG98fGlbbF0/bz8hKHU9bCk6dW5kZWZpbmVkOih0LmRhdGFUeXBlcy51bnNoaWZ0KGwpLHMobCksITEpfSksdX1yZXR1cm4gcyh0LmRhdGFUeXBlc1swXSl8fCFpWyIqIl0mJnMoIioiKX1mdW5jdGlvbiBjbihlLHQpe3ZhciBuLHIsaT14LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKG4gaW4gdCl0W25dIT09dW5kZWZpbmVkJiYoKGlbbl0/ZTpyfHwocj17fSkpW25dPXRbbl0pO3JldHVybiByJiZ4LmV4dGVuZCghMCxlLHIpLGV9eC5mbi5sb2FkPWZ1bmN0aW9uKGUsdCxuKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJm5uKXJldHVybiBubi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHIsaSxvLHM9dGhpcyxhPWUuaW5kZXhPZigiICIpO3JldHVybiBhPj0wJiYocj1lLnNsaWNlKGEpLGU9ZS5zbGljZSgwLGEpKSx4LmlzRnVuY3Rpb24odCk/KG49dCx0PXVuZGVmaW5lZCk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYoaT0iUE9TVCIpLHMubGVuZ3RoPjAmJnguYWpheCh7dXJsOmUsdHlwZTppLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLHMuaHRtbChyP3goIjxkaXY+IikuYXBwZW5kKHgucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuY29tcGxldGUobiYmZnVuY3Rpb24oZSx0KXtzLmVhY2gobixvfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KSx0aGlzfSx4LmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe3guZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSx4LmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6VXQsdHlwZToiR0VUIixpc0xvY2FsOkt0LnRlc3QoWHRbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6c24sdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjp4LnBhcnNlSlNPTiwidGV4dCB4bWwiOngucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P2NuKGNuKGUseC5hamF4U2V0dGluZ3MpLHQpOmNuKHguYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOnVuKHJuKSxhamF4VHJhbnNwb3J0OnVuKG9uKSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dW5kZWZpbmVkKSx0PXR8fHt9O3ZhciBuLHIsaSxvLHMsYSx1LGwsYz14LmFqYXhTZXR1cCh7fSx0KSxwPWMuY29udGV4dHx8YyxmPWMuY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT94KHApOnguZXZlbnQsaD14LkRlZmVycmVkKCksZD14LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxnPWMuc3RhdHVzQ29kZXx8e30sbT17fSx5PXt9LHY9MCxiPSJjYW5jZWxlZCIsVD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKDI9PT12KXtpZighbyl7bz17fTt3aGlsZSh0PVF0LmV4ZWMoaSkpb1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl19dD1vW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXY/aTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO3JldHVybiB2fHwoZT15W25dPXlbbl18fGUsbVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiB2fHwoYy5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoMj52KWZvcih0IGluIGUpZ1t0XT1bZ1t0XSxlW3RdXTtlbHNlIFQuYWx3YXlzKGVbVC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8YjtyZXR1cm4gbiYmbi5hYm9ydCh0KSxrKDAsdCksdGhpc319O2lmKGgucHJvbWlzZShUKS5jb21wbGV0ZT1kLmFkZCxULnN1Y2Nlc3M9VC5kb25lLFQuZXJyb3I9VC5mYWlsLGMudXJsPSgoZXx8Yy51cmx8fFV0KSsiIikucmVwbGFjZShHdCwiIikucmVwbGFjZShlbixYdFsxXSsiLy8iKSxjLnR5cGU9dC5tZXRob2R8fHQudHlwZXx8Yy5tZXRob2R8fGMudHlwZSxjLmRhdGFUeXBlcz14LnRyaW0oYy5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKHcpfHxbIiJdLG51bGw9PWMuY3Jvc3NEb21haW4mJihhPXRuLmV4ZWMoYy51cmwudG9Mb3dlckNhc2UoKSksYy5jcm9zc0RvbWFpbj0hKCFhfHxhWzFdPT09WHRbMV0mJmFbMl09PT1YdFsyXSYmKGFbM118fCgiaHR0cDoiPT09YVsxXT8iODAiOiI0NDMiKSk9PT0oWHRbM118fCgiaHR0cDoiPT09WHRbMV0/IjgwIjoiNDQzIikpKSksYy5kYXRhJiZjLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGMuZGF0YSYmKGMuZGF0YT14LnBhcmFtKGMuZGF0YSxjLnRyYWRpdGlvbmFsKSksbG4ocm4sYyx0LFQpLDI9PT12KXJldHVybiBUO3U9Yy5nbG9iYWwsdSYmMD09PXguYWN0aXZlKysmJnguZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IiksYy50eXBlPWMudHlwZS50b1VwcGVyQ2FzZSgpLGMuaGFzQ29udGVudD0hWnQudGVzdChjLnR5cGUpLHI9Yy51cmwsYy5oYXNDb250ZW50fHwoYy5kYXRhJiYocj1jLnVybCs9KFZ0LnRlc3Qocik/IiYiOiI/IikrYy5kYXRhLGRlbGV0ZSBjLmRhdGEpLGMuY2FjaGU9PT0hMSYmKGMudXJsPUp0LnRlc3Qocik/ci5yZXBsYWNlKEp0LCIkMV89IitZdCsrKTpyKyhWdC50ZXN0KHIpPyImIjoiPyIpKyJfPSIrWXQrKykpLGMuaWZNb2RpZmllZCYmKHgubGFzdE1vZGlmaWVkW3JdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIix4Lmxhc3RNb2RpZmllZFtyXSkseC5ldGFnW3JdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLHguZXRhZ1tyXSkpLChjLmRhdGEmJmMuaGFzQ29udGVudCYmYy5jb250ZW50VHlwZSE9PSExfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGMuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixjLmRhdGFUeXBlc1swXSYmYy5hY2NlcHRzW2MuZGF0YVR5cGVzWzBdXT9jLmFjY2VwdHNbYy5kYXRhVHlwZXNbMF1dKygiKiIhPT1jLmRhdGFUeXBlc1swXT8iLCAiK3NuKyI7IHE9MC4wMSI6IiIpOmMuYWNjZXB0c1siKiJdKTtmb3IobCBpbiBjLmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGwsYy5oZWFkZXJzW2xdKTtpZihjLmJlZm9yZVNlbmQmJihjLmJlZm9yZVNlbmQuY2FsbChwLFQsYyk9PT0hMXx8Mj09PXYpKXJldHVybiBULmFib3J0KCk7Yj0iYWJvcnQiO2ZvcihsIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KVRbbF0oY1tsXSk7aWYobj1sbihvbixjLHQsVCkpe1QucmVhZHlTdGF0ZT0xLHUmJmYudHJpZ2dlcigiYWpheFNlbmQiLFtULGNdKSxjLmFzeW5jJiZjLnRpbWVvdXQ+MCYmKHM9c2V0VGltZW91dChmdW5jdGlvbigpe1QuYWJvcnQoInRpbWVvdXQiKX0sYy50aW1lb3V0KSk7dHJ5e3Y9MSxuLnNlbmQobSxrKX1jYXRjaChDKXtpZighKDI+dikpdGhyb3cgQztrKC0xLEMpfX1lbHNlIGsoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIGsoZSx0LG8sYSl7dmFyIGwsbSx5LGIsdyxDPXQ7MiE9PXYmJih2PTIscyYmY2xlYXJUaW1lb3V0KHMpLG49dW5kZWZpbmVkLGk9YXx8IiIsVC5yZWFkeVN0YXRlPWU+MD80OjAsbD1lPj0yMDAmJjMwMD5lfHwzMDQ9PT1lLG8mJihiPXBuKGMsVCxvKSksYj1mbihjLGIsVCxsKSxsPyhjLmlmTW9kaWZpZWQmJih3PVQuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSx3JiYoeC5sYXN0TW9kaWZpZWRbcl09dyksdz1ULmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksdyYmKHguZXRhZ1tyXT13KSksMjA0PT09ZXx8IkhFQUQiPT09Yy50eXBlP0M9Im5vY29udGVudCI6MzA0PT09ZT9DPSJub3Rtb2RpZmllZCI6KEM9Yi5zdGF0ZSxtPWIuZGF0YSx5PWIuZXJyb3IsbD0heSkpOih5PUMsKGV8fCFDKSYmKEM9ImVycm9yIiwwPmUmJihlPTApKSksVC5zdGF0dXM9ZSxULnN0YXR1c1RleHQ9KHR8fEMpKyIiLGw/aC5yZXNvbHZlV2l0aChwLFttLEMsVF0pOmgucmVqZWN0V2l0aChwLFtULEMseV0pLFQuc3RhdHVzQ29kZShnKSxnPXVuZGVmaW5lZCx1JiZmLnRyaWdnZXIobD8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtULGMsbD9tOnldKSxkLmZpcmVXaXRoKHAsW1QsQ10pLHUmJihmLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW1QsY10pLC0teC5hY3RpdmV8fHguZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiBUfSxnZXRKU09OOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5nZXQoZSx0LG4sImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguZ2V0KGUsdW5kZWZpbmVkLHQsInNjcmlwdCIpfX0pLHguZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihlLHQpe3hbdF09ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIHguaXNGdW5jdGlvbihuKSYmKGk9aXx8cixyPW4sbj11bmRlZmluZWQpLHguYWpheCh7dXJsOmUsdHlwZTp0LGRhdGFUeXBlOmksZGF0YTpuLHN1Y2Nlc3M6cn0pfX0pO2Z1bmN0aW9uIHBuKGUsdCxuKXt2YXIgcixpLG8scyxhPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSxyPT09dW5kZWZpbmVkJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBhKWlmKGFbaV0mJmFbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31zfHwocz1pKX1vPW98fHN9cmV0dXJuIG8/KG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXSk6dW5kZWZpbmVkfWZ1bmN0aW9uIGZuKGUsdCxuLHIpe3ZhciBpLG8scyxhLHUsbD17fSxjPWUuZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IocyBpbiBlLmNvbnZlcnRlcnMpbFtzLnRvTG93ZXJDYXNlKCldPWUuY29udmVydGVyc1tzXTtvPWMuc2hpZnQoKTt3aGlsZShvKWlmKGUucmVzcG9uc2VGaWVsZHNbb10mJihuW2UucmVzcG9uc2VGaWVsZHNbb11dPXQpLCF1JiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSx1PW8sbz1jLnNoaWZ0KCkpaWYoIioiPT09bylvPXU7ZWxzZSBpZigiKiIhPT11JiZ1IT09byl7aWYocz1sW3UrIiAiK29dfHxsWyIqICIrb10sIXMpZm9yKGkgaW4gbClpZihhPWkuc3BsaXQoIiAiKSxhWzFdPT09byYmKHM9bFt1KyIgIithWzBdXXx8bFsiKiAiK2FbMF1dKSl7cz09PSEwP3M9bFtpXTpsW2ldIT09ITAmJihvPWFbMF0sYy51bnNoaWZ0KGFbMV0pKTticmVha31pZihzIT09ITApaWYocyYmZVsidGhyb3dzIl0pdD1zKHQpO2Vsc2UgdHJ5e3Q9cyh0KX1jYXRjaChwKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpzP3A6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK3UrIiB0byAiK299fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6dH19eC5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4geC5nbG9iYWxFdmFsKGUpLGV9fX0pLHguYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXtlLmNhY2hlPT09dW5kZWZpbmVkJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSx4LmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oZSl7aWYoZS5jcm9zc0RvbWFpbil7dmFyIHQsbjtyZXR1cm57c2VuZDpmdW5jdGlvbihyLGkpe3Q9eCgiPHNjcmlwdD4iKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmUuc2NyaXB0Q2hhcnNldCxzcmM6ZS51cmx9KS5vbigibG9hZCBlcnJvciIsbj1mdW5jdGlvbihlKXt0LnJlbW92ZSgpLG49bnVsbCxlJiZpKCJlcnJvciI9PT1lLnR5cGU/NDA0OjIwMCxlLnR5cGUpfSksby5oZWFkLmFwcGVuZENoaWxkKHRbMF0pfSxhYm9ydDpmdW5jdGlvbigpe24mJm4oKX19fX0pO3ZhciBobj1bXSxkbj0vKD0pXD8oPz0mfCQpfFw/XD8vO3guYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1obi5wb3AoKXx8eC5leHBhbmRvKyJfIitZdCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSkseC5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbih0LG4scil7dmFyIGksbyxzLGE9dC5qc29ucCE9PSExJiYoZG4udGVzdCh0LnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiB0LmRhdGEmJiEodC5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZkbi50ZXN0KHQuZGF0YSkmJiJkYXRhIik7cmV0dXJuIGF8fCJqc29ucCI9PT10LmRhdGFUeXBlc1swXT8oaT10Lmpzb25wQ2FsbGJhY2s9eC5pc0Z1bmN0aW9uKHQuanNvbnBDYWxsYmFjayk/dC5qc29ucENhbGxiYWNrKCk6dC5qc29ucENhbGxiYWNrLGE/dFthXT10W2FdLnJlcGxhY2UoZG4sIiQxIitpKTp0Lmpzb25wIT09ITEmJih0LnVybCs9KFZ0LnRlc3QodC51cmwpPyImIjoiPyIpK3QuanNvbnArIj0iK2kpLHQuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBzfHx4LmVycm9yKGkrIiB3YXMgbm90IGNhbGxlZCIpLHNbMF19LHQuZGF0YVR5cGVzWzBdPSJqc29uIixvPWVbaV0sZVtpXT1mdW5jdGlvbigpe3M9YXJndW1lbnRzfSxyLmFsd2F5cyhmdW5jdGlvbigpe2VbaV09byx0W2ldJiYodC5qc29ucENhbGxiYWNrPW4uanNvbnBDYWxsYmFjayxobi5wdXNoKGkpKSxzJiZ4LmlzRnVuY3Rpb24obykmJm8oc1swXSkscz1vPXVuZGVmaW5lZH0pLCJzY3JpcHQiKTp1bmRlZmluZWR9KSx4LmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9fTt2YXIgZ249eC5hamF4U2V0dGluZ3MueGhyKCksbW49ezA6MjAwLDEyMjM6MjA0fSx5bj0wLHZuPXt9O2UuQWN0aXZlWE9iamVjdCYmeChlKS5vbigidW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB2bil2bltlXSgpO3ZuPXVuZGVmaW5lZH0pLHguc3VwcG9ydC5jb3JzPSEhZ24mJiJ3aXRoQ3JlZGVudGlhbHMiaW4gZ24seC5zdXBwb3J0LmFqYXg9Z249ISFnbix4LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHguc3VwcG9ydC5jb3JzfHxnbiYmIWUuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24obixyKXt2YXIgaSxvLHM9ZS54aHIoKTtpZihzLm9wZW4oZS50eXBlLGUudXJsLGUuYXN5bmMsZS51c2VybmFtZSxlLnBhc3N3b3JkKSxlLnhockZpZWxkcylmb3IoaSBpbiBlLnhockZpZWxkcylzW2ldPWUueGhyRmllbGRzW2ldO2UubWltZVR5cGUmJnMub3ZlcnJpZGVNaW1lVHlwZSYmcy5vdmVycmlkZU1pbWVUeXBlKGUubWltZVR5cGUpLGUuY3Jvc3NEb21haW58fG5bIlgtUmVxdWVzdGVkLVdpdGgiXXx8KG5bIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoaSBpbiBuKXMuc2V0UmVxdWVzdEhlYWRlcihpLG5baV0pO3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dCYmKGRlbGV0ZSB2bltvXSx0PXMub25sb2FkPXMub25lcnJvcj1udWxsLCJhYm9ydCI9PT1lP3MuYWJvcnQoKToiZXJyb3IiPT09ZT9yKHMuc3RhdHVzfHw0MDQscy5zdGF0dXNUZXh0KTpyKG1uW3Muc3RhdHVzXXx8cy5zdGF0dXMscy5zdGF0dXNUZXh0LCJzdHJpbmciPT10eXBlb2Ygcy5yZXNwb25zZVRleHQ/e3RleHQ6cy5yZXNwb25zZVRleHR9OnVuZGVmaW5lZCxzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxzLm9ubG9hZD10KCkscy5vbmVycm9yPXQoImVycm9yIiksdD12bltvPXluKytdPXQoImFib3J0Iikscy5zZW5kKGUuaGFzQ29udGVudCYmZS5kYXRhfHxudWxsKX0sYWJvcnQ6ZnVuY3Rpb24oKXt0JiZ0KCl9fTp1bmRlZmluZWR9KTt2YXIgeG4sYm4sd249L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFRuPVJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2IrIikoW2EteiVdKikkIiwiaSIpLENuPS9xdWV1ZUhvb2tzJC8sa249W0FuXSxObj17IioiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KSxyPW4uY3VyKCksaT1Ubi5leGVjKHQpLG89aSYmaVszXXx8KHguY3NzTnVtYmVyW2VdPyIiOiJweCIpLHM9KHguY3NzTnVtYmVyW2VdfHwicHgiIT09byYmK3IpJiZUbi5leGVjKHguY3NzKG4uZWxlbSxlKSksYT0xLHU9MjA7aWYocyYmc1szXSE9PW8pe289b3x8c1szXSxpPWl8fFtdLHM9K3J8fDE7ZG8gYT1hfHwiLjUiLHMvPWEseC5zdHlsZShuLmVsZW0sZSxzK28pO3doaWxlKGEhPT0oYT1uLmN1cigpL3IpJiYxIT09YSYmLS11KX1yZXR1cm4gaSYmKHM9bi5zdGFydD0rc3x8K3J8fDAsbi51bml0PW8sbi5lbmQ9aVsxXT9zKyhpWzFdKzEpKmlbMl06K2lbMl0pLG59XX07ZnVuY3Rpb24gRW4oKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3huPXVuZGVmaW5lZH0pLHhuPXgubm93KCl9ZnVuY3Rpb24gU24oZSx0LG4pe3ZhciByLGk9KE5uW3RdfHxbXSkuY29uY2F0KE5uWyIqIl0pLG89MCxzPWkubGVuZ3RoO2Zvcig7cz5vO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24gam4oZSx0LG4pe3ZhciByLGksbz0wLHM9a24ubGVuZ3RoLGE9eC5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoaSlyZXR1cm4hMTt2YXIgdD14bnx8RW4oKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxyPW4vbC5kdXJhdGlvbnx8MCxvPTEtcixzPTAsdT1sLnR3ZWVucy5sZW5ndGg7Zm9yKDt1PnM7cysrKWwudHdlZW5zW3NdLnJ1bihvKTtyZXR1cm4gYS5ub3RpZnlXaXRoKGUsW2wsbyxuXSksMT5vJiZ1P246KGEucmVzb2x2ZVdpdGgoZSxbbF0pLCExKX0sbD1hLnByb21pc2Uoe2VsZW06ZSxwcm9wczp4LmV4dGVuZCh7fSx0KSxvcHRzOnguZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6eG58fEVuKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj14LlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO3I+bjtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0P2EucmVzb2x2ZVdpdGgoZSxbbCx0XSk6YS5yZWplY3RXaXRoKGUsW2wsdF0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcihEbihjLGwub3B0cy5zcGVjaWFsRWFzaW5nKTtzPm87bysrKWlmKHI9a25bb10uY2FsbChsLGUsYyxsLm9wdHMpKXJldHVybiByO3JldHVybiB4Lm1hcChjLFNuLGwpLHguaXNGdW5jdGlvbihsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChlLGwpLHguZngudGltZXIoeC5leHRlbmQodSx7ZWxlbTplLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbC5wcm9ncmVzcyhsLm9wdHMucHJvZ3Jlc3MpLmRvbmUobC5vcHRzLmRvbmUsbC5vcHRzLmNvbXBsZXRlKS5mYWlsKGwub3B0cy5mYWlsKS5hbHdheXMobC5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gRG4oZSx0KXt2YXIgbixyLGksbyxzO2ZvcihuIGluIGUpaWYocj14LmNhbWVsQ2FzZShuKSxpPXRbcl0sbz1lW25dLHguaXNBcnJheShvKSYmKGk9b1sxXSxvPWVbbl09b1swXSksbiE9PXImJihlW3JdPW8sZGVsZXRlIGVbbl0pLHM9eC5jc3NIb29rc1tyXSxzJiYiZXhwYW5kImluIHMpe289cy5leHBhbmQobyksZGVsZXRlIGVbcl07Zm9yKG4gaW4gbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKX1lbHNlIHRbcl09aX14LkFuaW1hdGlvbj14LmV4dGVuZChqbix7dHdlZW5lcjpmdW5jdGlvbihlLHQpe3guaXNGdW5jdGlvbihlKT8odD1lLGU9WyIqIl0pOmU9ZS5zcGxpdCgiICIpO3ZhciBuLHI9MCxpPWUubGVuZ3RoO2Zvcig7aT5yO3IrKyluPWVbcl0sTm5bbl09Tm5bbl18fFtdLE5uW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/a24udW5zaGlmdChlKTprbi5wdXNoKGUpfX0pO2Z1bmN0aW9uIEFuKGUsdCxuKXt2YXIgcixpLG8scyxhLHUsbD10aGlzLGM9e30scD1lLnN0eWxlLGY9ZS5ub2RlVHlwZSYmTHQoZSksaD1xLmdldChlLCJmeHNob3ciKTtuLnF1ZXVlfHwoYT14Ll9xdWV1ZUhvb2tzKGUsImZ4IiksbnVsbD09YS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCx1PWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHx1KCl9KSxhLnVucXVldWVkKyssbC5hbHdheXMoZnVuY3Rpb24oKXtsLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSx4LnF1ZXVlKGUsImZ4IikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1lLm5vZGVUeXBlJiYoImhlaWdodCJpbiB0fHwid2lkdGgiaW4gdCkmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSwiaW5saW5lIj09PXguY3NzKGUsImRpc3BsYXkiKSYmIm5vbmUiPT09eC5jc3MoZSwiZmxvYXQiKSYmKHAuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG4ub3ZlcmZsb3cmJihwLm92ZXJmbG93PSJoaWRkZW4iLGwuYWx3YXlzKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKTtmb3IociBpbiB0KWlmKGk9dFtyXSx3bi5leGVjKGkpKXtpZihkZWxldGUgdFtyXSxvPW98fCJ0b2dnbGUiPT09aSxpPT09KGY/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWl8fCFofHxoW3JdPT09dW5kZWZpbmVkKWNvbnRpbnVlO2Y9ITB9Y1tyXT1oJiZoW3JdfHx4LnN0eWxlKGUscil9aWYoIXguaXNFbXB0eU9iamVjdChjKSl7aD8iaGlkZGVuImluIGgmJihmPWguaGlkZGVuKTpoPXEuYWNjZXNzKGUsImZ4c2hvdyIse30pLG8mJihoLmhpZGRlbj0hZiksZj94KGUpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXt4KGUpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciB0O3EucmVtb3ZlKGUsImZ4c2hvdyIpO2Zvcih0IGluIGMpeC5zdHlsZShlLHQsY1t0XSl9KTtmb3IociBpbiBjKXM9U24oZj9oW3JdOjAscixsKSxyIGluIGh8fChoW3JdPXMuc3RhcnQsZiYmKHMuZW5kPXMuc3RhcnQscy5zdGFydD0id2lkdGgiPT09cnx8ImhlaWdodCI9PT1yPzE6MCkpfX1mdW5jdGlvbiBMbihlLHQsbixyLGkpe3JldHVybiBuZXcgTG4ucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX14LlR3ZWVuPUxuLExuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TG4saW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8InN3aW5nIix0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KHguY3NzTnVtYmVyW25dPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1Mbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6TG4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49TG4ucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPXQ9dGhpcy5vcHRpb25zLmR1cmF0aW9uP3guZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6TG4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sTG4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlPUxuLnByb3RvdHlwZSxMbi5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PWUuZWxlbVtlLnByb3BdfHxlLmVsZW0uc3R5bGUmJm51bGwhPWUuZWxlbS5zdHlsZVtlLnByb3BdPyh0PXguY3NzKGUuZWxlbSxlLnByb3AsIiIpLHQmJiJhdXRvIiE9PXQ/dDowKTplLmVsZW1bZS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGUpe3guZnguc3RlcFtlLnByb3BdP3guZnguc3RlcFtlLnByb3BdKGUpOmUuZWxlbS5zdHlsZSYmKG51bGwhPWUuZWxlbS5zdHlsZVt4LmNzc1Byb3BzW2UucHJvcF1dfHx4LmNzc0hvb2tzW2UucHJvcF0pP3guc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpOmUuZWxlbVtlLnByb3BdPWUubm93fX19LExuLnByb3BIb29rcy5zY3JvbGxUb3A9TG4ucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0seC5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihlLHQpe3ZhciBuPXguZm5bdF07eC5mblt0XT1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKHFuKHQsITApLGUscixpKX19KSx4LmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihMdCkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxlLG4scil9LGFuaW1hdGU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9eC5pc0VtcHR5T2JqZWN0KGUpLG89eC5zcGVlZCh0LG4scikscz1mdW5jdGlvbigpe3ZhciB0PWpuKHRoaXMseC5leHRlbmQoe30sZSksbyk7KGl8fHEuZ2V0KHRoaXMsImZpbmlzaCIpKSYmdC5zdG9wKCEwKX07cmV0dXJuIHMuZmluaXNoPXMsaXx8by5xdWV1ZT09PSExP3RoaXMuZWFjaChzKTp0aGlzLnF1ZXVlKG8ucXVldWUscyl9LHN0b3A6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RvcDtkZWxldGUgZS5zdG9wLHQobil9O3JldHVybiJzdHJpbmciIT10eXBlb2YgZSYmKG49dCx0PWUsZT11bmRlZmluZWQpLHQmJmUhPT0hMSYmdGhpcy5xdWV1ZShlfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0hMCxpPW51bGwhPWUmJmUrInF1ZXVlSG9va3MiLG89eC50aW1lcnMscz1xLmdldCh0aGlzKTtpZihpKXNbaV0mJnNbaV0uc3RvcCYmcihzW2ldKTtlbHNlIGZvcihpIGluIHMpc1tpXSYmc1tpXS5zdG9wJiZDbi50ZXN0KGkpJiZyKHNbaV0pO2ZvcihpPW8ubGVuZ3RoO2ktLTspb1tpXS5lbGVtIT09dGhpc3x8bnVsbCE9ZSYmb1tpXS5xdWV1ZSE9PWV8fChvW2ldLmFuaW0uc3RvcChuKSx0PSExLG8uc3BsaWNlKGksMSkpOyh0fHwhbikmJnguZGVxdWV1ZSh0aGlzLGUpfSl9LGZpbmlzaDpmdW5jdGlvbihlKXtyZXR1cm4gZSE9PSExJiYoZT1lfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxuPXEuZ2V0KHRoaXMpLHI9bltlKyJxdWV1ZSJdLGk9bltlKyJxdWV1ZUhvb2tzIl0sbz14LnRpbWVycyxzPXI/ci5sZW5ndGg6MDtmb3Iobi5maW5pc2g9ITAseC5xdWV1ZSh0aGlzLGUsW10pLGkmJmkuc3RvcCYmaS5zdG9wLmNhbGwodGhpcywhMCksdD1vLmxlbmd0aDt0LS07KW9bdF0uZWxlbT09PXRoaXMmJm9bdF0ucXVldWU9PT1lJiYob1t0XS5hbmltLnN0b3AoITApLG8uc3BsaWNlKHQsMSkpO2Zvcih0PTA7cz50O3QrKylyW3RdJiZyW3RdLmZpbmlzaCYmclt0XS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgbi5maW5pc2h9KX19KTtmdW5jdGlvbiBxbihlLHQpe3ZhciBuLHI9e2hlaWdodDplfSxpPTA7Zm9yKHQ9dD8xOjA7ND5pO2krPTItdCluPWp0W2ldLHJbIm1hcmdpbiIrbl09clsicGFkZGluZyIrbl09ZTtyZXR1cm4gdCYmKHIub3BhY2l0eT1yLndpZHRoPWUpLHJ9eC5lYWNoKHtzbGlkZURvd246cW4oInNob3ciKSxzbGlkZVVwOnFuKCJoaWRlIiksc2xpZGVUb2dnbGU6cW4oInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsZSxuLHIpfX0pLHguc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT94LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fHguaXNGdW5jdGlvbihlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYheC5pc0Z1bmN0aW9uKHQpJiZ0fTtyZXR1cm4gci5kdXJhdGlvbj14LmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2Ygci5kdXJhdGlvbj9yLmR1cmF0aW9uOnIuZHVyYXRpb24gaW4geC5meC5zcGVlZHM/eC5meC5zcGVlZHNbci5kdXJhdGlvbl06eC5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PXIucXVldWV8fHIucXVldWU9PT0hMCkmJihyLnF1ZXVlPSJmeCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3guaXNGdW5jdGlvbihyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmeC5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LHguZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn19LHgudGltZXJzPVtdLHguZng9TG4ucHJvdG90eXBlLmluaXQseC5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD14LnRpbWVycyxuPTA7Zm9yKHhuPXgubm93KCk7dC5sZW5ndGg+bjtuKyspZT10W25dLGUoKXx8dFtuXSE9PWV8fHQuc3BsaWNlKG4tLSwxKTt0Lmxlbmd0aHx8eC5meC5zdG9wKCkseG49dW5kZWZpbmVkfSx4LmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2UoKSYmeC50aW1lcnMucHVzaChlKSYmeC5meC5zdGFydCgpfSx4LmZ4LmludGVydmFsPTEzLHguZnguc3RhcnQ9ZnVuY3Rpb24oKXtibnx8KGJuPXNldEludGVydmFsKHguZngudGljayx4LmZ4LmludGVydmFsKSl9LHguZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoYm4pLGJuPW51bGx9LHguZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHguZnguc3RlcD17fSx4LmV4cHImJnguZXhwci5maWx0ZXJzJiYoeC5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHguZ3JlcCh4LnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gZT09PXQuZWxlbX0pLmxlbmd0aH0pLHguZm4ub2Zmc2V0PWZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU9PT11bmRlZmluZWQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7eC5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciB0LG4saT10aGlzWzBdLG89e3RvcDowLGxlZnQ6MH0scz1pJiZpLm93bmVyRG9jdW1lbnQ7aWYocylyZXR1cm4gdD1zLmRvY3VtZW50RWxlbWVudCx4LmNvbnRhaW5zKHQsaSk/KHR5cGVvZiBpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PXImJihvPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLG49SG4ocykse3RvcDpvLnRvcCtuLnBhZ2VZT2Zmc2V0LXQuY2xpZW50VG9wLGxlZnQ6by5sZWZ0K24ucGFnZVhPZmZzZXQtdC5jbGllbnRMZWZ0fSk6b30seC5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYSx1LGwsYz14LmNzcyhlLCJwb3NpdGlvbiIpLHA9eChlKSxmPXt9OyJzdGF0aWMiPT09YyYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksYT1wLm9mZnNldCgpLG89eC5jc3MoZSwidG9wIiksdT14LmNzcyhlLCJsZWZ0IiksbD0oImFic29sdXRlIj09PWN8fCJmaXhlZCI9PT1jKSYmKG8rdSkuaW5kZXhPZigiYXV0byIpPi0xLGw/KHI9cC5wb3NpdGlvbigpLHM9ci50b3AsaT1yLmxlZnQpOihzPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSx4LmlzRnVuY3Rpb24odCkmJih0PXQuY2FsbChlLG4sYSkpLG51bGwhPXQudG9wJiYoZi50b3A9dC50b3AtYS50b3ArcyksbnVsbCE9dC5sZWZ0JiYoZi5sZWZ0PXQubGVmdC1hLmxlZnQraSksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUsZik6cC5jc3MoZil9fSx4LmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG49dGhpc1swXSxyPXt0b3A6MCxsZWZ0OjB9O3JldHVybiJmaXhlZCI9PT14LmNzcyhuLCJwb3NpdGlvbiIpP3Q9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooZT10aGlzLm9mZnNldFBhcmVudCgpLHQ9dGhpcy5vZmZzZXQoKSx4Lm5vZGVOYW1lKGVbMF0sImh0bWwiKXx8KHI9ZS5vZmZzZXQoKSksci50b3ArPXguY3NzKGVbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksci5sZWZ0Kz14LmNzcyhlWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDp0LnRvcC1yLnRvcC14LmNzcyhuLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1yLmxlZnQteC5jc3MobiwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxzO3doaWxlKGUmJiF4Lm5vZGVOYW1lKGUsImh0bWwiKSYmInN0YXRpYyI9PT14LmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHN9KX19KSx4LmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24odCxuKXt2YXIgcj0icGFnZVlPZmZzZXQiPT09bjt4LmZuW3RdPWZ1bmN0aW9uKGkpe3JldHVybiB4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHQsaSxvKXt2YXIgcz1Ibih0KTtyZXR1cm4gbz09PXVuZGVmaW5lZD9zP3Nbbl06dFtpXToocz9zLnNjcm9sbFRvKHI/ZS5wYWdlWE9mZnNldDpvLHI/bzplLnBhZ2VZT2Zmc2V0KTp0W2ldPW8sdW5kZWZpbmVkKX0sdCxpLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSk7ZnVuY3Rpb24gSG4oZSl7cmV0dXJuIHguaXNXaW5kb3coZSk/ZTo5PT09ZS5ub2RlVHlwZSYmZS5kZWZhdWx0Vmlld314LmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihlLHQpe3guZWFjaCh7cGFkZGluZzoiaW5uZXIiK2UsY29udGVudDp0LCIiOiJvdXRlciIrZX0sZnVuY3Rpb24obixyKXt4LmZuW3JdPWZ1bmN0aW9uKHIsaSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aCYmKG58fCJib29sZWFuIiE9dHlwZW9mIHIpLHM9bnx8KHI9PT0hMHx8aT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbih0LG4scil7dmFyIGk7cmV0dXJuIHguaXNXaW5kb3codCk/dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrZV06OT09PXQubm9kZVR5cGU/KGk9dC5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgodC5ib2R5WyJzY3JvbGwiK2VdLGlbInNjcm9sbCIrZV0sdC5ib2R5WyJvZmZzZXQiK2VdLGlbIm9mZnNldCIrZV0saVsiY2xpZW50IitlXSkpOnI9PT11bmRlZmluZWQ/eC5jc3ModCxuLHMpOnguc3R5bGUodCxuLHIscyl9LHQsbz9yOnVuZGVmaW5lZCxvLG51bGwpfX0pfSkseC5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSx4LmZuLmFuZFNlbGY9eC5mbi5hZGRCYWNrLCJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9eDoiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4geH0pLCJvYmplY3QiPT10eXBlb2YgZSYmIm9iamVjdCI9PXR5cGVvZiBlLmRvY3VtZW50JiYoZS5qUXVlcnk9ZS4kPXgpfSkod2luZG93KTsKICAgICAgICBsb2coJ1VzaW5nIGlubGluZSBqUXVlcnknKQogICAgfSBlbHNlIHsKICAgICAgICBsb2coJ1VzaW5nIEByZXF1aXJlIGpRdWVyeScpCiAgICB9CgogICAgLy8gR2VuZXJpYyBmdW5jdGlvbnMKCiAgICAvLyBBdm9pZHMgY29uZmxpY3RzIHdoZW4gdGhlIG1haW4gcGFnZSBpcyBhbHNvIHVzaW5nIGpRdWVyeSBvciBhbm90aGVyIGxpYnJhcnkgdXNpbmcgJyQnCiAgICAvLyB0aGlzLiQgPSB0aGlzLmpRdWVyeSA9IGpRdWVyeS5ub0NvbmZsaWN0KHRydWUpOwogICAgLy8gLS0+IEluc3RlYWQgSSB1c2UgQGdyYW50IEdNX2FkZFN0eWxlIHdoaWNoIHJlc3RvcmVzIHRoZSBzYW5kYm94IGFuZCB0aHVzIGF2b2lkIHVzIHRoaXMgdHJpY2sKICAgIAogICAgLy8gVGhpcyBqUXVlcnkgcGx1Z2luIHdpbGwgZ2F0aGVyIHRoZSBjb21tZW50cyB3aXRoaW4KICAgIC8vIHRoZSBjdXJyZW50IGpRdWVyeSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgYWxsIHRoZQogICAgLy8gY29tbWVudHMgaW4gYSBuZXcgalF1ZXJ5IGNvbGxlY3Rpb24uCiAgICAvLwogICAgLy8gTk9URTogQ29tbWVudHMgYXJlIHdyYXBwZWQgaW4gRElWIHRhZ3MuCgogICAgalF1ZXJ5LmZuLmNvbW1lbnRzID0gZnVuY3Rpb24gKGJsbkRlZXApIHsKICAgICAgICB2YXIgYmxuRGVlcCA9IChibG5EZWVwIHx8IGZhbHNlKTsKICAgICAgICB2YXIgakNvbW1lbnRzID0gJChbXSk7CgogICAgICAgIC8vIExvb3Agb3ZlciBlYWNoIG5vZGUgdG8gc2VhcmNoIGl0cyBjaGlsZHJlbiBmb3IKICAgICAgICAvLyBjb21tZW50IG5vZGVzIGFuZCBlbGVtZW50IG5vZGVzIChpZiBkZWVwIHNlYXJjaCkuCiAgICAgICAgdGhpcy5lYWNoKAogICAgICAgICAgICBmdW5jdGlvbiAoaW50SSwgb2JqTm9kZSkgewogICAgICAgICAgICAgICAgdmFyIG9iakNoaWxkTm9kZSA9IG9iak5vZGUuZmlyc3RDaGlsZDsKICAgICAgICAgICAgICAgIHZhciBzdHJQYXJlbnRJRCA9ICQodGhpcykuYXR0cigiaWQiKTsKCiAgICAgICAgICAgICAgICAvLyBLZWVwIGxvb3Bpbmcgb3ZlciB0aGUgdG9wLWxldmVsIGNoaWxkcmVuCiAgICAgICAgICAgICAgICAvLyB3aGlsZSB3ZSBoYXZlIGEgbm9kZSB0byBleGFtaW5lLgogICAgICAgICAgICAgICAgd2hpbGUgKG9iakNoaWxkTm9kZSkgewoKICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBub2RlIGlzIGEgY29tbWVudC4KICAgICAgICAgICAgICAgICAgICBpZiAob2JqQ2hpbGROb2RlLm5vZGVUeXBlID09PSA4KSB7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIGNvbW1lbnQgbm9kZS4gQWRkIGl0IHRvCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBub2RlcyBjb2xsZWN0aW9uIHdyYXBwZWQgaW4gYQogICAgICAgICAgICAgICAgICAgICAgICAvLyBESVYgKGFzIHdlIG1heSBoYXZlIEhUTUwpLgogICAgICAgICAgICAgICAgICAgICAgICBqQ29tbWVudHMgPSBqQ29tbWVudHMuYWRkKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIjxkaXYgcmVsPSciICsgc3RyUGFyZW50SUQgKyAiJz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iakNoaWxkTm9kZS5ub2RlVmFsdWUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIjwvZGl2PiIKICAgICAgICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgYmxuRGVlcCAmJgogICAgICAgICAgICAgICAgICAgICAgICAob2JqQ2hpbGROb2RlLm5vZGVUeXBlID09PSAxKQogICAgICAgICAgICAgICAgICAgICkgewoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhdmVyc2UgdGhpcyBub2RlIGRlZXBseS4KICAgICAgICAgICAgICAgICAgICAgICAgakNvbW1lbnRzID0gakNvbW1lbnRzLmFkZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQob2JqQ2hpbGROb2RlKS5jb21tZW50cyh0cnVlKQogICAgICAgICAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgc2libGluZy4KICAgICAgICAgICAgICAgICAgICBvYmpDaGlsZE5vZGUgPSBvYmpDaGlsZE5vZGUubmV4dFNpYmxpbmc7CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgICk7CgogICAgICAgIC8vIFJldHVybiB0aGUgalF1ZXJ5IGNvbW1lbnRzIGNvbGxlY3Rpb24uCiAgICAgICAgcmV0dXJuIChqQ29tbWVudHMpOwogICAgfQoKICAgIC8vIFRlc3RzIGlmIGEgc3RyaW5nIGlzIHBhcnQgb2YgYW5vdGhlciBvbmUuCiAgICBTdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHRlc3RTdHJpbmcpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHRlc3RTdHJpbmcpICE9IC0xCiAgICB9CgogICAgLy8gQWxsb3dzIHRvIHJlbW92ZSBhIHN1YnN0cmluZyBmcm9tIGEgc3RyaW5nIGV2ZW4gd2hlbiBwcmVzZW50IG11bHRpcGxlIHRpbWVzCiAgICBTdHJpbmcucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICh0ZXN0U3RyaW5nKSB7CiAgICAgICAgdmFyIHJldFN0cmluZyA9IHRoaXM7CiAgICAgICAgd2hpbGUgKChjdXJySW5kZXggPSByZXRTdHJpbmcuaW5kZXhPZih0ZXN0U3RyaW5nKSkgIT0gLTEpIHsKICAgICAgICAgICAgcmV0U3RyaW5nID0gcmV0U3RyaW5nLnJlbW92ZU9uY2UodGVzdFN0cmluZyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXRTdHJpbmcKICAgIH0KCiAgICAvLyBBbGxvd3MgdG8gcmVtb3ZlIGEgc3Vic3RyaW5nIGZyb20gYSBzdHJpbmcgb25lIHRpbWUuCiAgICBTdHJpbmcucHJvdG90eXBlLnJlbW92ZU9uY2UgPSBmdW5jdGlvbiAodGVzdFN0cmluZykgewogICAgICAgIHZhciBjdXJySW5kZXggPSB0aGlzLmluZGV4T2YodGVzdFN0cmluZykKICAgICAgICBpZiAoY3VyckluZGV4ICE9IC0xKSByZXR1cm4gdGhpcy5zdWJzdHJpbmcoMCwgY3VyckluZGV4KSArIHRoaXMuc3Vic3RyaW5nKGN1cnJJbmRleCArIHRlc3RTdHJpbmcubGVuZ3RoKQogICAgICAgIHJldHVybiB0aGlzCiAgICB9CgogICAgLy8gR2VuZXJpYyBsb2cgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGxvZyhzdHJpbmcpIHsKICAgICAgICBpZiAob19kZWJ1ZykgY29uc29sZS5sb2coc3RyaW5nKQogICAgfQoKICAgIC8vIENoZWNrIGlmIGEgSlFvYmplY3QgaXMgdmFsaWQKICAgIGZ1bmN0aW9uIGV4aXN0cyhKUW9iamVjdCkgewogICAgICAgIHJldHVybiAoSlFvYmplY3QubGVuZ3RoICE9IDApCiAgICB9CgogICAgLy8gQ2hlY2sgaWYgYW4gaW5wdXQgY2hlY2tib3ggaXMgY2hlY2tlZAogICAgZnVuY3Rpb24gaXNDaGVja2VkKEpRb2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIEpRb2JqZWN0LnByb3AoImNoZWNrZWQiKQogICAgfQoKICAgIC8vIFVuY2hlY2sgYW4gaW5wdXQgY2hlY2tib3gKICAgIGZ1bmN0aW9uIHVuY2hlY2soSlFvYmplY3QpIHsKICAgICAgICBpZiAoIWV4aXN0cyhKUW9iamVjdCkpIHJldHVybiBmYWxzZQogICAgICAgIGlmIChpc0NoZWNrZWQoSlFvYmplY3QpKSBKUW9iamVjdC5jbGljaygpCiAgICAgICAgLy8gVGhlIG9iamVjdCBleGlzdHMsIHdlIGhhdmUgdW5jaGVja2VkIGl0IGlmIGl0IHdhcyBjaGVja2VkCiAgICAgICAgcmV0dXJuIHRydWUKICAgIH0KCiAgICAvLyBIaWRlIGFuIGVsZW1lbnQgKGRvZXNuJ3QgZGVsZXRlIGl0KQogICAgZnVuY3Rpb24gaGlkZShKUW9iamVjdCkgewogICAgICAgIGlmICghZXhpc3RzKEpRb2JqZWN0KSkgcmV0dXJuIGZhbHNlCiAgICAgICAgSlFvYmplY3QuYXR0cigic3R5bGUiLCAiZGlzcGxheSA6IG5vbmUgIWltcG9ydGFudCIpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIH0KCiAgICAvLyBGb3JjZSBhbiBlbGVtZW50IHRvIHNob3cKICAgIGZ1bmN0aW9uIHNob3coSlFvYmplY3QpIHsKICAgICAgICBpZiAoIWV4aXN0cyhKUW9iamVjdCkpIHJldHVybiBmYWxzZQoKICAgICAgICAvLyBGSVhNRTogYXZvaWQgdG8gYmxpbmRseSBzZXQgdGhlIGRpc3BsYXkgdG8gYmxvY2sgKGNhbiBiZSBpbmxpbmUgdG9vKQogICAgICAgIEpRb2JqZWN0LmF0dHIoInN0eWxlIiwgImRpc3BsYXkgOiBibG9jayAhaW1wb3J0YW50IikKICAgICAgICByZXR1cm4gdHJ1ZQogICAgfQoKICAgIGZvciAodmFyIGkgaW4gYWR3YXJlUnVsZXMpIHsKICAgICAgICAvLyBDcmVhdGUgYSBSZWdFeHAgdG8gdGVzdCBpZiB3ZSBhcmUgb24gdGhpcyBkb21haW4KICAgICAgICB2YXIgdGVzdEhvc3RzID0gbmV3IFJlZ0V4cChhZHdhcmVSdWxlc1tpXS5ob3N0LmpvaW4oJ3wnKSwgJ2knKQogICAgICAgIC8vIElmIHdlIGFyZSBvbiBvbmUgb2YgdGhlIGRvbWFpbnMKICAgICAgICBpZiAodGVzdEhvc3RzLnRlc3QoZG9jdW1lbnQuZG9tYWluKSkgewogICAgICAgICAgICB2YXIgY3VyclJ1bGUgPSBhZHdhcmVSdWxlc1tpXQogICAgICAgICAgICBicmVhawogICAgICAgIH0KICAgIH0KCiAgICBpZiAodHlwZW9mIGN1cnJSdWxlID09ICJ1bmRlZmluZWQiKSByZXR1cm4KCiAgICB2YXIgYXBwbHlSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2coJ1RyeWluZyB0byBleGVjdXRlIGN1c3RvbSBmdW5jdGlvbjogJyArIGN1cnJSdWxlLmV4ZWMpCiAgICAgICAgaWYgKGN1cnJSdWxlLmV4ZWMgIT0gdW5kZWZpbmVkKSBjdXJyUnVsZS5leGVjKCk7CiAgICAgICAgbG9nKCJJdGVyYXRpbmcgdGhyb3VnaCB1bmNoZWNrcyIpCgogICAgICAgIC8vIElmIHRoZXJlIGlzIHNvbWV0aGluZyB0byB1bmNoZWNrCiAgICAgICAgaWYgKGN1cnJSdWxlLnVuY2hlY2sgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIC8vIEl0ZXJhdGUgZWFjaCBjaGVja2JveCB0byB1bmNoZWNrIGl0CiAgICAgICAgICAgICQuZWFjaChjdXJyUnVsZS51bmNoZWNrLCBmdW5jdGlvbiAoa2V5LCBjdXJyVW5jaGVjaykgewogICAgICAgICAgICAgICAgbG9nKCJUcnlpbmcgdG8gdW5jaGVjayBbIiArIGtleSArICddJyArIGN1cnJVbmNoZWNrKQogICAgICAgICAgICAgICAgLy8gQ29uc3RhbnRseSB0cnlpbmcgdG8gdW5jaGVjayB0aGUgY2hlY2tib3gKICAgICAgICAgICAgICAgIGlmIChjdXJyUnVsZS5vcHR1bmNoZWNrICE9IHVuZGVmaW5lZCAmJiBjdXJyUnVsZS5vcHR1bmNoZWNrLmNvbnN0YW50Y2hlY2sgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIHVuY2hlY2soJChjdXJyVW5jaGVjaykpCiAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmlvZGljSGlkZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5jaGVjayBpdAogICAgICAgICAgICAgICAgICAgICAgICB1bmNoZWNrKCQoY3VyclVuY2hlY2spKQogICAgICAgICAgICAgICAgICAgIH0sIDEwMCkKICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVuY2hlY2tpbmcgaXQgb25jZQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hlY2tib3ggd2FzIHN1Y2Nlc3NmdWxseSB1bmNoZWNrZWQKICAgICAgICAgICAgICAgICAgICBpZiAodW5jaGVjaygkKGN1cnJVbmNoZWNrKSkpIHJldHVybgogICAgICAgICAgICAgICAgICAgIGxvZygiQ291bGRuJ3QgdW5jaGVjayB0aGUgY2hlY2tib3giKQogICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byB1bmNoZWNrIGl0IGxhdGVyCiAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmlvZGljVW5jaGVjayA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVuY2hlY2sgc3VjY2VlZGVkIHRoaXMgdGltZSwgd2Ugc3RvcCB0aGUgdW5jaGVja2luZwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodW5jaGVjaygkKGN1cnJVbmNoZWNrKSkpIGNsZWFySW50ZXJ2YWwocGVyaW9kaWNVbmNoZWNrKQogICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlIGNvbnRpbnVlIHRvIGNoZWNrCiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgc29tZXRoaW5nIHRvIGhpZGUKICAgICAgICBpZiAoY3VyclJ1bGUuaGlkZSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgLy8gSXRlcmF0ZSBlYWNoIGhpZGUgdG8gaGlkZSBpdAogICAgICAgICAgICAkLmVhY2goY3VyclJ1bGUuaGlkZSwgZnVuY3Rpb24gKGtleSwgY3VyckhpZGUpIHsKICAgICAgICAgICAgICAgIGxvZygiVHJ5aW5nIHRvIGhpZGUgIiArIGN1cnJIaWRlKQogICAgICAgICAgICAgICAgLy8gSWYgd2UgdHJ5IHRvIGNvbnRpbnVlIGhpZGluZyBpdCBldmVuIGlmIHRoZSBoaWRpbmcgd2FzIGFscmVhZHkgc3VjY2Vzc2Z1bAogICAgICAgICAgICAgICAgaWYgKGN1cnJSdWxlLm9wdGhpZGUgIT0gdW5kZWZpbmVkICYmIGN1cnJSdWxlLm9wdGhpZGUuY29uc3RhbnRjaGVjayA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgaGlkZSgkKGN1cnJIaWRlKSkKICAgICAgICAgICAgICAgICAgICB2YXIgcGVyaW9kaWNIaWRlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIGl0CiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGUoJChjdXJySGlkZSkpCiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKQogICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgaXQgb25jZSwgdGhlbiBzdG9wIHRyeWluZyB0byBoaWRlIGl0ICh1c3VhbCBjYXNlLCBpdCBzdGF5cyBoaWRkZW4pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3QgdG8gaGlkZSB3YXMgaGlkZGVuCiAgICAgICAgICAgICAgICAgICAgaWYgKGhpZGUoJChjdXJySGlkZSkpKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gaGlkZSBpdCBsYXRlcgogICAgICAgICAgICAgICAgICAgIHZhciBwZXJpb2RpY0hpZGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBoaWRlIHN1Y2NlZWRlZCB0aGlzIHRpbWUsIHdlIHN0b3AgdG8gdHJ5IGhpZGluZyBpdAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZSgkKGN1cnJIaWRlKSkpIGNsZWFySW50ZXJ2YWwocGVyaW9kaWNIaWRlKQogICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlIGNvbnRpbnVlIHRvIHRyeSBoaWRpbmcgaXQgICAgICAKICAgICAgICAgICAgICAgICAgICB9LCAxMDApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgICAgICAvLyBJZiB0aGVyZSBpcyBzb21ldGhpbmcgdG8gc2hvdwogICAgICAgIGlmIChjdXJyUnVsZS5zaG93ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvLyBJdGVyYXRlIGVhY2ggc2hvdyB0byBzaG93IGl0CiAgICAgICAgICAgICQuZWFjaChjdXJyUnVsZS5zaG93LCBmdW5jdGlvbiAoa2V5LCBjdXJyU2hvdykgewogICAgICAgICAgICAgICAgbG9nKCJUcnlpbmcgdG8gc2hvdyAiICsgY3VyclNob3cpCgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCB0byBzaG93IHdhcyBzdWNjZXNzZnVsbHkgc2hvd24KICAgICAgICAgICAgICAgIGlmIChzaG93KCQoY3VyclNob3cpKSkgcmV0dXJuCgogICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHNob3cgaXQgbGF0ZXIKICAgICAgICAgICAgICAgIHZhciBwZXJpb2RpY1Nob3cgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvdygkKGN1cnJTaG93KSkKICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2hvdyBzdWNjZWVkZWQgdGhpcyB0aW1lLCB3ZSBzdG9wIHRvIHRyeSBzaG93aW5nIGl0CiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3coJChjdXJyU2hvdykpKSBjbGVhckludGVydmFsKHBlcmlvZGljU2hvdykKICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlIGNvbnRpbnVlIHRvIHRyeSBzaG93aW5nIGl0ICAgICAgCiAgICAgICAgICAgICAgICB9LCAxMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQogICAgCiAgICAvLyBHb29nbGUgQ2hyb21lIHRyaWNrOiBzb21ldGltZXMgdGhlIHNjcmlwdCBpcyBleGVjdXRlZCBhZnRlciB0aGF0IERPTUNvbnRlbnRMb2FkZWQgd2FzIHRyaWdnZXJlZCwgaW4gdGhpcyBjYXNlIHdlIGRpcmVjdGx5IHJ1biBvdXIgY29kZQogICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gImNvbXBsZXRlIikgewogICAgICAgIGFwcGx5UnVsZXMoKQogICAgICAgIGxvZygiRGlyZWN0bHkgYXBwbHlpbmcgcnVsZXMiKQogICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGFwcGx5UnVsZXMpCiAgICAgICAgbG9nKCJXYWl0aW5nIGZvciBET01Db250ZW50TG9hZGVkIHRvIGFwcGx5IHJ1bGVzIikKICAgIH0KfSgpCg=="},{"name":"Download YouTube Videos as MP4","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://www.youtube.com/embed/*","https://www.youtube.com/embed/*"],"orig_includes":["http://www.youtube.com/*","https://www.youtube.com/*"],"orig_matches":["http://www.youtube.com/*","https://www.youtube.com/*","http://s.ytimg.com/yts/jsbin/*","https://s.ytimg.com/yts/jsbin/*","http://manifest.googlevideo.com/*","https://manifest.googlevideo.com/*","http://*.googlevideo.com/videoplayback*","https://*.googlevideo.com/videoplayback*","http://*.youtube.com/videoplayback*","https://*.youtube.com/videoplayback*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"download-youtube-dash-enabled":"s0","download-youtube-script-url":"shttps://www.youtube.com/yts/jsbin/player-vflZ_L_3c/zh_CN/base.js","download-youtube-signature-code":"s-1,0,24,-3,0,54,-1"},"ts":1503129970064},"enabled":true,"position":13,"file_url":"https://greasyfork.org/scripts/1317-download-youtube-videos-as-mp4/code/Download%20YouTube%20Videos%20as%20MP4.user.js","uuid":"6c9f2d40-9259-49ab-b82f-5faf36f2dec4","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgRG93bmxvYWQgWW91VHViZSBWaWRlb3MgYXMgTVA0Ci8vIEBkZXNjcmlwdGlvbiBBZGRzIGEgYnV0dG9uIHRoYXQgbGV0cyB5b3UgZG93bmxvYWQgWW91VHViZSB2aWRlb3MuCi8vIEBob21lcGFnZVVSTCBodHRwczovL2dpdGh1Yi5jb20vZ2FudHQvZG93bmxvYWR5b3V0dWJlCi8vIEBhdXRob3IgR2FudHQKLy8gQHZlcnNpb24gMS44LjEwCi8vIEBkYXRlIDIwMTctMDItMTMKLy8gQG5hbWVzcGFjZSBodHRwOi8vZ29vZ2xlc3lzdGVtLmJsb2dzcG90LmNvbQovLyBAaW5jbHVkZSBodHRwOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly93d3cueW91dHViZS5jb20vKgovLyBAZXhjbHVkZSBodHRwOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyoKLy8gQGV4Y2x1ZGUgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvKgovLyBAbWF0Y2ggaHR0cDovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCBodHRwczovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCBodHRwOi8vcy55dGltZy5jb20veXRzL2pzYmluLyoKLy8gQG1hdGNoIGh0dHBzOi8vcy55dGltZy5jb20veXRzL2pzYmluLyoKLy8gQG1hdGNoIGh0dHA6Ly9tYW5pZmVzdC5nb29nbGV2aWRlby5jb20vKgovLyBAbWF0Y2ggaHR0cHM6Ly9tYW5pZmVzdC5nb29nbGV2aWRlby5jb20vKgovLyBAbWF0Y2ggaHR0cDovLyouZ29vZ2xldmlkZW8uY29tL3ZpZGVvcGxheWJhY2sqCi8vIEBtYXRjaCBodHRwczovLyouZ29vZ2xldmlkZW8uY29tL3ZpZGVvcGxheWJhY2sqCi8vIEBtYXRjaCBodHRwOi8vKi55b3V0dWJlLmNvbS92aWRlb3BsYXliYWNrKgovLyBAbWF0Y2ggaHR0cHM6Ly8qLnlvdXR1YmUuY29tL3ZpZGVvcGxheWJhY2sqCi8vIEBjb25uZWN0IGdvb2dsZXZpZGVvLmNvbQovLyBAY29ubmVjdCB5dGltZy5jb20KLy8gQGdyYW50IEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgR01fc2V0VmFsdWUKLy8gQHJ1bi1hdCBkb2N1bWVudC1lbmQKLy8gQGxpY2Vuc2UgTUlUIExpY2Vuc2UKLy8gQGljb24gZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FNQUFBQ2R0NEhzQUFBQUIzUkpUVVVIMndNT0NnSW9HVVlFQVFBQUFBbHdTRmx6QUFBTEVnQUFDeElCMHQxKy9BQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBR1NVRXhVUmZpL0pPL3Y3OTdlM3NiR3hxMnRyYVdscFpTVWxKeWNuTmJXMW95RWhJUmFXb3c1T1pRaElad1lHS1VRRUtVSUNLMElDSlF4TVl4S1NveHpjNHg3ZTRSQ1FwUVlHS1VBQUswQUFMVUFBTDBBQUswUUVJeHJhNVFwS2EwWUdJeFNVc1lBQUtVaElaUjdlODdPenIwSUNKUlNVcjI5dll4alk2VTVPYVVwS2EwaEliMjF0WndBQUxVSUNPL096dS9HeHFVeE1aU0VoTFVZR08vVzFyMFlHS1ZDUXBRUUVMMHBLZmZlM3ZmVzFweHJhNVE1T2NaQ1F2Zm41ODVDUXIydHJaeDdlOFpTVXM1U1VxMDVPYzVqWTlaalk4NEFBS1dNak01emM5NTdlNjBwS2RhTWpPZWxwYldjbkxXVWxMVkNRc1lZR01ZSUNOYk96cFFJQ01ZaEliVjdlNXhhV3Q2Y25QZnY3OWJHeHQ2bHBlKzl2YzVLU3M2bHBiMHhNYzZFaE02OXZiVXhNYlVoSWIxYVdzNjF0Y1phV3VlY25NWXhNYjFLU3Naalk5NlVsTmExdGQ3VzFyMTdlOWE5dlp3UUVONnRyYjFqWThZUUVOWnJhK2ZPenIxemM4NWFXdWZlM3Q2TWpNWTVPZFphV3Q2MXRkWjdlKy9uNStlOXZjNk1qTVpyYSsvZTN1ZTF0ZGFscGQ3R3hyVXBLYWxMNGFBQUFBQUJkRkpPVXdCQTV0aG1BQUFDeGtsRVFWUjQydVhYLzEvU1FCZ0g4TnVBb0VRMmlqZ2JCaXZKTHpuQkFpVVVLaXlKU2dPVkFrMHRLWkt3NzVtUlJ0Lzd2NE1CWThlempXMzlWczh2OHJxSHovdTFqYnZiaWRDL1hMOEttY3BPcVZUNm5Talhqb29HdzhXZkZkK1FXR2ZFNG9MYnRicisrUGRNT3kwQkRZTGpFai8weGV2ZldJeVZBSTdiL2FJai85V0hzUnJBOFlmOWJxU2V4VmdENExpYzlrV0UvTGdQd1BHZk5mSkhETzRQOEl1cStTMk05UUQ4b1VwK254RUFjRkN0ZmdJQS8xNHgvOUVsQUtEUWJOUUF3TjlWQWlZRUFCeTBPZ3NBV0FuQi9BY0JBdFZXYXdrQWZKNENEMEJRQURaYXZZY1FnSTloM0NDUWpwRDVQY0Vnd0crU3dMUmhJTDB2ejc4U2pBUEVVM2hySE9EZnlYNEk2clVKSVAwRzNvRXhvTndGWHBvQitId1htREVGcEY5SXdLQTVZSytUcDlmTUFkVU9zQzZZQTU1M2dLY21nZFRmQWhWMW9NUXFBRG5kUURtSjBBWkxBc0ZuQ0lWM1ZZREhKTEFqRGtaS2NpQWFGei9sQ2VCSkIxZ2xnWEJyTkxuZEJXTEo5dVpHQUkra2VUQkxBTkw4U25XQXpXUm5pQUMycEcrNmxRRjBoZmpUcUNJQnJFdmpEd2lnZ0ZTTHVJVW9MWTB2RXdBYlVjc25jL0xsbk8wMkhHdkV6K2hYRWVKNVlqKzRMMnZOa3hPSkRTbmxRemxpSXEyc3lucjNlbWJpVUJqbXcwRnlVODNLWDA0T2IrOWFBSy9QcGQ1ZGVabG96NEhGbENIenQzc1gweDJhNkxjdlFiNGFiOHI3aStEVmRxdm5DcS9ENVp6cWRoZkFjcjVCOXdEMFBOd1BFdTBabkx3SzlvUGdOZkNRSjJmaGhoSVRKM0U4QmplVU9YQStRTlFsQmg1eExqZW1WQ2dLanpnek5JSkZqV0Y0eUpvS2hhZmdJV3Q2VkhHbWpnUjBIdk11VGlwUGRXUUo2QUltYkJSU0U4YVkvc0M0ZXI1eEZ4NXZIeUI0WVJScEZXVWYwQUw0YytkSGtIWlJGbzlURGVCOUFhM0xsd2pyOEZsRndCK3dPL3JIbTBWYlBhZTltUGluaS9PNWgvWEd4YXR3Mkk2ZkdIQU91aGlHWlZ4Tzk4bFRkZ3V0UDk0eWFJdlZkcXhaZHB2RllUVDlYOVVmcVFRbFRYbG04d2tBQUFBQVNVVk9SSzVDWUlJPQovLyA9PS9Vc2VyU2NyaXB0PT0KCgooZnVuY3Rpb24gKCkgewogIHZhciBGT1JNQVRfTEFCRUw9eycxOCc6J01QNCAzNjBwJywnMjInOidNUDQgNzIwcCcsJzQzJzonV2ViTSAzNjBwJywnNDQnOidXZWJNIDQ4MHAnLCc0NSc6J1dlYk0gNzIwcCcsJzQ2JzonV2ViTSAxMDgwcCcsJzEzNSc6J01QNCA0ODBwIC0gbm8gYXVkaW8nLCcxMzcnOidNUDQgMTA4MHAgLSBubyBhdWRpbycsJzEzOCc6J01QNCAyMTYwcCAtIG5vIGF1ZGlvJywnMTQwJzonTTRBIDEyOGticHMgLSBhdWRpbycsJzI2NCc6J01QNCAxNDQwcCAtIG5vIGF1ZGlvJywnMjY2JzonTVA0IDIxNjBwIC0gbm8gYXVkaW8nLCcyOTgnOidNUDQgNzIwcDYwIC0gbm8gYXVkaW8nLCcyOTknOidNUDQgMTA4MHA2MCAtIG5vIGF1ZGlvJ307CiAgdmFyIEZPUk1BVF9UWVBFPXsnMTgnOidtcDQnLCcyMic6J21wNCcsJzQzJzond2VibScsJzQ0Jzond2VibScsJzQ1Jzond2VibScsJzQ2Jzond2VibScsJzEzNSc6J21wNCcsJzEzNyc6J21wNCcsJzEzOCc6J21wNCcsJzE0MCc6J200YScsJzI2NCc6J21wNCcsJzI2Nic6J21wNCcsJzI5OCc6J21wNCcsJzI5OSc6J21wNCd9OwogIHZhciBGT1JNQVRfT1JERVI9WycxOCcsJzQzJywnMTM1JywnNDQnLCcyMicsJzI5OCcsJzQ1JywnMTM3JywnMjk5JywnNDYnLCcyNjQnLCcxMzgnLCcyNjYnLCcxNDAnXTsKICB2YXIgRk9STUFUX1JVTEU9eydtcDQnOidhbGwnLCd3ZWJtJzonbm9uZScsJ200YSc6J2FsbCd9OwogIC8vIGFsbD1kaXNwbGF5IGFsbCB2ZXJzaW9ucywgbWF4PW9ubHkgaGlnaGVzdCBxdWFsaXR5IHZlcnNpb24sIG5vbmU9bm8gdmVyc2lvbiAgCiAgLy8gdGhlIGRlZmF1bHQgc2V0dGluZ3Mgc2hvdyBhbGwgTVA0IHZpZGVvcwogIHZhciBTSE9XX0RBU0hfRk9STUFUUz1mYWxzZTsKICB2YXIgQlVUVE9OX1RFWFQ9eydhcic6J9iq2YbYstmK2YQnLCdjcyc6J1N0w6Fobm91dCcsJ2RlJzonSGVydW50ZXJsYWRlbicsJ2VuJzonRG93bmxvYWQnLCdlcyc6J0Rlc2NhcmdhcicsJ2ZyJzonVMOpbMOpY2hhcmdlcicsJ2hpJzon4KSh4KS+4KSJ4KSo4KSy4KWL4KShJywnaHUnOidMZXTDtmx0w6lzJywnaWQnOidVbmR1aCcsJ2l0JzonU2NhcmljYScsJ2phJzon44OA44Km44Oz44Ot44O844OJJywna28nOifrgrTroKTrsJvquLAnLCdwbCc6J1BvYmllcnonLCdwdCc6J0JhaXhhcicsJ3JvJzonRGVzY8SDcmNhyJtpJywncnUnOifQodC60LDRh9Cw0YLRjCcsJ3RyJzonxLBuZGlyJywnemgnOifkuIvovb0nLCd6aC1UVyc6J+S4i+i8iSd9OwogIHZhciBCVVRUT05fVE9PTFRJUD17J2FyJzon2KrZhtiy2YrZhCDZh9iw2Kcg2KfZhNmB2YrYr9mK2YgnLCdjcyc6J1N0w6Fobm91dCB0b3RvIHZpZGVvJywnZGUnOidEaWVzZXMgVmlkZW8gaGVydW50ZXJsYWRlbicsJ2VuJzonRG93bmxvYWQgdGhpcyB2aWRlbycsJ2VzJzonRGVzY2FyZ2FyIGVzdGUgdsOtZGVvJywnZnInOidUw6lsw6ljaGFyZ2VyIGNldHRlIHZpZMOpbycsJ2hpJzon4KS14KWA4KSh4KS/4KSv4KWLIOCkoeCkvuCkieCkqOCksuCli+CkoSDgpJXgpLDgpYfgpIInLCdodSc6J1ZpZGXDsyBsZXTDtmx0w6lzZScsJ2lkJzonVW5kdWggdmlkZW8gaW5pJywnaXQnOidTY2FyaWNhIHF1ZXN0byB2aWRlbycsJ2phJzon44GT44Gu44OT44OH44Kq44KS44OA44Km44Oz44Ot44O844OJ44GZ44KLJywna28nOifsnbQg67mE65SU7Jik66W8IOuCtOugpOuwm+q4sCcsJ3BsJzonUG9iaWVyeiBwbGlrIHdpZGVvJywncHQnOidCYWl4YXIgZXN0ZSB2w61kZW8nLCdybyc6J0Rlc2PEg3JjYcibaSBhY2VzdCB2aWRlb2NsaXAnLCdydSc6J9Ch0LrQsNGH0LDRgtGMINGN0YLQviDQstC40LTQtdC+JywndHInOiAnQnUgdmlkZW95dSBpbmRpcicsJ3poJzon5LiL6L295q2k6KeG6aKRJywnemgtVFcnOifkuIvovInmraTlvbHniYcnfTsKICB2YXIgREVDT0RFX1JVTEU9W107CiAgdmFyIFJBTkRPTT03NDg5MjM1MTc5OyAvLyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTIzNDU2Nzg5MCk7CiAgdmFyIENPTlRBSU5FUl9JRD0nZG93bmxvYWQteW91dHViZS12aWRlbycrUkFORE9NOwogIHZhciBMSVNUSVRFTV9JRD0nZG93bmxvYWQteW91dHViZS12aWRlby1mbXQnK1JBTkRPTTsKICB2YXIgQlVUVE9OX0lEPSdkb3dubG9hZC15b3V0dWJlLXZpZGVvLWJ1dHRvbicrUkFORE9NOwogIHZhciBERUJVR19JRD0nZG93bmxvYWQteW91dHViZS12aWRlby1kZWJ1Zy1pbmZvJzsKICB2YXIgU1RPUkFHRV9VUkw9J2Rvd25sb2FkLXlvdXR1YmUtc2NyaXB0LXVybCc7CiAgdmFyIFNUT1JBR0VfQ09ERT0nZG93bmxvYWQteW91dHViZS1zaWduYXR1cmUtY29kZSc7CiAgdmFyIFNUT1JBR0VfREFTSD0nZG93bmxvYWQteW91dHViZS1kYXNoLWVuYWJsZWQnOwogIHZhciBpc0RlY29kZVJ1bGVVcGRhdGVkPWZhbHNlOyAgCiAgICAKICBzdGFydCgpOwogICAgICAgICAgCmZ1bmN0aW9uIHN0YXJ0KCkgewogIHZhciBwYWdlY29udGFpbmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWNvbnRhaW5lcicpOwogIGlmICghcGFnZWNvbnRhaW5lcikgcmV0dXJuOwogIGlmICgvXmh0dHBzPzpcL1wvd3d3XC55b3V0dWJlLmNvbVwvd2F0Y2hcPy8udGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpIHJ1bigpOyAgICAgICAKICB2YXIgaXNBamF4PS9jbGFzc1tcd1xzIictPV0rc3BmXC1saW5rLy50ZXN0KHBhZ2Vjb250YWluZXIuaW5uZXJIVE1MKTsKICB2YXIgbG9nb2NvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nby1jb250YWluZXInKTsgIAogIGlmIChsb2dvY29udGFpbmVyICYmICFpc0FqYXgpIHsgLy8gZml4IGZvciBibG9ja2VkIHZpZGVvcwogICAgaXNBamF4PSgnICcrbG9nb2NvbnRhaW5lci5jbGFzc05hbWUrJyAnKS5pbmRleE9mKCcgc3BmLWxpbmsgJyk+PTA7CiAgfQogIHZhciBjb250ZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7CiAgaWYgKGlzQWpheCAmJiBjb250ZW50KSB7IC8vIEFqYXggVUkKICAgICAgdmFyIG1vPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjsKICAgICAgaWYodHlwZW9mIG1vIT09J3VuZGVmaW5lZCcpIHsKICAgICAgICB2YXIgb2JzZXJ2ZXI9bmV3IG1vKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHsKICAgICAgICAgICAgICBpZihtdXRhdGlvbi5hZGRlZE5vZGVzIT09bnVsbCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24uYWRkZWROb2Rlc1tpXS5pZD09J3dhdGNoNy1tYWluLWNvbnRhaW5lcicpIHsgLy8gfHwgaWQ9PSd3YXRjaDctY29udGFpbmVyJwogICAgICAgICAgICAgICAgICAgICAgcnVuKCk7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjb250ZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7IC8vIG9sZCB2YWx1ZTogcGFnZWNvbnRhaW5lcgogICAgICB9IGVsc2UgeyAvLyBNdXRhdGlvbk9ic2VydmVyIGZhbGxiYWNrIGZvciBvbGQgYnJvd3NlcnMKICAgICAgICBwYWdlY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIG9uTm9kZUluc2VydGVkLCBmYWxzZSk7CiAgICAgIH0KICB9IAp9CgpmdW5jdGlvbiBvbk5vZGVJbnNlcnRlZChlKSB7IAogICAgaWYgKGUgJiYgZS50YXJnZXQgJiYgKGUudGFyZ2V0LmlkPT0nd2F0Y2g3LW1haW4tY29udGFpbmVyJykpIHsgLy8gfHwgaWQ9PSd3YXRjaDctY29udGFpbmVyJwogICAgICBydW4oKTsKICB9Cn0KICAKZnVuY3Rpb24gcnVuKCkgewogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChDT05UQUlORVJfSUQpKSByZXR1cm47IC8vIGNoZWNrIGRvd25sb2FkIGNvbnRhaW5lcgoKICB2YXIgdmlkZW9JRCwgdmlkZW9Gb3JtYXRzLCB2aWRlb0FkYXB0Rm9ybWF0cywgdmlkZW9NYW5pZmVzdFVSTCwgc2NyaXB0VVJMPW51bGw7CiAgdmFyIGlzU2lnbmF0dXJlVXBkYXRpbmdTdGFydGVkPWZhbHNlOwogIHZhciBvcGVyYVRhYmxlPW5ldyBBcnJheSgpOwogIHZhciBsYW5ndWFnZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYW5nJyk7CiAgdmFyIHRleHREaXJlY3Rpb249J2xlZnQnOwogIGlmIChkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGlyJyk9PSdydGwnKSB7CiAgICB0ZXh0RGlyZWN0aW9uPSdyaWdodCc7CiAgfQogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2g3LWFjdGlvbi1idXR0b25zJykpIHsgIC8vIG9sZCBVSQogICAgZml4VHJhbnNsYXRpb25zKGxhbmd1YWdlLCB0ZXh0RGlyZWN0aW9uKTsKICB9CiAgICAgICAgCiAgLy8gb2J0YWluIHZpZGVvIElELCBmb3JtYXRzIG1hcCAgIAogIAogIHZhciBhcmdzPW51bGw7CiAgdmFyIHVzdz0odHlwZW9mIHRoaXMudW5zYWZlV2luZG93ICE9PSAndW5kZWZpbmVkJyk/dGhpcy51bnNhZmVXaW5kb3c6d2luZG93OyAvLyBGaXJlZm94LCBPcGVyYTwxNQogIGlmICh1c3cueXRwbGF5ZXIgJiYgdXN3Lnl0cGxheWVyLmNvbmZpZyAmJiB1c3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MpIHsKICAgIGFyZ3M9dXN3Lnl0cGxheWVyLmNvbmZpZy5hcmdzOwogIH0KICBpZiAoYXJncykgewogICAgdmlkZW9JRD1hcmdzWyd2aWRlb19pZCddOwogICAgdmlkZW9Gb3JtYXRzPWFyZ3NbJ3VybF9lbmNvZGVkX2ZtdF9zdHJlYW1fbWFwJ107CiAgICB2aWRlb0FkYXB0Rm9ybWF0cz1hcmdzWydhZGFwdGl2ZV9mbXRzJ107CiAgICB2aWRlb01hbmlmZXN0VVJMPWFyZ3NbJ2Rhc2htcGQnXTsKICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IFN0YW5kYXJkIG1vZGUuIHZpZGVvSUQgJysodmlkZW9JRD92aWRlb0lEOidub25lJykrJzsgJyk7CiAgfQogIGlmICh1c3cueXRwbGF5ZXIgJiYgdXN3Lnl0cGxheWVyLmNvbmZpZyAmJiB1c3cueXRwbGF5ZXIuY29uZmlnLmFzc2V0cykgewogICAgc2NyaXB0VVJMPXVzdy55dHBsYXllci5jb25maWcuYXNzZXRzLmpzOwogIH0gIAogIAogIGlmICh2aWRlb0lEPT1udWxsKSB7IC8vIHVuc2FmZVdpbmRvdyB3b3JrYXJvdW5kIChDaHJvbWUsIE9wZXJhIDE1KykKICAgIHZhciBidWZmZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoREVCVUdfSUQrJzInKTsKICAgIGlmIChidWZmZXIpIHsKICAgICAgd2hpbGUgKGJ1ZmZlci5maXJzdENoaWxkKSB7CiAgICAgICAgYnVmZmVyLnJlbW92ZUNoaWxkKGJ1ZmZlci5maXJzdENoaWxkKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYnVmZmVyPWNyZWF0ZUhpZGRlbkVsZW0oJ3ByZScsIERFQlVHX0lEKycyJyk7CiAgICB9ICAgIAogICAgaW5qZWN0U2NyaXB0ICgnaWYoeXRwbGF5ZXImJnl0cGxheWVyLmNvbmZpZyYmeXRwbGF5ZXIuY29uZmlnLmFyZ3Mpe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCInK0RFQlVHX0lEKycyIikuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCcidmlkZW9faWQiOiJcJyt5dHBsYXllci5jb25maWcuYXJncy52aWRlb19pZCtcJyIsICJqcyI6IlwnK3l0cGxheWVyLmNvbmZpZy5hc3NldHMuanMrXCciLCAiZGFzaG1wZCI6IlwnK3l0cGxheWVyLmNvbmZpZy5hcmdzLmRhc2htcGQrXCciLCAidXJsX2VuY29kZWRfZm10X3N0cmVhbV9tYXAiOiJcJyt5dHBsYXllci5jb25maWcuYXJncy51cmxfZW5jb2RlZF9mbXRfc3RyZWFtX21hcCtcJyIsICJhZGFwdGl2ZV9mbXRzIjoiXCcreXRwbGF5ZXIuY29uZmlnLmFyZ3MuYWRhcHRpdmVfZm10cytcJyJcJykpO30nKTsKICAgIHZhciBjb2RlPWJ1ZmZlci5pbm5lckhUTUw7CiAgICBpZiAoY29kZSkgewogICAgICB2aWRlb0lEPWZpbmRNYXRjaChjb2RlLCAvXCJ2aWRlb19pZFwiOlxzKlwiKFteXCJdKylcIi8pOwogICAgICB2aWRlb0Zvcm1hdHM9ZmluZE1hdGNoKGNvZGUsIC9cInVybF9lbmNvZGVkX2ZtdF9zdHJlYW1fbWFwXCI6XHMqXCIoW15cIl0rKVwiLyk7CiAgICAgIHZpZGVvRm9ybWF0cz12aWRlb0Zvcm1hdHMucmVwbGFjZSgvJmFtcDsvZywnXFx1MDAyNicpOwogICAgICB2aWRlb0FkYXB0Rm9ybWF0cz1maW5kTWF0Y2goY29kZSwgL1wiYWRhcHRpdmVfZm10c1wiOlxzKlwiKFteXCJdKylcIi8pOwogICAgICB2aWRlb0FkYXB0Rm9ybWF0cz12aWRlb0FkYXB0Rm9ybWF0cy5yZXBsYWNlKC8mYW1wOy9nLCdcXHUwMDI2Jyk7CiAgICAgIHZpZGVvTWFuaWZlc3RVUkw9ZmluZE1hdGNoKGNvZGUsIC9cImRhc2htcGRcIjpccypcIihbXlwiXSspXCIvKTsKICAgICAgc2NyaXB0VVJMPWZpbmRNYXRjaChjb2RlLCAvXCJqc1wiOlxzKlwiKFteXCJdKylcIi8pOwogICAgfQogICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogSW5qZWN0aW9uIG1vZGUuIHZpZGVvSUQgJysodmlkZW9JRD92aWRlb0lEOidub25lJykrJzsgJyk7CiAgfQogICAgIAogIGlmICh2aWRlb0lEPT1udWxsKSB7IC8vIGlmIGFsbCBlbHNlIGZhaWxzCiAgICB2YXIgYm9keUNvbnRlbnQ9ZG9jdW1lbnQuYm9keS5pbm5lckhUTUw7ICAKICAgIGlmIChib2R5Q29udGVudCE9bnVsbCkgewogICAgICB2aWRlb0lEPWZpbmRNYXRjaChib2R5Q29udGVudCwgL1widmlkZW9faWRcIjpccypcIihbXlwiXSspXCIvKTsKICAgICAgdmlkZW9Gb3JtYXRzPWZpbmRNYXRjaChib2R5Q29udGVudCwgL1widXJsX2VuY29kZWRfZm10X3N0cmVhbV9tYXBcIjpccypcIihbXlwiXSspXCIvKTsKICAgICAgdmlkZW9BZGFwdEZvcm1hdHM9ZmluZE1hdGNoKGJvZHlDb250ZW50LCAvXCJhZGFwdGl2ZV9mbXRzXCI6XHMqXCIoW15cIl0rKVwiLyk7CiAgICAgIHZpZGVvTWFuaWZlc3RVUkw9ZmluZE1hdGNoKGJvZHlDb250ZW50LCAvXCJkYXNobXBkXCI6XHMqXCIoW15cIl0rKVwiLyk7CiAgICAgIGlmIChzY3JpcHRVUkw9PW51bGwpIHsKICAgICAgICBzY3JpcHRVUkw9ZmluZE1hdGNoKGJvZHlDb250ZW50LCAvXCJqc1wiOlxzKlwiKFteXCJdKylcIi8pOwogICAgICAgIGlmIChzY3JpcHRVUkwpIHsKICAgICAgICAgIHNjcmlwdFVSTD1zY3JpcHRVUkwucmVwbGFjZSgvXFwvZywnJyk7CiAgICAgICAgfQogICAgICB9ICAgICAgCiAgICB9CiAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBCcnV0ZSBtb2RlLiB2aWRlb0lEICcrKHZpZGVvSUQ/dmlkZW9JRDonbm9uZScpKyc7ICcpOwogIH0KICAKICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiB1cmwgJyt3aW5kb3cubG9jYXRpb24uaHJlZisnOyB1c2VyYWdlbnQgJyt3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7ICAKICAKICBpZiAodmlkZW9JRD09bnVsbCB8fCB2aWRlb0Zvcm1hdHM9PW51bGwgfHwgdmlkZW9JRC5sZW5ndGg9PTAgfHwgdmlkZW9Gb3JtYXRzLmxlbmd0aD09MCkgewogICBkZWJ1ZygnRFlWQU0gLSBFcnJvcjogTm8gY29uZmlnIGluZm9ybWF0aW9uIGZvdW5kLiBZb3VUdWJlIG11c3QgaGF2ZSBjaGFuZ2VkIHRoZSBjb2RlLicpOwogICByZXR1cm47CiAgfQogIAogIC8vIE9wZXJhIDEyIGV4dGVuc2lvbiBtZXNzYWdlIGhhbmRsZXIKICBpZiAodHlwZW9mIHdpbmRvdy5vcGVyYSAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm9wZXJhICYmIHR5cGVvZiBvcGVyYS5leHRlbnNpb24gIT09ICd1bmRlZmluZWQnKSB7CiAgICBvcGVyYS5leHRlbnNpb24ub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgdmFyIGluZGV4PWZpbmRNYXRjaChldmVudC5kYXRhLmFjdGlvbiwgL3hoclwtKFswLTldKylcLXJlc3BvbnNlLyk7CiAgICAgIGlmIChpbmRleCAmJiBvcGVyYVRhYmxlW3BhcnNlSW50KGluZGV4LDEwKV0pIHsKICAgICAgICBpbmRleD1wYXJzZUludChpbmRleCwxMCk7CiAgICAgICAgdmFyIHRyaWdnZXI9KG9wZXJhVGFibGVbaW5kZXhdKVsnb25sb2FkJ107CiAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyID09PSAnZnVuY3Rpb24nICYmIGV2ZW50LmRhdGEucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICBpZiAodHJpZ2dlcikgewogICAgICAgICAgICAgIHRyaWdnZXIoZXZlbnQuZGF0YSk7ICAgICAgICAgCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogICAgCiAgaWYgKCFpc0RlY29kZVJ1bGVVcGRhdGVkKSB7CiAgICBERUNPREVfUlVMRT1nZXREZWNvZGVSdWxlcyhERUNPREVfUlVMRSk7CiAgICBpc0RlY29kZVJ1bGVVcGRhdGVkPXRydWU7CiAgfQogIGlmIChzY3JpcHRVUkwpIHsKICAgIHNjcmlwdFVSTCA9IGFic29sdXRlVVJMKHNjcmlwdFVSTCk7CiAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBGdWxsIHNjcmlwdCBVUkw6ICcrc2NyaXB0VVJMKTsKICAgIGZldGNoU2lnbmF0dXJlU2NyaXB0KHNjcmlwdFVSTCk7CiAgfQogIAogICAvLyB2aWRlbyB0aXRsZQogICB2YXIgdmlkZW9UaXRsZT1kb2N1bWVudC50aXRsZSB8fCAndmlkZW8nOwogICB2aWRlb1RpdGxlPXZpZGVvVGl0bGUucmVwbGFjZSgvXHMqXC1ccypZb3VUdWJlJC9pLCAnJykucmVwbGFjZSgvJy9nLCAnXCcnKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpLnJlcGxhY2UoL1wuKyQvZywgJycpOwogICB2aWRlb1RpdGxlPXZpZGVvVGl0bGUucmVwbGFjZSgvWzoiXD9cKl0vZywgJycpLnJlcGxhY2UoL1tcfFxcXC9dL2csICdfJyk7IC8vIE1hYywgTGludXgsIFdpbmRvd3MKICAgaWYgKCgod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQgfHwgJycpLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoJ3dpbmRvd3MnKSA+PSAwKSB7CiAgICAgIHZpZGVvVGl0bGU9dmlkZW9UaXRsZS5yZXBsYWNlKC8jL2csICcnKS5yZXBsYWNlKC8mL2csICdfJyk7IC8vIFdpbmRvd3MKICAgfSBlbHNlIHsKICAgICAgdmlkZW9UaXRsZT12aWRlb1RpdGxlLnJlcGxhY2UoLyMvZywgJyUyMycpLnJlcGxhY2UoLyYvZywgJyUyNicpOyAvLyAgTWFjLCBMaW51eAogICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogIC8vIHBhcnNlIHRoZSBmb3JtYXRzIG1hcAogIHZhciBzZXAxPSclMkMnLCBzZXAyPSclMjYnLCBzZXAzPSclM0QnOwogIGlmICh2aWRlb0Zvcm1hdHMuaW5kZXhPZignLCcpPi0xfHx2aWRlb0Zvcm1hdHMuaW5kZXhPZignJicpPi0xfHx2aWRlb0Zvcm1hdHMuaW5kZXhPZignXFx1MDAyNicpPi0xKSB7IAogICAgc2VwMT0nLCc7IAogICAgc2VwMj0odmlkZW9Gb3JtYXRzLmluZGV4T2YoJyYnKT4tMSk/JyYnOidcXHUwMDI2JzsgCiAgICBzZXAzPSc9JzsKICB9CiAgdmFyIHZpZGVvVVJMPW5ldyBBcnJheSgpOwogIHZhciB2aWRlb1NpZ25hdHVyZT1uZXcgQXJyYXkoKTsKICBpZiAodmlkZW9BZGFwdEZvcm1hdHMpIHsKICAgIHZpZGVvRm9ybWF0cz12aWRlb0Zvcm1hdHMrc2VwMSt2aWRlb0FkYXB0Rm9ybWF0czsKICB9CiAgdmFyIHZpZGVvRm9ybWF0c0dyb3VwPXZpZGVvRm9ybWF0cy5zcGxpdChzZXAxKTsKICBmb3IgKHZhciBpPTA7aTx2aWRlb0Zvcm1hdHNHcm91cC5sZW5ndGg7aSsrKSB7CiAgICB2YXIgdmlkZW9Gb3JtYXRzRWxlbT12aWRlb0Zvcm1hdHNHcm91cFtpXS5zcGxpdChzZXAyKTsKICAgIHZhciB2aWRlb0Zvcm1hdHNQYWlyPW5ldyBBcnJheSgpOwogICAgZm9yICh2YXIgaj0wO2o8dmlkZW9Gb3JtYXRzRWxlbS5sZW5ndGg7aisrKSB7CiAgICAgIHZhciBwYWlyPXZpZGVvRm9ybWF0c0VsZW1bal0uc3BsaXQoc2VwMyk7CiAgICAgIGlmIChwYWlyLmxlbmd0aD09MikgewogICAgICAgIHZpZGVvRm9ybWF0c1BhaXJbcGFpclswXV09cGFpclsxXTsKICAgICAgfQogICAgfQogICAgaWYgKHZpZGVvRm9ybWF0c1BhaXJbJ3VybCddPT1udWxsKSBjb250aW51ZTsKICAgIHZhciB1cmw9dW5lc2NhcGUodW5lc2NhcGUodmlkZW9Gb3JtYXRzUGFpclsndXJsJ10pKS5yZXBsYWNlKC9cXFwvL2csJy8nKS5yZXBsYWNlKC9cXHUwMDI2L2csJyYnKTsKICAgIGlmICh2aWRlb0Zvcm1hdHNQYWlyWydpdGFnJ109PW51bGwpIGNvbnRpbnVlOwogICAgdmFyIGl0YWc9dmlkZW9Gb3JtYXRzUGFpclsnaXRhZyddOwogICAgdmFyIHNpZz12aWRlb0Zvcm1hdHNQYWlyWydzaWcnXXx8dmlkZW9Gb3JtYXRzUGFpclsnc2lnbmF0dXJlJ107CiAgICBpZiAoc2lnKSB7CiAgICAgIHVybD11cmwrJyZzaWduYXR1cmU9JytzaWc7CiAgICAgIHZpZGVvU2lnbmF0dXJlW2l0YWddPW51bGw7CiAgICB9IGVsc2UgaWYgKHZpZGVvRm9ybWF0c1BhaXJbJ3MnXSkgewogICAgICB1cmw9dXJsKycmc2lnbmF0dXJlPScrZGVjcnlwdFNpZ25hdHVyZSh2aWRlb0Zvcm1hdHNQYWlyWydzJ10pOwogICAgICB2aWRlb1NpZ25hdHVyZVtpdGFnXT12aWRlb0Zvcm1hdHNQYWlyWydzJ107CiAgICB9CiAgICBpZiAodXJsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigncmF0ZWJ5cGFzcycpPT0tMSkgeyAvLyBzcGVlZCB1cCBkb3dubG9hZCBmb3IgZGFzaAogICAgICB1cmw9dXJsKycmcmF0ZWJ5cGFzcz15ZXMnOwogICAgfQogICAgaWYgKHVybC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2h0dHAnKT09MCkgeyAvLyB2YWxpZGF0ZSBVUkwKICAgICAgdmlkZW9VUkxbaXRhZ109dXJsKycmdGl0bGU9Jyt2aWRlb1RpdGxlOwogICAgfQogIH0KICAgIAogIHZhciBzaG93Rm9ybWF0PW5ldyBBcnJheSgpOwogIGZvciAodmFyIGNhdGVnb3J5IGluIEZPUk1BVF9SVUxFKSB7CiAgICB2YXIgcnVsZT1GT1JNQVRfUlVMRVtjYXRlZ29yeV07CiAgICBmb3IgKHZhciBpbmRleCBpbiBGT1JNQVRfVFlQRSl7CiAgICAgIGlmIChGT1JNQVRfVFlQRVtpbmRleF09PWNhdGVnb3J5KSB7CiAgICAgICAgc2hvd0Zvcm1hdFtpbmRleF09KHJ1bGU9PSdhbGwnKTsKICAgICAgfQogICAgfQogICAgaWYgKHJ1bGU9PSdtYXgnKSB7CiAgICAgIGZvciAodmFyIGk9Rk9STUFUX09SREVSLmxlbmd0aC0xO2k+PTA7aS0tKSB7CiAgICAgICAgdmFyIGZvcm1hdD1GT1JNQVRfT1JERVJbaV07CiAgICAgICAgaWYgKEZPUk1BVF9UWVBFW2Zvcm1hdF09PWNhdGVnb3J5ICYmIHZpZGVvVVJMW2Zvcm1hdF0hPXVuZGVmaW5lZCkgewogICAgICAgICAgc2hvd0Zvcm1hdFtmb3JtYXRdPXRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgCiAgdmFyIGRhc2hQcmVmPWdldFByZWYoU1RPUkFHRV9EQVNIKTsKICBpZiAoZGFzaFByZWY9PScxJykgewogICAgU0hPV19EQVNIX0ZPUk1BVFM9dHJ1ZTsKICB9IGVsc2UgaWYgKGRhc2hQcmVmIT0nMCcpIHsKICAgIHNldFByZWYoU1RPUkFHRV9EQVNILCcwJyk7CiAgfQogIAogIHZhciBkb3dubG9hZENvZGVMaXN0PVtdOwogIGZvciAodmFyIGk9MDtpPEZPUk1BVF9PUkRFUi5sZW5ndGg7aSsrKSB7CiAgICB2YXIgZm9ybWF0PUZPUk1BVF9PUkRFUltpXTsKICAgIGlmIChmb3JtYXQ9PSczNycgJiYgdmlkZW9VUkxbZm9ybWF0XT09dW5kZWZpbmVkKSB7IC8vIGhhY2sgZm9yIGRhc2ggMTA4MHAKICAgICAgaWYgKHZpZGVvVVJMWycxMzcnXSkgewogICAgICAgZm9ybWF0PScxMzcnOwogICAgICB9CiAgICAgIHNob3dGb3JtYXRbZm9ybWF0XT1zaG93Rm9ybWF0WyczNyddOwogICAgfSBlbHNlIGlmIChmb3JtYXQ9PSczOCcgJiYgdmlkZW9VUkxbZm9ybWF0XT09dW5kZWZpbmVkKSB7IC8vIGhhY2sgZm9yIGRhc2ggNEsKICAgICAgaWYgKHZpZGVvVVJMWycxMzgnXSAmJiAhdmlkZW9VUkxbJzI2NiddKSB7CiAgICAgICBmb3JtYXQ9JzEzOCc7CiAgICAgIH0KICAgICAgc2hvd0Zvcm1hdFtmb3JtYXRdPXNob3dGb3JtYXRbJzM4J107CiAgICB9ICAgIAogICAgaWYgKCFTSE9XX0RBU0hfRk9STUFUUyAmJiBmb3JtYXQubGVuZ3RoPjIpIGNvbnRpbnVlOwogICAgaWYgKHZpZGVvVVJMW2Zvcm1hdF0hPXVuZGVmaW5lZCAmJiBGT1JNQVRfTEFCRUxbZm9ybWF0XSE9dW5kZWZpbmVkICYmIHNob3dGb3JtYXRbZm9ybWF0XSkgewogICAgICBkb3dubG9hZENvZGVMaXN0LnB1c2goe3VybDp2aWRlb1VSTFtmb3JtYXRdLHNpZzp2aWRlb1NpZ25hdHVyZVtmb3JtYXRdLGZvcm1hdDpmb3JtYXQsbGFiZWw6Rk9STUFUX0xBQkVMW2Zvcm1hdF19KTsKICAgICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogaXRhZycrZm9ybWF0KycgdXJsOicrdmlkZW9VUkxbZm9ybWF0XSk7CiAgICB9CiAgfSAgCiAgCiAgaWYgKGRvd25sb2FkQ29kZUxpc3QubGVuZ3RoPT0wKSB7CiAgICBkZWJ1ZygnRFlWQU0gLSBFcnJvcjogTm8gZG93bmxvYWQgVVJMIGZvdW5kLiBQcm9iYWJseSBZb3VUdWJlIHVzZXMgZW5jcnlwdGVkIHN0cmVhbXMuJyk7CiAgICByZXR1cm47IC8vIG5vIGZvcm1hdAogIH0gCiAgICAKICAvLyBmaW5kIHBhcmVudCBjb250YWluZXIKICB2YXIgbmV3V2F0Y2hQYWdlPWZhbHNlOwogIHZhciBwYXJlbnRFbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXRjaDctYWN0aW9uLWJ1dHRvbnMnKTsKICBpZiAocGFyZW50RWxlbWVudD09bnVsbCkgewogICAgcGFyZW50RWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2g4LXNlY29uZGFyeS1hY3Rpb25zJyk7CiAgICBpZiAocGFyZW50RWxlbWVudD09bnVsbCkgewogICAgICBkZWJ1ZygnRFlWQU0gRXJyb3IgLSBObyBjb250YWluZXIgZm9yIGFkZGluZyB0aGUgZG93bmxvYWQgYnV0dG9uLiBZb3VUdWJlIG11c3QgaGF2ZSBjaGFuZ2VkIHRoZSBjb2RlLicpOwogICAgICByZXR1cm47CiAgICB9IGVsc2UgewogICAgICBuZXdXYXRjaFBhZ2U9dHJ1ZTsKICAgIH0KICB9CiAgCiAgLy8gZ2V0IGJ1dHRvbiBsYWJlbHMKICB2YXIgYnV0dG9uVGV4dD0oQlVUVE9OX1RFWFRbbGFuZ3VhZ2VdKT9CVVRUT05fVEVYVFtsYW5ndWFnZV06QlVUVE9OX1RFWFRbJ2VuJ107CiAgdmFyIGJ1dHRvbkxhYmVsPShCVVRUT05fVE9PTFRJUFtsYW5ndWFnZV0pP0JVVFRPTl9UT09MVElQW2xhbmd1YWdlXTpCVVRUT05fVE9PTFRJUFsnZW4nXTsKICAgIAogIC8vIGdlbmVyYXRlIGRvd25sb2FkIGNvZGUgZm9yIHJlZ3VsYXIgaW50ZXJmYWNlCiAgdmFyIG1haW5TcGFuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKCiAgaWYgKG5ld1dhdGNoUGFnZSkgewogICAgdmFyIHNwYW5JY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgIHNwYW5JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1pY29uLXdyYXBwZXInKTsKICAgIHZhciBpbWFnZUljb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpbWFnZUljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnLy9zLnl0aW1nLmNvbS95dC9pbWcvcGl4ZWwtdmZsM3o1V2ZXLmdpZicpOwogICAgaW1hZ2VJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1pY29uJyk7CiAgICBpbWFnZUljb24uc2V0QXR0cmlidXRlKCdzdHlsZScsICd3aWR0aDoyMHB4O2hlaWdodDoyMHB4O2JhY2tncm91bmQtc2l6ZToyMHB4IDIwcHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFCRzBsRVFWUllSKzJXMFEzQ01BeEUyd2tZQWRpRUVXQURtSXh1QUNNd0NtekFCcENURW1SU083WVRRWCtDaEVDVjQzdDJuRjdHWWVIUHVMRCswQUt3Qy9EbldNQXAvTjVxaW1rQnVBZkJkUlRGLysyL0FWNlpZRlV4Vll1aWNBZm9IZWdkNkIzb0hmaFpCK0J5RitKeVY4RmtyQUI3NHBxSDNEVTVMM2lHb0JVUmhkVk9ESVFGNEVqRWtXTG1taFlBTE9RZ05JQmNISGtlNGJ1aHhYQUFhRm5hQWhxYlE1UUFPSEhrd2haOGJhbGt4MUlDQ2lFQldOWitDaXZkQjdSRUhJQzJaalpLMm9Xa2xERGRCMU5TZENkL0pzMlBxUU1wU0lLWVZjTThrRTZRQ3dEQk5SQ3FPQkpyVzBDTDhrQ1l4TDBBMWs2WXhXc0FOQWlYZUMyQUJPRVdid0hBV3J3eHB6Z2ttQS9KdElxbnhUT0VsbVBuamxrYzRBM0Z5a0FoQTQyQXh3QUFBQUJKUlU1RXJrSmdnZz09KTsnKTsKICAgIHNwYW5JY29uLmFwcGVuZENoaWxkKGltYWdlSWNvbik7CiAgICBtYWluU3Bhbi5hcHBlbmRDaGlsZChzcGFuSWNvbik7CiAgfQoKICB2YXIgc3BhbkJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgc3BhbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3l0LXVpeC1idXR0b24tY29udGVudCcpOwogIHNwYW5CdXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYnV0dG9uVGV4dCsnICcpKTsKICBtYWluU3Bhbi5hcHBlbmRDaGlsZChzcGFuQnV0dG9uKTsKICAKICBpZiAoIW5ld1dhdGNoUGFnZSkgeyAvLyBvbGQgVUkKICAgIHZhciBpbWdCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpbWdCdXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsICd5dC11aXgtYnV0dG9uLWFycm93Jyk7CiAgICBpbWdCdXR0b24uc2V0QXR0cmlidXRlKCdzcmMnLCAnLy9zLnl0aW1nLmNvbS95dC9pbWcvcGl4ZWwtdmZsM3o1V2ZXLmdpZicpOwogICAgbWFpblNwYW4uYXBwZW5kQ2hpbGQoaW1nQnV0dG9uKTsKICB9CgogIHZhciBsaXN0SXRlbXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2wnKTsKICBsaXN0SXRlbXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7CiAgbGlzdEl0ZW1zLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1tZW51Jyk7CiAgZm9yICh2YXIgaT0wO2k8ZG93bmxvYWRDb2RlTGlzdC5sZW5ndGg7aSsrKSB7CiAgICB2YXIgbGlzdEl0ZW09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgIHZhciBsaXN0TGluaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBsaXN0TGluay5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjpub25lOycpOwogICAgbGlzdExpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZG93bmxvYWRDb2RlTGlzdFtpXS51cmwpOwogICAgbGlzdExpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIHZpZGVvVGl0bGUrJy4nK0ZPUk1BVF9UWVBFW2Rvd25sb2FkQ29kZUxpc3RbaV0uZm9ybWF0XSk7CiAgICB2YXIgbGlzdEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICBsaXN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1tZW51LWl0ZW0nKTsKICAgIGxpc3RCdXR0b24uc2V0QXR0cmlidXRlKCdsb29wJywgaSsnJyk7CiAgICBsaXN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnaWQnLCBMSVNUSVRFTV9JRCtkb3dubG9hZENvZGVMaXN0W2ldLmZvcm1hdCk7CiAgICBsaXN0QnV0dG9uLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRvd25sb2FkQ29kZUxpc3RbaV0ubGFiZWwpKTsKICAgIGxpc3RMaW5rLmFwcGVuZENoaWxkKGxpc3RCdXR0b24pOwogICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQobGlzdExpbmspOwogICAgbGlzdEl0ZW1zLmFwcGVuZENoaWxkKGxpc3RJdGVtKTsKICB9CiAgbWFpblNwYW4uYXBwZW5kQ2hpbGQobGlzdEl0ZW1zKTsKICB2YXIgYnV0dG9uRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBCVVRUT05fSUQpOwogIGlmIChuZXdXYXRjaFBhZ2UpIHsKICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd5dC11aXgtYnV0dG9uICB5dC11aXgtYnV0dG9uLXNpemUtZGVmYXVsdCB5dC11aXgtYnV0dG9uLW9wYWNpdHkgeXQtdWl4LXRvb2x0aXAnKTsKICB9IGVsc2UgeyAvLyBvbGQgVUkKICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd5dC11aXgtYnV0dG9uIHl0LXVpeC10b29sdGlwIHl0LXVpeC1idXR0b24tZW1wdHkgeXQtdWl4LWJ1dHRvbi10ZXh0Jyk7CiAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXRvcDo0cHg7IG1hcmdpbi1sZWZ0OicrKCh0ZXh0RGlyZWN0aW9uPT0nbGVmdCcpPzU6MTApKydweDsnKTsKICB9CiAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC10ZXh0JywgYnV0dG9uTGFiZWwpOyAgCiAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7CiAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO30sIGZhbHNlKTsKICBidXR0b25FbGVtZW50LmFwcGVuZENoaWxkKG1haW5TcGFuKTsKICB2YXIgY29udGFpbmVyU3Bhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgY29udGFpbmVyU3Bhbi5zZXRBdHRyaWJ1dGUoJ2lkJywgQ09OVEFJTkVSX0lEKTsKICBjb250YWluZXJTcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpOwogIGNvbnRhaW5lclNwYW4uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgLy8gYWRkIHRoZSBidXR0b24KICBpZiAoIW5ld1dhdGNoUGFnZSkgeyAvLyB3YXRjaDcKICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyU3Bhbik7CiAgfSBlbHNlIHsgLy8gd2F0Y2g4CiAgICBwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShjb250YWluZXJTcGFuLCBwYXJlbnRFbGVtZW50LmZpcnN0Q2hpbGQpOwogIH0KICAgIAogIC8vIFJFUExBQ0VXSVRIIGlmICghaXNTaWduYXR1cmVVcGRhdGluZ1N0YXJ0ZWQpIHsKICAgIGZvciAodmFyIGk9MDtpPGRvd25sb2FkQ29kZUxpc3QubGVuZ3RoO2krKykgeyAKICAgICAgYWRkRmlsZVNpemUoZG93bmxvYWRDb2RlTGlzdFtpXS51cmwsIGRvd25sb2FkQ29kZUxpc3RbaV0uZm9ybWF0KTsKICAgIH0KICAvLyB9IAogIAogIGlmICh0eXBlb2YgR01fZG93bmxvYWQgIT09ICd1bmRlZmluZWQnKSB7CiAgICBmb3IgKHZhciBpPTA7aTxkb3dubG9hZENvZGVMaXN0Lmxlbmd0aDtpKyspIHsKICAgICAgdmFyIGRvd25sb2FkRk1UPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKExJU1RJVEVNX0lEK2Rvd25sb2FkQ29kZUxpc3RbaV0uZm9ybWF0KTsKICAgICAgdmFyIHVybD0oZG93bmxvYWRDb2RlTGlzdFtpXS51cmwpLnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmICh1cmwuaW5kZXhPZignY2xlbj0nKT4wICYmIHVybC5pbmRleE9mKCdkdXI9Jyk+MCAmJiB1cmwuaW5kZXhPZignZ2lyPScpPjAKICAgICAgICAgICYmIHVybC5pbmRleE9mKCdsbXQ9Jyk+MCkgewogICAgICAgIGRvd25sb2FkRk1ULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZG93bmxvYWRWaWRlb05hdGl2ZWx5LCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9CiAgCiAgYWRkRnJvbU1hbmlmZXN0KCk7CiAgCiAgZnVuY3Rpb24gZG93bmxvYWRWaWRlb05hdGl2ZWx5KGUpIHsKICAgIHZhciBlbGVtPWUuY3VycmVudFRhcmdldDsKICAgIGUucmV0dXJuVmFsdWU9ZmFsc2U7ICAgIAogICAgaWYgKGUucHJldmVudERlZmF1bHQpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfQogICAgdmFyIGxvb3A9ZWxlbS5nZXRBdHRyaWJ1dGUoJ2xvb3AnKTsKICAgIGlmIChsb29wKSB7CiAgICAgIEdNX2Rvd25sb2FkKGRvd25sb2FkQ29kZUxpc3RbbG9vcF0udXJsLCB2aWRlb1RpdGxlKycuJytGT1JNQVRfVFlQRVtkb3dubG9hZENvZGVMaXN0W2xvb3BdLmZvcm1hdF0pOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KICAKICBmdW5jdGlvbiBhZGRGcm9tTWFuaWZlc3QoKSB7IC8vIGFkZCBEYXNoIFVSTHMgZnJvbSBtYW5pZmVzdCBmaWxlCiAgICB2YXIgZm9ybWF0cz1bJzEzNycsICcxMzgnLCAnMTQwJ107IC8vIDEzNz0xMDgwcCwgMTM4PTRrLCAxNDA9bTRhCiAgICB2YXIgaXNOZWNlc3Nhcnk9dHJ1ZTsKICAgIGZvciAodmFyIGk9MDtpPGZvcm1hdHMubGVuZ3RoO2krKykgewogICAgICBpZiAodmlkZW9VUkxbZm9ybWF0c1tpXV0pIHsKICAgICAgICBpc05lY2Vzc2FyeT1mYWxzZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgaWYgKHZpZGVvTWFuaWZlc3RVUkwgJiYgU0hPV19EQVNIX0ZPUk1BVFMgJiYgaXNOZWNlc3NhcnkpIHsKICAgICAgdmFyIG1hdGNoU2lnPWZpbmRNYXRjaCh2aWRlb01hbmlmZXN0VVJMLCAvXC9zXC8oW2EtekEtWjAtOVwuXSspXC8vaSk7CiAgICAgIGlmIChtYXRjaFNpZykgewogICAgICAgIHZhciBkZWNyeXB0ZWRTaWc9ZGVjcnlwdFNpZ25hdHVyZShtYXRjaFNpZyk7CiAgICAgICAgaWYgKGRlY3J5cHRlZFNpZykgewogICAgICAgICAgdmlkZW9NYW5pZmVzdFVSTD12aWRlb01hbmlmZXN0VVJMLnJlcGxhY2UoJy9zLycrbWF0Y2hTaWcrJy8nLCcvc2lnbmF0dXJlLycrZGVjcnlwdGVkU2lnKycvJyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZpZGVvTWFuaWZlc3RVUkw9YWJzb2x1dGVVUkwodmlkZW9NYW5pZmVzdFVSTCk7CiAgICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IG1hbmlmZXN0VVJMICcrdmlkZW9NYW5pZmVzdFVSTCk7CiAgICAgIGNyb3NzWG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgdXJsOnZpZGVvTWFuaWZlc3RVUkwsIC8vIGNoZWNrIGlmIFVSTCBleGlzdHMKICAgICAgICAgIG9ubG9hZDpmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UucmVhZHlTdGF0ZSA9PT0gNCAmJiByZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiByZXNwb25zZS5yZXNwb25zZVRleHQpIHsKICAgICAgICAgICAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBtYW5pZXN0RmlsZUNvbnRlbnRzICcrcmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICB2YXIgbGFzdEZvcm1hdEZyb21MaXN0PWRvd25sb2FkQ29kZUxpc3RbZG93bmxvYWRDb2RlTGlzdC5sZW5ndGgtMV0uZm9ybWF0OwogICAgICAgICAgICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IGxhc3Rmb3JtYXQ6ICcrbGFzdEZvcm1hdEZyb21MaXN0KTsKICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxmb3JtYXRzLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgIGs9Zm9ybWF0c1tpXTsKICAgICAgICAgICAgICAgIGlmICh2aWRlb1VSTFtrXSB8fCBzaG93Rm9ybWF0W2tdPT1mYWxzZSkgY29udGludWU7CiAgICAgICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnPEJhc2VVUkw+KGh0dHBbXjxdK2l0YWdcXC8nK2srJ1tePF0rKTxcXC9CYXNlVVJMPicsJ2knKTsKICAgICAgICAgICAgICAgIHZhciBtYXRjaFVSTD1maW5kTWF0Y2gocmVzcG9uc2UucmVzcG9uc2VUZXh0LCByZWdleHApOwogICAgICAgICAgICAgICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogbWF0Y2hVUkwgaXRhZz0gJytrKycgdXJsPSAnK21hdGNoVVJMKTsKICAgICAgICAgICAgICAgIGlmICghbWF0Y2hVUkwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgbWF0Y2hVUkw9bWF0Y2hVUkwucmVwbGFjZSgvJmFtcFw7L2csJyYnKTsKICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgZG93bmxvYWRDb2RlTGlzdC5wdXNoKAogICAgICAgICAgICAgICAgICB7dXJsOm1hdGNoVVJMLHNpZzp2aWRlb1NpZ25hdHVyZVtrXSxmb3JtYXQ6ayxsYWJlbDpGT1JNQVRfTEFCRUxba119KTsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZEZNVD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtsYXN0Rm9ybWF0RnJvbUxpc3QpOwogICAgICAgICAgICAgICAgdmFyIGNsb25lPWRvd25sb2FkRk1ULnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgICAgICBjbG9uZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCdpZCcsIExJU1RJVEVNX0lEK2spOwogICAgICAgICAgICAgICAgY2xvbmUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBtYXRjaFVSTCk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEZNVC5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjbG9uZSk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEZNVD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtrKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkRk1ULmZpcnN0Q2hpbGQubm9kZVZhbHVlPUZPUk1BVF9MQUJFTFtrXTsKICAgICAgICAgICAgICAgIGFkZEZpbGVTaXplKG1hdGNoVVJMLCBrKTsKICAgICAgICAgICAgICAgIGxhc3RGb3JtYXRGcm9tTGlzdD1rOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSAKICAgICAgICB9KTsKICAgIH0gIAogIH0KICAKICBmdW5jdGlvbiBpbmplY3RTdHlsZShjb2RlKSB7CiAgICB2YXIgc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlLnR5cGU9J3RleHQvY3NzJzsKICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvZGUpKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGUpOwogIH0KICAKICBmdW5jdGlvbiBpbmplY3RTY3JpcHQoY29kZSkgewogICAgdmFyIHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgIHNjcmlwdC50eXBlPSdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JzsKICAgIHNjcmlwdC50ZXh0Q29udGVudD1jb2RlOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpOwogIH0gICAgCiAgCiAgZnVuY3Rpb24gZGVidWcoc3RyKSB7CiAgICB2YXIgZGVidWdFbGVtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKERFQlVHX0lEKTsKICAgIGlmICghZGVidWdFbGVtKSB7CiAgICAgIGRlYnVnRWxlbT1jcmVhdGVIaWRkZW5FbGVtKCdkaXYnLCBERUJVR19JRCk7CiAgICB9CiAgICBkZWJ1Z0VsZW0uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKycgJykpOwogIH0KICAKICBmdW5jdGlvbiBjcmVhdGVIaWRkZW5FbGVtKHRhZywgaWQpIHsKICAgIHZhciBlbGVtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTsKICAgIGVsZW0uc2V0QXR0cmlidXRlKCdpZCcsIGlkKTsKICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pOwogICAgcmV0dXJuIGVsZW07CiAgfQogIAogIGZ1bmN0aW9uIGZpeFRyYW5zbGF0aW9ucyhsYW5ndWFnZSwgdGV4dERpcmVjdGlvbikgeyAgCiAgICBpZiAoL15hZnxiZ3xibnxjYXxjc3xkZXxlbHxlc3xldHxldXxmYXxmaXxmaWx8ZnJ8Z2x8aGl8aHJ8aHV8aWR8aXR8aXd8a258bHZ8bHR8bWx8bXJ8bXN8bmx8cGx8cm98cnV8c2x8c2t8c3J8c3d8dGF8dGV8dGh8dWt8dXJ8dml8enUkLy50ZXN0KGxhbmd1YWdlKSkgeyAvLyBmaXggaW50ZXJuYXRpb25hbCBVSQogICAgICB2YXIgbGlrZUJ1dHRvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2gtbGlrZScpOwogICAgICBpZiAobGlrZUJ1dHRvbikgewogICAgICAgIHZhciBzcGFuRWxlbWVudHM9bGlrZUJ1dHRvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd5dC11aXgtYnV0dG9uLWNvbnRlbnQnKTsKICAgICAgICBpZiAoc3BhbkVsZW1lbnRzKSB7CiAgICAgICAgICBzcGFuRWxlbWVudHNbMF0uc3R5bGUuZGlzcGxheT0nbm9uZSc7IC8vIGhpZGUgbGlrZSB0ZXh0CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBtYXJnaW5QaXhlbHM9MTA7CiAgICAgIGlmICgvXmJnfGNhfGNzfGVsfGV1fGhyfGl0fG1sfG1zfHBsfHNsfHN3fHRlJC8udGVzdChsYW5ndWFnZSkpIHsKICAgICAgICBtYXJnaW5QaXhlbHM9MTsKICAgICAgfQogICAgICBpbmplY3RTdHlsZSgnI3dhdGNoNy1zZWNvbmRhcnktYWN0aW9ucyAueXQtdWl4LWJ1dHRvbnttYXJnaW4tJyt0ZXh0RGlyZWN0aW9uKyc6JyttYXJnaW5QaXhlbHMrJ3B4IWltcG9ydGFudH0nKTsKICAgIH0KICB9CiAgCiAgZnVuY3Rpb24gZmluZE1hdGNoKHRleHQsIHJlZ2V4cCkgewogICAgdmFyIG1hdGNoZXM9dGV4dC5tYXRjaChyZWdleHApOwogICAgcmV0dXJuIChtYXRjaGVzKT9tYXRjaGVzWzFdOm51bGw7CiAgfQogIAogIGZ1bmN0aW9uIGlzU3RyaW5nKHMpIHsKICAgIHJldHVybiAodHlwZW9mIHM9PT0nc3RyaW5nJyB8fCBzIGluc3RhbmNlb2YgU3RyaW5nKTsKICB9CiAgICAKICBmdW5jdGlvbiBpc0ludGVnZXIobikgewogICAgcmV0dXJuICh0eXBlb2Ygbj09PSdudW1iZXInICYmIG4lMT09MCk7CiAgfQogIAogIGZ1bmN0aW9uIGFic29sdXRlVVJMKHVybCkgewogICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICByZXR1cm4gbGluay5ocmVmOwogIH0KICAKICBmdW5jdGlvbiBnZXRQcmVmKG5hbWUpIHsgLy8gY3Jvc3MtYnJvd3NlciBHTV9nZXRWYWx1ZQogICAgdmFyIGE9JycsIGI9Jyc7CiAgICB0cnkge2E9dHlwZW9mIEdNX2dldFZhbHVlLnRvU3RyaW5nOyBiPUdNX2dldFZhbHVlLnRvU3RyaW5nKCl9IGNhdGNoKGUpe30gICAgCiAgICBpZiAodHlwZW9mIEdNX2dldFZhbHVlID09PSAnZnVuY3Rpb24nICYmIAogICAgKGEgPT09ICd1bmRlZmluZWQnIHx8IGIuaW5kZXhPZignbm90IHN1cHBvcnRlZCcpID09PSAtMSkpIHsKICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKG5hbWUsIG51bGwpOyAvLyBHcmVhc2Vtb25rZXksIFRhbXBlcm1vbmtleSwgRmlyZWZveCBleHRlbnNpb24KICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxzPW51bGw7CiAgICAgICAgdHJ5IHtscz13aW5kb3cubG9jYWxTdG9yYWdlfHxudWxsfSBjYXRjaChlKXt9CiAgICAgICAgaWYgKGxzKSB7CiAgICAgICAgICByZXR1cm4gbHMuZ2V0SXRlbShuYW1lKTsgLy8gQ2hyb21lIHNjcmlwdCwgT3BlcmEgZXh0ZW5zaW9ucwogICAgICAgIH0KICAgIH0KICAgIHJldHVybjsKICB9CiAgCiAgZnVuY3Rpb24gc2V0UHJlZihuYW1lLCB2YWx1ZSkgeyAvLyAgY3Jvc3MtYnJvd3NlciBHTV9zZXRWYWx1ZQogICAgdmFyIGE9JycsIGI9Jyc7CiAgICB0cnkge2E9dHlwZW9mIEdNX3NldFZhbHVlLnRvU3RyaW5nOyBiPUdNX3NldFZhbHVlLnRvU3RyaW5nKCl9IGNhdGNoKGUpe30gICAgCiAgICBpZiAodHlwZW9mIEdNX3NldFZhbHVlID09PSAnZnVuY3Rpb24nICYmIAogICAgKGEgPT09ICd1bmRlZmluZWQnIHx8IGIuaW5kZXhPZignbm90IHN1cHBvcnRlZCcpID09PSAtMSkpIHsKICAgICAgR01fc2V0VmFsdWUobmFtZSwgdmFsdWUpOyAvLyBHcmVhc2Vtb25rZXksIFRhbXBlcm1vbmtleSwgRmlyZWZveCBleHRlbnNpb24KICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxzPW51bGw7CiAgICAgICAgdHJ5IHtscz13aW5kb3cubG9jYWxTdG9yYWdlfHxudWxsfSBjYXRjaChlKXt9CiAgICAgICAgaWYgKGxzKSB7CiAgICAgICAgICByZXR1cm4gbHMuc2V0SXRlbShuYW1lLCB2YWx1ZSk7IC8vIENocm9tZSBzY3JpcHQsIE9wZXJhIGV4dGVuc2lvbnMKICAgICAgICB9CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIGNyb3NzWG1sSHR0cFJlcXVlc3QoZGV0YWlscykgeyAvLyBjcm9zcy1icm93c2VyIEdNX3htbGh0dHBSZXF1ZXN0CiAgICBpZiAodHlwZW9mIEdNX3htbGh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7IC8vIEdyZWFzZW1vbmtleSwgVGFtcGVybW9ua2V5LCBGaXJlZm94IGV4dGVuc2lvbiwgQ2hyb21lIHNjcmlwdAogICAgICBHTV94bWxodHRwUmVxdWVzdChkZXRhaWxzKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5vcGVyYSAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm9wZXJhICYmIHR5cGVvZiBvcGVyYS5leHRlbnNpb24gIT09ICd1bmRlZmluZWQnICYmIAogICAgICAgICAgICAgICB0eXBlb2Ygb3BlcmEuZXh0ZW5zaW9uLnBvc3RNZXNzYWdlICE9PSAndW5kZWZpbmVkJykgeyAvLyBPcGVyYSAxMiBleHRlbnNpb24KICAgICAgICB2YXIgaW5kZXg9b3BlcmFUYWJsZS5sZW5ndGg7CiAgICAgICAgb3BlcmEuZXh0ZW5zaW9uLnBvc3RNZXNzYWdlKHsnYWN0aW9uJzoneGhyLScraW5kZXgsICd1cmwnOmRldGFpbHMudXJsLCAnbWV0aG9kJzpkZXRhaWxzLm1ldGhvZH0pOwogICAgICAgIG9wZXJhVGFibGVbaW5kZXhdPWRldGFpbHM7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cub3BlcmEgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBPcGVyYSAxNSsgZXh0ZW5zaW9uCiAgICAgICAgdmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkgewogICAgICAgICAgICBpZiAoZGV0YWlsc1snb25sb2FkJ10pIHsKICAgICAgICAgICAgICBkZXRhaWxzWydvbmxvYWQnXSh4aHIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHhoci5vcGVuKGRldGFpbHMubWV0aG9kLCBkZXRhaWxzLnVybCwgdHJ1ZSk7CiAgICAgICAgeGhyLnNlbmQoKTsKICAgIH0KICB9CiAgIAogIGZ1bmN0aW9uIGFkZEZpbGVTaXplKHVybCwgZm9ybWF0KSB7CiAgCiAgICBmdW5jdGlvbiB1cGRhdGVWaWRlb0xhYmVsKHNpemUsIGZvcm1hdCkgewogICAgICB2YXIgZWxlbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtmb3JtYXQpOwogICAgICBpZiAoZWxlbSkgewogICAgICAgIHNpemU9cGFyc2VJbnQoc2l6ZSwxMCk7CiAgICAgICAgaWYgKHNpemU+PTEwNzM3NDE4MjQpIHsKICAgICAgICAgIHNpemU9cGFyc2VGbG9hdCgoc2l6ZS8xMDczNzQxODI0KS50b0ZpeGVkKDEpKSsnIEdCJzsKICAgICAgICB9IGVsc2UgaWYgKHNpemU+PTEwNDg1NzYpIHsKICAgICAgICAgIHNpemU9cGFyc2VGbG9hdCgoc2l6ZS8xMDQ4NTc2KS50b0ZpeGVkKDEpKSsnIE1CJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2l6ZT1wYXJzZUZsb2F0KChzaXplLzEwMjQpLnRvRml4ZWQoMSkpKycgS0InOwogICAgICAgIH0KICAgICAgICBpZiAoZWxlbS5jaGlsZE5vZGVzLmxlbmd0aD4xKSB7CiAgICAgICAgICAgIGVsZW0ubGFzdENoaWxkLm5vZGVWYWx1ZT0nICgnK3NpemUrJyknOwogICAgICAgIH0gZWxzZSBpZiAoZWxlbS5jaGlsZE5vZGVzLmxlbmd0aD09MSkgewogICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgKCcrc2l6ZSsnKScpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgICAgICAKICAgIHZhciBtYXRjaFNpemU9ZmluZE1hdGNoKHVybCwgL1smXD9dY2xlbj0oWzAtOV0rKSYvaSk7CiAgICBpZiAobWF0Y2hTaXplKSB7CiAgICAgIHVwZGF0ZVZpZGVvTGFiZWwobWF0Y2hTaXplLCBmb3JtYXQpOwogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICBjcm9zc1htbEh0dHBSZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDonSEVBRCcsCiAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgb25sb2FkOmZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZWFkeVN0YXRlID09IDQgJiYgcmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgeyAvLyBhZGQgc2l6ZQogICAgICAgICAgICAgIHZhciBzaXplPTA7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgc2l6ZT1yZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1sZW5ndGgnKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnJlc3BvbnNlSGVhZGVycykgewogICAgICAgICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnXkNvbnRlbnRcLWxlbmd0aDogKC4qKSQnLCdpbScpOwogICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYyhyZXNwb25zZS5yZXNwb25zZUhlYWRlcnMpOwogICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICBzaXplPW1hdGNoWzFdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChzaXplKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVWaWRlb0xhYmVsKHNpemUsIGZvcm1hdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2goZSkgeyB9CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIGZpbmRTaWduYXR1cmVDb2RlKHNvdXJjZUNvZGUpIHsKICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IHNpZ25hdHVyZSBzdGFydCAnK2dldFByZWYoU1RPUkFHRV9DT0RFKSk7CiAgICB2YXIgc2lnbmF0dXJlRnVuY3Rpb25OYW1lID0gCiAgICBmaW5kTWF0Y2goc291cmNlQ29kZSwgCiAgICAvXC5zZXRccypcKCJzaWduYXR1cmUiXHMqLFxzKihbYS16QS1aMC05XyRdW1x3JF0qKVwoLykKICAgIHx8IGZpbmRNYXRjaChzb3VyY2VDb2RlLCAKICAgIC9cLnNpZ1xzKlx8XHxccyooW2EtekEtWjAtOV8kXVtcdyRdKilcKC8pCiAgICB8fCBmaW5kTWF0Y2goc291cmNlQ29kZSwgCiAgICAvXC5zaWduYXR1cmVccyo9XHMqKFthLXpBLVpfJF1bXHckXSopXChbYS16QS1aXyRdW1x3JF0qXCkvKTsgLy9vbGQKICAgIGlmIChzaWduYXR1cmVGdW5jdGlvbk5hbWUgPT0gbnVsbCkgcmV0dXJuIHNldFByZWYoU1RPUkFHRV9DT0RFLCAnZXJyb3InKTsKICAgIHNpZ25hdHVyZUZ1bmN0aW9uTmFtZT1zaWduYXR1cmVGdW5jdGlvbk5hbWUucmVwbGFjZSgnJCcsJ1xcJCcpOyAgICAKICAgIHZhciByZWdDb2RlID0gbmV3IFJlZ0V4cChzaWduYXR1cmVGdW5jdGlvbk5hbWUgKyAnXFxzKj1cXHMqZnVuY3Rpb24nICsKICAgICdcXHMqXFwoW1xcdyRdKlxcKVxccyp7W1xcdyRdKj1bXFx3JF0qXFwuc3BsaXRcXCgiIlxcKTtcbiooLispO3JldHVybiBbXFx3JF0qXFwuam9pbicpOwogICAgdmFyIHJlZ0NvZGUyID0gbmV3IFJlZ0V4cCgnZnVuY3Rpb24gXFxzKicgKyBzaWduYXR1cmVGdW5jdGlvbk5hbWUgKwogICAgJ1xccypcXChbXFx3JF0qXFwpXFxzKntbXFx3JF0qPVtcXHckXSpcXC5zcGxpdFxcKCIiXFwpO1xuKiguKyk7cmV0dXJuIFtcXHckXSpcXC5qb2luJyk7ICAgIAogICAgdmFyIGZ1bmN0aW9uQ29kZSA9IGZpbmRNYXRjaChzb3VyY2VDb2RlLCByZWdDb2RlKSB8fCBmaW5kTWF0Y2goc291cmNlQ29kZSwgcmVnQ29kZTIpOwogICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogc2lnbmF0dXJlZnVuY3Rpb24gJyArIHNpZ25hdHVyZUZ1bmN0aW9uTmFtZSArICcgLS0gJyArIGZ1bmN0aW9uQ29kZSk7ICAgICAgICAgICAgCiAgICBpZiAoZnVuY3Rpb25Db2RlID09IG51bGwpIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAKICAgIHZhciByZXZlcnNlRnVuY3Rpb25OYW1lID0gZmluZE1hdGNoKHNvdXJjZUNvZGUsIAogICAgLyhbXHckXSopXHMqOlxzKmZ1bmN0aW9uXHMqXChccypbXHckXSpccypcKVxzKntccyooPzpyZXR1cm5ccyopP1tcdyRdKlwucmV2ZXJzZVxzKlwoXHMqXClccyp9Lyk7CiAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiByZXZlcnNlZnVuY3Rpb24gJyArIHJldmVyc2VGdW5jdGlvbk5hbWUpOwogICAgaWYgKHJldmVyc2VGdW5jdGlvbk5hbWUpIHJldmVyc2VGdW5jdGlvbk5hbWU9cmV2ZXJzZUZ1bmN0aW9uTmFtZS5yZXBsYWNlKCckJywnXFwkJyk7ICAgICAgICAKICAgIHZhciBzbGljZUZ1bmN0aW9uTmFtZSA9IGZpbmRNYXRjaChzb3VyY2VDb2RlLCAKICAgIC8oW1x3JF0qKVxzKjpccypmdW5jdGlvblxzKlwoXHMqW1x3JF0qXHMqLFxzKltcdyRdKlxzKlwpXHMqe1xzKig/OnJldHVyblxzKik/W1x3JF0qXC4oPzpzbGljZXxzcGxpY2UpXCguK1wpXHMqfS8pOwogICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogc2xpY2VmdW5jdGlvbiAnICsgc2xpY2VGdW5jdGlvbk5hbWUpOwogICAgaWYgKHNsaWNlRnVuY3Rpb25OYW1lKSBzbGljZUZ1bmN0aW9uTmFtZT1zbGljZUZ1bmN0aW9uTmFtZS5yZXBsYWNlKCckJywnXFwkJyk7ICAgIAogICAgCiAgICB2YXIgcmVnU2xpY2UgPSBuZXcgUmVnRXhwKCdcXC4oPzonKydzbGljZScrKHNsaWNlRnVuY3Rpb25OYW1lPyd8JytzbGljZUZ1bmN0aW9uTmFtZTonJykrCiAgICAnKVxccypcXChcXHMqKD86W2EtekEtWl8kXVtcXHckXSpcXHMqLCk/XFxzKihbMC05XSspXFxzKlxcKScpOyAvLyAuc2xpY2UoNSkgc2F1IC5IZihhLDUpCiAgICB2YXIgcmVnUmV2ZXJzZSA9IG5ldyBSZWdFeHAoJ1xcLig/OicrJ3JldmVyc2UnKyhyZXZlcnNlRnVuY3Rpb25OYW1lPyd8JytyZXZlcnNlRnVuY3Rpb25OYW1lOicnKSsKICAgICcpXFxzKlxcKFteXFwpXSpcXCknKTsgIC8vIC5yZXZlcnNlKCkgc2F1IC5HZihhLDQ1KQogICAgdmFyIHJlZ1N3YXAgPSBuZXcgUmVnRXhwKCdbXFx3JF0rXFxzKlxcKFxccypbXFx3JF0rXFxzKixcXHMqKFswLTldKylcXHMqXFwpJyk7CiAgICB2YXIgcmVnSW5saW5lID0gbmV3IFJlZ0V4cCgnW1xcdyRdK1xcWzBcXF1cXHMqPVxccypbXFx3JF0rXFxbKFswLTldKylcXHMqJVxccypbXFx3JF0rXFwubGVuZ3RoXFxdJyk7CiAgICB2YXIgZnVuY3Rpb25Db2RlUGllY2VzPWZ1bmN0aW9uQ29kZS5zcGxpdCgnOycpOwogICAgdmFyIGRlY29kZUFycmF5PVtdOwogICAgZm9yICh2YXIgaT0wOyBpPGZ1bmN0aW9uQ29kZVBpZWNlcy5sZW5ndGg7IGkrKykgewogICAgICBmdW5jdGlvbkNvZGVQaWVjZXNbaV09ZnVuY3Rpb25Db2RlUGllY2VzW2ldLnRyaW0oKTsKICAgICAgdmFyIGNvZGVMaW5lPWZ1bmN0aW9uQ29kZVBpZWNlc1tpXTsKICAgICAgaWYgKGNvZGVMaW5lLmxlbmd0aD4wKSB7CiAgICAgICAgdmFyIGFyclNsaWNlPWNvZGVMaW5lLm1hdGNoKHJlZ1NsaWNlKTsKICAgICAgICB2YXIgYXJyUmV2ZXJzZT1jb2RlTGluZS5tYXRjaChyZWdSZXZlcnNlKTsKICAgICAgICBkZWJ1ZyhpKyc6ICcrY29kZUxpbmUrJyAtLScrKGFyclNsaWNlPycgc2xpY2UgbGVuZ3RoICcrYXJyU2xpY2UubGVuZ3RoOicnKSArJyAnKyhhcnJSZXZlcnNlPydyZXZlcnNlJzonJykpOwogICAgICAgIGlmIChhcnJTbGljZSAmJiBhcnJTbGljZS5sZW5ndGggPj0gMikgeyAvLyBzbGljZQogICAgICAgIHZhciBzbGljZT1wYXJzZUludChhcnJTbGljZVsxXSwgMTApOwogICAgICAgIGlmIChpc0ludGVnZXIoc2xpY2UpKXsgCiAgICAgICAgICBkZWNvZGVBcnJheS5wdXNoKC1zbGljZSk7CiAgICAgICAgfSBlbHNlIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAgIH0gZWxzZSBpZiAoYXJyUmV2ZXJzZSAmJiBhcnJSZXZlcnNlLmxlbmd0aCA+PSAxKSB7IC8vIHJldmVyc2UKICAgICAgICBkZWNvZGVBcnJheS5wdXNoKDApOwogICAgICB9IGVsc2UgaWYgKGNvZGVMaW5lLmluZGV4T2YoJ1swXScpID49IDApIHsgLy8gaW5saW5lIHN3YXAKICAgICAgICAgIGlmIChpKzI8ZnVuY3Rpb25Db2RlUGllY2VzLmxlbmd0aCAmJgogICAgICAgICAgZnVuY3Rpb25Db2RlUGllY2VzW2krMV0uaW5kZXhPZignLmxlbmd0aCcpID49IDAgJiYKICAgICAgICAgIGZ1bmN0aW9uQ29kZVBpZWNlc1tpKzFdLmluZGV4T2YoJ1swXScpID49IDApIHsKICAgICAgICAgICAgdmFyIGlubGluZT1maW5kTWF0Y2goZnVuY3Rpb25Db2RlUGllY2VzW2krMV0sIHJlZ0lubGluZSk7CiAgICAgICAgICAgIGlubGluZT1wYXJzZUludChpbmxpbmUsIDEwKTsKICAgICAgICAgICAgZGVjb2RlQXJyYXkucHVzaChpbmxpbmUpOwogICAgICAgICAgICBpKz0yOwogICAgICAgICAgfSBlbHNlIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAgIH0gZWxzZSBpZiAoY29kZUxpbmUuaW5kZXhPZignLCcpID49IDApIHsgLy8gc3dhcAogICAgICAgIHZhciBzd2FwPWZpbmRNYXRjaChjb2RlTGluZSwgcmVnU3dhcCk7ICAgICAgCiAgICAgICAgc3dhcD1wYXJzZUludChzd2FwLCAxMCk7CiAgICAgICAgaWYgKGlzSW50ZWdlcihzd2FwKSAmJiBzd2FwPjApewogICAgICAgICAgZGVjb2RlQXJyYXkucHVzaChzd2FwKTsKICAgICAgICB9IGVsc2UgcmV0dXJuIHNldFByZWYoU1RPUkFHRV9DT0RFLCAnZXJyb3InKTsKICAgICAgfSBlbHNlIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAgIH0KICAgIH0KICAgIAogICAgaWYgKGRlY29kZUFycmF5KSB7CiAgICAgIHNldFByZWYoU1RPUkFHRV9VUkwsIHNjcmlwdFVSTCk7CiAgICAgIHNldFByZWYoU1RPUkFHRV9DT0RFLCBkZWNvZGVBcnJheS50b1N0cmluZygpKTsKICAgICAgREVDT0RFX1JVTEU9ZGVjb2RlQXJyYXk7CiAgICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IHNpZ25hdHVyZSAnK2RlY29kZUFycmF5LnRvU3RyaW5nKCkrJyAnK3NjcmlwdFVSTCk7CiAgICAgIC8vIHVwZGF0ZSBkb3dubG9hZCBsaW5rcyBhbmQgYWRkIGZpbGUgc2l6ZXMKICAgICAgZm9yICh2YXIgaT0wO2k8ZG93bmxvYWRDb2RlTGlzdC5sZW5ndGg7aSsrKSB7ICAgICAgICAKICAgICAgICB2YXIgZWxlbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtkb3dubG9hZENvZGVMaXN0W2ldLmZvcm1hdCk7CiAgICAgICAgdmFyIHVybD1kb3dubG9hZENvZGVMaXN0W2ldLnVybDsKICAgICAgICB2YXIgc2lnPWRvd25sb2FkQ29kZUxpc3RbaV0uc2lnOwogICAgICAgIGlmIChlbGVtICYmIHVybCAmJiBzaWcpIHsKICAgICAgICAgIHVybD11cmwucmVwbGFjZSgvXCZzaWduYXR1cmU9W1x3XC5dKy8sICcmc2lnbmF0dXJlPScrZGVjcnlwdFNpZ25hdHVyZShzaWcpKTsKICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpOwogICAgICAgICAgYWRkRmlsZVNpemUodXJsLCBkb3dubG9hZENvZGVMaXN0W2ldLmZvcm1hdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIGlzVmFsaWRTaWduYXR1cmVDb2RlKGFycikgeyAvLyB2YWxpZCB2YWx1ZXM6ICc1LC0zLDAsMiw1JywgJ2Vycm9yJwogICAgaWYgKCFhcnIpIHJldHVybiBmYWxzZTsKICAgIGlmIChhcnI9PSdlcnJvcicpIHJldHVybiB0cnVlOwogICAgYXJyPWFyci5zcGxpdCgnLCcpOwogICAgZm9yICh2YXIgaT0wO2k8YXJyLmxlbmd0aDtpKyspIHsKICAgICAgaWYgKCFpc0ludGVnZXIocGFyc2VJbnQoYXJyW2ldLDEwKSkpIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KICAKICBmdW5jdGlvbiBmZXRjaFNpZ25hdHVyZVNjcmlwdChzY3JpcHRVUkwpIHsKICAgIHZhciBzdG9yYWdlVVJMPWdldFByZWYoU1RPUkFHRV9VUkwpOwogICAgdmFyIHN0b3JhZ2VDb2RlPWdldFByZWYoU1RPUkFHRV9DT0RFKTsKICAgIGlmICghKC8sMCx8XjAsfCwwJHxcLS8udGVzdChzdG9yYWdlQ29kZSkpKSBzdG9yYWdlQ29kZT1udWxsOyAvLyBoYWNrIGZvciBvbmx5IHBvc2l0aXZlIGl0ZW1zCiAgICBpZiAoc3RvcmFnZUNvZGUgJiYgaXNWYWxpZFNpZ25hdHVyZUNvZGUoc3RvcmFnZUNvZGUpICYmIHN0b3JhZ2VVUkwgJiYKICAgICAgICBzY3JpcHRVUkw9PWFic29sdXRlVVJMKHN0b3JhZ2VVUkwpKSByZXR1cm47CiAgICB0cnkgewogICAgICBkZWJ1ZygnRFlWQU0gZmV0Y2ggJytzY3JpcHRVUkwpOwogICAgICBpc1NpZ25hdHVyZVVwZGF0aW5nU3RhcnRlZD10cnVlOyAgICAKICAgICAgY3Jvc3NYbWxIdHRwUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgIHVybDpzY3JpcHRVUkwsCiAgICAgICAgb25sb2FkOmZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBkZWJ1ZygnRFlWQU0gZmV0Y2ggc3RhdHVzICcrcmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICAgIGlmIChyZXNwb25zZS5yZWFkeVN0YXRlID09PSA0ICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkgewogICAgICAgICAgICBmaW5kU2lnbmF0dXJlQ29kZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfQogICAgICAgIH0gCiAgICAgIH0pOwogICAgfSBjYXRjaChlKSB7IH0KICB9CiAgCiAgZnVuY3Rpb24gZ2V0RGVjb2RlUnVsZXMocnVsZXMpIHsKICAgIHZhciBzdG9yYWdlQ29kZT1nZXRQcmVmKFNUT1JBR0VfQ09ERSk7ICAgIAogICAgaWYgKHN0b3JhZ2VDb2RlICYmIHN0b3JhZ2VDb2RlIT0nZXJyb3InICYmIGlzVmFsaWRTaWduYXR1cmVDb2RlKHN0b3JhZ2VDb2RlKSkgewogICAgICB2YXIgYXJyPXN0b3JhZ2VDb2RlLnNwbGl0KCcsJyk7CiAgICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBhcnJbaV09cGFyc2VJbnQoYXJyW2ldLCAxMCk7CiAgICAgIH0KICAgICAgcnVsZXM9YXJyOwogICAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBzaWduYXR1cmUgJythcnIudG9TdHJpbmcoKSsnICcrc2NyaXB0VVJMKTsKICAgIH0KICAgIHJldHVybiBydWxlczsKICB9CiAgCiAgZnVuY3Rpb24gZGVjcnlwdFNpZ25hdHVyZShzaWcpIHsKICAgIGZ1bmN0aW9uIHN3YXAoYSxiKXt2YXIgYz1hWzBdO2FbMF09YVtiJWEubGVuZ3RoXTthW2JdPWM7cmV0dXJuIGF9OwogICAgZnVuY3Rpb24gZGVjb2RlKHNpZywgYXJyKSB7IC8vIGVuY29kZWQgZGVjcnlwdGlvbgogICAgICBpZiAoIWlzU3RyaW5nKHNpZykpIHJldHVybiBudWxsOwogICAgICB2YXIgc2lnQT1zaWcuc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBpPTA7aTxhcnIubGVuZ3RoO2krKykgewogICAgICAgIHZhciBhY3Q9YXJyW2ldOwogICAgICAgIGlmICghaXNJbnRlZ2VyKGFjdCkpIHJldHVybiBudWxsOwogICAgICAgIHNpZ0E9KGFjdD4wKT9zd2FwKHNpZ0EsIGFjdCk6KChhY3Q9PTApP3NpZ0EucmV2ZXJzZSgpOnNpZ0Euc2xpY2UoLWFjdCkpOwogICAgICB9CiAgICAgIHZhciByZXN1bHQ9c2lnQS5qb2luKCcnKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIAogICAgaWYgKHNpZz09bnVsbCkgcmV0dXJuICcnOyAgICAKICAgIHZhciBhcnI9REVDT0RFX1JVTEU7CiAgICBpZiAoYXJyKSB7CiAgICAgIHZhciBzaWcyPWRlY29kZShzaWcsIGFycik7CiAgICAgIGlmIChzaWcyKSByZXR1cm4gc2lnMjsKICAgIH0gZWxzZSB7CiAgICAgIHNldFByZWYoU1RPUkFHRV9VUkwsICcnKTsKICAgICAgc2V0UHJlZihTVE9SQUdFX0NPREUsICcnKTsKICAgIH0KICAgIHJldHVybiBzaWc7IAogIH0gIAogICAgICAKICB9CiAKfSkoKTs="},{"name":"verycd","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://www.verycd.com/topics/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970064},"enabled":true,"position":14,"file_url":"https://greasyfork.org/scripts/301-verycd%E8%A1%A5%E5%85%A8%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5/code/verycd%E8%A1%A5%E5%85%A8%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5.user.js","uuid":"d933daed-5656-4deb-8487-45b5264974f9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGlkICAgICAgICAgICAgIHZlcnljZEB5d3poYWlxaUBnbWFpbC5jb20KLy8gQG5hbWUgICAgICAgICAgIHZlcnljZOihpeWFqOS4i+i9vemTvuaOpQovLyBAdmVyc2lvbiAgICAgICAgMS41LjMKLy8gQGF1dGhvciAgICAgICAgIHl3emhhaXFpQGdtYWlsLmNvbQovLyBAbmFtZXNwYWNlICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3l3emhhaXFpCi8vIEBkZXNjcmlwdGlvbiAgICDlnKggdmVyeWNkIOmhtemdouebtOaOpeaYvuekuuS4i+i9vemTvuaOpe+8jOWPr+mAmui/h+WkmuS4quermeeCueiOt+WPlu+8jOmYsuatouWkseaViOOAggovLyBkb3dubG9hZFVSTCAgICAgaHR0cDovL3VzZXJzY3JpcHRzLm9yZy9zY3JpcHRzL3NvdXJjZS8xNTg3NjQudXNlci5qcwovLyB1cGRhdGVVUkwgICAgICAgaHR0cDovL3VzZXJzY3JpcHRzLm9yZy9zY3JpcHRzL3NvdXJjZS8xNTg3NjQubWV0YS5qcwoKLy8gQGhvbWVwYWdlVVJMICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zMDEvCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnZlcnljZC5jb20vdG9waWNzLyoKLy8gQHJlcXVpcmUgICAgICAgIGh0dHA6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTEuOS4xLm1pbi5qcwovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX2FkZFN0eWxlCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIGRlYnVnID0gZmFsc2U7Cgp2YXIgeGJ1ZyA9IGRlYnVnID8gY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24oKXt9LAogICAgeGxvZyA9IGRlYnVnID8gY29uc29sZS5sb2cuYmluZChjb25zb2xlKSA6IGZ1bmN0aW9uKCl7fTsKCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIOS4gOS6m+i+heWKqeWHveaVsCAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiQuZXh0ZW5kKHsKICAgIHRtcGw6IGZ1bmN0aW9uKHRlbXBsYXRlLCBkYXRhKXsKICAgICAgICByZXR1cm4gZG9ULnRlbXBsYXRlKHRlbXBsYXRlKS5hcHBseShudWxsLFtkYXRhXSk7CiAgICB9Cn0pOwoKLyogTGF1cmEgRG9rdG9yb3ZhIGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QgKi8KKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbygpe3ZhciBhPXsiJiI6IiYjMzg7IiwiPCI6IiYjNjA7IiwiPiI6IiYjNjI7IiwnIic6IiYjMzQ7IiwiJyI6IiYjMzk7IiwiLyI6IiYjNDc7In0sYj0vJig/ISM/XHcrOyl8PHw+fCJ8J3xcLy9nO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzP3RoaXMucmVwbGFjZShiLGZ1bmN0aW9uKGMpe3JldHVybiBhW2NdfHxjfSk6dGhpc319ZnVuY3Rpb24gcChhLGIsYyl7cmV0dXJuKHR5cGVvZiBiPT09InN0cmluZyI/YjpiLnRvU3RyaW5nKCkpLnJlcGxhY2UoYS5kZWZpbmV8fGksZnVuY3Rpb24obCxlLGYsZyl7aWYoZS5pbmRleE9mKCJkZWYuIik9PT0wKWU9ZS5zdWJzdHJpbmcoNCk7aWYoIShlIGluIGMpKWlmKGY9PT0iOiIpe2EuZGVmaW5lUGFyYW1zJiZnLnJlcGxhY2UoYS5kZWZpbmVQYXJhbXMsZnVuY3Rpb24obixoLGQpe2NbZV09e2FyZzpoLHRleHQ6ZH19KTtlIGluIGN8fChjW2VdPWcpfWVsc2UobmV3IEZ1bmN0aW9uKCJkZWYiLCJkZWZbJyIrCmUrIiddPSIrZykpKGMpO3JldHVybiIifSkucmVwbGFjZShhLnVzZXx8aSxmdW5jdGlvbihsLGUpe2lmKGEudXNlUGFyYW1zKWU9ZS5yZXBsYWNlKGEudXNlUGFyYW1zLGZ1bmN0aW9uKGcsbixoLGQpe2lmKGNbaF0mJmNbaF0uYXJnJiZkKXtnPShoKyI6IitkKS5yZXBsYWNlKC8nfFxcL2csIl8iKTtjLl9fZXhwPWMuX19leHB8fHt9O2MuX19leHBbZ109Y1toXS50ZXh0LnJlcGxhY2UoUmVnRXhwKCIoXnxbXlxcdyRdKSIrY1toXS5hcmcrIihbXlxcdyRdKSIsImciKSwiJDEiK2QrIiQyIik7cmV0dXJuIG4rImRlZi5fX2V4cFsnIitnKyInXSJ9fSk7dmFyIGY9KG5ldyBGdW5jdGlvbigiZGVmIiwicmV0dXJuICIrZSkpKGMpO3JldHVybiBmP3AoYSxmLGMpOmZ9KX1mdW5jdGlvbiBtKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcKCd8XFwpL2csIiQxIikucmVwbGFjZSgvW1xyXHRcbl0vZywiICIpfXZhciBqPXt2ZXJzaW9uOiIxLjAuMSIsdGVtcGxhdGVTZXR0aW5nczp7ZXZhbHVhdGU6L1x7XHsoW1xzXFNdKz8oXH0/KSspXH1cfS9nLAppbnRlcnBvbGF0ZTovXHtcez0oW1xzXFNdKz8pXH1cfS9nLGVuY29kZTovXHtceyEoW1xzXFNdKz8pXH1cfS9nLHVzZTovXHtceyMoW1xzXFNdKz8pXH1cfS9nLHVzZVBhcmFtczovKF58W15cdyRdKWRlZig/OlwufFxbW1wnXCJdKShbXHckXC5dKykoPzpbXCdcIl1cXSk/XHMqXDpccyooW1x3JFwuXSt8XCJbXlwiXStcInxcJ1teXCddK1wnfFx7W15cfV0rXH0pL2csZGVmaW5lOi9ce1x7IyNccyooW1x3XC4kXSspXHMqKFw6fD0pKFtcc1xTXSs/KSNcfVx9L2csZGVmaW5lUGFyYW1zOi9eXHMqKFtcdyRdKyk6KFtcc1xTXSspLyxjb25kaXRpb25hbDovXHtce1w/KFw/KT9ccyooW1xzXFNdKj8pXHMqXH1cfS9nLGl0ZXJhdGU6L1x7XHt+XHMqKD86XH1cfXwoW1xzXFNdKz8pXHMqXDpccyooW1x3JF0rKVxzKig/Olw6XHMqKFtcdyRdKykpP1xzKlx9XH0pL2csdmFybmFtZToiaXQiLHN0cmlwOnRydWUsYXBwZW5kOnRydWUsc2VsZmNvbnRhaW5lZDpmYWxzZX0sdGVtcGxhdGU6dW5kZWZpbmVkLApjb21waWxlOnVuZGVmaW5lZH0scTtpZih0eXBlb2YgbW9kdWxlIT09InVuZGVmaW5lZCImJm1vZHVsZS5leHBvcnRzKW1vZHVsZS5leHBvcnRzPWo7ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZClkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gan0pO2Vsc2V7cT1mdW5jdGlvbigpe3JldHVybiB0aGlzfHwoMCxldmFsKSgidGhpcyIpfSgpO3EuZG9UPWp9U3RyaW5nLnByb3RvdHlwZS5lbmNvZGVIVE1MPW8oKTt2YXIgcj17YXBwZW5kOntzdGFydDoiJysoIixlbmQ6IikrJyIsZW5kZW5jb2RlOiJ8fCcnKS50b1N0cmluZygpLmVuY29kZUhUTUwoKSsnIn0sc3BsaXQ6e3N0YXJ0OiInO291dCs9KCIsZW5kOiIpO291dCs9JyIsZW5kZW5jb2RlOiJ8fCcnKS50b1N0cmluZygpLmVuY29kZUhUTUwoKTtvdXQrPScifX0saT0vJF4vO2oudGVtcGxhdGU9ZnVuY3Rpb24oYSxiLGMpe2I9Ynx8ai50ZW1wbGF0ZVNldHRpbmdzO3ZhciBsPWIuYXBwZW5kP3IuYXBwZW5kOgpyLnNwbGl0LGUsZj0wLGc7YT1iLnVzZXx8Yi5kZWZpbmU/cChiLGEsY3x8e30pOmE7YT0oInZhciBvdXQ9JyIrKGIuc3RyaXA/YS5yZXBsYWNlKC8oXnxccnxcbilcdCogK3wgK1x0KihccnxcbnwkKS9nLCIgIikucmVwbGFjZSgvXHJ8XG58XHR8XC9cKltcc1xTXSo/XCpcLy9nLCIiKTphKS5yZXBsYWNlKC8nfFxcL2csIlxcJCYiKS5yZXBsYWNlKGIuaW50ZXJwb2xhdGV8fGksZnVuY3Rpb24oaCxkKXtyZXR1cm4gbC5zdGFydCttKGQpK2wuZW5kfSkucmVwbGFjZShiLmVuY29kZXx8aSxmdW5jdGlvbihoLGQpe2U9dHJ1ZTtyZXR1cm4gbC5zdGFydCttKGQpK2wuZW5kZW5jb2RlfSkucmVwbGFjZShiLmNvbmRpdGlvbmFsfHxpLGZ1bmN0aW9uKGgsZCxrKXtyZXR1cm4gZD9rPyInO31lbHNlIGlmKCIrbShrKSsiKXtvdXQrPSciOiInO31lbHNle291dCs9JyI6az8iJztpZigiK20oaykrIil7b3V0Kz0nIjoiJzt9b3V0Kz0nIn0pLnJlcGxhY2UoYi5pdGVyYXRlfHxpLGZ1bmN0aW9uKGgsCmQsayxzKXtpZighZClyZXR1cm4iJzt9IH0gb3V0Kz0nIjtmKz0xO2c9c3x8ImkiK2Y7ZD1tKGQpO3JldHVybiInO3ZhciBhcnIiK2YrIj0iK2QrIjtpZihhcnIiK2YrIil7dmFyICIraysiLCIrZysiPS0xLGwiK2YrIj1hcnIiK2YrIi5sZW5ndGgtMTt3aGlsZSgiK2crIjxsIitmKyIpeyIraysiPWFyciIrZisiWyIrZysiKz0xXTtvdXQrPScifSkucmVwbGFjZShiLmV2YWx1YXRlfHxpLGZ1bmN0aW9uKGgsZCl7cmV0dXJuIic7IittKGQpKyJvdXQrPScifSkrIic7cmV0dXJuIG91dDsiKS5yZXBsYWNlKC9cbi9nLCJcXG4iKS5yZXBsYWNlKC9cdC9nLCJcXHQiKS5yZXBsYWNlKC9cci9nLCJcXHIiKS5yZXBsYWNlKC8oXHN8O3xcfXxefFx7KW91dFwrPScnOy9nLCIkMSIpLnJlcGxhY2UoL1wrJycvZywiIikucmVwbGFjZSgvKFxzfDt8XH18XnxceylvdXRcKz0nJ1wrL2csIiQxb3V0Kz0iKTtpZihlJiZiLnNlbGZjb250YWluZWQpYT0iU3RyaW5nLnByb3RvdHlwZS5lbmNvZGVIVE1MPSgiKwpvLnRvU3RyaW5nKCkrIigpKTsiK2E7dHJ5e3JldHVybiBuZXcgRnVuY3Rpb24oYi52YXJuYW1lLGEpfWNhdGNoKG4pe3R5cGVvZiBjb25zb2xlIT09InVuZGVmaW5lZCImJmNvbnNvbGUubG9nKCJDb3VsZCBub3QgY3JlYXRlIGEgdGVtcGxhdGUgZnVuY3Rpb246ICIrYSk7dGhyb3cgbjt9fTtqLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gai50ZW1wbGF0ZShhLG51bGwsYil9fSkoKTsKCgpGdW5jdGlvbi5wcm90b3R5cGUuZ2V0TXVsdGlMaW5lID0gZnVuY3Rpb24oKSB7ICAvLyDlpJrooYxTdHJpbmcKICAgIHZhciBsaW5lcyA9IG5ldyBTdHJpbmcodGhpcyk7CiAgICBsaW5lcyA9IGxpbmVzLnN1YnN0cmluZyhsaW5lcy5pbmRleE9mKCIvKiIpICsgMywgbGluZXMubGFzdEluZGV4T2YoIiovIikpOwogICAgcmV0dXJuIGxpbmVzOwp9CgpmdW5jdGlvbiBnZXREb2ModXJsLCBjYWxsYmFjaywgZGF0YSl7CiAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiBkYXRhID8gJ1BPU1QnIDogJ0dFVCcsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnVXNlci1hZ2VudCc6IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAgICAgICAnQ29udGVudC10eXBlJzogKGRhdGEpID8gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgOiBudWxsCiAgICAgICAgfSwKICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlRGV0YWlsKXsKICAgICAgICAgICAgdmFyIGRvYyA9ICcnOwogICAgICAgICAgICBpZihyZXNwb25zZURldGFpbC5zdGF0dXMgPT0gMjAwKXsKICAgICAgICAgICAgICAgIC8vIEZvciBGaXJlZm94LCBDaHJvbWUgMzArIFN1cHBvcnRlZAogICAgICAgICAgICAgICAgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZURldGFpbC5yZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoZG9jID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTsKICAgICAgICAgICAgICAgICAgICBkb2MucXVlcnlTZWxlY3RvcignaHRtbCcpLmlubmVySFRNTCA9IHJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYWxsYmFjayhkb2MpOwogICAgICAgIH0KICAgIH0pOwp9CgpmdW5jdGlvbiBieXRlMlN0cihpbnApIHsKICAgIHZhciBmID0gcGFyc2VGbG9hdChpbnApLAogICAgICAgIHVuaXQgPSBbJ+Wtl+iKgicsICdLQicsICdNQicsICdHQicsICdUQiddLAogICAgICAgIGZVbml0ID0gMDsKICAgIHdoaWxlIChmID4gMTEyNikgewogICAgICAgIGYgLz0gMTAyNDsKICAgICAgICBmVW5pdCArPSAxOwogICAgfQogICAgcmV0dXJuIGYudG9GaXhlZCgyKS50b1N0cmluZygpICsgJyAnICsgKHVuaXRbZlVuaXRdIHx8ICfmnKrnn6XljZXkvY0nKTsKfQoKZnVuY3Rpb24gZWQya0xpbmsoYUhyZWYpIHsKICAgIHZhciBlZDJrQXJyID0gYUhyZWYuc3Vic3RyKDAsIGFIcmVmLmxlbmd0aCAtIDIpLnN1YnN0cigxMykuc3BsaXQoJ3wnKTsKICAgIHJldHVybiAoewogICAgICAgIHVybDogYUhyZWYsCiAgICAgICAgbmFtZTogZGVjb2RlVVJJQ29tcG9uZW50KGVkMmtBcnJbMF0pLAogICAgICAgIHNpemU6IHBhcnNlSW50KGVkMmtBcnJbMV0pLAogICAgICAgIHNpenM6IGJ5dGUyU3RyKGVkMmtBcnJbMV0pLAogICAgICAgIGhhc2g6IGVkMmtBcnJbMl0sCiAgICAgICAgZXh0cjogZWQya0FyclszXQogICAgfSk7Cn0KCgp2YXIgVkVSWUNEID0gewogICAgcm9vdDogJCgnI2lwdGNvbUVEMksnKSwKICAgIHRpdGxlOiAkKCcjdG9waWNzdGl0bGUnKS50ZXh0KCksCiAgICBjdXJTaXRlUG9zOiAwLAoKICAgIGluaXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmKCF0aGlzLnJvb3QpewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdyb290IGlzIG51bGwnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGVsZW0gPSB0aGlzLnJvb3QuZmluZCgnZGl2Jyk7CiAgICAgICAgaWYoZWxlbS50ZXh0KCkuc3Vic3RyKDAsIDMpID09ICfor6XlhoXlrrknKSB7CiAgICAgICAgICAgIGVsZW0udGV4dCgn5q2j5Zyo5Yqg6L2977yM6K+356iN5YCZ44CC44CC44CCJyk7CgogICAgICAgICAgICB0aGlzLmRpc3BsYXlfc2l0ZXMoKTsKCiAgICAgICAgICAgIHRoaXMuZ2V0KFZFUllDRC5jdXJTaXRlUG9zKTsKICAgICAgICB9CgogICAgfSwKCiAgICBkaXNwbGF5X3NpdGVzOiBmdW5jdGlvbigpewogICAgICAgIC8vIOaPkuWFpeWFtuS7luermeeCueeahOmTvuaOpQogICAgICAgICQoJyNpcHRjb21FRDJLJykuYmVmb3JlKAogICAgICAgICAgICAkLnRtcGwoVkVSWUNELnRwbF9zaXRlcywgVkVSWUNEKQogICAgICAgICAgICApOwogICAgfSwKCiAgICBkaXNwbGF5X2NvbnRlbnQ6IGZ1bmN0aW9uKGVkMmtzKXsKICAgICAgICAvLyDmt7vliqDliLAg572R6aG15LitCiAgICAgICAgJCgnI2lwdGNvbUVEMksnKS5odG1sKAogICAgICAgICAgICAkLnRtcGwoVkVSWUNELnRwbF9jb250ZW50LCBlZDJrcykKICAgICAgICAgICAgKTsKICAgICAgICAvLyDorqHnrpfmgLvnmoTlpKflsI8KICAgICAgICB1bnNhZmVXaW5kb3cuZW1fc2l6ZSgnRU00ZTc1OWY5NjczNTU0Jyk7CiAgICB9LAoKICAgIHRwbF9zaXRlczogZnVuY3Rpb24oKXsgIC8vIOaPkuWFpeeahOWktOmDqOaooeadvwogICAgICAgIC8qCiAgICAgICAgPHRhYmxlIGlkPSJvdGhlcl9saW5rcyI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIHt7IGZvcih2YXIgaSA9IDAsIGwgPSBpdC5zaXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspeyB9fQogICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgIDxhICBpZD0ie3s9aXQuc2l0ZXNbaV0uaWR9fSIgaHJlZj0ie3s9aXQuc2l0ZXNbaV0udXJsfX0iIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyBwYWRkaW5nOiAycHggMTZweDsgY3Vyc29yOiBwb2ludGVyOyI+CiAgICAgICAgICAgICAgICAgICAg5pi+56S66LWE5rqQOiB7ez1pdC5zaXRlc1tpXS5uYW1lfX0KICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAge3sgfSB9fQogICAgICAgICAgICA8dHI+CiAgICAgICAgPC90YWJsZT4KICAgICAgICAqLwogICAgfS5nZXRNdWx0aUxpbmUoKSwKCiAgICB0cGxfY29udGVudDogZnVuY3Rpb24oKXsgIC8vIOaPkuWFpeeahOWGheWuueaooeadvwogICAgICAgIC8qCiAgICAgICAgPGRpdiBjbGFzcz0iZW11bGV0b3AiPueUtemptOi1hOa6kDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJlbXVsZW1haW4iPgogICAgICAgICAgICAgICAgPHRhYmxlIHdpZHRoPSIxMDAlIiBjZWxsc3BhY2luZz0iMSIgY2VsbHBhZGRpbmc9IjIiPgogICAgICAgICAgICAgICAgICAgIHt7IGZvcih2YXIgaT0wLCBsPWl0Lmxlbmd0aDsgaTxsOyBpKyspeyB9fQogICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPSJ7ez1pdFtpXS51cmx9fSIgbmFtZT0iRU00ZTc1OWY5NjczNTU0IiBvbmNsaWNrPSJlbV9zaXplKCdFTTRlNzU5Zjk2NzM1NTQnKTsiIGNoZWNrZWQ9ImNoZWNrZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0iY2hlY2tib3giIHN0eWxlPSJjdXJzb3I6IHBvaW50ZXI7IiBjbGFzcz0iZm9ybWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Int7PWl0W2ldLnVybH19IiBlZDJrPSJ7ez1pdFtpXS51cmx9fSI+e3s9aXRbaV0ubmFtZX19PC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgYWxpZ249ImNlbnRlciI+e3s9aXRbaV0uc2l6c319PC90ZD4KICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIHt7IH0gfX0KICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIGFsaWduPSJsZWZ0IiBjbGFzcz0icG9zdDIiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2hlY2tlZD0iIiBjbGFzcz0iZm9ybWlucHV0IiBpZD0iY2hlY2thbGxfRU00ZTc1OWY5NjczNTU0IiBvbmNsaWNrPSJjaGVja0FsbCgnRU00ZTc1OWY5NjczNTU0Jyx0aGlzLmNoZWNrZWQpIj4gPGxhYmVsIGZvcj0iY2hlY2thbGxfRU00ZTc1OWY5NjczNTU0Ij7lhajpgIk8L2xhYmVsPiA8aW5wdXQgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnV0dG9uIGRvd25hbGwiIHZhbHVlPSLkuIvovb3pgInkuK3nmoTmlofku7YiIG9uY2xpY2s9ImRvd25sb2FkKCdFTTRlNzU5Zjk2NzM1NTQnLDAsMSkiPiA8c3BhbiBpZD0idXBkYXRlZmxhc2hFTTRlNzU5Zjk2NzM1NTQiPjxvYmplY3Qgd2lkdGg9IjEzNiIgaGVpZ2h0PSIyMCIgYWxpZ249Im1pZGRsZSIgY2xhc3M9ImNvcHlmbGFzaCIgaWQ9ImVkMmtjb3B5X0VNNGU3NTlmOTY3MzU1NCIgY29kZWJhc2U9Imh0dHA6Ly9kb3dubG9hZC5tYWNyb21lZGlhLmNvbS9wdWIvc2hvY2t3YXZlL2NhYnMvZmxhc2gvc3dmbGFzaC5jYWIjdmVyc2lvbj05LDAsMCwwIiBjbGFzc2lkPSJjbHNpZDpkMjdjZGI2ZS1hZTZkLTExY2YtOTZiOC00NDQ1NTM1NDAwMDAiIG9ubG9hZD0iZW1fc2l6ZSgmcXVvdDtFTTRlNzU5Zjk2NzM1NTQmcXVvdDspOyI+PHBhcmFtIHZhbHVlPSJhbHdheXMiIG5hbWU9ImFsbG93U2NyaXB0QWNjZXNzIj48cGFyYW0gdmFsdWU9ImZhbHNlIiBuYW1lPSJhbGxvd0Z1bGxTY3JlZW4iPjxwYXJhbSB2YWx1ZT0iL2NwMmZsYXNoLnN3ZiIgbmFtZT0ibW92aWUiPjxwYXJhbSB2YWx1ZT0iaGlnaCIgbmFtZT0icXVhbGl0eSI+PHBhcmFtIHZhbHVlPSIjZmZmZmZmIiBuYW1lPSJiZ2NvbG9yIj48cGFyYW0gdmFsdWU9InRyYW5zcGFyZW50IiBuYW1lPSJ3bW9kZSI+PHBhcmFtIHZhbHVlPSJmbGFzaElEPUVNNGU3NTlmOTY3MzU1NCIgbmFtZT0iRmxhc2hWYXJzIj48ZW1iZWQgd2lkdGg9IjEzNiIgaGVpZ2h0PSIyMCIgYWxpZ249Im1pZGRsZSIgcGx1Z2luc3BhZ2U9Imh0dHA6Ly93d3cubWFjcm9tZWRpYS5jb20vZ28vZ2V0Zmxhc2hwbGF5ZXIiIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiBmbGFzaHZhcnM9ImZsYXNoSUQ9RU00ZTc1OWY5NjczNTU0IiBhbGxvd2Z1bGxzY3JlZW49ImZhbHNlIiBhbGxvd3NjcmlwdGFjY2Vzcz0iYWx3YXlzIiBuYW1lPSJlZDJrY29weV9FTTRlNzU5Zjk2NzM1NTQiIGJnY29sb3I9IiNmZmZmZmYiIHF1YWxpdHk9ImhpZ2giIHdtb2RlPSJ0cmFuc3BhcmVudCIgc3JjPSIvY3AyZmxhc2guc3dmIj48L29iamVjdD48L3NwYW4+JyA8L3RkPjx0ZCBhbGlnbj0iY2VudGVyIiBpZD0ic2l6ZV9FTTRlNzU5Zjk2NzM1NTQiIGNsYXNzPSJlbXVsZXNpemUgcG9zdDIiPjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgICAqLwogICAgfS5nZXRNdWx0aUxpbmUoKSwKCiAgICBnZXRfcmVhbF91cmw6IGZ1bmN0aW9uKHNpdGUsIGNhbGxiYWNrKXsgIC8vIOi3s+i/h+aQnOe0oumTvuaOpe+8jOWPluW+l+ebtOaOpemTvuaOpQogICAgICAgIHhidWcoIlN0YXJ0IEdldCBSZWFsIFVSTDogIiArIHNpdGUudXJsKTsKICAgICAgICBnZXREb2Moc2l0ZS51cmwsIGZ1bmN0aW9uKGRvYyl7CiAgICAgICAgICAgIHZhciBmaW5kX3VybCA9ICQoc2l0ZS5zZWFyY2hfc2VsZWN0b3IsIGRvYykuYXR0cignaHJlZicpOwogICAgICAgICAgICAkc2l0ZSA9ICQoJyMnICsgc2l0ZS5pZCk7CgogICAgICAgICAgICBpZihmaW5kX3VybCl7CiAgICAgICAgICAgICAgICBzaXRlLnJlYWxfdXJsID0gc2l0ZS5CQVNFX1VSTCArIGZpbmRfdXJsOwogICAgICAgICAgICAgICAgJHNpdGUuYXR0cignaHJlZicsIHNpdGUucmVhbF91cmwpOwoKICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNpdGUucmVhbF91cmwpOwogICAgICAgICAgICB9ZWxzZXsgICAvLyDlpoLmnpzmsqHmib7liLDpk77mjqXliJnlj5bkuIvkuIDkuKrnq5nngrkKICAgICAgICAgICAgICAgIHhidWcoJ+ayoeacieaJvuWIsCByZWFsX3VybO+8jOe7p+e7reiOt+WPluS4i+S4gOS4quermeeCuScpOwogICAgICAgICAgICAgICAgVkVSWUNELmdldCgrK1ZFUllDRC5jdXJTaXRlUG9zKTsKCiAgICAgICAgICAgICAgICAkc2l0ZS50ZXh0KHNpdGUubmFtZSArICfvvIjml6DotYTmupDvvIknKQogICAgICAgICAgICAgICAgICAgICAuY3NzKCdiYWNrZ3JvdW5kJywgJyM3Nzc4N2InKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGdldF9kbGlua19wYWdlOiBmdW5jdGlvbih1cmwpewogICAgICAgIHhidWcoIlN0YXJ0IEdldCBkbGluayBQYWdlOiAiICsgdXJsKTsKICAgICAgICBnZXREb2ModXJsLCBmdW5jdGlvbihkb2MpewogICAgICAgICAgICBpZihkb2MpewogICAgICAgICAgICAgICAgeGJ1ZygiQ3VycmVudCBTaXRlIFBvczogIiArIFZFUllDRC5jdXJTaXRlUG9zKTsKICAgICAgICAgICAgICAgIHZhciBzaXRlID0gVkVSWUNELnNpdGVzW1ZFUllDRC5jdXJTaXRlUG9zXSwKICAgICAgICAgICAgICAgICAgICBwYWdlUHJvY2Vzc29yID0gc2l0ZS5wYWdlUHJvY2Vzc29yID8gc2l0ZS5wYWdlUHJvY2Vzc29yIDogVkVSWUNELmNvbW1vbmRQYWdlUHJvY2Vzc29yOwogICAgICAgICAgICAgICAgcGFnZVByb2Nlc3Nvcihkb2MsIHNpdGUsIHVybCk7CiAgICAgICAgICAgIH1lbHNleyAgLy8g5aaC5p6c5LiN5oiQ5Yqf5YiZ5Y+W5LiL5LiA5Liq56uZ54K5CiAgICAgICAgICAgICAgICBWRVJZQ0QuZ2V0KCsrVkVSWUNELmN1clNpdGVQb3MpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbihzaXRlUG9zKXsKICAgICAgICB2YXIgc2l0ZXMgPSB0aGlzLnNpdGVzOwoKICAgICAgICBpZihzaXRlUG9zID49IHNpdGVzLmxlbmd0aCkgcmV0dXJuOwoKICAgICAgICB2YXIgc2l0ZSA9IHNpdGVzW3NpdGVQb3NdOwoKICAgICAgICBpZihzaXRlLnNlYXJjaF9zZWxlY3Rvcil7ICAvLyDlpoLmnpzpnIDopoHmkJzntKIsIOWImeiOt+WPluecn+WunuWcsOWdgAogICAgICAgICAgICB0aGlzLmdldF9yZWFsX3VybChzaXRlLCB0aGlzLmdldF9kbGlua19wYWdlKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy5nZXRfZGxpbmtfcGFnZShzaXRlLnVybCk7CiAgICAgICAgfQogICAgfSwKCiAgICBjb21tb25kUGFnZVByb2Nlc3NvcjogZnVuY3Rpb24oZG9jKXsgIC8vIOmAmueUqOeahOmhtemdouWkhOeQhgogICAgICAgIHZhciBkYXRhID0gW107CiAgICAgICAgJChkb2MpLmZpbmQoJ2FbaHJlZl49ImVkMmsiXScpLmVhY2goZnVuY3Rpb24oaSwgZWwpewogICAgICAgICAgICB2YXIgdXJsID0gJCh0aGlzKS5hdHRyKCdocmVmJykucmVwbGFjZSgnW3d3dy5lZDJrZXJzLmNvbV0nLCAnJyk7CiAgICAgICAgICAgIGRhdGFbaV0gPSBlZDJrTGluayh1cmwpCiAgICAgICAgfSk7CgogICAgICAgIFZFUllDRC5kaXNwbGF5X2NvbnRlbnQoZGF0YSk7CiAgICB9Cgp9OwoKLy8g5YW25LuW56uZ54K555qE6YWN572uClZFUllDRC5zaXRlcyA9IFsKICAgIHsgICAKICAgICAgICBuYW1lOiAnZWQya2VycycsCiAgICAgICAgaWQ6ICdzaXRlX2VkMmtlcnMnLAogICAgICAgIEJBU0VfVVJMOiAnaHR0cDovL3d3dy5lZDJrZXJzLmNvbScsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3dy5lZDJrZXJzLmNvbS9pbmRleC5waHAvc2VhcmNoL2luZGV4P2M9MCZrZXl3b3JkPSIgKyBWRVJZQ0QudGl0bGUucmVwbGFjZSgvJy9nLCAiICIpLAogICAgICAgIHNlYXJjaF9zZWxlY3RvcjogIi50ZWNoZGVzIGE6Y29udGFpbnMoJyIgKyBWRVJZQ0QudGl0bGUucmVwbGFjZSgvJi9nLCAiJmFtcDsiKSArICInKSIKICAgIH0sCiAgICB7CiAgICAgICAgbmFtZTogIlNpbXBsZUNE77yI6buY6K6k77yJIiwKICAgICAgICBpZDogJ3NpdGVfc2ltcGxlY2QnLAogICAgICAgIEJBU0VfVVJMOiAiaHR0cDovL3NpbXBsZWNkLm1lIiwKICAgICAgICB1cmw6ICJodHRwOi8vc2ltcGxlY2QubWUvc2VhcmNoL2VudHJ5Lz9xdWVyeT0iICsgVkVSWUNELnRpdGxlLnJlcGxhY2UoL1wvfC18Ji9nLCAiICIpLAogICAgICAgIHNlYXJjaF9zZWxlY3RvcjogIi5lbnRyeS1saXN0IGE6Y29udGFpbnMoJyIgKyBWRVJZQ0QudGl0bGUgKyAiJykiLAogICAgICAgIHBhZ2VQcm9jZXNzb3I6IGZ1bmN0aW9uKGRvYywgc2l0ZSl7CiAgICAgICAgICAgIHZhciBkYXRhID0gW107CiAgICAgICAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgICAgICAgJChkb2MpLmZpbmQoJy5lbXVsZW1haW4gaW5wdXRbbmFtZT0ic2VsZWN0ZW11bGUiXScpLmVhY2goZnVuY3Rpb24oaSwgZWwpewogICAgICAgICAgICAgICAgdmFyIHJpZCA9ICQodGhpcykuYXR0cigndmFsdWUnKTsKICAgICAgICAgICAgICAgIGlkc1tpXSA9ICJyaWQ9IiArIHJpZDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgdXJsID0gc2l0ZS5CQVNFX1VSTCArICcvZG93bmxvYWQvP21vZGU9Y29weSYnICsgaWRzLmpvaW4oJyYnKTsKICAgICAgICAgICAgeGJ1ZygiR2V0IFNpbXBsZUNEOiAiICsgdXJsKTsKICAgICAgICAgICAgZ2V0RG9jKHVybCwgZnVuY3Rpb24oZG9jKXsKICAgICAgICAgICAgICAgICQoJ3RkOmNvbnRhaW5zKCJlZDJrOi8vIiknLCBkb2MpLmVhY2goZnVuY3Rpb24oaSwgZWwpewogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAkLnRyaW0oJCh0aGlzKS50ZXh0KCkpOwogICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBlZDJrTGluayh1cmwpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgVkVSWUNELmRpc3BsYXlfY29udGVudChkYXRhKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKICAgIHsgICAKICAgICAgICBuYW1lOiAn6YCb5aSn6KGXJywKICAgICAgICBpZDogJ3NpdGVfZ2RhamllJywKICAgICAgICBCQVNFX1VSTDogJycsCiAgICAgICAgdXJsOiBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ3d3dy52ZXJ5Y2QuY29tJywgJ3d3dy52ZXJ5Y2QuZ2RhamllLmNvbScpLAogICAgICAgIC8vIHNlYXJjaF9zZWxlY3RvcjogIiNlbXVsZUZpbGUgYVtocmVmXj0naHR0cDovL3d3dy52ZXJ5Y2QuZ2RhamllLmNvbSddIiwKICAgICAgICBwYWdlUHJvY2Vzc29yOiBmdW5jdGlvbihkb2MsIHNpdGUsIHVybCkgeyAgLy8g6Kej5Yaz5Y+q5pyJ5LiA5Liq55qE6Zeu6aKYCiAgICAgICAgICAgIHZhciBkYXRhID0gW107CiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgICAgIHZhciBnZXREb3dubG9hZFVybCA9IGZ1bmN0aW9uKHVybCwgaSwgdG90YWwpIHsKICAgICAgICAgICAgICAgIGdldERvYyh1cmwsIGZ1bmN0aW9uKGRvYyl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICQoZG9jKS5maW5kKCdhW2hyZWZePSJlZDJrOi8vIl0nKS5hdHRyKCdocmVmJyk7CiAgICAgICAgICAgICAgICAgICAgZGF0YVtpXSA9IGVkMmtMaW5rKHVybCk7CiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTsKCiAgICAgICAgICAgICAgICAgICAgeGJ1Zygn5q2j5Zyo6I635Y+W56ysICcsIGNvdW50LCAnIOS4qu+8jOWFsSAnLCB0b3RhbCwgJyDkuKonKTsKICAgICAgICAgICAgICAgICAgICAvLyBpZiAoY291bnQgPT0gdG90YWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgVkVSWUNELmRpc3BsYXlfY29udGVudChkYXRhKTsKICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZhciAkbGlua3MgPSAkKGRvYykuZmluZCgiI2VtdWxlRmlsZSBhW2hyZWZePSdodHRwOi8vd3d3LnZlcnljZC5nZGFqaWUuY29tJ10iKTsKICAgICAgICAgICAgJGxpbmtzLmVhY2goZnVuY3Rpb24oaSwgbGluayl7CiAgICAgICAgICAgICAgICB2YXIgdXJsID0gJChsaW5rKS5hdHRyKCdocmVmJyk7CiAgICAgICAgICAgICAgICBnZXREb3dubG9hZFVybCh1cmwsIGksICRsaW5rcy5zaXplKCkpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAoKICAgIC8vIHsgICBuYW1lOiAnVmVyeUNEIEZldGNoJywgaG9zdDogJ3ZlcnljZGZldGNoLmR1YXBwLmNvbScsICAvLzIwMTMtMi0xMCDmtYvor5XlpLHmlYgKICAgIC8vICAgICB1cmw6IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnd3d3LnZlcnljZC5jb20nLCAndmVyeWNkZmV0Y2guZHVhcHAuY29tJyksCiAgICAvLyAgICAgcGFnZVByb2Nlc3NvcjogZnVuY3Rpb24oZG9jKXsKICAgIC8vICAgICAgICAgR01fYWRkU3R5bGUoIi5uZWVkZW11bGUge2Rpc3BsYXk6IG5vbmU7fSIpOwoKICAgIC8vICAgICAgICAgdmFyICRuZXcgPSAkKCcjaXB0Y29tRUQySycsIGRvYyk7CiAgICAvLyAgICAgICAgICQoJyNpcHRjb21FRDJLJykuaHRtbCgkbmV3KTsKICAgIC8vICAgICB9fQpdOwoKdmFyIERvdWJhbiA9IHsKICAgIHNlYXJjaFVSTHM6IHsKICAgICAgICAi5Zu+5LmmIjogImh0dHA6Ly9ib29rLmRvdWJhbi5jb20vc3ViamVjdF9zZWFyY2g/c2VhcmNoX3RleHQ9JXMmY2F0PTEwMDEiCiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgdHlwZSA9ICQoIiN3aGVyZXJ1PmE6ZXEoMSkiKS50ZXh0KCk7CiAgICAgICAgdmFyIHNlYXJjaFVSTCA9IHRoaXMuc2VhcmNoVVJMc1t0eXBlXTsKICAgICAgICBpZighc2VhcmNoVVJMKSByZXR1cm47CgogICAgICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKTsKICAgICAgICB2YXIgdXJsID0gc2VhcmNoVVJMLnJlcGxhY2UoIiVzIiwgZW5jb2RlVVJJQ29tcG9uZW50KHRpdGxlKSk7CgogICAgICAgIHZhciBsaW5rID0gJCgiPGE+6LGG55OjIiArIHR5cGUgKyAi5pCc57SiPC9hPiIpLmF0dHIoewogICAgICAgICAgICBocmVmOiB1cmwsCiAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIsCiAgICAgICAgICAgIHN0eWxlOiAiaGVpZ2h0OiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IHBhZGRpbmc6IDJweCAxNnB4OyBjdXJzb3I6IHBvaW50ZXI7IgogICAgICAgIH0pOwoKICAgICAgICAkKCI8dGQ+IikuYXBwZW5kKGxpbmspLmFwcGVuZFRvKCcjb3RoZXJfbGlua3MgdHI6ZXEoMCknKQogICAgfSwKICAgIGdldFRpdGxlOiBmdW5jdGlvbigpewogICAgICAgIHZhciB0aXRsZSA9ICQoIiN0b3BpY3N0aXRsZSIpLnRleHQoKTsKICAgICAgICB2YXIgbSA9IHRpdGxlLm1hdGNoKC/jgIooLio/KeOAiy8pOwoKICAgICAgICByZXR1cm4gbVsxXSB8fCB0aXRsZTsKICAgIH0KfTsKCgoKVkVSWUNELmluaXQoKTsKCkRvdWJhbi5pbml0KCk7"},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://kuai.xunlei.com/d/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970064},"enabled":true,"position":15,"file_url":"https://greasyfork.org/scripts/8399-%E8%BF%85%E9%9B%B7%E5%BF%AB%E4%BC%A0%E6%98%BE%E7%A4%BA%E5%85%A8%E9%83%A8%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5/code/%E8%BF%85%E9%9B%B7%E5%BF%AB%E4%BC%A0%E6%98%BE%E7%A4%BA%E5%85%A8%E9%83%A8%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5.user.js","uuid":"b0bcedc1-76a8-4531-8292-cf5b9632ea50","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOi/hembt+W/q+S8oOaYvuekuuWFqOmDqOS4i+i9vemTvuaOpQovLyBAbmFtZXNwYWNlICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzgzOTkKLy8gQGF1dGhvciAgICAgIOWkqea2r+WApuWuogovLyBAc3VwcG9ydFVSTCBodHRwOi8vdC5xcS5jb20vSGVhcnRCbGFkZQovLyBAZGVzY3JpcHRpb24g5paH5Lu25YiX6KGo5LiL6Z2i5o+S5YWl5LiA5Liq5paH5pys5qGG77yM5pi+56S65omA5pyJ5paH5Lu255qE5LiL6L296ZO+5o6l77yI5YyF5ous5rKh5Yu+6YCJ55qE77yJCi8vIEBpbmNsdWRlICAgICBodHRwOi8va3VhaS54dW5sZWkuY29tL2QvKgovLyBAdmVyc2lvbiAgICAgMS4wCi8vIEBncmFudCAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKXsKCXZhciB1cmxzID0gJycsaTsKCXZhciBmbmFtZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuZmlsZV9uYW1lIik7Cgl2YXIgZmxlbmd0aD1mbmFtZS5sZW5ndGg7Cglmb3IgKGk9MDtpPGZsZW5ndGg7aSsrKXsKCQl1cmxzKz1mbmFtZVtpXS5ocmVmKydcbic7Cgl9Cgl2YXIgdHh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7Cgl0eHQudmFsdWU9dXJsczsKCXR4dC5pZD0iZG93bl9saW5rcyI7Cgl0eHQuc3R5bGU9IndpZHRoOjY3N3B4O2hlaWdodDozMDBweDsiOwoJZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmZpbGVfdyIpWzBdLmFwcGVuZENoaWxkKHR4dCk7Cgl0eHQuZm9jdXMoKTsKCXR4dC5zZWxlY3QoKTsKfSkoKTsK"},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":["extention.ie.sogou.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970064},"enabled":true,"position":16,"file_url":"https://greasyfork.org/scripts/2510-%E4%B8%8B%E8%BD%BD%E4%B8%80%E9%94%AE%E9%80%9A/code/%E4%B8%8B%E8%BD%BD%E4%B8%80%E9%94%AE%E9%80%9A.user.js","uuid":"01d1c763-918c-497a-ae4f-c31ab5aea047","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOS4i+i9veS4gOmUrumAmgovLyBAYXV0aG9yICAgICAgZ3JlYXNlcGlnCi8vIEBuYW1lc3BhY2UgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3VzZXJzLzI2MjAtZ3JlYXNlcGlnCi8vIEBkZXNjcmlwdGlvbiDliKnnlKjmkJzni5fmtY/op4jlmajigJzkuIvovb3kuIDplK7pgJrigJ3lip/og73nmoRBUEnvvIzoh6rliqjluK7mgqjmib7liLDpobXpnaLkuK3otYTmupDnmoTmnIDkvbPkuIvovb3lnLDlnYDvvIzorqnkuIvovb3mm7TnroDljZXvvIEKLy8gQHZlcnNpb24gICAgIDEuMC4yCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKgovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtZW5kCi8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyA9PS9Vc2VyU2NyaXB0PT0KCnZhciBzdHJEb3dubG9hZFVybCA9ICdodHRwOi8vZXh0ZW50aW9uLmllLnNvZ291LmNvbS9zZV9wbHVnaW4vZG93bmxvYWQ/ZXhwPTAnOwp2YXIgZG93bmxvYWRVcmwgPSBbJ2l0ZW0udGFvYmFvLmNvbScsICd0aGVhdGVyLm10aW1lLmNvbScsICdzLnRhb2Jhby5jb20nLCAncy5ldGFvLmNvbScsICdzZWFyY2guZGFuZ2RhbmcuY29tJywgJ3NlYXJjaC5qZC5jb20nLCAndi55b3VrdS5jb20nLCAnd3d3Lnl1bmZhbi5jb20nLCAncmVhZC5kb3ViYW4uY29tJywgJ21vdmllLmRvdWJhbi5jb20nLCAnaXRlbS5qZC5jb20nLCAnYm9vay5kb3ViYW4uY29tJywgJ3d3dy5zb2dvdS5jb20nLCAnd3d3LnNvLmNvbScsICd3d3cuZ29vZ2xlLmNvbS5oaycsICd3d3cuc29zby5jb20nLCAnY24uYmluZy5jb20nLCAnd3d3LnlhaG9vLmNuJywgJ3d3dy55b3VkYW8uY29tJywgJ3d3dy5qaWtlLmNvbScsICdiYnMuZ2Zhbi5jb20nLCAnd3d3LjAyMzQ1LmNvbScsICdmb250Lmtub3dza3kuY29tJywgJ3d3dy5ycnRpbmcuY29tJywgJ3d3dy5ib29rYmVuLmNvbScsICd3d3cueGRvd25zLmNvbScsICd3d3cudHVzdXUuY29tJywgJ3d3dy5ib29rczI4LmNvbScsICd3d3cuNTJlbXByZXNzLmNvbScsICd3d3cuYWJhZGEuY24nLCAnYnh6dy5jb20nLCAnd3d3LnF1ZWVudHh0LmNvbScsICdidC5rdHhwLmNvbScsICd3d3cuZHhzeHMuY29tJywgJ2Jvb2suc29veXV1LmNvbScsICd3d3cuaWJvb2s4LmNvbScsICd3d3cudHh0OTkuY2MnLCAnd3d3LnFpc3V1LmNvbScsICd3d3cucHB0YnouY29tJywgJ2RyaXZlcnMubXlkcml2ZXJzLmNvbScsICdkb3dubG9hZC5wY2hvbWUubmV0JywgJ3d3dy4zZHhpYS5jb20nLCAneGlhemFpLnpvbC5jb20uY24nLCAnd3d3LmRydnNreS5jb20nLCAnd3d3LjU1eW91LmNvbScsICdzai56b2wuY29tLmNuJywgJ3d3dy5iemZ4dy5jb20nLCAnd3d3LjU1eC5jbicsICd3d3cudXBhbi5jYycsICd3YXIzLnV1dTkuY29tJywgJ3d3dy50aW5ncm9vbS5jb20nLCAnZG93bmxvYWQuZW5ldC5jb20uY24nLCAnd3d3LnN1Y2FpdGlhbnhpYS5jb20nLCAnd3d3Lm1mY2FkLmNvbScsICd3d3cuZ2cxei5jb20nLCAnd3d3LmJvb2t0eHQuY29tJywgJ3d3dy5tdDMwLmNvbScsICdwcm9kdWN0Lml0MTY4LmNvbScsICd3d3cueGlhemFpYmEuY29tJywgJ3d3dy55eWV0cy5jb20nLCAnd3d3Lnl4ZG93bi5jb20nLCAnd3d3LmdhbWVyc2t5LmNvbScsICdhcHAuaGlhcGsuY29tJywgJ3d3dy5jb29seG4uY29tJywgJ3d3dy5tb2JhbndhbmcuY29tJywgJ3d3dy5iYmRqLmNvbScsICd2ci4zZHhpYS5jb20nLCAnd3d3LnR0Y25uLmNvbScsICd3d3cudHh0Ym9vay5jb20uY24nLCAnZGVzay56aHVva3UuY29tJywgJ3d3dy55YW5xaW5nODg4Lm5ldCcsICd3d3cuZmVpa3UuY29tJywgJ2Rvd24uNzY2LmNvbScsICd3d3cuZmVpZmVpc2hpamllLmNvbScsICd3d3cuZ2FtZWhvbWUudHYnLCAnd3d3LndlYnNodS5uZXQnLCAnd3d3LnpodWxhbmcuY29tJywgJ3d3dy50eHQ2Ni5jb20nLCAnd3d3LjE2a2Jvb2sub3JnJywgJ2llLnNvZ291LmNvbScsICdjbHViLnRvcHNhZ2UuY29tJywgJ2hrYmljaS5jb20nLCAnZW11Y2gubmV0JywgJ2Jicy55enouY24nLCAnYmJzLmVhc3RzZWEuY29tLmNuJywgJ2Jicy5oaWFway5jb20nLCAnYmJzLmRvc3B5LmNvbScsICd3d3cuY253YXYuY29tJywgJ2Jicy5rYW95YW4uY29tJywgJ3d3dy5sc3BqeS5jb20nLCAnd3d3LnR1b3poZTguY29tJywgJ2Jicy5xenpuLm9yZycsICd3d3cuNTUxODguY29tJywgJ2Jicy4zZG1nYW1lLmNvbScsICdiYnMuYW56aGkuY29tJywgJ2Jicy5kdW93YW4uY29tJywgJ2Jicy5hcnRyb24ubmV0JywgJ2Jicy55aW5namllc2hlbmcuY29tJywgJ2Jicy53YXB0dy5jb20nLCAnZ2FtZS5hbGkyMTMubmV0JywgJ2Jicy51Z2dkLmNvbScsICdmb3J1bS5jaGFzZWRyZWFtLmNvbScsICd3d3cuYnRiYnQuY29tJywgJ3d3dy5lZWZmLm5ldCcsICdiYnMueGlhb21pLmNuJywgJ3RvdWNoOTkuY29tJywgJ2Jicy50Z2J1cy5jb20nLCAnYmJzLmRvY2luLm5ldCcsICdiYnMuYW5nZWVrcy5jb20nLCAnYmJzLmhvdWRhby5jb20nLCAnYmJzLmNvMTg4LmNvbScsICdiYnMucGluZ2d1Lm9yZycsICd3d3cuaC1jYXIuY24nLCAncHJvZHVjdGJicy5pdDE2OC5jb20nLCAnd3d3LmpjenF3LmNvbScsICd3d3cueWFucWluZ2Jicy5jb20nLCAnYmJzLnBjYmV0YS5jb20nLCAnd3d3LmxpYW5tdWJhLmNvbScsICdiYnMudHh0YmJzLmNvbScsICd4eTIubmV0ZWFzZS5jb20nLCAnd3d3LnNoYXJld2l0aHUuY29tJywgJ2Jicy5idDUxNTYuY29tJywgJ2Jicy54eHl3LmNvbScsICdiYnMuZmVuZ2Jhby5jb20nLCAnd3d3LjUyYmxhY2tiZXJyeS5jb20nLCAnYmJzLmVkdXUuY29tJywgJ3d3dy5jb21pY2h4LmNvbScsICdiYnMubGNkaG9tZS5uZXQnLCAnY2x1Yi5leGNlbGhvbWUubmV0JywgJ3d3dy4zZHBvcnRhbC5jbicsICdiYnMuY29vbC1kZS5jb20nLCAnYmJzLjd4ei5jb20nLCAnd3d3Ljdkb25nLmNjJywgJ3d3dy5jc2thb3lhbi5jb20nLCAnZ2lybGJ0LmNvbScsICdzamJicy56b2wuY29tLmNuJywgJ2Jicy50dW11a2VqaS5jb20nLCAnZi5tdC1iYnMuY29tJywgJ3d3dy5saXVzaGlzaGkuY24nLCAnZm9ydW0uY2Nlci5lZHUuY24nLCAnd3d3Lmd0bjkuY29tJywgJ2Jicy5ndGVyLm5ldCcsICd3d3cuaTUybnYuY29tJywgJ2Jicy53aW5uaW5nMTFjbi5jb20nLCAnYmJzLnNldS5lZHUuY24nLCAnYmJzLmltb2JpbGUuY29tLmNuJywgJ2Jicy5hcHAxMTEuY29tJywgJ2Jicy5nYW1lcnNreS5jb20nLCAnMjcuOTguMTk0LjIzNjo4OTg4JywgJ2Jicy5oZGJpcmQuY29tJywgJ2Jicy51dXU5LmNvbScsICd4aW5zaGVuZy5odWF3ZWkuY29tJywgJ2hkLmNuc2NnLmNvbScsICdiYnMuc3VicGlnLm5ldCcsICd3d3cuY2hkdHYubmV0JywgJ2Jicy5md3hneC5jb20nLCAnYmJzLmVldG9wLmNuJywgJ3d3dy50b3NodS5jbicsICd3d3cuaWxvdmVtYXRsYWIuY24nLCAnYmJzLm1laXp1LmNvbScsICdiYnMuM3MwMDEuY29tJywgJ3d3dy5jZ21vZGVsLmNuJywgJ3d3dy5hbnpodW8uY24nLCAnd3d3LnNodWFpZ2F5Lm9yZycsICd3d3cuaWl5aS5jb20nLCAnd3d3LmVlZWV0b3AuY29tJywgJ2Jicy5mcmVla2FveWFuLmNvbScsICd3d3cubXl0aGUzLmNvbScsICdiYnMucmVkb2NuLmNvbScsICdiYnMuY2hpbmFxaWdvbmcuY29tJywgJ3d3dy5hbW9iYnMuY29tJywgJ3d3dy5pbnQuMThwMnAuY29tJywgJ3d3dy5qZ3pqLm5ldCcsICdiYnMubXVtYXlpLmNvbScsICdiYnMudGlhbm11LmNvbScsICdiYnMudml2by5jb20uY24nLCAnYmJzLmR1YmEubmV0JywgJ2Jicy4yMW1hbmFnZXIuY29tJywgJ2Jicy5tdXNjbi5jb20nLCAnd3d3Lm9pZWdnLmNvbScsICdiYnMuc2lsdWhkLmNvbScsICd3d3cub3Vyb2IuY24nLCAnd3d3LmZhZmF3YW5nLmNvbScsICdzYW1zdW5nYmJzLmNubW8uY29tJywgJ3d3dy5xcWppbnBhaS5jb20nLCAnd3d3LmNuY2FkLm5ldCcsICdmb3J1bS42Y24ub3JnJywgJ3d3dy5kaXNjdXoubmV0JywgJ2Jicy54ZGEuY24nLCAnd3d3LnlxdHh0Lm5ldCcsICdiYnMucmFpbm1ldGVyLmNuJywgJ3d3dy50eHRiYnMuY29tJywgJ3d3dy5yYXBpZGJicy5jbicsICdiYnMua29vbGVhcm4uY29tJywgJ2EubXQtYmJzLmNvbScsICdiYnMudmlzaW9uem9uZS5jb20uY24nLCAnd3d3LnpuY3p6LmNvbScsICd3d3cueXl3ZWlzaGkuY29tJywgJ3d3dy5kZWxsODAwLmNvbScsICd3d3cuc2h1a3VhaS5jb20nLCAnd3d3Lml0cHViLm5ldCcsICd3d3cuZG9zcHkuY29tJywgJ3d3dy5hc3Ryb25vbXkuY29tLmNuJywgJ2Jicy52c2hhcmluZy5jb20nLCAnYmJzLnRhaXNoYS5vcmcnLCAnYmJzLmRpYW55dWFuLmNvbScsICdiYnMud2VpcGhvbmUuY29tJywgJ2Jicy5nYW1lLjE2My5jb20nLCAnd3d3LmJ0c2NnLmNvbScsICd3d3cueWVzbGljYWtlLmNvbScsICd3d3cueTRkZy5jb20nLCAnd3d3LmVpYWZhbnMuY29tJywgJ3d3dy4zZGV6dS5jb20nLCAnY29vbC1kZS5jb20nLCAnYmJzLmV4YW04LmNvbScsICd3d3cuc2ltY2l0eS5jbicsICdiYnMuZWV3b3JsZC5jb20uY24nLCAnYmJzLmxld2Fvcy5jb20nLCAnYmJzLmh4bGFuZC5jb20nLCAnd3d3Lm1zY2JzYy5jb20nLCAnYmJzLmh1cHUuY29tJywgJ3d3dy5tZW5neWVteS5jb20nLCAncGRhd2lraS41ZDZkLm5ldCcsICdmb3J1bS5wdXRjbHViLmNvbScsICdwcm9kdWN0cy5tb2JpbGV1bmNsZS5jb20nLCAnd3d3LmxleHVuLmNuJywgJ2Jicy5ldGp5LmNvbScsICdiYnMuZWh2YWNyLmNvbScsICd3d3cuZGNqaWFuZ2h1LmNvbScsICdiYnMucGVwLmNvbS5jbicsICdiYnMubWZ1bnouY29tJywgJ2Jicy5rYWZhbi5jbicsICdzZWJicy5pdDE2OC5jb20nLCAnYmJzLjY2eHVlLmNvbScsICd3d3cueGluOXlhbmcuY29tJywgJ3d3dy5zd290YmJzLmNvbScsICdiYnMuc21tYWlsLmNuJywgJ2Jicy5idG15dGguY29tJywgJ3d3dy5lYXN0ZWR1Lm9yZycsICd3d3cuZ3RhYmJzLmNvbScsICdiYnMubGlkcm9pZC5jb20nLCAnYmJzLmV5dXlhbi5jb20nLCAnYmJzLjE3OC5jb20nLCAnd3d3LmppYW5lODYuY29tJywgJ3d3dy5lZWJhbi5jb20nLCAnYmJzLm5nYWNuLmNjJywgJ3d3dy5zdXBwaWcubmV0JywgJ2Jicy4yMW1vdWxkLm5ldCcsICd3d3cud3V4aW5yZW4ubmV0JywgJ2RlbGwuYmVueW91aHVpLml0MTY4LmNvbScsICdiYnMueHVla3VhaWppLmNvbScsICdiYnMuYnlyLmNuJywgJ2Jicy5wdGJ1cy5jb20nLCAnYmJzLjE4OXN0b3JlLmNvbScsICdiYnMuYmFiYWxscy5jb20nLCAnYmJzLmhybG9vLmNvbScsICdiYnMuY29taWNkZC5jb20nLCAnd3d3LmZxYWkuaW5mbycsICdiYnMubXNjYnNjLmNvbScsICdmb3J1bS5zaW13ZS5jb20nLCAncnV0cmFja2VyLm9yZycsICd3d3cuNjNqaXV5ZS5jb20nLCAnb2tvay5vcmcnLCAnYW5kcm9pZC56b25lLml0LnNvaHUuY29tJywgJ3d3dy55YW50dWJicy5jb20nLCAnd3d3LnZlcnl4ZS5jb20nLCAnYmJzLmp1bXBjbi5jb20nLCAnd3d3LjF6aGFvLm9yZycsICdiYnMuc3RhcnRvcy5jb20nLCAnYmJzLjIzMy5jb20nLCAnYmJzLjE0d3guY29tJywgJ3d3dy5za2V0Y2h1cGJhci5jb20nLCAnd3d3LjUycXdibC5jb20nLCAnd3d3LjYxaWMuY29tJywgJ2hvbWUuZmVpZmVpc2hpamllLmNvbScsICd3d3cud29ybGQzZG1vZGVsLmNvbScsICd3d3cuOTZiYnMuY29tJywgJ2Jicy5yeGpoYmFieS5jb20nLCAnZm9ydW0uaW50LjE4cDJwLmNvbScsICdiYnMuaGgwMTAuY29tJywgJ2Jicy5hc3Vyby5jbicsICdhLml0MTY4LmNvbScsICd3d3cuZ29uZ2tvbmczNjUuY29tJywgJ2Jicy5ueWR5dy5jb20nLCAnd3d3LjE3MzUyMC5jb20nLCAnYmJzLnNlcHQ1LmNvbScsICdiYnMubWF4cGRhLmNvbScsICd3d3cuaHRjYmJzLm5ldCcsICd3d3cuOTJkcHcuY29tJywgJ3d3dy40dTg4LmNvbScsICdiYnMuc2hlbmR1LmNvbScsICdiYnMuaHhzZC5jb20nLCAnMTg0LjE2NC4xNDkuMjAyJywgJ2liYnMuOTEuY29tJywgJ2kubXQtYmJzLmNvbScsICdiYnMuamlhbnNoZTk5LmNvbScsICdiYnMuZmhzeC5jbicsICdiYnMuYXJlYS0xMS5jb20nLCAnYmJzLmFuamlhbi5jb20nLCAnd3d3LnpoYW55b3UzNjUuY29tJywgJ3d3dy5wb29iYW4uY29tJywgJ3d3dy5qYWRlcG90LmNvbS5jbicsICd3d3cuY2xpbnBoYXIuY24nLCAnYmJzLnNodWFtZS5jb20nLCAnYmJzLmNubGl0aS5jb20nLCAnZG9uZy56YS5uZXQnLCAnYmJzLmd1ZGk4ODk5LmNvbScsICdiYnMuZ2VvbmV0LmNuJywgJ2Jicy54eHN4LmNuJywgJ2Jicy5rdS15dS5jb20nLCAnYmJzLmNhdXAubmV0JywgJ3d3dy5jbmdiYS5jb20nLCAnd3d3LmNlZXQuaGJudS5lZHUuY24nLCAnYmJzLnlsZWNvLmNvbScsICdiYnMuZG9uZ2FvLmNvbScsICdiYnMuMXgubGEnLCAnd3d3LmNnYm9sby5jb20nLCAnYmJzLnNob3VqaS5jb20uY24nLCAnYmJzLmpqeGoub3JnJywgJ3d3dy5rb29kai5jb20nLCAnaG9tZXRvd24uc2NhdS5lZHUuY24nLCAnYmJzMS5nYW1lcnNreS5jb20nLCAnYmJzLmxlcGhvbmUuY2MnLCAnYmJzLjE3MTczLmNvbScsICdiYnNidC5jdXBsLmVkdS5jbicsICdiYnMudWMuY24nLCAnd3d3LmVlY2hpbmEuY29tJywgJ3d3dy5kaXlwZGEuY29tJywgJ3d3dy41MnBvamllLmNuJywgJ3d3dy4yd2VkbS5jbicsICdiYnMudHJhbmJicy5jb20nLCAnYmJzLmVsZWNmYW5zLmNvbScsICd3d3cueWxzdHVkeS5jb20nLCAnd3d3LnRpY2hpbmVzZS5jb20nLCAnd3d3LmNhMDAxLmNvbScsICdiYnMuZm9vZG1hdGUubmV0JywgJ2Jicy5iaWFuemhpcmVuc2hlbmcuY29tJywgJ3d3dy5sdXotaW1hZ2UuY29tJywgJ2Jicy5wb3BpYW5vLm9yZycsICdiYnMucGNnYW1lcy5jb20uY24nLCAnYmJzLmMxMTQubmV0JywgJ2Jicy4yMWljLmNvbScsICd3d3cudG91aGFuZ2Jicy5jbicsICd3d3cuaGktcGRhLmNvbScsICd3d3cuZWhhZm8uY29tJywgJ3d3dy5qaWF6aGFuZzEwMC5jb20nLCAnYmJzZG93bjIuemh1bG9uZy5jb20nLCAnYmJzLnBlZGl5LmNvbScsICd3d3cub29vbW0uY29tJywgJ3d3dy5mbHlwdC5vcmcnLCAncWlhbmZhbi5uZXQnLCAnYmJzLnRvOHRvLmNvbScsICdiYnMua2VuaXUuY29tJywgJ3d3dy41NXRvcC5jb20nLCAnc2VsYW5nLmNhJywgJ2xlYXJuLnRzaW5naHVhLmVkdS5jbicsICdob21lLnhkZi5jbicsICd3d3cueWVsYW5odWEuY29tJywgJ3d3dy53Y3R4dC5jb20nLCAnd3d3LmFjdGlvbmZvcmpvb25naS5jb20nLCAnd3d3LmFiYnMuY29tLmNuJywgJ3d3dy41OTJ6bi5jb20nLCAndHgzLm5ldGVhc2UuY29tJywgJ2Jicy5zY2llbmNlbmV0LmNuJywgJ3d3dy5wbGF5Z20uY24nLCAnd3d3LnBnb3MuY2MnLCAnd3d3Lm1hZGlvLm5ldCcsICd3d3cuZWVib2FyZC5jb20nLCAnYmJzLnJmZWRhLmNuJywgJ2Jicy5nYW9xaW5nLnR2JywgJ2Jicy5iYmlvby5jb20nLCAnd3d3Lm10LWJicy5jb20nLCAnd3d3LjF4YmJzLmNvbScsICdzbnMuYnlyLmVkdS5jbicsICdjcy52b2MuY29tLmNuJywgJ2Jicy53dXlvdS5jb20nLCAnYmJzLnNkYXRjLmNvbScsICdiYnMucnVvcmVuLmNvbScsICdiYnMuY25paS5jb20uY24nLCAnd3d3LnB0aWFueC5jb20nLCAnd3d3LmluMTg5LmNvbScsICd3d3cuY254bWJicy5jb20nLCAnd3d3LjJweC5jb20nLCAnYmJzLnNoZWppcXVuLmNvbScsICd4eXEubmV0ZWFzZS5jb20nLCAnd3d3Lm90b21lZHJlYW0uY29tJywgJ3d3dy42NjF5eC5jb20nLCAnYmJzLm1hY2QuY24nLCAnYmJzLmNoaXpob3VyZW4uY29tJywgJ2Jicy5jZmFzcGFjZS5jb20nLCAnYmJzLjUxY3RvLmNvbScsICdhcHBsZS56b25lLml0LnNvaHUuY29tJywgJ3d3dy5pb3BxLmNvbScsICd3d3cuNWlzb3RvaTUub3JnJywgJ2ZvcnVtLnhkYS1kZXZlbG9wZXJzLmNvbScsICdiYnMucGNwb3AuY29tJywgJ2Jicy41MXRlc3RpbmcuY29tJywgJ2Jicy4yNXBwLmNvbScsICd3d3cueG10eHQuY29tJywgJ3d3dy53YXIzMy5jb20nLCAnZm9ydW0uZXIwNy5jb20nLCAnZG93bi5iYnMxNTYuY24nLCAnYmJzLnpvb3BkYS5jb20nLCAnYmJzLndhYXBrLmNvbScsICd3d3cuYmFsYW5nODguY24nLCAnd3d3LjltY3UuY29tJywgJ2x0Lmltb2JpbGUuY29tLmNuJywgJ2hrYmMubmV0JywgJ2Jicy56aHVsb25nLmNvbScsICdiYnMucGluZ3NodTguY29tJywgJ2Jicy5tYWxzaGVuenUuY29tJywgJ2Jicy5sZW5vdm9tb2JpbGUuY29tJywgJ2Jicy5leHJwZy5jb20nLCAnd3d3Lnl1ZXNoYS5jb20nLCAnd3d3LnRyZW84LmNvbScsICd3d3cuc291ZG9jLmNvbScsICd3d3cuaGpkd3guY29tJywgJ2NsdWIub2ZmY24uY29tJywgJ2Jicy5qb295b28ubmV0JywgJ2Jicy5ndWl0YXJjaGluYS5jb20nLCAnYmJzLmdvZGV5ZXMuY24nLCAnYmJzLmJqeC5jb20uY24nLCAnd3d3LmZlbmdzaHVpLTE2OC5jb20nLCAnd3d3LmJkcHQubmV0JywgJ21ncy5ob21laW5ucy5jb20nLCAnYmJzLnZlcnlwc3AuY29tJywgJ2Jicy5nYW1lNzk4LmNvbScsICdiYnMuZXphY2cuY29tJywgJ2Jicy5jaGluYWRqYmEuY29tJywgJ3d3dy55eWNhZi5uZXQnLCAnd3d3LnJyLXNjLmNvbScsICd3d3cuZmluZ2Vyc3R5bGVjaGluYS5jb20nLCAnd3d3LmNoaW5hemh3LmNvbScsICdiYnMuemhpYm84LmNjJywgJ2Jicy55eGNheC5jb20nLCAnd3d3Lnh0emouY29tJywgJ3d3dy51d2FudHMuY29tJywgJ3d3dy5za3dsLm9yZycsICd3d3cubGFuc2VsbS5jb20nLCAnd3d3LmNyeXh3LmNvbScsICd3d3cuY2hpbmFjaXR5d2F0ZXIub3JnJywgJ3Jlcy5way5uamF1LmVkdS5jbicsICdmb3J1bS5hbnl3bGFuLmNvbScsICdjbHViLmt1YWlqaXJlbi5jb20nLCAnYmJzLm91cnR3LmNvbScsICdiYnMubGVzaGUubmV0JywgJ2Jicy5odWFjb2xvci5jb20nLCAnd3d3LnNvdXNvLm9yZycsICd3d3cuZWRhMzY1LmNvbScsICd3d3cuY3NjZWNxZC5jb20uY24nLCAnZG91LnRnYnVzLmNvbScsICdiYnMuaHVhaW4uY29tJywgJ2Jicy5iaGdib3gub3JnJywgJzNnLmxlbm92by5jb20nLCAnd3d3Lmh0ZmNuLmNvbScsICd3d3cuZmV2ZXJuZXQuY29tJywgJ3d3dy5kZXlpLmNvbScsICd3d3cuYmJzLmtsaml5b3UuY29tJywgJ2Jicy5tdW1heWkubmV0JywgJ2Jicy5oc2h5bG92ZXIuY29tJywgJ2Jicy5ndWFuamlhLnFxLmNvbScsICd3d3cuc2lzLnh4eCcsICd3d3cucmhhbW1lci5jbicsICd3d3cuZ3BzaGsuY2MnLCAnd3d3LmFuemh1bzM2NS5jb20nLCAnd3d3LmFiY3VnLmNvbScsICdiYnMuNTJtaWppLmNvbScsICcyMDEyam0uNWQ2ZC5uZXQnLCAnd3d3LmdvYmJzLmNvbS5jbicsICd3d3cuZXNodXpvbmUuY24nLCAnd3d3LmJkd20ubmV0JywgJ2Jicy54eXBpZS5jb20nLCAnYmJzLmppYW56aHVyZW4uY29tJywgJ2Jicy4zOTk2LmNvbScsICd4aXhpYW4yNC5jb20nLCAnd3d3Lm91OTkuY29tJywgJ3d3dy5qZC1iYnMuY29tJywgJ3d3dy5nb25nYmkubmV0JywgJ3d3dy5ibHVlMDguY24nLCAnd3d3LjUyemhpdGFuLmNuJywgJ3d3dy4wMDl5LmNvbScsICd0dWFuLnNpczAwMS51cycsICdiYnMuc2lsdmVybGlnaHRjaGluYS5uZXQnLCAnYmJzLmhyMzY5LmNvbScsICdiYnMuZ3Nkem9uZS5uZXQnLCAnYmJzLmUxMDAwMC5jbicsICdiYnMuYm9qaXN0dWRpby5vcmcnLCAneW91dGgubmp1c3QuZWR1LmNuJywgJ3d3dy52NmRwLmNvbScsICd3d3cudW1kYmJzLmNvbScsICd3d3cuNTF5YW0uY29tJywgJ3d3dy4xaHVpc3VvLmNvbScsICdkaXliYnMuem9sLmNvbS5jbicsICdiYnMuemhhbmdrdS5jb20nLCAnYmJzLnN1bnd5Lm9yZycsICdiYnMuaGVpZ3VhbmcuY29tJywgJ2Jicy5oNWdhbC5jYycsICdiYnMuY2hkeGMubmV0JywgJ2Jicy4xMzEuY29tJywgJ2JhbmdwYWkudGFvYmFvLmNvbScsICd3d3cuaHVudGVyYmFzZS5jb20nLCAnd3d3LmVlZm9jdXMuY29tJywgJ3d3dy5jaG5taW5pbmcuY29tJywgJ3d3dy5ibmI1MjAuY29tJywgJ3Y2Lm9pZWdnLmNvbScsICdtaW1pcDJwLm5ldCcsICdoYW5taS5jYycsICdmb3J1bS5qb3lpcGhvbmUubmV0JywgJ2Jicy5oZWxsb2JhLmNvbScsICdiYnMuZ29vZGxpZnQubmV0JywgJ2Jicy5jbmR6cS5jb20nLCAnd3d3Lnp5Y2cuZ292LmNuJywgJ3d3dy55aW5nemhlbmcuY29tJywgJ3d3dy50eHJqeS5jb20nLCAnd3d3LmxpZ2h0bm92ZWwuY24nLCAnd3d3Lmd0aGNzLmNuJywgJ2Jicy5zdHVob21lLm5ldCcsICdiYnMuYWJkLmNuJywgJ3d3dy56ZXJvbW9vdC5vcmcnLCAnd3d3LnN1bnBldHJvLmNuJywgJ3d3dy5leGNlbHB4LmNvbScsICd3d3cuZW9lYW5kcm9pZC5jb20nLCAnd3d3LmNoaW5hZml4LmNvbS5jbicsICd3d3cuYmJzLjU1c2YubmV0JywgJ2Jicy5uZW9pbWFnaW5nLmNuJywgJ2Jicy5oZnV0LmVkdS5jbicsICdiYnMuYmx1ZXNob3cubmV0JywgJ2Jicy41MnByaW50LmNvbScsICdhcmNoaXZlLmh4c2QuY29tJywgJ3d3dy53cHhhcC5jb20nLCAnd3d3LnVrdWxlbGVjbi5jb20nLCAnd3d3LnRpYW50YW5nYmJzLmNvbScsICd3d3cudGFpc2hhLm9yZycsICd3d3cubXlzaXBvLmNvbScsICd3d3cubGFueGl4aWFvd3UuY29tJywgJ3d3dy5mYXNodW91bmlvbi5jb20nLCAnd3d3LmNjd3p6LmNjJywgJ3d3dy45YnQub3JnJywgJ2p1ZS1jZS5jb20nLCAnYmJzLnNwb3RvLm5ldCcsICdiYnMucGt1LmVkdS5jbicsICdiYnMuamluZ3hpbmcubmV0JywgJ2Jicy5mc3hjbi5jb20uY24nLCAnYmJzLmN1cGwuZWR1LmNuJywgJ2Jicy5hOXZnLmNvbScsICdiYnMuMDF3LmNvbScsICd3d3cuaGFuZHN1cmdlcnkuY24nLCAnd3d3LmJhbmppYWppYS5jb20nLCAnd3d3LmFueWVhaC5uZXQnLCAnd3d3LjI1OGNoLmNvbScsICdway5uZXRlYXNlLmNvbScsICdiYnMucGx1LmNuJywgJ2Jicy5vLmNuJywgJ2Jicy5taHp4Mi53YW5tZWkuY29tJywgJ2Jicy5kZWRlY21zLmNvbScsICdiYnMuYXN0c2guY29tJywgJ2Jicy41MXRvdWNoLmNvbScsICc1MC4xMTcuMTE1LjIxOCcsICczZGd1bmRhbS5jb20nLCAnd3d3Lnlpemh1YmJzLmNvbS5jbicsICd3d3cueWV3dXl1YW4uY29tJywgJ3d3dy50eXN4eS5jb20nLCAnd3d3Lm1hdGxhYnNreS5jb20nLCAnd3d3LmZwZ2F3LmNvbScsICd3d3cuY29vbHhhcC5jb20nLCAnd3d3LmNnZWJvb2suY29tJywgJ3d3dy5jYW50b244LmNvbScsICdzeWRqMjQuY2hpbmEuY24nLCAnbW90by5pdDE2OC5jb20nLCAnbTEwOS5tYWlsLnFxLmNvbScsICdsa2Jicy5tYmEub3JnLmNuJywgJ2h0Y2Jicy5jbm1vLmNvbScsICdiYnMuc29tZG9tLmNvbScsICdiYnMuZ3VxdS5uZXQnLCAnd3d3LnN0bWN1Lm9yZycsICd3d3cubXV6aGl3YW4uY29tJywgJ3d3dy5oZWxsb2RzcC5jb20nLCAnd3d3LmZyZWVoZWFkLmNvbScsICd3d3cuY2h1aXNheC5jb20nLCAnd3d3LmFwa2J1cy5jb20nLCAndHRkYi41MXdiYWxsLmNvbScsICdsb2wuZ2FtZWJicy5xcS5jb20nLCAnYnQuam5yYWluLmNvbScsICdiYnMud3BzLmNuJywgJ2Jicy5xaWJvc29mdC5jb20nLCAnYmJzLmx1cmVuLmNjJywgJ2Jicy5rdWFpYm8uY29tJywgJ2Jicy5oeXljbi5jb20nLCAnYmJzLmh1aTEwMC5jb20nLCAnYmJzLmdwc3V1LmNvbScsICdiYnMuZW9sLmNuJywgJ2Jicy5jbnBvdS5jb20nLCAnYmJzLmNoaW5hdW5peC5uZXQnLCAnd3d3Lnp5cWoubmV0JywgJ3d3dy53eHIuY2MnLCAnd3d3LnVuaW9uZmFjYWRlLmNvbScsICd3d3cuc3dvdGhvdXNlLmNvbScsICd3d3cubWNiYnMubmV0JywgJ3d3dy5oc2xxLmNuJywgJ3d3dy5objI1MjUuY29tJywgJ3d3dy5oZGNkYXBlLmNvbScsICd3d3cuY2dwYWludGVyLmNvbScsICd3d3cuYmIwNi5jb20nLCAnd3d3LmJhb3hpYW53YW5nbHVvLmNvbScsICdiYnMudHVtdXpoZS5jb20nLCAnYmJzLnBocGNtcy5jbicsICdiYnMubW91bnRibGFkZS5jb20uY24nLCAnYmJzLmltcDMubmV0JywgJ2Jicy5oY2Jicy5jb20nLCAnYmJzLmNubW8uY29tJywgJ2Jicy5hcGtvay5jb20nLCAnYmJzLjU1eW91LmNvbScsICd3d3cud3hnLmNjJywgJ3d3dy53cTUyLmNvbScsICd3d3cud2VzaGFyZWVkdS5jb20nLCAnd3d3LnRpbmd0YW9nZS5jb20nLCAnd3d3LnN6c2hicy5jb20nLCAnd3d3LnBldHJvcmVuLmNvbScsICd3d3cubWlzc3l1YW4uY29tJywgJ3d3dy5sZWF3by5jbicsICd3d3cuaGlwaG9wemcuY29tJywgJ3d3dy5icmlkZ2VoZWFkLmNvbS5jbicsICd3d3cuYWV0YWxrLmNuJywgJ3RtcGRsLnhpYW9tYS5jb20nLCAnbHQuY2pkYnkubmV0JywgJ2lsZWFybi5taWlzLmVkdScsICdmcm9tMjAwNS5jb20nLCAnYmVueW91aHVpLml0MTY4LmNvbScsICdiYnMuc3VuaW5nLmNvbScsICdiYnMucmlmZmJveC5jbicsICdiYnMua3VrYW8ub3JnJywgJ2Jicy5nd2xvbmcuaW5mbycsICdiYnMuY2Fyb2xlZHUuY29tJywgJ3l5aGVybzE4bmV0LmNvbScsICd4eTMubmV0ZWFzZS5jb20nLCAnd3d3LnpieS5pbicsICd3d3cueWFvcS5uZXQnLCAnd3d3LmRkcWN3LmNvbScsICd3d3cuY25icG4uY29tJywgJ2ZvcnVtLnppY2hlbi5jb20nLCAnYmJzLnhpYW9tYS5jb20nLCAnYmJzLnRpZ3RhZy5jb20nLCAnYmJzLnNtdGhvbWUubmV0JywgJ2Jicy5zaGd6cy5jb20nLCAnYmJzLnJ1aWRlcHB0LmNvbScsICdiYnMucGhvdG9wcy5jb20nLCAnYmJzLm5vd3h1ZS5jb20nLCAnYmJzLm1veWl6YS5jb20nLCAnYmJzLmpjd2NuLmNvbScsICdiYnMuaXRob21lLmNvbScsICdiYnMuaWNwY3cuY29tJywgJ2Jicy5pY2FmZTguY29tJywgJ2Jicy5nZW1laXRlY2guY29tJywgJ2Jicy5lZG5jaGluYS5jb20nLCAnYmJzLmNoaW5hYWNjLmNvbScsICd3d3cuemd3eGJicy5jb20nLCAnd3d3Lnhib3gtc2t5ZXIuY29tJywgJ3d3dy5ubnNpa2FvLmNvbScsICd3d3cubmV3c210aC5uZXQnLCAnd3d3Lm15c2lsdS5jb20nLCAnd3d3Lm1laXNpdHQuY29tJywgJ3d3dy5semxsYmJzLmNvbScsICd3d3cua3V3b3ppbGlhby5jbicsICd3d3cuYmphb3hpYW8uY29tJywgJ3d3dy41ZGZseS5jbicsICd2aXAuZ3dnei5jb20nLCAnbXguYmJzLmR1b3lpLmNvbScsICdraWxsbWFuLm5ldCcsICdmb3J1bS5iZWJleW9uZC5jb20nLCAnYmJzLnRvbmdidS5jb20nLCAnYmJzLmZpc2hjLmNvbScsICdiYnMuZGlhbmppYW4ubmV0JywgJzY3LjIyMC45MC4zMCcsICc2Ny4yMjAuOTEuMzAnLCAnYmJzLm15aGQxMDgwLmNvbScsICd3d3cuc2V0aWFuc2hpLm9yZycsICdjbmJiczgubmV0JywgJ3d3LjFodWlzdW8uY29tJywgJzY3LjIyMC45MC4xNScsICdzaXMwMDEudXMnLCAnNjcuMjIwLjkyLjExJywgJ3d3dy5zZWxhbmcuY2EnLCAnYmJzLjIxZGlhbnl1YW4uY29tJywgJ3d3dy5odWFubGVmdXFpLmNvbScsICczOC4xMDMuMTYxLjE4NycsICc2OC4xNjguMTYuMTUxJywgJzY0Ljc4LjE2Ny42MicsICd3LnNpczAwMS51cycsICc2OC4xNjguMTYuMTU1JywgJzEuY2Eud28udGMnLCAnNjguMTY4LjE2LjE1MycsICcxOHAycC5jb20nLCAnMWh1aXN1by5jb20nLCAnd3d3LnNpczAwMS51cycsICd3d3cubXVsYW5nZS5jbicsICd3d3cueWVzZTIyLmNvbScsICc2Ny4yMjAuOTIuMDE3JywgJzkuOHhiYnMuY29tJywgJzY3LjIyMC45MS4yJywgJzY0LjYyLjIwOS4zMCcsICd3d3cuamllcGFpc3cuY29tJywgJ3d3dy5idGNoaW5hLmluZm8nLCAnNjcuMjIwLjkxLjIwJywgJzY0Ljc4LjE2Ny42MycsICdkb3duLnRlY2guc2luYS5jb20uY24nLCAnd3d3LjUyei5jb20nLCAnd3d3LjdlZG93bi5jb20nLCAnd3d3LmFycHVuLmNvbScsICd3d3cuMzk4Ny5jb20nLCAnd3d3LmJraWxsLmNvbScsICd3d3cuY25jcmsuY29tJywgJ3d3dy5jbmdyLmNuJywgJ3d3dy5jcjE3My5jb20nLCAnd3d3LmRkb29vLmNvbScsICd3d3cuZG93bnhpYS5jb20nLCAnd3d3LmRvd25iYW5rLmNuJywgJ3d3dy5ncmVlbnhmLmNvbScsICd3d3cuaHVhY29sb3IuY29tJywgJ3d3dy5qejV1LmNvbScsICd3d3cubGlxdWNuLmNvbScsICd3d3cub3Jzb29uLmNvbScsICd3d3cucGM2LmNvbScsICd3d3cucGlhb2Rvd24uY29tJywgJ3d3dy5xcXRuLmNvbScsICd3d3cudXp6Zi5jb20nLCAnd3d3LnR0encuY29tJywgJ3dlbndlbi5zb3NvLmNvbScsICdpYXNrLnNpbmEuY29tLmNuJywgJ2lzaGFyZS5pYXNrLnNpbmEuY29tLmNuJywgJ2Rvd25sb2FkLmNzZG4ubmV0JywgJ3d3dy55dW5jaGVuZy5jb20nLCAnJywgJ3d3dy5iYWlkdS5jb20nLCAnd3d3LjIzdXMuY29tJywgJ3d3dy5sdW9xaXUuY29tJywgJ3d3dy55enV1LmNvbScsICd3d3cuZXB6dy5jb20nLCAnd3d3LmRhamlhZHUubmV0JywgJ2Jvb2suemh1bGFuZy5jb20nLCAnYi5mYWxvby5jb20nLCAnd3d3LnJlYWRub3ZlbC5jb20nLCAnc291ZHUub3JnJywgJ3JlYWQuc2hhbndlbi5jb20nLCAnd3d3LnNodXNodXcuY24nLCAnd3d3LmJpbmh1by5jb20nLCAnYmFpc2h1bG91LmNvbScsICd3d3cuMTIzZHUubmV0JywgJ3d3dy4zM3hzLmNvbScsICd3d3cubXlzaHVsb3UuY29tJywgJ3d3dy42OXp3LmNvbScsICd3d3cueGlhb3NodW96aGUuY29tJywgJ3d3dy54dW5zaHUub3JnJywgJ3d3dy43N3NodS5jb20nLCAnd3d3LnhpYXphaWxvdS5jb20nLCAnd3d3Lmtlbndlbi5jb20nLCAnd3d3LmRvY2luLm5ldCcsICd3d3cuNXdlaTguY29tJywgJ3d3dy5zaGFud2VuLmNvbScsICd3d3cueWFubW94dWFuLm9yZycsICd3d3cuanVuc2hpc2h1LmNvbScsICd6aGlkYW8uYmFpZHUuY29tJywgJ2ppbmd5YW4uYmFpZHUuY29tJywgJ2JhaWtlLmJhaWR1LmNvbSddOwp2YXIgc3R5bGUgPSAnPHN0eWxlPiNvbmVrZXlfZG93bmxvYWQgeyBwb3NpdGlvbjogZml4ZWQ7IHdpZHRoOiA1MDBweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjZmNzsgYm9yZGVyOiAxcHggc29saWQgI2FkYjFiYjsgY29sb3I6ICM1YTVmNjU7IHotaW5kZXg6IDEwMDA7IH0gI29uZWtleV9kb3dubG9hZCBzcGFuIHsgaGVpZ2h0OiAyMnB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB9ICNvbmVrZXlfaW5mbyB7IHdpZHRoOiA0ODBweDsgaGVpZ2h0OiAyMnB4OyBwYWRkaW5nOiA1cHggMTBweDsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMjJweDsgb3ZlcmZsb3c6IGhpZGRlbjsgfSAjb25la2V5X2luZm9fZmlsZSwgI29uZWtleV9pbmZvX2NvdW50IHsgbWF4LXdpZHRoOiAxNTBweDsgcGFkZGluZzogMCA1cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiAjOEVCRDI3OyB9ICNvbmVrZXlfZG93bmxvYWQgaSwgI29uZWtleV9jbG9zZSwgI29uZWtleV9zd2l0Y2ggeyBoZWlnaHQ6IDIycHg7IGJhY2tncm91bmQ6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFNEFBQUJZQ0FZQUFBQmJKY0diQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUEyWnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU15MWpNREV4SURZMkxqRTBOVFkyTVN3Z01qQXhNaTh3TWk4d05pMHhORG8xTmpveU55QWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1RVMDlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl0YlM4aUlIaHRiRzV6T25OMFVtVm1QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YzFSNWNHVXZVbVZ6YjNWeVkyVlNaV1lqSWlCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlJSGh0Y0UxTk9rOXlhV2RwYm1Gc1JHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEcERRVE5HUlRBNU9EZEVSVFJGTXpFeE9ERTFRa05ETlVZeU5FWkZNak0xTmlJZ2VHMXdUVTA2Ukc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvM1FVUkVNRFF6TmtVME4wWXhNVVV6T1RsRlFrUTVNVFk0UVRBMFJqVkZOaUlnZUcxd1RVMDZTVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG8zUVVSRU1EUXpOVVUwTjBZeE1VVXpPVGxGUWtRNU1UWTRRVEEwUmpWRk5pSWdlRzF3T2tOeVpXRjBiM0pVYjI5c1BTSkJaRzlpWlNCUWFHOTBiM05vYjNBZ1ExTTJJQ2hYYVc1a2IzZHpLU0krSUR4NGJYQk5UVHBFWlhKcGRtVmtSbkp2YlNCemRGSmxaanBwYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2tORU0wWkZNRGs0TjBSRk5FVXpNVEU0TVRWQ1EwTTFSakkwUmtVeU16VTJJaUJ6ZEZKbFpqcGtiMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPa05CTTBaRk1EazROMFJGTkVVek1URTRNVFZDUTBNMVJqSTBSa1V5TXpVMklpOCtJRHd2Y21SbU9rUmxjMk55YVhCMGFXOXVQaUE4TDNKa1pqcFNSRVkrSUR3dmVEcDRiWEJ0WlhSaFBpQThQM2h3WVdOclpYUWdaVzVrUFNKeUlqOCtoQm5ZRXdBQUEzSkpSRUZVZU5yc203OXJGRUVVeDNmM1lrQ3g4S0xwTEE0UmpJMm9oVFphZVA0TFZrSEJ4dUxFWDFkb3BmK0Fna0VFcndraVJMQ3h5Ui9nV2RoYnBER0ZoTU5hemtZNFVIRjljOWtMNDl6YzdMdzN1K2Q1KzMwd3pHWjJaalA3bWZmbXZaMlh4R21hUmhDK0pFQUFjQUQzUDhqQ1duZmxBOVVYQkdPNzdlYjI1Y3BxWEJMWHpvZ0d4clh6RlRmVk9KWU5sWTZiRTFPMUkwbCtYVG45NnQ3Uitybit6dGYzeTV0YnJXZlkxWHpBUmNrUGd2YVNMZ2ZIamx3NlNEWEFNYnpxSUt1L0F4UENrYkpNTmY3ZGJuNjZTaGMvOVZZS08xWlZ2ZFk5K1RxS1VzQWUxN2cwb2JoT2hSbHZqWDV2cVAwaW9MbWR3MTJDVkNNdHU3MnJaU3MxcXRhcFhBZXVISzlLY2lzRDlwREtjeXFyUU9VSFRra3JLeEI0MVFMQjdkOTM2SXRrNElIRnd6dFZCaGZqQkJpbUNuQUFCM0FRZ0FNNGdBTTRnSVB3d1BWNnZSZFVVbFdiSFYzM29IRlIxUHE0OVhsWTY0Q3k2NzE3d0RaK3JOUTVlK3I0RUpDcUNkaGZRS2x0MkFmWUxCLzV1blpsb0NJZFdxUFJ1QWxzRTA1SEROTUVOSGpWRXNHWnBxcUt6V0VBbkh0LzYyUU9BL0JjZTV5SzAyeU93QVJLN1RFMGJqd2NHWE1FMlhVSDRVaU9WNFhBcXdJY3dBRWN3RUVFb3Y3UFlaSHFKMVRVSHhRdUFZbFR2bEhab0hKZkhTczlwbklIVEx5a25yRWFLRk85Qmg1c3VaSEFQRVd5Qk9jd1RhL2FibTZMKzVVMTF2ZTVoWGxWeVNEeXhNT0pxbHFmdVA2eitWS1Q3cmxlZXRJNFYzL2JYTG5QZHMyVkJjNTNvcjYvMU93N3FtM2piVzBoTHl4ZGZCRTQxOE45VjA2SFBMcWVCQ3BQVzN4Tk9RK0NEbzhMZnFFTSt6Y2hjVlpWMXo3ZnhaUm9uRXZ6L2htNDBXUjhWbDJ5dVJleHgzSDdCSVBqcW5lZVNablA4UUZ1MCtDUS9Xb21QL0xWNVBWaXRwa2dPQzlyV3dCZmFCeXRMUXljZEYvZ2VsdHVQODY4ZE5BU0xVMGtMNmFiUjVHQlowam9vWnU0NzV5NFdob1V4OW5NeWplRXlIdStiN0NiNTFFNXprbHFQZkhUZHllUTVwcEY1d0J3a0RGd2ZXQmdTMStCMndBSHRxd3JyL3BBT1lsbzl3aTlEaVpPR1NWckh1bDdITHdyODFzVldTNS9RWllyVUpEbEVncXlYRk1OZ0pIbHFuQ1dpek0vTWJoNXpIS1o0MG81VnByWExKZTVlSVduQjBQMndGbk5jb1dlSUZjMnk4VnREd2FITEZlSkdzYzFxVW5IM2h6TkM4bktTeUJYTnN0bDA5aFN3YzFUbHN2bVZVdUw0K1lseXhXcXNjaHlUZk5iRlFKd1FlQ1E1ZUlMc2x4Q1FaYUxLWHRacmo4Q0RBQTc0Y05EWVhTMFNBQUFBQUJKUlU1RXJrSmdnZz09Iikgbm8tcmVwZWF0IDAgMDsgfSAjb25la2V5X2Nsb3NlIHsgd2lkdGg6IDE2cHg7IGZsb2F0OiByaWdodDsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMjJweDsgfSAjb25la2V5X3N3aXRjaCB7IHdpZHRoOiA3OHB4OyBmbG9hdDogcmlnaHQ7IG1hcmdpbi1yaWdodDogMTBweDsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtNDRweDsgfSAjb25la2V5X3N3aXRjaC5leHBhbmQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC02NnB4OyB9ICNvbmVrZXlfZG93bmxvYWQgaSB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgZmxvYXQ6IGxlZnQ7IHdpZHRoOiAyMnB4OyB9ICNvbmVrZXlfZmlsZV9saXN0IHsgZGlzcGxheTogbm9uZTsgcGFkZGluZzogMCAxMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2FkYjFiYjsgZm9udC1zaXplOiAxMnB4OyB9ICNvbmVrZXlfZmlsZV9saXN0IC5vbmVrZXlfZmlsZSB7IGhlaWdodDogMjJweDsgcGFkZGluZzogMTBweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RmZGZkZjsgbGluZS1oZWlnaHQ6IDIycHg7IG92ZXJmbG93OiBoaWRkZW47IH0gI29uZWtleV9maWxlX2xpc3QgLm9uZWtleV9maWxlIGEgeyBmbG9hdDogcmlnaHQ7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgY29sb3I6ICM1YTVmNjU7IH0gI29uZWtleV9maWxlX2xpc3QgLm9uZWtleV9maWxlIHNwYW4geyB3aWR0aDogNDIwcHg7IH08L3N0eWxlPic7CnZhciBodG1sID0gJzxkaXYgaWQ9Im9uZWtleV9kb3dubG9hZCI+PGRpdiBpZD0ib25la2V5X2luZm8iPjxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgaWQ9Im9uZWtleV9jbG9zZSI+PC9hPjxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgaWQ9Im9uZWtleV9zd2l0Y2giPjwvYT48aT48L2k+PHNwYW4+5b2T5YmN6aG15pyJPC9zcGFuPjxzcGFuIGlkPSJvbmVrZXlfaW5mb19maWxlIj48L3NwYW4+PHNwYW4+562JPC9zcGFuPjxzcGFuIGlkPSJvbmVrZXlfaW5mb19jb3VudCI+PC9zcGFuPjxzcGFuPuS4qui1hOa6kOWPr+S4i+i9vTwvc3Bhbj48L2Rpdj48ZGl2IGlkPSJvbmVrZXlfZmlsZV9saXN0Ij48L2Rpdj48L2Rpdj4nOwoKdmFyIGlkcyA9IFsnb25la2V5X2Rvd25sb2FkJywgJ29uZWtleV9pbmZvX2ZpbGUnLCAnb25la2V5X2luZm9fY291bnQnLCAnb25la2V5X2ZpbGVfbGlzdCcsICdvbmVrZXlfc3dpdGNoJywgJ29uZWtleV9jbG9zZSddOwoKZnVuY3Rpb24gaW5pdEhUTUwoKSB7Cgl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CglkaXYuaW5uZXJIVE1MID0gc3R5bGUgKyBodG1sOwoJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwoJZm9yIChpIGluIGlkcykgewoJCXdpbmRvd1tpZHNbaV1dID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRzW2ldKTsKCX0KfQoKZnVuY3Rpb24gc2hvd0Rvd25sb2FkRGlhb2xvZyhmaWxlcykgewoJaW5pdEhUTUwoKTsKCXZhciBjdyA9IGRvY3VtZW50LmNvbXBhdE1vZGUgPT0gIkNTUzFDb21wYXQiID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKCW9uZWtleV9kb3dubG9hZC5zdHlsZS5sZWZ0ID0gKGN3IC0gNTAyKSAvIDIgKyAncHgnOwoJb25la2V5X2Rvd25sb2FkLnN0eWxlLnRvcCA9ICc1cHgnOwoJb25la2V5X2luZm9fZmlsZS50ZXh0Q29udGVudCA9IGZpbGVzWzBdLmZpbGVuYW1lOwoJb25la2V5X2luZm9fY291bnQudGV4dENvbnRlbnQgPSBmaWxlcy5sZW5ndGg7CgkKCWZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHsKCQl2YXIgZmlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCWZpbGUuY2xhc3NOYW1lID0gJ29uZWtleV9maWxlJzsKCQlmaWxlLmlubmVySFRNTCA9ICc8YSBocmVmPSInICsgZmlsZXNbaV0udXJsICsgJyI+PGk+PC9pPuS4i+i9vTwvYT48c3Bhbj4nICsgZmlsZXNbaV0uZmlsZW5hbWUgKyAnPC9zcGFuPic7CgkJb25la2V5X2ZpbGVfbGlzdC5hcHBlbmRDaGlsZChmaWxlKTsKCX0KCglvbmVrZXlfc3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7CgkJaWYgKHRoaXMuY2xhc3NOYW1lID09ICdleHBhbmQnKSB7CgkJCW9uZWtleV9maWxlX2xpc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCQkJdGhpcy5jbGFzc05hbWUgPSAnJzsKCQl9IGVsc2UgewoJCQlvbmVrZXlfZmlsZV9saXN0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoJCQl0aGlzLmNsYXNzTmFtZSA9ICdleHBhbmQnOwoJCX0KCX0pOwoJb25la2V5X2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7CgkJb25la2V5X2Rvd25sb2FkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7Cgl9KTsKfQppZiAoZG93bmxvYWRVcmwuaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+PSAwKSB7CglHTV94bWxodHRwUmVxdWVzdCh7CgkJbWV0aG9kOiAnR0VUJywKCQl1cmw6IHN0ckRvd25sb2FkVXJsLAoJCWhlYWRlcnM6IHsnY29udGVudC1leHRyYSc6ICdyZWZlcj0nICsgbG9jYXRpb24uaHJlZn0sCgkJb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CgkJCXZhciBmaWxlcyA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlVGV4dCk7CgkJCWlmIChmaWxlcy5sZW5ndGggPiAwKSBzaG93RG93bmxvYWREaWFvbG9nKGZpbGVzKTsKCQl9Cgl9KTsKfQo="},{"name":"YouTube +","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["*://www.youtube.com/tv*","*://www.youtube.com/embed/*","*://www.youtube.com/live_chat*"],"orig_includes":[],"orig_matches":["*://www.youtube.com/*"],"orig_noframes":true,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{"particleSettings":"s{\"GEN_BTTR_NTF\":true,\"GEN_SUB_LIST\":false,\"GEN_INF_SCRL\":false,\"GEN_BLUE_GLOW\":true,\"GEN_PPOT_ON\":false,\"VID_END_SHRE\":true,\"VID_DFLT_QLTY\":\"auto\",\"VID_PLST_ATPL\":true,\"VID_PLST_RVRS\":true,\"VID_PLR_ATPL\":true,\"VID_PLR_ALVIS\":true,\"VID_PLR_SIZE_MEM\":true,\"VID_PLR_VOL_LDN\":true,\"VID_POST_TIME\":true,\"VID_VID_CNT\":true,\"VID_DESC_SHRT\":true,\"VID_PPOT_SZ\":false,\"VID_PLR_HTML5\":true,\"BLK_ON\":true,\"floaterX\":2000,\"floaterY\":2000,\"firstTime\":false,\"volLev\":50,\"advOpts\":false,\"blacklist\":{},\"extLang\":{\"zh_CN\":{\"YTSETS\":\"YouTube+ \",\"ADV_OPTS\":\"\",\"SUB_PLST\":\"\",\"PPOT_OPEN\":\"\",\"BLCK_ADD\":\"\",\"BLCK_EDIT\":\"\",\"BLCK_SAVE\":\"\",\"BLCK_CLSE\":\"\",\"CNSL_AP\":\"\",\"CNSL_RPT\":\"\",\"CNSL_SVTH\":\"\",\"CNSL_SS\":\"\",\"CNSL_SS_CLS\":\"\",\"CNSL_PPOT\":\"\",\"CNSL_FLBR\":\"\",\"CNSL_CINM_MD\":\"\",\"CNSL_YTSC\":\"YouTube \",\"PLST_AP\":\"\",\"PLST_RVRS\":\"\",\"SHOW_CMTS\":\"\",\"HIDE_CMTS\":\"\",\"GLB_IMPR\":\"/\",\"GLB_LOCL_LANG\":\" YT+ \",\"GLB_LOCL_LANG_CSTM\":\"\",\"GLB_IMPR_SAVE\":\"\",\"GLB_RSET\":\"\",\"GLB_RSET_CONF\":\"YT+\",\"GLB_SVE\":\"\",\"GLB_SVE_SETS\":\"\",\"GLB_RMBL\":\"\",\"FTR_DESC\":\"\",\"GEN\":\"\",\"VID\":\"\",\"CHN\":\"\",\"BLK\":\"\",\"ABT\":\"\",\"HLP\":\"\",\"DNT\":\"\",\"GEN_TTL\":\"\",\"GEN_GEN\":\"\",\"GEN_LYT\":\"\",\"GEN_LOCL_LANG\":\" YT+ \",\"GEN_PPOT_ON\":\"\",\"GEN_DSBL_ADS\":\"\",\"GEN_INF_SCRL\":\"\",\"GEN_YT_LOGO_LINK\":\"YouTube \",\"GEN_SUB_LIST\":\"\",\"GEN_REM_APUN\":\"\",\"GEN_SPF_OFF\":\"\",\"GEN_HIDE_FTR\":\"\",\"GEN_BLUE_GLOW\":\"\",\"GEN_HDE_RECM_SDBR\":\"\",\"GEN_HDE_SRCH_SDBR\":\"\",\"GEN_HDE_CHN_SDBR\":\"\",\"GEN_CMPT_TTLS\":\"\",\"GEN_DSB_HVRC\":\"\",\"GEN_BTTR_NTF\":\"\",\"GEN_GRID_SUBS\":\"\",\"GEN_GRID_SRCH\":\"\",\"VID_TTL\":\"\",\"VID_PLR\":\"\",\"VID_PLR_LYT\":\"\",\"VID_DFLT_QLTY\":\"\",\"VID_DFLT_QLTY_AUTO\":\"\",\"VID_DFLT_QLTY_TNY\":\"144p\",\"VID_DFLT_QLTY_SML\":\"240p\",\"VID_DFLT_QLTY_MDM\":\"360p\",\"VID_DFLT_QLTY_LRG\":\"480p\",\"VID_DFLT_QLTY_720\":\"720p\",\"VID_DFLT_QLTY_1080\":\"1080p\",\"VID_DFLT_QLTY_1440\":\"1440p\",\"VID_DFLT_QLTY_2160\":\"2160p (4k)\",\"VID_DFLT_QLTY_2880\":\"2880p (5k)\",\"VID_DFLT_QLTY_ORIG\":\"4320p (8k)\",\"VID_PLR_ALVIS\":\"\",\"VID_PLR_ALVIS_WDTH\":\"\",\"VID_PLR_ALVIS_RST\":\"\",\"VID_PLR_ALVIS_SCRL_TOP\":\"\",\"VID_PLR_ATPL\":\"\",\"VID_LAYT\":\"\",\"VID_VID_CNT\":\"\",\"VID_POST_TIME\":\"\",\"VID_HIDE_DETLS\":\"\",\"VID_HIDE_COMS\":\"\",\"VID_HIDE_COMS_SHOW\":\"\",\"VID_HIDE_COMS_HIDE\":\"\",\"VID_HIDE_COMS_REM\":\"\",\"VID_END_SHRE\":\"\",\"VID_PLST\":\"\",\"VID_PLST_ATPL\":\"\",\"VID_PLST_RVRS\":\"\",\"VID_PLR_SIZE_MEM\":\"\",\"VID_VOL_WHEEL\":\"\",\"VID_PLR_VOL_MEM\":\"\",\"VID_PLR_VOL_LDN\":\" YouTube \",\"VID_PLR_ADS\":\"\",\"VID_PLR_ALACT\":\"\",\"VID_SUB_ADS\":\"\",\"VID_PLR_ANTS\":\"\",\"VID_PLR_HFR\":\" (60fps)\",\"VID_PLR_HTML5\":\" HTML 5 \",\"VID_PLR_CC\":\"\",\"VID_PLR_INFO\":\"\",\"VID_PLR_FIT\":\"\",\"VID_PLR_FIT_WDTH\":\":\",\"VID_PLR_DYN_SIZE\":\"\",\"VID_DESC_SHRT\":\"\",\"VID_TTL_CMPT\":\"\",\"VID_PPOT_SZ\":\"\",\"VID_LAYT_AUTO_PNL\":\"\",\"GEN_CHN_DFLT_PAGE\":\"\",\"GEN_CHN_DFLT_PAGE_DFLT\":\"\",\"GEN_CHN_DFLT_PAGE_VID\":\"\",\"GEN_CHN_DFLT_PAGE_PL\":\"\",\"GEN_CHN_DFLT_PAGE_CHN\":\"\",\"GEN_CHN_DFLT_PAGE_DISC\":\"\",\"GEN_CHN_DFLT_PAGE_ABT\":\"\",\"BLK_TTL\":\"\",\"BLK_BLK\":\"\",\"BLK_ON\":\"\",\"ABT_TTL\":\"\",\"ABT_THKS\":\"\",\"ABT_THKS_YEPPHA\":\"\",\"ABT_THKS_USERSCRIPT\":\" \",\"ABT_THKS_STACKOV\":\" \",\"ABT_INFO\":\"\",\"ABT_LNK_GHB\":\"GitHub\",\"ABT_LNK_GRFK\":\"Greasy Fork\",\"ABT_LNK_OPNU\":\"OpenUserJS\",\"WLCM\":\" YouTube+\",\"WLCMSTRT\":\"\",\"WLCMFTRS\":\"\",\"LOCALE\":\" ()\",\"lastMod\":1505607874000},\"nextCheck\":1507207244671},\"GEN_HDE_CHN_SDBR\":false,\"GEN_HDE_SRCH_SDBR\":false,\"GEN_HDE_RECM_SDBR\":false,\"GEN_HIDE_FTR\":false,\"GEN_CMPT_TTLS\":false,\"GEN_DSB_HVRC\":false,\"GEN_GRID_SRCH\":false,\"GEN_GRID_SUBS\":false,\"GEN_CHN_DFLT_PAGE\":\"default\",\"GEN_SPF_OFF\":false,\"GEN_REM_APUN\":false,\"GEN_YT_LOGO_LINK\":false,\"GEN_DSBL_ADS\":false,\"GEN_LOCL_LANG\":false,\"VID_LAYT_AUTO_PNL\":false,\"VID_HIDE_DETLS\":false,\"VID_TTL_CMPT\":false,\"VID_HIDE_COMS\":\"0\",\"VID_PLR_FIT_WDTH\":false,\"VID_PLR_FIT\":false,\"VID_PLR_DYN_SIZE\":false,\"VID_PLR_INFO\":false,\"VID_PLR_HFR\":false,\"VID_VOL_WHEEL\":false,\"VID_PLR_ALACT\":false,\"VID_PLR_VOL_MEM\":false,\"VID_PLR_ANTS\":false,\"VID_PLR_CC\":false,\"VID_PLR_ALVIS_WDTH\":false,\"VID_SUB_ADS\":false,\"VID_PLR_ADS\":false,\"theaterMode\":true}"},"ts":1506602444672},"enabled":true,"position":17,"file_url":"https://greasyfork.org/scripts/9932-youtube/code/YouTube%20+.user.js","uuid":"af9291e1-8670-4b26-8476-6ed531dda8bf","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQHZlcnNpb24gICAgICAgICAxLjkuMwovLyBAbmFtZSAgICAgICAgICAgIFlvdVR1YmUgKwovLyBAbmFtZXNwYWNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUKLy8gQGRlc2NyaXB0aW9uICAgICBZb3VUdWJlIHdpdGggbW9yZSBmcmVlZG9tCi8vIEBjb21wYXRpYmxlICAgICAgZmlyZWZveAovLyBAY29tcGF0aWJsZSAgICAgIG9wZXJhCi8vIEBpY29uICAgICAgICAgICAgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS9naC1wYWdlcy9pbWFnZXMvWVQlMkJpY29uLnBuZwovLyBAbWF0Y2ggICAgICAgICAgICo6Ly93d3cueW91dHViZS5jb20vKgovLyBAZXhjbHVkZSAgICAgICAgICo6Ly93d3cueW91dHViZS5jb20vdHYqCi8vIEBleGNsdWRlICAgICAgICAgKjovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8qCi8vIEBleGNsdWRlICAgICAgICAgKjovL3d3dy55b3V0dWJlLmNvbS9saXZlX2NoYXQqCi8vIEBydW4tYXQgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGhvbWVwYWdlVVJMICAgICBodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlCi8vIEBzdXBwb3J0VVJMICAgICAgaHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpCi8vIEBjb250cmlidXRpb25VUkwgaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9jZ2ktYmluL3dlYnNjcj9jbWQ9X3MteGNsaWNrJmhvc3RlZF9idXR0b25faWQ9VU1WUUpKRkc0QkZIVwovLyBAZ3JhbnQgICAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgR01fc2V0VmFsdWUKLy8gQG5vZnJhbWVzCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24gKCkgewogICAgInVzZSBzdHJpY3QiOwogICAgdmFyIHBhcnRpY2xlID0gewogICAgICAgIGluamVjdDogZnVuY3Rpb24oaXNfdXNlcnNjcmlwdCkgewogICAgICAgICAgICBmdW5jdGlvbiBzZXRMb2NhbGUoY29udGVudCkgewogICAgICAgICAgICAgICAgdmFyIGksIGosIGxpc3QsIHRlbXAsIHl0cGxhYmVsOwogICAgICAgICAgICAgICAgeXRwbGFiZWwgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIltkYXRhLXBdIik7CiAgICAgICAgICAgICAgICBpID0geXRwbGFiZWwubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgIGxpc3QgPSB5dHBsYWJlbFtpXS5kYXRhc2V0LnAuc3BsaXQoIiYiKTsKICAgICAgICAgICAgICAgICAgICBqID0gbGlzdC5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGotLSkgewogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gbGlzdFtqXS5zcGxpdCgifCIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFswXSA9PT0gInRuZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHl0cGxhYmVsW2ldLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxhbmcodGVtcFsxXSkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZW1wWzBdID09PSAidHRsIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeXRwbGFiZWxbaV0uc2V0QXR0cmlidXRlKCJ0aXRsZSIsIGxhbmcodGVtcFsxXSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeXRwbGFiZWxbaV0uZGF0YXNldC50b29sdGlwVGV4dCA9IGxhbmcodGVtcFsxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBnZXRMb2NhbGUoZGF0YSkgewogICAgICAgICAgICAgICAgbGFuZy5mZXRjaGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgZGF0YSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnNldGxvY2FsZTsKICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhICYmIEpTT04ucGFyc2UoZGF0YSk7CiAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MuZXh0TGFuZ1tsYW5nLnl0bGFuZ10gPSBKU09OLnBhcnNlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnNldGxvY2FsZSk7CiAgICAgICAgICAgICAgICAgICAgdXNlcl9zZXR0aW5ncy5leHRMYW5nW2xhbmcueXRsYW5nXS5sYXN0TW9kID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICAgICAgdXNlcl9zZXR0aW5ncy5leHRMYW5nLm5leHRDaGVjayA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgNjA0OEU1OwogICAgICAgICAgICAgICAgICAgIHNldCgiZXh0TGFuZyIsIHVzZXJfc2V0dGluZ3MuZXh0TGFuZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsYW5nLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBnZXRMYW5ndWFnZShkYXRhKSB7CiAgICAgICAgICAgICAgICBsYW5nLmZldGNoaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS50YXJnZXQucmVhZHlTdGF0ZSA9PT0gNCAmJiBkYXRhLnRhcmdldC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MuZXh0TGFuZ1tsYW5nLnl0bGFuZ10gPSBKU09OLnBhcnNlKGRhdGEudGFyZ2V0LnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzLmV4dExhbmdbbGFuZy55dGxhbmddLmxhc3RNb2QgPSBuZXcgRGF0ZShkYXRhLnRhcmdldC5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzLmV4dExhbmcubmV4dENoZWNrID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyA2MDQ4RTU7CiAgICAgICAgICAgICAgICBzZXQoImV4dExhbmciLCB1c2VyX3NldHRpbmdzLmV4dExhbmcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrTW9kaWZpZWQoZGF0YSkgewogICAgICAgICAgICAgICAgbGFuZy5mZXRjaGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKGRhdGEudGFyZ2V0LnJlYWR5U3RhdGUgPT09IDQgJiYgZGF0YS50YXJnZXQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBsYW5nLmZldGNoaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFhIUigiR0VUIiwgZ2V0TGFuZ3VhZ2UsIGxhbmcudXJsQmFzZSArIGxhbmcueXRsYW5nICsgIi5qc29uIiwgWyJBY2NlcHQiLCAiYXBwbGljYXRpb24vdm5kLmdpdGh1Yi5yYXciXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbGFuZyhsYWJlbCkgewogICAgICAgICAgICAgICAgbGFuZy55dGxhbmcgPSB3aW5kb3cueXQgJiYgd2luZG93Lnl0LmNvbmZpZ18gJiYgd2luZG93Lnl0LmNvbmZpZ18uR0FQSV9MT0NBTEU7CiAgICAgICAgICAgICAgICBsYW5nLnVybEJhc2UgPSAiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9QYXJ0aWNsZUNvcmUvUGFydGljbGUvY29udGVudHMvTG9jYWxlLyI7CiAgICAgICAgICAgICAgICBpZiAoIXVzZXJfc2V0dGluZ3MuZXh0TGFuZykgewogICAgICAgICAgICAgICAgICAgIHNldCgiZXh0TGFuZyIsIHt9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLkdFTl9MT0NMX0xBTkcgJiYgdXNlcl9zZXR0aW5ncy5sb2NhbExhbmcgJiYgdXNlcl9zZXR0aW5ncy5sb2NhbExhbmdbbGFiZWxdKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHVzZXJfc2V0dGluZ3MuZXh0TGFuZykgIT09ICJ7fSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0KCJleHRMYW5nIiwge30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcl9zZXR0aW5ncy5sb2NhbExhbmdbbGFiZWxdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCF1c2VyX3NldHRpbmdzLkdFTl9MT0NMX0xBTkcgJiYgbGFuZy55dGxhbmcgJiYgbGFuZy55dGxhbmcgIT09ICJlbl9VUyIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5leHRMYW5nW2xhbmcueXRsYW5nXSAmJiB1c2VyX3NldHRpbmdzLmV4dExhbmdbbGFuZy55dGxhbmddW2xhYmVsXSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhbmcuZmV0Y2hpbmcgJiYgdXNlcl9zZXR0aW5ncy5leHRMYW5nLm5leHRDaGVjayAmJiB1c2VyX3NldHRpbmdzLmV4dExhbmcubmV4dENoZWNrIDw9IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5nLmZldGNoaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNfdXNlcnNjcmlwdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihnZXRMb2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbImRhdGEtc2V0bG9jYWxlIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5nZXRsb2NhbGUgPSBsYW5nLnl0bGFuZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxYSFIoIkhFQUQiLCBjaGVja01vZGlmaWVkLCBsYW5nLnVybEJhc2UgKyBsYW5nLnl0bGFuZyArICIuanNvbiIsIFsiSWYtTW9kaWZpZWQtU2luY2UiLCBuZXcgRGF0ZSh1c2VyX3NldHRpbmdzLmV4dExhbmdbbGFuZy55dGxhbmddLmxhc3RNb2QpLnRvVVRDU3RyaW5nKCldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MuZXh0TGFuZy5uZXh0Q2hlY2sgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDYwNDhFNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCgiZXh0TGFuZyIsIHVzZXJfc2V0dGluZ3MuZXh0TGFuZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJfc2V0dGluZ3MuZXh0TGFuZ1tsYW5nLnl0bGFuZ11bbGFiZWxdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXJfc2V0dGluZ3MuZXh0TGFuZ1tsYW5nLnl0bGFuZ10gJiYgIWxhbmcuZmV0Y2hpbmcgJiYgKCF1c2VyX3NldHRpbmdzLmV4dExhbmcubmV4dENoZWNrIHx8IHVzZXJfc2V0dGluZ3MuZXh0TGFuZy5uZXh0Q2hlY2sgPD0gbmV3IERhdGUoKS5nZXRUaW1lKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcuZmV0Y2hpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzX3VzZXJzY3JpcHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmcub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihnZXRMb2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbImRhdGEtc2V0bG9jYWxlIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQuZ2V0bG9jYWxlID0gbGFuZy55dGxhbmc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFhIUigiR0VUIiwgZ2V0TGFuZ3VhZ2UsIGxhbmcudXJsQmFzZSArIGxhbmcueXRsYW5nICsgIi5qc29uIiwgWyJBY2NlcHQiLCAiYXBwbGljYXRpb24vdm5kLmdpdGh1Yi5yYXciXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2VbbGFiZWxdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNvcnRMaXN0KHByZXZpb3VzLCBuZXh0KXsKICAgICAgICAgICAgICAgIHJldHVybiBuZXh0W09iamVjdC5rZXlzKG5leHQpWzBdXS5sb2NhbGVDb21wYXJlKHByZXZpb3VzW09iamVjdC5rZXlzKHByZXZpb3VzKVswXV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJsYWNrbGlzdChibGlzdCkgewogICAgICAgICAgICAgICAgdmFyIGksIG9iaiwgdGVtcCwgbG5rLCBrZXlzLCBsaXN0LCBmcmFnbWVudCwgc29ydEFscGhhOwogICAgICAgICAgICAgICAgbGlzdCA9IHVzZXJfc2V0dGluZ3MuYmxhY2tsaXN0OwogICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICAgICAgICAgICAgICBzb3J0QWxwaGEgPSBbXTsKICAgICAgICAgICAgICAgIHRlbXAgPSBPYmplY3Qua2V5cyhsaXN0KTsKICAgICAgICAgICAgICAgIGkgPSB0ZW1wLmxlbmd0aDsKICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICBvYmogPSB7fTsKICAgICAgICAgICAgICAgICAgICBvYmpbdGVtcFtpXV0gPSBsaXN0W3RlbXBbaV1dOwogICAgICAgICAgICAgICAgICAgIHNvcnRBbHBoYS5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0ZW1wID0gc29ydEFscGhhLnNvcnQoc29ydExpc3QpOwogICAgICAgICAgICAgICAgaSA9IHRlbXAubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wW2ldKTsKICAgICAgICAgICAgICAgICAgICBvYmogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwogICAgICAgICAgICAgICAgICAgIG9iai5pbm5lckhUTUwgPSAvLwogICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz0nYmxhY2tsaXN0Jz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J2Nsb3NlJyBkYXRhLXA9J3R0bHxHTEJfUk1CTCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PScwIDAgMTAgMTAnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBwb2ludHM9JzEwLDEuNCA4LjYsMCA1LDMuNiAxLjQsMCAwLDEuNCAzLjYsNSAwLDguNiAxLjQsMTAgNSw2LjQgOC42LDEwIDEwLDguNiA2LjQsNScvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+PGEgdGFyZ2V0PSdfYmxhbmsnPjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICBvYmogPSBzZXRMb2NhbGUob2JqLmNvbnRlbnQuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgbG5rID0gb2JqLnF1ZXJ5U2VsZWN0b3IoImEiKTsKICAgICAgICAgICAgICAgICAgICBsbmsuaHJlZiA9ICIvY2hhbm5lbC8iICsga2V5c1swXTsKICAgICAgICAgICAgICAgICAgICBsbmsuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRlbXBbaV1ba2V5c1swXV0pOwogICAgICAgICAgICAgICAgICAgIGxuay50ZXh0Q29udGVudCA9IHRlbXBbaV1ba2V5c1swXV07CiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQob2JqKTsKICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiXG4iKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBibGlzdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VmFsdWVzKG1lbnUpIHsKICAgICAgICAgICAgICAgIHZhciBpLCB5dHAsIGxpc3Q7CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncykgewogICAgICAgICAgICAgICAgICAgIGxpc3QgPSBtZW51LnF1ZXJ5U2VsZWN0b3IoIiNibGFja2xpc3QiKTsKICAgICAgICAgICAgICAgICAgICBpZiAobGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICBnZXRCbGFja2xpc3QobGlzdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHl0cCA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbaWRdIik7CiAgICAgICAgICAgICAgICAgICAgaSA9IHl0cC5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoeXRwW2ldLnR5cGUgPT09ICJjaGVja2JveCIgJiYgdXNlcl9zZXR0aW5nc1t5dHBbaV0uaWRdID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5dHBbaV0uc2V0QXR0cmlidXRlKCJjaGVja2VkIiwgInRydWUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoeXRwW2ldLnR5cGUgPT09ICJ0ZXh0IiAmJiB0eXBlb2YgdXNlcl9zZXR0aW5nc1t5dHBbaV0uaWRdID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeXRwW2ldLnNldEF0dHJpYnV0ZSgidmFsdWUiLCB1c2VyX3NldHRpbmdzW3l0cFtpXS5pZF0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHl0cCA9IG1lbnUucXVlcnlTZWxlY3RvckFsbCgib3B0aW9uIik7CiAgICAgICAgICAgICAgICAgICAgaSA9IHl0cC5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5nc1t5dHBbaV0ucGFyZW50Tm9kZS5pZF0gPT09IHl0cFtpXS52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgeXRwW2ldLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCAidHJ1ZSIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIG1lbnU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TWVudShzZWN0aW9uKSB7CiAgICAgICAgICAgICAgICB2YXIgaSwgdGVtcCwgc3ZnLCBpbnB1dHM7CiAgICAgICAgICAgICAgICB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTsKICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uID09PSAiTUVOIikgewogICAgICAgICAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gLy8KICAgICAgICAgICAgICAgICAgICAgICAgYDxkaXYgaWQ9J1Atc2V0dGluZ3MnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0nUC1jb250YWluZXInPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J1Atc2lkZWJhcic+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBpZD0nUC1zaWRlYmFyLWxpc3QnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGlkPSdHRU4nIGNsYXNzPSdzZWxlY3RlZCcgZGF0YS1wPSd0bmR8R0VOJz48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGlkPSdWSUQnIGRhdGEtcD0ndG5kfFZJRCc+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBpZD0nQkxLJyBkYXRhLXA9J3RuZHxCTEsnPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgaWQ9J0FCVCcgZGF0YS1wPSd0bmR8QUJUJz48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGlkPSdITFAnPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2knIGRhdGEtcD0ndG5kfEhMUCc+PC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgaWQ9J0ROVCc+PGEgdGl0bGU9J1BheVBhbCcgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J2h0dHBzOi8vd3d3LnBheXBhbC5jb20vY2dpLWJpbi93ZWJzY3I/Y21kPV9zLXhjbGljayZob3N0ZWRfYnV0dG9uX2lkPVVNVlFKSkZHNEJGSFcnIGRhdGEtcD0ndG5kfEROVCc+PC9hPjxzdmcgdmlld0JveD0nMCAwIDE1LjMgMTgnPjxwYXRoIHN0eWxlPSdmaWxsOiMyNzM0NkE7JyBkPSdNMTMsMS40QzEyLjIsMC40LDEwLjYsMCw4LjcsMEgzLjFDMi43LDAsMi40LDAuMywyLjMsMC43TDAsMTUuNEMwLDE1LjcsMC4yLDE2LDAuNSwxNmgzLjUgbDAuOS01LjVsMCwwLjJDNC44LDEwLjMsNS4yLDEwLDUuNiwxMGgxLjZjMy4yLDAsNS43LTEuMyw2LjUtNS4xYzAtMC4xLDAtMC4yLDAuMS0wLjNjLTAuMSwwLTAuMSwwLDAsMEMxNCwzLjIsMTMuNywyLjIsMTMsMS40Jy8+PHBhdGggc3R5bGU9J2ZpbGw6IzI3MzQ2QTsnIGQ9J002LjEsNC4xQzYuMiw0LDYuMyw0LDYuNCw0aDQuNGMwLjUsMCwxLDAsMS40LDAuMWMwLjEsMCwwLjIsMCwwLjQsMC4xYzAuMSwwLDAuMiwwLjEsMC4zLDAuMSBjMC4xLDAsMC4xLDAsMC4yLDAuMWMwLjIsMC4xLDAuNCwwLjIsMC42LDAuM2MwLjItMS40LDAtMi40LTAuOC0zLjJDMTIuMiwwLjQsMTAuNiwwLDguNywwSDMuMUMyLjcsMCwyLjQsMC4zLDIuMywwLjdMMCwxNS40IEMwLDE1LjcsMC4yLDE2LDAuNSwxNmgzLjVMNS43LDQuNkM1LjgsNC40LDUuOSw0LjIsNi4xLDQuMXonLz48cGF0aCBzdHlsZT0nZmlsbDojMjc5MEMzOycgZD0nTTEzLjcsNC45QzEzLDguNywxMC40LDEwLDcuMiwxMEg1LjZjLTAuNCwwLTAuNywwLjMtMC44LDAuN2wtMS4xLDYuOGMwLDAuMywwLjIsMC41LDAuNCwwLjVINyBjMC4zLDAsMC42LTAuMywwLjctMC42bDAtMC4xbDAuNS0zLjVsMC0wLjJDOC40LDEzLjMsOC43LDEzLDksMTNoMC40YzIuOCwwLDUtMS4xLDUuNy00LjVjMC4zLTEuNCwwLjEtMi41LTAuNi0zLjQgYy0wLjItMC4yLTAuNS0wLjQtMC44LTAuNkMxMy43LDQuNywxMy43LDQuOCwxMy43LDQuOUwxMy43LDQuOXonLz48cGF0aCBzdHlsZT0nZmlsbDojMUYyNjRGOycgZD0nTTEzLDQuM2MtMC4xLDAtMC4yLTAuMS0wLjMtMC4xYy0wLjEsMC0wLjIsMC0wLjQtMC4xQzExLjgsNCwxMS4zLDQsMTAuOCw0SDYuNCBDNi4zLDQsNi4yLDQsNi4xLDQuMUM1LjksNC4yLDUuOCw0LjQsNS43LDQuNmwtMC45LDUuOWwwLDAuMkM0LjgsMTAuMyw1LjIsMTAsNS42LDEwaDEuNmMzLjIsMCw1LjctMS4zLDYuNS01LjEgYzAtMC4xLDAtMC4yLDAuMS0wLjNjLTAuMi0wLjEtMC40LTAuMi0wLjYtMC4zQzEzLjEsNC4zLDEzLDQuMywxMyw0LjMnLz48L3N2Zz48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHN0eWxlPSdkaXNwbGF5Om5vbmU7Jz48c3ltYm9sIGlkPSd5dHAtc3ZnLWNoZWNrbWFyaycgdmlld0JveD0nMCAwIDEyLjcgOS45Jz48cG9seWdvbiBwb2ludHM9JzEuNCw0LjIgMCw1LjcgNC4yLDkuOSAxMi43LDEuNCAxMS4zLDAgNC4yLDcuMScvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9J3l0cC1zdmctc2F2ZScgdmlld0JveD0nMCAwIDE2IDE2Jz48cGF0aCBkPSdNMTMsMEgwdjE2aDE2VjNMMTMsMHogTTMsMWg5djZIM1YxeiBNMTQsMTVIMlY5aDEyVjE1eicvPjxyZWN0IHg9JzEwJyB5PScyJyB3aWR0aD0nMScgaGVpZ2h0PSc0Jy8+PC9zeW1ib2w+PC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb24gPT09ICJHRU4iKSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcC5pbm5lckhUTUwgPSAvLwogICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBpZD0nUC1jb250ZW50Jz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J1AtaGVhZGVyJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdQLXNhdmUnICAgIGRhdGEtcD0ndG5kfEdMQl9TVkUnPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J1AtcmVzZXQnICAgZGF0YS1wPSd0bmR8R0xCX1JTRVQnPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J1AtaW1wZXhwJyAgZGF0YS1wPSd0dGx8R0xCX0lNUFInPjxzdmcgY2xhc3M9J3NhdmUnPjx1c2UgeGxpbms6aHJlZj0nI3l0cC1zdmctc2F2ZScvPjwvc3ZnPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J1AtaW1wbGFuZycgZGF0YS1wPSd0dGx8R0xCX0xPQ0xfTEFORyZ0bmR8TE9DQUxFJz48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgZGF0YS1wPSd0bmR8R0VOX1RUTCc+PC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzPSdQLWhvcnonPjwvaHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgZGF0YS1wPSd0bmR8R0VOX0dFTic+PC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdHRU5fTE9DTF9MQU5HJyAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX0xPQ0xfTEFORycgICAgZGF0YS1wPSd0bmR8R0VOX0xPQ0xfTEFORyc+ICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNjdXN0b21fbGFuZycgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9EU0JMX0FEUycgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdHRU5fRFNCTF9BRFMnICAgICBkYXRhLXA9J3RuZHxHRU5fRFNCTF9BRFMnPiAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI291dHNpZGVfYWRzJyAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nR0VOX1lUX0xPR09fTElOSycgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J0dFTl9ZVF9MT0dPX0xJTksnIGRhdGEtcD0ndG5kfEdFTl9ZVF9MT0dPX0xJTksnPjwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjbG9nb19yZWRpcmVjdCcgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdHRU5fU1VCX0xJU1QnICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX1NVQl9MSVNUJyAgICAgZGF0YS1wPSd0bmR8R0VOX1NVQl9MSVNUJz4gICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNzdWJfcGxheWxpc3QnICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9JTkZfU0NSTCcgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdHRU5fSU5GX1NDUkwnICAgICBkYXRhLXA9J3RuZHxHRU5fSU5GX1NDUkwnPiAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2luZmluaXRlX3Njcm9sbCcgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nR0VOX1BQT1RfT04nICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J0dFTl9QUE9UX09OJyAgICAgIGRhdGEtcD0ndG5kfEdFTl9QUE9UX09OJz4gICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjcG9wb3V0X29uJyAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdHRU5fUkVNX0FQVU4nICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX1JFTV9BUFVOJyAgICAgZGF0YS1wPSd0bmR8R0VOX1JFTV9BUFVOJz4gICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNyZW1vdmVfYXV0b3BsYXknIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9TUEZfT0ZGJyAgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdHRU5fU1BGX09GRicgICAgICBkYXRhLXA9J3RuZHxHRU5fU1BGX09GRic+ICAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI3NwZl9vZmYnICAgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9J0dFTl9DSE5fREZMVF9QQUdFJyBkYXRhLXA9J3RuZHxHRU5fQ0hOX0RGTFRfUEFHRSc+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdQLXNlbGVjdCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9J0dFTl9DSE5fREZMVF9QQUdFJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2RlZmF1bHQnICAgIGRhdGEtcD0ndG5kfEdFTl9DSE5fREZMVF9QQUdFX0RGTFQnPjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ndmlkZW9zJyAgICAgZGF0YS1wPSd0bmR8R0VOX0NITl9ERkxUX1BBR0VfVklEJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J3BsYXlsaXN0cycgIGRhdGEtcD0ndG5kfEdFTl9DSE5fREZMVF9QQUdFX1BMJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2NoYW5uZWxzJyAgIGRhdGEtcD0ndG5kfEdFTl9DSE5fREZMVF9QQUdFX0NITic+PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdkaXNjdXNzaW9uJyBkYXRhLXA9J3RuZHxHRU5fQ0hOX0RGTFRfUEFHRV9ESVNDJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2Fib3V0JyAgICAgIGRhdGEtcD0ndG5kfEdFTl9DSE5fREZMVF9QQUdFX0FCVCc+PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2NoYW5uZWxfcGFnZScgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBkYXRhLXA9J3RuZHxHRU5fTFlUJz48L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9HUklEX1NVQlMnICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX0dSSURfU1VCUycgICAgIGRhdGEtcD0ndG5kfEdFTl9HUklEX1NVQlMnPiAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI3N1Yl9ncmlkJyAgICAgICAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdHRU5fR1JJRF9TUkNIJyAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J0dFTl9HUklEX1NSQ0gnICAgICBkYXRhLXA9J3RuZHxHRU5fR1JJRF9TUkNIJz4gICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNzZWFyY2hfZ3JpZCcgICAgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nR0VOX0JUVFJfTlRGJyAgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdHRU5fQlRUUl9OVEYnICAgICAgZGF0YS1wPSd0bmR8R0VOX0JUVFJfTlRGJz4gICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjYmx1ZV9ib3gnICAgICAgICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9EU0JfSFZSQycgICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX0RTQl9IVlJDJyAgICAgIGRhdGEtcD0ndG5kfEdFTl9EU0JfSFZSQyc+ICAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2hvdmVyY2FyZHNfb2ZmJyAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdHRU5fQ01QVF9UVExTJyAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J0dFTl9DTVBUX1RUTFMnICAgICBkYXRhLXA9J3RuZHxHRU5fQ01QVF9UVExTJz4gICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNmZWVkX3RpdGxlcycgICAgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nR0VOX0JMVUVfR0xPVycgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdHRU5fQkxVRV9HTE9XJyAgICAgZGF0YS1wPSd0bmR8R0VOX0JMVUVfR0xPVyc+ICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjYmx1ZV9nbG93JyAgICAgICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9ISURFX0ZUUicgICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX0hJREVfRlRSJyAgICAgIGRhdGEtcD0ndG5kfEdFTl9ISURFX0ZUUic+ICAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2hpZGVfZm9vdGVyJyAgICAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdHRU5fSERFX1JFQ01fU0RCUicgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J0dFTl9IREVfUkVDTV9TREJSJyBkYXRhLXA9J3RuZHxHRU5fSERFX1JFQ01fU0RCUic+PC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNoaWRlX3JlY29tX3NpZGViYXInICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nR0VOX0hERV9TUkNIX1NEQlInIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdHRU5fSERFX1NSQ0hfU0RCUicgZGF0YS1wPSd0bmR8R0VOX0hERV9TUkNIX1NEQlInPjwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjaGlkZV9zZWFyY2hfc2lkZWJhcicgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J0dFTl9IREVfQ0hOX1NEQlInICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nR0VOX0hERV9DSE5fU0RCUicgIGRhdGEtcD0ndG5kfEdFTl9IREVfQ0hOX1NEQlInPiA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2hpZGVfY2hhbm5lbF9zaWRlYmFyJyBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5HRU5fTE9DTF9MQU5HICYmIHVzZXJfc2V0dGluZ3MubG9jYWxMYW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAuY29udGVudC5xdWVyeVNlbGVjdG9yKCIuUC1pbXBsYW5nIikuZGF0YXNldC5wID0gIkdMQl9MT0NMX0xBTkdfQ1NUTSI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uID09PSAiVklEIikgewogICAgICAgICAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gLy8KICAgICAgICAgICAgICAgICAgICAgICAgYDxkaXYgaWQ9J1AtY29udGVudCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdQLWhlYWRlcic+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nUC1zYXZlJyAgICBkYXRhLXA9J3RuZHxHTEJfU1ZFJz48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdQLXJlc2V0JyAgIGRhdGEtcD0ndG5kfEdMQl9SU0VUJz48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdQLWltcGV4cCcgIGRhdGEtcD0ndHRsfEdMQl9JTVBSJz48c3ZnIGNsYXNzPSdzYXZlJz48dXNlIHhsaW5rOmhyZWY9JyN5dHAtc3ZnLXNhdmUnLz48L3N2Zz48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdQLWltcGxhbmcnIGRhdGEtcD0ndHRsfEdMQl9MT0NMX0xBTkcmdG5kfExPQ0FMRSc+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGRhdGEtcD0ndG5kfFZJRF9UVEwnPjwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzcz0nUC1ob3J6Jz48L2hyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGRhdGEtcD0ndG5kfFZJRF9QTFInPjwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMUl9BRFMnICAgICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX1BMUl9BRFMnICAgICAgZGF0YS1wPSd0bmR8VklEX1BMUl9BRFMnPiAgICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyN2aWRlb19hZHMnICAgICAgICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9TVUJfQURTJyAgICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9TVUJfQURTJyAgICAgIGRhdGEtcD0ndG5kfFZJRF9TVUJfQURTJz4gICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjc3Vic19hZHNfb24nICAgICAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExSX0FMVklTJyAgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUExSX0FMVklTJyAgICBkYXRhLXA9J3RuZHxWSURfUExSX0FMVklTJz4gICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2Zsb2F0aW5nX3BsYXllcicgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMUl9BTFZJU19XRFRIJyB0eXBlPSd0ZXh0JyBwbGFjZWhvbGRlcj0nMzUwJyBzaXplPSc2Jz48bGFiZWwgZm9yPSdWSURfUExSX0FMVklTX1dEVEgnIGRhdGEtcD0ndG5kfFZJRF9QTFJfQUxWSVNfV0RUSCc+PC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNmbG9hdGluZ19wbGF5ZXJfd2lkdGgnIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9QTFJfQVRQTCcgICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9QTFJfQVRQTCcgICAgIGRhdGEtcD0ndG5kfFZJRF9QTFJfQVRQTCc+ICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjdmlkZW9fYXV0b3BsYXknICAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExSX0NDJyAgICAgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUExSX0NDJyAgICAgICBkYXRhLXA9J3RuZHxWSURfUExSX0NDJz4gICAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI3N1YnRpdGxlc19vZmYnICAgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMUl9BTlRTJyAgICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX1BMUl9BTlRTJyAgICAgZGF0YS1wPSd0bmR8VklEX1BMUl9BTlRTJz4gICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNhbm5vdGF0aW9uc19vZmYnICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9FTkRfU0hSRScgICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9FTkRfU0hSRScgICAgIGRhdGEtcD0ndG5kfFZJRF9FTkRfU0hSRSc+ICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjc2hhcmVfcGFuZWxfb2ZmJyAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExSX1ZPTF9NRU0nICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUExSX1ZPTF9NRU0nICBkYXRhLXA9J3RuZHxWSURfUExSX1ZPTF9NRU0nPiA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI3JlbWVtYmVyX3ZvbHVtZScgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMUl9WT0xfTEROJyAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX1BMUl9WT0xfTEROJyAgZGF0YS1wPSd0bmR8VklEX1BMUl9WT0xfTEROJz4gPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNkaXNhYmxlX25vcm1hbGlzYXRpb24nIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9QTFJfQUxBQ1QnICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9QTFJfQUxBQ1QnICAgIGRhdGEtcD0ndG5kfFZJRF9QTFJfQUxBQ1QnPiAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjc2hvcnRjdXRzX29uJyAgICAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExSX1NJWkVfTUVNJyAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUExSX1NJWkVfTUVNJyBkYXRhLXA9J3RuZHxWSURfUExSX1NJWkVfTUVNJz48L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI3JlbWVtYmVyX21vZGUnICAgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1ZPTF9XSEVFTCcgICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX1ZPTF9XSEVFTCcgICAgZGF0YS1wPSd0bmR8VklEX1ZPTF9XSEVFTCc+ICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyN3aGVlbF92b2x1bWUnICAgICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9QTFJfSEZSJyAgICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9QTFJfSEZSJyAgICAgIGRhdGEtcD0ndG5kfFZJRF9QTFJfSEZSJz4gICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjaGZyX29mZicgICAgICAgICAgICAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExSX0hUTUw1JyAgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUExSX0hUTUw1JyAgICBkYXRhLXA9J3RuZHxWSURfUExSX0hUTUw1Jz4gICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2ZvcmNlX2h0bWw1JyAgICAgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9J1ZJRF9ERkxUX1FMVFknIGRhdGEtcD0ndG5kfFZJRF9ERkxUX1FMVFknPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nUC1zZWxlY3QnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSdWSURfREZMVF9RTFRZJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2F1dG8nICAgIGRhdGEtcD0ndG5kfFZJRF9ERkxUX1FMVFlfQVVUTyc+PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdoaWdocmVzJyBkYXRhLXA9J3RuZHxWSURfREZMVF9RTFRZX09SSUcnPjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0naGQyODgwJyAgZGF0YS1wPSd0bmR8VklEX0RGTFRfUUxUWV8yODgwJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2hkMjE2MCcgIGRhdGEtcD0ndG5kfFZJRF9ERkxUX1FMVFlfMjE2MCc+PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdoZDE0NDAnICBkYXRhLXA9J3RuZHxWSURfREZMVF9RTFRZXzE0NDAnPjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0naGQxMDgwJyAgZGF0YS1wPSd0bmR8VklEX0RGTFRfUUxUWV8xMDgwJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2hkNzIwJyAgIGRhdGEtcD0ndG5kfFZJRF9ERkxUX1FMVFlfNzIwJyA+PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdsYXJnZScgICBkYXRhLXA9J3RuZHxWSURfREZMVF9RTFRZX0xSRycgPjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nbWVkaXVtJyAgZGF0YS1wPSd0bmR8VklEX0RGTFRfUUxUWV9NRE0nID48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J3NtYWxsJyAgIGRhdGEtcD0ndG5kfFZJRF9ERkxUX1FMVFlfU01MJyA+PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSd0aW55JyAgICBkYXRhLXA9J3RuZHxWSURfREZMVF9RTFRZX1ROWScgPjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNkZWZhdWx0X3F1YWxpdHknIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgZGF0YS1wPSd0bmR8VklEX1BMUl9MWVQnPjwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMUl9JTkZPJyAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9QTFJfSU5GTycgICAgIGRhdGEtcD0ndG5kfFZJRF9QTFJfSU5GTyc+ICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjaW5mb19iYXInICAgICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9QTFJfRFlOX1NJWkUnIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUExSX0RZTl9TSVpFJyBkYXRhLXA9J3RuZHxWSURfUExSX0RZTl9TSVpFJz48L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2R5bmFtaWNfc2l6ZV9vZmYnICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExSX0ZJVCcgICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX1BMUl9GSVQnICAgICAgZGF0YS1wPSd0bmR8VklEX1BMUl9GSVQnPiAgICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNmaXRfdG9fcGFnZScgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMUl9GSVRfV0RUSCcgdHlwZT0ndGV4dCcgcGxhY2Vob2xkZXI9JzEyODBweCcgc2l6ZT0nNic+PGxhYmVsIGZvcj0nVklEX1BMUl9GSVRfV0RUSCcgZGF0YS1wPSd0bmR8VklEX1BMUl9GSVRfV0RUSCc+PC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNmaXRfbWF4X3dpZHRoJyBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBkYXRhLXA9J3RuZHxWSURfUExTVCc+PC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfUExTVF9BVFBMJyAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX1BMU1RfQVRQTCcgICAgZGF0YS1wPSd0bmR8VklEX1BMU1RfQVRQTCc+ICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNwbGF5bGlzdF9hdXRvcGxheScgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BMU1RfUlZSUycgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9QTFNUX1JWUlMnICAgIGRhdGEtcD0ndG5kfFZJRF9QTFNUX1JWUlMnPiAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjcGxheWxpc3RfcmV2ZXJzZScgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGRhdGEtcD0ndG5kfFZJRF9MQVlUJz48L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9QUE9UX1NaJyB0eXBlPSd0ZXh0JyBwbGFjZWhvbGRlcj0nNTMzJyBzaXplPSc2Jz48bGFiZWwgZm9yPSdWSURfUFBPVF9TWicgZGF0YS1wPSd0bmR8VklEX1BQT1RfU1onPjwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjcG9wb3V0X3NpemUnIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSdWSURfSElERV9DT01TJyBkYXRhLXA9J3RuZHxWSURfSElERV9DT01TJz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J1Atc2VsZWN0Jz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0nVklEX0hJREVfQ09NUyc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPScwJyBkYXRhLXA9J3RuZHxWSURfSElERV9DT01TX1NIT1cnPjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nMScgZGF0YS1wPSd0bmR8VklEX0hJREVfQ09NU19ISURFJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9JzInIGRhdGEtcD0ndG5kfFZJRF9ISURFX0NPTVNfUkVNJz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjY29tbWVudHMnIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1RUTF9DTVBUJyAgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfVFRMX0NNUFQnICAgICAgZGF0YS1wPSd0bmR8VklEX1RUTF9DTVBUJz4gICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjdmlkZW9fdGl0bGUnICAgICAgICAgIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9ERVNDX1NIUlQnICAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX0RFU0NfU0hSVCcgICAgIGRhdGEtcD0ndG5kfFZJRF9ERVNDX1NIUlQnPiAgICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2xhYmVsbGVzc19idXR0b25zJyAgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfVklEX0NOVCcgICAgICAgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9WSURfQ05UJyAgICAgICBkYXRhLXA9J3RuZHxWSURfVklEX0NOVCc+ICAgICAgPC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyN1cGxvYWRfY291bnRlcicgICAgICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nVklEX1BPU1RfVElNRScgICAgIHR5cGU9J2NoZWNrYm94Jz48bGFiZWwgZm9yPSdWSURfUE9TVF9USU1FJyAgICAgZGF0YS1wPSd0bmR8VklEX1BPU1RfVElNRSc+ICAgIDwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjcmVsYXRpdmVfdXBsb2FkX3RpbWUnIGRhdGEtcD0ndHRsfEZUUl9ERVNDJyB0YXJnZXQ9J2ZlYXR1cmVzJz4/PC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48aW5wdXQgaWQ9J1ZJRF9ISURFX0RFVExTJyAgICB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nVklEX0hJREVfREVUTFMnICAgIGRhdGEtcD0ndG5kfFZJRF9ISURFX0RFVExTJz4gICA8L2xhYmVsPlxuPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzI2hpZGVfdmlkZW9fZGV0YWlscycgICBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGlucHV0IGlkPSdWSURfTEFZVF9BVVRPX1BOTCcgdHlwZT0nY2hlY2tib3gnPjxsYWJlbCBmb3I9J1ZJRF9MQVlUX0FVVE9fUE5MJyBkYXRhLXA9J3RuZHxWSURfTEFZVF9BVVRPX1BOTCc+PC9sYWJlbD5cbjxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9GZWF0dXJlcyNleHBhbmRfZGVzY3JpcHRpb24nICAgZGF0YS1wPSd0dGx8RlRSX0RFU0MnIHRhcmdldD0nZmVhdHVyZXMnPj88L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuR0VOX0xPQ0xfTEFORyAmJiB1c2VyX3NldHRpbmdzLmxvY2FsTGFuZykgewogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmNvbnRlbnQucXVlcnlTZWxlY3RvcigiLlAtaW1wbGFuZyIpLmRhdGFzZXQucCA9ICJHTEJfTE9DTF9MQU5HX0NTVE0iOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbiA9PT0gIkJMSyIpIHsKICAgICAgICAgICAgICAgICAgICB0ZW1wLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGlkPSdQLWNvbnRlbnQnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nUC1oZWFkZXInPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J1Atc2F2ZScgICAgZGF0YS1wPSd0bmR8R0xCX1NWRSc+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nUC1yZXNldCcgICBkYXRhLXA9J3RuZHxHTEJfUlNFVCc+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nUC1pbXBleHAnICBkYXRhLXA9J3R0bHxHTEJfSU1QUic+PHN2ZyBjbGFzcz0nc2F2ZSc+PHVzZSB4bGluazpocmVmPScjeXRwLXN2Zy1zYXZlJy8+PC9zdmc+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nUC1pbXBsYW5nJyBkYXRhLXA9J3R0bHxHTEJfTE9DTF9MQU5HJnRuZHxMT0NBTEUnPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBkYXRhLXA9J3RuZHxCTEtfVFRMJz48L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3M9J1AtaG9yeicvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGRhdGEtcD0ndG5kfEJMS19CTEsnPjwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpbnB1dCBpZD0nQkxLX09OJyB0eXBlPSdjaGVja2JveCc+PGxhYmVsIGZvcj0nQkxLX09OJyBkYXRhLXA9J3RuZHxCTEtfT04nPjwvbGFiZWw+XG48YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlL3dpa2kvRmVhdHVyZXMjYmxhY2tsaXN0X29uJyBkYXRhLXA9J3R0bHxGVFJfREVTQycgdGFyZ2V0PSdmZWF0dXJlcyc+PzwvYT48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J2JsYWNrbGlzdCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0nYmxhY2tsaXN0LWNvbnRyb2xzJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0nYmxhY2tsaXN0LWVkaXQnICBjbGFzcz0neXQtdWl4LWJ1dHRvbiB5dC11aXgtc2Vzc2lvbmxpbmsgeXQtdWl4LWJ1dHRvbi1kZWZhdWx0IHl0LXVpeC1idXR0b24tc2l6ZS1kZWZhdWx0Jz48c3BhbiBjbGFzcz0neXQtdWl4LWJ1dHRvbi1jb250ZW50JyBkYXRhLXA9J3RuZHxCTENLX0VESVQnPjwvc3Bhbj48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0nYmxhY2tsaXN0LXNhdmUnICBjbGFzcz0neXQtdWl4LWJ1dHRvbiB5dC11aXgtc2Vzc2lvbmxpbmsgeXQtdWl4LWJ1dHRvbi1kZWZhdWx0IHl0LXVpeC1idXR0b24tc2l6ZS1kZWZhdWx0Jz48c3BhbiBjbGFzcz0neXQtdWl4LWJ1dHRvbi1jb250ZW50JyBkYXRhLXA9J3RuZHxCTENLX1NBVkUnPjwvc3Bhbj48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0nYmxhY2tsaXN0LWNsb3NlJyBjbGFzcz0neXQtdWl4LWJ1dHRvbiB5dC11aXgtc2Vzc2lvbmxpbmsgeXQtdWl4LWJ1dHRvbi1kZWZhdWx0IHl0LXVpeC1idXR0b24tc2l6ZS1kZWZhdWx0Jz48c3BhbiBjbGFzcz0neXQtdWl4LWJ1dHRvbi1jb250ZW50JyBkYXRhLXA9J3RuZHxCTENLX0NMU0UnPjwvc3Bhbj48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9J2JsYWNrbGlzdC1lZGl0LWxpc3QnPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxici8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuR0VOX0xPQ0xfTEFORyAmJiB1c2VyX3NldHRpbmdzLmxvY2FsTGFuZykgewogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmNvbnRlbnQucXVlcnlTZWxlY3RvcigiLlAtaW1wbGFuZyIpLmRhdGFzZXQucCA9ICJ0dGx8R0xCX0xPQ0xfTEFORyZ0bmR8R0xCX0xPQ0xfTEFOR19DU1RNIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb24gPT09ICJBQlQiKSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcC5pbm5lckhUTUwgPSAvLwogICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBpZD0nUC1jb250ZW50Jz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J1AtaGVhZGVyJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgZGF0YS1wPSd0bmR8QUJUX1RUTCc+PC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzPSdQLWhvcnonLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBkYXRhLXA9J3RuZHxBQlRfVEhLUyc+PC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9ZZVBwSGEnPkplcHBlIFJ1bmUgTW9ydGVuc2VuPC9hPjxzcGFuIGRhdGEtcD0ndG5kfEFCVF9USEtTX1lFUFBIQSc+PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0naHR0cDovL3d3dy5ncmVhc2VzcG90Lm5ldC8nPkdyZWFzZW1vbmtleTwvYT4gKyA8YSBocmVmPSdodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8nPlRhbXBlcm1vbmtleTwvYT48c3BhbiBkYXRhLXA9J3RuZHxBQlRfVEhLU19VU0VSU0NSSVBUJz48L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vJz5TdGFjayBPdmVyZmxvdzwvYT48c3BhbiBkYXRhLXA9J3RuZHxBQlRfVEhLU19TVEFDS09WJz48L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgZGF0YS1wPSd0bmR8QUJUX0lORk8nPjwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vUGFydGljbGVDb3JlL1BhcnRpY2xlLyc+R2l0SHViPC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0naHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi91c2Vycy84MjIzLXBhcnRpY2xlY29yZSc+R3JlYXN5IEZvcms8L2E+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwOi8vb3BlbnVzZXJqcy5vcmcvc2NyaXB0cy9QYXJ0aWNsZUNvcmUvJz5PcGVuVXNlckpTPC9hPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW5wdXRzID0gdGVtcC5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W3R5cGU9J2NoZWNrYm94J10gKyBsYWJlbCIpOwogICAgICAgICAgICAgICAgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsICJzdmciKTsKICAgICAgICAgICAgICAgIHN2Zy5pbm5lckhUTUwgPSAiPHVzZSB4bGluazpocmVmPScjeXRwLXN2Zy1jaGVja21hcmsnPiI7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRzW2ldLmFwcGVuZENoaWxkKHN2Zy5jbG9uZU5vZGUodHJ1ZSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHNldExvY2FsZShnZXRWYWx1ZXModGVtcC5jb250ZW50KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZXhwb3J0U2V0dGluZ3ModGFyZ2V0KSB7CiAgICAgICAgICAgICAgICB2YXIgZXhwQ29udDsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJQLWltcGV4cCIpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoIlAtaW1wbGFuZyIpKSB7CiAgICAgICAgICAgICAgICAgICAgZXhwQ29udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleHAtY29udCIpOwogICAgICAgICAgICAgICAgICAgIGlmIChleHBDb250KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4cENvbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZXhwQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7CiAgICAgICAgICAgICAgICAgICAgZXhwQ29udC5pbm5lckhUTUwgPSAvLwogICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBpZD0nZXhwLWNvbnQnPgogICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdpbXBsYW5nLXNhdmUnIGNsYXNzPSd5dC11aXgtYnV0dG9uIHl0LXVpeC1zZXNzaW9ubGluayB5dC11aXgtYnV0dG9uLWRlZmF1bHQgeXQtdWl4LWJ1dHRvbi1zaXplLWRlZmF1bHQnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSd5dC11aXgtYnV0dG9uLWNvbnRlbnQnIGRhdGEtcD0ndG5kfEdMQl9JTVBSX1NBVkUnPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9J2ltcGV4cC1saXN0Jz48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJQLWltcGV4cCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4cENvbnQuY29udGVudC5xdWVyeVNlbGVjdG9yKCIjaW1wbGFuZy1zYXZlIikuaWQgPSAiaW1wZXhwLXNhdmUiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBleHBDb250ID0gc2V0TG9jYWxlKGV4cENvbnQuY29udGVudCkuZmlyc3RDaGlsZDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiUC1jb250ZW50IikuYXBwZW5kQ2hpbGQoZXhwQ29udCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcGV4cC1saXN0IikudmFsdWUgPSBKU09OLnN0cmluZ2lmeSgodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiUC1pbXBleHAiKSAmJiB1c2VyX3NldHRpbmdzKSB8fCB1c2VyX3NldHRpbmdzLmxvY2FsTGFuZyB8fCBsYW5ndWFnZSwgdW5kZWZpbmVkLCAyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmlkID09PSAiaW1wZXhwLXNhdmUiIHx8IHRhcmdldC5pZCA9PT0gImltcGxhbmctc2F2ZSIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlkID09PSAiaW1wbGFuZy1zYXZlIikgewogICAgICAgICAgICAgICAgICAgICAgICBzZXQoImxvY2FsTGFuZyIsIEpTT04ucGFyc2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcGV4cC1saXN0IikudmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldCgidXNlcl9zZXR0aW5ncyIsIEpTT04ucGFyc2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcGV4cC1saXN0IikudmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NNZW51LnNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzTWVudS5zZXR0aW5nc0J1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBzZXRCbGFja0xpc3QodGFyZ2V0KSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlkID09PSAiYmxhY2tsaXN0LWVkaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJsYWNrbGlzdCIpLmNsYXNzTGlzdC5hZGQoImVkaXQiKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmxhY2tsaXN0LWVkaXQtbGlzdCIpLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodXNlcl9zZXR0aW5ncy5ibGFja2xpc3QsIHVuZGVmaW5lZCwgMik7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5pZCA9PT0gImJsYWNrbGlzdC1zYXZlIikgewogICAgICAgICAgICAgICAgICAgIHNldCgiYmxhY2tsaXN0IiwgSlNPTi5wYXJzZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmxhY2tsaXN0LWVkaXQtbGlzdCIpLnZhbHVlKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5pZCA9PT0gImJsYWNrbGlzdC1jbG9zZSIpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQkxLIikuY2xpY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBkZWxCbGFja0xpc3QoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBuZXdLZXkgPSB1c2VyX3NldHRpbmdzLmJsYWNrbGlzdDsKICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdLZXlbZXZlbnQudGFyZ2V0Lm5leHRTaWJsaW5nLmhyZWYuc3BsaXQoIi9jaGFubmVsLyIpWzFdXTsKICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgc2V0KCJibGFja2xpc3QiLCBuZXdLZXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGRlbE5vdGlmaWNhdGlvbigpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgic2hvdy1ndWlkZS1idXR0b24tbm90aWZpY2F0aW9uIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2F2ZVNldHRpbmdzKHNhbHQpIHsKICAgICAgICAgICAgICAgIHZhciBpLCB2YWx1ZSwgbm90aWZpY2F0aW9uLCBuYXZJZCwgdXNlclNldHMsIHNhdmVkU2V0czsKICAgICAgICAgICAgICAgIG5hdklkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNlbGVjdGVkIikuaWQ7CiAgICAgICAgICAgICAgICB1c2VyU2V0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJQLWNvbnRlbnQiKS5xdWVyeVNlbGVjdG9yQWxsKCJbaWRePSciICsgbmF2SWQgKyAiJ10iKTsKICAgICAgICAgICAgICAgIHNhdmVkU2V0cyA9IHVzZXJfc2V0dGluZ3M7CiAgICAgICAgICAgICAgICBpID0gdXNlclNldHMubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKHVzZXJTZXRzW2ldLmNoZWNrZWQgJiYgKHVzZXJTZXRzW2ldLnZhbHVlID09PSAib24iIHx8IHVzZXJTZXRzW2ldLnZhbHVlKSkgfHwgKHVzZXJTZXRzW2ldLmxlbmd0aCAmJiB1c2VyU2V0c1tpXS52YWx1ZSkgfHwgKHVzZXJTZXRzW2ldLmdldEF0dHJpYnV0ZSgidHlwZSIpID09PSAidGV4dCIgJiYgdXNlclNldHNbaV0udmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzYXZlZFNldHNbdXNlclNldHNbaV0ubmFtZSB8fCB1c2VyU2V0c1tpXS5pZF0gPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiB1c2VyU2V0c1tpXS50eXBlICE9PSAicmFkaW8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVkU2V0c1t1c2VyU2V0c1tpXS5pZF0gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXQoInVzZXJfc2V0dGluZ3MiLCBzYXZlZFNldHMpOwogICAgICAgICAgICAgICAgY3VzdG9tU3R5bGVzKCk7CiAgICAgICAgICAgICAgICBpZiAoIXNhbHQpIHsKICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwYmFyLW1haW4tZ3VpZGUtbm90aWZpY2F0aW9uLWNvbnRhaW5lciIpOwogICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24uY2hpbGROb2Rlcy5sZW5ndGggPCAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBpZD0nYXBwYmFyLW1haW4tZ3VpZGUtbm90aWZpY2F0aW9uLWNvbnRhaW5lcic+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nYXBwYmFyLWd1aWRlLW5vdGlmaWNhdGlvbicgcm9sZT0nYWxlcnQnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nYXBwYmFyLWd1aWRlLW5vdGlmaWNhdGlvbi1jb250ZW50LXdyYXBwZXIgeXQtdmFsaWduJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdhcHBiYXItZ3VpZGUtbm90aWZpY2F0aW9uLWljb24geXQtc3ByaXRlJz48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nYXBwYmFyLWd1aWRlLW5vdGlmaWNhdGlvbi10ZXh0LWNvbnRlbnQnPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gc2V0TG9jYWxlKG5vdGlmaWNhdGlvbi5jb250ZW50KS5maXJzdENoaWxkOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXQtbWFzdGhlYWQtbG9nby1jb250YWluZXIiKS5hcHBlbmRDaGlsZChub3RpZmljYXRpb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYXBwYmFyLWd1aWRlLW5vdGlmaWNhdGlvbi10ZXh0LWNvbnRlbnQiKS50ZXh0Q29udGVudCA9IGxhbmcoIkdMQl9TVkVfU0VUUyIpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgic2hvdy1ndWlkZS1idXR0b24tbm90aWZpY2F0aW9uIik7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZGVsTm90aWZpY2F0aW9uLCAyMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVNldHRpbmdzKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiUC1zYXZlIikpIHsKICAgICAgICAgICAgICAgICAgICBzYXZlU2V0dGluZ3MoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiUC1yZXNldCIpICYmIHdpbmRvdy5jb25maXJtKGxhbmcoIkdMQl9SU0VUX0NPTkYiKSkpIHsKICAgICAgICAgICAgICAgICAgICBzZXQoInVzZXJfc2V0dGluZ3MiLCBkZWZhdWx0X3NldHRpbmdzKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01lbnUuc2V0dGluZ3NCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01lbnUuc2V0dGluZ3NCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiY2xvc2UiKSkgewogICAgICAgICAgICAgICAgICAgIGRlbEJsYWNrTGlzdChldmVudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoIlAtaW1wZXhwIikgfHwgZXZlbnQudGFyZ2V0LmlkID09PSAiaW1wZXhwLXNhdmUiIHx8IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoIlAtaW1wbGFuZyIpIHx8IGV2ZW50LnRhcmdldC5pZCA9PT0gImltcGxhbmctc2F2ZSIpIHsKICAgICAgICAgICAgICAgICAgICBleHBvcnRTZXR0aW5ncyhldmVudC50YXJnZXQpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuaWQgPT09ICJibGFja2xpc3QtZWRpdCIgfHwgZXZlbnQudGFyZ2V0LmlkID09PSAiYmxhY2tsaXN0LXNhdmUiIHx8IGV2ZW50LnRhcmdldC5pZCA9PT0gImJsYWNrbGlzdC1jbG9zZSIpIHsKICAgICAgICAgICAgICAgICAgICBzZXRCbGFja0xpc3QoZXZlbnQudGFyZ2V0KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmlkID09PSAiUC1jb250YWluZXIiIHx8IGV2ZW50LnRhcmdldC5pZCA9PT0gIlAtc2V0dGluZ3MiKSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSAoZXZlbnQudGFyZ2V0LmlkID09PSAiUC1zZXR0aW5ncyIpID8gZXZlbnQudGFyZ2V0IDogZXZlbnQudGFyZ2V0LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRbKHdpbmRvdy5jaHJvbWUgJiYgImJvZHkiKSB8fCAiZG9jdW1lbnRFbGVtZW50Il0uc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInJlc2l6ZSIpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmlkICE9PSAiRE5UIiAmJiBldmVudC50YXJnZXQudGFnTmFtZSAhPT0gIkEiICYmIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmlkID09PSAiUC1zaWRlYmFyLWxpc3QiKSB7CiAgICAgICAgICAgICAgICAgICAgc2F2ZVNldHRpbmdzKCJuby1ub3RpZmljYXRpb24iKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiUC1jb250ZW50IikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlAtY29udGFpbmVyIikuYXBwZW5kQ2hpbGQoZ2V0TWVudShldmVudC50YXJnZXQuaWQpKTsKICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCIuc2VsZWN0ZWQiKS5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIik7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9ICJzZWxlY3RlZCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2V0dGluZ3NUZW1wbGF0ZShldmVudCkgewogICAgICAgICAgICAgICAgdmFyIHBXcmFwcGVyOwogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5pZCA9PT0gIlAiICYmIGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAiSU5QVVQiKSB7CiAgICAgICAgICAgICAgICAgICAgcFdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiUC1zZXR0aW5ncyIpOwogICAgICAgICAgICAgICAgICAgIGlmIChwV3JhcHBlcikgewogICAgICAgICAgICAgICAgICAgICAgICBwV3JhcHBlci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZmxvYXRlciIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiZmxvYXRlciIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vdmllX3BsYXllciIpLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBwV3JhcHBlciA9IGdldE1lbnUoIk1FTiIpOwogICAgICAgICAgICAgICAgICAgICAgICBwV3JhcHBlci5xdWVyeVNlbGVjdG9yKCIjUC1jb250YWluZXIiKS5hcHBlbmRDaGlsZChnZXRNZW51KCJHRU4iKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5LWNvbnRhaW5lciIpLmluc2VydEJlZm9yZShwV3JhcHBlciwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhZ2UtY29udGFpbmVyIikpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG5hdmlnYXRlU2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudFsod2luZG93LmNocm9tZSAmJiAiYm9keSIpIHx8ICJkb2N1bWVudEVsZW1lbnQiXS5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgicmVzaXplIikpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGZpcnN0VGltZShldmVudCkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQucGFyZW50Tm9kZSAmJiBldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc05hbWUgPT09ICJwYXJfY2xvc2V3bGNtIikgewogICAgICAgICAgICAgICAgICAgIHNldCgiZmlyc3RUaW1lIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZmlyc3RUaW1lKTsKICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01lbnUud2VsY29tZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNldHRpbmdzTWVudSgpIHsKICAgICAgICAgICAgICAgIHZhciBub3RpZl9idXR0b24sIHNldHRpbmdzX2J1dHRvbiwgd2VsY29tZV9tZXNzYWdlOwogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzTWVudS5zZXR0aW5nc0J1dHRvbikgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG5vdGlmX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN5dC1tYXN0aGVhZC1ub3RpZmljYXRpb25zLCAubm90aWZpY2F0aW9ucy1jb250YWluZXIiKTsKICAgICAgICAgICAgICAgIHNldHRpbmdzX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN5dC1tYXN0aGVhZC11c2VyLCAjeXQtbWFzdGhlYWQtc2lnbmluIik7CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NfYnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgd2VsY29tZV9tZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTsKICAgICAgICAgICAgICAgICAgICB3ZWxjb21lX21lc3NhZ2UuaW5uZXJIVE1MID0gLy8KICAgICAgICAgICAgICAgICAgICAgICAgYDxkaXYgaWQ9J1BzZXR0aW5ncyc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdQJyBkYXRhLXA9J3R0bHxZVFNFVFMnIHN0eWxlPSdoZWlnaHQ6MjhweDttYXJnaW4tcmlnaHQ6MTBweDtvcGFjaXR5Oi41NTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MThweDsnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0nMCAwIDE4IDIwJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPScwLDIwIDE0LDEyIDAsNCcvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBwb2ludHM9JzE1LDMgMTUsMCAxMywwIDEzLDMgMTAsMyAxMCw1IDEzLDUgMTMsOCAxNSw4IDE1LDUgMTgsNSAxOCwzJy8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J3BhcnRfd2VsY29tZScgc3R5bGU9J2Rpc3BsYXk6bm9uZTttYXJnaW4tbGVmdDotMjIwcHg7dG9wOjM4cHg7cmlnaHQ6MCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1wPSd0bmR8V0xDTSc+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxici8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1wPSd0bmR8V0xDTVNUUlQnPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPjxici8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgZGF0YS1wPSd0bmR8V0xDTUZUUlMnIHN0eWxlPSdjb2xvcjojRkZGOycgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL0ZlYXR1cmVzJyB0YXJnZXQ9J19ibGFuayc+PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3Bhcl9jbG9zZXdsY20nPjxzcGFuPsOXPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgd2VsY29tZV9tZXNzYWdlID0gc2V0TG9jYWxlKHdlbGNvbWVfbWVzc2FnZS5jb250ZW50KTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHNldHRpbmdzVGVtcGxhdGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChub3RpZl9idXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NfYnV0dG9uLmluc2VydEJlZm9yZSh3ZWxjb21lX21lc3NhZ2UsIG5vdGlmX2J1dHRvbik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NfYnV0dG9uLmFwcGVuZENoaWxkKHdlbGNvbWVfbWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzTWVudS5zZXR0aW5nc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJQIik7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NNZW51LndlbGNvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFydF93ZWxjb21lIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuZmlyc3RUaW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzTWVudS53ZWxjb21lLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZpcnN0VGltZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIG1vZENvbW1lbnQob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkgewogICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50cywgaXNfbGl2ZTsKICAgICAgICAgICAgICAgICAgICBjb21tZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3YXRjaC1kaXNjdXNzaW9uIik7CiAgICAgICAgICAgICAgICAgICAgaXNfbGl2ZSA9IHdpbmRvdy55dHBsYXllciAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnICYmIHdpbmRvdy55dHBsYXllci5jb25maWcuYXJncyAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MubGl2ZXN0cmVhbTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubWF0Y2goLyY/KGxjfGdvb2dsZV9jb21tZW50X2lkKT0vKSAmJiBhLnNwbGl0KCJjb21tZW50cyIpLmxlbmd0aCA+IDEgJiYgIWlzX2xpdmUgJiYgY29tbWVudHMgJiYgIWNvbW1lbnRzLmxhenlsb2FkICYmIHVzZXJfc2V0dGluZ3MuVklEX0hJREVfQ09NUyA9PT0gIjEiICYmICFjb21tZW50cy5jbGFzc0xpc3QuY29udGFpbnMoInNob3ciKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50cy5sYXp5bG9hZCA9IGFyZ3VtZW50czsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIG1vZFNldENvbmZpZyhvcmlnaW5hbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIlNIQVJFX09OX1ZJREVPX0VORCIgaW4gYSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5TSEFSRV9PTl9WSURFT19FTkQgPSAhdXNlcl9zZXR0aW5ncy5WSURfRU5EX1NIUkU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCJVTklWRVJTQUxfSE9WRVJDQVJEUyIgaW4gYSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5VTklWRVJTQUxfSE9WRVJDQVJEUyA9ICF1c2VyX3NldHRpbmdzLkdFTl9EU0JfSFZSQzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBtb2RFbWJlZChvcmlnaW5hbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAsIHBsYXllcjsKICAgICAgICAgICAgICAgICAgICB0ZW1wID0gYS5pZCB8fCBhOwogICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wICE9PSAicGxheWVyLWFwaSIgJiYgdGVtcCAhPT0gInVwc2VsbC12aWRlbyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG1vZEFyZ3MoYik7CiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vdmllX3BsYXllciIpOwogICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VyX3NldHRpbmdzLlZJRF9QTFJfQVRQTCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmN1ZVZpZGVvQnlQbGF5ZXJWYXJzKGIuYXJncyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFBsYXliYWNrUXVhbGl0eSh1c2VyX3NldHRpbmdzLlZJRF9ERkxUX1FMVFkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbW9kQXV0b3BsYXkob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICAgIGlmICghYiB8fCB1c2VyX3NldHRpbmdzLnBsQXBsIHx8ICghdXNlcl9zZXR0aW5ncy5wbEFwbCAmJiBiLmZlYXR1cmUgJiYgYi5mZWF0dXJlICE9PSAiYXV0b3BsYXkiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbW9kQXV0b3BsYXlGdWxsc2NyZWVuKG9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBoYXNfZW5kZWQsIG5leHRfYnV0dG9uLCBuZXh0X2NsaWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCAmJiAhZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGhhc19lbmRlZCA9IGFwaSAmJiBhcGkuZ2V0Q3VycmVudFRpbWUgJiYgTWF0aC5yb3VuZChhcGkuZ2V0Q3VycmVudFRpbWUoKSkgPj0gTWF0aC5mbG9vcihhcGkuZ2V0RHVyYXRpb24oKSk7CiAgICAgICAgICAgICAgICAgICAgbmV4dF9jbGlja2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoInl0cC1idXR0b24tbmV4dCIpIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJ5dHAtbmV4dC1idXR0b24iKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXJfc2V0dGluZ3MucGxBcGwgJiYgIW5leHRfY2xpY2tlZCAmJiBoYXNfZW5kZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXRwLW5leHQtYnV0dG9uIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0X2J1dHRvbiAmJiBuZXh0X2J1dHRvbi5nZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiKSA9PT0gInRydWUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0X2J1dHRvbi5vbmNsaWNrID0gYXBpLm5leHRWaWRlbzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXBpLm5leHRWaWRlbyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0X2J1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCAiZmFsc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLnBsQXBsIHx8IG5leHRfY2xpY2tlZCB8fCAhaGFzX2VuZGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0X2NsaWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZV9wbGF5ZXIiKS5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbW9kUGxheWVyQ3JlYXRlKG9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDsKICAgICAgICAgICAgICAgICAgICB0ZW1wID0gYS5pZCB8fCBhOwogICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wICE9PSAicGxheWVyLWFwaSIgJiYgdGVtcCAhPT0gInVwc2VsbC12aWRlbyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG1vZEFyZ3MoYik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGEuaWQgPT09ICJ1cHNlbGwtdmlkZW8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2luc3RhbmNlID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1BMUl9GSVQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZVBsYXllcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBtb2RTZWVrVG8ob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0aW1lKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImZsb2F0ZXIiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbC5jYWxsKHRoaXMsIHRpbWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2NyaXB0RXhpdChldmVudCkgewogICAgICAgICAgICAgICAgdmFyIGksIGosIGtleSwgdGVtcDsKICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudC50YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgibmFtZSIpID09PSAid3d3L2Jhc2UiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy55dC5zZXRDb25maWcgPSBtb2RTZXRDb25maWcod2luZG93Lnl0LnNldENvbmZpZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuX3l0X3d3dykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IE9iamVjdC5rZXlzKHdpbmRvdy5feXRfd3d3KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0ZW1wLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHRlbXBbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuX3l0X3d3d1trZXldID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmcod2luZG93Ll95dF93d3dba2V5XSkuc3BsaXQoInBsYXllci1hZGRlZCIpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5feXRfd3d3W2tleV0gPSBtb2RFbWJlZCh3aW5kb3cuX3l0X3d3d1trZXldKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdHJpbmcod2luZG93Ll95dF93d3dba2V5XSkuc3BsaXQoIndpbmRvdy5zcGYubmF2aWdhdGUiKS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuX3l0X3d3d1trZXldID0gbW9kQXV0b3BsYXkod2luZG93Ll95dF93d3dba2V5XSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RyaW5nKHdpbmRvdy5feXRfd3d3W2tleV0pLnNwbGl0KCIuc2V0KFwiXCIrYSxiLGMsXCIvXCIsZCIpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy55dHBzZXR3aWRlID0gd2luZG93Ll95dF93d3dba2V5XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoIm5hbWUiKSA9PT0gInd3dy93YXRjaCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lnl0Lnd3dy53YXRjaC5wbGF5ZXIuc2Vla1RvID0gbW9kU2Vla1RvKHdpbmRvdy55dC53d3cud2F0Y2gucGxheWVyLnNlZWtUbyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCJuYW1lIikgPT09ICJzcGYvc3BmIikgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc3BmLmxvYWQgPSBtb2RDb21tZW50KHdpbmRvdy5zcGYubG9hZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zcGYucHJlZmV0Y2ggPSBmdW5jdGlvbigpe307CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubmFtZSA9PT0gInBvcE91dCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zcGYubmF2aWdhdGUgPSBmdW5jdGlvbigpe307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgKGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCJuYW1lIikgPT09ICJwbGF5ZXIvYmFzZSIpIHx8CiAgICAgICAgICAgICAgICAgICAgKCF3aW5kb3cuaHRtbDVQYXRjaGVkICYmIHdpbmRvdy55dCAmJiB3aW5kb3cueXQucGxheWVyICYmIHdpbmRvdy55dC5wbGF5ZXIuQXBwbGljYXRpb24gJiYgd2luZG93Lnl0LnBsYXllci5BcHBsaWNhdGlvbi5jcmVhdGUpCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaHRtbDVQYXRjaGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cueXQucGxheWVyLkFwcGxpY2F0aW9uLmNyZWF0ZSA9IG1vZFBsYXllckNyZWF0ZSh3aW5kb3cueXQucGxheWVyLkFwcGxpY2F0aW9uLmNyZWF0ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5feXRfcGxheWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBPYmplY3Qua2V5cyh3aW5kb3cuX3l0X3BsYXllcik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5feXRfcGxheWVyW3RlbXBbaV1dID09PSAiZnVuY3Rpb24iICYmIHdpbmRvdy5feXRfcGxheWVyW3RlbXBbaV1dLnByb3RvdHlwZSAmJiB3aW5kb3cuX3l0X3BsYXllclt0ZW1wW2ldXS5wcm90b3R5cGUuaGFzTmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5feXRfcGxheWVyW3RlbXBbaV1dLnByb3RvdHlwZS5oYXNOZXh0ID0gbW9kQXV0b3BsYXlGdWxsc2NyZWVuKHdpbmRvdy5feXRfcGxheWVyW3RlbXBbaV1dLnByb3RvdHlwZS5oYXNOZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuX3l0X3BsYXllclt0ZW1wW2ldXSA9PT0gImZ1bmN0aW9uIiAmJiB3aW5kb3cuX3l0X3BsYXllclt0ZW1wW2ldXS50b1N0cmluZygpLm1hdGNoKC90aGlzXC5hZGFwdGl2ZUZvcm1hdHMvKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHRlbXBbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tCb3VuZHMoZWxtLCBYLCBZKSB7CiAgICAgICAgICAgICAgICB2YXIgc25hcFgsIHNuYXBZOwogICAgICAgICAgICAgICAgaWYgKFggPiAtMSAmJiBYICsgZWxtLm9mZnNldFdpZHRoIDwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSB7CiAgICAgICAgICAgICAgICAgICAgc25hcFggPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoWCA8IDEpIHsKICAgICAgICAgICAgICAgICAgICBYID0gMDsKICAgICAgICAgICAgICAgICAgICBzbmFwWCA9IC0xOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBYID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoIC0gZWxtLm9mZnNldFdpZHRoOwogICAgICAgICAgICAgICAgICAgIHNuYXBYID0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChZID4gNTAgJiYgWSArIGVsbS5vZmZzZXRIZWlnaHQgPCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgc25hcFkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoWSA8IDUxKSB7CiAgICAgICAgICAgICAgICAgICAgWSA9IDUwOwogICAgICAgICAgICAgICAgICAgIHNuYXBZID0gLTE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIFkgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gZWxtLm9mZnNldEhlaWdodDsKICAgICAgICAgICAgICAgICAgICBzbmFwWSA9IDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4ge1g6IFggKyAicHgiLCBZOiBZICsgInB4Iiwgc25hcFg6IHNuYXBYLCBzbmFwWTogc25hcFl9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBvcygpIHsKICAgICAgICAgICAgICAgIHZhciB4LCB5LCBoZWlnaHQsIHBsYXllciwgYm91bmRzOwogICAgICAgICAgICAgICAgcGxheWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vdmllX3BsYXllciIpOwogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJmbG9hdGVyIikgfHwgd2luZG93LmlubmVyV2lkdGggPCA2NTcpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJmbG9hdGVyIik7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHVwZGF0ZVBvcyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQodXNlcl9zZXR0aW5ncy5WSURfUExSX0FMVklTX1dEVEgpIHx8IDM1MDsKICAgICAgICAgICAgICAgIHBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZV9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgIGJvdW5kcyA9IGNoZWNrQm91bmRzKHBsYXllciwgdXNlcl9zZXR0aW5ncy5mbG9hdGVyWCwgdXNlcl9zZXR0aW5ncy5mbG9hdGVyWSk7CiAgICAgICAgICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0IDwgMzUwID8gMzUwIDogaGVpZ2h0KSAvICgxNiAvIDkpOwogICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuZmxvYXRlclNuYXBYID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgIHggPSAiMHB4IjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlcl9zZXR0aW5ncy5mbG9hdGVyU25hcFggPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICB4ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoIC0gcGxheWVyLm9mZnNldFdpZHRoICsgInB4IjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgeCA9IGJvdW5kcy5YOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuZmxvYXRlclNuYXBZID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgIHkgPSAiNTBweCI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVzZXJfc2V0dGluZ3MuZmxvYXRlclNuYXBZID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgeSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQgLSBwbGF5ZXIub2Zmc2V0SGVpZ2h0ICsgInB4IjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgeSA9IGJvdW5kcy5ZOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGxheWVyLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAid2lkdGg6IiArIChoZWlnaHQgKiAoMTYgLyA5KSkgKyAicHg7aGVpZ2h0OiIgKyBoZWlnaHQgKyAicHg7bGVmdDoiICsgeCArICI7dG9wOiIgKyB5KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBnb1RvVG9wKCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnRbKHdpbmRvdy5jaHJvbWUgJiYgImJvZHkiKSB8fCAiZG9jdW1lbnRFbGVtZW50Il0uc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBkcmFnRmxvYXRlcihldmVudCkgewogICAgICAgICAgICAgICAgdmFyIGV4Y2x1ZGVkLCBpc0ZTY3JlZW4sIGlzRmxvYXRlciwgYm91bmRzLCBwbGF5ZXI7CiAgICAgICAgICAgICAgICBpc0ZTY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXRwLWZ1bGxzY3JlZW4iKTsKICAgICAgICAgICAgICAgIGlzRmxvYXRlciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImZsb2F0ZXIiKTsKICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiAhaXNGU2NyZWVuICYmIGlzRmxvYXRlcikgewogICAgICAgICAgICAgICAgICAgIHBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZV9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9ucyA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi55dHAtY2hyb21lLWJvdHRvbSIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gIm1vdXNlZG93biIgJiYgcGxheWVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiYgKCFleGNsdWRlZCB8fCAhZXhjbHVkZWQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIGRyYWdGbG9hdGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZHJhZ0Zsb2F0ZXIsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0Zsb2F0ZXIub2xkUG9zID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFg6IHBhcnNlSW50KHBsYXllci5zdHlsZS5sZWZ0KSAtIGV2ZW50LmNsaWVudFgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWTogcGFyc2VJbnQocGxheWVyLnN0eWxlLnRvcCkgLSBldmVudC5jbGllbnRZLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ1g6IGV2ZW50LmNsaWVudFgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnWTogZXZlbnQuY2xpZW50WQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPT09ICJtb3VzZW1vdmUiICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnRmxvYXRlci5oYXNNb3ZlZCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGV2ZW50LmNsaWVudFggLSBkcmFnRmxvYXRlci5vbGRQb3Mub3JnWCkgPiAxMCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGV2ZW50LmNsaWVudFkgLSBkcmFnRmxvYXRlci5vbGRQb3Mub3JnWSkgPiAxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcyA9IGNoZWNrQm91bmRzKHBsYXllciwgZXZlbnQuY2xpZW50WCArIGRyYWdGbG9hdGVyLm9sZFBvcy5YLCBldmVudC5jbGllbnRZICsgZHJhZ0Zsb2F0ZXIub2xkUG9zLlkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0eWxlLmxlZnQgPSBib3VuZHMuWDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zdHlsZS50b3AgPSBib3VuZHMuWTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdGbG9hdGVyLmhhc01vdmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdGbG9hdGVyLnNuYXBYID0gYm91bmRzLnNuYXBYOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0Zsb2F0ZXIuc25hcFkgPSBib3VuZHMuc25hcFk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgIT09IDEgfHwgZXZlbnQudHlwZSA9PT0gImNsaWNrIikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ0Zsb2F0ZXIuaGFzTW92ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdGbG9hdGVyLm9sZFBvcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0Zsb2F0ZXIuaGFzTW92ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MuZmxvYXRlclggPSBwYXJzZUludChwbGF5ZXIuc3R5bGUubGVmdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzLmZsb2F0ZXJZID0gcGFyc2VJbnQocGxheWVyLnN0eWxlLnRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzLmZsb2F0ZXJTbmFwWCA9IGRyYWdGbG9hdGVyLnNuYXBYOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9zZXR0aW5ncy5mbG9hdGVyU25hcFkgPSBkcmFnRmxvYXRlci5zbmFwWTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCgidXNlcl9zZXR0aW5ncyIsIHVzZXJfc2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIGRyYWdGbG9hdGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBkcmFnRmxvYXRlciwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGluaUZsb2F0ZXIoKSB7CiAgICAgICAgICAgICAgICB2YXIgcGxheWVyLCBwbHJBcGksIG91dF9vZl9zaWdodCwgaXNGbG9hdGVyLCBpc0ZTY3JlZW4sIGZsb2F0ZXJVSSwgc2V0dGluZ3Nfb3BlbjsKICAgICAgICAgICAgICAgIHBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZV9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgIHBsckFwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5ZXItYXBpIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgICAgICBzZXR0aW5nc19vcGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlAtc2V0dGluZ3MiKTsKICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIpIHsKICAgICAgICAgICAgICAgICAgICBvdXRfb2Zfc2lnaHQgPSBwbHJBcGkuYm90dG9tIDwgKChwbHJBcGkuaGVpZ2h0IC8gMikgKyA1MCk7CiAgICAgICAgICAgICAgICAgICAgaXNGbG9hdGVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZmxvYXRlciIpOwogICAgICAgICAgICAgICAgICAgIGlzRlNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi55dHAtZnVsbHNjcmVlbiIpOwogICAgICAgICAgICAgICAgICAgIGZsb2F0ZXJVSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXJ0X2Zsb2F0ZXJ1aSIpOwogICAgICAgICAgICAgICAgICAgIGlmICghZmxvYXRlclVJICYmICFpc0ZTY3JlZW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRlclVJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRlclVJLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBpZD0ncGFydF9mbG9hdGVydWknPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9J3BhcnRfZmxvYXRlcnVpX21vdmUnIGRhdGEtcD0ndHRsfFZJRF9QTFJfQUxWSVNfTU9WRSc+PHN2ZyB2aWV3Qm94PScwIDAgMjAgMjAnPjxwb2x5Z29uIHBvaW50cz0nNi40LDMuNiA3LjIsNC4zIDEwLDEuNSAxMi44LDQuMyAxMy42LDMuNiAxMCwwJy8+PHBvbHlnb24gcG9pbnRzPScxNi40LDYuNCAxNS43LDcuMiAxOC41LDEwIDE1LjcsMTIuOCAxNi40LDEzLjYgMjAsMTAnLz48cG9seWdvbiBwb2ludHM9JzMuNiw2LjQgMCwxMCAzLjYsMTMuNiA0LjMsMTIuOCAxLjUsMTAgNC4zLDcuMicvPjxwb2x5Z29uIHBvaW50cz0nMTAsMTguNSA3LjIsMTUuNyA2LjQsMTYuNCAxMCwyMCAxMy42LDE2LjQgMTIuOCwxNS43Jy8+PGNpcmNsZSBjeD0nMTAnIGN5PScxMCcgcj0nMicvPjwvc3ZnPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9J3BhcnRfZmxvYXRlcnVpX3Njcm9sbHRvcCcgZGF0YS1wPSd0dGx8VklEX1BMUl9BTFZJU19TQ1JMX1RPUCc+PHN2ZyB2aWV3Qm94PScwIDAgMjAgMjAnPjxwb2x5Z29uIHBvaW50cz0nMTAsMC4xIDAsMTAuMSAyLjksMTIuOSAxMCw1LjggMTcuMSwxMi45IDIwLDEwLjEgJy8+PC9zdmc+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGVyVUkgPSBzZXRMb2NhbGUoZmxvYXRlclVJLmNvbnRlbnQpLmZpcnN0Q2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5hcHBlbmRDaGlsZChmbG9hdGVyVUkpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFydF9mbG9hdGVydWlfbW92ZSIpLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGRyYWdGbG9hdGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcnRfZmxvYXRlcnVpX3Njcm9sbHRvcCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ29Ub1RvcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChvdXRfb2Zfc2lnaHQgJiYgIWlzRmxvYXRlciAmJiAhc2V0dGluZ3Nfb3BlbiAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvd2F0Y2giKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCJmbG9hdGVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB1cGRhdGVQb3MpOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQb3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJyZXNpemUiKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoIW91dF9vZl9zaWdodCB8fCBzZXR0aW5nc19vcGVuIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gIi93YXRjaCIpICYmIGlzRmxvYXRlcikgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiZmxvYXRlciIpOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdXBkYXRlUG9zKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJyZXNpemUiKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGFsd2F5c1Zpc2libGUoKSB7CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExSX0FMVklTKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gIi93YXRjaCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIGluaUZsb2F0ZXIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAiL3dhdGNoIikgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgaW5pRmxvYXRlcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGFsd2F5c0FjdGl2ZShldmVudCkgewogICAgICAgICAgICAgICAgdmFyIGksIGxpc3QsIGNsZWFyLCBsZW5ndGgsIGV2ZW50Q2xvbmU7CiAgICAgICAgICAgICAgICBjbGVhciA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PSAiL3dhdGNoIiAmJiBhcGkgJiYgYXBpICE9PSBldmVudC50YXJnZXQgJiYgIWFwaS5jb250YWlucyhldmVudC50YXJnZXQpICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuYWx0S2V5ICYmICFldmVudC5tZXRhS2V5ICYmICFldmVudC50YXJnZXQuaXNDb250ZW50RWRpdGFibGU7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgY2xlYXIgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICBldmVudC53aGljaCA+IDQ3ICYmIGV2ZW50LndoaWNoIDwgNTggfHwKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQud2hpY2ggPiA5NSAmJiBldmVudC53aGljaCA8IDEwNiB8fAogICAgICAgICAgICAgICAgICAgICAgICBbMjcsIDMyLCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA2NiwgNjcsIDc5LCA4NywgMTg3LCAxODldLmluZGV4T2YoZXZlbnQud2hpY2gpID4gLTEKICAgICAgICAgICAgICAgICAgICApICYmCiAgICAgICAgICAgICAgICAgICAgWyJFTUJFRCIsICJJTlBVVCIsICJPQkpFQ1QiLCAiVEVYVEFSRUEiLCAiSUZSQU1FIl0uaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUpIDwgMAogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnRDbG9uZSA9IG5ldyBFdmVudCgia2V5ZG93biIpOwogICAgICAgICAgICAgICAgICAgIGxpc3QgPSBPYmplY3Qua2V5cyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXZlbnQpKTsKICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBsaXN0Lmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDbG9uZVtsaXN0W2ldXSA9IGV2ZW50W2xpc3RbaV1dOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGFwaS5kaXNwYXRjaEV2ZW50KGV2ZW50Q2xvbmUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHBsYXllclN0YXRlKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5mdWxsQnJzIHx8IHVzZXJfc2V0dGluZ3MubGlnaHRzT3V0KSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdFsoZXZlbnQgPCA1ICYmIGV2ZW50ID4gMCAmJiAiYWRkIikgfHwgInJlbW92ZSJdKCh1c2VyX3NldHRpbmdzLmZ1bGxCcnMgJiYgInBhcnRfZnVsbGJyb3dzZXIiKSB8fCAiMCIsICh1c2VyX3NldHRpbmdzLmxpZ2h0c091dCAmJiAicGFydF9jaW5lbWFfbW9kZSIpIHx8ICIwIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInJlc2l6ZSIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVDdXN0b21zKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgICAgIHNldCgidm9sTGV2IiwgZXZlbnQudm9sdW1lKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2V0KCJ0aGVhdGVyTW9kZSIsIGV2ZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBwbGF5ZXJSZWFkeSgpIHsKICAgICAgICAgICAgICAgIGFwaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZV9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgIGlmIChhcGkgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjNC1wbGF5ZXIiKSkgewogICAgICAgICAgICAgICAgICAgIGFwaS5hZGRFdmVudExpc3RlbmVyKCJvblN0YXRlQ2hhbmdlIiwgcGxheWVyU3RhdGUpOwogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfVk9MX01FTSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcGkuYWRkRXZlbnRMaXN0ZW5lcigib25Wb2x1bWVDaGFuZ2UiLCBoYW5kbGVDdXN0b21zKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1BMUl9TSVpFX01FTSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcGkuYWRkRXZlbnRMaXN0ZW5lcigiU0laRV9DTElDS0VEIiwgaGFuZGxlQ3VzdG9tcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfVk9MX01FTSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2V0Vm9sdW1lKHVzZXJfc2V0dGluZ3Mudm9sTGV2KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MubG9vcFZpZCkgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpLmxvb3AgPSB1c2VyX3NldHRpbmdzLmxvb3BWaWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfQUxBQ1QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGFsd2F5c0FjdGl2ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRodW1iKCkgewogICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbF91cmw7CiAgICAgICAgICAgICAgICB0aHVtYm5haWxfdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW2hyZWYqPSdtYXhyZXNkZWZhdWx0J10iKTsKICAgICAgICAgICAgICAgIHRodW1ibmFpbF91cmwgPSB0aHVtYm5haWxfdXJsICYmIHRodW1ibmFpbF91cmwuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgICAgICAgICAgICAgICBpZiAodGh1bWJuYWlsX3VybCkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHRodW1ibmFpbF91cmwpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cueXRwbGF5ZXIgJiYgd2luZG93Lnl0cGxheWVyLmNvbmZpZyAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MgJiYgd2luZG93Lnl0cGxheWVyLmNvbmZpZy5hcmdzLnRodW1ibmFpbF91cmwpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3Blbih3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MudGh1bWJuYWlsX3VybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVNjcmVlbnNob3QoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaWQgPT09ICJjbG9zZS1zY3JlZW5zaG90IikgewogICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgaGlkZVNjcmVlbnNob3QpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNjcmVlbnNob3QoKSB7CiAgICAgICAgICAgICAgICB2YXIgd2lkdGgsIGhlaWdodCwgYXNwZWN0UmF0aW8sIHZpZGVvLCBjb250YWluZXIsIGNhbnZhcywgY2xvc2UsIGNvbnRleHQ7CiAgICAgICAgICAgICAgICB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIik7CiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NyZWVuc2hvdC1yZXN1bHQiKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCJjYW52YXMiKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvID0gdmlkZW8udmlkZW9XaWR0aCAvIHZpZGVvLnZpZGVvSGVpZ2h0OwogICAgICAgICAgICAgICAgd2lkdGggPSB2aWRlby52aWRlb1dpZHRoOwogICAgICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQod2lkdGggLyBhc3BlY3RSYXRpbywgMTApOwogICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIuaWQpIHsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaWQgPSAic2NyZWVuc2hvdC1yZXN1bHQiOwogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpOwogICAgICAgICAgICAgICAgICAgIGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICAgICAgY2xvc2UuaWQgPSAiY2xvc2Utc2NyZWVuc2hvdCI7CiAgICAgICAgICAgICAgICAgICAgY2xvc2UudGV4dENvbnRlbnQgPSBsYW5nKCJDTlNMX1NTX0NMUyIpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgaGlkZVNjcmVlbnNob3QpOwogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZSk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGV4aXRGdWxsQnJvd3NlcihrZXkpIHsKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJwYXJ0X2Z1bGxicm93c2VyIikgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICBrZXkua2V5Q29kZSA9PT0gMjcgfHwKICAgICAgICAgICAgICAgICAgICAgICAga2V5LmtleSA9PT0gIkVzY2FwZSIgfHwgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LnRhcmdldC5jbGFzc05hbWUgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleS50YXJnZXQuY2xhc3NOYW1lLnNwbGl0KCJ5dHAtc2l6ZSIpLmxlbmd0aCA+IDEKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZ1bGxCcm93c2VyKGtleSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS50eXBlID09PSAibW91c2Vkb3duIikgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZXhpdEZ1bGxCcm93c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgZXhpdEZ1bGxCcm93c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAga2V5LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUZ1bGxCcm93c2VyKGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgcGxyU3RhdGUgPSBhcGkgJiYgYXBpLmdldFBsYXllclN0YXRlICYmIGFwaS5nZXRQbGF5ZXJTdGF0ZSgpOwogICAgICAgICAgICAgICAgcGxyU3RhdGUgPSBwbHJTdGF0ZSA8IDUgJiYgcGxyU3RhdGUgPiAwOwogICAgICAgICAgICAgICAgZG9jdW1lbnRbKHdpbmRvdy5jaHJvbWUgJiYgImJvZHkiKSB8fCAiZG9jdW1lbnRFbGVtZW50Il0uc2Nyb2xsVG9wID0gMDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBleGl0RnVsbEJyb3dzZXIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgZXhpdEZ1bGxCcm93c2VyKTsKICAgICAgICAgICAgICAgIHNldCgiZnVsbEJycyIsIGV2ZW50ID8gIXVzZXJfc2V0dGluZ3MuZnVsbEJycyA6IHRydWUpOwogICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmZ1bGxfYnJvd3Nlci5jbGFzc0xpc3RbKHVzZXJfc2V0dGluZ3MuZnVsbEJycyAmJiAiYWRkIikgfHwgInJlbW92ZSJdKCJhY3RpdmUiKTsKICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiAocGxyU3RhdGUgfHwgZXZlbnQua2V5Q29kZSA9PT0gMjcgfHwgZXZlbnQua2V5ID09PSAiRXNjYXBlIikpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0Wyh1c2VyX3NldHRpbmdzLmZ1bGxCcnMgJiYgImFkZCIpIHx8ICJyZW1vdmUiXSgicGFydF9mdWxsYnJvd3NlciIpOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgicmVzaXplIikpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUZyYW1lcyhldmVudCkgewogICAgICAgICAgICAgICAgdmFyIGksIHBpLCBmcHMsIHRlbXA7CiAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuZnJhbWVfc3RlcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmcmFtZXN0ZXAtYnV0dG9uIik7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgWyJFTUJFRCIsICJJTlBVVCIsICJPQkpFQ1QiLCAiVEVYVEFSRUEiXS5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZSkgPCAwICYmIGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAiSUZSQU1FIiAmJiAhZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoKGV2ZW50LmtleUNvZGUgPT09IDM3IHx8IGV2ZW50LmtleUNvZGUgPT09IDM5KSAmJiBldmVudC5zaGlmdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICBwaSA9IGFwaS5nZXRWaWRlb1N0YXRzKCkuZm10OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lnl0cGxheWVyICYmIHdpbmRvdy55dHBsYXllci5jb25maWcgJiYgd2luZG93Lnl0cGxheWVyLmNvbmZpZy5hcmdzICYmIHdpbmRvdy55dHBsYXllci5jb25maWcuYXJncy5hZGFwdGl2ZV9mbXRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gd2luZG93Lnl0cGxheWVyLmNvbmZpZy5hcmdzLmFkYXB0aXZlX2ZtdHMuc3BsaXQoIiwiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0ZW1wLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFtpXS5pbmRleE9mKCJpdGFnPSIgKyBwaSkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkT3B0aW9ucy5mcHMgPSBwYXJzZUludCh0ZW1wW2ldLm1hdGNoKC9mcHM9KFtcZF0rKS8pWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWR2YW5jZWRPcHRpb25zLmZwcyB8fCBhZHZhbmNlZE9wdGlvbnMuZnBzID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuZnBzID0gMzA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZnBzID0gKChldmVudC5rZXlDb2RlIDwgMzkgJiYgLTEpIHx8IDEpICogKChhZHZhbmNlZE9wdGlvbnMuZnBzIDwgMiAmJiAzMCkgfHwgYWR2YW5jZWRPcHRpb25zLmZwcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcHMgJiYgYXBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIikucGF1c2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnBhdXNlVmlkZW8oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZWVrQnkoMSAvIGZwcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAiY2xpY2siICYmIGV2ZW50LnRhcmdldC5pZCA9PT0gImZyYW1lc3RlcC1idXR0b24iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldCgiZnJhbWVfc3RlcCIsICF1c2VyX3NldHRpbmdzLmZyYW1lX3N0ZXApOwogICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuZnJhbWVfc3RlcC5jbGFzc0xpc3RbKHVzZXJfc2V0dGluZ3MuZnJhbWVfc3RlcCAmJiAiYWRkIikgfHwgInJlbW92ZSJdKCJhY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYWR2YW5jZWRPcHRpb25zLmZyYW1lX3N0ZXAgJiYgYWR2YW5jZWRPcHRpb25zLmZyYW1lX3N0ZXAuY2xhc3NMaXN0LmNvbnRhaW5zKCJhY3RpdmUiKSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0b2dnbGVGcmFtZXMsIHRydWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYWR2YW5jZWRPcHRpb25zLmZyYW1lX3N0ZXAgfHwgIWFkdmFuY2VkT3B0aW9ucy5mcmFtZV9zdGVwLmNsYXNzTGlzdC5jb250YWlucygiYWN0aXZlIikpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdG9nZ2xlRnJhbWVzLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVTaG9ydGN1dHMoKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbigiaHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS93aWtpL1lvdVR1YmUtc2hvcnRjdXRzIiwgIl9ibGFuayIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUNvbnNvbGUoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaWQgPT09ICJjb25zb2xlLWJ1dHRvbiIpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgicGxheWVyLWNvbnNvbGUiKTsKICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0W2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoInBsYXllci1jb25zb2xlIikgPyAiYWRkIiA6ICJyZW1vdmUiXSgiY2xvc2UiKTsKICAgICAgICAgICAgICAgICAgICBzZXQoImFkdk9wdHMiLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJwbGF5ZXItY29uc29sZSIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVQbGF5KCkgewogICAgICAgICAgICAgICAgc2V0KCJWSURfUExSX0FUUEwiLCAhdXNlcl9zZXR0aW5ncy5WSURfUExSX0FUUEwpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdFsodXNlcl9zZXR0aW5ncy5WSURfUExSX0FUUEwgJiYgImFkZCIpIHx8ICJyZW1vdmUiXSgicGFydF9hdXRvcGxheW9uIik7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXV0b3BsYXktYnV0dG9uIikuY2xhc3NMaXN0Wyh1c2VyX3NldHRpbmdzLlZJRF9QTFJfQVRQTCAmJiAiYWRkIikgfHwgInJlbW92ZSJdKCJhY3RpdmUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVMb29wKGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgdmlkZW9QbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpOwogICAgICAgICAgICAgICAgaWYgKHZpZGVvUGxheWVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9QbGF5ZXIubG9vcCA9IGV2ZW50ID8gIXVzZXJfc2V0dGluZ3MubG9vcFZpZCA6IHVzZXJfc2V0dGluZ3MubG9vcFZpZDsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmxvb3BfYnV0dG9uLmNsYXNzTGlzdFsoIXVzZXJfc2V0dGluZ3MubG9vcFZpZCAmJiAiYWRkIikgfHwgInJlbW92ZSJdKCJhY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXQoImxvb3BWaWQiLCBhZHZhbmNlZE9wdGlvbnMubG9vcF9idXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCJhY3RpdmUiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlQ2luZW1hTW9kZShldmVudCkgewogICAgICAgICAgICAgICAgdmFyIHBsclN0YXRlID0gYXBpICYmIGFwaS5nZXRQbGF5ZXJTdGF0ZSAmJiBhcGkuZ2V0UGxheWVyU3RhdGUoKSA8IDUgJiYgYXBpLmdldFBsYXllclN0YXRlKCkgPiAwOwogICAgICAgICAgICAgICAgc2V0KCJsaWdodHNPdXQiLCBldmVudCA/ICF1c2VyX3NldHRpbmdzLmxpZ2h0c091dCA6IHRydWUpOwogICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmNpbmVtYV9tb2RlLmNsYXNzTGlzdFsodXNlcl9zZXR0aW5ncy5saWdodHNPdXQgJiYgImFkZCIpIHx8ICJyZW1vdmUiXSgiYWN0aXZlIik7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgcGxyU3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0Wyh1c2VyX3NldHRpbmdzLmxpZ2h0c091dCAmJiAiYWRkIikgfHwgInJlbW92ZSJdKCJwYXJ0X2NpbmVtYV9tb2RlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlVG9nZ2xlcyhldmVudCkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0ICYmIGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbiAmJiBhZHZhbmNlZE9wdGlvbnMuYWN0aW9uc1tldmVudC50YXJnZXQuZGF0YXNldC5hY3Rpb25dKSB7CiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmFjdGlvbnNbZXZlbnQudGFyZ2V0LmRhdGFzZXQuYWN0aW9uXShldmVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gaG9va0J1dHRvbnMoKSB7CiAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMucG9wUGxheWVyID0gcG9wUGxheWVyOwogICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmZ1bGxfYnJvd3NlciA9IGFkdmFuY2VkT3B0aW9ucy5jb250cm9scy5xdWVyeVNlbGVjdG9yKCIjZnVsbGJyb3dzZXItYnV0dG9uIik7CiAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuY2luZW1hX21vZGUgPSBhZHZhbmNlZE9wdGlvbnMuY29udHJvbHMucXVlcnlTZWxlY3RvcigiI2NpbmVtYW1vZGUtYnV0dG9uIik7CiAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMubG9vcF9idXR0b24gPSBhZHZhbmNlZE9wdGlvbnMuY29udHJvbHMucXVlcnlTZWxlY3RvcigiI2xvb3AtYnV0dG9uIik7CiAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuZnJhbWVfc3RlcCA9IGFkdmFuY2VkT3B0aW9ucy5jb250cm9scy5xdWVyeVNlbGVjdG9yKCIjZnJhbWVzdGVwLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmFjdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUGxheTogdG9nZ2xlUGxheSwKICAgICAgICAgICAgICAgICAgICB0b2dnbGVMb29wOiB0b2dnbGVMb29wLAogICAgICAgICAgICAgICAgICAgIGdldFRodW1iOiBnZXRUaHVtYiwKICAgICAgICAgICAgICAgICAgICBnZXRTY3JlZW5zaG90OiBnZXRTY3JlZW5zaG90LAogICAgICAgICAgICAgICAgICAgIHBvcFBsYXllcjogcG9wUGxheWVyLAogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZ1bGxCcm93c2VyOiB0b2dnbGVGdWxsQnJvd3NlciwKICAgICAgICAgICAgICAgICAgICB0b2dnbGVDaW5lbWFNb2RlOiB0b2dnbGVDaW5lbWFNb2RlLAogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZyYW1lczogdG9nZ2xlRnJhbWVzLAogICAgICAgICAgICAgICAgICAgIHRvZ2dsZVNob3J0Y3V0czogdG9nZ2xlU2hvcnRjdXRzCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVUb2dnbGVzKTsKICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLmxvb3BWaWQgJiYgIWFkdmFuY2VkT3B0aW9ucy5sb29wX2J1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoImFjdGl2ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmxvb3BfYnV0dG9uLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUxvb3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLmZ1bGxCcnMgJiYgIWFkdmFuY2VkT3B0aW9ucy5mdWxsX2Jyb3dzZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCJhY3RpdmUiKSkgewogICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkT3B0aW9ucy5mdWxsX2Jyb3dzZXIuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlRnVsbEJyb3dzZXIoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLmxpZ2h0c091dCAmJiAhYWR2YW5jZWRPcHRpb25zLmNpbmVtYV9tb2RlLmNsYXNzTGlzdC5jb250YWlucygiYWN0aXZlIikpIHsKICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuY2luZW1hX21vZGUuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQ2luZW1hTW9kZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuZnJhbWVfc3RlcCAmJiAhYWR2YW5jZWRPcHRpb25zLmZyYW1lX3N0ZXAuY2xhc3NMaXN0LmNvbnRhaW5zKCJhY3RpdmUiKSkgewogICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkT3B0aW9ucy5mcmFtZV9zdGVwLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZyYW1lcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGFkdmFuY2VkT3B0aW9ucygpIHsKICAgICAgICAgICAgICAgIHZhciBoZWFkZXIsIGNuc2xCdG4sIGNuc2xDb250OwogICAgICAgICAgICAgICAgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndhdGNoLWhlYWRlciIpOwogICAgICAgICAgICAgICAgY25zbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25zb2xlLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmNvbnRyb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsYXllci1jb25zb2xlIik7CiAgICAgICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAiL3dhdGNoIiAmJiBoZWFkZXIgJiYgIWNuc2xCdG4pIHsKICAgICAgICAgICAgICAgICAgICBjbnNsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTsKICAgICAgICAgICAgICAgICAgICBjbnNsQnRuLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgIGA8YnV0dG9uIGlkPSdjb25zb2xlLWJ1dHRvbicgZGF0YS1wPSd0dGx8QURWX09QVFMnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0nY2xvc2UnIHZpZXdCb3g9JzAgMCAxMCAxMCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPScxMCwxLjQgOC42LDAgNSwzLjYgMS40LDAgMCwxLjQgMy42LDUgMCw4LjYgMS40LDEwIDUsNi40IDguNiwxMCAxMCw4LjYgNi40LDUnLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0nb3Blbicgdmlld0JveD0nMCAwIDEyIDEwJz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB3aWR0aD0nMTInIGhlaWdodD0nMicvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPScxMicgaGVpZ2h0PScyJyB5PSc0Jy8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3Qgd2lkdGg9JzEyJyBoZWlnaHQ9JzInIHk9JzgnLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5gOwogICAgICAgICAgICAgICAgICAgIGNuc2xCdG4gPSBzZXRMb2NhbGUoY25zbEJ0bi5jb250ZW50KS5maXJzdENoaWxkOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdG9nZ2xlQ29uc29sZSk7CiAgICAgICAgICAgICAgICAgICAgY25zbENvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwogICAgICAgICAgICAgICAgICAgIGNuc2xDb250LmlubmVySFRNTCA9ICI8ZGl2IGlkPSdhZHZhbmNlZC1vcHRpb25zJz48L2Rpdj4iOwogICAgICAgICAgICAgICAgICAgIGNuc2xDb250ID0gY25zbENvbnQuY29udGVudC5maXJzdENoaWxkOwogICAgICAgICAgICAgICAgICAgIGNuc2xDb250LmFwcGVuZENoaWxkKGNuc2xCdG4pOwogICAgICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChjbnNsQ29udCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VkT3B0aW9ucy5jb250cm9scykgewogICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuY29udHJvbHMucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkT3B0aW9ucy5jb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7CiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmNvbnRyb2xzLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGlkPSdwbGF5ZXItY29uc29sZSc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSdhdXRvcGxheS1idXR0b24nIGNsYXNzPSd5dC11aXgtdG9vbHRpcCcgZGF0YS1wPSd0dHB8Q05TTF9BUCcgZGF0YS1hY3Rpb249J3RvZ2dsZVBsYXknPjxzdmcgdmlld0JveD0nMCAwIDE0IDE2Jz48cG9seWdvbiBwb2ludHM9JzAsMTYgMTQsOCAwLDAnLz48L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J2xvb3AtYnV0dG9uJyBjbGFzcz0neXQtdWl4LXRvb2x0aXAnIGRhdGEtcD0ndHRwfENOU0xfUlBUJyBkYXRhLWFjdGlvbj0ndG9nZ2xlTG9vcCc+PHN2ZyB2aWV3Qm94PScwIDAgMjAuNSAxOCc+PHBhdGggZD0nTTExLjUsMEM5LDAsNi44LDEsNS4xLDIuNmwxLjQsMS40QzcuOCwyLjgsOS42LDIsMTEuNSwyYzMuOSwwLDcsMy4xLDcsN2MwLDMuOS0zLjEsNy03LDdzLTctMy4xLTctN0g3TDMuNSw0TDAsOSBoMi41YzAsNSw0LDksOSw5czktNCw5LTlDMjAuNSw0LDE2LjUsMCwxMS41LDB6Jy8+PC9zdmc+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSdzYXZlLXRodW1ibmFpbC1idXR0b24nIGNsYXNzPSd5dC11aXgtdG9vbHRpcCcgZGF0YS1wPSd0dHB8Q05TTF9TVlRIJyBkYXRhLWFjdGlvbj0nZ2V0VGh1bWInPjxzdmcgdmlld0JveD0nMCAwIDI0IDE4Jz48cGF0aCBkPSdNMCwwdjE4aDI0VjBIMHogTTIyLDE2SDJWMmgyMFYxNnonLz48Y2lyY2xlIGN4PSc4JyBjeT0nNicgcj0nMycvPjxwb2x5Z29uIHBvaW50cz0nMywxMiA2LDEwIDksMTIgMTAsMTIgMTYsNiAyMSwxMSAyMSwxNSAzLDE1Jy8+PC9zdmc+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSdzY3JlZW5zaG90LWJ1dHRvbicgY2xhc3M9J3l0LXVpeC10b29sdGlwJyBkYXRhLXA9J3R0cHxDTlNMX1NTJyBkYXRhLWFjdGlvbj0nZ2V0U2NyZWVuc2hvdCc+PHN2ZyB2aWV3Qm94PScwIDAgMjIgMTgnPjxwYXRoIGQ9J00xNy43LDRsLTIuMy00aC05TDQuMSw0SDB2MTRoMjJWNEgxNy43eiBNMTEsMTVjLTIuOCwwLTUtMi4yLTUtNXMyLjItNSw1LTVzNSwyLjIsNSw1UzEzLjgsMTUsMTEsMTV6Jy8+PGNpcmNsZSBjeD0nMTEnIGN5PScxMCcgcj0nNCcvPjwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ncG9wb3V0LWJ1dHRvbicgY2xhc3M9J3l0LXVpeC10b29sdGlwJyBkYXRhLXA9J3R0cHxDTlNMX1BQT1QnIGRhdGEtYWN0aW9uPSdwb3BQbGF5ZXInPjxzdmcgdmlld0JveD0nMCAwIDIyIDE2Jz48cGF0aCBkPSdNNiwwdjEyaDE2VjBINnogTTIwLDEwSDhWMmgxMlYxMHonLz48cG9seWdvbiBwb2ludHM9JzE0LDE0IDIsMTQgMiw2IDUsNiA1LDQgMCw0IDAsMTYgMTYsMTYgMTYsMTMgMTQsMTMnLz48L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J2Z1bGxicm93c2VyLWJ1dHRvbicgY2xhc3M9J3l0LXVpeC10b29sdGlwJyBkYXRhLXA9J3R0cHxDTlNMX0ZMQlInIGRhdGEtYWN0aW9uPSd0b2dnbGVGdWxsQnJvd3Nlcic+PHN2ZyB2aWV3Qm94PScwIDAgMjAgMTgnPjxwYXRoIGQ9J00wLDB2MThoMjBWMEgweiBNMTgsMTZIMlY0aDE2VjE2eicvPjxwb2x5Z29uIHBvaW50cz0nMyw1IDMsOSA1LDkgNSw3IDcsNyA3LDUnLz48cG9seWdvbiBwb2ludHM9JzE3LDUgMTMsNSAxMyw3IDE1LDcgMTUsOSAxNyw5Jy8+PHBvbHlnb24gcG9pbnRzPScxNywxNSAxNywxMSAxNSwxMSAxNSwxMyAxMywxMyAxMywxNScvPjxwb2x5Z29uIHBvaW50cz0nMywxNSA3LDE1IDcsMTMgNSwxMyA1LDExIDMsMTEnLz48L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J2NpbmVtYW1vZGUtYnV0dG9uJyBjbGFzcz0neXQtdWl4LXRvb2x0aXAnIGRhdGEtcD0ndHRwfENOU0xfQ0lOTV9NRCcgZGF0YS1hY3Rpb249J3RvZ2dsZUNpbmVtYU1vZGUnPjxzdmcgdmlld0JveD0nMCAwIDIwIDE4Jz48cGF0aCBkPSdNMTgsMHYyaC0yVjBINHYySDJWMEgwdjE4aDJ2LTJoMnYyaDEydi0yaDJ2MmgyVjBIMTh6IE00LDE0SDJ2LTJoMlYxNHogTTQsMTBIMlY4aDJWMTB6IE00LDZIMlY0aDJWNnogTTE0LDE2IEg2di02aDhWMTZ6IE0xNCw4SDZWMmg4Vjh6IE0xOCwxNGgtMnYtMmgyVjE0eiBNMTgsMTBoLTJWOGgyVjEweiBNMTgsNmgtMlY0aDJWNnonLz48L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J2ZyYW1lc3RlcC1idXR0b24nIGNsYXNzPSd5dC11aXgtdG9vbHRpcCcgZGF0YS1wPSd0dHB8Q05TTF9GUk1FJyBkYXRhLWFjdGlvbj0ndG9nZ2xlRnJhbWVzJz48c3ZnIHZpZXdCb3g9JzAgMCAyMCAyMCc+PHBhdGggZD0nTTIwLDloLTIuMWMtMC41LTMuNi0zLjMtNi41LTYuOS02LjlWMEg5djIuMUM1LjQsMi41LDIuNSw1LjQsMi4xLDlIMHYyaDIuMWMwLjUsMy42LDMuMyw2LjUsNi45LDYuOVYyMGgyIHYtMi4xYzMuNi0wLjUsNi41LTMuMyw2LjktNi45SDIwVjl6IE0xMSwxNS45VjE0SDl2MS45Yy0yLjUtMC40LTQuNS0yLjQtNC45LTQuOUg2VjlINC4xQzQuNSw2LjUsNi41LDQuNSw5LDQuMVY2aDJWNC4xIGMyLjUsMC40LDQuNSwyLjQsNC45LDQuOUgxNHYyaDEuOUMxNS41LDEzLjUsMTMuNSwxNS41LDExLDE1Ljl6Jy8+PGNpcmNsZSBjeD0nMTAnIGN5PScxMCcgcj0nMScvPjwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0nc2hvcnRjdXRzLWJ1dHRvbicgY2xhc3M9J3l0LXVpeC10b29sdGlwJyBkYXRhLXA9J3R0cHxDTlNMX1lUU0MnIGRhdGEtYWN0aW9uPSd0b2dnbGVTaG9ydGN1dHMnPjxzdmcgdmlld0JveD0nMCAwIDE4IDE4Jz48cG9seWdvbiBwb2ludHM9JzcsOCAxMCw4IDEwLDEzIDExLDEzIDExLDE0IDcsMTQgNywxMyA4LDEzIDgsOSA3LDknLz48cmVjdCB4PSc4JyB5PSc0JyB3aWR0aD0nMicgaGVpZ2h0PScyJy8+PHBhdGggZD0nTTksMEM0LDAsMCw0LDAsOWMwLDUsNCw5LDksOXM5LTQsOS05QzE4LDQsMTQsMCw5LDB6IE05LDE2LjFjLTMuOSwwLTcuMS0zLjItNy4xLTcuMVM1LjEsMS45LDksMS45IHM3LjEsMy4yLDcuMSw3LjFTMTIuOSwxNi4xLDksMTYuMXonLz48L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExSX0FUUEwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRPcHRpb25zLmNvbnRyb2xzLmNvbnRlbnQucXVlcnlTZWxlY3RvcigiI2F1dG9wbGF5LWJ1dHRvbiIpLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZE9wdGlvbnMuY29udHJvbHMgPSBzZXRMb2NhbGUoYWR2YW5jZWRPcHRpb25zLmNvbnRyb2xzLmNvbnRlbnQpLmZpcnN0Q2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgY25zbENvbnQuYXBwZW5kQ2hpbGQoYWR2YW5jZWRPcHRpb25zLmNvbnRyb2xzKTsKICAgICAgICAgICAgICAgICAgICBob29rQnV0dG9ucygpOwogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLmFkdk9wdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoInBsYXllci1jb25zb2xlIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNuc2xCdG4uY2xhc3NMaXN0LmFkZCgiY2xvc2UiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gaW5pQWN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIsIGxvYWRfbW9yZSwgY2xpY2tfdGl0bGU7CiAgICAgICAgICAgICAgICBsb2FkX21vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjd2F0Y2gtbW9yZS1yZWxhdGVkLCAubG9hZC1tb3JlLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgY2xpY2tfdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXQtdWl4LXRpbGUiKTsKICAgICAgICAgICAgICAgIHdoaWxlIChjbGlja190aXRsZSkgewogICAgICAgICAgICAgICAgICAgIGNsaWNrX3RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoInl0LXVpeC10aWxlIik7CiAgICAgICAgICAgICAgICAgICAgY2xpY2tfdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXQtdWl4LXRpbGUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChsb2FkX21vcmUgJiYgIWxvYWRfbW9yZS5jbGFzc0xpc3QuY29udGFpbnMoIm1vZFRodW1icyIpKSB7CiAgICAgICAgICAgICAgICAgICAgbG9hZF9tb3JlLmNsYXNzTGlzdC5hZGQoIm1vZFRodW1icyIpOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobW9kVGh1bWJzKTsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxvYWRfbW9yZSwgewogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgL3BvcG91dG1vZGV8YmxhY2tsaXN0Ly50ZXN0KGV2ZW50LnRhcmdldC5jbGFzc05hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJwb3BvdXRtb2RlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9wUGxheWVyKGV2ZW50LmRhdGFzZXQubGluayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5kYXRhc2V0Lnl0aWQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MuYmxhY2tsaXN0W2V2ZW50LmRhdGFzZXQueXRpZF0gPSBldmVudC5kYXRhc2V0LnVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldCgiYmxhY2tsaXN0IiwgdXNlcl9zZXR0aW5ncy5ibGFja2xpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICBtb2RUaHVtYnMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2V0QnV0dG9ucygpIHsKICAgICAgICAgICAgICAgIHZhciBpLCBqLCBsaXN0LCB0ZW1wLCB0aHVtYiwgYnV0dG9uOwogICAgICAgICAgICAgICAgbGlzdCA9IE9iamVjdC5rZXlzKG1vZFRodW1icy50aHVtYnMpOwogICAgICAgICAgICAgICAgaSA9IGxpc3QubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgIHRlbXAgPSBtb2RUaHVtYnMudGh1bWJzW2xpc3RbaV1dOwogICAgICAgICAgICAgICAgICAgIGogPSB0ZW1wLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoai0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1iID0gdGVtcFtqXS5xdWVyeVNlbGVjdG9yKCIueXQtbG9ja3VwIC55dC1sb2NrdXAtdGh1bWJuYWlsLCAudGh1bWItd3JhcHBlciIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGh1bWIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLkdFTl9QUE9UX09OICYmICF0aHVtYi5xdWVyeVNlbGVjdG9yKCIucG9wb3V0bW9kZSIpICYmICEvY2hhbm5lbC8udGVzdCh0ZW1wW2pdLmZpcnN0Q2hpbGQuY2xhc3NOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGRhdGEtcD0ndHRsfFBQT1RfT1BFTiZ0dHB8UFBPVF9PUEVOJyBjbGFzcz0neXQtdWl4LXRvb2x0aXAgcG9wb3V0bW9kZSc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9JzAgMCAxMCAxMCcgY2xhc3M9J3RodW1iLXN2Zyc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSc3LDkgMSw5IDEsNCAzLDQgMywyIDAsMiAwLDEwIDgsMTAgOCw3IDcsNycvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9J000LDB2Nmg2VjBINHogTTksNUg1VjJoNFY1eicvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNvbnRlbnQuZmlyc3RDaGlsZC5kYXRhc2V0LmxpbmsgPSB0ZW1wW2pdLnF1ZXJ5U2VsZWN0b3IoImFbaHJlZio9Jy93YXRjaD92J10iKS5ocmVmOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1iLmFwcGVuZENoaWxkKHNldExvY2FsZShidXR0b24uY29udGVudCkuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5CTEtfT04gJiYgIXRodW1iLnF1ZXJ5U2VsZWN0b3IoIi5ibGFja2xpc3QiKSAmJiB3aW5kb3cueXQuY29uZmlnXy5QQUdFX05BTUUgIT09ICJjaGFubmVsIiAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09ICIvZmVlZC9zdWJzY3JpcHRpb25zIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGRhdGEtcD0ndHRsfEJMQ0tfQUREJnR0cHxCTENLX0FERCcgY2xhc3M9J3l0LXVpeC10b29sdGlwIGJsYWNrbGlzdCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9JzAgMCAxMCAxMCcgY2xhc3M9J3RodW1iLXN2Zyc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPScxMCwxLjQgOC42LDAgNSwzLjYgMS40LDAgMCwxLjQgMy42LDUgMCw4LjYgMS40LDEwIDUsNi40IDguNiwxMCAxMCw4LjYgNi40LDUnLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jb250ZW50LmZpcnN0Q2hpbGQuZGF0YXNldC51c2VyID0gdGVtcFtqXS51c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY29udGVudC5maXJzdENoaWxkLmRhdGFzZXQueXRpZCA9IGxpc3RbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWIuYXBwZW5kQ2hpbGQoc2V0TG9jYWxlKGJ1dHRvbi5jb250ZW50KS5maXJzdENoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBkZWxWaWRlb3MoKSB7CiAgICAgICAgICAgICAgICB2YXIgaSwgaiwgdGVtcCwgcGFyZW50LCBibGFja2xpc3QsIGhhc191cG5leHQ7CiAgICAgICAgICAgICAgICBoYXNfdXBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmF1dG9wbGF5LWJhciIpOwogICAgICAgICAgICAgICAgYmxhY2tsaXN0ID0gT2JqZWN0LmtleXModXNlcl9zZXR0aW5ncy5ibGFja2xpc3QpOwogICAgICAgICAgICAgICAgaSA9IGJsYWNrbGlzdC5sZW5ndGg7CiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG1vZFRodW1icy50aHVtYnNbYmxhY2tsaXN0W2ldXTsKICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCkgewogICAgICAgICAgICAgICAgICAgICAgICBqID0gdGVtcC5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqLS0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNfdXBuZXh0ICYmIGhhc191cG5leHQuY29udGFpbnModGVtcFtqXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNfdXBuZXh0LnBhcmVudE5vZGUucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzX3VwbmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi53YXRjaC1zaWRlYmFyLXNlcGFyYXRpb24tbGluZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNfdXBuZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc191cG5leHQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc191cG5leHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gdGVtcFtqXS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbal0ucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkRWxlbWVudENvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlbXAubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbW9kVGh1bWJzLnRodW1ic1tibGFja2xpc3RbaV1dOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0ZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmZlZWQtaXRlbS1jb250YWluZXI6bm90KC5zZWFyY2gtaGlzdG9yeS1pdGVtKSIpOwogICAgICAgICAgICAgICAgaSA9IHRlbXAubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoInVsIikubGVuZ3RoIDwgMikgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSB0ZW1wW2ldLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbaV0ucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuY2hpbGRFbGVtZW50Q291bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VmlkZW9zKCkgewogICAgICAgICAgICAgICAgdmFyIGksIGxpc3QsIHRlbXAsIHZpZGVvX2xpc3QsIGNoYW5uZWxfaWQ7CiAgICAgICAgICAgICAgICBtb2RUaHVtYnMudGh1bWJzID0ge307CiAgICAgICAgICAgICAgICB2aWRlb19saXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAKICAgICAgICAgICAgICAgICAgICAueXQtc2hlbGYtZ3JpZC1pdGVtLAogICAgICAgICAgICAgICAgICAgIC52aWRlby1saXN0LWl0ZW0sCiAgICAgICAgICAgICAgICAgICAgI3Jlc3VsdHMgLml0ZW0tc2VjdGlvbiA+IGxpLAogICAgICAgICAgICAgICAgICAgIC5leHBhbmRlZC1zaGVsZi1jb250ZW50LWl0ZW0td3JhcHBlcgogICAgICAgICAgICAgICAgYCkpOwogICAgICAgICAgICAgICAgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYAogICAgICAgICAgICAgICAgICAgIC55dC1sb2NrdXAtYnlsaW5lID4gYSwKICAgICAgICAgICAgICAgICAgICAueXQtbG9ja3VwLWNvbnRlbnQgLmctaG92ZXJjYXJkLAogICAgICAgICAgICAgICAgICAgIC52aWRlby1saXN0LWl0ZW0gLmctaG92ZXJjYXJkLAogICAgICAgICAgICAgICAgICAgIC5jaGFubmVscy1jb250ZW50LWl0ZW0gLnl0LWxvY2t1cC10aXRsZSA+IGEKICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICAgICAgaSA9IGxpc3QubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICAgICAgICAgIHRlbXAgPSBsaXN0W2ldOwogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxfaWQgPSB0ZW1wLmRhdGFzZXQueXRpZDsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGVtcCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcC50YWdOYW1lICYmIHRlbXAudGFnTmFtZSA9PT0gIkxJIiAmJiB2aWRlb19saXN0LmluZGV4T2YodGVtcCkgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC51c2VybmFtZSA9IGxpc3RbaV0udGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZFRodW1icy50aHVtYnNbY2hhbm5lbF9pZF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RUaHVtYnMudGh1bWJzW2NoYW5uZWxfaWRdID0gW3RlbXBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RUaHVtYnMudGh1bWJzW2NoYW5uZWxfaWRdLmluZGV4T2YodGVtcCkgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kVGh1bWJzLnRodW1ic1tjaGFubmVsX2lkXS5wdXNoKHRlbXApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHRlbXAucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbW9kVGh1bWJzKCkgewogICAgICAgICAgICAgICAgaWYgKCh1c2VyX3NldHRpbmdzLkJMS19PTiB8fCB1c2VyX3NldHRpbmdzLkdFTl9QUE9UX09OKSAmJiAhd2luZG93Lm9wZW5lciAmJiB3aW5kb3cueXQgJiYgd2luZG93Lnl0LmNvbmZpZ18gJiYgL3dhdGNofGluZGV4fGZlZWR8Y2hhbm5lbHxyZXN1bHRzLy50ZXN0KHdpbmRvdy55dC5jb25maWdfLlBBR0VfTkFNRSkpIHsKICAgICAgICAgICAgICAgICAgICBnZXRWaWRlb3MoKTsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5CTEtfT04gJiYgd2luZG93Lnl0LmNvbmZpZ18uUEFHRV9OQU1FICE9PSAiY2hhbm5lbCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsVmlkZW9zKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNldEJ1dHRvbnMoKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGluaUFjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgaW5pQWN0aW9uKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2V0VmlkZW9Db3VudCgpIHsKICAgICAgICAgICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9ICIgwrcgIjsKICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy51c2VybmFtZS5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy5saW5rLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgIi9jaGFubmVsLyIgKyBlbmhhbmNlZERldGFpbHMudXNlci5kYXRhc2V0Lnl0aWQgKyAiL3ZpZGVvcyI7CiAgICAgICAgICAgICAgICBlbmhhbmNlZERldGFpbHMudXNlcm5hbWUuYXBwZW5kQ2hpbGQoZW5oYW5jZWREZXRhaWxzLmxpbmspOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVZpZGVvQ291bnQoZGV0YWlscykgewogICAgICAgICAgICAgICAgZGV0YWlscyA9IGRldGFpbHMudGFyZ2V0LnJlc3BvbnNlLnF1ZXJ5U2VsZWN0b3IoIi5wbC1oZWFkZXItZGV0YWlscyBsaTpudGgtY2hpbGQoMikiKTsKICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzKSB7CiAgICAgICAgICAgICAgICAgICAgZW5oYW5jZWREZXRhaWxzLmxpbmsuY2xhc3NOYW1lID0gInNwZi1saW5rIjsKICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZERldGFpbHMubGluay50ZXh0Q29udGVudCA9IGNpZFtlbmhhbmNlZERldGFpbHMudXNlci5kYXRhc2V0Lnl0aWRdID0gZGV0YWlscy50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICBzZXRWaWRlb0NvdW50KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VmlkZW9Db3VudCgpIHsKICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy51c2VybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi55dC11c2VyLWluZm8iKTsKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVwbG9hZGVkLXZpZGVvcyIpICYmIGVuaGFuY2VkRGV0YWlscy51c2VybmFtZSkgewogICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy5saW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy5saW5rLmlkID0gInVwbG9hZGVkLXZpZGVvcyI7CiAgICAgICAgICAgICAgICAgICAgZW5oYW5jZWREZXRhaWxzLnVzZXJuYW1lLmFwcGVuZENoaWxkKGVuaGFuY2VkRGV0YWlscy5saW5rKTsKICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZERldGFpbHMudXNlciA9IGVuaGFuY2VkRGV0YWlscy51c2VybmFtZS5xdWVyeVNlbGVjdG9yKCJhIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNpZFtlbmhhbmNlZERldGFpbHMudXNlci5kYXRhc2V0Lnl0aWRdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy5saW5rLnRleHRDb250ZW50ID0gY2lkW2VuaGFuY2VkRGV0YWlscy51c2VyLmRhdGFzZXQueXRpZF07CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZpZGVvQ291bnQoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFhIUigiR0VUIiwgdXBkYXRlVmlkZW9Db3VudCwgIi9wbGF5bGlzdD9saXN0PSIgKyBlbmhhbmNlZERldGFpbHMudXNlci5kYXRhc2V0Lnl0aWQucmVwbGFjZSgiVUMiLCAiVVUiKSwgImRvYyIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBnZXRDaGFubmVsSW5mbyhkZXRhaWxzKSB7CiAgICAgICAgICAgICAgICB2YXIgcmV0cnksIGlzTGl2ZTsKICAgICAgICAgICAgICAgIGlzTGl2ZSA9IGRldGFpbHMudGFyZ2V0LnJlc3BvbnNlLnF1ZXJ5U2VsZWN0b3IoIi55dC1iYWRnZS1saXZlIik7CiAgICAgICAgICAgICAgICBpZiAoIWlzTGl2ZSkgewogICAgICAgICAgICAgICAgICAgIHJldHJ5ID0gZGV0YWlscy50YXJnZXQucmVzcG9uc2VVUkwuc3BsaXQoIi92aWRlb3MiKS5sZW5ndGggPCAyOwogICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBkZXRhaWxzLnRhcmdldC5yZXNwb25zZS5xdWVyeVNlbGVjdG9yQWxsKCJbZGF0YS1jb250ZXh0LWl0ZW0taWQ9JyIgKyB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MudmlkZW9faWQgKyAiJ10gLnl0LWxvY2t1cC1tZXRhLWluZm8gbGkiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlscyAmJiBkZXRhaWxzLmxlbmd0aCA+IDAgJiYgZW5oYW5jZWREZXRhaWxzLndhdGNoVGltZS50ZXh0Q29udGVudC5zcGxpdCgiwrciKS5sZW5ndGggPCAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy53YXRjaFRpbWUudGV4dENvbnRlbnQgKz0gIiDCtyAiICsgZGV0YWlsc1tyZXRyeSA/IDAgOiAxXS50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJldHJ5ICYmIHdpbmRvdy55dHBsYXllciAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnICYmIHdpbmRvdy55dHBsYXllci5jb25maWcuYXJncyAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MudWNpZCkgewogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFhIUigiR0VUIiwgZ2V0Q2hhbm5lbEluZm8sICIvY2hhbm5lbC8iICsgd2luZG93Lnl0cGxheWVyLmNvbmZpZy5hcmdzLnVjaWQgKyAiL3ZpZGVvcyIsICJkb2MiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UHVibGlzaGVkVGltZSgpIHsKICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy53YXRjaFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIud2F0Y2gtdGltZS10ZXh0Iik7CiAgICAgICAgICAgICAgICBpZiAoZW5oYW5jZWREZXRhaWxzLndhdGNoVGltZSAmJiAhZW5oYW5jZWREZXRhaWxzLndhdGNoVGltZS5mZXRjaGluZyAmJiB3aW5kb3cueXRwbGF5ZXIgJiYgd2luZG93Lnl0cGxheWVyLmNvbmZpZykgewogICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscy53YXRjaFRpbWUuZmV0Y2hpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGxvY2FsWEhSKCJHRVQiLCBnZXRDaGFubmVsSW5mbywgIi9jaGFubmVsLyIgKyB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MudWNpZCArICIvc2VhcmNoP3F1ZXJ5PSUyMiIgKyB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MudmlkZW9faWQgKyAiJTIyIiwgImRvYyIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGVuaGFuY2VkRGV0YWlscygpIHsKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvd2F0Y2giKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1ZJRF9DTlQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VmlkZW9Db3VudCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUE9TVF9USU1FKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdldFB1Ymxpc2hlZFRpbWUoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gcmV2ZXJzZUNvbnRyb2woKSB7CiAgICAgICAgICAgICAgICB2YXIgaSwgdGVtcCwgcHJldiwgbmV4dCwgbGlzdCwgdmlkZW9zOwogICAgICAgICAgICAgICAgcHJldiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wcmV2LXBsYXlsaXN0LWxpc3QtaXRlbSIpOwogICAgICAgICAgICAgICAgbmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5uZXh0LXBsYXlsaXN0LWxpc3QtaXRlbSIpOwogICAgICAgICAgICAgICAgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5bGlzdC1hdXRvc2Nyb2xsLWxpc3QiKTsKICAgICAgICAgICAgICAgIHZpZGVvcyA9IGxpc3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpIik7CiAgICAgICAgICAgICAgICBpID0gdmlkZW9zLmxlbmd0aDsKICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKHZpZGVvc1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0ZW1wID0gcHJldi5ocmVmOwogICAgICAgICAgICAgICAgcHJldi5ocmVmID0gbmV4dC5ocmVmOwogICAgICAgICAgICAgICAgbmV4dC5ocmVmID0gdGVtcDsKICAgICAgICAgICAgICAgIGxpc3Quc2Nyb2xsVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmN1cnJlbnRseS1wbGF5aW5nIikub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgaWYgKGFwaSkgewogICAgICAgICAgICAgICAgICAgIGFwaS51cGRhdGVQbGF5bGlzdCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHJldmVyc2VCdXR0b24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaWQgPT09ICJyZXZlcnNlIikgewogICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCJ5dC11aXgtYnV0dG9uLXRvZ2dsZWQiKTsKICAgICAgICAgICAgICAgICAgICBzZXQoInBsUmV2IiwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygieXQtdWl4LWJ1dHRvbi10b2dnbGVkIikpOwogICAgICAgICAgICAgICAgICAgIHJldmVyc2VDb250cm9sKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gYXV0b3BsYXlCdXR0b24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaWQgPT09ICJhdXRvcGxheSIpIHsKICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgieXQtdWl4LWJ1dHRvbi10b2dnbGVkIik7CiAgICAgICAgICAgICAgICAgICAgc2V0KCJwbEFwbCIsIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoInl0LXVpeC1idXR0b24tdG9nZ2xlZCIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdXR0b24odHlwZSwgbGFiZWwsIGJvb2wsIGNhbGwpIHsKICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwogICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgYDxidXR0b24gY2xhc3M9J3l0LXVpeC1idXR0b24geXQtdWl4LWJ1dHRvbi1wbGF5ZXItY29udHJvbHMgeXQtdWl4LWJ1dHRvbi1vcGFjaXR5IHl0LXVpeC10b29sdGlwJyB0eXBlPSdidXR0b24nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0ncGwtYXV0b3BsYXknIHZpZXdCb3g9JzAgMCAxNCAxNic+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPScwLDE2IDE0LDggMCwwJy8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9J3BsLXJldmVyc2UnIHZpZXdCb3g9JzAgMCAxNiAyMCc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSc3LDggMyw4IDMsMTQgMCwxNCA1LDIwIDEwLDE0IDcsMTQnLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBwb2ludHM9JzExLDAgNiw2IDksNiA5LDEyIDEzLDEyIDEzLDYgMTYsNicvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+YDsKICAgICAgICAgICAgICAgIGlmIChib29sID09PSB0cnVlIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KGJvb2wpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICBidXR0b24uY29udGVudC5xdWVyeVNlbGVjdG9yKCJidXR0b24iKS5jbGFzc0xpc3QuYWRkKCJ5dC11aXgtYnV0dG9uLXRvZ2dsZWQiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJ1dHRvbi5jb250ZW50LmZpcnN0Q2hpbGQuaWQgPSB0eXBlOwogICAgICAgICAgICAgICAgYnV0dG9uLmNvbnRlbnQuZmlyc3RDaGlsZC5kYXRhc2V0LnAgPSAidHRwfCIgKyBsYWJlbCArICImdHRsfCIgKyBsYWJlbDsKICAgICAgICAgICAgICAgIGJ1dHRvbi5jb250ZW50LmZpcnN0Q2hpbGQuY2xhc3NMaXN0LmFkZCgieXQtdWl4LWJ1dHRvbi1pY29uLXdhdGNoLWFwcGJhci0iICsgdHlwZSArICItdmlkZW8tbGlzdCIpOwogICAgICAgICAgICAgICAgYnV0dG9uID0gc2V0TG9jYWxlKGJ1dHRvbi5jb250ZW50KS5maXJzdENoaWxkOwogICAgICAgICAgICAgICAgcGxheWxpc3RDb250cm9scy5wbEJhci5jbGFzc05hbWUgPSBwbGF5bGlzdENvbnRyb2xzLnBsQmFyLmNsYXNzTmFtZS5yZXBsYWNlKCJyYWRpby1wbGF5bGlzdCIsICIiKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY2FsbCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucGxheWxpc3QtbmF2LWNvbnRyb2xzIikuYXBwZW5kQ2hpbGQoYnV0dG9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBwbGF5bGlzdENvbnRyb2xzKCkgewogICAgICAgICAgICAgICAgcGxheWxpc3RDb250cm9scy5wbEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3YXRjaC1hcHBiYXItcGxheWxpc3QiKTsKICAgICAgICAgICAgICAgIGlmIChwbGF5bGlzdENvbnRyb2xzLnBsQmFyKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIgJiYgdXNlcl9zZXR0aW5ncy5wbFJldikgewogICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlQ29udHJvbCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExTVF9SVlJTICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmV2ZXJzZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJ1dHRvbigicmV2ZXJzZSIsICJQTFNUX1JWUlMiLCB1c2VyX3NldHRpbmdzLnBsUmV2LCByZXZlcnNlQnV0dG9uKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1BMU1RfQVRQTCAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF1dG9wbGF5IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQnV0dG9uKCJhdXRvcGxheSIsICJQTFNUX0FQIiwgdXNlcl9zZXR0aW5ncy5wbEFwbCwgYXV0b3BsYXlCdXR0b24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiB4aHJQYXRjaCgpIHsKICAgICAgICAgICAgICAgIHZhciB0ZW1wLCBwbGF5ZXI7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHthcmdzOiBKU09OLnBhcnNlKAogICAgICAgICAgICAgICAgICAgICAgICAie1wiIiArCiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLnJlc3BvbnNlVGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyU1Qy9nLCAiJTVDJTVDIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lMjIvZywgIiU1QyUyMiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAiXCIsXCIiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1w9L2csICJcIjpcIiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCsvZywgIiUyMCIpCiAgICAgICAgICAgICAgICAgICAgICAgICkgKwogICAgICAgICAgICAgICAgICAgICAgICAiXCJ9IgogICAgICAgICAgICAgICAgICAgICl9OwogICAgICAgICAgICAgICAgICAgIHRlbXAgPSBtb2RBcmdzKHRlbXApOwogICAgICAgICAgICAgICAgICAgIHRlbXAgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodGVtcC5hcmdzKS5zcGxpdCgvXHsiKFtcd1xXXSo/KSJ9LylbMV0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lNUMlNUMvZywgIiU1QyIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lNUMlMjIvZywgIiUyMiIpCiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lMjIlMkMlMjIvZywgIiYiKQogICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJTIyJTNBJTIyL2csICI9IikKICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyUyMC9nLCAiKyIpOwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicmVzcG9uc2VUZXh0Iiwge3dyaXRhYmxlOiB0cnVlfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVRleHQgPSB0ZW1wOwogICAgICAgICAgICAgICAgICAgIHBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZV9wbGF5ZXIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRQbGF5YmFja1F1YWxpdHkodXNlcl9zZXR0aW5ncy5WSURfREZMVF9RTFRZKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tYSFIob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihtZXRob2QsIHVybCkgewogICAgICAgICAgICAgICAgICAgIGlmICh1cmwubWF0Y2goImdldF92aWRlb19pbmZvIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIiwgeGhyUGF0Y2gpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVZvbHVtZSgpIHsKICAgICAgICAgICAgICAgIGlmICh2b2x1bWVXaGVlbC5jQm90dG9tICYmIHZvbHVtZVdoZWVsLmNCb3R0b20uY2xhc3NMaXN0LmNvbnRhaW5zKCJ5dHAtdm9sdW1lLXNsaWRlci1hY3RpdmUiKSkgewogICAgICAgICAgICAgICAgICAgIHZvbHVtZVdoZWVsLmNCb3R0b20uY2xhc3NMaXN0LnJlbW92ZSgieXRwLXZvbHVtZS1zbGlkZXItYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZvbHVtZVdoZWVsLmNCb3R0b20udGltZXI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gdm9sdW1lV2hlZWwoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBmc1BsLCBwU2V0cywgaXZDYXJkLCBwbGF5ZXIsIGNhblNjcm9sbCwgZGlyZWN0aW9uOwogICAgICAgICAgICAgICAgcGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKTsKICAgICAgICAgICAgICAgIGZzUGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXRwLXBsYXlsaXN0LW1lbnUiKTsKICAgICAgICAgICAgICAgIHBTZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnl0cC1zZXR0aW5ncy1tZW51Iik7CiAgICAgICAgICAgICAgICBpdkNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaXYtZHJhd2VyIik7CiAgICAgICAgICAgICAgICBjYW5TY3JvbGwgPSBldmVudCAmJiAoIWZzUGwgfHwgKGZzUGwgJiYgIWZzUGwuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpICYmICghaXZDYXJkIHx8IChpdkNhcmQgJiYgIWl2Q2FyZC5jb250YWlucyhldmVudC50YXJnZXQpKSkgJiYgKCFwU2V0cyB8fCAocFNldHMgJiYgIXBTZXRzLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKTsKICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiBhcGkgJiYgcGxheWVyICYmIGNhblNjcm9sbCAmJiAoZXZlbnQudGFyZ2V0LmlkID09PSBhcGkgfHwgYXBpLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICB2b2x1bWVXaGVlbC5jQm90dG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnl0cC1jaHJvbWUtYm90dG9tIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZvbHVtZVdoZWVsLmNCb3R0b20pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2b2x1bWVXaGVlbC5jQm90dG9tLmNsYXNzTGlzdC5jb250YWlucygieXRwLXZvbHVtZS1zbGlkZXItYWN0aXZlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZVdoZWVsLmNCb3R0b20uY2xhc3NMaXN0LmFkZCgieXRwLXZvbHVtZS1zbGlkZXItYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvbHVtZVdoZWVsLmNCb3R0b20udGltZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodm9sdW1lV2hlZWwuY0JvdHRvbS50aW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJtb3VzZW1vdmUiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lV2hlZWwuY0JvdHRvbS50aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGhpZGVWb2x1bWUsIDQwMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBldmVudCAmJiAoZXZlbnQuZGVsdGFZIHx8IGV2ZW50LndoZWVsRGVsdGFZKTsKICAgICAgICAgICAgICAgICAgICBhcGkuc2V0Vm9sdW1lKHBsYXllci52b2x1bWUgKiAxMDAgLSAoTWF0aC5zaWduKGRpcmVjdGlvbikgKiA1KSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFldmVudCAmJiB1c2VyX3NldHRpbmdzLlZJRF9WT0xfV0hFRUwpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3aGVlbCIsIHZvbHVtZVdoZWVsKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAiL3dhdGNoIikgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndoZWVsIiwgdm9sdW1lV2hlZWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYWdQb3BPdXQoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBleGNsdWRlZCwgaXNGU2NyZWVuOwogICAgICAgICAgICAgICAgZXhjbHVkZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIueXRwLWNocm9tZS1ib3R0b20iKTsKICAgICAgICAgICAgICAgIGlzRlNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi55dHAtZnVsbHNjcmVlbiIpOwogICAgICAgICAgICAgICAgaWYgKGV2ZW50ICYmICFpc0ZTY3JlZW4gJiYgKCFleGNsdWRlZCB8fCAoZXZlbnQudGFyZ2V0ICE9PSBleGNsdWRlZCAmJiAhZXhjbHVkZWQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICJtb3VzZWRvd24iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBkcmFnUG9wT3V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZHJhZ1BvcE91dCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub2xkUG9zID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFg6IGV2ZW50LmNsaWVudFgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWTogZXZlbnQuY2xpZW50WSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdYOiBldmVudC5jbGllbnRYLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ1k6IGV2ZW50LmNsaWVudFkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC50eXBlID09PSAibW91c2Vtb3ZlIiAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGFzTW92ZWQgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGV2ZW50LmNsaWVudFggLSB3aW5kb3cub2xkUG9zLm9yZ1gpID4gMTAgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGV2ZW50LmNsaWVudFkgLSB3aW5kb3cub2xkUG9zLm9yZ1kpID4gMTApCiAgICAgICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1vdmVCeShldmVudC5jbGllbnRYIC0gd2luZG93Lm9sZFBvcy5YLCBldmVudC5jbGllbnRZIC0gd2luZG93Lm9sZFBvcy5ZKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5oYXNNb3ZlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgIT09IDEgfHwgZXZlbnQudHlwZSA9PT0gImNsaWNrIikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmhhc01vdmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93Lm9sZFBvczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuaGFzTW92ZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgZHJhZ1BvcE91dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZHJhZ1BvcE91dCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZXZlbnQgJiYgd2luZG93Lm5hbWUgPT09ICJwb3BPdXQiKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgZHJhZ1BvcE91dCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gcmVzdW1lUGxheWJhY2soKSB7CiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKTsKICAgICAgICAgICAgICAgIGlmICh0ZW1wICYmICFpc05hTih0ZW1wLmR1cmF0aW9uKSAmJiB0ZW1wLmN1cnJlbnRUaW1lIDwgdGVtcC5kdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgIHRlbXAgPSB0ZW1wLmN1cnJlbnRUaW1lOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICJ0PSIgKyB0ZW1wOwogICAgICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHBvcFBsYXllcih1cmwpIHsKICAgICAgICAgICAgICAgIHZhciBwb3BPdXQsIHdpZHRoLCBoZWlnaHQsIHBvcF91cmwsIHZpZGVvOwogICAgICAgICAgICAgICAgd2lkdGggPSBwYXJzZUludCh1c2VyX3NldHRpbmdzLlZJRF9QUE9UX1NaKSB8fCA1MzM7CiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKHdpZHRoIC8gKDE2IC8gOSkpOwogICAgICAgICAgICAgICAgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpOwogICAgICAgICAgICAgICAgcG9wX3VybCA9ICghdXJsLnRhcmdldCAmJiB1cmwpIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KC8mdD1bMC05XSt8I3Q9WzAtOV0rfCZ0aW1lPVswLTldKy8pLmpvaW4oIiIpOwogICAgICAgICAgICAgICAgaWYgKHVybC50YXJnZXQgJiYgdmlkZW8gJiYgdmlkZW8uY3VycmVudFRpbWUgJiYgdmlkZW8uY3VycmVudFRpbWUgPCB2aWRlby5kdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgIHBvcF91cmwgKz0gIiN0PSIgKyB2aWRlby5jdXJyZW50VGltZTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3Muc3RhcnQgPSB2aWRlby5jdXJyZW50VGltZTsKICAgICAgICAgICAgICAgICAgICBhcGkuY3VlVmlkZW9CeVBsYXllclZhcnMod2luZG93Lnl0cGxheWVyLmNvbmZpZy5hcmdzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBvcE91dCA9IHdpbmRvdy5vcGVuKHBvcF91cmwsICJwb3BPdXQiLCAid2lkdGg9IiArIHdpZHRoICsgIixoZWlnaHQ9IiArIGhlaWdodCk7CiAgICAgICAgICAgICAgICBpZiAodXJsLnRhcmdldCkgewogICAgICAgICAgICAgICAgICAgIHBvcE91dC5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLCByZXN1bWVQbGF5YmFjayk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwb3BPdXQuZm9jdXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBzZXRTdWJQbGF5bGlzdChldmVudCkgewogICAgICAgICAgICAgICAgdmFyIGksIGxpc3QsIGJ1dHRvbjsKICAgICAgICAgICAgICAgIGxpc3QgPSBbXTsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmlkID09PSAic3Vic2NyaXB0aW9uLXBsYXlsaXN0IikgewogICAgICAgICAgICAgICAgICAgIGkgPSBzdWJQbGF5bGlzdC52aWRlb19saXN0Lmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChzdWJQbGF5bGlzdC52aWRlb19saXN0W2ldLmRhdGFzZXQudmlkZW9JZHMpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxpc3QgPSBsaXN0LnJldmVyc2UoKS5zcGxpY2UoMCwgMjApLmpvaW4oIiUyQyIpOwogICAgICAgICAgICAgICAgICAgIHN1YlBsYXlsaXN0Lmxpc3RfdGl0bGUgPSBzdWJQbGF5bGlzdC5saXN0X3RpdGxlLnRleHRDb250ZW50LnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vic2NyaXB0aW9uLXBsYXlsaXN0Iik7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmhyZWYgPSAiL3dhdGNoX3ZpZGVvcz90aXRsZT0iICsgc3ViUGxheWxpc3QubGlzdF90aXRsZSArICImdmlkZW9faWRzPSIgKyBsaXN0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHN1YlBsYXlsaXN0KCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiwgYnJvd3NlX2l0ZW1zOwogICAgICAgICAgICAgICAgYnJvd3NlX2l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Jyb3dzZS1pdGVtcy1wcmltYXJ5Iik7CiAgICAgICAgICAgICAgICBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Vic2NyaXB0aW9uLXBsYXlsaXN0Iik7CiAgICAgICAgICAgICAgICBzdWJQbGF5bGlzdC5saXN0X3RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N1YnNjcmlwdGlvbnMtZ3VpZGUtaXRlbSBbaHJlZj0nL2ZlZWQvc3Vic2NyaXB0aW9ucyddIik7CiAgICAgICAgICAgICAgICBzdWJQbGF5bGlzdC52aWRlb19saXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWRkdG8td2F0Y2gtbGF0ZXItYnV0dG9uIik7CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5HRU5fU1VCX0xJU1QgJiYgYnJvd3NlX2l0ZW1zICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCIvZmVlZC9zdWJzY3JpcHRpb25zIikubGVuZ3RoID4gMSAmJiAhYnV0dG9uICYmIHN1YlBsYXlsaXN0Lmxpc3RfdGl0bGUgJiYgc3ViUGxheWxpc3QudmlkZW9fbGlzdCkgewogICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGlkPSdzdWJzY3JpcHRpb24tcGxheWxpc3QtaWNvbic+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD0nc3Vic2NyaXB0aW9uLXBsYXlsaXN0JyBkYXRhLXA9J3R0bHxTVUJfUExTVCZ0bmR8U1VCX1BMU1QnIGNsYXNzPSdzcGYtbGluayc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PScwIDAgMTQgMTYnIHdpZHRoPScxNCcgaGVpZ2h0PScxNic+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0nMCwxNiAxNCw4IDAsMCAnLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICBidXR0b24gPSBzZXRMb2NhbGUoYnV0dG9uLmNvbnRlbnQpLmZpcnN0Q2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgYnJvd3NlX2l0ZW1zLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJ1dHRvbiwgYnJvd3NlX2l0ZW1zKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHNldFN1YlBsYXlsaXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBsb2FkQ29tbWVudHMoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUgJiYgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuaWQgPT09ICJQLXNob3ctY29tbWVudHMiKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZENvbW1lbnRzLmNvbW1lbnRzLmxhenlsb2FkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zcGYubG9hZC5hcHBseShtYWluLCBtb2RDb21tZW50cy5jb21tZW50cy5sYXp5bG9hZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG1vZENvbW1lbnRzLmNvbW1lbnRzLmNsYXNzTGlzdC50b2dnbGUoInNob3ciKTsKICAgICAgICAgICAgICAgICAgICBtb2RDb21tZW50cy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLnRleHRDb250ZW50ID0gbGFuZygobW9kQ29tbWVudHMuY29tbWVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCJzaG93IikgJiYgIkhJREVfQ01UUyIpIHx8ICJTSE9XX0NNVFMiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiByZXNpemVQbGF5ZXIoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciB0ZW1wLCBpc19zbWFsbCwgY29udGVudCwgbWF4X3dpZHRoOwogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCIvd2F0Y2giKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxheWVyLWFwaSIpOwogICAgICAgICAgICAgICAgaWYgKCF0ZW1wKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGVtcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgICAgICAgICAgICAgIGlzX3NtYWxsID0gd2luZG93LmlubmVyV2lkdGggPCA2NTcgPyAiIiA6ICIud2F0Y2gtc3RhZ2UtbW9kZSAiOwogICAgICAgICAgICAgICAgaWYgKGlzX3NtYWxsICE9PSAiIikgewogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfRklUX1dEVEgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1BMUl9GSVRfV0RUSC5tYXRjaCgvJS8pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSB3aW5kb3cucGFyc2VJbnQodXNlcl9zZXR0aW5ncy5WSURfUExSX0ZJVF9XRFRIKSAvIDEwMCAqIHRlbXA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSB3aW5kb3cucGFyc2VJbnQodXNlcl9zZXR0aW5ncy5WSURfUExSX0ZJVF9XRFRIKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSB0ZW1wID49IG1heF93aWR0aCA/IG1heF93aWR0aCA6IHRlbXA7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3dpZHRoID0gdGVtcCA+PSAxMjgwID8gMTI4MCA6IHRlbXA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSB0ZW1wOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29udGVudCA9IC8vCiAgICAgICAgICAgICAgICAgICAgYEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDY1NnB4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICNwbGF5ZXItYXBpLAogICAgICAgICAgICAgICAgICAgICAgICAjcGxheWVyLXVuYXZhaWxhYmxlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogNTFweDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggIzAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAjdGhlYXRlci1iYWNrZ3JvdW5kIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJHtpc19zbWFsbH0ucGxheWVyLXdpZHRoIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICR7bWF4X3dpZHRofXB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICR7bWF4X3dpZHRoIC8gMiAqIC0xfXB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR7aXNfc21hbGx9LnBsYXllci1oZWlnaHQ6bm90KC53YXRjaC1wbGF5bGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICR7bWF4X3dpZHRoIC8gKDE2IC8gOSl9cHggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJHtpc19zbWFsbH0jd2F0Y2gtYXBwYmFyLXBsYXlsaXN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAke21heF93aWR0aCAvICgxNiAvIDkpIC0gKGlzX3NtYWxsID09PSAiIiA/IDAgOiAzNjApfXB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgfWA7CiAgICAgICAgICAgICAgICB0ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInl0cC1yZXNpemVyIik7CiAgICAgICAgICAgICAgICBpZiAoIXRlbXApIHsKICAgICAgICAgICAgICAgICAgICB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICB0ZW1wLmlkID0gInl0cC1yZXNpemVyIjsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRlbXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGVtcC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7CiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJyZXNpemUiKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbW9kUGxheWVyU2l6ZSgpIHsKICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfRklUKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzaXplUGxheWVyKCk7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlc2l6ZVBsYXllcik7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic3BmZG9uZSIsIHJlc2l6ZVBsYXllcik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCByZXNpemVQbGF5ZXIpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNwZmRvbmUiLCByZXNpemVQbGF5ZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIG1vZENvbW1lbnRzKCkgewogICAgICAgICAgICAgICAgdmFyIGlzX2xpdmUgPSB3aW5kb3cueXRwbGF5ZXIgJiYgd2luZG93Lnl0cGxheWVyLmNvbmZpZyAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MgJiYgd2luZG93Lnl0cGxheWVyLmNvbmZpZy5hcmdzLmxpdmVzdHJlYW07CiAgICAgICAgICAgICAgICBtb2RDb21tZW50cy5jb21tZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3YXRjaC1kaXNjdXNzaW9uIik7CiAgICAgICAgICAgICAgICBpZiAoIWlzX2xpdmUgJiYgbW9kQ29tbWVudHMuY29tbWVudHMgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJQLXNob3ctY29tbWVudHMiKSAmJiB1c2VyX3NldHRpbmdzLlZJRF9ISURFX0NPTVMgPT09ICIxIikgewogICAgICAgICAgICAgICAgICAgIG1vZENvbW1lbnRzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwogICAgICAgICAgICAgICAgICAgIG1vZENvbW1lbnRzLndyYXBwZXIuaW5uZXJIVE1MID0gLy8KICAgICAgICAgICAgICAgICAgICAgICAgYDxkaXYgaWQ9J1Atc2hvdy1jb21tZW50cycgY2xhc3M9J3l0LWNhcmQnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0neXQtdWl4LWJ1dHRvbiB5dC11aXgtYnV0dG9uLWV4cGFuZGVyJyBkYXRhLXA9J3RuZHxTSE9XX0NNVFMnPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIG1vZENvbW1lbnRzLndyYXBwZXIgPSBzZXRMb2NhbGUobW9kQ29tbWVudHMud3JhcHBlci5jb250ZW50KS5maXJzdENoaWxkOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgbG9hZENvbW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICBtb2RDb21tZW50cy5jb21tZW50cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShtb2RDb21tZW50cy53cmFwcGVyLCBtb2RDb21tZW50cy5jb21tZW50cyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubWF0Y2goLyY/KGxjfGdvb2dsZV9jb21tZW50X2lkKT0vKSkgewogICAgICAgICAgICAgICAgICAgICAgICBtb2RDb21tZW50cy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNldEN1c3RvbVN0eWxlcyhjbHNzKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0W3VzZXJfc2V0dGluZ3NbY2xzc10gPyAiYWRkIiA6ICJyZW1vdmUiXShjdXN0b21TdHlsZXMuY3VzdG9tX3N0eWxlc1tjbHNzXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gY3VzdG9tU3R5bGVzKCkgewogICAgICAgICAgICAgICAgdmFyIGNoaWxkLCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnQsIGNvbW1lbnRzLCBzaWRlYmFyLCB5dEdyaWQsIGFkdmVydHMsIGFkc19saXN0OwogICAgICAgICAgICAgICAgY29tbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2F0Y2gtZGlzY3Vzc2lvbiIpOwogICAgICAgICAgICAgICAgeXRHcmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnl0LXVpeC1tZW51LXRvcC1sZXZlbC1mbG93LWJ1dHRvbjpsYXN0LWNoaWxkIGEiKTsKICAgICAgICAgICAgICAgIGN1c3RvbVN0eWxlcy5jdXN0b21fc3R5bGVzID0gewogICAgICAgICAgICAgICAgICAgIEdFTl9EU0JMX0FEUyAgICA6ICJwYXJ0X25vX2FkcyIsCiAgICAgICAgICAgICAgICAgICAgR0VOX0JMVUVfR0xPVyAgIDogInBhcnRfZHNibF9nbG93IiwKICAgICAgICAgICAgICAgICAgICBHRU5fSElERV9GVFIgICAgOiAicGFydF9oaWRlX2Zvb3RlciIsCiAgICAgICAgICAgICAgICAgICAgR0VOX0JUVFJfTlRGICAgIDogInBhcnRfbm90aWZfYnV0dG9uIiwKICAgICAgICAgICAgICAgICAgICBHRU5fR1JJRF9TVUJTICAgOiAicGFydF9ncmlkX3N1YnMiLAogICAgICAgICAgICAgICAgICAgIEdFTl9HUklEX1NSQ0ggICA6ICJwYXJ0X2dyaWRfc2VhcmNoIiwKICAgICAgICAgICAgICAgICAgICBHRU5fQ01QVF9UVExTICAgOiAicGFydF9jb21wYWN0X3RpdGxlcyIsCiAgICAgICAgICAgICAgICAgICAgVklEX1BMUl9BVFBMICAgIDogInBhcnRfYXV0b3BsYXlvbiIsCiAgICAgICAgICAgICAgICAgICAgVklEX1BMUl9EWU5fU0laRTogInBhcnRfc3RhdGljX3NpemUiLAogICAgICAgICAgICAgICAgICAgIFZJRF9ISURFX0RFVExTICA6ICJwYXJ0X2hpZGVfZGV0YWlscyIsCiAgICAgICAgICAgICAgICAgICAgVklEX1RUTF9DTVBUICAgIDogInBhcnRfY29tcGFjdF90aXRsZSIsCiAgICAgICAgICAgICAgICAgICAgVklEX0RFU0NfU0hSVCAgIDogInBhcnRfbGFiZWxsZXNzX2J1dHRvbnMiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy55dCAmJiB3aW5kb3cueXQuY29uZmlnXyAmJiB3aW5kb3cueXQuY29uZmlnXy5QQUdFX05BTUUgPT09ICJzaGFyZWRfY29udmVyc2F0aW9uIikgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW3JlbD0nc2hvcnRsaW5rJ10iKS5ocmVmOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubmFtZSA9PT0gInBvcE91dCIpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgicGFydF9wb3BvdXQiKTsKICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHBhcnNlSW50KHVzZXJfc2V0dGluZ3MuVklEX1BQT1RfU1opIHx8IDUzMzsKICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKHdpZHRoIC8gKDE2IC8gOSkpOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXNpemVUbygKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKyAod2luZG93Lm91dGVyV2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCksCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCArICh3aW5kb3cub3V0ZXJIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh5dEdyaWQgJiYgdXNlcl9zZXR0aW5ncy5HRU5fR1JJRF9TVUJTKSB7CiAgICAgICAgICAgICAgICAgICAgeXRHcmlkLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYnJhbmRlZC1wYWdlLXYyLXNlY29uZGFyeS1jb2wiKTsKICAgICAgICAgICAgICAgICAgICBhZHNfbGlzdCA9IC8vCiAgICAgICAgICAgICAgICAgICAgICAgIGAjbWFzdGhlYWRfY2hpbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICNmZWVkLXB5di1jb250YWluZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICN3YXRjaDctc2lkZWJhci1hZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICN3YXRjaDctc2lkZWJhci1vZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgLmFkLWRpdiwKICAgICAgICAgICAgICAgICAgICAgICAgLnB5di1hZmMtYWRzLWNvbnRhaW5lciwKICAgICAgICAgICAgICAgICAgICAgICAgLnZpZGVvLWxpc3QtaXRlbTpub3QoLnJlbGF0ZWQtbGlzdC1pdGVtKTpub3QoLmRhc2hib2FyZC13aWRnZXQtaXRlbSlgOwogICAgICAgICAgICAgICAgICAgIGFkdmVydHMgPSB1c2VyX3NldHRpbmdzLkdFTl9EU0JMX0FEUyAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFkc19saXN0KTsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYWR2ZXJ0cykgewogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGFkdmVydHM7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGlsZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuY2hpbGRFbGVtZW50Q291bnQgPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IHBhcmVudDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBhZHZlcnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhZHNfbGlzdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgc2lkZWJhciAmJgogICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFyLnBhcmVudE5vZGUgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvcmVzdWx0cyIgJiYKICAgICAgICAgICAgICAgICAgICAgICAgc2lkZWJhciAmJgogICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKS5sZW5ndGggPCAxMCkgfHwgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZWJhciAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9zZXR0aW5ncy5HRU5fSERFX1JFQ01fU0RCUiAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCIvZmVlZC9zdWJzY3JpcHRpb25zIikubGVuZ3RoID4gMSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MuR0VOX0hERV9TUkNIX1NEQlIgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvcmVzdWx0cyIgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzLkdFTl9IREVfQ0hOX1NEQlIgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgvXC8oY2hhbm5lbHx1c2VyfGMpXC8vKS5sZW5ndGggPiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2lkZWJhci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cubG9jYXRpb24uc2VhcmNoLm1hdGNoKC8mPyhsY3xnb29nbGVfY29tbWVudF9pZCk9LykgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAiL3dhdGNoIiAmJiB1c2VyX3NldHRpbmdzLlZJRF9ISURFX0NPTVMgPiAxICYmIGNvbW1lbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfSElERV9DT01TID09PSAiMSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoInBhcnRfaGlkZV9jb21tZW50cyIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlcl9zZXR0aW5ncy5WSURfSElERV9DT01TICE9PSAiMSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoInBhcnRfaGlkZV9jb21tZW50cyIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExSX0ZJVCkgewogICAgICAgICAgICAgICAgICAgICAgICBtb2RQbGF5ZXJTaXplKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGN1c3RvbVN0eWxlcy5jdXN0b21fc3R5bGVzKS5mb3JFYWNoKHNldEN1c3RvbVN0eWxlcyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCIvZmVlZC9zdWJzY3JpcHRpb25zIikubGVuZ3RoIDwgMikgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgicGFydF9ncmlkX3N1YnMiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gZGVmYXVsdENoYW5uZWxQYWdlKGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLkdFTl9DSE5fREZMVF9QQUdFICE9PSAiZGVmYXVsdCIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudGFyZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBldmVudC50YXJnZXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSAhPT0gIkEiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50Tm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS50YWdOYW1lID09PSAiQSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaHJlZiAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5ocmVmLnNwbGl0KHVzZXJfc2V0dGluZ3MuR0VOX0NITl9ERkxUX1BBR0UpLmxlbmd0aCA8IDIgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmhyZWYuc3BsaXQoIi9jaGFubmVsLyIpLmxlbmd0aCA+IDEgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmhyZWYuc3BsaXQoIi91c2VyLyIpLmxlbmd0aCA+IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuaHJlZi5zcGxpdCgvW2EtejAtOV1cL1thLXowLTldL2kpLmxlbmd0aCA8IDQKICAgICAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmhyZWYgKz0gIi8iICsgdXNlcl9zZXR0aW5ncy5HRU5fQ0hOX0RGTFRfUEFHRTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCBkZWZhdWx0Q2hhbm5lbFBhZ2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBtb2RBcmdzKGNvbmZpZykgewogICAgICAgICAgICAgICAgdmFyIGksIHRlbXAsIGxpc3QsIGxlbmd0aCwgdmlkZW9zLCBuZXdfbGlzdCwgY2FuX3NoYXJlOwogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5uYW1lID09PSAicG9wT3V0IikgewogICAgICAgICAgICAgICAgICAgIGNhbl9zaGFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wbGF5bGlzdC1oZWFkZXItY29udGVudCIpOwogICAgICAgICAgICAgICAgICAgIGlmIChjYW5fc2hhcmUgJiYgY2FuX3NoYXJlLmRhdGFzZXQuc2hhcmVhYmxlID09PSAiRmFsc2UiICYmICFjb25maWcuYXJncy52aWRlbykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuYXJncy52aWRlbyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJsaVtkYXRhLXZpZGVvLWlkXSIpOwogICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSB2aWRlb3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcmdzLnZpZGVvW2ldID0geyJlbmNyeXB0ZWRfaWQiOiB2aWRlb3NbaV0uZ2V0QXR0cmlidXRlKCJkYXRhLXZpZGVvLWlkIil9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gY29uZmlnLmFyZ3MudGl0bGU7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFyZ3MuZWwgPSAiZW1iZWRkZWQiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5hcmdzLnZxKSB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFyZ3MudnEgPSB1c2VyX3NldHRpbmdzLlZJRF9ERkxUX1FMVFk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfREZMVF9RTFRZICE9PSAiYXV0byIpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlWyJ5dC1wbGF5ZXItcXVhbGl0eSJdID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB1c2VyX3NldHRpbmdzLlZJRF9ERkxUX1FMVFksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZXhwaXJhdGlvbiI6IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgODY0RTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3JlYXRpb24iOiBuZXcgRGF0ZSgpLmdldFRpbWUoKQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmFyZ3MuY2FwdGlvbl9hdWRpb190cmFja3MgJiYgdXNlcl9zZXR0aW5ncy5WSURfUExSX0NDKSB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFyZ3MuY2FwdGlvbl9hdWRpb190cmFja3MgPSBjb25maWcuYXJncy5jYXB0aW9uX2F1ZGlvX3RyYWNrcy5zcGxpdCgvJmQ9WzAtOV18ZD1bMC05XSYvKS5qb2luKCIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfVk9MX0xETikgewogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuYXJncy5sb3VkbmVzczsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29uZmlnLmFyZ3MucmVsYXRpdmVfbG91ZG5lc3M7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExSX0hUTUw1KSB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmh0bWw1ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9QTFJfSU5GTykgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcmdzLnNob3dpbmZvID0gIjEiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5vcGVuZXIgJiYgd2luZG93LmxvY2F0aW9uLmhhc2ggIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFyZ3MuYXV0b3BsYXkgPSAiMSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF1c2VyX3NldHRpbmdzLlZJRF9QTFJfQVRQTCkgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcmdzLmF1dG9wbGF5ID0gIjAiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5hcmdzLmZmbGFncykgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcmdzLmZmbGFncyA9IGNvbmZpZy5hcmdzLmZmbGFncy5yZXBsYWNlKCJsZWdhY3lfYXV0b3BsYXlfZmxhZz10cnVlIiwgImxlZ2FjeV9hdXRvcGxheV9mbGFnPWZhbHNlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExSX1NJWkVfTUVNKSB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFyZ3MucGxheWVyX3dpZGUgPSAodXNlcl9zZXR0aW5ncy50aGVhdGVyTW9kZSAmJiAiMSIpIHx8ICIwIjsKICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lnl0cHNldHdpZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lnl0cHNldHdpZGUoIndpZGUiLCBjb25maWcuYXJncy5wbGF5ZXJfd2lkZSwgLTEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjb25maWcuYXJncy5pdl9sb2FkX3BvbGljeSAmJiB1c2VyX3NldHRpbmdzLlZJRF9QTFJfQU5UUykgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcmdzLml2X2xvYWRfcG9saWN5ID0gIjMiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1BMUl9BRFMgJiYgKCF1c2VyX3NldHRpbmdzLlZJRF9TVUJfQURTIHx8ICh1c2VyX3NldHRpbmdzLlZJRF9TVUJfQURTICYmICFjb25maWcuYXJncy5zdWJzY3JpYmVkKSkpIHsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29uZmlnLmFyZ3MuYWQzX21vZHVsZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjb25maWcuYXJncy5hZGFwdGl2ZV9mbXRzICYmIHVzZXJfc2V0dGluZ3MuVklEX1BMUl9IRlIpIHsKICAgICAgICAgICAgICAgICAgICBuZXdfbGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIGxpc3QgPSBjb25maWcuYXJncy5hZGFwdGl2ZV9mbXRzLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICAgICAgaSA9IGxpc3QubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IGxpc3RbaV0uc3BsaXQoL2Zwcz0oWzAtOV17Mn0pLylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVtcCB8fCB0ZW1wIDwgMzEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19saXN0LnB1c2gobGlzdFtpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFyZ3MuYWRhcHRpdmVfZm10cyA9IG5ld19saXN0LmpvaW4oIiwiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gbW9kTWF0Y2hNZWRpYShvcmlnaW5hbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT09ICJzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDY1NnB4KSIgJiYgdGVtcC5tYXRjaGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGVtcCwgIm1hdGNoZXMiLCB7d3JpdGFibGU6IHRydWV9KTsKICAgICAgICAgICAgICAgICAgICB0ZW1wLm1hdGNoZXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcDsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tEb21QYXJzZXIob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaSwgZnBzLCByZXN1bHQsIHN0cmVhbXM7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuVklEX1BMUl9IRlIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtcyA9IHJlc3VsdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiUmVwcmVzZW50YXRpb24iKTsKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHN0cmVhbXMubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcHMgPSBzdHJlYW1zW2ldLmdldEF0dHJpYnV0ZSgiZnJhbWVSYXRlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnBzID4gMzApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zW2ldLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmFsQ2hhbmdlcygpIHsKICAgICAgICAgICAgICAgIHZhciBsb2dvLCBjaGVja2JveCwgYXV0b3BsYXliYXIsIGRlc2NyaXB0aW9uOwogICAgICAgICAgICAgICAgYXV0b3BsYXliYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYXV0b3BsYXktYmFyIik7CiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3Rpb24tcGFuZWwtZGV0YWlscyIpOwogICAgICAgICAgICAgICAgaWYgKHVzZXJfc2V0dGluZ3MuR0VOX1lUX0xPR09fTElOSyAmJiB3aW5kb3cueXQgJiYgd2luZG93Lnl0LmNvbmZpZ18gJiYgd2luZG93Lnl0LmNvbmZpZ18uTE9HR0VEX0lOKSB7CiAgICAgICAgICAgICAgICAgICAgbG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIm1hcFtuYW1lPSdkb29kbGUnXSA+IGFyZWEsIGEjbG9nby1jb250YWluZXIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAobG9nbyAmJiBsb2dvLmhyZWYgPT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAiLyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9nby5ocmVmID0gIi9mZWVkL3N1YnNjcmlwdGlvbnMiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLkdFTl9SRU1fQVBVTiAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICIvd2F0Y2giICYmIGF1dG9wbGF5YmFyKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hlY2tib3gtb24tb2ZmIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh1c2VyX3NldHRpbmdzLlZJRF9MQVlUX0FVVE9fUE5MICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gIi93YXRjaCIgJiYgZGVzY3JpcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCJ5dC11aXgtZXhwYW5kZXItY29sbGFwc2VkIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5HRU5fU1BGX09GRiAmJiB3aW5kb3cuc3BmICYmIHdpbmRvdy5zcGYuZGlzcG9zZSkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zcGYuZGlzcG9zZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGxvY2FsWEhSKG1ldGhvZCwgY2FsbCwgdXJsLCBoZWFkKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgY2FsbCk7CiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4obWV0aG9kLCB1cmwsIHRydWUpOwogICAgICAgICAgICAgICAgaWYgKGhlYWQgJiYgaGVhZCAhPT0gImRvYyIpIHsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaGVhZFswXSwgaGVhZFsxXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gImRvY3VtZW50IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHBsYXllck1vZGUoKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFnZUVsZW1lbnQsIHBsYXllckVsZW1lbnQ7CiAgICAgICAgICAgICAgICBpZiAodXNlcl9zZXR0aW5ncy5WSURfUExSX1NJWkVfTUVNKSB7CiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFnZSIpOwogICAgICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGxheWVyIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy55dHBzZXR3aWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy55dHBzZXR3aWRlKCJ3aWRlIiwgKHVzZXJfc2V0dGluZ3MudGhlYXRlck1vZGUgPyAiMSIgOiAiMCIpLCAtMSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRWxlbWVudCAmJiBwbGF5ZXJFbGVtZW50ICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gIi93YXRjaCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQuY2xhc3NMaXN0W3VzZXJfc2V0dGluZ3MudGhlYXRlck1vZGUgPyAiYWRkIiA6ICJyZW1vdmUiXSgid2F0Y2gtd2lkZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudC5jbGFzc05hbWUgPSBwYWdlRWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSh1c2VyX3NldHRpbmdzLnRoZWF0ZXJNb2RlID8gIm5vbi0iIDogIndhdGNoLXN0YWdlIiwgdXNlcl9zZXR0aW5ncy50aGVhdGVyTW9kZSA/ICIiIDogIndhdGNoLW5vbi1zdGFnZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJFbGVtZW50LmNsYXNzTmFtZSA9IHVzZXJfc2V0dGluZ3MudGhlYXRlck1vZGUgPyBwbGF5ZXJFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKCJzbWFsbCIsICJsYXJnZSIpIDogcGxheWVyRWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgibGFyZ2UiLCAic21hbGwiKS5yZXBsYWNlKCJtZWRpdW0iLCAic21hbGwiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gaW5maW5pdGVTY3JvbGwoKSB7CiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIsIGxvYWRNb3JlOwogICAgICAgICAgICAgICAgbG9hZE1vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubG9hZC1tb3JlLWJ1dHRvbiIpOwogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gIi93YXRjaCIgJiYgbG9hZE1vcmUgJiYgdXNlcl9zZXR0aW5ncy5HRU5fSU5GX1NDUkwpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWxvYWRNb3JlLmNsYXNzTGlzdC5jb250YWlucygiaW5maW5pdGVTY3JvbGwiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBsb2FkTW9yZS5jbGFzc0xpc3QuYWRkKCJpbmZpbml0ZVNjcm9sbCIpOwogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGluZmluaXRlU2Nyb2xsKTsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShsb2FkTW9yZSwge2F0dHJpYnV0ZXM6IHRydWV9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkTW9yZS5jbGFzc0xpc3QuY29udGFpbnMoInNjcm9sbGRldGVjdCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRNb3JlLmNsYXNzTGlzdC5hZGQoInNjcm9sbGRldGVjdCIpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2FkTW9yZS5kYXRhc2V0LnNjcm9sbGRldGVjdENhbGxiYWNrID0gImxvYWQtbW9yZS1hdXRvIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tOZXdGZWF0dXJlcygpIHsKICAgICAgICAgICAgICAgIHZhciBpLCBrZXlzOwogICAgICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGRlZmF1bHRfc2V0dGluZ3MpOwogICAgICAgICAgICAgICAgaSA9IGtleXMubGVuZ3RoOwogICAgICAgICAgICAgICAgd2hpbGUgKGkpIHsKICAgICAgICAgICAgICAgICAgICBpIC09IDE7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VyX3NldHRpbmdzLmhhc093blByb3BlcnR5KGtleXNbaV0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldChrZXlzW2ldLCBkZWZhdWx0X3NldHRpbmdzW2tleXNbaV1dKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2hhcmVBcGkob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcGxheWVyUmVhZHkoKTsKICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiByZXF1ZXN0KGV2ZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgdmlkZW9fcGxheWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vdmllX3BsYXllciIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImZsb2F0ZXIiKTsKICAgICAgICAgICAgICAgIGlmICh2aWRlb19wbGF5ZXIpIHsKICAgICAgICAgICAgICAgICAgICB2aWRlb19wbGF5ZXIucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpOwogICAgICAgICAgICAgICAgICAgIGlmICghdXNlcl9zZXR0aW5ncy5WSURfUExSX0FUUEwgfHwgIWV2ZW50LmRldGFpbC51cmwuaW5kZXhPZigiL3dhdGNoIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy55dHBsYXllciAmJiB3aW5kb3cueXRwbGF5ZXIuY29uZmlnICYmIHdpbmRvdy55dHBsYXllci5jb25maWcubG9hZGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93Lnl0cGxheWVyLmNvbmZpZy5sb2FkZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYXBpLmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gcGFnZVNjcmlwdE1lc3NhZ2VzKCkgewogICAgICAgICAgICAgICAgdmFyIGtleSwgZ2F0ZSwgc2V0cywgb2JzZXJ2ZXI7CiAgICAgICAgICAgICAgICBrZXkgPSAicGFycmVjZWl2ZSI7CiAgICAgICAgICAgICAgICBnYXRlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgICAgICAgICAgc2V0cyA9IEpTT04ucGFyc2UoZ2F0ZS5kYXRhc2V0W2tleV0gfHwgbnVsbCk7CiAgICAgICAgICAgICAgICBpZiAoIWdhdGUucGFnZXNjcmlwdCkgewogICAgICAgICAgICAgICAgICAgIGdhdGUucGFnZXNjcmlwdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihwYWdlU2NyaXB0TWVzc2FnZXMpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5vYnNlcnZlKGdhdGUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbImRhdGEtIiArIGtleV0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZXRzKSB7CiAgICAgICAgICAgICAgICAgICAgdXNlcl9zZXR0aW5ncyA9IHNldHM7CiAgICAgICAgICAgICAgICAgICAgZ2F0ZS5kYXRhc2V0W2tleV0gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGN1c3RvbVN0eWxlcygpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtcGFycmVjZWl2ZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNldChzZXR0aW5nLCBuZXdfdmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nICE9PSAidXNlcl9zZXR0aW5ncyIpIHsKICAgICAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzW3NldHRpbmddID0gbmV3X3ZhbHVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB1c2VyX3NldHRpbmdzID0gbmV3X3ZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQucGFyc2VuZCA9IEpTT04uc3RyaW5naWZ5KHVzZXJfc2V0dGluZ3MpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIG1haW4oKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNNYXRlcmlhbCgpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFnZVNjcmlwdE1lc3NhZ2VzKCk7CiAgICAgICAgICAgICAgICBjdXN0b21TdHlsZXMoKTsKICAgICAgICAgICAgICAgIHNldHRpbmdzTWVudSgpOwogICAgICAgICAgICAgICAgaW5maW5pdGVTY3JvbGwoKTsKICAgICAgICAgICAgICAgIHBsYXlsaXN0Q29udHJvbHMoKTsKICAgICAgICAgICAgICAgIHBsYXllck1vZGUoKTsKICAgICAgICAgICAgICAgIG1vZFBsYXllclNpemUoKTsKICAgICAgICAgICAgICAgIGFkdmFuY2VkT3B0aW9ucygpOwogICAgICAgICAgICAgICAgdm9sdW1lV2hlZWwoKTsKICAgICAgICAgICAgICAgIHN1YlBsYXlsaXN0KCk7CiAgICAgICAgICAgICAgICBhbHdheXNWaXNpYmxlKCk7CiAgICAgICAgICAgICAgICBtb2RUaHVtYnMoKTsKICAgICAgICAgICAgICAgIGVuaGFuY2VkRGV0YWlscygpOwogICAgICAgICAgICAgICAgbW9kQ29tbWVudHMoKTsKICAgICAgICAgICAgICAgIGRlZmF1bHRDaGFubmVsUGFnZSgpOwogICAgICAgICAgICAgICAgZ2VuZXJhbENoYW5nZXMoKTsKICAgICAgICAgICAgICAgIGRyYWdQb3BPdXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBpc01hdGVyaWFsKCkgewogICAgICAgICAgICAgICAgdmFyIHRlbXA7CiAgICAgICAgICAgICAgICB0ZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigieXRkLWFwcCwgW3NyYyo9J3BvbHltZXInXSIpIHx8IHdpbmRvdy5Qb2x5bWVyOwogICAgICAgICAgICAgICAgaWYgKHRlbXAgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXRlcmlhbC1ub3RpY2UiKSkgewogICAgICAgICAgICAgICAgICAgIHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwogICAgICAgICAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gLy8KICAgICAgICAgICAgICAgICAgICAgICAgYDxkaXYgaWQ9J21hdGVyaWFsLW5vdGljZScgc3R5bGU9J2JvcmRlci1yYWRpdXM6MnB4O2NvbG9yOiNGRkY7cGFkZGluZzoxMHB4O2JhY2tncm91bmQtY29sb3I6IzA5Rjtib3gtc2hhZG93OjAgMCAzcHggcmdiYSgwLDAsMCwuNSk7Zm9udC1zaXplOjEycHg7cG9zaXRpb246Zml4ZWQ7Ym90dG9tOjIwcHg7cmlnaHQ6NTBweDt6LWluZGV4Ojk5OTk5Jz4KICAgICAgICAgICAgICAgICAgICAgICAgWW91VHViZSBQbHVzIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIFlvdVR1YmUgYmV0YSBNYXRlcmlhbCBMYXlvdXQ8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9QYXJ0aWNsZUNvcmUvUGFydGljbGUvd2lraS9SZXN0b3JlLWNsYXNzaWMtWW91VHViZScgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdjb2xvcjojRkZGO2ZvbnQtd2VpZ2h0OmJvbGQ7Jz5DbGljayBoZXJlPC9hPiBmb3IgaW5zdHJ1Y3Rpb25zIHRvIHJlc3RvcmUgY2xhc3NpYyBZb3VUdWJlIGFuZCBjb250aW51ZSB1c2luZyBZVCs8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgIFdoZW4gYW4gYWxwaGEgdmVyc2lvbiBpcyByZWFkeSBmb3IgcHVibGljIHRlc3RpbmcgaXQgd2lsbCBiZSBhbm5vdW5jZWQgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL1BhcnRpY2xlQ29yZS9QYXJ0aWNsZS9pc3N1ZXMvNDQ4JyB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2NvbG9yOiNGRkY7Zm9udC13ZWlnaHQ6Ym9sZDsnPmhlcmU8L2E+PGJyPgogICAgICAgICAgICAgICAgICAgICAgICBUbyBrZWVwIHVzaW5nIHRoZSBjdXJyZW50IGxheW91dCB3aXRob3V0IHRoaXMgbWVzc2FnZSBwbGVhc2UgZGlzYWJsZSBZVCsKICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGVtcC5jb250ZW50LmZpcnN0Q2hpbGQpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtdXNlcl9zZXR0aW5ncyIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBhcGksIGNpZCwgbGFuZ3VhZ2UsIHVzZXJfc2V0dGluZ3MsIHBsYXllcl9pbnN0YW5jZSwgZGVmYXVsdF9zZXR0aW5nczsKICAgICAgICAgICAgaWYgKGlzTWF0ZXJpYWwoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNpZCA9IHt9OwogICAgICAgICAgICB1c2VyX3NldHRpbmdzID0gSlNPTi5wYXJzZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC51c2VyX3NldHRpbmdzIHx8IG51bGwpOwogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQudXNlcl9zZXR0aW5ncykgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS11c2VyX3NldHRpbmdzIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVmYXVsdF9zZXR0aW5ncyA9IHsKICAgICAgICAgICAgICAgIEdFTl9CVFRSX05URiAgICA6IHRydWUsCiAgICAgICAgICAgICAgICBHRU5fU1VCX0xJU1QgICAgOiB0cnVlLAogICAgICAgICAgICAgICAgR0VOX0lORl9TQ1JMICAgIDogdHJ1ZSwKICAgICAgICAgICAgICAgIEdFTl9CTFVFX0dMT1cgICA6IHRydWUsCiAgICAgICAgICAgICAgICBHRU5fUFBPVF9PTiAgICAgOiB0cnVlLAogICAgICAgICAgICAgICAgVklEX0VORF9TSFJFICAgIDogdHJ1ZSwKICAgICAgICAgICAgICAgIFZJRF9ERkxUX1FMVFkgICA6ICJhdXRvIiwKICAgICAgICAgICAgICAgIFZJRF9QTFNUX0FUUEwgICA6IHRydWUsCiAgICAgICAgICAgICAgICBWSURfUExTVF9SVlJTICAgOiB0cnVlLAogICAgICAgICAgICAgICAgVklEX1BMUl9BVFBMICAgIDogdHJ1ZSwKICAgICAgICAgICAgICAgIFZJRF9QTFJfQUxWSVMgICA6IHRydWUsCiAgICAgICAgICAgICAgICBWSURfUExSX1NJWkVfTUVNOiB0cnVlLAogICAgICAgICAgICAgICAgVklEX1BMUl9WT0xfTEROIDogdHJ1ZSwKICAgICAgICAgICAgICAgIFZJRF9QT1NUX1RJTUUgICA6IHRydWUsCiAgICAgICAgICAgICAgICBWSURfVklEX0NOVCAgICAgOiB0cnVlLAogICAgICAgICAgICAgICAgVklEX0RFU0NfU0hSVCAgIDogdHJ1ZSwKICAgICAgICAgICAgICAgIFZJRF9QUE9UX1NaICAgICA6IDUzMywKICAgICAgICAgICAgICAgIFZJRF9QTFJfSFRNTDUgICA6IHRydWUsCiAgICAgICAgICAgICAgICBCTEtfT04gICAgICAgICAgOiB0cnVlLAogICAgICAgICAgICAgICAgZmxvYXRlclggICAgICAgIDogMjAwMCwKICAgICAgICAgICAgICAgIGZsb2F0ZXJZICAgICAgICA6IDIwMDAsCiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgICAgICAgOiB0cnVlLAogICAgICAgICAgICAgICAgdm9sTGV2ICAgICAgICAgIDogNTAsCiAgICAgICAgICAgICAgICBhZHZPcHRzICAgICAgICAgOiB0cnVlLAogICAgICAgICAgICAgICAgYmxhY2tsaXN0ICAgICAgIDoge30KICAgICAgICAgICAgfTsKICAgICAgICAgICAgbGFuZ3VhZ2UgPSB7CiAgICAgICAgICAgICAgICBZVFNFVFMgICAgICAgICAgICAgICAgOiAiWW91VHViZSsgc2V0dGluZ3MiLAogICAgICAgICAgICAgICAgQURWX09QVFMgICAgICAgICAgICAgIDogIkFkdmFuY2VkIG9wdGlvbnMiLAogICAgICAgICAgICAgICAgU1VCX1BMU1QgICAgICAgICAgICAgIDogIlBsYXkgcmVjZW50IHVwbG9hZHMiLAogICAgICAgICAgICAgICAgUFBPVF9PUEVOICAgICAgICAgICAgIDogIk9wZW4gaW4gcG9wLW91dCIsCiAgICAgICAgICAgICAgICBCTENLX0FERCAgICAgICAgICAgICAgOiAiQWRkIHRvIGJsYWNrbGlzdCIsCiAgICAgICAgICAgICAgICBCTENLX0VESVQgICAgICAgICAgICAgOiAiRWRpdCIsCiAgICAgICAgICAgICAgICBCTENLX1NBVkUgICAgICAgICAgICAgOiAiU2F2ZSIsCiAgICAgICAgICAgICAgICBCTENLX0NMU0UgICAgICAgICAgICAgOiAiQ2xvc2UiLAogICAgICAgICAgICAgICAgQ05TTF9BUCAgICAgICAgICAgICAgIDogIkF1dG9wbGF5IiwKICAgICAgICAgICAgICAgIENOU0xfUlBUICAgICAgICAgICAgICA6ICJSZXBlYXQgdmlkZW8iLAogICAgICAgICAgICAgICAgQ05TTF9TVlRIICAgICAgICAgICAgIDogIk9wZW4gdGh1bWJuYWlsIiwKICAgICAgICAgICAgICAgIENOU0xfU1MgICAgICAgICAgICAgICA6ICJUYWtlIHNjcmVlbnNob3QiLAogICAgICAgICAgICAgICAgQ05TTF9TU19DTFMgICAgICAgICAgIDogIkNMT1NFIiwKICAgICAgICAgICAgICAgIENOU0xfUFBPVCAgICAgICAgICAgICA6ICJQb3Atb3V0IHZpZGVvIiwKICAgICAgICAgICAgICAgIENOU0xfRkxCUiAgICAgICAgICAgICA6ICJGdWxsYnJvd3NlciBtb2RlIiwKICAgICAgICAgICAgICAgIENOU0xfQ0lOTV9NRCAgICAgICAgICA6ICJDaW5lbWEgbW9kZSIsCiAgICAgICAgICAgICAgICBDTlNMX0ZSTUUgICAgICAgICAgICAgOiAiRnJhbWUgYnkgZnJhbWUgKFNoaWZ0ICsg4oaQIG9yIOKGkikiLAogICAgICAgICAgICAgICAgQ05TTF9ZVFNDICAgICAgICAgICAgIDogIllvdVR1YmUgc2hvcnRjdXRzIGxpc3QiLAogICAgICAgICAgICAgICAgUExTVF9BUCAgICAgICAgICAgICAgIDogIkF1dG9wbGF5IiwKICAgICAgICAgICAgICAgIFBMU1RfUlZSUyAgICAgICAgICAgICA6ICJSZXZlcnNlIiwKICAgICAgICAgICAgICAgIFNIT1dfQ01UUyAgICAgICAgICAgICA6ICJTaG93IGNvbW1lbnRzIiwKICAgICAgICAgICAgICAgIEhJREVfQ01UUyAgICAgICAgICAgICA6ICJIaWRlIGNvbW1lbnRzIiwKICAgICAgICAgICAgICAgIEdMQl9JTVBSICAgICAgICAgICAgICA6ICJJbXBvcnQvZXhwb3J0IHNldHRpbmdzIiwKICAgICAgICAgICAgICAgIEdMQl9MT0NMX0xBTkcgICAgICAgICA6ICJDbGljayB0byBlZGl0IFlUKyBsYW5ndWFnZSIsCiAgICAgICAgICAgICAgICBHTEJfTE9DTF9MQU5HX0NTVE0gICAgOiAiTG9jYWwiLAogICAgICAgICAgICAgICAgR0xCX0lNUFJfU0FWRSAgICAgICAgIDogIlNhdmUgYW5kIGxvYWQiLAogICAgICAgICAgICAgICAgR0xCX1JTRVQgICAgICAgICAgICAgIDogIlJlc2V0IiwKICAgICAgICAgICAgICAgIEdMQl9SU0VUX0NPTkYgICAgICAgICA6ICJUaGlzIHdpbGwgcmVzZXQgWVQrIHNldHRpbmdzIGFuZCB0aGUgYmxhY2tsaXN0IHdpbGwgYmUgZXJhc2VkLiBEbyB5b3Ugd2FudCB0byBjb250aW51ZT8iLAogICAgICAgICAgICAgICAgR0xCX1NWRSAgICAgICAgICAgICAgIDogIlNhdmUiLAogICAgICAgICAgICAgICAgR0xCX1NWRV9TRVRTICAgICAgICAgIDogIlNldHRpbmdzIHNhdmVkIiwKICAgICAgICAgICAgICAgIEdMQl9STUJMICAgICAgICAgICAgICA6ICJSZW1vdmUgZnJvbSBibGFja2xpc3QiLAogICAgICAgICAgICAgICAgRlRSX0RFU0MgICAgICAgICAgICAgIDogIkZpbmQgb3V0IHdoYXQgdGhpcyBkb2VzIiwKICAgICAgICAgICAgICAgIEdFTiAgICAgICAgICAgICAgICAgICA6ICJHZW5lcmFsIiwKICAgICAgICAgICAgICAgIFZJRCAgICAgICAgICAgICAgICAgICA6ICJWaWRlbyIsCiAgICAgICAgICAgICAgICBDSE4gICAgICAgICAgICAgICAgICAgOiAiQ2hhbm5lbHMiLAogICAgICAgICAgICAgICAgQkxLICAgICAgICAgICAgICAgICAgIDogIkJsYWNrbGlzdCIsCiAgICAgICAgICAgICAgICBBQlQgICAgICAgICAgICAgICAgICAgOiAiQWJvdXQiLAogICAgICAgICAgICAgICAgSExQICAgICAgICAgICAgICAgICAgIDogIkhlbHAiLAogICAgICAgICAgICAgICAgRE5UICAgICAgICAgICAgICAgICAgIDogIkRvbmF0ZSIsCiAgICAgICAgICAgICAgICBHRU5fVFRMICAgICAgICAgICAgICAgOiAiR2VuZXJhbCBzZXR0aW5ncyIsCiAgICAgICAgICAgICAgICBHRU5fR0VOICAgICAgICAgICAgICAgOiAiR2VuZXJhbCIsCiAgICAgICAgICAgICAgICBHRU5fTFlUICAgICAgICAgICAgICAgOiAiTGF5b3V0IiwKICAgICAgICAgICAgICAgIEdFTl9MT0NMX0xBTkcgICAgICAgICA6ICJVc2UgbW9kaWZpZWQgWVQrIGxhbmd1YWdlIiwKICAgICAgICAgICAgICAgIEdFTl9QUE9UX09OICAgICAgICAgICA6ICJFbmFibGUgcG9wLW91dCBtb2RlIiwKICAgICAgICAgICAgICAgIEdFTl9EU0JMX0FEUyAgICAgICAgICA6ICJEaXNhYmxlIGFkdmVydGlzZW1lbnRzIG91dHNpZGUgdGhlIHZpZGVvIHBhZ2UiLAogICAgICAgICAgICAgICAgR0VOX0lORl9TQ1JMICAgICAgICAgIDogIkVuYWJsZSBpbmZpbml0ZSBzY3JvbGwgaW4gZmVlZHMiLAogICAgICAgICAgICAgICAgR0VOX1lUX0xPR09fTElOSyAgICAgIDogIllvdVR1YmUgbG9nbyByZWRpcmVjdHMgdG8gc3Vic2NyaXB0aW9ucyIsCiAgICAgICAgICAgICAgICBHRU5fU1VCX0xJU1QgICAgICAgICAgOiAiRW5hYmxlIHN1YnNjcmlwdGlvbiBwbGF5bGlzdCIsCiAgICAgICAgICAgICAgICBHRU5fUkVNX0FQVU4gICAgICAgICAgOiAiUmVtb3ZlIGF1dG9wbGF5IHVwIG5leHQiLAogICAgICAgICAgICAgICAgR0VOX1NQRl9PRkYgICAgICAgICAgIDogIkRpc2FibGUgU1BGIiwKICAgICAgICAgICAgICAgIEdFTl9ISURFX0ZUUiAgICAgICAgICA6ICJIaWRlIGZvb3RlciIsCiAgICAgICAgICAgICAgICBHRU5fQkxVRV9HTE9XICAgICAgICAgOiAiUmVtb3ZlIGJsdWUgZ2xvdyBhcm91bmQgY2xpY2tlZCBidXR0b25zIiwKICAgICAgICAgICAgICAgIEdFTl9IREVfUkVDTV9TREJSICAgICA6ICJIaWRlIHJlY29tbWVuZGVkIGNoYW5uZWxzIHNpZGViYXIiLAogICAgICAgICAgICAgICAgR0VOX0hERV9TUkNIX1NEQlIgICAgIDogIkhpZGUgc2VhcmNoIHJlc3VsdHMgc2lkZWJhciIsCiAgICAgICAgICAgICAgICBHRU5fSERFX0NITl9TREJSICAgICAgOiAiSGlkZSBjaGFubmVsIHNpZGViYXIiLAogICAgICAgICAgICAgICAgR0VOX0NNUFRfVFRMUyAgICAgICAgIDogIkNvbXBhY3QgdGl0bGVzIGluIGZlZWRzIiwKICAgICAgICAgICAgICAgIEdFTl9EU0JfSFZSQyAgICAgICAgICA6ICJEaXNhYmxlIGhvdmVyY2FyZHMiLAogICAgICAgICAgICAgICAgR0VOX0JUVFJfTlRGICAgICAgICAgIDogIkltcHJvdmVkIGJsdWUgbm90aWZpY2F0aW9uIGJveCIsCiAgICAgICAgICAgICAgICBHRU5fR1JJRF9TVUJTICAgICAgICAgOiAiR3JpZCBsYXlvdXQgaW4gc3Vic2NyaXB0aW9ucyIsCiAgICAgICAgICAgICAgICBHRU5fR1JJRF9TUkNIICAgICAgICAgOiAiR3JpZCBsYXlvdXQgaW4gc2VhcmNoIHJlc3VsdHMiLAogICAgICAgICAgICAgICAgVklEX1RUTCAgICAgICAgICAgICAgIDogIlZpZGVvIHNldHRpbmdzIiwKICAgICAgICAgICAgICAgIFZJRF9QTFIgICAgICAgICAgICAgICA6ICJQbGF5ZXIgc2V0dGluZ3MiLAogICAgICAgICAgICAgICAgVklEX1BMUl9MWVQgICAgICAgICAgIDogIlBsYXllciBsYXlvdXQiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWSAgICAgICAgIDogIkRlZmF1bHQgdmlkZW8gcXVhbGl0eToiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV9BVVRPICAgIDogIkF1dG8iLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV9UTlkgICAgIDogIjE0NHAiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV9TTUwgICAgIDogIjI0MHAiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV9NRE0gICAgIDogIjM2MHAiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV9MUkcgICAgIDogIjQ4MHAiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV83MjAgICAgIDogIjcyMHAiLAogICAgICAgICAgICAgICAgVklEX0RGTFRfUUxUWV8xMDgwICAgIDogIjEwODBwIiwKICAgICAgICAgICAgICAgIFZJRF9ERkxUX1FMVFlfMTQ0MCAgICA6ICIxNDQwcCIsCiAgICAgICAgICAgICAgICBWSURfREZMVF9RTFRZXzIxNjAgICAgOiAiMjE2MHAgKDRrKSIsCiAgICAgICAgICAgICAgICBWSURfREZMVF9RTFRZXzI4ODAgICAgOiAiMjg4MHAgKDVrKSIsCiAgICAgICAgICAgICAgICBWSURfREZMVF9RTFRZX09SSUcgICAgOiAiNDMyMHAgKDhrKSIsCiAgICAgICAgICAgICAgICBWSURfUExSX0FMVklTICAgICAgICAgOiAiUGxheWVyIGFsd2F5cyB2aXNpYmxlIHdoZW4gcmVhZGluZyBjb21tZW50cyIsCiAgICAgICAgICAgICAgICBWSURfUExSX0FMVklTX1dEVEggICAgOiAiRmxvYXRpbmcgcGxheWVyIHdpZHRoIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfQUxWSVNfTU9WRSAgICA6ICJNb3ZlIHBsYXllciIsCiAgICAgICAgICAgICAgICBWSURfUExSX0FMVklTX1NDUkxfVE9QOiAiR28gdG8gdG9wIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfQVRQTCAgICAgICAgICA6ICJBdXRvcGxheSB2aWRlb3MiLAogICAgICAgICAgICAgICAgVklEX0xBWVQgICAgICAgICAgICAgIDogIkxheW91dCIsCiAgICAgICAgICAgICAgICBWSURfVklEX0NOVCAgICAgICAgICAgOiAiU2hvdyBsaW5rIHdpdGggbnVtYmVyIG9mIHVwbG9hZGVkIHZpZGVvcyIsCiAgICAgICAgICAgICAgICBWSURfUE9TVF9USU1FICAgICAgICAgOiAiU2hvdyBob3cgbG9uZyB0aGUgdmlkZW8gaGFzIGJlZW4gcHVibGlzaGVkIiwKICAgICAgICAgICAgICAgIFZJRF9ISURFX0RFVExTICAgICAgICA6ICJIaWRlIHZpZGVvIGRldGFpbHMiLAogICAgICAgICAgICAgICAgVklEX0hJREVfQ09NUyAgICAgICAgIDogIkNvbW1lbnQgc2VjdGlvbiIsCiAgICAgICAgICAgICAgICBWSURfSElERV9DT01TX1NIT1cgICAgOiAiU2hvdyIsCiAgICAgICAgICAgICAgICBWSURfSElERV9DT01TX0hJREUgICAgOiAiSGlkZSIsCiAgICAgICAgICAgICAgICBWSURfSElERV9DT01TX1JFTSAgICAgOiAiUmVtb3ZlIiwKICAgICAgICAgICAgICAgIFZJRF9FTkRfU0hSRSAgICAgICAgICA6ICJEaXNhYmxlIHNoYXJlIHBhbmVsIHdoZW4gdmlkZW8gZW5kcyIsCiAgICAgICAgICAgICAgICBWSURfUExTVCAgICAgICAgICAgICAgOiAiUGxheWxpc3RzIiwKICAgICAgICAgICAgICAgIFZJRF9QTFNUX0FUUEwgICAgICAgICA6ICJFbmFibGUgcGxheWxpc3QgYXV0b3BsYXkgY29udHJvbCIsCiAgICAgICAgICAgICAgICBWSURfUExTVF9SVlJTICAgICAgICAgOiAiRW5hYmxlIHJldmVyc2UgcGxheWxpc3QgY29udHJvbCIsCiAgICAgICAgICAgICAgICBWSURfUExSX1NJWkVfTUVNICAgICAgOiAiTWVtb3JpemUgcGxheWVyIG1vZGUiLAogICAgICAgICAgICAgICAgVklEX1ZPTF9XSEVFTCAgICAgICAgIDogIkNoYW5nZSB2b2x1bWUgd2l0aCBtb3VzZSB3aGVlbCIsCiAgICAgICAgICAgICAgICBWSURfUExSX1ZPTF9NRU0gICAgICAgOiAiTWVtb3JpemUgYXVkaW8gdm9sdW1lIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfVk9MX0xETiAgICAgICA6ICJEaXNhYmxlIFlvdVR1YmUgbG91ZG5lc3Mgbm9ybWFsaXNhdGlvbiIsCiAgICAgICAgICAgICAgICBWSURfUExSX0FEUyAgICAgICAgICAgOiAiRGlzYWJsZSBhZHZlcnRpc2VtZW50cyBpbiB0aGUgdmlkZW8gcGFnZSIsCiAgICAgICAgICAgICAgICBWSURfUExSX0FMQUNUICAgICAgICAgOiAiUGxheWVyIHNob3J0Y3V0cyBhbHdheXMgYWN0aXZlIiwKICAgICAgICAgICAgICAgIFZJRF9TVUJfQURTICAgICAgICAgICA6ICJFbmFibGUgYWR2ZXJ0aXNlbWVudHMgb25seSBpbiB2aWRlb3MgZnJvbSBzdWJzY3JpYmVkIGNoYW5uZWxzIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfQU5UUyAgICAgICAgICA6ICJEaXNhYmxlIGFubm90YXRpb25zIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfSEZSICAgICAgICAgICA6ICJEaXNhYmxlIEhGUiAoNjBmcHMpIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfSFRNTDUgICAgICAgICA6ICJVc2UgdGhlIEhUTUw1IHBsYXllciB3aGVuIHBvc3NpYmxlIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfQ0MgICAgICAgICAgICA6ICJEaXNhYmxlIHN1YnRpdGxlcyBhbmQgQ0MiLAogICAgICAgICAgICAgICAgVklEX1BMUl9JTkZPICAgICAgICAgIDogIkVuYWJsZSBpbmZvIGJhciB3aXRoIHdhdGNoIGxhdGVyIGJ1dHRvbiIsCiAgICAgICAgICAgICAgICBWSURfUExSX0ZJVCAgICAgICAgICAgOiAiRml0IHRvIHBhZ2UgaW4gdGhlYXRlciBtb2RlIiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfRklUX1dEVEggICAgICA6ICJGaXQgdG8gcGFnZSBtYXggd2lkdGg6IiwKICAgICAgICAgICAgICAgIFZJRF9QTFJfRFlOX1NJWkUgICAgICA6ICJEaXNhYmxlIGR5bmFtaWMgcGxheWVyIHNpemUgaW4gZGVmYXVsdCB2aWV3IiwKICAgICAgICAgICAgICAgIFZJRF9ERVNDX1NIUlQgICAgICAgICA6ICJTaG9ydCB2aWRlbyBkZXNjcmlwdGlvbiBidXR0b25zIiwKICAgICAgICAgICAgICAgIFZJRF9UVExfQ01QVCAgICAgICAgICA6ICJDb21wYWN0IHRpdGxlIGluIHZpZGVvIGRlc2NyaXB0aW9uIiwKICAgICAgICAgICAgICAgIFZJRF9QUE9UX1NaICAgICAgICAgICA6ICJQb3Atb3V0IHBsYXllciBzaXplIiwKICAgICAgICAgICAgICAgIFZJRF9MQVlUX0FVVE9fUE5MICAgICA6ICJBdXRvIGV4cGFuZCB2aWRlbyBkZXNjcmlwdGlvbiIsCiAgICAgICAgICAgICAgICBHRU5fQ0hOX0RGTFRfUEFHRSAgICAgOiAiRGVmYXVsdCBjaGFubmVsIHBhZ2U6IiwKICAgICAgICAgICAgICAgIEdFTl9DSE5fREZMVF9QQUdFX0RGTFQ6ICJEZWZhdWx0IiwKICAgICAgICAgICAgICAgIEdFTl9DSE5fREZMVF9QQUdFX1ZJRCA6ICJWaWRlb3MiLAogICAgICAgICAgICAgICAgR0VOX0NITl9ERkxUX1BBR0VfUEwgIDogIlBsYXlsaXN0cyIsCiAgICAgICAgICAgICAgICBHRU5fQ0hOX0RGTFRfUEFHRV9DSE4gOiAiQ2hhbm5lbHMiLAogICAgICAgICAgICAgICAgR0VOX0NITl9ERkxUX1BBR0VfRElTQzogIkRpc2N1c3Npb24iLAogICAgICAgICAgICAgICAgR0VOX0NITl9ERkxUX1BBR0VfQUJUIDogIkFib3V0IiwKICAgICAgICAgICAgICAgIEJMS19UVEwgICAgICAgICAgICAgICA6ICJCbGFja2xpc3Qgc2V0dGluZ3MiLAogICAgICAgICAgICAgICAgQkxLX0JMSyAgICAgICAgICAgICAgIDogIkJsYWNrbGlzdCIsCiAgICAgICAgICAgICAgICBCTEtfT04gICAgICAgICAgICAgICAgOiAiRW5hYmxlIGJsYWNrbGlzdCIsCiAgICAgICAgICAgICAgICBBQlRfVFRMICAgICAgICAgICAgICAgOiAiSW5mb3JtYXRpb24gYW5kIHVzZWZ1bCBsaW5rcyIsCiAgICAgICAgICAgICAgICBBQlRfVEhLUyAgICAgICAgICAgICAgOiAiVGhhbmtzIHRvOiIsCiAgICAgICAgICAgICAgICBBQlRfVEhLU19ZRVBQSEEgICAgICAgOiAiLCB3aG8ncyB3b3JrIGluc3BpcmVkIHRoZSBjcmVhdGlvbiBvZiB0aGlzIHByb2plY3QsIHdpdGhvdXQgd2hvbSBub25lIG9mIHRoaXMgd291bGQgZXhpc3QgdG9kYXkuIiwKICAgICAgICAgICAgICAgIEFCVF9USEtTX1VTRVJTQ1JJUFQgICA6ICIgZm9yIG1ha2luZyB0aGUgdGFzayBvZiBkZXZlbG9waW5nIGFuZCBzaGlwcGluZyB0aGlyZCBwYXJ0eSBzb2Z0d2FyZSBpbmNyZWRpYmx5IGVhc2llci4iLAogICAgICAgICAgICAgICAgQUJUX1RIS1NfU1RBQ0tPViAgICAgIDogIiBmb3IgYWxsIG9mIGl0cyBwcmljZWxlc3MgaW5mb3JtYXRpb24gd2hpY2ggZ3JlYXRseSBjb250cmlidXRlcyBmb3Igc29mdHdhcmUgZGV2ZWxvcG1lbnQuIiwKICAgICAgICAgICAgICAgIEFCVF9JTkZPICAgICAgICAgICAgICA6ICJPZmZpY2lhbCBwYWdlcyIsCiAgICAgICAgICAgICAgICBBQlRfTE5LX0dIQiAgICAgICAgICAgOiAiR2l0SHViIiwKICAgICAgICAgICAgICAgIEFCVF9MTktfR1JGSyAgICAgICAgICA6ICJHcmVhc3kgRm9yayIsCiAgICAgICAgICAgICAgICBBQlRfTE5LX09QTlUgICAgICAgICAgOiAiT3BlblVzZXJKUyIsCiAgICAgICAgICAgICAgICBXTENNICAgICAgICAgICAgICAgICAgOiAiVGhhbmsgeW91IGZvciBpbnN0YWxsaW5nIFlvdVR1YmUrIiwKICAgICAgICAgICAgICAgIFdMQ01TVFJUICAgICAgICAgICAgICA6ICJZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNldHRpbmdzIGJ5IGNsaWNraW5nIHRoZSBidXR0b24gYWJvdmUiLAogICAgICAgICAgICAgICAgV0xDTUZUUlMgICAgICAgICAgICAgIDogIkNsaWNrIGhlcmUgdG8gc2VlIGFsbCB0aGUgZmVhdHVyZXMiLAogICAgICAgICAgICAgICAgTE9DQUxFICAgICAgICAgICAgICAgIDogIkVuZ2xpc2ggKFVTKSIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKCF1c2VyX3NldHRpbmdzIHx8IE9iamVjdC5rZXlzKHVzZXJfc2V0dGluZ3MpLmxlbmd0aCA8IDEpIHsKICAgICAgICAgICAgICAgIHVzZXJfc2V0dGluZ3MgPSBkZWZhdWx0X3NldHRpbmdzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2hlY2tOZXdGZWF0dXJlcygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh3aW5kb3cuY2hyb21lKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHNjcmlwdEV4aXQsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiYWZ0ZXJzY3JpcHRleGVjdXRlIiwgc2NyaXB0RXhpdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic3BmZG9uZSIsIG1haW4pOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzcGZyZXF1ZXN0IiwgcmVxdWVzdCk7CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLCBtYWluLCB0cnVlKTsKICAgICAgICAgICAgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBjaGVja1hIUihYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3Blbik7CiAgICAgICAgICAgIERPTVBhcnNlci5wcm90b3R5cGUucGFyc2VGcm9tU3RyaW5nID0gY2hlY2tEb21QYXJzZXIoRE9NUGFyc2VyLnByb3RvdHlwZS5wYXJzZUZyb21TdHJpbmcpOwogICAgICAgICAgICB3aW5kb3cub25Zb3VUdWJlUGxheWVyUmVhZHkgPSBzaGFyZUFwaSh3aW5kb3cub25Zb3VUdWJlUGxheWVyUmVhZHkpOwogICAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYSA9IG1vZE1hdGNoTWVkaWEod2luZG93Lm1hdGNoTWVkaWEpOwogICAgICAgICAgICBtYWluKCk7CiAgICAgICAgfSwKICAgICAgICBjb250ZW50U2NyaXB0TWVzc2FnZXM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIga2V5MSwga2V5MiwgZ2F0ZSwgc2V0cywgbG9jcywgb2JzZXJ2ZXI7CiAgICAgICAgICAgIGtleTEgPSAicGFyc2VuZCI7CiAgICAgICAgICAgIGtleTIgPSAiZ2V0bG9jYWxlIjsKICAgICAgICAgICAgZ2F0ZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgICAgICAgc2V0cyA9IEpTT04ucGFyc2UoZ2F0ZS5kYXRhc2V0W2tleTFdIHx8IG51bGwpOwogICAgICAgICAgICBsb2NzID0gZ2F0ZS5kYXRhc2V0W2tleTJdIHx8IG51bGw7CiAgICAgICAgICAgIGlmICghZ2F0ZS5jb250ZW50c2NyaXB0KSB7CiAgICAgICAgICAgICAgICBnYXRlLmNvbnRlbnRzY3JpcHQgPSB0cnVlOwogICAgICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihwYXJ0aWNsZS5jb250ZW50U2NyaXB0TWVzc2FnZXMpOwogICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLm9ic2VydmUoZ2F0ZSwgewogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbImRhdGEtIiArIGtleTEsICJkYXRhLSIgKyBrZXkyXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHNldHMpIHsKICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5pc191c2Vyc2NyaXB0KSB7CiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUuR01fc2V0VmFsdWUocGFydGljbGUuaWQsIEpTT04uc3RyaW5naWZ5KHNldHMpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtwYXJ0aWNsZVNldHRpbmdzOiBzZXRzfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXBhcnNlbmQiKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NzKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5zZXRsb2NhbGUgPSBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKGxvY3MpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmaWx0ZXJDaHJvbWVLZXlzOiBmdW5jdGlvbihrZXlzKSB7CiAgICAgICAgICAgIGlmIChrZXlzW3BhcnRpY2xlLmlkXSAmJiBrZXlzW3BhcnRpY2xlLmlkXS5uZXdfdmFsdWUpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnBhcnJlY2VpdmUgPSBKU09OLnN0cmluZ2lmeSgKICAgICAgICAgICAgICAgICAgICAoa2V5c1twYXJ0aWNsZS5pZF0ubmV3X3ZhbHVlICYmIGtleXNbcGFydGljbGUuaWRdLm5ld192YWx1ZVtwYXJ0aWNsZS5pZF0pIHx8IGtleXNbcGFydGljbGUuaWRdLm5ld192YWx1ZSB8fCB7fQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWFpbjogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIGhvbGRlcjsKICAgICAgICAgICAgaWYgKCFldmVudCAmJiBwYXJ0aWNsZS5pc191c2Vyc2NyaXB0KSB7CiAgICAgICAgICAgICAgICBldmVudCA9IEpTT04ucGFyc2UocGFydGljbGUuR01fZ2V0VmFsdWUocGFydGljbGUuaWQsICJ7fSIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGV2ZW50ID0gSlNPTi5zdHJpbmdpZnkoZXZlbnRbcGFydGljbGUuaWRdIHx8IGV2ZW50KTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LnVzZXJfc2V0dGluZ3MgPSBldmVudDsKICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5pc191c2Vyc2NyaXB0KSB7CiAgICAgICAgICAgICAgICAgICAgaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpOwogICAgICAgICAgICAgICAgICAgIGhvbGRlci5yZWwgPSAic3R5bGVzaGVldCI7CiAgICAgICAgICAgICAgICAgICAgaG9sZGVyLnR5cGUgPSAidGV4dC9jc3MiOwogICAgICAgICAgICAgICAgICAgIGhvbGRlci5ocmVmID0gImh0dHBzOi8vcGFydGljbGVjb3JlLmdpdGh1Yi5pby9QYXJ0aWNsZS9zdHlsZXNoZWV0cy9Zb3VUdWJlUGx1cy5jc3M/dj0xLjkuMyI7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGhvbGRlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICAgICAgICAgIGhvbGRlci50ZXh0Q29udGVudCA9ICIoIiArIHBhcnRpY2xlLmluamVjdCArICIoIiArIHBhcnRpY2xlLmlzX3VzZXJzY3JpcHQgKyAiKSkiOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGhvbGRlcik7CiAgICAgICAgICAgICAgICBpZiAoIXBhcnRpY2xlLmlzX3VzZXJzY3JpcHQpIHsKICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIocGFydGljbGUuZmlsdGVyQ2hyb21lS2V5cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGluaTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHBhcnRpY2xlLmlkID0gInBhcnRpY2xlU2V0dGluZ3MiOwogICAgICAgICAgICBwYXJ0aWNsZS5pc191c2Vyc2NyaXB0ID0gdHlwZW9mIEdNX2luZm8gPT09ICJvYmplY3QiOwogICAgICAgICAgICBpZiAocGFydGljbGUuaXNfdXNlcnNjcmlwdCkgewogICAgICAgICAgICAgICAgcGFydGljbGUuR01fZ2V0VmFsdWUgPSBHTV9nZXRWYWx1ZTsKICAgICAgICAgICAgICAgIHBhcnRpY2xlLkdNX3NldFZhbHVlID0gR01fc2V0VmFsdWU7CiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5tYWluKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQocGFydGljbGUuaWQsIHBhcnRpY2xlLm1haW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhcnRpY2xlLmNvbnRlbnRTY3JpcHRNZXNzYWdlcygpOwogICAgICAgIH0KICAgIH07CiAgICBwYXJ0aWNsZS5pbmkoKTsKfSgpKTs="},{"name":"bilibili HTML5","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://www.bilibili.com/video/av*","http://bangumi.bilibili.com/anime/v/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507811597675},"enabled":true,"position":18,"file_url":"https://greasyfork.org/scripts/22441-bilibili-html5%E6%92%AD%E6%94%BE%E5%99%A8/code/bilibili%20HTML5%E6%92%AD%E6%94%BE%E5%99%A8.user.js","uuid":"dd9e4ba4-968f-4471-8c4e-8d8824eff4fa","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIGJpbGliaWxpIEhUTUw15pKt5pS+5ZmoCi8vIEBhdXRob3IgICAgICBuYW5hdmFvCi8vIEBuYW1lc3BhY2UgICBuYW5hX3Zhb19zY3JpcHQKLy8gQGRlc2NyaXB0aW9uIOWQr+eUqGJpbGliaWxp55qEaHRtbDXmkq3mlL7lmajvvIzoh6rliqjlrr3lsY/jgIHljp/nlJ/lj7PplK7oj5zljZUKLy8gQHZlcnNpb24gICAgIDEuMjMKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2KgovLyBAaW5jbHVkZSAgICAgaHR0cDovL2Jhbmd1bWkuYmlsaWJpbGkuY29tL2FuaW1lL3YvKgovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gPT0vVXNlclNjcmlwdD09Cid1c2Ugc3RyaWN0JzsKKGZ1bmN0aW9uICgpIHsKICAgIGxldCB1cmwgPSBHTV9nZXRWYWx1ZSgndXJsJyk7CiAgICBHTV9kZWxldGVWYWx1ZSgndXJsJyk7CiAgICBpZiAobG9jYXRpb24uaG9zdG5hbWUgPT0gJ2Jhbmd1bWkuYmlsaWJpbGkuY29tJykgewogICAgICAgIGlmKHVybCA9PT0gbG9jYXRpb24uaHJlZil7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgR01fc2V0VmFsdWUoJ3VybCcsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5zdG9wKCk7CiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudi1hdi1saW5rJykuaHJlZjsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgdHJ5ewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmlsaWJpbGlsb3ZlcicsICdZRVNZRVNZRVMnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RlZmF1bHRoNScsICcxJyk7CiAgICAgICAgfWNhdGNoKGUpe30KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy4kID0gdW5zYWZlV2luZG93LmpRdWVyeTsKICAgICAgICAgICAgJCgnLmJpbGliaWxpLXBsYXllci12aWRlby1idG4td2lkZXNjcmVlbicpLmNsaWNrKCk7CiAgICAgICAgICAgIHNjcm9sbFRvUGxheWVyKCk7CiAgICAgICAgICAgIGxldCBpbnRlcnZhbElkICA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBpZigkKCcuYmlsaWJpbGktcGxheWVyLXZpZGVvLXdyYXAgdmlkZW8nKS5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgIHNldENvbnRleHRNZW51SGFuZGxlcigpOwogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sNTAwKTsKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2Nyb2xsVG9QbGF5ZXIoKXsKICAgICAgICB2YXIgcGxheWVyID0gJCgnI2JpbGliaWxpUGxheWVyJyk7CiAgICAgICAgaWYoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID09PSAwKXsKICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcChwbGF5ZXIub2Zmc2V0KCkudG9wICsgcGxheWVyLmhlaWdodCgpIC0gJCh3aW5kb3cpLmhlaWdodCgpKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldENvbnRleHRNZW51SGFuZGxlcigpewogICAgICAgIGxldCBjb250ZXh0TWVudUV2ZW50ID0gJC5fZGF0YSggZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJpbGliaWxpLXBsYXllci12aWRlby13cmFwJyksICJldmVudHMiICkuY29udGV4dG1lbnVbMF07CiAgICAgICAgbGV0IG9sZEhhbmRsZXIgPSBjb250ZXh0TWVudUV2ZW50LmhhbmRsZXI7CgogICAgICAgIGxldCBpc0VsZW1lbnRDbGlja2VkID0gZnVuY3Rpb24oZWxlLCB4LCB5KXsKICAgICAgICAgICAgbGV0IHJlY3QgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIHJldHVybiAoKHggPiByZWN0LmxlZnQpICYmICh4IDwgcmVjdC5yaWdodCkgJiYgKHkgPiByZWN0LnRvcCkgJiYgKHkgPCByZWN0LmJvdHRvbSkpOwogICAgICAgIH07CgogICAgICAgIGxldCBhbnlFbGVtZW50Q2xpY2tlZCA9IGZ1bmN0aW9uKGFycix4LHkpewogICAgICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCBhcnIubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgaWYoaXNFbGVtZW50Q2xpY2tlZChhcnJbaV0seCx5KSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH07CgogICAgICAgIGxldCBuZXdIYW5kbGVyID0gZnVuY3Rpb24oZSl7ICAKICAgICAgICAgICAgbGV0IGVsZUFyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iaWxpYmlsaS1kYW5tYWt1Jyk7CiAgICAgICAgICAgIGlmKGFueUVsZW1lbnRDbGlja2VkKGVsZUFycixlLmNsaWVudFgsZS5jbGllbnRZKSl7CiAgICAgICAgICAgICAgICBvbGRIYW5kbGVyKGUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgY29udGV4dE1lbnVFdmVudC5oYW5kbGVyID0gZXhwb3J0RnVuY3Rpb24obmV3SGFuZGxlcixjb250ZXh0TWVudUV2ZW50KTsKICAgIH0KfSkgKCk7Cg=="},{"name":"CNKI  PDF ","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://image.cnki.net/*"],"orig_includes":["http://*.cnki.net/*","http://*.cnki.net.*/*","*/kns/brief/*","*/kns55/brief/*","*/grid2008/brief/*","*/detail/detail.aspx*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970080},"enabled":true,"position":19,"file_url":"https://greasyfork.org/scripts/18842-cnki-%E4%B8%AD%E5%9B%BD%E7%9F%A5%E7%BD%91-pdf-%E5%85%A8%E6%96%87%E4%B8%8B%E8%BD%BD-%E7%89%B9%E5%88%B6%E7%89%88/code/CNKI%20%E4%B8%AD%E5%9B%BD%E7%9F%A5%E7%BD%91%20PDF%20%E5%85%A8%E6%96%87%E4%B8%8B%E8%BD%BD%EF%BC%88%E7%89%B9%E5%88%B6%E7%89%88%EF%BC%89.user.js","uuid":"39b74956-bbf5-43a6-a45f-00c83bd4aa10","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGlkICAgICAgICAgICAgIENOS0ktUERGLVNwZWNpYWwKLy8gQG5hbWUgICAgICAgICAgIENOS0kg5Lit5Zu955+l572RIFBERiDlhajmlofkuIvovb3vvIjnibnliLbniYjvvIkKLy8gQHZlcnNpb24gICAgICAgIDMuMi4wLjIwMTcwMjEwCi8vIEBuYW1lc3BhY2UgICAgICBodHRwOi8veXVlbG9uZy5pbmZvCi8vIEBhdXRob3IgICAgICAgICBZVUUgTG9uZwovLyBAZGVzY3JpcHRpb24gICAg5Y+C6KeBIGh0dHA6Ly9ibG9nLnl1ZWxvbmcuaW5mby9wb3N0L2Nua2ktcGRmLWpzLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qLmNua2kubmV0LyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qLmNua2kubmV0LiovKgovLyBAZXhjbHVkZSAgICAgICAgaHR0cDovL2ltYWdlLmNua2kubmV0LyoKLy8gQGluY2x1ZGUgICAgICAgICova25zL2JyaWVmLyoKLy8gQGluY2x1ZGUgICAgICAgICova25zNTUvYnJpZWYvKgovLyBAaW5jbHVkZSAgICAgICAgKi9ncmlkMjAwOC9icmllZi8qCi8vIEBpbmNsdWRlICAgICAgICAqL2RldGFpbC9kZXRhaWwuYXNweCoKLy8gQHJ1bi1hdCAgICAgICAgIGRvY3VtZW50LWlkbGUKLy8gQGdyYW50ICAgICAgICAgIG5vbmUKLy8gQHN1cHBvcnRVUkwgICAgIGh0dHA6Ly9ibG9nLnl1ZWxvbmcuaW5mby9wb3N0L2Nua2ktcGRmLWpzLmh0bWwKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgYWxsTGlzLCB0aGlzTGksIG5ld0xpLCBhUERGLCBiUERGLCBhbGxMaW5rcywgdGhpc0xpbmssIHBhZ2VUeXBlLCBwZlR5cGUsIG15dXJsLCBpOwp2YXIgcGFnZVR5cGUgPSB0cnVlOwp2YXIgcGZUeXBlID0gdHJ1ZTsKdmFyIG15dXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgphbGxMaW5rcyA9IGRvY3VtZW50LmV2YWx1YXRlKAogICAgJy8vYVtAaHJlZl0nLAogICAgZG9jdW1lbnQsCiAgICBudWxsLAogICAgWFBhdGhSZXN1bHQuVU5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRSwKICAgIG51bGwpOwoKYWxsTGlzID0gZG9jdW1lbnQuZXZhbHVhdGUoCiAgICAiLy9saVtAY2xhc3NdIiwKICAgIGRvY3VtZW50LAogICAgbnVsbCwKICAgIFhQYXRoUmVzdWx0LlVOT1JERVJFRF9OT0RFX1NOQVBTSE9UX1RZUEUsCiAgICBudWxsKTsKCmlmIChteXVybC5pbmRleE9mKCJkZXRhaWwuYXNweCIpICE9IC0xKSB7CiAgICBwYWdlVHlwZSA9IGZhbHNlOwp9IC8vZmFsc2Ug5Li66K+m5oOF6aG16Z2iCmlmIChkb2N1bWVudC50aXRsZS5pbmRleE9mKCIgLSDkuK3lm73nn6XnvZEiKSAhPSAtMSkgewogICAgcGZUeXBlID0gZmFsc2U7Cn0gLy9mYWxzZSDkuLrmlrDlubPlj7AKCmlmICgocGZUeXBlID09PSB0cnVlKSAmIChwYWdlVHlwZSA9PT0gZmFsc2UpKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbExpcy5zbmFwc2hvdExlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpc0xpID0gYWxsTGlzLnNuYXBzaG90SXRlbShpKTsKICAgICAgICBpZiAodGhpc0xpLmdldEF0dHJpYnV0ZSgiY2xhc3MiKS5pbmRleE9mKCJyZWFkb2wiKSAhPSAtMSkgewogICAgICAgICAgICBuZXdMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgIG5ld0xpLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAicGRmIik7CiAgICAgICAgICAgIGFQREYgPSAnPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9IicgKyB0aGlzTGkuZmlyc3RDaGlsZC5ocmVmLnJlcGxhY2UoIiZkZmxhZz1yZWFkb25saW5lIiwgIiZkZmxhZz1wZGZkb3duIikgKyAnIj5QREbkuIvovb08L2E+JzsKICAgICAgICAgICAgbmV3TGkuaW5uZXJIVE1MID0gYVBERjsKICAgICAgICAgICAgdGhpc0xpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0xpLCB0aGlzTGkubmV4dFNpYmxpbmcpOwogICAgICAgIH0KICAgIH0KfQoKaWYgKChwZlR5cGUgPT09IGZhbHNlKSAmIChwYWdlVHlwZSA9PT0gZmFsc2UpKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbExpbmtzLnNuYXBzaG90TGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzTGluayA9IGFsbExpbmtzLnNuYXBzaG90SXRlbShpKTsKICAgICAgICBpZiAodGhpc0xpbmsuaHJlZiAmJiB0aGlzTGluay5ocmVmLmluZGV4T2YoImRvd25sb2FkLmFzcHg/ZmlsZW5hbWU9IikgIT0gLTEgJiYgdGhpc0xpbmsuaW5uZXJIVE1MLmluZGV4T2YoIuaVtOacrCIpICE9IC0xKSB7CiAgICAgICAgICAgIHRoaXNMaW5rLmlubmVySFRNTCA9IHRoaXNMaW5rLmlubmVySFRNTC5yZXBsYWNlKCLmlbTmnKwiLCAiQ0FKIik7CiAgICAgICAgICAgIGJQREYgPSB0aGlzTGluay5ocmVmOwogICAgICAgIH0KICAgICAgICBpZiAodGhpc0xpbmsuaHJlZiAmJiB0aGlzTGluay5ocmVmLmluZGV4T2YoImRvd25sb2FkLmFzcHg/ZmlsZW5hbWU9IikgIT0gLTEgJiYgdGhpc0xpbmsuaW5uZXJIVE1MLmluZGV4T2YoIuWIhumhtSIpICE9IC0xKSB7CiAgICAgICAgICAgIHRoaXNMaW5rLmlubmVySFRNTCA9IHRoaXNMaW5rLmlubmVySFRNTC5yZXBsYWNlKCLliIbpobUiLCAiUERGIik7CiAgICAgICAgICAgIHRoaXNMaW5rLmhyZWYgPSBiUERGLnJlcGxhY2UoIm5oZG93biIsICJwZGZkb3duIik7CiAgICAgICAgfQogICAgfQp9CgppZiAocGFnZVR5cGUgPT09IHRydWUpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsTGlua3Muc25hcHNob3RMZW5ndGg7IGkrKykgewogICAgICAgIHRoaXNMaW5rID0gYWxsTGlua3Muc25hcHNob3RJdGVtKGkpOwogICAgICAgIGlmICh0aGlzTGluay5ocmVmICYmIHRoaXNMaW5rLmhyZWYuaW5kZXhPZigiZG93bmxvYWQuYXNweD9maWxlbmFtZT0iKSAhPSAtMSAmJiB0aGlzTGluay5ocmVmLmluZGV4T2YoIiZkZmxhZyIpID09IC0xKSB7CiAgICAgICAgICAgIHRoaXNMaW5rLmhyZWYgPSB0aGlzTGluay5ocmVmICsgIiZkZmxhZz1wZGZkb3duIjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXNMaW5rLmhyZWYgJiYgdGhpc0xpbmsuaHJlZi5pbmRleE9mKCJkb3dubG9hZC5hc3B4P2ZpbGVuYW1lPSIpICE9IC0xICYmIHRoaXNMaW5rLmhyZWYuaW5kZXhPZigiJmRmbGFnPW5oZG93biIpICE9IC0xKSB7CiAgICAgICAgICAgIHRoaXNMaW5rLmhyZWYgPSB0aGlzTGluay5ocmVmLnJlcGxhY2UoIm5oZG93biIsICJwZGZkb3duIik7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzTGluay5ocmVmICYmIHRoaXNMaW5rLmhyZWYuaW5kZXhPZigiZG93bmxvYWQuYXNweD9maWxlbmFtZT0iKSAhPSAtMSAmJiB0aGlzTGluay5ocmVmLmluZGV4T2YoIiZkZmxhZz1wZGZkb3duIikgIT0gLTEgJiYgKHRoaXNMaW5rLmhyZWYuaW5kZXhPZigiPUNNRkQiKSAhPSAtMSB8fCB0aGlzTGluay5ocmVmLmluZGV4T2YoIj1DREZEIikgIT0gLTEgKSkgewogICAgICAgICAgICB0aGlzTGluay5ocmVmID0gdGhpc0xpbmsuaHJlZi5yZXBsYWNlKCJwZGZkb3duIiwgIm5oZG93biIpOwogICAgICAgIH0KICAgIH0KfQ=="},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http*://music.163.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970080},"enabled":true,"position":20,"file_url":"https://greasyfork.org/scripts/23222-%E7%BD%91%E6%98%93%E4%BA%91%E4%B8%8B%E8%BD%BD/code/%E7%BD%91%E6%98%93%E4%BA%91%E4%B8%8B%E8%BD%BD.user.js","uuid":"953f18f6-18dd-4274-bc8b-c1f143651b7e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOe9keaYk+S6keS4i+i9vSAKLy8gQGRlc2NyaXB0aW9uICDmrYzljZXph4zlpb3lpJrmrYznlKjku6XliY3nmoTohJrmnKzpg700MDTkuobvvIzkuo7mmK/nroDljZXkv67mlLnkuobkuIvjgIIgCi8vIEB2ZXJzaW9uICAgMjAxNzA3MTcKLy8gQGF1dGhvciAgICAgICAgIOezluaenOWQmwovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9tdXNpYy4xNjMuY29tLyoKLy8gQGdyYW50ICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEByZXF1aXJlICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjY3Mjct572R5piT5LqR6Z+z5LmQ5q2M5puy5bCB6Z2i5LiL6L29L2NvZGUv572R5piT5LqR6Z+z5LmQ5q2M5puy5bCB6Z2i5LiL6L29LnVzZXIuanMKLy8gQG5hbWVzcGFjZSAKLy8gPT0vVXNlclNjcmlwdD09Ci8v5Y+C6ICDIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8xMDU0OC3nvZHmmJPkupHpn7PkuZDkuIvovb0KLy/ku6Xlj4rmm7Tml6nnmoQgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzEwOTktbmV0ZWFzZS1tdXNpYy1kb3dubG9hZAp2YXIgYXBpID0gewogICAgLy/lj4LogIMgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzEwNTgyLee9keaYk+S6kemfs+S5kOmrmOmfs+i0qOaUr+aMgQogICAgZ2V0VHJhY2tVUkw6IGZ1bmN0aW9uKGRmc0lkKSB7CiAgICAgICAgdmFyIGJ5dGUxID0gJzNnbzgmJDgqMyozaDBrKDIpMic7CiAgICAgICAgdmFyIGJ5dGUyID0gZGZzSWQgKyAnJzsKICAgICAgICB2YXIgYnl0ZTMgPSBbXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGUyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGJ5dGUzW2ldID0gYnl0ZTIuY2hhckNvZGVBdChpKSBeIGJ5dGUxLmNoYXJDb2RlQXQoaSAlIGJ5dGUxLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIGJ5dGUzID0gYnl0ZTMubWFwKGZ1bmN0aW9uKGkpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7CiAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgdmFyIHJlc3VsdHMgPSB1bnNhZmVXaW5kb3cuQ3J5cHRvSlMuTUQ1KGJ5dGUzKS50b1N0cmluZyh1bnNhZmVXaW5kb3cuQ3J5cHRvSlMuZW5jLkJhc2U2NCkucmVwbGFjZSgvXC8vZywgJ18nKS5yZXBsYWNlKC9cKy9nLCAnLScpOwogICAgICAgIHZhciB1cmwgPSAnaHR0cDovL3AyLm11c2ljLjEyNi5uZXQvJyArIHJlc3VsdHMgKyAnLycgKyBieXRlMjsKICAgICAgICByZXR1cm4gdXJsOwogICAgfSwKICAgIGF1dG9TaWduOiBmdW5jdGlvbiAodHlwZSwgY29va2llKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKGNvb2tpZSkgPT0gLSAxKSB7CiAgICAgICAgICAgIGFwaS5zaWduKHR5cGUsIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAtIDIgfHwgcmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZWltZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgY29va2llaW1lLnNldFRpbWUoMjQgKiA2MCAqIDYwICogMTAwMCArIG5ldyBEYXRlKG5ldyBEYXRlKCkgLnRvRGF0ZVN0cmluZygpKSAuZ2V0VGltZSgpIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llKyAnO2V4cGlyZXM9JyArIGNvb2tpZWltZS50b0dNVFN0cmluZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgfSwKICAgIGVuY3J5cHRfcmVxdWVzdDogZnVuY3Rpb24oY2FsbGJhY2ssIHVybCwgZGF0YSkgewogICAgICAgIC8vIOi/meS4quWlveWDj+S4jemHjeimgeOAgnZhciB0b2tlbiA9IHVuc2FmZVdpbmRvdy5kb2N1bWVudC5jb29raWUuc3BsaXQoJ19fY3NyZicpIFsxXS5zcGxpdCgnOycpIFswXS5zdWJzdHJpbmcoMSk7IAogICAgICAgIHZhciB0b2tlbiA9ICcnOwogICAgICAgIGRhdGEuY3NyZl90b2tlbiA9IHRva2VuOwogICAgICAgIHZhciByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICByZXEub3BlbignUE9TVCcsIHVybCArIHRva2VuLCB0cnVlKTsKICAgICAgICByZXEuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOwogICAgICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlYWwtSVAnLCAnMjcuMzguNC44NycpOwogICAgICAgIC8v6Kej5Yaz5rW35aSW6Zeu6aKY44CCCiAgICAgICAgcmVxLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KSk7CiAgICAgICAgfTsKICAgICAgICAvL+WPguiAgyAgaHR0cHM6Ly9naXRodWIuY29tL2RhcmtuZXNzb21pL211c2ljYm94L3dpa2kv572R5piT5LqR6Z+z5LmQ5paw54mIV2ViQVBJ5YiG5p6Q44CCCiAgICAgICAgdmFyIHB1YktleSA9ICcwMTAwMDEnOwogICAgICAgIHZhciBtb2R1bHVzID0gJzAwZTBiNTA5ZjYyNTlkZjg2NDJkYmMzNTY2MjkwMTQ3N2RmMjI2NzdlYzE1MmI1ZmY2OGFjZTYxNWJiN2I3MjUxNTJiM2FiMTdhODc2YWVhOGE1YWE3NmQyZTQxNzYyOWVjNGVlMzQxZjU2MTM1ZmNjZjY5NTI4MDEwNGUwMzEyZWNiZGE5MjU1N2M5Mzg3MDExNGFmNmM5ZDA1YzRmN2YwYzM2ODViN2E0NmJlZTI1NTkzMjU3NWNjZTEwYjQyNGQ4MTNjZmU0ODc1ZDNlODIwNDdiOTdkZGVmNTI3NDFkNTQ2YjhlMjg5ZGM2OTM1YjNlY2UwNDYyZGIwYTIyYjhlNyc7CiAgICAgICAgdmFyIG5vbmNlID0gJzBDb0pVbTZReXc4VzhqdWQnOwogICAgICAgIHZhciByZXN1bHQgPSB1bnNhZmVXaW5kb3cuYXNyc2VhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBwdWJLZXksIG1vZHVsdXMsIG5vbmNlKTsKICAgICAgICByZXEuc2VuZCgncGFyYW1zPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVzdWx0LmVuY1RleHQpICsgJyZlbmNTZWNLZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXN1bHQuZW5jU2VjS2V5KSk7CiAgICB9LAogICAgZGV0YWlsOiBmdW5jdGlvbihzb25nSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHVybCA9ICcvd2VhcGkvdjMvc29uZy9kZXRhaWwnOwogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICBjOgogICAgICAgICAgICBKU09OLnN0cmluZ2lmeShbewogICAgICAgICAgICAgICAgaWQ6IHNvbmdJZAogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuY3J5cHRfcmVxdWVzdChjYWxsYmFjaywgdXJsLCBkYXRhKTsKICAgIH0sCiAgICBscmM6IGZ1bmN0aW9uKHNvbmdJZCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgdXJsID0gJy93ZWFwaS9zb25nL2x5cmljJzsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgaWQ6IHNvbmdJZCwKICAgICAgICAgICAgbHY6IC0xLAogICAgICAgICAgICB0djogLTEKICAgICAgICB9OwogICAgICAgIHRoaXMuZW5jcnlwdF9yZXF1ZXN0KGNhbGxiYWNrLCB1cmwsIGRhdGEpOwogICAgfSwKICAgIG5ld3Nvbmc6IGZ1bmN0aW9uKHNvbmdJZCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgdXJsID0gJy93ZWFwaS9zb25nL2VuaGFuY2UvcGxheWVyL3VybCc7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIGlkczogW3NvbmdJZF0sCiAgICAgICAgICAgIGJyOiA5OTkwMDAsCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuY3J5cHRfcmVxdWVzdChjYWxsYmFjaywgdXJsLCBkYXRhKTsKICAgIH0sCiAgICBtdjogZnVuY3Rpb24obXZJZCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgdXJsID0gJy93ZWFwaS9tdi9kZXRhaWwvJzsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgaWQ6IG12SWQsCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuY3J5cHRfcmVxdWVzdChjYWxsYmFjaywgdXJsLCBkYXRhKTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uKHNvbmdpbmZvLCBjYWxsYmFjaykgewogICAgICAgIHZhciB1cmwgPSAnL3dlYXBpL3NlYXJjaC9wYyc7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHM6IHNvbmdpbmZvLAogICAgICAgICAgICBsaW1pdDogMSwKICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgb2Zmc2V0OiAwLAogICAgICAgIH07CiAgICAgICAgdGhpcy5lbmNyeXB0X3JlcXVlc3QoY2FsbGJhY2ssIHVybCwgZGF0YSk7CiAgICB9LAogICAgc2lnbjogZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHVybCA9ICcvd2VhcGkvcG9pbnQvZGFpbHlUYXNrJzsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgIH07CiAgICAgICAgdGhpcy5lbmNyeXB0X3JlcXVlc3QoY2FsbGJhY2ssIHVybCwgZGF0YSk7CiAgICB9LAogICAgIHhpYW1pc2VhcmNoOiBmdW5jdGlvbiAoa2V5LCBjYWxsYmFjaykgewogICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgdXJsOiAnaHR0cDovL211c2ljYWZlLmNvOjgwODAvYXBpL3NlYXJjaC9zb25nL3hpYW1pPyZsaW1pdD0xJnBhZ2U9MSZrZXk9JyArIGtleSwKICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpOwogICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKfTsKdmFyIGlubmVyRnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTsKdmFyIHBhZ2VzID0gWwogICAgewogICAgdXJsOiAnbXVzaWMuMTYzLmNvbS8jL3Nvbmc/aWQ9JywKICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBzb25nSWQgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9pZD0oWzAtOV0rKS8pWzFdOwogICAgICAgIHZhciBkb3dubG9hZExpbmUgPSB0aGlzLmNyZWF0ZURvd25sb2FkTGluZShzb25nSWQpOwogICAgICAgIHZhciBpbm5lckZyYW1lRG9jID0gaW5uZXJGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgIHZhciBhbGJ1bU5vZGUgPSBpbm5lckZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ3AuZGVzLnMtZmM0JylbMV07CiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBhbGJ1bU5vZGUucGFyZW50Tm9kZTsKICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShkb3dubG9hZExpbmUsIGFsYnVtTm9kZS5uZXh0RWxlbWVudFNpYmxpbmcpOwogICAgfSwKICAgIGNyZWF0ZURvd25sb2FkTGluZTogZnVuY3Rpb24oc29uZ0lkKSB7CiAgICAgICAgdmFyIGRpc2FibGVTdHlsZSA9IGZ1bmN0aW9uKGxpbmspIHsKICAgICAgICAgICAgbGluay50ZXh0ICs9ICco5pegKSc7CiAgICAgICAgICAgIGxpbmsuc3R5bGUuY29sb3IgPSAnZ3JheSc7CiAgICAgICAgICAgIGxpbmsuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbm9uZSc7CiAgICAgICAgICAgIGxpbmsuc3R5bGUuY3Vyc29yID0gJ2F1dG8nOwogICAgICAgIH07CiAgICAgICAgdmFyIHNldFVybEFuZFNpemUgPSBmdW5jdGlvbiAobXAzTGluaywgTXVzaWMsIHNvbmdpbmZvKSB7CiAgICAgICAgICAgICAgICBpZiAoTXVzaWMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaHJlZiA9IE11c2ljLnVybDsKICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICBtcDNMaW5rLmhyZWYgPSBocmVmOwogICAgICAgICAgICAgICAgICAgICAgICBtcDNMaW5rLnRleHQgKz0gKE11c2ljLnNpemUgLyAxMDI0IC8gMTAyNCkgLnRvRml4ZWQoMSkgKyAnTSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlYXJjaChzb25naW5mbywgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc29uZ3MgJiYgcmVzdWx0LnJlc3VsdC5zb25nc1swXS5pZCA9PSBzb25nSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc29uZyA9IHJlc3VsdC5yZXN1bHQuc29uZ3NbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG11c2ljID0gc29uZy5oTXVzaWMgfHwgc29uZy5tTXVzaWMgfHwgc29uZy5sTXVzaWMgfHwgc29uZy5iTXVzaWM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1wM3VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGZzSWQgPSBtdXNpYy5kZnNJZF9zdHIgfHwgbXVzaWMuZGZzSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11c2ljICYmIGRmc0lkICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXAzdXJsID0gYXBpLmdldFRyYWNrVVJMKGRmc0lkKSArICcubXAzJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXAzTGluay50ZXh0ICs9IChtdXNpYy5zaXplIC8gMTAyNCAvIDEwMjQpIC50b0ZpeGVkKDEpICsgJ00o5penKSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc29uZy5tcDNVcmwuZW5kc1dpdGgoIj09LzAubXAzIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXAzdXJsID0gc29uZy5tcDNVcmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1wM3VybCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wM0xpbmsuaHJlZiA9IG1wM3VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkueGlhbWlzZWFyY2goc29uZ2luZm8sIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zb25nTGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXAzTGluay5ocmVmID0gcmVzdWx0LnNvbmdMaXN0WzBdLmZpbGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDNMaW5rLnRleHQgKz0gJyjomb7nsbMpJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVTdHlsZShtcDNMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgdmFyIHNldEx5cmljID0gZnVuY3Rpb24oTHljTGluaywgcmVzdWx0KSB7CiAgICAgICAgICAgIHZhciBMckMgPSAnJzsKICAgICAgICAgICAgdmFyIGxyYyA9IHJlc3VsdC5scmM7CiAgICAgICAgICAgIHZhciB0bHJjID0gcmVzdWx0LnRseXJpYzsKICAgICAgICAgICAgdmFyIG51bSA9IDA7CiAgICAgICAgICAgIGlmIChscmMgJiYgbHJjLmx5cmljKSB7CiAgICAgICAgICAgICAgICBMckMgKz0gbHJjLmx5cmljICsgJ1xuJzsKICAgICAgICAgICAgICAgICAgICBudW0rPTE7fQogICAgICAgICAgICBpZiAodGxyYyAmJiB0bHJjLmx5cmljKSB7CiAgICAgICAgICAgICAgICBMckMgKz0gdGxyYy5seXJpYzsKICAgICAgICAgICAgICAgICAgICBudW0rPTI7fQoKCiAgICAgICAgICAgIGlmIChudW0gIT0gMCkgewogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnJzsKICAgICAgICAgICAgICAgIHN3aXRjaCAobnVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpodG1sPSIo5Y6fKSI7YnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpodG1sPSIo6K+RKSI7YnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpodG1sPSIo5ZCIKSI7YnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBMeWNMaW5rLmhyZWYgPSAnZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudChMckMpOwogICAgICAgICAgICAgICAgTHljTGluay5pbm5lckhUTUwgKz0gaHRtbDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRpc2FibGVTdHlsZShMeWNMaW5rKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBuZXdNcDNMaW5rID0gdGhpcy5jcmVhdGVMaW5rKCfmrYzmm7InKTsKICAgICAgICB2YXIgbHlyaWNMaW5rID0gdGhpcy5jcmVhdGVMaW5rKCfmrYzor40nKTsKICAgICAgICB2YXIgbXZMaW5rID0gdGhpcy5jcmVhdGVMaW5rKCdtdicpOwogICAgICAgIHZhciBwaWNMaW5rID0gdGhpcy5jcmVhdGVMaW5rKCflsIHpnaInKTsKCQogICAgICAgICAgICBhcGkuZGV0YWlsKHNvbmdJZCwgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICB2YXIgc29uZyA9IHJlc3VsdC5zb25nc1swXTsKICAgICAgICAgICAgaWYgKHNvbmcubXYpIHsKICAgICAgICAgICAgICAgICAgICBhcGkubXYoc29uZy5tdiwgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtdiA9IHJlc3VsdC5kYXRhLmJyczsKICAgICAgICAgICAgICAgICAgICBtdkxpbmsuaHJlZiA9IG12WzcyMF0gfHwgbXZbNDgwXSB8fCBtdlsyNDBdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBkaXNhYmxlU3R5bGUobXZMaW5rKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmIChzb25nLmFsLnBpY19zdHIgfHwgc29uZy5hbC5waWMpIHsKICAgICAgICAgICAgICAgIHZhciBpbWcgPSBpbm5lckZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmotaW1nIik7CiAgICAgICAgICAgICAgICBwaWNMaW5rLmhyZWYgPSBpbWcuZGF0YXNldFsic3JjIl0gPSBhcGkuZ2V0VHJhY2tVUkwoc29uZy5hbC5waWNfc3RyIHx8IHNvbmcuYWwucGljKTsKICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpbWcuZGF0YXNldFsic3JjIl0gKyAiP3BhcmFtPTEzMHkxMzAiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGlzYWJsZVN0eWxlKHBpY0xpbmspOwogICAgICAgICAgICB9OyAgIAogICAgICAgICAgICAgICAgdmFyIGFsaWEgPSBzb25nLmFsaWFbMF0gPyAnKCcgKyBzb25nLmFsaWEgKyAnKScgOiAnJzsKICAgICAgICAgICAgICAgIHZhciBhcnMgPSAnLSc7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvbmcuYXIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBhcnMgKz0gKHNvbmcuYXIpIFtpXS5uYW1lICsgJy8nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHNvbmdpbmZvID0gc29uZy5uYW1lICsgYWxpYSArIGFyczsKICAgICAgICAgICAgICAgIGFwaS5uZXdzb25nKHNvbmdJZCwgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIHZhciBzb25nID0gcmVzdWx0LmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgc2V0VXJsQW5kU2l6ZShuZXdNcDNMaW5rLCBzb25nLCBzb25naW5mbyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGFwaS5scmMoc29uZ0lkLCBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIHNldEx5cmljKGx5cmljTGluaywgcmVzdWx0KTsKICAgICAgICB9KTsKICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jcmVhdGVMaW5lQ29udGFpbmVyKCfkuIvovb0nKTsKICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TXAzTGluayk7CiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGx5cmljTGluayk7CiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG12TGluayk7CiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBpY0xpbmspOwoKICAgICAgICByZXR1cm4gY29udGFpbmVyOwogICAgfSwKICAgIGNyZWF0ZUxpbms6IGZ1bmN0aW9uKGxhYmVsKSB7CiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgbGluay5pbm5lckhUTUwgPSBsYWJlbDsKICAgICAgICBsaW5rLmNsYXNzTmFtZSA9ICdzLWZjNyc7CiAgICAgICAgbGluay5zdHlsZS5tYXJnaW5SaWdodCA9ICcxMHB4JzsKICAgICAgICBsaW5rLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApOyc7CiAgICAgICAgbGluay50YXJnZXQgPSAnX2JsYW5rJzsKICAgICAgICByZXR1cm4gbGluazsKICAgIH0sCiAgICBjcmVhdGVMaW5lQ29udGFpbmVyOiBmdW5jdGlvbihsYWJlbCkgewogICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7CiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdkZXNjIHMtZmM0JzsKICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gbGFiZWwgKyAn77yaJzsKICAgICAgICBjb250YWluZXIuc3R5bGUubWFyZ2luID0gJzEwcHggMCc7CiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjsKICAgIH0sCn0sCl07CmlmIChpbm5lckZyYW1lKSB7CiAgICBpbm5lckZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGksIHBhZ2U7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgIHBhZ2UgPSBwYWdlc1tpXTsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZihwYWdlLnVybCkgIT0gLTEpIHsKICAgICAgICAgICAgICAgIHBhZ2UuaGFuZGxlcigpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn0KZG9jdW1lbnQuY29va2llID0gJ29zPWxpbnV4JzsKYXBpLmF1dG9TaWduKDAsJ2FwcHNpZ249dHJ1ZScpOwphcGkuYXV0b1NpZ24oMSwnd2Vic2lnbj10cnVlJyk7Ci8v5o+Q6auY5Zyo57q/6Z+z6LSoICDmnInpl67popgg5YWI5bCB5Y2w5o6JIOacieepuuWGjeivtOWQp+OAggovKnZhciBvcmlnaW5hbF9hc3JzZWEgPSB1bnNhZmVXaW5kb3cuYXNyc2VhOwp1bnNhZmVXaW5kb3cuYXNyc2VhID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGFyZ3VtZW50c1swXSk7CiAgICBkYXRhLmJyID0gOTkwMDAwOwogICAgYXJndW1lbnRzWzBdID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CiAgICByZXR1cm4gb3JpZ2luYWxfYXNyc2VhLmFwcGx5KHVuc2FmZVdpbmRvdywgYXJndW1lbnRzKTsKfTsqLwo="},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link*","*://yun.baidu.com/share/link*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970096},"enabled":true,"position":21,"file_url":"https://greasyfork.org/scripts/23635-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B.user.js","uuid":"a32aa463-5ae4-4309-976b-d90c33f30547","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jnm7TmjqXkuIvovb3liqnmiYsKLy8gQG5hbWVzcGFjZSAgICB1bmRlZmluZWQKLy8gQHZlcnNpb24gICAgICAwLjkuMjQKLy8gQGRlc2NyaXB0aW9uICDnm7TmjqXkuIvovb3nmb7luqbnvZHnm5jlkoznmb7luqbnvZHnm5jliIbkuqvnmoTmlofku7Ys6YG/5YWN5LiL6L295paH5Lu25pe26LCD55So55m+5bqm572R55uY5a6i5oi356uvLOiOt+WPlue9keebmOaWh+S7tueahOebtOaOpeS4i+i9veWcsOWdgAovLyBAYXV0aG9yICAgICAgIGl2ZXNqYXkKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2xpbmsqCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vc2hhcmUvbGluayoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktbGF0ZXN0LmpzCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICBHTV9zZXRDbGlwYm9hcmQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyICQgPSAkIHx8IHdpbmRvdy4kOwogICAgdmFyIGxvZ19jb3VudCA9IDE7CiAgICB2YXIgd29yZE1hcEh0dHAgPSB7CiAgICAgICAgJ2xpc3QtZ3JpZC1zd2l0Y2gnOid5dmdiOVhKJywKICAgICAgICAnbGlzdC1zd2l0Y2hlZC1vbic6J2tzYlhabScsCiAgICAgICAgJ2dyaWQtc3dpdGNoZWQtb24nOid0Y2g2VzI1JywKICAgICAgICAnbGlzdC1zd2l0Y2gnOidscmJvOWEnLAogICAgICAgICdncmlkLXN3aXRjaCc6J3hoNnBvTCcsCiAgICAgICAgJ2NoZWNrYm94JzonRU9HZXhmJywKICAgICAgICAnY29sLWl0ZW0nOidReHlmdmcnLAogICAgICAgICdjaGVjayc6J2Z5ZEdOQycsCiAgICAgICAgJ2NoZWNrZWQnOidFenViR2cnLAogICAgICAgICdsaXN0LXZpZXcnOid2ZEFmS01iJywKICAgICAgICAnaXRlbS1hY3RpdmUnOiduZ2I5TzYnLAogICAgICAgICdncmlkLXZpZXcnOidKS3ZISk1iJywKICAgICAgICAnYmFyLXNlYXJjaCc6J09GYVBhTycsCiAgICAgICAgJ2RlZmF1bHQtZG9tJzoneHBYMlBWJywKICAgICAgICAnYmFyJzoncXhuWDJHNScsCiAgICAgICAgJ2xpc3QtdG9vbHMnOidRRERPUUInCiAgICB9OwogICAgdmFyIHdvcmRNYXBIdHRwcyA9IHsKICAgICAgICAnbGlzdC1ncmlkLXN3aXRjaCc6J3FvYm1YQjFxJywKICAgICAgICAnbGlzdC1zd2l0Y2hlZC1vbic6J2V3WG0xZScsCiAgICAgICAgJ2dyaWQtc3dpdGNoZWQtb24nOidreGhrWDJFbScsCiAgICAgICAgJ2xpc3Qtc3dpdGNoJzoncnZwWG02MycsCiAgICAgICAgJ2dyaWQtc3dpdGNoJzonbXhnZEpnd3YnLAogICAgICAgICdjaGVja2JveCc6J0VPR2V4ZicsCiAgICAgICAgJ2NvbC1pdGVtJzonUXh5ZnZnJywKICAgICAgICAnY2hlY2snOidmeWRHTkMnLAogICAgICAgICdjaGVja2VkJzonRXp1YkdnJywKICAgICAgICAnbGlzdC12aWV3JzondmRBZktNYicsCiAgICAgICAgJ2l0ZW0tYWN0aXZlJzoncGNhbVhCUlgnLAogICAgICAgICdncmlkLXZpZXcnOidKS3ZISk1iJywKICAgICAgICAnYmFyLXNlYXJjaCc6J09GYVBhTycsCiAgICAgICAgJ2RlZmF1bHQtZG9tJzonbnl6dEpxV0UnLAogICAgICAgICdiYXInOidta3NlSnFLUScsCiAgICAgICAgJ2xpc3QtdG9vbHMnOidRRERPUUInCiAgICB9OwogICAgdmFyIHdvcmRNYXAgPSBsb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cDonID8gd29yZE1hcEh0dHAgOiB3b3JkTWFwSHR0cHM7CiAgICAKICAgIC8vY29uc29sZS5sb2cod29yZE1hcCk7CgogICAgZnVuY3Rpb24gc2xvZyhjMSxjMixjMyl7CiAgICAgICAgYzEgPSBjMT9jMTonJzsKICAgICAgICBjMiA9IGMyP2MyOicnOwogICAgICAgIGMzID0gYzM/YzM6Jyc7CiAgICAgICAgY29uc29sZS5sb2coJyMnKyBsb2dfY291bnQrKyArJy1CYWlEdU5ldGRpc2tIZWxwZXItbG9nOicsYzEsYzIsYzMpOwogICAgfQoKICAgICQoZnVuY3Rpb24oKXsKICAgICAgICBzd2l0Y2goZGV0ZWN0UGFnZSgpKXsKICAgICAgICAgICAgY2FzZSAnZGlzayc6CiAgICAgICAgICAgICAgICB2YXIgcGFuSGVscGVyID0gbmV3IFBhbkhlbHBlcigpOwogICAgICAgICAgICAgICAgcGFuSGVscGVyLmluaXQoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgY2FzZSAnc2hhcmUnOgogICAgICAgICAgICBjYXNlICdzJzoKICAgICAgICAgICAgICAgIHZhciBwYW5TaGFyZUhlbHBlciA9IG5ldyBQYW5TaGFyZUhlbHBlcigpOwogICAgICAgICAgICAgICAgcGFuU2hhcmVIZWxwZXIuaW5pdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0pOwoKICAgIC8v572R55uY6aG16Z2i55qE5LiL6L295Yqp5omLCiAgICBmdW5jdGlvbiBQYW5IZWxwZXIoKXsKICAgICAgICB2YXIgeXVuRGF0YSxzaWduLHRpbWVzdGFtcCxiZHN0b2tlbixsb2dpZCxmaWRfbGlzdDsKICAgICAgICB2YXIgZmlsZUxpc3Q9W10sc2VsZWN0RmlsZUxpc3Q9W10sYmF0Y2hMaW5rTGlzdD1bXSxiYXRjaExpbmtMaXN0QWxsPVtdLGxpbmtMaXN0PVtdLAogICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzPSdsaXN0JzsKICAgICAgICB2YXIgb2JzZXJ2ZXIsY3VycmVudFBhZ2UsY3VycmVudFBhdGgsY3VycmVudENhdGVnb3J5LGRpYWxvZyxzZWFyY2hLZXk7CiAgICAgICAgdmFyIHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgICAgIHZhciByZXN0QVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9wY3MuYmFpZHUuY29tL3Jlc3QvMi4wL3Bjcy8iOwogICAgICAgIHZhciBjbGllbnRBUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvL2QucGNzLmJhaWR1LmNvbS9yZXN0LzIuMC9wY3MvIjsKCiAgICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgeXVuRGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICAgICAgICBzbG9nKCd5dW5EYXRhOicseXVuRGF0YSk7CiAgICAgICAgICAgIGlmKHl1bkRhdGEgPT09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICBzbG9nKCfpobXpnaLmnKrmraPluLjliqDovb3vvIzmiJbogIXnmb7luqblt7Lnu4/mm7TmlrDvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbml0UGFyYW1zKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICAgICAgICBhZGRCdXR0b24oKTsKICAgICAgICAgICAgY3JlYXRlSWZyYW1lKCk7CiAgICAgICAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6dHJ1ZX0pOwoKICAgICAgICAgICAgc2xvZygn572R55uY55u05o6l5LiL6L295Yqp5omL5Yqg6L295oiQ5Yqf77yBJyk7CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpewogICAgICAgICAgICBzaWduID0gZ2V0U2lnbigpOwogICAgICAgICAgICB0aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoKTsKICAgICAgICAgICAgYmRzdG9rZW4gPSBnZXRCRFN0b2tlbigpOwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgc2xvZygnQ3VycmVudCBkaXNwbGF5IG1vZGU6JyxjdXJyZW50UGFnZSk7CgogICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSAnbGlzdCcpCiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKCiAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09ICdjYXRlZ29yeScpCiAgICAgICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwoKICAgICAgICAgICAgaWYoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpCiAgICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKCiAgICAgICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hGaWxlTGlzdCgpewogICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2xpc3QnKSB7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT0gJ2NhdGVnb3J5Jyl7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldENhdGVnb3J5RmlsZUxpc3QoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PSAnc2VhcmNoJykgewogICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRTZWFyY2hGaWxlTGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0TGlzdCgpewogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaExpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nmoTop4blm77mqKHlvI8KICAgICAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICAvL3JldHVybiAkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpLmhhc0NsYXNzKCdsaXN0LXN3aXRjaGVkLW9uJyk/J2xpc3QnOigkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpLmhhc0NsYXNzKCdncmlkLXN3aXRjaGVkLW9uJyk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgICAgIC8vcmV0dXJuICQoJ2Rpdi5pdGlXelBZJykuaGFzQ2xhc3MoJ2t1ZHRXWTQ2Jyk/J2xpc3QnOigkKCdkaXYuaXRpV3pQWScpLmhhc0NsYXNzKCdueXRBTDl3Jyk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgICAgIHJldHVybiAkKCdkaXYuJyt3b3JkTWFwWydsaXN0LWdyaWQtc3dpdGNoJ10pLmhhc0NsYXNzKHdvcmRNYXBbJ2xpc3Qtc3dpdGNoZWQtb24nXSk/J2xpc3QnOigkKCdkaXYuJyt3b3JkTWFwWydsaXN0LWdyaWQtc3dpdGNoJ10pLmhhc0NsYXNzKHdvcmRNYXBbJ2dyaWQtc3dpdGNoZWQtb24nXSk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckV2ZW50TGlzdGVuZXIoKXsKICAgICAgICAgICAgcmVnaXN0ZXJIYXNoQ2hhbmdlKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyTGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICByZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4blnLDlnYDmoI8j5qCH562+55qE5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJIYXNoQ2hhbmdlKCl7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICAgICAgaWYoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFBhdGggPT0gZ2V0UGF0aCgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnZXRDdXJyZW50UGFnZSgpID09ICdjYXRlZ29yeScpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudENhdGVnb3J5ID09IGdldENhdGVnb3J5KCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGdldEN1cnJlbnRQYWdlKCkgPT0gJ3NlYXJjaCcpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VhcmNoS2V5ID09IGdldFNlYXJjaEtleSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG6KeG5Zu+5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICAvL3ZhciAkYV9saXN0ID0gJCgnYVtub2RlLXR5cGU9bGlzdC1zd2l0Y2hdJyk7CiAgICAgICAgICAgIC8vdmFyICRhX2xpc3QgPSAkKCdhW25vZGUtdHlwZT1lZXBXemtrXScpOwogICAgICAgICAgICB2YXIgJGFfbGlzdCA9ICQoJ2Fbbm9kZS10eXBlPScrd29yZE1hcFsnbGlzdC1zd2l0Y2gnXSsnXScpOwogICAgICAgICAgICAkYV9saXN0LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2xpc3QnOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vdmFyICRhX2dyaWQgPSAkKCdhW25vZGUtdHlwZT1ncmlkLXN3aXRjaF0nKTsKICAgICAgICAgICAgLy92YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPXl0bnZXWTdxXScpOwogICAgICAgICAgICB2YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPScrd29yZE1hcFsnZ3JpZC1zd2l0Y2gnXSsnXScpOwogICAgICAgICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v5paH5Lu26YCJ5oup5qGGCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uRU9HZXhmJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicrd29yZE1hcFsnY2hlY2tib3gnXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdsaXN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL2lmKCRwYXJlbnQuaGFzQ2xhc3MoJ2l0ZW0tYWN0aXZlJykpewogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygncHJXelhBJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnaXRlbS1hY3RpdmUnXSkpewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflj5bmtojpgInkuK3mlofku7bvvJonK2ZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxzZWxlY3RGaWxlTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0W2ldLmZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5zcGxpY2UoaSwxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7Y6JytmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckNoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uY2hlY2tib3gnKTsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5FT0dleGYnKTsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uJyt3b3JkTWFwWydjaGVja2JveCddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+WFqOmAieahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQWxsQ2hlY2tib3goKXsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnZGl2LmNvbC1pdGVtLmNoZWNrJyk7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5ReHlmdmcuZnlkR05DJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdkaXYuJyt3b3JkTWFwWydjb2wtaXRlbSddKycuJyt3b3JkTWFwWydjaGVjayddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgLy9pZigkcGFyZW50Lmhhc0NsYXNzKCdjaGVja2VkJykpewogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygnRXp1YkdnJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnY2hlY2tlZCddKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOWFqOmAiScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WFqOmDqOmAieS4rScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdkaXYuUXh5ZnZnLmZ5ZEdOQycpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2Licrd29yZE1hcFsnY29sLWl0ZW0nXSsnLicrd29yZE1hcFsnY2hlY2snXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/ljZXkuKrmlofku7bpgInkuK3vvIzngrnlh7vmlofku7bkuI3mmK/ngrnlh7vpgInkuK3moYbvvIzkvJrlj6rpgInkuK3or6Xmlofku7YKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYudmRBZktNYiBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYobm9kZU5hbWUgIT0gJ3NwYW4nICYmIG5vZGVOYW1lICE9ICdhJyAmJiBub2RlTmFtZSAhPSAnZW0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ3NoaWZ0S2V5OicrZS5zaGlmdEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFlLnNoaWZ0S2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyICRkZF9zZWxlY3QgPSAkKCdkaXYubGlzdC12aWV3IGRkLml0ZW0tYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciAkZGRfc2VsZWN0ID0gJCgnZGl2LnZkQWZLTWIgZGQucHJXelhBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRkX3NlbGVjdCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKycgZGQuJyt3b3JkTWFwWydpdGVtLWFjdGl2ZSddKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCgkZGRfc2VsZWN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJChlbGVtZW50KSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYudmRBZktNYiBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKXsKICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucyl7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXZpZXcnKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtdmlldycpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy92YXIgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZkQWZLTWInKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkpLdkhKTWInKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBsaXN0X3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyt3b3JkTWFwWydsaXN0LXZpZXcnXSk7CiAgICAgICAgICAgIHZhciBncmlkX3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyt3b3JkTWFwWydncmlkLXZpZXcnXSk7CgogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxpc3RfdmlldyxvcHRpb25zKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShncmlkX3ZpZXcsb3B0aW9ucyk7CiAgICAgICAgfQoKICAgICAgICAvL+a3u+WKoOWKqeaJi+aMiemSrgogICAgICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpewogICAgICAgICAgICAvLyQoJ2Rpdi5iYXItc2VhcmNoJykuY3NzKCd3aWR0aCcsJzE4JScpOy8v5L+u5pS55pCc57Si5qGG55qE5a695bqm77yM6YG/5YWN6YGu5oyhCiAgICAgICAgICAgIC8vJCgnZGl2Lk9GYVBhTycpLmNzcygnd2lkdGgnLCcxOCUnKTsKICAgICAgICAgICAgJCgnZGl2Licrd29yZE1hcFsnYmFyLXNlYXJjaCddKS5jc3MoJ3dpZHRoJywnMTglJyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24iPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRvd25sb2FkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDo5NnB4Ij48L3NwYW4+Jyk7CgogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj7nm7TmjqXkuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3OXB4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1kaXJlY3QiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImxpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQKTwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cHNsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQUyk8L2E+Jyk7CiAgICAgICAgICAgICRkaXJlY3RidXR0b25fbWVudS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9kb3dubG9hZF9idXR0b24pLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2xpbmtfYnV0dG9uKS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbikuYXBwZW5kKCRkaXJlY3RidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbi5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2EpLmFwcGVuZCgkZGlyZWN0YnV0dG9uX21lbnUpKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9kb3dubG9hZF9idXR0b24uY2xpY2soZG93bmxvYWRDbGljayk7CiAgICAgICAgICAgICRkaXJlY3RidXR0b25fbGlua19idXR0b24uY2xpY2sobGlua0NsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CgogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj5BUEnkuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3N3B4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9Imh0dHBsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24gPSAkKCc8YSBpZD0iYmF0Y2hodHRwbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqUoSFRUUCk8L2E+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBzbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqUoSFRUUFMpPC9hPicpOwogICAgICAgICAgICAkYXBpYnV0dG9uX21lbnUuYXBwZW5kKCRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbl9saW5rX2J1dHRvbikuYXBwZW5kKCRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbik7CiAgICAgICAgICAgICRhcGlidXR0b24uYXBwZW5kKCRhcGlidXR0b25fc3Bhbi5hcHBlbmQoJGFwaWJ1dHRvbl9hKS5hcHBlbmQoJGFwaWJ1dHRvbl9tZW51KSk7CiAgICAgICAgICAgICRhcGlidXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRhcGlidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uLmNsaWNrKGRvd25sb2FkQ2xpY2spOwogICAgICAgICAgICAkYXBpYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uLmNsaWNrKGJhdGNoQ2xpY2spOwoKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWRyb3Bkb3duLWJ1dHRvbi1zZWNvbmQiIG1lbnVsZXZlbD0iMiI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0byI+5aSW6ZO+5LiL6L29PC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgICAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX21lbnUgPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOjEyMHB4O2xlZnQ6NzlweCI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9kb3dubG9hZF9idXR0b24gPSAkKCc8YSBpZD0iZG93bmxvYWQtb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5LiL6L29PC9hPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJsaW5rLW91dGVybGluayIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGxpbmstb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lPC9hPicpOwogICAgICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX21lbnUuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fZG93bmxvYWRfYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbik7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b24uYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fc3Bhbi5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9hKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9tZW51KSk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fZG93bmxvYWRfYnV0dG9uLmNsaWNrKGRvd25sb2FkQ2xpY2spOwogICAgICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b24pOwogICAgICAgICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8kKCdkaXYuZGVmYXVsdC1kb20gZGl2LmJhciBkaXYubGlzdC10b29scycpLmFwcGVuZCgkZHJvcGRvd25idXR0b24pOwogICAgICAgICAgICAvLyQoJ2Rpdi5pcmhXOXBaIGRpdi55cWdSNzQ3IGRpdi5RRERPUUInKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICAgICAgJCgnZGl2Licrd29yZE1hcFsnZGVmYXVsdC1kb20nXSsnIGRpdi4nK3dvcmRNYXBbJ2JhciddKycgZGl2Licrd29yZE1hcFsnbGlzdC10b29scyddKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICB9CgogICAgICAgIC8v5pqC5pe25rKh55SoCiAgICAgICAgLy8gZnVuY3Rpb24gYWRkTG9hZGluZygpewogICAgICAgIC8vICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgIC8vICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ7CiAgICAgICAgLy8gICAgIHZhciBsZWZ0ID0gKHNjcmVlbldpZHRoLTEwKS8yOwogICAgICAgIC8vICAgICB2YXIgdG9wID0gc2NyZWVuSGVpZ2h0LzI7CiAgICAgICAgLy8gICAgIHZhciAkbG9hZGluZyA9ICQoJzxkaXYgaWQ9ImRpYWxvZy1sb2FkaW5nIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDonK2xlZnQrJ3B4O3RvcDonK3RvcCsncHg7ZGlzcGxheTpub25lO3otaW5kZXg6NTI7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjE2cHgiPuWkhOeQhuS4rTwvZGl2PicpOwogICAgICAgIC8vICAgICAkKCdib2R5JykuYXBwZW5kKCRsb2FkaW5nKTsKICAgICAgICAvLyB9CgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkQ2xpY2soZXZlbnQpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rOwoKICAgICAgICAgICAgaWYoaWQgPT0gJ2Rvd25sb2FkLWRpcmVjdCcpewogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkVHlwZTsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLojrflj5bpgInkuK3mlofku7blpLHotKXvvIzor7fliLfmlrDph43or5XvvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAxKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGU9ICdkbGluayc7CiAgICAgICAgICAgICAgICAgICAgLy9kb3dubG9hZFR5cGUgPSBzZWxlY3RGaWxlTGlzdFswXS5pc2Rpcj09MT8nYmF0Y2gnOihzZWxlY3RGaWxlTGlzdFswXS5pc2Rpcj09PTA/J2RsaW5rJzonYmF0Y2gnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT09IDApewogICAgICAgICAgICAgICAgICAgIGlmKGRvd25sb2FkVHlwZSA9PSAnZGxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbmtbMF0uZGxpbms7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihkb3dubG9hZFR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rICsgJyZ6aXBuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUpICsgJy56aXAnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi5Y+R55Sf6ZSZ6K+v77yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYocmVzdWx0LmVycm5vID09IC0xKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDExMil7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIumhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHlpJrmlofku7bkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi6K+l5pa55rOV5LiN5pSv5oyB55uu5b2V5LiL6L2977yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihpZCA9PSAnZG93bmxvYWQtYXBpJyl7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gJ2Rvd25sb2FkLW91dGVybGluaycpewogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LnVybHNbMF0udXJsOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5lcnJubyA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aWh+S7tuS4jeWtmOWcqO+8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDIpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW6ICF5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGV4ZWNEb3dubG9hZChkb3dubG9hZExpbmspOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbGlua0NsaWNrKGV2ZW50KXsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJyxzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgIHZhciBpZCA9IGV2ZW50LnRhcmdldC5pZDsKICAgICAgICAgICAgdmFyIGxpbmtMaXN0LHRpcDsKCiAgICAgICAgICAgIGlmKGlkLmluZGV4T2YoJ2RpcmVjdCcpICE9IC0xKXsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZFR5cGU7CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZT0gJ2RsaW5rJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT09IDApewogICAgICAgICAgICAgICAgICAgIGlmKGRvd25sb2FkVHlwZSA9PSAnZGxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbmtbMF0uZGxpbms7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihkb3dubG9hZFR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluayArICcmemlwbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lKSArICcuemlwJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IC0xKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDExMil7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIumhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgaHR0cGxpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHA6Jyk7CiAgICAgICAgICAgICAgICB2YXIgaHR0cHNsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCdodHRwczonKTsKICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcnOwogICAgICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lICsgJywnICsgZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgIHVybHM6WwogICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmh0dHBsaW5rLHJhbms6MX0sCiAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cHNsaW5rLHJhbms6Mn0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGlwID0gJ+aYvuekuuaooeaLn+eZvuW6pue9keebmOe9kemhteiOt+WPlueahOmTvuaOpe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuWIsOS4i+i9veW3peWFt+mcgOimgeS8oOmAkmNvb2tpZe+8jOWkmuaWh+S7tuaJk+WMheS4i+i9veeahOmTvuaOpeWPr+S7peebtOaOpeWkjeWItuS9v+eUqCc7CiAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHlpJrmlofku7bkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi6K+l5pa55rOV5LiN5pSv5oyB55uu5b2V5LiL6L2977yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihpZC5pbmRleE9mKCdhcGknKSAhPSAtMSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUoc2VsZWN0RmlsZUxpc3RbMF0ucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGh0dHBsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCdodHRwOicpOwogICAgICAgICAgICAgICAgICAgIHZhciBodHRwc2xpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHBzOicpOwogICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTpzZWxlY3RGaWxlTGlzdFswXS5maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmh0dHBsaW5rLHJhbms6MX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmh0dHBzbGluayxyYW5rOjJ9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGh0dHBsaW5rID0gaHR0cGxpbmsucmVwbGFjZSgnMjUwNTI4JywnMjY2NzE5Jyk7CiAgICAgICAgICAgICAgICAgICAgaHR0cHNsaW5rID0gaHR0cHNsaW5rLnJlcGxhY2UoJzI1MDUyOCcsJzI2NjcxOScpOwogICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0LnVybHMucHVzaCh7dXJsOmh0dHBsaW5rLHJhbms6M30pOwogICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0LnVybHMucHVzaCh7dXJsOmh0dHBzbGluayxyYW5rOjR9KTsKICAgICAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65qih5oufQVBQ6I635Y+W55qE6ZO+5o6lKOS9v+eUqOeZvuW6puS6kUlEKe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuWIsOS4i+i9veW3peWFt+mcgOimgeS8oOmAkmNvb2tpZSc7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZC5pbmRleE9mKCdvdXRlcmxpbmsnKSAhPSAtMSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhDbGllbnRBUEkoc2VsZWN0RmlsZUxpc3RbMF0ucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmVycm5vID09IDApewogICAgICAgICAgICAgICAgICAgICAgICBsaW5rTGlzdCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOnNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczpyZXN1bHQudXJscwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5lcnJubyA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aWh+S7tuS4jeWtmOWcqO+8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDIpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW6ICF5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmqKHmi5/nmb7luqbnvZHnm5jlrqLmiLfnq6/ojrflj5bnmoTpk77mjqXvvIzlj6/ku6Xnm7TmjqXlpI3liLbliLDkuIvovb3lt6Xlhbfkvb/nlKjvvIzkuI3pnIDopoFjb29raWUnOwogICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXAsc2hvd2NvcHk6dHJ1ZSxzaG93ZWRpdDp0cnVlfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9kaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBiYXRjaENsaWNrKGV2ZW50KXsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJyxzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICAgICAgICB2YXIgbGlua1R5cGUsdGlwOwogICAgICAgICAgICBsaW5rVHlwZSA9IGlkLmluZGV4T2YoJ2h0dHBzJykgPT0gLTEgPyAoaWQuaW5kZXhPZignaHR0cCcpID09IC0xID8gbG9jYXRpb24ucHJvdG9jb2wrJzonIDogJ2h0dHA6JykgOiAnaHR0cHM6JzsKICAgICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IFtdOwogICAgICAgICAgICBiYXRjaExpbmtMaXN0QWxsID0gW107CiAgICAgICAgICAgIGlmKGlkLmluZGV4T2YoJ2RpcmVjdCcpICE9IC0xKXsKICAgICAgICAgICAgICAgIGJhdGNoTGlua0xpc3QgPSBnZXREaXJlY3RCYXRjaExpbmsobGlua1R5cGUpOwogICAgICAgICAgICAgICAgdGlwID0gJ+aYvuekuuaJgOaciemAieS4reaWh+S7tueahOebtOaOpeS4i+i9vemTvuaOpe+8jOaWh+S7tuWkueaYvuekuuS4uuaJk+WMheS4i+i9veeahOmTvuaOpSc7CiAgICAgICAgICAgICAgICBpZihiYXRjaExpbmtMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+ayoeaciemTvuaOpeWPr+S7peaYvuekuu+8jEFQSemTvuaOpeS4jeimgeWFqOmDqOmAieS4reaWh+S7tuWkue+8gScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5om56YeP6ZO+5o6lJyx0eXBlOidiYXRjaCcsbGlzdDpiYXRjaExpbmtMaXN0LHRpcDp0aXAsc2hvd2NvcHk6dHJ1ZX0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQuaW5kZXhPZignYXBpJykgIT0gLTEpewogICAgICAgICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IGdldEFQSUJhdGNoTGluayhsaW5rVHlwZSk7CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65omA5pyJ6YCJ5Lit5paH5Lu255qEQVBJ5LiL6L296ZO+5o6l77yM5LiN5pi+56S65paH5Lu25aS5JzsKICAgICAgICAgICAgICAgIGlmKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZC5pbmRleE9mKCdvdXRlcmxpbmsnKSAhPSAtMSl7CiAgICAgICAgICAgICAgICBiYXRjaExpbmtMaXN0QWxsID0gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rQWxsKCk7CiAgICAgICAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rRmlyc3QoYmF0Y2hMaW5rTGlzdEFsbCk7CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65omA5pyJ6YCJ5Lit5paH5Lu255qE5aSW6YOo5LiL6L296ZO+5o6l77yM5LiN5pi+56S65paH5Lu25aS5JzsKICAgICAgICAgICAgICAgIGlmKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5om56YeP6ZO+5o6lJyx0eXBlOidiYXRjaCcsbGlzdDpiYXRjaExpbmtMaXN0LHRpcDp0aXAsc2hvd2NvcHk6dHJ1ZSxhbGxsaXN0OmJhdGNoTGlua0xpc3RBbGwsc2hvd2FsbDp0cnVlfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREaXJlY3RCYXRjaExpbmsobGlua1R5cGUpewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRUeXBlLGRvd25sb2FkTGluayxyZXN1bHQ7CiAgICAgICAgICAgICAgICBpZihlbGVtZW50LmlzZGlyID09IDApCiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2RsaW5rJzsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KFtlbGVtZW50XSk7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLGxpbmtUeXBlKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9ICdlcnJvcic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsZG93bmxvYWRsaW5rOmRvd25sb2FkTGlua30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRBUElCYXRjaExpbmsobGlua1R5cGUpewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICBpZihlbGVtZW50LmlzZGlyID09IDEpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluazsKICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUoZWxlbWVudC5wYXRoKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LyxsaW5rVHlwZSk7CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsZG93bmxvYWRsaW5rOmRvd25sb2FkTGlua30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRPdXRlcmxpbmtCYXRjaExpbmtBbGwoKXsKICAgICAgICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNkaXIgPT0gMSkKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKGVsZW1lbnQucGF0aCk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgLy9kb3dubG9hZExpbmsgPSByZXN1bHQudXJsc1swXS51cmw7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGxpbmtzOnJlc3VsdC51cmxzfSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAvL2Rvd25sb2FkTGluayA9ICdlcnJvcic7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGxpbmtzOlt7cmFuazoxLHVybDonZXJyb3InfV19KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vbGlzdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGRvd25sb2FkbGluazpkb3dubG9hZExpbmt9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBsaXN0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rRmlyc3QobGlzdCl7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKGxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7ZmlsZW5hbWU6ZWxlbWVudC5maWxlbmFtZSxkb3dubG9hZGxpbms6ZWxlbWVudC5saW5rc1swXS51cmx9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTaWduKCl7CiAgICAgICAgICAgIHZhciBzaWduRm5jOwogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICBzaWduRm5jID0gbmV3IEZ1bmN0aW9uKCJyZXR1cm4gIiArIHl1bkRhdGEuc2lnbjIpKCk7CiAgICAgICAgICAgIH0gY2F0Y2goZSl7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZS5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHNpZ25GbmMoeXVuRGF0YS5zaWduNSx5dW5EYXRhLnNpZ24xKSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjeebruW9lQogICAgICAgIGZ1bmN0aW9uIGdldFBhdGgoKXsKICAgICAgICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICAgICAgICB2YXIgcmVneCA9IC8oXnwmfFwvKXBhdGg9KFteJl0qKSgmfCQpL2k7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsyXSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluWIhuexu+aYvuekuueahOexu+WIq++8jOWNs+WcsOWdgOagj+S4reeahHR5cGUKICAgICAgICBmdW5jdGlvbiBnZXRDYXRlZ29yeSgpewogICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgIHZhciByZWd4ID0gLyhefCZ8XC8pdHlwZT0oW14mXSopKCZ8JCkvaTsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzJdKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaEtleSgpewogICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgIHZhciByZWd4ID0gLyhefCZ8XC8pa2V5PShbXiZdKikoJnwkKS9pOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMl0pOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3pobXpnaIobGlzdOaIluiAhWNhdGVnb3J5KQogICAgICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlKCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoYXNoLnN1YnN0cmluZyhoYXNoLmluZGV4T2YoJyMnKSsxLGhhc2guaW5kZXhPZignLycpKSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluaWh+S7tuWIl+ihqAogICAgICAgIGZ1bmN0aW9uIGdldEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHZhciBmaWxlbGlzdCA9IFtdOwogICAgICAgICAgICB2YXIgbGlzdFVybCA9IHBhbkFQSVVybCArICJsaXN0IjsKICAgICAgICAgICAgdmFyIHBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGRpcjpwYXRoLAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIG9yZGVyOidzaXplJywKICAgICAgICAgICAgICAgIGRlc2M6MCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MCwKICAgICAgICAgICAgICAgIHNob3dlbXB0eTowLAogICAgICAgICAgICAgICAgd2ViOjEsCiAgICAgICAgICAgICAgICBjaGFubmVsOidjaHVubGVpJywKICAgICAgICAgICAgICAgIGFwcGlkOjI1MDUyOAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmxpc3RVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgZmlsZWxpc3QgPSAwPT09cmVzcG9uc2UuZXJybm8gPyByZXNwb25zZS5saXN0IDogW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluWIhuexu+mhtemdouS4i+eahOaWh+S7tuWIl+ihqAogICAgICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5RmlsZUxpc3QoKXsKICAgICAgICAgICAgdmFyIGZpbGVsaXN0ID0gW107CiAgICAgICAgICAgIHZhciBsaXN0VXJsID0gcGFuQVBJVXJsICsgImNhdGVnb3J5bGlzdCI7CiAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IGdldENhdGVnb3J5KCk7CiAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGNhdGVnb3J5OmNhdGVnb3J5LAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIG9yZGVyOidzaXplJywKICAgICAgICAgICAgICAgIGRlc2M6MCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MCwKICAgICAgICAgICAgICAgIHNob3dlbXB0eTowLAogICAgICAgICAgICAgICAgd2ViOjEsCiAgICAgICAgICAgICAgICBjaGFubmVsOidjaHVubGVpJywKICAgICAgICAgICAgICAgIGFwcGlkOjI1MDUyOAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmxpc3RVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgZmlsZWxpc3QgPSAwPT09cmVzcG9uc2UuZXJybm8gPyByZXNwb25zZS5pbmZvIDogW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTZWFyY2hGaWxlTGlzdCgpewogICAgICAgICAgICB2YXIgZmlsZWxpc3QgPSBbXTsKICAgICAgICAgICAgdmFyIGxpc3RVcmwgPSBwYW5BUElVcmwgKyAnc2VhcmNoJzsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIHJlY3Vyc2lvbjoxLAogICAgICAgICAgICAgICAgb3JkZXI6J3RpbWUnLAogICAgICAgICAgICAgICAgZGVzYzoxLAogICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIHBhZ2U6MSwKICAgICAgICAgICAgICAgIG51bToxMDAsCiAgICAgICAgICAgICAgICBrZXk6c2VhcmNoS2V5LAogICAgICAgICAgICAgICAgY2hhbm5lbDonY2h1bmxlaScsCiAgICAgICAgICAgICAgICBhcHBfaWQ6MjUwNTI4LAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmxpc3RVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgZmlsZWxpc3QgPSAwPT09cmVzcG9uc2UuZXJybm8gPyByZXNwb25zZS5saXN0IDogW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICAgICAgfQoKICAgICAgICAvL+eUn+aIkOS4i+i9veaXtueahGZpZF9saXN05Y+C5pWwCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlkTGlzdChsaXN0KXsKICAgICAgICAgICAgdmFyIGZpZGxpc3QgPSBudWxsOwogICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgdmFyIGZpbGVpZGxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKGxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICBmaWxlaWRsaXN0LnB1c2goZWxlbWVudC5mc19pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmaWRsaXN0ID0gJ1snICsgZmlsZWlkbGlzdCArICddJzsKICAgICAgICAgICAgcmV0dXJuIGZpZGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEudGltZXN0YW1wOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0QkRTdG9rZW4oKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuTVlCRFNUT0tFTjsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W55u05o6l5LiL6L295Zyw5Z2ACiAgICAgICAgLy/ov5nkuKrlnLDlnYDkuI3mmK/nm7TmjqXkuIvovb3lnLDlnYDvvIzorr/pl67ov5nkuKrlnLDlnYDkvJrov5Tlm54zMDLvvIxyZXNwb25zZSBoZWFkZXLkuK3nmoRsb2NhdGlvbuaJjeaYr+ecn+WunuS4i+i9veWcsOWdgAogICAgICAgIC8v5pqC5pe25rKh5pyJ5om+5Yiw5o+Q5Y+W5pa55rOVCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSSh0eXBlKXsKICAgICAgICAgICAgdmFyIGRvd25sb2FkVXJsID0gcGFuQVBJVXJsICsgImRvd25sb2FkIjsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zPSB7CiAgICAgICAgICAgICAgICBzaWduOnNpZ24sCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6dGltZXN0YW1wLAogICAgICAgICAgICAgICAgZmlkbGlzdDpmaWRfbGlzdCwKICAgICAgICAgICAgICAgIHR5cGU6dHlwZSwKICAgICAgICAgICAgICAgIGNoYW5uZWw6J2NodW5sZWknLAogICAgICAgICAgICAgICAgd2ViOjEsCiAgICAgICAgICAgICAgICBhcHBfaWQ6MjUwNTI4LAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmRvd25sb2FkVXJsLAogICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgICAgICBkYXRhOnBhcmFtcywKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUocGF0aCl7CiAgICAgICAgICAgIHZhciBsaW5rID0gcmVzdEFQSVVybCArICdmaWxlP21ldGhvZD1kb3dubG9hZCZhcHBfaWQ9MjUwNTI4JnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXRoKTsKICAgICAgICAgICAgcmV0dXJuIGxpbms7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUVTKHBhdGgpewogICAgICAgICAgICB2YXIgbGluayA9IHJlc3RBUElVcmwgKyAnZmlsZT9tZXRob2Q9ZG93bmxvYWQmYXBwX2lkPTI2NjcxOSZwYXRoPScgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aCk7CiAgICAgICAgICAgIHJldHVybiBsaW5rOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShwYXRoKXsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgdmFyIHVybCA9IGNsaWVudEFQSVVybCArICdmaWxlP21ldGhvZD1sb2NhdGVkb3dubG9hZCZhcHBfaWQ9MjUwNTI4JnZlcj00LjAmcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpOwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOnVybCwKICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsCiAgICAgICAgICAgICAgICB4aHJGaWVsZHM6IHsKICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6ewogICAgICAgICAgICAgICAgICAgIDQwNDpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKHJlc3VsdCl7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJyb3JfY29kZSA9PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC51cmxzID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IDI7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyZXN1bHQudXJscyxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC51cmxzW2luZGV4XS51cmwgPSBlbGVtZW50LnVybC5yZXBsYWNlKCdcXCcsJycpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJyb3JfY29kZSA9PSAzMTA2Nil7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IC0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHt9OwogICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4ZWNEb3dubG9hZChsaW5rKXsKICAgICAgICAgICAgc2xvZygi5LiL6L296ZO+5o6l77yaIitsaW5rKTsKICAgICAgICAgICAgJCgnI2hlbHBlcmRvd25sb2FkaWZyYW1lJykuYXR0cignc3JjJyxsaW5rKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpewogICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXYgY2xhc3M9ImhlbHBlci1oaWRlIiBzdHlsZT0icGFkZGluZzowO21hcmdpbjowO2Rpc3BsYXk6YmxvY2siPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGlmcmFtZSA9ICQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGlkPSJoZWxwZXJkb3dubG9hZGlmcmFtZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9pZnJhbWU+Jyk7CiAgICAgICAgICAgICRkaXYuYXBwZW5kKCRpZnJhbWUpOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRkaXYpOwoKICAgICAgICB9CiAgICB9CgogICAgLy/liIbkuqvpobXpnaLnmoTkuIvovb3liqnmiYsKICAgIGZ1bmN0aW9uIFBhblNoYXJlSGVscGVyKCl7CiAgICAgICAgdmFyIHl1bkRhdGEsc2lnbix0aW1lc3RhbXAsYmRzdG9rZW4sY2hhbm5lbCxjbGllbnR0eXBlLHdlYixhcHBfaWQsbG9naWQsZW5jcnlwdCxwcm9kdWN0LHVrLHByaW1hcnlpZCxmaWRfbGlzdCxleHRyYSxzaGFyZWlkOwogICAgICAgIHZhciB2Y29kZTsKICAgICAgICB2YXIgc2hhcmVUeXBlLGJ1dHRvblRhcmdldCxjdXJyZW50UGF0aCxsaXN0X2dyaWRfc3RhdHVzLG9ic2VydmVyLGRpYWxvZyx2Y29kZURpYWxvZzsKICAgICAgICB2YXIgZmlsZUxpc3Q9W10sc2VsZWN0RmlsZUxpc3Q9W107CiAgICAgICAgdmFyIHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgICAgIHZhciBzaGFyZUxpc3RVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgIi9zaGFyZS9saXN0IjsKCiAgICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgeXVuRGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICAgICAgICBzbG9nKCd5dW5EYXRhOicseXVuRGF0YSk7CiAgICAgICAgICAgIGlmKHl1bkRhdGEgPT09IHVuZGVmaW5lZCB8fCB5dW5EYXRhLkZJTEVJTkZPID09IG51bGwpewogICAgICAgICAgICAgICAgc2xvZygn6aG16Z2i5pyq5q2j5bi45Yqg6L2977yM5oiW6ICF55m+5bqm5bey57uP5pu05paw77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5pdFBhcmFtcygpOwogICAgICAgICAgICBhZGRCdXR0b24oKTsKICAgICAgICAgICAgZGlhbG9nID0gbmV3IERpYWxvZyh7YWRkQ29weTpmYWxzZX0pOwogICAgICAgICAgICB2Y29kZURpYWxvZyA9IG5ldyBWQ29kZURpYWxvZyhyZWZyZXNoVkNvZGUsY29uZmlybUNsaWNrKTsKICAgICAgICAgICAgY3JlYXRlSWZyYW1lKCk7CgogICAgICAgICAgICBpZighaXNTaW5nbGVTaGFyZSgpKXsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgICAgICAgICAgY3JlYXRlT2JzZXJ2ZXIoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2xvZygn5YiG5Lqr55u05o6l5LiL6L295Yqg6L295oiQ5YqfIScpOwogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIGluaXRQYXJhbXMoKXsKICAgICAgICAgICAgc2hhcmVUeXBlID0gZ2V0U2hhcmVUeXBlKCk7CiAgICAgICAgICAgIHNpZ24gPSB5dW5EYXRhLlNJR047CiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHl1bkRhdGEuVElNRVNUQU1QOwogICAgICAgICAgICBiZHN0b2tlbiA9IHl1bkRhdGEuTVlCRFNUT0tFTjsKICAgICAgICAgICAgY2hhbm5lbCA9ICdjaHVubGVpJzsKICAgICAgICAgICAgY2xpZW50dHlwZSA9IDA7CiAgICAgICAgICAgIHdlYiA9IDE7CiAgICAgICAgICAgIGFwcF9pZCA9IDI1MDUyODsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICBlbmNyeXB0ID0gMDsKICAgICAgICAgICAgcHJvZHVjdCA9ICdzaGFyZSc7CiAgICAgICAgICAgIHByaW1hcnlpZCA9IHl1bkRhdGEuU0hBUkVfSUQ7CiAgICAgICAgICAgIHVrID0geXVuRGF0YS5TSEFSRV9VSzsKCiAgICAgICAgICAgIGlmKHNoYXJlVHlwZSA9PSAnc2VjcmV0Jyl7CiAgICAgICAgICAgICAgICBleHRyYSA9IGdldEV4dHJhKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaXNTaW5nbGVTaGFyZSgpKXsKICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgICAgICAgIGlmKHl1bkRhdGEuQ0FURUdPUlkgPT0gMil7CiAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVuYW1lID0geXVuRGF0YS5GSUxFTkFNRTsKICAgICAgICAgICAgICAgICAgICBvYmoucGF0aCA9IHl1bkRhdGEuUEFUSDsKICAgICAgICAgICAgICAgICAgICBvYmouZnNfaWQgPSB5dW5EYXRhLkZTX0lEOwogICAgICAgICAgICAgICAgICAgIG9iai5pc2RpciA9IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9iai5maWxlbmFtZSA9IHl1bkRhdGEuRklMRUlORk9bMF0uc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBvYmoucGF0aCA9IHl1bkRhdGEuRklMRUlORk9bMF0ucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZzX2lkID0geXVuRGF0YS5GSUxFSU5GT1swXS5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmlzZGlyID15dW5EYXRhLkZJTEVJTkZPWzBdLmlzZGlyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaGFyZWlkID0geXVuRGF0YS5TSEFSRV9JRDsKICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9IGdldExpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v5Yik5pat5YiG5Lqr57G75Z6L77yIcHVibGlj5oiW6ICFc2VjcmV077yJCiAgICAgICAgZnVuY3Rpb24gZ2V0U2hhcmVUeXBlKCl7CiAgICAgICAgICAgIHJldHVybiB5dW5EYXRhLlNIQVJFX1BVQkxJQz09PTEgPyAncHVibGljJyA6ICdzZWNyZXQnOwogICAgICAgIH0KCiAgICAgICAgLy/liKTmlq3mmK/ljZXkuKrmlofku7bliIbkuqvov5jmmK/mlofku7blpLnmiJbogIXlpJrmlofku7bliIbkuqsKICAgICAgICBmdW5jdGlvbiBpc1NpbmdsZVNoYXJlKCl7CiAgICAgICAgICAgIHJldHVybiB5dW5EYXRhLmdldENvbnRleHQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8v5Yik5pat5piv5ZCm5Li66Ieq5bex55qE5YiG5Lqr6ZO+5o6lCiAgICAgICAgZnVuY3Rpb24gaXNTZWxmU2hhcmUoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuTVlTRUxGID09IDEgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRFeHRyYSgpewogICAgICAgICAgICB2YXIgc2VLZXkgPSBkZWNvZGVVUklDb21wb25lbnQoZ2V0Q29va2llKCdCRENMTkQnKSk7CiAgICAgICAgICAgIHJldHVybiAneycgKyAnInNla2V5IjoiJyArIHNlS2V5ICsgJyInICsgIn0iOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nm67lvZUKICAgICAgICBmdW5jdGlvbiBnZXRQYXRoKCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgdmFyIHJlZ3ggPSAvKF58JnxcLylwYXRoPShbXiZdKikoJnwkKS9pOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMl0pOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nmoTop4blm77mqKHlvI8KICAgICAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICB2YXIgc3RhdHVzID0gJ2xpc3QnOwogICAgICAgICAgICB2YXIgJHN0YXR1c19kaXYgPSAkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpOwogICAgICAgICAgICBpZiAoJHN0YXR1c19kaXYuaGFzQ2xhc3MoJ2xpc3Qtc3dpdGNoZWQtb24nKSl7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHN0YXR1c19kaXYuaGFzQ2xhc3MoJ2dyaWQtc3dpdGNoZWQtb24nKSkgewogICAgICAgICAgICAgICAgc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdGF0dXM7CiAgICAgICAgfQoKICAgICAgICAvL+a3u+WKoOS4i+i9veWKqeaJi+aMiemSrgogICAgICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpewogICAgICAgICAgICBpZihpc1NpbmdsZVNoYXJlKCkpewogICAgICAgICAgICAgICAgJCgnZGl2LnNsaWRlLXNob3ctcmlnaHQnKS5jc3MoJ3dpZHRoJywnNTAwcHgnKTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5mcmFtZS1tYWluJykuY3NzKCd3aWR0aCcsJzk2JScpOwogICAgICAgICAgICAgICAgJCgnZGl2LnNoYXJlLWZpbGUtdmlld2VyJykuY3NzKCd3aWR0aCcsJzc0MHB4JykuY3NzKCdtYXJnaW4tbGVmdCcsJ2F1dG8nKS5jc3MoJ21hcmdpbi1yaWdodCcsJ2F1dG8nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAkKCdkaXYuc2xpZGUtc2hvdy1yaWdodCcpLmNzcygnd2lkdGgnLCc1MDBweCcpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgZGF0YS1idXR0b24taWQ9ImIyMDAiIGRhdGEtYnV0dG9uLWluZGV4PSIyMDAiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRvd25sb2FkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOmF1dG87ei1pbmRleDo0MSI+PC9zcGFuPicpOwoKICAgICAgICAgICAgdmFyICRkb3dubG9hZEJ1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA3IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+55u05o6l5LiL6L29PC9hPicpOwogICAgICAgICAgICB2YXIgJGxpbmtCdXR0b24gPSAkKCc8YSBkYXRhLW1lbnUtaWQ9ImItbWVudTIwOCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkZG93bmxvYWRCdXR0b24pLmFwcGVuZCgkbGlua0J1dHRvbik7CiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9hLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYV9zcGFuKTsKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYSkuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9zcGFuKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICRkb3dubG9hZEJ1dHRvbi5jbGljayhkb3dubG9hZEJ1dHRvbkNsaWNrKTsKICAgICAgICAgICAgJGxpbmtCdXR0b24uY2xpY2sobGlua0J1dHRvbkNsaWNrKTsKCiAgICAgICAgICAgICQoJ2Rpdi5tb2R1bGUtc2hhcmUtdG9wLWJhciBkaXYuYmFyIGRpdi5idXR0b24tYm94JykuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVJZnJhbWUoKXsKICAgICAgICAgICAgdmFyICRkaXYgPSAkKCc8ZGl2IGNsYXNzPSJoZWxwZXItaGlkZSIgc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtkaXNwbGF5OmJsb2NrIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRpZnJhbWUgPSAkKCc8aWZyYW1lIHNyYz0iamF2YXNjcmlwdDp2b2lkKDApIiBpZD0iaGVscGVyZG93bmxvYWRpZnJhbWUiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvaWZyYW1lPicpOwogICAgICAgICAgICAkZGl2LmFwcGVuZCgkaWZyYW1lKTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGl2KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpewogICAgICAgICAgICByZWdpc3Rlckhhc2hDaGFuZ2UoKTsKICAgICAgICAgICAgcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICByZWdpc3RlckNoZWNrYm94KCk7CiAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuWcsOWdgOagjyPmoIfnrb7lj5jljJYKICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckhhc2hDaGFuZ2UoKXsKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9IGdldExpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgICAgICBpZihjdXJyZW50UGF0aCA9PSBnZXRQYXRoKCkpewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaEZpbGVMaXN0KCl7CiAgICAgICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hTZWxlY3RGaWxlTGlzdCgpewogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4bop4blm77lj5jljJYKICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIHZhciAkYV9saXN0ID0gJCgnYVtub2RlLXR5cGU9bGlzdC1zd2l0Y2hdJyk7CiAgICAgICAgICAgICRhX2xpc3QuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdmFyICRhX2dyaWQgPSAkKCdhW25vZGUtdHlwZT1ncmlkLXN3aXRjaF0nKTsKICAgICAgICAgICAgJGFfZ3JpZC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdncmlkJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuaWh+S7tumAieaLqeahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ2hlY2tib3goKXsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5jaGVja2JveCcpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi4nK3dvcmRNYXBbJ2NoZWNrYm94J10pOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYobGlzdF9ncmlkX3N0YXR1cyA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYobGlzdF9ncmlkX3N0YXR1cyA9PSAnZ3JpZCcpewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoJHBhcmVudC5oYXNDbGFzcygnaXRlbS1hY3RpdmUnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOmAieS4reaWh+S7tu+8micrZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDtpPHNlbGVjdEZpbGVMaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbaV0uZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnNwbGljZShpLDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micrZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2RpcjplbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicrd29yZE1hcFsnY2hlY2tib3gnXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4blhajpgInmoYYKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2Licrd29yZE1hcFsnY29sLWl0ZW0nXSsnLicrd29yZE1hcFsnY2hlY2snXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygnY2hlY2tlZCcpKXsKICAgICAgICAgICAgICAgICAgICBpZigkcGFyZW50Lmhhc0NsYXNzKHdvcmRNYXBbJ2NoZWNrZWQnXSkpewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflj5bmtojlhajpgIknKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflhajpg6jpgInkuK0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdkaXYuY29sLWl0ZW0uY2hlY2snKTsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2NvbC1pdGVtJ10rJy4nK3dvcmRNYXBbJ2NoZWNrJ10pOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5Y2V5Liq5paH5Lu26YCJ5LitCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJGaWxlU2VsZWN0KCl7CiAgICAgICAgICAgIC8vdmFyICRkZCA9ICQoJ2Rpdi5saXN0LXZpZXcgZGQnKTsKICAgICAgICAgICAgdmFyICRkZCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKycgZGQnKTsKICAgICAgICAgICAgJGRkLmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBlLnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmKG5vZGVOYW1lICE9ICdzcGFuJyAmJiBub2RlTmFtZSAhPSAnYScgJiYgbm9kZU5hbWUgIT0gJ2VtJykgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKXsKICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucyl7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOyAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXZpZXcnKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtdmlldycpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKTsKICAgICAgICAgICAgdmFyIGdyaWRfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nK3dvcmRNYXBbJ2dyaWQtdmlldyddKTsKCiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUobGlzdF92aWV3LG9wdGlvbnMpOwogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGdyaWRfdmlldyxvcHRpb25zKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5paH5Lu25L+h5oGv5YiX6KGoCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKXsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgICBpZihnZXRQYXRoKCkgPT0gJy8nKXsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHl1bkRhdGEuRklMRUlORk87CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICAgIHVrOnVrLAogICAgICAgICAgICAgICAgICAgIHNoYXJlaWQ6c2hhcmVpZCwKICAgICAgICAgICAgICAgICAgICBvcmRlcjonb3RoZXInLAogICAgICAgICAgICAgICAgICAgIGRlc2M6MSwKICAgICAgICAgICAgICAgICAgICBzaG93ZW1wdHk6MCwKICAgICAgICAgICAgICAgICAgICB3ZWI6d2ViLAogICAgICAgICAgICAgICAgICAgIGRpcjpnZXRQYXRoKCksCiAgICAgICAgICAgICAgICAgICAgdDpNYXRoLnJhbmRvbSgpLAogICAgICAgICAgICAgICAgICAgIGJkc3Rva2VuOmJkc3Rva2VuLAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6Y2hhbm5lbCwKICAgICAgICAgICAgICAgICAgICBjbGllbnR0eXBlOmNsaWVudHR5cGUsCiAgICAgICAgICAgICAgICAgICAgYXBwX2lkOmFwcF9pZCwKICAgICAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOnNoYXJlTGlzdFVybCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm5vID09PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlLmxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRCdXR0b25DbGljaygpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bmlofku7ZJROWksei0pe+8jOivt+mHjeivlScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1dHRvblRhcmdldCA9ICdkb3dubG9hZCc7CiAgICAgICAgICAgIHZhciBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmsoKTsKCiAgICAgICAgICAgIGlmKGRvd25sb2FkTGluay5lcnJubyA9PSAtMjApIHsKICAgICAgICAgICAgICAgIHZjb2RlID0gZ2V0VkNvZGUoKTsKICAgICAgICAgICAgICAgIGlmKHZjb2RlLmVycm5vICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmNvZGVEaWFsb2cub3Blbih2Y29kZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihkb3dubG9hZExpbmsuZXJybm8gPT0gMTEyKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICAgIHZhciBsaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5saXN0WzBdLmRsaW5rOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsuZGxpbms7CiAgICAgICAgICAgICAgICBleGVjRG93bmxvYWQobGluayk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5LiL6L296ZO+5o6l5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v6I635Y+W6aqM6K+B56CBCiAgICAgICAgZnVuY3Rpb24gZ2V0VkNvZGUoKXsKICAgICAgICAgICAgdmFyIHVybCA9IHBhbkFQSVVybCArICdnZXR2Y29kZSc7CiAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIHByb2Q6J3BhbicsCiAgICAgICAgICAgICAgICB0Ok1hdGgucmFuZG9tKCksCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGNoYW5uZWw6Y2hhbm5lbCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6Y2xpZW50dHlwZSwKICAgICAgICAgICAgICAgIHdlYjp3ZWIsCiAgICAgICAgICAgICAgICBhcHBfaWQ6YXBwX2lkLAogICAgICAgICAgICAgICAgbG9naWQ6bG9naWQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgIHVybDp1cmwsCiAgICAgICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgLy/liLfmlrDpqozor4HnoIEKICAgICAgICBmdW5jdGlvbiByZWZyZXNoVkNvZGUoKXsKICAgICAgICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAgICAgICAkKCcjZGlhbG9nLWltZycpLmF0dHIoJ3NyYycsdmNvZGUuaW1nKTsKICAgICAgICB9CgogICAgICAgIC8v6aqM6K+B56CB56Gu6K6k5o+Q5LqkCiAgICAgICAgZnVuY3Rpb24gY29uZmlybUNsaWNrKCl7CiAgICAgICAgICAgIHZhciB2YWwgPSAkKCcjZGlhbG9nLWlucHV0JykudmFsKCk7CiAgICAgICAgICAgIGlmKHZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6K+36L6T5YWl6aqM6K+B56CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSBpZih2YWwubGVuZ3RoIDwgNCkgewogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCfpqozor4HnoIHovpPlhaXplJnor6/vvIzor7fph43mlrDovpPlhaUnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhWQ29kZSh2YWwpOwogICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gLTIwKXsKICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJ+mqjOivgeeggei+k+WFpemUmeivr++8jOivt+mHjeaWsOi+k+WFpScpOwogICAgICAgICAgICAgICAgcmVmcmVzaFZDb2RlKCk7CiAgICAgICAgICAgICAgICBpZighdmNvZGUgfHwgdmNvZGUuZXJybm8gIT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bpqozor4HnoIHlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5vcGVuKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09PSAwKSB7CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgdmFyIGxpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0xICYmIHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSByZXN1bHQubGlzdFswXS5kbGluazsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICAgICAgaWYoYnV0dG9uVGFyZ2V0ID09ICdkb3dubG9hZCcpewogICAgICAgICAgICAgICAgICAgIGV4ZWNEb3dubG9hZChsaW5rKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVGFyZ2V0ID09ICdsaW5rJykgewogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTpmaWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmxpbmsscmFuazoxfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB2YXIgdGlwID0gIuaYvuekuuiOt+WPlueahOmTvuaOpe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuaXoOeUqO+8jOmcgOimgeS8oOmAkmNvb2tpZSI7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL+eUn+aIkOS4i+i9veeUqOeahGZpZF9saXN05Y+C5pWwCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlkTGlzdCgpewogICAgICAgICAgICB2YXIgZmlkbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICBmaWRsaXN0LnB1c2goZWxlbWVudC5mc19pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gJ1snICsgZmlkbGlzdCArICddJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGxpbmtCdXR0b25DbGljaygpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpgInkuK3mlofku7bvvIzor7fph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBidXR0b25UYXJnZXQgPSAnbGluayc7CiAgICAgICAgICAgIHZhciBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmsoKTsKCiAgICAgICAgICAgIGlmKGRvd25sb2FkTGluay5lcnJubyA9PSAtMjApIHsKICAgICAgICAgICAgICAgIHZjb2RlID0gZ2V0VkNvZGUoKTsKICAgICAgICAgICAgICAgIGlmKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLm9wZW4odmNvZGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAxMTIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICAgIHZhciBsaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5saXN0WzBdLmRsaW5rOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsuZGxpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWRvd25sb2FkbGluaycpLmF0dHIoJ2hyZWYnLGxpbmspLnRleHQobGluayk7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1kb3dubG9hZGxpbmsnKS5hdHRyKCdocmVmJyxsaW5rKS50ZXh0KGxpbmspOwogICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgIHVybHM6WwogICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmxpbmsscmFuazoxfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB2YXIgdGlwID0gIuaYvuekuuiOt+WPlueahOmTvuaOpe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuaXoOeUqO+8jOmcgOimgeS8oOmAkmNvb2tpZSI7CiAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5LiL6L296ZO+5o6l5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5LiL6L296ZO+5o6lCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rKCl7CiAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgIGlmKGlzU2luZ2xlU2hhcmUpewogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KCk7CiAgICAgICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcGFuQVBJVXJsICsgJ3NoYXJlZG93bmxvYWQ/c2lnbj0nICsgc2lnbiArICcmdGltZXN0YW1wPScgKyB0aW1lc3RhbXAgKyAnJmJkc3Rva2VuPScgKyBiZHN0b2tlbiArICcmY2hhbm5lbD0nICsgY2hhbm5lbCArICcmY2xpZW50dHlwZT0nICsgY2xpZW50dHlwZSArICcmd2ViPScrIHdlYiArICcmYXBwX2lkPScgKyBhcHBfaWQgKyAnJmxvZ2lkPScgKyBsb2dpZDsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdDplbmNyeXB0LAogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6cHJvZHVjdCwKICAgICAgICAgICAgICAgICAgICB1azp1aywKICAgICAgICAgICAgICAgICAgICBwcmltYXJ5aWQ6cHJpbWFyeWlkLAogICAgICAgICAgICAgICAgICAgIGZpZF9saXN0OmZpZF9saXN0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaWYoc2hhcmVUeXBlID09ICdzZWNyZXQnKXsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMuZXh0cmEgPSBleHRyYTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEgfHwgc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICAvL+aciemqjOivgeeggei+k+WFpeaXtuiOt+WPluS4i+i9vemTvuaOpQogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhWQ29kZSh2Y29kZUlucHV0KXsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgaWYoaXNTaW5nbGVTaGFyZSl7CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3QoKTsKICAgICAgICAgICAgICAgIHZhciB1cmwgPSBwYW5BUElVcmwgKyAnc2hhcmVkb3dubG9hZD9zaWduPScgKyBzaWduICsgJyZ0aW1lc3RhbXA9JyArIHRpbWVzdGFtcCArICcmYmRzdG9rZW49JyArIGJkc3Rva2VuICsgJyZjaGFubmVsPScgKyBjaGFubmVsICsgJyZjbGllbnR0eXBlPScgKyBjbGllbnR0eXBlICsgJyZ3ZWI9Jysgd2ViICsgJyZhcHBfaWQ9JyArIGFwcF9pZCArICcmbG9naWQ9JyArIGxvZ2lkOwogICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICBlbmNyeXB0OmVuY3J5cHQsCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDpwcm9kdWN0LAogICAgICAgICAgICAgICAgICAgIHZjb2RlX2lucHV0OnZjb2RlSW5wdXQsCiAgICAgICAgICAgICAgICAgICAgdmNvZGVfc3RyOnZjb2RlLnZjb2RlLAogICAgICAgICAgICAgICAgICAgIHVrOnVrLAogICAgICAgICAgICAgICAgICAgIHByaW1hcnlpZDpwcmltYXJ5aWQsCiAgICAgICAgICAgICAgICAgICAgZmlkX2xpc3Q6ZmlkX2xpc3QKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBpZihzaGFyZVR5cGUgPT0gJ3NlY3JldCcpewogICAgICAgICAgICAgICAgICAgIHBhcmFtcy5leHRyYSA9IGV4dHJhOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSB8fCBzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxICl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBleGVjRG93bmxvYWQobGluayl7CiAgICAgICAgICAgIHNsb2coJ+S4i+i9vemTvuaOpe+8micrbGluayk7CiAgICAgICAgICAgICQoJyNoZWxwZXJkb3dubG9hZGlmcmFtZScpLmF0dHIoJ3NyYycsbGluayk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhc2U2NEVuY29kZSh0KXsKICAgICAgICB2YXIgYSwgciwgZSwgbiwgaSwgcywgbyA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIjsKICAgICAgICBmb3IgKGUgPSB0Lmxlbmd0aCxyID0gMCxhID0gIiI7IGUgPiByOyApIHsKICAgICAgICAgICAgaWYgKG4gPSAyNTUgJiB0LmNoYXJDb2RlQXQocisrKSxyID09IGUpIHsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDMgJiBuKSA8PCA0KTsKICAgICAgICAgICAgICAgIGEgKz0gIj09IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpID0gdC5jaGFyQ29kZUF0KHIrKyksciA9PSBlKSB7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KG4gPj4gMik7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCB8ICgyNDAgJiBpKSA+PiA0KTsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDE1ICYgaSkgPDwgMik7CiAgICAgICAgICAgICAgICBhICs9ICI9IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHMgPSB0LmNoYXJDb2RlQXQocisrKTsKICAgICAgICAgICAgYSArPSBvLmNoYXJBdChuID4+IDIpOwogICAgICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCB8ICgyNDAgJiBpKSA+PiA0KTsKICAgICAgICAgICAgYSArPSBvLmNoYXJBdCgoMTUgJiBpKSA8PCAyIHwgKDE5MiAmIHMpID4+IDYpOwogICAgICAgICAgICBhICs9IG8uY2hhckF0KDYzICYgcyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhOwogICAgfQoKICAgIGZ1bmN0aW9uIGRldGVjdFBhZ2UoKXsKICAgICAgICB2YXIgcmVneCA9IC9bXC9dLitbXC9dL2c7CiAgICAgICAgdmFyIHBhZ2UgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaChyZWd4KTsKICAgICAgICByZXR1cm4gcGFnZVswXS5yZXBsYWNlKC9cLy9nLCcnKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDb29raWUoZSkgewogICAgICAgIHZhciBvLCB0OwogICAgICAgIHZhciBuID0gZG9jdW1lbnQsYz1kZWNvZGVVUkk7CiAgICAgICAgcmV0dXJuIG4uY29va2llLmxlbmd0aCA+IDAgJiYgKG8gPSBuLmNvb2tpZS5pbmRleE9mKGUgKyAiPSIpLC0xICE9IG8pID8gKG8gPSBvICsgZS5sZW5ndGggKyAxLHQgPSBuLmNvb2tpZS5pbmRleE9mKCI7IiwgbyksLTEgPT0gdCAmJiAodCA9IG4uY29va2llLmxlbmd0aCksYyhuLmNvb2tpZS5zdWJzdHJpbmcobywgdCkpKSA6ICIiOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldExvZ0lEKCl7CiAgICAgICAgdmFyIG5hbWUgPSAiQkFJRFVJRCI7CiAgICAgICAgdmFyIHUgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL37vvIFAI++/pSXigKbigKYmIjsKICAgICAgICB2YXIgZCA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRkZdfFteXHgwMC1ceDdGXS9nOwogICAgICAgIHZhciBmID0gU3RyaW5nLmZyb21DaGFyQ29kZTsKICAgICAgICBmdW5jdGlvbiBsKGUpewogICAgICAgICAgICBpZiAoZS5sZW5ndGggPCAyKSB7CiAgICAgICAgICAgICAgICB2YXIgbiA9IGUuY2hhckNvZGVBdCgwKTsKICAgICAgICAgICAgICAgIHJldHVybiAxMjggPiBuID8gZSA6IDIwNDggPiBuID8gZigxOTIgfCBuID4+PiA2KSArIGYoMTI4IHwgNjMgJiBuKSA6IGYoMjI0IHwgbiA+Pj4gMTIgJiAxNSkgKyBmKDEyOCB8IG4gPj4+IDYgJiA2MykgKyBmKDEyOCB8IDYzICYgbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG4gPSA2NTUzNiArIDEwMjQgKiAoZS5jaGFyQ29kZUF0KDApIC0gNTUyOTYpICsgKGUuY2hhckNvZGVBdCgxKSAtIDU2MzIwKTsKICAgICAgICAgICAgcmV0dXJuIGYoMjQwIHwgbiA+Pj4gMTggJiA3KSArIGYoMTI4IHwgbiA+Pj4gMTIgJiA2MykgKyBmKDEyOCB8IG4gPj4+IDYgJiA2MykgKyBmKDEyOCB8IDYzICYgbik7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGcoZSl7CiAgICAgICAgICAgIHJldHVybiAoZSArICIiICsgTWF0aC5yYW5kb20oKSkucmVwbGFjZShkLCBsKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbShlKXsKICAgICAgICAgICAgdmFyIG4gPSBbMCwgMiwgMV1bZS5sZW5ndGggJSAzXTsKICAgICAgICAgICAgdmFyIHQgPSBlLmNoYXJDb2RlQXQoMCkgPDwgMTYgfCAoZS5sZW5ndGggPiAxID8gZS5jaGFyQ29kZUF0KDEpIDogMCkgPDwgOCB8IChlLmxlbmd0aCA+IDIgPyBlLmNoYXJDb2RlQXQoMikgOiAwKTsKICAgICAgICAgICAgdmFyIG8gPSBbdS5jaGFyQXQodCA+Pj4gMTgpLCB1LmNoYXJBdCh0ID4+PiAxMiAmIDYzKSwgbiA+PSAyID8gIj0iIDogdS5jaGFyQXQodCA+Pj4gNiAmIDYzKSwgbiA+PSAxID8gIj0iIDogdS5jaGFyQXQoNjMgJiB0KV07CiAgICAgICAgICAgIHJldHVybiBvLmpvaW4oIiIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoKGUpewogICAgICAgICAgICByZXR1cm4gZS5yZXBsYWNlKC9bXHNcU117MSwzfS9nLCBtKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcCgpewogICAgICAgICAgICByZXR1cm4gaChnKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdyhlLG4pewogICAgICAgICAgICByZXR1cm4gbiA/IHAoU3RyaW5nKGUpKS5yZXBsYWNlKC9bK1wvXS9nLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIisiID09IGUgPyAiLSIgOiAiXyI7CiAgICAgICAgICAgIH0pLnJlcGxhY2UoLz0vZywgIiIpIDogcChTdHJpbmcoZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdyhnZXRDb29raWUobmFtZSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIERpYWxvZygpewogICAgICAgIHZhciBsaW5rTGlzdCA9IFtdOwogICAgICAgIHZhciBzaG93UGFyYW1zOwogICAgICAgIHZhciBkaWFsb2csc2hhZG93OwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURpYWxvZygpewogICAgICAgICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgICAgICB2YXIgZGlhbG9nTGVmdCA9IHNjcmVlbldpZHRoPjgwMCA/IChzY3JlZW5XaWR0aC04MDApLzIgOiAwOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ciIHN0eWxlPSJ3aWR0aDogODAwcHg7IHRvcDogMHB4OyBib3R0b206IGF1dG87IGxlZnQ6ICcrZGlhbG9nTGVmdCsncHg7IHJpZ2h0OiBhdXRvOyBkaXNwbGF5OiBoaWRkZW47IHZpc2liaWxpdHk6IHZpc2libGU7IHotaW5kZXg6IDUyOyI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2hlYWRlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiPjxoMz48c3BhbiBjbGFzcz0iZGlhbG9nLXRpdGxlIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6NzQwcHg7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93LXg6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjwvc3Bhbj48L2gzPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jb250cm9sID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWNvbnRyb2wiPjxzcGFuIGNsYXNzPSJkaWFsb2ctaWNvbiBkaWFsb2ctY2xvc2UiPsOXPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWJvZHkiIHN0eWxlPSJtYXgtaGVpZ2h0OjQ1MHB4O292ZXJmbG93LXk6YXV0bztwYWRkaW5nOjAgMjBweDsiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ190aXAgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctdGlwIiBzdHlsZT0icGFkZGluZy1sZWZ0OjIwcHg7YmFja2dyb3VuZC1jb2xvcjojZmFmMmQzO2JvcmRlci10b3A6IDFweCBzb2xpZCAjYzRkYmZlOyI+PHA+PC9wPjwvZGl2PicpOwoKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfaGVhZGVyLmFwcGVuZCgkZGlhbG9nX2NvbnRyb2wpKS5hcHBlbmQoJGRpYWxvZ19ib2R5KTsKCiAgICAgICAgICAgIC8vdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCc8dGV4dGFyZWEgY2xhc3M9ImRpYWxvZy10ZXh0YXJlYSIgc3R5bGU9ImRpc3BsYXk6bm9uZTt3aWR0aCI+PC90ZXh0YXJlYT4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfcmFkaW9fZGl2ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXJhZGlvIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoOjc2MHB4O3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweCI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3JhZGlvX211bHRpID0gJCgnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzaG93bW9kZSIgY2hlY2tlZD0iY2hlY2tlZCIgdmFsdWU9Im11bHRpIj48c3Bhbj7lpJrooYw8L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3JhZGlvX3NpbmdsZSA9ICQoJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0ic2hvd21vZGUiIHZhbHVlPSJzaW5nbGUiPjxzcGFuPuWNleihjDwvc3Bhbj4nKTsKICAgICAgICAgICAgJGRpYWxvZ19yYWRpb19kaXYuYXBwZW5kKCRkaWFsb2dfcmFkaW9fbXVsdGkpLmFwcGVuZCgkZGlhbG9nX3JhZGlvX3NpbmdsZSk7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX3JhZGlvX2Rpdik7CiAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9cmFkaW9dW25hbWU9c2hvd21vZGVdJywkZGlhbG9nX3JhZGlvX2RpdikuY2hhbmdlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyICR0ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLGRpYWxvZyk7CiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICR0ZXh0YXJlYS52YWwoKTsKICAgICAgICAgICAgICAgIGlmKHZhbHVlID09ICdtdWx0aScpewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xzKy9nLCdcbicpOwogICAgICAgICAgICAgICAgICAgICR0ZXh0YXJlYS5jc3MoJ2hlaWdodCcsJzMwMHB4Jyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYodmFsdWUgPT0gJ3NpbmdsZScpewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xuKy9nLCcgJyk7CiAgICAgICAgICAgICAgICAgICAgJHRleHRhcmVhLmNzcygnaGVpZ2h0JywnJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkdGV4dGFyZWEudmFsKGNvbnRlbnQpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciAkZGlhbG9nX2J1dHRvbiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19idXR0b25fZGl2ID0gJCgnPGRpdiBzdHlsZT0iZGlzcGxheTp0YWJsZTttYXJnaW46YXV0byI+PC9kaXY+JykKICAgICAgICAgICAgdmFyICRkaWFsb2dfY29weV9idXR0b24gPSAkKCc8YnV0dG9uIGlkPSJkaWFsb2ctY29weS1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPuWkjeWItjwvYnV0dG9uPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19lZGl0X2J1dHRvbiA9ICQoJzxidXR0b24gaWQ9ImRpYWxvZy1lZGl0LWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+57yW6L6RPC9idXR0b24+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2V4aXRfYnV0dG9uID0gJCgnPGJ1dHRvbiBpZD0iZGlhbG9nLWV4aXQtYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj7pgIDlh7o8L2J1dHRvbj4nKTsKCiAgICAgICAgICAgICRkaWFsb2dfYnV0dG9uX2Rpdi5hcHBlbmQoJGRpYWxvZ19jb3B5X2J1dHRvbikuYXBwZW5kKCRkaWFsb2dfZWRpdF9idXR0b24pLmFwcGVuZCgkZGlhbG9nX2V4aXRfYnV0dG9uKTsKICAgICAgICAgICAgJGRpYWxvZ19idXR0b24uYXBwZW5kKCRkaWFsb2dfYnV0dG9uX2Rpdik7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX2J1dHRvbik7CgogICAgICAgICAgICAkZGlhbG9nX2NvcHlfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgaWYoc2hvd1BhcmFtcy50eXBlID09ICdiYXRjaCcpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChsaW5rTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5kb3dubG9hZGxpbmsgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gIGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluayArICdcbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2hvd1BhcmFtcy50eXBlID09ICdsaW5rJyl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnVybCA9PSAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAgY29udGVudCArIGVsZW1lbnQudXJsICsgJ1xuJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChjb250ZW50LCd0ZXh0Jyk7CiAgICAgICAgICAgICAgICBhbGVydCgn5bey5bCG6ZO+5o6l5aSN5Yi25Yiw5Ymq6LS05p2/77yBJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRpYWxvZ19lZGl0X2J1dHRvbi5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCdkaXYuZGlhbG9nLWJvZHkgdGV4dGFyZWFbbmFtZT1kaWFsb2ctdGV4dGFyZWFdJyxkaWFsb2cpOwogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfaXRlbSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSBkaXYnLGRpYWxvZyk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2l0ZW0uaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19jb3B5X2J1dHRvbi5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfdGV4dGFyZWEuc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19yYWRpb19kaXYuc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19leGl0X2J1dHRvbi5zaG93KCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRpYWxvZ19leGl0X2J1dHRvbi5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCdkaXYuZGlhbG9nLWJvZHkgdGV4dGFyZWFbbmFtZT1kaWFsb2ctdGV4dGFyZWFdJyxkaWFsb2cpOwogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfaXRlbSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSBkaXYnLGRpYWxvZyk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX3RleHRhcmVhLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfcmFkaW9fZGl2LmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfaXRlbS5zaG93KCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfY29weV9idXR0b24uc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19lZGl0X2J1dHRvbi5zaG93KCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfdGlwKTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGlhbG9nX2Rpdik7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmRpYWxvZ0RyYWcoKTsKICAgICAgICAgICAgJGRpYWxvZ19jb250cm9sLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICAgICAgICByZXR1cm4gJGRpYWxvZ19kaXY7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkb3coKXsKICAgICAgICAgICAgdmFyICRzaGFkb3cgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctc2hhZG93IiBzdHlsZT0icG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyB6LWluZGV4OiA1MDsgYmFja2dyb3VuZDogcmdiKDAsIDAsIDApIG5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJTsgb3BhY2l0eTogMC41OyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBkaXNwbGF5OiBub25lOyI+PC9kaXY+Jyk7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJHNoYWRvdyk7CiAgICAgICAgICAgIHJldHVybiAkc2hhZG93OwogICAgICAgIH0KCiAgICAgICAgdGhpcy5vcGVuID0gZnVuY3Rpb24ocGFyYW1zKXsKICAgICAgICAgICAgc2hvd1BhcmFtcyA9IHBhcmFtczsKICAgICAgICAgICAgbGlua0xpc3QgPSBbXTsKICAgICAgICAgICAgaWYocGFyYW1zLnR5cGUgPT0gJ2xpbmsnKXsKICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gcGFyYW1zLmxpc3QudXJsczsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJyxkaWFsb2cpLnRleHQocGFyYW1zLnRpdGxlICsgIu+8miIgK3BhcmFtcy5saXN0LmZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICQuZWFjaChwYXJhbXMubGlzdC51cmxzLGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdj48ZGl2IHN0eWxlPSJ3aWR0aDozMHB4O2Zsb2F0OmxlZnQiPicrZWxlbWVudC5yYW5rKyc6PC9kaXY+PGRpdiBzdHlsZT0id2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSInK2VsZW1lbnQudXJsKyciPicrZWxlbWVudC51cmwrJzwvYT48L2Rpdj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuYXBwZW5kKCRkaXYpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihwYXJhbXMudHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gcGFyYW1zLmxpc3Q7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsZGlhbG9nKS50ZXh0KHBhcmFtcy50aXRsZSk7CiAgICAgICAgICAgICAgICBpZihwYXJhbXMuc2hvd2FsbCl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fZGl2ID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXIiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXAiPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fbmFtZSA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjEwMHB4O2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiIHRpdGxlPSInK2VsZW1lbnQuZmlsZW5hbWUrJyI+JytlbGVtZW50LmZpbGVuYW1lKyc8L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX3NlcCA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjEycHg7ZmxvYXQ6bGVmdCI+PHNwYW4+77yaPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fbGlua19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWxpbmsiIHN0eWxlPSJmbG9hdDpsZWZ0O3dpZHRoOjYxOHB4OyI+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9maXJzdCA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZmlyc3QiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJytlbGVtZW50LmRvd25sb2FkbGluaysnIj4nK2VsZW1lbnQuZG93bmxvYWRsaW5rKyc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtX2xpbmtfZGl2LmFwcGVuZCgkaXRlbV9maXJzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChwYXJhbXMuYWxsbGlzdFtpbmRleF0ubGlua3MsZnVuY3Rpb24obixpdGVtKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuZG93bmxvYWRsaW5rID09IGl0ZW0udXJsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZXgiIHN0eWxlPSJkaXNwbGF5Om5vbmU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGhyZWY9IicraXRlbS51cmwrJyI+JytpdGVtLnVybCsnPC9hPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1fbGlua19kaXYuYXBwZW5kKCRpdGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9leCA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjE1cHg7ZmxvYXQ6bGVmdDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MTZweCI+PHNwYW4+Kzwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1fZGl2LmFwcGVuZCgkaXRlbV9uYW1lKS5hcHBlbmQoJGl0ZW1fc2VwKS5hcHBlbmQoJGl0ZW1fbGlua19kaXYpLmFwcGVuZCgkaXRlbV9leCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtX2V4LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnRvZ2dsZUNsYXNzKCdzaG93YWxsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkcGFyZW50Lmhhc0NsYXNzKCdzaG93YWxsJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgnLScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5pdGVtLWxpbmsgZGl2Lml0ZW0tZXgnLCRwYXJlbnQpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KCcrJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2Lml0ZW0tbGluayBkaXYuaXRlbS1leCcsJHBhcmVudCkuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmFwcGVuZCgkaXRlbV9kaXYpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXYgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcCI+PGRpdiBzdHlsZT0id2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyIgdGl0bGU9IicrZWxlbWVudC5maWxlbmFtZSsnIj4nK2VsZW1lbnQuZmlsZW5hbWUrJzwvZGl2PjxzcGFuPu+8mjwvc3Bhbj48YSBocmVmPSInK2VsZW1lbnQuZG93bmxvYWRsaW5rKyciPicrZWxlbWVudC5kb3dubG9hZGxpbmsrJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmFwcGVuZCgkZGl2KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYocGFyYW1zLnRpcCl7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLXRpcCBwJyxkaWFsb2cpLnRleHQocGFyYW1zLnRpcCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHBhcmFtcy5zaG93Y29weSl7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsZGlhbG9nKS5zaG93KCk7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWNvcHktYnV0dG9uJyxkaWFsb2cpLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihwYXJhbXMuc2hvd2VkaXQpewogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24nLGRpYWxvZykuc2hvdygpOwogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1lZGl0LWJ1dHRvbicsZGlhbG9nKS5zaG93KCk7CiAgICAgICAgICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJzx0ZXh0YXJlYSBuYW1lPSJkaWFsb2ctdGV4dGFyZWEiIHN0eWxlPSJkaXNwbGF5Om5vbmU7cmVzaXplOm5vbmU7d2lkdGg6NzU4cHg7aGVpZ2h0OjMwMHB4O3doaXRlLXNwYWNlOnByZTt3b3JkLXdyYXA6bm9ybWFsO292ZXJmbG93LXg6c2Nyb2xsIj48L3RleHRhcmVhPicpOwogICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICAgIGlmKHNob3dQYXJhbXMudHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gobGlua0xpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuZG93bmxvYWRsaW5rID09ICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aC0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9ICBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbmsgKyAnXG4nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNob3dQYXJhbXMudHlwZSA9PSAnbGluaycpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChsaW5rTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC51cmwgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQudXJsOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gIGNvbnRlbnQgKyBlbGVtZW50LnVybCArICdcbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZGlhbG9nX3RleHRhcmVhLnZhbChjb250ZW50KTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsZGlhbG9nKS5hcHBlbmQoJGRpYWxvZ190ZXh0YXJlYSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNoYWRvdy5zaG93KCk7CiAgICAgICAgICAgIGRpYWxvZy5zaG93KCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgZGlhbG9nQ29udHJvbCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZGlhbG9nQ29udHJvbCgpewogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuY2hpbGRyZW4oKS5yZW1vdmUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXIgaDMgc3Bhbi5kaWFsb2ctdGl0bGUnLGRpYWxvZykudGV4dCgnJyk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctdGlwIHAnLGRpYWxvZykudGV4dCgnJyk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1yYWRpbyBpbnB1dFt0eXBlPXJhZGlvXVtuYW1lPXNob3dtb2RlXVt2YWx1ZT1tdWx0aV0nLGRpYWxvZykucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctcmFkaW8nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWNvcHktYnV0dG9uJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1lZGl0LWJ1dHRvbicsZGlhbG9nKS5oaWRlKCk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctZXhpdC1idXR0b24nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICBkaWFsb2cuaGlkZSgpOwogICAgICAgICAgICBzaGFkb3cuaGlkZSgpOwogICAgICAgIH0KCiAgICAgICAgZGlhbG9nID0gY3JlYXRlRGlhbG9nKCk7CiAgICAgICAgc2hhZG93ID0gY3JlYXRlU2hhZG93KCk7CiAgICB9CgogICAgZnVuY3Rpb24gVkNvZGVEaWFsb2cocmVmcmVzaFZDb2RlLGNvbmZpcm1DbGljayl7CiAgICAgICAgdmFyIGRpYWxvZyxzaGFkb3c7CiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGlhbG9nKCl7CiAgICAgICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgICAgIHZhciBkaWFsb2dMZWZ0ID0gc2NyZWVuV2lkdGg+NTIwID8gKHNjcmVlbldpZHRoLTUyMCkvMiA6IDA7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2RpdiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZyIgaWQ9ImRpYWxvZy12Y29kZSIgc3R5bGU9IndpZHRoOjUyMHB4O3RvcDowcHg7Ym90dG9tOmF1dG87bGVmdDonK2RpYWxvZ0xlZnQrJ3B4O3JpZ2h0OmF1dG87ZGlzcGxheTpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTt6LWluZGV4OjUyIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfaGVhZGVyID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWhlYWRlciI+PGgzPjxzcGFuIGNsYXNzPSJkaWFsb2ctaGVhZGVyLXRpdGxlIj48ZW0gY2xhc3M9InNlbGVjdC10ZXh0Ij7mj5DnpLo8L2VtPjwvc3Bhbj48L2gzPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jb250cm9sID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWNvbnRyb2wiPjxzcGFuIGNsYXNzPSJkaWFsb2ctaWNvbiBkaWFsb2ctY2xvc2UgaWNvbiBpY29uLWNsb3NlIj48c3BhbiBjbGFzcz0ic2ljb24iPng8L3NwYW4+PC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWJvZHkiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5X2RpdiA9ICQoJzxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MjJweCI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2JvZHlfZG93bmxvYWRfdmVyaWZ5ID0gJCgnPGRpdiBjbGFzcz0iZG93bmxvYWQtdmVyaWZ5IiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O3BhZGRpbmc6MCAyOHB4O3RleHQtYWxpZ246bGVmdDtmb250LXNpemU6MTJweDsiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ192ZXJpZnlfYm9keSA9ICQoJzxkaXYgY2xhc3M9InZlcmlmeS1ib2R5Ij7or7fovpPlhaXpqozor4HnoIHvvJo8L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfaW5wdXQgPSAkKCc8aW5wdXQgaWQ9ImRpYWxvZy1pbnB1dCIgdHlwZT0idGV4dCIgc3R5bGU9InBhZGRpbmc6M3B4O3dpZHRoOjg1cHg7aGVpZ2h0OjIzcHg7Ym9yZGVyOjFweCBzb2xpZCAjYzZjNmM2O2JhY2tncm91bmQtY29sb3I6d2hpdGU7dmVydGljYWwtYWxpZ246bWlkZGxlOyIgY2xhc3M9ImlucHV0LWNvZGUiIG1heGxlbmd0aD0iNCI+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2ltZyA9ICQoJzxpbWcgaWQ9ImRpYWxvZy1pbWciIGNsYXNzPSJpbWctY29kZSIgc3R5bGU9Im1hcmdpbi1sZWZ0OjEwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlOyIgYWx0PSLngrnlh7vmjaLkuIDlvKAiIHNyYz0iIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMwIj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfcmVmcmVzaCA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9InRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7IiBjbGFzcz0idW5kZXJsaW5lIj7mjaLkuIDlvKA8L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2VyciA9ICQoJzxkaXYgaWQ9ImRpYWxvZy1lcnIiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6ODRweDtoZWlnaHQ6MThweDtjb2xvcjojZDgwMDAwIiBjbGFzcz0idmVyaWZ5LWVycm9yIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZm9vdGVyID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWZvb3RlciBnLWNsZWFyZml4Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfY29uZmlybV9idXR0b24gPSAkKCc8YSBjbGFzcz0iZy1idXR0b24gZy1idXR0b24tYmx1ZSIgZGF0YS1idXR0b24taWQ9IiIgZGF0YS1idXR0b24taW5kZXggaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0icGFkZGluZy1sZWZ0OjM2cHgiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCIgc3R5bGU9InBhZGRpbmctcmlnaHQ6MzZweDsiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0bzsiPuehruWumjwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jYW5jZWxfYnV0dG9uID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBkYXRhLWJ1dHRvbi1pZD0iIiBkYXRhLWJ1dHRvbi1pbmRleCBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBzdHlsZT0icGFkZGluZy1sZWZ0OiAzNnB4OyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0IiBzdHlsZT0icGFkZGluZy1yaWdodDogMzZweDsiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7lj5bmtog8L3NwYW4+PC9zcGFuPjwvYT4nKTsKCiAgICAgICAgICAgICRkaWFsb2dfaGVhZGVyLmFwcGVuZCgkZGlhbG9nX2NvbnRyb2wpOwogICAgICAgICAgICAkZGlhbG9nX3ZlcmlmeV9ib2R5LmFwcGVuZCgkZGlhbG9nX2lucHV0KS5hcHBlbmQoJGRpYWxvZ19pbWcpLmFwcGVuZCgkZGlhbG9nX3JlZnJlc2gpOwogICAgICAgICAgICAkZGlhbG9nX2JvZHlfZG93bmxvYWRfdmVyaWZ5LmFwcGVuZCgkZGlhbG9nX3ZlcmlmeV9ib2R5KS5hcHBlbmQoJGRpYWxvZ19lcnIpOwogICAgICAgICAgICAkZGlhbG9nX2JvZHlfZGl2LmFwcGVuZCgkZGlhbG9nX2JvZHlfZG93bmxvYWRfdmVyaWZ5KTsKICAgICAgICAgICAgJGRpYWxvZ19ib2R5LmFwcGVuZCgkZGlhbG9nX2JvZHlfZGl2KTsKICAgICAgICAgICAgJGRpYWxvZ19mb290ZXIuYXBwZW5kKCRkaWFsb2dfY29uZmlybV9idXR0b24pLmFwcGVuZCgkZGlhbG9nX2NhbmNlbF9idXR0b24pOwogICAgICAgICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ19oZWFkZXIpLmFwcGVuZCgkZGlhbG9nX2JvZHkpLmFwcGVuZCgkZGlhbG9nX2Zvb3Rlcik7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpYWxvZ19kaXYpOwoKICAgICAgICAgICAgJGRpYWxvZ19kaXYuZGlhbG9nRHJhZygpOwoKICAgICAgICAgICAgJGRpYWxvZ19jb250cm9sLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICAgICAgICAkZGlhbG9nX2ltZy5jbGljayhyZWZyZXNoVkNvZGUpOwogICAgICAgICAgICAkZGlhbG9nX3JlZnJlc2guY2xpY2socmVmcmVzaFZDb2RlKTsKICAgICAgICAgICAgJGRpYWxvZ19pbnB1dC5rZXlwcmVzcyhmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICBpZihldmVudC53aGljaCA9PSAxMykKICAgICAgICAgICAgICAgICAgICBjb25maXJtQ2xpY2soKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRkaWFsb2dfY29uZmlybV9idXR0b24uY2xpY2soY29uZmlybUNsaWNrKTsKICAgICAgICAgICAgJGRpYWxvZ19jYW5jZWxfYnV0dG9uLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICAgICAgICAkZGlhbG9nX2lucHV0LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJycpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuICRkaWFsb2dfZGl2OwogICAgICAgIH0KICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbih2Y29kZSl7CiAgICAgICAgICAgIGlmKHZjb2RlKQogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1pbWcnKS5hdHRyKCdzcmMnLHZjb2RlLmltZyk7CiAgICAgICAgICAgIGRpYWxvZy5zaG93KCk7CiAgICAgICAgICAgIHNoYWRvdy5zaG93KCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbigpewogICAgICAgICAgICBkaWFsb2dDb250cm9sKCk7CiAgICAgICAgfQogICAgICAgIGRpYWxvZyA9IGNyZWF0ZURpYWxvZygpOwogICAgICAgIHNoYWRvdyA9ICQoJ2Rpdi5kaWFsb2ctc2hhZG93Jyk7CiAgICAgICAgZnVuY3Rpb24gZGlhbG9nQ29udHJvbCgpewogICAgICAgICAgICAkKCcjZGlhbG9nLWltZycsZGlhbG9nKS5hdHRyKCdzcmMnLCcnKTsKICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCcnKTsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgICAgc2hhZG93LmhpZGUoKTsKICAgICAgICB9CiAgICB9CgogICAgJC5mbi5kaWFsb2dEcmFnID0gZnVuY3Rpb24oKXsKICAgICAgICB2YXIgbW91c2VJbml0WCxtb3VzZUluaXRZLGRpYWxvZ0luaXRYLGRpYWxvZ0luaXRZOwogICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgdmFyICRwYXJlbnQgPSB0aGlzOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyJyx0aGlzKS5tb3VzZWRvd24oZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBtb3VzZUluaXRYID0gcGFyc2VJbnQoZXZlbnQucGFnZVgpOwogICAgICAgICAgICBtb3VzZUluaXRZID0gcGFyc2VJbnQoZXZlbnQucGFnZVkpOwogICAgICAgICAgICBkaWFsb2dJbml0WCA9IHBhcnNlSW50KCRwYXJlbnQuY3NzKCdsZWZ0JykucmVwbGFjZSgncHgnLCcnKSk7CiAgICAgICAgICAgIGRpYWxvZ0luaXRZID0gcGFyc2VJbnQoJHBhcmVudC5jc3MoJ3RvcCcpLnJlcGxhY2UoJ3B4JywnJykpOwogICAgICAgICAgICAkKHRoaXMpLm1vdXNlbW92ZShmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICB2YXIgdGVtcFggPSBkaWFsb2dJbml0WCArIHBhcnNlSW50KGV2ZW50LnBhZ2VYKSAtIG1vdXNlSW5pdFg7CiAgICAgICAgICAgICAgICB2YXIgdGVtcFkgPSBkaWFsb2dJbml0WSArIHBhcnNlSW50KGV2ZW50LnBhZ2VZKSAtIG1vdXNlSW5pdFk7CiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBwYXJzZUludCgkcGFyZW50LmNzcygnd2lkdGgnKS5yZXBsYWNlKCdweCcsJycpKTsKICAgICAgICAgICAgICAgIHRlbXBYID0gdGVtcFg8MCA/IDAgOiB0ZW1wWD5zY3JlZW5XaWR0aC13aWR0aCA/IHNjcmVlbldpZHRoLXdpZHRoIDogdGVtcFg7CiAgICAgICAgICAgICAgICB0ZW1wWSA9IHRlbXBZPDAgPyAwIDogdGVtcFk7CiAgICAgICAgICAgICAgICAkcGFyZW50LmNzcygnbGVmdCcsdGVtcFgrJ3B4JykuY3NzKCd0b3AnLHRlbXBZKydweCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlcicsdGhpcykubW91c2V1cChmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICQodGhpcykudW5iaW5kKCdtb3VzZW1vdmUnKTsKICAgICAgICB9KTsKICAgIH0KCn0pKCk7"},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["https://btdigg.org/search*","http://btdigg.org/search*","http://www.mp4ba.com/*","http://*.jav*.*","https://*.jav*.*","http://*.torrent*.*/*","https://*.torrent*.*/*","http://*.bt*.*","https://*.bt*.*","http://*.cili*.*","https://*.cili*.*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970096},"enabled":true,"position":22,"file_url":"https://sleazyfork.org/scripts/21333-%E7%A3%81%E5%8A%9B%E4%BA%91%E6%92%AD/code/%E7%A3%81%E5%8A%9B%E4%BA%91%E6%92%AD.user.js","uuid":"d21a1f02-ec1d-44e7-b65f-13658d5af6f5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDno4HlipvkupHmkq0KLy8gQHZlcnNpb24gICAgICAxLjkuMgovLyBAZGVzY3JpcHRpb24gIOaJvuWHuumhtemdoueahOejgeWKm+mTvu+8jOa3u+WKoOS6keaSreaOpeWPowovLyBAYXV0aG9yICAgICAgIOejgeWKm+S6keaSrQovLyBAaWNvbiAgICAgICAgIGh0dHA6Ly9kZW1vLnNjLmNoaW5hei5jb20vRmlsZXMvcGljL2ljb25zaWNvLzQyMDQvMy5pY28KLy8gQGluY2x1ZGUgICAgICBodHRwczovL2J0ZGlnZy5vcmcvc2VhcmNoKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly9idGRpZ2cub3JnL3NlYXJjaCoKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vd3d3Lm1wNGJhLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cDovLyouamF2Ki4qCi8vIEBpbmNsdWRlICAgICAgaHR0cHM6Ly8qLmphdiouKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly8qLnRvcnJlbnQqLiovKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vKi50b3JyZW50Ki4qLyoKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vKi5idCouKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vKi5idCouKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly8qLmNpbGkqLioKLy8gQGluY2x1ZGUgICAgICBodHRwczovLyouY2lsaSouKgovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzEuMTEuMy9qcXVlcnkubWluLmpzCi8vIEBydW4tYXQgICAgICBkb2N1bWVudC1lbmQKLy8gQG5hbWVzcGFjZSBodHRwczovL2dyZWFzeWZvcmsub3JnL3VzZXJzLzU0NDcyCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gZ2V0QWxsTWFnbmV0KHJhd01hZ25ldHMpIHsKICAgIHZhciBtYWduZXROdW0gPSByYXdNYWduZXRzLmxlbmd0aDsKICAgIHZhciByYXdTdHJpbmcgPSAiIjsKICAgIHZhciByZXggPSBuZXcgUmVnRXhwKCJcXHd7NDB9IiwgJ2cnKTsgLy9yZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWxsIDQwIGJpdCBjb2RlIAogICAgaWYgKG1hZ25ldE51bSAhPT0gMCkgeyAvL3ByYXNlIGFsbCBtYWduZXQgaGVyZiBub2RlcyBpbnRvIHN0cmluZwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFnbmV0TnVtOyBpKyspIHsKICAgICAgICAgICAgcmF3U3RyaW5nICs9IHJhd01hZ25ldHNbaV0udG9TdHJpbmcoKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gcmF3U3RyaW5nLm1hdGNoKHJleCk7IC8vcmV0dXJuIHRoZSBjb2RlIGxpc3QKfQoKCgpmdW5jdGlvbiBjb2RlMmRvd24xKHN0cikgewogICAgdmFyIHMxLCBzMiwgYnRpaCwgdG9ycmVudFVSTDsKICAgIGJ0aWggPSBzdHIudG9Mb2NhbGVVcHBlckNhc2UoKTsKICAgIHMxID0gYnRpaC5zdWJzdHIoMCwgMik7CiAgICBzMiA9IGJ0aWguc3Vic3RyKHN0ci5sZW5ndGggLSAyKTsKICAgIHRvcnJlbnRVUkwgPSAiZGF0YTp0ZXh0L2h0bWwsPG1ldGEgaHR0cC1lcXVpdj1cInJlZnJlc2hcIiBjb250ZW50PVwiMC4xO3VybD1odHRwczovL3d3dy5rOGR5LnRvcC9wbGF5bTN1OC8/dXJsPW1hZ25ldDo/eHQ9dXJuOmJ0aWg6IiArIGJ0aWggKyAiXCI+IjsKICAgIHJldHVybiB0b3JyZW50VVJMOwp9CgpmdW5jdGlvbiBjb2RlMmRvd24yKHN0cikgewogICAgdmFyIGJ0aWgsIHRvcnJlbnRVUkw7CiAgICBidGloID0gc3RyLnRvTG9jYWxlVXBwZXJDYXNlKCk7CiAgICB0b3JyZW50VVJMID0gImRhdGE6dGV4dC9odG1sLDxtZXRhIGh0dHAtZXF1aXY9XCJyZWZyZXNoXCIgY29udGVudD1cIjAuMTt1cmw9aHR0cHM6Ly9tLmp1bnhpMTIzLmNvbS9wbGF5bTN1OC8/dXJsPW1hZ25ldDo/eHQ9dXJuOmJ0aWg6IiArIGJ0aWggKyAiXCI+IjsKICAgIHJldHVybiB0b3JyZW50VVJMOwp9CmZ1bmN0aW9uIGNvZGUyZG93bjMoc3RyKSB7CiAgICB2YXIgYnRpaCwgdG9ycmVudFVSTDsKICAgIGJ0aWggPSBzdHIudG9Mb2NhbGVVcHBlckNhc2UoKTsKICAgIHRvcnJlbnRVUkwgPSAiZGF0YTp0ZXh0L2h0bWwsPG1ldGEgaHR0cC1lcXVpdj1cInJlZnJlc2hcIiBjb250ZW50PVwiMC4xO3VybD1odHRwczovL3BsYXllci55dW5ib3cuY24vcGxheW0zdTgvP3VybD1tYWduZXQ6P3h0PXVybjpidGloOiIgKyBidGloICsgIlwiPiI7CiAgICByZXR1cm4gdG9ycmVudFVSTDsKfQoKZnVuY3Rpb24gaW5jbHVkZShUaGluZ3Msb2JqKSB7CiAgICBmb3IgKHZhciBpID0gVGhpbmdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgaWYgKCQoVGhpbmdzW2ldKS5hdHRyKCdocmVmJyk9PT0kKG9iaikuYXR0cignaHJlZicpKXsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQp9CgpmdW5jdGlvbiBzZXRDc3MoKXsKICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxzdHlsZT4uY29sb3Ixe2JhY2tncm91bmQtY29sb3I6I0ZGRUIzQn0uY29sb3Iye2JhY2tncm91bmQtY29sb3I6I0Y0NDMzNn0uY29sb3Ize2JhY2tncm91bmQtY29sb3I6IzRDQUY1MH1hLnd4ei1heyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0OjVweDtoZWlnaHQ6IDIwcHg7d2lkdGg6IDIwcHg7YmFja2dyb3VuZC1zaXplOiAyMHB4O2JvcmRlci1yYWRpdXM6IDUwJTtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImh0dHA6Ly9kZW1vLnNjLmNoaW5hei5jb20vRmlsZXMvcGljL2ljb25zLzQyMDQvMy5wbmciKTt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO308L3N0eWxlPicpOwp9CgpmdW5jdGlvbiBnZXRBbGxUb3JyZW50c05ldygpIHsKICAgIHZhciByYXdub2RlcyA9ICQoJ2FbaHJlZl49Im1hZ25ldCJdJykuZ2V0KCk7CiAgICB2YXIgbm9kZXMgPSBbXTsKICAgIHZhciBjb2RlTGlzdCA9IFtdOwogICAgdmFyIGxpc3RMZW4gPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPHJhd25vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYoIWluY2x1ZGUobm9kZXMscmF3bm9kZXNbaV0pKXsKICAgICAgICAgICAgbm9kZXMucHVzaChyYXdub2Rlc1tpXSk7CiAgICAgICAgfQogICAgfQogICAgY29kZUxpc3QgPSBnZXRBbGxNYWduZXQobm9kZXMpOwogICAgbGlzdExlbiA9IGNvZGVMaXN0Lmxlbmd0aDsKICAgIHNldENzcygpOwoKICAgIGlmIChsaXN0TGVuICE9PSAwKSB7IC8vcHJhc2UgYWxsIG1hZ25ldCBoZXJmIG5vZGVzIGludG8gc3RyaW5nCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0TGVuOyBpKyspIHsKICAgICAgICAgICAgJChub2Rlc1tpXSkuYWZ0ZXIoJChub2Rlc1tpXSkuY2xvbmUoKS5hZGRDbGFzcygnd3h6LWEgY29sb3IzJykuZW1wdHkoKS5hdHRyKCJ0YXJnZXQiLCJfYmxhbmsiKS5hdHRyKCJ0aXRsZSIsIlBsYXkiICkuYXR0cigiaHJlZiIsIGNvZGUyZG93bjMoY29kZUxpc3RbaV0pKSk7CiAgICAgICAgICAgICQobm9kZXNbaV0pLmFmdGVyKCQobm9kZXNbaV0pLmNsb25lKCkuYWRkQ2xhc3MoJ3d4ei1hIGNvbG9yMScpLmVtcHR5KCkuYXR0cigidGFyZ2V0IiwiX2JsYW5rIikuYXR0cigidGl0bGUiLCJQbGF5IiApLmF0dHIoImhyZWYiLCBjb2RlMmRvd24xKGNvZGVMaXN0W2ldKSkpOwogICAgICAgICAgICAkKG5vZGVzW2ldKS5hZnRlcigkKG5vZGVzW2ldKS5jbG9uZSgpLmFkZENsYXNzKCd3eHotYSBjb2xvcjInKS5lbXB0eSgpLmF0dHIoInRhcmdldCIsIl9ibGFuayIpLmF0dHIoInRpdGxlIiwiUGxheSIgKS5hdHRyKCJocmVmIiwgY29kZTJkb3duMihjb2RlTGlzdFtpXSkpKTsKICAgICAgICB9CiAgICB9CiAgICAkKCcud3h6LWEnKS5jc3MoJ2InLCdkJyk7Cn0KCgpmdW5jdGlvbiBnZXRBbGxUb3JyZW50cygpIHsKICAgIHZhciBub2RlcyA9ICQoJ2FbaHJlZl49Im1hZ25ldCJdJyk7CiAgICB2YXIgY29kZUxpc3QgPSBbXTsKICAgIHZhciBsaXN0TGVuID0gMDsKICAgIHZhciBpID0gMDsKICAgIGNvZGVMaXN0ID0gZ2V0QWxsTWFnbmV0KG5vZGVzKTsKICAgIGxpc3RMZW4gPSBjb2RlTGlzdC5sZW5ndGg7CiAgICBpZiAobGlzdExlbiAhPT0gMCkgeyAvL3ByYXNlIGFsbCBtYWduZXQgaGVyZiBub2RlcyBpbnRvIHN0cmluZwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0TGVuOyBpKyspIHsKICAgICAgICAgICAgJChub2Rlc1tpXSkuYWZ0ZXIoJChub2Rlc1tpXSkuY2xvbmUoKS5lbXB0eSgpLmh0bWwoIltCVF8yXSIpLmF0dHIoInRhcmdldCIsIl9ibGFuayIpLmF0dHIoInRpdGxlIiwiZG93bmxvYWQgdG9ycmVudCBmcm9tIHRvcmNhY2hlIiApLmF0dHIoImhyZWYiLCBjb2RlMmRvd24zKGNvZGVMaXN0W2ldKSkpOwogICAgICAgIH0KICAgIH0KfQoKdmFyIGk9MDsKCgp2YXIgdD13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IC8vd2FpdCAyIHNlY29uZHMgdG8gZXhlY3V0ZSBnZXRBbGxUb3JyZW50cygpIGZ1bmN0aW9uCiAgICBpZigkKCdhW2hyZWZePSJtYWduZXQiXScpLmxlbmd0aD4wfHxpPjIwKXsKICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KTsKICAgICAgICBnZXRBbGxUb3JyZW50c05ldygpOwogICAgfWVsc2V7CiAgICAgICAgaSsrOwogICAgfQp9LCA1MDApOw=="},{"name":"Easy offline","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http*://*/*","http*://pan.baidu.com/*","http*://115.com/*","https://www.furk.net/*","https://www.seedr.cc/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970096},"enabled":true,"position":23,"file_url":"https://greasyfork.org/scripts/22590-%E4%B8%80%E9%94%AE%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD/code/%E4%B8%80%E9%94%AE%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD.user.js","uuid":"08e718ea-29e6-4f9a-862a-22e56f7bf3d6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBFYXN5IG9mZmxpbmUKLy8gQG5hbWU6emgtQ04gICDkuIDplK7nprvnur/kuIvovb0KLy8gQG5hbWU6emgtVFcgICDkuIDpjbXpm6LntqvkuIvovIkKLy8gQGRlc2NyaXB0aW9uICBGaW5kIG91dCBhbGwgbWFnbmV0IGxpbmtzIGFuZCB0b3JyZW50cyBhbmQgdmlkZW8gbGlua3MgaW4gY3VycmVudCBwYWdlLCBhbmQgc3RyZWFtIHRoZW0gZnJvbSBjbG91ZCBzdG9yYWdlIGF1dG9tYXRpY2FsbHkuCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiDkuIDplK7oh6rliqjlsIbno4Hpk77jgIFidOenjeWtkOaIluWFtuS7luS4i+i9vei1hOa6kOemu+e6v+S4i+i9veiHs+e9keebmAovLyBAZGVzY3JpcHRpb246emgtVFcg5LiA6Y216Ieq5YuV5bCH56OB6Y+I44CBYnTnqK7lrZDmiJblhbbku5bkuIvovInos4fmupDpm6LntqvkuIvovInoh7PntrLnm6QKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvanF1ZXJ5LzEuNy4yL2pxdWVyeS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvaGktYmFzZTY0LzAuMi4wL2Jhc2U2NC5taW4uanMKLy8gQHZlcnNpb24gICAgICAxLjUuNQovLyBAYXV0aG9yICAgICAgIEhvb3RoaW4KLy8gQG1haWwgICAgICAgICByaXhpeGlAZ21haWwuY29tCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly8qLyoKLy8gQGluY2x1ZGUgICAgICBodHRwKjovL3Bhbi5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vMTE1LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cHM6Ly93d3cuZnVyay5uZXQvKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vd3d3LnNlZWRyLmNjLyoKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX2RlbGV0ZVZhbHVlCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBzdXBwb3J0VVJMICAgaHR0cDovL3d3dy5ob290aGluLmNvbQovLyBAbGljZW5zZSAgICAgIE1JVCBMaWNlbnNlCi8vIEBjb21wYXRpYmxlICAgICAgICBjaHJvbWUKLy8gQGNvbXBhdGlibGUgICAgICAgIGZpcmVmb3gKLy8gQGNvbnRyaWJ1dGlvblVSTCBodHRwczovL3d3dy5wYXlwYWwuY29tL2NnaS1iaW4vd2Vic2NyP2NtZD1fZG9uYXRpb25zJmJ1c2luZXNzPXJpeGl4aUBzaW5hLmNvbSZpdGVtX25hbWU9R3JlYXN5K0ZvcmsrZG9uYXRpb24KLy8gQGNvbnRyaWJ1dGlvbkFtb3VudCAxCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgc2l0ZXM9ewogICAgICAgIGJhaWR1OnsKICAgICAgICAgICAgcmVnZXg6L3BhblwuYmFpZHVcLmNvbS8sCiAgICAgICAgICAgIHVybDoiaHR0cHM6Ly9wYW4uYmFpZHUuY29tL2Rpc2svaG9tZSIsCiAgICAgICAgICAgIGJnQ29sb3I6ImZmZmZmZiIsCiAgICAgICAgICAgIGNhbk11bDp0cnVlLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQmpGQk1WRVgvLy8vNysvdisvdi84L1B3eWYvd3pjL3cwYnZ6YTVmNHhmZno1Ky8vMCtQOHliUHo4L2Y0eWV2dzBjUHd6YS96MzkvY3dlL1V4ZGZ6U1B5cjQrdi8yK2YvbTcvNTNudjB2Zi93dmNlOXBvZjF0bFB3eGYvZ3pmUFl3ZVBQcDhmN1o1LzdTNHY3UDRQN0wzZjdJMmYyR3RmMlJyLzFoa1AweWQvMUZpUHd5Z2Z4QWRQeHNwZnRZa3ZVdGMvRGc2ZjdDMmY3RjFmNTRvUDFmbGYwL2hmd3NidTdpN2YvdzlmN2I1djdYNWY3VjR2Nm55djZveHY2andQNk5zLzJMc2YxL3J2MStvdjF6b2YxeG9mMTBuZjFqbS8xZGpQMHhlLzJOdWZ4YWx2eEhqL3hQaHZ4S2dQeEhmZncrZWZ3MGVQeVh1L21xeFBnNWhmaVR0dmR5by9kZ21mZE9qL2RCaGZWZmxmUXZlZlQrOWZPSXF2TXllZk5NaHZGSWdPOU1lZVB5eWNWalpiektiM0RhWlZhL1EwRHg5ZitCcC8xb2x2MWdrUHcwZHZ6ZzZQdTJ6UGswZ2ZsTmpQY3RjL2M5Z2ZYODgvSkpmTzNuMytuaTJ1bkh4dVNHa3ROcGR0QkpZOHBhYXNoUlc3MW5YcXA3WXB5RFlKS3BhSUtQVTMzQVZGWEFSa1RWVFR2RlFqclVQeXBLd0hxMUFBQUNBa2xFUVZRNHk0V1RCM09xUUJTRkYzQnBBaytLSUJpeEoycnMwZlRlZTY4dnZiemVlKzkvL08xQ2lvNDZucG1GUGZkOGQyY1k5Z0lBU01KSFVFU0RLRlFtQVpKQVVLQ0ZLRUxBL1dTcjNBM2QvdFpuQUY5OUM4ZlZIWWhpb3NieHhmbHNkcjdJMTVTSVdpQ2UzZXhBMnN6R213T0pYVGtVa3ZIYVRUUUQ5TnlCTE8vdDdPeko4a0ZPYndLczIvYlJkclN2TDdwOVpOdnJqUUMvbjgvbnduZ1h6dVh6KzN3REVENDJ6UzEzdTJXYXgrRUdRRCtwbWh2dWRzT3NudWoxZ0JBWlNwNSsvWFJJWWtNZVZ1MVh5YUdJY0Fmb3ljVk00UG4zcXg5dmNXM2dSVWNtRThnc0p2VWJvTmZ5ZUR5QndMZC82c1g3d3RObkM0NURENnZYQmJSeDFzT21yUSsvVkZYOWVmb21oRnpGc3RMb05hNDVRS3pDaWpNeC92WFpwYXIrL2ZLU1plY1dpandmbXhIWlNnekZGQmdXeFhRVUlKMzlVWDkvbmhQRm5nSHNvbWxSSEVZeFJZNm1sQ2tPbCs1ZlhwMnZyYVY2SWdDTG0xSlNveVFHeGhSbFVuQ0FpL1BVRXdYbldNS2tvb3hoQUl4QXVOU1BTKzgrUWdpN0dPQjN6dXRmZ25BRXhRU0lyMEpvTUp3MkdKU2doUExTbzRlREdzY1lFSzdHbmEvZ3k3UWtMUnZUSzVKRVAyYkFneTR2dlRKdExDTlg1aDBBTUxOZW12YmloZnFCdjN6alpwSERBQ0tNN250STNSTUZnRlNZY0ozQjNQMHNmNmt6R094TStBRndYQUs3a3VOdXJ6MnBjV1R0N2RldW5hL3Q0TFFkdmJiRDIzYjgvd1BZMFVUTzk5ZEQ1Z0FBQUFCSlJVNUVya0pnZ2c9PSIsCiAgICAgICAgICAgIG9mZkZ1bmM6ZnVuY3Rpb24oZGVsTGluayl7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZy1idXR0b25bZGF0YS1idXR0b24taWQ9YjEzXScpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB2YXIgYnNpID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Rhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjX2Rpc2tfaWRfMicpOwogICAgICAgICAgICAgICAgICAgIGlmKG5ld1Rhc2tCdG4pewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGJzaSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Rhc2tCdG4uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJzbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZkxpbms9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NoYXJlLW9mZmxpbmUtbGluaycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob2ZmTGluayl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChic2wpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZWdpbk9mZmxpbmU9ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VybGluay5sZW5ndGg9PT0wKXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGN1cmxpbmspID09PSAnW29iamVjdCBBcnJheV0nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmTGluay52YWx1ZSA9IGN1cmxpbmsuc2hpZnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZkxpbmsudmFsdWUgPSBjdXJsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VybGluaz0iIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxMaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYWlkdVBhdGhTdHI9R01fZ2V0VmFsdWUoImJhaWR1UGF0aCIpLGlzQnQ9L15tYWduZXR8dG9ycmVudCQvLnRlc3Qob2ZmTGluay52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGJhaWR1UGF0aFN0cil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cucmVxdWlyZSgiZnVuY3Rpb24td2lkZ2V0LTE6b2ZmbGluZURvd25sb2FkL3V0aWwvbmV3T2ZmbGluZURpYWxvZy5qcyIpLm9idGFpbigpLl9jaGVja1BhdGg9YmFpZHVQYXRoU3RyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNuZXdvZmZsaW5lLWRpYWxvZyIpLmZpbmQoInNwYW46Y29udGFpbnMoJ+ehruWumicpW2NsYXNzPSd0ZXh0J10iKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc0J0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk9MCwgYnNiID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRMaXN0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvZmZsaW5lYnRsaXN0LWRpYWxvZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGJ0TGlzdCAmJiBidExpc3Quc3R5bGUuZGlzcGxheSE9Im5vbmUiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChic2IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkKCIuY29udGVudC10aXRsZS1uYW1lIikuaHRtbCgpPT0i5paH5Lu25ZCNIikkKCJhLmNoZWNrZWQtYWxsIilbMF0uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaWFsb2ctZm9vdGVyPi5nLWJ1dHRvbicpWzFdLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoKytpPjUwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChic2IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBja2Vja0VuZD1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJjaz1zZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNvZmZsaW5lbGlzdC1kaWFsb2ciKS5zdHlsZS5kaXNwbGF5IT0ibm9uZSIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGJjayk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luT2ZmbGluZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkaWFsb2cxIikuc3R5bGUuZGlzcGxheSE9Im5vbmUiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChiY2spOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXRDb2RlPSQoIiNkaWFsb2cxIikuZmluZCgiLmlucHV0LWNvZGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDb2RlLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJjaz1zZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5wdXRDb2RlLnZhbCgpLmxlbmd0aD09NCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChiY2spOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNkaWFsb2cxIikuZmluZCgic3Bhbjpjb250YWlucygn56Gu5a6aJylbY2xhc3M9J3RleHQnXSIpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2tlY2tFbmQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwyMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtja2Vja0VuZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07YmVnaW5PZmZsaW5lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcGNsb3VkOnsKICAgICAgICAgICAgcmVnZXg6L215XC5wY2xvdWRcLmNvbS8sCiAgICAgICAgICAgIHVybDoiaHR0cHM6Ly9teS5wY2xvdWQuY29tLyIsCiAgICAgICAgICAgIGJnQ29sb3I6ImYxZjFmMSIsCiAgICAgICAgICAgIG5vTWFnOnRydWUsCiAgICAgICAgICAgIG5vRWQyazp0cnVlLAogICAgICAgICAgICBub0Z0cDp0cnVlLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQVhWQk1WRVgvLy8vLy8vOGJ5dFQvLy84Znk5VWJ5dFFieXRRZnk5VWZ5OVVtek5ZYnl0UWd5OVVpek5VYnl0VC8vLzhieXRRZXk5VWZ5OVVneTlWRzFOeEIwOXNieXRSZzJ1RlMxOTRieXRULy8vOUcxTnp4L1B6aStQcFQxOStjNk94WjdycVhBQUFBR0hSU1RsTUJHL0FIeFlBaDQ5TzNvV0pCTVJVUjRiT0xZVjlSUXo5Zlc1emJBQUFBYlVsRVFWUVkwNDNNUnhMQ01CQkUwV1lrT1FjeVh5YmMvNWhJaFV1d3cyLzN1MnBHRzFXZFlWMVZ1amN5RzljZVdkbWNNOGpESzhiSEUwTHFDek1RRjVZN05Pbk5nZUU3TUFUQk1RK2ZFL3E5d0N3TmtEVWV0VUFaUExWdXhxK3ozTFdscUU5T2N0T3VtRkwvOVFZQ2x3dnQzTmtEa2dBQUFBQkpSVTVFcmtKZ2dnPT0iLAogICAgICAgICAgICBvZmZGdW5jOmZ1bmN0aW9uKGRlbExpbmspewogICAgICAgICAgICAgICAgdmFyIHBzYyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHZhciB1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi51cGxvYWRfYnV0dG9uJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVwQnRuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHNjKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBCdG4uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi5yZW1vdGV1cGxvYWQtY3RybCcpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdGVhcmVhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhLnJlbW90ZWFyZWEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlYXJlYS52YWx1ZT1jdXJsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICBkZWxMaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZWFyZWEubmV4dFNpYmxpbmcuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB5eXc6ewogICAgICAgICAgICByZWdleDovMTE1XC5jb20vLAogICAgICAgICAgICB1cmw6Imh0dHA6Ly8xMTUuY29tLz90YWI9b2ZmbGluZSZtb2RlPXdhbmdwYW4iLAogICAgICAgICAgICBiZ0NvbG9yOiIyMTQ1OGEiLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQVNGQk1WRVVoUllyLy8vK1hxY2pWM09tSm5NRlRiNlFvUzQ1UGJLTHU4ZmJaNE92Qnk5NXhpTFJpZkt4YmRxbFhjcVl4VTVQMytQcmg1dS9PMXVYSDBlSzZ4ZHVrczg5L2xMdEdaSjR5c01maEFBQUFWVWxFUVZRWTA0V1BTUTZBTUF3RDZ5U2tkS0hzOFArZmNreURoUEJ0Um9vamh5RzRHUDZGRWpQdnhoR1ppS0tKUE03dW9BSFlTaWYwTGdkdyt0cHBRZk9HSUY0SUxzZWEzQ2V0dk1hK1VhUnErTWg3L2dQa3hBSEZoOVdEVVFBQUFBQkpSVTVFcmtKZ2dnPT0iLAogICAgICAgICAgICBvZmZGdW5jOmZ1bmN0aW9uKGRlbExpbmspewogICAgICAgICAgICAgICAgdmFyIHJzYyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyc2MpOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LkNvcmUuT0ZGTDVQbHVnLk9wZW5MaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNqc19vZmZsaW5lX25ld19hZGQnKS52YWwoY3VybGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsTGluaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZ1cms6ewogICAgICAgICAgICByZWdleDovd3d3XC5mdXJrXC5uZXQvLAogICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3LmZ1cmsubmV0L3VzZXJzL2ZpbGVzL2FkZCIsCiAgICAgICAgICAgIGJnQ29sb3I6ImZmZiIsCiAgICAgICAgICAgIGhpZGU6ZmFsc2UsCiAgICAgICAgICAgIGJnSW1nOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQU1BQUFCZ1o5c0ZBQUFBZmxCTVZFWC8vLytDdXVhR3YrcmpYS25pVGFpRHUrZDN0dWZpWHEvblVxeEFuOSt0MXZHaXovRk9udC9zajhub2w4YmhjTEpSbzk3Yjd2cDV1T3BDb2VHUXcrbTMxL1hXNi9lcjArK0l3ZTMzMHVaVXB1SHNzTmpuaThUcWY3L285UG42OFBTVXgrNzMyZXVjeXV2enp1SmpxK0gwdjk3c204cTEydkR0bzgvcmNyanQ4MzFVQUFBQm1VbEVRVlJJeCsyVDZXNkRNQkNFOGRyNGFFZ3cwS1M1a3paSDIvZC93ZTdhbGlKbE42S1Irck5qZ1l3WWZ4cnd1UHJYWHdrZWFDN2JhMW5xVTdZcldmVjgzTjZybTk1RzdaQ1dsTm5MNktmYTIwekJBN3RORWw3S1Nzamw1SW4vcnNCT25xQXJ0ZngxR0dYVkdIMTEyV3d1cTJLbk1NRHAybm5VdGFxdU9zdHRjaGlrMTV5ZUxHWjY4dHBwNzQwM2VsWG80cFpuNUxkM3pwZzAzVldGamtPbWU1MWtjR2ovbnUxcDd3RjZRUFUwY2pLRFZJeUJScmZidGRwdE00WFlxWUlvU0tQK0tIUTA0WDE3d0tmREY4SkpZSlV0OWNxclZIMnNVT2cwaEo0SnU1ck5SU1dNSWI5cjcwdUE0YTJsUlJTcng5c3RERjZuZTd0Q3J6MTJYYmRmTFBiZEFpY1ZDZEZFcjVnZFFHcTMwNlF0Nnd6NWdSODErdDJ0bVhJNlNiTFQ1c3g0Z2ExWU1kTmlkTS9zQU1RWE9tT29CVlB4ZU1pZGFhVXdGc1NqYlZCYStOUzBSZHllcXVnWVhTMHBqaFNtbGVnV2NLeGZSYnJtZEZCd2pwSGJNYmxFVitjUXdpRFNuVUJmRDhQUU5NRHRWQnBPSDJJWWhqVkluWkhvc1lreEJoN0dHWkVlR3BSZzE2MUliMElUUWhUQ01QcnorZ0cxc2hGNGtvSEVUQUFBQUFCSlJVNUVya0pnZ2c9PSIsCiAgICAgICAgICAgIG9mZkZ1bmM6ZnVuY3Rpb24oZGVsTGluayl7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGlmKCEkKCcjdXJsJykubGVuZ3RoKXJldHVybjsKICAgICAgICAgICAgICAgICAgICAkKCcjdXJsJykudmFsKGN1cmxpbmspOwogICAgICAgICAgICAgICAgICAgIGRlbExpbmsoKTsKICAgICAgICAgICAgICAgICAgICAkKCI6c3VibWl0W3ZhbHVlPSdBZGQgZG93bmxvYWQnXSIpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZWVkcjp7CiAgICAgICAgICAgIHJlZ2V4Oi93d3dcLnNlZWRyXC5jYy8sCiAgICAgICAgICAgIHVybDoiaHR0cHM6Ly93d3cuc2VlZHIuY2MvZmlsZXMiLAogICAgICAgICAgICBiZ0NvbG9yOiJjYTJhMTUiLAogICAgICAgICAgICBoaWRlOmZhbHNlLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQWxsQk1WRVhHS0JQR0tCUEdLQlBHS0JQT1JETEpNaDN1djduUVREdklMUmpwcktQbW9aamJkbW5MT3lqS05TSHR2TGJydEszb3BwM2xtNUhoajRUYWMyWFpiMkhYYWx2VVhFekxPaWJHS0JQR0tCUEdLQlBxc2FyamxvdmVoSGpYYUZuVFdrck1RQzNHS0JQR0tCUEdLQlAvLy8vNDQrSDc3dTMyM05qMDFkSHh5Y1A4OHZINjYrbjIzZHIwMTlUeXo4cnh6TWZ2dzczdndyeFlWajlCQUFBQUpIUlNUbFA3eWIraisvdjkrL3Y5L2YzNysvMzkvZjM5L2YzOSsvdXhtU2o5L2YzNysvdVhOUjJHZDlFNkFBQUFtVWxFUVZRWTAwM05WeEtETUF4RlVRVnNiSHF2NllrTUlUMzczMXdFWm9EN29abDNmZ1FYWTdQS2FLQUNLbjkzQnhpcndhQXJXc1FYSDhFY1lZZVV1NEJuRFJBc1VLZ0JXalpEZXFmZHVYS0dtSGJQVDNZaUo5Z2lQdGorcVVKV2F2Z2h4b1VTSEZ4TEF6M0pJZ2NBeXBzR0J6RjNiQUp2QXZIQjVQaVZubThIR29CWklmZlRWdldNb0lJaFg0S0lNZzV3aHNiY3JLcXZmMjl1REJjdTIrU0FBQUFBQUVsRlRrU3VRbUNDIiwKICAgICAgICAgICAgb2ZmRnVuYzpmdW5jdGlvbihkZWxMaW5rKXsKICAgICAgICAgICAgICAgIHZhciBzZGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZigkKCcjdXBsb2FkLWJ1dHRvbicpLmNzcygiZGlzcGxheSIpICE9ICJub25lIil7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHNkaSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc6dGV4dFtuYW1lPSJ0b3JyZW50Il0nKS52YWwoY3VybGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxMaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdXBsb2FkLWJ1dHRvbicpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSw1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB3ZWl5dW46ewogICAgICAgICAgICByZWdleDovd3d3XC53ZWl5dW5cLmNvbS8sCiAgICAgICAgICAgIHVybDoiaHR0cHM6Ly93d3cud2VpeXVuLmNvbS9kaXNrL2luZGV4Lmh0bWwiLAogICAgICAgICAgICBiZ0NvbG9yOiIzYzk1ZWUiLAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQVYxQk1WRVVlZDlFNGh0ZzJoTkkyZzg0S0prTVNLa01KSWp3SEVCci8vLzhsaCtrNWsrNDlsdTRoaGVneWord3JpK3MvbHUrczB2Zmc3dnpYNnZ5LzNQbFdvdSt3MVBpY3lmYVd4dlhmN2Z6QjNmbUh2ZlNCdXZOZnAvR2hER1hWQUFBQUNIUlNUbFBtNXVEZVNraENITzdISWprQUFBQjRTVVJCVkJqVFpZdUpEc0l3REVNOVRuZkRvZGMycnYvL1R0b0tJVHFlb3NSK1VuQWNyai9zemhpbWpqMm1EUmdiTThuWUVqNTlHUmZPWC9GZzNhKzJJVVdTVWgwdkNmS2hSVWJGYWlBcXMxTDBQVkF3MnZyTTNzeDhzRkpnaWVVR1d3Tnp6WEF1a1RlU3FYNDZCN2ZoWCtEU0FSelE5ZE1iUklrTGs2MWVRYWdBQUFBQVNVVk9SSzVDWUlJPSIsCiAgICAgICAgICAgIG9mZkZ1bmM6ZnVuY3Rpb24oZGVsTGluayl7CiAgICAgICAgICAgICAgICB2YXIgb2ZmQnRuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpW2RhdGEtYWN0aW9uPW9mZmxpbmVfZG93bmxvYWRdJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgb2ZmQnRuLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHdzYyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpLmxpbmtbZGF0YS1pZD1vZmZsaW5lX3RhYl0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYodGFiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod3NjKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRhcmVhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhLmNvcHl1cmwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLmlubmVySFRNTD1jdXJsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsTGluaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmluaXRFdmVudCgiY2hhbmdlIiwgZmFsc2UsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbZGF0YS1idG4taWQ9T0tdJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sMjAwKTsKICAgICAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHh1bmxlaTp7CiAgICAgICAgICAgIHJlZ2V4Oi9saXhpYW5cLnZpcFwueHVubGVpXC5jb20vLAogICAgICAgICAgICB1cmw6Imh0dHA6Ly9saXhpYW4udmlwLnh1bmxlaS5jb20vP2Z1cmw9IiwKICAgICAgICAgICAgYmdDb2xvcjoiMmU3MWYxIiwKICAgICAgICAgICAgZGlyZWN0VXJsOmZ1bmN0aW9uKG9mZlVybCl7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cmwrb2ZmVXJsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCa0FBQUFaQ0FNQUFBRHpOM1ZSQUFBQkMxQk1WRVVBQUFBcmNQVXNjUFFrYXZKU2Q3OVVkcmhUZHJsZWQ2a2phZTh1Y2ZBcWJPd29hKzBwYSt4VGQ3MVdkck5hZDYxZGVhNHBiTzR2Y3ZFc2IvQXFiZThzYnU4dWNmQXJidTh1Y2ZFcGJlMG9hKzR2Y1BILy8vNFpZZTdqOGZuZTdma25iUEFrYU80MWRmRGE2dmdjWSsvbzgvclY2UGNoWis0YlpPNzkvLzN1K2ZrbGF2SWlhTzhWWHUzeDkvM3Q5ZnZlN3ZlTHNmWXFjZlpOaHZFNWQvQWZaTzM2L2Z6MCsvcnkrdnJiNlByRzJ2blI1ZmJMNGZhWHVmYkczZldxeVBXancvV0VyUFdpeFBSNHBQUjBvdk9Jc2ZKc25QSllqKzlCZmUvMSt2M2w3ZjNwOFB6ZzdmcSswL21sdy9mWTYvYVF0UGFIcmZabmwvUzQxZk9SdC9LQXF2S1p2dkZKaE84ZVplNFJWQ3pGQUFBQUVYUlNUbE1BK1A3NGducHpXUDMyOU9yb2hYSmdYT1FWYUVjQUFBRk9TVVJCVkNqUFpjem5lb0l3R0liaHFOWHVFUU9SWUdJQlFYRHZ2YmZkZTV6L2tmU1RpMUt4OTc5OHovVUdJWFFRVXVKQlNpaUd3RG1FUFVrbEZJVkZEY0kvNGRvVnFpbFVDU0lGQXJkamxBeFFGRTFJcjQxRU1obEdsRktpRWVyUmhQRnkyOU8zYnlpeVVUY2N4OUhpVkJieFlZbTNqQUwxaWx5dlBsZXJobDF3Rm5lYzgzbVJ1b1VRU2dyMmxQUDdCbjNnMmRKTnRtNlRMU2dnVVh6TVpydGRYaTZYK2RDUi9RTEV0R1YxU3BabHRYdmZHdGt0NXFTZGNuWG1wbWxpdDhndWM1Szc5dlRISzBPQ2sxZWFxMXg2cTJMbFV1bkJVc1pRRWk1c2ozTVpNSnA5YkxDdXluQ0NqVXZYM3l1VnpLQlJGTHFLNFROdkErUWo4VFY3U2kxRTRoZVNmS1pZai9wVWx6eFFmRmpRdDJYUkwvaVBKRFhWejQzdHZSQm1PNlNtc2RhWlMwTjV6SFpuT3BNd1lOb0ppdVUxcHU1aitmd2hRdEdJeW5BUVV5TVhDRnllcW50RlBZUEZEMDk1UXg4eCtuN0NBQUFBQUVsRlRrU3VRbUNDIgogICAgICAgIH0sCiAgICAgICAgeGlhb21pOnsKICAgICAgICAgICAgcmVnZXg6L21pd2lmaVwuY29tLywKICAgICAgICAgICAgdXJsOiJodHRwOi8vZC5taXdpZmkuY29tL2Qyci8/dXJsPSIsCiAgICAgICAgICAgIGJnQ29sb3I6ImY5NzMwNiIsCiAgICAgICAgICAgIGRpcmVjdFVybDpmdW5jdGlvbihvZmZVcmwpewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXJsK2Jhc2U2NC5lbmNvZGUob2ZmVXJsKSsiJnNyYz1FYXN5T2ZmbGluZSI7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJnSW1nOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFBZUZCTVZFWDRjd0QrL3Y3Ky92eisvZjcrektyK21VLysrdmo5M2NmOGhpdisyOFQrejYvK3o2djhsVXYra2tuOGdTZitmQ0w5OE9QOTJzSCsxN3oreXFmK3lhWCt3Slg5bGsvN21rejhra2I5amo3OWd5cjZoeW45ZXh2Kysvcis5L1g5NitIK3hKejl2NDcrbUZQK21FcitkaDM3ZGhuK2RoTCtjQXc5TnZsOUFBQUFmMGxFUVZRWTA1M05XUTZETUF3RTBMRk5Fa3FhaExLMGhkSjl1LzhOY1hJRVJwWS9ua1kyTnVWUzF6b1J3REwvZEw5dklrSnNYY1JnandxRzd1UDRmTFRjdzVOUk9KR0g1aVVPRldjdzNLQnFKOUFPRmUxelF6d2NCWENCY3FQQmdjOEZ1SUFvaUlMVFJ2NFNiSS9PVHJBZGhtdUFaazVZNGgvcGcyL0NscXptNVFWd2lGU1NtQUFBQUFCSlJVNUVya0pnZ2c9PSIKICAgICAgICB9LAogICAgICAgIGFwaXY6ewogICAgICAgICAgICByZWdleDovYXBpdlwuZ2EvLAogICAgICAgICAgICB1cmw6Imh0dHBzOi8vYXBpdi5nYS9tYWduZXQvIiwKICAgICAgICAgICAgYmdDb2xvcjoiMzUyNzFjIiwKICAgICAgICAgICAgbm9IdHRwOnRydWUsCiAgICAgICAgICAgIG5vRWQyazp0cnVlLAogICAgICAgICAgICBub0Z0cDp0cnVlLAogICAgICAgICAgICBkaXJlY3RVcmw6ZnVuY3Rpb24ob2ZmVXJsKXsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybCtvZmZVcmwuc3BsaXQoIiYiKVswXS5yZXBsYWNlKCJtYWduZXQ6P3h0PXVybjpidGloOiIsIiIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZ0ltZzoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVMxQk1WRVhxNU4rTGdubC9kR3cxSnh6dDV1RHk3ZWp1NmVPMXJLVGszdGRQUkRqYjFNMnZwWjFqV1U5V1NUNit0cStxb0ppWWtJcDRiV05DTkNiZzJkVEl3TGk1c3F1cm9wbFlUMGRGTnl1YTAvVjhBQUFBQTNSU1RsUCsvdjZWRm9rc0FBQUFha2xFUVZRNHkrWFNTdzZBSUF3RVVNQ0M1U3ZnOS80bkZRL0FzRFRHV2Ira2swbkZOTWdmUWF3RHNLUTRBT3hVUmVCZ1ptOEJtRVdMSzFjZkVKRXg1Q01HMnJpQ2dHNHh1ZGVoaVFlc0NwN1FlNEFkV0o2b0pLVUFkMkFKaDZJdFdEUzF6L2Ixai9vc3VBSHJvQTNxa3NTVDVRQUFBQUJKUlU1RXJrSmdnZz09IgogICAgICAgIH0sCiAgICAgICAgdG9ycmVudDp7CiAgICAgICAgICAgIHJlZ2V4Oi90b3JyZW50XC5vcmdcLmNuLywKICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3LnRvcnJlbnQub3JnLmNuL0hvbWUvdG9ycmVudC9kb3dubG9hZC5odG1sP2hhc2g9IiwKICAgICAgICAgICAgYmdDb2xvcjoiZjJmMmYyIiwKICAgICAgICAgICAgbm9IdHRwOnRydWUsCiAgICAgICAgICAgIG5vRWQyazp0cnVlLAogICAgICAgICAgICBub0Z0cDp0cnVlLAogICAgICAgICAgICBkaXJlY3RVcmw6ZnVuY3Rpb24ob2ZmVXJsKXsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybCtvZmZVcmwucmVwbGFjZSgibWFnbmV0Oj94dD11cm46YnRpaDoiLCIiKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmdJbWc6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFoMUJNVkVVQUFBQVJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc0UnpXNFJ6VzRSelc2UTRMQ1RBQUFBTEhSU1RsTUFCQ2JvR1JQTU5kSXJIL1B1NnNTK3BDL2l1Wmc1Q2ZuYWVVV0ZaRDg4RHRheXE1R0xnRnozVkU1SmF3MFBRd29BQUFGSlNVUkJWRGpMMVpMWmRvUWdFRVJIUUJCd0FmZDl4blcyL3YvdlN4Uk5KaWZPZTNKZlBDMUYwVjF3K2wrY3kybTZDK3U5b0pZQTEzd2tiNVpGL1hCaHdkZkhnZ28zUGF4UWZ0aUFEekhMamFLekR3VGtBdkpSaHFzZ213OEV0Z1BnOE5ZeGJSeFlwTUd5Z1BqeXlmS2pMb3FRK3I3U29zK3JCN05UNi9jWkxHa1RoaXdidFZVWEJPcUpmbWlzSkthaGgzTkZVTythVHNNWXZjd1FlN0F5YWdwZlhPNjdDUXJBZ0ptQ0YvQjlDNm5iLzBRNnpLb2k4dmJhTWFjOE0xT0dFMkl1UkRlaFJ3eUdZb3Rnd1IyUXVERVA0RXBuVzhmYnpaMU55Z0F5YXM2ejQvQzF4MnZVcEV3dExqbFpFdWhDT3BRazZTWElzakRXbm1xSXZsV3FYdWNnYlZ0T3dlb1o4UWdNTGxYRjNLVG1yZmllQkVOV201RTNxREF4MW5qZkZvc1RHYjZuTFBlZ1dYekJIbmFHWkxGTTJlaGdLVEV0eE10ZEVLNlJiZTJWelpPRWY1Wi9oUTlYaWpKa2NsWEZwZ0FBQUFCSlJVNUVya0pnZ2c9PSIKICAgICAgICB9LAogICAgICAgIGJ0Y2FjaGU6ewogICAgICAgICAgICByZWdleDovYnRjYWNoZVwubWUvLAogICAgICAgICAgICB1cmw6Imh0dHA6Ly9idGNhY2hlLm1lL3RvcnJlbnQvIiwKICAgICAgICAgICAgYmdDb2xvcjoiZjMwMDAwIiwKICAgICAgICAgICAgbm9IdHRwOnRydWUsCiAgICAgICAgICAgIG5vRWQyazp0cnVlLAogICAgICAgICAgICBub0Z0cDp0cnVlLAogICAgICAgICAgICBkaXJlY3RVcmw6ZnVuY3Rpb24ob2ZmVXJsKXsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybCtvZmZVcmwucmVwbGFjZSgibWFnbmV0Oj94dD11cm46YnRpaDoiLCIiKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmdJbWc6ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUE5bEJNVkVVQUFBQ2dvcU9pcEtVQUFBQzR1YnExdHJhWGw1algxOWc5UFQ0R0JnYTJ0N2l4c3JPdXI3Q21wNmpNek0xK2YzOVpXVnBuWjJlQ2hJWE16YzNCd2NLdnNyTEd4c2FjblozZjM5OXpkSFM5dnI2MXRyWlpXMXVwcTZ2SXlzcTd2YjJucUtsaVpHVFMwOU82dkx6ZzRPQzJ1TGhRVVZIaTR1Syt2NzlPVGs0aElTSFQxTlFaR1JuZjRPQ1BrcEtzcmEzS3lzeG1aMmQrZjMveTh2T1VsWlcrdnIrMnRyaWRucC9aMmRtQWdZSjRlbnB0Ym01WVdWbjM5L2Z2Ny9ERHc4VGQzZDdVMWRYVTFOVE96dEM0dWJ1b3FhbWxwYVdjbkp5WW1KcDZmSHh3Y1hGVFZWWDI5L2JIeU1uSHg4ZTN0N3Fnb2FHSGlZbTFBeEpwQUFBQUwzUlNUbE1BSGhnRjROYlcyalFVNHVEZzNzeWJWRFVrSGhjRjZPams1T0RjMmRmSnljUERyYTE3ZXprdUxpVWxJUlVSRWY2c1dMMEFBQUMwU1VSQlZCalRqWTlIRW9KQUFBUVhWd1Z6QU13NVo1WU1nb0JpenY3L003SndvTHc1dCtsRDF3ekFZVmNFUGFlWExBZ3lIdlRhelRwSnR2ckRDZTVNMW5VUmVpaUsvRVJaeGdORVZMWWR5MUdGejF1dUVUNTRJZkd1Y1RxLzVxSVlSR0lLRWpjYUozZ2dGc0VncnAvdG5Td1pKaS9FTVNEU3FxUWVKZU5tWGsrcHdMRkhscmc5Q1B6bDE2SC83eWdtUTBleUNBQ2tNdUdPREFVQlRPUnpIYkpTS2xjYjNWdytBZkU5dUpnV0NpTnE1cmN2Zk53Z2pkdW1ZZFFBQUFBQVNVVk9SSzVDWUlJPSIKICAgICAgICB9CiAgICB9OwogICAgdmFyIGVuYWJsZVVybCA9ICdhW2hyZWZePSJtYWduZXQiXSxbaHJlZl49ImVkMms6Ly98ZmlsZSJdLFtocmVmJD0iLnRvcnJlbnQiXSxbaHJlZiQ9Ii5tcDQiXSxbaHJlZiQ9Ii5yYXIiXSxbaHJlZiQ9Ii43eiJdLFtocmVmJD0iLnppcCJdLFtocmVmJD0iLnJtdmIiXSxbaHJlZiQ9Ii5ta3YiXSxbaHJlZiQ9Ii5hdmkiXSxbaHJlZiQ9Ii5pc28iXSc7CiAgICB2YXIgZGlzYWJsZVVybD1bIi50b3JyZW50a2l0dHkuIiwiYnQuYm94Lm4wODA4LmNvbSJdOwogICAgdmFyIGxhbmcgPSBuYXZpZ2F0b3IuYXBwTmFtZT09Ik5ldHNjYXBlIj9uYXZpZ2F0b3IubGFuZ3VhZ2U6bmF2aWdhdG9yLnVzZXJMYW5ndWFnZTsKICAgIHZhciBpMThuPXt9OwogICAgdmFyIHNob3dUeXBlPSEhR01fZ2V0VmFsdWUoInNob3dUeXBlIik7CiAgICAkPWpRdWVyeTsKICAgIHN3aXRjaCAobGFuZyl7CiAgICAgICAgY2FzZSAiemgtQ04iOgogICAgICAgICAgICBpMThuPXsKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZToi5LiA6ZSu56a757q/5LiL6L296K6+572uIiwKICAgICAgICAgICAgICAgIHl5dzoiMTE1572R55uYIiwKICAgICAgICAgICAgICAgIGJhaWR1OiLnmb7luqbnvZHnm5giLAogICAgICAgICAgICAgICAgZnVyazoiRnVya+e9keebmCIsCiAgICAgICAgICAgICAgICBzZWVkcjoiU2VlZHLnvZHnm5giLAogICAgICAgICAgICAgICAgcGNsb3VkOiJQY2xvdWTnvZHnm5giLAogICAgICAgICAgICAgICAgeHVubGVpOiLov4Xpm7fnprvnur8iLAogICAgICAgICAgICAgICAgeGlhb21pOiLlsI/nsbPot6/nlLHlmagiLAogICAgICAgICAgICAgICAgd2VpeXVuOiLohb7orq/lvq7kupEiLAogICAgICAgICAgICAgICAgYXBpdjoi5Lmd56eS5LqR5pKtIiwKICAgICAgICAgICAgICAgIHRvcnJlbnQ6IlRvcnJlbnQub3Jn56eN5a2Q5LiL6L29IiwKICAgICAgICAgICAgICAgIGJ0Y2FjaGU6IkJ0Y2FjaGUubWXnp43lrZDkuIvovb0iLAogICAgICAgICAgICAgICAgZW5hYmxlOiLlkK/nlKgiLAogICAgICAgICAgICAgICAgZGlzYWJsZToi56aB55SoIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBpMThuPXsKICAgICAgICAgICAgICAgIGNvbmZpZ3VyZToiRWFzeU9mZmxpbmUgLSBDb25maWd1cmUiLAogICAgICAgICAgICAgICAgeXl3OiIxMTUiLAogICAgICAgICAgICAgICAgYmFpZHU6IkJhaWR1UGFuIiwKICAgICAgICAgICAgICAgIGZ1cms6IkZ1cmsiLAogICAgICAgICAgICAgICAgc2VlZHI6IlNlZWRyIiwKICAgICAgICAgICAgICAgIHBjbG91ZDoiUGNsb3VkIiwKICAgICAgICAgICAgICAgIHh1bmxlaToiWHVubGVpIiwKICAgICAgICAgICAgICAgIHhpYW9taToiTWlXaWZpIiwKICAgICAgICAgICAgICAgIHdlaXl1bjoiV2VpeXVuIiwKICAgICAgICAgICAgICAgIGFwaXY6IkFwaXYgT25saW5lIHBsYXkiLAogICAgICAgICAgICAgICAgdG9ycmVudDoiVG9ycmVudCBkb3dubG9hZCBpbiB0b3JyZW50Lm9yZyIsCiAgICAgICAgICAgICAgICBidGNhY2hlOiJUb3JyZW50IGRvd25sb2FkIGluIGJ0Y2FjaGUubWUiLAogICAgICAgICAgICAgICAgZW5hYmxlOiJFbmFibGUgIiwKICAgICAgICAgICAgICAgIGRpc2FibGU6IkRpc2FibGUgIgogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgc2l0ZXNBcnI9W10sc2l0ZVNvcnQ9R01fZ2V0VmFsdWUoInNpdGVTb3J0Iiksc2l0ZU5hbWU7CiAgICBpZighc2l0ZVNvcnQpc2l0ZVNvcnQ9WyJiYWlkdSIsInl5dyIsImZ1cmsiLCJzZWVkciJdOwogICAgc2l0ZVNvcnQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgdmFyIHNpdGVDb25maWc9c2l0ZXNbaXRlbV07CiAgICAgICAgc2l0ZUNvbmZpZy5uYW1lPWl0ZW07CiAgICAgICAgc2l0ZXNBcnIucHVzaChzaXRlQ29uZmlnKTsKICAgIH0pOwogICAgZm9yKHNpdGVOYW1lIGluIHNpdGVzKXsKICAgICAgICB2YXIgaGFzU2l0ZT1mYWxzZTsKICAgICAgICBzaXRlU29ydC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2lmKGl0ZW09PXNpdGVOYW1lKWhhc1NpdGU9dHJ1ZTt9KTsKICAgICAgICBpZihoYXNTaXRlKWNvbnRpbnVlOwogICAgICAgIHZhciBzaXRlQ29uZmlnPXNpdGVzW3NpdGVOYW1lXTsKICAgICAgICBzaXRlQ29uZmlnLm5hbWU9c2l0ZU5hbWU7CiAgICAgICAgc2l0ZXNBcnIucHVzaChzaXRlQ29uZmlnKTsKICAgIH0KICAgIGZ1bmN0aW9uIGluY2x1ZGUodGhpbmdzLG9iaikgewogICAgICAgIGZvciAodmFyIGkgPSB0aGluZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKCQodGhpbmdzW2ldKS5hdHRyKCdocmVmJyk9PT0kKG9iaikuYXR0cignaHJlZicpKXsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHZhciBpc0luaXRlZD1mYWxzZTsKICAgIGZ1bmN0aW9uIGluaXQoKXsKICAgICAgICBpZihpc0luaXRlZClyZXR1cm47CiAgICAgICAgaXNJbml0ZWQ9dHJ1ZTsKICAgICAgICAkKCJib2R5IikuYXBwZW5kKHBhcmVudERpdik7CiAgICAgICAgc2V0Q3NzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q3NzKCl7CiAgICAgICAgJCgnaGVhZCcpLmFwcGVuZChgCiAgICAgICAgPHN0eWxlPgogICAgICAgICAgICBhLndoeC1hewogICAgICAgICAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDo1cHg7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6MjBweDsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6NTAlOwogICAgICAgICAgICAgICAgYm9yZGVyOjBweDsKICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOm1pZGRsZTsKICAgICAgICAgICAgICAgIHRyYW5zaXRpb246bWFyZ2luLXRvcCAwLjI1cyBlYXNlOwogICAgICAgICAgICAgICAgb3V0bGluZTpub25lIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6MHB4IWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGhlaWdodDoyNXB4IWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHdpZHRoOjI1cHghaW1wb3J0YW50OwogICAgICAgICAgICAgICAgbGVmdDowcHghaW1wb3J0YW50OwogICAgICAgICAgICAgICAgdG9wOjBweCFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGEud2h4LWE6aG92ZXJ7CiAgICAgICAgICAgICAgICBhbmltYXRpb246cm90YXRlQW5pIDJzIGluZmluaXRlOwogICAgICAgICAgICAgICAgYW5pbWF0aW9uLWRpcmVjdGlvbjphbHRlcm5hdGU7CiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjpyb3RhdGVBbmkgMnMgaW5maW5pdGU7CiAgICAgICAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1kaXJlY3Rpb246YWx0ZXJuYXRlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEBrZXlmcmFtZXMgcm90YXRlQW5pewogICAgICAgICAgICAgICAgZnJvbSB7dHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7fQogICAgICAgICAgICAgICAgdG8ge3RyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7fQogICAgICAgICAgICB9CiAgICAgICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVBbml7CiAgICAgICAgICAgICAgICBmcm9tIHt0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTt9CiAgICAgICAgICAgICAgICB0byB7dHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTt9CiAgICAgICAgICAgIH0KICAgICAgICA8L3N0eWxlPmApOwogICAgfQoKICAgIHZhciBwYXJlbnREaXY9JCgiPGRpdiBzdHlsZT0nZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5OTk7b3ZlcmZsb3c6dmlzaWJsZTt0ZXh0LWFsaWduOmxlZnQ7Jz48L2Rpdj4iKTsKICAgIHZhciByZWdzPUdNX2dldFZhbHVlKCJlb1JlZyIpOwogICAgZnVuY3Rpb24gaGlkZUljb25zKCl7CiAgICAgICAgcGFyZW50RGl2LmNzcygiZGlzcGxheSIsIm5vbmUiKTsKICAgICAgICBmb3IodmFyIG5vZGUgb2Ygb2ZmTm9kZXMpewogICAgICAgICAgICBub2RlLmNzcygibWFyZ2luLXRvcCIsIjBweCIpOwogICAgICAgIH0KICAgIH0KICAgIHZhciBvZmZOb2Rlcz1bXTsKICAgIHZhciBvZmZVcmwsYWxsVXJsPVtdOwogICAgZm9yKHZhciB4ID0gMDsgeCA8IHNpdGVzQXJyLmxlbmd0aDsgeCsrKXsKICAgICAgICBsZXQgb2ZmTm9kZT0kKCI8YT48L2E+Iik7CiAgICAgICAgb2ZmTm9kZS5hZGRDbGFzcygnd2h4LWEnKS5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKS5jc3MoIm1hcmdpbi10b3AiLCIwcHgiKS5jc3MoIm1hcmdpbi1sZWZ0IiwiMHB4IikuYXR0cigidGFyZ2V0IiwiX2JsYW5rIik7CiAgICAgICAgbGV0IHNpdGVDb25maWc9c2l0ZXNBcnJbeF07CiAgICAgICAgb2ZmTm9kZS5jc3MoImJhY2tncm91bmQtY29sb3IiLCIjIitzaXRlQ29uZmlnLmJnQ29sb3IpLmF0dHIoInRpdGxlIixpMThuW3NpdGVDb25maWcubmFtZV0gKS5hdHRyKCJocmVmIiwgc2l0ZUNvbmZpZy51cmwpLmF0dHIoIm5hbWUiLCBzaXRlQ29uZmlnLm5hbWUpOwogICAgICAgIG9mZk5vZGUuY2xpY2soZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIG9mZlVybD1nZXRSaWdodFVybChvZmZVcmwpOwogICAgICAgICAgICBpZihzaXRlQ29uZmlnLmRpcmVjdFVybCl7CiAgICAgICAgICAgICAgICBvZmZOb2RlLmF0dHIoJ2hyZWYnLCBzaXRlQ29uZmlnLmRpcmVjdFVybChvZmZVcmwpKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpZihlLmN0cmxLZXkgJiYgZS5zaGlmdEtleSAmJiBzaXRlQ29uZmlnLmNhbk11bCkKICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZShzaXRlQ29uZmlnLm5hbWUrIjplb1VybCIsYWxsVXJsKTsKICAgICAgICAgICAgICAgIGVsc2UgR01fc2V0VmFsdWUoc2l0ZUNvbmZpZy5uYW1lKyI6ZW9VcmwiLG9mZlVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgICBpZihzaXRlQ29uZmlnLmJnSW1nKW9mZk5vZGUuY3NzKCJiYWNrZ3JvdW5kLWltYWdlIiwidXJsKFwiIitzaXRlQ29uZmlnLmJnSW1nKyJcIikiKTsKICAgICAgICBpZihzaXRlQ29uZmlnLmhpZGUgfHwgR01fZ2V0VmFsdWUoImVvSGlkZSIrc2l0ZUNvbmZpZy5uYW1lKSljb250aW51ZTsKICAgICAgICBvZmZOb2Rlcy5wdXNoKG9mZk5vZGUpOwogICAgICAgIHBhcmVudERpdi5wcmVwZW5kKG9mZk5vZGUpOwogICAgfQogICAgaWYodHlwZW9mKEhUTUxFbGVtZW50KSE9InVuZGVmaW5lZCIpewogICAgICAgIEhUTUxFbGVtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihvYmopIHsKICAgICAgICAgICAgd2hpbGUob2JqKXsKICAgICAgICAgICAgICAgIGlmKG9iaj09dGhpcykKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIG9iaj1vYmoucGFyZW50Tm9kZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKICAgIH0KICAgIHZhciBtYXJnaW5Ub3A9b2ZmTm9kZXMubGVuZ3RoKjI1OwogICAgcGFyZW50RGl2LnByZXBlbmQoJCgnPGRpdiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjVweDtoZWlnaHQ6JyttYXJnaW5Ub3ArJ3B4O21hcmdpbi10b3A6LScrKG1hcmdpblRvcC0yNSkrJ3B4O2JhY2tncm91bmQtY29sb3I6d2hpdGU7b3BhY2l0eTowLjAwMTsiPjwvZGl2PicpKTsKICAgIHBhcmVudERpdi5tb3VzZW91dChmdW5jdGlvbihlKXsKICAgICAgICB2YXIgcmVsYXRlZFRhcmdldD0oZS5yZWxhdGVkVGFyZ2V0fHxlLmZyb21FbGVtZW50KTsKICAgICAgICBpZihyZWxhdGVkVGFyZ2V0ICYmICFwYXJlbnREaXZbMF0uY29udGFpbnMocmVsYXRlZFRhcmdldCkpCiAgICAgICAgaGlkZUljb25zKCk7CiAgICB9KTsKICAgIHBhcmVudERpdi5tb3VzZW92ZXIoZnVuY3Rpb24oZSl7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgaWYocGFyZW50RGl2LmNzcygiZGlzcGxheSIpIT0ibm9uZSIpaGlkZUljb25zKCk7CiAgICB9KTsKICAgIHZhciBwcmVOb2RlOwogICAgaWYoc2hvd1R5cGUpewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYocHJlTm9kZSlwcmVOb2RlLmhpZGUoMzAwKTsKICAgICAgICB9KTsKICAgIH0KCiAgICB2YXIgc05vZGVzPVtdOwogICAgaWYoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKQogICAgICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgIGlmKGU9PT10aGlzW2ldKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfTsKICAgIGZ1bmN0aW9uIGdldEFsbEVuYWJsZVVybCh0YXJnZXQpIHsKICAgICAgICBpZihHTV9nZXRWYWx1ZSgnZW9EaXNhYmxlXycrZG9jdW1lbnQuZG9tYWluKSlyZXR1cm47CiAgICAgICAgdmFyIHJhd25vZGVzPSh0YXJnZXQ/JCh0YXJnZXQpLmZpbmQoZW5hYmxlVXJsKTokKGVuYWJsZVVybCkpLmdldCgpLGN1c3RvbW5vZGVzPVtdOwogICAgICAgIHZhciBub2RlcyA9IFtdOwogICAgICAgIHZhciBpOwogICAgICAgIHZhciBjdXJOb2RlOwogICAgICAgIGlmKHJlZ3MpewogICAgICAgICAgICB2YXIgYVRhZ3MgPSAodGFyZ2V0PyQodGFyZ2V0KS5maW5kKCJhIik6JCgiYSIpKS5nZXQoKTsKICAgICAgICAgICAgZm9yKHZhciBhVGFnIG9mIGFUYWdzKXsKICAgICAgICAgICAgICAgIGZvcih2YXIgcmVnIG9mIHJlZ3MpewogICAgICAgICAgICAgICAgICAgIGlmKHJlZz09PSIiKWNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIHZhciBwYXR0PW5ldyBSZWdFeHAocmVnKTsKICAgICAgICAgICAgICAgICAgICBpZihwYXR0LnRlc3QoYVRhZy5ocmVmKSAmJiAkLmluQXJyYXkoYVRhZywgcmF3bm9kZXMpPT0tMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbW5vZGVzLnB1c2goYVRhZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYocmF3bm9kZXMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByYXdub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmFyIGRpc2FibGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGN1ck5vZGUgPSByYXdub2Rlc1tpXTsKICAgICAgICAgICAgICAgIGlmKCEvXm1hZ25ldHxeZWQyazpcL1wvLy50ZXN0KGN1ck5vZGUuaHJlZikpewogICAgICAgICAgICAgICAgICAgIGlmKC9bI1w/XXxcL1wuW15cLl0rJC8udGVzdChjdXJOb2RlLmhyZWYpKWNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBkaXNhYmxlVXJsLmxlbmd0aDsgaisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBkaXNhYmxlVXJsW2pdOwogICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJOb2RlLmhyZWYuaW5kZXhPZih0ZW1wKSE9LTEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihkaXNhYmxlKWNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoIWluY2x1ZGUobm9kZXMsY3VyTm9kZSkpewogICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY3VyTm9kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoY3VzdG9tbm9kZXMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjdXN0b21ub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY3VyTm9kZSA9IGN1c3RvbW5vZGVzW2ldOwogICAgICAgICAgICAgICAgaWYoIWluY2x1ZGUobm9kZXMsY3VyTm9kZSkpewogICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY3VyTm9kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmKG5vZGVzLmxlbmd0aCA+IDApewogICAgICAgICAgICBpbml0KCk7CiAgICAgICAgICAgIHZhciBjb2RlTGlzdCA9IFtdOwogICAgICAgICAgICB2YXIgbGlzdExlbiA9IG5vZGVzLmxlbmd0aDsKICAgICAgICAgICAgaWYgKGxpc3RMZW4gIT09IDApIHsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0TGVuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBjdXJOb2RlID0gbm9kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYoY3VyTm9kZS5jbGFzc0xpc3QuY29udGFpbnMoIndoeC1hIikpY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgaWYodGFyZ2V0KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc05vZGVzLmluZGV4T2YoY3VyTm9kZSkhPS0xKWNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzTm9kZXMucHVzaChjdXJOb2RlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGV0IGhyZWY9Y3VyTm9kZS5ocmVmOwogICAgICAgICAgICAgICAgICAgIGxldCBjbG9uZT0kKCI8YT48L2E+IikuYXR0cigic3R5bGUiLGN1ck5vZGUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKS5hdHRyKCJocmVmIixocmVmKS5hZGRDbGFzcygnd2h4LWEnKS5jc3MoImJhY2tncm91bmQtY29sb3IiLCIjZTFlMWUxIikuY3NzKCJiYWNrZ3JvdW5kLWltYWdlIiwndXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJrQUFBQVpDQU1BQUFEek4zVlJBQUFBUlZCTVZFVUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEYzZ1cjNBQUFBRm5SU1RsTUFZTTV2TU9BL0VOR2VnSzJvbEk2RzFiOTdaMHNYRU5BK2pBQUFBS0ZKUkVGVUtNK0ZrbGtTeENBSVJIRmZzczNLL1k4NmlRU0RWcXpwSDdGZmdRcENWZkFtR3grZ2w5SkkwcXJ4cmNOTHpvb0ViS1VHNEVLV2RrQ2lEUlYwTjBSVHJaNXd2ZGdUVGdwNFN6Q0FIeEFQWmtBTTVHT0pXdXVUN0ZFNU9WUE9CRkxUWWIzT2MyWUI1dUo4K0c2cGdrVEd0NzRudGNDSkhpd0ZMSHcxMFRkYzkzamxHWEd2U1J0c0hOcHVQcysvbzFPRGZ4QXRTTDBmN0hQQytMLzlBRjYwRzNReE8xVWFBQUFBQUVsRlRrU3VRbUNDIiknKTsKICAgICAgICAgICAgICAgICAgICBpZihhbGxVcmwudG9TdHJpbmcoKS5pbmRleE9mKGhyZWYpPT0tMSlhbGxVcmwucHVzaChocmVmKTsKICAgICAgICAgICAgICAgICAgICBjbG9uZS5tb3VzZW92ZXIoZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlUG9zPWNsb25lLm9mZnNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICBzaG93RGlza0ljb25zKGhyZWYsYmFzZVBvcy50b3AsYmFzZVBvcy5sZWZ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAkKGN1ck5vZGUpLmFmdGVyKGNsb25lKTsKICAgICAgICAgICAgICAgICAgICBpZihzaG93VHlwZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJChjdXJOb2RlKS5tb3VzZW92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNsb25lLmlzKCc6aGlkZGVuJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZU5vZGUpcHJlTm9kZS5oaWRlKDMwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuc2hvdyg1MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZU5vZGU9Y2xvbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzaG93RGlza0ljb25zKHVybCwgdG9wLCBsZWZ0KXsKICAgICAgICBvZmZVcmw9dXJsOwogICAgICAgIHBhcmVudERpdi5jc3MoImRpc3BsYXkiLCJibG9jayIpOwogICAgICAgIHBhcmVudERpdi5vZmZzZXQoe3RvcDp0b3AsbGVmdDpsZWZ0fSk7CiAgICAgICAgbGV0IGo9MDsKICAgICAgICBmb3IodmFyIHg9MDt4PG9mZk5vZGVzLmxlbmd0aDt4KyspewogICAgICAgICAgICBsZXQgbm9kZT1vZmZOb2Rlc1t4XTsKICAgICAgICAgICAgbGV0IHNpdGVDb25maWc9c2l0ZXNbbm9kZS5hdHRyKCJuYW1lIildOwogICAgICAgICAgICBpZigvXmh0dHAvaS50ZXN0KG9mZlVybCkgJiYgc2l0ZUNvbmZpZy5ub0h0dHApewogICAgICAgICAgICAgICAgbm9kZS5oaWRlKCk7CiAgICAgICAgICAgIH1lbHNlIGlmKC9ebWFnbmV0L2kudGVzdChvZmZVcmwpICYmIHNpdGVDb25maWcubm9NYWcpewogICAgICAgICAgICAgICAgbm9kZS5oaWRlKCk7CiAgICAgICAgICAgIH1lbHNlIGlmKC9eZnRwL2kudGVzdChvZmZVcmwpICYmIHNpdGVDb25maWcubm9GdHApewogICAgICAgICAgICAgICAgbm9kZS5oaWRlKCk7CiAgICAgICAgICAgIH1lbHNlIGlmKC9eZWQyazpcL1wvL2kudGVzdChvZmZVcmwpICYmIHNpdGVDb25maWcubm9FZDJrKXsKICAgICAgICAgICAgICAgIG5vZGUuaGlkZSgpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIG5vZGUuc2hvdygpOwogICAgICAgICAgICAgICAgbm9kZS5jc3MoIm1hcmdpbi10b3AiLC1qKjI1KyJweCIpOwogICAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHZhciBtaW5Ub3A9JChkb2N1bWVudCkuc2Nyb2xsVG9wKCkrKGotMSkqMjU7CiAgICAgICAgaWYodG9wPG1pblRvcCl7CiAgICAgICAgICAgIHBhcmVudERpdi5vZmZzZXQoe3RvcDptaW5Ub3AsbGVmdDpsZWZ0fSk7CiAgICAgICAgICAgIHZhciBsYXN0VG9wPXBhcmVudERpdi5wb3NpdGlvbigpLnRvcDsKICAgICAgICAgICAgdmFyIGxhc3RMZWZ0PXBhcmVudERpdi5wb3NpdGlvbigpLmxlZnQ7CiAgICAgICAgICAgIHBhcmVudERpdi5vZmZzZXQoe3RvcDp0b3AsbGVmdDpsZWZ0fSk7CiAgICAgICAgICAgIHBhcmVudERpdi5hbmltYXRlKHt0b3A6bGFzdFRvcCsicHgiLGxlZnQ6bGFzdExlZnQrInB4In0pOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSaWdodFVybCh1cmwpewogICAgICAgIHZhciBuZXdVcmwgPSB1cmw7CiAgICAgICAgaWYoL15tYWduZXQvLnRlc3QodXJsKSl7CiAgICAgICAgICAgIG5ld1VybD1uZXdVcmwuc3BsaXQoIiYiKVswXS5zdWJzdHJpbmcoMjApOwogICAgICAgICAgICBpZihuZXdVcmwubGVuZ3RoPT0zMil7CiAgICAgICAgICAgICAgICBuZXdVcmw9Im1hZ25ldDo/eHQ9dXJuOmJ0aWg6IiArIGJhc2UzMlRvMTYobmV3VXJsKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBuZXdVcmw9dXJsOwogICAgICAgICAgICB9CiAgICAgICAgfWVsc2UgaWYoL15cL1wvLy50ZXN0KHVybCkpewogICAgICAgICAgICBuZXdVcmw9bG9jYXRpb24ucHJvdG9jb2wrdXJsOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3VXJsOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhc2UzMlRvMTYoc3RyKXsKICAgICAgICBpZihzdHIubGVuZ3RoICUgOCAhPT0gMCB8fCAvWzAxODldLy50ZXN0KHN0cikpewogICAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgIH0KICAgICAgICBzdHIgPSBzdHIudG9VcHBlckNhc2UoKTsKICAgICAgICB2YXIgYmluID0gICIiLCByZXR1cm5TdHIgPSAiIiwgaTsKICAgICAgICBmb3IoaSA9IDA7aSA8IHN0ci5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgdmFyIGNoYXJDb2RlPXN0ci5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICBpZihjaGFyQ29kZTw2NSljaGFyQ29kZS09MjQ7CiAgICAgICAgICAgIGVsc2UgY2hhckNvZGUtPTY1OwogICAgICAgICAgICBjaGFyQ29kZT0nMDAwMCcrY2hhckNvZGUudG9TdHJpbmcoMik7CiAgICAgICAgICAgIGNoYXJDb2RlPWNoYXJDb2RlLnN1YnN0cihjaGFyQ29kZS5sZW5ndGgtNSk7CiAgICAgICAgICAgIGJpbis9Y2hhckNvZGU7CiAgICAgICAgfQogICAgICAgIGZvcihpID0gMDtpIDwgYmluLmxlbmd0aDtpKz00KXsKICAgICAgICAgICAgcmV0dXJuU3RyICs9IHBhcnNlSW50KGJpbi5zdWJzdHJpbmcoaSxpKzQpLDIpLnRvU3RyaW5nKDE2KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJldHVyblN0cjsKICAgIH0KCiAgICB2YXIgaT0wOwogICAgdmFyIGN1cmxpbms7CiAgICB2YXIgaXNEaXNrPWZhbHNlOwogICAgZm9yKHggPSAwOyB4IDwgc2l0ZXNBcnIubGVuZ3RoOyB4KyspewogICAgICAgIGxldCBzaXRlQ29uZmlnPXNpdGVzQXJyW3hdOwogICAgICAgIGlmKHNpdGVDb25maWcucmVnZXgudGVzdChsb2NhdGlvbi5ob3N0bmFtZSkpewogICAgICAgICAgICBpc0Rpc2s9dHJ1ZTsKICAgICAgICAgICAgY3VybGluaz1HTV9nZXRWYWx1ZShzaXRlQ29uZmlnLm5hbWUrJzplb1VybCcpOwogICAgICAgICAgICBpZihjdXJsaW5rKXsKICAgICAgICAgICAgICAgIGlmKHNpdGVDb25maWcub2ZmRnVuYylzaXRlQ29uZmlnLm9mZkZ1bmMoZnVuY3Rpb24oKXtHTV9kZWxldGVWYWx1ZShzaXRlQ29uZmlnLm5hbWUrJzplb1VybCcpO30pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigicGFuLmJhaWR1LmNvbS93YXAvaG9tZSIpICE9IC0xKXsKICAgICAgICBpZihjdXJsaW5rKWxvY2F0aW9uLmhyZWY9Imh0dHBzOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUiOwogICAgfWVsc2UgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCJnaXRodWIuY29tL2hvb3RoaW4vVXNlclNjcmlwdHMvdHJlZS9tYXN0ZXIvRWFzeSUyMG9mZmxpbmUiKSAhPSAtMSl7CiAgICAgICAgc2V0dGluZygpOwogICAgfWVsc2UgaWYoIWlzRGlzayl7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2dldEFsbEVuYWJsZVVybCgpO30sMTApOwogICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gdW5zYWZlV2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgdW5zYWZlV2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgdW5zYWZlV2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7CiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24ocmVjb3Jkcyl7CiAgICAgICAgICAgIHJlY29yZHMubWFwKGZ1bmN0aW9uKHJlY29yZCkgewogICAgICAgICAgICAgICAgaWYocmVjb3JkLmFkZGVkTm9kZXMubGVuZ3RoKXNldFRpbWVvdXQoZnVuY3Rpb24oKXtnZXRBbGxFbmFibGVVcmwocmVjb3JkLmFkZGVkTm9kZXMpO30sNTAxKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICAgICAgJ2NoaWxkTGlzdCc6IHRydWUsCiAgICAgICAgICAgICdzdWJ0cmVlJzogdHJ1ZQogICAgICAgIH07CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvcHRpb24pOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldHRpbmcoKXsKICAgICAgICAgJCgnaGVhZCcpLmFwcGVuZChgCiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIC53aHgtYnRuewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzM4OTJlZDsKICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgMC4xNXMgZWFzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC53aHgtYnRuOmhvdmVyewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IzgzYzFmZjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT5gKTsKICAgICAgICB2YXIgY29uZmlnQ29udGVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbmZpZ0NvbnRlbnQpOwogICAgICAgIGNvbmZpZ0NvbnRlbnQub3V0ZXJIVE1MPWAKICAgICAgICAgICAgPGRpdiBpZD0iY29uZmlnQ29udGVudCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9IndpZHRoOjMwMHB4O2hlaWdodDozMDBweDtwb3NpdGlvbjpmaXhlZDtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi10b3A6LTE1MHB4O21hcmdpbi1sZWZ0Oi0xNTBweDt6LWluZGV4OjEwMDAwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ym9yZGVyOjFweCBzb2xpZCAjYWZiM2I2O2JvcmRlci1yYWRpdXM6MTBweDtvcGFjaXR5OjAuOTU7ZmlsdGVyOmFscGhhKG9wYWNpdHk9OTUpO2JveC1zaGFkb3c6NXB4IDVweCAyMHB4IDBweCAjMDAwOyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOiAxMnB4O21hcmdpbi10b3A6IDI4cHg7Ij7oh6rlrprkuYnpnIDopoHlkK/nlKjkuIDplK7kuIvovb3nmoTpk77mjqXmraPliJnvvIzkuIDooYzkuIDmnaE8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImNvbmZpZ0lucHV0IiBwbGFjZWhvbGRlcj0i5L6L77yaaHR0cDouKlxcLnBocFxcP2dldFJlcz1cXGQrIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDoyMHB4O3RvcDo1MHB4O3dpZHRoOjI2MHB4O2hlaWdodDoxMTBweCI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MTJweDttYXJnaW4tdG9wOjEyNXB4OyIgdGl0bGU9IuS4jemcgOimgeWKoCfmiJHnmoTnvZHnm5gv5YWo6YOo5paH5Lu2JyI+5bqm55uY5a2Y5YKo6Lev5b6E77yaPGlucHV0IGlkPSJiYWlkdVBhdGgiIHBsYWNlaG9sZGVyPSLkvovvvJovYXYiIHN0eWxlPSJ3aWR0aDoxNzBweDsiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Imljb25zIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7dG9wOjIwMnB4Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NjBweDt0b3A6MjMwcHg7Ij48aW5wdXQgaWQ9InNob3dUeXBlIiB0eXBlPSJjaGVja2JveCIvPuS7heW9k+m8oOagh+e7j+i/h+aXtuaYvuekuuWbvuaghzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlnU2F2ZSIgY2xhc3M9IndoeC1idG4iIHR5cGU9ImJ1dHRvbiIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTEwcHg7dG9wOjI2MHB4O3dpZHRoOjgwcHg7aGVpZ2h0OjMwcHg7Y29sb3I6d2hpdGU7Ym9yZGVyLXJhZGl1czo1cHg7Ym9yZGVyOjBweDtvdXRsaW5lOm5vbmU7Ij7orr7nva48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb25maWdRdWl0IiBjbGFzcz0id2h4LWJ0biIgc3R5bGU9IndpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ym9yZGVyLXJhZGl1czoxNHB4O3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjJweDt0b3A6MnB4O2N1cnNvcjpwb2ludGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJoZWlnaHQ6MjhweDtsaW5lLWhlaWdodDoyOHB4O2Rpc3BsYXk6YmxvY2s7Y29sb3I6I0ZGRjt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MjBweDsiPuKVszwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgIHZhciBjb25maWdJbnB1dD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29uZmlnSW5wdXQiKTsKICAgICAgICB2YXIgY29uZmlnUXVpdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29uZmlnUXVpdCIpOwogICAgICAgIHZhciBjb25maWdTYXZlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb25maWdTYXZlIik7CiAgICAgICAgdmFyIHNob3dUeXBlQ2hlY2s9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3Nob3dUeXBlIik7CiAgICAgICAgdmFyIGJhaWR1UGF0aD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYmFpZHVQYXRoIik7CiAgICAgICAgdmFyIGljb25zPSQoIiNpY29ucyIpLGRyYWdJY29uOwogICAgICAgIGljb25zWzBdLm9uZHJvcD1mdW5jdGlvbihlKXsKICAgICAgICAgICAgdmFyIG5leHRJY29uOwogICAgICAgICAgICAkKCIjaWNvbnM+ZGl2IikuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbmV4dEljb249JCh0aGlzKTsKICAgICAgICAgICAgICAgIGlmKGUucGFnZVg8bmV4dEljb24ub2Zmc2V0KCkubGVmdCl7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcyE9ZHJhZ0ljb24pCiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJY29uLmJlZm9yZShkcmFnSWNvbik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2l0ZVNvcnQ9W107CiAgICAgICAgICAgICQoIiNpY29ucz5kaXYiKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBzaXRlU29ydC5wdXNoKCQodGhpcykuYXR0cigibmFtZSIpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJzaXRlU29ydCIsc2l0ZVNvcnQpOwogICAgICAgIH07CiAgICAgICAgaWNvbnNbMF0ub25kcmFnb3Zlcj1mdW5jdGlvbihlKXsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH07CiAgICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IHNpdGVzQXJyLmxlbmd0aDsgeCsrKXsKICAgICAgICAgICAgbGV0IHNpdGVDb25maWc9c2l0ZXNBcnJbeF07CiAgICAgICAgICAgIGxldCBpY29uPSQoIjxkaXYgc3R5bGU9J2hlaWdodDoyNXB4O3dpZHRoOjI1cHg7ZmxvYXQ6bGVmdDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOjIwcHg7bWFyZ2luLWxlZnQ6MnB4O2N1cnNvcjpwb2ludGVyJz48L2Rpdj4iKTsKICAgICAgICAgICAgaWNvbi5jc3MoImJhY2tncm91bmQtY29sb3IiLCIjIitzaXRlQ29uZmlnLmJnQ29sb3IpLmF0dHIoInRpdGxlIixpMThuLmRpc2FibGUraTE4bltzaXRlQ29uZmlnLm5hbWVdICkuYXR0cigiZHJhZ2dhYmxlIix0cnVlKS5hdHRyKCJuYW1lIixzaXRlQ29uZmlnLm5hbWUpOwogICAgICAgICAgICBpY29uWzBdLm9uZHJhZ3N0YXJ0PWZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgZHJhZ0ljb249dGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYoR01fZ2V0VmFsdWUoImVvSGlkZSIrc2l0ZUNvbmZpZy5uYW1lKSl7CiAgICAgICAgICAgICAgICBpY29uLmNzcygib3BhY2l0eSIsIjAuMiIpOwogICAgICAgICAgICAgICAgaWNvbi5hdHRyKCJ0aXRsZSIsaTE4bi5lbmFibGUraTE4bltzaXRlQ29uZmlnLm5hbWVdICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoc2l0ZUNvbmZpZy5iZ0ltZylpY29uLmNzcygiYmFja2dyb3VuZC1pbWFnZSIsInVybChcIiIrc2l0ZUNvbmZpZy5iZ0ltZysiXCIpIik7CiAgICAgICAgICAgIGljb24ub24oImNsaWNrIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciBlb0hpZGU9R01fZ2V0VmFsdWUoImVvSGlkZSIrc2l0ZUNvbmZpZy5uYW1lKTsKICAgICAgICAgICAgICAgIGlmKCFlb0hpZGUpewogICAgICAgICAgICAgICAgICAgIHZhciBhbGxIaWRlPXRydWU7CiAgICAgICAgICAgICAgICAgICAgJCgiI2ljb25zPmRpdiIpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcyE9aWNvblswXSAmJiAkKHRoaXMpLmNzcygib3BhY2l0eSIpIT0iMC4yIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxIaWRlPWZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYoYWxsSGlkZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLkuI3og73lhajpg6jnpoHnlKjvvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJlb0hpZGUiK3NpdGVDb25maWcubmFtZSwgIWVvSGlkZSk7CiAgICAgICAgICAgICAgICBpY29uLmNzcygib3BhY2l0eSIsZW9IaWRlPyIxIjoiMC4yIik7CiAgICAgICAgICAgICAgICBpY29uLmF0dHIoInRpdGxlIiwoZW9IaWRlP2kxOG4uZGlzYWJsZTppMThuLmVuYWJsZSkraTE4bltzaXRlQ29uZmlnLm5hbWVdICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpY29ucy5hcHBlbmQoaWNvbik7CiAgICAgICAgfQogICAgICAgIGNvbmZpZ0NvbnRlbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvbmZpZ0NvbnRlbnQiKTsKICAgICAgICBjb25maWdDb250ZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjsKICAgICAgICBpZihHTV9nZXRWYWx1ZSgiZW9SZWciKSkkKGNvbmZpZ0lucHV0KS52YWwoR01fZ2V0VmFsdWUoImVvUmVnIikuam9pbigiXG4iKSk7CiAgICAgICAgaWYoR01fZ2V0VmFsdWUoImJhaWR1UGF0aCIpKSQoYmFpZHVQYXRoKS52YWwoR01fZ2V0VmFsdWUoImJhaWR1UGF0aCIpKTsKICAgICAgICBpZihHTV9nZXRWYWx1ZSgic2hvd1R5cGUiKSlzaG93VHlwZUNoZWNrLmNoZWNrZWQ9dHJ1ZTsKICAgICAgICAkKGNvbmZpZ1F1aXQpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge2NvbmZpZ0NvbnRlbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7fSk7CiAgICAgICAgJChjb25maWdTYXZlKS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgdmFyIHJlZ1N0cj0kKGNvbmZpZ0lucHV0KS52YWwoKTsKICAgICAgICAgICAgdmFyIGJhaWR1UGF0aFN0cj0kKGJhaWR1UGF0aCkudmFsKCk7CiAgICAgICAgICAgIGlmKGJhaWR1UGF0aFN0cilHTV9zZXRWYWx1ZSgiYmFpZHVQYXRoIixiYWlkdVBhdGhTdHIpOwogICAgICAgICAgICBpZigvXlxzKiQvLnRlc3QocmVnU3RyKSl7CiAgICAgICAgICAgICAgICBHTV9kZWxldGVWYWx1ZSgiZW9SZWciKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB2YXIgcmVnU3Rycz1yZWdTdHIuc3BsaXQoIlxuIik7CiAgICAgICAgICAgICAgICBmb3IodmFyIHJlZyBvZiByZWdTdHJzKXsKICAgICAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAocmVnKTsKICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlkKvmnInml6DmlYjmraPliJnvvIzor7fph43mlrDovpPlhaUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJlb1JlZyIscmVnU3Rycyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgR01fc2V0VmFsdWUoInNob3dUeXBlIiwgc2hvd1R5cGVDaGVjay5jaGVja2VkKTsKICAgICAgICAgICAgYWxlcnQoIuiuvue9ruaIkOWKnyIpOwogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvZ2dsZUljb24oKXsKICAgICAgICAkKCcud2h4LWEnKS50b2dnbGUoNTAwKTsKICAgICAgICBpZihHTV9nZXRWYWx1ZSgnZW9EaXNhYmxlXycrZG9jdW1lbnQuZG9tYWluKSl7CiAgICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdlb0Rpc2FibGVfJytkb2N1bWVudC5kb21haW4pOwogICAgICAgICAgICBpZigkKCcud2h4LWEnKS5sZW5ndGg8MSlnZXRBbGxFbmFibGVVcmwoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgR01fc2V0VmFsdWUoJ2VvRGlzYWJsZV8nK2RvY3VtZW50LmRvbWFpbix0cnVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ29TZXR0aW5nKCl7CiAgICAgICAgbG9jYXRpb24uaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2hvb3RoaW4vVXNlclNjcmlwdHMvdHJlZS9tYXN0ZXIvRWFzeSBvZmZsaW5lI+S4gOmUruemu+e6v+S4i+i9vSI7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tTZWwoZSl7CiAgICAgICAgdmFyIHNlbD1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTsKICAgICAgICB2YXIgbGluaz1zZWwudG9TdHJpbmcoKSx2YWxpZFJlZz0vXlxzKihtYWduZXQ6XD94dD11cm46YnRpaDp8ZWQyazpcL1wvXHxmaWxlfGh0dHBzPzp8ZnRwOikvaTsKICAgICAgICBpZihsaW5rPT09IiIgfHwgIXZhbGlkUmVnLnRlc3QobGluaykpewogICAgICAgICAgICBpZih0YXJnZXRBKSBsaW5rPXRhcmdldEEuaHJlZjsKICAgICAgICAgICAgZWxzZSBsaW5rPXByb21wdCgi6L6T5YWl6ZyA6KaB56a757q/5LiL6L2955qE6ZO+5o6l77yaIiwibWFnbmV0Oj94dD11cm46YnRpaDoiKTsKICAgICAgICB9LyplbHNlewogICAgICAgICAgICB2YXIgZm9jdXNlZEVsZW1lbnQgPSBzZWwuZm9jdXNOb2RlLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIGlmKGZvY3VzZWRFbGVtZW50LnRhZ05hbWUgPT0gIkEiKXsKICAgICAgICAgICAgICAgIGxpbms9Zm9jdXNlZEVsZW1lbnQuaHJlZjsKICAgICAgICAgICAgfQogICAgICAgIH0qLwogICAgICAgIGlmKHZhbGlkUmVnLnRlc3QobGluaykpewogICAgICAgICAgICBpbml0KCk7CiAgICAgICAgICAgIHNob3dEaXNrSWNvbnMobGluayxtb3VzZUV2ZS5wYWdlWS0xMCxtb3VzZUV2ZS5wYWdlWC0xMCk7CiAgICAgICAgfQogICAgfQoKICAgIHZhciBtb3VzZUV2ZSx0YXJnZXRBOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgZnVuY3Rpb24oZSkgewogICAgICAgIG1vdXNlRXZlPWU7CiAgICB9KTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZihlLnRhcmdldCAmJiBlLnRhcmdldC50YWdOYW1lPT0iQSIpewogICAgICAgICAgICB0YXJnZXRBPWUudGFyZ2V0OwogICAgICAgIH1lbHNlewogICAgICAgICAgICB0YXJnZXRBPW51bGw7CiAgICAgICAgfQogICAgfSk7CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZihlLmtleUNvZGUgPT0gMTIwKSB7CiAgICAgICAgICAgIGlmKGUuYWx0S2V5KXsKICAgICAgICAgICAgICAgIGNoZWNrU2VsKGUpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRvZ2dsZUljb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZChpMThuLmNvbmZpZ3VyZSwgZ29TZXR0aW5nKTsKfSkoKTs="},{"name":"VIP","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["*://*.bilibili.com/blackboard/*"],"orig_includes":[],"orig_matches":["*://*.iqiyi.com/*","*://*.youku.com/*","*://*.le.com/*","*://*.letv.com/*","*://v.qq.com/*","*://*.tudou.com/*","*://*.mgtv.com/*","*://film.sohu.com/*","*://tv.sohu.com/*","*://*.acfun.cn/v/*","*://*.bilibili.com/*","*://vip.1905.com/play/*","*://*.pptv.com/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/*","*://*.fun.tv/vplay/*","*://*.wasu.cn/Play/show/*","*://*.56.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{},"ts":1503129970096},"enabled":true,"position":24,"file_url":"https://greasyfork.org/scripts/27530-%E7%A0%B4%E8%A7%A3vip%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88/code/%E7%A0%B4%E8%A7%A3VIP%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88.user.js","uuid":"0ee7cb74-3933-4a6a-85cc-b79bbfde0136","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnoLTop6NWSVDkvJrlkZjop4bpopHpm4blkIgKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAzLjEuMQovLyBAZGVzY3JpcHRpb24gIOegtOino1vkvJjphbd86IW+6K6vfOS5kOinhnzniLHlpYfoibp86IqS5p6cfEFC56uZfOmfs+aCpuWPsF3nrYlWSVDmiJbkvJrlkZjop4bpopHvvIzop6PmnpDmjqXlj6PotLXnsr7kuI3otLXlpJrvvIznu53lr7nlpJ/nlKjjgILmnInnm7TmjqXot7PovazvvIvlpIfnlKjmjqXlj6PliJfooajjgILor6bnu4bmlrnms5XnnIvor7TmmI7ov5jmnInlm77niYfjgILljIXlkKvkuoZb44CQ56iz5a6a44CR5YWo572RVklQ6KeG6aKR5Zyo57q/6Kej5p6Q4pa2dHRtc2p4XVtWSVDkvJrlkZjop4bpopHop6PmnpDilrbpvpnovaldW+mFt+e7mC3noLTop6NWSVDkvJrlkZjop4bpopHilrZhaHVpYWJjMjAwM13ku6Xlj4pbVklQ6KeG6aKR56C06Kej4pa2aG9vdGhpbl3nmoTpg6jliIbmjqXlj6PjgIIKLy8gQGF1dGhvciAgICAgICDpu4Tnm5AKLy8gQG1hdGNoICAgICAgICAqOi8vKi5pcWl5aS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnlvdWt1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoubGUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5sZXR2LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3YucXEuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi50dWRvdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm1ndHYuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vZmlsbS5zb2h1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3R2LnNvaHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5hY2Z1bi5jbi92LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5iaWxpYmlsaS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly92aXAuMTkwNS5jb20vcGxheS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoucHB0di5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly92Lnlpbnl1ZXRhaS5jb20vdmlkZW8vKgovLyBAbWF0Y2ggICAgICAgICo6Ly92Lnlpbnl1ZXRhaS5jb20vcGxheWxpc3QvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmZ1bi50di92cGxheS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoud2FzdS5jbi9QbGF5L3Nob3cvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLjU2LmNvbS8qCi8vIEBleGNsdWRlICAgICAgKjovLyouYmlsaWJpbGkuY29tL2JsYWNrYm9hcmQvKgovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgR01fb3BlbkluVGFiCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHJlcGxhY2VSYXc9R01fZ2V0VmFsdWUoInJlcGxhY2VSYXciKTsKICAgIHZhciBlcGlzb2Rlcz1HTV9nZXRWYWx1ZSgiZXBpc29kZXMiKTsKICAgIEdNX2FkZFN0eWxlKCcjVE1hbmF5c3t6LWluZGV4Ojk5OTk5OTsgcG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6MHB4OyB0b3A6MHB4OyB3aWR0aDoxMDBweDsgaGVpZ2h0OmF1dG87IGJvcmRlcjowOyBtYXJnaW46MDt9JysKICAgICAgICAgICAgICAgICcjVE1pZnJhbWV7cG9zaXRpb246YWJzb2x1dGU7fScrCiAgICAgICAgICAgICAgICAnI3BhcnNlVWx7cG9zaXRpb246Zml4ZWQ7dG9wOjgwcHg7IGxlZnQ6MHB4O30nKwogICAgICAgICAgICAgICAgJyNwYXJzZVVsIGxpe2xpc3Qtc3R5bGU6bm9uZTt9JysKICAgICAgICAgICAgICAgICcuVE0xe29wYWNpdHk6MC4zOyBwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOiAwIDdweCAwIDA7IG1pbi13aWR0aDogMTlweDsgY3Vyc29yOnBvaW50ZXI7fScrCiAgICAgICAgICAgICAgICAnLlRNMTpob3ZlcntvcGFjaXR5OjE7fScrCiAgICAgICAgICAgICAgICAnLlRNMSBzcGFue2Rpc3BsYXk6YmxvY2s7IGJvcmRlci1yYWRpdXM6MCA1cHggNXB4IDA7IGJhY2tncm91bmQtY29sb3I6I2ZmZmYwMDsgYm9yZGVyOjA7IGZvbnQ6Ym9sZCAxNXB4ICLlvq7ova/pm4Xpu5EiICFpbXBvcnRhbnQ7IGNvbG9yOiNmZjAwMDA7IG1hcmdpbjowOyBwYWRkaW5nOjE1cHggMnB4O30nKwogICAgICAgICAgICAgICAgJy5UTTN7cG9zaXRpb246YWJzb2x1dGU7IHRvcDowOyBsZWZ0OjE5cHg7IGRpc3BsYXk6bm9uZTsgYm9yZGVyLXJhZGl1czo1cHg7IG1hcmdpbjowOyBwYWRkaW5nOjA7fScrCiAgICAgICAgICAgICAgICAnLlRNMyBsaXtmbG9hdDpub25lOyB3aWR0aDo4MHB4OyBtYXJnaW46MDsgZm9udC1zaXplOjE0cHg7IHBhZGRpbmc6M3B4IDEwcHggMnB4IDE1cHg7IGN1cnNvcjpwb2ludGVyOyBjb2xvcjojM2EzYTNhICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDAsMC44KX0nKwogICAgICAgICAgICAgICAgJy5UTTMgbGk6aG92ZXJ7Y29sb3I6d2hpdGUgIWltcG9ydGFudDsgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuOCk7fScrCiAgICAgICAgICAgICAgICAnLlRNMyBsaTpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6IDAgMCA1cHggNXB4O30nKwogICAgICAgICAgICAgICAgJy5UTTMgbGk6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7fScrCiAgICAgICAgICAgICAgICAnLlRNMTpob3ZlciAuVE0ze2Rpc3BsYXk6YmxvY2t9Jyk7CiAgICB2YXIgYXBpcz1bCiAgICAgICAgeyJuYW1lIjoidlBhcnNlW+iFvl0iLCJ1cmwiOiJodHRwczovL2FwaS52cGFyc2Uub3JnLz91cmw9IiwidGl0bGUiOiLmlK/mjIHohb7orq8ifSwKICAgICAgICAvL3sibmFtZSI6IkZMVlNQW+iFvuiur10iLCJ1cmwiOiJodHRwczovL2FwaS5mbHZzcC5jb20vP3VybD0iLCJ0aXRsZSI6IuaUr+aMgeiFvuiuryJ9LC8v6Kej5p6Q5rqQ5ZCM5LiKCiAgICAgICAgeyJuYW1lIjoi5ZmX5ZmX55S15b2xIiwidXJsIjoiaHR0cDovL3B1cHVkeS5jb20vcGxheT9tYWtlPXVybCZpZD0iLCJ0aXRsZSI6Iue7vOWQiOaOpeWPo++8jOeos+WumsK35YWo572RVklQKuOAkOS9nOiAhXR0bXNqeOOAkeiEmuacrOeahOaOpeWPoyJ9LAogICAgICAgIHsibmFtZSI6IumFt+e7mCIsInVybCI6Imh0dHA6Ly9hcHBhcGkuc3ZpcHYua3V1aHVpLmNvbS9zdmlwangvbGl1bGFucWljaGFqaWFuL2Jyb3dzZXJwbHVnaW4vcWhqeC9xaGp4LnBocD9pZD0iLCJ0aXRsZSI6Iue7vOWQiOaOpeWPo++8jOmFt+e7mCrjgJDkvZzogIVhaHVpYWJjMjAwM+OAkeiEmuacrOeahOaOpeWPoyJ9LAogICAgICAgIHsibmFtZSI6IueZvuWfn+mYgSIsInVybCI6Imh0dHA6Ly9hcGkuYmFpeXVnLmNuL3ZpcC9pbmRleC5waHA/dXJsPSIsInRpdGxlIjoi6L2s5ZyI5ZyI5bCx5o2i57q/6LevIn0sCiAgICAgICAgeyJuYW1lIjoi5peL6aOO6Kej5p6QIiwidXJsIjoiaHR0cDovL2FwaS54ZnN1Yi5jb20vaW5kZXgucGhwP3VybD0iLCJ0aXRsZSI6IjE5MDXkvJjlhYjkvb/nlKgifSwKICAgICAgICB7Im5hbWUiOiLnn7PlpLTop6PmnpAiLCJ1cmwiOiJodHRwczovL2ppZXhpLjA3MTgxMS5jYy9qeC5waHA/dXJsPSIsInRpdGxlIjoi5omL5Yqo54K55pKt5pS+In0sCiAgICAgICAgeyJuYW1lIjoi5peg5ZCN5bCP56uZIiwidXJsIjoiaHR0cDovL3d3dy5zZnNmdC5jb20vYWRtaW4ucGhwP3VybD0iLCJ0aXRsZSI6IuaXoOWQjeWwj+ermeWQjOa6kCJ9LAogICAgICAgIHsibmFtZSI6IlZJUOeci+eciyIsInVybCI6Imh0dHA6Ly9xLnoudmlwLnRvdHYuNzJkdS5jb20vP3VybD0iLCJ0aXRsZSI6IuabtOaNoue6v+i3r+aIkOWKn+eOh+S8muaPkOmrmCJ9LAogICAgICAgIHsibmFtZSI6Ik9ERkxWIiwidXJsIjoiaHR0cDovL2Fpa2FuLXR2LmNvbS8/dXJsPSIsInRpdGxlIjoi5LiN56iz5a6a77yM5bm/5ZGK6L+H5ruk6L2v5Lu25Y+v6IO95pyJ5b2x5ZONIn0sCiAgICAgICAgeyJuYW1lIjoiMTYz5Lq6IiwidXJsIjoiaHR0cDovL2p4LmFwaS4xNjNyZW4uY29tL3ZvZC5waHA/dXJsPSIsInRpdGxlIjoi5YG25bCU5pSv5oyB6IW+6K6vIn0sCiAgICAgICAgeyJuYW1lIjoiQ0tGTFYiLCJ1cmwiOiJodHRwOi8vd3d3LjAzMzVoYWliby5jb20vdG9uZy5waHA/dXJsPSIsInRpdGxlIjoiQ0tGTFbkupEs6YOo5YiG56uZ54K55LiN5pSv5oyBIn0sCiAgICAgICAgeyJuYW1lIjoi6Iie5Yqo56eL5aSpIiwidXJsIjoiaHR0cDovL3F0enIubmV0L3MvP3F0PSIsInRpdGxlIjoicXR6ci5uZXQifSwKICAgICAgICB7Im5hbWUiOiLml6DlkI3lsI/nq5kyIiwidXJsIjoiaHR0cDovL3d3dy53bXh6LndhbmcvdmlkZW8ucGhwP3VybD0iLCJ0aXRsZSI6Iui9rOWciOWciOWwseaNoue6v+i3ryJ9LAogICAgICAgIHsibmFtZSI6IuecvOedm+S8muS4i+mbqCIsInVybCI6Imh0dHA6Ly93d3cudmlwamlleGkuY29tL3l1bi5waHA/dXJsPSIsInRpdGxlIjoid3d3LnZpcGppZXhpLmNvbSJ9LAogICAgICAgIHsibmFtZSI6IuS6uuS6uuWPkeW4gyIsInVybCI6Imh0dHA6Ly92LnJlbnJlbmZhYnUuY29tL2ppZXhpLnBocD91cmw9IiwidGl0bGUiOiLnu7zlkIjvvIzlpJrnur/ot68ifQogICAgXTsKICAgIHZhciBkZWZhdWx0YXBpPXsidGl0bGUiOiLpvpnovanohJrmnKznmoTmjqXlj6PvvIzpu5jorqTnlKjmta7nqbrop6PmnpDvvIzlpLHmlYjor7fmm7TmjaLmjqXlj6MiLCJ1cmwiOiJodHRwOi8vZ291ZGlkaWFvLmNvbS8/dXJsPSJ9OwogICAgLy/ltYzlhaXpobXpnaLmkq3mlL4KICAgIGZ1bmN0aW9uIG9wZW5JblRhYihldnQpewogICAgICAgIHZhciBpZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAgICAgICAgaWZyYW1lLmlkPSJUTWlmcmFtZSI7CiAgICAgICAgdmFyIHZpZGVvOwogICAgICAgIC8vaWZyYW1lLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7Ym9yZGVyOm5vbmU7IjsKICAgICAgICBpZnJhbWUuc3R5bGUuYm9yZGVyPSJub25lIjsKICAgICAgICBpZnJhbWUudGV4dEFsaWduPSJjZW50ZXIiOwogICAgICAgIGlmcmFtZS5zcmM9ZXZ0LnRhcmdldC5kYXRhc2V0LnVybCtsb2NhdGlvbi5ocmVmOwogICAgICAgIHZhciB0aW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS3mo4DmtYvop4bpopHlhYPntKDmgJ3ot6/lgJ/pibTku5bkurogTGljZW5zZSBNSVQgQmVnaW4tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICBbXS5ldmVyeS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm9iamVjdCxlbWJlZCx2aWRlbyIpLGZ1bmN0aW9uKGl0ZW0peyAgICAgICAgICAgICAgICAvL0xJTks6aHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzI2NTU2LXZpcOinhumikeegtOinowogICAgICAgICAgICAgICAgdmFyIHN0eWxlPWdldENvbXB1dGVkU3R5bGUoaXRlbSwgbnVsbCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0hvbWVwYWdlOiBodHRwOi8vaG9vdGhpbi5jb20KICAgICAgICAgICAgICAgIGlmKHN0eWxlLndpZHRoLnJlcGxhY2UoInB4IiwiIik+MTAwICYmIHN0eWxlLmhlaWdodC5yZXBsYWNlKCJweCIsIiIpPjEwMCl7ICAgICAgICAgICAgICAgLy9FbWFpbDogcml4aXhpQGdtYWlsLmNvbQogICAgICAgICAgICAgICAgICAgIHZpZGVvPWl0ZW07CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOy8v5pyJ5pKt5pS+56qXCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKHZpZGVvfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjVE1pZnJhbWUiKSl7CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjVE1pZnJhbWUiKSl7dmlkZW89ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI1RNaWZyYW1lIik7fQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICB2YXIgdmlkZW9TdHlsZT1nZXRDb21wdXRlZFN0eWxlKHZpZGVvLCBudWxsKTsKICAgICAgICAgICAgICAgIGlmcmFtZS53aWR0aD12aWRlb1N0eWxlLndpZHRoOwogICAgICAgICAgICAgICAgaWZyYW1lLmhlaWdodD12aWRlb1N0eWxlLmhlaWdodDsKICAgICAgICAgICAgICAgIHZhciB2aWRlb1BhcmVudD12aWRlby5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxpbmVIZWlnaHQ9Z2V0Q29tcHV0ZWRTdHlsZSh2aWRlb1BhcmVudCkuaGVpZ2h0OwogICAgICAgICAgICAgICAgaWYodmlkZW8ucGFyZW50Tm9kZSl7dmlkZW8ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaWZyYW1lLHZpZGVvKTt9CiAgICAgICAgICAgIH0KICAgICAgICB9LDUwMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS3mo4DmtYvop4bpopHlhYPntKDmgJ3ot6/lgJ/pibTku5bkurogIEVuZC0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgaWYod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigieW91a3UiKSE9LTEpewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudnBhY3Rpb252NV9pZnJhbWVfd3JhcCIpLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIG5vTmV3VGFiQ2hlY2soKXsKICAgICAgICB2YXIgeCwgYXJyPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5UTTQgbGkiKTsKICAgICAgICByZXBsYWNlUmF3PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpblRhYkNoZWtieCIpLmNoZWNrZWQ7CiAgICAgICAgR01fc2V0VmFsdWUoInJlcGxhY2VSYXciLHJlcGxhY2VSYXcpOwogICAgICAgIGZvcih4PTA7eDxhcnIubGVuZ3RoO3grKyl7CiAgICAgICAgICAgIGlmKHJlcGxhY2VSYXcpewogICAgICAgICAgICAgICAgYXJyW3hdLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixvcGVuSW5UYWIsZmFsc2UpOwogICAgICAgICAgICAgICAgYXJyW3hdLm9uY2xpY2s9Jyc7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgYXJyW3hdLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixvcGVuSW5UYWIsZmFsc2UpOwogICAgICAgICAgICAgICAgYXJyW3hdLm9uY2xpY2s9ZnVuY3Rpb24oKXt3aW5kb3cub3Blbih0aGlzLmRhdGFzZXQudXJsK2xvY2F0aW9uLmhyZWYpO307CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByaWdodEVwc0xpbmtDaGVjaygpIHsKICAgICAgICBlcGlzb2Rlcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcmVhbExpbmtDaGVrYngiKS5jaGVja2VkOwogICAgICAgIEdNX3NldFZhbHVlKCJlcGlzb2RlcyIsZXBpc29kZXMpOwogICAgICAgIGlmKGVwaXNvZGVzKXsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpZGdldC1kcmFtYXNlcmllcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gZ2V0TGluayAoZSl7ICAgICAgLy8tLS0tLS0tLS0tLS0taXFpeWnliafpm4bnnJ/lrp7mkq3mlL7pobXpnaLmlrnms5UgIEJlZ2luLS0tLS0tLS0tLS0tLS0tLS0tLy9Ib21lcGFnZTogaHR0cDovL2hvb3RoaW4uY29tICAgIEVtYWlsOiByaXhpeGlAZ21haWwuY29tCiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0PWUudGFyZ2V0LnBhcmVudE5vZGUudGFnTmFtZT09IkxJIj9lLnRhcmdldC5wYXJlbnROb2RlOihlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUudGFnTmFtZT09IkxJIj9lLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGU6ZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUpOwogICAgICAgICAgICAgICAgaWYodGFyZ2V0LnRhZ05hbWUhPSJMSSIpcmV0dXJuOwogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiAiaHR0cDovL2NhY2hlLnZpZGVvLnFpeWkuY29tL2pwL3ZpLyIrdGFyZ2V0LmRhdGFzZXQudmlkZW9saXN0VHZpZCsiLyIrdGFyZ2V0LmRhdGFzZXQudmlkZW9saXN0VmlkKyIvP2NhbGxiYWNrPWNyYWNrSXFpeWkiLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmFja0lxaXlpPWZ1bmN0aW9uKGQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZj1kLnZ1OwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBldmFsKHJlc3VsdC5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS1pcWl5aeWJp+mbhuecn+WunuaSreaUvumhtemdouaWueazlSAgRW5kLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgfQogICAgICAgIGVsc2V7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpZGdldC1kcmFtYXNlcmllcycpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0TGluayk7fQogICAgfQoKICAgIGlmKHRvcC5sb2NhdGlvbj09bG9jYXRpb24pey8v5Y+q5Zyo6aG25bGC6aG16Z2i6L+Q6KGM77yM5ZyoaWZyYW1l5Lit5LiN6LW35L2c55SoCiAgICAgICAgdmFyIGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBkaXYuaWQ9IlRNYW5heXMiOwogICAgICAgIHZhciB0eHQ9JycsaT0wOwogICAgICAgIGZvciAoaSBpbiBhcGlzKSB7CiAgICAgICAgICAgIHR4dCArPSc8bGkgZGF0YS1vcmRlcj0nK2krJyBkYXRhLXVybD0iJythcGlzW2ldLnVybCsnIiB0aXRsZT0iJythcGlzW2ldLnRpdGxlKyciIG9uY2xpY2s9IndpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC51cmwrbG9jYXRpb24uaHJlZikiPicrYXBpc1tpXS5uYW1lKyc8L2xpPic7CiAgICAgICAgfQogICAgICAgIGRpdi5pbm5lckhUTUw9Jzx1bCBpZD0icGFyc2VVbCI+JysKICAgICAgICAgICAgJzxsaSBjbGFzcz0iVE0xIj48c3BhbiBpZD0iVE1MaXN0IiAgdGl0bGU9IicrZGVmYXVsdGFwaS50aXRsZSsnIiBvbmNsaWNrPSJ3aW5kb3cub3BlbihcJycrZGVmYXVsdGFwaS51cmwrJ1wnK3dpbmRvdy5sb2NhdGlvbi5ocmVmKSI+4pa2PC9zcGFuPjx1bCBjbGFzcz0iVE0zIFRNNCI+Jyt0eHQrJzwvdWw+PC9saT4nKwogICAgICAgICAgICAnPGxpIGNsYXNzPSJUTTEiPjxzcGFuIGlkPSJUTVNldCI+4pajPC9zcGFuPjx1bCBjbGFzcz0iVE0zIj48bGk+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImluVGFiQ2hla2J4Ij7mnKzpobXop6PmnpA8L2xhYmVsPjwvbGk+PGxpPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJyZWFsTGlua0NoZWtieCI+54ix5aWH6Im65q2j56Gu6YCJ6ZuGPC9sYWJlbD48L2xpPjwvdWw+PC9saT4nKwogICAgICAgICAgICAnPC91bD4nOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICAgICAgICBjb25zb2xlLmxvZyhkaXYucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUudGFnTmFtZSk7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2luVGFiQ2hla2J4IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLG5vTmV3VGFiQ2hlY2ssZmFsc2UpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpblRhYkNoZWtieCIpLmNoZWNrZWQ9cmVwbGFjZVJhdzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcmVhbExpbmtDaGVrYngiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIscmlnaHRFcHNMaW5rQ2hlY2ssZmFsc2UpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyZWFsTGlua0NoZWtieCIpLmNoZWNrZWQ9ZXBpc29kZXM7CgogICAgICAgIGlmKGVwaXNvZGVzICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImlxaXlpIikhPS0xKXsKICAgICAgICAgICAgcmlnaHRFcHNMaW5rQ2hlY2soKTsKICAgICAgICB9CiAgICAgICAgaWYocmVwbGFjZVJhdyAmJiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2whPSJodHRwczoiKXtub05ld1RhYkNoZWNrKCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlRNU2V0IikuY2xpY2soKTt9ICAgIC8vaHR0cHPlkoxodHRw6aG16Z2i5LiN6IO96ZW25bWM44CCCiAgICB9Cn0pKCk7CgovLyDotYTmupDlj4LogINodHRwOi8vd3d3LjVpZnh3LmNvbS92aXAvCi8vIOi1hOa6kOWPguiAg2h0dHA6Ly9saXZlLmdvcGFydG9vay5jb20vCi8vIOi1hOa6kOWPguiAg2h0dHA6Ly90di5kc3FuZGguY29tCi8vIOi1hOa6kOWPguiAg2h0dHA6Ly81MS5ydXlvLm5ldC9wLzMxMjcuaHRtbAovL+acieaViOaAp+acquefpXx85LiN6IO955u05o6l5byV55So5o6l5Y+jCi8vaHR0cDovL3d3dy55eWR5OC5jb20vY29tbW9uLz91cmw9Ci8vaHJlZj0iaHR0cDovL210MnQuY29tL3l1bj91cmw9Ci8vaHR0cHM6Ly9hcGkuNDdrcy5jb20vd2ViY2xvdWQvP3Y9Ci8vaHR0cDovL3d3dy5ndXFpYW5rdW4uY29tL3Rvb2xzL3ZpcHZpZGVvCi8v6L+H5pyf5o6l5Y+jCi8veyJuYW1lIjoiNjVZVyIsInVybCI6Imh0dHA6Ly93d3cuNjV5dy5jb20vNjV5dy8/dmlkPSIsInRpdGxlIjoi5paw5o6l5Y+j77yM56iz5a6a5oCn5pyq55+lIn0sCi8veyJuYW1lIjoi57Sr54uQIiwidXJsIjoiaHR0cDovL3l1bi56aWh1LnR2L3BsYXkuaHRtbD91cmw9IiwidGl0bGUiOiLmlYjmnpzlj6/og73kuI3nqLPlrpoifSwKLy97Im5hbWUiOiLkupHop6PmnpAiLCJ1cmwiOiJodHRwOi8vd3d3LmVmdW5maWxtLmNvbS95dW5wYXJzZS9pbmRleC5waHA/dXJsPSIsInRpdGxlIjoi5paw5o6l5Y+j77yM56iz5a6a5oCn5pyq55+lIn0sCi8veyJuYW1lIjoi5aa55YS/5LqRIiwidXJsIjoiaHR0cHM6Ly93d3cueXltZWllci5jb20vYXBpLnBocD91cmw9IiwidGl0bGUiOiLkuI3nqLPlrpoifQovL3sibmFtZSI6IlbkupFb6IW+6K6vXSIsInVybCI6Imh0dHA6Ly93d3cudml5dW4ubWUvamlleGkucGhwP3VybD0iLCJ0aXRsZSI6IuiFvuiur+mmlumAiSJ9LAoKLy9odHRwc+WNj+iurumhtemdou+8mmZpbG0uc29odS5jb20="},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["http*://*.pcs.baidu.com/*","http*://*.baidupcs.com/*","http*://*:8666/file/*","http*://*.baidu.com/file/*","http*://index.baidu.com/*","http*://*.gov/*","http*://*.gov.cn/*","http*://*.taobao.com/*","http*://*.tmall.com/*","http*://*.alimama.com/*","http*://*.jd.com/*","http://*.ctrip.com/*","https://*.evernote.com/*","https://*.yinxiang.com/*","/^https?://(localhost|10\\.|192\\.|127\\.)/","/https?://www.baidu.com/(?:s|baidu)\\?/","http*://www.zhihu.com/question/*/answers/created"],"orig_includes":["http://*","https://*","http://pan.baidu.com/s/*","http://eyun.baidu.com/s/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970096},"enabled":true,"position":25,"file_url":"https://greasyfork.org/scripts/13463-%E7%BD%91%E7%9B%98%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E5%AF%86%E7%A0%81-%E5%A2%9E%E5%BC%BA%E7%89%88/code/%E7%BD%91%E7%9B%98%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E5%AF%86%E7%A0%81%E3%80%90%E5%A2%9E%E5%BC%BA%E7%89%88%E3%80%91.user.js","uuid":"8bf580d1-9ded-424c-9c25-d57943ee3482","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgCQkJ572R55uY6Ieq5Yqo5aGr5YaZ5a+G56CB44CQ5aKe5by654mI44CRCi8vIEBkZXNjcmlwdGlvbgkJ572R55uY6Ieq5Yqo5aGr5YaZ5o+Q5Y+W5a+G56CB44CQ5aKe5by654mI44CRK+e9keebmOi2hemTvuaOpeS4juaPkOWPlueggeiejeWQiOOAggovLyBAYXV0aG9yCQkJ5p6B5ZOB5bCP54yrCi8vIEBuYW1lc3BhY2UgICAJaHR0cDovL3d3dy5jbmJsb2dzLmNvbS9oa21oZC8KLy8gQGhvbWVwYWdlCQlodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMTM0NjMKLy8gQHN1cHBvcnRVUkwJCWh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8xMzQ2My9mZWVkYmFjawovLyBAdmVyc2lvbgkJCTIuNS4yLjQKLy8gQGRhdGUJCQkyMDE1LjEwLjMwCi8vIEBtb2RpZmllZAkJMjAxNy4wNy4xOQovLyAKLy8g5pSv5oyB55qE572R55uYCi8vIEBpbmNsdWRlICAgICAJaHR0cDovLyoKLy8gQGluY2x1ZGUJCQlodHRwczovLyoKLy8gQGluY2x1ZGUJCQlodHRwOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQGluY2x1ZGUJCQlodHRwOi8vZXl1bi5iYWlkdS5jb20vcy8qCi8vIAovLyDnmb3lkI3ljZUKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyoucGNzLmJhaWR1LmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmJhaWR1cGNzLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qOjg2NjYvZmlsZS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmJhaWR1LmNvbS9maWxlLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovL2luZGV4LmJhaWR1LmNvbS8qCi8vIAovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5nb3YvKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5nb3YuY24vKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi50YW9iYW8uY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyoudG1hbGwuY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyouYWxpbWFtYS5jb20vKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5qZC5jb20vKgovLyBAZXhjbHVkZQkJCWh0dHA6Ly8qLmN0cmlwLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cHM6Ly8qLmV2ZXJub3RlLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cHM6Ly8qLnlpbnhpYW5nLmNvbS8qCi8vIEBleGNsdWRlCQkJL15odHRwcz86Ly8obG9jYWxob3N0fDEwXC58MTkyXC58MTI3XC4pLwovLyBAZXhjbHVkZQkJCS9odHRwcz86Ly93d3cuYmFpZHUuY29tLyg/OnN8YmFpZHUpXD8vCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLyovYW5zd2Vycy9jcmVhdGVkCi8vCi8vIHJlcXVpcmUJCQlodHRwOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMKLy8gQHJlcXVpcmUJCQlodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2pxdWVyeS8yLjEuNC9qcXVlcnkubWluLmpzCi8vIEBncmFudAkJCXVuc2FmZVdpbmRvdwovLyBAZW5jb2RpbmcJCXV0Zi04Ci8vIEBydW4tYXQJCQlkb2N1bWVudC1pZGxlCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIHVybHM9bG9jYXRpb24uaHJlZjsKdmFyIGhhc2g9bG9jYXRpb24uaGFzaDsKdmFyIGhvc3Q9bG9jYXRpb24uaG9zdG5hbWUucmVwbGFjZSgvXnd3d1wuL2ksJycpLnRvTG93ZXJDYXNlKCk7CnZhciBwYXRocz1sb2NhdGlvbi5wYXRobmFtZS50b0xvd2VyQ2FzZSgpOwp1bnNhZmVXaW5kb3cuZXZlID0gRXZlbnQ7CgovKgogKiDmm7TmlrDml6Xlv5cKICogMi41LjIuMwogKiAx44CBTUFE57Sg5p2Q5bqT77yIbWFkc2NrLmNvbe+8ieWvhueggeiejeWQiOeJueauiuaUr+aMgQogKiAy44CB5L+u5aSNIGh1aHVwYW4uY29tIOeahOWvhueggeiejeWQiOaUr+aMgQogKgogKiAyLjUuMi4yCiAqIDHjgIHliKDpmaTnn6XkuY7ot7Povazpk77lpITnkIbku6PnoIEKICoKICogMi41LjIuMQogKiAx44CB6K6v5b2x572R77yIeHVueWluZ3dhbmcuY29t77yJ5a+G56CB6J6N5ZCI5aSE55CGCiAqIDLjgIHmiLfmiLfnm5jvvIhodWh1cGFuLmNvbe+8ieWvhueggeiejeWQiOWkhOeQhgogKiAKICogMi41LjEKICogMeOAgeaugea8gumBpe+8iHNoYW9pdC5jb23vvInlr4bnoIHono3lkIjlpITnkIbmlLnov5sKICogCiAqIDIuNS4wCiAqIDHjgIHmj5DljYflr4bnoIHono3lkIjog73lipsKICogCiAqIDIuNC4yIOOAkDIwMTYuMTAuMDXjgJEKICogMeOAgeaugea8gumBpe+8iHNoYW9pdC5jb23vvInlr4bnoIHono3lkIjlpITnkIYKICogMuOAgXJlaW11Lm5ldCDlr4bnoIHono3lkIjlpITnkIYKICogM+OAgeS/ruWkjeKAnOi3s+i9rOmTvuWkhOeQhuKAneW9seWTjeeZvuW6puS8geS4muebmOaXoOazleiuv+mXrumXrumimAogKiAKICogMi40LjEuMiDjgJAyMDE2LjA5LjI444CRCiAqIDHjgIHlop7liqAgc2lqaWh1aXN1by5jbHViIOeahOi3s+i9rOmTvuWkhOeQhgogKiAy44CB5aKe5Yqg5pys5ZywSVDnmb3lkI3ljZUKICogCiAqIDIuNC4xLjEg44CQMjAxNi4wOS4yMeOAkQogKiAx44CB5aKe5Yqg5pC656iL572R55m95ZCN5Y2VCiAqIAogKiAyLjQuMSDjgJAyMDE2LjA5LjIx44CRCiAqIDHjgIHmlK/mjIHkuIDkupvnibnmrornvZHnq5nnmoTlr4bnoIHono3lkIjpooTlpITnkIYKICogMuOAgeaUr+aMgeeZvuW6puS8geS4muS6keeahOWvhueggeiHquWKqOaPkOS6pO+8iOS8geS4muebmOeahOWvhueggeS4ujR+MTTkvY3vvIkKICogM+OAgeaUr+aMgSB3d3cuMGRheWt1LmNvbSDnmoTmj5Dlj5bnoIHlhbPplK7lrZfigJxFeHRyYWN0ZWQtY29kZeKAnQogKiAKICogMi4zLjMg44CQMjAxNi4wOC4wOOOAkQogKiAx44CB55+l5LmO6Lez6L2s6ZO+6aKE5aSE55CGCiAqIAogKiAyLjMuMiDjgJAyMDE2LjA4LjA044CRCiAqIDHjgIHmgaLlpI3mj5Dlj5bnoIHkuK3nmoTigJzlr4bnoIHigJ3lhbPplK7lrZfvvIjpgILnlKjkuo7vvJrlv4Pmtbdl56uZ77yJCiAqIAogKiAyLjMuMSDjgJAyMDE2LjA4LjAz44CRCiAqIDHjgIHlop7liqDlvq7kupHnvZHnm5jmj5Dlj5bnoIHmlK/mjIHvvIjljLnphY3op4TliJnmnaXoh6rljp/kvZzogIUgSml4dW4uTW9l77yJCiAqIDLjgIHkv67mraPmj5Dlj5bnoIHlhbzlrrnpl67popgKICogM+OAgeS/ruato+mHjeWkjea3u+WKoOaPkOWPlueggQogKiAKICogMi4zLjAg44CQMjAxNi4wOC4wMeOAkQogKiAx44CB56e76Zmk5a+56YeR5bGx5b+r55uY44CB5paw5rWq5LqR55uY55qE5pSv5oyBCiAqIDLjgIHnmb7luqbkvIHkuJrkupHnm5jkuI3ov73liqDpqozor4HnoIEKICogM+OAgeWPl+i0tOWQp+mhtemdoui3s+i9rOW9seWTje+8jOaaguaXtuS4jeaUr+aMgei0tOWQp+eahOWvhueggeaPkOWPlu+8jOW3suWwhui0tOWQp+WKoOWFpeeZveWQjeWNlQogKiA044CB5o+Q5Y2H6ZO+5o6lJuWvhueggeiejeWQiOeahOaIkOWKn+eOhwnigJTigJQgQSDmoIfnrb7nu5Hlrprlh73mlbDmm7TmlLnkuLogYm9keSDngrnlh7vkuovku7bnm5HlkKzvvIjmoLnmja7ljp/kvZzogIUgSml4dW4uTW9lIOeahOW7uuiuru+8iQogKiA144CB5om+5LiN5Yiw5a+G56CB5pe255qE6YGN5Y6G5pa55byP5pu05pS577yI5oSf6LCiIDEwMTM5IC0gbXVkb28g55qE5bu66K6u77yJCiAqIDbjgIHmlK/mjIHlr4bnoIHmlL7lnKjmjaLooYzooajmoLzkuK3nmoTmj5Dlj5YKKi8KCnZhciBzaXRlID0gewogICd5dW5wYW4uY24nOiB7CiAgICBjaGs6CS9eW2EtejAtOV17NH0kLywKICAgIGNvZGU6CScucHdkLWlucHV0JywKICAgIGJ0bjoJJy5zdWJtaXQtYnRuJwogIH0sCiAgJ2JhaWR1LmNvbSc6ewogICAgY2hrOgkvXlthLXowLTldezR9JC8sCiAgICBjb2RlOgknI2FjY2Vzc0NvZGUnLAogICAgYnRuOgknI3N1Ym1pdEJ0biwjZ2V0ZmlsZUJ0bicsCiAgICBQcmVQcm9jZXNzOiBmdW5jdGlvbigpIHsJLy/lt7LlpITnkIYKICAgICAgaWYoaG9zdD09J2V5dW4uYmFpZHUuY29tJyl7CS8v5aaC5p6c5Li655m+5bqm5LyB5Lia5LqR55uY77yM5YiZ5oyJ54Wn5LyB5Lia5LqR55uY55qE5pa55byP5aSE55CGCiAgICAgICAgY29uZj1zaXRlWydiYWlkdS5jb20nXT1zaXRlWydleXVuLmJhaWR1LmNvbSddOwogICAgICAgIHNpdGVbJ2JhaWR1LmNvbSddLlByZVByb2Nlc3MoKTsKICAgICAgfQogICAgfQogIH0sCiAgJ2V5dW4uYmFpZHUuY29tJzogewogICAgY2hrOgkvXlthLXowLTldezR9JC8sCiAgICBjb2RlOgknLnNoYXJlLWFjY2Vzcy1jb2RlJywKICAgIGJ0bjoJJy5nLWJ1dHRvbi1yaWdodCcsCiAgICBQcmVQcm9jZXNzOiBmdW5jdGlvbigpIHsKICAgICAgaWYoKGhhc2gmJiEvc2hhcmVsaW5rfHBhdGgvaS50ZXN0KGhhc2gpKSYmIS9lbnRlcnByaXNlLy50ZXN0KHBhdGhzKSkgewogICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0Jyk7CiAgICAgICAgbG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UobG9jYXRpb24uaGFzaCwnJyk7CiAgICAgIH0KICAgIH0KICB9LAogICd3ZWl5dW4uY29tJzogewogICAgY2hrOiAvXlthLXowLTldezR9JC9pLAogICAgY29kZTogJyNvdXRsaW5rX3B3ZCcsCiAgICBidG46ICAnI291dGxpbmtfcHdkX29rJwogIH0sCiAgJ3B3ZFJ1bGUnIDogLyg/OuaPkOWPlnzorr/pl64pW+eggeeivF0/XHMqWzrvvJogXT9ccyooW2EtelxkXXs0fSkvLAkJCS8v5bi46KeE5a+G56CBCiAgJ2NvZGVSdWxlJyA6IC8oPzooPzrmj5Dlj5Z86K6/6ZeufOWvhlvnoIHnorxdfOiJvnxFeHRyYWN0ZWQtY29kZSlb56CB56K8XT8pXHMqWzrvvJogXT9ccyooW2EtelxkXXs0fSkvaSwJLy/lhbblroPnsbvlnovnmoTlr4bnoIEKICAvL+i3s+i9rOmTvumihOWkhOeQhgogICdKdW1wVXJsJyA6IHsKICAgICdzaWppaHVpc3VvLmNsdWInOiB7CiAgICAgIGhyZWY6ICQoJy5kb3duLXRpcCBBW2hyZWZePSJodHRwczovL3d3dy5zaWppaHVpc3VvLmNsdWIvZ28vP3VybD0iXScpLAogICAgICB1cmw6ICdodHRwczovL3d3dy5zaWppaHVpc3VvLmNsdWIvZ28vP3VybD0nCiAgICB9CiAgfSwKICAvL+WvhueggeiejeWQiOmcgOimgeeJueauiuaUr+aMgeeahOe9keermQogICdTdXBwb3J0JyA6IHsKICAgICdtYWRzY2suY29tJzp7CiAgICAgIHBhdGg6IC9cL3Jlc291cmNlXC9cZCsvLAogICAgICBjYWxsYmFjazpmdW5jdGlvbigpewogICAgICAgIHZhciBJRD0kKCcuYnRuLWRvd25sb2FkJykuZGF0YSgnaWQnKTsKICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICJ1cmwiOiJodHRwOi8vd3d3Lm1hZHNjay5jb20vYWpheC9sb2dpbi9kb3dubG9hZC1saW5rP2lkPSIrSUQsCiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgdmFyIHJlcz1lLnJlc291cmNlOwogICAgICAgICAgICAgICQoJy5idG4tZG93bmxvYWQnKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7CiAgICAgICAgICAgICAgJCgnPGE+JykuYXR0cih7J2hyZWYnOnJlcy5yZXNvdXJjZV9saW5rKycjJytyZXMuZmV0Y2hfY29kZSwndGFyZ2V0JzonYmxhbmsnLCdjbGFzcyc6J2J0bi1kb3dubG9hZCd9KS5jc3MoeydsaW5lLWhlaWdodCc6JzYwcHgnLCd0ZXh0LWFsaWduJzonY2VudGVyJywnZm9udC1zaXplJzonMjRweCd9KS50ZXh0KCfkuIvovb0nKS5pbnNlcnRCZWZvcmUoJy5idG4tZG93bmxvYWQnKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgICdpZGFubXUuY28nOiB7CiAgICAgIHBhdGggOiAvc3RvcmFnZVwtZG93bmxvYWQvaSwKICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpewogICAgICAgICQoJy5pbnB1dC1ncm91cCcpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICQodGhpcykudGV4dCgkKHRoaXMpLnRleHQoKSskKHRoaXMpLmZpbmQoJ2lucHV0JykudmFsKCkpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgJ3NoYW9pdC5jb20nOiB7CiAgICAgIHBhdGggOiAvLiovaSwKICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpewogICAgICAgIHZhciBMaW5rUGFyZW50PSQoJ0FbaHJlZio9InBhbi5iYWlkdS5jb20iXSxBW2hyZWYqPSJleXVuLmJhaWR1LmNvbSJdJykucGFyZW50KCk7CiAgICAgICAgdmFyIFBhcmVudEhUTUw9TGlua1BhcmVudC5odG1sKCk7CiAgICAgICAgc2l0ZVsnY29kZVJ1bGUnXT0vXHMqKHNoYW9pdHxbYS16XGRdezR9KSgoPzpccyp8PGJyPikkKS9pOwogICAgICAgICAgdmFyIEh0bWxBcnI9UGFyZW50SFRNTC5tYXRjaCgvLiooPzogXC98XHMqJHw8YnI+KS9pZyk7CiAgICAgICAgICBmb3IoaT0wO2k8SHRtbEFyci5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgaWYoLzxcL2E+XHMqKFthLXpcZF17NH18c2hhb2l0KSBcLy9pLnRlc3QoSHRtbEFycltpXSkpewogICAgICAgICAgICAgIEh0bWxBcnJbaV09SHRtbEFycltpXS5yZXBsYWNlKC8oaHJlZj0iW14iXSspKCJbXj5dKj8+KD8hPFwvYT4pLis/PFwvYT5ccyooc2hhb2l0fFthLXpcZF17NH0pKS9pZywnJDEjJDMkMicpOwogICAgICAgICAgICB9IGVsc2UgaWYoc2l0ZVsnY29kZVJ1bGUnXS50ZXN0KEh0bWxBcnJbaV0pKXsKICAgICAgICAgICAgICB2YXIgUFdjb2RlPUh0bWxBcnJbaV0ubWF0Y2goc2l0ZVsnY29kZVJ1bGUnXSlbMV07CiAgICAgICAgICAgICAgSHRtbEFycltpXT1IdG1sQXJyW2ldLnJlcGxhY2UoLyhocmVmPSJbXiJdKz8pIi9pZywnJDEjJytQV2NvZGUrJyInKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgTGlua1BhcmVudC5odG1sKEh0bWxBcnIuam9pbignJykpOwogICAgICAgIAogICAgICB9CiAgICB9LAogICAgJ3h1bnlpbmd3YW5nLmNvbSc6ewogICAgICBwYXRoOi9tb3ZpZS9pLAogICAgICBjYWxsYmFjazpmdW5jdGlvbigpewogICAgICAgICQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCl7CiAgICAgICAgICAkKCdBW2hyZWYqPSJwYW4uYmFpZHUuY29tIl0sQVtocmVmKj0iZXl1bi5iYWlkdS5jb20iXScpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdocmVmJywkKHRoaXMpLmF0dHIoJ2hyZWYnKSsnIycrJCh0aGlzKS5uZXh0KCJzdHJvbmciKS50ZXh0KCkpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAnaHVodXBhbi5jb20nOnsKICAgICAgcGF0aDovZVwvZXh0ZW5kXC9kb3duL2ksCiAgICAgIGNhbGxiYWNrOmZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIF9MaW5rdG1wPSQoJ0FbaHJlZio9InBhbi5iYWlkdS5jb20iXSxBW2hyZWYqPSJleXVuLmJhaWR1LmNvbSJdJyk7CiAgICAgICAgdmFyIF9QV3RtcD0kKCdpbnB1dFtpZF49ImJkeXBhcyJdJyk7CiAgICAgICAgZm9yKGk9MDtpPF9MaW5rdG1wLmxlbmd0aDtpKyspewogICAgICAgICAgX0xpbmt0bXBbaV0uaHJlZis9IiMiK19QV3RtcFtpXS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAncmVpbXUubmV0JzogewogICAgICBwYXRoOiAvYXJjaGl2ZXMvaSwKICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7CiAgICAgICAgc2l0ZVsnY29kZVJ1bGUnXT0vKD86KD865o+Q5Y+WfOiuv+mXrnzlr4Zb56CB56K8XSlb56CB56K8XT8pXHMqWzrvvJogXT9ccyooW2EtelxkXXs0fXw46YWxKS9pCiAgICAgIH0KICAgIH0KICB9Cn07Cgp2YXIgaG9zdE5hbWUgPSBsb2NhdGlvbi5ob3N0Lm1hdGNoKC9cdytcLlx3KyQvKVswXS50b0xvd2VyQ2FzZSgpOwkvL+aPkOWPluW9k+WJjee9keermeS4u+Wfn+WQje+8iOe9keebmOWhq+WFheWvhueggeeUqO+8iQp2YXIgY29uZiA9IHNpdGVbaG9zdE5hbWVdOwkJCQkJCQkJCQkJLy/orr7nva7kuLvln5/lkI0KCnZhciBIb3N0QXJyID0gW107CQkJCQkJCQkJLy/nlJ/miJDln5/lkI3mlbDnu4QKZm9yKHZhciBpIGluIHNpdGUpIEhvc3RBcnIucHVzaChpKTsJCQkJCS8v5o+S5YWl5Z+f5ZCN5a+56LGh5pWw57uECnZhciBIb3N0RXhwID0gbmV3IFJlZ0V4cChIb3N0QXJyLmpvaW4oInwiKSwnaScpOwkvL+eUn+aIkOagoemqjOi2hemTvuaOpeeahOato+WImQoKLy9jb25zb2xlLmxvZyhzaXRlLkp1bXBVcmxbaG9zdF0pOwoKLyogLS0tLS09PT09PSDmo4Dmn6XmmK/lkKbpnIDopoHlpITnkIbot7Povazpk74gU3RhcnQgPT09PT0tLS0tLSAqLwoKaWYoc2l0ZVsnSnVtcFVybCddW2hvc3RdKXsKICBjb25zb2xlLmxvZyhzaXRlWydKdW1wVXJsJ11baG9zdF1bJ2hyZWYnXSkKICBzaXRlWydKdW1wVXJsJ11baG9zdF1bJ2hyZWYnXS5lYWNoKGZ1bmN0aW9uKCl7CiAgICBjb25zb2xlLmxvZyhzaXRlWydKdW1wVXJsJ11baG9zdF1bJ3JlcCddKQogICAgJCh0aGlzKS5hdHRyKHsnaHJlZic6ZGVjb2RlVVJJQ29tcG9uZW50KCQodGhpcykuYXR0cignaHJlZicpLnJlcGxhY2Uoc2l0ZVsnSnVtcFVybCddW2hvc3RdWyd1cmwnXSwnJykpLCd0YXJnZXQnOidibGFuayd9KTsKICB9KTsKfQovKiAtLS0tLT09PT09IOajgOafpeaYr+WQpumcgOimgeWkhOeQhui3s+i9rOmTviBFbmQgPT09PT0tLS0tLSAqLwoKCmlmKGNvbmYmJiEvemhpZGFvLmJhaWR1LmNvbS9pLnRlc3QoaG9zdCkpewkvL+e9keebmOmhtemdouWhq+WvhueggeeZu+W9lQogIC8vIOaKk+WPluaPkOWPlueggQogIGlmKGNvbmYuUHJlUHJvY2VzcykgY29uZi5QcmVQcm9jZXNzKCk7CQkvL+WGheWuuemihOWkhOeQhu+8iOWkhOeQhueZvuW6puS8geS4muS6ke+8iQogIHZhciBzQ29kZSA9IGhhc2guc2xpY2UoMSkudHJpbSgpOwoKICAvLyDosIPor5XnlKjvvIzmo4Dmn6XmmK/lkKbkuLrlkIjms5XmoLzlvI8KICBpZiAoIWNvbmYuY2hrLnRlc3Qoc0NvZGUpKSB7CiAgICBjb25zb2xlLmxvZygn5rKh5pyJIEtleSDmiJbmoLzlvI/kuI3lr7knKTsKICB9IGVsc2UgewogICAgY29uc29sZS5sb2cgKCfmipPlj5bliLDnmoTmj5Dlj5bnoIE6ICVzJywgc0NvZGUpOwogIH0KCiAgLy8g5Yqg5Liq5bCP5bu25pe2CiAgc2V0VGltZW91dCAoZnVuY3Rpb24gKCkgewogICAgLy8g6ZSu5YWl5o+Q5Y+W56CB5bm25Y2V5Ye744CM5o+Q5Lqk44CN5oyJ6ZKu77yM5oql6ZSZ5LiN55So55CG44CCCiAgICB2YXIgY29kZUJveCA9ICQoY29uZi5jb2RlKSwKICAgICAgICBidG5PayA9ICQoY29uZi5idG4pOwogICAgaWYoY29kZUJveC5sZW5ndGg+MCkgewkJLy/lrZjlnKjlr4bnoIHmoYbml7bmiY3ov5vooYzlr4bnoIHmj5DkuqTmk43kvZwKICAgICAgY29kZUJveC52YWwoc0NvZGUpOwkJLy/loavlhpnpqozor4HnoIEKICAgICAgaWYgKGNvbmYucHJlU3VibWl0KQogICAgICAgIGlmIChjb25mLnByZVN1Ym1pdCAoY29kZUJveCwgYnRuT2spKQogICAgICAgICAgcmV0dXJuIDsKICAgICAgYnRuT2suY2xpY2soKTsKICAgIH0KICB9LCAxMCk7Cn0gZWxzZSB7CiAgLy/lr4bnoIHono3lkIgg54m55Yir5pSv5oyB55qE572R56uZCiAgaWYoc2l0ZVsnU3VwcG9ydCddW2hvc3ROYW1lXSYmc2l0ZVsnU3VwcG9ydCddW2hvc3ROYW1lXVsncGF0aCddLnRlc3QocGF0aHMpKSB7CiAgICBzaXRlWydTdXBwb3J0J11baG9zdE5hbWVdLmNhbGxiYWNrKCk7CiAgfQogIC8v55uR5ZCsIEEg5qCH562+54K55Ye75LqL5Lu2CiAgJCgnYm9keScpLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24gKCkgewogICAgdmFyIHRhcmdldD10aGlzOwogICAgLy/lpoLmnpzotoXpk77mjqXlt7LmnIkgaGFzaCDliJnot7Pov4cKICAgIGlmKHRoaXMuaGFzaCkgcmV0dXJuOwogICAgLy/lpoLmnpznm67moIflr7nosaHkuLrnmb7luqbkvIHkuJrnm5jvvIzmj5DljYflr4bnoIHljLnphY3ojIPlm7TvvIzku6Xlhbzlrrnnmb7luqbkvIHkuJrkupEKICAgIGlmKC9leXVuLmJhaWR1LmNvbS9pLnRlc3QodGhpcy5ocmVmKSkgewogIAkJc2l0ZVsncHdkUnVsZSddPS8oPzrmj5Dlj5Z86K6/6ZeuKVvnoIHnorxdP1xzKls677yaIF0/XHMqKFthLXpcZF17NCwxNH0pLzsKICAJCXNpdGVbJ2NvZGVSdWxlJ109Lyg/Oig/OuaPkOWPlnzorr/pl6585a+GW+eggeeivF18RXh0cmFjdGVkLWNvZGUpW+eggeeivF0/KVxzKls677yaIF0/XHMqKFthLXpcZF17NCwxNH0pL2k7CiAgICB9CiAgICAvL3ZhciB0YXJnZXQ9ZXZlbnQudGFyZ2V0LnRhZ05hbWU9PT0nQSc/ZXZlbnQudGFyZ2V0OmV2ZW50LnRhcmdldC5wYXJlbnROb2RlOwogICAJCiAgICAvL+ato+WImeagoemqjOi2hemTvuaOpeWMuemFjeeahOe9keebmAogICAgaWYoSG9zdEV4cC50ZXN0KHRoaXMuaHJlZikmJiEvKD86dGllYmEpXC5iYWlkdVwuY29tL2kudGVzdCh0aGlzLmhyZWYpKXsKICAgICAgCiAgICAgIAogICAgICBpZihzaXRlWydjb2RlUnVsZSddLnRlc3QodGFyZ2V0LnRleHRDb250ZW50KSl7CiAgICAgICAgY29uc29sZS5sb2coJ+WcqOW9k+WJjei2hemTvuaOpeeahOWvueixoeS4reafpeaJvuWvhueggScpOwogICAgICAgIHRhcmdldC5ocmVmKz0nIycrZXh0Q29kZSh0YXJnZXQpOwogICAgICB9IGVsc2UgaWYodGFyZ2V0Lm5leHRTaWJsaW5nJiZzaXRlWydjb2RlUnVsZSddLnRlc3QodGFyZ2V0Lm5leHRTaWJsaW5nLnRleHRDb250ZW50KSl7CiAgICAgICAgY29uc29sZS5sb2coJ+WvhueggeWcqOi2hemTvuaOpeWQjumdoueahOWFhOW8n+WFg+e0oOS4rScsdGFyZ2V0Lm5leHRTaWJsaW5nLnRleHRDb250ZW50KTsKICAgICAgICBpZighLyMvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKHRhcmdldC5uZXh0U2libGluZyk7CiAgICAgIH0gZWxzZSBpZihzaXRlWydwd2RSdWxlJ10udGVzdCh0YXJnZXQucGFyZW50Tm9kZS50ZXh0Q29udGVudCkpewogICAgICAgIGNvbnNvbGUubG9nKCfku47niLblr7nosaHkuK3mn6Xmib7lr4bnoIEnKTsKICAgICAgICBpZighLyMvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKHRhcmdldC5wYXJlbnROb2RlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaSA9IDAsCiAgICAgICAgICAgIG1heFBhcmVudCA9IDUsCS8v5ZCR5LiK6YGN5Y6G55qE5bGC57qnCiAgICAgICAgICAgIHBhcmVudCA9IHRhcmdldDsKICAgICAgICB3aGlsZShpPG1heFBhcmVudCkgewogICAgICAgICAgaSsrOwkJCQkJCQkJCS8v6YGN5Y6G6K6h5pWwCiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsJCQkvL+WPluW+l+eItuWvueixoQogICAgICAgICAgY29uc29sZS5sb2coJ+mBjeWOhuS4iue6p+ebruW9leafpeaJvuWvhuegge+8micrIGkscGFyZW50KTsKICAgICAgICAgIGlmKHBhcmVudC50YWdOYW1lPT0iVFIiKSB7CQkJCS8v5aaC5p6c54i25a+56LGh5piv6KGo5qC877yM5YiZ5LuO6KGo5qC85Lit5o+Q5Y+W5a+G56CBCiAgICAgICAgICAgIGlmKHNpdGVbJ2NvZGVSdWxlJ10udGVzdChwYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50KSkgewogICAgICAgICAgICAgIHBhcmVudD1wYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ+ihqOagvOS4reafpeaJvuWvhueggeaIkOWKn++8gScscGFyZW50KTsKICAgICAgICAgICAgICB0YXJnZXQuaHJlZis9JyMnK2V4dENvZGUocGFyZW50KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmKHNpdGVbJ2NvZGVSdWxlJ10udGVzdChwdz1wYXJlbnQubmV4dFNpYmxpbmcudGV4dENvbnRlbnQpKXsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+WQkeS4iumBjeWOhuafpeaJvu+8jOWcqOi2hemTvuaOpeWQjumdoueahOWFhOW8n+WFg+e0oOS4re+8jCcscGFyZW50Lm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKHBhcmVudC5uZXh0U2libGluZyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIGlmKHNpdGVbJ2NvZGVSdWxlJ10udGVzdChwYXJlbnQudGV4dENvbnRlbnQpKSB7CQkvL+WQpuWImeaMieeFp+W4uOinhOaWueW8j+aPkOWPluWvhueggQogICAgICAgICAgICBjb25zb2xlLmxvZygn5ZCR5LiK6YGN5Y6G5p+l5om+5a+G56CB5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgIHRhcmdldC5ocmVmKz0nIycrZXh0Q29kZShwYXJlbnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHBhcmVudD09ZG9jdW1lbnQuYm9keSkgYnJlYWs7CQkJCQkJCQkvL+WmguaenOW3sue7j+mBjeWOhuWIsOacgOmhtumDqAogICAgICAgIH0KICAgICAgfQogICAgICAvL2NvbnNvbGUubG9nKHNpdGVbJ2NvZGVSdWxlJ10pOwogICAgICAgICAgICAvL+aXp+eahOS7jueItuWvueixoeS4remBjeWOhuaWueW8jwogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfku44gZG9jdW1lbnQuYm9keSDkuK3mn6Xmib7lr4bnoIEnKTsKICAgICAgICAgICAgLy9pZighLyMvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKGRvY3VtZW50LmJvZHkpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBleHRDb2RlKG9iail7CiAgdGV4dD1vYmoudGV4dENvbnRlbnQudHJpbSgpOwogIHJldHVybiBzaXRlWydwd2RSdWxlJ10udGVzdCh0ZXh0KT90ZXh0Lm1hdGNoKHNpdGVbJ3B3ZFJ1bGUnXSlbMV06dGV4dC5tYXRjaChzaXRlWydjb2RlUnVsZSddKVsxXTsJLy/pppblhYjlsJ3or5Xkvb/nlKgg5o+Q5Y+W56CBfOiuv+mXrueggSDkvZzkuLrlr4bnoIHljLnphY3nmoTlhbPplK7lrZfvvIzml6DmlYjml7bliJnkvb/nlKjmm7TlrozmlbTnmoTljLnphY3op4TliJkKfQ=="},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970096},"enabled":true,"position":26,"file_url":"https://greasyfork.org/scripts/14146-%E7%BD%91%E9%A1%B5%E9%99%90%E5%88%B6%E8%A7%A3%E9%99%A4/code/%E7%BD%91%E9%A1%B5%E9%99%90%E5%88%B6%E8%A7%A3%E9%99%A4.user.js","uuid":"66a2bb93-051a-4616-9dde-79ca457edbc3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWVzcGFjZSAgICAgICAgIGh0dHBzOi8vd3d3LmdpdGh1Yi5jb20vQ2F0NzM3My8KCi8vIEBuYW1lICAgICAgICAgICAgICDnvZHpobXpmZDliLbop6PpmaQKLy8gQG5hbWU6ZW4gICAgICAgICAgIFJlbW92ZSB3ZWIgbGltaXRzCi8vIEBuYW1lOnpoICAgICAgICAgICDnvZHpobXpmZDliLbop6PpmaQKLy8gQG5hbWU6emgtQ04gICAgICAgIOe9kemhtemZkOWItuino+mZpAovLyBAbmFtZTp6aC1UVyAgICAgICAg57ay6aCB6ZmQ5Yi26Kej6ZmkCi8vIEBuYW1lOmphICAgICAgICAgICDjgqbjgqfjg5bjga7opo/liLbnt6nlkowKCi8vIEBkZXNjcmlwdGlvbiAgICAgICDpgJrmnYDlpKfpg6jliIbnvZHnq5nvvIzlj6/ku6Xop6PpmaTnpoHmraLlpI3liLbjgIHliarliIfjgIHpgInmi6nmlofmnKzjgIHlj7PplK7oj5zljZXnmoTpmZDliLbjgIIKLy8gQGRlc2NyaXB0aW9uOmVuICAgIFBhc3MgdG8ga2lsbCBtb3N0IG9mIHRoZSBzaXRlLCB5b3UgY2FuIGxpZnQgdGhlIHJlc3RyaWN0aW9ucyBwcm9oaWJpdGVkIHRvIGNvcHksIGN1dCwgc2VsZWN0IHRoZSB0ZXh0LCByaWdodC1jbGljayBtZW51LgovLyBAZGVzY3JpcHRpb246emggICAg6YCa5p2A5aSn6YOo5YiG572R56uZ77yM5Y+v5Lul6Kej6Zmk56aB5q2i5aSN5Yi244CB5Ymq5YiH44CB6YCJ5oup5paH5pys44CB5Y+z6ZSu6I+c5Y2V55qE6ZmQ5Yi244CCCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiDpgJrmnYDlpKfpg6jliIbnvZHnq5nvvIzlj6/ku6Xop6PpmaTnpoHmraLlpI3liLbjgIHliarliIfjgIHpgInmi6nmlofmnKzjgIHlj7PplK7oj5zljZXnmoTpmZDliLbjgIIKLy8gQGRlc2NyaXB0aW9uOnpoLVRXIOmAmuauuuWkp+mDqOWIhue2suerme+8jOWPr+S7peino+mZpOemgeatouW+qeWItuOAgeWJquWIh+OAgemBuOaTh+aWh+acrOOAgeWPs+mNteiPnOWWrueahOmZkOWItuOAggovLyBAZGVzY3JpcHRpb246amEgICAg44K144Kk44OI44Gu44G744Go44KT44Gp44KS5q6644GZ44Gf44KB44Gr5rih44GX44CB44GC44Gq44Gf44Gv44CB44Kz44OU44O85YiH44KK5Y+W44KK44CB44OG44Kt44K544OI44CB5Y+z44Kv44Oq44OD44Kv44Oh44OL44Ol44O844KS6YG45oqe44GZ44KL44GT44Go44Gv56aB5q2i44Gu5Yi26ZmQ44KS6Kej6Zmk44GZ44KL44GT44Go44GM44Gn44GN44G+44GZ44CCCgovLyBAaG9tZXBhZ2VVUkwgICAgICAgaHR0cHM6Ly9jYXQ3MzczLmdpdGh1Yi5pby9yZW1vdmUtd2ViLWxpbWl0cy8KLy8gQHN1cHBvcnRVUkwgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9DYXQ3MzczL3JlbW92ZS13ZWItbGltaXRzL2lzc3Vlcy8KCi8vIEBhdXRob3IgICAgICAgICAgICBDYXQ3MwovLyBAdmVyc2lvbiAgICAgICAgICAgMS4zCi8vIEBsaWNlbnNlICAgICAgICAgICBMR1BMdjMKCi8vIEBjb21wYXRpYmxlICAgICAgICBjaHJvbWUgQ2hyb21lXzQ2LjAuMjQ5MC44NiArIFRhbXBlck1vbmtleSArIOiEmuacrF8xLjMg5rWL6K+V6YCa6L+HCi8vIEBjb21wYXRpYmxlICAgICAgICBmaXJlZm94IEZpcmVmb3hfNDIuMCArIEdyZWFzZU1vbmtleSArIOiEmuacrF8xLjIuMSDmtYvor5XpgJrov4cKLy8gQGNvbXBhdGlibGUgICAgICAgIG9wZXJhIE9wZXJhXzMzLjAuMTk5MC4xMTUgKyBUYW1wZXJNb25rZXkgKyDohJrmnKxfMS4xLjMg5rWL6K+V6YCa6L+HCi8vIEBjb21wYXRpYmxlICAgICAgICBzYWZhcmkg5pyq5rWL6K+VCgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovLyovKgovLyBAZ3JhbnQgICAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpIHsKICAndXNlIHN0cmljdCc7CgogIC8vIOWfn+WQjeinhOWImeWIl+ihqAogIHZhciBydWxlcyA9IHsKICAgIGJsYWNrX3J1bGU6IHsKICAgICAgbmFtZTogImJsYWNrIiwKICAgICAgaG9va19ldmVudE5hbWVzOiAiIiwKICAgICAgdW5ob29rX2V2ZW50TmFtZXM6ICIiCiAgICB9LAogICAgZGVmYXVsdF9ydWxlOiB7CiAgICAgIG5hbWU6ICJkZWZhdWx0IiwKICAgICAgaG9va19ldmVudE5hbWVzOiAiY29udGV4dG1lbnV8c2VsZWN0fHNlbGVjdHN0YXJ0fGNvcHl8Y3V0fGRyYWdzdGFydCIsCiAgICAgIHVuaG9va19ldmVudE5hbWVzOiAibW91c2Vkb3dufG1vdXNldXB8a2V5ZG93bnxrZXl1cCIsCiAgICAgIGRvbTA6IHRydWUsCiAgICAgIGhvb2tfYWRkRXZlbnRMaXN0ZW5lcjogdHJ1ZSwKICAgICAgaG9va19wcmV2ZW50RGVmYXVsdDogdHJ1ZSwKICAgICAgaG9va19zZXRfcmV0dXJuVmFsdWU6IHRydWUsCiAgICAgIGFkZF9jc3M6IHRydWUKICAgIH0KICB9OwogIC8vIOWfn+WQjeWIl+ihqAogIHZhciBsaXN0cyA9IHsKICAgIC8vIOm7keWQjeWNlQogICAgYmxhY2tfbGlzdDogWwogICAgICAvLipcLnlvdXR1YmVcLmNvbS4qLywKICAgICAgLy4qXC53aWtpcGVkaWFcLm9yZy4qLywKICAgICAgL21haWxcLnFxXC5jb20uKi8sCiAgICAgIC90cmFuc2xhdGVcLmdvb2dsZVwuLiovCiAgICBdCiAgfTsKCiAgLy8g6KaB5aSE55CG55qEIGV2ZW50IOWIl+ihqAogIHZhciBob29rX2V2ZW50TmFtZXMsIHVuaG9va19ldmVudE5hbWVzLCBldmVudE5hbWVzOwogIC8vIOWCqOWtmOWQjeensAogIHZhciBzdG9yYWdlTmFtZSA9IGdldFJhbmRTdHIoJ3F3ZXJ0eXVpb3Bhc2RmZ2hqa2x6eGN2Ym5tUVdFUlRZVUlPUEFTREZHSEpLTFpYQ1ZCTk0nLCBwYXJzZUludChNYXRoLnJhbmRvbSgpICogMTIgKyA4KSk7CiAgLy8g5YKo5a2Y6KKrIEhvb2sg55qE5Ye95pWwCiAgdmFyIEV2ZW50VGFyZ2V0X2FkZEV2ZW50TGlzdGVuZXIgPSBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjsKICB2YXIgZG9jdW1lbnRfYWRkRXZlbnRMaXN0ZW5lciA9IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI7CiAgdmFyIEV2ZW50X3ByZXZlbnREZWZhdWx0ID0gRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0OwoKICAvLyBIb29rIGFkZEV2ZW50TGlzdGVuZXIgcHJvYwogIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYywgdXNlQ2FwdHVyZSkgewogICAgdmFyIF9hZGRFdmVudExpc3RlbmVyID0gdGhpcyA9PT0gZG9jdW1lbnQgPyBkb2N1bWVudF9hZGRFdmVudExpc3RlbmVyIDogRXZlbnRUYXJnZXRfYWRkRXZlbnRMaXN0ZW5lcjsKICAgIGlmKGhvb2tfZXZlbnROYW1lcy5pbmRleE9mKHR5cGUpID49IDApIHsKICAgICAgX2FkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgW3R5cGUsIHJldHVyblRydWUsIHVzZUNhcHR1cmVdKTsKICAgIH0gZWxzZSBpZih1bmhvb2tfZXZlbnROYW1lcy5pbmRleE9mKHR5cGUpID49IDApIHsKICAgICAgdmFyIGZ1bmNzTmFtZSA9IHN0b3JhZ2VOYW1lICsgdHlwZSArICh1c2VDYXB0dXJlID8gJ3QnIDogJ2YnKTsKCiAgICAgIGlmKHRoaXNbZnVuY3NOYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpc1tmdW5jc05hbWVdID0gW107CiAgICAgICAgX2FkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgW3R5cGUsIHVzZUNhcHR1cmUgPyB1bmhvb2tfdCA6IHVuaG9va19mLCB1c2VDYXB0dXJlXSk7CiAgICAgIH0KCiAgICAgIHRoaXNbZnVuY3NOYW1lXS5wdXNoKGZ1bmMpOwogICAgfSBlbHNlIHsKICAgICAgX2FkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KICB9CgogIC8vIOa4heeQhuW+queOrwogIGZ1bmN0aW9uIGNsZWFyTG9vcCgpIHsKICAgIHZhciBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCk7CgogICAgZm9yKHZhciBpIGluIGVsZW1lbnRzKSB7CiAgICAgIGZvcih2YXIgaiBpbiBldmVudE5hbWVzKSB7CiAgICAgICAgdmFyIG5hbWUgPSAnb24nICsgZXZlbnROYW1lc1tqXTsKICAgICAgICBpZihlbGVtZW50c1tpXVtuYW1lXSAhPT0gbnVsbCAmJiBlbGVtZW50c1tpXVtuYW1lXSAhPT0gb254eHgpIHsKICAgICAgICAgIGlmKHVuaG9va19ldmVudE5hbWVzLmluZGV4T2YoZXZlbnROYW1lc1tqXSkgPj0gMCkgewogICAgICAgICAgICBlbGVtZW50c1tpXVtzdG9yYWdlTmFtZSArIG5hbWVdID0gZWxlbWVudHNbaV1bbmFtZV07CiAgICAgICAgICAgIGVsZW1lbnRzW2ldW25hbWVdID0gb254eHg7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbGVtZW50c1tpXVtuYW1lXSA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICAvLyDov5Tlm550cnVl55qE5Ye95pWwCiAgZnVuY3Rpb24gcmV0dXJuVHJ1ZShlKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gdW5ob29rX3QoZSkgewogICAgcmV0dXJuIHVuaG9vayhlLCB0aGlzLCBzdG9yYWdlTmFtZSArIGUudHlwZSArICd0Jyk7CiAgfQogIGZ1bmN0aW9uIHVuaG9va19mKGUpIHsKICAgIHJldHVybiB1bmhvb2soZSwgdGhpcywgc3RvcmFnZU5hbWUgKyBlLnR5cGUgKyAnZicpOwogIH0KICBmdW5jdGlvbiB1bmhvb2soZSwgc2VsZiwgZnVuY3NOYW1lKSB7CiAgICB2YXIgbGlzdCA9IHNlbGZbZnVuY3NOYW1lXTsKICAgIGZvcih2YXIgaSBpbiBsaXN0KSB7CiAgICAgIGxpc3RbaV0oZSk7CiAgICB9CgogICAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gb254eHgoZSkgewogICAgdmFyIG5hbWUgPSBzdG9yYWdlTmFtZSArICdvbicgKyBlLnR5cGU7CiAgICB0aGlzW25hbWVdKGUpOwoKICAgIGUucmV0dXJuVmFsdWUgPSB0cnVlOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLyDojrflj5bpmo/mnLrlrZfnrKbkuLIKICBmdW5jdGlvbiBnZXRSYW5kU3RyKGNocywgbGVuKSB7CiAgICB2YXIgc3RyID0gJyc7CgogICAgd2hpbGUobGVuLS0pIHsKICAgICAgc3RyICs9IGNoc1twYXJzZUludChNYXRoLnJhbmRvbSgpICogY2hzLmxlbmd0aCldOwogICAgfQoKICAgIHJldHVybiBzdHI7CiAgfQoKICAvLyDojrflj5bmiYDmnInlhYPntKAg5YyF5ousZG9jdW1lbnQKICBmdW5jdGlvbiBnZXRFbGVtZW50cygpIHsKICAgIHZhciBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpOwogICAgZWxlbWVudHMucHVzaChkb2N1bWVudCk7CgogICAgcmV0dXJuIGVsZW1lbnRzOwogIH0KCiAgLy8g5re75YqgY3NzCiAgZnVuY3Rpb24gYWRkU3R5bGUoY3NzKSB7CiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUuaW5uZXJIVE1MID0gY3NzOwogICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgfQoKICAvLyDojrflj5bnm67moIfln5/lkI3lupTor6Xkvb/nlKjnmoTop4TliJkKICBmdW5jdGlvbiBnZXRSdWxlKHVybCkgewogICAgZnVuY3Rpb24gdGVzdFVybChsaXN0LCB1cmwpIHsKICAgICAgZm9yKHZhciBpIGluIGxpc3QpIHsKICAgICAgICBpZihsaXN0W2ldLnRlc3QodXJsKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgaWYodGVzdFVybChsaXN0cy5ibGFja19saXN0LCB1cmwpKSB7CiAgICAgIHJldHVybiBydWxlcy5ibGFja19ydWxlOwogICAgfQoKICAgIHJldHVybiBydWxlcy5kZWZhdWx0X3J1bGU7CiAgfQoKICAvLyDliJ3lp4vljJYKICBmdW5jdGlvbiBpbml0KCkgewogICAgLy8g6I635Y+W5b2T5YmN5Z+f5ZCN55qE6KeE5YiZCiAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7CiAgICB2YXIgcnVsZSA9IGdldFJ1bGUodXJsKTsKCiAgICAvLyDorr7nva4gZXZlbnQg5YiX6KGoCiAgICBob29rX2V2ZW50TmFtZXMgPSBydWxlLmhvb2tfZXZlbnROYW1lcy5zcGxpdCgifCIpOwogICAgLy8gVE9ETyBBbGxvd2VkIHRvIHJldHVybiB2YWx1ZQogICAgdW5ob29rX2V2ZW50TmFtZXMgPSBydWxlLnVuaG9va19ldmVudE5hbWVzLnNwbGl0KCJ8Iik7CiAgICBldmVudE5hbWVzID0gaG9va19ldmVudE5hbWVzLmNvbmNhdCh1bmhvb2tfZXZlbnROYW1lcyk7CgogICAgLy8g6LCD55So5riF55CGIERPTTAgZXZlbnQg5pa55rOV55qE5b6q546vCiAgICBpZihydWxlLmRvbTApIHsKICAgICAgc2V0SW50ZXJ2YWwoY2xlYXJMb29wLCAzMCAqIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGNsZWFyTG9vcCwgMjUwMCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgY2xlYXJMb29wLCB0cnVlKTsKICAgICAgY2xlYXJMb29wKCk7CiAgICB9CgogICAgLy8gaG9vayBhZGRFdmVudExpc3RlbmVyCiAgICBpZihydWxlLmhvb2tfYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyOwogICAgfQoKICAgIC8vIGhvb2sgcHJldmVudERlZmF1bHQKICAgIGlmKHJ1bGUuaG9va19wcmV2ZW50RGVmYXVsdCkgewogICAgICBFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZihldmVudE5hbWVzLmluZGV4T2YodGhpcy50eXBlKSA8IDApIHsKICAgICAgICAgIEV2ZW50X3ByZXZlbnREZWZhdWx0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIC8vIEhvb2sgc2V0IHJldHVyblZhbHVlCiAgICBpZihydWxlLmhvb2tfc2V0X3JldHVyblZhbHVlKSB7CiAgICAgIEV2ZW50LnByb3RvdHlwZS5fX2RlZmluZVNldHRlcl9fKCdyZXR1cm5WYWx1ZScsIGZ1bmN0aW9uKCkgewogICAgICAgIGlmKHRoaXMucmV0dXJuVmFsdWUgIT09IHRydWUgJiYgZXZlbnROYW1lcy5pbmRleE9mKHRoaXMudHlwZSkgPj0gMCkgewogICAgICAgICAgdGhpcy5yZXR1cm5WYWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBjb25zb2xlLmRlYnVnKCd1cmw6ICcgKyB1cmwsICdzdG9yYWdlTmFtZe+8micgKyBzdG9yYWdlTmFtZSwgJ3J1bGU6ICcgKyBydWxlLm5hbWUpOwoKICAgIC8vIOa3u+WKoENTUwogICAgaWYocnVsZS5hZGRfY3NzKSB7CiAgICAgIGFkZFN0eWxlKCdodG1sLCAqIHstd2Via2l0LXVzZXItc2VsZWN0OnRleHQhaW1wb3J0YW50OyAtbW96LXVzZXItc2VsZWN0OnRleHQhaW1wb3J0YW50O30nKTsKICAgIH0KICB9CgogIGluaXQoKTsKfSkoKTs="},{"name":"navigator.plugins spoofing","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://www.panda.tv/roomframe/*","http://www.kafan.cn/home.php?mod=spacecp&ac=avatar"],"orig_includes":["http://play.baidu.com/*","http://fm.baidu.com/*","*://www.baidu.com/","http://5sing.kugou.com/*","http://www.beiwo.ac/*","http://www.dongting.com/*","http://fm.dongting.com/*","http://www.duole.com/*","*://music.douban.com/*","http://papa.me/*","http://www.1ting.com/*","http://www.9ku.com/*","http://www.666ccc.com/*","http://www.yue365.com/*","http://dict.cn/*","*://www.duonao.tv/*","http://www.webtoons.com/*","http://v.rongkuai.com/play.html?course_id=*","http://www.panda.tv/*","http://www.kafan.cn/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970111},"enabled":true,"position":27,"file_url":"https://greasyfork.org/scripts/6668-navigator-plugins-spoofing/code/navigatorplugins%20spoofing.user.js","uuid":"83fd4619-447f-4b35-a45f-e7092375d132","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBuYXZpZ2F0b3IucGx1Z2lucyBzcG9vZmluZwovLyBAbmFtZXNwYWNlICAgIGFhYWEwMDdjbiAKLy8gQGF1dGhvciAgICAgIGFhYWEwMDdjbiAKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9wbGF5LmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vZm0uYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICo6Ly93d3cuYmFpZHUuY29tLwovLyBAaW5jbHVkZSAgICAgaHR0cDovLzVzaW5nLmt1Z291LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3LmJlaXdvLmFjLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cuZG9uZ3RpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9mbS5kb25ndGluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3d3dy5kdW9sZS5jb20vKgovLyBAaW5jbHVkZSAgICAgKjovL211c2ljLmRvdWJhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3BhcGEubWUvKgovLyBAaW5jbHVkZSAgICBodHRwOi8vd3d3LjF0aW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHA6Ly93d3cuOWt1LmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHA6Ly93d3cuNjY2Y2NjLmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHA6Ly93d3cueXVlMzY1LmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHA6Ly9kaWN0LmNuLyoKLy8gQGluY2x1ZGUgICAgKjovL3d3dy5kdW9uYW8udHYvKgovLyBAaW5jbHVkZSAgICBodHRwOi8vd3d3LndlYnRvb25zLmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHA6Ly92LnJvbmdrdWFpLmNvbS9wbGF5Lmh0bWw/Y291cnNlX2lkPSoKLy8gQGluY2x1ZGUgICAgaHR0cDovL3d3dy5wYW5kYS50di8qCi8vIEBleGNsdWRlICAgIGh0dHA6Ly93d3cucGFuZGEudHYvcm9vbWZyYW1lLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cua2FmYW4uY24vKgovLyBAZXhjbHVkZSAgIGh0dHA6Ly93d3cua2FmYW4uY24vaG9tZS5waHA/bW9kPXNwYWNlY3AmYWM9YXZhdGFyCi8vIEBkZXNjcmlwdGlvbiAgICDljrvpmaTnvZHnq5nnmoRmbGFzaOaPkuS7tuajgOa1i++8jOWunueOsGh0bWw15pKt5pS+44CCCi8vIEBob21lcGFnZSAgICBodHRwczovL3d3dy5maXJlZm94Lm5ldC5jbi9yZWFkLTQ5OTc5LTEjcmVhZF8zNDEzMjAKLy8gQHZlcnNpb24gICAgIDMuMQovLyBAZ3JhbnQgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gPT0vVXNlclNjcmlwdD09Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdwbHVnaW5zJywgewogIGdldDogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsgbGVuZ3RoOiAwIH07CiAgfQp9KTs="},{"name":"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*ctfile.com*","*pipipan.com*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970111},"enabled":true,"position":28,"file_url":"https://greasyfork.org/scripts/25270-%E5%9F%8E%E9%80%9A%E7%BD%91%E7%9B%98%E7%9A%AE%E7%9A%AE%E7%9B%98%E6%98%BE%E7%A4%BA%E6%AD%A3%E7%A1%AE%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80/code/%E5%9F%8E%E9%80%9A%E7%BD%91%E7%9B%98%E7%9A%AE%E7%9A%AE%E7%9B%98%E6%98%BE%E7%A4%BA%E6%AD%A3%E7%A1%AE%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80.user.js","uuid":"6d078419-3192-4283-917d-114bdf2188f6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGlkICAgICAgICAgICBjdGZpbGVANDA1NjQ3ODI1QHFxLmNvbQovLyBAbmFtZSAgICAgICAgIOWfjumAmue9keebmOearuearuebmOaYvuekuuato+ehruS4i+i9veWcsOWdgAovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly93ZWliby5jb20vcGVuZGF2ZQovLyBAdmVyc2lvbiAgICAgIDAuNAovLyBAZGVzY3JpcHRpb24gIOWfjumAmue9keebmOearuearuebmOaYvuekuuato+ehruS4i+i9veWcsOWdgCHljrvmjonpga7mjKHnmoRwb3BqdW1w6YCP5piO5bGC77yB6Ieq5Yqo6Lez5Yiw56ys5LqM6aG177yBCi8vIEBhdXRob3IgICAgICAgNDA1NjQ3ODI1QHFxLmNvbQovLyBAaW5jbHVkZSAgICAgICpjdGZpbGUuY29tKgovLyBAaW5jbHVkZSAgICAgICpwaXBpcGFuLmNvbSoKLy8gQHJlcXVpcmUgIGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9jbGlwYm9hcmQuanMvMS41LjEzL2NsaXBib2FyZC5taW4uanMKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQovL+esrOS4gOmhteiHquWKqOeCueWHu+aMiemSrgppZihsb2NhdGlvbi5ocmVmLm1hdGNoKC9jdGZpbGVcLmNvbXxwaXBpcGFuXC5jb20vZykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZyZWVfZG93bl9saW5rJykpewoJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZyZWVfZG93bl9saW5rJykuY2xpY2soKTsKfQovL+aciXBvcOW5v+WRiueahOenu+mZpAp2YXIgcG9wTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZio9InBvcGp1bXAucGhwIl0nKTsKaWYocG9wTm9kZSAhPT0gbnVsbCl7Cglwb3BOb2RlLnJlbW92ZSgpOwp9Ci8v6I635Y+W56ys5LqM6aG16YeM55qE55yf5a6e5LiL6L295Zyw5Z2AIOW7uueri2NvcHnmjInpkq4KdmFyIGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnJlZV9kb3duX2xpbmsnKS5vbmNsaWNrLnRvU3RyaW5nKCkubWF0Y2goLygoaHR0cHxmdHB8aHR0cHMpOlwvXC8pKChbYS16QS1aMC05XC5fLV0rXC5bYS16QS1aXXsyLDZ9KXwoWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfSkpKDpbMC05XXsxLDR9KSooXC9bYS16QS1aMC05XCYlX1wuXC8tfi1dKik/L2dpKVswXTsKc2V0VGltZW91dChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnJlZV9kb3duX2xpbmtbb25jbGlja149ImZyZWVfZG93bl9hY3Rpb24iXScpLm5leHRTaWJsaW5nLmlubmVySFRNTCA9ICc8YnV0dG9uIGNsYXNzPSJteWJ0biIgZGF0YS1jbGlwYm9hcmQtdGV4dD0iJysgZG93biArJyI+Q29weeecn+WunuS4i+i9veWcsOWdgDwvYnV0dG9uPicsMjAwKTsKdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5teWJ0bicpOwoKY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkgewoJY29uc29sZS5sb2coZSk7Cn0pOwoKY2xpcGJvYXJkLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHsKCWNvbnNvbGUubG9nKGUpOwp9KTsK"},{"name":"Zhihu Link Redirect Fix","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*.zhihu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1503129970111},"enabled":true,"position":29,"file_url":"https://greasyfork.org/scripts/20431-zhihu-link-redirect-fix/code/Zhihu%20Link%20Redirect%20Fix.user.js","uuid":"3fb88bc8-a3b3-47b2-a704-f35ecfe4c7d5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgWmhpaHUgTGluayBSZWRpcmVjdCBGaXgKLy8gQG5hbWU6emgtQ04gICAgICAgICAg55+l5LmO55yf5a6e6ZO+5o6l5Zyw5Z2A6YeN5a6a5ZCRCi8vIEBuYW1lOnpoLVRXICAgICAgICAgIOefpeS5juecn+WvpumPiOaOpeWcsOWdgOmHjeWumuWQkQovLyBAZGVzY3JpcHRpb24gICAgICAgICBBdm9pZCBsaW5rIHJlZGlyZWN0IGZvciB6aGlodS5jb20KLy8gQGRlc2NyaXB0aW9uOnpoLUNOICAg6K6p55+l5LmO572R6aG15Lit55qE56uZ5aSW6ZO+5o6l55u05o6l6Lez6L2s6Iez55uu5qCH572R5Z2A77yM6ICM5LiN57uP6L+H5LiA5Liq5LqM5qyh6Lez6L2s6aG16Z2i44CC6YeN5a6a5ZCR5aSE55CG5bCG5Lya5Zyo54K55Ye76ZO+5o6l556s6Ze06Ieq5Yqo6Kem5Y+RCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAgIOiuk+efpeS5jue2sumggeS4reeahOermeWklumPiOaOpeebtOaOpei3s+i9ieiHs+ebruaomee2suWdgO+8jOiAjOS4jee2k+mBjuWjueWAi+S6jOasoei3s+i9iemggemdouOAgumHjeWumuWQkeiZleeQhuWwh+acg+WcqOm7nuaTiumPiOaOpeeerOmWk+iHquWLleinuOeZvAoKLy8gQGF1dGhvciAgICAgICAgICAgICAgTW9zaGVsCi8vIEBuYW1lc3BhY2UgICAgICAgICAgIGh0dHBzOi8vaHp5LnB3Ci8vIEBob21lcGFnZVVSTCAgICAgICAgIGh0dHBzOi8vaHp5LnB3L3AvMjA1NgovLyBAc3VwcG9ydFVSTCAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vaDJ5L2xpbmstZml4Ci8vIEBsaWNlbnNlICAgICAgICAgICAgIEdQTC0zLjAKLy8gQGljb24gICAgICAgICAgICAgICAgaHR0cHM6Ly9waWMxLnpoaW1nLmNvbS8yZTMzZjA2M2YxYmQ5MjIxZGY5NjcyMTkxNjdiNWRlMF9tLmpwZwoKLy8gQGdyYW50ICAgICAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAaW5jbHVkZSAgICAgICAgICAgICAqLnpoaWh1LmNvbS8qCgovLyBAZGF0ZSAgICAgICAgICAgICAgICAwNi8xMC8yMDE2Ci8vIEBtb2RpZmllZCAgICAgICAgICAgIDAyLzE1LzIwMTcKLy8gQHZlcnNpb24gICAgICAgICAgICAgMS4zLjEuNgovLyA9PS9Vc2VyU2NyaXB0PT0KCgppZihsb2NhdGlvbi5ob3N0PT09J2xpbmsuemhpaHUuY29tJykgewogICAgbGV0IHJlZ1JldCA9IGxvY2F0aW9uLnNlYXJjaC5tYXRjaCgvdGFyZ2V0PSguKz8pKCZ8JCkvKTsKICAgIGlmKHJlZ1JldCAmJiByZWdSZXQubGVuZ3RoPT0zKQogICAgICAgIGxvY2F0aW9uLmhyZWYgPSBkZWNvZGVVUklDb21wb25lbnQocmVnUmV0WzFdKTsKfQplbHNlCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXsKICAgICAgICBsZXQgZG9tID0gZS50YXJnZXQsCiAgICAgICAgICAgIG1heF90aW1lcyA9IDM7CiAgICAgICAgd2hpbGUoZG9tICYmIG1heF90aW1lcy0tKSB7CiAgICAgICAgICAgIGlmKGRvbS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT09J0EnKSB7CiAgICAgICAgICAgICAgICBsZXQgcmVnUmV0ID0gZG9tLnNlYXJjaC5tYXRjaCgvdGFyZ2V0PSguKz8pKCZ8JCkvKTsKICAgICAgICAgICAgICAgIGlmKHJlZ1JldCAmJiByZWdSZXQubGVuZ3RoPT0zKQogICAgICAgICAgICAgICAgICAgIGRvbS5ocmVmID0gZGVjb2RlVVJJQ29tcG9uZW50KHJlZ1JldFsxXSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZG9tID0gZG9tLnBhcmVudE5vZGU7CiAgICAgICAgfQogICAgfSk7Cg=="}]}